(window.webpackJsonp=window.webpackJsonp||[]).push([[4,11,17,290,291,292],{5216:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=w(r(10)),i=w(r(16)),l=w(r(5846)),u=w(r(5844)),s=w(r(6324)),d=w(r(5889)),c=w(r(7201)),f=w(r(7204)),p=w(r(7205)),y=w(r(7211)),v=w(r(7212)),h=w(r(6679)),_=w(r(7213)),m=w(r(7214)),g=w(r(7215)),O=w(r(7216)),E=w(r(7217)),A=w(r(7218)),I=w(r(7276)),S=w(r(7277)),T=w(r(7278)),b=w(r(7279)),P=w(r(7280)),N=w(r(7281)),M=w(r(7282)),C=w(r(7284)),R=w(r(7285)),L=r(0);function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var U=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var w=n.prototype;return w.renderAdminGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.channelId;return null!=r&&null!=n?D(p.default,{user:t,guildId:r,channelId:n}):null},w.renderRolesGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?D(b.default,{userId:t.id,guildId:r,invertChildY:n}):null},w.renderCloseChatItem=function(){var e=this.props,t=e.channelId,r=e.selected;return null!=t?D(_.default,{selected:r,channelId:t}):null},w.renderChangeNicknameItem=function(){var e=this.props,t=e.user,r=e.guildId;return null!=r?D(h.default,{userId:t.id,guildId:r}):null},w.renderMoveToItem=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?D(c.default,{user:t,guildId:r,invertChildY:n}):null},w.renderMenu=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.user,r=e.type,n=e.guildId,a=e.channelId,l=e.target,c=e.mediaEngineContext;switch(r){case L.ContextMenuTypes.USER_CHANNEL_MEMBERS:case L.ContextMenuTypes.USER_CHANNEL_VOICE:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(O.default,{user:t,guildId:n}),D(E.default,{userId:t.id}),D(v.default,{userId:t.id}),D(A.default,{user:t,guildId:n,channelId:a,target:l,position:r===L.ContextMenuTypes.USER_CHANNEL_MEMBERS?A.default.LEFT:A.default.RIGHT}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=n?D(h.default,{userId:t.id,guildId:n}):null,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_MESSAGE:case L.ContextMenuTypes.USER_CHANNEL_MENTION:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(O.default,{user:t,guildId:n}),D(E.default,{userId:t.id}),D(v.default,{userId:t.id}),D(A.default,{user:t,guildId:n,channelId:a,target:l})),D(u.default,{},void 0,this.renderChangeNicknameItem(),D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_PRIVATE_CHANNELS:var p=i.default.getChannel(a);return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(v.default,{userId:t.id}),D(A.default,{user:t,guildId:n,channelId:a,target:l}),this.renderCloseChatItem(),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t}),null!=p?D(s.default,{channel:p}):null),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GROUP_DM:case L.ContextMenuTypes.USER_CALL_AVATAR:var _,b;null!=a&&(_=D(T.default,{userId:t.id,channelId:a}),b=D(u.default,{},void 0,D(S.default,{userId:t.id,channelId:a})));var w=i.default.getChannel(a);return w&&w.isManaged()&&(_=null,b=null),D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(O.default,{user:t}),D(E.default,{userId:t.id}),_,D(A.default,{user:t,channelId:a,target:l}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),b,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=a?D(C.default,{userId:t.id,channelId:a,guildId:n}):null,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_FRIEND_LIST:case L.ContextMenuTypes.USER_PROFILE_MUTUAL:case L.ContextMenuTypes.USER_GENERIC_LIST:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(E.default,{userId:t.id}),D(v.default,{userId:t.id}),D(A.default,{user:t,guildId:n,channelId:a,target:l}),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_TITLE:case L.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(v.default,{userId:t.id}),D(A.default,{user:t,guildId:n,channelId:a,target:l}),D(P.default,{userId:t.id}),this.renderCloseChatItem()),D(u.default,{},void 0,D(m.default,{user:t,guildId:n}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GUILD_MEMBERS:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),this.renderChangeNicknameItem()),this.renderAdminGroup(),this.renderRolesGroup(),null!=n?D(u.default,{},void 0,D(M.default,{user:t,guildId:n})):null,D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_AUDIT_LOG:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(E.default,{userId:t.id})),this.renderRolesGroup(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_BANS:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:n}),D(E.default,{userId:t.id})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_ACTIVITY_FEED:return D(o.Fragment,{},void 0,D(u.default,{},void 0,D(N.default,{user:t})));default:console.warn("Error - no such ctx menu type")}return null},w.render=function(){var e=this.props,t=e.analyticsContext,r=e.className,n=e.style;if(a.default.isGuest())return null;var o=this.renderMenu();return null!=o?D(l.default,{context:t,object:L.AnalyticsObjects.CONTEXT_MENU},void 0,D("div",{className:r,style:n},void 0,o)):null},n}(o.PureComponent);U.displayName="UserContextMenu",U.defaultProps={selected:!1};var G=U;t.default=G},5217:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=$(r(1)),a=z(r(15)),i=z(r(19)),l=z(r(3)),u=z(r(126)),s=z(r(837)),d=z(r(6064)),c=z(r(834)),f=z(r(240)),p=z(r(10)),y=z(r(32)),v=z(r(75)),h=z(r(23)),_=z(r(248)),m=z(r(90)),g=z(r(74)),O=z(r(39)),E=z(r(14)),A=z(r(447)),I=z(r(166)),S=z(r(96)),T=z(r(5978)),b=$(r(5841)),P=z(r(813)),N=z(r(415)),M=r(241),C=z(r(18)),R=$(r(89)),L=z(r(17)),w=z(r(250)),D=r(319),U=r(308),G=r(170),j=z(r(6680)),k=z(r(5846)),F=z(r(5920)),x=z(r(6682)),B=z(r(7240)),Y=z(r(6329)),V=r(0),H=z(r(8)),W=z(r(779)),K=z(r(5603));function z(e){return e&&e.__esModule?e:{default:e}}function $(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function J(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Z=L.default.getEnableHardwareAcceleration()?b.AnimatedAvatar:b.default,Q=[r(7269),r(7270),r(7271),r(7272),r(7273),r(7274),r(7275)],ee=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={show:!1},t}q(t,e);var r=t.prototype;return r.componentDidMount=function(){this.setState({show:!0})},r.getWumpusImage=function(){var e=this.props.userId;if("string"!=typeof e)return Q[0];var t=parseInt(e.slice(-6),10);return Q[t%Q.length]},r.render=function(){var e;return J("div",{className:K.default.wumpusWrapper},void 0,J("div",{className:(0,a.default)(K.default.wumpus,(e={},e[K.default.wumpusShown]=this.state.show,e))},void 0,J("img",{alt:H.default.Messages.IMG_ALT_ICON.format({name:H.default.Messages.WUMPUS}),src:this.getWumpusImage()}),J("span",{className:K.default.wumpusTooltip},void 0,H.default.Messages.USER_POPOUT_WUMPUS_TOOLTIP)))},t}(o.PureComponent);ee.displayName="BouncyWumpus";var te=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props.onClose;e&&e()},t.handleOpenProfile=function(){s.default.open(t.props.user.id,t.props.guildId||void 0),t.close()},t}q(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.fetchApplication().then(function(){return e.trackOpenPopout()})},r.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},r.fetchApplication=function(){var e=this.props.activity;return null!=e&&null!=e.application_id&&null==y.default.getGame(e.application_id)?u.default.fetchApplication(e.application_id):Promise.resolve()},r.trackOpenPopout=function(){var e,t,r,n=this.props,o=n.activity,a=n.user,i=n.status,l=n.isMobile,u=n.isApplicationStreaming,s=n.analyticsParams,d=n.customStatusActivity;null!=o&&(e=o.party,t=o.assets,r=null!=o.application_id?y.default.getGame(o.application_id):null);var c=i;i===V.StatusTypes.ONLINE&&(c=l?V.AnalyticsUserStatusTypes.ONLINE_MOBILE:V.AnalyticsUserStatusTypes.ONLINE_DESKTOP),C.default.track(V.AnalyticEvents.OPEN_POPOUT,X({type:"Profile Popout",other_user_id:a.id,application_id:null!=o?o.application_id:void 0,application_name:null!=o?o.name:void 0,sku_id:null!=r?r.primarySkuId:null,is_friend:g.default.isFriend(a.id),has_images:!(null==t||!t.large_image&&!t.small_image),party_max:null!=e&&null!=e.size?e.size[1]:void 0,party_id:null!=e?e.id:void 0,party_platform:null!=e&&(0,D.isSpotifyParty)(e.id)?V.PlatformTypes.SPOTIFY:null,game_platform:(0,M.getGamePlatform)(o),profile_user_status:c,is_streaming:u,has_custom_status:null!=d},s))},r.getMode=function(){var e=this.props,t=e.activity,r=e.customStatusActivity,n=e.isApplicationStreaming;return null==t&&null==(0,c.default)(r)?"Normal":n?"Playing":(0,M.isStreaming)(t)?"Streaming":(0,M.isOnXbox)(t)?"Xbox":(0,M.isListeningOnSpotify)(t)?"Spotify":"Playing"},r.getStatusMode=function(){var e=this.props,t=e.activity,r=e.status;return(0,M.isStreaming)(t)?"Streaming":(0,U.upperCaseFirstChar)(r)},r.getNonUserBotMode=function(){var e=this.props.disableUserProfileLink;return this.props.user.isNonUserBot()||e?"NonUserBot":"Normal"},r.renderHeaderName=function(){var e=this.props.nickname;return null!=e?J("div",{className:K.default.headerNameWrapper},void 0,J("span",{className:K.default.headerName},void 0,e)):null},r.renderAvatarOverlay=function(){var e=this.props,t=e.isMobile,r=e.status,n=P.default.Masks.AVATAR_DEFAULT;return null!=r&&(n=t?P.default.Masks.AVATAR_STATUS_MOBILE_80:P.default.Masks.AVATAR_STATUS_ROUND_80),J(P.default,{mask:n,className:K.default.avatarHint,width:80,height:80},void 0,J("div",{className:K.default.avatarHintInner},void 0,H.default.Messages.VIEW_PROFILE))},r.renderHeader=function(){var e,t=this.props,r=t.activity,n=t.user,o=t.nickname,i=t.status,l=t.theme,u=t.disableUserProfileLink,s=t.isGuest,d=t.isMobile,f=t.customStatusActivity,p=R.hasAnimatedAvatar(n)?n.getAvatarURL("gif"):n.getAvatarURL(),y=n.isNonUserBot(),v=this.getMode(),h=this.getNonUserBotMode(),_=J(Z,{src:p,size:b.Sizes.SIZE_80,"aria-label":n.username,status:"Streaming"===v?V.StatusTypes.STREAMING:i,statusColor:null!=r?V.Colors.WHITE:null,isMobile:d,statusTooltip:!0,disableStatusIcons:!1});return J("div",{className:(0,G.getClass)(K.default,"header",v)},void 0,J(S.default,{align:S.default.Align.CENTER,justify:S.default.Justify.CENTER,direction:S.default.Direction.VERTICAL,className:K.default.headerTop},void 0,s?_:J(I.default,{className:(0,G.getClass)(K.default,"avatarWrapper",h),onClick:y||u?null:this.handleOpenProfile},void 0,_,this.renderAvatarOverlay()),J("div",{className:K.default.headerText},void 0,this.renderHeaderName(),J(S.default,{align:S.default.Align.CENTER},void 0,J(F.default,{user:n,invertBotTagColor:l!==V.ThemeTypes.LIGHT||"Normal"!==v,hideDiscriminator:y,className:(0,a.default)((e={},e[K.default.headerTagNoNickname]=null==o,e[K.default.headerTagWithNickname]=null!=o,e)),usernameClass:null==o?K.default.headerTagUsernameNoNickname:null,botClass:null==o?K.default.headerBotTag:K.default.headerBotTagWithNickname}))),null!=r||null==(0,c.default)(f)?this.renderCustomStatus():null),this.renderActivity())},r.renderCustomStatus=function(){var e=this.props.customStatusActivity;return null==e||null==e.state?null:J(N.default,{className:K.default.customStatus,size:N.default.Sizes.SIZE_14},void 0,e.state)},r.renderActivity=function(){var e=this.props,t=e.activity,r=e.customStatusActivity,n=e.user,o=e.guildId,a=e.channelId,i=null!=t?t:r;return J(Y.default,{type:Y.default.Types.USER_POPOUT,activity:i,className:K.default.activity,user:n,guildId:o,channelId:a,source:V.AnalyticsLocations.PROFILE_POPOUT,onOpenGameProfile:this.close,onOpenConnections:this.close},"activity")},r.renderRoles=function(){var e=this.props,t=e.guild,r=e.user,n=e.guildMember;return null==t||null==n?null:[J("div",{className:K.default.bodyTitle},"title",H.default.Messages.ROLES_LIST.format({numRoles:n.roles.length})),J(j.default,{className:(0,a.default)(K.default.rolesList,K.default.endBodySection),guild:t,user:r,userRoles:n.roles},"roles")]},r.renderNote=function(){var e=this.props,t=e.user,r=e.setNote;return[J("div",{className:K.default.bodyTitle},"title",H.default.Messages.NOTE),J(x.default,{className:K.default.note,userId:t.id,autoFocus:r},"note")]},r.renderBody=function(){return this.props.user.isNonUserBot()?null:J("div",{className:K.default.body},void 0,this.renderRoles(),this.renderNote())},r.renderProtip=function(e){var t;return J(T.default,{type:T.default.Types.INLINE,className:(0,a.default)(K.default.protip,(t={},t[W.default.marginTop8]=e,t))},void 0,H.default.Messages.CONTEXT_MENU_HINT)},r.renderFooter=function(){var e=this.props,t=e.user,r=e.setNote,n=e.isMe,o=e.isLurking;if(t.isNonUserBot())return null;var a=!n&&!o&&(g.default.isFriend(t.id)||null!=v.default.memberOf(t.id).find(function(e){return!O.default.isGuildRestricted(e)})),i=a&&Date.now()-t.createdAt<6048e5;return __OVERLAY__&&!a?null:J("div",{className:K.default.footer},void 0,i?J(ee,{userId:t.id}):null,a?J(B.default,{className:K.default.quickMessage,user:t,autoFocus:!r,onClose:this.close}):null,i||__OVERLAY__?null:this.renderProtip(a))},r.render=function(){return J(k.default,{section:V.AnalyticsSections.PROFILE_POPOUT},void 0,J("div",{className:K.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(o.PureComponent);te.displayName="UserPopout",te.defaultProps={disableUserProfileLink:__OVERLAY__,analyticsParams:{}};var re=l.default.connectStores([h.default,v.default,m.default,O.default,E.default,_.default,p.default,f.default,A.default],function(e){var t=e.userId,r=e.guildId,n=e.channelId,o=E.default.getUser(t);(0,i.default)(null!=o,"Unexpected missing user");var a=null!=r&&A.default.guildHasCustomStatuses(r);return{user:o,guild:null!=r?h.default.getGuild(r):null,nickname:w.default.getNickname(r,n,o),guildMember:null!=r?v.default.getMember(r,o.id):null,activity:m.default.findActivity(o.id,function(e){return e.type!==V.ActivityTypes.CUSTOM_STATUS}),customStatusActivity:a?m.default.findActivity(o.id,function(e){return e.type===V.ActivityTypes.CUSTOM_STATUS}):null,status:o.isNonUserBot()?null:m.default.getStatus(o.id),isMe:E.default.getCurrentUser()===o,theme:O.default.theme,isMobile:m.default.isMobileOnline(o.id),isLurking:null!=r&&_.default.isLurking(r),isGuest:p.default.isGuest(),isApplicationStreaming:null!=f.default.getStreamForUser(o.id),shouldRenderCustomStatus:a}})((0,d.default)(function(e){var t,r=e.guildId,n=e.user;return(t={})[r]=[n.id],t})(te));t.default=re},5226:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),o=r(57),a=l(r(2)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={},d={},c=12e4;function f(e,t,r){var n=r.applicationId,l=s[n]||{};if(l[t]=e,s[n]=l,!__OVERLAY__&&e===i.ActivityActionStates.FAILED){null!=d[n]&&d[n].stop();var u=new o.Timeout;u.start(c,function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:n,activityType:t})}),d[n]=u}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getState=function(e,t){var r=s[e];return r&&r[t]},o.getStates=function(){return s},n}(n.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){var t=e.activityLauncherStates;s=u({},t)},ACTIVITY_JOIN_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,e)},ACTIVITY_SPECTATE_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_LAUNCH_FAIL:function(e){var t=e.applicationId,r=e.activityType,n=s[t];if(null==n||n[r]!==i.ActivityActionStates.FAILED)return!1;delete n[r]}});t.default=p},5227:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(5)),o=d(r(3)),a=d(r(2)),i=d(r(10)),l=d(r(74)),u=d(r(174)),s=r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={},p={};function y(e,t){return(f[e]||{})[t]||null}function v(e,t){var r=y(e,t);if(null!=r){var n=f[e];delete n[t],0===Object.keys(n)&&delete f[e];var o=p[r];null!=o&&(o.delete(e),0===o.size&&delete p[r])}}function h(e,t,r,n){var o=r.find(function(e){return null!=e.party&&e.party.id}),a=null!=o&&null!=o.party?o.party.id:null,i=y(t,e);if(null==a||n===s.StatusTypes.OFFLINE)return null!=i&&void v(t,e);if(null!=i){if(i===a)return!1;v(t,e)}!function(e,t,r){var n=f[e];if(null==n&&(n=f[e]={}),n[t]=r,!l.default.isBlocked(e)){var o=p[r]||new Set;p[r]=o,o.add(e)}}(t,e,a)}function _(e){var t=e.guild,r=!1,n=t.presences,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var i;if(o){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}var l=i,u=l.user,s=l.status,d=l.activities;!1!==h(t.id,u.id,d,s)&&(r=!0)}return r}function m(){var e=i.default.getId(),t=u.default.getActivities();return h(s.ME,e,t)}var g=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.initialize=function(){this.syncWith([u.default],m),this.waitFor(u.default,l.default)},o.getParty=function(e){return null!=e&&null!=p[e]?p[e]:null},o.getUserParties=function(){return f},o.getParties=function(){return p},n}(o.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.presences,r=e.guilds,n=!1,o=t,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l,d=u.user,c=u.status,f=u.activities;null!=d&&!1!==h(s.ME,d.id,f,c)&&(n=!0)}var p=r,y=Array.isArray(p),v=0;for(p=y?p:p[Symbol.iterator]();;){var m;if(y){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}!1!==_({guild:m})&&(n=!0)}return n},OVERLAY_INITIALIZE:function(e){var t=e.parties,r=e.userParties;p={},f=c({},r),Object.keys(t).forEach(function(e){return p[e]=new Set(t[e])})},GUILD_CREATE:_,PRESENCES_REPLACE:function(e){var t=!1,r=e.presences,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var i=a,l=i.user,u=i.activities;null!=l&&!1!==h(s.ME,l.id,u)&&(t=!0)}return t},PRESENCE_UPDATE:function(e){var t=e.guildId,r=e.user,n=e.status,o=e.activities;return h(t||s.ME,r.id,o,n)},RELATIONSHIP_ADD:function(e){var t=e.relationship;if(!l.default.isBlocked(t.id))return!1;var r=f[t.id];if(null==r)return!1;var o=n.default.values(r),a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var u;if(a){if(i>=o.length)break;u=o[i++]}else{if((i=o.next()).done)break;u=i.value}var s=p[u];null!=s&&s.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){var t=e.relationship,r=f[t.id];if(null==r)return!1;var o=n.default.values(r),a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=p[l];null!=u&&u.add(t.id)}}});t.default=g},5238:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(3)),o=a(r(2));r(0);function a(e){return e&&e.__esModule?e:{default:e}}var i={};function l(e){i=e.notes||{}}var u=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getNotes=function(){return i},o.getNote=function(e){return i[e]||""},n}(n.default.Store))(o.default,{CONNECTION_OPEN:l,OVERLAY_INITIALIZE:l,USER_NOTE_UPDATE:function(e){i[e.id]=e.note}});t.default=u},5840:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=l(r(15)),a=l(r(166)),i=l(r(810));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t,r=e.styles,n=e.label,l=e.hint,s=e.action,d=e.danger,c=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,y=e.brand,v=void 0!==y&&y,h=e.children,_=void 0===h?null:h;return u(a.default,{className:(0,o.default)(i.default.item,(t={},t[i.default.danger]=c,t[i.default.disabled]=p,t[i.default.brand]=v,t)),style:r,onClick:p?null:s},void 0,u("span",{},void 0,n),u("div",{className:i.default.hint},void 0,l),_)};s.displayName="MenuItem";var d=s;t.default=d},5842:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=o.forwardRef(function(t,r){return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(a.AnalyticsContext.Consumer,{},void 0,function(n){return o.createElement(e,i({},t,{ref:r,analyticsContext:n}))})});return t.displayName="withAnalyticsContext("+(e.displayName||e.name||"")+")",t};var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(18);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},5844:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=(n=r(810))&&n.__esModule?n:{default:n};var l=function(e){var t=e.children;return a.Children.toArray(t).length?function(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:i.default.itemGroup},void 0,t):null};l.displayName="MenuGroup";var u=l;t.default=u},5846:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=(n=r(125))&&n.__esModule?n:{default:n},l=r(18),u=r(431),s=r(0);function d(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._loadId=t.props.root?i.default.v4():null,t._loadDate=t.props.root?Date.now():null,t.getLocation=(0,u.cachedFunction)(function(e,t,r,n){var o={};return null!=e&&(o.page=e),null!=t&&(o.section=t),null!=r&&(o.object=r),null!=n&&(o.objectType=n),o}),t.mergeLocation=(0,u.cachedFunction)(function(e,t){return c({},e,t)}),t.getContext=(0,u.cachedFunction)(function(e,t,r){return{location:e,loadDate:t,loadId:r}}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderProvider=function(e){var t=this.props,r=t.section,n=t.page,o=t.object,a=t.objectType,i=t.children,u=this.mergeLocation(e.location,this.getLocation(n,r,o,a)),s=this.getContext(u,this._loadDate||e.loadDate,this._loadId||e.loadId);return d(l.AnalyticsContext.Provider,{value:s},void 0,i)},o.render=function(){var e=this,t=this.props.context;return null!=t?this.renderProvider(t):d(l.AnalyticsContext.Consumer,{},void 0,function(t){return e.renderProvider(t)})},n}(a.Component);t.default=f,f.displayName="AnalyticsContext",f.Pages=s.AnalyticsPages,f.Sections=s.AnalyticsSections,f.Objects=s.AnalyticsObjects,f.ObjectTypes=s.AnalyticsObjectTypes,f.defaultProps={root:!1}},5847:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=y(r(1)),a=p(r(15)),i=p(r(96)),l=p(r(6009)),u=r(782),s=r(5961),d=p(r(791)),c=y(r(416)),f=p(r(5605));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t,r,n=this.props,o=n.value,p=n.onChange,y=n.disabled,h=n.fill,_=n.hideBorder,m=n.children,g=n.className,O=n.tooltipNote,E=n.note,A=n.style,I=n.theme,S=n.size;S===l.default.Sizes.MINI?(t=f.default.titleMini,r=f.default.dividerMini):(t=f.default.titleDefault,r=f.default.dividerDefault);var T=function(e){return v(l.default,{id:e,value:o,fill:h,onChange:p,disabled:y,theme:I,size:S})};return v(i.default,{style:A,className:(0,a.default)(g,(e={},e[f.default.disabled]=y,e)),direction:i.default.Direction.VERTICAL},void 0,v(s.UID,{},void 0,function(e){return v(i.default,{align:i.default.Align.START},void 0,v(i.default.Child,{wrap:!0},void 0,v("label",{htmlFor:e,className:t},void 0,m)),v(i.default.Child,{grow:0,shrink:0},void 0,null!=O?v(u.TooltipContainer,{text:O},void 0,T(e)):T(e)))}),E&&v(i.default.Child,{className:f.default.note},void 0,v(c.default,{disabled:y,type:c.Types.DESCRIPTION},void 0,E)),!_&&v(d.default,{className:r}))},n}(o.PureComponent);h.displayName="SwitchItem",h.Sizes=l.default.Sizes,h.Themes=l.default.Themes,h.defaultProps={disabled:!1,size:l.default.Sizes.DEFAULT,theme:l.default.Themes.DEFAULT,hideBorder:!1,className:f.default.switchItem};var _=h;t.default=_},5849:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(9)),o=s(r(2)),a=s(r(472)),i=r(787),l=r(0),u=s(r(8));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={init:function(e,t){void 0===t&&(t=null),o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){(0,i.pushLayer)(l.Layers.GUILD_SETTINGS),f.init(e,t)},close:function(){o.default.wait(function(){return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_CLOSE})})},setSection:function(e){o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:r}}).then(function(t){o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,r=e.level,i=e.isEnabled;(0,a.default)({title:u.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:i?u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return n.default.post({url:l.Endpoints.GUILD_MFA(t),body:c({level:r},e)})}).then(function(e){return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){n.default.patch({url:l.Endpoints.GUILD(e),body:{icon:t}}).then(function(){o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){o.default.dirtyDispatch({type:l.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){o.default.dispatch(c({type:l.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var r=t.name,a=t.description,i=t.icon,u=t.splash,s=t.banner,d=t.region,c=t.afkChannelId,f=t.afkTimeout,p=t.systemChannelId,y=t.verificationLevel,v=t.defaultMessageNotifications,h=t.explicitContentFilter,_=t.features,m=t.systemChannelFlags,g=t.preferredLocale;return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT}),n.default.patch({url:l.Endpoints.GUILD(e),body:{name:r,description:a,icon:i,splash:u,banner:s,region:d,features:_,preferred_locale:g,afk_channel_id:c,afk_timeout:f,system_channel_id:p,verification_level:y,default_message_notifications:v,explicit_content_filter:h,system_channel_flags:m}}).then(function(){return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return o.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return n.default.patch({url:l.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,a.default)({title:u.default.Messages.TRANSFER_OWNERSHIP,actionText:u.default.Messages.TRANSFER_OWNERSHIP},function(r){return n.default.patch({url:l.Endpoints.GUILD(e),body:c({owner_id:t},r)})})},deleteGuild:function(e,t){(0,a.default)({title:u.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:u.default.Messages.DELETE_SERVER},function(t){return n.default.post({url:l.Endpoints.GUILD_DELETE(e),body:t})}).then(function(){return f.close()})},leaveGuild:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.delete(l.Endpoints.GUILD_LEAVE(t));case 2:f.close();case 3:case"end":return e.stop()}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){d(a,n,o,i,l,"next",e)}function l(e){d(a,n,o,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),updateMemberRoles:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_MEMBER(e,t),body:{roles:r}})},enableIntegration:function(e,t,r){n.default.post({url:l.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:r}})},disableIntegration:function(e,t){n.default.delete(l.Endpoints.GUILD_INTEGRATION(e,t))},updateIntegration:function(e,t,r,o,a){var i={expire_behavior:r,expire_grace_period:o,enable_emoticons:a};n.default.patch({url:l.Endpoints.GUILD_INTEGRATION(e,t),body:i})},syncIntegration:function(e,t){n.default.post(l.Endpoints.GUILD_INTEGRATION_SYNC(e,t))}},p=f;t.default=p},5857:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=s(r(15)),a=s(r(166)),i=s(r(306)),l=s(r(865)),u=s(r(810));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r,n=e.styles,s=e.label,c=e.action,f=e.active,p=void 0!==f&&f,y=e.disabled,v=void 0!==y&&y,h=e.danger,_=void 0!==h&&h,m=e.loading,g=void 0!==m&&m,O=e.className;return v||(r=function(e){return c(e,s,p)}),d(a.default,{className:(0,o.default)(u.default.item,u.default.itemToggle,O,(t={},t[u.default.danger]=_,t)),style:n,onClick:r},void 0,d("div",{className:u.default.label},void 0,g?d(i.default,{type:i.default.Type.PULSING_ELLIPSIS}):s),d(l.default,{checked:p,disabled:v,containerClassName:u.default.checkbox,onChange:function(){}}))};c.displayName="ToggleMenuItem";var f=c;t.default=f},5869:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function l(){for(var r,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(r=t.call.apply(t,[this].concat(a))||this).setRef=function(e){r._ref=e},r.triggerResize=function(){null!=r._ref&&r._ref.onResize()},r.renderComponent=function(t){var n=t.width,a=t.height,l=r.props,u=l.setRef,s=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(l,["setRef"]);return o.createElement(e,i({},s,{ref:u,width:n,height:a,triggerResize:r.triggerResize}))},r}n=t,(r=l).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var u=l.prototype;return u.render=function(){return o.createElement(a.default,{ref:this.setRef},this.renderComponent)},l}(o.Component)};var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=(n=r(7226))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},5889:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=r(304),i=c(r(39)),l=r(792),u=c(r(5844)),s=c(r(5840)),d=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var p=function(e){var t=e.shiftId,r=e.id,n=(0,o.useStateFromStores)([i.default],function(){return i.default.developerMode},[]);return!__OVERLAY__&&n&&l.SUPPORTS_COPY?f(u.default,{},void 0,f(s.default,{label:d.default.Messages.COPY_ID,action:function(e){(0,a.closeContextMenu)();var n=t&&e.shiftKey?t:r;(0,l.copy)(n)}})):null};p.displayName="DeveloperModeGroup";var y=p;t.default=y},5890:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.Shine=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=c(r(15)),l=c(r(305)),u=c(r(82)),s=c(r(96)),d=c(r(5354));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=Object.freeze({DEFAULT:"default",SMALL:"small"}),_=((n={})[h.DEFAULT]=d.default.shineContainerDefault,n[h.SMALL]=d.default.shineContainerSmall,n),m=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.shineSize,n=y(e,["className","shineSize"]);return a.createElement(l.default.div,f({},n,{className:(0,i.default)(_[r],t)}),p(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:d.default.shine},void 0,p("div",{className:d.default.shineInner})))},t}(a.PureComponent);t.Shine=m,m.displayName="Shine",m.defaultProps={shineSize:h.DEFAULT};var g=function(e){function t(){return e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.children,r=e.className,n=e.disabled,o=e.submitting,l=e.pauseAnimation,s=e.shineSize,c=y(e,["children","className","disabled","submitting","pauseAnimation","shineSize"]);return a.createElement(u.default,f({},c,{className:(0,i.default)(d.default.shinyButton,r),disabled:n,submitting:o}),t,n||o||!0===l?null:p(m,{className:d.default.buttonShine,shineSize:s}))},t}(a.PureComponent);g.displayName="ShinyButton",g.ShineSizes=h,g.defaultProps={shineSize:h.DEFAULT};var O=g;t.default=O},5891:function(e,t,r){"use strict";t.__esModule=!0,t.getSKUIdFromURL=function(e){var t=(0,o.matchPath)(e,{path:l.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null},t.getGenreURLSlugFromId=function(e){return c[e]},t.getGenreIdFromURLSlug=function(e){return d[e]},t.getGenreText=function(e){switch(e){case l.SKUGenres.ACTION:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION;case l.SKUGenres.ACTION_RPG:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.SKUGenres.BRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.SKUGenres.HACK_AND_SLASH:return u.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.SKUGenres.PLATFORMER:return u.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.SKUGenres.STEALTH:return u.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.SKUGenres.SURVIVAL:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.SKUGenres.ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.SKUGenres.ACTION_ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.SKUGenres.METROIDVANIA:return u.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.SKUGenres.OPEN_WORLD:return u.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.SKUGenres.PSYCHOLOGICAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.SKUGenres.SANDBOX:return u.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.SKUGenres.SURVIVAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.SKUGenres.VISUAL_NOVEL:return u.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.SKUGenres.DRIVING_RACING:return u.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.SKUGenres.VEHICULAR_COMBAT:return u.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.SKUGenres.MASSIVELY_MULTIPLAYER:return u.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.SKUGenres.MMORPG:return u.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.SKUGenres.ROLE_PLAYING:return u.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.SKUGenres.DUNGEON_CRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.SKUGenres.ROGUELIKE:return u.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.SKUGenres.SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.SKUGenres.LIGHT_GUN:return u.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.SKUGenres.SHOOT_EM_UP:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.SKUGenres.FPS:return u.default.Messages.APPLICATION_STORE_GENRE_FPS;case l.SKUGenres.DUAL_JOYSTICK_SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.SKUGenres.SIMULATION:return u.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.SKUGenres.FLIGHT_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.SKUGenres.TRAIN_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.SKUGenres.LIFE_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.SKUGenres.FISHING:return u.default.Messages.APPLICATION_STORE_GENRE_FISHING;case l.SKUGenres.SPORTS:return u.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.SKUGenres.BASEBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.SKUGenres.BASKETBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.SKUGenres.BILLIARDS:return u.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.SKUGenres.BOWLING:return u.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.SKUGenres.BOXING:return u.default.Messages.APPLICATION_STORE_GENRE_BOXING;case l.SKUGenres.FOOTBALL:return u.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.SKUGenres.GOLF:return u.default.Messages.APPLICATION_STORE_GENRE_GOLF;case l.SKUGenres.HOCKEY:return u.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.SKUGenres.SKATEBOARDING_SKATING:return u.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.SKUGenres.SNOWBOARDING_SKIING:return u.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.SKUGenres.SOCCER:return u.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.SKUGenres.TRACK_FIELD:return u.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.SKUGenres.SURFING_WAKEBOARDING:return u.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.SKUGenres.WRESTLING:return u.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.SKUGenres.STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.SKUGenres.FOUR_X:return u.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.SKUGenres.ARTILLERY:return u.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.SKUGenres.RTS:return u.default.Messages.APPLICATION_STORE_GENRE_RTS;case l.SKUGenres.TOWER_DEFENSE:return u.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.SKUGenres.TURN_BASED_STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.SKUGenres.WARGAME:return u.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.SKUGenres.MOBA:return u.default.Messages.APPLICATION_STORE_GENRE_MOBA;case l.SKUGenres.FIGHTING:return u.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.SKUGenres.PUZZLE:return u.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.SKUGenres.CARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.SKUGenres.EDUCATION:return u.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.SKUGenres.FITNESS:return u.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.SKUGenres.GAMBLING:return u.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.SKUGenres.MUSIC_RHYTHM:return u.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.SKUGenres.PARTY_MINI_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.SKUGenres.PINBALL:return u.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.SKUGenres.TRIVIA_BOARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return u.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}},t.canUserInstall=function(e){var t=(0,i.nativePlatformTypeToSKUOperatingSystem)(a.default.getPlatform());return e.type===l.SKUTypes.GAME&&null!=t&&e.supportedOperatingSystems.includes(t)},t.getReadablePreorderReleaseDate=function(e){var t=e.preorderReleaseAt,r=e.preorderApproximateReleaseDate;if(null!=t)return t.format("MMMM DD");if(null==r)return null;for(var o=0;o<f.length;o++){var a=f[o],i=a[0],l=a[1],u=(0,n.default)(r,i,!0);if(u.isValid())return u.format(l)}return r};var n=s(r(4)),o=r(140),a=s(r(11)),i=r(143),l=r(0),u=s(r(8));function s(e){return e&&e.__esModule?e:{default:e}}var d={},c={};Object.keys(l.StoreApplicationGenresFilter).forEach(function(e){var t=e.toLowerCase().replace(/_/g,"-"),r=l.StoreApplicationGenresFilter[e];d[t]=r,c[r]=t});var f=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]]},5908:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a,i=s(r(1)),l=s(r(7017)),u=(n=r(7238))&&n.__esModule?n:{default:n};function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function d(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=Object.freeze({NONE:"1",TRANSLATE:"2",SCALE:"3"}),f=Object.freeze(((o={})[c.TRANSLATE]=u.default.Types.TRANSLATE,o[c.SCALE]=u.default.Types.SCALE,o));function p(e){switch(e){case l.PopoutPositions.TOP:case l.PopoutPositions.BOTTOM:return l.PopoutAlign.LEFT;case l.PopoutPositions.LEFT:case l.PopoutPositions.RIGHT:return l.PopoutAlign.TOP}throw new Error("Unexpected position: "+e)}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderPopout=function(e){var r=t.props,n=r.renderPopout,o=r.animation;switch(o){case c.TRANSLATE:case c.SCALE:return d(u.default,{position:e.position,type:f[o]},void 0,n(e));case c.NONE:return n(e)}throw new Error("Unsupported animation config: "+JSON.stringify(o))},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.shouldShow,n=e.position,o=e.onRequestClose,a=e.align,i=e.autoInvert,u=e.nudgeAlignIntoViewport,s=e.spacing;return d(l.default,{position:n,align:null!=a?a:p(n),autoInvert:i,nudgeAlignIntoViewport:u,renderPopout:this.renderPopout,spacing:s,shouldShow:r,onRequestClose:o},void 0,t)},n}(i.Component);t.default=y,y.displayName="Popout",y.Positions=l.PopoutPositions,y.Align=l.PopoutAlign,y.Animation=c,y.defaultProps={position:l.PopoutPositions.RIGHT,autoInvert:!0,nudgeAlignIntoViewport:!0,spacing:8,animation:c.TRANSLATE}},5909:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=G(r(1)),a=U(r(15)),i=r(426),l=U(r(3)),u=U(r(172)),s=r(900),d=G(r(313)),c=G(r(883)),f=r(803),p=U(r(781)),y=U(r(5842)),v=U(r(32)),h=U(r(39)),_=U(r(14)),m=U(r(168)),g=U(r(811)),O=U(r(6069)),E=U(r(167)),A=U(r(209)),I=U(r(82)),S=U(r(165)),T=U(r(5890)),b=U(r(412)),P=U(r(18)),N=r(146),M=U(r(199)),C=U(r(41)),R=r(5891),L=r(0),w=U(r(8)),D=U(r(5593));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function F(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){F(a,n,o,i,l,"next",e)}function l(e){F(a,n,o,i,l,"throw",e)}i(void 0)})}}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleViewInStore=function(e){var r=t.props,n=r.sku,o=r.skuId,a=r.application,i=r.onClick;if(null==n)throw new Error("Unexpected missing sku");null!=i&&i(e),null!=o?(0,f.goToSKUStoreListing)(n.id,{analyticsSource:t.analyticsLocation,slug:n.slug}):null!=a&&(0,f.goToApplicationStoreListing)(a.id,{analyticsSource:t.analyticsLocation,slug:a.slug})},t.handleClick=function(){var e=x(regeneratorRuntime.mark(function e(r){var n,o,a,l,d,f,y,v,h,_,m,g,O,E,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,o=n.isAuthenticated,a=n.applicationId,l=n.sku,d=n.targetSkuId,f=n.entitlementBranchId,y=n.isUserPremium,v=n.onClick,h=n.isInTestMode,_=n.storeListingAnalyticsProperties,m=n.asGift,g=n.forceDistribution,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(null!=v&&null!=r&&v(r),null==l.externalPurchaseUrl){e.next=7;break}return window.open(l.externalPurchaseUrl),e.abrupt("return");case 7:if(o){e.next=11;break}return O={redirect_to:L.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug)},C.default.transitionTo(L.Routes.LOGIN,{search:(0,i.stringify)(O)}),e.abrupt("return");case 11:if(E=null!=f,!l.premium||g||y||h||E){e.next=17;break}I=t.analyticsLocation,P.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:I}),p.default.open(L.UserSettingsSections.PREMIUM),e.next=37;break;case 17:if((l.requiresPayment||g)&&!E){e.next=29;break}return e.prev=18,e.next=21,t.purchaseOrGrantSKU(l);case 21:A=e.sent,(0,s.openPurchaseConfirmationModal)(l.applicationId,l.id,A,{analyticsSource:t.analyticsLocation}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:e.next=37;break;case 29:return e.prev=29,e.next=32,c.openSKUPaymentModal(a,d,t.analyticsLocation,{promotionId:null!=_?_.promotionId:null,isGift:m});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(29),e.t1===L.PaymentModalPriceChangedError&&u.default.show({title:w.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,body:w.default.Messages.PAYMENT_PRICE_CHANGE_BODY,confirmText:w.default.Messages.OKAY});case 37:case"end":return e.stop()}var I},e,null,[[18,25],[29,34]])}));return function(t){return e.apply(this,arguments)}}(),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l,y,v,h=n.prototype;return h.componentDidMount=function(){var e=this.props,t=e.sku,r=e.applicationId,n=e.targetSkuId;null==t&&d.fetchSKU(r,n).catch(function(){})},h.componentDidUpdate=function(e){this.props.locale!==e.locale&&d.fetchSKU(this.props.applicationId,this.props.targetSkuId).catch(function(){})},h.purchaseOrGrantSKU=function(){var e=x(regeneratorRuntime.mark(function e(t){var r,n,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.channelId,o=r.entitlementBranchId,a=r.analyticsContext,null==n||null==o){e.next=6;break}return e.next=4,d.grantChannelBranchEntitlement(t.applicationId,n,t.id);case 4:return i=e.sent,e.abrupt("return",i);case 6:return e.next=8,d.purchaseSKU(t.applicationId,t.id,{analyticsLoadId:a.loadId});case 8:return l=e.sent,e.abrupt("return",l.entitlements);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.wrapWithDisabledTooltip=function(e,t){var r=this.props,n=r.className,o=r.tooltipPosition;return k("div",{className:(0,a.default)(D.default.disabledButtonWrapper,n)},void 0,e,k(b.default,{text:t,position:o},void 0,k("div",{className:D.default.disabledButtonOverlay})))},h.renderButton=function(e,t){void 0===t&&(t=Object.freeze({}));var r,n=this.props,i=n.isPurchasing,l=n.wrapperClassName,u=n.className,s=n.fullWidth,d=n.size,c=n.isWindowFocused,f=n.color,p=n.customDisabledColor,y=n.pauseAnimation,v=n.isEntitled,h=n.asGift,_=n.sku,m=n.entitlementBranchId,g=n.isInTestMode,O=n.innerClassName,E=!0===v&&(null==_||_.type!==L.SKUTypes.CONSUMABLE),A=null!=m,S=!0===t.disabled||null!=_&&!_.available&&!A&&!g||E&&!h,b=t.disabledTooltipText,P={wrapperClassName:l,className:u,fullWidth:s,size:d,color:S&&null!=p?p:null!=f?f:I.default.Colors.GREEN,hover:this.hover,innerClassName:(0,a.default)(null!=O?O:null,D.default.applicationBuyButton),disabled:S,submitting:i||!0===t.submitting,onClick:null!=t.onClick?t.onClick:this.handleClick};return r=!0===t.useShinyButton?o.createElement(T.default,j({},P,{pauseAnimation:!c||y}),t.buttonIcon,e):o.createElement(I.default,P,t.buttonIcon,e),null!=b?this.wrapWithDisabledTooltip(r,b):r},h.renderFreeButton=function(e,t){var r=this.props,n=r.isEntitled,o=r.isUserPremium,a=r.isInTestMode,i=r.forceDistribution;if(null!=r.entitlementBranchId)return(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);var l=e.getPrice();return e.premium&&!i&&(o||a)?(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL,t):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY,t):null==l||0!==l.amount||e.premium&&!(0,N.hasFlag)(e.flags,L.SKUFlags.PREMIUM_AND_DISTRIBUTION)?void 0:(0,R.canUserInstall)(e)&&!n?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)},h.render=function(){var e=this.props,t=e.isAuthenticated,r=e.sku,n=e.onStoreListing,o=e.shouldRenderPrice,a=e.forceDistribution,i=e.asGift,l=e.isInTestMode,u={useShinyButton:!0,buttonIcon:k(S.default,{name:S.default.Names.Premium_WHEEL,className:D.default.premiumIcon})};if(null==r)return this.renderButton(null,{submitting:!0});if(i)return r.isPreorder()?this.renderButton(w.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT):this.renderButton(w.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);var s=this.renderFreeButton(r,u);if(null!=s)return s;if(!n)return this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE,{onClick:this.handleViewInStore});var d=r.getPrice();return!r.available&&!l||!r.premium&&null==d?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE,{disabled:!0}):r.restricted?this.renderButton(w.default.Messages.APPLICATION_STORE_BUY,{disabledTooltipText:w.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION}):r.premium&&!a?this.renderButton(w.default.Messages.APPLICATION_STORE_GET_PREMIUM,u):t||null!=r.externalPurchaseUrl?r.isPreorder()?this.renderButton(o?w.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_PREORDER):this.renderButton(o?w.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_BUY):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY)},l=n,(y=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.storeListingAnalyticsProperties,r=e.asGift,n=null!=t?t.promotionId:null;return j({},this.props.analyticsContext.location,{object:L.AnalyticsObjects.BUTTON_CTA,objectType:r?L.AnalyticsObjectTypes.GIFT:L.AnalyticsObjectTypes.BUY,promotionId:n})}},{key:"hover",get:function(){var e=this.props,t=e.hover,r=e.color;return null!=t?t:null!=r?I.default.Hovers.GREEN:I.default.Hovers.DEFAULT}}])&&B(l.prototype,y),v&&B(l,v),n}(o.Component);Y.displayName="ApplicationBuyButton",Y.defaultProps={tooltipPosition:b.default.Positions.TOP,onStoreListing:!1,shouldRenderPrice:!1,pauseAnimation:!1,asGift:!1,forceDistribution:!1};var V=l.default.connectStores([g.default,E.default,O.default,_.default,h.default,m.default,A.default],function(e){var t=e.skuId,r=e.applicationId,n=e.entitlementBranchId,o=e.channelId,a=_.default.getNullableCurrentUser(),i=v.default.getGame(r),l=null!=n?n:r,u=t;if(null==u&&null!=i&&(u=i.destinationSkuId),null!=n&&null==o)throw new Error("Unexpected entitlementBranchId without a channelId");return{targetSkuId:u,sku:null!=u?E.default.get(u):null,application:i,isInTestMode:A.default.inTestModeForApplication(r),isEntitled:null!=u?g.default.isEntitledToSku(a,u,r,l):null,isUserPremium:M.default.canInstallPremiumApplications(a),isWindowFocused:m.default.isFocused(),isAuthenticated:null!=a,isPurchasing:O.default.isPurchasingSKU,locale:h.default.locale}},{forwardRef:!0})((0,y.default)(Y));t.default=V},5920:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=r(3),a=l(r(237)),i=l(r(6327));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){var t=e.hideDiscriminator,r=void 0!==t&&t,l=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["hideDiscriminator"]),s=(0,o.useStateFromStores)([a.default],function(){return a.default.hidePersonalInformation});return n.createElement(i.default,u({hideDiscriminator:s||r},l))};s.displayName="ChatXTag";var d=s;t.default=d},5921:function(e,t,r){"use strict";t.__esModule=!0,t.applyChatRestrictions=function(e,t,r,v,h){void 0===v&&(v=!0);void 0===h&&(h=!0);return new Promise(function(E){return function(e,t,r,v,h,E){if(0===t.length&&e.props.type!==p.TextareaTypes.FORM)return void E({valid:!1,failureReason:p.MessageRestrictionTypes.EMPTY_MESSAGE});if(t.length>p.MAX_MESSAGE_LENGTH)return o.default.push(function(e){return n.createElement(a.default,_({title:y.default.Messages.MESSAGE_TOO_LONG_HEADER,body:y.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:p.MAX_MESSAGE_LENGTH}),confirmText:y.default.Messages.OKAY},e))}),void E({valid:!1,failureReason:p.MessageRestrictionTypes.MESSAGE_TOO_LONG});var A=null!=r&&null!=r.getGuildId();if(h&&A){var I=s.default.getSlowmodeCooldownGuess(r.id)>0;if(I)return void E({valid:!1,failureReason:p.MessageRestrictionTypes.SLOWMODE_COOLDOWN})}if(A&&v&&t.match(g)){var S=0,T=t.match(g)[0],b=u.default.getProps(r.getGuildId(),r.id);if(b.groups.forEach(function(e){"@everyone"!==T&&e.id===p.StatusTypes.OFFLINE||(S+=e.count)}),S>O&&f.default.can(p.Permissions.MENTION_EVERYONE,d.default.getCurrentUser(),r))return e?void(0,c.openPopout)(e,{onClose:function(){return E({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},closeOnScroll:!1,backdrop:!0,shadow:!1,position:c.default.Positions.TOP_LEFT,animationType:c.default.Animations.NONE,zIndexBoost:e.props.type===p.TextareaTypes.FORM?1e3:0,render:function(e){return n.createElement(i.default,_({},e,{channel:r,onConfirm:function(){return E({valid:!0})},onCancel:function(){return E({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},numPeople:S,role:T}))}},m):void E({valid:!0})}if(l.default.isFull())return o.default.push(function(e){return n.createElement(a.default,_({title:y.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:y.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:y.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),void E({valid:!1,failureReason:p.MessageRestrictionTypes.RATE_LIMITED});E({valid:!0})}(e,t,r,v,h,E)})};var n=h(r(1)),o=v(r(56)),a=v(r(432)),i=v(r(7241)),l=v(r(945)),u=v(r(6328)),s=v(r(5979)),d=v(r(14)),c=h(r(414)),f=v(r(100)),p=r(0),y=v(r(8));function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m="popout-channel-text-area-shouting",g=new RegExp(/@(:?everyone|here)/,"i"),O=30},5934:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=v(r(15)),i=v(r(5878)),l=(v(r(47)),v(r(65))),u=r(947),s=v(r(3)),d=v(r(39)),c=v(r(166)),f=v(r(236)),p=r(0),y=v(r(810));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=(0,i.default)({displayName:"SubMenuItem",getInitialState:function(){return{open:!1,position:{top:0,left:0}}},uiMenuNode:null,_timer:void 0,componentDidMount:function(){this.uiMenuNode=l.default.findDOMNode(this)},componentWillUnmount:function(){clearTimeout(this._timer)},render:function(){var e,t=this.props,r=t.label,n=t.render,i=t.disabled,l=t.action,s=t.invertChildY,d=this.props.theme,v="function"==typeof n?n():n.filter(function(e){return e}),_=(0,u.isFragment)(v)?v.props.children.length:v.length;if(0===_)return null;var m,g=_<=9,O=s?30*(Math.min(_,9)-1):0,E={className:(0,a.default)(y.default.contextMenu,"theme-"+d),style:{top:this.state.position.top-O,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};if(this.state.open)if(g)m=o.createElement("div",E,v);else{var A=d===p.ThemeTypes.LIGHT?"#ffffff":"#282b30";m=o.createElement("div",E,h(f.default,{theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:A,className:y.default.scroller},void 0,v))}return h(c.default,{className:(0,a.default)(y.default.item,y.default.itemSubMenu,(e={},e[y.default.itemSubMenuHasScroller]=g,e)),onClick:i?function(){}:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r,m)},handleMouseEnter:function(){if(clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,r=e.left;this.setState({open:!0,position:{top:t-2,left:r}})}},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.setState({open:!1})},100)}}),m=s.default.connectStores([d.default],function(){return{theme:d.default.theme}})(_);t.default=m},5935:function(e,t,r){"use strict";t.__esModule=!0,t.getTimeUnit=w,t.getTimeAndUnit=function(e,t){var r=null!=e?w(e,function(e){return t.includes(e)}):P.NONE,n=null!=r?M[r]:null;return{unit:r,time:null!=e&&null!=n?Math.floor(n(e)):null}},t.default=t.TimeUnitMax=t.TimeUnitConversion=t.TimeUnits=void 0;var n,o,a,i,l,u,s,d,c,f,p,y,v,h,_,m,g,O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),E=S(r(5)),A=r(57),I=S(r(8));function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=Object.freeze({ACTIVITY_FEED:"ACTIVITY_FEED",ACTIVITY_FEED_NEW:"ACTIVITY_FEED_NEW",USER_ACTIVITY:"USER_ACTIVITY",GAME_LIBRARY_TIME_PLAYED:"GAME_LIBRARY_TIME_PLAYED",GAME_LIBRARY_LAST_PLAYED:"GAME_LIBRARY_LAST_PLAYED",LFG_LISTING:"LFG_LISTING"}),P=Object.freeze({NONE:"NONE",SECONDS:"SECONDS",MINUTES:"MINUTES",HOURS:"HOURS",DAYS:"DAYS",WEEKS:"WEEKS",MONTHS:"MONTHS",YEARS:"YEARS"});t.TimeUnits=P;var N=Object.freeze({START:"START",END:"END",TIME:"TIME"}),M=((n={})[P.NONE]=function(e){return 0},n[P.SECONDS]=function(e){return 60*e},n[P.MINUTES]=function(e){return e},n[P.HOURS]=function(e){return e/60},n[P.DAYS]=function(e){return e/60/24},n[P.WEEKS]=function(e){return e/60/24/7},n[P.MONTHS]=function(e){return e/60/24/31},n[P.YEARS]=function(e){return e/60/24/365},n);t.TimeUnitConversion=M;var C=[{unit:P.NONE,max:0},{unit:P.SECONDS,max:1},{unit:P.MINUTES,max:60},{unit:P.HOURS,max:1440},{unit:P.DAYS,max:44640},{unit:P.WEEKS,max:40320},{unit:P.MONTHS,max:525600},{unit:P.YEARS,max:1/0}];t.TimeUnitMax=C;var R=function(e){return function(t,r){return null==r?"":e().format(T({time:t},r))}},L=((m={})[b.ACTIVITY_FEED]=((i={})[N.START]=((o={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},o[P.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},o[P.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},o[P.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},o),i[N.END]=((a={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},a[P.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},a[P.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},a[P.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},a[P.WEEKS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_WEEKS_AGO.format({time:e})},a[P.MONTHS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MONTHS_AGO.format({time:e})},a[P.YEARS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_YEARS_AGO.format({time:e})},a),i),m[b.ACTIVITY_FEED_NEW]=((s={})[N.START]=((l={})[P.SECONDS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_JUST_STARTED}),l[P.MINUTES]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_MINUTES}),l[P.HOURS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_HOURS}),l[P.DAYS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_DAYS}),l),s[N.END]=((u={})[P.SECONDS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_SECONDS_AGO.format({time:e})},u[P.MINUTES]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},u[P.HOURS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},u[P.DAYS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},u),s),m[b.USER_ACTIVITY]=((c={})[N.START]=((d={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},d[P.MINUTES]=function(e,t,r){return void 0===r&&(r=!1),r?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},d[P.HOURS]=function(e,t,r){return void 0===r&&(r=!1),r?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},d[P.DAYS]=function(e,t,r){return void 0===r&&(r=!1),r?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},d),c),m[b.GAME_LIBRARY_TIME_PLAYED]=((p={})[N.TIME]=((f={})[P.NONE]=function(){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_NONE},f[P.SECONDS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_SECONDS.format({time:e})},f[P.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_MINUTES.format({time:e})},f[P.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_HOURS.format({time:e})},f),p),m[b.GAME_LIBRARY_LAST_PLAYED]=((v={})[N.END]=((y={})[P.NONE]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE},y[P.SECONDS]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_JUST_NOW},y[P.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MINUTES.format({time:e})},y[P.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_HOURS.format({time:e})},y[P.DAYS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_DAYS.format({time:e})},y[P.WEEKS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_WEEKS.format({time:e})},y[P.MONTHS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MONTHS.format({time:e})},y[P.YEARS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_YEARS.format({time:e})},y),v),m[b.LFG_LISTING]=((_={})[N.START]=((h={})[P.SECONDS]=function(e){return I.default.Messages.LFG_LISTING_AGE_SECONDS.format({time:e})},h[P.MINUTES]=function(e){return I.default.Messages.LFG_LISTING_AGE_MINUTES.format({time:e})},h[P.HOURS]=function(e){return I.default.Messages.LFG_LISTING_AGE_HOURS.format({time:e})},h),_),m);function w(e,t){var r=C.findIndex(function(t){var r=t.max;return t.unit===P.NONE&&e===r||e<r}),n=E.default.findLast(C,function(e){var r=e.unit;return t(r)},r);if(null!=n)return n.unit;var o=C.find(function(e){var r=e.unit;return t(r)});return o?o.unit:null}var D=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).timer=new A.Interval,t.state={time:t.getDiff()},t.update=function(){t.setState({time:t.getDiff()})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){this.timer.start(1e4,this.update)},o.componentDidUpdate=function(e){var t=this.props,r=t.start,n=t.end,o=t.time;e.start===r&&e.end===n&&e.time===o||this.update()},o.componentWillUnmount=function(){this.timer.stop()},o.getDiff=function(){var e=this.props,t=e.start,r=e.end,n=e.time;if(null!=n)return n/1e3/60;var o=Date.now(),a=0;return null!=t?a=o-t:null!=r&&(a=o-r),Math.abs(a)/1e3/60},o.getTimeUnit=function(e,t,r){var n=w(e,function(e){return function(e,t,r){var n=L[r];if(null!=n){var o=n[t];if(null!=o)return null!=o[e]}return!1}(e,r,t)});if(null==n)throw new Error("Could not get the time unit in PlayTime with time: "+e+" in location: "+t);return n},o.getType=function(){var e=this.props,t=e.start,r=e.end,n=e.time;return null!=t?N.START:null!=r?N.END:null!=n?N.TIME:null},o.transformTime=function(e,t){return M[e](t)},o.render=function(){var e=this.props,t=e.location,r=e.className,n=e.messageProps,o=e.isApplicationStreaming,a=this.state.time,i=this.getType();if(null==i)return null;var l=this.getTimeUnit(a,t,i),u=L[t][i];return null==u?null:function(e,t,r,n){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=n;else if(a>1){for(var l=new Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:g,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:r},void 0,(0,u[l])(Math.floor(this.transformTime(l,a)),n,o))},n}(O.PureComponent);D.displayName="PlayTime",D.Locations=b,D.Types=N;var U=D;t.default=U},5936:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=s(r(15)),a=s(r(166)),i=s(r(165)),l=r(844),u=s(r(5586));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onPlay,r=e.externalURL,n=e.className,s=e.linkComponent,c=e.inactive,f=e.playText,p=s||"a",y=null!=f;return d(l.MessagesInteractionContext.Consumer,{},void 0,function(e){var l,s;return d("div",{className:(0,o.default)(n,u.default.wrapper,(l={},l[u.default.disableInteractions]=e.disableInteractions,l[u.default.wrapperHasPlayText]=y,l))},void 0,c&&null==t?d("div",{className:u.default.iconWrapper},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay})):null,null!=t?d(a.default,{onClick:t,className:(0,o.default)(u.default.iconWrapperActive,(s={},s[u.default.iconWrapperHasPlayText]=y,s))},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay}),y?d("span",{className:u.default.text},void 0,f):null):null,y||null==r||null==p?null:d(p,{href:r,target:"_blank",rel:"noreferrer noopener",className:u.default.iconWrapperActive},void 0,d(i.default,{name:i.default.Names.OPEN_EXTERNAL,className:null!=t?u.default.iconExternalMargins:u.default.iconExternal})))})};c.displayName="VideoPlayPill";var f=c;t.default=f},5937:function(e,t,r){"use strict";t.__esModule=!0,t.Sizes=t.default=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=(n=r(5841))&&n.__esModule?n:{default:n},l=r(89);r(0);function u(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=a.memo(function(e){var t=e.user,r=e.size,n=void 0===r?i.default.Sizes.SIZE_32:r,o=e.status,a=e.animate,s=void 0!==a&&a,d=e.isMobile,c=void 0!==d&&d,f=e.className,p=e.onClick,y=e.onContextMenu,v=e.disableStatusIcons,h=e["aria-hidden"],_=void 0!==h&&h,m=function(e,t){return((0,l.hasAnimatedAvatar)(e)&&t?e.getAvatarURL("gif"):e.avatarURL||e.getAvatarURL("jpg"))||""}(t,s);return u(i.default,_?{src:m,size:n,status:o,isMobile:c,className:f,onClick:p,onContextMenu:y,disableStatusIcons:v,"aria-hidden":!0}:{src:m,size:n,status:o,isMobile:c,className:f,onClick:p,onContextMenu:y,disableStatusIcons:v,"aria-label":t.username})});t.default=s;var d=i.default.Sizes;t.Sizes=d},5961:function(e,t,r){"use strict";t.__esModule=!0,t.UID=t.useUID=t.uid=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=(n=r(458))&&n.__esModule?n:{default:n};var i=function(e){return void 0===e&&(e="uid_"),(0,a.default)(e)};t.uid=i;var l=function(){return o.useState(function(){return i()})[0]};t.useUID=l;t.UID=function(e){return(0,e.children)(l())}},5977:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(0);var i={startTyping:function(e){o.default.dispatch({type:a.ActionTypes.TYPING_START_LOCAL,channelId:e})},stopTyping:function(e){o.default.dispatch({type:a.ActionTypes.TYPING_STOP_LOCAL,channelId:e})}};t.default=i},5978:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=s(r(15)),i=s(r(141)),l=s(r(8)),u=s(r(5571));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c={BLOCK:u.default.block,INLINE:u.default.inline},f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.className,n=e.textClassName,o=e.type,s=void 0===o?c.BLOCK:o,f=e.style;return d("div",{className:(0,a.default)(r,s),style:f},void 0,d(i.default,{size:i.default.Sizes.SMALL,color:i.default.Colors.GREEN,weight:i.default.Weights.BOLD,className:u.default.pro},void 0,l.default.Messages.FORM_LABEL_ROLES_PRO_TIP,":"),d(i.default,{color:i.default.Colors.PRIMARY,className:(0,a.default)(u.default.tip,n)},void 0,t))},n}(o.PureComponent);f.displayName="Protip",f.Types=c;var p=f;t.default=p},5979:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(3)),o=r(57),a=s(r(2)),i=s(r(16)),l=s(r(142)),u=r(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function c(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var s=d[t];if(l.default.can(u.Permissions.MANAGE_CHANNELS,n)||l.default.can(u.Permissions.MANAGE_MESSAGES,n))null!=s&&(d[t].timer.stop(),delete d[t]);else if(null==s&&(s={cooldownMs:0,timer:new o.Timeout},d[t]=s),s.timer.stop(),null!=r&&r>0){var c=Math.max(r-1e3,0);s.cooldownMs=r,s.timer.start(1e3,function(){a.default.dispatch({type:u.ActionTypes.SLOWMODE_COOLDOWN_CHANGE,channelId:t,cooldownMs:c})},!0)}else delete d[t]}}function f(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var o=r||1e3*n.rateLimitPerUser;return o>0?c({channelId:n.id,cooldownMs:o+u.SLOWMODE_COOLDOWN_BUFFER_MS}):void 0}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getSlowmodeCooldownGuess=function(e){var t=d[e];return null!=t?t.cooldownMs:0},n}(n.default.Store))(a.default,{SLOWMODE_COOLDOWN_CHANGE:c,UPLOAD_START:f,SLOWMODE_START_COOLDOWN:f,LOGOUT:function(e){return Object.keys(d).forEach(function(e){return d[e].timer.stop()}),void(d={})}});t.default=p},6003:function(e,t,r){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){o.default.dispatch({type:a.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){o.default.dispatch({type:a.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){o.default.dispatch({type:a.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){o.default.dispatch({type:a.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(0)},6004:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(9)),o=i(r(2)),a=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={open:function(e){o.default.dispatch({type:a.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){o.default.dispatch({type:a.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t,r){void 0===r&&(r=!1),n.default.patch({url:a.Endpoints.USER_GUILD_SETTINGS(e||a.ME),body:t}),o.default.dispatch({type:a.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[l({guild_id:e||a.ME},t)],partial:r})},updateChannelOverrideSettings:function(e,t,r){var n;this.updateNotificationSettings(e,{channel_overrides:(n={},n[t]=r,n)},!0)}};t.default=u},6005:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(3)),o=r(57),a=d(r(2)),i=d(r(32)),l=d(r(90)),u=d(r(438)),s=d(r(14));r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=72e5,y=1728e5,v={},h={},_={},m=!1,g=new o.Interval;function O(){var e=Date.now(),t=!1,r=function(t){return null!=t&&e-t.date>y};for(var n in v){var o=v[n];if(null!=o)for(var a in o){r(o[a])&&(delete v[n][a],null!=h[a]&&delete h[a][n],t=!0)}}return t}function E(e){var t=e.user,r=e.activities;if(null==t||!u.default.isOnFeed(t.id))return!1;var n=!1,o=_[t.id]||new Set,a=new Set;return r.forEach(function(e){var r=i.default.getGameByName(e.name),o=null!=r?r.id:null;null!=o&&(a.add(o),null!=v[t.id]&&null!=v[t.id][o]&&v[t.id][o].gameId===o&&(delete(v=f({},v))[t.id][o],null!=h[o]&&delete(h=f({},h))[o][t.id],n=!0))}),o.forEach(function(e){if(!a.has(e)){var r,o,i,l,u=Date.now();v=f({},v,((o={})[t.id]=f({},v[t.id],((r={})[e]={gameId:e,date:u},r)),o)),h=f({},h,((l={})[e]=f({},h[e],((i={})[t.id]={userId:t.id,date:u},i)),l)),n=!0}}),_[t.id]=a,n}function A(){l.default.getUserIds().forEach(function(e){var t=s.default.getUser(e);null!=t&&E({user:t,activities:l.default.getActivities(t.id)})})}var I=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,l,s=n.prototype;return s.initialize=function(){this.waitFor(i.default,u.default),this.syncWith([i.default],A),O()},s.getUserGames=function(e){return v[e]||[]},s.getRecentlyPlayedForApplication=function(e){return h[e]},o=n,(a=[{key:"gamesByUser",get:function(){return v}},{key:"usersByGame",get:function(){return h}},{key:"hasFetchedActivities",get:function(){return m}}])&&c(o.prototype,a),l&&c(o,l),n}(n.default.Store))(a.default,{ACTIVITY_FEED_MOUNT:function(e){return g.start(p,O),O()},ACTIVITY_FEED_UNMOUNT:function(e){g.stop()},ACTIVITIES_UPDATE:function(e){var t=e.activities;v={};var r=t,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var i=a,l=i.user_id,u=i.application_id,s=i.updated_at,d=Date.parse(s);null!=_[l]&&_[l].has(u)||(null==v[l]||null==v[l][u]||v[l][u].date<d)&&(null==v[l]&&(v[l]={}),null==h[u]&&(h[u]={}),v[l][u]={gameId:u,date:d},h[u][l]={userId:l,date:d})}m=!0},PRESENCE_UPDATE:E,CONNECTION_OPEN:function(e){var t=e.presences;_={};var r=t,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}E(a)}},LOGOUT:function(e){return v={},h={},void(_={})}});t.default=I},6006:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=p(r(3)),a=(r(147),p(r(83))),i=p(r(211)),l=p(r(167)),u=p(r(82)),s=r(102),d=p(r(5909)),c=p(r(7024)),f=p(r(6686));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t,r;function o(){return e.apply(this,arguments)||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props,t=e.application,r=e.isChatXStoreApplication,o=e.libraryApplication,a=e.localApplication,i=e.fullWidth,l=e.size,u=e.color,p=e.customDisabledColor,v=e.hideNotLaunchable,h=e.tooltipPosition,_=e.onClick,m=e.className,g=e.source,O=e.storeListingAnalyticsProperties,E=e.pauseAnimation,A={fullWidth:i,size:l,color:u,customDisabledColor:p,tooltipPosition:h,onClick:_,className:m,hover:e.hover,innerClassName:e.innerClassName};return null!=o&&(0,s.isUserEntitledToLibraryApplication)(o)?n.createElement(f.default,y({},A,{libraryApplication:o,source:g})):null==a&&r?n.createElement(d.default,y({},A,{skuId:null!=o?o.sku.id:null,applicationId:t.id,pauseAnimation:E,storeListingAnalyticsProperties:O})):n.createElement(c.default,y({},A,{hideNotLaunchable:v,applicationId:t.id}))},o}(n.PureComponent);v.displayName="ApplicationActionButton",v.defaultProps={fullWidth:!1,size:u.default.Sizes.LARGE};var h=o.default.connectStores([a.default,i.default,l.default],function(e){var t=e.application,r=a.default.getActiveLibraryApplication(t.id),n=null!=r?r.sku.id:null,o=null!=n?n:t.primarySkuId;return{isChatXStoreApplication:null!=o&&!l.default.didFetchingSkuFail(o),libraryApplication:r,localApplication:i.default.getLocalApplication(t.id)}})(v);t.default=h},6007:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=S(r(3)),i=S(r(32)),l=S(r(83)),u=S(r(211)),s=S(r(7247)),d=S(r(7248)),c=S(r(7249)),f=S(r(7250)),p=S(r(7251)),y=S(r(7252)),v=S(r(7253)),h=S(r(7254)),_=S(r(7255)),m=S(r(7256)),g=S(r(7257)),O=S(r(7258)),E=S(r(7259)),A=S(r(5889)),I=r(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var P=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderFallback=function(){return b(A.default,{id:this.props.applicationId})},a.renderLibraryApplicationItems=function(e){var t=this.props,r=t.libraryApplication,n=t.application;return null==r||null==n?null:b(o.Fragment,{},void 0,b(c.default,{libraryApplication:r,analyticsLocation:e}),b(p.default,{libraryApplication:r}),b(m.default,{libraryApplication:r}),b(O.default,{libraryApplication:r}),b(g.default,{libraryApplication:r}),b(v.default,{application:n,analyticsLocation:e}),b(h.default,{application:n}),b(s.default,{application:n,libraryApplication:r}),b(_.default,{application:n,libraryApplication:r}),b(d.default,{application:n,libraryApplication:r}))},a.renderMenuItems=function(){var e=this.props,t=e.type,r=e.libraryApplication,n=e.application,a=e.onPlay,i=e.analyticsContext;if(null==n)return this.renderFallback();if(t===I.ContextMenuTypes.APPLICATION_STORE_DIRECTORY)return b(o.Fragment,{},void 0,b(y.default,{application:n}),b(d.default,{application:n,libraryApplication:r}));var l=T({},null!=i?i.location:null,{object:I.AnalyticsObjects.CONTEXT_MENU});switch(t){case I.ContextMenuTypes.APPLICATION_ACTIVITY_FEED:case I.ContextMenuTypes.APPLICATION_GAME_LIBRARY:case I.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES:return b(o.Fragment,{},void 0,this.renderLibraryApplicationItems(l),b(h.default,{application:n}),b(E.default,{application:n}));case I.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER:return null==r?this.renderFallback():b(o.Fragment,{},void 0,b(c.default,{libraryApplication:r,analyticsLocation:l}),b(d.default,{application:n,libraryApplication:r}));case I.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS:return null==r?this.renderFallback():b(f.default,{libraryApplication:r,onPlay:a})}},a.render=function(){var e=this.props,t=e.className,r=e.style,n=this.renderMenuItems();return null==n?null:b("div",{className:t,style:r},void 0,n)},n}(o.PureComponent);P.displayName="ApplicationContextMenu";var N=a.default.connectStores([l.default,i.default],function(e){var t=e.applicationId,r=e.branchId,n=null!=r?l.default.getLibraryApplication(t,r):l.default.getActiveLibraryApplication(t),o=null==n?u.default.getLocalApplication(t):null;return{libraryApplication:n||o,application:i.default.getGame(t)}})(P);t.default=N},6008:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=u(r(15)),i=r(0),l=u(r(5595));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t,r,n,u,f=e.className,p=e.percent,y=e.size,v=void 0===y?c.SMALL:y,h=e.foregroundColor,_=void 0===h?i.Colors.BRAND:h,m=e.backgroundColor,g=void 0===m?"#e9e7e7":m,O=e.foregroundGradientColor,E=e.animate,A=void 0===E||E,I=null!=p?p:0;return u=null!=O?{background:"linear-gradient(to right, "+O[0]+", "+O[1]+")"}:{backgroundColor:_},s("div",{className:(0,a.default)(f,l.default.progress,l.default[v]),style:{backgroundColor:g}},void 0,"indeterminate"!==I&&"number"==typeof I?s("div",{className:(0,a.default)(l.default.progressBar,l.default[v],(t={},t[l.default.animating]=A,t)),style:d({transform:"translate3d("+(Math.min(Math.max(0,I),100)-100)+"%, 0, 0)"},u)}):s(o.Fragment,{},void 0,s("div",{className:(0,a.default)(l.default.indeterminateBar1,l.default[v],(r={},r[l.default.animating]=A,r)),style:u}),s("div",{className:(0,a.default)(l.default.indeterminateBar2,l.default[v],(n={},n[l.default.animating]=A,n)),style:u})))};f.displayName="Progress",f.Sizes=c,f.INDETERMINATE="indeterminate";var p=f;t.default=p},6009:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=s(r(15)),i=r(170),l=r(0),u=s(r(5604));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({DEFAULT:u.default.themeDefault,CLEAR:u.default.themeClear}),f=Object.freeze({DEFAULT:u.default.sizeDefault,MINI:u.default.sizeMini}),p=Object.freeze({CHECKED:u.default.valueChecked,UNCHECKED:u.default.valueUnchecked}),y=Object.freeze({ENABLED:"enabled",DISABLED:"disabled"}),v=function(e){var t,r;function s(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleKeyPress=function(e){e.charCode!==l.KeyboardKeys.SPACE&&e.charCode!==l.KeyboardKeys.ENTER||(e.preventDefault(),null!=t.ref&&t.ref.click())},t}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this,t=this.props,r=t.id,l=t.onChange,s=t.value,c=t.fill,f=t.theme,v=t.disabled,h=t.className,_=t.size,m=v?y.DISABLED:y.ENABLED,g=s?p.CHECKED:p.UNCHECKED,O=this.props.style;return null!=c&&s&&(O=d({},O,{backgroundColor:c})),function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(h,(0,i.getClass)(u.default,"switch",m),g,_,f),style:O,onKeyPress:this.handleKeyPress,tabIndex:v?-1:0},void 0,o.createElement("input",{id:r,ref:function(t){return e.ref=t},className:(0,i.getClass)(u.default,"checkbox",m),type:"checkbox",disabled:v,onChange:l,checked:s,tabIndex:-1}))},s}(o.Component);v.displayName="Switch",v.Themes=c,v.Sizes=f,v.defaultProps={theme:c.DEFAULT,size:f.DEFAULT};var h=v;t.default=h},6064:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r="SubscribeGuildMembersContainer("+function(e){return e.displayName||e.name||"Component"}(t)+")",l=function(r){var l,s;function d(t){var n;n=r.call(this,t)||this;var a=e(t);return o.default.forEach(a,function(e,t){return(0,i.subscribeMembers)(t,e)}),n._subscriptions=a,n}s=r,(l=d).prototype=Object.create(s.prototype),l.prototype.constructor=l,l.__proto__=s;var c=d.prototype;return c.componentDidUpdate=function(t){if(!(0,a.default)(this.props,t)){var r=e(this.props);null!=this._subscriptions&&o.default.isEqual(this._subscriptions,r)||(null!=this._subscriptions&&o.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)}),o.default.forEach(r,function(e,t){return(0,i.subscribeMembers)(t,e)}),this._subscriptions=r)}},c.componentWillUnmount=function(){null!=this._subscriptions&&o.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)})},c.render=function(){var e=this.props,r=e.forwardedRef,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["forwardedRef"]);return n.createElement(t,u({ref:r},o))},d}(n.Component);l.displayName="WrappedComponent",l.displayName=r;var s=n.forwardRef(function(e,t){return n.createElement(l,u({},e,{forwardedRef:t}))});return s.displayName="ForwardRef("+r+")",s}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=l(r(5)),a=l(r(171)),i=r(6565);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6065:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=d(r(15)),i=d(r(6325)),l=d(r(464)),u=d(r(5568)),s=d(r(851));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onChange=function(e){var r=t.props,n=r.onChange,o=r.name;n&&n(e.currentTarget.value,o)},t.onFocus=function(e){var r=t.props,n=r.onFocus,o=r.name;n&&n(e,o)},t.onBlur=function(e){var r=t.props,n=r.onBlur,o=r.name;n&&n(e,o)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},o.renderMaxLength=function(){var e=this.props,t=e.maxLength,r=e.value;if(null==t)return null;var n=t-(null!=r?r.length:0);return c("div",{className:u.default.maxLength},void 0,n)},o.renderErrorMessage=function(){var e=this.props.error;return null==e?null:c("div",{className:s.default.errorMessage},void 0,e)},o.render=function(){var e,t,r,n=this.props,o=n.disabled,d=n.value,f=n.placeholder,p=n.error,y=n.autoFocus,v=n.maxLength,h=n.resizeable,_=n.className,m=n.id,g=n.rows,O=n.flex,E=n.autosize?i.default:"textarea";return c("div",{className:(0,a.default)(s.default.inputWrapper,(e={},e[u.default.flex]=O,e))},void 0,c("div",{className:(0,a.default)(u.default.inputMaxLength,(t={},t[u.default.flex]=O,t))},void 0,c(E,{type:"text",className:(0,a.default)(s.default.inputDefault,u.default.textArea,l.default.scrollbarDefault,_,(r={},r[s.default.error]=p,r[s.default.disabled]=o,r[u.default.resizeable]=h,r)),style:{paddingRight:this.getPaddingRight()},id:m,disabled:o,placeholder:f,value:d,autoFocus:y,maxLength:v,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:g}),this.renderMaxLength()),this.renderErrorMessage())},n}(o.PureComponent);f.displayName="TextArea",f.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,flex:!1,autosize:!1,rows:3};var p=f;t.default=p},6067:function(e,t,r){"use strict";t.__esModule=!0,t.trackGameNewsChanged=function(e,t,r,n){return a.default.track(i.AnalyticEvents.GAME_NEWS_CHANGED,{location:e,load_id:null!=n?n.loadId:void 0,game_id:null!=t?t.id:null,game_name:null!=t?t.name:null,af_news:!0,change_count:r})},t.trackGameNewsOpened=function(e,t,r,n,o){var u={location:e,news_url:t.url,news_index:r,news_id:t.id},s=null!=o?{load_id:o.loadId,card_index:o.index,card_type:o.type}:{},d=null!=n?{game_id:n.id,game_name:n.name,af_news:!0}:{af_news:!0};return a.default.track(i.AnalyticEvents.GAME_NEWS_OPENED,l({},u,s,d))},t.trackUserMessaged=function(e,t,r,n,u){var s={game_name:null!=r?r.name:null,game_id:null!=r?r.id:null},d=null!=n?{af_voice_chat:n.voiceChannels.length>0,af_people_count:n.partiedMembers.length,af_recently_played:!1,af_rich_presence:n.currentActivities.some(function(e){var t=e.activity;return(0,o.hasRichActivity)(t)}),game_platform:n.currentActivities.length>0?(0,o.getGamePlatform)(n.currentActivities[0].activity):null}:{af_recently_played:!0},c={load_id:u.loadId,card_index:u.index,card_type:u.type},f={channel_id:t,recipient_id:e.id};return a.default.track(i.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,l({},s,d,c,f))},t.trackGamePopoutOpened=function(e,t,r){return a.default.track(i.AnalyticEvents.OPEN_POPOUT,{type:i.AnalyticsLocations.GAME_POPOUT,source:t,location:r,game_id:e.id,sku_id:e.primarySkuId,application_id:e.id,application_name:e.name})},t.trackGameModalOpened=function(e,t,r){return a.default.track(i.AnalyticEvents.OPEN_MODAL,{type:i.AnalyticsLocations.GAME_MODAL,source:t,location:r,application_id:e.id,application_name:e.name,sku_id:e.primarySkuId})};var n,o=r(241),a=(n=r(18))&&n.__esModule?n:{default:n},i=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6068:function(e,t,r){"use strict";t.__esModule=!0,t.isRealGameId=function(e){return"string"==typeof e&&e!==p.SPOTIFY_APPLICATION_ID&&!e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)&&!e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)},t.default=void 0;var n=V(r(5)),o=V(r(125)),a=V(r(3)),i=V(r(2)),l=V(r(841)),u=r(243),s=V(r(126)),d=r(873),c=V(r(7243)),f=Y(r(6571)),p=(V(r(112)),r(828)),y=Y(r(6569)),v=Y(r(6570)),h=r(241),_=V(r(240)),m=V(r(16)),g=V(r(435)),O=V(r(877)),E=V(r(816)),A=V(r(5227)),I=V(r(32)),S=V(r(23)),T=V(r(6330)),b=V(r(90)),P=V(r(6005)),N=V(r(74)),M=V(r(58)),C=V(r(949)),R=V(r(438)),L=V(r(14)),w=V(r(7244)),D=V(r(124)),U=V(r(849)),G=V(r(324)),j=V(r(7021)),k=V(r(861)),F=V(r(210)),x=V(r(7022)),B=r(0);function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function V(e){return e&&e.__esModule?e:{default:e}}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K,z="party-",$="channel-",X="user-",J=6e5,q=216e5,Z=7,Q=3,ee=4,te=30,re=!1,ne=!1,oe=[],ae=[],ie=[],le=[],ue=[],se={},de={},ce=new Set,fe=new Set,pe=null,ye=!1,ve=!1,he=null,_e=new Set,me=[],ge=[],Oe=[],Ee=[];function Ae(e){var t;null==se[e]&&(se=W({},se,((t={})[e]=new v.default({name:e}),t)));return se[e]}function Ie(e){var t;null==de[e]&&(de=W({},de,((t={})[e]=new y.default({url:e}),t)));return de[e]}function Se(e){fe.has(e)||ce.add(e)}function Te(e){if((0,h.isListeningOnSpotify)(e))return p.SpotifyApplication;var t=null!=e.application_id?I.default.getGame(e.application_id):null;return null!=t?t:(0,h.isOnXbox)(e)?Ae(e.name):(0,h.isStreaming)(e)&&null!=e.url?Ie(e.url):(null!=e.application_id&&Se(e.application_id),t)}function be(e){return N.default.isFriend(e.id)}function Pe(){var e=Date.now();null!=he&&e-he<q||(l.default.getActivities(),he=e)}function Ne(){ne&&R.default.isAutosubscribedGamesFetched&&(ae=Ge(),ie=ae.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:I.default.getGame(r)}}),Xe())}function Me(){Xe()}function Ce(e,t){var r,o=e.map(function(e){return e.id}),a=e.filter(function(e){return R.default.isOnFeed(e.id)}),i=!1,l=[],u=new Set,s=!1,d=[],c=function(){if(h){if(g>=f.length)return"break";O=f[g++]}else{if((g=f.next()).done)return"break";O=g.value}var t=O,r=_.default.getStreamForUser(t.id),o=b.default.getPrimaryActivity(t.id);null!=r&&null!=o&&d.push({stream:r,streamUser:t,activity:o});var a=T.default.getUserGame(t.id),c=null!=a?a.gameId:null;if(null==c)return"continue";s=c===p.SPOTIFY_APPLICATION_ID;var m=function(e){var t=I.default.getGame(e);return null!=t?t:e===p.SPOTIFY_APPLICATION_ID?p.SpotifyApplication:e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)?Ae(e.slice(v.XBOX_APPLICATION_ID_PREFIX.length)):e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)?Ie(e.slice(y.TWITCH_APPLICATION_ID_PREFIX.length)):(Se(e),null)}(c);if(null==a||null==m||u.has(m.id))return"continue";var E=null!=o?Te(o):null;null!=E&&E.id===m.id||(o=null);var S=[];if(null!=o&&null!=o.party&&null!=o.party.id){var P=A.default.getParty(o.party.id)||[];S=Array.from(P).reduce(function(e,t){var r=L.default.getUser(t);return null!=r&&e.push(r),e},[])}else S=e.filter(function(e){var t=b.default.getPrimaryActivity(e.id),r=null!=t?Te(t):null;return null!=r&&r.id===m.id});if(s&&S.length<2)return"continue";(S=n.default.orderBy(S,[be],["desc"])).length!==e.length&&(i=!0),u.add(m.id),l.push({game:m,activity:o,activityUser:t,startedPlayingTime:a.startedPlaying,playingMembers:S})};var f=e,h=Array.isArray(f),g=0;e:for(f=h?f:f[Symbol.iterator]();;){var O;switch(c()){case"break":break e;case"continue":continue}}var E,P,N=1===a.length,M=[],C=new Set,U=new Set,G=e,j=Array.isArray(G),k=0;for(G=j?G:G[Symbol.iterator]();;){var F;if(j){if(k>=G.length)break;F=G[k++]}else{if((k=G.next()).done)break;F=k.value}var x=F,B=w.default.getChannel(x.id).channelId,Y=m.default.getChannel(B),V=null!=Y?Y.getGuildId():null,H=S.default.getGuild(V);if(U.has(V)&&C.has(B)||null==Y||null==H)null==Y&&(r=null,N=!0);else{var W=(0,n.default)(D.default.getVoiceStatesForChannel(V,B)).map(function(e){var t=e.userId;return L.default.getUser(t)}).filter(function(e){return null!=e}).orderBy([be],["desc"]).value();W.filter(function(e){return!o.includes(e.id)}).forEach(function(t){return e.push(t)}),N?U.has(V)||(r=null):(r=H,N=!0),U.add(V),C.add(B),M.push({channel:Y,guild:H,members:W})}}return{id:t,voiceChannels:M,isSpotifyActivity:s,priorityMembers:a.map(function(e){return{user:e,status:b.default.getStatus(e.id)}}),partiedMembers:e,showPlayingMembers:i,guildContext:r,currentActivities:(E=l,P=function(e){return e.startedPlayingTime},(0,n.default)(E).orderBy([P,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:d}}function Re(){var e=new Set,t=j.default.getExperimentDescriptor(),r=R.default.gameIDsToShow,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if((o=r.next()).done)break;a=o.value}var i=a;e.add(i)}return 0!==e.size||null!=t&&t.bucket!==B.ExperimentBuckets.CONTROL||C.default.trendingApplications.map(function(t){var r=t.game_id;return e.add(r)}),e}function Le(){var e=Re();i.default.wait(function(){return s.default.getGameNews(Array.from(e))}),ye=!0}function we(){R.default.isAutosubscribedGamesFetched||f.fetchSettings({includeAutosubscribedGames:!0})}function De(){var e=U.default.isEligibleForExperiment()?U.default.getGuilds():G.default.getGuilds();null!=e&&(_e.forEach(function(t){null==e||e.some(function(e){return e===t})||_e.delete(t)}),(e=e.filter(function(e){return!_e.has(e)})).length>0&&((0,d.fetchGuildsForSection)(e,B.GuildDiscoverySections.MISC),e.forEach(function(e){return _e.add(e)})))}var Ue=function(e){return null!=e&&null!=e.title&&null!=e.url&&(null==e.type||e.type===B.EmbedTypes.VIDEO||e.type===B.EmbedTypes.ARTICLE||e.type===B.EmbedTypes.RICH||e.type===B.EmbedTypes.APPLICATION_NEWS||e.type===B.EmbedTypes.LINK)};function Ge(){var e=new Set,t=Re(),r=[],o=function(){if(i){if(l>=a.length)return"break";u=a[l++]}else{if((l=a.next()).done)return"break";u=l.value}var t=u;E.default.getRecentByGameId(t).filter(Ue).forEach(function(n){return o=n,a=t,e.add(o.url),void r.push({news:o,applicationId:a});var o,a})},a=t,i=Array.isArray(a),l=0;for(a=i?a:a[Symbol.iterator]();;){var u;if("break"===o())break}return(0,n.default)(r).orderBy(function(e){var t=e.news;return new Date(t.timestamp||new Date).getTime()},["desc"]).value().slice(0,te)}function je(){return re&&g.default.isConnected()}function ke(){if(!je())return!1;ce.clear();var e,t,r,o,a=Array.from(R.default.feedUserIDs).reduce(function(e,t){var r=L.default.getUser(t);return null==r||r.bot||e.push(r),e},[]),l=(e=a,void 0===t&&(t=!1),(0,n.default)(e).groupBy(function(e){if(t)return X+"-"+e.id;var r=w.default.getChannel(e.id).channelId,n=b.default.getPrimaryActivity(e.id);return null!=r?$+"-"+r:null!=n&&null!=n.party&&null!=n.party.id?z+"-"+n.party.id:X+"-"+e.id})),u=(r=l,(0,n.default)(r).mapValues(Ce)),d=u.values().orderBy([function(e){return e.currentActivities.length>0},function(e){return e.partiedMembers.length>1},function(e){return e.priorityMembers.map(function(e){return e.user.username.toLowerCase()}).join(" ")}],["desc","desc","asc"]).value();oe=function(e){return e.filter(function(e){return e.isSpotifyActivity?e.partiedMembers.length>1:e.priorityMembers.length>1||e.currentActivities.length>0||e.applicationStreams.length>0})}(d),le=function(e){var t=n.default.groupBy(e,function(e){var t=e.id,r=e.priorityMembers,n=e.voiceChannels,o=e.currentActivities;if(r.length>1||n.length>0)return"party-"+t;var a=o[0],i=a.game,l=a.activity;return null!=l&&(0,h.hasRichActivity)(l)?"party-"+t:"game-"+i.id});return Object.keys(t).map(function(e){var r=t[e];return 1===r.length?{type:B.ActivityCardTypes.USER,party:r[0]}:{type:B.ActivityCardTypes.GAME,game:r[0].currentActivities[0].game,parties:r}})}(oe),o=[],le.forEach(function(e){e.type===B.ActivityCardTypes.GAME?e.parties.forEach(function(e){o.push({type:B.ActivityCardTypes.USER,party:e})}):o.push(e)}),ue=o,ne&&R.default.isAutosubscribedGamesFetched&&(ae=Ge(),ie=ae.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:I.default.getGame(r)}})),!C.default.loaded&&C.default.shouldFetch()&&i.default.wait(function(){return c.default.fetchTrendingApplications()}),Le(),function(){if(!ve&&ne&&ye&&!(ce.size>0)){var e=Re(),t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var o=n;if(!E.default.isFetched(o))return}ve=!0}}(),Xe(),function(){if(ce.size>0){var e=Array.from(ce);s.default.fetchApplications(e),e.forEach(function(e){return fe.add(e)}),ce.clear()}}()}var Fe=n.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1}),xe=n.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1});var Be=n.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1});function Ye(e){return{type:B.FeedCardTypes.NEWS,key:e.news.game_id+"-"+(e.news.url||"no-url"),data:e}}function Ve(){return{type:B.FeedCardTypes.SIDE_BAR,key:"side-bar"}}function He(e){for(var t,r=[],n=0;n<e;n++)r.push((t=n.toString(),{type:B.FeedCardTypes.PLACEHOLDER,key:t}));return r}function We(){return{type:B.FeedCardTypes.NO_NEWS,key:"no-news"}}function Ke(){return{type:B.FeedCardTypes.GDPR,key:"opt-in"}}function ze(){return{type:B.FeedCardTypes.GDPR_SIDE_BAR,key:"gdpr-side-bar"}}function $e(){return{type:B.FeedCardTypes.NO_GAMES,key:"no-games"}}function Xe(){var e,t=x.default.promotions,r=R.default.gameIDsToShow.size,n=t.length>0?(e=t[0],{type:B.FeedCardTypes.PROMOTION,key:e.id,data:e}):null,o=O.default.hasConsented(B.Consents.PERSONALIZATION),a=R.default.hasDismissedPersonalizationNotice,i=R.default.hasDismissedNoGamesNotice,l=ae.map(Ye);o?0!==r&&0!==ae.length||i?0===ae.length&&null==n?(me=[We()],ge=[We()]):(me=l.slice(),ge=l.slice(),n&&(me.splice(1,0,n),ge.splice(0,0,n))):(ge=[$e()],me=[$e()],n&&(me.push(n),ge.push(n)),ge=ge.concat(l),me=me.concat(l)):(me=a?[]:[Ke()],ge=a?[]:[Ke()],n&&(me.push(n),ge.push(n)),ge=ge.concat(l),me=me.concat(l)),Oe=[o?Ve():ze()],ge.splice(1,0,o?Ve():ze());var u=Z-me.length,s=Z-ge.length;me.length<Q&&u>0&&(me=me.concat(He(u))),ge.length<ee&&s>0&&(ge=ge.concat(He(s)))}var Je=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,i,l=n.prototype;return l.initialize=function(){this.syncWith([T.default,L.default,I.default,b.default,A.default,D.default,_.default,N.default,w.default,P.default,O.default],function(){return!!je()&&(ve?(Fe(),!1):void ke())}),this.syncWith([R.default,j.default],ke),this.syncWith([M.default,k.default,F.default,C.default],function(){return Be(),!1}),this.syncWith([G.default,U.default],De),this.waitFor(g.default,S.default,I.default,R.default,F.default,G.default,U.default,L.default)},l.getFeed=function(e){switch(e){case B.FeedLayouts.TWO_COL:return ge;case B.FeedLayouts.THREE_COL:default:return me}},l.getSidebar=function(e){switch(e){case B.FeedLayouts.TWO_COL:return Ee;case B.FeedLayouts.THREE_COL:default:return Oe}},o=n,(a=[{key:"currentActivityParties",get:function(){return oe}},{key:"nowPlayingCards",get:function(){return le}},{key:"nowPlayingCardsAF2",get:function(){return ue}},{key:"news",get:function(){return ae}},{key:"newsAF1",get:function(){return ie}},{key:"loaded",get:function(){return ve&&x.default.loaded}},{key:"loadId",get:function(){return pe}},{key:"isMounted",get:function(){return re}}])&&H(o.prototype,a),i&&H(o,i),n}(a.default.Store))(i.default,{ACTIVITY_FEED_MOUNT:function(e){return re=!0,ve=null!=K&&Date.now()-K<J,pe=o.default.v4(),ye=!1,ke(),g.default.isConnected()&&(we(),Pe()),void(ve||Le())},ACTIVITY_FEED_UNMOUNT:function(e){return re=!1,void(ve&&(K=Date.now()))},ACTIVITIES_UPDATE:function(e){return ne=!0,xe(),!1},CONNECTION_OPEN:function(e){return function(){if(je()){i.default.wait(function(){return c.default.fetchTrendingApplications()}),we(),Pe(),Le();var e=U.default.isEligibleForExperiment(),t=L.default.getCurrentUser();e&&null!=t&&t.premiumType!==B.PremiumTypes.NONE&&i.default.wait(function(){return(0,u.fetchSubscriptions)()})}}()},PROMOTIONS_FETCH_START:function(e){return Me()},PROMOTIONS_FETCH_SUCCESS:function(e){return Me()},PROMOTIONS_FETCH_FAIL:function(e){return Me()},GAME_NEWS_FETCH:function(e){return Ne()},GAME_NEWS_UPDATE:function(e){return Ne()},GAME_NEWS_READ:function(e){return Ne()},GAME_NEWS_HIDE:function(e){return Ne()},LOGOUT:function(e){return re=!1,ne=!1,oe=[],ae=[],he=null,pe=null,ye=!1,ve=!1,me=[],ge=[],Oe=[],void ce.clear()}}),qe=Je;t.default=qe},6069:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.NO_PAYMENT_SOURCE=void 0;var n=i(r(3)),o=i(r(2)),a=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s="no_payment_source";t.NO_PAYMENT_SOURCE=s;var d,c,f=null,p=null,y=null,v=null,h=null,_={},m=null,g=!1,O=null,E=!1,A=!1,I=!1,S=!1,T=null;function b(e){null!=d&&null!=m?d(m):null!=c&&c(e),d=null,c=null}var P=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,i,u,s=n.prototype;return s.getPricesForSku=function(e){return _[e]},s.isOpen=function(){var e=__OVERLAY__?a.AppContext.OVERLAY:a.AppContext.APP;return T===e&&I},s.getProps=function(){return{appContext:T,skuId:f,applicationId:y}},o=n,(i=[{key:"isPurchasingSKU",get:function(){return g}},{key:"forceConfirmationStepOnMount",get:function(){return E}},{key:"error",get:function(){return O}},{key:"skuId",get:function(){return f}},{key:"applicationId",get:function(){return y}},{key:"analyticsLocation",get:function(){return v}},{key:"promotionId",get:function(){return h}},{key:"isIAP",get:function(){return A}},{key:"giftCode",get:function(){return p}},{key:"isGift",get:function(){return S}}])&&l(o.prototype,i),u&&l(o,u),n}(n.default.Store))(o.default,{SKU_PURCHASE_MODAL_OPEN:function(e){b(),f=e.skuId,y=e.applicationId,A=e.isIAP,v=e.analyticsLocation,T=e.context,S=e.isGift,I=!0,E=!1,d=e.resolve,c=e.reject,O=null,m=null,h=e.promotionId},SKU_PURCHASE_MODAL_CLOSE:function(e){var t=e.error;I=!1,T=null,b(t)},SKU_PURCHASE_PREVIEW_FETCH_SUCCESS:function(e){var t,r,n=e.skuId,o=e.paymentSourceId,a=e.price;_=u({},_,((r={})[n]=u({},_[n],((t={})[null!=o?o:s]=a,t)),r))},SKU_PURCHASE_START:function(e){g=!0},SKU_PURCHASE_SUCCESS:function(e){var t=e.entitlements,r=e.giftCode;g=!1,m=t,p=r},SKU_PURCHASE_FAIL:function(e){var t=e.error;g=!1,O=t},SKU_PURCHASE_SHOW_CONFIRMATION_STEP:function(e){E=!0},SKU_PURCHASE_CLEAR_ERROR:function(e){O=null},SKU_PURCHASE_UPDATE_IS_GIFT:function(e){S=e.isGift},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==T)return!1;I=!1,T=null,b()}});t.default=P},6070:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.SpotifyActionTypes=void 0;var n=E(r(1)),o=O(r(3)),a=r(57),i=O(r(56)),l=O(r(419)),u=E(r(322)),s=O(r(7264)),d=O(r(173)),c=O(r(10)),f=O(r(75)),p=O(r(256)),y=O(r(18)),v=O(r(250)),h=r(319),_=r(6572),m=r(0),g=O(r(8));function O(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var A=3e4,I=d.default.get(m.PlatformTypes.SPOTIFY).name,S={USER_ACTIVITY_PLAY:"user_activity_play",USER_ACTIVITY_SYNC:"user_activity_sync",EMBED_SYNC:"embed_sync"};t.SpotifyActionTypes=S;var T=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={loading:!1},t.loadingTimeout=new a.Timeout,t._mounted=!1,t.handleClick=function(){var e=t.props,r=e.activity,n=e.hasSpotifyAccount,o=e.type,a=e.user,d=e.source;n?null!=r.sync_id&&(t.setState({loading:!0}),t.loadingTimeout.start(A,t.clearLoading),(0,h.ensureSpotifyPlayable)().then(function(){switch(o){case S.USER_ACTIVITY_PLAY:u.play(r,a.id),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:o,source:d,is_premium:(0,h.isSpotifyPremium)(),other_user_id:a.id});break;case S.USER_ACTIVITY_SYNC:case S.EMBED_SYNC:(0,h.ensureSpotifyPremium)().then(function(){return u.sync(t.props.activity,a.id)},function(e){return i.default.push(s.default),Promise.reject(e)}).catch(function(){t.clearLoading(),l.default.close()}),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:o,source:d,is_premium:(0,h.isSpotifyPremium)(),party_id:null!=r.party?r.party.id:null,other_user_id:a.id})}}).catch(function(){return t.clearLoading()})):(0,_.authorize)(m.PlatformTypes.SPOTIFY,"Spotify Button")},t.clearLoading=function(){t._mounted&&(t.loadingTimeout.stop(),t.setState({loading:!1}))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){this._mounted=!0},o.UNSAFE_componentWillReceiveProps=function(e){(null!=e.currentUserTrackId&&e.currentUserTrackId!==this.props.currentUserTrackId||e.isSyncingWithUser)&&this.state.loading&&this.clearLoading()},o.componentWillUnmount=function(){this.loadingTimeout.stop(),this._mounted=!1},o.renderPlayButton=function(){var e,t=this.props,r=t.activity,n=t.hasSpotifyAccount,o=t.isSpotifyPlayable,a=t.isCurrentUser,i=t.currentUserTrackId,l=(t.channelId,t.guildId,t.nickname,t.source,t.user,t.isSyncingWithUser,t.isSyncingWithParty,t.children),u=this.state.loading;e=n?g.default.Messages.USER_ACTIVITY_PLAY_ON_PLATFORM.format({platform:I}):g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:I});var s,d=n&&!o,c=i===r.sync_id;return a?s=g.default.Messages.USER_ACTIVITY_CANNOT_PLAY_SELF:c?s=g.default.Messages.USER_ACTIVITY_ALREADY_PLAYING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:I})),l({disabled:!u&&(a||d||c),loading:u,tooltip:s,label:e,onClick:this.handleClick})},o.renderSyncButton=function(){var e=this.props,t=e.hasSpotifyAccount,r=e.isSpotifyPlayable,n=e.isCurrentUser,o=e.isSyncingWithUser,a=e.isSyncingWithParty,i=e.user,l=e.nickname,u=(e.currentUserTrackId,e.size,e.activity,e.channelId,e.guildId,e.source,e.children),s=this.state.loading;return t&&r?u({disabled:!s&&(n||o||a),loading:s,tooltip:n?g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:o||a?g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:g.default.Messages.USER_ACTIVITY_LISTEN_ALONG_DESCRIPTION.format({name:l||i}),onClick:this.handleClick}):null},o.renderJoinButton=function(){var e,t=this.props,r=t.hasSpotifyAccount,n=t.isSpotifyPlayable,o=t.isCurrentUser,a=t.isSyncingWithUser,i=t.isSyncingWithParty,l=(t.activity,t.channelId,t.currentUserTrackId,t.guildId,t.nickname,t.source,t.user,t.children),u=this.state.loading;e=r?a||i?g.default.Messages.INVITE_EMBED_JOINED:g.default.Messages.JOIN:g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:I});var s,d=r&&!n,c=o||a||i||d;return o?s=g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:a||i?s=g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:I})),l({disabled:c,loading:u,tooltip:s,label:e,onClick:this.handleClick})},o.render=function(){switch(this.props.type){case S.USER_ACTIVITY_PLAY:return this.renderPlayButton();case S.USER_ACTIVITY_SYNC:return this.renderSyncButton();case S.EMBED_SYNC:return this.renderJoinButton();default:return null}},n}(n.Component);T.displayName="SpotifyAction";var b=o.default.connectStores([p.default,c.default,f.default],function(e){var t,r=p.default.getTrack(),n=p.default.getSyncingWith(),o=e.activity.party,a=p.default.getActivity();return t=null!=r?r.id:null!=a?a.sync_id:p.default.getLastPlayedTrackId(),{isCurrentUser:e.user.id===c.default.getId(),hasSpotifyAccount:p.default.hasConnectedAccount(),isSpotifyPlayable:(0,h.isSpotifyPlayable)(p.default),isSyncingWithParty:null!=a&&null!=a.party&&null!=o&&o.id===a.party.id,isSyncingWithUser:null!=n&&n.userId===e.user.id,currentUserTrackId:t,nickname:v.default.getNickname(e.guildId,e.channelId,e.user)}})(T);t.default=b},6071:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=_(r(5)),o=_(r(3)),a=_(r(25)),i=_(r(2)),l=_(r(6573)),u=_(r(7026)),s=_(r(173)),d=_(r(18)),c=_(r(11)),f=_(r(450)),p=_(r(237)),y=_(r(39)),v=_(r(168)),h=r(0);function _(e){return e&&e.__esModule?e:{default:e}}var m,g="DetectedPlatformAccountsStore",O=[],E=[],A=[],I=h.DetectedPlatformAccountsDisplayTypes.NONE,S={},T=[],b=new u.default(function(e,t){var r=f.default.getAccounts(),n=s.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===E.indexOf(e)}).filter(function(e){return!r.some(function(t){return t.type===e})}).filter(function(e){return!O.some(function(t){return t.type===e})});n.length>0&&(t||y.default.detectPlatformAccounts)&&l.default.detectAccounts(n),e()});function P(){if(A=[],!p.default.enabled){var e=f.default.getAccounts().filter(function(e){return h.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});A=n.default.without.apply(n.default,[[h.PlatformTypes.FACEBOOK].concat(E)].concat(e))}}var N=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.initialize=function(){this.waitFor(f.default,v.default,p.default,y.default),E=a.default.get(g)||E},o.getDetectedAccounts=function(){return O},o.getDisplayType=function(){return p.default.enabled?h.DetectedPlatformAccountsDisplayTypes.NONE:I},o.getAvailablePlatformTypes=function(){return A},o.hasAvailablePlatformType=function(e){return A.includes(e)},o.getNotDetectedPlatformTypes=function(){return T},o.isDetecting=function(e){return S[e]||!1},o.isOpen=function(){return this.getDisplayType()===h.DetectedPlatformAccountsDisplayTypes.MODAL},o.getProps=function(){return{detectedAccounts:O,displayType:I,analyticsLocation:m}},n}(o.default.Store))(i.default,{CONNECTION_OPEN:function(e){return c.default.embedded&&(b.start(6e4),b.run()),void P()},CONNECTION_CLOSED:function(e){return b.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return c.default.embedded&&b.run(),void P()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,r=e.location;t.forEach(function(e){return S[e]=!0}),null!=r&&(T=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,r=e.accounts,n=e.location;t.forEach(function(e){return S[e]=!1});var o=f.default.getAccounts();O=[].concat(O.filter(function(e){return-1===t.indexOf(e.type)}),r.filter(function(e){return!o.some(function(t){return e.type===t.type&&e.id===t.id})}));var a=null!=n;O.length>0?(a?I=h.DetectedPlatformAccountsDisplayTypes.MODAL:I===h.DetectedPlatformAccountsDisplayTypes.NONE&&(I=v.default.isFocused()?h.DetectedPlatformAccountsDisplayTypes.NOTICE:h.DetectedPlatformAccountsDisplayTypes.MODAL),r.forEach(function(e){d.default.track("detect_platform_account",{platform_type:e.type,display_type:I,location:n})})):I=h.DetectedPlatformAccountsDisplayTypes.NONE,a&&(T=t.filter(function(e){return!O.some(function(t){return t.type===e})})),m=n},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,n.default)(O).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){d.default.track("ignore_platform_account",{platform_type:e,display_type:I})}),E=n.default.uniq([].concat(E,O.map(function(e){return e.type}))),a.default.set(g,E),P(),O=[],I=h.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){I=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;I!==h.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(I=h.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return P()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return P()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return P()},EXPERIMENT_OVERRIDE_TYPE:function(e){return P()}});t.default=N},6072:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=l(r(15)),i=l(r(5357));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).containerRef=o.createRef(),r.getMarkerState=function(e){var t=e.markers,n=e.defaultValue,o=e.minValue,a=e.maxValue,i=[],l=[];if(null==t)return{min:o,max:a,range:a-o,sortedMarkers:i,markerPositions:l};i=t.sort(function(e,t){return e-t});var u=r.findClosestMarkerByIndex(n,i),s=i[0],d=i[i.length-1],c=d-s;if(r.props.equidistant){var f=100/(i.length-1);l=i.map(function(e,t){return t*f})}else{l=i.map(function(e){return 100*(e-s)/c})}return{min:s,max:d,range:c,sortedMarkers:i,markerPositions:l,closestMarkerIndex:u}},r.moveGrabber=function(e){var t=r.state,n=t.sortedMarkers,o=t.value,a=t.min,i=t.max,l=r.props,u=l.asValueChanges,s=l.onValueChange,d={};if(l.stickToMarkers){var c=n.indexOf(o);if(c<0)return;var f=c+e,p=n[f];if(null==p)return;d.value=p,d.closestMarkerIndex=f,d.newClosestIndex=f}else{var y=o+e;if(y>i||y<a)return;d.value=y}r.setState(d),u&&u(d.value),s&&s(d.value)},r.handleKeyDown=function(e){if(!r.props.disabled){var t=e.key;"ArrowLeft"===t||"ArrowDown"===t?(e.preventDefault(),r.moveGrabber(-1)):"ArrowRight"!==t&&"ArrowUp"!==t||(e.preventDefault(),r.moveGrabber(1))}},r.handleMouseDown=function(e){if(!r.props.disabled){document.addEventListener("mousemove",r.handleMouseMove,!0),document.addEventListener("mouseup",r.handleMouseUp,!0);var t=r.containerRef.current;if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");r.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:r.state.closestMarkerIndex})}},r.handleMouseUp=function(){r.reset();var e=r.props,t=e.onValueChange,n=e.stickToMarkers,o=r.state.newClosestIndex;n&&null!=o?(t&&t(r.state.sortedMarkers[o]),r.setState({newClosestIndex:null,closestMarkerIndex:o})):t&&t(r.state.value)},r.handleMouseMove=function(e){e.preventDefault(),r.props.stickToMarkers?r.moveStaggered(e):r.moveSmoothly(e)},r.state=s({value:t.defaultValue},r.getMarkerState(t),{newClosestIndex:null}),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){null==this.state.newClosestIndex&&this.props.defaultValue!==e.defaultValue&&this.setState(s({value:e.defaultValue},this.getMarkerState(e)))},l.componentWillUnmount=function(){this.reset()},l.renderBubble=function(e){var t=this.state.value,r=this.props,n=r.stickToMarkers,o=r.onValueRender;if(!n)return u("span",{className:i.default.bubble},void 0,o?o(t):e.toFixed(0)+"%")},l.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},l.render=function(){var e,t=this,r=this.state,n=r.value,l=r.sortedMarkers,d=r.markerPositions,c=r.closestMarkerIndex,f=r.newClosestIndex,p=r.min,y=r.max,v=this.props,h=v.disabled,_=v.stickToMarkers,m=v.className,g=v.children,O=v.barStyles,E=v.fillStyles,A=v.mini,I=v.hideBubble,S=0;_?null!=d&&(null!=f?S=d[f]:null!=c&&(S=d[c])):S=this.scaleValue(n);var T=S+"%",b=d&&l?d.map(function(e,r){var n=t.renderMark(l[r]);return u("div",{className:i.default.mark,style:{left:e+"%"}},r,u("div",{className:i.default.markValue},void 0,n),u("div",{className:i.default["markDash"+(null==n?"simple":"")]}))}):null;return o.createElement("div",{className:(0,a.default)(i.default.slider,m,(e={},e[i.default.disabled]=h,e[i.default.mini]=A,e)),"aria-valuemin":p,"aria-valuemax":y,"aria-valuenow":n,"aria-disabled":h,role:"slider",tabIndex:"0",onKeyDown:this.handleKeyDown,ref:this.containerRef},u("input",{type:"number",className:i.default.input,value:S.toFixed(0),readOnly:!0}),u("div",{className:i.default.track},void 0,b),u("div",{className:i.default.bar,style:O},void 0,u("div",{className:i.default.barFill,style:s({},E,{width:T})})),g,u("div",{className:i.default.track},void 0,u("div",{className:i.default.grabber,style:{left:T},onMouseDown:this.handleMouseDown},void 0,I?null:this.renderBubble(S))))},l.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},l.findClosestMarkerByIndex=function(e,t){for(var r=null!=t?t:this.state.sortedMarkers,n=0,o=0;o<r.length;o++){var a=r[o];if(e===a)return o;if(e<a)return 0===n?o:a-e<n?o:o-1;n=e-a}return null},l.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},l.unscaleValue=function(e){return e*this.state.range/100+this.state.min},l.moveStaggered=function(e){var t=this.state,r=t.boundingRect,n=t.x,o=void 0===n?0:n,a=t.closestMarkerIndex,i=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,s=r||{},d=s.left,c=s.right;if(!(e.clientX<=d||e.clientX>=c)){var f,p=c-d,y=(e.clientX-o)/p,v=i[a]+100*y;if(this.props.equidistant)f=this.findClosestMarkerByIndex(v,i);else{var h=this.unscaleValue(v);f=this.findClosestMarkerByIndex(h)}null!=f&&u&&u(l[f]),this.setState({newClosestIndex:f})}},l.moveSmoothly=function(e){var t=this.props,r=t.minValue,n=t.maxValue,o=t.handleSize,a=t.asValueChanges,i=this.state.boundingRect,l=i.left,u=i.right,s=this.state.x-e.clientX,d=(this.state.value-r)/(n-r);if(!(e.clientX<=l&&s<0||e.clientX>=u&&s>0)){var c=u-l-o,f=c*d;d=Math.min(Math.max(f-s,0),c)/c}var p=r+d*(n-r);a&&a(p),this.setState({value:p,x:e.clientX})},n}(o.PureComponent);d.displayName="Slider",d.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var c=d;t.default=c},6142:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.NO_VOICE_STATES=void 0;var n=f(r(5)),o=f(r(3)),a=f(r(2)),i=f(r(144)),l=f(r(10)),u=f(r(75)),s=f(r(14)),d=f(r(124)),c=r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=Object.freeze([]);t.NO_VOICE_STATES=y;var v={},h=[];function _(e){var t=v[e];return null==t&&(t=new E(e),v[e]=t),t}function m(e,t){return u.default.getNick(e,t.id)||t.toString()}function g(e){return{nick:e,comparator:e.toLowerCase()}}function O(e,t,r){var n=s.default.getUser(r),o=null==n;null==n&&(n=new i.default({id:r,username:"...",discriminator:r.slice(-5,-1)}));var a=p({voiceState:e,user:n},function(e,t){return g(m(e,t))}(t,n));return o&&(a._isPlaceholder=!0),a}var E=function(){function e(e){this.guildId=e,this._voiceStates={},this._sortedVoiceStates=null}var t=e.prototype;return t.isInvalid=function(){return null==this._sortedVoiceStates},t.invalidate=function(){this._sortedVoiceStates=null},t.updateVoiceState=function(e){var t=d.default.getVoiceState(this.guildId,e),r=this._voiceStates[e];null!=t?null==r?(this._voiceStates[e]=O(t,this.guildId,e),this.invalidate()):r.voiceState!==t&&(this._voiceStates[e]=p({},r,{voiceState:t}),this.invalidate()):null!=r&&(delete this._voiceStates[e],this.invalidate())},t.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var r=m(this.guildId,t.user);if(r!==t.nick)return this._voiceStates[e]=p({},t,g(r)),this.invalidate(),!0}return!1},t.forEach=function(e){var t=this.isInvalid();n.default.forEach(this._voiceStates,e);var r=this.isInvalid();return r&&r!==t},t.updateUsers=function(){var e=this;return this.forEach(function(t,r){var n=s.default.getUser(r);null!=n&&t.user!==n&&(e._voiceStates[r]=O(t.voiceState,e.guildId,r),e.invalidate())})},t.updateNicks=function(){var e=this;return this.forEach(function(t,r){if(!t._isPlaceholder){var n=m(e.guildId,t.user);t.nick!==n&&(e._voiceStates[r]=p({},t,g(n)),e.invalidate())}})},t.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,n.default)(this._voiceStates).sortBy(function(e){return e.comparator}).sortBy(function(e){return!e.voiceState.selfStream}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}();function A(){return n.default.reduce(v,function(e,t){return t.updateUsers()||e},!1)}function I(){h.forEach(function(e){var t=e.guildId,r=e.userId;_(t||c.ME).updateVoiceState(r)}),h=[]}function S(){v={},h=[];var e=d.default.getAllVoiceStates();Object.keys(e).forEach(function(t){Object.keys(e[t]).forEach(function(e){_(t||c.ME).updateVoiceState(e)})})}var T=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.initialize=function(){S(),this.waitFor(l.default,s.default,u.default,d.default),this.syncWith([s.default],A),this.syncWith([d.default],I)},o.getVoiceStates=function(e){return _(e||c.ME).getVoiceStates()},o.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||c.ME)[t]||y},n}(o.default.Store))(a.default,{CONNECTION_OPEN:function(e){return v={},void(h=[])},OVERLAY_INITIALIZE:function(e){S()},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,r=l.default.getId();return null!=r&&h.push({guildId:t||c.ME,userId:r}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,r=e.userId;return h.push({guildId:t||c.ME,userId:r}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,r=e.user;return _(t).updateNick(r.id)},GUILD_DELETE:function(e){var t=e.guild;delete v[t.id]}});t.default=T},6144:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.BotTagTypes=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=u(r(15)),a=u(r(99)),i=u(r(8)),l=u(r(5578));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)({BOT:null,SERVER:null});t.BotTagTypes=s;var d=function(e){var t=e.invertColor,r=void 0!==t&&t,a=e.type,u=void 0===a?s.BOT:a,d=e.className,c=null;switch(u){case s.SERVER:c=i.default.Messages.BOT_TAG_SERVER;break;case s.BOT:default:c=i.default.Messages.BOT_TAG_BOT}return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:(0,o.default)(r?l.default.botTagInvert:l.default.botTagRegular,d)},void 0,c)};d.displayName="BotTag",d.Types=s;var c=d;t.default=c},6145:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=X(r(1)),a=$(r(15)),i=$(r(5)),l=$(r(3)),u=r(6146),s=r(304),d=$(r(126)),c=$(r(417)),f=$(r(56)),p=$(r(419)),y=($(r(144)),$(r(816))),v=$(r(32)),h=$(r(23)),_=$(r(6330)),m=$(r(6005)),g=$(r(40)),O=$(r(438)),E=$(r(14)),A=$(r(6068)),I=$(r(7246)),S=$(r(82)),T=$(r(6684)),b=$(r(166)),P=$(r(96)),N=$(r(5960)),M=$(r(794)),C=$(r(165)),R=$(r(5935)),L=$(r(414)),w=$(r(412)),D=$(r(791)),U=$(r(72)),G=$(r(5841)),j=$(r(789)),k=$(r(415)),F=X(r(6067)),x=$(r(856)),B=$(r(5846)),Y=$(r(5216)),V=$(r(6006)),H=$(r(5217)),W=r(0),K=$(r(8)),z=$(r(5597));function $(e){return e&&e.__esModule?e:{default:e}}function X(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ee=600,te=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).state={playingNewsVideo:!1},t.numIntentionalNewsChange=0,t.handleNewsClick=function(e,r){var n=t.props,o=n.game,a=n.location;F.trackGameNewsOpened(a,e,r,o)},t.handleVideoPlay=function(){t.setState({playingNewsVideo:!0})},t.handleIntentionalCarouselChange=function(){t.numIntentionalNewsChange++,t.setState({playingNewsVideo:!1})},t.renderNewsItem=function(e,r){return Z(I.default,{game:t.props.game,news:e,className:z.default.news,backgroundClassname:z.default.background,onClick:function(){return t.handleNewsClick(e,r)},onVideoPlay:t.handleVideoPlay})},t.renderEmptyBody=function(){var e=t.props.game.getSplashURL(ee)||r(7260);return Z("div",{className:z.default.newsEmpty,style:null!=e?{backgroundImage:"url("+e+")"}:null})},t}Q(t,e);var n=t.prototype;return n.componentWillUnmount=function(){if(this.numIntentionalNewsChange>0){var e=this.props,t=e.game,r=e.location;F.trackGameNewsChanged(r,t,this.numIntentionalNewsChange)}},n.render=function(){var e=this.props.gameNews;return 0===e.length?this.renderEmptyBody():1===e.length?Z("div",{className:z.default.news},void 0,this.renderNewsItem(e[0])):Z(T.default,{className:z.default.carousel,paginationClassName:z.default.carouselPagination,includeHitboxPadding:!1,items:e,renderItem:this.renderNewsItem,delay:1e4,onIntentionalChange:this.handleIntentionalCarouselChange})},t}(o.PureComponent);te.displayName="GamePreviewNews";var re=l.default.connectStores([y.default],function(e){var t=e.game;return{gameNews:y.default.getByGameId(t.id)}})(te),ne=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderUserPopout=function(e,r){return o.createElement(H.default,q({},r,{analyticsParams:{location:t.props.location},userId:e.id}))},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement(Y.default,q({},e,{type:W.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderPlayer=function(e,r){var n=e.user,o=e.lastPlayedDate;void 0===r&&(r=!1);var a=r?Z(w.default,{text:n.username},void 0,Z(G.default,{className:z.default.overflowAvatar,size:G.default.Sizes.SIZE_24,src:n.getAvatarURL(),"aria-label":n.username})):Z("div",{className:z.default.player},void 0,Z(w.default,{text:n.username},void 0,Z(G.default,{src:n.getAvatarURL(),"aria-label":n.username,size:G.default.Sizes.SIZE_24})),Z(k.default,{className:z.default.username},void 0,n.username),null!=o?Z(R.default,{className:z.default.playtime,end:o,location:R.default.Locations.ACTIVITY_FEED_NEW}):Z(k.default,{className:z.default.nowPlaying,size:k.default.Sizes.SIZE_12},void 0,K.default.Messages.ACTIVITY_FEED_USER_PLAYING));return Z(L.default,{render:function(e){return t.renderUserPopout(n,e)},position:L.default.Positions.LEFT,closeOnScroll:!1,dependsOn:t.props.popoutKey},n.id,Z("div",{onContextMenu:function(e){return t.handleContextMenu(e,n)}},void 0,a))},t}Q(t,e);var n=t.prototype;return n.renderOverflowPlayers=function(){var e=this,t=this.props,r=t.nowPlayingUsers,n=t.recentlyPlayedUsers,a=r.concat(n);if(a.length<=3)return null;var l=a.slice(3),u=(0,i.default)(l).take(4).map(function(t){return e.renderPlayer(t,!0)}).value();return 5===l.length?u.push(this.renderPlayer(l[4],!0)):l.length>5&&u.push(Z("div",{className:z.default.overflowPlayerCount},void 0,"+",l.length-5+1)),Z(o.Fragment,{},void 0,Z(D.default,{className:z.default.divider}),Z("div",{className:z.default.overflowPlayers},void 0,u))},n.render=function(){var e=this,t=this.props,n=t.nowPlayingUsers,o=t.recentlyPlayedUsers,a=n.concat(o);if(0===a.length)return Z("div",{className:z.default.emptyPlayers},void 0,Z("img",{src:r(7261),alt:""}),Z(k.default,{color:k.default.Colors.MUTED},void 0,K.default.Messages.GAME_POPOUT_NO_RECENT_PLAYERS));var l=(0,i.default)(a).take(3).value();return Z("div",{className:z.default.players},void 0,Z(U.default,{tag:U.default.Tags.H5,className:z.default.title},void 0,K.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),l.map(function(t){return e.renderPlayer(t)}),this.renderOverflowPlayers())},t}(o.PureComponent);function oe(e){return null==e?[]:i.default.values(e).sort(function(e,t){return t.date-e.date}).map(function(e){var t=e.date,r=e.userId;return{lastPlayedDate:t,user:E.default.getUser(r)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})}ne.displayName="GamePreviewUsers";var ae=l.default.connectStores([m.default,_.default],function(e){var t,r=e.game;return{nowPlayingUsers:(t=_.default.getNowPlaying(r.id),null==t?[]:i.default.values(t).sort(function(e,t){return t.startedPlaying-e.startedPlaying}).map(function(e){var t=e.userId;return{lastPlayedDate:null,user:E.default.getUser(t)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})),recentlyPlayedUsers:oe(m.default.usersByGame[r.id])}})(ne),ie=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props,r=e.popoutKey,n=e.onClose;r&&p.default.close(r),n&&n()},t.handleViewGuild=function(){var e=t.props.game.guildId;e&&(t.close(),x.default.transitionTo(W.Routes.CHANNEL(e,g.default.getChannelId(e))))},t.handleJoinGuild=function(){var e=t.props.game.guildId;e&&c.default.joinGuild(e,!0).then(function(){t.close(),c.default.transitionToGuildSync(e)})},t.handleActionButtonClick=function(){var e=t.props,r=e.isModal,n=e.popoutKey;r?f.default.popAll():p.default.close(n)},t}Q(t,e);var r,n,i,l=t.prototype;return l.getLocation=function(){return this.props.isModal?W.AnalyticsLocations.GAME_MODAL:W.AnalyticsLocations.GAME_POPOUT},l.componentDidMount=function(){var e=this.props,t=e.isNewsFetched,r=e.game;t||d.default.getGameNews([this.props.game.id]),null!=r.guildId&&null==r.guild&&d.default.fetchApplication(r.id,!0)},l.renderGameInfoVerified=function(){var e=this.props.game;if(null==e.guildId)return null;var t=h.default.getGuild(e.guildId),r=null;if(null!=e.guild){var n=e.guild;r=Z(P.default,{align:P.default.Align.CENTER},void 0,Z("div",{className:z.default.dotOnline}),Z(k.default,{size:k.default.Sizes.SIZE_12},void 0,K.default.Messages.GAME_POPOUT_ONLINE_IN_SERVER.format({membersOnline:n.approximate_presence_count})))}return Z(o.Fragment,{},void 0,Z(b.default,{className:(0,a.default)(z.default.gameIcon,z.default.verified),onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Z(M.default,{game:e}),Z(w.default,{text:K.default.Messages.GUILD_VERIFIED,position:w.default.Positions.BOTTOM,className:z.default.verifiedIcon},void 0,Z(N.default,{width:16,height:16,color:W.Colors.BRAND_500},void 0,Z(C.default,{name:C.default.Names.VERIFIED,width:16,height:16,color:W.Colors.WHITE})))),Z("div",{className:z.default.gameInfo},void 0,Z(b.default,{onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Z(j.default,{className:(0,a.default)(z.default.gameTitle,z.default.verified),size:j.default.Sizes.SIZE_16},void 0,e.name)),r))},l.renderGameInfo=function(){var e=this.props.game,t=e.publishers;return Z(o.Fragment,{},void 0,Z("div",{className:z.default.gameIcon},void 0,Z(M.default,{game:e})),Z("div",{className:z.default.gameInfo},void 0,Z(j.default,{className:z.default.gameTitle,size:j.default.Sizes.SIZE_16},void 0,e.name),t.length>0?Z(k.default,{size:k.default.Sizes.SIZE_12},void 0,t[0].name):null))},l.renderFooter=function(){var e=this.props,t=e.game,r=e.isSubscribedOnFeed,n=e.analyticsContext,o=[];if(o.push(Z(V.default,{application:t,source:this.getLocation(),size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,customDisabledColor:z.default.disabledButton,onClick:this.handleActionButtonClick,location:q({},n.location,{section:W.AnalyticsSections.ACTIVITY_FEED_GAME_POPOUT}),hideNotLaunchable:!0},"action-button")),t.guildId){var a=h.default.getGuild(t.guildId);o.push(Z(S.default,{className:z.default.button,size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,onClick:a?this.handleViewGuild:this.handleJoinGuild},"guild-button",a?K.default.Messages.GAME_POPOUT_GO_TO_SERVER:K.default.Messages.GAME_POPOUT_VIEW_SERVER))}return o.push(Z(S.default,{className:z.default.button,look:r?S.default.Looks.OUTLINED:S.default.Looks.FILLED,size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,onClick:function(){return r?(0,u.removeGamesFromFeed)([t.id]):(0,u.addGamesToFeed)([t.id])}},"follow-button",r?K.default.Messages.GAME_POPOUT_UNFOLLOW:K.default.Messages.GAME_POPOUT_FOLLOW)),Z("div",{className:z.default.footer},void 0,null!=t.guildId?this.renderGameInfoVerified():this.renderGameInfo(),o)},l.render=function(){var e=this.props,t=e.game,r=e.isNewsFetched,n=e.popoutKey;return Z(B.default,{context:this.props.analyticsContext,section:this.contextSection},void 0,Z(P.default,{className:z.default.container},void 0,Z("div",{className:z.default.header},void 0,Z(re,{game:t,isFetched:r,location:this.getLocation()}),Z(ae,{game:t,popoutKey:n,location:this.getLocation()})),this.renderFooter()))},r=t,(n=[{key:"contextSection",get:function(){return this.props.isModal?W.AnalyticsSections.GAME_MODAL:W.AnalyticsSections.GAME_POPOUT}}])&&J(r.prototype,n),i&&J(r,i),t}(o.PureComponent);ie.displayName="GamePreview",ie.defaultProps={isModal:!1};var le=l.default.connectStores([v.default,E.default,A.default,O.default],function(e){var t=e.game;return{game:v.default.getGame(t.id),isSubscribedOnFeed:O.default.gameIDsToShow.has(t.id),isNewsFetched:y.default.isFetched(t.id)}})(ie);t.default=le},6146:function(e,t,r){"use strict";t.__esModule=!0,t.mount=function(){o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){a.default.transitionTo(i.Routes.APP),o.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.addMembersToFeed=function(e){u({subscribeUsers:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})})},t.removeMembersFromFeed=function(e){u({unsubscribeUsers:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})})},t.addGamesToFeed=function(e){u({subscribeGames:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_ADD,gameIds:e})})},t.removeGamesFromFeed=function(e){u({unsubscribeGames:e}).then(function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_REMOVE,gameIds:e})})};var n=l(r(9)),o=l(r(2)),a=l(r(41)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return n.default.patch({url:i.Endpoints.USER_FEED_SETTINGS,body:{subscribe_users:e.subscribeUsers,unsubscribe_users:e.unsubscribeUsers,subscribe_games:e.subscribeGames,unsubscribe_games:e.unsubscribeGames}})}},6324:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=r(6003),i=c(r(6004)),l=c(r(202)),u=c(r(5857)),s=r(0),d=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.channel,r=t.getGuildId(),c=t.id,f=(0,o.useStateFromStores)([l.default],function(){return l.default.isChannelMuted(r,c)},[r,c]);return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.MUTE_CHANNEL.format({name:t.toString(!0)}),action:function(){i.default.updateChannelOverrideSettings(t.getGuildId(),c,{muted:!f}),t.type===s.ChannelTypes.GUILD_CATEGORY&&(f?(0,a.categoryExpand)(c):(0,a.categoryCollapse)(c))},active:f})};f.displayName="ChannelMuteItem";var p=f;t.default=p},6325:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=i(r(15)),a=i(r(464));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],c=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).handleSetRef=function(e){r._textArea=e},r.handleChange=function(e){var t=r.props.onChange;t&&t(e),r.calculateSize()},r.state={height:"auto"},r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c,f,p,y=i.prototype;return y.componentDidMount=function(){var e=this;Promise.resolve().then(function(){return e.calculateSize()})},y.componentDidUpdate=function(e,t){var r=this;if(this.state.height!==t.height){var n=this.props.onResize;n&&n(this.state.height)}e.value!==this.props.value&&Promise.resolve().then(function(){return r.calculateSize()})},y.calculateSize=function(){var e=this._textArea;if(null!=e){var t=this.props,r=t.fontWidthEstimate,n=t.rows,o=e.value;if(null!=r&&-1===o.indexOf("\n")&&o.length*r<.8*e.offsetWidth)this.setState({height:"auto"});else{null==s&&null!=document.body&&(s=document.createElement("textarea"),document.body.appendChild(s));var a=this.calculateNodeStyling(e),i=a.paddingSize,l=a.borderSize,u=a.boxSizing,d=a.sizingStyle;s.setAttribute("style",d+";\n  visibility:hidden;\n  overflow:hidden;\n  position:absolute;\n  z-index:-1000;\n  top:0;\n  right:0;\n"),s.value=o,null!=n?s.setAttribute("rows",""+n):s.removeAttribute("rows");var c=s.scrollHeight;"border-box"===u?c+=l:"content-box"===u&&(c-=i),this.setState({height:c})}}},y.calculateNodeStyling=function(e){var t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:d.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:o,boxSizing:r}},y.clear=function(){null!=this._textArea&&(this._textArea.value=""),this.calculateSize()},y.blur=function(){var e=this._textArea;null!=e&&e.blur()},y.focus=function(){var e=this._textArea;null!=e&&e.focus()},y.setSelection=function(e,t){null!=this._textArea&&(this._textArea.selectionStart=e,this._textArea.selectionEnd=t)},y.render=function(){var e=this.props,t=e.style,r=e.className,i=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["style","className"]);delete i.fontWidthEstimate,delete i.onResize;var u=l({},this.state,t);return n.createElement("textarea",l({},i,{className:(0,o.default)(r,a.default.scrollbarGhostHairline),ref:this.handleSetRef,style:u,onChange:this.handleChange}))},c=i,(f=[{key:"selectionStart",get:function(){return this._textArea&&this._textArea.selectionStart||0}},{key:"selectionEnd",get:function(){return this._textArea&&this._textArea.selectionEnd||0}},{key:"value",get:function(){return this._textArea&&this._textArea.value||""}}])&&u(c.prototype,f),p&&u(c,p),i}(n.PureComponent);c.displayName="TextAreaAutosize",c.defaultProps={autoFocus:!1,disabled:!1};var f=c;t.default=f},6327:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=l(r(15)),a=l(r(6144)),i=l(r(5579));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.user,r=e.nick,n=e.hideDiscriminator,l=e.invertBotTagColor,s=e.className,d=e.usernameClass,c=e.discriminatorClass,f=e.botClass,p=e.style,y=null!=r?r:t.toString();return u("div",{className:(0,o.default)(s,i.default.nameTag),style:p},void 0,u("span",{className:(0,o.default)(i.default.username,d)},void 0,y),n||null!=r?null:u("span",{className:c},void 0,"#",t.discriminator),t.bot?u(a.default,{invertColor:l,className:(0,o.default)(f,i.default.bot)}):null)}},6328:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.MemberListRowTypes=void 0;var n=O(r(99)),o=O(r(5)),a=O(r(465)),i=O(r(3)),l=O(r(2)),u=O(r(100)),s=O(r(240)),d=O(r(10)),c=O(r(16)),f=O(r(213)),p=O(r(75)),y=O(r(23)),v=O(r(90)),h=O(r(174)),_=O(r(14)),m=r(0),g=O(r(8));function O(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var A="everyone",I=(0,n.default)({GROUP:null,MEMBER:null});function S(e,t,r,n){switch(t){case m.StatusTypes.ONLINE:case m.StatusTypes.OFFLINE:case m.StatusTypes.UNKNOWN:return{type:I.GROUP,key:t,id:t,get title(){switch(t){case m.StatusTypes.ONLINE:return g.default.Messages.STATUS_ONLINE;case m.StatusTypes.OFFLINE:return g.default.Messages.STATUS_OFFLINE;default:return g.default.Messages.STATUS_UNKNOWN}},count:r,index:n};default:var o=y.default.getGuild(e),a=null!=o?o.getRole(t):null;return{type:I.GROUP,key:t,id:t,title:null!=a?a.name:"",count:r,index:n}}}function T(e,t,r){var n=r===d.default.getId(),o=v.default.isMobileOnline(r),a=n?h.default.getStatus():v.default.getStatus(r,e),i=n?h.default.getPrimaryActivity():v.default.getPrimaryActivity(r,e),l=s.default.getStreamForUser(r),u=_.default.getUser(r);return null==u?null:E({type:I.MEMBER},p.default.getMember(e,r),{user:u,status:a,activity:i,applicationStream:l,isOwner:t===r,isMobile:o})}function b(e){var t=c.default.getChannel(e);return null==t?A:null==t.memberListId?function(e){if(u.default.canEveryone(m.Permissions.VIEW_CHANNEL,e))return A;return a.default.v3((0,o.default)(e.permissionOverwrites).reduce(function(e,t){var r=t.id,n=t.allow,o=t.deny;return(n&m.Permissions.VIEW_CHANNEL)>0?e.push("allow:"+r):(o&m.Permissions.VIEW_CHANNEL)>0&&e.push("deny:"+r),e},[]).sort().join(",")).toString()}(t):t.memberListId}t.MemberListRowTypes=I;var P=function(){function e(e,t){this.rows=[],this.groups=[],this.members={},this.version=0,this.guildId=e,this.listId=t,this.updateOwnerId()}var t=e.prototype;return t.updateOwnerId=function(){var e=y.default.getGuild(this.guildId);if(null==e)return!1;var t=o.default.some(e.roles,function(e){return e.hoist&&(e.permissions&m.Permissions.ADMINISTRATOR)===m.Permissions.ADMINISTRATOR})?null:e.ownerId;return this.ownerId!==t&&(this.ownerId=t,!0)},t.setGroups=function(e){var t=this,r=0;this.groups=e.map(function(e){var n=r;return r+=e.count+1,S(t.guildId,e.id,e.count,n)}),this.rows.length=r},t.sync=function(e,t){var r=this,n=e[0];t.forEach(function(e,t){return r.update(n+t,e)})},t.invalidate=function(e){for(var t=e[0],r=e[1],n=t;n<=r;n++){var o=this.rows[n];if(null==o)break;delete this.rows[n],o.type===I.MEMBER&&delete this.members[o.user.id]}this.version++},t.insert=function(e,t){var r=t.group,n=t.member;if(null!=r)this.rows.splice(e,0,S(this.guildId,r.id,r.count));else if(null!=n){var o=T(this.guildId,this.ownerId,n.user.id);if(null==o)return;this.rows.splice(e,0,o),this.members[n.user.id]=o}this.version++},t.update=function(e,t){var r=t.group,n=t.member,o=this.rows[e];if(null!=o&&o.type===I.MEMBER&&delete this.members[o.user.id],null!=r)this.rows[e]=S(this.guildId,r.id,r.count);else if(null!=n){var a=T(this.guildId,this.ownerId,n.user.id);if(null==a)return;this.rows[e]=a,this.members[n.user.id]=a}this.version++},t.delete=function(e){var t=this.rows[e];null!=t&&(t.type===I.MEMBER&&delete this.members[t.user.id],this.rows.splice(e,1),this.version++)},t.rebuildMember=function(e){var t=this.members[e];null!=t&&(Object.assign(t,T(this.guildId,this.ownerId,e)),this.version++)},t.rebuildMembers=function(){var e=this;o.default.forEach(this.members,function(t,r){e.rebuildMember(r)})},e}(),N=new(function(){function e(){this._guildLists={}}var t=e.prototype;return t.get=function(e,t){var r=this._guildLists[e];null==r&&(r=this._guildLists[e]={});var n=r[t];return null==n&&((n=new P(e,t)).setGroups([{id:m.StatusTypes.UNKNOWN,count:f.default.getMemberCount(e)||0}]),r[t]=n),n},t.forEach=function(e,t){if(null==e)o.default.forEach(this._guildLists,function(e){o.default.forEach(e,t)});else{var r=this._guildLists[e];null!=r&&o.default.forEach(r,t)}},t.delete=function(e){delete this._guildLists[e]},t.reset=function(){this._guildLists={}},e}());function M(){N.reset()}function C(e){var t=e.guildId,r=e.user;N.forEach(t,function(e){return e.rebuildMember(r.id)})}var R=[];function L(){var e=s.default.getAllApplicationStreams(),t=R.concat(e);R=e,t.forEach(function(e){N.forEach(e.guildId,function(t){return t.rebuildMember(e.ownerId)})})}function w(){var e=d.default.getId();N.forEach(null,function(t){return t.rebuildMember(e)})}function D(e){return e.type===I.MEMBER&&null!=e.user&&!e.user.bot&&null!=e.activity&&e.activity.type===m.ActivityTypes.PLAYING}var U=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.initialize=function(){this.waitFor(_.default,y.default,c.default,p.default,v.default,h.default,d.default,f.default,s.default),this.syncWith([h.default],w),this.syncWith([s.default],L)},o.getProps=function(e,t,r){void 0===r&&(r=!1);var n=N.get(e,b(t)),o=n.groups,a=n.rows,i=a.filter(D);if(r&&i.length>0){var l={type:I.GROUP,id:"activity",key:"activity",title:g.default.Messages.SETTINGS_GAMES_NOW_PLAYING_LABEL,index:0,count:i.length},u=0,s=[l],d=[l].concat(i);return o.forEach(function(e){var t=a.slice(e.index+1,e.index+e.count+1).filter(function(e){return!D(e)}),r=E({},e,{count:t.length,index:u+i.length+1});d.push(r),d=d.concat(t),s.push(r),u+=t.length+1}),{listId:n.guildId+":"+n.listId,groups:s,rows:d,version:n.version}}return{listId:n.guildId+":"+n.listId,groups:o,rows:a,version:n.version}},n}(i.default.Store))(l.default,{CONNECTION_OPEN:function(e){return M()},OVERLAY_INITIALIZE:function(e){return M()},GUILD_MEMBER_LIST_UPDATE:function(e){var t=N.get(e.guildId,e.id);e.ops.forEach(function(e){var r=e.op,n=e.index,o=e.item,a=e.range,i=e.items;switch(r){case"SYNC":t.sync(a,i);break;case"INVALIDATE":t.invalidate(a);break;case"INSERT":t.insert(n,o);break;case"UPDATE":t.update(n,o);break;case"DELETE":t.delete(n)}}),t.setGroups(e.groups)},GUILD_UPDATE:function(e){var t=e.guild;N.forEach(t.id,function(e){e.updateOwnerId()&&e.rebuildMembers()})},GUILD_DELETE:function(e){var t=e.guild;N.delete(t.id)},GUILD_ROLE_UPDATE:function(e){var t=e.guildId;N.forEach(t,function(e){return e.rebuildMembers()})},GUILD_MEMBER_UPDATE:C,PRESENCE_UPDATE:C,CHANNEL_UPDATE:function(e){return!0}});t.default=U},6329:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=g(r(3)),i=r(454),l=g(r(834)),u=g(r(240)),s=g(r(16)),d=g(r(32)),c=g(r(23)),f=g(r(142)),p=g(r(124)),y=g(r(7019)),v=r(170),h=g(r(6683)),_=g(r(6687)),m=g(r(5356));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderGameOpener=function(e,r,n){var o=t.props,a=o.source,i=o.onOpenGameProfile;return E(h.default,{game:r,source:a,interactiveClassName:n,onOpen:i},void 0,e)},t.renderActions=function(){var e=t.props,r=e.type,n=e.source,o=e.activity,a=e.applicationStream,i=e.user,l=e.guildId,u=e.channelId,s=e.onOpenConnections;return E(_.default,{className:(0,v.getClass)(m.default,"actions",r),type:r,source:n,activity:o,applicationStream:a,user:i,guildId:l,channelId:u,onOpenConnections:s,showBuyChatXGame:null==a})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.render=function(){var e=this.props.showActions;return o.createElement(y.default,O({},this.props,{renderActions:e?this.renderActions:null,renderGameOpener:this.renderGameOpener,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},a.handleOpenSpotifyTrack=function(e){(0,i.openTrack)(e)},a.handleOpenSpotifyArtist=function(e,t,r){(0,i.openArtist)(e,t,r)},a.handleOpenSpotifyAlbum=function(e,t){(0,i.openAlbum)(e,t)},n}(o.PureComponent);A.displayName="UserActivityContainer",A.defaultProps={showActions:!0,hideHeader:!1};var I=a.default.connectStores([d.default,f.default,p.default,u.default],function(e){var t=e.activity,r=e.user,n=u.default.getStreamForUser(r.id);return{game:null!=t?d.default.getGameByName(t.name):null,applicationStream:n,streamingGuild:null!=n?c.default.getGuild(n.guildId):null,statusVoiceChannel:null!=t?s.default.getChannel((0,l.default)(t)):null}})(A);I.Types=y.default.Types;var S=I;t.default=S},6330:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=f(r(3)),o=f(r(2)),a=r(828),i=r(6569),l=r(6570),u=r(241),s=f(r(90)),d=f(r(438)),c=f(r(14));r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=!1,h={},_={};function m(e){var t=!1;return e.forEach(function(e){t=!1!==O(e)||t}),t}function g(e){var t=_[e];if(null==t)return!1;var r=t.gameId;return h[r]&&(delete(h=y({},h))[r][e],0===Object.values(h[r]).length&&delete h[r]),delete(_=y({},_))[e],!0}function O(e){var t=e.user,r=e.activities;if(null==t||!d.default.isOnFeed(t.id))return!1;var n,o=r[0];if(null==o)return g(t.id);if((0,u.isOnXbox)(o))n=l.XBOX_APPLICATION_ID_PREFIX+o.name;else if((0,u.isListeningOnSpotify)(o)&&null!=o.party&&null!=o.party.id)n=a.SpotifyApplication.id;else if((0,u.isStreaming)(o)&&null!=o.url)n=i.TWITCH_APPLICATION_ID_PREFIX+o.url;else{if(null==o.application_id)return g(t.id);n=o.application_id}var s=_[t.id];s&&s.gameId!==n&&g(t.id);var c=null!=o.timestamps&&o.timestamps.start||Date.now();return function(e,t){var r,n,o;h=y({},h,((n={})[e]=y({},h[e],((r={})[t.userId]=t,r)),n)),_=y({},_,((o={})[t.userId]={gameId:e,startedPlaying:t.startedPlaying},o))}(n,{userId:t.id,activity:o,startedPlaying:c}),!0}function E(){var e=!1;return d.default.hasLoadedSettings&&!v&&(e=function(){h={},_={};var e=!1;return s.default.getUserIds().forEach(function(t){var r=c.default.getUser(t);null!=r&&(e=O({user:r,activities:s.default.getActivities(t)})||e)}),e}()),v=d.default.hasLoadedSettings,e}var A=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,i,l=n.prototype;return l.initialize=function(){this.waitFor(d.default),this.syncWith([d.default],E)},l.getNowPlaying=function(e){return h[e]},l.getUserGame=function(e){return _[e]},o=n,(a=[{key:"games",get:function(){return h}},{key:"usersPlaying",get:function(){return _}},{key:"gameIds",get:function(){return Object.keys(h)}}])&&p(o.prototype,a),i&&p(o,i),n}(n.default.Store))(o.default,{CONNECTION_OPEN:function(e){var t=e.presences;return h={},_={},m(t)},LOGOUT:function(e){return h={},void(_={})},PRESENCE_UPDATE:function(e){return O(e)},PRESENCES_REPLACE:function(e){return m(e.presences)},ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD:function(e){var t=e.userIds,r=!1;return t.forEach(function(e){var t=s.default.getActivities(e);if(0!==t.length){var n=c.default.getUser(e);null!=n&&(r=O({user:n,activities:t})||r)}}),r}});t.default=A},6331:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ArrowDirections=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=s(r(15)),l=s(r(907)),u=s(r(5588));function s(e){return e&&e.__esModule?e:{default:e}}var d={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"};t.ArrowDirections=d;var c=((n={})[d.UP]=u.default.up,n[d.RIGHT]=u.default.right,n[d.DOWN]=u.default.down,n[d.LEFT]=u.default.left,n),f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.direction,n=t.onClick,a=t.className;return function(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{className:(0,i.default)(u.default.arrow,a,(e={},e[c[r]]=!0,e)),onClick:n})},n}(a.PureComponent);f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},6332:function(e,t,r){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return o+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return o+"/"+e+"/hero-background.jpg"},t.getStoreListingLink=function(e){var t;t=location.protocol+"//"+location.host;return""+t+n.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)};var n=r(0),o="https://cdn.ChatXapp.com/store-directory-assets/applications"},6333:function(e,t,r){"use strict";t.__esModule=!0,t.canStreamInChannel=l,t.canWatchStream=function(e,t){return!__OVERLAY__&&o.default.can(a.Permissions.CONNECT,e,t)},t.getStreamEligibleChannels=function(e,t){for(var r=[],n=t[a.ChannelTypes.GUILD_VOICE],o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();;){var u;if(o){if(i>=n.length)break;u=n[i++]}else{if((i=n.next()).done)break;u=i.value}var s=u,d=s.channel;l(e,d)&&r.push(d)}return r};var n=i(r(23)),o=i(r(100)),a=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){if(void 0===r&&(r=!0),r&&!o.default.can(a.Permissions.CONNECT,e,t))return!1;if(!o.default.can(a.Permissions.STREAM|a.Permissions.SPEAK,e,t))return!1;var i=n.default.getGuild(t.getGuildId());return null==i||i.afkChannelId!==t.id}},6565:function(e,t,r){"use strict";t.__esModule=!0,t.subscribeMembers=function(e,t){o.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD,guildId:e,userIds:t})},t.unsubscribeMembers=function(e,t){o.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE,guildId:e,userIds:t})},t.subscribeChannel=l,t.subscribeChannelDimensions=function(e,t,r,n,o){function i(e,t){return void 0===t&&(t=0),Math.max(0,Math.ceil(Math.ceil(e/o))+t)}var u=[];function s(e){var t=e+(a.MINIMUM_RANGE-1);return u.push([e,t]),t+1}var d=i(.5*n),c=i(r,-d),f=i(r+n,d);c>0&&(c=Math.max(s(0),c));c=Math.floor(c/a.MINIMUM_RANGE)*a.MINIMUM_RANGE;for(;c<=f;)c=s(c);l(e,t,u)};var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(7008),i=r(0);function l(e,t,r){o.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL,guildId:e,channelId:t,ranges:r})}},6566:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(9)),o=l(r(2)),a=l(r(10)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={open:function(e,t){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_OPEN,guildId:e,userId:t})},close:function(){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_CLOSE})},changeNickname:function(e,t,r){var l,u=this;o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT}),l=a.default.getId()===t?i.Endpoints.GUILD_MEMBER_NICK(e,i.ME):i.Endpoints.GUILD_MEMBER(e,t),n.default.patch({url:l,body:{nick:r}}).then(function(){return u.close()},function(e){o.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE,errors:e.body||{}})})}};t.default=u},6568:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=(n=r(235))&&n.__esModule?n:{default:n};function l(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.onClick,n=e.index;r&&r(n)},t}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.text,r=e.lastItem,n=e.className;return l("span",{},void 0,l(i.default,{className:n,onClick:this.handleClick},void 0,t),r?"":", ")},t}(a.PureComponent);s.displayName="SpotifyArtistLink";var d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyArtist=function(e){var r=t.props.onOpenSpotifyArtist;r&&r(e)},t}return u(t,e),t.prototype.render=function(){var e=this,t=this.props.artists.split(";");if(!this.props.canOpen)return t.join(", ");var r=t.length-1;return t.map(function(t,n){return l(s,{text:t,index:n,lastItem:n===r,onClick:e.handleOpenSpotifyArtist,className:e.props.linkClassName},"spotify-artist-"+n)})},t}(a.PureComponent);t.default=d,d.displayName="SpotifyArtists"},6569:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.TWITCH_APPLICATION_ID_PREFIX=void 0;var n=i(r(173)),o=i(r(112)),a=i(r(8));function i(e){return e&&e.__esModule?e:{default:e}}t.TWITCH_APPLICATION_ID_PREFIX="twitch:";var l=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=o.prototype;return i.initialize=function(t){e.prototype.initialize.call(this,t),this.id="twitch:"+t.url,this.name=a.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH},i.getIconURL=function(){return n.default.get("twitch").icon.svg},o}(o.default);t.default=l},6570:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.XBOX_APPLICATION_ID_PREFIX=void 0;var n=a(r(173)),o=a(r(112));function a(e){return e&&e.__esModule?e:{default:e}}t.XBOX_APPLICATION_ID_PREFIX="xbox:";var i=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.initialize=function(t){e.prototype.initialize.call(this,t),this.id="xbox:"+t.name,this.name=t.name},a.getIconURL=function(){return n.default.get("xbox").icon.svg},o}(o.default);t.default=i},6571:function(e,t,r){"use strict";t.__esModule=!0,t.fetchSettings=function(e){void 0===e&&(e={});var t={};!0===e.includeAutosubscribedGames&&(t.include_autosubscribed_games=!0);n.default.get({url:l.Endpoints.USER_FEED_SETTINGS,query:t}).then(function(e){o.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_FETCH_SUCCESS,settings:s({autosubscribed_games:[]},e.body)})})},t.dismissPersonalizationNotice=function(){o.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_PERSONALIZATION_NOTICE})},t.dismissNoGamesNotice=function(){o.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_NO_GAMES_NOTICE})},t.fetchUnknownUnsubscribedUsers=function(){var e=a.default.unsubscribedUserIds,t=Array.from(e).filter(function(e){return null==i.default.getUser(e)});if(0===t.length)return void o.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:[]});var r={user_ids:t};n.default.get({url:l.Endpoints.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS,query:r}).then(function(e){o.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:e.body.unsubscribed_users})})};var n=u(r(9)),o=u(r(2)),a=u(r(438)),i=u(r(14)),l=r(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6572:function(e,t,r){"use strict";t.__esModule=!0,t.authorize=g,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=_(r(15)),a=_(r(5878)),i=(_(r(47)),_(r(5910))),l=_(r(3)),u=_(r(330)),s=_(r(6573)),d=_(r(173)),c=_(r(6071)),f=_(r(306)),p=_(r(18)),y=_(r(11)),v=r(0),h=_(r(5600));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){var r,n=Math.round(screen.width/2-350),o=screen.height>640?Math.round(screen.height/2-320):0;y.default.isDesktop()||(r=window.open(location.protocol+"//"+location.host+v.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+o+",left="+n+",width=700,height=640")),u.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=r?r.location.href=t:window.open(t))})}var O=(0,a.default)({displayName:"ConnectAccountButton",mixins:[i.default,l.default.LazyStoreListenerMixin(c.default)],getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:c.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=d.default.get(e);t.serverSync?g(t.type,"Friends List"):s.default.detectAccounts([t.type],this.props.location),p.default.track(v.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})},render:function(){var e,t=this,r=this.state.isDetecting,n=this.props,a=n.className,i=n.innerClassName,l=d.default.get(this.props.type);return r&&(e=m(f.default,{type:f.default.Type.PULSING_ELLIPSIS,className:h.default.ellipsis,itemClassName:h.default.spinnerItem})),m("div",{className:(0,o.default)(h.default.wrapper,a)},void 0,m("button",{className:(0,o.default)(h.default.inner,i),type:"button",disabled:this.props.disabled||r,style:{backgroundImage:"url('"+l.icon.color+"')"},onClick:function(){return t.handleConnect(t.props.type)},"aria-label":l.name}),e)}});t.default=O},6573:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(2))&&n.__esModule?n:{default:n},a=r(7025),i=r(0);var l={detectAccounts:function(e,t){return o.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,a.fetchAccounts)(e).then(function(r){return o.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:r,location:t}),r})},ignore:function(e){o.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){o.default.dispatch({type:i.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}};t.default=l},6574:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(2)),o=r(200),a=l(r(18)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={selectParticipant:function(e,t){n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_SELECT_PARTICIPANT,channelId:e,userId:t})},updateLayout:function(e,t){a.default.track(i.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,u({video_layout:t},(0,o.collectVoiceAnalyticsMetadata)(e))),n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_UPDATE_LAYOUT,channelId:e,layout:t})}};t.default=s},6679:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=v(r(3)),i=v(r(6566)),l=r(304),u=v(r(6064)),s=v(r(10)),d=v(r(23)),c=v(r(142)),f=v(r(5840)),p=r(0),y=v(r(8));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,r;function o(t){var r;return(r=e.call(this,t)||this).handleOpenChangeNickname=function(){(0,l.closeContextMenu)(),i.default.open(r.props.guildId,r.props.userId)},r.state={guild:d.default.getGuild(t.guildId),currentUserId:s.default.getId()},r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.render=function(){var e=this.props.userId,t=this.state.guild;return this.canChangeNickname()||null!=t&&c.default.canManageUser(p.Permissions.MANAGE_NICKNAMES,e,t)?function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.CHANGE_NICKNAME,action:this.handleOpenChangeNickname}):null},a.canChangeNickname=function(){var e=this.props.userId,t=this.state,r=t.currentUserId,n=t.guild;return r===e&&null!=n&&(c.default.can(p.Permissions.CHANGE_NICKNAME,n)||c.default.can(p.Permissions.MANAGE_NICKNAMES,n))},o}(o.PureComponent);h.displayName="UserChangeNicknameItem";var _=a.default.connectStores([c.default],function(e){var t=e.guildId;return{permissionVersion:c.default.getGuildVersion(t)}})(h),m=(0,u.default)(function(e){var t,r=e.guildId,n=e.userId;return(t={})[r]=[n],t})(_);t.default=m},6680:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),l=P(r(15)),u=P(r(5)),s=P(r(65)),d=r(175),c=P(r(3)),f=r(304),p=P(r(5849)),y=P(r(5869)),v=P(r(75)),h=P(r(142)),_=P(r(14)),m=P(r(96)),g=P(r(165)),O=P(r(5908)),E=P(r(100)),A=P(r(7018)),I=P(r(6681)),S=r(0),T=P(r(8)),b=P(r(5577));function P(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function C(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var L=30,w=4,D=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handlerFilterResults=function(e){var r=t.props,n=r.guild,o=r.userId,a=_.default.getCurrentUser(),i=E.default.getHighestRole(n,a.id),l=(0,u.default)(n.roles).filter(function(e){return e.id!==n.id}).filter(function(e){return!e.managed}).filter(function(e){return E.default.isRoleHigher(n,a.id,i,e)}).filter(function(t){return e(t.name.toLowerCase())}),s=v.default.getMember(n.id,o);return s&&(l=l.filter(function(e){return-1===s.roles.indexOf(e.id)})),l.value()},t.renderRole=function(e){var t;return e.colorString&&(t={color:e.colorString}),C("span",{style:t},void 0,e.name)},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,r=e.onClose,n=e.position;return C(A.default,{label:T.default.Messages.ADD_ROLE_LABEL,placeholder:T.default.Messages.ADD_ROLE_PLACEHOLDER,onRenderResult:this.renderRole,onFilterResults:this.handlerFilterResults,onSelect:t,onClose:r,position:n})},t}(i.Component);D.displayName="AddRolesPopout";var U=function(e){function t(){return e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){var e,t=this.props,r=t.userRoles,n=t.position,o=M(t,["userRoles","position"]);return C("div",{className:(0,l.default)(b.default.overflowRolesPopout,(e={},e[b.default.popoutBottom]=n===O.default.Positions.BOTTOM,e[b.default.popoutTop]=n===O.default.Positions.TOP,e))},void 0,C("div",{className:b.default.overflowRolesPopoutArrowWrapper},void 0,C("div",{className:b.default.overflowRolesPopoutArrow})),C(m.default,{className:b.default.overflowRolesPopoutHeader,align:m.default.Align.CENTER},void 0,C(g.default,{name:g.default.Names.FLAG,color:S.Colors.PRIMARY_DARK_400,className:b.default.overflowRolesPopoutHeaderIcon}),C("div",{className:b.default.overflowRolesPopoutHeaderText},void 0,T.default.Messages.ROLES_LIST.format({numRoles:r.length}))),i.createElement(j,N({},o,{userRoles:r})))},t}(i.PureComponent);U.displayName="OverflowRolesPopout";var G=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleContextMenu=function(e){(0,f.openContextMenu)(e,function(e){return i.createElement(I.default,N({},e,{roleId:t.props.role.id}))})},t}return R(t,e),t.prototype.render=function(){var e,t=this.props,r=t.role,n=t.canRemove,o=t.onRemove,a=S.Colors.PRIMARY_DARK_300;if(null!=r.colorString&&(a=r.colorString),n){var i=S.Colors.WHITE,l=(0,d.hex2int)(a);null!=l&&(0,d.getDarkness)(l)<.3&&(i=S.Colors.PRIMARY_DARK_630),e=C("button",{onClick:o,className:b.default.roleCircleButton,style:{backgroundColor:a}},void 0,C(g.default,{name:g.default.Names.CLOSE,color:i,className:b.default.roleRemoveIcon}))}else e=C("div",{className:b.default.roleCircle,style:{backgroundColor:a}});return C("li",{className:b.default.role,style:{borderColor:(0,d.hex2rgb)(a,.6)},onContextMenu:this.handleContextMenu},void 0,e,C("div",{className:b.default.roleName},void 0,r.name))},t}(i.Component);G.displayName="MemberRole";var j=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={numPillsToShow:null},t._pillRefs={},t.setPillRef=function(e,r){null!=r?t._pillRefs[e]=r:delete t._pillRefs[e]},t.handleRemoveRole=function(e){var r=t.props.userRoles.filter(function(t){return t!==e.id});p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)},t.renderOverflowRolesPopout=function(e){var r=e.position,n=t.props,o=(n.wrap,M(n,["wrap"]));return i.createElement(U,N({},o,{position:null!=r?r:O.default.Positions.TOP}))},t.renderAddRolesPopout=function(e){var r=e.position,n=e.closePopout;return C(D,{guild:t.props.guild,userId:t.props.user.id,onSelect:t.handleAddRole,position:null!=r?r:O.default.Positions.TOP,onClose:n})},t.handleAddRole=function(e){if(null!=e){var r=t.props.userRoles;-1===r.indexOf(e.id)&&(r=r.concat([e.id])),p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)}},t.filterPillsToFit=function(){var e=t.props,r=e.wrap,n=e.width;if(!r){var o=t.getRolesToRender(),a=0,i=0;if("number"!=typeof n)throw new Error("Unexpected null width");for(var l=n-L-w,u=0;u<o.length;u++){var d=o[u];if(null!=t._pillRefs[d.id]){var c=s.default.findDOMNode(t._pillRefs[d.id]);if(c instanceof HTMLElement){if((i+=c.offsetWidth+w)>l)break;a++}}}var f=null;a<o.length&&(f=a),t.state.numPillsToShow!==f&&t.setState({numPillsToShow:f})}},t}R(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.wrap||this.filterPillsToFit()},r.componentDidUpdate=function(e){var t=this,r=this.props,n=r.wrap,o=r.width,a=r.userRoles;n||o===e.width&&a===e.userRoles||this.setState({numPillsToShow:null},function(){return t.filterPillsToFit()})},r.componentWillUnmount=function(){var e=this;Object.keys(this._pillRefs).forEach(function(t){return e._pillRefs[t]=null})},r.getRolesToRender=function(){var e=this.props,t=e.guild,r=e.userRoles;return u.default.values(t.roles).filter(function(e){return r.includes(e.id)})},r.render=function(){var e=this,t=_.default.getCurrentUser(),r=this.props,n=r.guild,o=r.className,a=this.state.numPillsToShow,u=h.default.can(S.Permissions.MANAGE_ROLES,n),s=E.default.getHighestRole(n,t.id),d=this.getRolesToRender(),c=0;null!=a&&(c=d.length-a,d=d.slice(0,a));var f,p,y=d.map(function(r){return i.createElement(G,{role:r,canRemove:u&&E.default.isRoleHigher(n,t.id,s,r),onRemove:function(){return e.handleRemoveRole(r)},ref:function(t){return e.setPillRef(r.id,t)},key:r.id})});return 0!==c?f=C(O.default,{renderPopout:this.renderOverflowRolesPopout,position:O.default.Positions.TOP,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:b.default.overflowButton}),"+"+c)}):u&&(p=C(O.default,{renderPopout:this.renderAddRolesPopout,position:O.default.Positions.BOTTOM,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:b.default.addButton}),C(g.default,{name:g.default.Names.PLUS,className:b.default.addButtonIcon}))})),C("ul",{className:(0,l.default)(b.default.root,o)},void 0,y,f,p)},t}(i.PureComponent);j.displayName="MemberRolesList",j.defaultProps={wrap:!0};var k=(0,y.default)(j),F=c.default.connectStores([h.default],function(){var e=h.default.getState();return{permissionGuilds:e.guilds,permisisonChannels:e.channels}})((o=n=function(e){function t(){return e.apply(this,arguments)||this}R(t,e);var r=t.prototype;return r.UNSAFE_componentWillReceiveProps=function(e){0},r.render=function(){return!1===this.props.wrap?i.createElement(k,this.props):i.createElement(j,this.props)},t}(i.Component),n.defaultProps=j.defaultProps,o));t.default=F},6681:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=l(r(39)),i=l(r(5889));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.style,r=e.roleId,n=e.className;return a.default.developerMode?u("div",{className:n,style:t},void 0,u(i.default,{id:r})):null},n}(o.PureComponent);s.displayName="GuildRoleContextMenu";var d=s;t.default=d},6682:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=y(r(15)),i=y(r(65)),l=y(r(3)),u=y(r(7239)),s=y(r(5238)),d=y(r(237)),c=y(r(6325)),f=y(r(8)),p=y(r(5580));function y(e){return e&&e.__esModule?e:{default:e}}var v=5,h=function(e){var t,r;function l(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).noteRef=o.createRef(),t.handleBlur=function(e){var r=e.currentTarget.value;t.props.note!==r&&u.default.updateNote(t.props.userId,r)},t.handleKeyPress=function(e){13===e.which&&(e.shiftKey?(e.currentTarget.value.match(/\n/g)||[]).length>=v&&e.preventDefault():(e.preventDefault(),e.currentTarget.blur()))},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=l.prototype;return s.componentDidMount=function(){if(this.props.autoFocus&&!this.props.hideNote){var e=i.default.findDOMNode(this.noteRef.current);null!=e&&null!=e.selectionStart&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)}},s.render=function(){var e=this.props,t=e.note;return e.hideNote?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(p.default.note,this.props.className)},void 0,o.createElement(c.default,{ref:this.noteRef,placeholder:f.default.Messages.NOTE_PLACEHOLDER,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,defaultValue:t,maxLength:256}))},l}(o.PureComponent);h.displayName="Note";var _=l.default.connectStores([s.default,d.default],function(e){var t=e.userId;return{note:s.default.getNote(t),hideNote:d.default.hidePersonalInformation}})(h);t.default=_},6683:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(1)),o=s(r(15)),a=s(r(56)),i=s(r(5842)),l=(s(r(112)),d(r(6067))),u=s(r(6145));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){var r=t.props,n=r.children,o=r.source,i=r.game,s=r.onOpen,d=r.analyticsContext,c=n.props.onClick;null!=i&&(e.preventDefault(),e.stopPropagation(),a.default.push(u.default,{game:i,source:o,analyticsContext:d,isModal:!0}),s&&s(),l.trackGameModalOpened(i,o,d.location)),c&&c(e)},t}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.children,r=e.interactiveClassName;return null==e.game?t:n.cloneElement(t,{onClick:this.handleClick,className:(0,o.default)(t.props.className,r)})},i}(n.PureComponent);c.displayName="GameModalOpener";var f=(0,i.default)(c);t.default=f},6684:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=v(r(15)),i=v(r(5)),l=r(57),u=r(97),s=v(r(6331)),d=v(r(6685)),c=v(r(96)),f=v(r(7023)),p=r(0),y=v(r(5591));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m={JUMP:"jump",NEXT:"next",PREVIOUS:"previous"},g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleDotClick=function(e){var r=t.props,n=r.onSetItem,o=r.onIntentionalChange,a=r.current;o&&o(a,e,m.JUMP),n(e)},t.handleNext=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,o=(0,e.onChangePage)(1);r&&r(n,o,m.NEXT)},t.handlePrevious=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,o=(0,e.onChangePage)(-1);r&&r(n,o,m.PREVIOUS)},t}_(t,e);var r=t.prototype;return r.componentDidMount=function(){u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.render=function(){var e,t=this,r=this.props,n=r.current,o=r.count,l=r.includeHitboxPadding,u=i.default.times(o,function(e){return h("button",{onClick:function(){return t.handleDotClick(e)},className:e===n?y.default.dotSelected:y.default.dotNormal},"dot-"+e)}),d=(0,a.default)(y.default.arrowHitbox,((e={})[y.default.arrowHitboxPadding]=l,e));return h(c.default,{className:this.props.className,justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER},void 0,h("button",{className:d,onClick:this.handlePrevious},void 0,h(s.default,{className:y.default.arrow,direction:s.default.Directions.LEFT})),h("div",{className:y.default.dots},void 0,u),h("button",{className:d,onClick:this.handleNext},void 0,h(s.default,{className:y.default.arrow,direction:s.default.Directions.RIGHT})))},t}(o.PureComponent);g.displayName="PaginationController",g.defaultProps={includeHitboxPadding:!0};var O=function(e){function t(t){var r;return(r=e.call(this,t)||this).timer=new l.Interval,r.getCurrentDirection=function(){return r.state.direction},r.nextItem=function(){var e=r.props.items;r.changeItem(e,1)},r.previousItem=function(){var e=r.props.items;r.changeItem(e,-1)},r.handleSetItem=function(e){var t=r.state.visibleIndex,n=r.props.items;r.changeItem(n,e-t)},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},r.handleIntentionalChange=function(e,t,n){var o=r.props,a=o.items,i=o.onIntentionalChange;return i&&i(a[t],e,t,n)},r.state={visibleIndex:!0===t.randomize?i.default.random(0,t.items.length-1):0,direction:1,hovered:!1},r}_(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.paused||this.state.hovered||this.startTimer()},r.componentWillUnmount=function(){this.stopTimer()},r.UNSAFE_componentWillReceiveProps=function(e){var t=e.items;null==t[this.state.visibleIndex]&&this.changeItem(t,1)},r.componentDidUpdate=function(e,t){var r=function(e,t){return!e.paused&&!t.hovered},n=r(this.props,this.state),o=r(e,t);n&&!o?this.startTimer():!n&&o&&this.stopTimer()},r.startTimer=function(){this.timer.start(this.props.delay,this.nextItem)},r.stopTimer=function(){this.timer.stop()},r.changeItem=function(e,t){var r=this.state.visibleIndex+t;r<0?r=e.length-1:r>e.length-1&&(r=0);var n=this.props.onChangeItem;return n&&n(e[r],this.state.visibleIndex,r),this.setState({visibleIndex:r,direction:t>0?1:-1}),r},r.render=function(){var e=this,t=this.props,r=t.items,n=t.renderItem,o=t.className,i=t.paginationClassName,l=t.themedPagination,u=t.includeHitboxPadding,s=t.style,c=this.state.visibleIndex;return h("div",{className:(0,a.default)(y.default.root,o),style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,h(d.default,{aspectRatio:16/9},void 0,h(f.default,{step:c,getDirection:this.getCurrentDirection,className:y.default.carousel},void 0,n(r[c],c))),h(g,{className:(0,a.default)(i,l?y.default.themedPagination:y.default.pagination),includeHitboxPadding:u,current:c,count:r.length,onChangePage:function(t){return e.changeItem(r,t)},onSetItem:this.handleSetItem,onIntentionalChange:this.handleIntentionalChange}))},t}(o.PureComponent);O.displayName="CarouselWithSlide";var E=O;t.default=E},6685:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=i(r(15)),a=i(r(5589));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=function(e){var t=e.aspectRatio,r=e.className,n=e.children;return l("div",{className:(0,o.default)(a.default.outer,r),style:{paddingTop:1/t*100+"%"}},void 0,l("div",{className:a.default.inner},void 0,n))};u.displayName="AspectRatioSizer";var s=u;t.default=s},6686:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a=P(r(1)),i=b(r(3)),l=P(r(320)),u=b(r(5842)),s=r(147),d=b(r(913)),c=b(r(127)),f=b(r(318)),p=b(r(259)),y=b(r(82)),v=b(r(6008)),h=b(r(412)),_=P(r(437)),m=P(r(102)),g=b(r(11)),O=b(r(41)),E=P(r(5891)),A=b(r(7024)),I=r(0),S=b(r(8)),T=b(r(5596));function b(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function C(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){C(a,n,o,i,l,"next",e)}function l(e){C(a,n,o,i,l,"throw",e)}i(void 0)})}}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=Object.freeze({PLAY:"play",NOW_PLAYING:"now_playing",INSTALL:"install",UPDATE:"update",PAUSED:"paused",LOCATE:"locate",UNINSTALLING:"uninstalling",QUEUED:"queued",DOWNLOADING:"downloading",UNSUPPORTED_OS:"unsupported_os",ADD_TO_LIBRARY:"add_to_library",PREORDER_WAIT:"preorder_wait"}),D=Object.freeze(((n={})[I.LibraryApplicationActions.PLAY]=w.PLAY,n[I.LibraryApplicationActions.INSTALL]=w.INSTALL,n[I.LibraryApplicationActions.UPDATE]=w.UPDATE,n[I.LibraryApplicationActions.PAUSE]=w.DOWNLOADING,n[I.LibraryApplicationActions.MOVE_UP]=w.QUEUED,n[I.LibraryApplicationActions.RESUME]=w.PAUSED,n));var U=function(e){var t,r;function n(){for(var t,r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this)._uninstallStringIndex=null,r.handleAddToLibrary=R(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.props.libraryApplication,e.next=4,l.updateFlags(t.id,t.branchId,t.getFlags()&~I.LibraryApplicationFlags.HIDDEN);case 4:O.default.transitionTo(I.Routes.APPLICATION_LIBRARY),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.handleInstall=function(){var e=r.props,t=e.libraryApplication,n=e.source;_.installApplication(t.id,t.branchId,n)},r.handleUpdate=function(){var e=r.props.libraryApplication;_.updateApplication(e.id,e.branchId)},r.onClickHandlers=((t={})[w.ADD_TO_LIBRARY]=r.handleAddToLibrary,t[w.INSTALL]=r.handleInstall,t[w.UPDATE]=r.handleUpdate,t),r.handleClick=function(e,t){var n=r.props.onClick;n&&n(e),t(e)},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,i,u=n.prototype;return u.getText=function(e){switch(e!==w.UNINSTALLING&&(this._uninstallStringIndex=null),e){case w.INSTALL:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.UPDATE:return S.default.Messages.GAME_ACTION_BUTTON_UPDATE;case w.PAUSED:return S.default.Messages.GAME_ACTION_BUTTON_PAUSED;case w.LOCATE:return S.default.Messages.GAME_ACTION_BUTTON_LOCATE;case w.UNINSTALLING:var t=[S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case w.QUEUED:return S.default.Messages.GAME_ACTION_BUTTON_QUEUED;case w.DOWNLOADING:return S.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case w.UNSUPPORTED_OS:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.PREORDER_WAIT:return S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;case w.ADD_TO_LIBRARY:return S.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;default:throw new Error("Unexpected button state")}},u.getButtonState=function(){var e=this.props,t=e.libraryApplication,r=e.dispatchState,n=e.actionState;if(t.isHidden())return w.ADD_TO_LIBRARY;if(t.isPreorder())return w.PREORDER_WAIT;var o=null!=n?D[n]:null;return null!=o?o:null!=r&&r.type===I.LocalDispatchApplicationStates.UNINSTALLING?w.UNINSTALLING:g.default.isWeb()?w.PLAY:w.UNSUPPORTED_OS},u.renderPlayButton=function(){var e=this.props,t=e.libraryApplication,r=e.fullWidth,n=e.size,o=e.color,a=e.customDisabledColor,i=e.isPlayShiny,l=e.onDropdownOpen,u=e.onDropdownClose,s=e.analyticsListSort,d=e.analyticsListIndex;return M(A.default,{applicationId:t.id,libraryApplication:t,fullWidth:r,size:n,color:o,customDisabledColor:a,isShiny:i,onDropdownOpen:l,onDropdownClose:u,analyticsListSort:s,analyticsListIndex:d})},u.renderDisabledButton=function(e,t){var r=this.props,n=r.className,o=r.fullWidth,a=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return M("div",{className:T.default.disabledButtonWrapper},void 0,M(y.default,{className:n,fullWidth:o,size:a,color:null!=i?i:T.default.disabledButtonColor,disabled:!0},void 0,this.getText(e),this.renderProgressBar()),M(h.default,{text:t,position:l},void 0,M("div",{className:T.default.disabledButtonOverlay})))},u.renderProgressBar=function(){var e=this.props,t=e.hideProgress,r=e.dispatchState;if(t)return null;var n=m.convertToTransitionState(r);if(null==n)return null;var o=n.type===I.LocalDispatchApplicationStates.UNINSTALLING?v.default.INDETERMINATE:m.calculateProgressPercentage(n.progress,n.total);return M(v.default,{percent:o,size:v.default.Sizes.XSMALL,foregroundColor:n.paused?I.Colors.PRIMARY_DARK:I.Colors.STATUS_GREEN,backgroundColor:I.Colors.TRANSPARENT,className:T.default.progress})},u.renderActionButton=function(e,t){var r=this,n=this.props,o=n.className,a=n.fullWidth,i=n.size,l=n.color,u=n.isCloudSyncing;return M(y.default,{className:o,fullWidth:a,size:i,color:null!=l?l:y.default.Colors.GREEN,hover:null!=l?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:e===w.UNINSTALLING||u,onClick:function(e){return r.handleClick(e,t)}},void 0,this.getText(e),this.renderProgressBar())},u.render=function(){var e=this.props,t=e.hasNoBuild,r=e.libraryApplication,n=this.getButtonState();if(n===w.PLAY)return this.renderPlayButton();if(n===w.PREORDER_WAIT)return this.renderDisabledButton(n,function(e){if(e instanceof s.LibraryApplicationRecord){var t=E.getReadablePreorderReleaseDate(e.sku);return null!=t?S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}}(r));if(n===w.UNSUPPORTED_OS)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:S.default.Messages.WINDOWS}));if(n===w.INSTALL&&t)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);var o=this.onClickHandlers[n];return null==o?this.renderDisabledButton(n):this.renderActionButton(n,o)},o=n,(a=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:I.AnalyticsObjects.BUTTON_CTA})}}])&&L(o.prototype,a),i&&L(o,i),n}(a.Component);U.displayName="LibraryApplicationButton",U.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:h.default.Positions.TOP},U.ButtonStates=w;var G=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,d.default],function(e){var t=e.libraryApplication;return{actionState:_.getDefaultLibraryApplicationAction(t,c.default,f.default),isCloudSyncing:d.default.isSyncing(t.id,t.branchId),hasNoBuild:p.default.hasNoBuild(t.id,t.branchId),dispatchState:c.default.getState(t.id,t.branchId)}})(U));t.default=G},6687:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=Y(r(1)),a=B(r(3)),i=Y(r(878)),l=B(r(126)),u=B(r(56)),s=B(r(820)),d=B(r(123)),c=r(803),f=r(251),p=B(r(5842)),y=B(r(173)),v=r(6333),h=B(r(852)),_=B(r(240)),m=B(r(16)),g=B(r(450)),O=B(r(252)),E=B(r(127)),A=B(r(32)),I=B(r(83)),S=B(r(74)),T=B(r(40)),b=B(r(14)),P=B(r(5226)),N=B(r(7262)),M=B(r(18)),C=r(97),R=r(212),L=B(r(11)),w=B(r(430)),D=B(r(7263)),U=B(r(7266)),G=B(r(7267)),j=B(r(7268)),k=r(0),F=B(r(8)),x=B(r(5356));function B(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function V(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var W=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderSpotifyPlayButton=function(e){var r=t.props,n=r.channelId,a=r.guildId,i=r.source;return o.createElement(D.default,H({guildId:a,channelId:n,source:i},e))},t.renderSpotifySyncButton=function(e){var r=t.props,n=r.channelId,a=r.guildId,i=r.source;return o.createElement(U.default,H({guildId:a,channelId:n,source:i},e))},t.renderXboxButton=function(e){return o.createElement(G.default,H({onOpenConnections:t.props.onOpenConnections},e))},t.handleJoinVoice=function(e,t){d.default.selectVoiceChannel(e,t),C.ComponentDispatch.dispatch(k.ComponentActions.POPOUT_CLOSE),u.default.popAll()},t.handleWatchStream=function(){var e=t.props,r=e.applicationStream,n=e.isWatchingStream;null!=r&&(d.default.selectVoiceChannel(r.guildId,r.channelId),n||(0,f.watchStreamAndTransitionToStream)(r),C.ComponentDispatch.dispatch(k.ComponentActions.POPOUT_CLOSE),u.default.popAll())},t.handleJoinRequest=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(i.request(t.props.user,e),t.trackApplicationOpened(e,k.AnalyticsGameOpenTypes.ASK_TO_JOIN))},t.handleSpectate=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(l.default.spectate(t.props.user.id,e.session_id,e.application_id),t.trackApplicationOpened(e,k.AnalyticsGameOpenTypes.SPECTATE))},t.handleSendFriendRequest=function(){var e=t.props.user;s.default.addRelationship(e.id,{location:"Spectate Modal"}),u.default.pop()},t.handleCloseModal=function(){null!=t.modalKey?u.default.popWithKey(t.modalKey):u.default.pop()},t.handleOpenDownloads=function(){u.default.push(w.default,{source:"Spectate Modal"})},t.handleViewInStore=function(){var e=t.props,r=e.game,n=e.analyticsContext;if(null==r)throw new Error("Unexpected missing game");(0,c.goToApplicationStoreListing)(r.id,{analyticsSource:H({},n.location,{object:k.AnalyticsObjects.BUTTON_CTA}),slug:r.slug})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.render=function(){var e=this.props,t=(e.channelId,e.guildId,e.onOpenConnections,e.source,e.isGameLaunchable),r=(e.analyticsContext,function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["channelId","guildId","onOpenConnections","source","isGameLaunchable","analyticsContext"]));return o.createElement(N.default,H({},r,{isBrowser:!L.default.embedded,isLaunchable:t,renderXboxButton:this.renderXboxButton,renderSpotifyPlayButton:this.renderSpotifyPlayButton,renderSpotifySyncButton:this.renderSpotifySyncButton,onJoinRequest:this.handleJoinRequest,onSpectate:this.handleSpectate,onNotify:this.handleNotify,onViewInStore:this.handleViewInStore,onWatchStream:this.handleWatchStream,onJoinVoice:this.handleJoinVoice}))},a.validateAction=function(){var e=this,t=this.props.user;return L.default.embedded?!!S.default.isFriend(t.id)||(this.modalKey=u.default.push(function(){return V(j.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_TITLE,imageClass:x.default.notFriendsImage,body:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_BODY.format({user:t.username}),confirmText:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_ACTION,cancelText:F.default.Messages.CANCEL,onConfirm:e.handleSendFriendRequest,onClose:e.handleCloseModal})}),!1):(this.modalKey=u.default.push(function(){return V(j.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_TITLE,cancelText:F.default.Messages.CANCEL,body:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_BODY,confirmText:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_ACTION,onConfirm:e.handleOpenDownloads,onClose:e.handleCloseModal})}),!1)},a.trackApplicationOpened=function(e,t){var r=this.props,n=r.source,o=r.user,a=null!=e.application_id?I.default.getActiveLibraryApplication(e.application_id):null,i=null!=e.application_id?A.default.getGame(e.application_id):null;M.default.track(k.AnalyticEvents.APPLICATION_OPENED,{type:t,source:n,application_id:e.application_id,application_name:null!=i?i.name:e.name,other_user_id:o.id,distributor:null!=a?a.getDistributor():null})},a.handleNotify=function(e,t){console.log("notify",t,e)},n}(o.PureComponent);W.displayName="UserActivityActionsContainer",W.defaultProps={showBuyChatXGame:!1};var K=a.default.connectStores([P.default,h.default,b.default,A.default,I.default,E.default,O.default,_.default,T.default],function(e){var t=e.activity,r=e.applicationStream,n=e.user,o=null!=t&&null!=t.application_id?A.default.getGame(t.application_id):null;null==o&&null!=t&&(o=A.default.getGameByName(t.name));var a=null!=r?m.default.getChannel(r.channelId):null,i=_.default.getActiveStream();return{spectateState:null!=t&&null!=t.application_id?P.default.getState(t.application_id,k.ActivityActionTypes.SPECTATE):null,hasActiveJoinRequest:!!h.default.getRequest(n.id),currentUser:b.default.getCurrentUser(),game:o,hasXboxAccount:g.default.getAccounts().some(function(e){return e.type===y.default.get(k.PlatformTypes.XBOX).type}),isGameLaunchable:null!=t&&null!=t.application_id&&(0,R.isLaunchable)(I.default,A.default,E.default,O.default,t.application_id),canBuyChatXGame:null!=o&&null!=o.primarySkuId&&null==I.default.getActiveLibraryApplication(o.id),activeStream:_.default.getActiveStream(),isStreamWatchable:null!=a&&(0,v.canWatchStream)(b.default.getCurrentUser(),a),isWatchingStream:null!=i&&null!=r&&i.state!==k.ApplicationStreamStates.ENDED&&i.ownerId===r.ownerId,selectedVoiceChannelId:T.default.getVoiceChannelId()}})((0,p.default)(W));t.default=K},6688:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=l(r(15)),a=l(r(6072)),i=l(r(810));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t=e.defaultValue,r=void 0===t?0:t,n=e.minValue,l=void 0===n?0:n,s=e.maxValue,d=void 0===s?100:s,c=e.onValueChange,f=e.onValueRender,p=e.label;return u("div",{className:(0,o.default)(i.default.item,i.default.itemSlider)},void 0,u("div",{className:i.default.label},void 0,p),u(a.default,{mini:!0,handleSize:16,className:i.default.slider,defaultValue:r,minValue:l,maxValue:d,onValueChange:c,onValueRender:f}))};s.displayName="SliderMenuItem";var d=s;t.default=d},7008:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var n=a(r(5)),o=a(r(456));function a(e){return e&&e.__esModule?e:{default:e}}t.MINIMUM_RANGE=100;var i=[[0,99]];function l(e){var t={};return e.forEach(function(e,r){t[r]=e}),t}t.DEFAULT_RANGES=i;var u=function(){function e(e){this._subscriptions={},this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={}},t.get=function(e){return l(this._get(e))},t._get=function(e){return this._subscriptions[e]||new o.default({max:5})},t.clear=function(e){delete this._subscriptions[e]},t.subscribe=function(e,t,r){var o=this._get(e);n.default.isEqual(o.get(t),r)||(o.set(t,r),this._subscriptions[e]=o,this._onChange(e,l(o)))},e}();t.default=u},7017:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.PopoutAlign=t.PopoutPositions=void 0;var n,o=c(r(1)),a=d(r(458)),i=d(r(65)),l=r(97),u=c(r(898)),s=r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=u.Positions;t.PopoutPositions=y;var v=u.Align;t.PopoutAlign=v;var h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).domElementRef=o.createRef(),t.popoutId="popout_"+(0,a.default)(),t.state={shouldShowPopout:!1},t.renderPopout=function(e){return(0,t.props.renderPopout)(p({},e,{closePopout:t.close}))},t.close=function(){var e=t.props,r=e.onRequestClose;null==e.shouldShow?t.toggleShow(!1):r&&r()},t.handleClick=function(){null==t.props.shouldShow&&t.setState(function(e){return{shouldShowPopout:!e.shouldShowPopout}})},t.handleDocumentClick=function(e){var r=e.target,n=t.domElementRef.current;null!=n&&(0,u.referencePortalAwareContains)(n,r)||t.close()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=n.prototype;return d.shouldShowPopout=function(e,t){return null!=e.shouldShow?e.shouldShow:t.shouldShowPopout},d.componentDidMount=function(){this.shouldShowPopout(this.props,this.state)&&this.setupShowPopout()},d.componentDidUpdate=function(e,t){e.shouldShow,this.props.shouldShow;var r=this.shouldShowPopout(this.props,this.state);this.shouldShowPopout(e,t)!==r&&(r?this.setupShowPopout():this.unsubscribe())},d.setupShowPopout=function(){var e=i.default.findDOMNode(this);if(null==e||1!==e.nodeType)throw new Error("Popout cannot find DOM node");e.ownerDocument.addEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_CLOSE,this.close),this.domElementRef.current=e,this.forceUpdate()},d.unsubscribe=function(){var e=this.domElementRef.current;null!=e&&e.ownerDocument.removeEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_CLOSE,this.close)},d.componentWillUnmount=function(){this.unsubscribe(),this.domElementRef.current=null},d.render=function(){var e=this.props.children;return f(o.Fragment,{},void 0,e({onClick:this.handleClick,"aria-controls":this.popoutId,"aria-expanded":this.shouldShowPopout(this.props,this.state)}),this.renderLayer())},d.renderLayer=function(){if(!this.shouldShowPopout(this.props,this.state))return null;var e=this.props,t=e.position,r=e.align,n=e.nudgeAlignIntoViewport,o=e.spacing,a=e.autoInvert;return null==this.domElementRef.current?null:f(u.default,{id:this.popoutId,referenceElementRef:this.domElementRef,position:t,align:r,nudgeAlignIntoViewport:n,spacing:o,autoInvert:a},void 0,this.renderPopout)},d.toggleShow=function(e){this.state.shouldShowPopout!==e&&this.setState({shouldShowPopout:e})},n}(o.Component);t.default=h,h.displayName="BasePopout",h.Positions=u.Positions,h.Align=u.Align,h.defaultProps={autoInvert:!1,nudgeAlignIntoViewport:!1,spacing:0}},7018:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=h(r(15)),i=h(r(3)),l=h(r(39)),u=h(r(166)),s=h(r(5908)),d=r(431),c=h(r(178)),f=h(r(808)),p=r(0),y=h(r(8)),v=h(r(5576));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(e){switch(e){case s.default.Positions.BOTTOM:return v.default.positionBottom;default:return v.default.positionTop}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).inputRef=o.createRef(),t.state={query:null,selectedSection:null,selectedRow:0},t.memoizedGetRows=(0,d.cachedFunction)(function(e,t,r){var n=new RegExp("^"+c.default.escape(null!=e?e.trim():""),"i"),o=function(e){return n.test(e)};return r.map(function(e,r){return t(o,r)})}),t.getRows=function(){var e=t.props,r=e.onFilterResults,n=e.sections,o=t.state.query;return t.memoizedGetRows(o,r,n)},t.handleChange=function(e){var r=e.target.value;t.props.onQueryChange&&t.props.onQueryChange(r),t.setState({query:r,selectedSection:null,selectedRow:0})},t.handleMouseEnter=function(e,r){t.setState({selectedSection:e,selectedRow:r})},t.handleClick=function(e,r){var n=t.getRows();t.props.onSelect(n[e][r],e),t.props.onClose()},t.handleKeyDown=function(e){var r=t.state.selectedRow,n=t.getRows(),o=t.getSelectedSection(n);switch(e.keyCode){case p.KeyboardKeys.TAB:if(p.EnableAccessibility)break;case p.KeyboardKeys.ARROW_DOWN:e.preventDefault(),t.props.sections.length>o&&++r>=n[o].length&&(++o>=t.props.sections.length&&(o=0),r=0),t.setState({selectedSection:o,selectedRow:r});break;case p.KeyboardKeys.ARROW_UP:e.preventDefault(),--r<0&&(--o<0&&(o=t.props.sections.length-1),r=n[o].length-1),t.setState({selectedSection:o,selectedRow:r});break;case p.KeyboardKeys.ENTER:e.preventDefault(),t.props.sections.length>o&&n[o].length>r&&(t.props.onSelect(n[o][r],o),t.props.onClose());break;case p.KeyboardKeys.ESCAPE:e.preventDefault(),t.props.onSelect(null,null),t.props.onClose()}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getSelectedSection=function(e){var t=this.state.selectedSection;if(null!=t)return t;for(var r=0;r<e.length;r++)if(e[r].length>0)return r;return 0},i.componentDidMount=function(){this.focus()},i.render=function(){var e=this,t=this.props,r=t.theme,n=t.position,i=this.getRows(),l=[];if(0===i.reduce(function(e,t){return e+t.length},0))l.push(_("div",{className:v.default.empty},"empty",_("h4",{className:v.default.noResultsHeader},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_HEADER),_("p",{},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_BODY)));else{var s=this.state.selectedRow;this.props.sections.forEach(function(t,r){var n=i[r];if(0!==n.length){l.push(_("div",{className:v.default.section},r,t));var o=e.getSelectedSection(i);n.forEach(function(t,n){var i;l.push(_(u.default,{onClick:e.handleClick.bind(e,r,n),onMouseEnter:e.handleMouseEnter.bind(e,r,n),className:(0,a.default)(v.default.row,(i={},i[v.default.selected]=o===r&&s===n,i))},r+"-"+n,_("span",{},void 0,e.props.onRenderResult(t,r))))})}})}return _("div",{className:(0,a.default)(v.default.container,m(n))},void 0,_("div",{className:v.default.autocompleteShadow}),_("div",{className:v.default.autocompleteArrowWrapper},void 0,_("div",{className:v.default.autocompleteArrow})),_("header",{className:v.default.header},void 0,_("div",{className:v.default.autocompleteHeaderBackground}),_("h3",{className:v.default.headerText},void 0,this.props.label),o.createElement("input",{type:"text",className:v.default.input,placeholder:this.props.placeholder,ref:this.inputRef,onChange:this.handleChange,onKeyDown:this.handleKeyDown})),_("section",{className:v.default.sectionTag},void 0,_(f.default,{className:v.default.autocompleteScroller,fade:!0,theme:r===p.ThemeTypes.DARK?f.default.Themes.DARK:f.default.Themes.LIGHT,elementHeight:44},void 0,l)))},i.focus=function(){null!=this.inputRef.current&&this.inputRef.current.focus()},n}(o.Component);g.displayName="AutocompletePopout",g.defaultProps={sections:[null]};var O=i.default.connectStores([l.default],function(){return{theme:l.default.theme}})(g);t.default=O},7019:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=T(r(15)),l=T(r(19)),u=T(r(7020)),s=T(r(173)),d=T(r(834)),c=r(241),f=r(170),p=T(r(7242)),y=T(r(235)),v=T(r(96)),h=T(r(794)),_=T(r(5935)),m=T(r(6568)),g=T(r(141)),O=T(r(412)),E=r(0),A=T(r(8)),I=T(r(5584)),S=T(r(5585));function T(e){return e&&e.__esModule?e:{default:e}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M={USER_POPOUT:"UserPopout",ACTIVITY_FEED:"ActivityFeed",PROFILE:"Profile"},C=64,R=160,L=((n={})[M.USER_POPOUT]=[108,60],n[M.PROFILE]=[162,90],n[M.ACTIVITY_FEED]=[900,500],n),w=r(264).getAssetImage;var D=(0,u.default)(function(e){function t(){return e.apply(this,arguments)||this}return N(t,e),t.prototype.render=function(){return P("div",{className:S.default.timestamp},void 0,this.props.message)},t}(a.PureComponent)),U=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyTrack=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyTrack;(0,l.default)(null!=r,"Spotify activity was null"),n&&n(r)},t.handleOpenSpotifyArtist=function(e){var r=t.props,n=r.activity,o=r.onOpenSpotifyArtist,a=r.user;(0,l.default)(null!=n,"Spotify activity was null"),o&&o(n,a.id,e)},t.handleOpenSpotifyAlbum=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyAlbum,o=e.user;(0,l.default)(null!=r,"Spotify activity was null"),n&&n(r,o.id)},t}N(t,e);var r,n,o,a=t.prototype;return a.getTypeClass=function(e,t){return(0,f.getClass)(S.default,e,this.props.type,t)},a.isStreamerOnTypeProfile=function(){return(0,c.isStreaming)(this.activity)&&this.props.type===M.PROFILE},a.isStreamerOnTypeActivityFeed=function(){return(0,c.isStreaming)(this.activity)&&this.props.type===M.ACTIVITY_FEED},a.renderHeader=function(e){var t=this.props,r=t.hideHeader,n=t.streamingGuild,o=t.statusVoiceChannel,a=this.activity;if(r||null==a)return null;var i,l=a.name;switch(a.type){case E.ActivityTypes.STREAMING:i=A.default.Messages.USER_ACTIVITY_HEADER_LIVE_ON_PLATFORM.format({platform:s.default.get(E.PlatformTypes.TWITCH).name});break;case E.ActivityTypes.LISTENING:i=A.default.Messages.USER_ACTIVITY_HEADER_LISTENING.format({name:l});break;case E.ActivityTypes.WATCHING:i=A.default.Messages.USER_ACTIVITY_HEADER_WATCHING.format({name:l});break;case E.ActivityTypes.PLAYING:i=(0,c.isOnXbox)(a)?A.default.Messages.USER_ACTIVITY_HEADER_PLAYING_ON_PLATFORM.format({platform:s.default.get(E.PlatformTypes.XBOX).name}):A.default.Messages.USER_ACTIVITY_HEADER_PLAYING;break;case E.ActivityTypes.CUSTOM_STATUS:i=A.default.Messages.USER_ACTIVITY_VOICE_CHANNEL.format({name:null!=o?o.name:""})}return null!=n&&(i=A.default.Messages.USER_ACTIVITY_HEADER_STREAMING_TO_SERVER.format({server:n.name})),P(g.default,{className:(0,f.getClass)(S.default,"headerText",e?"EmptyBody":"Normal"),weight:g.default.Weights.BOLD,size:g.default.Sizes.SMALL},void 0,i)},a.renderXboxImage=function(){return P("div",{className:S.default.xboxAssets},void 0,P("img",{alt:"",src:s.default.get(E.PlatformTypes.XBOX).icon.color3d,className:(0,i.default)(this.getTypeClass("assetsLargeImage","Xbox"))}))},a.renderImage=function(e){var t,r,n=this.props.type,o=e.assets,a=e.application_id;if(null==o||null==o.large_image)return null;(0,c.isStreaming)(e)&&(r=L[n]);var l,u=P("img",{alt:o.large_text||"",src:w(a,o.large_image,r||[R,R]),className:(0,i.default)(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeProfile()||this.isStreamerOnTypeActivityFeed()?E.PlatformTypes.TWITCH:""),(t={},t[this.getTypeClass("assetsLargeMask")]=null!=o.small_image,t))});return(0,c.isListeningOnSpotify)(e)&&(u=P(y.default,{onClick:this.handleOpenSpotifyAlbum},void 0,u)),this.isStreamerOnTypeActivityFeed()&&e.url&&(u=P("div",{className:S.default.twitchImageContainer},void 0,P("div",{className:S.default.twitchImageOverlay},void 0,P("h3",{className:S.default.streamName},void 0,e.name),P("div",{className:S.default.streamGame},void 0,A.default.Messages.STREAMER_PLAYING.format({game:e.details}))),P(y.default,{className:S.default.twitchBackgroundImage,href:e.url},void 0,u))),null!=o.large_text&&(u=P(O.default,{text:o.large_text,position:O.default.Positions.TOP},void 0,u)),null!=o.small_image&&(l=P("img",{alt:o.small_text||"",src:w(a,o.small_image,[C,C]),className:this.getTypeClass("assetsSmallImage")}),null!=o.small_text&&(l=P(O.default,{text:o.small_text,position:O.default.Positions.TOP},void 0,l))),P("div",{className:S.default.assets},void 0,u,l)},a.renderGameImage=function(e){var t=this.props,r=t.user,n=t.type,o=t.renderGameOpener,a=t.game;return(0,c.hasRichActivity)(e)||e.type!==E.ActivityTypes.PLAYING||n===M.ACTIVITY_FEED||r.bot?null:o(P(h.default,{className:S.default.gameIcon,game:a}),a,I.default.iconHover)},a.renderName=function(e){var t=this.props,r=t.user,n=t.game,o=t.renderGameOpener;if(t.hideName)return null;var a=(0,c.isGameActivity)(e),i=e.name,l=e.details,u=i;return e.type===E.ActivityTypes.CUSTOM_STATUS?null:(a&&null!=n?i=o(P("span",{className:S.default.activityName},void 0,i),n,I.default.textHover):a||(u=l,i=l,(0,c.isListeningOnSpotify)(e)&&null!=e.sync_id&&null!=l&&(i=P(y.default,{className:S.default.bodyLink,onClick:this.handleOpenSpotifyTrack},void 0,l))),null==i?null:P(g.default,{title:u,weight:g.default.Weights.SEMIBOLD,className:(0,f.getClass)(S.default,"name",r.bot||this.isStreamerOnTypeProfile()?"wrap":"normal")},void 0,i))},a.renderDetails=function(e){var t=this,r=e.details,n=e.state,o=r,a=r;if(e.type===E.ActivityTypes.CUSTOM_STATUS)o=n;else if(!(0,c.isGameActivity)(e)&&(a=o=n,(0,c.isListeningOnSpotify)(e)&&null!=n)){o=A.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:a,artistsHook:function(r,o){return P(m.default,{artists:n,linkClassName:S.default.bodyLink,canOpen:null!=e.sync_id,onOpenSpotifyArtist:t.handleOpenSpotifyArtist},o)}})}return null==o||0===o.length?null:((0,c.isStreaming)(e)&&(o=A.default.Messages.STREAMER_PLAYING.format({game:o})),P("div",{title:a,className:(0,c.isStreaming)(e)||(0,c.isListeningOnSpotify)(e)?S.default.detailsWrap:S.default.details},void 0,o))},a.renderTimePlayed=function(e){var t=this.props.streamingGuild;if(!(0,c.isGameActivity)(e)||(0,c.isListeningOnSpotify)(e))return null;var r=e.timestamps;return null==r?null:(0,c.hasRichActivity)(e)?P(D,{timestamps:r}):P(_.default,{start:r.start,end:r.end,location:_.default.Locations.USER_ACTIVITY,className:S.default.playTime,isApplicationStreaming:null!=t})},a.renderTimeBar=function(e){if(!(0,c.isListeningOnSpotify)(e))return null;var t=e.timestamps;if(null==t)return null;var r=t.start,n=t.end;return null==r||null==n?null:P(p.default,{start:r,end:n,className:this.getTypeClass("timeBar")})},a.renderState=function(e){var t,r=this,n=e.state,o=e.party,a=e.assets,i=n,l=i;if(!(0,c.isGameActivity)(e)){if(null==a||null==a.large_text)return null;if(i=a.large_text,l=i,(0,c.isListeningOnSpotify)(e)){i=A.default.Messages.USER_ACTIVITY_LISTENING_ALBUM.format({album:l,albumHook:function(t,n){return null!=e.sync_id&&null!=l?P(y.default,{className:S.default.bodyLink,onClick:r.handleOpenSpotifyAlbum},n,l):l}})}}return null==i||0===i.length||e.type===E.ActivityTypes.CUSTOM_STATUS?null:(null!=o&&null!=o.size&&o.size.length>=2&&(t=A.default.Messages.USER_ACTIVITY_STATE_SIZE.format({count:o.size[0],max:o.size[1]})),P("div",{className:S.default.state},void 0,P("span",{title:l},void 0,i),null!=t?P("span",{},void 0," ",t):null))},a.render=function(){var e=this.props,t=e.type,r=e.renderActions,n=e.streamingGuild,o=e.className,a=this.activity;if(null==a)return null;if(a.type===E.ActivityTypes.CUSTOM_STATUS&&null==(0,d.default)(a))return null;var l,u=t===M.USER_POPOUT,s=t===M.PROFILE,p=t===M.ACTIVITY_FEED,y=!1;(0,c.isOnXbox)(a)?(l=this.renderXboxImage(),y=!0):null==(l=this.renderImage(a))&&(y=null!=(l=this.renderGameImage(a)));var h=this.renderName(a),_=this.renderDetails(a),m=this.renderState(a),g=this.renderTimePlayed(a),O=null!=r?r():null,A=this.renderTimeBar(a),I=s||(0,c.isGameActivity)(a)||null==n,T=![l,h,_,m,g,A,O].some(function(e){return null!=e});return P("div",{className:(0,i.default)(this.getTypeClass("activity"),o)},void 0,this.renderHeader(T),I?P("div",{className:y?S.default.bodyAlignCenter:S.default.bodyNormal},void 0,l,this.isStreamerOnTypeActivityFeed()?null:P(v.default.Child,{className:(0,i.default)((0,f.getClass)(S.default,"content",y?"GameImage":null!=l?"Images":"NoImages",t))},void 0,h,_,m,g,u?null:A,p?O:null),s?O:null):null,u?A:null,u?O:null)},r=t,(n=[{key:"activity",get:function(){var e=this.props,t=e.activity;return null==e.streamingGuild||null!=t&&(0,c.isGameActivity)(t)?t:{type:E.ActivityTypes.PLAYING,name:A.default.Messages.UNKNOWN_GAME}}}])&&b(r.prototype,n),o&&b(r,o),t}(a.PureComponent);U.displayName="UserActivity",U.Types=M;var G=U;t.default=G},7020:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function u(e){var r;return(r=t.call(this,e)||this)._interval=new a.Interval,r.state=l({},r.getUpdatedTime()),r}n=t,(r=u).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var d=u.prototype;return d.componentDidMount=function(){var e=this;this._interval.start(1e3,function(){return e.setState(e.getUpdatedTime())})},d.componentWillUnmount=function(){this._interval.stop()},d.componentDidUpdate=function(e){e.timestamps.end===this.props.timestamps.end&&e.timestamps.start===this.props.timestamps.start||this.setState(this.getUpdatedTime())},d.getUpdatedTime=function(){var e=this.props.timestamps,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,s(e.end)/1e3):null!=e.start?this.getDiff(s(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},d.renderTime=function(e,t){return void 0===t&&(t=!1),t&&e<=0?-1:e<10?"0"+e:e},d.getDiff=function(e,t){var r=Math.max(t-e,0),n=Math.floor(r)%60,o=Math.floor(r/60)%60,a=Math.floor(r/3600)%24;return{hours:a,minutes:o,seconds:n}},d.render=function(){var t=this.props,r=t.timestamps,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["timestamps"]),a=this.state,u=a.hours,s=a.minutes,d=a.seconds,c={hours:this.renderTime(u,!0),minutes:this.renderTime(s),seconds:this.renderTime(d)};return null!=r.end?o.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_END.format(c)})):null!=r.start?o.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_START.format(c)})):null},u}(o.PureComponent)};var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(57),i=(n=r(8))&&n.__esModule?n:{default:n};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=13;function s(e){return(""+e).length<u?1e3*e:e}},7021:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(814))&&n.__esModule?n:{default:n},a=r(0);var i=(0,o.default)(a.Experiments.AF2_TRENDING_APPLICATIONS,"AF2 Trending Games","Test the effect of showing news for trending games on new user habits in AF");t.default=i},7022:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),o=l(r(2)),a=l(r(7245)),i=l(r(39));r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=[],d=!1,c=null,f=i.default.locale;function p(){s=[],c=null}var y=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,a,l,p=n.prototype;return p.initialize=function(){this.waitFor(i.default),f=i.default.locale},p.shouldFetch=function(){return null==c||Date.now()>c+6e5},o=n,(a=[{key:"promotions",get:function(){return s}},{key:"loaded",get:function(){return d}}])&&u(o.prototype,a),l&&u(o,l),n}(n.default.Store))(o.default,{PROMOTIONS_FETCH_START:function(e){d=!1},PROMOTIONS_FETCH_SUCCESS:function(e){var t=e.promotions;s=t.slice(0,1).map(a.default.createFromServer),c=Date.now(),d=!0},PROMOTIONS_FETCH_FAIL:function(e){d=!0},USER_SETTINGS_UPDATE:function(e){return function(){if(f===i.default.locale)return!1;f=i.default.locale,p()}()},LOGOUT:function(e){return p()}});t.default=y},7023:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=s(r(15)),i=s(r(305)),l=s(r(420)),u=s(r(5590));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={friction:7,tension:40,overshootClamping:!0},p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this)._animated=new i.default.Value(-1*t.getDirection()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentWillEnter=function(e){this._animated.setValue(-this.props.getDirection()),i.default.spring(this._animated,c({toValue:0},f)).start(e)},o.componentDidAppear=function(){this._animated.setValue(0)},o.componentWillLeave=function(e){i.default.spring(this._animated,c({toValue:this.props.getDirection()},f)).start(e)},o.getStyle=function(){return i.default.accelerate({transform:[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]})},o.render=function(){return d(i.default.div,{style:this.getStyle(),className:u.default.item},void 0,this.props.children)},n}(o.PureComponent);p.displayName="Item";var y=function(e){var t=e.children,r=e.step,n=e.getDirection,o=e.className;return d(l.default,{component:"div",className:(0,a.default)(u.default.animator,o)},void 0,d(p,{getDirection:n},r,t))};y.displayName="SlideAnimator";var v=y;t.default=v},7024:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=b(r(1)),a=T(r(15)),i=T(r(3)),l=b(r(304)),u=T(r(5842)),s=T(r(252)),d=T(r(127)),c=T(r(32)),f=T(r(58)),p=T(r(211)),y=T(r(82)),v=T(r(166)),h=T(r(165)),_=T(r(5890)),m=T(r(412)),g=b(r(437)),O=T(r(11)),E=T(r(6007)),A=r(0),I=T(r(8)),S=T(r(5594));function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function P(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleDropdownClick=function(e){e.stopPropagation();var r=t.props,n=r.libraryApplication,a=r.onDropdownOpen,i=r.onDropdownClose,u=r.analyticsContext;if(a&&a(e),null==n)throw new Error("Unexpected missing libraryApplication");l.openContextMenu(e,function(e){return o.createElement(E.default,N({},e,{type:A.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS,applicationId:n.id,branchId:n.branchId,onPlay:t.handleClick,analyticsContext:u}))},{onClose:i})},t.handleClick=function(e){var r=t.props,n=r.applicationId,o=r.libraryApplication,a=r.analyticsListSort,i=r.analyticsListIndex,l=r.onClick;g.playApplication(n,o,{analyticsParams:{location:t.analyticsLocation,list_sort:a,list_index:i}}),l&&l(e)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,u,s,d=n.prototype;return d.renderDropdown=function(){var e=this.props.dispatchState;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?P(v.default,{"aria-label":I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_OPTIONS,className:S.default.dropdownArrowHitbox,onClick:this.handleDropdownClick},void 0,P("div",{className:S.default.arrowSeparator}),P(h.default,{name:h.default.Names.ARROW_DROP_DOWN,className:S.default.dropdownArrow})):null},d.renderDisabledButton=function(e,t){var r=this.props,n=r.className,o=r.fullWidth,a=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return P("div",{className:S.default.disabledButtonWrapper},void 0,P(y.default,{className:n,fullWidth:o,size:a,color:null!=i?i:S.default.disabledButtonColor,disabled:!0},void 0,e),P(m.default,{text:t,position:l},void 0,P("div",{className:S.default.disabledButtonOverlay})))},d.render=function(){var e=this.props,t=e.className,r=e.fullWidth,n=e.size,o=e.color,i=e.isLaunchable,l=e.isLaunching,u=e.isRunning,s=e.isShiny,d=e.hideNotLaunchable;return i?u?this.renderDisabledButton(I.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING):P(s?_.default:y.default,{className:(0,a.default)(S.default.playButton,t),innerClassName:S.default.playButtonContents,fullWidth:r,size:n,color:null!=o?o:y.default.Colors.GREEN,hover:null!=o?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:l,onClick:this.handleClick},void 0,P("div",{className:S.default.buttonText},void 0,I.default.Messages.GAME_ACTION_BUTTON_PLAY),this.renderDropdown()):d?null:this.renderDisabledButton(I.default.Messages.GAME_ACTION_BUTTON_PLAY,O.default.embedded?I.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:I.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP)},i=n,(u=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:A.AnalyticsObjects.BUTTON_CTA})}}])&&M(i.prototype,u),s&&M(i,s),n}(o.PureComponent);C.displayName="ApplicationPlayButton",C.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,tooltipPosition:m.default.Positions.TOP,isShiny:!1,hideNotLaunchable:!1};var R=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,s.default],function(e){var t=e.applicationId,r=e.libraryApplication,n=new Set(f.default.getRunningVerifiedApplicationIds());return{isLaunchable:s.default.isConnected(t)||c.default.isLaunchable(t)||null!=r&&d.default.isLaunchable(r.id,r.branchId),isLaunching:c.default.launchingGames.has(t),isRunning:n.has(t),dispatchState:null!=r?d.default.getState(r.id,r.branchId):null}})(C));t.default=R},7025:function(e,t,r){"use strict";t.__esModule=!0,t.fetchAccounts=function(e){return Promise.all(e.map(_)).then(n.default.flatten)};var n=l(r(5)),o=l(r(25)),a=l(r(17)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="InProgressContactImports",s=1,d={},c=!1;function f(e,t){t?d[e]=!0:delete d[e],0===Object.keys(d).length?o.default.remove(u):o.default.set(u,{version:s,potentiallyFailedFetches:d})}function p(e){var t=e.platform,r=e.username,n=e.name;switch(t){case i.PlatformTypes.BATTLENET:case i.PlatformTypes.SKYPE:return r;default:return n}}function y(e){var t=e.username,r=e.name,n=e.friend_id_hashes;return r&&t&&n.length>0}function v(e){return function(){if(!c){var e=o.default.get(u);c=!0,e&&e.version===s&&(d=e.potentiallyFailedFetches)}}(),new Promise(function(t){a.default.ensureModule("ChatX_contact_import").then(function(){return a.default.requireModule("ChatX_contact_import")}).then(function(r){r.isAvailable(e)&&!function(e){return!0===d[e]}(e)?(f(e,!0),r.fetch(e,{debug:!1},function(r,n){f(e,!1),n||(n=[]),t(n.filter(y).map(function(e){return{id:e.username,idHash:e.id_hash,type:e.platform,name:p(e),friendIdHashes:e.friend_id_hashes,resultHash:e.result_hash}}))})):t([])},function(){return t([])})})}var h={};function _(e){var t=null!=h[e];return null==h[e]&&(h[e]=[]),new Promise(function(r,n){if(h[e].push({resolve:r,reject:n}),!t){var o=function(t,r){var n=h[e];delete h[e],n&&n.forEach(function(e){return e[t](r)})};v(e).then(function(e){return o("resolve",e)},function(e){return o("reject",e)})}})}},7026:function(e,t,r){"use strict";(function(e){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.__esModule=!0,t.default=void 0;var n=function(){function t(e){this._running=!1,this._callback=e}var n,o,a,i=t.prototype;return i.start=function(e){var t=this;this.stop(),this._ref=setInterval(function(){return t._run(!1)},e)},i.stop=function(){null!=this._ref&&(clearInterval(this._ref),this._ref=null,this._running=!1)},i.run=function(){var t=this;e(function(){return t._run(!0)})},i._run=function(e){var t=this;this._running||(this._running=!0,this._callback(function(){t._running=!1},e))},n=t,(o=[{key:"running",get:function(){return this._running}}])&&r(n.prototype,o),a&&r(n,a),t}();t.default=n}).call(this,r(33).setImmediate)},7201:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=r(304),i=O(r(417)),l=O(r(123)),u=O(r(10)),s=O(r(16)),d=O(r(98)),c=O(r(142)),f=O(r(124)),p=O(r(6142)),y=r(314),v=O(r(100)),h=O(r(5840)),_=O(r(5934)),m=r(0),g=O(r(8));function O(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=function(e){var t=e.guildId,r=e.user,n=e.invertChildY,O=r.id,A=(0,o.useStateFromStores)([f.default,d.default],function(){return d.default.getChannels(t)[m.ChannelTypes.GUILD_VOICE]},[t]),I=(0,o.useStateFromStores)([f.default,s.default],function(){var e=f.default.getCurrentVoiceChannelId(t,O);return e?s.default.getChannel(e):null},[t,O]);function S(e){if(!c.default.can(m.Permissions.CONNECT,e))return!1;if(c.default.can(m.Permissions.MOVE_MEMBERS,e))return!0;var t=e.getGuildId(),r=null!=t?p.default.getVoiceStatesForChannel(t,e.id):[];return!(0,y.isChannelFull)(e,r.length)}if(!I)return null;var T=function(){var e=r.id===u.default.getId();if(null==I)throw new Error("[App]GuildVoiceMoveToItem.getTargetChannels(): assert failed: currentVoiceChannel != null");if(!e&&!c.default.can(m.Permissions.MOVE_MEMBERS,I))return[];var t=e?S:function(e){return function(t){return c.default.can(m.Permissions.MOVE_MEMBERS,t)&&(c.default.can(m.Permissions.CONNECT,t)||v.default.can(m.Permissions.CONNECT,e,t))}}(r);return A.filter(function(e){var r=e.channel;return r.id!==I.id&&t(r)})}();if(0===T.length)return null;var b=T.map(function(e){var n=e.channel;return E(h.default,{action:function(){return function(e){(0,a.closeContextMenu)(),r.id===u.default.getId()?l.default.selectVoiceChannel(t,e.id):i.default.setChannel(t,r.id,e.id)}(n)},label:n.toString()},n.id)});return E(_.default,{label:g.default.Messages.MOVE_TO,invertChildY:n,render:b})};A.displayName="GuildVoiceMoveToItem";var I=A;t.default=I},7204:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(3),i=h(r(171)),l=r(304),u=h(r(56)),s=h(r(820)),d=h(r(74)),c=h(r(14)),f=h(r(141)),p=h(r(5840)),y=h(r(424)),v=h(r(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t=e.user,r=t.id,n=(0,a.useStateFromStores)([c.default],function(){return c.default.getCurrentUser().id===r},[r]),h=(0,a.useStateFromStores)([d.default],function(){return{isFriend:d.default.isFriend(r),isBlocked:d.default.isBlocked(r)}},[r],i.default),g=h.isFriend,O=h.isBlocked,E=o.useState(!1),A=E[0],I=E[1];if(t.bot||n)return null;var S=v.default.Messages.ADD_FRIEND;return g?S=v.default.Messages.REMOVE_FRIEND:A&&(S=v.default.Messages.ADD_FRIEND_BUTTON_AFTER),m(p.default,{label:S,action:function(){function e(){s.default.removeRelationship(r,{location:"ContextMenu"}),I(!1)}A||(g?((0,l.closeContextMenu)(),u.default.push(function(r){return o.createElement(y.default,_({header:v.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.username}),confirmText:v.default.Messages.REMOVE_FRIEND,cancelText:v.default.Messages.CANCEL,onConfirm:e},r),m(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,v.default.Messages.REMOVE_FRIEND_BODY.format({name:t.username})))})):(s.default.addRelationship(r,{location:"ContextMenu"}),I(!0)))},disabled:O||A&&!g})};g.displayName="UserAddFriendItem";var O=g;t.default=O},7205:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=E(r(3)),i=r(304),l=E(r(417)),u=E(r(56)),s=E(r(6064)),d=E(r(23)),c=E(r(142)),f=E(r(14)),p=E(r(124)),y=E(r(5844)),v=E(r(5840)),h=E(r(5857)),_=E(r(7206)),m=E(r(7210)),g=r(0),O=E(r(8));function E(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleServerMute=function(){var e=t.props,r=e.user,n=e.guildId,o=e.mute,a=e.suppress;l.default.setServerMute(n,r.id,!(o||a))},t.handleToggleServerDeaf=function(){var e=t.props,r=e.user,n=e.guildId,o=e.deaf;l.default.setServerDeaf(n,r.id,!o)},t.handleVoiceDisconnect=function(){var e=t.props,r=e.guildId,n=e.user;l.default.setChannel(r,n.id,null),(0,i.closeContextMenu)()},t.handleKick=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return o.createElement(m.default,I({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t.handleBan=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return o.createElement(_.default,I({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.channelId,r=e.user,n=e.guild,o=e.me,a=e.mute,i=e.deaf,l=e.suppress,u=e.isVoiceConnected,s=null,d=null,f=null,p=null,_=null;return u&&(c.default.can(g.Permissions.MUTE_MEMBERS,{channelId:t})&&(s=A(h.default,{danger:!0,label:O.default.Messages.SERVER_VOICE_MUTE,action:this.handleToggleServerMute,active:a||l})),c.default.can(g.Permissions.DEAFEN_MEMBERS,{channelId:t})&&(d=A(h.default,{danger:!0,label:O.default.Messages.SERVER_DEAFEN,action:this.handleToggleServerDeaf,active:i}))),o||null==n||(u&&c.default.can(g.Permissions.MOVE_MEMBERS,{channelId:t})&&(f=A(v.default,{danger:!0,label:O.default.Messages.DISCONNECT,action:this.handleVoiceDisconnect})),c.default.canManageUser(g.Permissions.KICK_MEMBERS,r,n)&&(p=A(v.default,{danger:!0,label:O.default.Messages.KICK+" "+r.username,action:this.handleKick})),c.default.canManageUser(g.Permissions.BAN_MEMBERS,r,n)&&(_=A(v.default,{danger:!0,label:O.default.Messages.BAN+" "+r.username,action:this.handleBan}))),A(y.default,{},void 0,s,d,f,p,_)},n}(o.Component);S.displayName="UserAdminItemGroup";var T=a.default.connectStores([f.default,p.default,d.default,c.default],function(e){var t=e.user,r=e.guildId,n=f.default.getCurrentUser()===t,o=!1,a=!1,i=!1,l=!1,u=p.default.getVoiceState(r,t.id);return null!=u&&(o=u.mute,a=u.deaf,i=u.suppress,l=null!=u.channelId),{guild:d.default.getGuild(r),me:n,mute:o,deaf:a,suppress:i,isVoiceConnected:l}})(S),b=(0,s.default)(function(e){var t,r=e.user;return(t={})[e.guildId]=[r.id],t})(T);t.default=b},7206:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=y(r(417)),i=y(r(785)),l=y(r(6065)),u=y(r(423)),s=y(r(5860)),d=y(r(424)),c=r(0),f=y(r(8)),p=y(r(5569));function y(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=[{value:"0",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE},{value:"1",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR},{value:"7",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D}],g=1,O=function(e){var t,n;function y(t){var r;return _(r=e.call(this,t)||this).handleSubmit=r.handleSubmit.bind(_(r)),_(r).handleChangeDeleteDuration=r.handleChangeDeleteDuration.bind(_(r)),_(r).handleChangeReason=r.handleChangeReason.bind(_(r)),r.state={duration:m[g].value,reason:""},r}n=e,(t=y).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var O=y.prototype;return O.handleSubmit=function(){var e=this.props,t=e.guildId,r=e.user,n=this.state,o=n.duration,i=n.reason;a.default.banUser(t,r.id,o,i)},O.handleChangeDeleteDuration=function(e){var t=e.value;this.setState({duration:t})},O.handleChangeReason=function(e){this.setState({reason:e})},O.render=function(){var e=this.state,t=e.duration,n=e.reason,a=this.props,y=a.user,_=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(a,["user"]);return o.createElement(d.default,v({header:f.default.Messages.BAN_CONFIRM_TITLE.format({username:"@"+y.toString()}),confirmText:f.default.Messages.BAN,cancelText:f.default.Messages.CANCEL,onConfirm:this.handleSubmit,red:!0},_),h(s.default,{autoPlay:!0,loop:!0,className:p.default.spacing,width:400},void 0,h("source",{src:r(7207),type:"video/webm"}),h("source",{src:r(7208),type:"video/mp4"}),h("img",{alt:"",src:r(7209)})),h(u.default,{title:f.default.Messages.FORM_LABEL_DELETE_MESSAGE_HISTORY,className:p.default.spacing},void 0,h(i.default,{clearable:!1,searchable:!1,options:m,value:t,onChange:this.handleChangeDeleteDuration})),h(u.default,{title:f.default.Messages.FORM_LABEL_REASON_BAN,className:p.default.spacing},void 0,h(l.default,{maxLength:c.MAX_REASON_LENGTH,onChange:this.handleChangeReason,value:n,rows:2})))},y}(o.PureComponent);O.displayName="BanConfirm";var E=O;t.default=E},7207:function(e,t,r){e.exports=r.p+"62ac6016dc438a1fe4926ed43d3fe280.webm"},7208:function(e,t,r){e.exports=r.p+"6b3cc6ff5c09de83cc37561a43304dee.mp4"},7209:function(e,t,r){e.exports=r.p+"1923b5f96b83785235595042bd7f5a0d.png"},7210:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=p(r(417)),i=p(r(141)),l=p(r(6065)),u=p(r(423)),s=p(r(424)),d=r(0),c=p(r(8)),f=p(r(5570));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,r;function n(t){var r;return h(r=e.call(this,t)||this).handleReasonChange=r.handleReasonChange.bind(h(r)),h(r).handleKick=r.handleKick.bind(h(r)),r.state={reason:""},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=n.prototype;return p.render=function(){var e=this.props.user;return o.createElement(s.default,y({header:c.default.Messages.KICK_USER_TITLE.format({user:e.username}),confirmText:c.default.Messages.KICK,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleKick,red:!0},this.props),v(i.default,{size:i.default.Sizes.MEDIUM,color:i.default.Colors.PRIMARY,className:f.default.spacing},void 0,c.default.Messages.KICK_USER_BODY.format({user:"@"+e.toString()})),v(u.default,{title:c.default.Messages.FORM_LABEL_REASON_KICK,className:f.default.spacing},void 0,v(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleReasonChange,value:this.state.reason,rows:2})))},p.handleReasonChange=function(e){this.setState({reason:e})},p.handleKick=function(){var e=this.props,t=e.guildId,r=e.user;a.default.kickUser(t,r.id,this.state.reason)},n}(o.PureComponent);_.displayName="KickConfirm";var m=_;t.default=m},7211:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(3),i=r(304),l=h(r(56)),u=h(r(820)),s=h(r(74)),d=h(r(14)),c=h(r(141)),f=h(r(5840)),p=h(r(424)),y=r(0),v=h(r(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t=e.user,r=t.id,n=(0,a.useStateFromStores)([d.default],function(){return d.default.getCurrentUser().id===r},[r]),h=(0,a.useStateFromStores)([s.default],function(){return s.default.isBlocked(r)},[r]);if(n)return null;return m(f.default,{label:h?v.default.Messages.UNBLOCK:v.default.Messages.BLOCK,action:function(){function e(){u.default.addRelationship(r,{location:"ContextMenu"},y.RelationshipTypes.BLOCKED)}(0,i.closeContextMenu)(),h?u.default.removeRelationship(r,{location:"ContextMenu"}):l.default.push(function(r){return o.createElement(p.default,_({header:v.default.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:t.username}),confirmText:v.default.Messages.BLOCK,cancelText:v.default.Messages.CANCEL,onConfirm:e},r),m(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,v.default.Messages.CONFIRM_USER_BLOCK_BODY.format({name:t.username})))})}})};g.displayName="UserBlockItem";var O=g;t.default=O},7212:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=d(r(422)),i=r(304),l=d(r(10)),u=d(r(5840)),s=d(r(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleCall=function(){(0,i.closeContextMenu)(),a.default.openPrivateChannel(l.default.getId(),t.props.userId,!0)},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return l.default.getId()===this.props.userId?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.CALL,action:this.handleCall})},o}(o.PureComponent);t.default=c,c.displayName="UserCallItem"},7213:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=d(r(422)),i=r(304),l=d(r(16)),u=d(r(5840)),s=d(r(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleClose=function(){a.default.closePrivateChannel(t.props.channelId,t.props.selected),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=l.default.getChannel(this.props.channelId);return null==e||e.isMultiUserDM()?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.CLOSE_DM,action:this.handleClose})},o}(o.PureComponent);c.displayName="UserCloseChatItem";var f=c;t.default=f},7214:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=E(r(5)),i=r(3),l=E(r(422)),u=E(r(309)),s=E(r(169)),d=E(r(16)),c=E(r(98)),f=E(r(142)),p=E(r(74)),y=E(r(425)),v=E(r(14)),h=r(206),_=E(r(5840)),m=E(r(5934)),g=r(0),O=E(r(8));function E(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S="max_uses",T=function(e){var t=e.user,r=e.guildId,n=(0,i.useStateFromStores)([v.default],function(){return v.default.getCurrentUser()},[]),E=(0,i.useStateFromStores)([y.default],function(){return y.default.getFlattenedGuilds()},[]),T=o.useState({}),b=T[0],P=T[1];var N=1===E.length&&E[0].id===r;return n.id===t.id||t.bot||N||p.default.isBlocked(t.id)?null:A(m.default,{label:O.default.Messages.INVITE_TO_SERVER,render:function(){return(0,a.default)(E).filter(function(e){return(0,h.canViewInviteModal)(e,e)&&e.id!==r}).map(function(e){return b[e.id]?A(_.default,{disabled:!0,label:O.default.Messages.INVITE_SENT},e.id):A(_.default,{label:e.name,action:function(){return function(e,t,r){var n,o=c.default.getDefaultChannel(e.id);null!=o&&(P(function(t){var r;return I({},t,((r={})[e.id]=!0,r))}),f.default.can(g.Permissions.CREATE_INSTANT_INVITE,e)?u.default.createInvite(o.id,(n={},n[S]=1,n.unique=!0,n),"User Invite Context Menu").then(function(e){var n=e.body;l.default.ensurePrivateChannel(t,r).then(function(e){var t=d.default.getChannel(e);null!=t&&s.default.sendInvite(t.id,n.code,"context_menu")})}):l.default.ensurePrivateChannel(t,r).then(function(t){var r=d.default.getChannel(t);null!=r&&s.default.sendInvite(r.id,e.vanityURLCode,"context_menu")}))}(e,n.id,t.id)}},e.id)}).value()}})};t.default=T},7215:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=f(r(3)),i=r(37),l=f(r(242)),u=f(r(46)),s=f(r(14)),d=f(r(5857)),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleMute=function(){var e=t.props,r=e.me,n=e.userId,o=e.mediaEngineContext;r?l.default.toggleSelfMute(o):l.default.toggleLocalMute(n,o)},t.handleToggleDeaf=function(){var e=t.props,r=e.me,n=e.mediaEngineContext;r&&l.default.toggleSelfDeaf(n)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.me,r=e.localMute,n=e.selfDeafen;return p("div",{},void 0,p(d.default,{label:c.default.Messages.SOUND_MUTE,action:this.handleToggleMute,active:r}),t?p(d.default,{label:c.default.Messages.DEAFEN,action:this.handleToggleDeaf,active:n}):null)},n}(o.PureComponent);y.displayName="UserLocalMuteDeafenItem",y.defaultProps={mediaEngineContext:i.MediaEngineContextTypes.DEFAULT};var v=a.default.connectStores([u.default,s.default],function(e){var t=e.userId,r=e.mediaEngineContext,n=s.default.getCurrentUser().id===t,o=!1,a=!1;return n?(o=!u.default.isEnabled()||u.default.isSelfMute(r),a=u.default.isSelfDeaf(r)):o=u.default.isLocalMute(t,r),{me:n,localMute:o,selfDeafen:a}})(y);t.default=v},7216:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=r(304),i=v(r(5977)),l=v(r(16)),u=v(r(142)),s=v(r(40)),d=v(r(237)),c=r(97),f=v(r(5840)),p=r(0),y=v(r(8));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.user,r=e.guildId,v=(0,o.useStateFromStores)([s.default],function(){return s.default.getChannelId(r)},[r]);if(!(0,o.useStateFromStores)([s.default,l.default,u.default],function(){var e=s.default.getChannelId(r),t=l.default.getChannel(e);return null!=t&&(t.isMultiUserDM()||u.default.can(p.Permissions.SEND_MESSAGES,t))},[r]))return null;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.MENTION,action:function(){var e=t.username,r=t.discriminator;(0,a.closeContextMenu)();var n="@"+e;d.default.hidePersonalInformation||(n+="#"+r),c.ComponentDispatch.dispatchToLastSubscribed(p.ComponentActions.INSERT_TEXT,{content:n}),null!=v&&i.default.startTyping(v)}})};h.displayName="UserMentionItem";var _=h;t.default=_},7217:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=c(r(422)),i=r(304),l=r(787),u=c(r(10)),s=c(r(5840)),d=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={currentUserId:u.default.getId()},t.handleMessage=function(){(0,i.closeContextMenu)(),a.default.openPrivateChannel(t.state.currentUserId,t.props.userId),(0,l.popLayer)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=null;return this.state.currentUserId!==this.props.userId&&(e=function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.USER_POPOUT_MESSAGE,action:this.handleMessage})),e},o}(o.PureComponent);f.displayName="UserMessageItem";var p=f;t.default=p},7218:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=v(r(1)),a=r(3),i=r(304),l=y(r(10)),u=y(r(5238)),s=y(r(237)),d=v(r(414)),c=y(r(5840)),f=y(r(5217)),p=y(r(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _=function(e){var t=e.user,r=e.guildId,y=e.channelId,v=e.target,_=e.position,m=void 0===_?d.default.Positions.RIGHT:_,g=t.id,O=(0,a.useStateFromStores)([u.default],function(){return u.default.getNote(g).length>0},[g]);return g===l.default.getId()||s.default.hidePersonalInformation?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:O?p.default.Messages.EDIT_NOTE:p.default.Messages.ADD_NOTE,action:function(){v&&((0,d.openPopout)(v,{closeOnScroll:!1,render:function(e){return o.createElement(f.default,h({},e,{userId:g,guildId:r,channelId:y,setNote:!0}))},position:m,offsetX:15,shadow:!1}),(0,i.closeContextMenu)())}})};_.displayName="UserNoteItem",_.LEFT=d.default.Positions.LEFT,_.RIGHT=d.default.Positions.RIGHT;var m=_;t.default=m},7238:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o,a,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),l=c(r(15)),u=r(57),s=r(7017),d=c(r(5575));function c(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({TRANSLATE:1,SCALE:2}),p=Object.freeze(((n={})[f.TRANSLATE]=d.default.translate,n[f.SCALE]=d.default.scale,n)),y=Object.freeze(((o={})[s.PopoutPositions.TOP]=d.default.animatorTop,o[s.PopoutPositions.BOTTOM]=d.default.animatorBottom,o[s.PopoutPositions.LEFT]=d.default.animatorLeft,o[s.PopoutPositions.RIGHT]=d.default.animatorRight,o)),v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={didRenderWithPosition:!1},t.timeout=new u.Timeout,t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){null!=this.props.position&&this.setState({didRenderWithPosition:!0})},o.componentDidUpdate=function(e){var t=this;null!=this.props.position&&null==e.position&&this.timeout.start(10,function(){t.setState({didRenderWithPosition:!0})})},o.componentWillUnmount=function(){this.timeout.stop()},o.render=function(){var e,t=this.props,r=t.children,n=t.position,o=t.type,i=this.state.didRenderWithPosition;return function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,l.default)(null!=n?y[n]:null,(e={},e[p[o]]=null!=n,e[d.default.didRender]=i,e))},void 0,r)},n}(i.Component);t.default=v,v.displayName="PopoutCSSAnimator",v.Types=f},7239:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(9))&&n.__esModule?n:{default:n},a=r(0);var i={updateNote:function(e,t){o.default.put({url:a.Endpoints.NOTE(e),body:{note:t}})}};t.default=i},7240:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=v(r(15)),a=v(r(19)),i=v(r(422)),l=v(r(169)),u=v(r(16)),s=v(r(74)),d=v(r(14)),c=r(5921),f=v(r(246)),p=v(r(8)),y=v(r(5582));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,r;function v(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).inputRef=n.createRef(),t.handleKeyPress=function(e){if(13===e.which){e.preventDefault(),(0,a.default)(null!=t.inputRef.current,"Keypress on Input when not mounted");var r=t.inputRef.current.value.trim();return(0,c.applyChatRestrictions)(null,r,null).then(function(e){if(e.valid){i.default.openPrivateChannel(d.default.getCurrentUser().id,t.props.user.id).then(function(e){var t=u.default.getChannel(e);(0,a.default)(null!=t,"Newly created PrivateChannel is null"),l.default.sendMessage(t.id,f.default.parse(t,r))});var n=t.props.onClose;n&&n()}}),!0}},t}return r=e,(t=v).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,v.prototype.render=function(){var e=this.props,t=e.user,r=e.autoFocus,a=e.className,i=s.default.isBlocked(t.id);return n.createElement("input",{className:(0,o.default)(y.default.quickMessage,a,{isBlocked:i}),ref:this.inputRef,autoFocus:r,placeholder:i?p.default.Messages.QUICK_DM_BLOCKED:p.default.Messages.QUICK_DM_USER.format({name:t.username}),onKeyPress:this.handleKeyPress,disabled:i})},v}(n.PureComponent);h.displayName="QuickMessage",h.defaultProps={autoFocus:!1};var _=h;t.default=_},7241:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=h(r(5959)),i=h(r(419)),l=r(200),u=h(r(39)),s=h(r(82)),d=h(r(165)),c=h(r(141)),f=h(r(18)),p=r(0),y=h(r(8)),v=h(r(5581));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=function(e){var t,n;function h(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).animItem=null,t.handleConfirm=function(){var e=t.props.onConfirm;null!=e&&e(),t.close()},t.handleCancel=function(){var e=t.props.onCancel;null!=e&&e(),t.close()},t}n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=h.prototype;return g.componentDidMount=function(){var e=this,t=u.default.theme;r.e(286).then(function(n){var o=t===p.ThemeTypes.DARK?r(8178):r(8179);e.animItem=a.default.loadAnimation({container:e.animRef,renderer:"svg",loop:!0,autoplay:!0,animationData:o})}.bind(null,r)).catch(r.oe),f.default.track(p.AnalyticEvents.OPEN_POPOUT,m({type:"@Everyone Warning"},(0,l.collectChannelAnalyticsMetadata)(this.props.channel)))},g.componentWillUnmount=function(){null!=this.animItem&&(this.animItem.destroy(),this.animItem=void 0)},g.close=function(){var e=this.props.popoutKey;i.default.close(e)},g.render=function(){var e=this,t=this.props,r=t.numPeople,n=t.role,a=r>100?100:10;return _("form",{className:v.default.everyonePopout,onSubmit:this.handleConfirm},void 0,_("div",{className:v.default.body},void 0,o.createElement("div",{className:v.default.animation,ref:function(t){e.animRef=t}}),_("div",{className:v.default.content},void 0,_("div",{className:v.default.header},void 0,y.default.Messages.SELF_XSS_HEADER),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_BODY.format({role:n,count:(parseInt(r/a,10)*a).toLocaleString()})),_("div",{className:v.default.buttonWrapper},void 0,_("div",{className:v.default.buttonContainer},void 0,_(s.default,{className:v.default.button,look:s.default.Looks.OUTLINED,onClick:this.handleCancel},void 0,y.default.Messages.EDIT_MESSAGE),_(c.default,{className:v.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ESC.format())),_("div",{className:v.default.buttonContainer},void 0,_(s.default,{className:v.default.button,onClick:this.handleConfirm,type:"submit",autoFocus:!0},void 0,y.default.Messages.EVERYONE_POPOUT_SEND_NOW),_(c.default,{className:v.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ENTER.format()))))),_("div",{className:v.default.footer},void 0,_(d.default,{name:d.default.Names.INFO,color:p.Colors.PRIMARY_DARK_400,className:v.default.icon}),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_FOOTER)))},h}(o.PureComponent);t.default=g,g.displayName="EveryonePopout"},7242:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(57),i=u(r(96)),l=u(r(5583));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(e){var t=e.percentage;return s("div",{className:l.default.bar},void 0,s("div",{className:l.default.barInner,style:{width:100*Math.max(Math.min(t,1),0)+"%"}}))}function c(e){return String(e).padStart(2,"0")}function f(e){var t=Math.floor(e)%60,r=Math.floor(e/60)%60,n=Math.floor(e/3600);return 0===n?r+":"+c(t):n+":"+c(r)+":"+c(t)}d.displayName="Bar";var p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).timer=new a.Interval,t.state={now:Date.now()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){var e=this;this.timer.start(500,function(){e.setState({now:Date.now()})})},o.componentWillUnmount=function(){this.timer.stop()},o.render=function(){var e=this.props,t=e.start,r=e.end,n=e.className,o=this.state.now,a=(r-t)/1e3,u=Math.max(Math.min((o-t)/1e3,a),0);return s("div",{className:n},void 0,s(d,{percentage:u/a}),s(i.default,{},void 0,s(i.default.Child,{grow:1,className:l.default.textLeft},void 0,f(u)),s(i.default.Child,{grow:0,className:l.default.textRight},void 0,f(a))))},n}(o.PureComponent);p.displayName="ActivityTimeBar";var y=p;t.default=y},7243:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(9)),o=i(r(2)),a=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}var u={fetchTrendingApplications:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH}),e.prev=1,e.next=4,n.default.get({url:a.Endpoints.APPLICATIONS_TRENDING});case 4:t=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH_FAIL}),e.t0;case 11:r=t.body,o.default.dispatch({type:a.ActionTypes.TRENDING_APPLICATIONS_FETCH_SUCCESS,trendingApplications:r});case 13:case"end":return e.stop()}},e,null,[[1,7]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,u,"next",e)}function u(e){l(a,n,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()};t.default=u},7244:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),o=l(r(2)),a=l(r(142)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getChannel=function(e){var t=u[e];return null!=t&&a.default.can(i.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t:{channelId:null,guildId:null}},n}(n.default.Store))(o.default,{CONNECTION_OPEN:function(e){u={}},VOICE_STATE_UPDATE:function(e){var t=e.userId,r=e.guildId,n=e.channelId;if(null!=r&&null!=n){var o=u[t];if(null==o||o.guildId!==r||o.channelId!==n)return u[t]={guildId:r,channelId:n},!0}else if(null!=u[t])return delete u[t],!0;return!1}});t.default=s},7245:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(53)),o=i(r(797)),a=r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.createFromServer=function(e){return Object.values(a.PromotionTypes).includes(e.data.type)?new n({id:e.promotion_id,title:e.data.title,description:e.data.description,ctaButtonLabel:e.data.type===a.PromotionTypes.GENERAL?e.data.cta_button_label:null,imageUrl:e.data.image_url,videoUrl:e.data.video_url,ackKey:e.impression_ack_key,destination:e.data.type===a.PromotionTypes.GAME?{type:a.PromotionTypes.GAME,sku:o.default.createFromServer(e.data.sku)}:{type:a.PromotionTypes.GENERAL,linkUrl:e.data.link_url}}):null},n.prototype.initialize=function(e){this.id=e.id,this.title=e.title,this.description=e.description,this.ctaButtonLabel=e.ctaButtonLabel,this.imageUrl=e.imageUrl,this.videoUrl=e.videoUrl,this.ackKey=e.ackKey,this.destination=e.destination},n}(n.default);t.default=l},7246:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=v(r(15)),i=v(r(4)),l=r(111),u=r(790),s=r(249),d=v(r(235)),c=v(r(166)),f=v(r(5936)),p=r(0),y=v(r(5587));function v(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={playingVideo:!1},t.handlePlay=function(){t.setState({playingVideo:!0});var e=t.props.onVideoPlay;e&&e()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=n.prototype;return v.getBackgroundURL=function(){var e=this.props,t=e.game,r=e.news.thumbnail;return null!=r&&null!=r.proxy_url?(0,s.getSizedImageSrc)(r.proxy_url,600,210,"png"):t.getSplashURL(600)},v.getSubtitle=function(){var e=this.props.news,t=null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null,r=e.author;return null!=t&&null!=r?t+"  "+r.name:null!=r?r.name:null!=t?t:void 0},v.renderBase=function(e){var t=this.props,r=t.news,n=r.title,i=r.description,l=t.backgroundClassname,u=this.getBackgroundURL(),s=this.getSubtitle();return m(o.Fragment,{},void 0,m("div",{className:(0,a.default)(l,y.default.background,null!=u?y.default.splash:y.default.splashBackup),style:null!=u?{backgroundImage:"url("+u+")"}:null}),m("div",{className:y.default.body},void 0,m("div",{className:y.default.title},void 0,n),e&&null!=i?m("div",{className:y.default.description},void 0,i):null,null!=s?m("div",{className:y.default.subtitle},void 0,s):null))},v.renderArticle=function(){var e,t=this.props,r=t.news,n=t.className,i=(t.backgroundClassname,t.game,t.onVideoPlay,_(t,["news","className","backgroundClassname","game","onVideoPlay"]));return o.createElement(d.default,h({},i,{href:r.url,className:(0,a.default)(y.default.newsLink,(e={},e[y.default.fixedHeight]=null!=this.getBackgroundURL(),e),n)}),this.renderBase(!0))},v.renderVideo=function(){var e=this.props,t=e.news,r=e.className,n=e.onClick;e.game,_(e,["news","className","onClick","game"]);if(this.state.playingVideo&&null!=t.video){var o=(0,l.parse)(t.video.url,!0);return o.query=h({},o.query,{autoplay:1}),m(c.default,{onClick:n,className:(0,a.default)(y.default.newsPlayingVideo,r)},void 0,m("iframe",{src:(0,l.format)(o),frameBorder:0,allowFullScreen:!0,className:y.default.video}))}return m(c.default,{onClick:n,className:(0,a.default)(y.default.news,y.default.fixedHeight,r)},void 0,this.renderBase(!1),m("div",{className:y.default.videoControls},void 0,m(f.default,{externalURL:t.url,onPlay:this.handlePlay})))},v.render=function(){switch(this.props.news.type){case p.EmbedTypes.VIDEO:return this.renderVideo();default:case p.EmbedTypes.ARTICLE:return this.renderArticle()}},n}(o.Component);t.default=g,g.displayName="ActivityFeedCardNews"},7247:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=p(r(3)),i=r(304),l=p(r(127)),u=p(r(83)),s=p(r(214)),d=p(r(11)),c=p(r(5840)),f=p(r(8));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,o=e.installPath,a=r.getBranchedName(n);s.default.createShortcuts(!0,!1,a,r.id,o),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return null!=this.props.installPath&&d.default.isDesktop()?function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_CREATE_DESKTOP_SHORTCUT,action:this.handleAction}):null},o}(o.PureComponent);y.displayName="ApplicationCreateDesktopShortcut";var v=a.default.connectStores([u.default,l.default],function(e){var t,r=e.libraryApplication,n=l.default.getState(r.id,r.branchId);return null!=n&&(t=n.installPath),{installPath:t}})(y);t.default=v},7248:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=y(r(3)),i=r(304),l=r(147),u=y(r(39)),s=r(792),d=y(r(5844)),c=y(r(5840)),f=y(r(5934)),p=y(r(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderItems=function(){var e=t.props,r=e.libraryApplication,n=e.application,a=n.primarySkuId;return v(o.Fragment,{},void 0,v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_APPLICATION_ID,action:function(){return t.handleCopy(n.id)}}),null==r||r instanceof l.LocalApplicationRecord?null:v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_BRANCH_ID,action:function(){return t.handleCopy(r.branchId)}}),null!=a?v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_SKU_ID,action:function(){return t.handleCopy(a)}}):null)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.handleCopy=function(e){(0,s.copy)(e),(0,i.closeContextMenu)()},a.render=function(){var e=this,t=this.props,r=t.developerMode,n=t.application;return!__OVERLAY__&&r&&s.SUPPORTS_COPY?v(d.default,{},void 0,v(f.default,{label:p.default.Messages.COPY,render:this.renderItems,action:function(){return e.handleCopy(n.id)}})):null},n}(o.PureComponent);h.displayName="ApplicationDeveloperModeGroup";var _=a.default.connectStores([u.default],function(){return{developerMode:u.default.developerMode}})(h);t.default=_},7249:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=_(r(1)),a=h(r(3)),i=r(304),l=h(r(252)),u=h(r(127)),s=h(r(32)),d=h(r(83)),c=h(r(58)),f=r(212),p=_(r(437)),y=h(r(5840)),v=h(r(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var m=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.isLaunchable,o=e.analyticsLocation;n&&p.playApplication(r.id,r,{analyticsParams:{location:o}}),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return!this.props.isLaunchable||this.props.isRunning?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(y.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,action:this.handleAction})},o}(o.PureComponent);m.displayName="ApplicationLaunchItem";var g=a.default.connectStores([s.default,u.default,d.default,c.default,l.default],function(e){var t=e.libraryApplication;return{isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),isLaunchable:(0,f.isLaunchable)(d.default,s.default,u.default,l.default,t.id,t.branchId)}})(m);t.default=g},7250:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=f(r(1)),a=c(r(3)),i=r(304),l=f(r(320)),u=c(r(127)),s=c(r(83)),d=c(r(5840));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(e,r){var n=t.props,o=n.libraryApplication,a=n.onPlay,u=n.activeLaunchOptionId;r.id!==u&&l.setActiveLaunchOptionId(o.id,o.branchId,r.id),a&&a(e),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this,t=this.props.launchOptions;return t.length<2?null:t.map(function(t){var r=t.id,o=t.name;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:o,action:function(r){return e.handleAction(r,t)}},r)})},o}(o.PureComponent);p.displayName="ApplicationLaunchOptionSelectorItem";var y=a.default.connectStores([s.default,u.default],function(e){var t=e.libraryApplication;return{launchOptions:u.default.getLaunchOptions(t.id,t.branchId),activeLaunchOptionId:s.default.getActiveLaunchOptionId(t.id,t.branchId)}})(p);t.default=y},7251:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=v(r(1)),a=y(r(3)),i=r(304),l=y(r(127)),u=y(r(83)),s=y(r(58)),d=v(r(437)),c=y(r(5840)),f=r(0),p=y(r(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var h=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.libraryApplication;d.repairApplication(e.id,e.branchId,f.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props,t=e.isUpToDate,r=e.isRunning,o=e.shouldPatch;return t&&!r&&o?function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_REPAIR,action:this.handleAction}):null},o}(o.PureComponent);h.displayName="ApplicationRepairItem";var _=a.default.connectStores([l.default,u.default,s.default],function(e){var t=e.libraryApplication;return{isRunning:s.default.getRunningVerifiedApplicationIds().includes(t.id),isUpToDate:l.default.isUpToDate(t.id,t.branchId),shouldPatch:l.default.shouldPatch(t.id,t.branchId)}})(h);t.default=_},7252:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=f(r(3)),i=r(304),l=f(r(167)),u=r(6332),s=r(792),d=f(r(5840)),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.sku;if(null==e)throw new Error("SKU null in ApplicationStoreCopyLinkItem");(0,s.copy)((0,u.getStoreListingLink)(e)),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return null==this.props.sku||__OVERLAY__||!s.SUPPORTS_COPY?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.APPLICATION_CONTEXT_MENU_COPY_STORE_LINK,action:this.handleAction})},o}(o.PureComponent);p.displayName="ApplicationStoreLinkItem";var y=a.default.connectStores([l.default],function(e){var t=e.application.primarySkuId;return{sku:null!=t?l.default.get(t):null}})(p);t.default=y},7253:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(304),i=r(803),l=s(r(5840)),u=s(r(8));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.application,n=e.analyticsLocation;(0,i.goToApplicationStoreListing)(r.id,{analyticsSource:n,slug:r.slug}),(0,a.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return null==this.props.application.primarySkuId?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK,action:this.handleAction})},o}(o.PureComponent);d.displayName="ApplicationStoreLinkItem";var c=d;t.default=c},7254:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=c(r(1)),a=d(r(3)),i=c(r(6146)),l=d(r(438)),u=d(r(5857)),s=d(r(8));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var f=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.application;e.isFollowing?i.removeGamesFromFeed([r.id]):i.addGamesToFeed([r.id])},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props.isFollowing;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:e})},o}(o.PureComponent);f.displayName="ApplicationShowInActivityFeedItem";var p=a.default.connectStores([l.default],function(e){var t=e.application;return{isFollowing:l.default.applicationIsOnFeed(t.id)}})(f);t.default=p},7255:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=I(r(1)),a=A(r(3)),i=r(304),l=I(r(320)),u=A(r(56)),s=I(r(854)),d=r(147),c=A(r(127)),f=A(r(32)),p=A(r(83)),y=A(r(211)),v=A(r(141)),h=A(r(18)),_=r(146),m=A(r(5840)),g=A(r(424)),O=r(0),E=A(r(8));function A(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function S(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,o=e.shouldShowConfirmationModal;null!=r&&null!=n&&(r.isHidden()||!o?t.toggleHidden(r):t.openRemoveConfirmationModal(r,n),(0,i.closeContextMenu)())},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.track=function(e){var t=this.props.libraryApplication;h.default.track(O.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:e},t.getAnalyticsData()))},a.openRemoveConfirmationModal=function(e,t){var r=this;u.default.push(function(n){return o.createElement(g.default,T({header:E.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_HEADER,confirmText:E.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_CONFIRM,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return r.removeFromLibrary(e)},red:!1},n),S(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,E.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_BODY.format({name:t.name})))})},a.removeFromLibrary=function(e){this.props.isInstalled||this.toggleHidden(e)},a.toggleHidden=function(e){var t=(0,_.toggleFlag)(e.getFlags(),O.LibraryApplicationFlags.HIDDEN);e instanceof d.LocalApplicationRecord?s.updateFlags(e.id,t):e instanceof d.LibraryApplicationRecord&&l.updateFlags(e.id,e.branchId,t),this.track((0,_.hasFlag)(t,O.LibraryApplicationFlags.HIDDEN))},a.render=function(){var e=this.props,t=e.isInstalled,r=e.libraryApplication;return t&&!r.isHidden()?null:S(m.default,{label:r.isHidden()?E.default.Messages.APPLICATION_CONTEXT_MENU_SHOW:E.default.Messages.APPLICATION_CONTEXT_MENU_HIDE,action:this.handleAction})},n}(o.PureComponent);b.displayName="ApplicationToggleInLibraryItem";var P=a.default.connectStores([p.default,c.default,y.default,f.default],function(e){var t=e.libraryApplication;return{isInstalled:c.default.isInstalled(t.id,t.branchId),shouldShowConfirmationModal:!p.default.hasRemovedLibraryApplicationThisSession}})(b);t.default=P},7256:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=_(r(1)),a=h(r(3)),i=r(304),l=_(r(180)),u=h(r(127)),s=h(r(83)),d=h(r(58)),c=h(r(259)),f=_(r(437)),p=h(r(5840)),y=r(0),v=h(r(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleInstall=function(){var e=t.props.libraryApplication;f.installApplication(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t.handleUninstall=function(){var e=t.props.libraryApplication;l.uninstallBranchPrompt(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.isInstalled,r=e.targetManifests,n=e.isRunning;return t?n?null:m(p.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_UNINSTALL,action:this.handleUninstall}):null==r?null:m(p.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_INSTALL,action:this.handleInstall})},n}(o.PureComponent);g.displayName="ApplicationToggleInstallItem";var O=a.default.connectStores([u.default,c.default,s.default,d.default],function(e){var t=e.libraryApplication;return{isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),isInstalled:u.default.isInstalled(t.id,t.branchId),targetManifests:c.default.getTargetManifests(t.id,t.branchId)}})(g);t.default=O},7257:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=y(r(1)),a=y(r(320)),i=y(r(854)),l=r(147),u=p(r(18)),s=r(146),d=p(r(5857)),c=r(0),f=p(r(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.OVERLAY_DISABLED);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):a.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.OVERLAY_DISABLED))}},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=o.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,v({overlay_disabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_TOGGLE_OVERLAY_DISABLE,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.OVERLAY_DISABLED)})},o}(o.PureComponent);h.displayName="ApplicationToggleOverlayItem";var _=h;t.default=_},7258:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=y(r(1)),a=y(r(320)),i=y(r(854)),l=r(147),u=p(r(18)),s=r(146),d=p(r(5857)),c=r(0),f=p(r(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.PRIVATE);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):a.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.PRIVATE))}},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=o.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,v({private_enabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_PRIVATE_STATUS,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.PRIVATE)})},o}(o.PureComponent);h.displayName="ApplicationTogglePrivateItem";var _=h;t.default=_},7259:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=f(r(3)),i=r(304),l=r(882),u=f(r(46)),s=f(r(5840)),d=r(0),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.application;(0,l.openModal)(e.id,d.CURRENT_APP_CONTEXT,e.name),(0,i.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return this.props.hasMediaEngineContext?function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:c.default.Messages.IN_GAME_VOICE_SETTINGS,action:this.handleAction}):null},o}(o.PureComponent);p.displayName="ApplicationVoiceSettingsItem";var y=a.default.connectStores([u.default],function(e){var t=e.application;return{hasMediaEngineContext:u.default.hasContext(t.id)}})(p);t.default=y},7260:function(e,t,r){e.exports=r.p+"6a0d045ec452de05f71ee63fece2327f.svg"},7261:function(e,t,r){e.exports=r.p+"5917566c2502226aa777df2eadbb19e6.svg"},7262:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=g(r(15)),i=g(r(834)),l=g(r(918)),u=r(241),s=r(170),d=g(r(82)),c=g(r(96)),f=g(r(165)),p=g(r(141)),y=g(r(7019)),v=g(r(412)),h=r(0),_=g(r(8)),m=g(r(5598));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleJoinRequest=function(){var e=t.props,r=e.activity,n=e.onJoinRequest,o=e.user;null!=r&&n&&n(r,o.id)},t.handleSpectate=function(){var e=t.props,r=e.activity,n=e.onSpectate,o=e.user;null!=r&&n&&n(r,o.id)},t.handleNotify=function(){var e=t.props,r=e.activity,n=e.onNotify,o=e.user;null!=r&&n&&n(r,o.id)},t.handleWatchStream=function(){var e=t.props.onWatchStream;e&&e()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,g,I,S=n.prototype;return S.getTypeClass=function(e){return(0,s.getClass)(m.default,e,this.props.type)},S.isListeningActivity=function(){var e=this.props.activity;return null!=e&&e.type===h.ActivityTypes.LISTENING},S.processActions=function(e){var t=this.props,r=t.showPrimaryActionOnly,n=t.reverse;return r?e.find(function(e){return null!=e})||null:n?[].concat(e).reverse():e},S.renderBuyButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hover,o=e.onViewInStore;return E(d.default,{className:m.default.button,color:t,look:r,hover:n,size:m.default.buttonSize,onClick:o},"buy",_.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},S.renderJoinRequest=function(){var e=this.props,t=e.activity,r=e.hasActiveJoinRequest,n=e.isBrowser,o=e.isLaunchable,a=e.color,i=e.look,l=e.hover;if(null==t||!(0,u.hasFlag)(t,h.ActivityFlags.JOIN)||null==t.application_id)return null;var s=!this.isCurrentUser&&(n||o)&&!r,c=null;return this.isCurrentUser?c=_.default.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:n||o||(c=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name})),E(v.default,{text:c},"join-request",E(d.default,{className:m.default.button,onClick:this.handleJoinRequest,color:a,look:i,hover:l,disabled:!s,size:m.default.buttonSize,fullWidth:!0},void 0,_.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN))},S.renderSpectate=function(){var e=this.props,t=e.activity,r=e.spectateState,n=e.isBrowser,o=e.isLaunchable,a=e.color,i=e.look,l=e.applicationStream;if(null==t||!(0,u.hasFlag)(t,h.ActivityFlags.SPECTATE)||null==t.application_id||null!=l)return null;var s=r===h.ActivityActionStates.FAILED,f=r===h.ActivityActionStates.LOADING,y=!this.isCurrentUser&&(n||o),g=null;this.isCurrentUser?g=_.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:n||o||(g=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name}));var O=E(v.default,{text:g},"spectate",E(d.default,{className:m.default.button,onClick:this.handleSpectate,submitting:f,disabled:!y,color:a,look:i,size:m.default.buttonSize,fullWidth:!0},void 0,_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE));return s?E(c.default,{direction:c.default.Direction.VERTICAL},void 0,O,E(p.default,{color:p.default.Colors.RED,className:m.default.actionError},void 0,_.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH)):O},S.renderNotify=function(){return(0,u.hasFlag)(this.props.activity,h.ActivityFlags.INSTANCE)?E(d.default,{className:m.default.button,look:d.default.Looks.OUTLINED,size:m.default.buttonSize,onClick:this.handleNotify,fullWidth:!0},"notify",_.default.Messages.USER_ACTIVITY_ACTION_NOTIFY_ME):null},S.renderSync=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,o=e.user,a=e.renderSpotifySyncButton;if(!(0,u.hasFlag)(t,h.ActivityFlags.SYNC))return null;var i={key:"sync",className:m.default.button,size:m.default.buttonSize,color:r,look:n};return(0,u.isListeningOnSpotify)(t)?a(O({},i,{activity:t,user:o})):null},S.renderXboxConnectButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hasXboxAccount,o=e.type,a=e.renderXboxButton;return n||o===y.default.Types.ACTIVITY_FEED?null:E(c.default,{grow:0,className:this.getTypeClass("actions")},void 0,a({className:m.default.button,size:m.default.buttonSize,color:t,look:r,fullWidth:!0}))},S.renderPlay=function(){var e=this.props,t=e.activity,r=e.user,n=e.color,o=e.look,a=e.renderSpotifyPlayButton;if(!(0,u.hasFlag)(t,h.ActivityFlags.PLAY))return null;var i={key:"play",className:m.default.button,size:m.default.buttonSize,color:n,look:o};return(0,u.isListeningOnSpotify)(t)?a(O({},i,{activity:t,user:r,fullWidth:!0})):null},S.renderWatch=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,o=e.applicationStream,a=e.isWatchingStream,i=e.isStreamWatchable,l=null!=o;if(!(0,u.isStreaming)(t)&&!l)return null;var s=_.default.Messages.WATCH;return l&&(s=_.default.Messages.JOIN_STREAM,this.isCurrentUser?s=_.default.Messages.WATCH_STREAM_STREAMING:a&&(s=_.default.Messages.WATCH_STREAM_WATCHING)),E(d.default,{className:m.default.button,disabled:l&&(this.isCurrentUser||a||!i),size:m.default.buttonSize,onClick:l?this.handleWatchStream:function(){return window.open((0,u.getStreamURL)(t))},color:r,look:n,fullWidth:!0},"play",E(c.default,{align:c.default.Align.CENTER},void 0,l?E(f.default,{name:f.default.Names.STREAM,className:m.default.streamIcon}):null,s))},S.renderJoinVoice=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,o=e.selectedVoiceChannelId,a=e.onJoinVoice,u=(0,i.default)(t),s=(0,l.default)(t);return null==u||null==s?null:E(d.default,{className:m.default.button,disabled:u===o,size:m.default.buttonSize,onClick:function(){return a(s,u)},color:r,look:n,fullWidth:!0},"play",E(c.default,{align:c.default.Align.CENTER},void 0,E(f.default,{name:f.default.Names.SPEAKER,className:m.default.streamIcon}),_.default.Messages.JOIN_VOICE))},S.render=function(){var e=this.props,t=e.activity,r=e.type,n=e.isLaunchable,o=e.showBuyChatXGame,i=e.canBuyChatXGame,l=e.applicationStream;if((0,u.isOnXbox)(t))return this.renderXboxConnectButton();var s,d=r===y.default.Types.PROFILE,f=d?c.default.Align.END:c.default.Align.STRETCH,p=d?c.default.Direction.VERTICAL:c.default.Direction.HORIZONTAL;if(this.isListeningActivity()&&null==l){var v=this.renderSync(),h=this.renderPlay();return E(c.default,{grow:0,align:f,className:this.getTypeClass("listeningActions")},void 0,h,v)}if(!n&&o&&i)s=[this.renderBuyButton()];else{var _=this.renderJoinRequest(),m=this.renderSpectate(),g=this.renderNotify(),O=this.renderWatch(),A=this.renderJoinVoice();if(null==_&&null==m&&null==g&&null==O&&null==A)return null;s=[_,m,g,O,A]}return E(c.default,{grow:0,align:f,direction:p,className:(0,a.default)(this.props.className,this.getTypeClass("actions"))},void 0,this.processActions(s))},o=n,(g=[{key:"isCurrentUser",get:function(){var e=this.props,t=e.user,r=e.currentUser;return t.id===r.id}}])&&A(o.prototype,g),I&&A(o,I),n}(o.PureComponent);I.displayName="UserActivityActions",I.defaultProps={color:d.default.Colors.WHITE,look:d.default.Looks.OUTLINED,showPrimaryActionOnly:!1,isStreamWatchable:!0,reverse:!1};var S=I;t.default=S},7263:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=f(r(1)),a=c(r(82)),i=c(r(96)),l=c(r(165)),u=c(r(412)),s=f(r(6070)),d=c(r(5355));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t=e.activity,r=e.user,n=e.channelId,c=e.guildId,f=e.source,v=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["activity","user","channelId","guildId","source"]);return y(s.default,{activity:t,user:r,channelId:n,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_PLAY},void 0,function(e){var t=e.tooltip,r=e.disabled,n=e.loading,s=e.label,c=e.onClick;return y(u.default,{text:t},void 0,o.createElement(a.default,p({},v,{onClick:c,disabled:r,submitting:n}),y(i.default,{align:i.default.Align.CENTER},void 0,y(l.default,{name:l.default.Names.PLATFORM_SPOTIFY,className:d.default.spotifyButtonLogo}),s)))})};v.displayName="SpotifyPlayButton";var h=v;t.default=h},7264:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=y(r(56)),i=r(454),l=y(r(82)),u=y(r(96)),s=y(r(141)),d=y(r(121)),c=y(r(72)),f=y(r(8)),p=y(r(5599));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleCancel=function(){a.default.pop()},t.handleUpgrade=function(){(0,i.openPremiumSite)(),a.default.pop()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){return v(d.default,{size:d.default.Sizes.SMALL},void 0,v(d.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_HEADER)),v(d.default.Content,{},void 0,v(u.default,{justify:u.default.Justify.CENTER},void 0,v("div",{className:p.default.image})),v(s.default,{color:s.default.Colors.PRIMARY,className:p.default.text},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BODY)),v(d.default.Footer,{},void 0,v(l.default,{onClick:this.handleUpgrade},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BUTTON),v(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleCancel},void 0,f.default.Messages.CANCEL)))},n}(o.PureComponent);h.displayName="SpotifyPremiumUpgrade";var _=h;t.default=_},7266:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=f(r(1)),a=c(r(15)),i=c(r(82)),l=c(r(165)),u=c(r(412)),s=f(r(6070)),d=c(r(5355));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t=e.activity,r=e.user,n=e.channelId,c=e.guildId,f=e.source,v=e.size,h=e.className,_=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["activity","user","channelId","guildId","source","size","className"]);return y(s.default,{activity:t,user:r,channelId:n,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_SYNC},void 0,function(e){var r=e.tooltip,n=e.disabled,s=e.loading,c=e.onClick;return y(u.default,{text:r},void 0,o.createElement(i.default,p({},_,{size:(0,a.default)(v,d.default.iconButtonSize),className:(0,a.default)(h,d.default.iconButton),onClick:c,disabled:n,submitting:s,"aria-label":r||t.name}),y(l.default,{name:l.default.Names.PERSON_PLAY,className:d.default.listenAlongIcon})))})};v.displayName="SpotifySyncButton";var h=v;t.default=h},7267:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=p(r(781)),i=p(r(173)),l=p(r(82)),u=p(r(96)),s=p(r(165)),d=r(0),c=p(r(8)),f=p(r(5601));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=i.default.get(d.PlatformTypes.XBOX).name,h=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props.onOpenConnections;e&&e(),a.default.open(d.UserSettingsSections.CONNECTIONS)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.className;return y(l.default,{className:e,onClick:this.handleClick},void 0,y(u.default,{align:u.default.Align.CENTER},void 0,y(s.default,{name:s.default.Names.PLATFORM_XBOX,className:f.default.xboxButtonLogo}),c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:v})))},n}(o.Component);t.default=h,h.displayName="XboxButton"},7268:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=d(r(15)),i=d(r(82)),l=d(r(121)),u=d(r(72)),s=d(r(5602));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,r;function n(t){var r;return f(r=e.call(this,t)||this).handleCancel=r.handleCancel.bind(f(r)),f(r).handleConfirm=r.handleConfirm.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderCancel=function(){var e=this.props.cancelText;return null==e?null:c(i.default,{look:i.default.Looks.LINK,onClick:this.handleCancel},void 0,e)},o.renderConfirm=function(){var e=this.props.confirmText;return null==e?null:c(i.default,{onClick:this.handleConfirm},void 0,e)},o.render=function(){var e=this.props,t=e.title,r=e.imageClass,n=e.body;return c(l.default,{},void 0,c(l.default.Header,{},void 0,c(u.default,{tag:u.default.Tags.H4},void 0,t)),c(l.default.Content,{},void 0,r&&c("div",{className:(0,a.default)(s.default.image,r)}),c("div",{className:s.default.body},void 0,n)),c(l.default.Footer,{},void 0,this.renderConfirm(),this.renderCancel()))},o.handleCancel=function(){var e=this.props,t=e.onCancel,r=e.onClose;r&&r(),t&&t()},o.handleConfirm=function(){var e=this.props,t=e.onConfirm,r=e.onClose;r&&r(),t&&t()},n}(o.PureComponent);p.displayName="ActionableError";var y=p;t.default=y},7269:function(e,t,r){e.exports=r.p+"c613a8513d53c5b2a4d5941419100a11.svg"},7270:function(e,t,r){e.exports=r.p+"14ce1e8528e32f1a13659e476a3c0716.svg"},7271:function(e,t,r){e.exports=r.p+"69599bf4774238ea687b769da6a9595e.svg"},7272:function(e,t,r){e.exports=r.p+"006ca0d19c6267812c15ff9611d4e6d5.svg"},7273:function(e,t,r){e.exports=r.p+"b3bbdcadbdb67b466e9330da22ed0221.svg"},7274:function(e,t,r){e.exports=r.p+"273ec1aee7edca70e8038dfcb26436b1.svg"},7275:function(e,t,r){e.exports=r.p+"5947547ef2316bb7db5650751f2ccb2f.svg"},7276:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(304),i=d(r(419)),l=d(r(837)),u=d(r(5840)),s=d(r(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleViewProfile=function(){l.default.open(t.props.userId,t.props.guildId),i.default.close(),(0,a.closeContextMenu)()},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.PROFILE,action:this.handleViewProfile})},o}(o.PureComponent);c.displayName="UserProfileItem";var f=c;t.default=f},7277:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=c(r(422)),i=r(304),l=c(r(16)),u=c(r(14)),s=c(r(5840)),d=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.userId,r=e.channelId,c=(0,o.useStateFromStores)([u.default],function(){return u.default.getCurrentUser()},[]),f=(0,o.useStateFromStores)([l.default],function(){return l.default.getChannel(r)},[r]);return null==f||f.isOwner(t)||!f.isOwner(c.id)?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.REMOVE_FROM_GROUP,action:function(){a.default.removeRecipient(r,t),(0,i.closeContextMenu)()},danger:!0})};f.displayName="UserRemoveFromGroupItem";var p=f;t.default=p},7278:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=f(r(5)),a=r(3),i=f(r(328)),l=r(304),u=f(r(10)),s=f(r(804)),d=f(r(5840)),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t=e.userId,r=e.channelId,n=(0,a.useStateFromStores)([u.default],function(){return u.default.getId()===t},[t]),f=(0,a.useStateFromStores)([s.default],function(){return s.default.getParticipants(r)},[r]);if(n||!f||!f.length)return null;var y=o.default.find(f,function(e){return e.user.id===t});return null==y?p(d.default,{label:c.default.Messages.RING,action:function(){(0,l.closeContextMenu)(),i.default.ring(r,[t])}}):y.ringing?p(d.default,{label:c.default.Messages.STOP_RINGING,action:function(){(0,l.closeContextMenu)(),i.default.stopRinging(r,[t])}}):null};t.default=y},7279:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=g(r(5)),a=r(3),i=g(r(171)),l=g(r(5849)),u=g(r(75)),s=g(r(23)),d=g(r(142)),c=g(r(14)),f=g(r(100)),p=g(r(5844)),y=g(r(5840)),v=g(r(5934)),h=g(r(5857)),_=r(0),m=g(r(8));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var E=function(e){var t=e.userId,r=e.guildId,n=e.invertChildY,g=void 0!==n&&n,E=(0,a.useStateFromStores)([s.default,d.default],function(){return s.default.getGuild(r)},[r]),A=(0,a.useStateFromStores)([u.default],function(){var e=u.default.getMember(r,t);return{userRoles:e?e.roles:null,isGuildMember:!!e,canManageRoles:null!=E&&d.default.can(_.Permissions.MANAGE_ROLES,E)}},[t,r,E],i.default),I=A.userRoles,S=A.isGuildMember,T=A.canManageRoles;if(__OVERLAY__)return null;if(null==I||null==E)return null;var b=I&&I.length,P=c.default.getCurrentUser(),N=null;if(S&&(b&&b>0||T)){var M=f.default.getHighestRole(E,P.id),C=(0,o.default)(E.roles).filter(function(e){return e.id!==E.id&&(T||-1!==I.indexOf(e.id))}).map(function(e){if(T){var n=e.managed||!f.default.isRoleHigher(E,P.id,M,e),o=-1!==I.indexOf(e.id);return n&&!o?null:O(h.default,{label:e.name,disabled:n,styles:{color:e.colorString},boxStyles:{background:e.colorString},action:function(){return function(e){if(null!=I){var n=I;n=-1===n.indexOf(e.id)?n.concat([e.id]):n.filter(function(t){return t!==e.id}),l.default.updateMemberRoles(r,t,n)}}(e)},active:o},e.id)}return O(y.default,{styles:{color:e.colorString},label:e.name},e.id)}).value();C.length&&(N=O(p.default,{},void 0,O(v.default,{label:m.default.Messages.ROLES_LIST.format({numRoles:3}),render:C,invertChildY:g})))}return N};t.default=E},7280:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(1));var n,o=r(3),a=s(r(90)),i=r(241),l=s(r(5840)),u=s(r(8));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.userId,r=(0,o.useStateFromStores)([a.default],function(){return(0,i.getStreamURL)(a.default.getPrimaryActivity(t))},[t]);if(null==r)return null;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.WATCH_STREAM,action:function(){window.open(r,"_blank")}})};d.displayName="UserStreamItem";var c=d;t.default=c},7281:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=f(r(1)),a=c(r(3)),i=f(r(6146)),l=c(r(438)),u=c(r(14)),s=c(r(5857)),d=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.user;e.isFollowing?i.removeMembersFromFeed([r.id]):i.addMembersToFeed([r.id])},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props,t=e.user,r=e.isFollowing,o=e.isCurrentUser;return t.bot||o?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:r})},o}(o.PureComponent);p.displayName="UserToggleFeedVisibilityItem";var y=a.default.connectStores([l.default],function(e){var t=e.user;return{isFollowing:l.default.isOnFeed(t.id),isCurrentUser:u.default.getCurrentUser().id===t.id}})(p);t.default=y},7282:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=p(r(3)),i=r(304),l=p(r(56)),u=p(r(23)),s=p(r(14)),d=p(r(5840)),c=p(r(7283)),f=p(r(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,r;function a(t){var r;return v(r=e.call(this,t)||this).handleTransferOwnership=r.handleTransferOwnership.bind(v(r)),r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=a.prototype;return u.render=function(){var e=this.props,t=e.guild,r=e.currentUser,o=e.user;return null==t||null==r||o.id===t.ownerId||o.bot||!t.isOwnerWithRequiredMfaLevel(r)?null:function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{danger:!0,label:f.default.Messages.TRANSFER_OWNERSHIP,action:this.handleTransferOwnership})},u.handleTransferOwnership=function(){var e=this.props,t=e.guild,r=e.currentUser,n=e.user;l.default.push(function(e){return o.createElement(c.default,y({},e,{guild:t,fromUser:r,toUser:n}))}),(0,i.closeContextMenu)()},a}(o.PureComponent);h.displayName="UserTransferOwnershipItem";var _=a.default.connectStores([u.default,s.default],function(e){var t=e.guildId;return{currentUser:s.default.getCurrentUser(),guild:u.default.getGuild(t)}})(h);t.default=_},7283:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=m(r(1)),a=_(r(5849)),i=r(787),l=_(r(56)),u=_(r(82)),s=_(r(96)),d=_(r(5847)),c=_(r(121)),f=_(r(416)),p=_(r(72)),y=m(r(5937)),v=_(r(8)),h=_(r(5606));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function g(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){var t,r;function n(t){var r;return O(r=e.call(this,t)||this).handleTransfer=r.handleTransfer.bind(O(r)),O(r).handleAcknowledged=r.handleAcknowledged.bind(O(r)),r.state={acknowledged:!1},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.handleTransfer=function(e){e.preventDefault(),l.default.pop(),a.default.transferOwnership(this.props.guild.id,this.props.toUser.id).then(function(){return(0,i.popLayer)()}).catch(function(){})},o.handleAcknowledged=function(e){e.currentTarget.checked?this.setState({acknowledged:!0}):this.setState({acknowledged:!1})},o.render=function(){var e=this.props,t=e.fromUser,r=e.toUser,n=e.onClose,o=this.state.acknowledged;return g(c.default,{tag:"form",onSubmit:this.handleTransfer},void 0,g(c.default.Header,{},void 0,g(p.default,{tag:p.default.Tags.H4},void 0,v.default.Messages.TRANSFER_OWNERSHIP,"",this.props.toUser.toString())),g(c.default.Content,{},void 0,g(s.default,{className:h.default.fromToWrapper,justify:s.default.Justify.CENTER},void 0,g("div",{className:h.default.from},void 0,g(y.default,{user:t,size:y.Sizes.SIZE_80})),g("div",{className:h.default.to},void 0,g(y.default,{user:r,size:y.Sizes.SIZE_80}))),g(d.default,{hideBorder:!0,value:o,onChange:this.handleAcknowledged},void 0,g(f.default,{type:f.default.Types.DESCRIPTION},void 0,v.default.Messages.TRANSFER_OWNERSHIP_ACKNOWLEDGE.format({username:r.toString()})))),g(c.default.Footer,{},void 0,g(u.default,{type:"submit",disabled:!o,color:u.default.Colors.RED},void 0,v.default.Messages.TRANSFER_OWNERSHIP),g(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:n},void 0,v.default.Messages.CANCEL)))},n}(o.PureComponent);E.displayName="TransferOwnership",E.key=function(){return"transfer-ownership-modal"};var A=E;t.default=A},7284:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=f(r(3)),i=f(r(6574)),l=f(r(804)),u=f(r(16)),s=f(r(124)),d=f(r(5840)),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=o.prototype;return a.render=function(){var e=this,t=this.props,r=t.focused;if(t.hidden)return null;var o=r?c.default.Messages.UNFOCUS_PARTICIPANT:c.default.Messages.FOCUS_PARTICIPANT;return function(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:o,action:function(){return e.handleFocus()}})},a.handleFocus=function(){var e=this.props,t=e.focused,r=e.channelId,n=e.userId;i.default.selectParticipant(r,t?null:n)},o}(o.PureComponent);p.displayName="UserVideoFocusItem";var y=a.default.connectStores([l.default,s.default],function(e){var t=e.channelId,r=e.userId,n=e.guildId,o=l.default.getSelectedParticipantId(t),a=u.default.getChannel(t),i=s.default.isInChannel(n,t,r)&&s.default.hasVideo(n,t);return{hidden:null==a||(a.isDM()||!i),focused:o===r}})(p);t.default=y},7285:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=f(r(242)),i=f(r(46)),l=f(r(14)),u=f(r(11)),s=f(r(5844)),d=f(r(6688)),c=f(r(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={me:null!=t.props.me?t.props.me:l.default.getCurrentUser().id===t.props.userId,volume:null!=t.props.volume?t.props.volume:i.default.getLocalVolume(t.props.userId)},t.handleVolumeChange=function(e){t.state.me||a.default.setLocalVolume(t.props.userId,u.default.embedded?2*e:e)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=null;if(!this.state.me){var t,r=this.state.volume;u.default.embedded?(t=function(e){return(2*e).toFixed(0)+"%"},r/=2):t=function(e){return e.toFixed(0)+"%"},e=p(d.default,{label:c.default.Messages.USER_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:t,defaultValue:r})}return p(s.default,{},void 0,e)},n}(o.PureComponent);y.displayName="UserVolumeGroup";var v=y;t.default=v},840:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=l(r(15)),i=l(r(868));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"});function c(e){switch(e){case d.LEFT:return i.default.left;case d.RIGHT:return i.default.right;case d.UP:return null;case d.DOWN:return i.default.down;default:throw new Error("Invalid Direction "+e)}}var f=function(e){var t=e.width,r=void 0===t?24:t,n=e.height,i=void 0===n?24:n,l=e.color,d=void 0===l?"currentColor":l,f=e.direction,p=e.foreground,y=e.className,v=e.title,h=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["width","height","color","direction","foreground","className","title"]);return o.createElement("svg",u({},h,{width:r,height:i,className:(0,a.default)(y,c(f)),viewBox:"0 0 24 24"}),null!=v?s("title",{},void 0,v):null,s("polygon",{className:p,fill:d,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))};f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},907:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=(n=r(840))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return o.createElement(a.default,i({},e,{direction:a.default.Directions.UP}))}}}]);
//# sourceMappingURL=e53c26756359878d5673.js.map