"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["23919"],{413097:function(e,n,t){e.exports=t.p+"f30eb25dc8a6797dff4d.svg"},983008:function(e,n,t){e.exports=t.p+"eb3bf32fdaa61a5ecc53.svg"},478408:function(e,n,t){e.exports=t.p+"03afde423124b81bde24.svg"},445392:function(e,n,t){var i,l=t(442837),r=t(570140);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}let s=10*t(70956).Z.Millis.MINUTE,o={lastUsedCommandId:null,lastUsedTimeMs:null};class c extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&(o.lastUsedCommandId=e.lastUsedCommandId,o.lastUsedTimeMs=e.lastUsedTimeMs)}getState(){return o}getLastUsedCommandId(){let e=Date.now();return null==o.lastUsedTimeMs||null==o.lastUsedCommandId?null:(e>o.lastUsedTimeMs+s&&(o.lastUsedCommandId=null,o.lastUsedTimeMs=null),o.lastUsedCommandId)}}a(c,"displayName","AppLauncherLastUsedCommandStore"),a(c,"persistKey","AppLauncherLastUsedCommandStore"),new c(r.Z,{APPLICATION_COMMAND_USED:function(e){let{command:n}=e;o.lastUsedCommandId=n.id,o.lastUsedTimeMs=Date.now()}})},541099:function(e,n,t){var i,l,r,a,s=t(442837),o=t(570140),c=t(827498);let u={show:!1,entrypoint:c._b.NONE,activeViewType:null,closeReason:c.ti.DISMISSED};function d(e){let{closeReason:n=c.ti.DISMISSED}=e;return u.show=!1,u.entrypoint=c._b.NONE,u.closeReason=n,!0}class m extends(a=s.ZP.Store){initialize(){}shouldShowPopup(){return u.show&&u.entrypoint===c._b.TEXT}shouldShowModal(){return u.show&&u.entrypoint===c._b.VOICE}entrypoint(){return u.entrypoint}activeViewType(){return u.activeViewType}closeReason(){return u.closeReason}}function p(){d({closeReason:c.ti.DISMISSED})}function _(){d({closeReason:c.ti.COMMAND})}r="AppLauncherStore",(l="displayName")in(i=m)?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,n.Z=new m(o.Z,{APP_LAUNCHER_SHOW:function(e){let{entrypoint:n,activeViewType:t}=e;return u.show=!0,u.entrypoint=n,u.closeReason=c.ti.DISMISSED,u.activeViewType=t,!0},APP_LAUNCHER_DISMISS:d,CONNECTION_OPEN:p,LOGOUT:p,CHANNEL_SELECT:p,APPLICATION_COMMAND_SET_ACTIVE_COMMAND:_,APP_LAUNCHER_SET_ACTIVE_COMMAND:_})},87005:function(e,n,t){t.d(n,{f:function(){return _}}),t(47120);var i=t(470079),l=t(243814),r=t(442837),a=t(384275),s=t(911969),o=t(10718),c=t(148958),u=t(881998);t(445392);var d=t(689079);let m={commandType:s.yU.CHAT},p={placeholderCount:0,limit:d.tn,includeFrecency:!0};function _(e,n){let{sectionDescriptors:t,loading:s}=o.wi(e,m,p);return{loading:s,frecentApps:function(e,n){i.useEffect(()=>{e&&a.Z.fetch()},[e]);let t=(0,r.Wu)([u.Z],()=>{var n,t;return e&&null!==(t=null===(n=u.Z.getApps())||void 0===n?void 0:n.filter(e=>e.scopes.includes(l.x.APPLICATIONS_COMMANDS)))&&void 0!==t?t:[]},[e]),s=n.filter(e=>e.id!==d.bi.FRECENCY&&e.id!==d.bi.BUILT_IN);return(0,c.h)(s,e?t:[])}(n,t)}}},496158:function(e,n,t){t.d(n,{D:function(){return r}});var i=t(470079),l=t(430824);function r(e){return i.useMemo(()=>{var n;return{channel:n=e,guild:null!=n.guild_id?l.Z.getGuild(n.guild_id):null}},[e])}},676161:function(e,n,t){t.d(n,{Z:function(){return s}}),t(724458);var i=t(470079),l=t(700089),r=t(654455),a=t(496158);function s(e){let{channel:n,commands:t,limit:s=t.length}=e,o=(0,a.D)(n),c=(0,l.R)(o),u=i.useMemo(()=>t.reduce((e,n)=>(e[n.id]=n,e),{}),[t]);return i.useMemo(()=>c.map(e=>u[e]).filter(e=>null!=e).sort((e,n)=>{let t=r.ZP.getScoreWithoutLoadingLatest(o,e);return r.ZP.getScoreWithoutLoadingLatest(o,n)-t}).slice(0,s),[c,u,o,s])}},283442:function(e,n,t){t.d(n,{Z:function(){return r}}),t(627494),t(757143);var i=t(470079),l=t(812236);function r(e){let{applicationId:n,channel:t}=e,r=(0,l.SY)(t,n).commands[0];return i.useMemo(()=>{let e=null==r?void 0:r.name;if(null!=e)return(e.charAt(0).toLocaleUpperCase()+e.slice(1)).replaceAll("_"," ")},[r])}},660090:function(e,n,t){t.d(n,{Z:function(){return s}}),t(47120);var i=t(470079),l=t(674588),r=t(70956),a=t(314734);function s(e){let{sectionId:n,commandsByActiveSection:t}=e,[s,o]=i.useState(a.bS.ALPHABETICAL),c=i.useMemo(()=>{var e,i;return null!==(i=null===(e=t.find(e=>e.section.id===n))||void 0===e?void 0:e.data)&&void 0!==i?i:[]},[t,n]),{popularSortedCommands:u,canSort:d}=function(e){let{alphabeticalSortedCommands:n}=e;return i.useMemo(()=>{if(n.length<=1)return{popularSortedCommands:n,canSort:!1};let e=!1,t=n.map((n,t)=>(e=e||null!=n.global_popularity_rank,{command:n,alphabeticalSortIndex:t}));return e?(t.sort((e,n)=>{let t=e.command.global_popularity_rank,i=n.command.global_popularity_rank;if(null!=t&&null!=i){if(t!==i)return t-i}else if(null!=t)return -1;else if(null!=i)return 1;return e.alphabeticalSortIndex-n.alphabeticalSortIndex}),{popularSortedCommands:t.map(e=>{let{command:n}=e;return n}),canSort:!0}):{popularSortedCommands:n,canSort:!1}},[n])}({alphabeticalSortedCommands:c});i.useEffect(()=>{l.i6(n,{dontRefetchMs:r.Z.Millis.DAY})},[n]),i.useEffect(()=>{if(!!d)o(a.bS.POPULAR)},[d]);let m=c;switch(s){case a.bS.POPULAR:m=u;break;case a.bS.ALPHABETICAL:m=c}return{sortOrder:s,setSortOrder:o,commands:m,canSort:d}}},392370:function(e,n,t){t.d(n,{Q2:function(){return T},pe:function(){return P}}),t(47120),t(653041),t(536091);var i=t(470079),l=t(392711),r=t.n(l),a=t(373793),s=t(442837),o=t(911969),c=t(127255),u=t(654455),d=t(213459),m=t(807169),p=t(104793),_=t(674588),E=t(809547),h=t(822245),A=t(631827),f=t(783097),N=t(689079),C=t(665692);function v(e,n){let t=h.Z.getScoreWithoutLoadingLatest(e.id);return h.Z.getScoreWithoutLoadingLatest(n.id)-t}function I(e,n){let t=(0,f.$d)(e),i=(0,f.$d)(n);return(0,d.un)(t,i)}function x(e,n){return(0,d.un)(e.displayName,n.displayName)}function P(e){let{channel:n,query:t,commandLimit:l,applicationLimit:a,searchesCommands:s=!0,searchesBots:_=!0,searchesActivities:E=!0}=e;t.startsWith("".concat(C.GI))&&(t=t.substring(1));let{commands:h,commandSectionMap:P,loading:T}=function(e){var n,t;let{channel:l,includeBuiltIn:r=!0,allowFetch:a=!0}=e,s=(0,d.em)(l,!0,a),o=(0,d.PL)(!0,a);return i.useMemo(()=>{var e,n,t,i,a;let c=null!==(t=null===(e=s.result)||void 0===e?void 0:e.sections)&&void 0!==t?t:{},u=null!==(i=null===(n=o.result)||void 0===n?void 0:n.sections)&&void 0!==i?i:{},m=[...Object.keys(c),...Object.keys(u).filter(e=>!(e in c))];r&&m.push(N.bi.BUILT_IN);let p=[],_={};for(let e of m){let n=(0,d.If)(l,e),t=null!==(a=n.sectionCommands)&&void 0!==a?a:[];p.push(...t),t.forEach(e=>{null!=n.descriptor&&(_[e.id]=n.descriptor)})}return{commands:p,commandSectionMap:_,loading:!0===s.fetchState.fetching||!0===o.fetchState.fetching}},[l,r,s.fetchState.fetching,null===(n=s.result)||void 0===n?void 0:n.sections,o.fetchState.fetching,null===(t=o.result)||void 0===t?void 0:t.sections])}({channel:n,includeBuiltIn:!0}),{apps:g}=function(e){let{channel:n,onlyWithCommands:t,includeBuiltIn:i,allowFetch:l=!0}=e,r=(0,m.Hs)(n,o.yU.CHAT).hasBaseAccessPermissions,a=(0,d.em)(n,r,l),s=(0,d.PL)(r,l),c=[],u=new Set;if(null!=a.result)for(let e of Object.values(a.result.sections)){let n=e.descriptor.application;null!=n&&(Object.keys(e.commands).length>0||!t)&&(c.push(n),u.add(n.id))}if(null!=s.result)for(let e of Object.values(s.result.sections)){let n=e.descriptor.application;null!=n&&!u.has(n.id)&&(Object.keys(e.commands).length>0||!t)&&c.push(n)}return i&&c.push(f.Wx),{apps:c,loading:(null==a?void 0:a.fetchState.fetching)===!0||(null==s?void 0:s.fetchState.fetching)===!0}}({channel:n,onlyWithCommands:!0,includeBuiltIn:!0}),R=(0,c.Z)({guildId:n.getGuildId(),channel:n}),S=i.useMemo(()=>{var e;if(!s)return[];return(0,A.N)(h,{limit:l,filterPredicates:[function(e){let n=(0,m.k)(e,o.yU.CHAT),t={};return i=>{let{context:l,userId:r,roleIds:a,isImpersonating:s}=n;if(!(i.applicationId in t)){let{descriptor:n,isGuildInstalled:o,isUserInstalled:c}=(0,d.If)(e,i.applicationId),u=null!=l.guild_id?p.ML(null==n?void 0:n.permissions,l.guild_id,r,a,s):null,m=null!=l.guild_id?p.ZJ(null==n?void 0:n.permissions,l,l.guild_id):null;t[i.applicationId]={descriptor:n,applicationAllowedForUser:u,applicationAllowedForChannel:m,isGuildInstalled:o,isUserInstalled:c}}let{descriptor:o,applicationAllowedForChannel:c,applicationAllowedForUser:u,isGuildInstalled:m,isUserInstalled:_}=t[i.applicationId];return p.Ft(i,n,{applicationAllowedForUser:u,applicationAllowedForChannel:c,commandBotId:null==o?void 0:o.botId,isGuildInstalled:m,isUserInstalled:_})===p.mF.ALLOWED}}(n)],bucketPredicates:[function(e){return n=>{let t=n.name,i=n.displayName;return t.startsWith(e)||i.startsWith(e)}}(e=t),function(e){let n=null==e?void 0:e.split(" "),t=n[0],i=n.slice(1).join(" ");return e=>{let n=e.name,l=e.displayName;return!!(n.startsWith(t)&&n.split(" ").slice(1).join(" ").startsWith(i)||l.startsWith(t)&&l.split(" ").slice(1).join(" ").startsWith(i))||!1}}(e),function(e){return n=>{let t=n.name,i=n.displayName;return t.includes(e)||i.includes(e)}}(e),function(e){return n=>{var t;for(let{name:i,serverLocalizedName:l}of null!==(t=n.options)&&void 0!==t?t:[])if(i.startsWith(e)||"".concat(n.name," ").concat(i).startsWith(e)||null!=n.displayName&&"".concat(n.displayName," ").concat(i).startsWith(e)||null!=l&&(l.startsWith(e)||"".concat(n.name," ").concat(l).startsWith(e)||null!=n.displayName&&"".concat(n.displayName," ").concat(l).startsWith(e)))return!0;return!1}}(e),function(e){return n=>{var t;for(let{name:i,serverLocalizedName:l}of null!==(t=n.options)&&void 0!==t?t:[])if(i.includes(e)||(null==l?void 0:l.includes(e)))return!0;return!1}}(e)],sortComparers:[function(e){return(n,t)=>{let i=u.ZP.getScoreWithoutLoadingLatest(e,n);return u.ZP.getScoreWithoutLoadingLatest(e,t)-i}}({channel:n}),x]})},[s,h,l,n,t]),M=i.useMemo(()=>{if(0===S.length)return[];let e=new Map(g.map(e=>[e.id,e]));return r().compact(S.map(n=>{var t;let i=e.get(n.applicationId);if(null==i)return null;let l=null!==(t=P[n.id])&&void 0!==t?t:null;return{command:n,application:i,section:l}}))},[g,S,P]),L=i.useMemo(()=>{var e;if(!_&&!E)return[];let i=[];if(_&&E){let e=new Set(g.map(e=>{let{id:n}=e;return n}));i.push(...g),i.push(...R.filter(n=>{let{application:{id:t}}=n;return!e.has(t)}).map(e=>{let{application:n}=e;return n}))}else i=_?g:R.map(e=>{let{application:n}=e;return n});return(0,A.N)(i,{limit:a,filterPredicates:[function(e){let n=(0,m.k)(e,o.yU.CHAT);return t=>{let{context:i,userId:l,roleIds:r,isImpersonating:a}=n,{descriptor:s,sectionCommands:o,isGuildInstalled:c,isUserInstalled:u}=(0,d.If)(e,t.id),m=null!=i.guild_id?p.ML(null==s?void 0:s.permissions,i.guild_id,l,r,a):null,_=null!=i.guild_id?p.ZJ(null==s?void 0:s.permissions,i,i.guild_id):null;return null==o||!(o.length>0)||o.some(e=>p.Ft(e,n,{applicationAllowedForUser:m,applicationAllowedForChannel:_,commandBotId:null==s?void 0:s.botId,isGuildInstalled:c,isUserInstalled:u})===p.mF.ALLOWED)}}(n)],bucketPredicates:[function(e){return n=>(0,f.$d)(n).toLocaleLowerCase().startsWith(e.toLocaleLowerCase())}(e=t),function(e){return n=>(0,f.$d)(n).toLocaleLowerCase().includes(e.toLocaleLowerCase())}(e),function(e){return n=>{var t,i;let l=null===(t=(0,f.jD)(n))||void 0===t?void 0:t.toLocaleLowerCase();return null!==(i=null==l?void 0:l.startsWith(e.toLocaleLowerCase()))&&void 0!==i&&i}}(e),function(e){return n=>{var t,i;let l=null===(t=(0,f.jD)(n))||void 0===t?void 0:t.toLocaleLowerCase();return null!==(i=null==l?void 0:l.includes(e.toLocaleLowerCase()))&&void 0!==i&&i}}(e)],sortComparers:[v,I]})},[_,E,a,n,t,g,R]),j=M.length>0,O=L.length>0;return{commandResults:M,hasCommandResults:j,applicationResults:L,hasApplicationResults:O,isEmptyState:!j&&!O,loading:T&&s}}function T(e){let{channel:n,query:t,fetches:l=!0}=e;t.startsWith("".concat(C.GI))&&(t=t.substring(1));let[r,o]=i.useState(1),c=i.useRef(r);c.current=r;let{fetchState:u,totalPages:d}=(0,s.cj)([E.Z],()=>{var e,i;return{fetchState:E.Z.getFetchState({query:t,guildId:n.guild_id,page:r,integrationType:a.Y.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0}),totalPages:null!==(i=null===(e=E.Z.getSearchResults({query:t,guildId:n.guild_id,page:r,integrationType:a.Y.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0}))||void 0===e?void 0:e.totalPages)&&void 0!==i?i:0}},[n.guild_id,r,t]),m=i.useMemo(()=>Array.from({length:u===E.M.FETCHED||u===E.M.ERROR?r:r-1},(e,i)=>{var l,r;return null!==(r=null===(l=E.Z.getSearchResults({query:t,guildId:n.guild_id,page:i+1,integrationType:a.Y.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0}))||void 0===l?void 0:l.results)&&void 0!==r?r:[]}),[u,n.guild_id,t,r]),p=i.useCallback(()=>{u===E.M.FETCHED&&m.length===c.current&&m.length>0&&m[m.length-1].length>0&&m.length<d&&(c.current++,o(e=>e+1))},[u,c,m,d]),h=i.useCallback(e=>{let{query:n,page:t,guildId:i}=e;_.yC({query:n,guildId:i,options:{page:t,integrationType:a.Y.USER_INSTALL,minUserInstallCommandCount:1,excludeAppsWithCustomInstallUrl:!0}})},[]);return i.useEffect(()=>{if(!!l)h({query:t,page:r,guildId:n.guild_id})},[t,n.guild_id,h,r,l]),i.useEffect(()=>{o(1)},[n.guild_id,t]),{fetchState:u,applicationResults:m.flat(),fetchNextPage:p}}},783097:function(e,n,t){t.d(n,{$d:function(){return h},BQ:function(){return E},Wx:function(){return _},Y$:function(){return C},jD:function(){return A},sl:function(){return v},yJ:function(){return N},ye:function(){return f}}),t(789020);var i=t(668781),l=t(904245),r=t(895924),a=t(667204),s=t(957730),o=t(973616),c=t(768581),u=t(630388),d=t(981631),m=t(689079),p=t(689938);let _={id:m.bi.BUILT_IN};function E(e){return e.id!==m.bi.BUILT_IN}function h(e){return E(e)?e.name:p.Z.Messages.APP_LAUNCHER_BUILT_IN_SECTION_NAME}function A(e){return E(e)?e.description:p.Z.Messages.APP_LAUNCHER_BUILT_IN_SECTION_DESCRIPTION}function f(e){var n;let{application:t}=e;return E(t)&&(0,u.yE)(null!==(n=t.flags)&&void 0!==n?n:0,d.udG.EMBEDDED)}function N(e){return E(e)&&f({application:e})?e instanceof o.Z?e.embeddedActivityConfig:e.embedded_activity_config:null}function C(e){let{command:n,optionValues:t,context:o,commandTargetId:c,maxSizeCallback:u,sectionName:d}=e,{channel:m}=o,_=async()=>{try{let i=await (0,a.Z)({command:n,optionValues:t,context:o,commandTargetId:c,maxSizeCallback:u,commandOrigin:r.bB.APPLICATION_LAUNCHER,sectionName:d});if(n.inputType===r.iw.BUILT_IN_TEXT&&null!=i){var e;let n=s.ZP.parse(m,i.content);n.tts=null!==(e=i.tts)&&void 0!==e&&e,l.Z.sendMessage(o.channel.id,n)}}catch(e){throw i.Z.show({title:p.Z.Messages.APP_LAUNCHER_UNKNOWN_COMMAND_ERROR_MODAL_TITLE,body:p.Z.Messages.APP_LAUNCHER_UNKNOWN_COMMAND_ERROR_MODAL_BODY,confirmText:p.Z.Messages.RETRY,onConfirm:()=>_()}),e}};return _()}function v(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{fakeAppIconURL:t,...i}=n;return E(e)?{iconURL:c.ZP.getApplicationIconURL({...i,id:e.id,icon:e.icon,bot:e.bot}),name:e.name,description:e.description}:{iconURL:null!=t?t:null,name:p.Z.Messages.APP_LAUNCHER_BUILT_IN_SECTION_NAME,description:p.Z.Messages.APP_LAUNCHER_BUILT_IN_SECTION_DESCRIPTION}}},695676:function(e,n,t){t.d(n,{gc:function(){return l},hH:function(){return s},uX:function(){return a}});var i,l,r=t(470079);(i=l||(l={})).HOME="home",i.LIST="list",i.APPLICATION="application";let a=r.createContext({history:[],discard:{},currentView:void 0,pushHistory:()=>{},goBack:()=>{},getMostRecentHistoryItemByType:()=>void 0});function s(){return r.useContext(a)}},421591:function(e,n,t){t(47120),t(852437);var i=t(735250),l=t(470079),r=t(481060),a=t(100527),s=t(367907),o=t(906732),c=t(541099),u=t(695676),d=t(173790),m=t(361917),p=t(684256),_=t(314734),E=t(981631),h=t(933320);let A={width:_.Gy,height:_.lv},f={height:_.lv};function N(e){let{children:n}=e,[t,r]=l.useState([{type:u.gc.HOME}]),[a,s]=l.useState({}),o=t[t.length-1],c=l.useCallback(e=>{r(n=>[...n,e])},[]),d=l.useCallback(()=>{let e=null;r(n=>n.length<=1?n:(e=n[n.length-1],n.slice(0,-1))),s(n=>null==e?n:{...n,[e.type]:e})},[]),m=l.useCallback(e=>{var n;return null!==(n=t.findLast(n=>n.type===e))&&void 0!==n?n:a[e]},[t,a]);return(0,i.jsx)(u.uX.Provider,{value:{history:t,discard:a,currentView:o,pushHistory:c,goBack:d,getMostRecentHistoryItemByType:m},children:n})}function C(e){let{channel:n,entrypoint:t}=e,[a,s]=l.useState(""),o=function(e){let[n,t]=l.useState(null),i=l.useRef(0);return l.useEffect(()=>{null==n||n.scrollTo(0,0)},[n,e]),l.useEffect(()=>{if(null!=n)return n.scrollTo(0,i.current),n.addEventListener("scroll",e),()=>{n.removeEventListener("scroll",e,!1)};function e(){if(null!=n)i.current=n.scrollTop}},[n]),t}(a),{currentView:c,getMostRecentHistoryItemByType:E}=(0,u.hH)();if(null==c)return null;let A=E(u.gc.LIST),N=E(u.gc.APPLICATION);return(0,i.jsxs)(r.Slides,{activeSlide:c.type,width:_.Gy,children:[(0,i.jsx)(r.Slide,{id:u.gc.HOME,children:(0,i.jsx)("div",{className:h.slideContent,style:f,children:(0,i.jsx)(m.Z,{setScroller:o,channel:n,entrypoint:t,searchQuery:a,setSearchQuery:s})})}),(0,i.jsx)(r.Slide,{id:u.gc.LIST,children:(0,i.jsx)("div",{className:h.slideContent,style:f,children:null!=A&&(0,i.jsx)(p.Z,{channel:n,entrypoint:t,title:A.title,look:A.look,items:A.items,sectionName:A.sectionName})})}),(0,i.jsx)(r.Slide,{id:u.gc.APPLICATION,children:(0,i.jsx)("div",{className:h.slideContent,style:f,children:null!=N&&(0,i.jsx)(d.Z,{channel:n,application:N.application,sectionName:N.sectionName})})})]})}n.Z=l.memo(l.forwardRef(function(e,n){let{channel:t,entrypoint:r}=e,{analyticsLocations:u}=(0,o.ZP)(a.Z.APP_LAUNCHER);return l.useEffect(()=>{(0,s.yw)(E.rMx.APPLICATION_COMMAND_TOP_OF_FUNNEL,{source:r,location:"app_launcher"})},[r]),l.useEffect(()=>{let e=Date.now();return()=>{(0,s.yw)(E.rMx.APP_LAUNCHER_CLOSED,{reason:c.Z.closeReason(),time_spent:Date.now()-e,source:r})}},[r]),(0,i.jsx)("div",{className:h.drawerSizingWrapper,ref:n,style:A,children:(0,i.jsx)("div",{className:h.contentWrapper,children:(0,i.jsx)(o.Gt,{value:u,children:(0,i.jsx)(N,{children:(0,i.jsx)(C,{channel:t,entrypoint:r})})})})})}))},176412:function(e,n,t){t.d(n,{B:function(){return h},P:function(){return E}});var i=t(470079),l=t(392711),r=t(481060),a=t(2052),s=t(542094),o=t(513202),c=t(367907),u=t(499254),d=t(541099),m=t(827498),p=t(981631),_=t(689938);function E(e,n,t,i){var l;let E=(0,a.O)(),h=(0,s.Qv)({applicationId:n.id,channelId:e.id}),A=(0,s.w1)({applicationId:n.id,embeddedActivitiesManager:o.Z,channelId:e.id,guildId:null!==(l=e.getGuildId())&&void 0!==l?l:void 0,locationObject:E.location,onActivityItemSelectedProp:e=>{let{applicationId:n}=e,l=d.Z.entrypoint();u.y(m.ti.ACTIVITY),(0,c.yw)(p.rMx.APP_LAUNCHER_ACTIVITY_ITEM_SELECTED,{location:t,application_id:n,section_name:i,action:h,source:l})}}),f=r.ButtonColors.BRAND,N=_.Z.Messages.LAUNCH;return h===s.JS.JOIN?(f=r.ButtonColors.GREEN,N=_.Z.Messages.JOIN_ACTIVITY):h===s.JS.LEAVE&&(f=r.ButtonColors.RED,N=_.Z.Messages.LEAVE),{onActivityItemSelected:A,activityAction:h,buttonColor:f,buttonText:N}}function h(e,n){let t=d.Z.entrypoint(),r=i.useMemo(()=>(0,l.debounce)((e,n)=>{(0,c.yw)(p.rMx.APP_LAUNCHER_EMPTY_STATE_ENCOUNTERED,{type:e,source:n})},400,{leading:!1,trailing:!0}),[]);i.useEffect(()=>{null!=e&&r(e,t)},[e,n,t,r])}},98880:function(e,n,t){t.d(n,{U4:function(){return i},cG:function(){return Z},kA:function(){return H},qR:function(){return U}}),t(47120),t(411104);var i,l,r=t(735250),a=t(470079),s=t(120356),o=t.n(s),c=t(481060),u=t(361213),d=t(542094),m=t(778569),p=t(182906),_=t(367907),E=t(220082),h=t(318661),A=t(810090),f=t(792125),N=t(541099),C=t(783097),v=t(695676),I=t(176412),x=t(226026),P=t(753972),T=t(981631),g=t(217702),R=t(231338),S=t(689938),M=t(126152),L=t(413097);function j(e){let{application:n,look:t="large_banner",isPartner:i,onClick:l,bannerImageStyle:s,enableVideoBanner:u,children:d,sectionName:m,resultsPosition:p,tracksImpression:_=!0}=e,{iconURL:h,name:A,description:N}=a.useMemo(()=>(0,C.sl)(n,{botIconFirst:!0,fakeAppIconURL:L}),[n]),v=(0,E.ZP)(h,""),{trackItemImpressionRef:I}=(0,x.Z)({applicationId:n.id,sectionName:m,sectionPosition:p}),[T,g]=a.useState(!1),j=a.useCallback(()=>{!0===u&&g(!0)},[u]),y=a.useCallback(()=>g(!1),[]);return"icon"===t?(0,r.jsx)(c.Clickable,{innerRef:_?e=>I.current=e:void 0,className:o()(M.container,M.iconCard),onClick:l,"aria-label":S.Z.Messages.APP_LAUNCHER_APP_CARD_ARIA_LABEL.format({applicationName:A,applicationDescription:N}),children:(0,r.jsx)(P.Z,{src:h,className:M.iconCard,"aria-hidden":!0,rendersPlaceholder:!0})}):(0,r.jsxs)(c.Clickable,{innerRef:_?e=>I.current=e:void 0,className:M.container,onClick:l,"aria-label":S.Z.Messages.APP_LAUNCHER_APP_CARD_ARIA_LABEL.format({applicationName:A,applicationDescription:N}),children:[(0,r.jsxs)("div",{onMouseEnter:j,onFocus:j,onMouseLeave:y,onBlur:y,className:o()(M.bannerImageContainer,{[M.mediumBanner]:"medium_banner"===t,[M.largeBanner]:"large_banner"===t}),children:[(0,r.jsx)("span",{className:s,children:(0,r.jsx)(O,{application:n,fallbackColor:v,showVideo:T})}),i&&(0,r.jsx)("div",{className:M.partnerLabelWrapper,children:(0,r.jsx)(c.Text,{className:(0,f.Q)(R.BR.DARK),variant:"text-sm/medium",color:"text-normal",children:S.Z.Messages.APP_DIRECTORY_PARTNER})}),"large_banner"===t||"medium_banner"===t?(0,r.jsx)("div",{className:M.bannerImageChildContainer,children:d}):null]}),(0,r.jsxs)("div",{className:M.appDetailsContainer,children:[(0,r.jsx)(P.Z,{src:h,className:M.icon,"aria-hidden":!0,rendersPlaceholder:!0}),(0,r.jsxs)("div",{className:M.appDetails,children:[(0,r.jsx)(c.Heading,{variant:"heading-md/semibold",color:"header-primary",lineClamp:1,children:A}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"text-secondary",lineClamp:1,children:N})]})]})]})}function O(e){let{application:n,fallbackColor:t,showVideo:i}=e;if((0,C.BQ)(n)){if((0,C.ye)({application:n}))return(0,r.jsx)(y,{application:n,showVideo:i});if(null!=n.bot)return(0,r.jsx)(b,{bot:n.bot})}return(0,r.jsx)("div",{className:M.bannerImage,style:{backgroundColor:t}})}function y(e){let{application:n,showVideo:t}=e,i=(0,m.Z)({applicationId:n.id,size:600,names:["embedded_cover"]}),l=a.useMemo(()=>{let e=(0,C.yJ)(n);return null!=e&&null!=e.activity_preview_video_asset_id?(0,u.Z)(n.id,e.activity_preview_video_asset_id):null},[n]),[s,c]=a.useState(t);return a.useEffect(()=>{t&&c(!0)},[t]),(0,r.jsxs)(r.Fragment,{children:[null!=l&&s?(0,r.jsx)("div",{className:o()(M.activityVideo,{[M.videoFadeOut]:!t}),onAnimationEnd:()=>t?null:c(!1),children:(0,r.jsx)(A.Z,{src:l,mediaLayoutType:g.hV.MOSAIC,loop:!0,autoPlay:!0,muted:!0})}):null,(0,r.jsx)(p.Z,{imageBackground:i,applicationName:n.name,imageClassName:M.bannerImage,imageNotFoundClassName:M.bannerImage})]})}function b(e){let{bot:n}=e,t=(0,h.ZP)(n.id),i=a.useMemo(()=>null==t?void 0:t.getBannerURL({canAnimate:!1,size:600}),[t]);return(0,r.jsx)("img",{src:i,alt:"",className:M.bannerImage})}function Z(e){let{application:n,sectionName:t,resultsPosition:i,query:l,installOnDemand:r,location:s}=e,{pushHistory:o}=(0,v.hH)();return a.useCallback(e=>{e.stopPropagation(),(0,_.yw)(T.rMx.APPLICATION_COMMAND_SECTION_SELECTED,{application_id:n.id,section_name:t,search_results_position:i,source:N.Z.entrypoint(),location:s,query:l}),o({type:v.gc.APPLICATION,application:n,installOnDemand:r,sectionName:t})},[n,r,s,o,l,i,t])}function H(e){let n=Z(e);return(0,r.jsx)(j,{...e,onClick:n,enableVideoBanner:!0})}function U(e){let{channel:n,application:t,location:i,sectionName:l,isOneClickCTA:a,...s}=e;if(!(0,C.BQ)(t))throw Error("PerformActivityActionAppCard was passed the Built-in App, which is not supported.");let{onActivityItemSelected:o,activityAction:u,buttonColor:m,buttonText:p}=(0,I.P)(n,t,i,l);if(u===d.JS.START)return a?(0,r.jsx)(j,{...s,sectionName:l,application:t,onClick:o,enableVideoBanner:!0}):(0,r.jsx)(H,{...s,sectionName:l,application:t,location:i});return(0,r.jsx)(j,{...s,sectionName:l,application:t,onClick:e=>{e.stopPropagation()},bannerImageStyle:M.darkenBannerImage,children:(0,r.jsx)("div",{className:M.voiceLauncherAppCardContainer,children:(0,r.jsx)(c.Button,{className:M.voiceLauncherAppCardButton,type:"submit",size:c.Button.Sizes.LARGE,color:m,disabled:!1,onClick:o,children:p})})})}(l=i||(i={})).ICON="icon",l.NO_BANNER="no_banner",l.MEDIUM_BANNER="medium_banner",l.LARGE_BANNER="large_banner"},753972:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250),l=t(470079),r=t(120356),a=t.n(r),s=t(768581),o=t(689938),c=t(106477);function u(e){let{application:n,src:t,className:r,size:u,botIconFirst:d,fallbackAvatar:m,rendersPlaceholder:p=!1}=e,_=l.useMemo(()=>null!=n?s.ZP.getApplicationIconURL({id:n.id,icon:n.icon,bot:n.bot,size:u,botIconFirst:d,fallbackAvatar:m}):t,[n,t,u,d,m]);if(null==_)return p?(0,i.jsx)("div",{className:a()(c.icon,c.placeholder,r)}):null;return(0,i.jsx)("img",{className:a()(c.icon,r),alt:o.Z.Messages.IMAGE,src:_,"aria-hidden":!0})}},772606:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(735250),l=t(470079),r=t(120356),a=t.n(r),s=t(481060),o=t(695676),c=t(689938),u=t(581565);function d(e){let{className:n}=e,{goBack:t}=(0,o.hH)(),r=l.useCallback(()=>{t()},[t]);return(0,i.jsx)(s.Clickable,{onClick:r,className:a()(u.clickable,n),"aria-label":c.Z.Messages.BACK_ACCESSIBILITY_HINT,children:(0,i.jsx)(s.ArrowLargeLeftIcon,{size:"sm",color:s.tokens.colors.INTERACTIVE_ACTIVE})})}},804307:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(735250),l=t(470079),r=t(120356),a=t.n(r),s=t(442837),o=t(481060),c=t(607070),u=t(98880),d=t(627542);function m(e){let{look:n=u.U4.LARGE_BANNER}=e,t=(0,s.e7)([c.Z],()=>c.Z.useReducedMotion),{styleLarge:r,styleSmall:m}=l.useMemo(()=>({styleLarge:{width:"".concat(10+50*Math.random(),"%")},styleSmall:{width:"".concat(30+60*Math.random(),"%")}}),[]);return(0,i.jsxs)("div",{className:a()(d.container,{[d.noAnimation]:t}),children:[(0,i.jsx)("div",{className:a()(d.bannerImage,{[d.mediumBanner]:n===u.U4.MEDIUM_BANNER,[d.largeBanner]:n===u.U4.LARGE_BANNER})}),(0,i.jsxs)("div",{className:d.appDetailsContainer,children:[(0,i.jsx)("div",{className:d.iconPlaceholder}),(0,i.jsxs)("div",{className:d.textContainer,children:[(0,i.jsx)("div",{className:d.textPlaceholder,style:r,children:(0,i.jsx)(o.Heading,{className:d.hidden,variant:"heading-md/semibold",color:"header-primary",lineClamp:1,children:"_"})}),(0,i.jsx)("div",{className:d.textPlaceholder,style:m,children:(0,i.jsx)(o.Text,{className:d.hidden,variant:"text-sm/normal",color:"text-secondary",lineClamp:1,children:"_"})})]})]})]})}},520315:function(e,n,t){t.d(n,{Z:function(){return a}}),t(47120);var i=t(470079),l=t(442837),r=t(607070);function a(e){let{key:n,isExpanded:t,durationMs:a=100,maxAnimationHeight:s}=e,o=(0,l.e7)([r.Z],()=>r.Z.useReducedMotion),[c,u]=i.useState(null),d=i.useCallback(()=>{},[]),m=i.useRef(),p=i.useRef(),_=i.useRef(n),E=i.useRef(a);E.current=a;let h=i.useRef(s);h.current=s;let[A,f]=i.useState(!1),N=i.useCallback(()=>f(!1),[]);return i.useLayoutEffect(()=>{void 0!==n&&(m.current=void 0,p.current=void 0,f(!1))},[n]),i.useLayoutEffect(()=>{var e;if(null==c)return;let{height:i}=c.getBoundingClientRect();!t&&(null==m.current||i<m.current)&&(m.current=i),t&&(null==p.current||i>p.current)&&(p.current=i);let l=m.current,r=p.current,a=_.current!==n;if(_.current=n,null==l||null==r||a)return;let s=Math.min(null!==(e=h.current)&&void 0!==e?e:r,r),o=t?l:s,u=t?s:l;if(!(o!==u))return;f(!0),c.style.height="".concat(o,"px"),c.style.transition="";let d=null;return d=requestAnimationFrame(()=>{d=null,c.style.height="".concat(u,"px"),c.style.transition="height ".concat(E.current,"ms ease-in-out")}),()=>null!=d?cancelAnimationFrame(d):void 0},[n,c,t]),i.useLayoutEffect(()=>{if(null!=c&&!A)c.style.height="",c.style.transition=""},[n,c,A]),{ref:o?d:u,isTransitioning:A,onTransitionEnd:N}}},312871:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(470079),l=t(434650);function r(e){let{onVisible:n,threshold:t}=e,r=i.useRef(!1);return(0,l.O)(e=>{if(!!e&&!0!==r.current)n(),r.current=!0},t)}},226026:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(990547),l=t(442837),r=t(213609),a=t(541099),s=t(312871);function o(e){let{applicationId:n,sectionName:t,sectionPosition:o}=e,c=(0,l.e7)([a.Z],()=>a.Z.entrypoint());return{trackItemImpressionRef:(0,s.Z)({onVisible:()=>{(0,r.h)({type:i.ImpressionTypes.VIEW,name:i.ImpressionNames.APP_LAUNCHER_ITEM,properties:{application_id:n,section_name:t,section_position:o,source:c}})},threshold:1})}}},532309:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(990547),l=t(442837),r=t(213609),a=t(541099),s=t(312871);function o(e){let{applicationId:n,commandId:t,searchResultsPosition:o,query:c}=e,u=(0,l.e7)([a.Z],()=>a.Z.entrypoint());return{trackSearchResultsItemImpressionRef:(0,s.Z)({onVisible:()=>{(0,r.h)({type:i.ImpressionTypes.VIEW,name:i.ImpressionNames.APP_LAUNCHER_SEARCH_RESULTS_ITEM,properties:{application_id:n,command_id:t,search_results_position:o,query:c,source:u}})},threshold:1})}}},888617:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(990547),l=t(213609),r=t(312871);function a(e){let{sectionName:n,numItems:t,numVisibleItems:a}=e;return{trackSectionImpressionRef:(0,r.Z)({onVisible:()=>{(0,l.h)({type:i.ImpressionTypes.VIEW,name:i.ImpressionNames.APP_LAUNCHER_SECTION,properties:{section_name:n,num_items:t,num_visible_items:a}})},threshold:1})}}},387658:function(e,n,t){t.d(n,{Z:function(){return S}}),t(47120);var i=t(735250),l=t(470079),r=t(140835),a=t(246521),s=t(481060),o=t(911969),c=t(555573),u=t(10718),d=t(895924),m=t(585483),p=t(499254),_=t(541099),E=t(827498),h=t(496158),A=t(676161),f=t(660090),N=t(783097),C=t(870205),v=t(981631),I=t(689079),x=t(689938),P=t(763963);function T(e){var n,t;let{channel:a,command:o,section:u,sectionName:h}=e,A=l.useCallback(()=>{let e=_.Z.entrypoint();p.y(E.ti.COMMAND),c.Po({channelId:a.id,command:o,section:u,location:d.Vh.APP_LAUNCHER_APPLICATION_VIEW,sectionName:h,source:e,commandOrigin:d.bB.APPLICATION_LAUNCHER}),m.S.dispatch(v.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:a.id})},[a.id,o,u,h]),f=(null!==(t=null===(n=o.options)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0,N=l.useMemo(()=>(0,i.jsxs)("div",{className:P.commandTextContainer,children:[(0,i.jsx)(s.Text,{variant:"text-sm/semibold",color:"header-primary",children:o.displayName}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-muted",lineClamp:1,children:o.displayDescription})]}),[o.displayDescription,o.displayName]);return f?(0,i.jsxs)(s.Clickable,{className:P.command,onClick:A,children:[N,(0,i.jsx)(r.F,{})]}):(0,i.jsxs)("div",{className:P.command,children:[(0,i.jsx)(s.Clickable,{onClick:A,children:N}),(0,i.jsx)(g,{channel:a,command:o,sectionName:h})]})}function g(e){let{channel:n,command:t,sectionName:r}=e,o=(0,h.D)(n),[c,u]=l.useState(!1),d=l.useCallback(async e=>{e.stopPropagation();try{await (0,N.Y$)({command:t,optionValues:{},context:o,sectionName:r}),p.y(E.ti.COMMAND)}finally{u(!1)}},[t,o,r]);return(0,i.jsxs)(s.Button,{type:"submit",onClick:d,disabled:c,size:s.ButtonSizes.ICON,color:s.Button.Colors.PRIMARY,className:P.commandSentCTAButton,innerClassName:P.commandSentCTAButtonInner,"aria-label":x.Z.Messages.APP_LAUNCHER_SEND_COMMAND_ARIA_LABEL.format({commandName:t.name}),children:[(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"redesign-button-primary-text",children:x.Z.Messages.SEND}),(0,i.jsx)(a.U,{size:"xs",color:s.tokens.colors.REDESIGN_BUTTON_PRIMARY_TEXT})]})}function R(e){let{channel:n,commands:t,section:l,headerName:r,sectionName:a,children:o}=e;return 0===t.length?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:P.commandListHeader,children:[(0,i.jsx)(s.Heading,{variant:"heading-sm/semibold",children:r}),o]}),(0,i.jsx)("ul",{className:P.commandContainer,"aria-label":r,children:t.map(e=>(0,i.jsx)(T,{channel:n,command:e,section:l,sectionName:a},e.id))})]})}function S(e){var n;let{channel:t,application:r,sectionName:a}=e,{filterSection:s,commandsByActiveSection:c,sectionDescriptors:d}=u.wi(t,{commandType:o.yU.CHAT},{placeholderCount:0,limit:I.tn,includeFrecency:!0}),m=null!==(n=d.find(e=>e.id===r.id))&&void 0!==n?n:null,{sortOrder:p,setSortOrder:_,commands:E,canSort:h}=(0,f.Z)({sectionId:r.id,commandsByActiveSection:c});l.useEffect(()=>{s(r.id)},[r.id,s]);let N=(0,A.Z)({channel:t,commands:E,limit:5});return(0,i.jsxs)("ul",{className:P.contentContainer,children:[(0,i.jsx)(R,{channel:t,section:m,commands:N,headerName:x.Z.Messages.APP_LAUNCHER_HOME_RECENT_COMMANDS_HEADER,sectionName:a}),(0,i.jsx)(R,{channel:t,section:m,commands:E,headerName:x.Z.Messages.APP_LAUNCHER_USE_THIS_APP_HEADER,sectionName:a,children:h&&(0,i.jsx)(C.Z,{sortOrder:p,onSortOptionClick:_})})]})}},536650:function(e,n,t){t.d(n,{Z:function(){return h}}),t(47120);var i=t(735250),l=t(470079),r=t(392711),a=t(780384),s=t(481060),o=t(410030),c=t(220082),u=t(564334),d=t(302221),m=t(772606),p=t(280283);function _(e,n,t){return e+(n-e)*t}function E(e){let[n,t]=l.useState(void 0);return l.useEffect(()=>{null!=e.current&&t(getComputedStyle(e.current))},[e]),n}function h(e){let{name:n,iconURL:t,scrollerRef:_}=e,h=(0,a.ap)((0,o.ZP)()),A=l.useRef(null),f=l.useRef(null),N=l.useRef(null),C=(0,s.useToken)(s.tokens.colors.BG_BASE_PRIMARY).hex(),v=(0,c.ZP)("number"==typeof t?"":t,null!=C?C:""),I=l.useMemo(()=>{var e,n;let t=(0,r.compact)([u.Z.parseHexString(v),u.Z.parseHexString(h?"#000000":"#ffffff")]);return null!==(n=null===(e=(0,d.k8)({colors:t,ratio:5,saturationFactor:.6}))||void 0===e?void 0:e.toHexString())&&void 0!==n?n:v},[v,h]),x=E(A),P=E(f),T=l.useCallback(()=>{var e,n,t,i,l,a,s,o,c;let u=_.current,d=A.current,m=N.current,p=parseInt(null!==(e=null==x?void 0:x.height)&&void 0!==e?e:""),E=parseInt(null!==(n=null==P?void 0:P.height)&&void 0!==n?n:"");if(null!=u&&null!=d&&null!=m&&!isNaN(p)&&!isNaN(E)){;let e=null!==(t=u.scrollTop)&&void 0!==t?t:0,n=0!==u.scrollHeight?u.scrollHeight:E+20,_=0!==u.clientHeight?u.clientHeight:E+20,A=E-p,f=(0,r.clamp)(n-_,A+1,E+20);let N=(i=e,(l=A)===(a=f)?1:(0,r.clamp)((i-l)/(a-l),0,1));d.style.filter="brightness(".concat(1+((h?1.4:.6)-(s=1))*N,")"),d.style.backgroundColor="color-mix(in oklab,".concat(v," ").concat((1-N)*100,"%, ").concat(I,")"),m.style.opacity="".concat(0+(1-(o=0))*N),m.style.transform="translateY(".concat((c=p/4)+(0-c)*N,"px)")}},[I,v,null==P?void 0:P.height,h,_,null==x?void 0:x.height]);return l.useEffect(()=>{T()},[T,h]),l.useEffect(()=>{let e=_.current,n=()=>{T()};return null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}},[_,T]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:p.stickyContainer,children:[(0,i.jsx)("div",{className:p.stickyBannerContainer,children:(0,i.jsx)("div",{className:p.stickyBanner,ref:A})}),(0,i.jsx)("div",{className:p.backButtonContainer,children:(0,i.jsx)(m.Z,{})}),(0,i.jsx)("div",{className:p.nameContainer,children:(0,i.jsx)(s.Heading,{ref:N,className:p.textApplicationName,variant:"heading-md/extrabold",children:n})})]}),(0,i.jsx)("div",{ref:f,className:p.bannerBackground,style:{backgroundColor:v}})]})}},675993:function(e,n,t){t.d(n,{Z:function(){return f}}),t(47120);var i=t(735250),l=t(470079),r=t(581051),a=t(353381),s=t(993365),o=t(481060),c=t(240991),u=t(810090),d=t(283442),m=t(783097),p=t(520315),_=t(591204),E=t(689938),h=t(970311),A=t(153521);function f(e){let{channel:n,application:t,videoUrl:r,imageCoverUrl:a,sectionName:o}=e,c=l.useMemo(()=>{var e;return null!==(e=(0,m.jD)(t))&&void 0!==e?e:""},[t]),d=null!=r||null!=a,p=c.length>0;return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)(N,{channel:n,application:t,sectionName:o}),d||p?(0,i.jsxs)("div",{className:h.profileAndVideoContainer,children:[d?(0,i.jsx)("div",{className:h.videoContainer,children:(0,i.jsx)(u.Z,{loop:!0,autoPlay:!0,muted:!0,className:p?h.videoWithOverview:h.videoNoOverview,src:r,poster:a})}):null,p?(0,i.jsxs)("div",{className:d?h.overviewContainerWithVideo:h.overviewContainerNoVideo,children:[(0,i.jsx)(s.x,{variant:"text-sm/semibold",children:E.Z.Messages.OVERVIEW}),(0,i.jsx)(C,{description:c})]}):null]}):null]})}function N(e){let{channel:n,application:t,sectionName:r}=e,{name:a,activityApplication:s}=l.useMemo(()=>{var e;return(0,m.BQ)(t)?{name:t.name,activityApplication:(0,m.ye)({application:t})?t:null}:{name:null!==(e=(0,m.$d)(t))&&void 0!==e?e:""}},[t]),c=n.isThread(),u=(0,d.Z)({applicationId:t.id,channel:n});return(0,i.jsx)("div",{className:h.titleContainer,children:(0,i.jsxs)("div",{className:h.titleInnerContainer,children:[(0,i.jsx)(o.Heading,{variant:"heading-xl/extrabold",children:a}),null!=s?(0,i.jsx)(_.Z,{channel:n,application:s,disabled:c,sectionName:r,commandName:u}):null]})})}function C(e){let{description:n}=e,[t,u]=l.useState(!1),d=l.useMemo(()=>(0,c.YP)(n),[n]),{ref:m,lineCount:_}=function(){let e=l.useRef(null),[n,t]=l.useState(null);return l.useEffect(()=>{let n=e.current;if(null===n||0===n.clientHeight)return;let i=parseInt(getComputedStyle(n).lineHeight);if(!isNaN(i))t(Math.max(Math.floor(n.clientHeight/i)))},[]),{ref:e,lineCount:n}}(),{ref:f,isTransitioning:N,onTransitionEnd:C}=(0,p.Z)({isExpanded:t}),v=t||N;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:f,className:h.overflowHidden,onTransitionEnd:C,children:(0,i.jsx)(s.x,{ref:m,className:A.markup,variant:"text-sm/medium",lineClamp:v?void 0:3,children:d})}),null!=_&&_>=3?(0,i.jsxs)(o.Clickable,{className:h.expandableDescriptionClickable,onClick:()=>u(e=>!e),children:[(0,i.jsx)(s.x,{ref:m,variant:"text-sm/semibold",color:"text-brand",children:v?E.Z.Messages.APP_LAUNCHER_SHOW_LESS:E.Z.Messages.APP_LAUNCHER_SHOW_MORE}),v?(0,i.jsx)(a.u,{size:"sm",color:o.tokens.colors.TEXT_BRAND}):(0,i.jsx)(r.C,{size:"sm",color:o.tokens.colors.TEXT_BRAND})]}):null]})}},173790:function(e,n,t){t.d(n,{Z:function(){return A}});var i=t(735250),l=t(470079),r=t(218061),a=t(481060),s=t(361213),o=t(778569),c=t(783097),u=t(753972),d=t(387658),m=t(536650),p=t(675993),_=t(689938),E=t(132439),h=t(413097);function A(e){let{channel:n,application:t,sectionName:s}=e,o=(0,c.ye)({application:t}),A=o?f:p.Z,N=l.useRef(null),{iconURL:C,name:v}=l.useMemo(()=>(0,c.sl)(t,{botIconFirst:!o,fakeAppIconURL:h,size:80}),[t,o]);return(0,i.jsxs)(a.ScrollerNone,{className:E.container,fade:!0,ref:N,role:"region","aria-label":_.Z.Messages.APP_LAUNCHER_SECTION_APPLICATION_DETAILS_ARIA_LABEL.format({applicationName:v}),children:[(0,i.jsx)(m.Z,{name:v,iconURL:C,scrollerRef:N}),null!=C&&(0,i.jsx)(u.Z,{src:C,className:E.appIcon}),(0,i.jsx)(r.Z,{size:54}),(0,i.jsx)(A,{channel:n,application:t,sectionName:s}),(0,i.jsx)(d.Z,{channel:n,application:t,sectionName:s})]})}function f(e){let{channel:n,application:t,sectionName:l}=e,r=(0,o.Z)({applicationId:t.id,size:2048,names:["embedded_cover"]}),a=(0,c.yJ)(t),u=null!=a&&null!=a.activity_preview_video_asset_id?(0,s.Z)(t.id,a.activity_preview_video_asset_id):null;return(0,i.jsx)(p.Z,{channel:n,application:t,imageCoverUrl:r.url,videoUrl:u,sectionName:l})}},591204:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(735250);t(470079);var l=t(481060),r=t(895924),a=t(176412),s=t(689938);function o(e){let{channel:n,application:t,sectionName:o,disabled:c,commandName:u}=e,{onActivityItemSelected:d,buttonColor:m,buttonText:p}=(0,a.P)(n,t,r.Vh.APP_LAUNCHER_APPLICATION_VIEW,o);return(0,i.jsx)(l.Button,{type:"submit",size:l.ButtonSizes.MEDIUM,color:m,disabled:c,onClick:d,"aria-label":s.Z.Messages.APP_LAUNCHER_ACTIVITY_ITEM_SELECTED_BUTTON_ARIA_LABEL.format({buttonText:null!=u?u:p,applicationName:t.name}),children:null!=u?u:p})}},870205:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(735250),l=t(481060),r=t(984168),a=t(314734),s=t(689938),o=t(114601);function c(e){let n,{sortOrder:t,onSortOptionClick:c}=e;switch(t){case a.bS.POPULAR:n=s.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_OPTION_POPULAR;break;case a.bS.ALPHABETICAL:n=s.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_OPTION_ALPHABETICAL}return(0,i.jsx)(l.Popout,{renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(r.Z,{sortOrder:t,onSortOptionClick:c,closePopout:n})},position:"bottom",align:"left",children:(e,t)=>{let{isShown:r}=t;return(0,i.jsxs)(l.Button,{...e,size:l.Button.Sizes.MIN,color:l.Button.Colors.CUSTOM,className:o.sortDropdown,innerClassName:o.sortDropdownInner,"aria-label":s.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_HEADER,children:[(0,i.jsx)(l.ArrowsUpDownIcon,{size:"xs",color:"currentColor",className:o.sortIconMargin}),(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"text-normal",children:n}),r?(0,i.jsx)(l.ChevronSmallUpIcon,{size:"custom",color:"currentColor",width:20}):(0,i.jsx)(l.ChevronSmallDownIcon,{size:"custom",color:"currentColor",width:20})]})}})}},984168:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(735250);t(470079);var l=t(120356),r=t.n(l),a=t(481060),s=t(314734),o=t(689938),c=t(40147);function u(e){let{sortOrder:n,onSortOptionClick:t,closePopout:l}=e,u=e=>{t(e),l()};return(0,i.jsx)("div",{className:r()(s.Jh,c.container),children:(0,i.jsx)(a.Menu,{navId:"command-list-sort","aria-label":o.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_A11Y_LABEL,hideScroller:!0,onClose:l,onSelect:l,children:(0,i.jsxs)(a.MenuGroup,{label:o.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_HEADER,children:[(0,i.jsx)(a.MenuRadioItem,{id:"sort-by-popular",group:"sort-by",label:o.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_OPTION_POPULAR,action:()=>u(s.bS.POPULAR),checked:n===s.bS.POPULAR}),(0,i.jsx)(a.MenuRadioItem,{id:"sort-by-alphabetical",group:"sort-by",label:o.Z.Messages.APP_LAUNCHER_COMMAND_LIST_SORT_OPTION_ALPHABETICAL,action:()=>u(s.bS.ALPHABETICAL),checked:n===s.bS.ALPHABETICAL})]})})})}},561160:function(e,n,t){t.d(n,{A:function(){return d}});var i=t(735250);t(470079);var l=t(780384),r=t(481060),a=t(410030),s=t(176412),o=t(664769),c=t(983008),u=t(478408);function d(e){let{searchQuery:n,textContent:t,type:d}=e,m=(0,a.ZP)(),p=(0,l.ap)(m)?u:c;return(0,s.B)(d,n),(0,i.jsxs)("div",{className:o.emptyStateContainer,children:[(0,i.jsx)("img",{className:o.emptyStateImage,src:p,alt:"empty state"}),(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"text-muted",children:t})]})}},361917:function(e,n,t){t.d(n,{Z:function(){return G}}),t(47120),t(653041),t(724458);var i=t(735250),l=t(470079),r=t(392711),a=t.n(r),s=t(892814),o=t(79411),c=t(442837),u=t(481060),d=t(911969),m=t(595519),p=t(115130),_=t(566620),E=t(127255),h=t(880308),A=t(427996),f=t(367907),N=t(399654),C=t(844439),v=t(254711),I=t(213459),x=t(10718),P=t(895924),T=t(148958),g=t(424602),R=t(541099),S=t(827498),M=t(87005),L=t(695676),j=t(98880),O=t(804307),y=t(888617),b=t(561160),Z=t(41558),H=t(105862),U=t(28147),D=t(981631),k=t(689079),B=t(689938),w=t(678313);let V=[],W=Array(8).fill(0).map((e,n)=>n),F=[{cards:[,,,,].fill(0).map((e,n)=>n),look:j.U4.LARGE_BANNER},{cards:Array(8).fill(0).map((e,n)=>n),look:j.U4.NO_BANNER},{cards:[,,,,].fill(0).map((e,n)=>n),look:j.U4.NO_BANNER}];function G(e){let{channel:n,entrypoint:t,searchQuery:r,setSearchQuery:a,setScroller:s}=e,o=(0,m.NX)(n.id,!0),d=(0,c.e7)([p.Z],()=>p.Z.getIsEnabled(),[]),E=t===S._b.TEXT,h=t===S._b.TEXT,A=t===S._b.TEXT,f=t===S._b.VOICE,N=t===S._b.TEXT,[C,v]=K(E),[I,x]=K(h),[P,T]=K(A),[g,R]=K(f),M=C&&I&&P&&g,L=(A||h)&&!M,j=f&&d;l.useEffect(()=>{o&&(0,_.w1)({guildId:n.getGuildId(),force:!0})},[o,n]);let O=r.length>0;return(0,i.jsxs)("div",{className:w.container,children:[j?(0,i.jsx)(Y,{}):null,(0,i.jsx)(z,{searchQuery:r,setSearchQuery:a,placeholder:N?B.Z.Messages.APP_LAUNCHER_SEARCH_PLACEHOLDER:B.Z.Messages.APP_LAUNCHER_SEARCH_ACTIVITIES_PLACEHOLDER}),(0,i.jsx)(u.Scroller,{ref:s,className:w.scrollableContent,fade:!0,children:O?(0,i.jsx)("div",{children:(0,i.jsx)(U.Z,{channel:n,query:r,entrypoint:t,enableGlobalSearch:t===S._b.TEXT,enableActivitiesSearch:o})}):(0,i.jsxs)("div",{children:[E&&(0,i.jsx)(X,{channel:n,entrypoint:t,onEmptyState:v}),h&&(0,i.jsx)(Q,{channel:n,onEmptyState:x}),A&&(0,i.jsx)(J,{channel:n,onEmptyState:T}),f&&(0,i.jsx)(q,{channel:n,onEmptyState:R}),M&&(0,i.jsx)(b.A,{type:S.LG.HOME_EMPTY,textContent:t===S._b.TEXT?B.Z.Messages.APP_LAUNCHER_HOME_EMPTY_STATE_SEARCH_SUGGEST_BODY:B.Z.Messages.APP_LAUNCHER_HOME_EMPTY_STATE_ACTIVITIES_BODY}),L&&(0,i.jsx)(H.Z,{})]})})]})}function Y(){return(0,i.jsxs)("div",{className:w.developerShelfControlsContainer,children:[(0,i.jsx)(u.Text,{className:w.developerShelfControlsLabel,variant:"text-sm/normal",children:B.Z.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_SHELF_SUBTITLE}),(0,i.jsx)(A.W,{hideSearch:!0})]})}function z(e){let{searchQuery:n,setSearchQuery:t,placeholder:r}=e,[s,o]=l.useState(!0),[c,d]=l.useState(!1),m=l.useMemo(()=>a().debounce(e=>{(0,f.yw)(D.rMx.APP_LAUNCHER_SEARCH_QUERY_TYPED,{query:e,source:R.Z.entrypoint(),location:P.Vh.APP_LAUNCHER_HOME})},400,{leading:!1,trailing:!0}),[]),p=l.useCallback(()=>t(""),[t]),_=l.useCallback(()=>{d(!0),(0,f.yw)(D.rMx.APP_LAUNCHER_SEARCH_FOCUSED,{source:R.Z.entrypoint(),location:P.Vh.APP_LAUNCHER_HOME})},[]),E=l.useCallback(()=>{if(s){o(!1);return}_()},[s,_]),h=l.useCallback(e=>{!c&&_(),t(e),m(e)},[c,t,_,m]);return(0,i.jsx)("div",{className:w.searchBarContainer,children:(0,i.jsx)(u.SearchBar,{placeholder:r,query:n,onChange:h,onClear:p,size:u.SearchBar.Sizes.MEDIUM,autoFocus:!0,onFocus:E})})}function X(e){let{channel:n,entrypoint:t,onEmptyState:r}=e,{frecentApps:a,loading:s}=(0,M.f)(n,!0),o=l.useMemo(()=>{let e=[];for(let n of a)null!=n.application&&e.push({application:n.application,isPartner:!1});return e},[a]),c=B.Z.Messages.APP_LAUNCHER_HOME_RECENT_APPS_HEADER,{items:u,handleViewMore:d}=ee(c,t===S._b.VOICE?j.U4.LARGE_BANNER:j.U4.NO_BANNER,o,8,S.L3.RECENT_APPS);l.useEffect(()=>{if(!0!==s.current)0!==u.length&&(0,f.yw)(D.rMx.APP_LAUNCHER_FRECENTS_SEEN,{num:u.length,section_name:S.L3.RECENT_APPS,location:S.G0.HOME,source:t})},[u.length,t,s]);let m=s.current,p=!m&&0===u.length;return(l.useEffect(()=>{r(p)},[p,r]),m||p)?null:(0,i.jsxs)("div",{children:[(0,i.jsx)(Z.Z,{title:c,buttonType:Z.Z.buttonTypes.VIEW_MORE,onClickViewButton:d}),(0,i.jsx)("div",{className:w.sectionContentContainer,children:(0,i.jsx)("div",{className:w.frecentList,children:u.map((e,n)=>{let{application:t,isPartner:l}=e;return(0,i.jsx)(j.kA,{application:t,look:j.U4.ICON,isPartner:l,location:S.G0.HOME,sectionName:S.L3.RECENT_APPS,resultsPosition:n},t.id)})})})]})}function q(e){let{channel:n,onEmptyState:t}=e;(0,h.g)();let r=(0,E.Z)({guildId:n.getGuildId(),channel:n}),a=j.U4.LARGE_BANNER,{trackSectionImpressionRef:s}=(0,y.Z)({sectionName:S.L3.ACTIVITIES,numItems:r.length,numVisibleItems:r.length}),{clickOnHomeActivityOpensAppDetail:o}=g.m1.getCurrentConfig({location:"ActivitiesShelfSection"},{autoTrackExposure:!1}),c=0===r.length;return(l.useEffect(()=>{t(c)},[t,c]),c)?null:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:e=>s.current=e,children:(0,i.jsx)(Z.Z,{title:B.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE})}),(0,i.jsx)("div",{className:w.sectionContentContainer,children:r.map((e,t)=>{let{application:l}=e;return(0,i.jsx)(j.qR,{channel:n,application:l,look:a,location:P.Vh.APP_LAUNCHER_HOME,sectionName:S.L3.ACTIVITIES,resultsPosition:t,isOneClickCTA:!o},l.id)})})]})}function Q(e){var n;let{channel:t,onEmptyState:r}=e,s=(0,I.LD)(t.guild_id,!0),{commandsByActiveSection:o,loading:c}=x.wi(t,{commandType:d.yU.CHAT},{placeholderCount:0,limit:k.tn,includeFrecency:!0}),u=l.useMemo(()=>o.reduce((e,n)=>{let{section:t,data:i}=n;return i.length>0&&e.add(t.id),e},new Set),[o]),m=l.useMemo(()=>{var e,n;return Object.values(null!==(n=null===(e=s.result)||void 0===e?void 0:e.sections)&&void 0!==n?n:{}).map(e=>{let{descriptor:n}=e;return n}).filter(e=>!(e.id in v.Tm)&&u.has(e.id))},[null===(n=s.result)||void 0===n?void 0:n.sections,u]),p=(0,T.h)(m),_=S.L3.APPS_IN_THIS_SERVER,E=l.useMemo(()=>a().compact(p.map(e=>{let{application:n}=e;return n})).map(e=>({application:e})),[p]),{items:h,handleViewMore:A}=ee(B.Z.Messages.APP_LAUNCHER_HOME_APPS_IN_SERVER_HEADER,j.U4.NO_BANNER,E,8,_),{trackSectionImpressionRef:f}=(0,y.Z)({sectionName:_,numItems:E.length,numVisibleItems:h.length}),N=s.fetchState.fetching||c.current,C=!N&&0===h.length;return(l.useEffect(()=>{r(C)},[C,r]),C)?null:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:e=>f.current=e,children:(0,i.jsx)(Z.Z,{title:B.Z.Messages.APP_LAUNCHER_HOME_APPS_IN_SERVER_HEADER,buttonType:Z.Z.buttonTypes.VIEW_MORE,onClickViewButton:A})}),(0,i.jsx)("div",{className:w.sectionContentContainer,children:N?W.map(e=>(0,i.jsx)(O.Z,{look:j.U4.NO_BANNER},e)):h.map((e,n)=>{let{application:t,isPartner:l}=e;return null!=t?(0,i.jsx)(j.kA,{application:t,isPartner:l,look:j.U4.NO_BANNER,sectionName:_,resultsPosition:n,location:P.Vh.APP_LAUNCHER_HOME},t.id):null})})]})}function J(e){let{channel:n,onEmptyState:t}=e,{fetchState:r,recommendationsSections:a}=function(e){let{channelId:n,location:t}=e;l.useEffect(()=>{(0,N.$)({channelId:n,location:t})},[n,t]);let[i,r]=(0,c.Wu)([C.ZP],()=>[C.ZP.getFetchState({channelId:n,location:t}),C.ZP.getRecommendations({channelId:n,location:t})]);return{fetchState:i,recommendationsSections:r}}({channelId:n.id,location:s.I.APP_LAUNCHER_TEXT}),o=function(e){let{channel:n,recommendationsSections:t}=e;(0,h.g)();let i=(0,E.Z)({guildId:n.getGuildId(),channel:n});return l.useMemo(()=>{if(!t.some(e=>e.appends_remaining_activities))return V;let e=new Set;return t.forEach(n=>{n.items.forEach(n=>{null!=n.application&&e.add(n.application.id)})}),i.filter(n=>!e.has(n.application.id))},[t,i])}({channel:n,recommendationsSections:a}),u=r===C.M.FETCHING,d=!u&&0===a.length;return(l.useEffect(()=>{t(d)},[d,t]),d)?null:(0,i.jsx)(i.Fragment,{children:u?F.map((e,n)=>{let{cards:t,look:l}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(Z.Z.Loading,{}),(0,i.jsx)("div",{className:w.sectionContentContainer,children:t.map(e=>(0,i.jsx)(O.Z,{look:l},e))})]},n)}):a.map(e=>(0,i.jsx)($,{recommendationsSection:e,remainingActivities:o},e.key))})}function $(e){let{recommendationsSection:n,remainingActivities:t}=e,r=n.section_title,a=n.type===o.i.BANNER_CARDS?j.U4.LARGE_BANNER:j.U4.NO_BANNER,s=l.useMemo(()=>{let e=n.items.map(e=>{let{application:n,is_partner:t}=e;return{application:n,isPartner:t}});return n.appends_remaining_activities&&e.push(...t.map(e=>{let{application:n}=e;return{application:n}})),e},[n.items,n.appends_remaining_activities,t]),c=n.key,{items:u,handleViewMore:d}=ee(r,a,s,8,c),{trackSectionImpressionRef:m}=(0,y.Z)({sectionName:c,numItems:s.length,numVisibleItems:u.length});return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:e=>m.current=e,children:(0,i.jsx)(Z.Z,{title:n.section_title,buttonType:Z.Z.buttonTypes.VIEW_MORE,onClickViewButton:d})}),(0,i.jsx)("div",{className:w.sectionContentContainer,children:u.map((e,n)=>{let{application:t,isPartner:l}=e;return(0,i.jsx)(j.kA,{application:t,look:a,isPartner:l,sectionName:c,resultsPosition:n,location:P.Vh.APP_LAUNCHER_HOME},t.id)})})]})}function K(e){let[n,t]=l.useState(!e);return[n,l.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];t(e)},[])]}function ee(e,n,t,i,r){let{pushHistory:a}=(0,L.hH)();return l.useMemo(()=>t.length<=i?{items:t,handleViewMore:void 0}:{items:t.slice(0,i),handleViewMore:()=>{(0,f.yw)(D.rMx.APP_LAUNCHER_SECTION_VIEW_MORE,{section_name:r,source:R.Z.entrypoint()}),a({type:L.gc.LIST,title:e,look:n,items:t,sectionName:r})}},[t,i,r,a,e,n])}},41558:function(e,n,t){t.d(n,{Z:function(){return u}});var i,l,r=t(735250),a=t(470079),s=t(481060),o=t(689938),c=t(21172);function u(e){let{title:n,buttonType:t,onClickViewButton:i}=e;return(0,r.jsxs)("div",{className:c.header,children:[(0,r.jsx)(s.Text,{variant:"text-md/medium",color:"header-primary",children:n}),null!=t&&null!=i&&(0,r.jsx)(s.Clickable,{className:c.viewMore,onClick:i,"aria-label":o.Z.Messages.APP_LAUNCHER_VIEW_MORE_ROW_ARIA_LABEL.format({title:n}),children:(0,r.jsx)(s.Text,{variant:"text-md/semibold",color:"text-brand",children:0===t?o.Z.Messages.APP_LAUNCHER_VIEW_MORE_ROW:o.Z.Messages.APP_LAUNCHER_VIEW_LESS_ROW})})]})}(i=l||(l={}))[i.VIEW_MORE=0]="VIEW_MORE",i[i.VIEW_LESS=1]="VIEW_LESS",u.buttonTypes=l,u.Loading=function(){let e=a.useMemo(()=>({width:"".concat(10+20*Math.random(),"%")}),[]);return(0,r.jsx)("div",{className:c.loadingHeader,style:e,children:(0,r.jsx)(s.Text,{className:c.hidden,variant:"text-md/medium",color:"header-primary",children:"_"})})}},105862:function(e,n,t){t.d(n,{Z:function(){return A}});var i=t(735250),l=t(470079),r=t(780384),a=t(481060),s=t(410030),o=t(782568),c=t(63063),u=t(827498),d=t(888617),m=t(981631),p=t(689938),_=t(720123),E=t(983008),h=t(478408);function A(){let e=(0,s.ZP)(),n=(0,r.ap)(e)?h:E,t=l.useCallback(()=>{(0,o.Z)(c.Z.getArticleURL(m.BhN.LAUNCHING_APPS_WITH_SHAPES_BUTTON))},[]),{trackSectionImpressionRef:A}=(0,d.Z)({sectionName:u.L3.NEW_TO_APPS,numItems:1,numVisibleItems:1});return(0,i.jsxs)("div",{ref:e=>A.current=e,className:_.container,children:[(0,i.jsx)("img",{className:_.image,src:n,alt:"","aria-hidden":!0}),(0,i.jsxs)("div",{className:_.body,children:[(0,i.jsx)(a.Heading,{variant:"heading-lg/bold",color:"header-primary",children:p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_TITLE}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"text-normal",children:p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_BODY})]}),(0,i.jsx)(a.Button,{size:a.Button.Sizes.MEDIUM,"aria-label":p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_LEARN_MORE_ARIA_LABEL.format({sectionTitle:p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_TITLE,sectionBody:p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_BODY}),onClick:t,children:p.Z.Messages.APP_LAUNCHER_HOME_LEARN_MORE_SECTION_LEARN_MORE})]})}},106771:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(735250),l=t(470079),r=t(481060),a=t(783097),s=t(753972),o=t(532309),c=t(875164),u=t(413097);function d(e){var n;let{command:t,application:d,onClick:m,query:p,searchResultsPosition:_}=e,{iconURL:E,name:h,description:A}=l.useMemo(()=>(0,a.sl)(d,{botIconFirst:!0,fakeAppIconURL:u}),[d]),{trackSearchResultsItemImpressionRef:f}=(0,o.Z)({applicationId:d.id,commandId:null==t?void 0:t.id,query:p,searchResultsPosition:_});return(0,i.jsxs)(r.Clickable,{innerRef:e=>f.current=e,className:c.container,onClick:m,children:[(0,i.jsx)(s.Z,{src:E,className:c.icon,"aria-hidden":!0,rendersPlaceholder:!0}),(0,i.jsxs)("div",{className:c.cmdDetails,children:[(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",color:"header-primary",lineClamp:1,children:null!==(n=null==t?void 0:t.displayName)&&void 0!==n?n:h}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"text-secondary",lineClamp:1,children:A})]}),null!=t?(0,i.jsx)(r.Text,{className:c.cmdAppName,variant:"text-sm/normal",color:"text-secondary",children:h}):null,(0,i.jsx)("div",{className:c.underline})]})}},79984:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(735250),l=t(470079),r=t(120356),a=t.n(r),s=t(442837),o=t(481060),c=t(607070),u=t(9258);function d(){let e=(0,s.e7)([c.Z],()=>c.Z.useReducedMotion),{styleLarge:n,styleSmall:t}=l.useMemo(()=>({styleLarge:{width:"".concat(10+50*Math.random(),"%")},styleSmall:{width:"".concat(30+60*Math.random(),"%")}}),[]);return(0,i.jsxs)("div",{className:a()(u.container,{[u.noAnimation]:e}),children:[(0,i.jsx)("div",{className:u.iconPlaceholder}),(0,i.jsxs)("div",{className:u.textContainer,children:[(0,i.jsx)("div",{className:u.textPlaceholder,style:n,children:(0,i.jsx)(o.Heading,{className:u.hidden,variant:"heading-md/semibold",color:"header-primary",lineClamp:1,children:"_"})}),(0,i.jsx)("div",{className:u.textPlaceholder,style:t,children:(0,i.jsx)(o.Text,{className:u.hidden,variant:"text-sm/normal",color:"text-secondary",lineClamp:1,children:"_"})})]}),(0,i.jsx)("div",{className:u.underline})]})}},28147:function(e,n,t){t.d(n,{Z:function(){return L}}),t(47120);var i=t(735250),l=t(470079),r=t(392711),a=t.n(r),s=t(209173),o=t(110924),c=t(555573),u=t(895924),d=t(809547),m=t(585483),p=t(499254),_=t(541099),E=t(827498),h=t(392370),A=t(98880),f=t(520315),N=t(532309),C=t(561160),v=t(41558),I=t(106771),x=t(79984),P=t(314734),T=t(981631),g=t(689938),R=t(933693);let S=Array(6).fill(0).map((e,n)=>n),M=[,,,].fill(0).map((e,n)=>n);function L(e){return e.enableGlobalSearch?(0,i.jsx)(j,{...e}):(0,i.jsx)(O,{...e})}function j(e){let{channel:n,query:t,entrypoint:r,enableActivitiesSearch:o}=e,c=r===E._b.VOICE||o,u=r===E._b.TEXT,m=r===E._b.TEXT,{loading:p,isEmptyState:_,commandResults:A,hasCommandResults:f,applicationResults:N,hasApplicationResults:v}=(0,h.pe)({channel:n,query:t,searchesActivities:c,searchesCommands:u,searchesBots:m}),{fetchState:I,applicationResults:x}=(0,h.Q2)({query:t,channel:n,fetches:r!==E._b.VOICE}),P=null==I||I===d.M.FETCHING,T=l.useMemo(()=>{let e=N.map(e=>({application:e,installOnDemand:!1}));if(r===E._b.VOICE)return e;let n=new Set(N.map(e=>{let{id:n}=e;return n}));return[...e,...a().compact(x.map(e=>e.type===s.s.CONNECTION||n.has(e.data.id)?null:{application:e.data,installOnDemand:!0}))]},[r,x,N]);return p?(0,i.jsx)(U,{}):_?(0,i.jsx)(C.A,{type:E.LG.SEARCH_EMPTY,searchQuery:t,textContent:r===E._b.TEXT?g.Z.Messages.APP_LAUNCHER_SEARCH_EMPTY_STATE_BODY:g.Z.Messages.APP_LAUNCHER_SEARCH_EMPTY_STATE_ACTIVITIES_BODY}):(0,i.jsxs)("div",{children:[f&&(0,i.jsx)(y,{channel:n,commandResults:A,query:t}),v&&(0,i.jsx)(Z,{applicationResults:T,includePlaceholder:P,query:t,searchesBots:m})]})}function O(e){let{channel:n,query:t,entrypoint:r,enableActivitiesSearch:a}=e,s=r===E._b.VOICE||a,o=r===E._b.TEXT,c=r===E._b.TEXT,{loading:u,isEmptyState:d,commandResults:m,hasCommandResults:p,applicationResults:_,hasApplicationResults:A}=(0,h.pe)({channel:n,query:t,commandLimit:10,searchesCommands:o,searchesBots:c,searchesActivities:s}),f=l.useMemo(()=>_.map(e=>({application:e,installOnDemand:!1})),[_]);return u?(0,i.jsx)(U,{}):d?(0,i.jsx)(C.A,{type:E.LG.SEARCH_EMPTY,searchQuery:t,textContent:r===E._b.TEXT?g.Z.Messages.APP_LAUNCHER_SEARCH_EMPTY_STATE_BODY:g.Z.Messages.APP_LAUNCHER_SEARCH_EMPTY_STATE_ACTIVITIES_BODY}):(0,i.jsxs)("div",{children:[p&&(0,i.jsx)(y,{channel:n,commandResults:m,query:t}),A&&(0,i.jsx)(Z,{applicationResults:f,query:t,searchesBots:c})]})}function y(e){var n;let{channel:t,commandResults:r,query:a}=e,s=r.length>4,d=l.useMemo(()=>s?r.slice(0,4):r,[r,s]),[h,A]=l.useState(!1),N=l.useCallback(()=>A(e=>!e),[]),C=(null!==(n=(0,o.Z)(a))&&void 0!==n?n:a)[0]!==a[0],x=h&&!C;l.useLayoutEffect(()=>A(!1),[C]);let{ref:S,isTransitioning:M,onTransitionEnd:L}=(0,f.Z)({key:a,isExpanded:x,durationMs:200,maxAnimationHeight:P.lv}),j=x||M,O=x?v.Z.buttonTypes.VIEW_LESS:v.Z.buttonTypes.VIEW_MORE,y=j?r:d;return(0,i.jsxs)("div",{children:[(0,i.jsx)(v.Z,{title:g.Z.Messages.COMMANDS,buttonType:O,onClickViewButton:s?N:void 0}),(0,i.jsx)("div",{className:R.sectionContentContainer,ref:S,onTransitionEnd:L,children:y.map((e,n)=>{let{command:l,application:r,section:s}=e;return(0,i.jsx)(I.Z,{command:l,application:r,query:a,searchResultsPosition:n,onClick:()=>{let e=_.Z.entrypoint();p.y(E.ti.DISMISSED),c.Po({channelId:t.id,command:l,section:s,location:u.Vh.APP_LAUNCHER_HOME_SEARCH,triggerSection:void 0,queryLength:a.length,sectionName:E.L3.SEARCH,query:a,searchResultsPosition:n,source:e}),m.S.dispatch(T.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:t.id})}},l.id)})})]})}function b(e){let{trackSearchResultsItemImpressionRef:n}=(0,N.Z)({applicationId:e.application.id,query:e.query,searchResultsPosition:e.resultsPosition});return(0,i.jsx)("div",{className:R.searchOpenAppDetailAppCard,ref:e=>n.current=e,children:(0,i.jsx)(A.kA,{...e,tracksImpression:!1})})}function Z(e){let{applicationResults:n,includePlaceholder:t,query:l,searchesBots:r}=e;return r?(0,i.jsxs)("div",{children:[(0,i.jsx)(v.Z,{title:g.Z.Messages.APPS}),(0,i.jsxs)("div",{className:R.sectionContentContainer,children:[n.map((e,n)=>{let{application:t,installOnDemand:r}=e;return(0,i.jsx)(H,{application:t,location:u.Vh.APP_LAUNCHER_HOME_SEARCH,sectionName:E.L3.SEARCH,resultsPosition:n,installOnDemand:r,query:l},t.id)}),t&&M.map(e=>(0,i.jsx)(x.Z,{},e))]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(v.Z,{title:g.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_TITLE}),(0,i.jsxs)("div",{className:R.sectionActivitiesContentContainer,children:[n.map((e,n)=>{let{application:t,installOnDemand:r}=e;return(0,i.jsx)(b,{application:t,look:A.U4.LARGE_BANNER,location:u.Vh.APP_LAUNCHER_HOME_SEARCH,sectionName:E.L3.SEARCH,resultsPosition:n,installOnDemand:r,query:l},t.id)}),t&&M.map(e=>(0,i.jsx)(x.Z,{},e))]})]})}function H(e){let n=(0,A.cG)(e);return(0,i.jsx)(I.Z,{application:e.application,onClick:n,query:e.query,searchResultsPosition:e.resultsPosition})}function U(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(v.Z,{title:g.Z.Messages.COMMANDS}),(0,i.jsx)("div",{className:R.sectionContentContainer,children:S.map(e=>(0,i.jsx)(x.Z,{},e))}),(0,i.jsx)(v.Z,{title:g.Z.Messages.APPS}),(0,i.jsx)("div",{className:R.sectionContentContainer,children:M.map(e=>(0,i.jsx)(x.Z,{},e))})]})}},684256:function(e,n,t){t.d(n,{Z:function(){return p}});var i=t(735250),l=t(470079),r=t(481060),a=t(895924),s=t(424602),o=t(827498),c=t(98880),u=t(772606),d=t(689938),m=t(235435);function p(e){let{channel:n,entrypoint:t,title:p,look:_,items:E,sectionName:h}=e,{clickOnHomeActivityOpensAppDetail:A}=s.m1.getCurrentConfig({location:"AppLauncherApplicationListViewScreen"},{autoTrackExposure:!1}),f=l.useMemo(()=>t===o._b.TEXT?c.kA:c.qR,[t]);return(0,i.jsxs)("section",{className:m.container,"aria-label":d.Z.Messages.APP_LAUNCHER_SECTION_VIEW_MORE_ARIA_LABEL.format({sectionTitle:p}),children:[(0,i.jsxs)("div",{className:m.header,children:[(0,i.jsx)(u.Z,{className:m.backButton}),(0,i.jsx)(r.Heading,{variant:"heading-md/medium",color:"header-primary",children:p})]}),(0,i.jsx)(r.Scroller,{children:(0,i.jsx)("div",{className:m.appGrid,children:E.map((e,t)=>{let{application:l,isPartner:r}=e;return(0,i.jsx)(f,{channel:n,application:l,look:_,isPartner:r,sectionName:h,resultsPosition:t,location:a.Vh.APP_LAUNCHER_LIST_VIEW_ALL,isOneClickCTA:A},l.id)})})})]})}},399654:function(e,n,t){t.d(n,{$:function(){return u}});var i=t(544891),l=t(570140),r=t(706454),a=t(70956),s=t(844439),o=t(981631);let c=10*a.Z.Millis.MINUTE;async function u(e){let{channelId:n,location:t}=e,a=Date.now(),u=s.ZP.getFetchState({location:t,channelId:n}),d=s.ZP.getLastFetchTimeMs({location:t,channelId:n});if(u!==s.M.FETCHING&&(null==d||!(d+c>a))){l.Z.dispatch({type:"APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS",location:t,channelId:n});try{let e=await i.tn.get({url:o.ANM.APP_RECOMMENDATIONS,query:{locale:r.default.locale,channel_id:n,location:t}});l.Z.dispatch({type:"APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS_SUCCESS",location:t,channelId:n,recommendations:e.body})}catch(e){l.Z.dispatch({type:"APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS_FAILURE",location:t,channelId:n})}}}},844439:function(e,n,t){t.d(n,{M:function(){return s}});var i,l,r,a,s,o,c=t(442837),u=t(570140);(i=s||(s={}))[i.FETCHING=0]="FETCHING",i[i.FETCHED=1]="FETCHED",i[i.ERROR=2]="ERROR";let d={},m={},p={};function _(e){let{location:n,channelId:t}=e;return"location:".concat(n," channelId:").concat("0")}let E=Object.freeze([]);class h extends(o=c.ZP.Store){getLastFetchTimeMs(e){let{location:n,channelId:t}=e;return p[_({location:n,channelId:t})]}getFetchState(e){let{location:n,channelId:t}=e;return m[_({location:n,channelId:t})]}getRecommendations(e){var n;let{location:t,channelId:i}=e;return null!==(n=d[_({location:t,channelId:i})])&&void 0!==n?n:E}}a=void 0,(r="displayName")in(l=h)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,n.ZP=new h(u.Z,{APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS:function(e){let{location:n,channelId:t}=e;m={...m,[_({location:n,channelId:t})]:0}},APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS_SUCCESS:function(e){let{recommendations:n,location:t,channelId:i}=e,l=_({location:t,channelId:i});d={...d,[l]:n},m={...m,[l]:1};let r=Date.now();p={...p,[l]:r}},APP_RECOMMENDATIONS_FETCH_RECOMMENDATIONS_FAILURE:function(e){let{location:n,channelId:t}=e;m={...m,[_({location:n,channelId:t})]:2}}})},148958:function(e,n,t){t.d(n,{h:function(){return c}}),t(47120),t(653041);var i=t(470079),l=t(442837),r=t(581364),a=t(675478),s=t(709054),o=t(822245);function c(e,n){i.useEffect(()=>{a.DZ.loadIfNecessary()},[]);let t=(0,l.e7)([o.Z],()=>o.Z.getApplicationFrecencyWithoutLoadingLatest()),c=i.useMemo(()=>null==n||0===n.length?e:e.map(e=>{var t;return{...e,isUserApp:null!==(t=null==n?void 0:n.some(n=>n.application.id===e.id))&&void 0!==t&&t}}),[e,n]),u=i.useMemo(()=>null==n?void 0:n.filter(n=>!e.some(e=>e.id===n.application.id)),[e,n]),d=i.useMemo(()=>{var e;null==u||u.forEach(e=>{let n=s.default.extractTimestamp(e.id);null==t.getEntry(e.application.id)&&t.track(e.application.id,n)}),t.compute();let n=null!==(e=null==u?void 0:u.map(e=>(0,r.X0)(e.application,!0)))&&void 0!==e?e:[],i=[...c];return i.push(...n),i.sort((e,n)=>{var i,l;let r=(null!==(i=t.getScore(n.id))&&void 0!==i?i:0)-(null!==(l=t.getScore(e.id))&&void 0!==l?l:0);return 0!==r?r:e.name.localeCompare(n.name)}),i},[c,t,u]);return i.useMemo(()=>{let e,i;null==n||n.forEach(n=>{let t=s.default.extractTimestamp(n.id);(null==i||t>i)&&(e=n,i=t)}),c.forEach(n=>{var l,r;let a=Math.max(...null!==(r=null===(l=t.getEntry(n.id))||void 0===l?void 0:l.recentUses)&&void 0!==r?r:[]);(null==i||a>i)&&(e=n,i=a)});let l=d.filter(n=>{var t,i;return i=n.id===(null==e?void 0:null===(t=e.application)||void 0===t?void 0:t.id),i});return[...l,...d.filter(n=>{var t,i;return i=n.id!==(null==e?void 0:null===(t=e.application)||void 0===t?void 0:t.id),i})]},[d,c,t,n])}},631827:function(e,n,t){function i(e,n){var t,i,l,r,a;let s;let o=null!==(t=n.limit)&&void 0!==t?t:1/0,c=function(e,n){return e.filter(e=>n.every(n=>n(e)))}(e,null!==(i=n.filterPredicates)&&void 0!==i?i:[]);return(function(e,n,t){let i=[];for(let l of e){let e=function(e,n){return e.sort((e,t)=>{for(let i of n){let n=i(e,t);if(0!==n)return n}return 0})}(l,n);if(i.push(...e),i.length>=t)break}return i})(s=null!=n.bucketPredicates&&n.bucketPredicates.length>0?o>=c.length?function(e,n){let t=Array(n.length).fill(null).map(()=>[]);for(let i of e)for(let e=0;e<n.length;e++)if(n[e](i)){t[e].push(i);break}return t}(c,null!==(l=n.bucketPredicates)&&void 0!==l?l:[]):function(e,n,t){let i=[],l=e;for(let e of n){let n=[],r=[];for(let t of l)e(t)?r.push(t):n.push(t);if(i.push(r),l=n,i.reduce((e,n)=>n.length+e,0)>=t)break}return i}(c,null!==(r=n.bucketPredicates)&&void 0!==r?r:[],o):[c],null!==(a=n.sortComparers)&&void 0!==a?a:[],o).slice(0,o)}t.d(n,{N:function(){return i}}),t(653041),t(47120),t(724458)},892814:function(e,n,t){var i;t.d(n,{I:function(){return i}}),(i||(i={})).APP_LAUNCHER_TEXT="app_launcher_text"},79411:function(e,n,t){var i,l;t.d(n,{i:function(){return i}}),(l=i||(i={}))[l.EXPANDABLE_LIST=1]="EXPANDABLE_LIST",l[l.BANNER_CARDS=2]="BANNER_CARDS"},209173:function(e,n,t){var i,l;t.d(n,{s:function(){return i}}),(l=i||(i={}))[l.APPLICATION=1]="APPLICATION",l[l.ACTIVITY_APPLICATION=2]="ACTIVITY_APPLICATION",l[l.CONNECTION=3]="CONNECTION"}}]);
//# sourceMappingURL=fdb28cff0db06630a19f.js.map