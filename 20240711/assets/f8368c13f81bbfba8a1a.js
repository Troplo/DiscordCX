"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["17400"],{777658:function(e,n,t){t.d(n,{Z:function(){return c}}),t(47120);var i=t(735250),s=t(470079),l=t(442837),a=t(481060),o=t(194359),d=t(699516),u=t(594174),r=t(689938);function c(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ContextMenu",{id:t,username:c,bot:Z}=e,E=(0,l.e7)([u.default],()=>{var e;return(null===(e=u.default.getCurrentUser())||void 0===e?void 0:e.id)===t},[t]),[M,f]=(0,l.Wu)([d.Z],()=>[d.Z.isFriend(t),d.Z.isBlocked(t)],[t]),[I,_]=s.useState(!1);return Z||E?null:M?(0,i.jsx)(a.MenuItem,{id:"remove-friend",label:r.Z.Messages.REMOVE_FRIEND,action:function(){(0,a.openModal)(e=>(0,i.jsx)(a.ConfirmModal,{header:r.Z.Messages.REMOVE_FRIEND_TITLE.format({name:c}),confirmText:r.Z.Messages.REMOVE_FRIEND,cancelText:r.Z.Messages.CANCEL,onConfirm:()=>{o.Z.removeFriend(t,{location:n}),_(!1)},...e,children:(0,i.jsx)(a.Text,{variant:"text-md/normal",children:r.Z.Messages.REMOVE_FRIEND_BODY.format({name:c})})}))}}):(0,i.jsx)(a.MenuItem,{id:"add-friend",label:I?r.Z.Messages.ADD_FRIEND_BUTTON_AFTER:r.Z.Messages.ADD_FRIEND,action:()=>{!I&&(o.Z.addRelationship({userId:t,context:{location:n}}),_(!0))},disabled:f||I&&!M})}},858488:function(e,n,t){t.d(n,{Z:function(){return d}}),t(47120);var i=t(735250);t(470079);var s=t(442837),l=t(481060),a=t(699516),o=t(689938);function d(e){let{user:n,onAction:d}=e,u=n.id,[r,c]=(0,s.Wu)([a.Z],()=>{var e;return[a.Z.isFriend(u),null!==(e=a.Z.getNickname(u))&&void 0!==e?e:null]},[u]);if(!r)return null;let Z=null==c?o.Z.Messages.ADD_FRIEND_NICKNAME:o.Z.Messages.CHANGE_FRIEND_NICKNAME;return(0,i.jsx)(l.MenuItem,{id:null==c?"add-friend-nickname":"edit-friend-nickname",label:Z,action:()=>{null==d||d(),(0,l.openModalLazy)(async()=>{let{default:e}=await t.e("25070").then(t.bind(t,670794));return t=>(0,i.jsx)(e,{user:n,nickname:c,...t})})}})}},185457:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(735250),s=t(470079),l=t(481060),a=t(906732),o=t(702557),d=t(171368),u=t(314897),r=t(246946),c=t(626135),Z=t(981631),E=t(228168),M=t(689938);function f(e){let{user:n,guildId:t,context:f}=e,{id:I}=n,{loading:_,note:g}=(0,o.Z)(I),N=!_&&null!=g&&g.length>0,m=f===Z.IlC.POPOUT,A=s.useContext(c.AnalyticsContext),{analyticsLocations:C}=(0,a.ZP)();return I===u.default.getId()||r.Z.hidePersonalInformation||m?null:(0,i.jsx)(l.MenuItem,{id:"note",label:_?M.Z.Messages.LOADING_NOTE:N?M.Z.Messages.EDIT_NOTE:M.Z.Messages.ADD_NOTE,action:()=>{(0,d.openUserProfileModal)({userId:n.id,section:E.oh.USER_INFO,subsection:E.Tb.NOTE,guildId:t,sourceAnalyticsLocations:C,analyticsLocation:A.location})}})}},710631:function(e,n,t){t.d(n,{Z:function(){return A}}),t(653041),t(47120);var i=t(735250),s=t(470079),l=t(442837),a=t(481060),o=t(493683),d=t(447543),u=t(904245),r=t(159300),c=t(592125),Z=t(984933),E=t(430824),M=t(496675),f=t(699516),I=t(771845),_=t(594174),g=t(981631),N=t(689938);function m(e,n){o.Z.ensurePrivateChannel(e).then(e=>{null!=c.Z.getChannel(e)&&u.Z.sendInvite(e,n,"context_menu",null)})}function A(e){let{user:n,guildId:t,onAction:o}=e,u=(0,l.e7)([_.default],()=>_.default.getCurrentUser(),[]),c=(0,l.Wu)([I.ZP,E.Z,M.Z],()=>{let e=I.ZP.getFlattenedGuildIds(),n=[];return e.forEach(e=>{let i=E.Z.getGuild(e);null!=i&&(0,r.b)(M.Z,i)&&i.id!==t&&n.push(i)}),n},[t]),[A,C]=s.useState({});return(null==u?void 0:u.id)===n.id||n.bot||0===c.length||f.Z.isBlocked(n.id)?null:(0,i.jsx)(a.MenuItem,{id:"invite-to-server",label:N.Z.Messages.INVITE_TO_SERVER,children:c.map(e=>A[e.id]?(0,i.jsx)(a.MenuItem,{id:e.id,disabled:!0,label:N.Z.Messages.INVITE_SENT},e.id):(0,i.jsx)(a.MenuItem,{id:e.id,label:e.name,action:()=>{null==o||o(),!function(e,n){let t=Z.ZP.getDefaultChannel(e.id,!0,g.Plq.CREATE_INSTANT_INVITE);if(null!=t){if(C({...A,[e.id]:!0}),!M.Z.can(g.Plq.CREATE_INSTANT_INVITE,e)&&null!=e.vanityURLCode){m(n,e.vanityURLCode);return}d.Z.createInvite(t.id,{max_uses:1,unique:!0},"User Invite Context Menu").then(e=>m(n,e.code))}}(e,n.id)}},e.id))})}},991307:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(735250);t(470079);var s=t(442837),l=t(481060),a=t(668781),o=t(846027),d=t(763296),u=t(131951),r=t(19780),c=t(914010),Z=t(594174),E=t(626135),M=t(981631),f=t(65154),I=t(689938),_=t(127544);function g(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Yn.DEFAULT,t=(0,s.e7)([Z.default],()=>{var n;return(null===(n=Z.default.getCurrentUser())||void 0===n?void 0:n.id)===e}),g=(0,s.e7)([d.Z],()=>d.Z.isLocalSoundboardMuted(e)),{muted:N,deafened:m=!1,localVideoDisabled:A=!1,localVideoAutoDisabled:C=!1}=(0,s.cj)([u.Z],()=>t?{muted:u.Z.isSelfMute(n),deafened:u.Z.isSelfDeaf(n)}:{muted:u.Z.isLocalMute(e,n),localVideoDisabled:u.Z.isLocalVideoDisabled(e,n),localVideoAutoDisabled:u.Z.isLocalVideoAutoDisabled(e,n)},[t,n,e]),T=u.Z.supports(f.AN.DISABLE_VIDEO)&&!t?(0,i.jsx)(l.MenuCheckboxItem,{id:"disable-video",label:I.Z.Messages.DISABLE_VIDEO,action:()=>{if(C){a.Z.show({title:I.Z.Messages.UNSTABLE_CONNECTION,body:I.Z.Messages.UNSTABLE_CONNECTION_REASON_2,confirmText:I.Z.Messages.TURN_ON_VIDEO_ANYWAY,cancelText:I.Z.Messages.LEAVE_VIDEO_OFF,onConfirm:()=>o.Z.setDisableLocalVideo(e,M.ZUi.MANUAL_ENABLED)});return}let t=A?M.ZUi.MANUAL_ENABLED:M.ZUi.DISABLED;o.Z.setDisableLocalVideo(e,t,n)},checked:A,subtext:C?(0,i.jsxs)("div",{className:_.videoPaused,children:[(0,i.jsx)(l.CircleExclamationPointIcon,{size:"custom",color:"currentColor",width:12,className:_.warningCircle}),I.Z.Messages.UNSTABLE_CONNECTION]}):null},"disable-video"):null,D=t?null:(0,i.jsx)(l.MenuCheckboxItem,{id:"soundboard-sound-mute",label:I.Z.Messages.MUTE_SOUNDBOARD,action:()=>{let t=r.Z.getRTCConnection();E.default.track(M.rMx.AUDIO_LOCAL_SOUNDBOARD_MUTE_TOGGLED,{guild_id:c.Z.getGuildId(),target_user_id:e,media_session_id:null==t?void 0:t.getMediaSessionId(),parent_media_session_id:null==t?void 0:t.parentMediaSessionId,mute_soundboard:!g}),o.Z.toggleLocalSoundboardMute(e,n)},checked:g},"soundboard-sound-mute");return t?[(0,i.jsx)(l.MenuCheckboxItem,{id:"mute",label:I.Z.Messages.SOUND_MUTE,action:()=>o.Z.toggleSelfMute({context:n}),checked:N},"self-mute"),(0,i.jsx)(l.MenuCheckboxItem,{id:"deafen",label:I.Z.Messages.DEAFEN,action:()=>o.Z.toggleSelfDeaf({context:n}),checked:m},"self-deafen"),T]:[(0,i.jsx)(l.MenuCheckboxItem,{id:"mute",label:I.Z.Messages.SOUND_MUTE,action:()=>o.Z.toggleLocalMute(e,n),checked:N},"self-mute"),D,T]}},725119:function(e,n,t){t.d(n,{Z:function(){return Z}});var i=t(735250),s=t(470079),l=t(481060),a=t(40851),o=t(906732),d=t(171368),u=t(626135),r=t(981631),c=t(689938);function Z(e,n,t){let Z=s.useContext(u.AnalyticsContext),{analyticsLocations:E}=(0,o.ZP)(),M=(0,a.Aq)();return(0,i.jsx)(l.MenuItem,{id:"user-profile",label:c.Z.Messages.PROFILE,action:()=>{(0,d.openUserProfileModal)({userId:e,guildId:n,channelId:t,sourceAnalyticsLocations:E,analyticsLocation:Z.location}),M.dispatch(r.CkL.POPOUT_CLOSE)}})}},700994:function(e,n,t){t.d(n,{Z:function(){return E}});var i=t(735250);t(470079);var s=t(442837),l=t(481060),a=t(846027),o=t(131951),d=t(594174),u=t(36703),r=t(358085),c=t(65154),Z=t(689938);function E(e){var n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Yn.DEFAULT,E=(0,s.e7)([o.Z],()=>o.Z.getLocalVolume(e,t),[e,t]),M=e===(null===(n=d.default.getCurrentUser())||void 0===n?void 0:n.id),f=t===c.Yn.STREAM;return M?null:(0,i.jsx)(l.MenuControlItem,{id:"user-volume",label:f?Z.Z.Messages.STREAM_VOLUME:Z.Z.Messages.USER_VOLUME,control:(n,s)=>(0,i.jsx)(l.MenuSliderControl,{...n,ref:s,value:(0,u.P)(E),maxValue:r.isPlatformEmbedded?200:100,onChange:n=>a.Z.setLocalVolume(e,(0,u.A)(n),t),"aria-label":f?Z.Z.Messages.STREAM_VOLUME:Z.Z.Messages.USER_VOLUME})})}},332031:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(735250);t(470079);var s=t(442837),l=t(481060),a=t(655922),o=t(158776),d=t(981631),u=t(689938);function r(e){let n=(0,s.e7)([o.Z],()=>(0,a.Z)(o.Z.findActivity(e,e=>e.type===d.IIU.STREAMING)),[e]);return null==n?null:(0,i.jsx)(l.MenuItem,{id:"watch-stream",label:u.Z.Messages.WATCH_STREAM,action:()=>window.open(n,"_blank")})}}}]);
//# sourceMappingURL=f8368c13f81bbfba8a1a.js.map