"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["21811"],{935369:function(e,n,t){t.d(n,{Z:function(){return l}}),t(47120);var r=t(470079),i=t(479531),o=t(689938);function l(e){let[n,t]=r.useState(!1),[l,u]=r.useState(null);return[r.useCallback(async function(){for(var n=arguments.length,r=Array(n),l=0;l<n;l++)r[l]=arguments[l];try{return u(null),t(!0),await e(...r)}catch(e){e.message!==o.Z.Messages.MFA_V2_CANCELED&&u(e instanceof i.Z?e:new i.Z(e))}finally{t(!1)}},[e]),{loading:n,error:l}]}},724757:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(470079),i=t(924826),o=t(442837),l=t(607070);function u(e,n,t){let u=(0,o.e7)([l.Z],()=>l.Z.keyboardModeEnabled),s=r.useCallback(e=>{let t=document.querySelector(e),r=n.current;null!=t&&null!=r&&(t.focus(),r.scrollIntoViewNode({node:t,padding:80}))},[n]),a=r.useCallback(()=>new Promise(e=>{let t=n.current;if(null==t)return e();t.scrollTo({to:0,callback:()=>requestAnimationFrame(()=>e())})}),[n]),c=r.useCallback(()=>new Promise(e=>{let t=n.current;if(null==t)return e();t.scrollTo({to:Number.MAX_SAFE_INTEGER,callback:()=>requestAnimationFrame(()=>e())})}),[n]);return(0,i.ZP)({id:e,isEnabled:u,setFocus:s,scrollToStart:a,scrollToEnd:c,orientation:null==t?void 0:t.orientation})}},357352:function(e,n,t){t.d(n,{b:function(){return r}});function r(e){return"".concat("https://cdn.discordapp.com/assets","/").concat(e)}},201895:function(e,n,t){t.d(n,{ZP:function(){return c}}),t(653041);var r=t(131704),i=t(699516),o=t(594174),l=t(933557),u=t(981631),s=t(689938);function a(e){let{isSubscriptionGated:n,needSubscriptionToAccess:t}=e;if(n)return t?s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_LOCKED:s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_UNLOCKED}function c(e){let n,{channel:t,unread:c=!1,mentionCount:d=0,userCount:_,embeddedActivitiesCount:f,isSubscriptionGated:E,needSubscriptionToAccess:I}=e,g=(0,l.F6)(t,o.default,i.Z);switch(t.type){case u.d4z.DM:n=c?s.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL_WITH_UNREADS:s.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL;break;case u.d4z.GROUP_DM:n=c?s.Z.Messages.GROUP_MESSAGE_A11Y_LABEL_WITH_UNREADS:s.Z.Messages.GROUP_MESSAGE_A11Y_LABEL;break;case u.d4z.GUILD_STORE:n=s.Z.Messages.GUILD_SIDEBAR_STORE_CHANNEL_A11Y_LABEL;break;case u.d4z.GUILD_DIRECTORY:n=s.Z.Messages.GUILD_SIDEBAR_DIRECTORY_CHANNEL_A11Y_LABEL;break;case u.d4z.GUILD_ANNOUNCEMENT:n=d>0?s.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:c?s.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_UNREADS:s.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL;break;case u.d4z.GUILD_VOICE:let p=[s.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL.format({channelName:t.name})];if(d>0&&p.push(s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:d})),c&&p.push(s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD),null!=_){let e=t.userLimit;null!=e&&e>0?p.push(s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_LIMIT.format({userCount:_,limit:e})):p.push(s.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL_USERS.format({userCount:_}))}null!=f&&f>0&&p.push(s.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_ACTIVITIES.format({activitiesCount:f}));let C=a({isSubscriptionGated:E,needSubscriptionToAccess:I});return null!=C&&p.push(C),p.join(", ");case u.d4z.GUILD_STAGE_VOICE:n=s.Z.Messages.GUILD_SIDEBAR_STAGE_CHANNEL_A11Y_LABEL;break;default:n=r.Ec.has(t.type)?d>0?s.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS:c?s.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS:s.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL:d>0?s.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:c?s.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_UNREADS:s.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL}let T=[n.format({channelName:g,mentionCount:d})],S=a({isSubscriptionGated:E,needSubscriptionToAccess:I});return null!=S&&T.push(S),T.join(", ")}},17079:function(e,n,t){t.d(n,{T:function(){return o}});var r=t(570140),i=t(155414);async function o(e,n){r.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH",guildId:e,priceTierType:n});try{let t=await i.X(e,n);r.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH_SUCCESS",guildId:e,priceTierType:n,priceTiers:t})}catch(t){r.Z.dispatch({type:"CREATOR_MONETIZATION_PRICE_TIERS_FETCH_FAILURE",guildId:e,priceTierType:n})}}},333866:function(e,n,t){t.d(n,{a3:function(){return l},eJ:function(){return s},kL:function(){return a},zJ:function(){return o}});var r,i,o,l,u=t(689938);function s(e){return({4:u.Z.Messages.GUILD_STORE_SORT_OPTION_NEWEST_ARRIVALS,2:u.Z.Messages.GUILD_STORE_SORT_OPTION_PRICE_ASC,3:u.Z.Messages.GUILD_STORE_SORT_OPTION_PRICE_DESC,1:u.Z.Messages.GUILD_STORE_SORT_OPTION_NAME})[e]}(r=o||(o={}))[r.NAME=1]="NAME",r[r.PRICE_ASC=2]="PRICE_ASC",r[r.PRICE_DESC=3]="PRICE_DESC",r[r.NEWEST_ARRIVALS=4]="NEWEST_ARRIVALS",(i=l||(l={}))[i.SUBS_FIRST=1]="SUBS_FIRST",i[i.PRODUCTS_FIRST=2]="PRODUCTS_FIRST";let a=[4,2,3,1]},76535:function(e,n,t){t.d(n,{H:function(){return a},R:function(){return s}});var r=t(470079),i=t(442837),o=t(584825),l=t(17079),u=t(281320);function s(e,n){let t=(0,i.e7)([u.Z],()=>u.Z.getPriceTiersForGuildAndType(e,n)),o=(0,i.e7)([u.Z],()=>u.Z.getPriceTiersFetchStateForGuildAndType(e,n));return r.useEffect(()=>{o===u.M.NOT_FETCHED&&(0,l.T)(e,n)},[e,o,n]),{loading:o===u.M.FETCHING,priceTiers:t}}function a(e){let{fetchSubscriptionsSettings:n,loading:t,error:i}=(0,o.JH)();r.useEffect(()=>{n(e)},[n,e]);let l=(0,o.YB)(e);return{loaded:null!=l&&!t,subscriptionsSettings:l,loading:t,error:i}}},155414:function(e,n,t){t.d(n,{X:function(){return l}});var r=t(544891),i=t(881052),o=t(981631);let l=async(e,n)=>{try{return(await r.tn.get({url:o.ANM.PRICE_TIERS,query:{price_tier_type:n,guild_id:e}})).body}catch(e){throw new i.Hx(e)}}},281320:function(e,n,t){t.d(n,{M:function(){return r}}),t(47120);var r,i,o,l,u,s,a=t(442837),c=t(570140);let d=new Map,_=new Map;(o=r||(r={}))[o.NOT_FETCHED=0]="NOT_FETCHED",o[o.FETCHING=1]="FETCHING",o[o.FETCHED=2]="FETCHED";class f extends(i=a.ZP.Store){getPriceTiersFetchStateForGuildAndType(e,n){var t,r;return null!==(r=null===(t=_.get(e))||void 0===t?void 0:t.get(n))&&void 0!==r?r:0}getPriceTiersForGuildAndType(e,n){var t;return null===(t=d.get(e))||void 0===t?void 0:t.get(n)}}s="CreatorMonetizationStore",(u="displayName")in(l=f)?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,n.Z=new f(c.Z,{CONNECTION_OPEN:function(){d.clear(),_.clear()},CREATOR_MONETIZATION_PRICE_TIERS_FETCH:function(e){let{guildId:n,priceTierType:t}=e;!_.has(n)&&_.set(n,new Map),_.get(n).set(t,1)},CREATOR_MONETIZATION_PRICE_TIERS_FETCH_SUCCESS:function(e){let{guildId:n,priceTierType:t,priceTiers:r}=e;!_.has(n)&&_.set(n,new Map),_.get(n).set(t,2),!d.has(n)&&d.set(n,new Map),d.get(n).set(t,r)},CREATOR_MONETIZATION_PRICE_TIERS_FETCH_FAILURE:function(e){let{guildId:n,priceTierType:t}=e;!_.has(n)&&_.set(n,new Map),_.get(n).set(t,2)}})},834431:function(e,n,t){t.d(n,{n:function(){return i}});var r=t(506071);function i(){return(0,r.n)()}},166081:function(e,n,t){t.d(n,{U:function(){return u}});var r=t(470079),i=t(695346),o=t(73346),l=t(834431);function u(e,n){let{shouldAnimate:t=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i.QK.useSetting(),s=(0,l.n)(),a=t&&s&&u;return r.useMemo(()=>{if((null==e?void 0:e.image_asset)!=null)return(0,o._W)(e.application_id,e.image_asset,n,a?void 0:"webp")},[n,e,a])}},629481:function(e,n,t){var r,i,o,l;t.d(n,{Hr:function(){return u},P4:function(){return a},TR:function(){return c},mz:function(){return r},tM:function(){return s},xv:function(){return i}}),(o=r||(r={})).GET_STARTED_CLICK="get_started_click",o.DISMISS_FULL_PREVIEW="dismiss_full_preview",o.DISMISS_TAB_PREVIEW="dismiss_tab_preview",o.DISMISS_CHANNEL_ROW="dismiss_channel_row",(l=i||(i={})).CHANNEL_ROW_CONTEXT_MENU="channel_row_context_menu",l.SHOP_HEADER_BUTTON="shop_header_button";let u="hasClickedGuildShopProductPreviewTab",s="hasClickedGuildShopChannelRow",a="https://discord.com/servershop",c="1 GB"},841762:function(e,n,t){t.d(n,{Z:function(){return c}}),t(47120);var r=t(735250),i=t(470079),o=t(120356),l=t.n(o),u=t(481060),s=t(794201);function a(e){let{alt:n,...t}=e,[o,l]=i.useState(!0);return(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsx)(u.Spinner,{type:u.Spinner.Type.LOW_MOTION,className:s.loader}),(0,r.jsx)("img",{...t,alt:n,onLoad:()=>l(!1)})]})}function c(e){let{src:n,backgroundSrc:t,alt:i,aspectRatio:o,className:u,imageChildClassName:c,...d}=e;return(0,r.jsxs)("div",{className:l()(s.container,u),children:[(0,r.jsx)("img",{src:t,alt:i,className:s.backgroundImage}),(0,r.jsx)("div",{className:s.backgroundImageFilter}),(0,r.jsx)("div",{style:{aspectRatio:o},className:s.imageContainer,children:(0,r.jsx)(a,{src:n,alt:i,className:l()(s.image,c),...d})})]})}},479099:function(e,n,t){t.d(n,{Z:function(){return p},f:function(){return C}}),t(47120);var r,i,o=t(735250),l=t(470079),u=t(120356),s=t.n(u),a=t(91192),c=t(442837),d=t(481060),_=t(596454),f=t(607070),E=t(339085),I=t(689938),g=t(597677);function p(e){let{tag:n,size:t=1,disabled:r,className:i,onClick:u,onRemove:p,selected:C,ariaLabel:T}=e,{name:S,emojiId:m,emojiName:h}=n,N=null!=p,[A,v]=l.useState(!1),R=(0,c.e7)([E.Z],()=>null!=m?E.Z.getUsableCustomEmojiById(m):null),L=N||null!=u,b=(!N||!A)&&(null!=m||null!=h),M=0===t,O=l.useRef(null),Z=(0,c.e7)([f.Z],()=>f.Z.keyboardModeEnabled),D=(0,o.jsxs)(o.Fragment,{children:[b?(0,o.jsx)(_.Z,{className:s()(g.emoji,{[g.small]:M}),emojiId:m,emojiName:h,animated:!!(null==R?void 0:R.animated),size:"reaction"}):null,A&&N&&(0,o.jsx)("div",{className:g.closeCircle,children:(0,o.jsx)(d.CloseSmallIcon,{size:"md",color:"currentColor",className:g.close})}),(0,o.jsx)(d.Text,{variant:M?"text-xs/semibold":"text-sm/semibold",lineClamp:1,children:S})]}),P={key:n.id,className:s()(g.pill,{[g.disabled]:r,[g.clickable]:L,[g.small]:M,[g.selected]:C},i),onClick:e=>{null==u||u(e),null==p||p(n),!Z&&null!=O.current&&O.current.blur()},onMouseEnter:()=>N&&v(!0),onMouseLeave:()=>N&&v(!1)},U=(0,a.JA)("forum-tag-".concat(n.id));return L?(0,o.jsx)(d.Clickable,{...U,innerRef:O,focusProps:{ringTarget:O},"aria-label":null!=T?T:I.Z.Messages.FORUM_TAG_A11Y_FILTER_BY_TAG.format({tagName:S}),role:"button","aria-pressed":C,...P,children:D}):(0,o.jsx)("div",{...P,children:D})}function C(e){let{tags:n,count:t,size:r=1}=e,i=0===r;return(0,o.jsx)(d.Tooltip,{"aria-label":I.Z.Messages.FORUM_TAGS,text:(0,o.jsx)(o.Fragment,{children:n.map(e=>(0,o.jsx)(p,{tag:e,className:g.tooltipPill,size:p.Sizes.SMALL},e.id))}),children:e=>(0,o.jsx)("div",{...e,className:s()(g.pill,{[g.small]:i}),children:(0,o.jsxs)(d.Text,{variant:i?"text-xs/semibold":"text-sm/semibold",children:["+",t]})})})}(i=r||(r={}))[i.SMALL=0]="SMALL",i[i.MEDIUM=1]="MEDIUM",p.Sizes=r},528011:function(e,n,t){t.d(n,{g:function(){return C},mI:function(){return p}}),t(47120);var r=t(149765),i=t(399606),o=t(581883),l=t(430824),u=t(496675),s=t(914010),a=t(594174),c=t(700785),d=t(709054),_=t(154285),f=t(533244),E=t(487419),I=t(676770),g=t(981631);function p(e){let{showAlertMode:n}=(0,_.sw)(null!=e?e:g.aIL),t=(0,i.e7)([l.Z,u.Z],()=>{let n=l.Z.getGuild(e);if(null==n)return!1;let t=u.Z.getGuildPermissions(n);return null!=t&&r.Db(t,I.cv)}),o=(0,i.e7)([E.Z],()=>null!=e?E.Z.getGuildIncident(e):null),s=null!=o&&(0,f.ur)(o);return{shouldShowIncidentActions:t&&n,incidentData:o,isUnderLockdown:s}}function C(){var e;let n=function(e){let n=a.default.getCurrentUser(),t=E.Z.getIncidentsByGuild();for(let i of d.default.keys(t).map(e=>l.Z.getGuild(e))){if(null==i)continue;let o=t[i.id];if(!(null==o||!(0,f.i9)(o)&&!(0,f.ur)(o)||(0,f.ur)(o)&&i.id!==e)){if(r.Db(c.uB({user:n,context:i,checkElevated:!1}),I.cv))return i.id}}return null}(s.Z.getGuildId()),{showAlertMode:t}=(0,_.jy)(null!=n?n:g.aIL),i=null!==(e=o.Z.getGuildsProto())&&void 0!==e?e:{},u=null!=n?i[n]:null,p=null!=u&&u.disableRaidAlertNag;return{show:null!=n&&t&&!p,guildId:n}}},223606:function(e,n,t){t(724458);var r,i=t(442837),o=t(570140),l=t(673750),u=t(786761),s=t(592125),a=t(375954),c=t(709054),d=t(539573),_=t(825829),f=t(981631);function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}let I={},g=0,p={},C={},T=(e,n)=>{let t=(0,l.hc)(e),r={id:t,isBlockedEdit:(0,l.Bz)(e),messageData:e,errorMessage:(0,d.uF)(e,n)};I[t]=r,g++},S=e=>I[e],m=e=>{null!=I[e]&&delete I[e],g++};function h(e){let{messageData:n,errorResponseBody:t}=e;return T(n,t),!0}function N(e){var n;let{channelId:t,messages:r}=e,i=null===(n=s.Z.getChannel(t))||void 0===n?void 0:n.getGuildId();if(null==i)return!1;let o=C[i],l=r.reduce((e,n)=>{var t;return n.type===f.uaV.AUTO_MODERATION_ACTION&&(null===(t=n.embeds)||void 0===t?void 0:t.some(e=>{let{type:n}=e;return n===f.hBH.AUTO_MODERATION_NOTIFICATION}))?null==e||-1===c.default.compare(e,n.id)?n.id:void 0:e},o);return null!=l&&C[i]!==l&&(C[i]=l,!0)}class A extends(r=i.ZP.PersistedStore){initialize(e){this.waitFor(a.Z),null!=e&&(I=e.automodFailedMessages,p=e.mentionRaidDetectionByGuild)}getState(){return{automodFailedMessages:I,mentionRaidDetectionByGuild:p,lastIncidentAlertMessage:C}}getMessage(e){var n;return null==e?null:null!==(n=S(e))&&void 0!==n?n:null}getMessagesVersion(){return g}getMentionRaidDetected(e){var n;return null!==(n=p[e])&&void 0!==n?n:null}getLastIncidentAlertMessage(e){var n;return null!==(n=C[e])&&void 0!==n?n:null}}E(A,"displayName","GuildAutomodMessageStore"),E(A,"persistKey","GuildAutomodMessages"),n.Z=new A(o.Z,{CONNECTION_OPEN:function(e){return I={},g++,!0},LOAD_MESSAGES_SUCCESS:N,LOCAL_MESSAGES_LOADED:N,MESSAGE_CREATE:function(e){let{guildId:n,message:t}=e;if(null==n||t.type!==f.uaV.AUTO_MODERATION_ACTION)return!1;let r=(0,u.e5)(t);return!!(0,_.nY)(r)&&!!(0,_.OP)(r)&&(C[n]=r.id,!0)},MESSAGE_SEND_FAILED_AUTOMOD:h,MESSAGE_EDIT_FAILED_AUTOMOD:h,REMOVE_AUTOMOD_MESSAGE_NOTICE:function(e){let{messageId:n}=e;return m(n),!0},MESSAGE_END_EDIT:function(e){let{response:n}=e;if((null==n?void 0:n.body)==null||n.body.code===f.evJ.AUTOMOD_MESSAGE_BLOCKED)return!1;let t=n.body.id;if(null==t)return!1;m(t)},AUTO_MODERATION_MENTION_RAID_DETECTION:function(e){let{guildId:n,decisionId:t,suspiciousMentionActivityUntil:r}=e;return p[n]={guildId:n,decisionId:t,suspiciousMentionActivityUntil:r},!0},AUTO_MODERATION_MENTION_RAID_NOTICE_DISMISS:function(e){let{guildId:n}=e;return delete p[n],!0}})},290034:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(735250);t(470079);var i=t(120356),o=t.n(i),l=t(797717),u=t(471885),s=t(981631),a=t(534457);let c={[s.Eu4.NONE]:a.iconBackgroundTierNone,[s.Eu4.TIER_1]:a.iconBackgroundTierOne,[s.Eu4.TIER_2]:a.iconBackgroundTierTwo,[s.Eu4.TIER_3]:a.iconBackgroundTierThree},d={[s.Eu4.NONE]:a.iconTierNone,[s.Eu4.TIER_1]:a.iconTierOne,[s.Eu4.TIER_2]:a.iconTierTwo,[s.Eu4.TIER_3]:a.iconTierThree};function _(e){let{premiumTier:n,iconBackgroundClassName:t,iconClassName:i,size:s}=e;return(0,r.jsx)(l.Z,{className:o()(t,c[n]),size:s,children:(0,r.jsx)(u.Z,{tier:n,className:o()(i,a.boostedGuildIconGem,d[n])})})}},527379:function(e,n,t){t.d(n,{Dr:function(){return E},YO:function(){return _},_X:function(){return I},_o:function(){return f},nb:function(){return g},zO:function(){return d}});var r=t(570140),i=t(434404),o=t(703656),l=t(430824),u=t(241559),s=t(327999),a=t(981631),c=t(176505);async function d(e){await r.Z.dispatch({type:"INITIALIZE_MEMBER_SAFETY_STORE",guildId:e})}function _(e){r.Z.dispatch({type:"MEMBER_SAFETY_NEW_MEMBER_TIMESTAMP_REFRESH",guildId:e})}function f(e,n){let{continuationToken:t,...i}=n;r.Z.dispatch({type:"MEMBER_SAFETY_PAGINATION_UPDATE",guildId:e,pagination:i})}async function E(e,n){await r.Z.dispatch({type:"MEMBER_SAFETY_SEARCH_STATE_UPDATE",guildId:e,searchState:n})}function I(e){let n=(0,u.lv)(e),t=l.Z.getGuild(e);return!!n&&null!=t&&(t.hasFeature(a.oNc.COMMUNITY)||t.hasFeature(a.oNc.ENABLED_MODERATION_EXPERIENCE_FOR_NON_COMMUNITY)?((0,o.uL)(a.Z5c.CHANNEL(e,c.oC.MEMBER_SAFETY)),!0):(i.Z.open(t.id,a.pNK.MEMBERS),!0))}async function g(e,n){let t=await (0,s._2)(e,n);return 0===t.length?[]:(await r.Z.dispatch({type:"FETCH_GUILD_MEMBER_SUPPLEMENTAL_SUCCESS",guildId:e,memberSupplementals:t}),t)}},495437:function(e,n,t){t.d(n,{EB:function(){return l},Je:function(){return s},cf:function(){return u},mh:function(){return a}});var r=t(570140),i=t(881052),o=t(824389);let l=async e=>{r.Z.dispatch({type:"GUILD_PRODUCTS_FETCH",guildId:e});try{let n=await o.uV(e);r.Z.dispatch({type:"GUILD_PRODUCTS_FETCH_SUCCESS",guildId:e,products:n})}catch(n){r.Z.dispatch({type:"GUILD_PRODUCTS_FETCH_FAILURE",guildId:e})}},u=async(e,n)=>{r.Z.dispatch({type:"GUILD_PRODUCT_FETCH",productId:n});try{let t=await o.p9(e,n);return r.Z.dispatch({type:"GUILD_PRODUCT_FETCH_SUCCESS",product:t}),t}catch(e){throw r.Z.dispatch({type:"GUILD_PRODUCT_FETCH_FAILURE",productId:n,error:new i.Hx(e)}),e}};async function s(e,n,t){let i=await o.Je(e,n,t);return r.Z.dispatch({type:"GUILD_PRODUCT_UPDATE",product:i}),i}async function a(e,n){return await o.mh(e,n),r.Z.dispatch({type:"GUILD_PRODUCT_DELETE",productId:n}),!0}},267101:function(e,n,t){t.d(n,{SO:function(){return g},eD:function(){return _},hO:function(){return f},r:function(){return I},ue:function(){return E}}),t(47120);var r=t(470079),i=t(442837);t(935369);var o=t(38618),l=t(160404),u=t(496675),s=t(914010),a=t(495437),c=t(240864),d=t(981631);let _=e=>{let n=(0,i.e7)([c.Z],()=>null!=e?c.Z.getGuildProductsForGuildFetchState(e):c.M.FETCHED,[e]),t=(0,i.e7)([o.Z],()=>o.Z.isConnected()),[l,u]=r.useState(!0);return r.useEffect(()=>{l&&(n===c.M.NOT_FETCHED||n===c.M.FETCHED&&c.Z.isGuildProductsCacheExpired(e))&&t&&a.EB(e),u(!t)},[e,t,n,l]),{listingsLoaded:n===c.M.FETCHED&&!l}},f=function(e,n){let{requireCurrentGuild:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{requireCurrentGuild:!0},l=(0,i.e7)([o.Z],()=>o.Z.isConnected()),u=(0,i.e7)([s.Z],()=>s.Z.getGuildId());return r.useEffect(()=>{let r=c.Z.getGuildProductFetchState(n);if((!t||u===e)&&l&&r===c.M.NOT_FETCHED)try{a.cf(e,n)}catch(e){}},[e,n,l,u,t]),(0,i.e7)([c.Z],()=>c.Z.getGuildProduct(n))},E=function(e){let{publishedOnly:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.e7)([c.Z,l.Z],()=>c.Z.getGuildProductsForGuild(e,{publishedOnly:null!=n?n:!l.Z.isViewingServerShop(e)}))},I=e=>(0,i.e7)([c.Z],()=>null==e?void 0:c.Z.getGuildProduct(e)),g=e=>(0,i.e7)([u.Z],()=>null!=e&&u.Z.can(d.Plq.ADMINISTRATOR,e))},824389:function(e,n,t){t.d(n,{Je:function(){return u},gs:function(){return d},mh:function(){return s},p9:function(){return c},uV:function(){return a}});var r=t(544891),i=t(881052),o=t(73346),l=t(981631);let u=async(e,n,t)=>{let{priceTier:o,imageName:u,createNewRole:s,unlinkRole:a,...c}=t;try{return(await r.tn.patch({url:l.ANM.GUILD_PRODUCT_LISTINGS(e,n),body:{...c,image_name:u,price_tier:o,create_new_role:s,unlink_role:a}})).body}catch(e){throw new i.Hx(e)}},s=async(e,n)=>{try{await r.tn.del({url:l.ANM.GUILD_PRODUCT_LISTINGS(e,n)})}catch(e){throw new i.Hx(e)}},a=async e=>{try{return(await (0,o.Kb)({url:l.ANM.GUILD_PRODUCT_LISTINGS(e)})).body.listings}catch(e){throw new i.Hx(e)}},c=async(e,n)=>{try{return(await (0,o.Kb)({url:l.ANM.GUILD_PRODUCT_LISTINGS(e,n)})).body}catch(e){throw new i.Hx(e)}},d=async e=>{let{guildId:n,productId:t,attachmentId:o}=e;try{return(await r.tn.post({url:l.ANM.GUILD_PRODUCT_ATTACHMENT_DOWNLOAD(n,t,o)})).body}catch(e){throw new i.Hx(e)}}},240864:function(e,n,t){t.d(n,{M:function(){return r}}),t(653041),t(47120);var r,i,o,l,u,s,a=t(442837),c=t(759174),d=t(570140),_=t(70956),f=t(709054);(o=r||(r={}))[o.NOT_FETCHED=0]="NOT_FETCHED",o[o.FETCHING=1]="FETCHING",o[o.FETCHED=2]="FETCHED";let E={},I={},g={},p=10*_.Z.Millis.MINUTE;function C(e){return"guild:".concat(e)}function T(e){return"guild:".concat(e,":published")}let S=new c.h(e=>{let n=[C(e.guild_id)];return e.published&&n.push(T(e.guild_id)),n},e=>(function(e){let n=f.default.extractTimestamp(e.id);return e.published?-n:-n+1e12})(e)),m=[];class h extends(i=a.ZP.Store){getGuildProductsForGuildFetchState(e){var n;return null!==(n=E[e])&&void 0!==n?n:0}getGuildProduct(e){return S.get(e)}getGuildProductsForGuild(e,n){let{publishedOnly:t}=n;return null==e?m:S.values(t?T(e):C(e))}getGuildProductFetchState(e){var n;return null!==(n=I[e])&&void 0!==n?n:0}isGuildProductsCacheExpired(e){var n;return Date.now()-(null!==(n=g[e])&&void 0!==n?n:0)>p}}s="GuildProductsStore",(u="displayName")in(l=h)?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,n.Z=new h(d.Z,{CONNECTION_OPEN:function(){S.clear(),E={},I={},g={}},GUILD_PRODUCTS_FETCH:function(e){let{guildId:n}=e;E[n]=1,[...S.values(C(n))].forEach(e=>{S.delete(e.id)})},GUILD_PRODUCTS_FETCH_SUCCESS:function(e){let{guildId:n,products:t}=e;E[n]=2,g[n]=Date.now(),t.forEach(e=>{S.set(e.id,e),I[e.id]=2})},GUILD_PRODUCTS_FETCH_FAILURE:function(e){let{guildId:n}=e;E[n]=2},GUILD_PRODUCT_CREATE:function(e){let{product:n}=e;S.set(n.id,n)},GUILD_PRODUCT_UPDATE:function(e){let{product:n}=e;S.set(n.id,n)},GUILD_PRODUCT_DELETE:function(e){let{productId:n}=e;S.delete(n)},GUILD_PRODUCT_FETCH:function(e){let{productId:n}=e;I[n]=1},GUILD_PRODUCT_FETCH_SUCCESS:function(e){let{product:n}=e;I[n.id]=2,S.set(n.id,n)},GUILD_PRODUCT_FETCH_FAILURE:function(e){let{productId:n,error:t}=e;I[n]=2,404===t.status&&S.delete(n)}})},863663:function(e,n,t){t.d(n,{NB:function(){return l},ar:function(){return c},fG:function(){return a},kg:function(){return u},pM:function(){return s}});var r=t(881052);t(496675);var i=t(981631),o=t(689938);let l="_role";function u(e){if(!(e>=0))switch(-e){case i.evJ.ENTITY_TOO_LARGE:return o.Z.Messages.UPLOAD_ERROR_TOO_LARGE;case i.evJ.INVALID_SKU_ATTACHMENT_NO_ARCHIVES:return o.Z.Messages.GUILD_PRODUCT_ERROR_NO_ARCHIVES;case 1:return o.Z.Messages.ERROR_GENERIC_TITLE;default:return o.Z.Messages.GUILD_PRODUCT_ERROR_OTHER_CODE.format({code:-e})}}function s(e){let{newRoleParams:n}=e;if(null!=n&&""===n.name.trim()){var t,i;return t=l,i=o.Z.Messages.GUILD_PRODUCT_ERROR_EMPTY_ROLE_NAME,new r.Hx({status:400,body:{message:"Invalid form body",errors:{[t]:{_errors:[{code:"",message:i}]}}}})}}function a(e){var n;let{guildProductListing:t,name:r,priceTier:i,description:o,image:l,imageName:u,isImageChanged:s,newRoleParams:a,hasUnsavedAttachmentChanges:c}=e,d={};(null==t?void 0:t.name)!==r&&""!==r.trim()&&(d.name=r),(null!==(n=null==t?void 0:t.description)&&void 0!==n?n:"")!==o&&(d.description=o),(null==t?void 0:t.price_tier)!==i&&null!=i&&(d.priceTier=i),null!=a&&""!==a.name.trim()?d.createNewRole=!0:null===a&&(d.unlinkRole=!0),l.startsWith("data:")&&(s||null==t&&(Object.keys(d).length>0||c))&&(d.image=l,d.imageName=u);let _=Object.keys(d).length>0||c;return{changes:d,hasUnsavedChanges:_,canSaveForDraft:_,canSaveForPublished:_,canPublishOrUnpublish:!(null==t||_)}}function c(e,n){return"".concat(location.protocol,"//").concat(location.host).concat(i.Z5c.GUILD_PRODUCT(e,n))}},676651:function(e,n,t){t.d(n,{h:function(){return l}});var r=t(735250);t(470079);var i=t(481060),o=t(302463);function l(e,n){(0,i.openModalLazy)(async()=>{let{default:i}=await t.e("73628").then(t.bind(t,458961));return t=>(0,r.jsx)(i,{guildId:e,productId:n,...t})},{modalKey:o.Yz})}},942833:function(e,n,t){t.d(n,{C:function(){return l},k:function(){return u}});var r=t(470079),i=t(937615),o=t(689938);function l(e){return r.useMemo(()=>{if(null==e)return;let n=null!=e.role_id,t=e.attachments_count>0;if(n&&t)return o.Z.Messages.GUILD_PRODUCT_CARD_TYPE_DOWNLOADABLE_AND_ROLE;if(n)return o.Z.Messages.GUILD_PRODUCT_CARD_TYPE_ROLE;if(t)return o.Z.Messages.GUILD_PRODUCT_CARD_TYPE_DOWNLOADABLE},[e])}function u(e){return r.useMemo(()=>{if((null==e?void 0:e.price)==null)return;let{amount:n,currency:t}=e.price;return(0,i.T4)(n,t)},[e])}},613810:function(e,n,t){var r=t(735250);t(470079);var i=t(481060);n.Z={open:function(e){(0,i.openModalLazy)(async()=>{let{default:n}=await t.e("53162").then(t.bind(t,490576));return t=>(0,r.jsx)(n,{...e,...t})})}}},391181:function(e,n,t){t.d(n,{Z:function(){return p},m:function(){return g}});var r=t(735250);t(470079);var i=t(120356),o=t.n(i),l=t(481060),u=t(239091),s=t(166081),a=t(937615),c=t(942833),d=t(48691),_=t(231338),f=t(689938),E=t(171186);function I(e){let{showEditProduct:n,showUnpublishProduct:t,showCopyLink:i,showTestDownload:o,showDeleteProduct:u,showReportProduct:s,onEditProduct:a,onUnpublishProduct:c,onDeleteProduct:d,onCopyLink:_,onTestDownload:I,onReportProduct:g,closePopout:p,onSelect:C}=e;return(0,r.jsx)("div",{className:E.menuContainer,children:(0,r.jsxs)(l.Menu,{navId:"guild-product-context",onClose:p,"aria-label":f.Z.Messages.GUILD_PRODUCTS_ACTION_MENU_LABEL,onSelect:C,children:[(0,r.jsxs)(l.MenuGroup,{children:[n&&(0,r.jsx)(l.MenuItem,{id:"guild-product-edit",label:f.Z.Messages.GUILD_PRODUCT_EDIT,action:a}),i&&(0,r.jsx)(l.MenuItem,{id:"guild-product-copy-link",label:f.Z.Messages.GUILD_PRODUCT_COPY_LINK,icon:l.LinkIcon,action:_}),o&&(0,r.jsx)(l.MenuItem,{id:"guild-product-test-download",label:f.Z.Messages.GUILD_PRODUCT_TEST_DOWNLOAD,icon:l.DownloadIcon,action:I})]}),(0,r.jsxs)(l.MenuGroup,{children:[t&&(0,r.jsx)(l.MenuItem,{id:"guild-product-unpublish",label:f.Z.Messages.GUILD_PRODUCT_UNPUBLISH,action:c}),u&&(0,r.jsx)(l.MenuItem,{id:"guild-product-delete",label:f.Z.Messages.GUILD_PRODUCT_DELETE,color:"danger",action:d})]}),(0,r.jsx)(l.MenuGroup,{children:s&&(0,r.jsx)(l.MenuItem,{id:"guild-product-report",label:f.Z.Messages.GUILD_PRODUCT_REPORT,color:"danger",action:g})})]})})}function g(e){let{product:n,guildId:t,showEditProduct:i,showUnpublishProduct:o,showTestDownload:u,showCopyLink:s,showDeleteProduct:a,showReportProduct:c,onEditProduct:d,onUnpublishProduct:_,onDeleteProduct:g,onCopyProductLink:p,onTestDownload:C,onReportProduct:T}=e;return(0,r.jsx)("div",{onClick:e=>{e.stopPropagation()},children:(0,r.jsx)(l.Popout,{position:"right",align:"top",spacing:-8,animation:l.Popout.Animation.FADE,renderPopout:e=>(0,r.jsx)(I,{...e,guildId:t,productId:n.id,showEditProduct:i,showUnpublishProduct:o,showCopyLink:s,showTestDownload:u,showReportProduct:c,showDeleteProduct:a,onEditProduct:d,onUnpublishProduct:_,onDeleteProduct:g,onCopyLink:p,onTestDownload:C,onReportProduct:T}),children:(e,t)=>{let{isShown:i}=t;return(0,r.jsx)(l.Clickable,{...e,"aria-label":f.Z.Messages.GUILD_PRODUCTS_ACTION_MENU_BUTTON_ARIA_LABEL.format({productName:n.name}),"aria-haspopup":"listbox","aria-expanded":i,className:E.productActionMenuButton,children:(0,r.jsx)(l.MoreVerticalIcon,{size:"md",color:"currentColor",className:E.productActionMenuIcon,"aria-hidden":!0})})}})})}function p(e){let{product:n,guildId:t,onEditProduct:i,onUnpublishProduct:p,onDeleteProduct:C,onCopyProductLink:T,onTestDownload:S,disabled:m=!1}=e,h=(0,s.U)(n,600),N=null!==n.price_tier?(0,a.T4)(n.price_tier,_.pK.USD):void 0,A=(0,c.C)(n);return(0,r.jsxs)(l.ClickableContainer,{tag:"article",className:o()(E.productCardClickable,E.productCard,{[E.disabled]:m}),onClick:m?void 0:i,onContextMenu:function(e){(0,u.jW)(e,()=>Promise.resolve(e=>(0,r.jsx)(I,{...e,closePopout:u.Zy,guildId:t,productId:n.id,showEditProduct:!0,showUnpublishProduct:n.published,showCopyLink:n.published,showTestDownload:null!=n.attachments,showDeleteProduct:!0,showReportProduct:!1,onEditProduct:i,onUnpublishProduct:p,onDeleteProduct:C,onCopyLink:T,onTestDownload:S,onReportProduct:()=>{}})))},"aria-label":f.Z.Messages.GUILD_PRODUCT_EDIT_ARIA_LABEL.format({productName:n.name}),children:[(0,r.jsx)("img",{alt:"",src:h,className:E.productThumbnail}),(0,r.jsxs)("div",{className:E.productInfo,children:[(0,r.jsxs)("div",{className:E.productInfoContent,children:[(0,r.jsx)(l.Heading,{variant:"text-md/semibold",color:"header-primary",className:E.productName,children:n.name}),(0,r.jsx)(l.Spacer,{size:8}),(0,r.jsxs)("div",{className:E.productDetails,children:[(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:N}),null!=A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:E.dotSeparator}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:A})]}):null]}),(0,r.jsx)(l.Spacer,{size:16}),n.published?(0,r.jsx)(d.t,{}):(0,r.jsx)(d.b,{})]}),!m&&(0,r.jsx)(g,{product:n,guildId:t,showEditProduct:!0,showUnpublishProduct:n.published,showCopyLink:n.published,showTestDownload:null!=n.attachments,showDeleteProduct:!0,showReportProduct:!1,onEditProduct:i,onUnpublishProduct:p,onDeleteProduct:C,onCopyProductLink:T,onTestDownload:S,onReportProduct:()=>{}})]})]})}},48691:function(e,n,t){t.d(n,{b:function(){return _},t:function(){return d}});var r=t(735250);t(470079);var i=t(481060),o=t(44315),l=t(377171),u=t(981631),s=t(689938),a=t(402462);function c(e){let{label:n,backgroundColor:t=l.Z.BUTTON_SECONDARY_BACKGROUND,icon:o,iconColor:u}=e;return(0,r.jsxs)("div",{className:a.badge,style:{backgroundColor:t},children:[(0,r.jsx)(i.Text,{variant:"text-sm/normal",color:"always-white",className:a.__invalid_badgeText,children:n}),(0,r.jsx)(o,{className:a.badgeIcon,color:null!=u?u:"currentColor","aria-hidden":!0})]})}function d(){return(0,r.jsx)(c,{label:s.Z.Messages.GUILD_PRODUCT_STATUS_BADGE_PUBLISHED,backgroundColor:"#207B8D",icon:i.SparklesIcon})}function _(){return(0,r.jsx)(c,{label:s.Z.Messages.GUILD_PRODUCT_STATUS_BADGE_DRAFT,icon:i.PencilIcon,iconColor:(0,o.Lq)(u.Ilk.PRIMARY_330)})}},730647:function(e,n,t){t.d(n,{f:function(){return c},l:function(){return d}}),t(411104);var r=t(735250),i=t(470079),o=t(399606),l=t(38618),u=t(423117),s=t(289393);let a=i.createContext(void 0);function c(e){let n=i.useContext(a);if(null==n)throw Error("".concat(null!=e?e:"useGroupListingsFetchContext"," must be used within a GroupListingsFetchContextProvider"));let{listingsLoaded:t,fetchGroupListingsForGuild:r}=n;return r(),t}function d(e){let{guildId:n,children:t,refetchOnMount:c,includeSoftDeleted:d,countryCode:_,dontFetchWhileTrue:f}=e,E=(0,o.e7)([l.Z],()=>l.Z.isConnected()),I=(0,o.e7)([s.Z],()=>null!=n?s.Z.getSubscriptionGroupListingsForGuildFetchState(n):s.M.FETCHED),g=i.useRef(c),p=i.useCallback(()=>{if(null==n||!E||!0===f)return;let e=s.Z.getSubscriptionGroupListingsForGuildFetchState(n);(g.current||e===s.M.NOT_FETCHED)&&(g.current=!1,u.FP(n,{includeSoftDeleted:d,countryCode:_}))},[E,n,d,_,f]),C=i.useMemo(()=>I===s.M.FETCHED&&!0!==g.current,[I,g]);return(0,r.jsx)(a.Provider,{value:{listingsLoaded:C,fetchGroupListingsForGuild:p},children:t})}},523361:function(e,n,t){t.d(n,{HG:function(){return u},Md:function(){return l},Q8:function(){return o}});var r=t(373228),i=t(689938);let o=()=>[i.Z.Messages.ROLE_SUBSCRIPTION_JOIN_CTA_LABEL1,i.Z.Messages.ROLE_SUBSCRIPTION_JOIN_CTA_LABEL2],l=()=>[i.Z.Messages.ROLE_SUBSCRIPTION_RENEW_CTA_LABEL1,i.Z.Messages.ROLE_SUBSCRIPTION_RENEW_CTA_LABEL2],u=[{id:"781323471249604648",format_type:r.u3.APNG,description:"Cheerful Choco jumps out of gift box",name:"Surprise"},{id:"781324642736144424",format_type:r.u3.APNG,description:"Cheerful Choco preens against window",name:"Affection"},{id:"781323769960202280",format_type:r.u3.APNG,description:"Cheerful Choco sparkles",name:"OMG"},{id:"781324722394103808",format_type:r.u3.APNG,description:"Cheerful Choco cheers",name:"Cheer"},{id:"813951723822645278",format_type:r.u3.APNG,description:"Cheerful Choco gives thumbs up",name:"Nice"}]},35125:function(e,n,t){t.d(n,{PA:function(){return c},Tn:function(){return a},_i:function(){return g},eI:function(){return E},vp:function(){return f},y8:function(){return I}});var r=t(367907),i=t(200876),o=t(430824),l=t(594174);t(709054),t(523361);var u=t(981631),s=t(689938);function a(e){let{username:n,usernameOnClickHandler:t,roleSubscriptionOnClickHandler:r,guildId:i,roleSubscriptionData:o}=e,{content:l,formatParams:u}=_({username:n,usernameOnClickHandler:t,roleSubscriptionOnClickHandler:r,guildId:i,roleSubscriptionData:o});return l.format(u)}function c(e){let{username:n,usernameOnClickHandler:t,roleSubscriptionOnClickHandler:r,guildId:i,roleSubscriptionData:o}=e,{content:l,formatParams:u}=_({username:n,usernameOnClickHandler:t,roleSubscriptionOnClickHandler:r,guildId:i,roleSubscriptionData:o});return l.astFormat(u)}function d(e,n){var t,r;let i=o.Z.getGuild(e),l=null!==(t=null==n?void 0:n.total_months_subscribed)&&void 0!==t?t:0;return{guild:i,totalMonthsSubscribed:l,showWithDuration:l>0,isRenewal:null!==(r=null==n?void 0:n.is_renewal)&&void 0!==r&&r}}function _(e){let n,{username:t,usernameOnClickHandler:r,roleSubscriptionOnClickHandler:i,guildId:o,roleSubscriptionData:l}=e,{guild:u,totalMonthsSubscribed:a,showWithDuration:c,isRenewal:_}=d(o,l);return n=c?_?s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_RENEW_WITH_DURATION:s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_JOIN_WITH_DURATION:_?s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_RENEW:s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_JOIN,{content:n,formatParams:{username:t,usernameHook:r,guildName:null==u?void 0:u.name,handleGuildNameClick:i,tierName:null==l?void 0:l.tier_name,months:a}}}function f(e){let n,{username:t,usernameOnClickHandler:r=u.dG4,roleSubscriptionOnClickHandler:i=u.dG4,guildId:o,roleSubscriptionData:l}=e,{guild:a,totalMonthsSubscribed:c,showWithDuration:_,isRenewal:f}=d(o,l),E={guildName:null==a?void 0:a.name,tierName:null==l?void 0:l.tier_name,username:t,usernameOnClick:r,roleSubscriptionOnClick:i};return n=_?f?s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_RENEW_WITH_DURATION_MOBILE.astFormat({...E,months:c}):s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_JOIN_WITH_DURATION_MOBILE.astFormat({...E,months:c}):f?s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_RENEW_MOBILE.astFormat(E):s.Z.Messages.SYSTEM_MESSAGE_ROLE_SUBSCRIPTION_JOIN_MOBILE.astFormat(E)}function E(e){return(0,i.l)(e)}function I(e,n,t,i){var o;r.ZP.trackWithMetadata(u.rMx.ROLE_SUBSCRIPTION_PURCHASE_SYSTEM_MESSAGE_CLICKED,{guild_id:e,user_id:null===(o=l.default.getCurrentUser())||void 0===o?void 0:o.id,channel_id:n,message_id:t,role_subscription_listing_id:i})}function g(e,n){var t;return{guild_id:e.guild_id,sender:null===(t=l.default.getCurrentUser())||void 0===t?void 0:t.id,target_user:n.author.id,channel_id:e.id,message_id:n.id}}},817460:function(e,n,t){t.d(n,{JE:function(){return u},ab:function(){return l},iG:function(){return s},lL:function(){return c},rC:function(){return a}});var r=t(293810),i=t(474936),o=t(689938);function l(e){return"roles"in e?"emoji-".concat(e.id):"".concat(e.ref_type,"-").concat(e.emoji_id,"-").concat(e.name,"-").concat(e.ref_id)}function u(e){let{interval:n,interval_count:t}=e;return(function(e){switch(e){case i.rV.DAY:return o.Z.Messages.DAY;case i.rV.MONTH:return o.Z.Messages.MONTH;case i.rV.YEAR:return o.Z.Messages.YEAR}})(n).format({count:t})}function s(e){let{interval:n,interval_count:t}=e;switch(n){case i.rV.DAY:if(t>0&&t%7==0)return o.Z.Messages.DURATION_WEEKS_CAPITALIZE.format({weeks:t/7});return o.Z.Messages.DURATION_DAYS_CAPITALIZE.format({days:t});case i.rV.MONTH:return o.Z.Messages.DURATION_MONTHS_CAPITALIZE.format({months:t});case i.rV.YEAR:return o.Z.Messages.DURATION_YEARS_CAPITALIZE.format({years:t})}}function a(e){return e.ref_type===r.Qs.CHANNEL}function c(e){return e.ref_type===r.Qs.INTANGIBLE}},584825:function(e,n,t){t.d(n,{GG:function(){return I},HQ:function(){return S},JH:function(){return N},QV:function(){return h},YB:function(){return m},_1:function(){return T},_k:function(){return f},jO:function(){return E},oC:function(){return A},qi:function(){return g},r4:function(){return C},sp:function(){return p}}),t(47120),t(653041);var r=t(470079),i=t(442837),o=t(935369),l=t(38618);t(823379);var u=t(730647),s=t(423117),a=t(289393),c=t(697227);let d=[],_=function(e){let{refetchOnMount:n=!1,includeSoftDeleted:t=!0,countryCode:o,dontFetchWhileTrue:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(0,i.e7)([l.Z],()=>l.Z.isConnected()),d=(0,i.e7)([a.Z],()=>null!=e?a.Z.getSubscriptionGroupListingsForGuildFetchState(e):a.M.FETCHED),_=r.useRef(n);return r.useEffect(()=>{if(null==e||!c||!0===u)return;let r=a.Z.getSubscriptionGroupListingsForGuildFetchState(e);(n||r===a.M.NOT_FETCHED)&&(_.current=!1,s.FP(e,{includeSoftDeleted:t,countryCode:o}))},[c,e,t,n,o,u]),{listingsLoaded:d===a.M.FETCHED&&!0!==_.current}},f=function(e){let{includeSoftDeleted:n=!1,includeUnpublished:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Wu)([a.Z],()=>{if(null==e)return[];let r=a.Z.getSubscriptionGroupListing(e);if(null==r)return[];let i=[];for(let e of r.subscription_listings_ids){let r=a.Z.getSubscriptionListing(e);if(null!=r&&(!r.soft_deleted||!!n))(r.published||t)&&i.push(r)}return i},[e,n,t])},E=e=>(0,i.e7)([a.Z],()=>null!=e?a.Z.getSubscriptionListing(e):null),I=e=>{let n=(0,u.f)("useGroupListingsForGuild");return(0,i.e7)([a.Z],()=>null!=e&&n?a.Z.getSubscriptionGroupListingsForGuild(e):d)},g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSoftDeleted:!1,sortDeletedListingsLast:!1};return _(e),(0,i.Wu)([a.Z],()=>{let t=null!=e?a.Z.getSubscriptionGroupListingsForGuild(e):d,r=[];for(let e of t)for(let t of e.subscription_listings_ids){let e=a.Z.getSubscriptionListing(t);null!=e&&(n.includeSoftDeleted||!e.soft_deleted)&&r.push(e)}return n.includeSoftDeleted&&n.sortDeletedListingsLast?[...r.filter(e=>!e.soft_deleted),...r.filter(e=>e.soft_deleted)]:r})},p=e=>{let[n,t]=r.useState(!1),o=r.useMemo(()=>e.map(c.W),[e]),l=(0,i.Wu)([a.Z],()=>o.filter(e=>!a.Z.getDidFetchListingForSubscriptionPlanId(e)),[o]);return r.useEffect(()=>{!n&&l.length>0&&(t(!0),Promise.all(l.map(e=>s.vY(e))).catch(()=>{}).then(()=>{t(!1)}))},[n,l]),{loading:n}},C=()=>{let[e,n]=r.useState(!1),[t,i]=r.useState(null);return{error:t,submitting:e,deleteSubscriptionListing:async(e,t,r)=>{try{return n(!0),i(null),await s._d(e,t,r),!0}catch(e){i(e)}finally{n(!1)}}}},T=()=>{let[e,n]=(0,o.Z)(s.AE),{loading:t,error:r}=n;return{error:r,submitting:t,archiveSubscriptionListing:e}},S=()=>{let[e,n]=r.useState(!1),[t,i]=r.useState(null);return{error:t,submitting:e,publishSubscriptionListing:async e=>{let{guildId:t,groupListingId:r,listingId:o}=e;try{return n(!0),i(null),await s.O0({guildId:t,groupListingId:r,listingId:o,data:{published:!0}}),!0}catch(e){i(e)}finally{n(!1)}},clearError:()=>i(null)}},m=e=>(0,i.e7)([a.Z],()=>null!=e?a.Z.getSubscriptionSettings(e):void 0),h=()=>{let[e,n]=r.useState(!1),[t,i]=r.useState(null);return{loading:e,updateSubscriptionsSettings:r.useCallback(async(e,t)=>{n(!0),i(null);try{await s.W2(e,t)}catch(e){i(e)}finally{n(!1)}},[]),error:t}},N=()=>{let[e,n]=r.useState(!1),[t,i]=r.useState(null);return{loading:e,fetchSubscriptionsSettings:r.useCallback(async e=>{n(!0),i(null);try{await s.Qb(e)}catch(e){i(e)}finally{n(!1)}},[]),error:t}},A=e=>(0,i.e7)([a.Z],()=>null!=e?a.Z.getSubscriptionTrial(e):null)},403474:function(e,n,t){t.d(n,{k:function(){return r}});let r={id:"0",name:"",mentionable:!1,position:0,hoist:!1,permissions:t(981631).Plq.SEND_MESSAGES,color:0,colorString:"0",icon:null,unicodeEmoji:null,flags:0}},290348:function(e,n,t){t.d(n,{B7:function(){return $},Ek:function(){return x},F2:function(){return V},GM:function(){return J},GP:function(){return G},H9:function(){return z},Lo:function(){return K},PK:function(){return Z},R7:function(){return B},TT:function(){return W},UE:function(){return w},XZ:function(){return H},Xo:function(){return Q},_T:function(){return M},d9:function(){return D},mR:function(){return O},p9:function(){return P},qs:function(){return U},rU:function(){return Y}}),t(47120);var r=t(470079),i=t(512722),o=t.n(i),l=t(392711),u=t(772848),s=t(866442),a=t(442837),c=t(80932),d=t(749210),_=t(339085),f=t(73346),E=t(817460),I=t(423117),g=t(584825),p=t(289393),C=t(790285),T=t(303737),S=t(971792),m=t(22902),h=t(403474),N=t(944537),A=t(293810),v=t(981631),R=t(474936);function L(e,n,t){let i=(0,N.n)(e=>e.setListing),o=r.useCallback(r=>{i(e,e=>{var i;let o=null!==(i=null==e?void 0:e[n])&&void 0!==i?i:t;return Object.assign({},e,{[n]:"function"==typeof r?r(o):r})})},[i,e,n,t]),l=(0,N.n)(t=>{var r;return null===(r=t.listings[e])||void 0===r?void 0:r[n]});return[void 0!==l?l:t,o]}function b(e,n){let t=(0,a.e7)([p.Z],()=>p.Z.getSubscriptionListing(e));return r.useMemo(()=>n(t),[t])}function M(e){let n=b(e,e=>{var n;return null!==(n=null==e?void 0:e.name)&&void 0!==n?n:""});return L(e,"name",n)}function O(e){let n=b(e,e=>{var n;return null==e?void 0:null===(n=e.subscription_plans[0])||void 0===n?void 0:n.price});return L(e,"priceTier",n)}function Z(e){let n=b(e,e=>{var n;return null!==(n=null==e?void 0:e.description)&&void 0!==n?n:""});return L(e,"description",n)}function D(e,n){let t=b(e,e=>{if((null==e?void 0:e.image_asset)!=null)return(0,f._W)(e.application_id,e.image_asset,n)});return L(e,"image",t)}function P(e,n){let t=(0,S.Z)(n,e);return L(e,"roleIcon",r.useMemo(()=>{var e,n;return{icon:null!==(e=null==t?void 0:t.icon)&&void 0!==e?e:void 0,unicodeEmoji:null!==(n=null==t?void 0:t.unicodeEmoji)&&void 0!==n?n:void 0}},[t]))}function U(e,n){let t=(0,S.Z)(n,e),i=(0,N.n)(n=>{var t;return null===(t=n.listings[e])||void 0===t?void 0:t.roleColor}),o=(0,N.n)(n=>{var t;return null===(t=n.listings[e])||void 0===t?void 0:t.roleIcon});return r.useMemo(()=>{let e={...null!=t?t:h.k};if(void 0!==o){var n,r;e.icon=null!==(n=o.icon)&&void 0!==n?n:"",e.unicodeEmoji=null!==(r=o.unicodeEmoji)&&void 0!==r?r:""}return void 0!==i&&(e.color=i,e.colorString=(0,s.Rf)(i)),e},[t,o,i])}function x(e,n){let t=(0,S.Z)(n,e);return L(e,"roleColor",r.useMemo(()=>{var e;return null!==(e=null==t?void 0:t.color)&&void 0!==e?e:v.p6O},[t]))}function G(e,n){let t=(0,S.Z)(n,e);return L(e,"channelAccessFormat",r.useMemo(()=>null==t?N.I.SOME_CHANNELS_ACCESS:(0,C.MT)(t)?N.I.ALL_CHANNELS_ACCESS:N.I.SOME_CHANNELS_ACCESS,[t]))}let y=[];function w(e){let n=b(e,e=>null==e?y:e.role_benefits.benefits.filter(E.rC));return L(e,"channelBenefits",n)}let j=[];function B(e){let n=b(e,e=>null==e?j:e.role_benefits.benefits.filter(E.lL));return L(e,"intangibleBenefits",n)}let F=new Set;function k(e,n){return 0===e.length?F:new Set(e.filter(e=>e.roles.includes(n)).map(e=>{let{id:n}=e;return n}))}function H(e,n){let t=(0,S.Z)(n,e),i=(0,a.Wu)([_.Z],()=>_.Z.getGuildEmoji(n),[n]);return L(e,"tierEmojiIds",r.useMemo(()=>null==t?F:k(i,t.id),[i,t]))}function W(e){var n;let t=(0,g.oC)(e),{selectedOption:r}=(0,m.Z)(null!==(n=null==t?void 0:t.active_trial)&&void 0!==n?n:null);return L(e,"trialInterval",null!=r?r:null)}function V(e){var n;let t=(0,g.oC)(e);return L(e,"trialLimit",null!==(n=null==t?void 0:t.max_num_active_trial_users)&&void 0!==n?n:null)}function Y(e){return(0,N.n)(n=>void 0!==n.listings[e])}function K(e){return(0,N.n)(n=>{for(let t of e)if(void 0!==n.listings[t])return!0;return!1})}function z(e){let n=b(e,e=>null==e?void 0:e.subscription_plans[0]),[t]=L(e,"priceTier",void 0);return[r.useMemo(()=>{var e,r,i,o,l;return{price:null!==(e=null!=t?t:null==n?void 0:n.price)&&void 0!==e?e:0,currency:null!==(r=null==n?void 0:n.currency)&&void 0!==r?r:v.pKx.USD,interval:null!==(i=null==n?void 0:n.interval)&&void 0!==i?i:R.rV.MONTH,interval_count:null!==(o=null==n?void 0:n.interval_count)&&void 0!==o?o:1,id:null!==(l=null==n?void 0:n.id)&&void 0!==l?l:""}},[n,t])]}function J(e){var n;n=e,N.n.setState(e=>({listings:{...e.listings,[n]:e.listings.nonexistantEditStateId}}))}async function q(e){let{guildId:n,editStateId:t}=e,r=p.Z.getSubscriptionListing(t);o()(null!=r,"listing doesnt exist");let i=r.role_id,u=r.id,s=N.n.getState().listings[t];o()(null!=s,"edit state does not exist");let{roleColor:a,roleIcon:f,trialLimit:E,trialInterval:g,tierEmojiIds:C}=s;(void 0!==a||void 0!==f)&&await d.Z.updateRole(n,i,{color:a,icon:null==f?void 0:f.icon,unicodeEmoji:null==f?void 0:f.unicodeEmoji});let T=p.Z.getSubscriptionTrial(u);if((null!=E||null!=g||null!=T&&null==g)&&await I.I1(n,u,{trial:g,max_num_active_trial_users:E}),void 0!==C){let e=k(_.Z.getGuildEmoji(n),i),t=(0,l.difference)([...C],[...e]),r=(0,l.difference)([...e],[...C]),o=t.map(e=>_.Z.getCustomEmojiById(e)).map(e=>{if(null!=e)return(0,c.dv)({guildId:n,emojiId:e.id,roles:[...e.roles,i]})}),u=r.map(e=>_.Z.getCustomEmojiById(e)).map(e=>{if(null==e)return;let t=e.roles.filter(e=>e!==i);return t.length>0?(0,c.dv)({guildId:n,emojiId:e.id,roles:t}):(0,c.RE)(n,e.id)});await Promise.all([...o,...u])}}async function X(e){let{guildId:n,editStateId:t,groupListingId:r,onBeforeDispatchNewListing:i}=e,l=N.n.getState().listings[t];o()(null!=l,"edit state does not exist");let{name:u,description:s,channelBenefits:a,intangibleBenefits:c,priceTier:d,image:_,channelAccessFormat:f}=l;o()(null!=u,"no name provided"),o()(null!=s,"no description provided"),o()(null!=d,"no priceTier provided"),o()(null!=_,"no image provided");let E=f===N.I.ALL_CHANNELS_ACCESS,g=r;null==g&&(g=(await I.uw(n,{})).id),null!=a&&a.length>0&&await (0,T.r4)(n,a);let p=[...null!=a?a:[],...null!=c?c:[]],C=(0,T.yL)(t,n);return I.dA({guildId:n,groupListingId:g,data:{can_access_all_channels:E,image:_,name:u,description:s,benefits:p,priceTier:d},analyticsContext:C,onBeforeDispatchNewListing:i})}function Q(){let[e,n]=r.useState(!1),[t,i]=r.useState();return{loading:e,error:t,handleCreateOrUpdateFromEditState:r.useCallback(async e=>{let{guildId:t,editStateId:r,groupListingId:u,onBeforeDispatchNewListing:s,onAfterDispatchNewListing:a}=e,c=r,d=p.Z.getSubscriptionListing(c);try{if(n(!0),i(void 0),null!=d)o()(null!=u,"groupListingId is null"),await function(e){var n;let{guildId:t,editStateId:r,groupListingId:i}=e,u=p.Z.getSubscriptionListing(r);o()(null!=u,"listing doesnt exist");let s=N.n.getState().listings[r];o()(null!=s,"edit state does not exist");let{name:a,description:c,channelBenefits:d,intangibleBenefits:_,priceTier:f,image:g,channelAccessFormat:C}=s,T={};if(a!==u.name&&(T.name=a),c!==u.description&&(T.description=c),f!==(null===(n=u.subscription_plans[0])||void 0===n?void 0:n.price)&&(T.priceTier=f),null!=g&&(T.image=g),null!=C&&(T.can_access_all_channels=C===N.I.ALL_CHANNELS_ACCESS),null!=d||null!=_){let e=u.role_benefits.benefits.filter(E.rC),n=u.role_benefits.benefits.filter(E.lL),t=[...null!=d?d:e,...null!=_?_:n];T.benefits=t}return(0,l.isEmpty)(T)?u:I.O0({guildId:t,groupListingId:i,listingId:r,data:T})}({guildId:t,editStateId:c,groupListingId:u});else{var _,f;let e=await X({guildId:t,editStateId:c,groupListingId:u,onBeforeDispatchNewListing:s});c=e.id,_=r,f=c,N.n.setState(e=>({listings:{...e.listings,[f]:e.listings[_],[_]:void 0}})),null==a||a(e)}return await q({guildId:t,editStateId:c}),J(c),!0}catch(e){if(!("getAnyErrorMessage"in e))throw e;i(e)}finally{n(!1)}},[])}}function $(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeSoftDeleted:!1},i=(0,g._k)(e,t),o=(0,N.n)(e=>e.editStateIdsForGroup[n]),l=(0,N.n)(e=>e.setEditStateIdsForGroup),s=(0,N.n)(e=>e.setListing),a=r.useMemo(()=>[...i.map(e=>{let{id:n}=e;return n}),...null!=o?o:[]],[o,i]),c=r.useCallback(()=>{let e=(0,u.Z)();l(n,n=>[...null!=n?n:[],e])},[n,l]),d=r.useCallback(e=>{let t=(0,u.Z)();return l(n,e=>[...null!=e?e:[],t]),e.listings.forEach(n=>{s(t,()=>({name:n.name,description:n.description,priceTier:n.price_tier,image:n.image,intangibleBenefits:n.additional_perks,channelBenefits:n.channels.map(e=>({ref_id:e.id,ref_type:A.Qs.CHANNEL,description:e.description,name:e.name,emoji_name:e.emoji_name})),roleIcon:{unicodeEmoji:void 0,icon:n.image},roleColor:n.role_color,usedTemplate:e.category}))}),t},[n,l,s]);return{editStateIds:a,addNewEditStateId:c,addNewEditStateFromTemplate:d,removeEditStateId:r.useCallback(e=>{l(n,n=>(null!=n?n:[]).filter(n=>n!==e))},[n,l])}}},697227:function(e,n,t){t.d(n,{V:function(){return l},W:function(){return o}});var r=t(512722),i=t.n(r);function o(e){let n=e.items;return i()(1===n.length,"more than 1 subscription item for role subscription"),n[0].planId}function l(e){var n;let t=null==e?void 0:null===(n=e.renewalMutations)||void 0===n?void 0:n.items;if(null!=t)return i()(t.length<=1,"more than 1 renewal mutation for role subscription"),null==t?void 0:t[0].planId}},403910:function(e,n,t){var r=t(442837),i=t(339085);n.Z=function(e,n){return(0,r.e7)([i.Z],()=>{var t;if(null==n)return null;let r=i.Z.getDisambiguatedEmojiContext(e);return null!==(t=r.getById(n))&&void 0!==t?t:r.getByName(n)},[e,n])}},14263:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(470079),i=t(442837),o=t(480608),l=t(243730);let u={};function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(0,i.e7)([l.Z],()=>l.Z.getRoleMemberCount(e));return r.useEffect(()=>{if(null==e)return;let t=u[e];!(null!=t&&n>0&&Date.now()-t<n)&&(u[e]=Date.now(),o.E(e))},[e,n]),t}},570533:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(470079),i=t(442837),o=t(339085),l=t(889564);let u=[];function s(e){let n=(0,i.e7)([o.Z],()=>o.Z.getGuildEmoji(e),[e]);return r.useMemo(()=>null==n?u:n.filter(n=>(0,l.Kt)(n,e)),[n,e])}},971792:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(442837),i=t(430824),o=t(584825);function l(e,n){let t=(0,o.jO)(n);return(0,r.e7)([i.Z],()=>null!=e&&null!=t?i.Z.getRole(e,t.role_id):void 0)}},22902:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(470079),i=t(817460),o=t(293810),l=t(474936),u=t(689938);function s(e){return r.useMemo(()=>{var n;let t=o.DN.map(e=>({value:e,label:e.interval===l.rV.DAY&&7===e.interval_count?u.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_TRIAL_TIME_LIMIT_DEFAULT_OPTION.format({defaultLimit:(0,i.iG)(e)}):(0,i.iG)(e),isDefault:e.interval===l.rV.DAY&&7===e.interval_count})),r=null!=e?null===(n=t.find(n=>null!=n.value&&n.value.interval===e.interval&&n.value.interval_count===e.interval_count))||void 0===n?void 0:n.value:e;return{options:t,selectedOption:r}},[e])}},629262:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(442837),i=t(592125);function o(e){return(0,r.Wu)([i.Z],()=>e.filter(e=>i.Z.hasChannel(e.ref_id)),[e])}},528027:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(735250);t(470079);var i=t(120356),o=t.n(i),l=t(596454),u=t(377171),s=t(403910),a=t(549631),c=t(195831);function d(e){var n;let{guildId:t,emojiId:i,emojiName:d,className:_}=e,f=(0,s.Z)(t,i);return null!=f||null!=d?(0,r.jsx)(l.Z,{emojiId:null==f?void 0:f.id,emojiName:null!=d?d:null==f?void 0:f.name,animated:null!==(n=null==f?void 0:f.animated)&&void 0!==n&&n,className:o()(c.emojiIcon,_)}):(0,r.jsx)(a.Z,{className:o()(c.emojiIcon,_),color:u.Z.CREATOR_REVENUE_LOCKED_CHANNEL_ICON})}},686807:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(735250);t(470079);var i=t(481060),o=t(201895),l=t(471445),u=t(823379),s=t(303737),a=t(293810),c=t(689938),d=t(796485);function _(e){let{channelId:n}=e,t=(0,s.m7)(n);if(null==t)return(0,r.jsx)(r.Fragment,{children:"[".concat(c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_DELETED_CHANNEL_LABEL,"]")});let u=t.isMediaChannel()?i.ImageIcon:(0,l.Th)(t.type);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.HiddenVisually,{children:(0,o.ZP)({channel:t})}),(0,r.jsxs)("div",{"aria-hidden":!0,children:[null!=u&&(0,r.jsx)(u,{className:d.icon,"aria-hidden":!0}),t.name]})]})}function f(e){switch(e.ref_type){case a.Qs.CHANNEL:return(0,r.jsx)(_,{channelId:e.ref_id});case a.Qs.INTANGIBLE:return e.name;default:(0,u.vE)(e)}}},893729:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(735250),i=t(470079),o=t(120356),l=t.n(o),u=t(442837),s=t(518738),a=t(786761),c=t(3148),d=t(753206),_=t(594174),f=t(5192),E=t(792125),I=t(981631),g=t(689938),p=t(630787);function C(e){var n;let{guildId:t,role:o,theme:C,content:T=g.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FLAIR_PREVIEW_MESSAGE_TEXT,className:S}=e,m=(0,u.e7)([_.default],()=>_.default.getCurrentUser()),h=f.ZP.useName(t,null,m),N=(0,s.Kz)(o),A=i.useMemo(()=>(0,a.e5)({...(0,c.ZP)({channelId:"0",content:T,tts:void 0,type:void 0,messageReference:void 0,allowedMentions:void 0,author:m}),state:I.yb.SENT,id:"0"}),[m,T]),v={nick:h,colorString:null!==(n=o.colorString)&&void 0!==n?n:void 0};return(0,r.jsx)("div",{className:l()((0,E.Q)(C),p.container,S),children:(0,r.jsx)(d.Z,{hideTimestamp:!0,author:v,roleIcon:N,message:A,isGroupStart:!0,disableInteraction:!0})})}},358555:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(735250);t(470079);var i=t(120356),o=t.n(i),l=t(442837),u=t(481060),s=t(666188),a=t(623624),c=t(290034),d=t(271383),_=t(594174),f=t(940627),E=t(705600),I=t(267642),g=t(981631),p=t(689938),C=t(621908);function T(e){let{guild:n,isBannerVisible:t,disableBoostClick:i}=e,o=(0,l.e7)([_.default,d.ZP],()=>{let e=_.default.getCurrentUser();return d.ZP.isMember(n.id,null==e?void 0:e.id)}),{premiumTier:s,premiumSubscriberCount:f}=n;if(0===f&&s===g.Eu4.NONE)return null;let E=e=>{e.stopPropagation(),e.preventDefault(),o&&!i&&(0,a.f)({guildId:n.id,location:{section:g.jXE.GUILD_HEADER,object:g.qAy.BOOST_GEM_ICON}})},T=s===g.Eu4.NONE?p.Z.Messages.PREMIUM_GUILD_HEADER_BADGE_NO_TIER:I.nW(s),S=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:C.tierTooltipTitle,children:T}),(0,r.jsx)("div",{children:p.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:f})})]});return(0,r.jsx)("div",{className:C.guildIconContainer,children:(0,r.jsx)(u.Tooltip,{text:S,position:"bottom","aria-label":null!=T?T:"",children:e=>(0,r.jsx)(u.Clickable,{...e,className:C.__invalid_premiumGuildIcon,onClick:E,children:(0,r.jsx)(c.Z,{premiumTier:s,iconBackgroundClassName:t?C.boostedGuildTierIconBackgroundWithVisibleBanner:null,iconClassName:t&&s!==g.Eu4.TIER_3?C.boostedGuildTierMutedIconWithVisibleBanner:null})})})})}function S(e){let{guild:n,disableColor:t,disableBoostClick:i}=e;return(0,s.Z)(n)?(0,r.jsx)("div",{className:C.guildIconV2Container,children:(0,r.jsx)(E.Z,{guild:n,tooltipPosition:"bottom",tooltipColor:u.Tooltip.Colors.PRIMARY,className:o()(C.guildBadge,{[C.disableColor]:t}),disableBoostClick:i})}):(0,r.jsx)("div",{className:C.guildIconContainer,children:(0,r.jsx)(f.Z,{guild:n,tooltipPosition:"bottom",tooltipColor:u.Tooltip.Colors.PRIMARY,className:o()(C.guildBadge,{[C.disableColor]:t})})})}function m(e){let{guild:n,isBannerVisible:t,disableBoostClick:i}=e;return(0,s.Z)(n)?(0,r.jsx)(S,{guild:n,disableColor:!1,disableBoostClick:i}):n.hasFeature(g.oNc.VERIFIED)||n.hasFeature(g.oNc.PARTNERED)?(0,r.jsx)(S,{guild:n,disableColor:!t}):(0,r.jsx)(T,{guild:n,isBannerVisible:t,disableBoostClick:i})}},889695:function(e,n,t){t.d(n,{Z:function(){return A}}),t(47120),t(724458),t(653041);var r=t(735250),i=t(470079),o=t(658722),l=t.n(o),u=t(392711),s=t.n(u),a=t(149765),c=t(442837),d=t(481060),_=t(271383),f=t(430824),E=t(594174),I=t(700785),g=t(709054),p=t(962086),C=t(160404),T=t(225675),S=t(981631),m=t(689938),h=t(821492);function N(e){var n;return(0,r.jsx)("span",{style:{color:null!==(n=e.colorString)&&void 0!==n?n:"currentColor"},children:e.name})}function A(e){let{guildId:n}=e,t=(0,c.e7)([E.default],()=>E.default.getCurrentUser()),o=(0,c.e7)([f.Z],()=>f.Z.getGuild(n)),u=(0,c.e7)([f.Z],()=>f.Z.getRoles(n)),{impersonateType:A,viewingRoles:v}=(0,c.cj)([C.Z],()=>({impersonateType:C.Z.getImpersonateType(n),viewingRoles:C.Z.getViewingRoles(n)})),R=A===T.z.SERVER_SHOP,L=(0,c.e7)([_.ZP],()=>null!=t?_.ZP.getTrueMember(n,t.id):null),[b,M]=(0,d.useMultiSelect)(null==v?[]:g.default.keys(v)),O=i.useRef(o);i.useEffect(()=>{let e={},n=O.current;if(null!=n&&null!=A){for(let n of b){let t=u[n];null!=t&&(e[n]=t)}(0,p.Zm)(n.id,{type:A,roles:e})}},[b,A,u]);let Z=null!=o&&null!=t&&null!=L?s()(u).filter(e=>-1!==L.roles.indexOf(e.id)).sortBy(e=>-e.position).first():void 0,D=i.useMemo(()=>null!=o&&null!=t?Object.values(u).filter(e=>e.id!==o.id).filter(e=>{var n;return!R||(null===(n=e.tags)||void 0===n?void 0:n.subscription_listing_id)!=null}).filter(e=>(null==Z?void 0:Z.id)===e.id||I.r6(o,t.id,Z,e)):[],[o,t,R,Z,u]);if(null==t||null==o||null==L)return null;let P={};return(L.roles.forEach(e=>{let n=u[e];null!=n&&(P[n.id]=n)}),a.e$(I.I0({forceRoles:P,context:o}),a.$e(S.Plq.MANAGE_GUILD,S.Plq.MANAGE_ROLES))||o.isOwner(t.id))?(0,r.jsx)("div",{className:h.container,children:(0,r.jsx)(d.Combobox,{placeholder:m.Z.Messages.SEARCH_ROLES,value:b,onChange:M,autoFocus:!0,children:e=>{let n=D.reduce((n,t)=>(l()(e.toLowerCase(),t.name.toLowerCase())&&n.push((0,r.jsxs)(d.ComboboxItem,{value:t.id,children:[(0,r.jsx)(d.ComboboxItem.Label,{children:N(t)}),(0,r.jsx)(d.ComboboxItem.Checkbox,{})]},t.id)),n),[]),t=u[o.getEveryoneRoleId()];return null!=t&&n.push((0,r.jsxs)(d.ComboboxItem,{value:t.id,disabled:!0,children:[(0,r.jsx)(d.ComboboxItem.Label,{children:N(t)}),(0,r.jsx)(d.ComboboxItem.Checkbox,{checked:!0})]},t.id)),n}})}):(0,r.jsx)(d.Text,{variant:"text-md/medium",children:m.Z.Messages.VIEW_AS_ROLES_NO_ACCESS})}},918658:function(e,n,t){t.d(n,{Z:function(){return Z},d:function(){return D}});var r=t(735250);t(470079);var i=t(120356),o=t.n(i),l=t(442837),u=t(692547),s=t(481060),a=t(549817),c=t(819553),d=t(17181),_=t(303737),f=t(434404),E=t(703656),I=t(944486),g=t(914010),p=t(671533),C=t(259580),T=t(358085),S=t(962086),m=t(160404),h=t(889695),N=t(981631),A=t(176505),v=t(302463),R=t(293810),L=t(689938),b=t(591756);function M(e){let{className:n,onClick:t,children:i}=e;return(0,r.jsx)(s.Button,{className:o()(b.button,n),innerClassName:b.buttonInner,look:s.Button.Looks.OUTLINED,color:s.Button.Colors.WHITE,size:s.Button.Sizes.NONE,onClick:t,children:i})}function O(e){let{onClick:n}=e;return(0,r.jsx)(M,{onClick:n,children:L.Z.Messages.DISABLE})}function Z(){let e=(0,l.e7)([g.Z],()=>g.Z.getGuildId()),n=(0,l.e7)([I.Z],()=>I.Z.getChannelId(e)),{viewingRoles:t,backNavigationSection:i,isFullServerPreview:o,isServerShopPreview:T}=(0,l.cj)([m.Z],()=>({viewingRoles:null!=e?m.Z.getViewingRoles(e):null,backNavigationSection:m.Z.getBackNavigationSection(e),isFullServerPreview:null!=e&&m.Z.isFullServerPreview(e),isServerShopPreview:null!=e&&m.Z.isViewingServerShop(e)}));if(null==t||null==e)return null;let Z=function(e){switch(e){case N.pNK.INTEGRATIONS:return L.Z.Messages.VIEWING_AS_ROLES_BACK_INTEGRATIONS;case N.pNK.ROLE_SUBSCRIPTIONS:return L.Z.Messages.VIEWING_AS_SUBSCRIPTION_ROLES_BACK;case N.pNK.ONBOARDING:return L.Z.Messages.VIEWING_AS_ONBOARDING_MEMBER_BACK;default:return L.Z.Messages.VIEWING_AS_ROLES_BACK}}(i),D=i===N.pNK.ROLE_SUBSCRIPTIONS?L.Z.Messages.VIEWING_AS_SUBSCRIPTION_ROLES_SELECT:L.Z.Messages.VIEWING_AS_ROLES_SELECT,P=n===A.oC.GUILD_ONBOARDING,U=n=>{let{backToSettings:t}=n;null!=e&&(m.Z.isFullServerPreview(e)&&(0,E.uL)(N.Z5c.CHANNEL(e)),c.ZP.shouldShowOnboarding(e)&&(a.Z.finishOnboarding(e),(0,d.discardOnboardingPromise)(e)),(0,S.mL)(e),t&&f.Z.open(e,i),i===N.pNK.ROLE_SUBSCRIPTIONS&&(0,_.GN)(e))};return(0,r.jsxs)(s.Notice,{color:s.NoticeColors.BRAND,className:b.notice,children:[(0,r.jsxs)(M,{onClick:()=>U({backToSettings:!0}),className:b.backButton,children:[(0,r.jsx)(p.Z,{width:16,height:16,direction:p.Z.Directions.LEFT,className:b.backArrow}),Z]}),P&&o?(0,r.jsx)("div",{className:b.noticeContents,children:(0,r.jsx)("div",{className:b.noticeText,children:L.Z.Messages.VIEW_AS_MEMBER_DESCRIPTION})}):(0,r.jsxs)("div",{className:b.noticeContents,children:[(0,r.jsx)("div",{className:b.noticeText,children:o?L.Z.Messages.VIEW_AS_MEMBER_DESCRIPTION_WITH_ROLES.format({numRoles:Object.keys(t).length}):L.Z.Messages.VIEWING_AS_ROLES.format({numRoles:Object.keys(t).length})}),(0,r.jsx)(s.Popout,{position:"bottom",renderPopout:()=>(0,r.jsx)(h.Z,{guildId:e}),children:e=>{let{onClick:n}=e;return(0,r.jsxs)(M,{onClick:n,children:[D,(0,r.jsx)(C.Z,{width:16,height:16,direction:C.Z.Directions.DOWN,className:b.selectCaret})]})}}),o&&(0,r.jsx)(s.TooltipContainer,{className:b.previewWarning,text:L.Z.Messages.VIEW_AS_MEMBER_ROLES_WARNING,children:(0,r.jsx)(s.CircleExclamationPointIcon,{size:"xs",color:u.Z.unsafe_rawColors.YELLOW_300.css})}),T&&(0,r.jsx)(s.TooltipContainer,{className:b.previewWarning,text:L.Z.Messages.SERVER_SHOP_PREVIEW_DISCLAIMER.format({maxTiers:R.fF,maxProducts:v.dD}),children:(0,r.jsx)(s.CircleExclamationPointIcon,{size:"xs",color:u.Z.unsafe_rawColors.YELLOW_300.css})})]}),o||i===N.pNK.ROLE_SUBSCRIPTIONS?null:(0,r.jsx)(O,{onClick:()=>U({backToSettings:!1})})]})}function D(e){let{guildId:n}=e;return(0,l.e7)([m.Z],()=>m.Z.isViewingRoles(n))?(0,r.jsx)("div",{className:o()(b.settingsWrapper,{[b.windows]:(0,T.isWindows)(),[b.osx]:(0,T.isMac)()}),children:(0,r.jsx)(Z,{})}):null}},628238:function(e,n,t){t.d(n,{A:function(){return i}});var r=t(709054);function i(e){return!(e<r.default.extractTimestamp("1088216706570268682"))&&!0}},753206:function(e,n,t){var r=t(735250),i=t(470079),o=t(120356),l=t.n(o),u=t(628238),s=t(492593),a=t(25015),c=t(963550),d=t(845080),_=t(848509);n.Z=i.memo(function(e){var n;let{message:t,channel:i,compact:o,className:f,isGroupStart:E,hideSimpleEmbedContent:I=!0,disableInteraction:g}=e,p=(0,u.A)((null!==(n=t.editedTimestamp)&&void 0!==n?n:t.timestamp).valueOf()),{content:C}=(0,a.Z)(t,{hideSimpleEmbedContent:I,allowList:p,allowHeading:p,allowLinks:!0,previewLinkTarget:!0});return(0,r.jsx)(s.Z,{compact:o,className:l()(f,{[_.message]:!0,[_.cozyMessage]:!o,[_.groupStart]:E}),childrenHeader:(0,d.Z)({...e,channel:i,guildId:void 0}),childrenMessageContent:(0,c.Z)(e,C),disableInteraction:g})})},963550:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(735250);t(470079);var i=t(930282);function o(e,n){let{message:t}=e;return(0,r.jsx)(i.ZP,{message:t,content:n})}},845080:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(735250),i=t(470079),o=t(901461),l=t(464891);let u=i.memo(l.ZP);function s(e){let{message:n,channel:t,author:i,compact:l,animateAvatar:s,guildId:a,isGroupStart:c=!0,roleIcon:d,hideTimestamp:_}=e;return!(0,o.Z)(n)&&(c||l)?(0,r.jsx)(u,{message:n,channel:t,author:i,guildId:a,compact:l,animate:s,roleIcon:d,hideTimestamp:_}):void 0}},724870:function(e,n,t){t.d(n,{h:function(){return f},m:function(){return I}}),t(789020);var r=t(735250);t(470079);var i=t(512722),o=t.n(i),l=t(481060),u=t(496929),s=t(171246),a=t(509545),c=t(55563),d=t(987209),_=t(981631);function f(e){let{initialPlanId:n,activeSubscription:i,analyticsObject:o,analyticsLocation:u,analyticsLocations:s,analyticsSubscriptionType:a,renderHeader:c,planGroup:f,skuId:E,guildId:I,reviewWarningMessage:g,applicationId:p,showBenefitsFirst:C,eligibleApplicationSubscriptionGuilds:T,onComplete:S,forcesTransitionToGuild:m}=e;(0,l.openModalLazy)(async()=>{let{PaymentContextProvider:e}=await Promise.resolve().then(t.bind(t,598)),l=(await Promise.all([t.e("15972"),t.e("47006"),t.e("32776"),t.e("16083")]).then(t.bind(t,405083))).default,{getApplicationPaymentSteps:_}=await Promise.all([t.e("96427"),t.e("77298"),t.e("23357"),t.e("12013"),t.e("29609"),t.e("95900"),t.e("95854"),t.e("75018")]).then(t.bind(t,759386)),h=_({guildId:I,showBenefitsFirst:C,eligibleApplicationSubscriptionGuilds:T});return t=>(0,r.jsx)(e,{applicationId:p,activeSubscription:i,stepConfigs:h,skuIDs:[E],children:(0,r.jsx)(d.KB,{children:(0,r.jsx)(l,{...t,initialPlanId:n,skuId:E,analyticsLocations:s,analyticsObject:o,analyticsLocation:u,analyticsSubscriptionType:a,renderHeader:c,planGroup:f,reviewWarningMessage:g,applicationId:p,guildId:null!=I?I:void 0,onComplete:S,forcesTransitionToGuild:m})})})},{onCloseRequest:_.dG4})}let E=async(e,n)=>{let t=(await (0,u.yD)(e)).filter(e=>null==e.ends_at||new Date(e.ends_at)>new Date).find(e=>e.sku_id===n);o()(null==t,"User already has an active subscription to this SKU")};async function I(e){var n;let{applicationId:t,skuId:r,initialPlanId:i,analyticsLocationObject:l,analyticsLocations:u,renderHeader:d}=e,I=c.Z.get(r),g=a.Z.getForSKU(r);o()(null!=I,"Failed to find SKU");let p=(0,s.KW)(I.flags);o()(p,"Guild application subscriptions unsupported!"),await E(t,r),f({initialPlanId:null!=i?i:null===(n=g[0])||void 0===n?void 0:n.id,activeSubscription:null,analyticsLocations:u,analyticsLocationObject:l,analyticsSubscriptionType:_.NYc.APPLICATION,renderHeader:d,planGroup:[],skuId:r,guildId:null,eligibleApplicationSubscriptionGuilds:[],showBenefitsFirst:!1,applicationId:t})}},91802:function(e,n,t){t.d(n,{n:function(){return o}});var r=t(442837),i=t(351402);function o(){let{localizedPricingPromo:e,hasError:n}=(0,r.cj)([i.Z],()=>({localizedPricingPromo:i.Z.localizedPricingPromo,hasError:i.Z.localizedPricingPromoHasError}));return n?null:e}},222727:function(e,n,t){t.d(n,{U:function(){return o}});var r=t(990547),i=t(213609);function o(e,n){(0,i.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.LOCALIZED_PRICING_UPSELL_VIEWED,properties:{country_code:n,action_location:e}})}},714441:function(e,n,t){t.d(n,{i:function(){return o}});var r=t(735250);t(470079);var i=t(481060);function o(e){let{applicationName:n,onConfirm:o,onCancel:l}=e;return(0,i.openModalLazy)(async()=>{let{ConfirmNoSharedServerSubscribeWarningModal:e}=await t.e("99809").then(t.bind(t,525549));return t=>(0,r.jsx)(e,{...t,applicationName:n,onConfirm:o,onCancel:l})},{modalKey:"application-user-subscribe-no-shared-server-warning"})}},696906:function(e,n,t){t(789020);var r=t(735250),i=t(470079),o=t(512722),l=t.n(o),u=t(442837),s=t(570140),a=t(821849),c=t(906732),d=t(887706),_=t(724870),f=t(594174),E=t(509545),I=t(55563),g=t(551428),p=t(630388),C=t(270144),T=t(171246),S=t(689011),m=t(714441),h=t(981631),N=t(689938);n.Z=e=>{var n;let t,{guildId:o,groupListingId:A,analyticsLocation:v,showBenefitsFirst:R,skuId:L,onComplete:b,forcesTransitionToGuild:M}=e,O=(0,u.e7)([I.Z],()=>null!=L?I.Z.get(L):void 0,[L]),Z=(0,u.e7)([g.Z],()=>null!=L?g.Z.getForSKU(L):void 0,[L]),D=(0,u.e7)([E.Z],()=>null!=L?E.Z.getForSKU(L):void 0,[L]),P=null!=D?D[0]:void 0,U=null==O?void 0:O.applicationId,x=(null==Z?void 0:Z.published)===!0&&null!=O&&(0,p.yE)(O.flags,h.l4R.AVAILABLE),G=null==P?void 0:P.skuId,y=(0,C.IX)(U),w=(0,C._k)(A,{includeSoftDeleted:!0}).map(e=>e.subscription_plans[0].id),{analyticsLocations:j}=(0,c.ZP)(),{activeSubscription:B,activeEntitlement:F}=(0,C.F5)(U,o),k=(0,C.CR)(U,o),H=(0,d.Z)(),W=null!=O&&(0,T.KW)(O.flags),V=null!=F&&F.userId===(null===(n=f.default.getCurrentUser())||void 0===n?void 0:n.id),Y=null==F||V,K=null==F||w.length>1,z=null!=o||k.length>0,J=W&&V,q=null!=P&&null!=y&&Y&&K&&(z||W)&&!J;return Y?z?J&&null!=P&&(t=N.Z.Messages.APPLICATION_USER_SUBSCRIPTION_ALREADY_SUBSCRIBED.format({tierName:P.name})):t=N.Z.Messages.APPLICATION_SUBSCRIPTION_NO_GUILD_AVAILABLE:t=N.Z.Messages.APPLICATION_SUBSCRIPTIONS_CANNOT_MANAGE_SUBSCRIPTION,i.useEffect(()=>{x&&null!=G&&H&&!(E.Z.isFetchingForSKU(G)||E.Z.isLoadedForSKU(G))&&s.Z.wait(()=>{(0,a.GZ)(G)})},[x,G,H]),{openModal:i.useCallback(()=>{l()(null!=y,"No application"),l()(null!=P,"No subscription plan"),l()(x,"Cannot purchase this unpublished plan");let e=()=>{(0,_.h)({activeSubscription:B,analyticsSubscriptionType:h.NYc.APPLICATION,analyticsLocations:j,analyticsLocation:v,renderHeader:(e,n,t)=>(0,r.jsx)(S.t,{step:t,onClose:()=>n(!1)}),initialPlanId:P.id,skuId:P.skuId,guildId:o,eligibleApplicationSubscriptionGuilds:k,planGroup:w,applicationId:y.id,showBenefitsFirst:R,onComplete:b,forcesTransitionToGuild:M})};!z&&W?(0,m.i)({applicationName:y.name,onConfirm:e,onCancel:()=>{}}):e()},[x,P,w,y,o,z,W,j,v,B,R,k,b,M]),canOpenModal:q,cannotOpenReason:t}}},170671:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(735250);t(470079);var i=t(692547),o=t(153124);function l(e){let{isSelected:n,...t}=e,l=(0,o.Dt)();return(0,r.jsxs)("svg",{...t,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"url(#".concat(l,")"),children:[(0,r.jsx)("path",{d:"M10 9.33332C10.7364 9.33332 11.3334 8.73637 11.3334 7.99999C11.3334 7.26361 10.7364 6.66666 10 6.66666C9.26364 6.66666 8.66669 7.26361 8.66669 7.99999C8.66669 8.73637 9.26364 9.33332 10 9.33332Z",fill:"url(#paint0_linear_6413_12612)"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66669 2.66666C4.2985 2.66666 4.00002 2.96513 4.00002 3.33332C4.00002 3.70151 4.2985 3.99999 4.66669 3.99999H6.66669C7.03488 3.99999 7.33335 4.29847 7.33335 4.66666C7.33335 5.03485 7.03488 5.33332 6.66669 5.33332L3.66669 5.33332C3.2985 5.33332 3.00002 5.6318 3.00002 5.99999C3.00002 6.36818 3.2985 6.66666 3.66669 6.66666L5.33335 6.66666C5.70154 6.66666 6.00002 6.96513 6.00002 7.33332C6.00002 7.70151 5.70154 7.99999 5.33335 7.99999H4.00002C3.63183 7.99999 3.33335 8.29847 3.33335 8.66666C3.33335 9.03485 3.63183 9.33332 4.00002 9.33332H4.83471C5.42677 11.6336 7.5149 13.3333 10 13.3333C12.9455 13.3333 15.3334 10.9455 15.3334 7.99999C15.3334 5.05447 12.9455 2.66666 10 2.66666H4.66669ZM10 10.6667C11.4728 10.6667 12.6667 9.47275 12.6667 7.99999C12.6667 6.52723 11.4728 5.33332 10 5.33332C8.52726 5.33332 7.33335 6.52723 7.33335 7.99999C7.33335 9.47275 8.52726 10.6667 10 10.6667Z",fill:"url(#paint0_linear_6413_12612)"}),(0,r.jsx)("path",{d:"M1.66669 6.66666C2.03488 6.66666 2.33335 6.36818 2.33335 5.99999C2.33335 5.6318 2.03488 5.33332 1.66669 5.33332H1.33335C0.965164 5.33332 0.666687 5.6318 0.666687 5.99999C0.666687 6.36818 0.965164 6.66666 1.33335 6.66666H1.66669Z",fill:"url(#paint0_linear_6413_12612)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_6413_12612",x1:"0.666992",y1:"0.127441",x2:"15.3271",y2:"0.127441",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:n?i.Z.unsafe_rawColors.WHITE_500.css:i.Z.unsafe_rawColors.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS.css}),(0,r.jsx)("stop",{offset:"0.502368",stopColor:n?i.Z.unsafe_rawColors.WHITE_500.css:i.Z.unsafe_rawColors.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS_2.css}),(0,r.jsx)("stop",{offset:"1",stopColor:n?i.Z.unsafe_rawColors.WHITE_500.css:i.Z.unsafe_rawColors.PREMIUM_TIER_2_PINK_FOR_GRADIENTS.css})]})})]})}},499150:function(e,n,t){var r=t(735250),i=t(470079),o=t(481060),l=t(703656),u=t(981631);n.Z=i.forwardRef(function(e,n){let{href:t,children:s,onClick:a,onKeyPress:c,focusProps:d,..._}=e,f=i.useCallback(e=>{if(!e.repeat)(e.charCode===u.yXg.SPACE||e.charCode===u.yXg.ENTER)&&(e.preventDefault(),null!=t&&(0,l.uL)(t),null==a||a()),null==c||c(e)},[t,c,a]),E=i.useCallback(e=>{if(!e.metaKey&&!e.shiftKey&&0===e.button)e.preventDefault(),e.stopPropagation(),null!=t&&(0,l.uL)(t),null==a||a()},[t,a]),I=(0,r.jsx)("a",{ref:n,href:t,onClick:E,onKeyPress:f,..._,children:s});return(0,r.jsx)(o.FocusRing,{...d,children:I})})},409216:function(e,n,t){t(653041),t(47120);var r,i=t(735250),o=t(470079),l=t(120356),u=t.n(l),s=t(481060),a=t(598077),c=t(3600),d=t(492852);function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class f extends(r=o.PureComponent){renderUsers(){let{users:e,max:n,renderUser:t=this.defaultRenderUser,renderMoreUsers:r}=this.props,i=[],o=e.length===n?e.length:n-1,l=0;for(;l<o&&l<e.length;){let n=l===e.length-1;i.push(t(e[l]||null,n?null:c.avatarMasked,"user-".concat(l),n)),l++}if(l<e.length){let n=Math.min(e.length-l,99);i.push(r("+".concat(n),c.moreUsers,"more-users",n))}return i}renderIcon(){return this.props.icon?(0,i.jsx)("div",{className:c.iconContainer,children:(0,i.jsx)(s.VoiceNormalIcon,{size:"xs",color:"currentColor",colorClass:c.foreground,className:c.icon})}):null}render(){let{className:e}=this.props;return(0,i.jsxs)("div",{className:u()(e,c.container),ref:e=>this._ref=e,children:[this.renderIcon(),this.renderUsers()]})}constructor(...e){super(...e),_(this,"_ref",void 0),_(this,"defaultRenderUser",(e,n,t,r)=>{let{onClick:o,size:l,guildId:_}=this.props,f=e instanceof a.Z?e:null!=e?e.user:null;return null==f?(0,i.jsx)("div",{className:u()(c.emptyUser,n)},t):(0,i.jsx)(s.Avatar,{tabIndex:0,src:f.getAvatarURL(_,(0,s.getAvatarSize)(l)),size:l,"aria-label":f.username,className:u()(n,d.cursorPointer,c.avatarSize),onClick:e=>null!=o?o(e,f,this._ref):null},f.id)})}}_(f,"defaultProps",{max:10,renderMoreUsers:function(e,n,t){return(0,i.jsx)("div",{className:n,children:e},t)},size:s.AvatarSizes.SIZE_24}),n.Z=f},72006:function(e,n,t){t.d(n,{FZ:function(){return Z},Hl:function(){return w},NJ:function(){return U},R8:function(){return G},Sq:function(){return b},Wg:function(){return y},Zn:function(){return L},c2:function(){return D},eE:function(){return x},iE:function(){return j},iK:function(){return P},lv:function(){return M},nR:function(){return O},q0:function(){return o.a},x0:function(){return v},xb:function(){return B},yd:function(){return R}}),t(47120),t(653041);var r=t(371917),i=t(421520),o=t.n(i),l=t(563751),u=t.n(l),s=t(608382),a=t.n(s),c=t(722661),d=t.n(c),_=t(225389),f=t.n(_),E=t(71716),I=t.n(E),g=t(869045),p=t.n(g),C=t(110599),T=t.n(C),S=t(801539),m=t.n(S),h=t(887868),N=t.n(h);function A(e,n,t,i){let o=i.getCurrentContent(),l=null;null!=e&&(l=(o=o.createEntity(...e)).getLastCreatedEntityKey());let u=o.getFirstBlock(),s=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:n,focusKey:u.getKey(),focusOffset:t});return o=r.Modifier.applyEntity(o,s,l),r.EditorState.set(i,{currentContent:o})}function v(e,n,t,i){let o,l;let s=n.getCurrentContent(),a=s.getFirstBlock(),c=a.getText();"number"==typeof t?(t>c.length&&(t=c.length),null!=i&&i>c.length&&(i=c.length),o=new r.SelectionState({anchorKey:a.getKey(),anchorOffset:t,focusKey:a.getKey(),focusOffset:null!=i&&0!==i?i:t})):o=n.getSelection();let d=n.getCurrentInlineStyle(),_=u()(s,o);return o.isCollapsed()?(s=r.Modifier.insertText(s,o,e,d,_),l="insert-characters"):(s=r.Modifier.replaceText(s,o,e,d,_),l="replace-characters"),r.EditorState.push(n,s,l)}function R(e,n){switch(e){case"delete":return m()(n);case"delete-word":return f()(n);case"backspace":return T()(n);case"backspace-word":return d()(n);case"backspace-to-start-of-line":return a()(n);default:return n}}function L(e,n){switch(e){case"transpose-characters":return N()(n);case"move-selection-to-start-of-block":return p()(n);case"move-selection-to-end-of-block":return I()(n);default:return n}}function b(e){return e.getCurrentContent().getFirstBlock().getText()}function M(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getCurrentContent(),i=r.getFirstBlock(),o=i.getText(),l=[];return i.findEntityRanges(e=>null!==e.getEntity(),(e,n)=>{let t=r.getEntity(i.getEntityAt(e)).getType(),u=o.substring(e,n);l.push({processed:!1,type:t,start:e,end:n,text:u})}),e.forEach(e=>{let r=!1;if(l.forEach(t=>{let{type:i,start:o,end:l}=e,u=e.getFullMatch();if(!t.processed)t.type===i&&t.start===o&&t.text===u?(t.processed=!0,r=!0):(o>=t.start&&o<t.end||l>t.start&&l<=t.end)&&(t.processed=!0,n=A(null,t.start,t.end,n))}),r)return;let i=t[e.type];n=A([e.type,null!=i&&i.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,n)}),l.forEach(e=>{!e.processed&&(n=A(null,e.start,e.end,n))}),n}function O(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))}function Z(e){let n=r.EditorState.push(e,r.ContentState.createFromText("")),t=e.getSelection();return null!=t&&t.hasFocus&&(n=r.EditorState.moveFocusToEnd(n)),n}function D(e,n){let t=b(n);return v(e,n,0,t.length)}function P(e,n){let t=n.getSelection();return t=(t=t.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(n,t)}function U(e){return P(e.getCurrentContent().getFirstBlock().getText().length,e)}function x(e){return P(0,e)}function G(e){let n=e.getSelection();return n=(n=n.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,n)}function y(e){let n=b(e),t=e.getSelection();return t=(t=t.set("focusOffset",n.length)).set("isBackward",!1),r.EditorState.forceSelection(e,t)}function w(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,t=b(e);if(t.length>n){let i=e.getSelection();e=v("",e,n,t.length),i.getAnchorOffset()>n&&(i=i.set("anchorOffset",n)),i.getFocusOffset()>n&&(i=i.set("focusOffset",n)),e=r.EditorState.forceSelection(e,i)}return e}function j(e){let n=window.getSelection();if(null==n||"Caret"!==n.type||null==e)return;let t=n.getRangeAt(0);if(!function(e,n){for(;null!=e;){if(e===n)return!0;e=e.parentNode}return!1}(t.commonAncestorContainer,e))return;let r=t.getClientRects()[0],i=e.getClientRects()[0];if(null==r||null==i)return;let o=r.left-i.left+e.scrollLeft;o<e.scrollLeft?e.scrollLeft=o-10:o>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=o-e.offsetWidth+3)}function B(e){return 0===b(e).length}},91047:function(e,n,t){t.d(n,{Pv:function(){return o},_j:function(){return l},n8:function(){return u},xS:function(){return s}}),t(411104);var r=t(735250);t(470079);var i=t(239091);function o(e,n,o){o.isGroupDM()?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([t.e("79695"),t.e("17400"),t.e("60677"),t.e("35262")]).then(t.bind(t,354589));return t=>(0,r.jsx)(e,{...t,user:n,channel:o})}):o.isDM()?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([t.e("79695"),t.e("17400"),t.e("53917"),t.e("22036"),t.e("56826"),t.e("23673")]).then(t.bind(t,131404));return t=>(0,r.jsx)(e,{...t,user:n,channel:o,showMute:!1,targetIsUser:!0})}):null!=o.guild_id?(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([t.e("79695"),t.e("17400"),t.e("12435"),t.e("2462")]).then(t.bind(t,757387));return t=>(0,r.jsx)(e,{...t,user:n,channel:o,guildId:o.guild_id})}):(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([t.e("79695"),t.e("17400"),t.e("14183")]).then(t.bind(t,881351));return t=>(0,r.jsx)(e,{...t,user:n})})}function l(e,n){let{user:o,channel:l,moderationAlertId:u,guildId:s,...a}=n;if((null==l?void 0:l.isGroupDM())||(null==l?void 0:l.isDM()))throw Error("Cannot moderate user in DM or group DM");let c=null!=s?s:null==l?void 0:l.getGuildId();null!=c&&(0,i.jW)(e,async()=>{let{default:e}=await Promise.all([t.e("3084"),t.e("12435"),t.e("18531")]).then(t.bind(t,833737));return n=>(0,r.jsx)(e,{...n,user:o,channelId:null==l?void 0:l.id,guildId:c,moderationAlertId:u,...a})})}function u(e,n){let{user:o,guildId:l,analyticsLocations:u,onCloseContextMenu:s}=n;(0,i.jW)(e,async()=>{let{default:e}=await t.e("45130").then(t.bind(t,246389));return n=>(0,r.jsx)(e,{...n,user:o,guildId:l,analyticsLocations:u,onCloseContextMenu:s})})}function s(e,n,o){null!=o&&(0,i.jW)(e,async()=>{let{default:e}=await t.e("50331").then(t.bind(t,158195));return n=>(0,r.jsx)(e,{...n,guildId:o})})}},533800:function(e,n,t){var r,i;t.d(n,{$:function(){return r}}),t(47120),(i=r||(r={}))[i.IS_GUEST_INVITE=1]="IS_GUEST_INVITE",i[i.IS_VIEWED=2]="IS_VIEWED",i[i.IS_ENHANCED=4]="IS_ENHANCED"},794201:function(e,n,t){e.exports={container:"container_dc71f0",imageContainer:"imageContainer_dc71f0",image:"image_dc71f0",backgroundImage:"backgroundImage_dc71f0",backgroundImageFilter:"backgroundImageFilter_dc71f0",loader:"loader_dc71f0"}},597677:function(e,n,t){e.exports={pill:"pill_c993da",clickable:"clickable_c993da",disabled:"disabled_c993da",small:"small_c993da",selected:"selected_c993da",emoji:"emoji_c993da",closeCircle:"closeCircle_c993da emoji_c993da",close:"close_c993da",tooltipPill:"tooltipPill_c993da"}},534457:function(e,n,t){e.exports={boostedGuildIconGem:"boostedGuildIconGem_d4a69b",iconBackgroundTierNone:"iconBackgroundTierNone_d4a69b",iconBackgroundTierOne:"iconBackgroundTierOne_d4a69b",iconBackgroundTierTwo:"iconBackgroundTierTwo_d4a69b",iconBackgroundTierThree:"iconBackgroundTierThree_d4a69b",iconTierNone:"iconTierNone_d4a69b",iconTierOne:"iconTierOne_d4a69b",iconTierTwo:"iconTierTwo_d4a69b",iconTierThree:"iconTierThree_d4a69b"}},171186:function(e,n,t){e.exports={productCard:"productCard_f26f9b",productCardClickable:"productCardClickable_f26f9b",productThumbnail:"productThumbnail_f26f9b",productInfo:"productInfo_f26f9b",productInfoContent:"productInfoContent_f26f9b",productName:"productName_f26f9b",productDetails:"productDetails_f26f9b",dotSeparator:"dotSeparator_f26f9b",productActionMenuButton:"productActionMenuButton_f26f9b",productActionMenuIcon:"productActionMenuIcon_f26f9b",menuContainer:"menuContainer_f26f9b",disabled:"disabled_f26f9b"}},402462:function(e,n,t){e.exports={badge:"badge_a24a11",badgeIcon:"badgeIcon_a24a11"}},195831:function(e,n,t){e.exports={emojiIcon:"emojiIcon_e6e8e8"}},796485:function(e,n,t){e.exports={icon:"icon_acc5ff"}},630787:function(e,n,t){e.exports={container:"container_f8690a"}},621908:function(e,n,t){e.exports={guildIconContainer:"guildIconContainer_ed9816",guildIconV2Container:"guildIconV2Container_ed9816",guildBadge:"guildBadge_ed9816",disableColor:"disableColor_ed9816",tierTooltipTitle:"tierTooltipTitle_ed9816",boostedGuildTierIconBackgroundWithVisibleBanner:"boostedGuildTierIconBackgroundWithVisibleBanner_ed9816",boostedGuildTierMutedIconWithVisibleBanner:"boostedGuildTierMutedIconWithVisibleBanner_ed9816"}},821492:function(e,n,t){e.exports={container:"container_cbadbc"}},591756:function(e,n,t){e.exports={settingsWrapper:"settingsWrapper_e2ecbf",osx:"osx_e2ecbf",backButton:"backButton_e2ecbf",windows:"windows_e2ecbf",notice:"notice_e2ecbf",noticeContents:"noticeContents_e2ecbf",noticeText:"noticeText_e2ecbf",previewWarning:"previewWarning_e2ecbf",button:"button_e2ecbf",buttonInner:"buttonInner_e2ecbf",backArrow:"backArrow_e2ecbf",selectCaret:"selectCaret_e2ecbf"}},848509:function(e,n,t){e.exports={ephemeral:"ephemeral_d5deea",nitroMessage:"nitroMessage_d5deea",automodMessage:"automodMessage_d5deea",mentioned:"mentioned_d5deea",replying:"replying_d5deea",messageListItem:"messageListItem_d5deea",message:"message_d5deea",selected:"selected_d5deea",quotedChatMessage:"quotedChatMessage_d5deea",jump:"jump_d5deea",buttons:"buttons_d5deea",buttonsInner:"buttonsInner_d5deea",hideIfMessageNotFocused:"hideIfMessageNotFocused_d5deea",cozyMessage:"cozyMessage_d5deea",groupStart:"groupStart_d5deea",systemMessage:"systemMessage_d5deea",backgroundFlash:"backgroundFlash_d5deea",channelTextArea:"channelTextArea_d5deea",divider:"divider_d5deea",disableInteraction:"disableInteraction_d5deea",beforeGroup:"beforeGroup_d5deea",hasContent:"hasContent_d5deea",interactionSending:"interactionSending_d5deea"}},422090:function(e,n,t){e.exports={back:"back_e27221",primaryIcon:"primaryIcon_e27221",button:"button_e27221"}},599455:function(e,n,t){e.exports={paymentModalLockIcon:"paymentModalLockIcon_f6be15",lockIcon:"lockIcon_f6be15"}},776674:function(e,n,t){e.exports={body:"body_bf926b",sliderBody:"sliderBody_bf926b",sliderBodyLarge:"sliderBodyLarge_bf926b"}},37099:function(e,n,t){e.exports={container:"container_a3545a",header:"header_a3545a",divider:"divider_a3545a",benefitsContainer:"benefitsContainer_a3545a",benefit:"benefit_a3545a"}},890825:function(e,n,t){e.exports={icon:"icon_e10dab",small:"small_e10dab",medium:"medium_e10dab"}},338740:function(e,n,t){e.exports={headerContainer:"headerContainer_fe5d81",closeContainer:"closeContainer_fe5d81",closeIcon:"closeIcon_fe5d81",headerImageContainer:"headerImageContainer_fe5d81",headerImage:"headerImage_fe5d81",confirmationContainer:"confirmationContainer_fe5d81",purchaseConfirmation:"purchaseConfirmation_fe5d81 confirmationContainer_fe5d81",confirmationTitle:"confirmationTitle_fe5d81",confirmationSubtitle:"confirmationSubtitle_fe5d81"}},492852:function(e,n,t){e.exports={cursorPointer:"cursorPointer_aaab09"}},3600:function(e,n,t){e.exports={container:"container_e52fc2",iconContainer:"iconContainer_e52fc2",icon:"icon_e52fc2",foreground:"foreground_e52fc2",avatarSize:"avatarSize_e52fc2",emptyUser:"emptyUser_e52fc2",avatarMasked:"avatarMasked_e52fc2 avatar_e52fc2",moreUsers:"moreUsers_e52fc2"}},270799:function(e,n,t){e.exports={}}}]);
//# sourceMappingURL=c00f72a2c5bcc23a8b8c.js.map