"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["54535"],{197857:function(e,t,n){e.exports=n.p+"988c17fdd72ce3646bcc.svg"},858595:function(e,t,n){e.exports=n.p+"c9a939b533ac94caae14.svg"},533627:function(e,t,n){n.d(t,{K:function(){return s.K}});var s=n(987675)},432594:function(e,t,n){n.d(t,{a:function(){return s.a}});var s=n(318948)},865364:function(e,t,n){n.d(t,{O:function(){return a}});var s=n(818083),o=n(977156);let r=(0,s.B)({id:"2024-03_quest_bar_progress_cta",kind:"user",label:"Quest Bar Progress CTA",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Quest Bar Progress CTA enabled",config:{enabled:!0}}]}),a=e=>{let{location:t,autoTrackExposure:n=!1}=e,s=(0,o.Zy)({location:t}),{enabled:a}=r.useExperiment({location:t},{autoTrackExposure:n});return s&&a}},988303:function(e,t,n){n.d(t,{P:function(){return o},u:function(){return a}});var s,o,r=n(818083);(s=o||(o={}))[s.V1=0]="V1",s[s.V2=1]="V2";let a=(0,r.B)({id:"2024-05_quest_bar",kind:"user",label:"Quest Bar",defaultConfig:{primaryVariant:0,progressVariant:0},treatments:[{id:1,label:"Quest Bar V2 with V1 Progress",config:{primaryVariant:1,progressVariant:0}},{id:2,label:"Quest Bar V2",config:{primaryVariant:1,progressVariant:1}}]})},585857:function(e,t,n){n.d(t,{Q:function(){return S}});var s=n(735250);n(470079);var o=n(120356),r=n.n(o),a=n(533627),i=n(432594),l=n(481060),c=n(230711),d=n(231757),u=n(617136),p=n(497505),x=n(796111),m=n(46140),g=n(981631),C=n(689938),f=n(276458);function _(e){let{quest:t,isConnected:n,consoleType:o}=e;return(0,s.jsx)(l.Clickable,{className:f.connectConsoleButtonWrapper,onClick:()=>{(0,u._3)({questId:t.id,questContent:p.jn.QUEST_BAR_V2,questContentCTA:u.jZ.CONNECT_CONSOLE}),(0,d.Z)({platformType:o})},children:o===g.ABu.PLAYSTATION?(0,s.jsx)(a.K,{colorClass:r()(f.connectConsoleButton,n?f.playstationButtonConnected:f.connectConsoleButtonUnconnected),size:"sm"}):(0,s.jsx)(i.a,{colorClass:r()(f.connectConsoleButton,n?f.xboxButtonConnected:f.connectConsoleButtonUnconnected),size:"sm"})})}function h(e){let{text:t,quest:n}=e;return(0,s.jsx)(l.Clickable,{className:f.showConnectionsButton,onClick:()=>{(0,u._3)({questId:n.id,questContent:p.jn.QUEST_BAR_V2,questContentCTA:u.jZ.VIEW_CONSOLE_CONNECTIONS_LINK}),c.Z.open(g.oAB.CONNECTIONS)},children:(0,s.jsx)(l.Text,{"aria-label":t,color:"none",variant:"text-xxs/normal",children:t})})}function E(e){let{quest:t,xboxAccounts:n,playstationAccounts:o,xboxAndPlaystationAccounts:a}=e,i=a.slice(0,2),c=a.length>0,d=n.length>0,u=o.length>0;return(0,s.jsxs)("div",{className:f.inlineConsoleConnectionDetails,children:[(0,s.jsxs)("div",{className:f.inlineConsoleConnectionDetailsUpper,children:[(0,s.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:c?C.Z.Messages.QUESTS_CONNECTED:C.Z.Messages.QUESTS_SELECT_TO_START}),(0,s.jsxs)("div",{className:f.inlineConsoleConnectionDetailsIcons,children:[(0,s.jsx)(_,{consoleType:g.ABu.PLAYSTATION,isConnected:u,quest:t}),(0,s.jsx)("div",{className:f.consoleIconDivider}),(0,s.jsx)(_,{consoleType:g.ABu.XBOX,isConnected:d,quest:t})]})]}),c&&(0,s.jsxs)("div",{className:f.inlineConsoleConnectionDetailsLower,children:[i.map((e,t)=>(0,s.jsxs)("div",{className:r()(f.inlineConsoleConnectionDetailsLowerItem,t>0?f.marginTop4px:void 0),children:[(0,s.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:e.type===g.ABu.XBOX?C.Z.Messages.QUESTS_XBOX_ID:C.Z.Messages.QUESTS_PSN_ONLINE_ID_V2}),(0,s.jsx)(l.Text,{color:"header-secondary",variant:"text-xxs/normal",children:e.name})]},t)),a.length>2&&(0,s.jsx)(h,{text:C.Z.Messages.QUESTS_VIEW_MORE_ACCOUNTS,quest:t})]})]})}function T(e){let{xboxAndPlaystationAccounts:t,quest:n}=e;return t.length>0?(0,s.jsx)(h,{text:C.Z.Messages.QUESTS_SHOW_CONNECTIONS,quest:n}):null}function S(e){let t=(0,x.P)({location:m.dr.QUESTS_BAR});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Text,{color:"text-muted",variant:"text-xs/medium",children:C.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_CONNECT_ACCOUNT}),t?(0,s.jsx)(E,{...e}):(0,s.jsx)(T,{...e})]})}},693900:function(e,t,n){n.d(t,{n:function(){return p},t:function(){return u}}),n(47120);var s=n(735250),o=n(470079),r=n(338545),a=n(442837),i=n(393238),l=n(110924),c=n(607070);let d=o.createContext({springConfig:{},onHeightChange:()=>{},isExpanded:!1});function u(e){let t=o.useMemo(()=>({springConfig:e.springConfig,isExpanded:e.isExpanded,onHeightChange:e.onHeightChange}),[e.springConfig,e.onHeightChange,e.isExpanded]);return(0,s.jsx)(d.Provider,{value:t,children:e.children})}function p(e){var t;let{children:n}=e,{springConfig:u,isExpanded:p,onHeightChange:x}=o.useContext(d),m=(0,a.e7)([c.Z],()=>c.Z.useReducedMotion),{ref:g,height:C=null}=(0,i.Z)(),f=null!==(t=(0,l.Z)(C))&&void 0!==t?t:null,[{height:_},h]=(0,r.useSpring)(()=>({from:{height:0},config:u,immediate:m}));return o.useLayoutEffect(()=>{if(null===f||null===C)return;let e=C-f;0!==e&&x(e)},[C,f,x,p]),o.useLayoutEffect(()=>{null!==C&&h({height:C,immediate:!p||m||null===f})},[C,h,p,m,f]),(0,s.jsx)(r.animated.div,{style:{height:null===f?"auto":_,overflow:"hidden"},children:(0,s.jsx)("div",{style:{overflow:"hidden"},ref:g,children:n})})}},617889:function(e,t,n){n.d(t,{B:function(){return c}});var s=n(470079),o=n(918701),r=n(988303),a=n(658590),i=n(448018),l=n(46140);let c=(e,t)=>{let n=(0,o.zK)(e,l.S7.QUEST_BAR_V2),c=(0,a.a)(e),{primaryVariant:d,progressVariant:u}=r.u.useExperiment({location:l.dr.QUESTS_BAR},{autoTrackExposure:t&&n});return s.useMemo(()=>c?(0,i.v)(e,r.P.V2,r.P.V2):n?(0,i.v)(e,d,u):(0,i.v)(e,r.P.V1,r.P.V1),[c,d,u,e,n])}},130653:function(e,t,n){n.d(t,{T:function(){return o},Z:function(){return r}});var s=n(735250);let o=n(470079).createContext(!1);function r(e){return(0,s.jsx)(o.Provider,{value:!0,children:e.children})}},909389:function(e,t,n){var s=n(735250);n(470079);var o=n(35148),r=n(266685),a=n(432237);t.Z=function(e){let{expandedContentRef:t,expansionSpring:n,isExpanded:i,isExpansionAnimationComplete:l,onCtxMenuOpened:c,onCtxMenuClosed:d,onCtxMenuSelection:u,quest:p,useReducedMotion:x}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{className:a.content,expansionSpring:n,isExpanded:i,isExpansionAnimationComplete:l,quest:p,useReducedMotion:x}),(0,s.jsx)(r.Z,{className:a.content,onCtxMenuOpen:c,onCtxMenuClose:d,onCtxMenuSelect:u,isExpanded:i,isExpansionAnimationComplete:l,quest:p,useReducedMotion:x,ref:t})]})}},898170:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120),n(724458);var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(392711),l=n.n(i),c=n(442837),d=n(481060),u=n(451478),p=n(302221),x=n(880337);let m=[0,.5,1],g={"layers[1].shapes[1].g.k.k":[0,.522,.278,.776,.5,.522,.278,.776,1,.522,.278,.776],"layers[2].shapes[1].g.k.k":[0,.714,.271,.757,.5,.714,.271,.757,1,.714,.271,.757]};async function C(e,t){let s=(await n.e("30166").then(n.t.bind(n,235630,19))).default;return function(e,t,n){for(let s in t){let t=l().get(e,s);if(null==t)continue;let o=t.map((e,t)=>{var s;return null!==(s=n[t])&&void 0!==s?s:e});l().set(e,s,o)}}(s,g,t),s}function f(e){var t;let{animationClassName:n,className:r,quest:i,useReducedMotion:l}=e,g=(0,c.e7)([u.Z],()=>u.Z.isFocused()),f=o.useRef(null),[_,h]=o.useState(!1),E=o.useMemo(()=>{if(null==i)return null;let e=(0,p.oo)(i.config.colors.primary),t={r:e.r/255,g:e.g/255,b:e.b/255},n=m.reduce((e,n)=>[...e,n,t.r,t.g,t.b],[]);return C(i.id,n)},[i]),T=(null===(t=i.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,S=!l&&g;o.useEffect(()=>{var e,t,n,s;g?S&&(null===(s=f.current)||void 0===s||null===(n=s.animation)||void 0===n||n.play()):null===(t=f.current)||void 0===t||null===(e=t.animation)||void 0===e||e.goToAndStop(0,!0)},[S,g]);let N=o.useCallback(()=>{h(!0)},[]);return null==E||T?(0,s.jsx)("div",{className:x.backgroundFallback,style:{backgroundImage:"linear-gradient(90deg, ".concat(i.config.colors.primary,", ").concat(i.config.colors.secondary,")")}}):(0,s.jsx)("div",{className:a()(x.lottieAnimationBackgroundWrapper,r),children:(0,s.jsx)(d.LottieAnimation,{ref:f,onComplete:N,importData:()=>E,shouldAnimate:!_&&S,className:a()(x.lottieAnimation,x.lottieAnimationBackground,n),loop:0,rendererSettings:{preserveAspectRatio:"none"}},i.config.colors.primary)})}},35148:function(e,t,n){var s=n(735250);n(470079);var o=n(120356),r=n.n(o),a=n(338545),i=n(481060),l=n(113434),c=n(497505),d=n(685613),u=n(340100),p=n(644646),x=n(898170),m=n(689938),g=n(974772);t.Z=function(e){var t;let{className:n,expansionSpring:o,isExpanded:C,isExpansionAnimationComplete:f,quest:_,useReducedMotion:h}=e,E=(null===(t=_.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,{percentComplete:T}=(0,l.Rf)(_),S=(0,l.Jf)(_),N=null!=S?S.completedRatio>0:T>0;return(0,s.jsxs)(a.animated.div,{"aria-hidden":C&&f,className:r()(n,g.contentCollapsed,{[g.contentCollapsedExpanded]:C,[g.contentCollapsedAccepted]:E}),style:{opacity:o.to({range:[0,1],output:[1,0]})},children:[(0,s.jsx)(x.Z,{quest:_,useReducedMotion:h}),(0,s.jsx)("div",{className:g.contentCollapsedWrapper,children:E?(0,s.jsxs)("div",{className:g.questProgressWrapper,children:[(0,s.jsx)(p.Z,{className:g.questProgressRewardTile,quest:_,questContent:c.jn.QUEST_BAR,autoplay:!1}),N?(0,s.jsx)(u.Z,{className:g.questProgressBar,quest:_}):(0,s.jsx)(i.Text,{className:g.questProgressHint,color:"always-white",variant:"text-sm/semibold",children:m.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED})]}):(0,s.jsxs)("div",{className:g.brandingWrapper,children:[(0,s.jsx)(d.Z,{className:g.partnerBranding,quest:_}),(0,s.jsx)(i.Heading,{color:"always-white",variant:"heading-sm/medium",className:g.questName,children:m.Z.Messages.QUEST.format({questName:_.config.messages.questName})})]})})]})}},266685:function(e,t,n){var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(442837),l=n(950104),c=n(780384),d=n(481060),u=n(703656),p=n(810090),x=n(358085),m=n(617136),g=n(272008),C=n(113434),f=n(569984),_=n(497505),h=n(918701),E=n(865364),T=n(566078),S=n(340100),N=n(611855),A=n(644646),v=n(78826),j=n(670638),B=n(667105),b=n(46140),O=n(981631),R=n(701488),I=n(689938),y=n(47067);let U=o.forwardRef(function(e,t){var n,r;let{className:E,isExpanded:U,isExpansionAnimationComplete:q,onCtxMenuOpen:Z,onCtxMenuClose:P,onCtxMenuSelect:k,quest:L,useReducedMotion:Q}=e,w=(0,i.e7)([f.Z],()=>f.Z.isEnrolling(L.id),[L]),W=(0,C.B6)(L.config.expiresAt),H=T.r.build(L.config),D=(0,C.B6)(H.rewardsExpireAt),V=o.useMemo(()=>(0,h.nP)(L.config.assets.questBarHero),[L]),z=(0,B.tP)(H.application.id),G=H.features.has(b.S7.START_QUEST_CTA)?m.jZ.START_QUEST:m.jZ.ACCEPT_QUEST,F=H.features.has(b.S7.START_QUEST_CTA)?I.Z.Messages.QUESTS_START_QUEST:I.Z.Messages.QUESTS_ACCEPT_QUEST,X=o.useCallback(()=>{(0,g.AH)(L.id,{questContent:_.jn.QUEST_BAR,questContentCTA:G}),H.features.has(b.S7.START_QUEST_CTA)&&(0,u.uL)(O.Z5c.ACTIVITY_DETAILS(R.In),void 0)},[L,G,H.features]),Y=(0,B.hf)({quest:L,location:_.jn.QUEST_BAR}),K=o.useCallback(()=>{(0,h.FE)(L,{content:_.jn.QUEST_BAR,ctaContent:m.jZ.OPEN_GAME_LINK})},[L]),J=H.features.has(b.S7.POST_ENROLLMENT_CTA),$=(0,C.Rf)(L),ee=(0,C.Jf)(L),et=null!=ee?ee.progress>0:$.progressSeconds>0,en=(null===(n=L.userStatus)||void 0===n?void 0:n.enrolledAt)!=null,es=(null===(r=L.userStatus)||void 0===r?void 0:r.completedAt)!=null,eo=o.useMemo(()=>(0,h.Xv)(L.config),[L.config]),er=U&&q,ea=(0,h.ph)(L),ei=(0,h.pG)({quest:L,taskDetails:$,thirdPartyTaskDetails:null!=ee?ee:void 0}),el=(0,x.isWeb)(),ec=o.useMemo(()=>{let e=(0,c.Qg)(L.config.colors.primary,{base:"#ffffff",contrastRatio:c.S3.Text});return{"--custom-cta-color":e,"--custom-cta-color-hover":(0,l.r5)(e,.3),"--custom-cta-color-active":(0,l.r5)(e,.35)}},[L.config.colors.primary]);return(0,s.jsx)("div",{style:{backgroundColor:L.config.colors.secondary},"aria-hidden":!er,className:a()(E,y.contentExpanded,{[y.contentInteractable]:er}),children:en?(0,s.jsxs)("div",{className:y.questAcceptedContent,ref:t,children:[(0,s.jsxs)("div",{className:y.utils,children:[(0,s.jsxs)("div",{className:y.questAcceptedContentHeading,children:[(0,s.jsx)(A.Z,{className:y.questProgressRewardTile,learnMoreStyle:"icon",quest:L,questContent:_.jn.QUEST_BAR}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Heading,{color:"always-white",variant:"heading-sm/semibold",children:(0,h.AV)({quest:L,taskDetails:$,thirdPartyTaskDetails:null!=ee?ee:void 0})}),(0,s.jsx)(d.Text,{className:y.questAcceptedContentCopySubheading,color:"always-white",variant:"text-xxs/normal",children:es?I.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:D}):I.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:W})})]})]}),(0,s.jsx)(j.r,{onOpen:Z,onClose:P,onSelect:k,questContent:_.jn.QUEST_BAR,quest:L,shouldShowDisclosure:!1,showShareLink:!0,children:e=>(0,s.jsx)(d.Clickable,{...e,className:y.submenuWrapper,"aria-label":I.Z.Messages.ACTIONS,children:(0,s.jsx)(d.MoreHorizontalIcon,{size:"md",color:"currentColor",className:y.submenuIcon})})})]}),es?(0,s.jsx)(d.Button,{className:a()(y.cta,y.ctaClaimReward),style:eo?ec:void 0,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:Y,size:d.Button.Sizes.NONE,children:I.Z.Messages.QUESTS_CLAIM_REWARD}):(0,s.jsx)(d.Text,{className:y.description,color:"always-white",variant:"text-xs/normal",children:ei}),(0,s.jsx)(S.Z,{quest:L}),!el&&!et&&!z&&J&&(0,s.jsx)(M,{onClick:er?K:void 0})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:y.questPromoContent,ref:t,children:[(0,s.jsxs)("div",{className:y.utils,children:[(0,s.jsx)(N.Z,{color:"always-white"}),(0,s.jsx)(j.r,{onOpen:Z,onClose:P,onSelect:k,questContent:_.jn.QUEST_BAR,quest:L,shouldShowDisclosure:!0,showShareLink:!0,children:e=>(0,s.jsx)(d.Clickable,{...e,className:y.submenuWrapper,"aria-label":I.Z.Messages.ACTIONS,children:(0,s.jsx)(d.MoreHorizontalIcon,{size:"md",color:"currentColor",className:y.submenuIcon})})})]}),(0,s.jsxs)("div",{className:y.details,children:[(0,s.jsx)(A.Z,{className:y.rewardTile,learnMoreStyle:"text",quest:L,questContent:_.jn.QUEST_BAR}),(0,s.jsx)(d.Heading,{className:y.title,color:"always-white",variant:"heading-md/medium",children:I.Z.Messages.QUESTS_TITLE.format({questName:L.config.messages.questName})}),(0,s.jsx)(d.Text,{className:y.description,color:"always-white",variant:"text-sm/normal",children:ei})]}),(0,s.jsx)(d.Button,{className:y.cta,style:"1232852290197655573"!==L.id?ec:void 0,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:er?X:void 0,size:d.Button.Sizes.NONE,submitting:w,children:F})]}),(0,s.jsx)("div",{className:y.heroAssetWrapper,style:{color:L.config.colors.secondary},children:V?(0,s.jsx)(v.Fl,{id:"QuestBarContentExpanded_heroAnimated",children:e=>(0,s.jsx)(p.Z,{ref:e,autoPlay:!Q,loop:!0,muted:!0,playsInline:!0,className:y.heroAsset,controls:!1,children:(0,s.jsx)("source",{src:ea,type:(0,h.mN)(ea)})})}):(0,s.jsx)(v.Fl,{id:"QuestBarContentExpanded_heroStatic",children:e=>(0,s.jsx)("img",{ref:e,alt:"",className:y.heroAsset,src:ea})})})]})})});function M(e){let{style:t,onClick:n}=e;return(0,E.O)({location:b.dr.QUESTS_BAR,autoTrackExposure:!0})?(0,s.jsx)(d.Button,{className:y.cta,style:t,color:d.Button.Colors.CUSTOM,fullWidth:!0,onClick:n,size:d.Button.Sizes.NONE,children:I.Z.Messages.QUESTS_GET_THIS_GAME}):null}t.Z=U},941348:function(e,t,n){var s=n(735250),o=n(470079),r=n(113434),a=n(308069),i=n(613087),l=n(457153),c=n(254197),d=n(321025),u=n(768545);t.Z=function(e){var t;let{expandedContentRef:n,expansionSpring:p,isExpanded:x,isExpansionAnimationComplete:m,onCtxMenuOpened:g,onCtxMenuClosed:C,onCtxMenuSelection:f,quest:_,useReducedMotion:h}=e,E=o.useRef(null),T=(null===(t=_.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,S=(0,r.Rf)(_);return(0,s.jsxs)(i.p,{expandedContentRef:n,collapsedContentRef:E,expansionSpring:p,isExpansionAnimationComplete:m,children:[!T&&(0,s.jsx)(a.Z,{quest:_,expansionSpring:p,useReducedMotion:h,isExpanded:x,isExpansionAnimationComplete:m,onCtxMenuOpen:g,onCtxMenuClose:C,onCtxMenuSelect:f}),(0,s.jsx)(l.Z,{ref:E,className:u.content,expansionSpring:p,isExpanded:x,isExpansionAnimationComplete:m,quest:_,useReducedMotion:h,taskDetails:S}),(0,s.jsx)(c.Z,{expansionSpring:p,className:u.content,onCtxMenuOpen:g,onCtxMenuClose:C,onCtxMenuSelect:f,isExpanded:x,isExpansionAnimationComplete:m,quest:_,useReducedMotion:h,ref:n,taskDetails:S}),(0,s.jsx)(d.Z,{expansionSpring:p,isExpanded:x})]})}},308069:function(e,t,n){var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(338545),l=n(481060),c=n(617136),d=n(497505),u=n(918701),p=n(685613),x=n(670638),m=n(341907),g=n(898170),C=n(689938),f=n(560594);t.Z=e=>{let{quest:t,expansionSpring:r,onCtxMenuSelect:_,onCtxMenuOpen:h,onCtxMenuClose:E,useReducedMotion:T,isExpanded:S,isExpansionAnimationComplete:N}=e,A=o.useCallback(()=>{(0,m.az)(t,{content:d.jn.QUEST_BAR_V2,ctaContent:c.jZ.OPEN_DISCLOSURE})},[t]),v=o.useCallback(()=>{(0,u.FE)(t,{content:d.jn.QUEST_BAR_V2,ctaContent:c.jZ.OPEN_GAME_LINK})},[t]),j=S&&N;return(0,s.jsxs)(i.animated.div,{className:a()(f.wrapper,{[f.interactable]:j}),style:{margin:r.to({range:[0,1],output:[0,8]}),borderBottomLeftRadius:r.to({range:[0,1],output:[0,8]}),borderBottomRightRadius:r.to({range:[0,1],output:[0,8]}),paddingLeft:r.to({range:[0,1],output:[12,8]}),paddingRight:r.to({range:[0,1],output:[12,8]}),paddingTop:r.to({range:[0,1],output:[8,4]}),paddingBottom:r.to({range:[0,1],output:[8,4]}),backdropFilter:r.to([0,1],[0,1]).to(e=>"blur(".concat(10*e,"px) brightness(").concat(1-e/5,")"))},children:[(0,s.jsx)(i.animated.div,{className:f.backgroundWrapper,style:{opacity:r.to({range:[0,1],output:[.5,0]}),borderBottomLeftRadius:r.to({range:[0,1],output:[0,8]}),borderBottomRightRadius:r.to({range:[0,1],output:[0,8]})},children:(0,s.jsx)(g.Z,{className:f.background,animationClassName:f.backgroundAnimation,quest:t,useReducedMotion:T})}),(0,s.jsx)(i.animated.img,{alt:"",className:f.wreathIcon,style:{opacity:r.to({range:[0,1],output:[1,0]})},src:n(858595)}),(0,s.jsx)(i.animated.div,{style:{opacity:r.to({range:[0,1],output:[1,j?1:.8]}),x:r.to({range:[0,1],output:[0,-24]})},children:(0,s.jsx)(l.Clickable,{onClick:v,className:a()({[f.logo]:j}),children:(0,s.jsx)(p.Z,{quest:t,withGameTile:!1})})}),(0,s.jsx)(i.animated.div,{className:f.questAvailable,style:{opacity:r.to({range:[0,1],output:[.7,0]}),x:r.to({range:[0,1],output:[0,-20]})},children:(0,s.jsx)(l.Text,{color:"always-white",variant:"text-xs/medium",className:f.questAvailableText,children:C.Z.Messages.QUEST_AVAILABLE})}),(0,s.jsxs)(i.animated.div,{className:f.promotedBadgeWrapper,style:{opacity:r.to({range:[0,1],output:[0,1]})},children:[(0,s.jsxs)(l.Clickable,{className:f.promotedBadge,onClick:A,children:[(0,s.jsx)(l.Text,{color:"always-white",variant:"text-xs/normal",children:C.Z.Messages.QUESTS_PROMOTED}),(0,s.jsx)(l.CircleQuestionIcon,{color:l.tokens.colors.WHITE,className:f.promotedBadgeIcon})]}),(0,s.jsx)(x.r,{onOpen:h,onClose:E,onSelect:_,questContent:d.jn.QUEST_BAR_V2,quest:t,shouldShowDisclosure:!0,showShareLink:!0,children:e=>(0,s.jsx)(l.Clickable,{...e,className:f.submenuWrapper,"aria-label":C.Z.Messages.ACTIONS,children:(0,s.jsx)(l.MoreHorizontalIcon,{size:"md",color:"currentColor",className:a()(f.submenuIcon,f.white)})})})]})]})}},613087:function(e,t,n){n.d(t,{B$:function(){return c},l7:function(){return d},p:function(){return u}}),n(47120),n(653041);var s=n(735250),o=n(470079),r=n(699581),a=n(338545),i=n(130653),l=n(743294);let c=o.createContext({registerComponent:()=>{},unregisterComponent:()=>{},animatedComponents:{},expandedContentRef:o.createRef(),collapsedContentRef:o.createRef(),recalculateAnimationPositions:()=>{},animatedComponentProps:[],expansionSpring:null,isExpansionAnimationComplete:!1}),d=o.forwardRef(function(e,t){let{children:n,id:l,inState:d,isTextTransition:u=!1}=e,{isExpansionAnimationComplete:p,recalculateAnimationPositions:x,registerComponent:m,unregisterComponent:g,expansionSpring:C}=o.useContext(c),f=o.useRef(null),_=o.useRef(null),h=o.useContext(i.T);o.useEffect(()=>{x()},[x]),o.useEffect(()=>{let e=f.current;return null!=e&&m(e,l,d),()=>{null!=e&&g(l,d)}},[l,d,m,g]);let E=document.getElementById(h?"quest-bar-v2-preview-"+l:"quest-bar-v2-"+l),T=null;return null==E?T=null:u&&null!=C?T=(0,s.jsxs)(s.Fragment,{children:["collapsed"===d&&(0,r.createPortal)((0,s.jsx)(a.animated.div,{style:{position:"absolute",opacity:C.to({range:[0,1],output:[1,0]})},children:n(_)}),E),"expanded"===d&&(0,r.createPortal)((0,s.jsx)(a.animated.div,{style:{position:"absolute",opacity:C.to({range:[0,1],output:[0,1]})},children:n(_)}),E)]}):"collapsed"===d&&(T=(0,r.createPortal)(n(_),E)),(0,s.jsxs)("div",{style:{opacity:null==E||p?1:0},ref:t,children:[n(f),!p&&T]})}),u=e=>{let{children:t,expandedContentRef:n,collapsedContentRef:r,expansionSpring:a,isExpansionAnimationComplete:i}=e,[d,u]=o.useState({}),[p,x]=o.useState([]),m=o.useCallback((e,t,n)=>{u(s=>{var o;let r=null!==(o=s[t])&&void 0!==o?o:{expanded:null,collapsed:null};return{...s,[t]:{...r,[n]:e}}})},[]),g=o.useCallback((e,t)=>{u(n=>{var s;let o=null!==(s=n[e])&&void 0!==s?s:{expanded:null,collapsed:null};return o[t]=null,{...n,[e]:o}})},[]),C=o.useCallback(()=>{let e=[];for(let t in d){if(null==d[t]||null==n.current||null==r.current)continue;let s=d[t].collapsed,o=d[t].expanded;if(null==s||null==o)continue;let a=o.getBoundingClientRect().top-n.current.getBoundingClientRect().top+l.Li,i=s.getBoundingClientRect().top-r.current.getBoundingClientRect().top,c=o.getBoundingClientRect().left-n.current.getBoundingClientRect().left+l.Li,u=s.getBoundingClientRect().left-r.current.getBoundingClientRect().left,p=-o.getBoundingClientRect().right+n.current.getBoundingClientRect().right+l.Li,x=-s.getBoundingClientRect().right+r.current.getBoundingClientRect().right;e.push({id:t,collapsedLeft:u,expandedLeft:c,collapsedRight:x,expandedRight:p,collapsedTop:i,expandedTop:a})}x(e)},[d,n,r,x]);return(0,s.jsx)(c.Provider,{value:{isExpansionAnimationComplete:i,registerComponent:m,unregisterComponent:g,animatedComponents:d,expandedContentRef:n,collapsedContentRef:r,recalculateAnimationPositions:C,animatedComponentProps:p,expansionSpring:a},children:t})}},164495:function(e,t,n){n.d(t,{y:function(){return h}});var s=n(735250),o=n(470079),r=n(481060),a=n(617136),i=n(113434),l=n(497505),c=n(918701),d=n(796111),u=n(667105),p=n(46140),x=n(689938),m=n(941624);let g=e=>{let{quest:t}=e;return(0,s.jsx)("div",{className:m.ctaContainer,children:(0,s.jsx)(r.Button,{className:m.flex,size:r.Button.Sizes.SMALL,onClick:()=>(0,c.FE)(t,{content:l.jn.QUEST_BAR_V2,ctaContent:a.jZ.OPEN_GAME_LINK}),children:x.Z.Messages.QUESTS_GET_THIS_GAME})})},C=e=>{let{quest:t}=e;return(0,s.jsx)("div",{className:m.ctaContainer,children:(0,s.jsx)(r.Button,{fullWidth:!0,onClick:()=>(0,c.gI)({quest:t,showInline:!1},{content:l.jn.QUEST_BAR_V2,ctaContent:a.jZ.CONNECT_CONSOLE}),size:r.Button.Sizes.SMALL,children:x.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_CTA})})},f=e=>{let{quest:t,useReducedMotion:n,isExpanded:o}=e,a=(0,u.hf)({quest:t,location:l.jn.QUEST_BAR_V2});return(0,s.jsx)("div",{className:m.ctaContainer,children:(0,s.jsx)(r.ShinyButton,{fullWidth:!0,size:r.Button.Sizes.SMALL,onClick:a,pauseAnimation:n||!o,buttonShineClassName:m.shine,children:x.Z.Messages.QUESTS_CLAIM_REWARD})})},_=e=>{let{quest:t}=e,{xboxAndPlaystationAccounts:n}=(0,i.z6)(),s=(0,d.P)({location:p.dr.QUESTS_BAR});return o.useMemo(()=>{let e=(0,c.$J)(t),o=0===n.length;return e&&o&&!s},[t,n,s])},h=e=>{var t;let{quest:n,useReducedMotion:o,isExpanded:r,hasMadeProgress:a}=e,l=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null,d=_({quest:n}),u=(0,i.z)(n);if(l)return(0,s.jsx)(f,{quest:n,useReducedMotion:o,isExpanded:r});if(d)return(0,s.jsx)(C,{quest:n});if(!a&&!u&&!(0,c.zK)(n,p.S7.IN_HOUSE_CONSOLE_QUEST))return(0,s.jsx)(g,{quest:n});return null}},472144:function(e,t,n){var s=n(735250),o=n(470079),r=n(569379),a=n(448288);t.Z=o.forwardRef((e,t)=>{let{quest:n,percentComplete:o,size:i=42,strokeWidth:l=3,glowBlur:c=.4,children:d}=e,u=(0,r.EK)(n,o>0),p=i/2,x=i/2-l/2,m=2*Math.PI*x,g=m-o*m,C={strokeDasharray:"".concat(m," ").concat(m),strokeDashoffset:g},f={strokeDasharray:"".concat(m," ").concat(m),strokeDashoffset:-o*m},_={boxShadow:"0 0 30px 0px ".concat(u.glow)};return(0,s.jsxs)("div",{className:a.outer,ref:t,children:[(0,s.jsx)("div",{className:a.inner,style:_,children:d}),(0,s.jsxs)("svg",{className:a.progressBar,height:i,width:i,children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"glow",children:[(0,s.jsx)("feGaussianBlur",{result:"coloredBlur",stdDeviation:c}),(0,s.jsxs)("feMerge",{children:[(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,s.jsxs)("linearGradient",{id:"linear",x1:"100%",y1:"0%",x2:"0%",y2:"0%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:u.backgroundTop}),(0,s.jsx)("stop",{offset:"100%",stopColor:u.backgroundBottom})]})]}),(0,s.jsx)("circle",{className:a.progress,strokeWidth:l,fill:"transparent",r:x,cx:p,cy:p,stroke:"url(#linear)",style:f}),(0,s.jsx)("circle",{className:a.progress,strokeWidth:l,fill:"transparent",r:x,cx:p,cy:p,stroke:u.foreground,style:C})]})]})})},759853:function(e,t,n){n(47120);var s=n(735250),o=n(470079),r=n(887024),a=n(338545),i=n(442837),l=n(110924),c=n(607070),d=n(819640),u=n(569379),p=n(675654),x=n(267925),m=n(197857);let g=["#51BC9D"];t.Z=e=>{var t;let{quest:n,progressBarRef:C,isExpanded:f}=e,{completionSpring:_,startCompletionAnimation:h}=(0,u.GX)(),E=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null,T=o.useRef(!1),S=(0,i.e7)([c.Z],()=>c.Z.useReducedMotion),N=o.useRef(null),A=(0,i.e7)([d.Z],()=>d.Z.hasLayers()),v=(0,l.Z)(A),[j,B]=o.useState(null),[b,O]=o.useState(null),R=o.useRef(new r.qA({gravity:0,wind:0})),I=(0,r.uR)(j,b),y=o.useCallback(()=>{if(S)return;let e=C.current,t=N.current;if(null!=t&&null!=e&&I.isReady){var n,s,o,r;let{x:a,y:i}=e.getBoundingClientRect(),{x:l,y:c}=t.getBoundingClientRect();I.createMultipleConfetti((n=a-l,s=i-c,o=e.clientHeight,r=e.clientWidth,{...p.We,position:{type:"static-random",minValue:{x:n,y:s},maxValue:{x:n+o,y:s+r}},velocity:{type:"static-random",minValue:{x:-20,y:-20},maxValue:{x:20,y:20}},opacity:{type:"linear",value:2,addValue:-.1},dragCoefficient:{type:"static",value:1e-4},size:{type:"static-random",minValue:2,maxValue:3}}),100)}},[C,N,I,S]),U=(0,l.Z)(f);return(o.useEffect(()=>{E&&f&&!U&&(h(),y())},[f,E,h,y,U]),o.useEffect(()=>{E&&!A&&v&&setTimeout(()=>{h(),y()},200)},[E,v,A,h,y]),o.useEffect(()=>{if(!!I.isReady)!T.current&&E&&(h(),y()),T.current=E},[E,T,y,h,I]),S)?null:(0,s.jsxs)("div",{className:x.wrapper,"aria-hidden":"true",ref:N,children:[(0,s.jsx)(a.animated.div,{className:x.background,style:{opacity:_}}),(0,s.jsx)(r.O_,{ref:B,className:x.confetti,environment:R.current}),(0,s.jsx)(r.Ji,{ref:O,sprites:[m],colors:g,spriteWidth:p.Ko,spriteHeight:p.Ko})]})}},205511:function(e,t,n){var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(442837),l=n(481060),c=n(607070),d=n(706454),u=n(63063),p=n(617136),x=n(113434),m=n(497505),g=n(918701),C=n(566078),f=n(667105),_=n(585857),h=n(46140),E=n(981631),T=n(689938),S=n(778239);function N(e){let{children:t,isComplete:n,hasNextStep:o}=e;return(0,s.jsxs)("li",{className:a()(S.stepWrapper,{[S.stepWrapperComplete]:n},{[S.stepWrapperWithNextStep]:o}),children:[(0,s.jsxs)("div",{className:S.stepIndicator,children:[(0,s.jsx)("div",{className:S.stepIconWrapper,children:n&&(0,s.jsx)(l.CheckmarkBoldIcon,{className:S.stepIcon,color:l.tokens.colors.WHITE})}),o&&(0,s.jsx)("div",{className:S.stepConnector})]}),(0,s.jsx)("div",{className:S.stepContent,children:t})]})}function A(e){let{quest:t,useReducedMotion:n,connectedAccounts:r}=e,c=(0,i.e7)([d.default],()=>d.default.locale),_=(0,f.g2)({useReducedMotion:n}),{errorHints:N,startingConsoleQuest:A,startConsoleQuest:v}=(0,x.GI)({questId:t.id,beforeRequest:()=>{(0,p._3)({questId:t.id,questContent:m.jn.QUEST_BAR_V2,questContentCTA:p.jZ.DEFIBRILLATOR}),_.startAnimation()},afterRequest:_.stopAnimation}),{header:j,renderBody:B}=o.useMemo(()=>{let e=N.length>0,n=()=>(0,s.jsx)("div",{children:N.map((e,t)=>(0,s.jsx)(l.Text,{className:S.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:e},t))});if((0,g.zK)(t,h.S7.IN_HOUSE_CONSOLE_QUEST))return{header:e?T.Z.Messages.QUESTS_ANY_GAME_NOT_DETECTED:T.Z.Messages.QUESTS_MICROPHONE_UNIT_HEADER,renderBody:e?n:()=>(0,s.jsx)(l.Text,{className:S.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:T.Z.Messages.QUESTS_MICROPHONE_UNIT_BODY_ANY_GAME})};let o=C.r.build(t.config).application.name;return{header:e?T.Z.Messages.QUESTS_GAME_NOT_DETECTED.format({gameTitle:o}):T.Z.Messages.QUESTS_LAUNCHED_GAME.format({gameTitle:o}),renderBody:e?n:()=>(0,s.jsx)(l.Text,{className:S.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:T.Z.Messages.QUESTS_MICROPHONE_UNIT_BODY.format({gameTitle:o})})}},[t,N]);return(0,s.jsxs)("div",{className:S.microphoneUnit,children:[(0,s.jsxs)("div",{className:S.microphoneUnitHeader,children:[(0,s.jsx)(l.CircleExclamationPointIcon,{size:"custom",color:"currentColor",className:0===N.length?S.warningCircle:S.errorCircle,width:16,height:16}),(0,s.jsx)(l.Text,{variant:"text-xs/medium",children:j}),(0,s.jsx)(l.Clickable,{className:a()(S.microphoneUnitRefreshIconWrapper,{[S.disabled]:A}),onClick:()=>v(),children:_.render()})]}),B(),0===N.length?null:(0,s.jsx)(l.Text,{className:S.microphoneUnitBodyText,color:"text-muted",variant:"text-xxs/normal",children:function(){let e=r.playstationAccounts.length>0,t=r.xboxAccounts.length>0;return e&&!t||!e&&t?"en-US"===c?T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_HELP_ARTICLE_SINGLE.format({helpdeskArticle:u.Z.getArticleURL(e?E.BhN.QUEST_HOW_TO_PLAYSTATION:E.BhN.QUEST_HOW_TO_XBOX)}):T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_SINGLE_CONSOLE.format({helpdeskArticle:u.Z.getArticleURL(e?E.BhN.PS_CONNECTION:E.BhN.XBOX_CONNECTION)}):"en-US"===c?T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_HELP_ARTICLE_MULTI.format({psHelpdeskArticle:u.Z.getArticleURL(E.BhN.QUEST_HOW_TO_PLAYSTATION),xboxHelpdeskArticle:u.Z.getArticleURL(E.BhN.QUEST_HOW_TO_XBOX)}):T.Z.Messages.QUESTS_MICROPHONE_UNIT_FOOTER_PLAYSTATION_OR_XBOX.format({psHelpdeskArticle:u.Z.getArticleURL(E.BhN.PS_CONNECTION),xboxHelpdeskArticle:u.Z.getArticleURL(E.BhN.XBOX_CONNECTION)})}()})]})}function v(e){let{text:t}=e;return(0,s.jsx)(l.Text,{color:"text-muted",variant:"text-xs/medium",children:t})}t.Z=function(e){let{quest:t,taskDetails:n}=e,r=(0,i.e7)([c.Z],()=>c.Z.useReducedMotion),a=(0,x.z6)(),{steps:d,hasConnectedAccounts:u,isProgressingQuestForLaunchedGame:p,isQuestComplete:m}=o.useMemo(()=>{var e;let o=a.xboxAndPlaystationAccounts.length>0,r=o&&(0,g.Bz)(t),i=(0,g.zK)(t,h.S7.IN_HOUSE_CONSOLE_QUEST),l=C.r.build(t.config).application.name,c=(null===(e=t.userStatus)||void 0===e?void 0:e.completedAt)!=null;return{steps:[{renderContent:()=>(0,s.jsx)(_.Q,{...a,quest:t}),isComplete:o||r||c},{renderContent:()=>(0,s.jsx)(v,{text:i?T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_LAUNCH_ANY_GAME:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_LAUNCH_GAME.format({gameTitle:l})}),isComplete:r||c},{renderContent:()=>(0,s.jsx)(v,{text:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_PLAYTIME.format({numMinutes:n.targetMinutes})}),isComplete:c}],hasConnectedAccounts:o,isProgressingQuestForLaunchedGame:r,isQuestComplete:c}},[a,t,n]);return(0,s.jsxs)("div",{className:S.wrapper,children:[(0,s.jsx)("div",{className:S.headingWrapper,children:(0,s.jsx)(l.Heading,{className:S.heading,variant:"text-xs/medium",children:T.Z.Messages.QUESTS_CONSOLE_CONNECTION_HELPER_STEPS_HEADING})}),(0,s.jsxs)("div",{className:S.stepsWrapper,children:[(0,s.jsx)("ul",{children:d.map((e,t)=>(0,s.jsx)(N,{isComplete:e.isComplete,hasNextStep:t<d.length-1,children:e.renderContent()},t))}),u&&!p&&!m&&(0,s.jsx)(A,{connectedAccounts:a,useReducedMotion:r,quest:t})]})]})}},743294:function(e,t,n){n.d(t,{Li:function(){return r},aY:function(){return s},v6:function(){return o}});let s="#00000000",o="#CDD8FF1A",r=12},457153:function(e,t,n){var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(338545),l=n(759853),c=n(95985),d=n(743294),u=n(985444);let p=o.forwardRef(function(e,t){var n;let{className:r,expansionSpring:p,isExpanded:x,isExpansionAnimationComplete:m,quest:g,taskDetails:C}=e,f=o.useRef(null),_=(null===(n=g.userStatus)||void 0===n?void 0:n.enrolledAt)!=null;return(0,s.jsxs)(i.animated.div,{ref:t,"aria-hidden":x&&m,className:a()(r,u.contentCollapsed,{[u.contentCollapsedExpanded]:x,[u.contentCollapsedAccepted]:_}),style:{opacity:p.to({range:[0,1],output:[1,0]})},children:[_?(0,s.jsx)("div",{className:u.postEnrollmentBackground,style:{backgroundImage:"linear-gradient(90deg, ".concat(d.aY,", ").concat(d.v6,")")}}):null,(0,s.jsx)(l.Z,{progressBarRef:f,quest:g,isExpanded:x}),(0,s.jsx)("div",{className:u.contentCollapsedWrapper,children:_?(0,s.jsx)(c.Z,{quest:g,progressBarRef:f,isExpanded:!1,taskDetails:C}):null})]})});t.Z=p},254197:function(e,t,n){var s=n(735250),o=n(470079),r=n(120356),a=n.n(r),i=n(338545),l=n(754700),c=n(442837),d=n(481060),u=n(810090),p=n(617136),x=n(272008),m=n(113434),g=n(569984),C=n(497505),f=n(918701),_=n(988303),h=n(644646),E=n(78826),T=n(670638),S=n(330039),N=n(693900),A=n(524824),v=n(164495),j=n(759853),B=n(205511),b=n(95985),O=n(658590),R=n(46140),I=n(689938),y=n(689065);let U=o.forwardRef(function(e,t){var n;let{className:r,isExpanded:U,isExpansionAnimationComplete:M,expansionSpring:q,onCtxMenuOpen:Z,onCtxMenuClose:P,onCtxMenuSelect:k,quest:L,useReducedMotion:Q,taskDetails:w}=e,W=o.useRef(null),H=(0,c.e7)([g.Z],()=>g.Z.isEnrolling(L.id),[L]),D=(0,m.B6)(L.config.expiresAt),V=o.useMemo(()=>(0,f.nP)(L.config.assets.questBarHero),[L]),z=o.useCallback(()=>{(0,x.AH)(L.id,{questContent:C.jn.QUEST_BAR_V2,questContentCTA:p.jZ.ACCEPT_QUEST})},[L]),{primaryVariant:G}=_.u.useExperiment({location:R.dr.QUESTS_BAR},{autoTrackExposure:!1}),F=(null===(n=L.userStatus)||void 0===n?void 0:n.enrolledAt)!=null,X=U&&M,{questSupportsConsole:Y,isProgressingOnConsole:K}=o.useMemo(()=>({questSupportsConsole:(0,f.$J)(L),isProgressingOnConsole:(0,f.Bz)(L)}),[L]),J=(0,m.pe)(L),$=w.percentComplete>0,ee=!K&&!l.T.CONSOLE.has(w.taskType)&&(J||l.T.DESKTOP.has(w.taskType)),et=(0,f.ph)(L),en=(0,f.pG)({quest:L,useV2Variants:G===_.P.V2||(0,O.a)(L),taskDetails:w});return(0,s.jsx)("div",{"aria-hidden":!X,className:a()(r,y.contentExpanded,{[y.contentInteractable]:X,[y.contentExpandedAccepted]:F}),children:F?(0,s.jsxs)("div",{className:y.questAcceptedContent,ref:t,children:[(0,s.jsxs)("div",{className:y.questAcceptedHeader,children:[(0,s.jsx)(d.Text,{variant:"text-xxs/medium",className:a()(y.flex,y.headerText),children:I.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:D})}),(0,s.jsx)(T.r,{onOpen:Z,onClose:P,onSelect:k,questContent:C.jn.QUEST_BAR_V2,quest:L,shouldShowDisclosure:!1,showShareLink:!0,children:e=>(0,s.jsx)(d.Clickable,{...e,className:y.submenuWrapper,"aria-label":I.Z.Messages.ACTIONS,children:(0,s.jsx)(d.MoreHorizontalIcon,{size:"md",color:"currentColor",className:a()(y.submenuIcon,y.interactiveNormal)})})})]}),(0,s.jsx)("div",{className:y.divider}),(0,s.jsx)(j.Z,{progressBarRef:W,quest:L,isExpanded:U}),(0,s.jsx)(b.Z,{quest:L,progressBarRef:W,isExpanded:!0,taskDetails:w}),(0,A.r)(L)&&(0,s.jsx)(S.Z,{style:{marginTop:8}}),(0,s.jsx)(N.n,{children:Y&&!ee&&(0,s.jsx)(B.Z,{quest:L,taskDetails:w})}),(0,s.jsx)(N.n,{children:(0,s.jsx)(v.y,{quest:L,useReducedMotion:Q,isExpanded:U,hasMadeProgress:$})})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:y.questPromoContent,ref:t,children:[(0,s.jsxs)("div",{className:y.details,children:[(0,s.jsx)(h.Z,{className:y.rewardTile,learnMoreStyle:"text",quest:L,questContent:C.jn.QUEST_BAR_V2}),(0,s.jsx)(d.Heading,{className:y.title,variant:"heading-md/medium",children:I.Z.Messages.QUESTS_TITLE.format({questName:L.config.messages.questName})}),(0,s.jsx)(d.Text,{className:y.description,variant:"text-xs/normal",children:en})]}),(0,s.jsx)(d.Button,{className:y.cta,color:d.Button.Colors.BRAND,fullWidth:!0,onClick:X?z:void 0,size:d.Button.Sizes.SMALL,submitting:H,children:I.Z.Messages.QUESTS_ACCEPT_QUEST})]}),(0,s.jsxs)(i.animated.div,{className:y.heroAssetWrapper,style:{backdropFilter:q.to([0,1],[5,0]).to(e=>"blur(".concat(e,"px)")),filter:q.to([0,1],[.8,1]).to(e=>"brightness(".concat(e,")"))},children:[(0,s.jsx)(i.animated.div,{className:y.heroAssetDarken,style:{opacity:q.to([0,1],[1,0])}}),(0,s.jsx)(i.animated.div,{className:y.heroAssetTint,style:{backgroundColor:L.config.colors.primary,opacity:q.to([0,1],[1,0])}}),V?(0,s.jsx)(E.Fl,{id:"QuestBarV2ContentExpanded_heroAnimated",children:e=>(0,s.jsx)(u.Z,{ref:e,autoPlay:!Q,loop:!0,muted:!0,playsInline:!0,className:y.heroAsset,controls:!1,children:(0,s.jsx)("source",{src:et,type:(0,f.mN)(et)})})}):(0,s.jsx)(E.Fl,{id:"QuestBarV2ContentExpanded_heroStatic",children:e=>(0,s.jsx)("img",{ref:e,alt:"",className:y.heroAsset,src:et})}),(0,s.jsx)(i.animated.div,{className:y.legibilityGradient,style:{opacity:q.to({range:[0,1],output:[0,1]})}})]})]})})});t.Z=U},569379:function(e,t,n){n.d(t,{EK:function(){return C},GX:function(){return g},eQ:function(){return x},vf:function(){return m}}),n(47120);var s=n(470079),o=n(338545),r=n(442837),a=n(410030),i=n(706454),l=n(930153),c=n(113434),d=n(918701),u=n(566078),p=n(689938);function x(e){var t,n;let s=(0,r.e7)([i.default],()=>i.default.locale),{percentComplete:o}=(0,c.Rf)(e);if((null===(t=e.userStatus)||void 0===t?void 0:t.completedAt)!=null)return p.Z.Messages.QUESTS_COMPLETION_COMPLETE;if((null===(n=e.userStatus)||void 0===n?void 0:n.enrolledAt)!=null&&o>0){let e=(0,l.T3)(s,o,{roundingMode:"floor"});return p.Z.Messages.QUESTS_COMPLETION_PROGRESS_STARTED_V2.format({percent:e})}return(0,d.$J)(e)?p.Z.Messages.QUEST_BAR_TITLE_START_PLAYING:p.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED}function m(e,t){var n;let s=(0,c.B6)(u.r.build(e.config).rewardsExpireAt),o=(0,c.Rf)(e),r=(null===(n=e.userStatus)||void 0===n?void 0:n.completedAt)!=null,a=(0,c.z)(e);if(r)return p.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:s});if(t)return(0,d.pG)({quest:e,useV2Variants:!0,taskDetails:o});if(o.percentComplete>0)return a?(0,d.AV)({quest:e,taskDetails:o}):p.Z.Messages.QUEST_BAR_TITLE_START_PLAYING;return p.Z.Messages.QUESTS_COMPLETION_PROGRESS_NOT_STARTED_SUBTITLE}function g(){let[{spring:e},t]=(0,o.useSpring)(()=>({spring:0}));return{completionSpring:e,startCompletionAnimation:s.useCallback(()=>{t({spring:1}),t({spring:0,delay:2e3})},[t])}}function C(e,t){var n;let s=(0,c.z)(e),o=null!==(n=(0,a.i6)())&&void 0!==n?n:0,r="var(--green-330)",i=["var(--background-tertiary)","var(--interactive-normal)"],l=t?i[o]:["#828288","#CBCDD4"][o];return{backgroundTop:l,backgroundBottom:t?i[o]:["#535356","#8B8C95"][o],foreground:r,glow:t&&s?r:"#C4C1D66E"}}},95985:function(e,t,n){var s=n(735250);n(470079);var o=n(481060),r=n(497505),a=n(644646),i=n(613087),l=n(472144),c=n(569379),d=n(985444);t.Z=e=>{let{quest:t,progressBarRef:n,isExpanded:u,taskDetails:p}=e,{percentComplete:x}=p,m=(0,c.eQ)(t),g=(0,c.vf)(t,u),C=u?"expanded":"collapsed";return(0,s.jsxs)("div",{className:d.questProgressWrapper,children:[(0,s.jsx)(i.l7,{inState:C,id:"progress-bar",ref:n,children:e=>(0,s.jsx)(l.Z,{ref:e,quest:t,percentComplete:x,size:42,strokeWidth:3,children:(0,s.jsx)(a.Z,{className:d.questProgressRewardTile,quest:t,questContent:r.jn.QUEST_BAR_V2,autoplay:!1})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.l7,{inState:C,id:"progress-title",children:e=>(0,s.jsx)(o.Text,{ref:e,className:d.questProgressHint,color:"header-primary",variant:"text-sm/semibold",children:m})}),(0,s.jsx)(i.l7,{inState:C,id:"progress-subtitle",isTextTransition:!0,children:e=>(0,s.jsx)(o.Text,{ref:e,className:d.questProgressHint,color:"text-muted",variant:"text-xs/normal",children:g})})]})]})}},321025:function(e,t,n){n.d(t,{Z:function(){return l}});var s=n(735250),o=n(470079),r=n(338545),a=n(130653),i=n(613087);function l(e){let{expansionSpring:t,isExpanded:n}=e,{animatedComponentProps:l,recalculateAnimationPositions:c}=o.useContext(i.B$),d=o.useContext(a.T);return o.useEffect(()=>{c()},[c,n]),(0,s.jsx)("div",{style:{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:l.map(e=>{let{id:n,collapsedLeft:o,expandedLeft:a,collapsedTop:i,expandedTop:l,collapsedRight:c,expandedRight:u}=e;return(0,s.jsx)(r.animated.div,{id:d?"quest-bar-v2-preview-"+n:"quest-bar-v2-"+n,style:{zIndex:2,position:"absolute",top:t.to({range:[0,1],output:[i,l]}),right:Math.min(c,u),left:t.to({range:[0,1],output:[o,a]})}},n)})})}},658590:function(e,t,n){n.d(t,{a:function(){return r}});var s=n(918701),o=n(46140);let r=e=>{let t="1193992107035983872"===e.id,n=(0,s.zK)(e,o.S7.IN_HOUSE_CONSOLE_QUEST),r=(0,s.zK)(e,o.S7.MOBILE_CONSOLE_QUEST);return t||n||r}},448018:function(e,t,n){n.d(t,{v:function(){return p}});var s=n(497505),o=n(988303),r=n(909389),a=n(941348),i=n(658590),l=n(743294);let c={component:r.Z,getCollapsedHeight:()=>40,getPreEnrollmentExpandedHeight:()=>240,getPostEnrollmentBackgroundImage:e=>"linear-gradient(90deg, ".concat(e.config.colors.primary,", ").concat(e.config.colors.secondary,")"),getPreEnrollmentBackgroundColor:e=>void 0,canCollapseOnBlur:e=>{var t;return(null===(t=e.userStatus)||void 0===t?void 0:t.completedAt)==null},shouldExpandOnQuestComplete:e=>!0,getVerticalPadding:()=>8},d=l.Li,u={component:a.Z,getCollapsedHeight:e=>{var t;return(null===(t=e.userStatus)||void 0===t?void 0:t.enrolledAt)!=null?66:40},getPreEnrollmentExpandedHeight:()=>270,getPostEnrollmentBackgroundImage:()=>"linear-gradient(90deg, ".concat(l.aY,", ").concat(l.v6,")"),getPreEnrollmentBackgroundColor:e=>"var(--home-background)",canCollapseOnBlur:e=>!0,shouldExpandOnQuestComplete:e=>!1,getVerticalPadding:()=>d},p=(e,t,n)=>{var r;let a=(null===(r=e.userStatus)||void 0===r?void 0:r.enrolledAt)!=null,l=!a&&t===o.P.V2||a&&n===o.P.V2||(0,i.a)(e),d=l?u:c;return{component:d.component,collapsedHeight:d.getCollapsedHeight(e),preEnrollmentExpandedHeight:d.getPreEnrollmentExpandedHeight(e),postEnrollmentBackgroundImage:d.getPostEnrollmentBackgroundImage(e),preEnrollmentBackgroundColor:d.getPreEnrollmentBackgroundColor(e),canCollapseOnBlur:d.canCollapseOnBlur(e),shouldExpandOnQuestComplete:d.shouldExpandOnQuestComplete(e),paddingVertical:d.getVerticalPadding(),trackingCtx:{content:l?s.jn.QUEST_BAR_V2:s.jn.QUEST_BAR}}}},276458:function(e,t,n){e.exports={connectConsoleButton:"connectConsoleButton_a22da9",playstationButtonConnected:"playstationButtonConnected_a22da9",xboxButtonConnected:"xboxButtonConnected_a22da9",connectConsoleButtonWrapper:"connectConsoleButtonWrapper_a22da9",connectConsoleButtonUnconnected:"connectConsoleButtonUnconnected_a22da9",inlineConsoleConnectionDetails:"inlineConsoleConnectionDetails_a22da9",inlineConsoleConnectionDetailsIcons:"inlineConsoleConnectionDetailsIcons_a22da9",consoleIconDivider:"consoleIconDivider_a22da9",inlineConsoleConnectionDetailsUpper:"inlineConsoleConnectionDetailsUpper_a22da9",inlineConsoleConnectionDetailsLower:"inlineConsoleConnectionDetailsLower_a22da9",inlineConsoleConnectionDetailsLowerItem:"inlineConsoleConnectionDetailsLowerItem_a22da9",marginTop4px:"marginTop4px_a22da9",showConnectionsButton:"showConnectionsButton_a22da9"}},432237:function(e,t,n){e.exports={content:"content_ea12a7"}},880337:function(e,t,n){e.exports={lottieAnimation:"lottieAnimation_edcd21",backgroundFallback:"backgroundFallback_edcd21",lottieAnimationBackgroundWrapper:"lottieAnimationBackgroundWrapper_edcd21",lottieAnimationBackground:"lottieAnimationBackground_edcd21"}},974772:function(e,t,n){e.exports={contentCollapsed:"contentCollapsed_c0b64f",contentCollapsedWrapper:"contentCollapsedWrapper_c0b64f",contentCollapsedAccepted:"contentCollapsedAccepted_c0b64f",contentCollapsedExpanded:"contentCollapsedExpanded_c0b64f",brandingWrapper:"brandingWrapper_c0b64f",partnerBranding:"partnerBranding_c0b64f",questName:"questName_c0b64f",questProgressWrapper:"questProgressWrapper_c0b64f",questProgressRewardTile:"questProgressRewardTile_c0b64f",questProgressBar:"questProgressBar_c0b64f",questProgressHint:"questProgressHint_c0b64f"}},47067:function(e,t,n){e.exports={contentExpanded:"contentExpanded_d8f06d",contentInteractable:"contentInteractable_d8f06d",questPromoContent:"questPromoContent_d8f06d",utils:"utils_d8f06d",questAcceptedContent:"questAcceptedContent_d8f06d",details:"details_d8f06d",submenuWrapper:"submenuWrapper_d8f06d",submenuIcon:"submenuIcon_d8f06d",heroAssetWrapper:"heroAssetWrapper_d8f06d",heroAsset:"heroAsset_d8f06d",cta:"cta_d8f06d",ctaClaimReward:"ctaClaimReward_d8f06d",title:"title_d8f06d",description:"description_d8f06d",rewardTile:"rewardTile_d8f06d",questAcceptedContentHeading:"questAcceptedContentHeading_d8f06d",questProgressRewardTile:"questProgressRewardTile_d8f06d",questAcceptedContentCopySubheading:"questAcceptedContentCopySubheading_d8f06d"}},768545:function(e,t,n){e.exports={content:"content_fb2cb3"}},560594:function(e,t,n){e.exports={wrapper:"wrapper_efa999",interactable:"interactable_efa999",wreathIcon:"wreathIcon_efa999",questAvailable:"questAvailable_efa999",questAvailableText:"questAvailableText_efa999",submenuWrapper:"submenuWrapper_efa999",submenuIcon:"submenuIcon_efa999",white:"white_efa999",promotedBadgeWrapper:"promotedBadgeWrapper_efa999",logo:"logo_efa999",promotedBadge:"promotedBadge_efa999",promotedBadgeIcon:"promotedBadgeIcon_efa999",background:"background_efa999",backgroundAnimation:"backgroundAnimation_efa999",backgroundWrapper:"backgroundWrapper_efa999"}},941624:function(e,t,n){e.exports={flex:"flex_e60321",ctaContainer:"ctaContainer_e60321",shine:"shine_e60321"}},448288:function(e,t,n){e.exports={outer:"outer_df6b25",progressBar:"progressBar_df6b25",progress:"progress_df6b25",inner:"inner_df6b25"}},267925:function(e,t,n){e.exports={wrapper:"wrapper_f4e40b",background:"background_f4e40b",confetti:"confetti_f4e40b"}},778239:function(e,t,n){e.exports={wrapper:"wrapper_f21e08",stepsWrapper:"stepsWrapper_f21e08",microphoneUnit:"microphoneUnit_f21e08",microphoneUnitHeader:"microphoneUnitHeader_f21e08",warningCircle:"warningCircle_f21e08",errorCircle:"errorCircle_f21e08",microphoneUnitRefreshIconWrapper:"microphoneUnitRefreshIconWrapper_f21e08",disabled:"disabled_f21e08",microphoneUnitBodyText:"microphoneUnitBodyText_f21e08",headingWrapper:"headingWrapper_f21e08",heading:"heading_f21e08",stepWrapper:"stepWrapper_f21e08",stepContent:"stepContent_f21e08",stepWrapperWithNextStep:"stepWrapperWithNextStep_f21e08",stepIndicator:"stepIndicator_f21e08",stepIconWrapper:"stepIconWrapper_f21e08",stepWrapperComplete:"stepWrapperComplete_f21e08",stepConnector:"stepConnector_f21e08",stepIcon:"stepIcon_f21e08"}},985444:function(e,t,n){e.exports={contentCollapsed:"contentCollapsed_c3427e",contentCollapsedWrapper:"contentCollapsedWrapper_c3427e",contentCollapsedAccepted:"contentCollapsedAccepted_c3427e",contentCollapsedExpanded:"contentCollapsedExpanded_c3427e",postEnrollmentBackground:"postEnrollmentBackground_c3427e",questProgressWrapper:"questProgressWrapper_c3427e",questProgressRewardTile:"questProgressRewardTile_c3427e",questProgressHint:"questProgressHint_c3427e"}},689065:function(e,t,n){e.exports={contentExpanded:"contentExpanded_e23249",contentExpandedAccepted:"contentExpandedAccepted_e23249",contentInteractable:"contentInteractable_e23249",questPromoContent:"questPromoContent_e23249",questAcceptedHeader:"questAcceptedHeader_e23249",divider:"divider_e23249",details:"details_e23249",submenuWrapper:"submenuWrapper_e23249",questAcceptedContent:"questAcceptedContent_e23249",submenuIcon:"submenuIcon_e23249",interactiveNormal:"interactiveNormal_e23249",heroAssetWrapper:"heroAssetWrapper_e23249",legibilityGradient:"legibilityGradient_e23249",heroAsset:"heroAsset_e23249",heroAssetTint:"heroAssetTint_e23249",heroAssetDarken:"heroAssetDarken_e23249",cta:"cta_e23249",headerText:"headerText_e23249",title:"title_e23249",rewardTile:"rewardTile_e23249",description:"description_e23249",flex:"flex_e23249"}}}]);
//# sourceMappingURL=981143a22d98ce4a704f.js.map