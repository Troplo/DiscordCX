(window.webpackJsonp=window.webpackJsonp||[]).push([[233,11,17,287,288,289],{5096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=w(n(10)),i=w(n(20)),l=w(n(5723)),u=w(n(5721)),s=w(n(5856)),d=w(n(5737)),c=w(n(6006)),f=w(n(6007)),p=w(n(6008)),y=w(n(6014)),v=w(n(6015)),h=w(n(5907)),_=w(n(6016)),m=w(n(6017)),g=w(n(6018)),O=w(n(6019)),A=w(n(6020)),E=w(n(6021)),I=w(n(6063)),S=w(n(6064)),T=w(n(6065)),b=w(n(6066)),P=w(n(6067)),N=w(n(6068)),C=w(n(6069)),M=w(n(6071)),R=w(n(6072)),L=n(1);function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var U=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var w=r.prototype;return w.renderAdminGroup=function(){var e=this.props,t=e.user,n=e.guildId,r=e.channelId;return null!=n&&null!=r?D(p.default,{user:t,guildId:n,channelId:r}):null},w.renderRolesGroup=function(){var e=this.props,t=e.user,n=e.guildId,r=e.invertChildY;return null!=n?D(b.default,{userId:t.id,guildId:n,invertChildY:r}):null},w.renderCloseChatItem=function(){var e=this.props,t=e.channelId,n=e.selected;return null!=t?D(_.default,{selected:n,channelId:t}):null},w.renderChangeNicknameItem=function(){var e=this.props,t=e.user,n=e.guildId;return null!=n?D(h.default,{userId:t.id,guildId:n}):null},w.renderMoveToItem=function(){var e=this.props,t=e.user,n=e.guildId,r=e.invertChildY;return null!=n?D(c.default,{user:t,guildId:n,invertChildY:r}):null},w.renderMenu=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.user,n=e.type,r=e.guildId,o=e.channelId,l=e.target,c=e.mediaEngineContext;switch(n){case L.ContextMenuTypes.USER_CHANNEL_MEMBERS:case L.ContextMenuTypes.USER_CHANNEL_VOICE:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(O.default,{user:t,guildId:r}),D(A.default,{userId:t.id}),D(v.default,{userId:t.id}),D(E.default,{user:t,guildId:r,channelId:o,target:l,position:n===L.ContextMenuTypes.USER_CHANNEL_MEMBERS?E.default.LEFT:E.default.RIGHT}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=r?D(h.default,{userId:t.id,guildId:r}):null,D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_MESSAGE:case L.ContextMenuTypes.USER_CHANNEL_MENTION:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(O.default,{user:t,guildId:r}),D(A.default,{userId:t.id}),D(v.default,{userId:t.id}),D(E.default,{user:t,guildId:r,channelId:o,target:l})),D(u.default,{},void 0,this.renderChangeNicknameItem(),D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_PRIVATE_CHANNELS:var p=i.default.getChannel(o);return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(v.default,{userId:t.id}),D(E.default,{user:t,guildId:r,channelId:o,target:l}),this.renderCloseChatItem(),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t}),null!=p?D(s.default,{channel:p}):null),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GROUP_DM:case L.ContextMenuTypes.USER_CALL_AVATAR:var _,b;null!=o&&(_=D(T.default,{userId:t.id,channelId:o}),b=D(u.default,{},void 0,D(S.default,{userId:t.id,channelId:o})));var w=i.default.getChannel(o);return w&&w.isManaged()&&(_=null,b=null),D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(O.default,{user:t}),D(A.default,{userId:t.id}),_,D(E.default,{user:t,channelId:o,target:l}),D(P.default,{userId:t.id})),D(R.default,{userId:t.id}),b,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),null!=o?D(M.default,{userId:t.id,channelId:o,guildId:r}):null,D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_FRIEND_LIST:case L.ContextMenuTypes.USER_PROFILE_MUTUAL:case L.ContextMenuTypes.USER_GENERIC_LIST:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(A.default,{userId:t.id}),D(v.default,{userId:t.id}),D(E.default,{user:t,guildId:r,channelId:o,target:l}),D(P.default,{userId:t.id})),D(u.default,{},void 0,D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_TITLE:case L.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(v.default,{userId:t.id}),D(E.default,{user:t,guildId:r,channelId:o,target:l}),D(P.default,{userId:t.id}),this.renderCloseChatItem()),D(u.default,{},void 0,D(m.default,{user:t,guildId:r}),D(N.default,{user:t}),D(f.default,{user:t}),D(y.default,{user:t})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GUILD_MEMBERS:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(g.default,{userId:t.id,mediaEngineContext:c}),this.renderChangeNicknameItem()),this.renderAdminGroup(),this.renderRolesGroup(),null!=r?D(u.default,{},void 0,D(C.default,{user:t,guildId:r})):null,D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_AUDIT_LOG:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(A.default,{userId:t.id})),this.renderRolesGroup(),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_BANS:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(I.default,{userId:t.id,guildId:r}),D(A.default,{userId:t.id})),D(d.default,{id:t.id}));case L.ContextMenuTypes.USER_ACTIVITY_FEED:return D(a.Fragment,{},void 0,D(u.default,{},void 0,D(N.default,{user:t})));default:console.warn("Error - no such ctx menu type")}return null},w.render=function(){var e=this.props,t=e.analyticsContext,n=e.className,r=e.style;if(o.default.isGuest())return null;var a=this.renderMenu();return null!=a?D(l.default,{context:t,object:L.AnalyticsObjects.CONTEXT_MENU},void 0,D("div",{className:n,style:r},void 0,a)):null},r}(a.PureComponent);U.displayName="UserContextMenu",U.defaultProps={selected:!1};var G=U;t.default=G},5097:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=z(n(0)),o=W(n(15)),i=W(n(21)),l=W(n(3)),u=W(n(140)),s=W(n(780)),d=W(n(5763)),c=W(n(763)),f=W(n(226)),p=W(n(10)),y=W(n(36)),v=W(n(77)),h=W(n(24)),_=W(n(236)),m=W(n(93)),g=W(n(84)),O=W(n(43)),A=W(n(14)),E=W(n(419)),I=W(n(5720)),S=W(n(184)),T=W(n(134)),b=W(n(5794)),P=W(n(5795)),N=W(n(398)),C=n(225),M=W(n(18)),R=z(n(85)),L=W(n(234)),w=n(306),D=n(293),U=n(187),G=W(n(5908)),j=W(n(5723)),k=W(n(5769)),F=W(n(5910)),x=W(n(6025)),B=W(n(5861)),Y=n(1),V=W(n(8)),H=W(n(5095)),K=W(n(5156));function W(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var q=[n(6056),n(6057),n(6058),n(6059),n(6060),n(6061),n(6062)],Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={show:!1},t}J(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({show:!0})},n.getWumpusImage=function(){var e=this.props.userId;if("string"!=typeof e)return q[0];var t=parseInt(e.slice(-6),10);return q[t%q.length]},n.render=function(){var e;return X("div",{className:K.default.wumpusWrapper},void 0,X("div",{className:(0,o.default)(K.default.wumpus,(e={},e[K.default.wumpusShown]=this.state.show,e))},void 0,X("img",{alt:V.default.Messages.IMG_ALT_ICON.format({name:V.default.Messages.WUMPUS}),src:this.getWumpusImage()}),X("span",{className:K.default.wumpusTooltip},void 0,V.default.Messages.USER_POPOUT_WUMPUS_TOOLTIP)))},t}(a.PureComponent);Q.displayName="BouncyWumpus";var Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;e&&e()},t.handleOpenProfile=function(){s.default.open(t.props.user.id,t.props.guildId||void 0),t.close()},t}J(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.fetchApplication().then(function(){return e.trackOpenPopout()})},n.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},n.fetchApplication=function(){var e=this.props.activity;return null!=e&&null!=e.application_id&&null==y.default.getGame(e.application_id)?u.default.fetchApplication(e.application_id):Promise.resolve()},n.trackOpenPopout=function(){var e,t,n,r=this.props,a=r.activity,o=r.user,i=r.status,l=r.showMobileIndicator,u=r.isApplicationStreaming,s=r.analyticsParams,d=r.customStatusActivity;null!=a&&(e=a.party,t=a.assets,n=null!=a.application_id?y.default.getGame(a.application_id):null);var c=i;i===Y.StatusTypes.ONLINE&&(c=l?Y.AnalyticsUserStatusTypes.ONLINE_MOBILE:Y.AnalyticsUserStatusTypes.ONLINE_DESKTOP),M.default.track(Y.AnalyticEvents.OPEN_POPOUT,$({type:"Profile Popout",other_user_id:o.id,application_id:null!=a?a.application_id:void 0,application_name:null!=a?a.name:void 0,sku_id:null!=n?n.primarySkuId:null,is_friend:g.default.isFriend(o.id),has_images:!(null==t||!t.large_image&&!t.small_image),party_max:null!=e&&null!=e.size?e.size[1]:void 0,party_id:null!=e?e.id:void 0,party_platform:null!=e&&(0,w.isSpotifyParty)(e.id)?Y.PlatformTypes.SPOTIFY:null,game_platform:(0,C.getGamePlatform)(a),profile_user_status:c,is_streaming:u,has_custom_status:null!=d},s))},n.getMode=function(){var e=this.props,t=e.activity,n=e.customStatusActivity,r=e.isApplicationStreaming;return null==t&&null==(0,c.default)(n)?"Normal":r?"Playing":(0,C.isStreaming)(t)?"Streaming":(0,C.isOnXbox)(t)?"Xbox":(0,C.isListeningOnSpotify)(t)?"Spotify":"Playing"},n.getStatusMode=function(){var e=this.props,t=e.activity,n=e.status;return(0,C.isStreaming)(t)?"Streaming":(0,D.upperCaseFirstChar)(n)},n.getNonUserBotMode=function(){var e=this.props.disableUserProfileLink;return this.props.user.isNonUserBot()||e?"NonUserBot":"Normal"},n.renderHeaderName=function(e){var t,n,r,a=this.props,i=a.nickname,l=a.showMobileIndicator;return null==i?null:X("div",{className:(0,o.default)(K.default.headerNameWrapper,(t={},t[K.default.nameWithMobileIndicator]=l,t))},void 0,X("span",{className:(0,o.default)(K.default.headerName,(n={},n[K.default.headerNameWithMobileIndicator]=l,n))},void 0,i),l?X(b.default,{className:(0,o.default)(K.default.mobileIndicator,(r={},r[K.default.mobileIndicatorPrimary]="Normal"===e,r[K.default.mobileIndicatorWhite]="Normal"!==e,r))}):null)},n.renderHeader=function(){var e,t,n=this.props,r=n.activity,a=n.user,i=n.nickname,l=n.status,u=n.theme,s=n.disableUserProfileLink,d=n.isGuest,f=n.showMobileIndicator,p=n.customStatusActivity,y=R.hasAnimatedAvatar(a)?a.getAvatarURL("gif"):a.getAvatarURL(),v=a.isNonUserBot(),h=this.getMode(),_=this.getNonUserBotMode(),m=X(I.default,{src:y,size:I.default.Sizes.POPOUT,status:l,statusClassName:K.default.avatarStatus}),g=this.renderHeaderName(h);return X("div",{className:(0,U.getClass)(K.default,"header",h)},void 0,X(T.default,{align:T.default.Align.CENTER,justify:T.default.Justify.CENTER,direction:T.default.Direction.VERTICAL,className:K.default.headerTop},void 0,d?m:X(S.default,{className:(0,U.getClass)(K.default,"avatarWrapper",_),onClick:v||s?null:this.handleOpenProfile},void 0,m,X(T.default,{align:T.default.Align.CENTER,justify:T.default.Justify.CENTER,className:K.default.avatarHint},void 0,X("div",{className:K.default.avatarHintInner},void 0,V.default.Messages.VIEW_PROFILE))),X("div",{className:K.default.headerText},void 0,g,X(T.default,{align:T.default.Align.CENTER},void 0,X(k.default,{user:a,invertBotTagColor:u!==Y.ThemeTypes.LIGHT||"Normal"!==h,hideDiscriminator:v,className:(0,o.default)((e={},e[K.default.headerTagNoNickname]=null==i,e[K.default.headerTagWithNickname]=null!=i,e[K.default.nameWithMobileIndicator]=null==i&&f,e)),usernameClass:null==i?K.default.headerTagUsernameNoNickname:null,botClass:null==i?K.default.headerBotTag:K.default.headerBotTagWithNickname,showMobileIndicator:f&&null==i,mobileIndicatorClassName:(0,o.default)(K.default.mobileIndicator,(t={},t[K.default.mobileIndicatorPrimary]="Normal"===h,t[K.default.mobileIndicatorWhite]="Normal"!==h,t))}))),null!=r||null==(0,c.default)(p)?this.renderCustomStatus():null),this.renderActivity())},n.renderCustomStatus=function(){var e=this.props.customStatusActivity;return null==e||null==e.state?null:X(N.default,{className:K.default.customStatus,size:N.default.Sizes.SIZE_14},void 0,e.state)},n.renderActivity=function(){var e=this.props,t=e.activity,n=e.customStatusActivity,r=e.user,a=e.guildId,o=e.channelId,i=null!=t?t:n;return null==i?null:X(B.default,{type:B.default.Types.USER_POPOUT,activity:i,className:K.default.activity,user:r,guildId:a,channelId:o,source:Y.AnalyticsLocations.PROFILE_POPOUT,onOpenGameProfile:this.close,onOpenConnections:this.close},"activity")},n.renderRoles=function(){var e=this.props,t=e.guild,n=e.user,r=e.guildMember;return null==t||null==r?null:[X("div",{className:K.default.bodyTitle},"title",V.default.Messages.ROLES_LIST.format({numRoles:r.roles.length})),X(G.default,{className:(0,o.default)(K.default.rolesList,K.default.endBodySection),guild:t,user:n,userRoles:r.roles},"roles")]},n.renderNote=function(){var e=this.props,t=e.user,n=e.setNote;return[X("div",{className:K.default.bodyTitle},"title",V.default.Messages.NOTE),X(F.default,{className:K.default.note,userId:t.id,autoFocus:n},"note")]},n.renderBody=function(){return this.props.user.isNonUserBot()?null:X("div",{className:K.default.body},void 0,this.renderRoles(),this.renderNote())},n.renderProtip=function(e){var t;return X(P.default,{type:P.default.Types.INLINE,className:(0,o.default)(K.default.protip,(t={},t[H.default.marginTop8]=e,t))},void 0,V.default.Messages.CONTEXT_MENU_HINT)},n.renderFooter=function(){var e=this.props,t=e.user,n=e.setNote,r=e.isMe,a=e.isLurking;if(t.isNonUserBot())return null;var o=!r&&!a&&(g.default.isFriend(t.id)||null!=v.default.memberOf(t.id).find(function(e){return!O.default.isGuildRestricted(e)})),i=o&&Date.now()-t.createdAt<6048e5;return __OVERLAY__&&!o?null:X("div",{className:K.default.footer},void 0,i?X(Q,{userId:t.id}):null,o?X(x.default,{className:K.default.quickMessage,user:t,autoFocus:!n,onClose:this.close}):null,i||__OVERLAY__?null:this.renderProtip(o))},n.render=function(){return X(j.default,{section:Y.AnalyticsSections.PROFILE_POPOUT},void 0,X("div",{className:K.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(a.PureComponent);Z.displayName="UserPopout",Z.defaultProps={disableUserProfileLink:__OVERLAY__,analyticsParams:{}};var ee=l.default.connectStores([h.default,v.default,m.default,O.default,A.default,_.default,p.default,f.default,E.default],function(e){var t=e.userId,n=e.guildId,r=e.channelId,a=A.default.getUser(t);(0,i.default)(null!=a,"Unexpected missing user");var o=null!=n&&E.default.guildHasCustomStatuses(n);return{user:a,guild:null!=n?h.default.getGuild(n):null,nickname:L.default.getNickname(n,r,a),guildMember:null!=n?v.default.getMember(n,a.id):null,activity:m.default.findActivity(a.id,function(e){return e.type!==Y.ActivityTypes.CUSTOM_STATUS}),customStatusActivity:o?m.default.findActivity(a.id,function(e){return e.type===Y.ActivityTypes.CUSTOM_STATUS}):null,status:a.isNonUserBot()?null:m.default.getStatus(a.id),isMe:A.default.getCurrentUser()===a,theme:O.default.theme,showMobileIndicator:m.default.isMobileOnline(a.id),isLurking:null!=n&&_.default.isLurking(n),isGuest:p.default.isGuest(),isApplicationStreaming:null!=f.default.getStreamForUser(a.id),shouldRenderCustomStatus:o}})((0,d.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(Z));t.default=ee},5099:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(2));n(1);function o(e){return e&&e.__esModule?e:{default:e}}var i={};function l(e){i=e.notes||{}}var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getNotes=function(){return i},a.getNote=function(e){return i[e]||""},r}(r.default.Store))(a.default,{CONNECTION_OPEN:l,OVERLAY_INITIALIZE:l,USER_NOTE_UPDATE:function(e){i[e.id]=e.note}});t.default=u},5100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=n(56),o=l(n(2)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={},d={},c=12e4;function f(e,t,n){var r=n.applicationId,l=s[r]||{};if(l[t]=e,s[r]=l,!__OVERLAY__&&e===i.ActivityActionStates.FAILED){null!=d[r]&&d[r].stop();var u=new a.Timeout;u.start(c,function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:r,activityType:t})}),d[r]=u}}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getState=function(e,t){var n=s[e];return n&&n[t]},a.getStates=function(){return s},r}(r.default.Store))(o.default,{OVERLAY_INITIALIZE:function(e){var t=e.activityLauncherStates;s=u({},t)},ACTIVITY_JOIN_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,e)},ACTIVITY_SPECTATE_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_LAUNCH_FAIL:function(e){var t=e.applicationId,n=e.activityType,r=s[t];if(null==r||r[n]!==i.ActivityActionStates.FAILED)return!1;delete r[n]}});t.default=p},5101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(3)),o=d(n(2)),i=d(n(10)),l=d(n(84)),u=d(n(165)),s=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={},p={};function y(e,t){return(f[e]||{})[t]||null}function v(e,t){var n=y(e,t);if(null!=n){var r=f[e];delete r[t],0===Object.keys(r)&&delete f[e];var a=p[n];null!=a&&(a.delete(e),0===a.size&&delete p[n])}}function h(e,t,n,r){var a=n.find(function(e){return null!=e.party&&e.party.id}),o=null!=a&&null!=a.party?a.party.id:null,i=y(t,e);if(null==o||r===s.StatusTypes.OFFLINE)return null!=i&&void v(t,e);if(null!=i){if(i===o)return!1;v(t,e)}!function(e,t,n){var r=f[e];if(null==r&&(r=f[e]={}),r[t]=n,!l.default.isBlocked(e)){var a=p[n]||new Set;p[n]=a,a.add(e)}}(t,e,o)}function _(e){var t=e.guild,n=!1,r=t.presences,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var l=i,u=l.user,s=l.status,d=l.activities;!1!==h(t.id,u.id,d,s)&&(n=!0)}return n}function m(){var e=i.default.getId(),t=u.default.getActivities();return h(s.ME,e,t)}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([u.default],m),this.waitFor(u.default,l.default)},a.getParty=function(e){return null!=e&&null!=p[e]?p[e]:null},a.getUserParties=function(){return f},a.getParties=function(){return p},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){var t=e.presences,n=e.guilds,r=!1,a=t,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=l,d=u.user,c=u.status,f=u.activities;null!=d&&!1!==h(s.ME,d.id,f,c)&&(r=!0)}var p=n,y=Array.isArray(p),v=0;for(p=y?p:p[Symbol.iterator]();;){var m;if(y){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}!1!==_({guild:m})&&(r=!0)}return r},OVERLAY_INITIALIZE:function(e){var t=e.parties,n=e.userParties;p={},f=c({},n),Object.keys(t).forEach(function(e){return p[e]=new Set(t[e])})},GUILD_CREATE:_,PRESENCES_REPLACE:function(e){var t=!1,n=e.presences,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o,l=i.user,u=i.activities;null!=l&&!1!==h(s.ME,l.id,u)&&(t=!0)}return t},PRESENCE_UPDATE:function(e){var t=e.guildId,n=e.user,r=e.status,a=e.activities;return h(t||s.ME,n.id,a,r)},RELATIONSHIP_ADD:function(e){var t=e.relationship;if(!l.default.isBlocked(t.id))return!1;var n=f[t.id];if(null==n)return!1;var a=r.default.values(n),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(i>=a.length)break;u=a[i++]}else{if((i=a.next()).done)break;u=i.value}var s=p[u];null!=s&&s.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){var t=e.relationship,n=f[t.id];if(null==n)return!1;var a=r.default.values(n),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=p[l];null!=u&&u.add(t.id)}}});t.default=g},5717:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(15)),o=l(n(184)),i=l(n(759));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n=e.styles,r=e.label,l=e.hint,s=e.action,d=e.danger,c=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,y=e.brand,v=void 0!==y&&y,h=e.children,_=void 0===h?null:h;return u(o.default,{className:(0,a.default)(i.default.item,(t={},t[i.default.danger]=c,t[i.default.disabled]=p,t[i.default.brand]=v,t)),style:n,onClick:p?null:s},void 0,u("span",{},void 0,r),u("div",{className:i.default.hint},void 0,l),_)};s.displayName="MenuItem";var d=s;t.default=d},5719:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=a.forwardRef(function(t,n){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.AnalyticsContext.Consumer,{},void 0,function(r){return a.createElement(e,i({},t,{ref:n,analyticsContext:r}))})});return t.displayName="withAnalyticsContext("+(e.displayName||e.name||"")+")",t};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(18);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},5721:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=(r=n(759))&&r.__esModule?r:{default:r};var l=function(e){var t=e.children;return o.Children.toArray(t).length?function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:i.default.itemGroup},void 0,t):null};l.displayName="MenuGroup";var u=l;t.default=u},5722:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(15)),o=s(n(184)),i=s(n(395)),l=s(n(825)),u=s(n(759));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n,r=e.styles,s=e.label,c=e.action,f=e.active,p=void 0!==f&&f,y=e.disabled,v=void 0!==y&&y,h=e.danger,_=void 0!==h&&h,m=e.loading,g=void 0!==m&&m,O=e.className;return v||(n=function(e){return c(e,s,p)}),d(o.default,{className:(0,a.default)(u.default.item,u.default.itemToggle,O,(t={},t[u.default.danger]=_,t)),style:r,onClick:n},void 0,d("div",{className:u.default.label},void 0,g?d(i.default,{type:i.default.Type.PULSING_ELLIPSIS}):s),d(l.default,{checked:p,disabled:v,containerClassName:u.default.checkbox,onChange:function(){}}))};c.displayName="ToggleMenuItem";var f=c;t.default=f},5723:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=(r=n(142))&&r.__esModule?r:{default:r},l=n(18),u=n(756),s=n(1);function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._loadId=t.props.root?i.default.v4():null,t._loadDate=t.props.root?Date.now():null,t.getLocation=(0,u.cachedFunction)(function(e,t,n,r){var a={};return null!=e&&(a.page=e),null!=t&&(a.section=t),null!=n&&(a.object=n),null!=r&&(a.objectType=r),a}),t.mergeLocation=(0,u.cachedFunction)(function(e,t){return c({},e,t)}),t.getContext=(0,u.cachedFunction)(function(e,t,n){return{location:e,loadDate:t,loadId:n}}),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderProvider=function(e){var t=this.props,n=t.section,r=t.page,a=t.object,o=t.objectType,i=t.children,u=this.mergeLocation(e.location,this.getLocation(r,n,a,o)),s=this.getContext(u,this._loadDate||e.loadDate,this._loadId||e.loadId);return d(l.AnalyticsContext.Provider,{value:s},void 0,i)},a.render=function(){var e=this,t=this.props.context;return null!=t?this.renderProvider(t):d(l.AnalyticsContext.Consumer,{},void 0,function(t){return e.renderProvider(t)})},r}(o.Component);t.default=f,f.displayName="AnalyticsContext",f.Pages=s.AnalyticsPages,f.Sections=s.AnalyticsSections,f.Objects=s.AnalyticsObjects,f.ObjectTypes=s.AnalyticsObjectTypes,f.defaultProps={root:!1}},5725:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(9)),a=s(n(2)),o=s(n(437)),i=n(745),l=n(1),u=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={init:function(e,t){void 0===t&&(t=null),a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){(0,i.pushLayer)(l.Layers.GUILD_SETTINGS),f.init(e,t)},close:function(){a.default.wait(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_CLOSE})})},setSection:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,n){r.default.patch({url:l.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:n}}).then(function(t){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,n=e.level,i=e.isEnabled;(0,o.default)({title:u.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:i?u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return r.default.post({url:l.Endpoints.GUILD_MFA(t),body:c({level:n},e)})}).then(function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){r.default.patch({url:l.Endpoints.GUILD(e),body:{icon:t}}).then(function(){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){a.default.dispatch(c({type:l.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var n=t.name,o=t.description,i=t.icon,u=t.splash,s=t.banner,d=t.region,c=t.afkChannelId,f=t.afkTimeout,p=t.systemChannelId,y=t.verificationLevel,v=t.defaultMessageNotifications,h=t.explicitContentFilter,_=t.features,m=t.systemChannelFlags,g=t.preferredLocale;return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT}),r.default.patch({url:l.Endpoints.GUILD(e),body:{name:n,description:o,icon:i,splash:u,banner:s,region:d,features:_,preferred_locale:g,afk_channel_id:c,afk_timeout:f,system_channel_id:p,verification_level:y,default_message_notifications:v,explicit_content_filter:h,system_channel_flags:m}}).then(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return r.default.patch({url:l.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,o.default)({title:u.default.Messages.TRANSFER_OWNERSHIP,actionText:u.default.Messages.TRANSFER_OWNERSHIP},function(n){return r.default.patch({url:l.Endpoints.GUILD(e),body:c({owner_id:t},n)})})},deleteGuild:function(e,t){(0,o.default)({title:u.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:u.default.Messages.DELETE_SERVER},function(t){return r.default.post({url:l.Endpoints.GUILD_DELETE(e),body:t})}).then(function(){return f.close()})},leaveGuild:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.delete(l.Endpoints.GUILD_LEAVE(t));case 2:f.close();case 3:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,l,"next",e)}function l(e){d(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),updateMemberRoles:function(e,t,n){r.default.patch({url:l.Endpoints.GUILD_MEMBER(e,t),body:{roles:n}})},enableIntegration:function(e,t,n){r.default.post({url:l.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:n}})},disableIntegration:function(e,t){r.default.delete(l.Endpoints.GUILD_INTEGRATION(e,t))},updateIntegration:function(e,t,n,a,o){var i={expire_behavior:n,expire_grace_period:a,enable_emoticons:o};r.default.patch({url:l.Endpoints.GUILD_INTEGRATION(e,t),body:i})},syncIntegration:function(e,t){r.default.post(l.Endpoints.GUILD_INTEGRATION_SYNC(e,t))}},p=f;t.default=p},5726:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=p(n(15)),i=n(783),l=p(n(134)),u=p(n(5811)),s=n(744),d=p(n(748)),c=y(n(396)),f=p(n(5158));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r=this.props,a=r.value,p=r.onChange,y=r.disabled,h=r.fill,_=r.hideBorder,m=r.children,g=r.className,O=r.tooltipNote,A=r.note,E=r.style,I=r.theme,S=r.size;S===u.default.Sizes.MINI?(t=f.default.titleMini,n=f.default.dividerMini):(t=f.default.titleDefault,n=f.default.dividerDefault);var T=function(e){return v(u.default,{id:e,value:a,fill:h,onChange:p,disabled:y,theme:I,size:S})};return v(l.default,{style:E,className:(0,o.default)(g,(e={},e[f.default.disabled]=y,e)),direction:l.default.Direction.VERTICAL},void 0,v(i.SmartUID,{},void 0,function(e){return v(l.default,{align:l.default.Align.START},void 0,v(l.default.Child,{wrap:!0},void 0,v("label",{htmlFor:e,className:t},void 0,m)),v(l.default.Child,{grow:0,shrink:0},void 0,null!=O?v(s.TooltipContainer,{text:O},void 0,T(e)):T(e)))}),A&&v(l.default.Child,{className:f.default.note},void 0,v(c.default,{disabled:y,type:c.Types.DESCRIPTION},void 0,A)),!_&&v(d.default,{className:n}))},r}(a.PureComponent);h.displayName="SwitchItem",h.Sizes=u.default.Sizes,h.Themes=u.default.Themes,h.defaultProps={disabled:!1,size:u.default.Sizes.DEFAULT,theme:u.default.Themes.DEFAULT,hideBorder:!1,className:f.default.switchItem};var _=h;t.default=_},5728:function(e,t,n){"use strict";t.__esModule=!0,t.installApplication=E,t.updateApplication=I,t.repairApplication=function(e,t,n){var r=f.default.getGame(e);if(null==r)return;return o.repairApplication(r,t,n)},t.playApplication=S,t.getDefaultLibraryApplicationAction=b,t.performDefaultLibraryApplicationAction=function(e,t){var n=b(e,d.default,c.default),r=t.analyticsParams;switch(n){case _.LibraryApplicationActions.PLAY:return S(e.id,e,{analyticsParams:r});case _.LibraryApplicationActions.INSTALL:return E(e.id,e.branchId,r.source);case _.LibraryApplicationActions.UPDATE:return I(e.id,e.branchId)}};var r=g(n(0)),a=g(n(5863)),o=g(n(303)),i=m(n(140)),l=m(n(76)),u=m(n(6030)),s=n(191),d=m(n(162)),c=m(n(766)),f=m(n(36)),p=m(n(411)),y=m(n(18)),v=n(301),h=n(6031),_=n(1);function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function E(e,t,n){var r=f.default.getGame(e);if(null!=r){var a=p.default.getTargetBuildId(r.id,t),o=p.default.getTargetManifests(r.id,t);null!=a&&null!=o&&null!=h.installApplication&&(0,h.installApplication)(r,t,a,o,n)}}function I(e,t){var n=f.default.getGame(e);if(null!=n)return o.updateApplication(n,t,p.default.getTargetBuildId(n.id,t),p.default.getTargetManifests(n.id,t))}function S(e,t,n){return T.apply(this,arguments)}function T(){var e;return e=regeneratorRuntime.mark(function e(t,n,o){var d,c,p,v,h,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(d=f.default.getGame(t))){e.next=3;break}return e.abrupt("return");case 3:if(c=o.cloudSync,p=void 0===c||c,v=o.cloudSyncForceHash,h=void 0===v?null:v,m=o.analyticsParams,!(p&&null!=n&&n instanceof s.LibraryApplicationRecord)){e.next=15;break}return g=n.branchId,e.prev=6,e.next=9,a.sync(n.id,g,h);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),l.default.push(function(e){return r.createElement(u.default,e)},{libraryApplication:n,analyticsParams:m,branchId:g}),e.abrupt("return");case 15:return y.default.track(_.AnalyticEvents.APPLICATION_OPENED,O({application_id:d.id,application_name:d.name,type:_.AnalyticsGameOpenTypes.LAUNCH,distributor:null!=n?n.getDistributor():null},m)),e.abrupt("return",i.default.launch(d.id,n instanceof s.LibraryApplicationRecord?n.branchId:null));case 17:case"end":return e.stop()}},e,null,[[6,11]])}),(T=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,l,"next",e)}function l(e){A(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function b(e,t,n){if(e instanceof s.LocalApplicationRecord)return _.LibraryApplicationActions.PLAY;var r=t.getState(e.id,e.branchId),a=n.getQueuePosition(e.id,e.branchId),o=n.paused;if(null!=r){if(null==a||-1===a)switch(r.type){case _.LocalDispatchApplicationStates.INSTALLING:return _.LibraryApplicationActions.INSTALL;case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:return _.LibraryApplicationActions.UPDATE}switch(r.type){case _.LocalDispatchApplicationStates.INSTALLING:case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:case _.LocalDispatchApplicationStates.REPAIRING:return a>0?_.LibraryApplicationActions.MOVE_UP:o?_.LibraryApplicationActions.RESUME:_.LibraryApplicationActions.PAUSE;case _.LocalDispatchApplicationStates.UP_TO_DATE:return _.LibraryApplicationActions.PLAY;case _.LocalDispatchApplicationStates.UNINSTALLING:return null}}return null!=a&&a>0?_.LibraryApplicationActions.MOVE_UP:(0,v.isSupportedPlatform)()?_.LibraryApplicationActions.INSTALL:null}},5733:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n,r;function l(){for(var n,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=t.call.apply(t,[this].concat(o))||this).setRef=function(e){n._ref=e},n.triggerResize=function(){null!=n._ref&&n._ref.onResize()},n.renderComponent=function(t){var r=t.width,o=t.height,l=n.props,u=l.setRef,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(l,["setRef"]);return a.createElement(e,i({},s,{ref:u,width:r,height:o,triggerResize:n.triggerResize}))},n}r=t,(n=l).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var u=l.prototype;return u.render=function(){return a.createElement(o.default,{ref:this.setRef},this.renderComponent)},l}(a.Component)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=(r=n(6552))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},5734:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=y(n(15)),l=n(224),u=y(n(3)),s=n(5957),d=y(n(160)),c=n(5720),f=n(85),p=(n(1),y(n(5159)));function y(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=Object.freeze(((r={})[c.AvatarSizes.XSMALL]=p.default.avatarXSmall,r[c.AvatarSizes.SMALL]=p.default.avatarSmall,r[c.AvatarSizes.LARGE]=p.default.avatarLarge,r[c.AvatarSizes.XLARGE]=p.default.avatarXLarge,r[c.AvatarSizes.XXLARGE]=p.default.avatarXXLarge,r[c.AvatarSizes.POPOUT]=p.default.avatarPopout,r[c.AvatarSizes.PROFILE]=p.default.avatarProfile,r[c.AvatarSizes.ACTIVITY_FEED_24]=p.default.avatarXSmall,r)),m=Object.freeze({xsmall:20,small:30,large:40,xlarge:60,xxlarge:100,popout:90,profile:128,activityFeed24:24}),g=(0,s.backgroundImagePreloader)(function(e){return o.createElement("div",e)}),O=(0,s.backgroundImagePreloader)(function(e){return o.createElement(l.Link,e)}),A=function(e){var t,n;function r(t){var n;n=e.call(this,t)||this;var r=t.user,a=!!r&&(0,f.hasAnimatedAvatar)(r);return n.state={animatedAvatar:a,animatedAvatarLoaded:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){var e,t=this.props,n=t.user,r=t.channel,a=t.size,o=t.animate,i=t.game,l=this.state.animatedAvatar;return null!=n?e=l&&o?n.getAvatarURL("gif"):n.avatarURL||n.getAvatarURL("jpg"):null!=i?e=i.getIconURL(m[a]):null!=r&&(e=r.getIconURL()),{backgroundImage:e?'url("'+e+'")':null}},a.renderStatus=function(){var e=this.props,t=e.status,n=e.size,r=e.streaming,a=e.typing,o=e.isFocused,l=e.statusClassName,u=e.hideTooltip;return null!=t||r?h(c.AvatarStatusIcon,{status:r?c.AvatarStatusIcon.Statuses.STREAMING:t,size:n,isTyping:a,className:(0,i.default)(p.default.status,l),hideTooltip:u,shouldAnimateTypingIndicator:o}):null},a.render=function(){var e,t=this.props,n=t.size,r=t.to,a=t.className,l=t.isFocused,u=(t.streaming,t.typing,t.animate,t.theme),s=(t.statusClassName,t.hideTooltip,t.outerClassName),d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["size","to","className","isFocused","streaming","typing","animate","theme","statusClassName","hideTooltip","outerClassName"]),f=(0,i.default)(a,p.default.inner,((e={})[p.default.animate]=l,e["stop-animation"]=!l,e));return h(c.AvatarWrapper,{size:n,theme:u,className:(0,i.default)(s,_[n])},void 0,null!=r?o.createElement(O,v({},d,{to:r,className:f,style:this.getStyle()})):o.createElement(g,v({},d,{className:f,style:this.getStyle()})),this.renderStatus())},r}(o.PureComponent);A.displayName="Avatar",A.defaultProps={size:c.AvatarSizes.SMALL,typing:!1,streaming:!1,animate:!1};var E=u.default.connectStores([d.default],function(){return{isFocused:d.default.isFocused()}})(A);t.default=E},5737:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=n(287),i=c(n(43)),l=n(750),u=c(n(5721)),s=c(n(5717)),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.shiftId,n=e.id,r=(0,a.useStateFromStores)([i.default],function(){return i.default.developerMode},[]);return!__OVERLAY__&&r&&l.SUPPORTS_COPY?f(u.default,{},void 0,f(s.default,{label:d.default.Messages.COPY_ID,action:function(e){(0,o.closeContextMenu)();var r=t&&e.shiftKey?t:n;(0,l.copy)(r)}})):null};p.displayName="DeveloperModeGroup";var y=p;t.default=y},5738:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(15)),i=v(n(5745)),l=(v(n(52)),v(n(65))),u=n(843),s=v(n(3)),d=v(n(43)),c=v(n(184)),f=v(n(290)),p=n(1),y=v(n(759));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=(0,i.default)({displayName:"SubMenuItem",getInitialState:function(){return{open:!1,position:{top:0,left:0}}},uiMenuNode:null,_timer:void 0,componentDidMount:function(){this.uiMenuNode=l.default.findDOMNode(this)},componentWillUnmount:function(){clearTimeout(this._timer)},render:function(){var e,t=this.props,n=t.label,r=t.render,i=t.disabled,l=t.action,s=t.invertChildY,d=this.props.theme,v="function"==typeof r?r():r.filter(function(e){return e}),_=(0,u.isFragment)(v)?v.props.children.length:v.length;if(0===_)return null;var m,g=_<=9,O=s?30*(Math.min(_,9)-1):0,A={className:(0,o.default)(y.default.contextMenu,"theme-"+d),style:{top:this.state.position.top-O,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};if(this.state.open)if(g)m=a.createElement("div",A,v);else{var E=d===p.ThemeTypes.LIGHT?"#ffffff":"#282b30";m=a.createElement("div",A,h(f.default,{theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:E,className:y.default.scroller},void 0,v))}return h(c.default,{className:(0,o.default)(y.default.item,y.default.itemSubMenu,(e={},e[y.default.itemSubMenuHasScroller]=g,e)),onClick:i?function(){}:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n,m)},handleMouseEnter:function(){if(clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,n=e.left;this.setState({open:!0,position:{top:t-2,left:n}})}},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.setState({open:!1})},100)}}),m=s.default.connectStores([d.default],function(){return{theme:d.default.theme}})(_);t.default=m},5746:function(e,t,n){"use strict";t.__esModule=!0,t.getSKUIdFromURL=function(e){var t=(0,a.matchPath)(e,{path:l.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null},t.getGenreURLSlugFromId=function(e){return c[e]},t.getGenreIdFromURLSlug=function(e){return d[e]},t.getGenreText=function(e){switch(e){case l.SKUGenres.ACTION:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION;case l.SKUGenres.ACTION_RPG:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.SKUGenres.BRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.SKUGenres.HACK_AND_SLASH:return u.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.SKUGenres.PLATFORMER:return u.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.SKUGenres.STEALTH:return u.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.SKUGenres.SURVIVAL:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.SKUGenres.ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.SKUGenres.ACTION_ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.SKUGenres.METROIDVANIA:return u.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.SKUGenres.OPEN_WORLD:return u.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.SKUGenres.PSYCHOLOGICAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.SKUGenres.SANDBOX:return u.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.SKUGenres.SURVIVAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.SKUGenres.VISUAL_NOVEL:return u.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.SKUGenres.DRIVING_RACING:return u.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.SKUGenres.VEHICULAR_COMBAT:return u.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.SKUGenres.MASSIVELY_MULTIPLAYER:return u.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.SKUGenres.MMORPG:return u.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.SKUGenres.ROLE_PLAYING:return u.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.SKUGenres.DUNGEON_CRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.SKUGenres.ROGUELIKE:return u.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.SKUGenres.SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.SKUGenres.LIGHT_GUN:return u.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.SKUGenres.SHOOT_EM_UP:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.SKUGenres.FPS:return u.default.Messages.APPLICATION_STORE_GENRE_FPS;case l.SKUGenres.DUAL_JOYSTICK_SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.SKUGenres.SIMULATION:return u.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.SKUGenres.FLIGHT_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.SKUGenres.TRAIN_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.SKUGenres.LIFE_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.SKUGenres.FISHING:return u.default.Messages.APPLICATION_STORE_GENRE_FISHING;case l.SKUGenres.SPORTS:return u.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.SKUGenres.BASEBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.SKUGenres.BASKETBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.SKUGenres.BILLIARDS:return u.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.SKUGenres.BOWLING:return u.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.SKUGenres.BOXING:return u.default.Messages.APPLICATION_STORE_GENRE_BOXING;case l.SKUGenres.FOOTBALL:return u.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.SKUGenres.GOLF:return u.default.Messages.APPLICATION_STORE_GENRE_GOLF;case l.SKUGenres.HOCKEY:return u.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.SKUGenres.SKATEBOARDING_SKATING:return u.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.SKUGenres.SNOWBOARDING_SKIING:return u.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.SKUGenres.SOCCER:return u.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.SKUGenres.TRACK_FIELD:return u.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.SKUGenres.SURFING_WAKEBOARDING:return u.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.SKUGenres.WRESTLING:return u.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.SKUGenres.STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.SKUGenres.FOUR_X:return u.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.SKUGenres.ARTILLERY:return u.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.SKUGenres.RTS:return u.default.Messages.APPLICATION_STORE_GENRE_RTS;case l.SKUGenres.TOWER_DEFENSE:return u.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.SKUGenres.TURN_BASED_STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.SKUGenres.WARGAME:return u.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.SKUGenres.MOBA:return u.default.Messages.APPLICATION_STORE_GENRE_MOBA;case l.SKUGenres.FIGHTING:return u.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.SKUGenres.PUZZLE:return u.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.SKUGenres.CARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.SKUGenres.EDUCATION:return u.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.SKUGenres.FITNESS:return u.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.SKUGenres.GAMBLING:return u.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.SKUGenres.MUSIC_RHYTHM:return u.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.SKUGenres.PARTY_MINI_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.SKUGenres.PINBALL:return u.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.SKUGenres.TRIVIA_BOARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return u.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}},t.canUserInstall=function(e){var t=(0,i.nativePlatformTypeToSKUOperatingSystem)(o.default.getPlatform());return e.type===l.SKUTypes.GAME&&null!=t&&e.supportedOperatingSystems.includes(t)},t.getReadablePreorderReleaseDate=function(e){var t=e.preorderReleaseAt,n=e.preorderApproximateReleaseDate;if(null!=t)return t.format("MMMM DD");if(null==n)return null;for(var a=0;a<f.length;a++){var o=f[a],i=o[0],l=o[1],u=(0,r.default)(n,i,!0);if(u.isValid())return u.format(l)}return n};var r=s(n(4)),a=n(145),o=s(n(12)),i=n(138),l=n(1),u=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var d={},c={};Object.keys(l.StoreApplicationGenresFilter).forEach(function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=l.StoreApplicationGenresFilter[e];d[t]=n,c[n]=t});var f=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]]},5760:function(e,t,n){"use strict";t.__esModule=!0,t.getTimeUnit=w,t.getTimeAndUnit=function(e,t){var n=null!=e?w(e,function(e){return t.includes(e)}):P.NONE,r=null!=n?C[n]:null;return{unit:n,time:null!=e&&null!=r?Math.floor(r(e)):null}},t.default=t.TimeUnitMax=t.TimeUnitConversion=t.TimeUnits=void 0;var r,a,o,i,l,u,s,d,c,f,p,y,v,h,_,m,g,O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),A=S(n(6)),E=n(56),I=S(n(8));function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=Object.freeze({ACTIVITY_FEED:"ACTIVITY_FEED",ACTIVITY_FEED_NEW:"ACTIVITY_FEED_NEW",USER_ACTIVITY:"USER_ACTIVITY",GAME_LIBRARY_TIME_PLAYED:"GAME_LIBRARY_TIME_PLAYED",GAME_LIBRARY_LAST_PLAYED:"GAME_LIBRARY_LAST_PLAYED",LFG_LISTING:"LFG_LISTING"}),P=Object.freeze({NONE:"NONE",SECONDS:"SECONDS",MINUTES:"MINUTES",HOURS:"HOURS",DAYS:"DAYS",WEEKS:"WEEKS",MONTHS:"MONTHS",YEARS:"YEARS"});t.TimeUnits=P;var N=Object.freeze({START:"START",END:"END",TIME:"TIME"}),C=((r={})[P.NONE]=function(e){return 0},r[P.SECONDS]=function(e){return 60*e},r[P.MINUTES]=function(e){return e},r[P.HOURS]=function(e){return e/60},r[P.DAYS]=function(e){return e/60/24},r[P.WEEKS]=function(e){return e/60/24/7},r[P.MONTHS]=function(e){return e/60/24/31},r[P.YEARS]=function(e){return e/60/24/365},r);t.TimeUnitConversion=C;var M=[{unit:P.NONE,max:0},{unit:P.SECONDS,max:1},{unit:P.MINUTES,max:60},{unit:P.HOURS,max:1440},{unit:P.DAYS,max:44640},{unit:P.WEEKS,max:40320},{unit:P.MONTHS,max:525600},{unit:P.YEARS,max:1/0}];t.TimeUnitMax=M;var R=function(e){return function(t,n){return null==n?"":e().format(T({time:t},n))}},L=((m={})[b.ACTIVITY_FEED]=((i={})[N.START]=((a={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},a[P.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},a[P.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},a[P.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},a),i[N.END]=((o={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},o[P.MINUTES]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},o[P.HOURS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},o[P.DAYS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},o[P.WEEKS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_WEEKS_AGO.format({time:e})},o[P.MONTHS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_MONTHS_AGO.format({time:e})},o[P.YEARS]=function(e){return I.default.Messages.GAME_FEED_USER_PLAYED_YEARS_AGO.format({time:e})},o),i),m[b.ACTIVITY_FEED_NEW]=((s={})[N.START]=((l={})[P.SECONDS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_JUST_STARTED}),l[P.MINUTES]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_MINUTES}),l[P.HOURS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_HOURS}),l[P.DAYS]=R(function(){return I.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_DAYS}),l),s[N.END]=((u={})[P.SECONDS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_SECONDS_AGO.format({time:e})},u[P.MINUTES]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},u[P.HOURS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},u[P.DAYS]=function(e){return I.default.Messages.ACTIVITY_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},u),s),m[b.USER_ACTIVITY]=((c={})[N.START]=((d={})[P.SECONDS]=function(){return I.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},d[P.MINUTES]=function(e,t,n){return void 0===n&&(n=!1),n?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},d[P.HOURS]=function(e,t,n){return void 0===n&&(n=!1),n?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},d[P.DAYS]=function(e,t,n){return void 0===n&&(n=!1),n?I.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e}):I.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},d),c),m[b.GAME_LIBRARY_TIME_PLAYED]=((p={})[N.TIME]=((f={})[P.NONE]=function(){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_NONE},f[P.SECONDS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_SECONDS.format({time:e})},f[P.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_MINUTES.format({time:e})},f[P.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_TIME_PLAYED_HOURS.format({time:e})},f),p),m[b.GAME_LIBRARY_LAST_PLAYED]=((v={})[N.END]=((y={})[P.NONE]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE},y[P.SECONDS]=function(){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_JUST_NOW},y[P.MINUTES]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MINUTES.format({time:e})},y[P.HOURS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_HOURS.format({time:e})},y[P.DAYS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_DAYS.format({time:e})},y[P.WEEKS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_WEEKS.format({time:e})},y[P.MONTHS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_MONTHS.format({time:e})},y[P.YEARS]=function(e){return I.default.Messages.GAME_LIBRARY_LAST_PLAYED_YEARS.format({time:e})},y),v),m[b.LFG_LISTING]=((_={})[N.START]=((h={})[P.SECONDS]=function(e){return I.default.Messages.LFG_LISTING_AGE_SECONDS.format({time:e})},h[P.MINUTES]=function(e){return I.default.Messages.LFG_LISTING_AGE_MINUTES.format({time:e})},h[P.HOURS]=function(e){return I.default.Messages.LFG_LISTING_AGE_HOURS.format({time:e})},h),_),m);function w(e,t){var n=M.findIndex(function(t){var n=t.max;return t.unit===P.NONE&&e===n||e<n}),r=A.default.findLast(M,function(e){var n=e.unit;return t(n)},n);if(null!=r)return r.unit;var a=M.find(function(e){var n=e.unit;return t(n)});return a?a.unit:null}var D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).timer=new E.Interval,t.state={time:t.getDiff()},t.update=function(){t.setState({time:t.getDiff()})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.timer.start(1e4,this.update)},a.componentDidUpdate=function(e){var t=this.props,n=t.start,r=t.end,a=t.time;e.start===n&&e.end===r&&e.time===a||this.update()},a.componentWillUnmount=function(){this.timer.stop()},a.getDiff=function(){var e=this.props,t=e.start,n=e.end,r=e.time;if(null!=r)return r/1e3/60;var a=Date.now(),o=0;return null!=t?o=a-t:null!=n&&(o=a-n),Math.abs(o)/1e3/60},a.getTimeUnit=function(e,t,n){var r=w(e,function(e){return function(e,t,n){var r=L[n];if(null!=r){var a=r[t];if(null!=a)return null!=a[e]}return!1}(e,n,t)});if(null==r)throw new Error("Could not get the time unit in PlayTime with time: "+e+" in location: "+t);return r},a.getType=function(){var e=this.props,t=e.start,n=e.end,r=e.time;return null!=t?N.START:null!=n?N.END:null!=r?N.TIME:null},a.transformTime=function(e,t){return C[e](t)},a.render=function(){var e=this.props,t=e.location,n=e.className,r=e.messageProps,a=e.isApplicationStreaming,o=this.state.time,i=this.getType();if(null==i)return null;var l=this.getTimeUnit(o,t,i),u=L[t][i];return null==u?null:function(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:n},void 0,(0,u[l])(Math.floor(this.transformTime(l,o)),r,a))},r}(O.PureComponent);D.displayName="PlayTime",D.Locations=b,D.Types=N;var U=D;t.default=U},5763:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n="SubscribeGuildMembersContainer("+function(e){return e.displayName||e.name||"Component"}(t)+")",l=function(n){var l,s;function d(t){var r;r=n.call(this,t)||this;var o=e(t);return a.default.forEach(o,function(e,t){return(0,i.subscribeMembers)(t,e)}),r._subscriptions=o,r}s=n,(l=d).prototype=Object.create(s.prototype),l.prototype.constructor=l,l.__proto__=s;var c=d.prototype;return c.componentDidUpdate=function(t){if(!(0,o.default)(this.props,t)){var n=e(this.props);null!=this._subscriptions&&a.default.isEqual(this._subscriptions,n)||(null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)}),a.default.forEach(n,function(e,t){return(0,i.subscribeMembers)(t,e)}),this._subscriptions=n)}},c.componentWillUnmount=function(){null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)})},c.render=function(){var e=this.props,n=e.forwardedRef,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["forwardedRef"]);return r.createElement(t,u({ref:n},a))},d}(r.Component);l.displayName="WrappedComponent",l.displayName=n;var s=r.forwardRef(function(e,t){return r.createElement(l,u({},e,{forwardedRef:t}))});return s.displayName="ForwardRef("+n+")",s}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=l(n(6)),o=l(n(190)),i=n(5887);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},5764:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=G(n(0)),o=U(n(15)),i=n(405),l=U(n(3)),u=U(n(164)),s=n(827),d=G(n(296)),c=G(n(819)),f=n(755),p=U(n(742)),y=U(n(5719)),v=U(n(36)),h=U(n(43)),_=U(n(14)),m=U(n(160)),g=U(n(777)),O=U(n(5826)),A=U(n(186)),E=U(n(197)),I=U(n(91)),S=U(n(222)),T=U(n(5761)),b=U(n(394)),P=U(n(18)),N=n(143),C=U(n(188)),M=U(n(47)),R=n(5746),L=n(1),w=U(n(8)),D=U(n(5146));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,l,"next",e)}function l(e){F(o,r,a,i,l,"throw",e)}i(void 0)})}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewInStore=function(e){var n=t.props,r=n.sku,a=n.skuId,o=n.application,i=n.onClick;if(null==r)throw new Error("Unexpected missing sku");null!=i&&i(e),null!=a?(0,f.goToSKUStoreListing)(r.id,{analyticsSource:t.analyticsLocation,slug:r.slug}):null!=o&&(0,f.goToApplicationStoreListing)(o.id,{analyticsSource:t.analyticsLocation,slug:o.slug})},t.handleClick=function(){var e=x(regeneratorRuntime.mark(function e(n){var r,a,o,l,d,f,y,v,h,_,m,g,O,A,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.isAuthenticated,o=r.applicationId,l=r.sku,d=r.targetSkuId,f=r.entitlementBranchId,y=r.isUserPremium,v=r.onClick,h=r.isInTestMode,_=r.storeListingAnalyticsProperties,m=r.asGift,g=r.forceDistribution,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(null!=v&&null!=n&&v(n),null==l.externalPurchaseUrl){e.next=7;break}return window.open(l.externalPurchaseUrl),e.abrupt("return");case 7:if(a){e.next=11;break}return O={redirect_to:L.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug)},M.default.transitionTo(L.Routes.LOGIN,{search:(0,i.stringify)(O)}),e.abrupt("return");case 11:if(A=null!=f,!l.premium||g||y||h||A){e.next=17;break}I=t.analyticsLocation,P.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:I}),p.default.open(L.UserSettingsSections.PREMIUM),e.next=37;break;case 17:if((l.requiresPayment||g)&&!A){e.next=29;break}return e.prev=18,e.next=21,t.purchaseOrGrantSKU(l);case 21:E=e.sent,(0,s.openPurchaseConfirmationModal)(l.applicationId,l.id,E,{analyticsSource:t.analyticsLocation}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:e.next=37;break;case 29:return e.prev=29,e.next=32,c.openSKUPaymentModal(o,d,t.analyticsLocation,{promotionId:null!=_?_.promotionId:null,isGift:m});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(29),e.t1===L.PaymentModalPriceChangedError&&u.default.show({title:w.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,body:w.default.Messages.PAYMENT_PRICE_CHANGE_BODY,confirmText:w.default.Messages.OKAY});case 37:case"end":return e.stop()}var I},e,null,[[18,25],[29,34]])}));return function(t){return e.apply(this,arguments)}}(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l,y,v,h=r.prototype;return h.componentDidMount=function(){var e=this.props,t=e.sku,n=e.applicationId,r=e.targetSkuId;null==t&&d.fetchSKU(n,r).catch(function(){})},h.componentDidUpdate=function(e){this.props.locale!==e.locale&&d.fetchSKU(this.props.applicationId,this.props.targetSkuId).catch(function(){})},h.purchaseOrGrantSKU=function(){var e=x(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.channelId,a=n.entitlementBranchId,o=n.analyticsContext,null==r||null==a){e.next=6;break}return e.next=4,d.grantChannelBranchEntitlement(t.applicationId,r,t.id);case 4:return i=e.sent,e.abrupt("return",i);case 6:return e.next=8,d.purchaseSKU(t.applicationId,t.id,{analyticsLoadId:o.loadId});case 8:return l=e.sent,e.abrupt("return",l.entitlements);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.wrapWithDisabledTooltip=function(e,t){var n=this.props,r=n.className,a=n.tooltipPosition;return k("div",{className:(0,o.default)(D.default.disabledButtonWrapper,r)},void 0,e,k(b.default,{text:t,position:a},void 0,k("div",{className:D.default.disabledButtonOverlay})))},h.renderButton=function(e,t){void 0===t&&(t=Object.freeze({}));var n,r=this.props,i=r.isPurchasing,l=r.wrapperClassName,u=r.className,s=r.fullWidth,d=r.size,c=r.isWindowFocused,f=r.color,p=r.customDisabledColor,y=r.pauseAnimation,v=r.isEntitled,h=r.asGift,_=r.sku,m=r.entitlementBranchId,g=r.isInTestMode,O=r.innerClassName,A=!0===v&&(null==_||_.type!==L.SKUTypes.CONSUMABLE),E=null!=m,S=!0===t.disabled||null!=_&&!_.available&&!E&&!g||A&&!h,b=t.disabledTooltipText,P={wrapperClassName:l,className:u,fullWidth:s,size:d,color:S&&null!=p?p:null!=f?f:I.default.Colors.GREEN,hover:this.hover,innerClassName:(0,o.default)(null!=O?O:null,D.default.applicationBuyButton),disabled:S,submitting:i||!0===t.submitting,onClick:null!=t.onClick?t.onClick:this.handleClick};return n=!0===t.useShinyButton?a.createElement(T.default,j({},P,{pauseAnimation:!c||y}),t.buttonIcon,e):a.createElement(I.default,P,t.buttonIcon,e),null!=b?this.wrapWithDisabledTooltip(n,b):n},h.renderFreeButton=function(e,t){var n=this.props,r=n.isEntitled,a=n.isUserPremium,o=n.isInTestMode,i=n.forceDistribution;if(null!=n.entitlementBranchId)return(0,R.canUserInstall)(e)&&!r?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);var l=e.getPrice();return e.premium&&!i&&(a||o)?(0,R.canUserInstall)(e)&&!r?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL,t):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY,t):null==l||0!==l.amount||e.premium&&!(0,N.hasFlag)(e.flags,L.SKUFlags.PREMIUM_AND_DISTRIBUTION)?void 0:(0,R.canUserInstall)(e)&&!r?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)},h.render=function(){var e=this.props,t=e.isAuthenticated,n=e.sku,r=e.onStoreListing,a=e.shouldRenderPrice,o=e.forceDistribution,i=e.asGift,l=e.isInTestMode,u={useShinyButton:!0,buttonIcon:k(S.default,{name:S.default.Names.Premium_WHEEL,className:D.default.premiumIcon})};if(null==n)return this.renderButton(null,{submitting:!0});if(i)return n.isPreorder()?this.renderButton(w.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT):this.renderButton(w.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);var s=this.renderFreeButton(n,u);if(null!=s)return s;if(!r)return this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE,{onClick:this.handleViewInStore});var d=n.getPrice();return!n.available&&!l||!n.premium&&null==d?this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE,{disabled:!0}):n.restricted?this.renderButton(w.default.Messages.APPLICATION_STORE_BUY,{disabledTooltipText:w.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION}):n.premium&&!o?this.renderButton(w.default.Messages.APPLICATION_STORE_GET_PREMIUM,u):t||null!=n.externalPurchaseUrl?n.isPreorder()?this.renderButton(a?w.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({price:n.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_PREORDER):this.renderButton(a?w.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({price:n.getDisplayPrice(!0,!0)}):w.default.Messages.APPLICATION_STORE_BUY):this.renderButton(w.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY)},l=r,(y=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.storeListingAnalyticsProperties,n=e.asGift,r=null!=t?t.promotionId:null;return j({},this.props.analyticsContext.location,{object:L.AnalyticsObjects.BUTTON_CTA,objectType:n?L.AnalyticsObjectTypes.GIFT:L.AnalyticsObjectTypes.BUY,promotionId:r})}},{key:"hover",get:function(){var e=this.props,t=e.hover,n=e.color;return null!=t?t:null!=n?I.default.Hovers.GREEN:I.default.Hovers.DEFAULT}}])&&B(l.prototype,y),v&&B(l,v),r}(a.Component);Y.displayName="ApplicationBuyButton",Y.defaultProps={tooltipPosition:b.default.Positions.TOP,onStoreListing:!1,shouldRenderPrice:!1,pauseAnimation:!1,asGift:!1,forceDistribution:!1};var V=l.default.connectStores([g.default,A.default,O.default,_.default,h.default,m.default,E.default],function(e){var t=e.skuId,n=e.applicationId,r=e.entitlementBranchId,a=e.channelId,o=_.default.getNullableCurrentUser(),i=v.default.getGame(n),l=null!=r?r:n,u=t;if(null==u&&null!=i&&(u=i.destinationSkuId),null!=r&&null==a)throw new Error("Unexpected entitlementBranchId without a channelId");return{targetSkuId:u,sku:null!=u?A.default.get(u):null,application:i,isInTestMode:E.default.inTestModeForApplication(n),isEntitled:null!=u?g.default.isEntitledToSku(o,u,n,l):null,isUserPremium:C.default.canInstallPremiumApplications(o),isWindowFocused:m.default.isFocused(),isAuthenticated:null!=o,isPurchasing:O.default.isPurchasingSKU,locale:h.default.locale}},{forwardRef:!0})((0,y.default)(Y));t.default=V},5769:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=u(n(15)),o=u(n(3)),i=u(n(289)),l=u(n(5859));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this.props,t=e.usernameClass,n=e.discriminatorClass,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["usernameClass","discriminatorClass"]);return r.createElement(l.default,s({},o,{usernameClass:(0,a.default)("username",t),discriminatorClass:(0,a.default)("discriminator",n)}))},o}(r.Component);d.displayName="ChatXTag",d.defaultProps={className:"ChatX-tag",invertBotTagColor:!1,hideDiscriminator:!1};var c=o.default.connectStores([i.default],function(e){return{hideDiscriminator:e.hideDiscriminator||i.default.hidePersonalInformation}})(d);t.default=c},5770:function(e,t,n){"use strict";t.__esModule=!0,t.applyChatRestrictions=function(e,t,n,v,h){void 0===v&&(v=!0);void 0===h&&(h=!0);return new Promise(function(A){return function(e,t,n,v,h,A){if(0===t.length&&e.props.type!==p.TextareaTypes.FORM)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.EMPTY_MESSAGE});if(t.length>p.MAX_MESSAGE_LENGTH)return a.default.push(function(e){return r.createElement(o.default,_({title:y.default.Messages.MESSAGE_TOO_LONG_HEADER,body:y.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:p.MAX_MESSAGE_LENGTH}),confirmText:y.default.Messages.OKAY},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.MESSAGE_TOO_LONG});var E=null!=n&&null!=n.getGuildId();if(h&&E){var I=s.default.getSlowmodeCooldownGuess(n.id)>0;if(I)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.SLOWMODE_COOLDOWN})}if(E&&v&&t.match(g)){var S=0,T=t.match(g)[0],b=u.default.getProps(n.getGuildId(),n.id);if(b.groups.forEach(function(e){"@everyone"!==T&&e.id===p.StatusTypes.OFFLINE||(S+=e.count)}),S>O&&f.default.can(p.Permissions.MENTION_EVERYONE,d.default.getCurrentUser(),n))return e?void(0,c.openPopout)(e,{onClose:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},closeOnScroll:!1,backdrop:!0,shadow:!1,position:c.default.Positions.TOP_LEFT,animationType:c.default.Animations.NONE,zIndexBoost:e.props.type===p.TextareaTypes.FORM?1e3:0,render:function(e){return r.createElement(i.default,_({},e,{channel:n,onConfirm:function(){return A({valid:!0})},onCancel:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},numPeople:S,role:T}))}},m):void A({valid:!0})}if(l.default.isFull())return a.default.push(function(e){return r.createElement(o.default,_({title:y.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:y.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:y.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.RATE_LIMITED});A({valid:!0})}(e,t,n,v,h,A)})};var r=h(n(0)),a=v(n(76)),o=v(n(412)),i=v(n(6026)),l=v(n(841)),u=v(n(5860)),s=v(n(5796)),d=v(n(14)),c=h(n(738)),f=v(n(106)),p=n(1),y=v(n(8));function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m="popout-channel-text-area-shouting",g=new RegExp(/@(:?everyone|here)/,"i"),O=30},5771:function(e,t,n){"use strict";t.__esModule=!0,t.mount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){o.default.transitionTo(i.Routes.APP),a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.addMembersToFeed=function(e){u({subscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})})},t.removeMembersFromFeed=function(e){u({unsubscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})})},t.addGamesToFeed=function(e){u({subscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_ADD,gameIds:e})})},t.removeGamesFromFeed=function(e){u({unsubscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_REMOVE,gameIds:e})})};var r=l(n(9)),a=l(n(2)),o=l(n(47)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.default.patch({url:i.Endpoints.USER_FEED_SETTINGS,body:{subscribe_users:e.subscribeUsers,unsubscribe_users:e.unsubscribeUsers,subscribe_games:e.subscribeGames,unsubscribe_games:e.unsubscribeGames}})}},5774:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=s(n(0)),l=s(n(5858)),u=(r=n(6023))&&r.__esModule?r:{default:r};function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Object.freeze({NONE:"1",TRANSLATE:"2",SCALE:"3"}),f=Object.freeze(((a={})[c.TRANSLATE]=u.default.Types.TRANSLATE,a[c.SCALE]=u.default.Types.SCALE,a));function p(e){switch(e){case l.PopoutPositions.TOP:case l.PopoutPositions.BOTTOM:return l.PopoutAlign.LEFT;case l.PopoutPositions.LEFT:case l.PopoutPositions.RIGHT:return l.PopoutAlign.TOP}throw new Error("Unexpected position: "+e)}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=t.props,r=n.renderPopout,a=n.animation;switch(a){case c.TRANSLATE:case c.SCALE:return d(u.default,{position:e.position,type:f[a]},void 0,r(e));case c.NONE:return r(e)}throw new Error("Unsupported animation config: "+JSON.stringify(a))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.shouldShow,r=e.position,a=e.onRequestClose,o=e.align,i=e.autoInvert,u=e.nudgeAlignIntoViewport,s=e.spacing;return d(l.default,{position:r,align:null!=o?o:p(r),autoInvert:i,nudgeAlignIntoViewport:u,renderPopout:this.renderPopout,spacing:s,shouldShow:n,onRequestClose:a},void 0,t)},r}(i.Component);t.default=y,y.displayName="Popout",y.Positions=l.PopoutPositions,y.Align=l.PopoutAlign,y.Animation=c,y.defaultProps={position:l.PopoutPositions.RIGHT,autoInvert:!0,nudgeAlignIntoViewport:!0,spacing:8,animation:c.TRANSLATE}},5775:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=n(56),o=d(n(2)),i=d(n(36)),l=d(n(93)),u=d(n(404)),s=d(n(14));n(1);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=72e5,y=1728e5,v={},h={},_={},m=!1,g=new a.Interval;function O(){var e=Date.now(),t=!1,n=function(t){return null!=t&&e-t.date>y};for(var r in v){var a=v[r];if(null!=a)for(var o in a){n(a[o])&&(delete v[r][o],null!=h[o]&&delete h[o][r],t=!0)}}return t}function A(e){var t=e.user,n=e.activities;if(null==t||!u.default.isOnFeed(t.id))return!1;var r=!1,a=_[t.id]||new Set,o=new Set;return n.forEach(function(e){var n=i.default.getGameByName(e.name),a=null!=n?n.id:null;null!=a&&(o.add(a),null!=v[t.id]&&null!=v[t.id][a]&&v[t.id][a].gameId===a&&(delete(v=f({},v))[t.id][a],null!=h[a]&&delete(h=f({},h))[a][t.id],r=!0))}),a.forEach(function(e){if(!o.has(e)){var n,a,i,l,u=Date.now();v=f({},v,((a={})[t.id]=f({},v[t.id],((n={})[e]={gameId:e,date:u},n)),a)),h=f({},h,((l={})[e]=f({},h[e],((i={})[t.id]={userId:t.id,date:u},i)),l)),r=!0}}),_[t.id]=o,r}function E(){l.default.getUserIds().forEach(function(e){var t=s.default.getUser(e);null!=t&&A({user:t,activities:l.default.getActivities(t.id)})})}var I=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,s=r.prototype;return s.initialize=function(){this.waitFor(i.default,u.default),this.syncWith([i.default],E),O()},s.getUserGames=function(e){return v[e]||[]},s.getRecentlyPlayedForApplication=function(e){return h[e]},a=r,(o=[{key:"gamesByUser",get:function(){return v}},{key:"usersByGame",get:function(){return h}},{key:"hasFetchedActivities",get:function(){return m}}])&&c(a.prototype,o),l&&c(a,l),r}(r.default.Store))(o.default,{ACTIVITY_FEED_MOUNT:function(e){return g.start(p,O),O()},ACTIVITY_FEED_UNMOUNT:function(e){g.stop()},ACTIVITIES_UPDATE:function(e){var t=e.activities;v={};var n=t,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o,l=i.user_id,u=i.application_id,s=i.updated_at,d=Date.parse(s);null!=_[l]&&_[l].has(u)||(null==v[l]||null==v[l][u]||v[l][u].date<d)&&(null==v[l]&&(v[l]={}),null==h[u]&&(h[u]={}),v[l][u]={gameId:u,date:d},h[u][l]={userId:l,date:d})}m=!0},PRESENCE_UPDATE:A,CONNECTION_OPEN:function(e){var t=e.presences;_={};var n=t,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}A(o)}},LOGOUT:function(e){return v={},h={},void(_={})}});t.default=I},5776:function(e,t,n){"use strict";t.__esModule=!0,t.acceptPurchaseTerms=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_STORE_TERMS})},t.acceptEULA=function(e){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_EULA,eulaId:e})},t.muteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_MUTE})},t.unmuteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMUTE})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},5777:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=s(n(15)),o=s(n(184)),i=s(n(222)),l=n(798),u=s(n(5140));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onPlay,n=e.externalURL,r=e.className,s=e.linkComponent,c=e.inactive,f=e.playText,p=s||"a",y=null!=f;return d(l.MessagesInteractionContext.Consumer,{},void 0,function(e){var l,s;return d("div",{className:(0,a.default)(r,u.default.wrapper,(l={},l[u.default.disableInteractions]=e.disableInteractions,l[u.default.wrapperHasPlayText]=y,l))},void 0,c&&null==t?d("div",{className:u.default.iconWrapper},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay})):null,null!=t?d(o.default,{onClick:t,className:(0,a.default)(u.default.iconWrapperActive,(s={},s[u.default.iconWrapperHasPlayText]=y,s))},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay}),y?d("span",{className:u.default.text},void 0,f):null):null,y||null==n||null==p?null:d(p,{href:n,target:"_blank",rel:"noreferrer noopener",className:u.default.iconWrapperActive},void 0,d(i.default,{name:i.default.Names.OPEN_EXTERNAL,className:null!=t?u.default.iconExternalMargins:u.default.iconExternal})))})};c.displayName="VideoPlayPill";var f=c;t.default=f},5784:function(e,t,n){"use strict";t.__esModule=!0,t.trackGameNewsChanged=function(e,t,n,r){return o.default.track(i.AnalyticEvents.GAME_NEWS_CHANGED,{location:e,load_id:null!=r?r.loadId:void 0,game_id:null!=t?t.id:null,game_name:null!=t?t.name:null,af_news:!0,change_count:n})},t.trackGameNewsOpened=function(e,t,n,r,a){var u={location:e,news_url:t.url,news_index:n,news_id:t.id},s=null!=a?{load_id:a.loadId,card_index:a.index,card_type:a.type}:{},d=null!=r?{game_id:r.id,game_name:r.name,af_news:!0}:{af_news:!0};return o.default.track(i.AnalyticEvents.GAME_NEWS_OPENED,l({},u,s,d))},t.trackUserMessaged=function(e,t,n,r,u){var s={game_name:null!=n?n.name:null,game_id:null!=n?n.id:null},d=null!=r?{af_voice_chat:r.voiceChannels.length>0,af_people_count:r.partiedMembers.length,af_recently_played:!1,af_rich_presence:r.currentActivities.some(function(e){var t=e.activity;return(0,a.hasRichActivity)(t)}),game_platform:r.currentActivities.length>0?(0,a.getGamePlatform)(r.currentActivities[0].activity):null}:{af_recently_played:!0},c={load_id:u.loadId,card_index:u.index,card_type:u.type},f={channel_id:t,recipient_id:e.id};return o.default.track(i.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,l({},s,d,c,f))},t.trackGamePopoutOpened=function(e,t,n){return o.default.track(i.AnalyticEvents.OPEN_POPOUT,{type:i.AnalyticsLocations.GAME_POPOUT,source:t,location:n,game_id:e.id,sku_id:e.primarySkuId,application_id:e.id,application_name:e.name})},t.trackGameModalOpened=function(e,t,n){return o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:i.AnalyticsLocations.GAME_MODAL,source:t,location:n,application_id:e.id,application_name:e.name,sku_id:e.primarySkuId})};var r,a=n(225),o=(r=n(18))&&r.__esModule?r:{default:r},i=n(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},5785:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SpotifyActionTypes=void 0;var r=A(n(0)),a=O(n(3)),o=n(56),i=O(n(76)),l=O(n(743)),u=A(n(308)),s=O(n(6052)),d=O(n(163)),c=O(n(10)),f=O(n(77)),p=O(n(242)),y=O(n(18)),v=O(n(234)),h=n(306),_=n(5891),m=n(1),g=O(n(8));function O(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var E=3e4,I=d.default.get(m.PlatformTypes.SPOTIFY).name,S={USER_ACTIVITY_PLAY:"user_activity_play",USER_ACTIVITY_SYNC:"user_activity_sync",EMBED_SYNC:"embed_sync"};t.SpotifyActionTypes=S;var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!1},t.loadingTimeout=new o.Timeout,t._mounted=!1,t.handleClick=function(){var e=t.props,n=e.activity,r=e.hasSpotifyAccount,a=e.type,o=e.user,d=e.source;r?null!=n.sync_id&&(t.setState({loading:!0}),t.loadingTimeout.start(E,t.clearLoading),(0,h.ensureSpotifyPlayable)().then(function(){switch(a){case S.USER_ACTIVITY_PLAY:u.play(n,o.id),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:d,is_premium:(0,h.isSpotifyPremium)(),other_user_id:o.id});break;case S.USER_ACTIVITY_SYNC:case S.EMBED_SYNC:(0,h.ensureSpotifyPremium)().then(function(){return u.sync(t.props.activity,o.id)},function(e){return i.default.push(s.default),Promise.reject(e)}).catch(function(){t.clearLoading(),l.default.close()}),y.default.track(m.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:d,is_premium:(0,h.isSpotifyPremium)(),party_id:null!=n.party?n.party.id:null,other_user_id:o.id})}}).catch(function(){return t.clearLoading()})):(0,_.authorize)(m.PlatformTypes.SPOTIFY,"Spotify Button")},t.clearLoading=function(){t._mounted&&(t.loadingTimeout.stop(),t.setState({loading:!1}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._mounted=!0},a.UNSAFE_componentWillReceiveProps=function(e){(null!=e.currentUserTrackId&&e.currentUserTrackId!==this.props.currentUserTrackId||e.isSyncingWithUser)&&this.state.loading&&this.clearLoading()},a.componentWillUnmount=function(){this.loadingTimeout.stop(),this._mounted=!1},a.renderPlayButton=function(){var e,t=this.props,n=t.activity,r=t.hasSpotifyAccount,a=t.isSpotifyPlayable,o=t.isCurrentUser,i=t.currentUserTrackId,l=(t.channelId,t.guildId,t.nickname,t.source,t.user,t.isSyncingWithUser,t.isSyncingWithParty,t.children),u=this.state.loading;e=r?g.default.Messages.USER_ACTIVITY_PLAY_ON_PLATFORM.format({platform:I}):g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:I});var s,d=r&&!a,c=i===n.sync_id;return o?s=g.default.Messages.USER_ACTIVITY_CANNOT_PLAY_SELF:c?s=g.default.Messages.USER_ACTIVITY_ALREADY_PLAYING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:I})),l({disabled:!u&&(o||d||c),loading:u,tooltip:s,label:e,onClick:this.handleClick})},a.renderSyncButton=function(){var e=this.props,t=e.hasSpotifyAccount,n=e.isSpotifyPlayable,r=e.isCurrentUser,a=e.isSyncingWithUser,o=e.isSyncingWithParty,i=e.user,l=e.nickname,u=(e.currentUserTrackId,e.size,e.activity,e.channelId,e.guildId,e.source,e.children),s=this.state.loading;return t&&n?u({disabled:!s&&(r||a||o),loading:s,tooltip:r?g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:a||o?g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:g.default.Messages.USER_ACTIVITY_LISTEN_ALONG_DESCRIPTION.format({name:l||i}),onClick:this.handleClick}):null},a.renderJoinButton=function(){var e,t=this.props,n=t.hasSpotifyAccount,r=t.isSpotifyPlayable,a=t.isCurrentUser,o=t.isSyncingWithUser,i=t.isSyncingWithParty,l=(t.activity,t.channelId,t.currentUserTrackId,t.guildId,t.nickname,t.source,t.user,t.children),u=this.state.loading;e=n?o||i?g.default.Messages.INVITE_EMBED_JOINED:g.default.Messages.JOIN:g.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:I});var s,d=n&&!r,c=a||o||i||d;return a?s=g.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:o||i?s=g.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:d&&(s=g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:I})),l({disabled:c,loading:u,tooltip:s,label:e,onClick:this.handleClick})},a.render=function(){switch(this.props.type){case S.USER_ACTIVITY_PLAY:return this.renderPlayButton();case S.USER_ACTIVITY_SYNC:return this.renderSyncButton();case S.EMBED_SYNC:return this.renderJoinButton();default:return null}},r}(r.Component);T.displayName="SpotifyAction";var b=a.default.connectStores([p.default,c.default,f.default],function(e){var t,n=p.default.getTrack(),r=p.default.getSyncingWith(),a=e.activity.party,o=p.default.getActivity();return t=null!=n?n.id:null!=o?o.sync_id:p.default.getLastPlayedTrackId(),{isCurrentUser:e.user.id===c.default.getId(),hasSpotifyAccount:p.default.hasConnectedAccount(),isSpotifyPlayable:(0,h.isSpotifyPlayable)(p.default),isSyncingWithParty:null!=o&&null!=o.party&&null!=a&&a.id===o.party.id,isSyncingWithUser:null!=r&&r.userId===e.user.id,currentUserTrackId:t,nickname:v.default.getNickname(e.guildId,e.channelId,e.user)}})(T);t.default=b},5792:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(15)),i=d(n(5803)),l=d(n(799)),u=d(n(5122)),s=d(n(804));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n=t.props,r=n.onChange,a=n.name;r&&r(e.currentTarget.value,a)},t.onFocus=function(e){var n=t.props,r=n.onFocus,a=n.name;r&&r(e,a)},t.onBlur=function(e){var n=t.props,r=n.onBlur,a=n.name;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},a.renderMaxLength=function(){var e=this.props,t=e.maxLength,n=e.value;if(null==t)return null;var r=t-(null!=n?n.length:0);return c("div",{className:u.default.maxLength},void 0,r)},a.renderErrorMessage=function(){var e=this.props.error;return null==e?null:c("div",{className:s.default.errorMessage},void 0,e)},a.render=function(){var e,t,n,r=this.props,a=r.disabled,d=r.value,f=r.placeholder,p=r.error,y=r.autoFocus,v=r.maxLength,h=r.resizeable,_=r.className,m=r.id,g=r.rows,O=r.flex,A=r.autosize?i.default:"textarea";return c("div",{className:(0,o.default)(s.default.inputWrapper,(e={},e[u.default.flex]=O,e))},void 0,c("div",{className:(0,o.default)(u.default.inputMaxLength,(t={},t[u.default.flex]=O,t))},void 0,c(A,{type:"text",className:(0,o.default)(s.default.inputDefault,u.default.textArea,l.default.scrollbarDefault,_,(n={},n[s.default.error]=p,n[s.default.disabled]=a,n[u.default.resizeable]=h,n)),style:{paddingRight:this.getPaddingRight()},id:m,disabled:a,placeholder:f,value:d,autoFocus:y,maxLength:v,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:g}),this.renderMaxLength()),this.renderErrorMessage())},r}(a.PureComponent);f.displayName="TextArea",f.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,flex:!1,autosize:!1,rows:3};var p=f;t.default=p},5793:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1);var i={startTyping:function(e){a.default.dispatch({type:o.ActionTypes.TYPING_START_LOCAL,channelId:e})},stopTyping:function(e){a.default.dispatch({type:o.ActionTypes.TYPING_STOP_LOCAL,channelId:e})}};t.default=i},5794:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(222)),i=u(n(394)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.invertTooltip,r=s(o.default,{name:o.default.Names.MOBILE_DEVICE,className:t});return s(i.default,{text:l.default.Messages.ACTIVE_ON_MOBILE,position:n?i.default.Positions.BOTTOM:i.default.Positions.TOP},void 0,r)},r}(a.PureComponent);t.default=d,d.displayName="MobileIndicator",d.defaultProps={invertTooltip:!1}},5795:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(15)),i=s(n(135)),l=s(n(8)),u=s(n(5125));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c={BLOCK:u.default.block,INLINE:u.default.inline},f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.textClassName,a=e.type,s=void 0===a?c.BLOCK:a,f=e.style;return d("div",{className:(0,o.default)(n,s),style:f},void 0,d(i.default,{size:i.default.Sizes.SMALL,color:i.default.Colors.GREEN,weight:i.default.Weights.BOLD,className:u.default.pro},void 0,l.default.Messages.FORM_LABEL_ROLES_PRO_TIP,":"),d(i.default,{color:i.default.Colors.PRIMARY,className:(0,o.default)(u.default.tip,r)},void 0,t))},r}(a.PureComponent);f.displayName="Protip",f.Types=c;var p=f;t.default=p},5796:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=n(56),o=s(n(2)),i=s(n(20)),l=s(n(136)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function c(e){var t=e.channelId,n=e.cooldownMs,r=i.default.getChannel(t);if(null!=r){var s=d[t];if(l.default.can(u.Permissions.MANAGE_CHANNELS,r)||l.default.can(u.Permissions.MANAGE_MESSAGES,r))null!=s&&(d[t].timer.stop(),delete d[t]);else if(null==s&&(s={cooldownMs:0,timer:new a.Timeout},d[t]=s),s.timer.stop(),null!=n&&n>0){var c=Math.max(n-1e3,0);s.cooldownMs=n,s.timer.start(1e3,function(){o.default.dispatch({type:u.ActionTypes.SLOWMODE_COOLDOWN_CHANGE,channelId:t,cooldownMs:c})},!0)}else delete d[t]}}function f(e){var t=e.channelId,n=e.cooldownMs,r=i.default.getChannel(t);if(null!=r){var a=n||1e3*r.rateLimitPerUser;return a>0?c({channelId:r.id,cooldownMs:a+u.SLOWMODE_COOLDOWN_BUFFER_MS}):void 0}}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getSlowmodeCooldownGuess=function(e){var t=d[e];return null!=t?t.cooldownMs:0},r}(r.default.Store))(o.default,{SLOWMODE_COOLDOWN_CHANGE:c,UPLOAD_START:f,SLOWMODE_START_COOLDOWN:f,LOGOUT:function(e){return Object.keys(d).forEach(function(e){return d[e].timer.stop()}),void(d={})}});t.default=p},5801:function(e,t,n){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(1)},5802:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(2)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={open:function(e){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t,n){void 0===n&&(n=!1),r.default.patch({url:o.Endpoints.USER_GUILD_SETTINGS(e||o.ME),body:t}),a.default.dispatch({type:o.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[l({guild_id:e||o.ME},t)],partial:n})},updateChannelOverrideSettings:function(e,t,n){var r;this.updateNotificationSettings(e,{channel_overrides:(r={},r[t]=n,r)},!0)}};t.default=u},5803:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=i(n(15)),o=i(n(799));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],c=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).handleSetRef=function(e){n._textArea=e},n.handleChange=function(e){var t=n.props.onChange;t&&t(e),n.calculateSize()},n.state={height:"auto"},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c,f,p,y=i.prototype;return y.componentDidMount=function(){var e=this;Promise.resolve().then(function(){return e.calculateSize()})},y.componentDidUpdate=function(e,t){var n=this;if(this.state.height!==t.height){var r=this.props.onResize;r&&r(this.state.height)}e.value!==this.props.value&&Promise.resolve().then(function(){return n.calculateSize()})},y.calculateSize=function(){var e=this._textArea;if(null!=e){var t=this.props,n=t.fontWidthEstimate,r=t.rows,a=e.value;if(null!=n&&-1===a.indexOf("\n")&&a.length*n<.8*e.offsetWidth)this.setState({height:"auto"});else{null==s&&null!=document.body&&(s=document.createElement("textarea"),document.body.appendChild(s));var o=this.calculateNodeStyling(e),i=o.paddingSize,l=o.borderSize,u=o.boxSizing,d=o.sizingStyle;s.setAttribute("style",d+";\n  visibility:hidden;\n  overflow:hidden;\n  position:absolute;\n  z-index:-1000;\n  top:0;\n  right:0;\n"),s.value=a,null!=r?s.setAttribute("rows",""+r):s.removeAttribute("rows");var c=s.scrollHeight;"border-box"===u?c+=l:"content-box"===u&&(c-=i),this.setState({height:c})}}},y.calculateNodeStyling=function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:d.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:r,borderSize:a,boxSizing:n}},y.clear=function(){null!=this._textArea&&(this._textArea.value=""),this.calculateSize()},y.blur=function(){var e=this._textArea;null!=e&&e.blur()},y.focus=function(){var e=this._textArea;null!=e&&e.focus()},y.setSelection=function(e,t){null!=this._textArea&&(this._textArea.selectionStart=e,this._textArea.selectionEnd=t)},y.render=function(){var e=this.props,t=e.style,n=e.className,i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["style","className"]);delete i.fontWidthEstimate,delete i.onResize;var u=l({},this.state,t);return r.createElement("textarea",l({},i,{className:(0,a.default)(n,o.default.scrollbarGhostHairline),ref:this.handleSetRef,style:u,onChange:this.handleChange}))},c=i,(f=[{key:"selectionStart",get:function(){return this._textArea&&this._textArea.selectionStart||0}},{key:"selectionEnd",get:function(){return this._textArea&&this._textArea.selectionEnd||0}},{key:"value",get:function(){return this._textArea&&this._textArea.value||""}}])&&u(c.prototype,f),p&&u(c,p),i}(r.PureComponent);c.displayName="TextAreaAutosize",c.defaultProps={autoFocus:!1,disabled:!1};var f=c;t.default=f},5804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(3)),a=f(n(2)),o=n(776),i=n(5823),l=n(5824),u=n(225),s=f(n(93)),d=f(n(404)),c=f(n(14));n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=!1,h={},_={};function m(e){var t=!1;return e.forEach(function(e){t=!1!==O(e)||t}),t}function g(e){var t=_[e];if(null==t)return!1;var n=t.gameId;return h[n]&&(delete(h=y({},h))[n][e],0===Object.values(h[n]).length&&delete h[n]),delete(_=y({},_))[e],!0}function O(e){var t=e.user,n=e.activities;if(null==t||!d.default.isOnFeed(t.id))return!1;var r,a=n[0];if(null==a)return g(t.id);if((0,u.isOnXbox)(a))r=l.XBOX_APPLICATION_ID_PREFIX+a.name;else if((0,u.isListeningOnSpotify)(a)&&null!=a.party&&null!=a.party.id)r=o.SpotifyApplication.id;else if((0,u.isStreaming)(a)&&null!=a.url)r=i.TWITCH_APPLICATION_ID_PREFIX+a.url;else{if(null==a.application_id)return g(t.id);r=a.application_id}var s=_[t.id];s&&s.gameId!==r&&g(t.id);var c=null!=a.timestamps&&a.timestamps.start||Date.now();return function(e,t){var n,r,a;h=y({},h,((r={})[e]=y({},h[e],((n={})[t.userId]=t,n)),r)),_=y({},_,((a={})[t.userId]={gameId:e,startedPlaying:t.startedPlaying},a))}(r,{userId:t.id,activity:a,startedPlaying:c}),!0}function A(){var e=!1;return d.default.hasLoadedSettings&&!v&&(e=function(){h={},_={};var e=!1;return s.default.getUserIds().forEach(function(t){var n=c.default.getUser(t);null!=n&&(e=O({user:n,activities:s.default.getActivities(t)})||e)}),e}()),v=d.default.hasLoadedSettings,e}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(d.default),this.syncWith([d.default],A)},l.getNowPlaying=function(e){return h[e]},l.getUserGame=function(e){return _[e]},a=r,(o=[{key:"games",get:function(){return h}},{key:"usersPlaying",get:function(){return _}},{key:"gameIds",get:function(){return Object.keys(h)}}])&&p(a.prototype,o),i&&p(a,i),r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.presences;return h={},_={},m(t)},LOGOUT:function(e){return h={},void(_={})},PRESENCE_UPDATE:function(e){return O(e)},PRESENCES_REPLACE:function(e){return m(e.presences)},ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD:function(e){var t=e.userIds,n=!1;return t.forEach(function(e){var t=s.default.getActivities(e);if(0!==t.length){var r=c.default.getUser(e);null!=r&&(n=O({user:r,activities:t})||n)}}),n}});t.default=E},5805:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(5753)),o=N(n(6)),i=N(n(4)),l=N(n(3)),u=N(n(2)),s=n(191),d=n(301),c=n(756),f=n(5728),p=n(121),y=N(n(19)),v=N(n(12)),h=N(n(297)),_=N(n(162)),m=N(n(766)),g=N(n(36)),O=N(n(92)),A=N(n(62)),E=N(n(289)),I=N(n(43)),S=N(n(239)),T=N(n(230)),b=N(n(5914)),P=n(1);function N(e){return e&&e.__esModule?e:{default:e}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=5,R=(0,i.default)().subtract(1,"week"),L=[],w="",D=!1;function U(e,t){return e.application.name.localeCompare(t.application.name,I.default.locale,{sensitivity:"base"})}function G(e,t){return null!=e&&((0,i.default)(e.createdAt).isAfter(R)&&0===t&&!(e instanceof s.LocalApplicationRecord))}var j=((r={})[P.GameTableListKeys.NAME]=U,r[P.GameTableListKeys.PLATFORM]=function(e,t,n){var r=e.libraryApplication.getDistributor(),a=t.libraryApplication.getDistributor();return r===a?(n===P.TableSortDirections.DESCENDING?-1:1)*U(e,t):null==r?1:null==a?-1:r.localeCompare(a)},r[P.GameTableListKeys.LAST_PLAYED]=function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1},r[P.GameTableListKeys.ACTIONS]=null,r),k=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary})}),F=(0,c.cachedFunction)(function(e){return e.filter(function(e){return e.isLaunchable&&(null==e.libraryApplication||e.shouldShowInLibrary)})}),x=(0,c.cachedFunction)(function(e,t){return e.filter(function(e){return(0,a.default)(t.toLowerCase(),e.application.name.toLowerCase())})}),B=(0,c.cachedFunction)(function(e,t,n,r){var a=j[t];if(null==a)return e;var o=[].concat(e).sort(a);return n===P.TableSortDirections.DESCENDING?o.reverse():o}),Y=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()})});function V(e,t){var n=S.default.getCurrentUserStatisticsForApplication(e.id);if(null!=n)return new Date(n.last_played_at).getTime();var r=t[e.id];return null!=r?r:0}function H(e,t,n,r,a){if(!a&&t.has(e.id))return null;var o=g.default.getGame(e.id);if(null==o)return null;var i=V(o,n);return t.add(e.id),e instanceof s.LocalApplicationRecord||(0,p.isUserEntitledToLibraryApplication)(e)||_.default.isInstalled(e.id,e.branchId)?{key:e.id+"-"+e.branchId,application:o,libraryApplication:e,lastPlayed:i,supportsCloudSync:null!=e&&!(e instanceof s.LocalApplicationRecord)&&_.default.supportsCloudSync(e.id,e.branchId),isNew:G(e,i),isLaunching:g.default.launchingGames.has(e.id),isRunning:r.has(e.id),isLaunchable:(0,d.isLaunchable)(O.default,g.default,_.default,h.default,e.id,e.branchId),isUpdatingFlags:O.default.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,p.shouldShowGameInLibrary)(o,e,T.default,E.default),defaultAction:(0,f.getDefaultLibraryApplicationAction)(e,_.default,m.default)}:null}function K(){var e=new Set(A.default.getRunningVerifiedApplicationIds()),t={},n=new Set,r=A.default.getGamesSeen(!1,!1).map(function(e){var n=g.default.getGameBySettingGame(e);return null!=n?(t[n.id]=1e3*e.lastFocused,n.id):null}),a=Object.values(O.default.getAllLibraryApplications()).map(function(r){return H(r,n,t,e,!0)}).filter(Boolean),i=Object.values(T.default.localApplications).map(function(r){return H(r,n,t,e,!1)}).filter(Boolean),l=r.map(function(r){return function(e,t,n,r){var a=null!=e?g.default.getGame(e):null;if(null==a||null==e||t.has(e))return null;var o=V(a,n);return t.add(e),{key:e,application:a,lastPlayed:o,supportsCloudSync:!1,isNew:!1,isLaunching:g.default.launchingGames.has(e),isRunning:r.has(e),isLaunchable:(0,d.isLaunchable)(O.default,g.default,_.default,h.default,e,null),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(r,n,t,e)}).filter(Boolean),u=[].concat(l,i,a).sort(function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1});return D=null!=g.default.lastFetched&&O.default.fetched,!o.default.isEqual(u,L)&&(L=u,v.default.embedded&&y.default.setSystemTrayApplications(F(L).map(function(e){return e.application}).slice(0,M)),!0)}var W=new(function(e){var t,n,r,a,o;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.initialize=function(){this.syncWith([g.default,A.default,_.default,m.default,O.default,S.default,E.default,h.default],K,200),this.syncWith([b.default,I.default],function(){return!0})},r=i,(a=[{key:"applicationFilterQuery",get:function(){return w}},{key:"applicationViewItems",get:function(){return L}},{key:"launchableApplicationViewItems",get:function(){return F(L)}},{key:"libraryApplicationViewItems",get:function(){return k(L)}},{key:"filteredLibraryApplicationViewItems",get:function(){return x(this.libraryApplicationViewItems,w)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return B(this.filteredLibraryApplicationViewItems,b.default.sortKey,b.default.sortDirection,I.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return Y(L)}},{key:"hasFetchedApplications",get:function(){return D}}])&&C(r.prototype,a),o&&C(r,o),i}(l.default.Store))(u.default,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;w=t}});t.default=W},5808:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=p(n(3)),o=(n(191),p(n(92))),i=p(n(230)),l=p(n(186)),u=p(n(91)),s=n(121),d=p(n(5764)),c=p(n(5866)),f=p(n(5917));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.application,n=e.isChatXStoreApplication,a=e.libraryApplication,o=e.localApplication,i=e.fullWidth,l=e.size,u=e.color,p=e.customDisabledColor,v=e.hideNotLaunchable,h=e.tooltipPosition,_=e.onClick,m=e.className,g=e.source,O=e.storeListingAnalyticsProperties,A=e.pauseAnimation,E={fullWidth:i,size:l,color:u,customDisabledColor:p,tooltipPosition:h,onClick:_,className:m,hover:e.hover,innerClassName:e.innerClassName};return null!=a&&(0,s.isUserEntitledToLibraryApplication)(a)?r.createElement(f.default,y({},E,{libraryApplication:a,source:g})):null==o&&n?r.createElement(d.default,y({},E,{skuId:null!=a?a.sku.id:null,applicationId:t.id,pauseAnimation:A,storeListingAnalyticsProperties:O})):r.createElement(c.default,y({},E,{hideNotLaunchable:v,applicationId:t.id}))},a}(r.PureComponent);v.displayName="ApplicationActionButton",v.defaultProps={fullWidth:!1,size:u.default.Sizes.LARGE};var h=a.default.connectStores([o.default,i.default,l.default],function(e){var t=e.application,n=o.default.getActiveLibraryApplication(t.id),r=null!=n?n.sku.id:null,a=null!=r?r:t.primarySkuId;return{isChatXStoreApplication:null!=a&&!l.default.didFetchingSkuFail(a),libraryApplication:n,localApplication:i.default.getLocalApplication(t.id)}})(v);t.default=h},5809:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=S(n(3)),i=S(n(36)),l=S(n(92)),u=S(n(230)),s=S(n(6035)),d=S(n(6036)),c=S(n(6037)),f=S(n(6038)),p=S(n(6039)),y=S(n(6040)),v=S(n(6041)),h=S(n(6042)),_=S(n(6043)),m=S(n(6044)),g=S(n(6045)),O=S(n(6046)),A=S(n(6047)),E=S(n(5737)),I=n(1);function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderFallback=function(){return b(E.default,{id:this.props.applicationId})},o.renderLibraryApplicationItems=function(e){var t=this.props,n=t.libraryApplication,r=t.application;return null==n||null==r?null:b(a.Fragment,{},void 0,b(c.default,{libraryApplication:n,analyticsLocation:e}),b(p.default,{libraryApplication:n}),b(m.default,{libraryApplication:n}),b(O.default,{libraryApplication:n}),b(g.default,{libraryApplication:n}),b(v.default,{application:r,analyticsLocation:e}),b(h.default,{application:r}),b(s.default,{application:r,libraryApplication:n}),b(_.default,{application:r,libraryApplication:n}),b(d.default,{application:r,libraryApplication:n}))},o.renderMenuItems=function(){var e=this.props,t=e.type,n=e.libraryApplication,r=e.application,o=e.onPlay,i=e.analyticsContext;if(null==r)return this.renderFallback();if(t===I.ContextMenuTypes.APPLICATION_STORE_DIRECTORY)return b(a.Fragment,{},void 0,b(y.default,{application:r}),b(d.default,{application:r,libraryApplication:n}));var l=T({},null!=i?i.location:null,{object:I.AnalyticsObjects.CONTEXT_MENU});switch(t){case I.ContextMenuTypes.APPLICATION_ACTIVITY_FEED:case I.ContextMenuTypes.APPLICATION_GAME_LIBRARY:case I.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES:return b(a.Fragment,{},void 0,this.renderLibraryApplicationItems(l),b(h.default,{application:r}),b(A.default,{application:r}));case I.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER:return null==n?this.renderFallback():b(a.Fragment,{},void 0,b(c.default,{libraryApplication:n,analyticsLocation:l}),b(d.default,{application:r,libraryApplication:n}));case I.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS:return null==n?this.renderFallback():b(f.default,{libraryApplication:n,onPlay:o})}},o.render=function(){var e=this.props,t=e.className,n=e.style,r=this.renderMenuItems();return null==r?null:b("div",{className:t,style:n},void 0,r)},r}(a.PureComponent);P.displayName="ApplicationContextMenu";var N=o.default.connectStores([l.default,i.default],function(e){var t=e.applicationId,n=e.branchId,r=null!=n?l.default.getLibraryApplication(t,n):l.default.getActiveLibraryApplication(t),a=null==r?u.default.getLocalApplication(t):null;return{libraryApplication:r||a,application:i.default.getGame(t)}})(P);t.default=N},5810:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=u(n(15)),i=n(1),l=u(n(5148));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t,n,r,u,f=e.className,p=e.percent,y=e.size,v=void 0===y?c.SMALL:y,h=e.foregroundColor,_=void 0===h?i.Colors.BRAND:h,m=e.backgroundColor,g=void 0===m?"#e9e7e7":m,O=e.foregroundGradientColor,A=e.animate,E=void 0===A||A,I=null!=p?p:0;return u=null!=O?{background:"linear-gradient(to right, "+O[0]+", "+O[1]+")"}:{backgroundColor:_},s("div",{className:(0,o.default)(f,l.default.progress,l.default[v]),style:{backgroundColor:g}},void 0,"indeterminate"!==I&&"number"==typeof I?s("div",{className:(0,o.default)(l.default.progressBar,l.default[v],(t={},t[l.default.animating]=E,t)),style:d({transform:"translate3d("+(Math.min(Math.max(0,I),100)-100)+"%, 0, 0)"},u)}):s(a.Fragment,{},void 0,s("div",{className:(0,o.default)(l.default.indeterminateBar1,l.default[v],(n={},n[l.default.animating]=E,n)),style:u}),s("div",{className:(0,o.default)(l.default.indeterminateBar2,l.default[v],(r={},r[l.default.animating]=E,r)),style:u})))};f.displayName="Progress",f.Sizes=c,f.INDETERMINATE="indeterminate";var p=f;t.default=p},5811:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(15)),i=n(187),l=n(1),u=s(n(5157));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({DEFAULT:u.default.themeDefault,CLEAR:u.default.themeClear}),f=Object.freeze({DEFAULT:u.default.sizeDefault,MINI:u.default.sizeMini}),p=Object.freeze({CHECKED:u.default.valueChecked,UNCHECKED:u.default.valueUnchecked}),y=Object.freeze({ENABLED:"enabled",DISABLED:"disabled"}),v=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleKeyPress=function(e){e.charCode!==l.KeyboardKeys.SPACE&&e.charCode!==l.KeyboardKeys.ENTER||(e.preventDefault(),null!=t.ref&&t.ref.click())},t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.render=function(){var e=this,t=this.props,n=t.id,l=t.onChange,s=t.value,c=t.fill,f=t.theme,v=t.disabled,h=t.className,_=t.size,m=v?y.DISABLED:y.ENABLED,g=s?p.CHECKED:p.UNCHECKED,O=this.props.style;return null!=c&&s&&(O=d({},O,{backgroundColor:c})),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(h,(0,i.getClass)(u.default,"switch",m),g,_,f),style:O,onKeyPress:this.handleKeyPress,tabIndex:v?-1:0},void 0,a.createElement("input",{id:n,ref:function(t){return e.ref=t},className:(0,i.getClass)(u.default,"checkbox",m),type:"checkbox",disabled:v,onChange:l,checked:s,tabIndex:-1}))},s}(a.Component);v.displayName="Switch",v.Themes=c,v.Sizes=f,v.defaultProps={theme:c.DEFAULT,size:f.DEFAULT};var h=v;t.default=h},5823:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TWITCH_APPLICATION_ID_PREFIX=void 0;var r=i(n(163)),a=i(n(120)),o=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}t.TWITCH_APPLICATION_ID_PREFIX="twitch:";var l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.initialize=function(t){e.prototype.initialize.call(this,t),this.id="twitch:"+t.url,this.name=o.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH},i.getIconURL=function(){return r.default.get("twitch").icon.svg},a}(a.default);t.default=l},5824:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.XBOX_APPLICATION_ID_PREFIX=void 0;var r=o(n(163)),a=o(n(120));function o(e){return e&&e.__esModule?e:{default:e}}t.XBOX_APPLICATION_ID_PREFIX="xbox:";var i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(t){e.prototype.initialize.call(this,t),this.id="xbox:"+t.name,this.name=t.name},o.getIconURL=function(){return r.default.get("xbox").icon.svg},a}(a.default);t.default=i},5825:function(e,t,n){"use strict";t.__esModule=!0,t.isRealGameId=function(e){return"string"==typeof e&&e!==p.SPOTIFY_APPLICATION_ID&&!e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)&&!e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)},t.default=void 0;var r=V(n(6)),a=V(n(142)),o=V(n(3)),i=V(n(2)),l=V(n(793)),u=n(231),s=V(n(140)),d=n(797),c=V(n(6028)),f=Y(n(5890)),p=(V(n(120)),n(776)),y=Y(n(5823)),v=Y(n(5824)),h=n(225),_=V(n(226)),m=V(n(20)),g=V(n(414)),O=V(n(815)),A=V(n(770)),E=V(n(5101)),I=V(n(36)),S=V(n(24)),T=V(n(5804)),b=V(n(93)),P=V(n(5775)),N=V(n(84)),C=V(n(62)),M=V(n(849)),R=V(n(404)),L=V(n(14)),w=V(n(6029)),D=V(n(117)),U=V(n(801)),G=V(n(309)),j=V(n(5951)),k=V(n(5805)),F=V(n(239)),x=V(n(5953)),B=n(1);function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e){return e&&e.__esModule?e:{default:e}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W,z="party-",$="channel-",X="user-",J=6e5,q=216e5,Q=7,Z=3,ee=4,te=30,ne=!1,re=!1,ae=[],oe=[],ie=[],le=[],ue=[],se={},de={},ce=new Set,fe=new Set,pe=null,ye=!1,ve=!1,he=null,_e=new Set,me=[],ge=[],Oe=[],Ae=[];function Ee(e){var t;null==se[e]&&(se=K({},se,((t={})[e]=new v.default({name:e}),t)));return se[e]}function Ie(e){var t;null==de[e]&&(de=K({},de,((t={})[e]=new y.default({url:e}),t)));return de[e]}function Se(e){fe.has(e)||ce.add(e)}function Te(e){if((0,h.isListeningOnSpotify)(e))return p.SpotifyApplication;var t=null!=e.application_id?I.default.getGame(e.application_id):null;return null!=t?t:(0,h.isOnXbox)(e)?Ee(e.name):(0,h.isStreaming)(e)&&null!=e.url?Ie(e.url):(null!=e.application_id&&Se(e.application_id),t)}function be(e){return N.default.isFriend(e.id)}function Pe(){var e=Date.now();null!=he&&e-he<q||(l.default.getActivities(),he=e)}function Ne(){re&&R.default.isAutosubscribedGamesFetched&&(oe=Ge(),ie=oe.map(function(e){var t=e.news,n=e.applicationId;return{news:t,application:I.default.getGame(n)}}),Xe())}function Ce(){Xe()}function Me(e,t){var n,a=e.map(function(e){return e.id}),o=e.filter(function(e){return R.default.isOnFeed(e.id)}),i=!1,l=[],u=new Set,s=!1,d=[],c=function(){if(h){if(g>=f.length)return"break";O=f[g++]}else{if((g=f.next()).done)return"break";O=g.value}var t=O,n=_.default.getStreamForUser(t.id),a=b.default.getPrimaryActivity(t.id);null!=n&&null!=a&&d.push({stream:n,streamUser:t,activity:a});var o=T.default.getUserGame(t.id),c=null!=o?o.gameId:null;if(null==c)return"continue";s=c===p.SPOTIFY_APPLICATION_ID;var m=function(e){var t=I.default.getGame(e);return null!=t?t:e===p.SPOTIFY_APPLICATION_ID?p.SpotifyApplication:e.startsWith(v.XBOX_APPLICATION_ID_PREFIX)?Ee(e.slice(v.XBOX_APPLICATION_ID_PREFIX.length)):e.startsWith(y.TWITCH_APPLICATION_ID_PREFIX)?Ie(e.slice(y.TWITCH_APPLICATION_ID_PREFIX.length)):(Se(e),null)}(c);if(null==o||null==m||u.has(m.id))return"continue";var A=null!=a?Te(a):null;null!=A&&A.id===m.id||(a=null);var S=[];if(null!=a&&null!=a.party&&null!=a.party.id){var P=E.default.getParty(a.party.id)||[];S=Array.from(P).reduce(function(e,t){var n=L.default.getUser(t);return null!=n&&e.push(n),e},[])}else S=e.filter(function(e){var t=b.default.getPrimaryActivity(e.id),n=null!=t?Te(t):null;return null!=n&&n.id===m.id});if(s&&S.length<2)return"continue";(S=r.default.orderBy(S,[be],["desc"])).length!==e.length&&(i=!0),u.add(m.id),l.push({game:m,activity:a,activityUser:t,startedPlayingTime:o.startedPlaying,playingMembers:S})};var f=e,h=Array.isArray(f),g=0;e:for(f=h?f:f[Symbol.iterator]();;){var O;switch(c()){case"break":break e;case"continue":continue}}var A,P,N=1===o.length,C=[],M=new Set,U=new Set,G=e,j=Array.isArray(G),k=0;for(G=j?G:G[Symbol.iterator]();;){var F;if(j){if(k>=G.length)break;F=G[k++]}else{if((k=G.next()).done)break;F=k.value}var x=F,B=w.default.getChannel(x.id).channelId,Y=m.default.getChannel(B),V=null!=Y?Y.getGuildId():null,H=S.default.getGuild(V);if(U.has(V)&&M.has(B)||null==Y||null==H)null==Y&&(n=null,N=!0);else{var K=(0,r.default)(D.default.getVoiceStatesForChannel(V,B)).map(function(e){var t=e.userId;return L.default.getUser(t)}).filter(function(e){return null!=e}).orderBy([be],["desc"]).value();K.filter(function(e){return!a.includes(e.id)}).forEach(function(t){return e.push(t)}),N?U.has(V)||(n=null):(n=H,N=!0),U.add(V),M.add(B),C.push({channel:Y,guild:H,members:K})}}return{id:t,voiceChannels:C,isSpotifyActivity:s,priorityMembers:o.map(function(e){return{user:e,status:b.default.getStatus(e.id)}}),partiedMembers:e,showPlayingMembers:i,guildContext:n,currentActivities:(A=l,P=function(e){return e.startedPlayingTime},(0,r.default)(A).orderBy([P,function(e){return e.game.name}],["desc","asc"])).value(),applicationStreams:d}}function Re(){var e=new Set,t=j.default.getExperimentDescriptor(),n=R.default.gameIDsToShow,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o;e.add(i)}return 0!==e.size||null!=t&&t.bucket!==B.ExperimentBuckets.CONTROL||M.default.trendingApplications.map(function(t){var n=t.game_id;return e.add(n)}),e}function Le(){var e=Re();i.default.wait(function(){return s.default.getGameNews(Array.from(e))}),ye=!0}function we(){R.default.isAutosubscribedGamesFetched||f.fetchSettings({includeAutosubscribedGames:!0})}function De(){var e=U.default.isEligibleForExperiment()?U.default.getGuilds():G.default.getGuilds();null!=e&&(_e.forEach(function(t){null==e||e.some(function(e){return e===t})||_e.delete(t)}),(e=e.filter(function(e){return!_e.has(e)})).length>0&&((0,d.fetchGuildsForSection)(e,B.GuildDiscoverySections.MISC),e.forEach(function(e){return _e.add(e)})))}var Ue=function(e){return null!=e&&null!=e.title&&null!=e.url&&(null==e.type||e.type===B.EmbedTypes.VIDEO||e.type===B.EmbedTypes.ARTICLE||e.type===B.EmbedTypes.RICH||e.type===B.EmbedTypes.APPLICATION_NEWS||e.type===B.EmbedTypes.LINK)};function Ge(){var e=new Set,t=Re(),n=[],a=function(){if(i){if(l>=o.length)return"break";u=o[l++]}else{if((l=o.next()).done)return"break";u=l.value}var t=u;A.default.getRecentByGameId(t).filter(Ue).forEach(function(r){return a=r,o=t,e.add(a.url),void n.push({news:a,applicationId:o});var a,o})},o=t,i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var u;if("break"===a())break}return(0,r.default)(n).orderBy(function(e){var t=e.news;return new Date(t.timestamp||new Date).getTime()},["desc"]).value().slice(0,te)}function je(){return ne&&g.default.isConnected()}function ke(){if(!je())return!1;ce.clear();var e,t,n,a,o=Array.from(R.default.feedUserIDs).reduce(function(e,t){var n=L.default.getUser(t);return null==n||n.bot||e.push(n),e},[]),l=(e=o,void 0===t&&(t=!1),(0,r.default)(e).groupBy(function(e){if(t)return X+"-"+e.id;var n=w.default.getChannel(e.id).channelId,r=b.default.getPrimaryActivity(e.id);return null!=n?$+"-"+n:null!=r&&null!=r.party&&null!=r.party.id?z+"-"+r.party.id:X+"-"+e.id})),u=(n=l,(0,r.default)(n).mapValues(Me)),d=u.values().orderBy([function(e){return e.currentActivities.length>0},function(e){return e.partiedMembers.length>1},function(e){return e.priorityMembers.map(function(e){return e.user.username.toLowerCase()}).join(" ")}],["desc","desc","asc"]).value();ae=function(e){return e.filter(function(e){return e.isSpotifyActivity?e.partiedMembers.length>1:e.priorityMembers.length>1||e.currentActivities.length>0||e.applicationStreams.length>0})}(d),le=function(e){var t=r.default.groupBy(e,function(e){var t=e.id,n=e.priorityMembers,r=e.voiceChannels,a=e.currentActivities;if(n.length>1||r.length>0)return"party-"+t;var o=a[0],i=o.game,l=o.activity;return null!=l&&(0,h.hasRichActivity)(l)?"party-"+t:"game-"+i.id});return Object.keys(t).map(function(e){var n=t[e];return 1===n.length?{type:B.ActivityCardTypes.USER,party:n[0]}:{type:B.ActivityCardTypes.GAME,game:n[0].currentActivities[0].game,parties:n}})}(ae),a=[],le.forEach(function(e){e.type===B.ActivityCardTypes.GAME?e.parties.forEach(function(e){a.push({type:B.ActivityCardTypes.USER,party:e})}):a.push(e)}),ue=a,re&&R.default.isAutosubscribedGamesFetched&&(oe=Ge(),ie=oe.map(function(e){var t=e.news,n=e.applicationId;return{news:t,application:I.default.getGame(n)}})),!M.default.loaded&&M.default.shouldFetch()&&i.default.wait(function(){return c.default.fetchTrendingApplications()}),Le(),function(){if(!ve&&re&&ye&&!(ce.size>0)){var e=Re(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;if(!A.default.isFetched(a))return}ve=!0}}(),Xe(),function(){if(ce.size>0){var e=Array.from(ce);s.default.fetchApplications(e),e.forEach(function(e){return fe.add(e)}),ce.clear()}}()}var Fe=r.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1}),xe=r.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1});var Be=r.default.throttle(function(){ke(),Je.emitChange()},500,{leading:!1});function Ye(e){return{type:B.FeedCardTypes.NEWS,key:e.news.game_id+"-"+(e.news.url||"no-url"),data:e}}function Ve(){return{type:B.FeedCardTypes.SIDE_BAR,key:"side-bar"}}function He(e){for(var t,n=[],r=0;r<e;r++)n.push((t=r.toString(),{type:B.FeedCardTypes.PLACEHOLDER,key:t}));return n}function Ke(){return{type:B.FeedCardTypes.NO_NEWS,key:"no-news"}}function We(){return{type:B.FeedCardTypes.GDPR,key:"opt-in"}}function ze(){return{type:B.FeedCardTypes.GDPR_SIDE_BAR,key:"gdpr-side-bar"}}function $e(){return{type:B.FeedCardTypes.NO_GAMES,key:"no-games"}}function Xe(){var e,t=x.default.promotions,n=R.default.gameIDsToShow.size,r=t.length>0?(e=t[0],{type:B.FeedCardTypes.PROMOTION,key:e.id,data:e}):null,a=O.default.hasConsented(B.Consents.PERSONALIZATION),o=R.default.hasDismissedPersonalizationNotice,i=R.default.hasDismissedNoGamesNotice,l=oe.map(Ye);a?0!==n&&0!==oe.length||i?0===oe.length&&null==r?(me=[Ke()],ge=[Ke()]):(me=l.slice(),ge=l.slice(),r&&(me.splice(1,0,r),ge.splice(0,0,r))):(ge=[$e()],me=[$e()],r&&(me.push(r),ge.push(r)),ge=ge.concat(l),me=me.concat(l)):(me=o?[]:[We()],ge=o?[]:[We()],r&&(me.push(r),ge.push(r)),ge=ge.concat(l),me=me.concat(l)),Oe=[a?Ve():ze()],ge.splice(1,0,a?Ve():ze());var u=Q-me.length,s=Q-ge.length;me.length<Z&&u>0&&(me=me.concat(He(u))),ge.length<ee&&s>0&&(ge=ge.concat(He(s)))}var Je=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.syncWith([T.default,L.default,I.default,b.default,E.default,D.default,_.default,N.default,w.default,P.default,O.default],function(){return!!je()&&(ve?(Fe(),!1):void ke())}),this.syncWith([R.default,j.default],ke),this.syncWith([C.default,k.default,F.default,M.default],function(){return Be(),!1}),this.syncWith([G.default,U.default],De),this.waitFor(g.default,S.default,I.default,R.default,F.default,G.default,U.default,L.default)},l.getFeed=function(e){switch(e){case B.FeedLayouts.TWO_COL:return ge;case B.FeedLayouts.THREE_COL:default:return me}},l.getSidebar=function(e){switch(e){case B.FeedLayouts.TWO_COL:return Ae;case B.FeedLayouts.THREE_COL:default:return Oe}},a=r,(o=[{key:"currentActivityParties",get:function(){return ae}},{key:"nowPlayingCards",get:function(){return le}},{key:"nowPlayingCardsAF2",get:function(){return ue}},{key:"news",get:function(){return oe}},{key:"newsAF1",get:function(){return ie}},{key:"loaded",get:function(){return ve&&x.default.loaded}},{key:"loadId",get:function(){return pe}},{key:"isMounted",get:function(){return ne}}])&&H(a.prototype,o),i&&H(a,i),r}(o.default.Store))(i.default,{ACTIVITY_FEED_MOUNT:function(e){return ne=!0,ve=null!=W&&Date.now()-W<J,pe=a.default.v4(),ye=!1,ke(),g.default.isConnected()&&(we(),Pe()),void(ve||Le())},ACTIVITY_FEED_UNMOUNT:function(e){return ne=!1,void(ve&&(W=Date.now()))},ACTIVITIES_UPDATE:function(e){return re=!0,xe(),!1},CONNECTION_OPEN:function(e){return function(){if(je()){i.default.wait(function(){return c.default.fetchTrendingApplications()}),we(),Pe(),Le();var e=U.default.isEligibleForExperiment(),t=L.default.getCurrentUser();e&&null!=t&&t.premiumType!==B.PremiumTypes.NONE&&i.default.wait(function(){return(0,u.fetchSubscriptions)()})}}()},PROMOTIONS_FETCH_START:function(e){return Ce()},PROMOTIONS_FETCH_SUCCESS:function(e){return Ce()},PROMOTIONS_FETCH_FAIL:function(e){return Ce()},GAME_NEWS_FETCH:function(e){return Ne()},GAME_NEWS_UPDATE:function(e){return Ne()},GAME_NEWS_READ:function(e){return Ne()},GAME_NEWS_HIDE:function(e){return Ne()},LOGOUT:function(e){return ne=!1,re=!1,ae=[],oe=[],he=null,pe=null,ye=!1,ve=!1,me=[],ge=[],Oe=[],void ce.clear()}}),qe=Je;t.default=qe},5826:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.NO_PAYMENT_SOURCE=void 0;var r=i(n(3)),a=i(n(2)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s="no_payment_source";t.NO_PAYMENT_SOURCE=s;var d,c,f=null,p=null,y=null,v=null,h=null,_={},m=null,g=!1,O=null,A=!1,E=!1,I=!1,S=!1,T=null;function b(e){null!=d&&null!=m?d(m):null!=c&&c(e),d=null,c=null}var P=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,u,s=r.prototype;return s.getPricesForSku=function(e){return _[e]},s.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return T===e&&I},s.getProps=function(){return{appContext:T,skuId:f,applicationId:y}},a=r,(i=[{key:"isPurchasingSKU",get:function(){return g}},{key:"forceConfirmationStepOnMount",get:function(){return A}},{key:"error",get:function(){return O}},{key:"skuId",get:function(){return f}},{key:"applicationId",get:function(){return y}},{key:"analyticsLocation",get:function(){return v}},{key:"promotionId",get:function(){return h}},{key:"isIAP",get:function(){return E}},{key:"giftCode",get:function(){return p}},{key:"isGift",get:function(){return S}}])&&l(a.prototype,i),u&&l(a,u),r}(r.default.Store))(a.default,{SKU_PURCHASE_MODAL_OPEN:function(e){b(),f=e.skuId,y=e.applicationId,E=e.isIAP,v=e.analyticsLocation,T=e.context,S=e.isGift,I=!0,A=!1,d=e.resolve,c=e.reject,O=null,m=null,h=e.promotionId},SKU_PURCHASE_MODAL_CLOSE:function(e){var t=e.error;I=!1,T=null,b(t)},SKU_PURCHASE_PREVIEW_FETCH_SUCCESS:function(e){var t,n,r=e.skuId,a=e.paymentSourceId,o=e.price;_=u({},_,((n={})[r]=u({},_[r],((t={})[null!=a?a:s]=o,t)),n))},SKU_PURCHASE_START:function(e){g=!0},SKU_PURCHASE_SUCCESS:function(e){var t=e.entitlements,n=e.giftCode;g=!1,m=t,p=n},SKU_PURCHASE_FAIL:function(e){var t=e.error;g=!1,O=t},SKU_PURCHASE_SHOW_CONFIRMATION_STEP:function(e){A=!0},SKU_PURCHASE_CLEAR_ERROR:function(e){O=null},SKU_PURCHASE_UPDATE_IS_GIFT:function(e){S=e.isGift},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==T)return!1;I=!1,T=null,b()}});t.default=P},5827:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(5955),i=n(1);var l={detectAccounts:function(e,t){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,o.fetchAccounts)(e).then(function(n){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:n,location:t}),n})},ignore:function(e){a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){a.default.dispatch({type:i.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}};t.default=l},5828:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=_(n(6)),a=_(n(3)),o=_(n(26)),i=_(n(2)),l=_(n(5827)),u=_(n(5956)),s=_(n(163)),d=_(n(18)),c=_(n(12)),f=_(n(416)),p=_(n(289)),y=_(n(43)),v=_(n(160)),h=n(1);function _(e){return e&&e.__esModule?e:{default:e}}var m,g="DetectedPlatformAccountsStore",O=[],A=[],E=[],I=h.DetectedPlatformAccountsDisplayTypes.NONE,S={},T=[],b=new u.default(function(e,t){var n=f.default.getAccounts(),r=s.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===A.indexOf(e)}).filter(function(e){return!n.some(function(t){return t.type===e})}).filter(function(e){return!O.some(function(t){return t.type===e})});r.length>0&&(t||y.default.detectPlatformAccounts)&&l.default.detectAccounts(r),e()});function P(){if(E=[],!p.default.enabled){var e=f.default.getAccounts().filter(function(e){return h.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});E=r.default.without.apply(r.default,[[h.PlatformTypes.FACEBOOK].concat(A)].concat(e))}}var N=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,v.default,p.default,y.default),A=o.default.get(g)||A},a.getDetectedAccounts=function(){return O},a.getDisplayType=function(){return p.default.enabled?h.DetectedPlatformAccountsDisplayTypes.NONE:I},a.getAvailablePlatformTypes=function(){return E},a.hasAvailablePlatformType=function(e){return E.includes(e)},a.getNotDetectedPlatformTypes=function(){return T},a.isDetecting=function(e){return S[e]||!1},a.isOpen=function(){return this.getDisplayType()===h.DetectedPlatformAccountsDisplayTypes.MODAL},a.getProps=function(){return{detectedAccounts:O,displayType:I,analyticsLocation:m}},r}(a.default.Store))(i.default,{CONNECTION_OPEN:function(e){return c.default.embedded&&(b.start(6e4),b.run()),void P()},CONNECTION_CLOSED:function(e){return b.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return c.default.embedded&&b.run(),void P()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,n=e.location;t.forEach(function(e){return S[e]=!0}),null!=n&&(T=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,n=e.accounts,r=e.location;t.forEach(function(e){return S[e]=!1});var a=f.default.getAccounts();O=[].concat(O.filter(function(e){return-1===t.indexOf(e.type)}),n.filter(function(e){return!a.some(function(t){return e.type===t.type&&e.id===t.id})}));var o=null!=r;O.length>0?(o?I=h.DetectedPlatformAccountsDisplayTypes.MODAL:I===h.DetectedPlatformAccountsDisplayTypes.NONE&&(I=v.default.isFocused()?h.DetectedPlatformAccountsDisplayTypes.NOTICE:h.DetectedPlatformAccountsDisplayTypes.MODAL),n.forEach(function(e){d.default.track("detect_platform_account",{platform_type:e.type,display_type:I,location:r})})):I=h.DetectedPlatformAccountsDisplayTypes.NONE,o&&(T=t.filter(function(e){return!O.some(function(t){return t.type===e})})),m=r},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,r.default)(O).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){d.default.track("ignore_platform_account",{platform_type:e,display_type:I})}),A=r.default.uniq([].concat(A,O.map(function(e){return e.type}))),o.default.set(g,A),P(),O=[],I=h.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){I=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;I!==h.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(I=h.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return P()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return P()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return P()},EXPERIMENT_OVERRIDE_TYPE:function(e){return P()}});t.default=N},5829:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=l(n(15)),i=l(n(5116));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).containerRef=a.createRef(),n.getMarkerState=function(e){var t=e.markers,r=e.defaultValue,a=e.minValue,o=e.maxValue,i=[],l=[];if(null==t)return{min:a,max:o,range:o-a,sortedMarkers:i,markerPositions:l};i=t.sort(function(e,t){return e-t});var u=n.findClosestMarkerByIndex(r,i),s=i[0],d=i[i.length-1],c=d-s;if(n.props.equidistant){var f=100/(i.length-1);l=i.map(function(e,t){return t*f})}else{l=i.map(function(e){return 100*(e-s)/c})}return{min:s,max:d,range:c,sortedMarkers:i,markerPositions:l,closestMarkerIndex:u}},n.moveGrabber=function(e){var t=n.state,r=t.sortedMarkers,a=t.value,o=t.min,i=t.max,l=n.props,u=l.asValueChanges,s=l.onValueChange,d={};if(l.stickToMarkers){var c=r.indexOf(a);if(c<0)return;var f=c+e,p=r[f];if(null==p)return;d.value=p,d.closestMarkerIndex=f,d.newClosestIndex=f}else{var y=a+e;if(y>i||y<o)return;d.value=y}n.setState(d),u&&u(d.value),s&&s(d.value)},n.handleKeyDown=function(e){if(!n.props.disabled){var t=e.key;"ArrowLeft"===t||"ArrowDown"===t?(e.preventDefault(),n.moveGrabber(-1)):"ArrowRight"!==t&&"ArrowUp"!==t||(e.preventDefault(),n.moveGrabber(1))}},n.handleMouseDown=function(e){if(!n.props.disabled){document.addEventListener("mousemove",n.handleMouseMove,!0),document.addEventListener("mouseup",n.handleMouseUp,!0);var t=n.containerRef.current;if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");n.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:n.state.closestMarkerIndex})}},n.handleMouseUp=function(){n.reset();var e=n.props,t=e.onValueChange,r=e.stickToMarkers,a=n.state.newClosestIndex;r&&null!=a?(t&&t(n.state.sortedMarkers[a]),n.setState({newClosestIndex:null,closestMarkerIndex:a})):t&&t(n.state.value)},n.handleMouseMove=function(e){e.preventDefault(),n.props.stickToMarkers?n.moveStaggered(e):n.moveSmoothly(e)},n.state=s({value:t.defaultValue},n.getMarkerState(t),{newClosestIndex:null}),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){null==this.state.newClosestIndex&&this.props.defaultValue!==e.defaultValue&&this.setState(s({value:e.defaultValue},this.getMarkerState(e)))},l.componentWillUnmount=function(){this.reset()},l.renderBubble=function(e){var t=this.state.value,n=this.props,r=n.stickToMarkers,a=n.onValueRender;if(!r)return u("span",{className:i.default.bubble},void 0,a?a(t):e.toFixed(0)+"%")},l.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},l.render=function(){var e,t=this,n=this.state,r=n.value,l=n.sortedMarkers,d=n.markerPositions,c=n.closestMarkerIndex,f=n.newClosestIndex,p=n.min,y=n.max,v=this.props,h=v.disabled,_=v.stickToMarkers,m=v.className,g=v.children,O=v.barStyles,A=v.fillStyles,E=v.mini,I=v.hideBubble,S=0;_?null!=d&&(null!=f?S=d[f]:null!=c&&(S=d[c])):S=this.scaleValue(r);var T=S+"%",b=d&&l?d.map(function(e,n){var r=t.renderMark(l[n]);return u("div",{className:i.default.mark,style:{left:e+"%"}},n,u("div",{className:i.default.markValue},void 0,r),u("div",{className:i.default["markDash"+(null==r?"simple":"")]}))}):null;return a.createElement("div",{className:(0,o.default)(i.default.slider,m,(e={},e[i.default.disabled]=h,e[i.default.mini]=E,e)),"aria-valuemin":p,"aria-valuemax":y,"aria-valuenow":r,"aria-disabled":h,role:"slider",tabIndex:"0",onKeyDown:this.handleKeyDown,ref:this.containerRef},u("input",{type:"number",className:i.default.input,value:S.toFixed(0),readOnly:!0}),u("div",{className:i.default.track},void 0,b),u("div",{className:i.default.bar,style:O},void 0,u("div",{className:i.default.barFill,style:s({},A,{width:T})})),g,u("div",{className:i.default.track},void 0,u("div",{className:i.default.grabber,style:{left:T},onMouseDown:this.handleMouseDown},void 0,I?null:this.renderBubble(S))))},l.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},l.findClosestMarkerByIndex=function(e,t){for(var n=null!=t?t:this.state.sortedMarkers,r=0,a=0;a<n.length;a++){var o=n[a];if(e===o)return a;if(e<o)return 0===r?a:o-e<r?a:a-1;r=e-o}return null},l.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},l.unscaleValue=function(e){return e*this.state.range/100+this.state.min},l.moveStaggered=function(e){var t=this.state,n=t.boundingRect,r=t.x,a=void 0===r?0:r,o=t.closestMarkerIndex,i=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,s=n||{},d=s.left,c=s.right;if(!(e.clientX<=d||e.clientX>=c)){var f,p=c-d,y=(e.clientX-a)/p,v=i[o]+100*y;if(this.props.equidistant)f=this.findClosestMarkerByIndex(v,i);else{var h=this.unscaleValue(v);f=this.findClosestMarkerByIndex(h)}null!=f&&u&&u(l[f]),this.setState({newClosestIndex:f})}},l.moveSmoothly=function(e){var t=this.props,n=t.minValue,r=t.maxValue,a=t.handleSize,o=t.asValueChanges,i=this.state.boundingRect,l=i.left,u=i.right,s=this.state.x-e.clientX,d=(this.state.value-n)/(r-n);if(!(e.clientX<=l&&s<0||e.clientX>=u&&s>0)){var c=u-l-a,f=c*d;d=Math.min(Math.max(f-s,0),c)/c}var p=n+d*(r-n);o&&o(p),this.setState({value:p,x:e.clientX})},r}(a.PureComponent);d.displayName="Slider",d.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var c=d;t.default=c},5838:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.NO_VOICE_STATES=void 0;var r=f(n(6)),a=f(n(3)),o=f(n(2)),i=f(n(139)),l=f(n(10)),u=f(n(77)),s=f(n(14)),d=f(n(117)),c=n(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=Object.freeze([]);t.NO_VOICE_STATES=y;var v={},h=[];function _(e){var t=v[e];return null==t&&(t=new A(e),v[e]=t),t}function m(e,t){return u.default.getNick(e,t.id)||t.toString()}function g(e){return{nick:e,comparator:e.toLowerCase()}}function O(e,t,n){var r=s.default.getUser(n),a=null==r;null==r&&(r=new i.default({id:n,username:"...",discriminator:n.slice(-5,-1)}));var o=p({voiceState:e,user:r},function(e,t){return g(m(e,t))}(t,r));return a&&(o._isPlaceholder=!0),o}var A=function(){function e(e){this.guildId=e,this._voiceStates={},this._sortedVoiceStates=null}var t=e.prototype;return t.isInvalid=function(){return null==this._sortedVoiceStates},t.invalidate=function(){this._sortedVoiceStates=null},t.updateVoiceState=function(e){var t=d.default.getVoiceState(this.guildId,e),n=this._voiceStates[e];null!=t?null==n?(this._voiceStates[e]=O(t,this.guildId,e),this.invalidate()):n.voiceState!==t&&(this._voiceStates[e]=p({},n,{voiceState:t}),this.invalidate()):null!=n&&(delete this._voiceStates[e],this.invalidate())},t.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var n=m(this.guildId,t.user);if(n!==t.nick)return this._voiceStates[e]=p({},t,g(n)),this.invalidate(),!0}return!1},t.forEach=function(e){var t=this.isInvalid();r.default.forEach(this._voiceStates,e);var n=this.isInvalid();return n&&n!==t},t.updateUsers=function(){var e=this;return this.forEach(function(t,n){var r=s.default.getUser(n);null!=r&&t.user!==r&&(e._voiceStates[n]=O(t.voiceState,e.guildId,n),e.invalidate())})},t.updateNicks=function(){var e=this;return this.forEach(function(t,n){if(!t._isPlaceholder){var r=m(e.guildId,t.user);t.nick!==r&&(e._voiceStates[n]=p({},t,g(r)),e.invalidate())}})},t.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,r.default)(this._voiceStates).sortBy(function(e){return e.comparator}).sortBy(function(e){return!e.voiceState.selfStream}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}();function E(){return r.default.reduce(v,function(e,t){return t.updateUsers()||e},!1)}function I(){h.forEach(function(e){var t=e.guildId,n=e.userId;_(t||c.ME).updateVoiceState(n)}),h=[]}var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,s.default,u.default,d.default),this.syncWith([s.default],E),this.syncWith([d.default],I)},a.getVoiceStates=function(e){return _(e||c.ME).getVoiceStates()},a.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||c.ME)[t]||y},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return v={},void(h=[])},OVERLAY_INITIALIZE:function(e){return function(){v={},h=[];var e=d.default.getAllVoiceStates();Object.keys(e).forEach(function(t){Object.keys(e[t]).forEach(function(e){_(t||c.ME).updateVoiceState(e)})})}()},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,n=l.default.getId();return null!=n&&h.push({guildId:t||c.ME,userId:n}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,n=e.userId;return h.push({guildId:t||c.ME,userId:n}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,n=e.user;return _(t).updateNick(n.id)},GUILD_DELETE:function(e){var t=e.guild;delete v[t.id]}});t.default=S},5839:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(15)),o=i(n(5129));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.invertColor,n=void 0!==t&&t,i=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:(0,a.default)(n?o.default.botTagInvert:o.default.botTagRegular,i)},void 0,"BOT")};l.displayName="BotTag";var u=l;t.default=u},5840:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=X(n(0)),o=$(n(15)),i=$(n(6)),l=$(n(3)),u=n(5771),s=n(287),d=$(n(140)),c=$(n(741)),f=$(n(76)),p=$(n(743)),y=($(n(139)),$(n(770))),v=$(n(36)),h=$(n(24)),_=$(n(5804)),m=$(n(5775)),g=$(n(46)),O=$(n(404)),A=$(n(14)),E=$(n(5825)),I=$(n(6034)),S=$(n(5720)),T=$(n(91)),b=$(n(5915)),P=$(n(184)),N=$(n(134)),C=$(n(5807)),M=$(n(5729)),R=$(n(222)),L=$(n(5760)),w=$(n(738)),D=$(n(394)),U=$(n(748)),G=$(n(104)),j=$(n(754)),k=$(n(398)),F=X(n(5784)),x=$(n(809)),B=$(n(5723)),Y=$(n(5096)),V=$(n(5808)),H=$(n(5097)),K=n(1),W=$(n(8)),z=$(n(5150));function $(e){return e&&e.__esModule?e:{default:e}}function X(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ee=600,te=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={playingNewsVideo:!1},t.numIntentionalNewsChange=0,t.handleNewsClick=function(e,n){var r=t.props,a=r.game,o=r.location;F.trackGameNewsOpened(o,e,n,a)},t.handleVideoPlay=function(){t.setState({playingNewsVideo:!0})},t.handleIntentionalCarouselChange=function(){t.numIntentionalNewsChange++,t.setState({playingNewsVideo:!1})},t.renderNewsItem=function(e,n){return Q(I.default,{game:t.props.game,news:e,className:z.default.news,backgroundClassname:z.default.background,onClick:function(){return t.handleNewsClick(e,n)},onVideoPlay:t.handleVideoPlay})},t.renderEmptyBody=function(){var e=t.props.game.getSplashURL(ee)||n(6048);return Q("div",{className:z.default.newsEmpty,style:null!=e?{backgroundImage:"url("+e+")"}:null})},t}Z(t,e);var r=t.prototype;return r.componentWillUnmount=function(){if(this.numIntentionalNewsChange>0){var e=this.props,t=e.game,n=e.location;F.trackGameNewsChanged(n,t,this.numIntentionalNewsChange)}},r.render=function(){var e=this.props.gameNews;return 0===e.length?this.renderEmptyBody():1===e.length?Q("div",{className:z.default.news},void 0,this.renderNewsItem(e[0])):Q(b.default,{className:z.default.carousel,paginationClassName:z.default.carouselPagination,includeHitboxPadding:!1,items:e,renderItem:this.renderNewsItem,delay:1e4,onIntentionalChange:this.handleIntentionalCarouselChange})},t}(a.PureComponent);te.displayName="GamePreviewNews";var ne=l.default.connectStores([y.default],function(e){var t=e.game;return{gameNews:y.default.getByGameId(t.id)}})(te),re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderUserPopout=function(e,n){return a.createElement(H.default,q({},n,{analyticsParams:{location:t.props.location},userId:e.id}))},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(Y.default,q({},e,{type:K.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderPlayer=function(e,n){var r=e.user,a=e.lastPlayedDate;void 0===n&&(n=!1);var o=n?Q(D.default,{text:r.username},void 0,Q(S.default,{className:z.default.overflowAvatar,size:S.default.Sizes.ACTIVITY_FEED_24,src:r.getAvatarURL()})):Q("div",{className:z.default.player},void 0,Q(D.default,{text:r.username},void 0,Q(S.default,{src:r.getAvatarURL(),size:S.default.Sizes.ACTIVITY_FEED_24})),Q(k.default,{className:z.default.username},void 0,r.username),null!=a?Q(L.default,{className:z.default.playtime,end:a,location:L.default.Locations.ACTIVITY_FEED_NEW}):Q(k.default,{className:z.default.nowPlaying,size:k.default.Sizes.SIZE_12},void 0,W.default.Messages.ACTIVITY_FEED_USER_PLAYING));return Q(w.default,{render:function(e){return t.renderUserPopout(r,e)},position:w.default.Positions.LEFT,closeOnScroll:!1,dependsOn:t.props.popoutKey},r.id,Q("div",{onContextMenu:function(e){return t.handleContextMenu(e,r)}},void 0,o))},t}Z(t,e);var r=t.prototype;return r.renderOverflowPlayers=function(){var e=this,t=this.props,n=t.nowPlayingUsers,r=t.recentlyPlayedUsers,o=n.concat(r);if(o.length<=3)return null;var l=o.slice(3),u=(0,i.default)(l).take(4).map(function(t){return e.renderPlayer(t,!0)}).value();return 5===l.length?u.push(this.renderPlayer(l[4],!0)):l.length>5&&u.push(Q("div",{className:z.default.overflowPlayerCount},void 0,"+",l.length-5+1)),Q(a.Fragment,{},void 0,Q(U.default,{className:z.default.divider}),Q("div",{className:z.default.overflowPlayers},void 0,u))},r.render=function(){var e=this,t=this.props,r=t.nowPlayingUsers,a=t.recentlyPlayedUsers,o=r.concat(a);if(0===o.length)return Q("div",{className:z.default.emptyPlayers},void 0,Q("img",{src:n(6049),alt:""}),Q(k.default,{color:k.default.Colors.MUTED},void 0,W.default.Messages.GAME_POPOUT_NO_RECENT_PLAYERS));var l=(0,i.default)(o).take(3).value();return Q("div",{className:z.default.players},void 0,Q(G.default,{tag:G.default.Tags.H5,className:z.default.title},void 0,W.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),l.map(function(t){return e.renderPlayer(t)}),this.renderOverflowPlayers())},t}(a.PureComponent);function ae(e){return null==e?[]:i.default.values(e).sort(function(e,t){return t.date-e.date}).map(function(e){var t=e.date,n=e.userId;return{lastPlayedDate:t,user:A.default.getUser(n)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})}re.displayName="GamePreviewUsers";var oe=l.default.connectStores([m.default,_.default],function(e){var t,n=e.game;return{nowPlayingUsers:(t=_.default.getNowPlaying(n.id),null==t?[]:i.default.values(t).sort(function(e,t){return t.startedPlaying-e.startedPlaying}).map(function(e){var t=e.userId;return{lastPlayedDate:null,user:A.default.getUser(t)}}).filter(function(e){var t=e.user;return null!=t&&O.default.isOnFeed(t.id)})),recentlyPlayedUsers:ae(m.default.usersByGame[n.id])}})(re),ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props,n=e.popoutKey,r=e.onClose;n&&p.default.close(n),r&&r()},t.handleViewGuild=function(){var e=t.props.game.guildId;e&&(t.close(),x.default.transitionTo(K.Routes.CHANNEL(e,g.default.getChannelId(e))))},t.handleJoinGuild=function(){var e=t.props.game.guildId;e&&c.default.joinGuild(e,!0).then(function(){t.close(),c.default.transitionToGuildSync(e)})},t.handleActionButtonClick=function(){var e=t.props,n=e.isModal,r=e.popoutKey;n?f.default.popAll():p.default.close(r)},t}Z(t,e);var n,r,i,l=t.prototype;return l.getLocation=function(){return this.props.isModal?K.AnalyticsLocations.GAME_MODAL:K.AnalyticsLocations.GAME_POPOUT},l.componentDidMount=function(){var e=this.props,t=e.isNewsFetched,n=e.game;t||d.default.getGameNews([this.props.game.id]),null!=n.guildId&&null==n.guild&&d.default.fetchApplication(n.id,!0)},l.renderGameInfoVerified=function(){var e=this.props.game;if(null==e.guildId)return null;var t=h.default.getGuild(e.guildId),n=null;if(null!=e.guild){var r=e.guild;n=Q(N.default,{align:N.default.Align.CENTER},void 0,Q("div",{className:z.default.dotOnline}),Q(k.default,{size:k.default.Sizes.SIZE_12},void 0,W.default.Messages.GAME_POPOUT_ONLINE_IN_SERVER.format({membersOnline:r.approximate_presence_count})))}return Q(a.Fragment,{},void 0,Q(P.default,{className:(0,o.default)(z.default.gameIcon,z.default.verified),onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Q(M.default,{game:e}),Q(D.default,{text:W.default.Messages.GUILD_VERIFIED,position:D.default.Positions.BOTTOM,className:z.default.verifiedIcon},void 0,Q(C.default,{width:16,height:16,color:K.Colors.BRAND_500},void 0,Q(R.default,{name:R.default.Names.VERIFIED,width:16,height:16,color:K.Colors.WHITE})))),Q("div",{className:z.default.gameInfo},void 0,Q(P.default,{onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,Q(j.default,{className:(0,o.default)(z.default.gameTitle,z.default.verified),size:j.default.Sizes.SIZE_16},void 0,e.name)),n))},l.renderGameInfo=function(){var e=this.props.game,t=e.publishers;return Q(a.Fragment,{},void 0,Q("div",{className:z.default.gameIcon},void 0,Q(M.default,{game:e})),Q("div",{className:z.default.gameInfo},void 0,Q(j.default,{className:z.default.gameTitle,size:j.default.Sizes.SIZE_16},void 0,e.name),t.length>0?Q(k.default,{size:k.default.Sizes.SIZE_12},void 0,t[0].name):null))},l.renderFooter=function(){var e=this.props,t=e.game,n=e.isSubscribedOnFeed,r=e.analyticsContext,a=[];if(a.push(Q(V.default,{application:t,source:this.getLocation(),size:T.default.Sizes.SMALL,color:T.default.Colors.GREY,customDisabledColor:z.default.disabledButton,onClick:this.handleActionButtonClick,location:q({},r.location,{section:K.AnalyticsSections.ACTIVITY_FEED_GAME_POPOUT}),hideNotLaunchable:!0},"action-button")),t.guildId){var o=h.default.getGuild(t.guildId);a.push(Q(T.default,{className:z.default.button,size:T.default.Sizes.SMALL,color:T.default.Colors.GREY,onClick:o?this.handleViewGuild:this.handleJoinGuild},"guild-button",o?W.default.Messages.GAME_POPOUT_GO_TO_SERVER:W.default.Messages.GAME_POPOUT_VIEW_SERVER))}return a.push(Q(T.default,{className:z.default.button,look:n?T.default.Looks.OUTLINED:T.default.Looks.FILLED,size:T.default.Sizes.SMALL,color:T.default.Colors.GREY,onClick:function(){return n?(0,u.removeGamesFromFeed)([t.id]):(0,u.addGamesToFeed)([t.id])}},"follow-button",n?W.default.Messages.GAME_POPOUT_UNFOLLOW:W.default.Messages.GAME_POPOUT_FOLLOW)),Q("div",{className:z.default.footer},void 0,null!=t.guildId?this.renderGameInfoVerified():this.renderGameInfo(),a)},l.render=function(){var e=this.props,t=e.game,n=e.isNewsFetched,r=e.popoutKey;return Q(B.default,{context:this.props.analyticsContext,section:this.contextSection},void 0,Q(N.default,{className:z.default.container},void 0,Q("div",{className:z.default.header},void 0,Q(ne,{game:t,isFetched:n,location:this.getLocation()}),Q(oe,{game:t,popoutKey:r,location:this.getLocation()})),this.renderFooter()))},n=t,(r=[{key:"contextSection",get:function(){return this.props.isModal?K.AnalyticsSections.GAME_MODAL:K.AnalyticsSections.GAME_POPOUT}}])&&J(n.prototype,r),i&&J(n,i),t}(a.PureComponent);ie.displayName="GamePreview",ie.defaultProps={isModal:!1};var le=l.default.connectStores([v.default,A.default,E.default,O.default],function(e){var t=e.game;return{game:v.default.getGame(t.id),isSubscribedOnFeed:O.default.gameIDsToShow.has(t.id),isNewsFetched:y.default.isFetched(t.id)}})(ie);t.default=le},5841:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=h(n(3)),l=h(n(2)),u=v(n(5863)),s=h(n(92)),d=h(n(62)),c=v(n(810)),f=n(121),p=h(n(12)),y=n(1);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var _=new(function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=i.prototype;return l.initialize=function(){p.default.embedded&&c.init(),r={},a=new Set,o=[]},l.getState=function(e,t){var n=(0,f.getComboId)(e,t);return r[n]},l.isSyncing=function(e,t){var n=(0,f.getComboId)(e,t);return a.has(n)},i}(i.default.Store))(l.default,{GAME_CLOUD_SYNC_START:function(e){var t=e.applicationId,n=e.branchId,r=(0,f.getComboId)(t,n);a.add(r)},GAME_CLOUD_SYNC_UPDATE:function(e){for(var t=e.state,n=0,a=Object.keys(t);n<a.length;n++){var o=a[n];r[o]=t[o]}},GAME_CLOUD_SYNC_COMPLETE:function(e){var t=e.applicationId,n=e.branchId,o=(0,f.getComboId)(t,n);return a.delete(o),r[o]={type:y.CloudSyncStateTypes.DONE,timestamp:Date.now()},!0},GAME_CLOUD_SYNC_CONFLICT:function(e){var t=e.applicationId,n=e.branchId,o=e.next,i=e.remote,l=(0,f.getComboId)(t,n);r[l]={type:y.CloudSyncStateTypes.CONFLICT,next:o,remote:i},a.delete(l)},GAME_CLOUD_SYNC_ERROR:function(e){var t=e.applicationId,n=e.branchId,o=(0,f.getComboId)(t,n);r[o]={type:y.CloudSyncStateTypes.ERROR},a.delete(o)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=d.default.getRunningChatXApplicationIds(),t=function(){if(r){if(a>=n.length)return"break";i=n[a++]}else{if((a=n.next()).done)return"break";i=a.value}var e=i,t=s.default.getActiveLibraryApplication(e);if(null==t)return"continue";l.default.wait(function(){try{u.sync(t.id,t.branchId)}catch(e){}})},n=o.filter(function(t){return!e.includes(t)}),r=Array.isArray(n),a=0;e:for(n=r?n:n[Symbol.iterator]();;){var i;switch(t()){case"break":break e;case"continue":continue}}return o=e,!1}()}});t.default=_},5856:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=n(5801),i=c(n(5802)),l=c(n(192)),u=c(n(5722)),s=n(1),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.channel,n=t.getGuildId(),c=t.id,f=(0,a.useStateFromStores)([l.default],function(){return l.default.isChannelMuted(n,c)},[n,c]);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.MUTE_CHANNEL.format({name:t.toString(!0)}),action:function(){i.default.updateChannelOverrideSettings(t.getGuildId(),c,{muted:!f}),t.type===s.ChannelTypes.GUILD_CATEGORY&&(f?(0,o.categoryExpand)(c):(0,o.categoryCollapse)(c))},active:f})};f.displayName="ChannelMuteItem";var p=f;t.default=p},5858:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PopoutAlign=t.PopoutPositions=void 0;var r,a,o=d(n(0)),i=(r=n(65))&&r.__esModule?r:{default:r},l=n(103),u=d(n(844)),s=n(1);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=u.Positions;t.PopoutPositions=p;var y=u.Align;t.PopoutAlign=y;var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).domElementRef=o.createRef(),t.state={shouldShowPopout:!1},t.renderPopout=function(e){return(0,t.props.renderPopout)(f({},e,{closePopout:t.close}))},t.close=function(){var e=t.props,n=e.onRequestClose;null==e.shouldShow?t.toggleShow(!1):n&&n()},t.handleClick=function(){null==t.props.shouldShow&&t.setState(function(e){return{shouldShowPopout:!e.shouldShowPopout}})},t.handleDocumentClick=function(e){var n=e.target,r=t.domElementRef.current;null!=r&&(0,u.referencePortalAwareContains)(r,n)||t.close()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldShowPopout=function(e,t){return null!=e.shouldShow?e.shouldShow:t.shouldShowPopout},a.componentDidMount=function(){this.shouldShowPopout(this.props,this.state)&&this.setupShowPopout()},a.componentDidUpdate=function(e,t){e.shouldShow,this.props.shouldShow;var n=this.shouldShowPopout(this.props,this.state);this.shouldShowPopout(e,t)!==n&&(n?this.setupShowPopout():this.unsubscribe())},a.setupShowPopout=function(){var e=i.default.findDOMNode(this);if(null==e||1!==e.nodeType)throw new Error("Popout cannot find DOM node");e.ownerDocument.addEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.subscribe(s.ComponentActions.POPOUT_CLOSE,this.close),this.domElementRef.current=e,this.forceUpdate()},a.unsubscribe=function(){var e=this.domElementRef.current;null!=e&&e.ownerDocument.removeEventListener("click",this.handleDocumentClick,!0),l.ComponentDispatch.unsubscribe(s.ComponentActions.POPOUT_CLOSE,this.close)},a.componentWillUnmount=function(){this.unsubscribe(),this.domElementRef.current=null},a.render=function(){var e=this.props.children;return c(o.Fragment,{},void 0,e({onClick:this.handleClick}),this.renderLayer())},a.renderLayer=function(){if(!this.shouldShowPopout(this.props,this.state))return null;var e=this.props,t=e.position,n=e.align,r=e.nudgeAlignIntoViewport,a=e.spacing,o=e.autoInvert;return null==this.domElementRef.current?null:c(u.default,{referenceElementRef:this.domElementRef,position:t,align:n,nudgeAlignIntoViewport:r,spacing:a,autoInvert:o},void 0,this.renderPopout)},a.toggleShow=function(e){this.state.shouldShowPopout!==e&&this.setState({shouldShowPopout:e})},r}(o.Component);t.default=v,v.displayName="BasePopout",v.Positions=u.Positions,v.Align=u.Align,v.defaultProps={autoInvert:!1,nudgeAlignIntoViewport:!1,spacing:0}},5859:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(15)),i=s(n(5839)),l=s(n(5794)),u=s(n(5130));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.user,r=t.nick,s=t.hideDiscriminator,f=t.invertBotTagColor,p=t.className,y=t.usernameClass,v=t.discriminatorClass,h=t.botClass,_=t.showMobileIndicator,m=t.mobileIndicatorClassName,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["user","nick","hideDiscriminator","invertBotTagColor","className","usernameClass","discriminatorClass","botClass","showMobileIndicator","mobileIndicatorClassName"]),O=null!=r?r:n.toString();return a.createElement("div",d({className:(0,o.default)(p,u.default.nameTag)},g),c("span",{className:y},void 0,O),s||null!=r?null:c("span",{className:(0,o.default)(v,(e={},e[u.default.discriminatorWithMobileIndicator]=_,e))},void 0,"#",n.discriminator),_?c(l.default,{className:m}):null,n.bot?c(i.default,{invertColor:f,className:(0,o.default)(h,u.default.bot)}):null)},r}(a.PureComponent);f.displayName="NameTag",f.defaultProps={usernameClass:u.default.username,discriminatorClass:u.default.discriminator};var p=f;t.default=p},5860:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MemberListRowTypes=void 0;var r=O(n(118)),a=O(n(6)),o=O(n(435)),i=O(n(3)),l=O(n(2)),u=O(n(106)),s=O(n(226)),d=O(n(10)),c=O(n(20)),f=O(n(200)),p=O(n(77)),y=O(n(24)),v=O(n(93)),h=O(n(165)),_=O(n(14)),m=n(1),g=O(n(8));function O(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E="everyone",I=(0,r.default)({GROUP:null,MEMBER:null});function S(e,t,n,r){switch(t){case m.StatusTypes.ONLINE:case m.StatusTypes.OFFLINE:case m.StatusTypes.UNKNOWN:return{type:I.GROUP,key:t,id:t,get title(){switch(t){case m.StatusTypes.ONLINE:return g.default.Messages.STATUS_ONLINE;case m.StatusTypes.OFFLINE:return g.default.Messages.STATUS_OFFLINE;default:return g.default.Messages.STATUS_UNKNOWN}},count:n,index:r};default:var a=y.default.getGuild(e),o=null!=a?a.getRole(t):null;return{type:I.GROUP,key:t,id:t,title:null!=o?o.name:"",count:n,index:r}}}function T(e,t,n){var r=n===d.default.getId(),a=v.default.isMobileOnline(n),o=r?h.default.getStatus():v.default.getStatus(n,e),i=r?h.default.getPrimaryActivity():v.default.getPrimaryActivity(n,e),l=s.default.getStreamForUser(n),u=_.default.getUser(n);return null==u?null:A({type:I.MEMBER},p.default.getMember(e,n),{user:u,status:o,activity:i,applicationStream:l,isOwner:t===n,isMobileOnline:a})}function b(e){var t=c.default.getChannel(e);return null==t?E:null==t.memberListId?function(e){if(u.default.canEveryone(m.Permissions.VIEW_CHANNEL,e))return E;return o.default.v3((0,a.default)(e.permissionOverwrites).reduce(function(e,t){var n=t.id,r=t.allow,a=t.deny;return(r&m.Permissions.VIEW_CHANNEL)>0?e.push("allow:"+n):(a&m.Permissions.VIEW_CHANNEL)>0&&e.push("deny:"+n),e},[]).sort().join(",")).toString()}(t):t.memberListId}t.MemberListRowTypes=I;var P=function(){function e(e,t){this.rows=[],this.groups=[],this.members={},this.version=0,this.guildId=e,this.listId=t,this.updateOwnerId()}var t=e.prototype;return t.updateOwnerId=function(){var e=y.default.getGuild(this.guildId);if(null==e)return!1;var t=a.default.some(e.roles,function(e){return e.hoist&&(e.permissions&m.Permissions.ADMINISTRATOR)===m.Permissions.ADMINISTRATOR})?null:e.ownerId;return this.ownerId!==t&&(this.ownerId=t,!0)},t.setGroups=function(e){var t=this,n=0;this.groups=e.map(function(e){var r=n;return n+=e.count+1,S(t.guildId,e.id,e.count,r)}),this.rows.length=n},t.sync=function(e,t){var n=this,r=e[0];t.forEach(function(e,t){return n.update(r+t,e)})},t.invalidate=function(e){for(var t=e[0],n=e[1],r=t;r<=n;r++){var a=this.rows[r];if(null==a)break;delete this.rows[r],a.type===I.MEMBER&&delete this.members[a.user.id]}this.version++},t.insert=function(e,t){var n=t.group,r=t.member;if(null!=n)this.rows.splice(e,0,S(this.guildId,n.id,n.count));else if(null!=r){var a=T(this.guildId,this.ownerId,r.user.id);if(null==a)return;this.rows.splice(e,0,a),this.members[r.user.id]=a}this.version++},t.update=function(e,t){var n=t.group,r=t.member,a=this.rows[e];if(null!=a&&a.type===I.MEMBER&&delete this.members[a.user.id],null!=n)this.rows[e]=S(this.guildId,n.id,n.count);else if(null!=r){var o=T(this.guildId,this.ownerId,r.user.id);if(null==o)return;this.rows[e]=o,this.members[r.user.id]=o}this.version++},t.delete=function(e){var t=this.rows[e];null!=t&&(t.type===I.MEMBER&&delete this.members[t.user.id],this.rows.splice(e,1),this.version++)},t.rebuildMember=function(e){var t=this.members[e];null!=t&&(Object.assign(t,T(this.guildId,this.ownerId,e)),this.version++)},t.rebuildMembers=function(){var e=this;a.default.forEach(this.members,function(t,n){e.rebuildMember(n)})},e}(),N=new(function(){function e(){this._guildLists={}}var t=e.prototype;return t.get=function(e,t){var n=this._guildLists[e];null==n&&(n=this._guildLists[e]={});var r=n[t];return null==r&&((r=new P(e,t)).setGroups([{id:m.StatusTypes.UNKNOWN,count:f.default.getMemberCount(e)||0}]),n[t]=r),r},t.forEach=function(e,t){if(null==e)a.default.forEach(this._guildLists,function(e){a.default.forEach(e,t)});else{var n=this._guildLists[e];null!=n&&a.default.forEach(n,t)}},t.delete=function(e){delete this._guildLists[e]},t.reset=function(){this._guildLists={}},e}());function C(){N.reset()}function M(e){var t=e.guildId,n=e.user;N.forEach(t,function(e){return e.rebuildMember(n.id)})}var R=[];function L(){var e=s.default.getAllApplicationStreams(),t=R.concat(e);R=e,t.forEach(function(e){N.forEach(e.guildId,function(t){return t.rebuildMember(e.ownerId)})})}function w(){var e=d.default.getId();N.forEach(null,function(t){return t.rebuildMember(e)})}function D(e){return e.type===I.MEMBER&&null!=e.activity&&e.activity.type===m.ActivityTypes.PLAYING}var U=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(_.default,y.default,c.default,p.default,v.default,h.default,d.default,f.default,s.default),this.syncWith([h.default],w),this.syncWith([s.default],L)},a.getProps=function(e,t,n){void 0===n&&(n=!1);var r=N.get(e,b(t)),a=r.groups,o=r.rows,i=o.filter(D);if(n&&i.length>0){var l={type:I.GROUP,id:"activity",key:"activity",title:g.default.Messages.SETTINGS_GAMES_NOW_PLAYING_LABEL,index:0,count:i.length},u=0,s=[l],d=[l].concat(i);return a.forEach(function(e){var t=o.slice(e.index+1,e.index+e.count+1).filter(function(e){return!D(e)}),n=A({},e,{count:t.length,index:u+i.length+1});d.push(n),d=d.concat(t),s.push(n),u+=t.length+1}),{listId:r.guildId+":"+r.listId,groups:s,rows:d,version:r.version}}return{listId:r.guildId+":"+r.listId,groups:a,rows:o,version:r.version}},r}(i.default.Store))(l.default,{CONNECTION_OPEN:function(e){return C()},OVERLAY_INITIALIZE:function(e){return C()},GUILD_MEMBER_LIST_UPDATE:function(e){var t=N.get(e.guildId,e.id);e.ops.forEach(function(e){var n=e.op,r=e.index,a=e.item,o=e.range,i=e.items;switch(n){case"SYNC":t.sync(o,i);break;case"INVALIDATE":t.invalidate(o);break;case"INSERT":t.insert(r,a);break;case"UPDATE":t.update(r,a);break;case"DELETE":t.delete(r)}}),t.setGroups(e.groups)},GUILD_UPDATE:function(e){var t=e.guild;N.forEach(t.id,function(e){e.updateOwnerId()&&e.rebuildMembers()})},GUILD_DELETE:function(e){var t=e.guild;N.delete(t.id)},GUILD_ROLE_UPDATE:function(e){var t=e.guildId;N.forEach(t,function(e){return e.rebuildMembers()})},GUILD_MEMBER_UPDATE:M,PRESENCE_UPDATE:M,CHANNEL_UPDATE:function(e){return!0}});t.default=U},5861:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(3)),i=n(418),l=g(n(763)),u=g(n(226)),s=g(n(20)),d=g(n(36)),c=g(n(24)),f=g(n(136)),p=g(n(117)),y=g(n(5862)),v=n(187),h=g(n(5911)),_=g(n(5918)),m=g(n(5108));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderGameOpener=function(e,n,r){var a=t.props,o=a.source,i=a.onOpenGameProfile;return A(h.default,{game:n,source:o,interactiveClassName:r,onOpen:i},void 0,e)},t.renderActions=function(){var e=t.props,n=e.type,r=e.source,a=e.activity,o=e.applicationStream,i=e.user,l=e.guildId,u=e.channelId,s=e.onOpenConnections;return A(_.default,{className:(0,v.getClass)(m.default,"actions",n),type:n,source:r,activity:a,applicationStream:o,user:i,guildId:l,channelId:u,onOpenConnections:s,showBuyChatXGame:null==o})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props.showActions;return a.createElement(y.default,O({},this.props,{renderActions:e?this.renderActions:null,renderGameOpener:this.renderGameOpener,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},o.handleOpenSpotifyTrack=function(e){(0,i.openTrack)(e)},o.handleOpenSpotifyArtist=function(e,t,n){(0,i.openArtist)(e,t,n)},o.handleOpenSpotifyAlbum=function(e,t){(0,i.openAlbum)(e,t)},r}(a.PureComponent);E.displayName="UserActivityContainer",E.defaultProps={showActions:!0,hideHeader:!1};var I=o.default.connectStores([d.default,f.default,p.default,u.default],function(e){var t=e.activity,n=e.user,r=u.default.getStreamForUser(n.id);return{game:d.default.getGameByName(t.name),applicationStream:r,streamingGuild:null!=r?c.default.getGuild(r.guildId):null,statusVoiceChannel:s.default.getChannel((0,l.default)(t))}})(E);I.Types=y.default.Types;var S=I;t.default=S},5862:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=S(n(15)),l=S(n(5950)),u=S(n(163)),s=S(n(763)),d=n(225),c=n(187),f=S(n(6027)),p=S(n(223)),y=S(n(134)),v=S(n(5729)),h=S(n(5760)),_=S(n(5889)),m=S(n(135)),g=S(n(394)),O=n(1),A=S(n(8)),E=S(n(5135)),I=S(n(5136));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N={USER_POPOUT:"UserPopout",ACTIVITY_FEED:"ActivityFeed",PROFILE:"Profile"},C=64,M=160,R=((r={})[N.USER_POPOUT]=[108,60],r[N.PROFILE]=[162,90],r[N.ACTIVITY_FEED]=[900,500],r),L=n(248).getAssetImage;var w=(0,l.default)(function(e){function t(){return e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){return b("div",{className:I.default.timestamp},void 0,this.props.message)},t}(o.PureComponent)),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenSpotifyTrack=function(){var e=t.props,n=e.activity,r=e.onOpenSpotifyTrack;r&&r(n)},t.handleOpenSpotifyArtist=function(e){var n=t.props,r=n.activity,a=n.onOpenSpotifyArtist,o=n.user;a&&a(r,o.id,e)},t.handleOpenSpotifyAlbum=function(){var e=t.props,n=e.activity,r=e.onOpenSpotifyAlbum,a=e.user;r&&r(n,a.id)},t}P(t,e);var n,r,a,o=t.prototype;return o.getTypeClass=function(e,t){return(0,c.getClass)(I.default,e,this.props.type,t)},o.isStreamerOnTypeProfile=function(){return(0,d.isStreaming)(this.activity)&&this.props.type===N.PROFILE},o.isStreamerOnTypeActivityFeed=function(){return(0,d.isStreaming)(this.activity)&&this.props.type===N.ACTIVITY_FEED},o.renderHeader=function(e){var t,n=this.props,r=n.hideHeader,a=n.streamingGuild,o=n.statusVoiceChannel,i=this.activity.name;if(r)return null;switch(this.activity.type){case O.ActivityTypes.STREAMING:t=A.default.Messages.USER_ACTIVITY_HEADER_LIVE_ON_PLATFORM.format({platform:u.default.get(O.PlatformTypes.TWITCH).name});break;case O.ActivityTypes.LISTENING:t=A.default.Messages.USER_ACTIVITY_HEADER_LISTENING.format({name:i});break;case O.ActivityTypes.WATCHING:t=A.default.Messages.USER_ACTIVITY_HEADER_WATCHING.format({name:i});break;case O.ActivityTypes.PLAYING:t=(0,d.isOnXbox)(this.activity)?A.default.Messages.USER_ACTIVITY_HEADER_PLAYING_ON_PLATFORM.format({platform:u.default.get(O.PlatformTypes.XBOX).name}):A.default.Messages.USER_ACTIVITY_HEADER_PLAYING;break;case O.ActivityTypes.CUSTOM_STATUS:t=A.default.Messages.USER_ACTIVITY_VOICE_CHANNEL.format({name:null!=o?o.name:""})}return null!=a&&(t=A.default.Messages.USER_ACTIVITY_HEADER_STREAMING_TO_SERVER.format({server:a.name})),b(m.default,{className:(0,c.getClass)(I.default,"headerText",e?"EmptyBody":"Normal"),weight:m.default.Weights.BOLD,size:m.default.Sizes.SMALL},void 0,t)},o.renderXboxImage=function(){return b("div",{className:I.default.xboxAssets},void 0,b("img",{alt:"",src:u.default.get(O.PlatformTypes.XBOX).icon.color3d,className:(0,i.default)(this.getTypeClass("assetsLargeImage","Xbox"))}))},o.renderImage=function(){var e,t,n=this.props.type,r=this.activity,a=r.assets,o=r.application_id;if(null==a||null==a.large_image)return null;(0,d.isStreaming)(r)&&(t=R[n]);var l,u=b("img",{alt:a.large_text||"",src:L(o,a.large_image,t||[M,M]),className:(0,i.default)(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeProfile()||this.isStreamerOnTypeActivityFeed()?O.PlatformTypes.TWITCH:""),(e={},e[this.getTypeClass("assetsLargeMask")]=null!=a.small_image,e))});return(0,d.isListeningOnSpotify)(r)&&(u=b(p.default,{onClick:this.handleOpenSpotifyAlbum},void 0,u)),this.isStreamerOnTypeActivityFeed()&&r.url&&(u=b("div",{className:I.default.twitchImageContainer},void 0,b("div",{className:I.default.twitchImageOverlay},void 0,b("h3",{className:I.default.streamName},void 0,r.name),b("div",{className:I.default.streamGame},void 0,A.default.Messages.STREAMER_PLAYING.format({game:r.details}))),b(p.default,{className:I.default.twitchBackgroundImage,href:r.url},void 0,u))),null!=a.large_text&&(u=b(g.default,{text:a.large_text,position:g.default.Positions.TOP},void 0,u)),null!=a.small_image&&(l=b("img",{alt:a.small_text||"",src:L(o,a.small_image,[C,C]),className:this.getTypeClass("assetsSmallImage")}),null!=a.small_text&&(l=b(g.default,{text:a.small_text,position:g.default.Positions.TOP},void 0,l))),b("div",{className:I.default.assets},void 0,u,l)},o.renderGameImage=function(){var e=this.props,t=e.user,n=e.type,r=e.renderGameOpener,a=e.game;return(0,d.hasRichActivity)(this.activity)||this.activity.type!==O.ActivityTypes.PLAYING||n===N.ACTIVITY_FEED||t.bot?null:r(b(v.default,{className:I.default.gameIcon,game:a}),a,E.default.iconHover)},o.renderName=function(){var e=this.props,t=e.user,n=e.game,r=e.renderGameOpener;if(e.hideName)return null;var a=this.activity,o=(0,d.isGameActivity)(a),i=a.name,l=a.details,u=i;return a.type===O.ActivityTypes.CUSTOM_STATUS?null:(o&&null!=n?i=r(b("span",{className:I.default.activityName},void 0,i),n,E.default.textHover):o||(u=l,i=l,(0,d.isListeningOnSpotify)(a)&&null!=a.sync_id&&null!=l&&(i=b(p.default,{className:I.default.bodyLink,onClick:this.handleOpenSpotifyTrack},void 0,l))),null==i?null:b(m.default,{title:u,weight:m.default.Weights.SEMIBOLD,className:(0,c.getClass)(I.default,"name",t.bot||this.isStreamerOnTypeProfile()?"wrap":"normal")},void 0,i))},o.renderDetails=function(){var e=this,t=this.activity,n=t.details,r=t.state,a=n,o=n;if(t.type===O.ActivityTypes.CUSTOM_STATUS)a=r;else if(!(0,d.isGameActivity)(t)&&(o=a=r,(0,d.isListeningOnSpotify)(t)&&null!=r)){a=A.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:o,artistsHook:function(n,a){return b(_.default,{artists:r,linkClassName:I.default.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},a)}})}return null==a||0===a.length?null:((0,d.isStreaming)(t)&&(a=A.default.Messages.STREAMER_PLAYING.format({game:a})),b("div",{title:o,className:(0,d.isStreaming)(t)||(0,d.isListeningOnSpotify)(t)?I.default.detailsWrap:I.default.details},void 0,a))},o.renderTimePlayed=function(){var e=this.props.streamingGuild,t=this.activity;if(!(0,d.isGameActivity)(t)||(0,d.isListeningOnSpotify)(t))return null;var n=t.timestamps;return null==n?null:(0,d.hasRichActivity)(t)?b(w,{timestamps:n}):b(h.default,{start:n.start,end:n.end,location:h.default.Locations.USER_ACTIVITY,className:I.default.playTime,isApplicationStreaming:null!=e})},o.renderTimeBar=function(){var e=this.activity;if(!(0,d.isListeningOnSpotify)(e))return null;var t=e.timestamps;if(null==t)return null;var n=t.start,r=t.end;return null==n||null==r?null:b(f.default,{start:n,end:r,className:this.getTypeClass("timeBar")})},o.renderState=function(){var e,t=this,n=this.activity,r=n.state,a=n.party,o=n.assets,i=r,l=i;if(!(0,d.isGameActivity)(n)){if(null==o||null==o.large_text)return null;if(i=o.large_text,l=i,(0,d.isListeningOnSpotify)(n)){i=A.default.Messages.USER_ACTIVITY_LISTENING_ALBUM.format({album:l,albumHook:function(e,r){return null!=n.sync_id&&null!=l?b(p.default,{className:I.default.bodyLink,onClick:t.handleOpenSpotifyAlbum},r,l):l}})}}return null==i||0===i.length||n.type===O.ActivityTypes.CUSTOM_STATUS?null:(null!=a&&null!=a.size&&a.size.length>=2&&(e=A.default.Messages.USER_ACTIVITY_STATE_SIZE.format({count:a.size[0],max:a.size[1]})),b("div",{className:I.default.state},void 0,b("span",{title:l},void 0,i),null!=e?b("span",{},void 0," ",e):null))},o.render=function(){var e=this.props,t=e.type,n=e.renderActions,r=e.streamingGuild,a=e.className,o=this.activity;if(null==o)return null;if(o.type===O.ActivityTypes.CUSTOM_STATUS&&null==(0,s.default)(o))return null;var l,u=t===N.USER_POPOUT,f=t===N.PROFILE,p=t===N.ACTIVITY_FEED,v=!1;(0,d.isOnXbox)(o)?(l=this.renderXboxImage(),v=!0):null==(l=this.renderImage())&&(v=null!=(l=this.renderGameImage()));var h=this.renderName(),_=this.renderDetails(),m=this.renderState(),g=this.renderTimePlayed(),A=null!=n?n():null,E=this.renderTimeBar(),S=f||(0,d.isGameActivity)(this.props.activity)||null==r,T=![l,h,_,m,g,E,A].some(function(e){return null!=e});return b("div",{className:(0,i.default)(this.getTypeClass("activity"),a)},void 0,this.renderHeader(T),S?b("div",{className:v?I.default.bodyAlignCenter:I.default.bodyNormal},void 0,l,this.isStreamerOnTypeActivityFeed()?null:b(y.default.Child,{className:(0,i.default)((0,c.getClass)(I.default,"content",v?"GameImage":null!=l?"Images":"NoImages",t))},void 0,h,_,m,g,u?null:E,p?A:null),f?A:null):null,u?E:null,u?A:null)},n=t,(r=[{key:"activity",get:function(){var e=this.props,t=e.activity;return null==e.streamingGuild||(0,d.isGameActivity)(t)?t:{type:O.ActivityTypes.PLAYING,name:A.default.Messages.UNKNOWN_GAME}}}])&&T(n.prototype,r),a&&T(n,a),t}(o.PureComponent);D.displayName="UserActivity",D.Types=N;var U=D;t.default=U},5863:function(e,t,n){"use strict";t.__esModule=!0,t.sync=function(e,t,n){return c.apply(this,arguments)},t.ConflictError=void 0;var r=l(n(2)),a=l(n(70)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(810)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var s=a.default.create("CloudSync"),d=function(e){this.message=e};function c(){var e;return e=regeneratorRuntime.mark(function e(t,n,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),r.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_START,applicationId:t,branchId:n}),e.prev=2,e.next=5,o.syncApplication(t,n,a);case 5:if((l=e.sent).type!==i.CloudSyncResultTypes.CONFLICT){e.next=11;break}throw r.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_CONFLICT,applicationId:t,branchId:n,next:l.next,remote:l.remote}),new d("Conflict in cloud sync.");case 11:l.type!==i.CloudSyncResultTypes.PULL&&l.type!==i.CloudSyncResultTypes.PUSH||s.info("Sync complete",l);case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(2),!(e.t0 instanceof d)){e.next=18;break}throw e.t0;case 18:throw r.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_ERROR,applicationId:t,branchId:n}),s.error("Failed to cloud sync:",e.t0),new Error("Failed to cloud sync.");case 21:return r.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_COMPLETE,applicationId:t,branchId:n}),e.abrupt("return",l);case 23:case"end":return e.stop()}},e,null,[[2,14]])}),(c=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}t.ConflictError=d},5865:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ArrowDirections=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=s(n(15)),l=s(n(808)),u=s(n(5142));function s(e){return e&&e.__esModule?e:{default:e}}var d={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"};t.ArrowDirections=d;var c=((r={})[d.UP]=u.default.up,r[d.RIGHT]=u.default.right,r[d.DOWN]=u.default.down,r[d.LEFT]=u.default.left,r),f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.direction,r=t.onClick,o=t.className;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{className:(0,i.default)(u.default.arrow,o,(e={},e[c[n]]=!0,e)),onClick:r})},r}(o.PureComponent);f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},5866:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(0)),o=T(n(15)),i=T(n(3)),l=b(n(287)),u=T(n(5719)),s=T(n(297)),d=T(n(162)),c=T(n(36)),f=T(n(62)),p=T(n(230)),y=T(n(91)),v=T(n(184)),h=T(n(222)),_=T(n(5761)),m=T(n(394)),g=b(n(5728)),O=T(n(12)),A=T(n(5809)),E=n(1),I=T(n(8)),S=T(n(5147));function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleDropdownClick=function(e){e.stopPropagation();var n=t.props,r=n.libraryApplication,o=n.onDropdownOpen,i=n.onDropdownClose,u=n.analyticsContext;if(o&&o(e),null==r)throw new Error("Unexpected missing libraryApplication");l.openContextMenu(e,function(e){return a.createElement(A.default,N({},e,{type:E.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS,applicationId:r.id,branchId:r.branchId,onPlay:t.handleClick,analyticsContext:u}))},{onClose:i})},t.handleClick=function(e){var n=t.props,r=n.applicationId,a=n.libraryApplication,o=n.analyticsListSort,i=n.analyticsListIndex,l=n.onClick;g.playApplication(r,a,{analyticsParams:{location:t.analyticsLocation,list_sort:o,list_index:i}}),l&&l(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,u,s,d=r.prototype;return d.renderDropdown=function(){var e=this.props.dispatchState;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?P(v.default,{"aria-label":I.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_OPTIONS,className:S.default.dropdownArrowHitbox,onClick:this.handleDropdownClick},void 0,P("div",{className:S.default.arrowSeparator}),P(h.default,{name:h.default.Names.ARROW_DROP_DOWN,className:S.default.dropdownArrow})):null},d.renderDisabledButton=function(e,t){var n=this.props,r=n.className,a=n.fullWidth,o=n.size,i=n.customDisabledColor,l=n.tooltipPosition;return P("div",{className:S.default.disabledButtonWrapper},void 0,P(y.default,{className:r,fullWidth:a,size:o,color:null!=i?i:S.default.disabledButtonColor,disabled:!0},void 0,e),P(m.default,{text:t,position:l},void 0,P("div",{className:S.default.disabledButtonOverlay})))},d.render=function(){var e=this.props,t=e.className,n=e.fullWidth,r=e.size,a=e.color,i=e.isLaunchable,l=e.isLaunching,u=e.isRunning,s=e.isShiny,d=e.hideNotLaunchable;return i?u?this.renderDisabledButton(I.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING):P(s?_.default:y.default,{className:(0,o.default)(S.default.playButton,t),innerClassName:S.default.playButtonContents,fullWidth:n,size:r,color:null!=a?a:y.default.Colors.GREEN,hover:null!=a?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:l,onClick:this.handleClick},void 0,P("div",{className:S.default.buttonText},void 0,I.default.Messages.GAME_ACTION_BUTTON_PLAY),this.renderDropdown()):d?null:this.renderDisabledButton(I.default.Messages.GAME_ACTION_BUTTON_PLAY,O.default.embedded?I.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:I.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP)},i=r,(u=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:E.AnalyticsObjects.BUTTON_CTA})}}])&&C(i.prototype,u),s&&C(i,s),r}(a.PureComponent);M.displayName="ApplicationPlayButton",M.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,tooltipPosition:m.default.Positions.TOP,isShiny:!1,hideNotLaunchable:!1};var R=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,s.default],function(e){var t=e.applicationId,n=e.libraryApplication,r=new Set(f.default.getRunningVerifiedApplicationIds());return{isLaunchable:s.default.isConnected(t)||c.default.isLaunchable(t)||null!=n&&d.default.isLaunchable(n.id,n.branchId),isLaunching:c.default.launchingGames.has(t),isRunning:r.has(t),dispatchState:null!=n?d.default.getState(n.id,n.branchId):null}})(M));t.default=R},5867:function(e,t,n){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return a+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return a+"/"+e+"/hero-background.jpg"},t.getStoreListingLink=function(e){var t;t=location.protocol+"//"+location.host;return""+t+r.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)};var r=n(1),a="https://cdn.ChatXapp.com/store-directory-assets/applications"},5868:function(e,t,n){"use strict";t.__esModule=!0,t.canStreamInChannel=l,t.canWatchStream=function(e,t){return!__OVERLAY__&&a.default.can(o.Permissions.CONNECT,e,t)},t.getStreamEligibleChannels=function(e,t){for(var n=[],r=t[o.ChannelTypes.GUILD_VOICE],a=Array.isArray(r),i=0,r=a?r:r[Symbol.iterator]();;){var u;if(a){if(i>=r.length)break;u=r[i++]}else{if((i=r.next()).done)break;u=i.value}var s=u,d=s.channel;l(e,d)&&n.push(d)}return n};var r=i(n(24)),a=i(n(106)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){if(void 0===n&&(n=!0),n&&!a.default.can(o.Permissions.CONNECT,e,t))return!1;if(!a.default.can(o.Permissions.STREAM,e,t))return!1;var i=r.default.getGuild(t.getGuildId());return null==i||i.afkChannelId!==t.id}},5887:function(e,t,n){"use strict";t.__esModule=!0,t.subscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD,guildId:e,userIds:t})},t.unsubscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE,guildId:e,userIds:t})},t.subscribeChannel=l,t.subscribeChannelDimensions=function(e,t,n,r,a){function i(e,t){return void 0===t&&(t=0),Math.max(0,Math.ceil(Math.ceil(e/a))+t)}var u=[];function s(e){var t=e+(o.MINIMUM_RANGE-1);return u.push([e,t]),t+1}var d=i(.5*r),c=i(n,-d),f=i(n+r,d);c>0&&(c=Math.max(s(0),c));c=Math.floor(c/o.MINIMUM_RANGE)*o.MINIMUM_RANGE;for(;c<=f;)c=s(c);l(e,t,u)};var r,a=(r=n(2))&&r.__esModule?r:{default:r},o=n(5948),i=n(1);function l(e,t,n){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL,guildId:e,channelId:t,ranges:n})}},5888:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(9)),a=l(n(2)),o=l(n(10)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u={open:function(e,t){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_OPEN,guildId:e,userId:t})},close:function(){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_CLOSE})},changeNickname:function(e,t,n){var l,u=this;a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT}),l=o.default.getId()===t?i.Endpoints.GUILD_MEMBER_NICK(e,i.ME):i.Endpoints.GUILD_MEMBER(e,t),r.default.patch({url:l,body:{nick:n}}).then(function(){return u.close()},function(e){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE,errors:e.body||{}})})}};t.default=u},5889:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=(r=n(223))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onClick,r=e.index;n&&n(r)},t}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.lastItem,r=e.className;return l("span",{},void 0,l(i.default,{className:r,onClick:this.handleClick},void 0,t),n?"":", ")},t}(o.PureComponent);s.displayName="SpotifyArtistLink";var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenSpotifyArtist=function(e){var n=t.props.onOpenSpotifyArtist;n&&n(e)},t}return u(t,e),t.prototype.render=function(){var e=this,t=this.props.artists.split(";");if(!this.props.canOpen)return t.join(", ");var n=t.length-1;return t.map(function(t,r){return l(s,{text:t,index:r,lastItem:r===n,onClick:e.handleOpenSpotifyArtist,className:e.props.linkClassName},"spotify-artist-"+r)})},t}(o.PureComponent);t.default=d,d.displayName="SpotifyArtists"},5890:function(e,t,n){"use strict";t.__esModule=!0,t.fetchSettings=function(e){void 0===e&&(e={});var t={};!0===e.includeAutosubscribedGames&&(t.include_autosubscribed_games=!0);r.default.get({url:l.Endpoints.USER_FEED_SETTINGS,query:t}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_FETCH_SUCCESS,settings:s({autosubscribed_games:[]},e.body)})})},t.dismissPersonalizationNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_PERSONALIZATION_NOTICE})},t.dismissNoGamesNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_NO_GAMES_NOTICE})},t.fetchUnknownUnsubscribedUsers=function(){var e=o.default.unsubscribedUserIds,t=Array.from(e).filter(function(e){return null==i.default.getUser(e)});if(0===t.length)return void a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:[]});var n={user_ids:t};r.default.get({url:l.Endpoints.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS,query:n}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:e.body.unsubscribed_users})})};var r=u(n(9)),a=u(n(2)),o=u(n(404)),i=u(n(14)),l=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},5891:function(e,t,n){"use strict";t.__esModule=!0,t.authorize=g,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=_(n(15)),o=_(n(5745)),i=(_(n(52)),_(n(5786))),l=_(n(3)),u=_(n(311)),s=_(n(5827)),d=_(n(163)),c=_(n(5828)),f=_(n(395)),p=_(n(18)),y=_(n(12)),v=n(1),h=_(n(5153));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){var n,r=Math.round(screen.width/2-350),a=screen.height>640?Math.round(screen.height/2-320):0;y.default.isDesktop()||(n=window.open(location.protocol+"//"+location.host+v.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+a+",left="+r+",width=700,height=640")),u.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=n?n.location.href=t:window.open(t))})}var O=(0,o.default)({displayName:"ConnectAccountButton",mixins:[i.default,l.default.LazyStoreListenerMixin(c.default)],getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:c.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=d.default.get(e);t.serverSync?g(t.type,"Friends List"):s.default.detectAccounts([t.type],this.props.location),p.default.track(v.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})},render:function(){var e,t=this,n=this.state.isDetecting,r=this.props,o=r.className,i=r.innerClassName,l=d.default.get(this.props.type);return n&&(e=m(f.default,{type:f.default.Type.PULSING_ELLIPSIS,className:h.default.ellipsis,itemClassName:h.default.spinnerItem})),m("div",{className:(0,a.default)(h.default.wrapper,o)},void 0,m("button",{className:(0,a.default)(h.default.inner,i),type:"button",disabled:this.props.disabled||n,style:{backgroundImage:"url('"+l.icon.color+"')"},onClick:function(){return t.handleConnect(t.props.type)},"aria-label":l.name}),e)}});t.default=O},5892:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(2)),a=n(189),o=l(n(18)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={selectParticipant:function(e,t){r.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_SELECT_PARTICIPANT,channelId:e,userId:t})},updateLayout:function(e,t){o.default.track(i.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,u({video_layout:t},(0,a.collectVoiceAnalyticsMetadata)(e))),r.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_UPDATE_LAYOUT,channelId:e,layout:t})}};t.default=s},5907:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(3)),i=v(n(5888)),l=n(287),u=v(n(5763)),s=v(n(10)),d=v(n(24)),c=v(n(136)),f=v(n(5717)),p=n(1),y=v(n(8));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).handleOpenChangeNickname=function(){(0,l.closeContextMenu)(),i.default.open(n.props.guildId,n.props.userId)},n.state={guild:d.default.getGuild(t.guildId),currentUserId:s.default.getId()},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.render=function(){var e=this.props.userId,t=this.state.guild;return this.canChangeNickname()||null!=t&&c.default.canManageUser(p.Permissions.MANAGE_NICKNAMES,e,t)?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.CHANGE_NICKNAME,action:this.handleOpenChangeNickname}):null},o.canChangeNickname=function(){var e=this.props.userId,t=this.state,n=t.currentUserId,r=t.guild;return n===e&&null!=r&&(c.default.can(p.Permissions.CHANGE_NICKNAME,r)||c.default.can(p.Permissions.MANAGE_NICKNAMES,r))},a}(a.PureComponent);h.displayName="UserChangeNicknameItem";var _=o.default.connectStores([c.default],function(e){var t=e.guildId;return{permissionVersion:c.default.getGuildVersion(t)}})(h),m=(0,u.default)(function(e){var t,n=e.guildId,r=e.userId;return(t={})[n]=[r],t})(_);t.default=m},5908:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=P(n(15)),u=P(n(6)),s=P(n(65)),d=n(232),c=P(n(3)),f=n(287),p=P(n(5725)),y=P(n(5733)),v=P(n(77)),h=P(n(136)),_=P(n(14)),m=P(n(134)),g=P(n(222)),O=P(n(5774)),A=P(n(106)),E=P(n(5949)),I=P(n(5909)),S=n(1),T=P(n(8)),b=P(n(5128));function P(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function M(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var L=30,w=4,D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlerFilterResults=function(e){var n=t.props,r=n.guild,a=n.userId,o=_.default.getCurrentUser(),i=A.default.getHighestRole(r,o.id),l=(0,u.default)(r.roles).filter(function(e){return e.id!==r.id}).filter(function(e){return!e.managed}).filter(function(e){return A.default.isRoleHigher(r,o.id,i,e)}).filter(function(t){return e(t.name.toLowerCase())}),s=v.default.getMember(r.id,a);return s&&(l=l.filter(function(e){return-1===s.roles.indexOf(e.id)})),l.value()},t.renderRole=function(e){var t;return e.colorString&&(t={color:e.colorString}),M("span",{style:t},void 0,e.name)},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.onClose,r=e.position;return M(E.default,{label:T.default.Messages.ADD_ROLE_LABEL,placeholder:T.default.Messages.ADD_ROLE_PLACEHOLDER,onRenderResult:this.renderRole,onFilterResults:this.handlerFilterResults,onSelect:t,onClose:n,position:r})},t}(i.Component);D.displayName="AddRolesPopout";var U=function(e){function t(){return e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){var e,t=this.props,n=t.userRoles,r=t.position,a=C(t,["userRoles","position"]);return M("div",{className:(0,l.default)(b.default.overflowRolesPopout,(e={},e[b.default.popoutBottom]=r===O.default.Positions.BOTTOM,e[b.default.popoutTop]=r===O.default.Positions.TOP,e))},void 0,M("div",{className:b.default.overflowRolesPopoutArrowWrapper},void 0,M("div",{className:b.default.overflowRolesPopoutArrow})),M(m.default,{className:b.default.overflowRolesPopoutHeader,align:m.default.Align.CENTER},void 0,M(g.default,{name:g.default.Names.FLAG,color:S.Colors.PRIMARY_DARK_400,className:b.default.overflowRolesPopoutHeaderIcon}),M("div",{className:b.default.overflowRolesPopoutHeaderText},void 0,T.default.Messages.ROLES_LIST.format({numRoles:n.length}))),i.createElement(j,N({},a,{userRoles:n})))},t}(i.PureComponent);U.displayName="OverflowRolesPopout";var G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){(0,f.openContextMenu)(e,function(e){return i.createElement(I.default,N({},e,{roleId:t.props.role.id}))})},t}return R(t,e),t.prototype.render=function(){var e,t=this.props,n=t.role,r=t.canRemove,a=t.onRemove,o=S.Colors.PRIMARY_DARK_300;if(null!=n.colorString&&(o=n.colorString),r){var i=S.Colors.WHITE,l=(0,d.hex2int)(o);null!=l&&(0,d.getDarkness)(l)<.3&&(i=S.Colors.PRIMARY_DARK_630),e=M("button",{onClick:a,className:b.default.roleCircleButton,style:{backgroundColor:o}},void 0,M(g.default,{name:g.default.Names.CLOSE,color:i,className:b.default.roleRemoveIcon}))}else e=M("div",{className:b.default.roleCircle,style:{backgroundColor:o}});return M("li",{className:b.default.role,style:{borderColor:(0,d.hex2rgb)(o,.6)},onContextMenu:this.handleContextMenu},void 0,e,M("div",{className:b.default.roleName},void 0,n.name))},t}(i.Component);G.displayName="MemberRole";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={numPillsToShow:null},t._pillRefs={},t.setPillRef=function(e,n){null!=n?t._pillRefs[e]=n:delete t._pillRefs[e]},t.handleRemoveRole=function(e){var n=t.props.userRoles.filter(function(t){return t!==e.id});p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,n)},t.renderOverflowRolesPopout=function(e){var n=e.position,r=t.props,a=(r.wrap,C(r,["wrap"]));return i.createElement(U,N({},a,{position:null!=n?n:O.default.Positions.TOP}))},t.renderAddRolesPopout=function(e){var n=e.position,r=e.closePopout;return M(D,{guild:t.props.guild,userId:t.props.user.id,onSelect:t.handleAddRole,position:null!=n?n:O.default.Positions.TOP,onClose:r})},t.handleAddRole=function(e){if(null!=e){var n=t.props.userRoles;-1===n.indexOf(e.id)&&(n=n.concat([e.id])),p.default.updateMemberRoles(t.props.guild.id,t.props.user.id,n)}},t.filterPillsToFit=function(){var e=t.props,n=e.wrap,r=e.width;if(!n){var a=t.getRolesToRender(),o=0,i=0;if("number"!=typeof r)throw new Error("Unexpected null width");for(var l=r-L-w,u=0;u<a.length;u++){var d=a[u];if(null!=t._pillRefs[d.id]){var c=s.default.findDOMNode(t._pillRefs[d.id]);if(c instanceof HTMLElement){if((i+=c.offsetWidth+w)>l)break;o++}}}var f=null;o<a.length&&(f=o),t.state.numPillsToShow!==f&&t.setState({numPillsToShow:f})}},t}R(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.wrap||this.filterPillsToFit()},n.componentDidUpdate=function(e){var t=this,n=this.props,r=n.wrap,a=n.width,o=n.userRoles;r||a===e.width&&o===e.userRoles||this.setState({numPillsToShow:null},function(){return t.filterPillsToFit()})},n.componentWillUnmount=function(){var e=this;Object.keys(this._pillRefs).forEach(function(t){return e._pillRefs[t]=null})},n.getRolesToRender=function(){var e=this.props,t=e.guild,n=e.userRoles;return u.default.values(t.roles).filter(function(e){return n.includes(e.id)})},n.render=function(){var e=this,t=_.default.getCurrentUser(),n=this.props,r=n.guild,a=n.className,o=this.state.numPillsToShow,u=h.default.can(S.Permissions.MANAGE_ROLES,r),s=A.default.getHighestRole(r,t.id),d=this.getRolesToRender(),c=0;null!=o&&(c=d.length-o,d=d.slice(0,o));var f,p,y=d.map(function(n){return i.createElement(G,{role:n,canRemove:u&&A.default.isRoleHigher(r,t.id,s,n),onRemove:function(){return e.handleRemoveRole(n)},ref:function(t){return e.setPillRef(n.id,t)},key:n.id})});return 0!==c?f=M(O.default,{renderPopout:this.renderOverflowRolesPopout,position:O.default.Positions.TOP,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:b.default.overflowButton}),"+"+c)}):u&&(p=M(O.default,{renderPopout:this.renderAddRolesPopout,position:O.default.Positions.BOTTOM,align:O.default.Align.CENTER},void 0,function(e){return i.createElement("button",N({},e,{className:b.default.addButton}),M(g.default,{name:g.default.Names.PLUS,className:b.default.addButtonIcon}))})),M("ul",{className:(0,l.default)(b.default.root,a)},void 0,y,f,p)},t}(i.PureComponent);j.displayName="MemberRolesList",j.defaultProps={wrap:!0};var k=(0,y.default)(j),F=c.default.connectStores([h.default],function(){var e=h.default.getState();return{permissionGuilds:e.guilds,permisisonChannels:e.channels}})((a=r=function(e){function t(){return e.apply(this,arguments)||this}R(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){0},n.render=function(){return!1===this.props.wrap?i.createElement(k,this.props):i.createElement(j,this.props)},t}(i.Component),r.defaultProps=j.defaultProps,a));t.default=F},5909:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=l(n(43)),i=l(n(5737));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style,n=e.roleId,r=e.className;return o.default.developerMode?u("div",{className:r,style:t},void 0,u(i.default,{id:n})):null},r}(a.PureComponent);s.displayName="GuildRoleContextMenu";var d=s;t.default=d},5910:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(15)),i=y(n(65)),l=y(n(3)),u=y(n(6024)),s=y(n(5099)),d=y(n(289)),c=y(n(5803)),f=y(n(8)),p=y(n(5131));function y(e){return e&&e.__esModule?e:{default:e}}var v=5,h=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).noteRef=a.createRef(),t.handleBlur=function(e){var n=e.currentTarget.value;t.props.note!==n&&u.default.updateNote(t.props.userId,n)},t.handleKeyPress=function(e){13===e.which&&(e.shiftKey?(e.currentTarget.value.match(/\n/g)||[]).length>=v&&e.preventDefault():(e.preventDefault(),e.currentTarget.blur()))},t}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s.componentDidMount=function(){if(this.props.autoFocus&&!this.props.hideNote){var e=i.default.findDOMNode(this.noteRef.current);null!=e&&null!=e.selectionStart&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)}},s.render=function(){var e=this.props,t=e.note;return e.hideNote?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(p.default.note,this.props.className)},void 0,a.createElement(c.default,{ref:this.noteRef,placeholder:f.default.Messages.NOTE_PLACEHOLDER,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,defaultValue:t,maxLength:256}))},l}(a.PureComponent);h.displayName="Note";var _=l.default.connectStores([s.default,d.default],function(e){var t=e.userId;return{note:s.default.getNote(t),hideNote:d.default.hidePersonalInformation}})(h);t.default=_},5911:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(0)),a=s(n(15)),o=s(n(76)),i=s(n(5719)),l=(s(n(120)),d(n(5784))),u=s(n(5840));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.children,a=n.source,i=n.game,s=n.onOpen,d=n.analyticsContext,c=r.props.onClick;null!=i&&(e.preventDefault(),e.stopPropagation(),o.default.push(u.default,{game:i,source:a,analyticsContext:d,isModal:!0}),s&&s(),l.trackGameModalOpened(i,a,d.location)),c&&c(e)},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.children,n=e.interactiveClassName;return null==e.game?t:r.cloneElement(t,{onClick:this.handleClick,className:(0,a.default)(t.props.className,n)})},i}(r.PureComponent);c.displayName="GameModalOpener";var f=(0,i.default)(c);t.default=f},5913:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(3)),i=n(5952),l=y(n(305)),u=y(n(5806)),s=y(n(104)),d=n(779),c=y(n(19)),f=y(n(8)),p=y(n(5138));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h="select",_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={directoryMetadata:{},newInstallationPath:null},t.fetchedMetadataPaths=new Set,t.handleChange=function(e){var n=e.value;n===h?c.default.showOpenDialog(["openDirectory"]).then(function(e){if(null!=e&&e.length>0){var n=e[0];t.setState({newInstallationPath:t.props.installationPaths.find(function(e){return e.path===n})?null:n}),t.sendChange(n)}}):t.sendChange(n)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.fetchAllDirectoryMetadata=function(){var e=this,t=this.props.installationPaths.map(function(e){return e.path}),n=this.state.newInstallationPath;null!=n&&t.push(n),t=t.filter(function(t){return!e.fetchedMetadataPaths.has(t)}),(0,i.fetchMetadata)(t);var r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var u=l;this.fetchedMetadataPaths.add(u)}},a.componentDidMount=function(){this.fetchAllDirectoryMetadata()},a.componentDidUpdate=function(e){this.fetchAllDirectoryMetadata(),this.props.requiredDiskKB===e.requiredDiskKB&&this.props.installationPathsMetadata===e.installationPathsMetadata||this.sendChange(this.props.value)},a.getOptions=function(){var e=this,t=this.props.installationPaths,n=this.state.newInstallationPath,r=t.map(function(t){var n=t.path,r=t.label;return{value:n,label:e.renderLabel(n,r)}});return null!=n&&r.push({value:n,label:this.renderLabel(n)}),r.push({value:h,label:f.default.Messages.APPLICATION_INSTALLATION_MODAL_SELECT_DIRECTORY}),r},a.hasEnoughDiskSpace=function(e){var t=this.props,n=t.requiredDiskKB,r=t.installationPathsMetadata,a=null!=r[e]?r[e].availableKB:null;return null==n||null==a||n<a},a.sendChange=function(e){var t=this.props,n=t.installationPathsMetadata;(0,t.onChange)(e,null!=n[e]&&!1===n[e].hasPermission||!this.hasEnoughDiskSpace(e))},a.renderError=function(){var e=this.props,t=e.value,n=e.installationPathsMetadata;return null!=n[t]&&!1===n[t].hasPermission?v("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NO_PERMISSION):this.hasEnoughDiskSpace(t)?null:v("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NOT_ENOUGH_SPACE)},a.renderLabel=function(e,t){var n=this.props.installationPathsMetadata,r=null!=t?t:e;return null!=n[e]&&null!=n[e].availableKB?f.default.Messages.APPLICATION_INSTALLATION_MODAL_DIRECTORY_WITH_SPACE.format({path:r,size:(0,d.formatSize)(n[e].availableKB,{useKibibytes:!0})}):r},a.render=function(){var e=this.props,t=e.value,n=e.className,r=e.autoFocus;return v("div",{className:n},void 0,v(s.default,{tag:s.default.Tags.H5},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_LOCATION),v(u.default,{autoFocus:r,options:this.getOptions(),value:t,onChange:this.handleChange}),this.renderError())},r}(a.PureComponent);_.displayName="InstallationLocationSelector";var m=o.default.connectStores([l.default],function(){return{installationPaths:l.default.installationPaths,installationPathsMetadata:l.default.installationPathsMetadata}})(_);t.default=m},5914:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(6)),a=u(n(3)),o=u(n(26)),i=u(n(2)),l=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,c="GameLibraryViewStore",f=l.TableSortDirections.ASCENDING,p=l.GameTableListKeys.LAST_PLAYED,y=!1,v=r.default.debounce(function(){y=!1,h.emitChange()},200);var h=new(function(e){var t,n,r,a,i;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.initialize=function(){var e=o.default.get(c)||{};null!=e.sortDirection&&null!=e.sortKey&&(f=e.sortDirection,p=e.sortKey)},r=l,(a=[{key:"sortDirection",get:function(){return f}},{key:"sortKey",get:function(){return p}},{key:"activeRowKey",get:function(){return d}},{key:"isNavigatingByKeyboard",get:function(){return y}}])&&s(r.prototype,a),i&&s(r,i),l}(a.default.Store))(i.default,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,n=e.key;f=t,p=n,o.default.set(c,{sortDirection:f,sortKey:p})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;e.isKeyboardEvent&&(y=!0,v()),d=t}}),_=h;t.default=_},5915:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(15)),i=v(n(6)),l=n(56),u=n(103),s=v(n(5865)),d=v(n(5916)),c=v(n(134)),f=v(n(5954)),p=n(1),y=v(n(5145));function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m={JUMP:"jump",NEXT:"next",PREVIOUS:"previous"},g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDotClick=function(e){var n=t.props,r=n.onSetItem,a=n.onIntentionalChange,o=n.current;a&&a(o,e,m.JUMP),r(e)},t.handleNext=function(){var e=t.props,n=e.onIntentionalChange,r=e.current,a=(0,e.onChangePage)(1);n&&n(r,a,m.NEXT)},t.handlePrevious=function(){var e=t.props,n=e.onIntentionalChange,r=e.current,a=(0,e.onChangePage)(-1);n&&n(r,a,m.PREVIOUS)},t}_(t,e);var n=t.prototype;return n.componentDidMount=function(){u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},n.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},n.render=function(){var e,t=this,n=this.props,r=n.current,a=n.count,l=n.includeHitboxPadding,u=i.default.times(a,function(e){return h("button",{onClick:function(){return t.handleDotClick(e)},className:e===r?y.default.dotSelected:y.default.dotNormal},"dot-"+e)}),d=(0,o.default)(y.default.arrowHitbox,((e={})[y.default.arrowHitboxPadding]=l,e));return h(c.default,{className:this.props.className,justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER},void 0,h("button",{className:d,onClick:this.handlePrevious},void 0,h(s.default,{className:y.default.arrow,direction:s.default.Directions.LEFT})),h("div",{className:y.default.dots},void 0,u),h("button",{className:d,onClick:this.handleNext},void 0,h(s.default,{className:y.default.arrow,direction:s.default.Directions.RIGHT})))},t}(a.PureComponent);g.displayName="PaginationController",g.defaultProps={includeHitboxPadding:!0};var O=function(e){function t(t){var n;return(n=e.call(this,t)||this).timer=new l.Interval,n.getCurrentDirection=function(){return n.state.direction},n.nextItem=function(){var e=n.props.items;n.changeItem(e,1)},n.previousItem=function(){var e=n.props.items;n.changeItem(e,-1)},n.handleSetItem=function(e){var t=n.state.visibleIndex,r=n.props.items;n.changeItem(r,e-t)},n.handleMouseEnter=function(){n.setState({hovered:!0})},n.handleMouseLeave=function(){n.setState({hovered:!1})},n.handleIntentionalChange=function(e,t,r){var a=n.props,o=a.items,i=a.onIntentionalChange;return i&&i(o[t],e,t,r)},n.state={visibleIndex:!0===t.randomize?i.default.random(0,t.items.length-1):0,direction:1,hovered:!1},n}_(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.paused||this.state.hovered||this.startTimer()},n.componentWillUnmount=function(){this.stopTimer()},n.UNSAFE_componentWillReceiveProps=function(e){var t=e.items;null==t[this.state.visibleIndex]&&this.changeItem(t,1)},n.componentDidUpdate=function(e,t){var n=function(e,t){return!e.paused&&!t.hovered},r=n(this.props,this.state),a=n(e,t);r&&!a?this.startTimer():!r&&a&&this.stopTimer()},n.startTimer=function(){this.timer.start(this.props.delay,this.nextItem)},n.stopTimer=function(){this.timer.stop()},n.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0);var r=this.props.onChangeItem;return r&&r(e[n],this.state.visibleIndex,n),this.setState({visibleIndex:n,direction:t>0?1:-1}),n},n.render=function(){var e=this,t=this.props,n=t.items,r=t.renderItem,a=t.className,i=t.paginationClassName,l=t.themedPagination,u=t.includeHitboxPadding,s=t.style,c=this.state.visibleIndex;return h("div",{className:(0,o.default)(y.default.root,a),style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,h(d.default,{aspectRatio:16/9},void 0,h(f.default,{step:c,getDirection:this.getCurrentDirection,className:y.default.carousel},void 0,r(n[c],c))),h(g,{className:(0,o.default)(i,l?y.default.themedPagination:y.default.pagination),includeHitboxPadding:u,current:c,count:n.length,onChangePage:function(t){return e.changeItem(n,t)},onSetItem:this.handleSetItem,onIntentionalChange:this.handleIntentionalChange}))},t}(a.PureComponent);O.displayName="CarouselWithSlide";var A=O;t.default=A},5916:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=i(n(15)),o=i(n(5143));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.aspectRatio,n=e.className,r=e.children;return l("div",{className:(0,a.default)(o.default.outer,n),style:{paddingTop:1/t*100+"%"}},void 0,l("div",{className:o.default.inner},void 0,r))};u.displayName="AspectRatioSizer";var s=u;t.default=s},5917:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=P(n(0)),i=b(n(3)),l=P(n(300)),u=b(n(5719)),s=n(191),d=b(n(5841)),c=b(n(162)),f=b(n(766)),p=b(n(411)),y=b(n(91)),v=b(n(5810)),h=b(n(394)),_=P(n(5728)),m=P(n(121)),g=b(n(12)),O=b(n(47)),A=P(n(5746)),E=b(n(5866)),I=n(1),S=b(n(8)),T=b(n(5149));function b(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,l,"next",e)}function l(e){M(o,r,a,i,l,"throw",e)}i(void 0)})}}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=Object.freeze({PLAY:"play",NOW_PLAYING:"now_playing",INSTALL:"install",UPDATE:"update",PAUSED:"paused",LOCATE:"locate",UNINSTALLING:"uninstalling",QUEUED:"queued",DOWNLOADING:"downloading",UNSUPPORTED_OS:"unsupported_os",ADD_TO_LIBRARY:"add_to_library",PREORDER_WAIT:"preorder_wait"}),D=Object.freeze(((r={})[I.LibraryApplicationActions.PLAY]=w.PLAY,r[I.LibraryApplicationActions.INSTALL]=w.INSTALL,r[I.LibraryApplicationActions.UPDATE]=w.UPDATE,r[I.LibraryApplicationActions.PAUSE]=w.DOWNLOADING,r[I.LibraryApplicationActions.MOVE_UP]=w.QUEUED,r[I.LibraryApplicationActions.RESUME]=w.PAUSED,r));var U=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this)._uninstallStringIndex=null,n.handleAddToLibrary=R(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.libraryApplication,e.next=4,l.updateFlags(t.id,t.branchId,t.getFlags()&~I.LibraryApplicationFlags.HIDDEN);case 4:O.default.transitionTo(I.Routes.APPLICATION_LIBRARY),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),n.handleInstall=function(){var e=n.props,t=e.libraryApplication,r=e.source;_.installApplication(t.id,t.branchId,r)},n.handleUpdate=function(){var e=n.props.libraryApplication;_.updateApplication(e.id,e.branchId)},n.onClickHandlers=((t={})[w.ADD_TO_LIBRARY]=n.handleAddToLibrary,t[w.INSTALL]=n.handleInstall,t[w.UPDATE]=n.handleUpdate,t),n.handleClick=function(e,t){var r=n.props.onClick;r&&r(e),t(e)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,u=r.prototype;return u.getText=function(e){switch(e!==w.UNINSTALLING&&(this._uninstallStringIndex=null),e){case w.INSTALL:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.UPDATE:return S.default.Messages.GAME_ACTION_BUTTON_UPDATE;case w.PAUSED:return S.default.Messages.GAME_ACTION_BUTTON_PAUSED;case w.LOCATE:return S.default.Messages.GAME_ACTION_BUTTON_LOCATE;case w.UNINSTALLING:var t=[S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case w.QUEUED:return S.default.Messages.GAME_ACTION_BUTTON_QUEUED;case w.DOWNLOADING:return S.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case w.UNSUPPORTED_OS:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case w.PREORDER_WAIT:return S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;case w.ADD_TO_LIBRARY:return S.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;default:throw new Error("Unexpected button state")}},u.getButtonState=function(){var e=this.props,t=e.libraryApplication,n=e.dispatchState,r=e.actionState;if(t.isHidden())return w.ADD_TO_LIBRARY;if(t.isPreorder())return w.PREORDER_WAIT;var a=null!=r?D[r]:null;return null!=a?a:null!=n&&n.type===I.LocalDispatchApplicationStates.UNINSTALLING?w.UNINSTALLING:g.default.isWeb()?w.PLAY:w.UNSUPPORTED_OS},u.renderPlayButton=function(){var e=this.props,t=e.libraryApplication,n=e.fullWidth,r=e.size,a=e.color,o=e.customDisabledColor,i=e.isPlayShiny,l=e.onDropdownOpen,u=e.onDropdownClose,s=e.analyticsListSort,d=e.analyticsListIndex;return C(E.default,{applicationId:t.id,libraryApplication:t,fullWidth:n,size:r,color:a,customDisabledColor:o,isShiny:i,onDropdownOpen:l,onDropdownClose:u,analyticsListSort:s,analyticsListIndex:d})},u.renderDisabledButton=function(e,t){var n=this.props,r=n.className,a=n.fullWidth,o=n.size,i=n.customDisabledColor,l=n.tooltipPosition;return C("div",{className:T.default.disabledButtonWrapper},void 0,C(y.default,{className:r,fullWidth:a,size:o,color:null!=i?i:T.default.disabledButtonColor,disabled:!0},void 0,this.getText(e),this.renderProgressBar()),C(h.default,{text:t,position:l},void 0,C("div",{className:T.default.disabledButtonOverlay})))},u.renderProgressBar=function(){var e=this.props,t=e.hideProgress,n=e.dispatchState;if(t)return null;var r=m.convertToTransitionState(n);if(null==r)return null;var a=r.type===I.LocalDispatchApplicationStates.UNINSTALLING?v.default.INDETERMINATE:m.calculateProgressPercentage(r.progress,r.total);return C(v.default,{percent:a,size:v.default.Sizes.XSMALL,foregroundColor:r.paused?I.Colors.PRIMARY_DARK:I.Colors.STATUS_GREEN,backgroundColor:I.Colors.TRANSPARENT,className:T.default.progress})},u.renderActionButton=function(e,t){var n=this,r=this.props,a=r.className,o=r.fullWidth,i=r.size,l=r.color,u=r.isCloudSyncing;return C(y.default,{className:a,fullWidth:o,size:i,color:null!=l?l:y.default.Colors.GREEN,hover:null!=l?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:e===w.UNINSTALLING||u,onClick:function(e){return n.handleClick(e,t)}},void 0,this.getText(e),this.renderProgressBar())},u.render=function(){var e=this.props,t=e.hasNoBuild,n=e.libraryApplication,r=this.getButtonState();if(r===w.PLAY)return this.renderPlayButton();if(r===w.PREORDER_WAIT)return this.renderDisabledButton(r,function(e){if(e instanceof s.LibraryApplicationRecord){var t=A.getReadablePreorderReleaseDate(e.sku);return null!=t?S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}}(n));if(r===w.UNSUPPORTED_OS)return this.renderDisabledButton(r,S.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:S.default.Messages.WINDOWS}));if(r===w.INSTALL&&t)return this.renderDisabledButton(r,S.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);var a=this.onClickHandlers[r];return null==a?this.renderDisabledButton(r):this.renderActionButton(r,a)},a=r,(o=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:I.AnalyticsObjects.BUTTON_CTA})}}])&&L(a.prototype,o),i&&L(a,i),r}(o.Component);U.displayName="LibraryApplicationButton",U.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:h.default.Positions.TOP},U.ButtonStates=w;var G=(0,u.default)(i.default.connectStores([c.default,f.default,p.default,d.default],function(e){var t=e.libraryApplication;return{actionState:_.getDefaultLibraryApplicationAction(t,c.default,f.default),isCloudSyncing:d.default.isSyncing(t.id,t.branchId),hasNoBuild:p.default.hasNoBuild(t.id,t.branchId),dispatchState:c.default.getState(t.id,t.branchId)}})(U));t.default=G},5918:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(0)),o=B(n(3)),i=Y(n(816)),l=B(n(140)),u=B(n(76)),s=B(n(765)),d=B(n(119)),c=n(755),f=n(240),p=B(n(5719)),y=B(n(163)),v=n(5868),h=B(n(805)),_=B(n(226)),m=B(n(20)),g=B(n(416)),O=B(n(297)),A=B(n(162)),E=B(n(36)),I=B(n(92)),S=B(n(84)),T=B(n(46)),b=B(n(14)),P=B(n(5100)),N=B(n(6050)),C=B(n(18)),M=n(103),R=n(301),L=B(n(12)),w=B(n(408)),D=B(n(6051)),U=B(n(6053)),G=B(n(6054)),j=B(n(6055)),k=n(1),F=B(n(8)),x=B(n(5108));function B(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderSpotifyPlayButton=function(e){var n=t.props,r=n.channelId,o=n.guildId,i=n.source;return a.createElement(D.default,H({guildId:o,channelId:r,source:i},e))},t.renderSpotifySyncButton=function(e){var n=t.props,r=n.channelId,o=n.guildId,i=n.source;return a.createElement(U.default,H({guildId:o,channelId:r,source:i},e))},t.renderXboxButton=function(e){return a.createElement(G.default,H({onOpenConnections:t.props.onOpenConnections},e))},t.handleJoinVoice=function(e,t){d.default.selectVoiceChannel(e,t),M.ComponentDispatch.dispatch(k.ComponentActions.POPOUT_CLOSE),u.default.popAll()},t.handleWatchStream=function(){var e=t.props,n=e.applicationStream,r=e.isWatchingStream;null!=n&&(d.default.selectVoiceChannel(n.guildId,n.channelId),r||(0,f.watchStreamAndTransitionToStream)(n),M.ComponentDispatch.dispatch(k.ComponentActions.POPOUT_CLOSE),u.default.popAll())},t.handleJoinRequest=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(i.request(t.props.user,e),t.trackApplicationOpened(e,k.AnalyticsGameOpenTypes.ASK_TO_JOIN))},t.handleSpectate=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(l.default.spectate(t.props.user.id,e.session_id,e.application_id),t.trackApplicationOpened(e,k.AnalyticsGameOpenTypes.SPECTATE))},t.handleSendFriendRequest=function(){var e=t.props.user;s.default.addRelationship(e.id,{location:"Spectate Modal"}),u.default.pop()},t.handleCloseModal=function(){null!=t.modalKey?u.default.popWithKey(t.modalKey):u.default.pop()},t.handleOpenDownloads=function(){u.default.push(w.default,{source:"Spectate Modal"})},t.handleViewInStore=function(){var e=t.props,n=e.game,r=e.analyticsContext;if(null==n)throw new Error("Unexpected missing game");(0,c.goToApplicationStoreListing)(n.id,{analyticsSource:H({},r.location,{object:k.AnalyticsObjects.BUTTON_CTA}),slug:n.slug})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=(e.channelId,e.guildId,e.onOpenConnections,e.source,e.isGameLaunchable),n=(e.analyticsContext,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["channelId","guildId","onOpenConnections","source","isGameLaunchable","analyticsContext"]));return a.createElement(N.default,H({},n,{isBrowser:!L.default.embedded,isLaunchable:t,renderXboxButton:this.renderXboxButton,renderSpotifyPlayButton:this.renderSpotifyPlayButton,renderSpotifySyncButton:this.renderSpotifySyncButton,onJoinRequest:this.handleJoinRequest,onSpectate:this.handleSpectate,onNotify:this.handleNotify,onViewInStore:this.handleViewInStore,onWatchStream:this.handleWatchStream,onJoinVoice:this.handleJoinVoice}))},o.validateAction=function(){var e=this,t=this.props.user;return L.default.embedded?!!S.default.isFriend(t.id)||(this.modalKey=u.default.push(function(){return V(j.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_TITLE,imageClass:x.default.notFriendsImage,body:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_BODY.format({user:t.username}),confirmText:F.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_ACTION,cancelText:F.default.Messages.CANCEL,onConfirm:e.handleSendFriendRequest,onClose:e.handleCloseModal})}),!1):(this.modalKey=u.default.push(function(){return V(j.default,{title:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_TITLE,cancelText:F.default.Messages.CANCEL,body:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_BODY,confirmText:F.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_ACTION,onConfirm:e.handleOpenDownloads,onClose:e.handleCloseModal})}),!1)},o.trackApplicationOpened=function(e,t){var n=this.props,r=n.source,a=n.user,o=null!=e.application_id?I.default.getActiveLibraryApplication(e.application_id):null,i=null!=e.application_id?E.default.getGame(e.application_id):null;C.default.track(k.AnalyticEvents.APPLICATION_OPENED,{type:t,source:r,application_id:e.application_id,application_name:null!=i?i.name:e.name,other_user_id:a.id,distributor:null!=o?o.getDistributor():null})},o.handleNotify=function(e,t){console.log("notify",t,e)},r}(a.PureComponent);K.displayName="UserActivityActionsContainer",K.defaultProps={showBuyChatXGame:!1};var W=o.default.connectStores([P.default,h.default,b.default,E.default,I.default,A.default,O.default,_.default,T.default],function(e){var t=e.activity,n=e.applicationStream,r=e.user,a=null!=t&&null!=t.application_id?E.default.getGame(t.application_id):null;null==a&&null!=t&&(a=E.default.getGameByName(t.name));var o=null!=n?m.default.getChannel(n.channelId):null,i=_.default.getActiveStream();return{spectateState:null!=t&&null!=t.application_id?P.default.getState(t.application_id,k.ActivityActionTypes.SPECTATE):null,hasActiveJoinRequest:!!h.default.getRequest(r.id),currentUser:b.default.getCurrentUser(),game:a,hasXboxAccount:g.default.getAccounts().some(function(e){return e.type===y.default.get(k.PlatformTypes.XBOX).type}),isGameLaunchable:null!=t&&null!=t.application_id&&(0,R.isLaunchable)(I.default,E.default,A.default,O.default,t.application_id),canBuyChatXGame:null!=a&&null!=a.primarySkuId&&null==I.default.getActiveLibraryApplication(a.id),activeStream:_.default.getActiveStream(),isStreamWatchable:null!=o&&(0,v.canWatchStream)(b.default.getCurrentUser(),o),isWatchingStream:null!=i&&null!=n&&i.state!==k.ApplicationStreamStates.ENDED&&i.ownerId===n.ownerId,selectedVoiceChannelId:T.default.getVoiceChannelId()}})((0,p.default)(K));t.default=W},5919:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=l(n(15)),o=l(n(5829)),i=l(n(759));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.defaultValue,n=void 0===t?0:t,r=e.minValue,l=void 0===r?0:r,s=e.maxValue,d=void 0===s?100:s,c=e.onValueChange,f=e.onValueRender,p=e.label;return u("div",{className:(0,a.default)(i.default.item,i.default.itemSlider)},void 0,u("div",{className:i.default.label},void 0,p),u(o.default,{mini:!0,handleSize:16,className:i.default.slider,defaultValue:n,minValue:l,maxValue:d,onValueChange:c,onValueRender:f}))};s.displayName="SliderMenuItem";var d=s;t.default=d},5948:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var r=o(n(6)),a=o(n(800));function o(e){return e&&e.__esModule?e:{default:e}}t.MINIMUM_RANGE=100;var i=[[0,99]];function l(e){var t={};return e.forEach(function(e,n){t[n]=e}),t}t.DEFAULT_RANGES=i;var u=function(){function e(e){this._subscriptions={},this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={}},t.get=function(e){return l(this._get(e))},t._get=function(e){return this._subscriptions[e]||new a.default({max:5})},t.clear=function(e){delete this._subscriptions[e]},t.subscribe=function(e,t,n){var a=this._get(e);r.default.isEqual(a.get(t),n)||(a.set(t,n),this._subscriptions[e]=a,this._onChange(e,l(a)))},e}();t.default=u},5949:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(15)),i=h(n(3)),l=h(n(43)),u=h(n(184)),s=h(n(5774)),d=n(756),c=h(n(196)),f=h(n(768)),p=n(1),y=h(n(8)),v=h(n(5127));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){switch(e){case s.default.Positions.BOTTOM:return v.default.positionBottom;default:return v.default.positionTop}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef(),t.state={query:null,selectedSection:null,selectedRow:0},t.memoizedGetRows=(0,d.cachedFunction)(function(e,t,n){var r=new RegExp("^"+c.default.escape(null!=e?e.trim():""),"i"),a=function(e){return r.test(e)};return n.map(function(e,n){return t(a,n)})}),t.getRows=function(){var e=t.props,n=e.onFilterResults,r=e.sections,a=t.state.query;return t.memoizedGetRows(a,n,r)},t.handleChange=function(e){var n=e.target.value;t.props.onQueryChange&&t.props.onQueryChange(n),t.setState({query:n,selectedSection:null,selectedRow:0})},t.handleMouseEnter=function(e,n){t.setState({selectedSection:e,selectedRow:n})},t.handleClick=function(e,n){var r=t.getRows();t.props.onSelect(r[e][n],e),t.props.onClose()},t.handleKeyDown=function(e){var n=t.state.selectedRow,r=t.getRows(),a=t.getSelectedSection(r);switch(e.keyCode){case p.KeyboardKeys.TAB:if(p.EnableAccessibility)break;case p.KeyboardKeys.ARROW_DOWN:e.preventDefault(),t.props.sections.length>a&&++n>=r[a].length&&(++a>=t.props.sections.length&&(a=0),n=0),t.setState({selectedSection:a,selectedRow:n});break;case p.KeyboardKeys.ARROW_UP:e.preventDefault(),--n<0&&(--a<0&&(a=t.props.sections.length-1),n=r[a].length-1),t.setState({selectedSection:a,selectedRow:n});break;case p.KeyboardKeys.ENTER:e.preventDefault(),t.props.sections.length>a&&r[a].length>n&&(t.props.onSelect(r[a][n],a),t.props.onClose());break;case p.KeyboardKeys.ESCAPE:e.preventDefault(),t.props.onSelect(null,null),t.props.onClose()}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getSelectedSection=function(e){var t=this.state.selectedSection;if(null!=t)return t;for(var n=0;n<e.length;n++)if(e[n].length>0)return n;return 0},i.componentDidMount=function(){this.focus()},i.render=function(){var e=this,t=this.props,n=t.theme,r=t.position,i=this.getRows(),l=[];if(0===i.reduce(function(e,t){return e+t.length},0))l.push(_("div",{className:v.default.empty},"empty",_("h4",{className:v.default.noResultsHeader},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_HEADER),_("p",{},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_BODY)));else{var s=this.state.selectedRow;this.props.sections.forEach(function(t,n){var r=i[n];if(0!==r.length){l.push(_("div",{className:v.default.section},n,t));var a=e.getSelectedSection(i);r.forEach(function(t,r){var i;l.push(_(u.default,{onClick:e.handleClick.bind(e,n,r),onMouseEnter:e.handleMouseEnter.bind(e,n,r),className:(0,o.default)(v.default.row,(i={},i[v.default.selected]=a===n&&s===r,i))},n+"-"+r,_("span",{},void 0,e.props.onRenderResult(t,n))))})}})}return _("div",{className:(0,o.default)(v.default.container,m(r))},void 0,_("div",{className:v.default.autocompleteShadow}),_("div",{className:v.default.autocompleteArrowWrapper},void 0,_("div",{className:v.default.autocompleteArrow})),_("header",{className:v.default.header},void 0,_("div",{className:v.default.autocompleteHeaderBackground}),_("h3",{className:v.default.headerText},void 0,this.props.label),a.createElement("input",{type:"text",className:v.default.input,placeholder:this.props.placeholder,ref:this.inputRef,onChange:this.handleChange,onKeyDown:this.handleKeyDown})),_("section",{className:v.default.sectionTag},void 0,_(f.default,{className:v.default.autocompleteScroller,fade:!0,theme:n===p.ThemeTypes.DARK?f.default.Themes.DARK:f.default.Themes.LIGHT,elementHeight:44},void 0,l)))},i.focus=function(){null!=this.inputRef.current&&this.inputRef.current.focus()},r}(a.Component);g.displayName="AutocompletePopout",g.defaultProps={sections:[null]};var O=i.default.connectStores([l.default],function(){return{theme:l.default.theme}})(g);t.default=O},5950:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n,r;function u(e){var n;return(n=t.call(this,e)||this)._interval=new o.Interval,n.state=l({},n.getUpdatedTime()),n}r=t,(n=u).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var d=u.prototype;return d.componentDidMount=function(){var e=this;this._interval.start(1e3,function(){return e.setState(e.getUpdatedTime())})},d.componentWillUnmount=function(){this._interval.stop()},d.componentDidUpdate=function(e){e.timestamps.end===this.props.timestamps.end&&e.timestamps.start===this.props.timestamps.start||this.setState(this.getUpdatedTime())},d.getUpdatedTime=function(){var e=this.props.timestamps,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,s(e.end)/1e3):null!=e.start?this.getDiff(s(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},d.renderTime=function(e,t){return void 0===t&&(t=!1),t&&e<=0?-1:e<10?"0"+e:e},d.getDiff=function(e,t){var n=Math.max(t-e,0),r=Math.floor(n)%60,a=Math.floor(n/60)%60,o=Math.floor(n/3600)%24;return{hours:o,minutes:a,seconds:r}},d.render=function(){var t=this.props,n=t.timestamps,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["timestamps"]),o=this.state,u=o.hours,s=o.minutes,d=o.seconds,c={hours:this.renderTime(u,!0),minutes:this.renderTime(s),seconds:this.renderTime(d)};return null!=n.end?a.createElement(e,l({},r,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_END.format(c)})):null!=n.start?a.createElement(e,l({},r,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_START.format(c)})):null},u}(a.PureComponent)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(56),i=(r=n(8))&&r.__esModule?r:{default:r};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=13;function s(e){return(""+e).length<u?1e3*e:e}},5951:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(775))&&r.__esModule?r:{default:r},o=n(1);var i=(0,a.default)(o.Experiments.AF2_TRENDING_APPLICATIONS,"AF2 Trending Games","Test the effect of showing news for trending games on new user habits in AF");t.default=i},5952:function(e,t,n){"use strict";t.__esModule=!0,t.addInstallLocation=function(e){a.default.queryDirectory(e,function(t,n){null==t&&null!=n&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:n})})},t.removeInstallLocation=function(e){r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})},t.updateInstallLocation=function(e,t){var n=t.label,a=t.isDefault;r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:n,isDefault:a})},t.fetchMetadata=function(e){var t={},n=0,i=function(){if(u){if(s>=l.length)return"break";d=l[s++]}else{if((s=l.next()).done)return"break";d=s.value}var i=d;if(null==i||"string"!=typeof i)return"continue";a.default.queryDirectory(i,function(a,l){++n,null==a&&null!=l&&(t[i]=l),n===e.length&&r.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:t})})};e:for(var l=e,u=Array.isArray(l),s=0,l=u?l:l[Symbol.iterator]();;){var d,c=i();switch(c){case"break":break e;case"continue":continue}}};var r=i(n(2)),a=i(n(318)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}},5953:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=l(n(6033)),i=l(n(43));n(1);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=[],d=!1,c=null,f=i.default.locale;function p(){s=[],c=null}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,p=r.prototype;return p.initialize=function(){this.waitFor(i.default),f=i.default.locale},p.shouldFetch=function(){return null==c||Date.now()>c+6e5},a=r,(o=[{key:"promotions",get:function(){return s}},{key:"loaded",get:function(){return d}}])&&u(a.prototype,o),l&&u(a,l),r}(r.default.Store))(a.default,{PROMOTIONS_FETCH_START:function(e){d=!1},PROMOTIONS_FETCH_SUCCESS:function(e){var t=e.promotions;s=t.slice(0,1).map(o.default.createFromServer),c=Date.now(),d=!0},PROMOTIONS_FETCH_FAIL:function(e){d=!0},USER_SETTINGS_UPDATE:function(e){return function(){if(f===i.default.locale)return!1;f=i.default.locale,p()}()},LOGOUT:function(e){return p()}});t.default=y},5954:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(15)),i=s(n(288)),l=s(n(400)),u=s(n(5144));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={friction:7,tension:40,overshootClamping:!0},p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._animated=new i.default.Value(-1*t.getDirection()),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillEnter=function(e){this._animated.setValue(-this.props.getDirection()),i.default.spring(this._animated,c({toValue:0},f)).start(e)},a.componentDidAppear=function(){this._animated.setValue(0)},a.componentWillLeave=function(e){i.default.spring(this._animated,c({toValue:this.props.getDirection()},f)).start(e)},a.getStyle=function(){return i.default.accelerate({transform:[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]})},a.render=function(){return d(i.default.div,{style:this.getStyle(),className:u.default.item},void 0,this.props.children)},r}(a.PureComponent);p.displayName="Item";var y=function(e){var t=e.children,n=e.step,r=e.getDirection,a=e.className;return d(l.default,{component:"div",className:(0,o.default)(u.default.animator,a)},void 0,d(p,{getDirection:r},n,t))};y.displayName="SlideAnimator";var v=y;t.default=v},5955:function(e,t,n){"use strict";t.__esModule=!0,t.fetchAccounts=function(e){return Promise.all(e.map(_)).then(r.default.flatten)};var r=l(n(6)),a=l(n(26)),o=l(n(19)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u="InProgressContactImports",s=1,d={},c=!1;function f(e,t){t?d[e]=!0:delete d[e],0===Object.keys(d).length?a.default.remove(u):a.default.set(u,{version:s,potentiallyFailedFetches:d})}function p(e){var t=e.platform,n=e.username,r=e.name;switch(t){case i.PlatformTypes.BATTLENET:case i.PlatformTypes.SKYPE:return n;default:return r}}function y(e){var t=e.username,n=e.name,r=e.friend_id_hashes;return n&&t&&r.length>0}function v(e){return function(){if(!c){var e=a.default.get(u);c=!0,e&&e.version===s&&(d=e.potentiallyFailedFetches)}}(),new Promise(function(t){o.default.ensureModule("ChatX_contact_import").then(function(){return o.default.requireModule("ChatX_contact_import")}).then(function(n){n.isAvailable(e)&&!function(e){return!0===d[e]}(e)?(f(e,!0),n.fetch(e,{debug:!1},function(n,r){f(e,!1),r||(r=[]),t(r.filter(y).map(function(e){return{id:e.username,idHash:e.id_hash,type:e.platform,name:p(e),friendIdHashes:e.friend_id_hashes,resultHash:e.result_hash}}))})):t([])},function(){return t([])})})}var h={};function _(e){var t=null!=h[e];return null==h[e]&&(h[e]=[]),new Promise(function(n,r){if(h[e].push({resolve:n,reject:r}),!t){var a=function(t,n){var r=h[e];delete h[e],r&&r.forEach(function(e){return e[t](n)})};v(e).then(function(e){return a("resolve",e)},function(e){return a("reject",e)})}})}},5956:function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=void 0;var r=function(){function t(e){this._running=!1,this._callback=e}var r,a,o,i=t.prototype;return i.start=function(e){var t=this;this.stop(),this._ref=setInterval(function(){return t._run(!1)},e)},i.stop=function(){null!=this._ref&&(clearInterval(this._ref),this._ref=null,this._running=!1)},i.run=function(){var t=this;e(function(){return t._run(!0)})},i._run=function(e){var t=this;this._running||(this._running=!0,this._callback(function(){t._running=!1},e))},r=t,(a=[{key:"running",get:function(){return this._running}}])&&n(r.prototype,a),o&&n(r,o),t}();t.default=r}).call(this,n(32).setImmediate)},6006:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=n(287),i=O(n(741)),l=O(n(119)),u=O(n(10)),s=O(n(20)),d=O(n(105)),c=O(n(136)),f=O(n(117)),p=O(n(5838)),y=n(299),v=O(n(106)),h=O(n(5717)),_=O(n(5738)),m=n(1),g=O(n(8));function O(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.guildId,n=e.user,r=e.invertChildY,O=n.id,E=(0,a.useStateFromStores)([f.default,d.default],function(){return d.default.getChannels(t)[m.ChannelTypes.GUILD_VOICE]},[t]),I=(0,a.useStateFromStores)([f.default,s.default],function(){var e=f.default.getCurrentVoiceChannelId(t,O);return e?s.default.getChannel(e):null},[t,O]);function S(e){if(!c.default.can(m.Permissions.CONNECT,e))return!1;if(c.default.can(m.Permissions.MOVE_MEMBERS,e))return!0;var t=e.getGuildId(),n=null!=t?p.default.getVoiceStatesForChannel(t,e.id):[];return!(0,y.isChannelFull)(e,n.length)}if(!I)return null;var T=function(){var e=n.id===u.default.getId();if(null==I)throw new Error("[App]GuildVoiceMoveToItem.getTargetChannels(): assert failed: currentVoiceChannel != null");if(!e&&!c.default.can(m.Permissions.MOVE_MEMBERS,I))return[];var t=e?S:function(e){return function(t){return c.default.can(m.Permissions.MOVE_MEMBERS,t)&&(c.default.can(m.Permissions.CONNECT,t)||v.default.can(m.Permissions.CONNECT,e,t))}}(n);return E.filter(function(e){var n=e.channel;return n.id!==I.id&&t(n)})}();if(0===T.length)return null;var b=T.map(function(e){var r=e.channel;return A(h.default,{action:function(){return function(e){(0,o.closeContextMenu)(),n.id===u.default.getId()?l.default.selectVoiceChannel(t,e.id):i.default.setChannel(t,n.id,e.id)}(r)},label:r.toString()},r.id)});return A(_.default,{label:g.default.Messages.MOVE_TO,invertChildY:r,render:b})};E.displayName="GuildVoiceMoveToItem";var I=E;t.default=I},6007:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),i=h(n(190)),l=n(287),u=h(n(76)),s=h(n(765)),d=h(n(84)),c=h(n(14)),f=h(n(135)),p=h(n(5717)),y=h(n(399)),v=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.user,n=t.id,r=(0,o.useStateFromStores)([c.default],function(){return c.default.getCurrentUser().id===n},[n]),h=(0,o.useStateFromStores)([d.default],function(){return{isFriend:d.default.isFriend(n),isBlocked:d.default.isBlocked(n)}},[n],i.default),g=h.isFriend,O=h.isBlocked,A=a.useState(!1),E=A[0],I=A[1];if(t.bot||r)return null;var S=v.default.Messages.ADD_FRIEND;return g?S=v.default.Messages.REMOVE_FRIEND:E&&(S=v.default.Messages.ADD_FRIEND_BUTTON_AFTER),m(p.default,{label:S,action:function(){function e(){s.default.removeRelationship(n,{location:"ContextMenu"}),I(!1)}E||(g?((0,l.closeContextMenu)(),u.default.push(function(n){return a.createElement(y.default,_({header:v.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.username}),confirmText:v.default.Messages.REMOVE_FRIEND,cancelText:v.default.Messages.CANCEL,onConfirm:e},n),m(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,v.default.Messages.REMOVE_FRIEND_BODY.format({name:t.username})))})):(s.default.addRelationship(n,{location:"ContextMenu"}),I(!0)))},disabled:O||E&&!g})};g.displayName="UserAddFriendItem";var O=g;t.default=O},6008:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=A(n(3)),i=n(287),l=A(n(741)),u=A(n(76)),s=A(n(5763)),d=A(n(24)),c=A(n(136)),f=A(n(14)),p=A(n(117)),y=A(n(5721)),v=A(n(5717)),h=A(n(5722)),_=A(n(6009)),m=A(n(6013)),g=n(1),O=A(n(8));function A(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleServerMute=function(){var e=t.props,n=e.user,r=e.guildId,a=e.mute,o=e.suppress;l.default.setServerMute(r,n.id,!(a||o))},t.handleToggleServerDeaf=function(){var e=t.props,n=e.user,r=e.guildId,a=e.deaf;l.default.setServerDeaf(r,n.id,!a)},t.handleVoiceDisconnect=function(){var e=t.props,n=e.guildId,r=e.user;l.default.setChannel(n,r.id,null),(0,i.closeContextMenu)()},t.handleKick=function(){var e=t.props,n=e.user,r=e.guildId;u.default.push(function(e){return a.createElement(m.default,I({},e,{guildId:r,user:n}))}),(0,i.closeContextMenu)()},t.handleBan=function(){var e=t.props,n=e.user,r=e.guildId;u.default.push(function(e){return a.createElement(_.default,I({},e,{guildId:r,user:n}))}),(0,i.closeContextMenu)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.channelId,n=e.user,r=e.guild,a=e.me,o=e.mute,i=e.deaf,l=e.suppress,u=e.isVoiceConnected,s=null,d=null,f=null,p=null,_=null;return u&&(c.default.can(g.Permissions.MUTE_MEMBERS,{channelId:t})&&(s=E(h.default,{danger:!0,label:O.default.Messages.SERVER_VOICE_MUTE,action:this.handleToggleServerMute,active:o||l})),c.default.can(g.Permissions.DEAFEN_MEMBERS,{channelId:t})&&(d=E(h.default,{danger:!0,label:O.default.Messages.SERVER_DEAFEN,action:this.handleToggleServerDeaf,active:i}))),a||null==r||(u&&c.default.can(g.Permissions.MOVE_MEMBERS,{channelId:t})&&(f=E(v.default,{danger:!0,label:O.default.Messages.DISCONNECT,action:this.handleVoiceDisconnect})),c.default.canManageUser(g.Permissions.KICK_MEMBERS,n,r)&&(p=E(v.default,{danger:!0,label:O.default.Messages.KICK+" "+n.username,action:this.handleKick})),c.default.canManageUser(g.Permissions.BAN_MEMBERS,n,r)&&(_=E(v.default,{danger:!0,label:O.default.Messages.BAN+" "+n.username,action:this.handleBan}))),E(y.default,{},void 0,s,d,f,p,_)},r}(a.Component);S.displayName="UserAdminItemGroup";var T=o.default.connectStores([f.default,p.default,d.default,c.default],function(e){var t=e.user,n=e.guildId,r=f.default.getCurrentUser()===t,a=!1,o=!1,i=!1,l=!1,u=p.default.getVoiceState(n,t.id);return null!=u&&(a=u.mute,o=u.deaf,i=u.suppress,l=null!=u.channelId),{guild:d.default.getGuild(n),me:r,mute:a,deaf:o,suppress:i,isVoiceConnected:l}})(S),b=(0,s.default)(function(e){var t,n=e.user;return(t={})[e.guildId]=[n.id],t})(T);t.default=b},6009:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(741)),i=y(n(749)),l=y(n(5792)),u=y(n(402)),s=y(n(5732)),d=y(n(399)),c=n(1),f=y(n(8)),p=y(n(5123));function y(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=[{value:"0",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE},{value:"1",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR},{value:"7",label:f.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D}],g=1,O=function(e){var t,r;function y(t){var n;return _(n=e.call(this,t)||this).handleSubmit=n.handleSubmit.bind(_(n)),_(n).handleChangeDeleteDuration=n.handleChangeDeleteDuration.bind(_(n)),_(n).handleChangeReason=n.handleChangeReason.bind(_(n)),n.state={duration:m[g].value,reason:""},n}r=e,(t=y).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var O=y.prototype;return O.handleSubmit=function(){var e=this.props,t=e.guildId,n=e.user,r=this.state,a=r.duration,i=r.reason;o.default.banUser(t,n.id,a,i)},O.handleChangeDeleteDuration=function(e){var t=e.value;this.setState({duration:t})},O.handleChangeReason=function(e){this.setState({reason:e})},O.render=function(){var e=this.state,t=e.duration,r=e.reason,o=this.props,y=o.user,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(o,["user"]);return a.createElement(d.default,v({header:f.default.Messages.BAN_CONFIRM_TITLE.format({username:"@"+y.toString()}),confirmText:f.default.Messages.BAN,cancelText:f.default.Messages.CANCEL,onConfirm:this.handleSubmit,red:!0},_),h(s.default,{autoPlay:!0,loop:!0,className:p.default.spacing,width:400},void 0,h("source",{src:n(6010),type:"video/webm"}),h("source",{src:n(6011),type:"video/mp4"}),h("img",{alt:"",src:n(6012)})),h(u.default,{title:f.default.Messages.FORM_LABEL_DELETE_MESSAGE_HISTORY,className:p.default.spacing},void 0,h(i.default,{clearable:!1,searchable:!1,options:m,value:t,onChange:this.handleChangeDeleteDuration})),h(u.default,{title:f.default.Messages.FORM_LABEL_REASON_BAN,className:p.default.spacing},void 0,h(l.default,{maxLength:c.MAX_REASON_LENGTH,onChange:this.handleChangeReason,value:r,rows:2})))},y}(a.PureComponent);O.displayName="BanConfirm";var A=O;t.default=A},6010:function(e,t,n){e.exports=n.p+"62ac6016dc438a1fe4926ed43d3fe280.webm"},6011:function(e,t,n){e.exports=n.p+"6b3cc6ff5c09de83cc37561a43304dee.mp4"},6012:function(e,t,n){e.exports=n.p+"1923b5f96b83785235595042bd7f5a0d.png"},6013:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(741)),i=p(n(135)),l=p(n(5792)),u=p(n(402)),s=p(n(399)),d=n(1),c=p(n(8)),f=p(n(5124));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return h(n=e.call(this,t)||this).handleReasonChange=n.handleReasonChange.bind(h(n)),h(n).handleKick=n.handleKick.bind(h(n)),n.state={reason:""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=r.prototype;return p.render=function(){var e=this.props.user;return a.createElement(s.default,y({header:c.default.Messages.KICK_USER_TITLE.format({user:e.username}),confirmText:c.default.Messages.KICK,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleKick,red:!0},this.props),v(i.default,{size:i.default.Sizes.MEDIUM,color:i.default.Colors.PRIMARY,className:f.default.spacing},void 0,c.default.Messages.KICK_USER_BODY.format({user:"@"+e.toString()})),v(u.default,{title:c.default.Messages.FORM_LABEL_REASON_KICK,className:f.default.spacing},void 0,v(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleReasonChange,value:this.state.reason,rows:2})))},p.handleReasonChange=function(e){this.setState({reason:e})},p.handleKick=function(){var e=this.props,t=e.guildId,n=e.user;o.default.kickUser(t,n.id,this.state.reason)},r}(a.PureComponent);_.displayName="KickConfirm";var m=_;t.default=m},6014:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(3),i=n(287),l=h(n(76)),u=h(n(765)),s=h(n(84)),d=h(n(14)),c=h(n(135)),f=h(n(5717)),p=h(n(399)),y=n(1),v=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t=e.user,n=t.id,r=(0,o.useStateFromStores)([d.default],function(){return d.default.getCurrentUser().id===n},[n]),h=(0,o.useStateFromStores)([s.default],function(){return s.default.isBlocked(n)},[n]);if(r)return null;return m(f.default,{label:h?v.default.Messages.UNBLOCK:v.default.Messages.BLOCK,action:function(){function e(){u.default.addRelationship(n,{location:"ContextMenu"},y.RelationshipTypes.BLOCKED)}(0,i.closeContextMenu)(),h?u.default.removeRelationship(n,{location:"ContextMenu"}):l.default.push(function(n){return a.createElement(p.default,_({header:v.default.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:t.username}),confirmText:v.default.Messages.BLOCK,cancelText:v.default.Messages.CANCEL,onConfirm:e},n),m(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,v.default.Messages.CONFIRM_USER_BLOCK_BODY.format({name:t.username})))})}})};g.displayName="UserBlockItem";var O=g;t.default=O},6015:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(397)),i=n(287),l=d(n(10)),u=d(n(5717)),s=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCall=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(l.default.getId(),t.props.userId,!0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return l.default.getId()===this.props.userId?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.CALL,action:this.handleCall})},a}(a.PureComponent);t.default=c,c.displayName="UserCallItem"},6016:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(397)),i=n(287),l=c(n(20)),u=c(n(5717)),s=n(1),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){o.default.closePrivateChannel(t.props.channelId,t.props.selected),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=l.default.getChannel(this.props.channelId);return null==e||e.type===s.ChannelTypes.GROUP_DM?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.CLOSE_DM,action:this.handleClose})},a}(a.PureComponent);f.displayName="UserCloseChatItem";var p=f;t.default=p},6017:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=A(n(6)),i=n(3),l=A(n(397)),u=A(n(294)),s=A(n(161)),d=A(n(20)),c=A(n(105)),f=A(n(136)),p=A(n(84)),y=A(n(406)),v=A(n(14)),h=n(194),_=A(n(5717)),m=A(n(5738)),g=n(1),O=A(n(8));function A(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S="max_uses",T=function(e){var t=e.user,n=e.guildId,r=(0,i.useStateFromStores)([v.default],function(){return v.default.getCurrentUser()},[]),A=(0,i.useStateFromStores)([y.default],function(){return y.default.getSortedGuilds().map(function(e){return e.guild})},[]),T=a.useState({}),b=T[0],P=T[1];var N=1===A.length&&A[0].id===n;return r.id===t.id||t.bot||N||p.default.isBlocked(t.id)?null:E(m.default,{label:O.default.Messages.INVITE_TO_SERVER,render:function(){return(0,o.default)(A).filter(function(e){return(0,h.canViewInviteModal)(e,e)&&e.id!==n}).map(function(e){return b[e.id]?E(_.default,{disabled:!0,label:O.default.Messages.INVITE_SENT},e.id):E(_.default,{label:e.name,action:function(){return function(e,t,n){var r,a=c.default.getDefaultChannel(e.id);null!=a&&(P(function(t){var n;return I({},t,((n={})[e.id]=!0,n))}),f.default.can(g.Permissions.CREATE_INSTANT_INVITE,e)?u.default.createInvite(a.id,(r={},r[S]=1,r.unique=!0,r),"User Invite Context Menu").then(function(e){var r=e.body;l.default.ensurePrivateChannel(t,n).then(function(e){var t=d.default.getChannel(e);null!=t&&s.default.sendInvite(t.id,r.code,"context_menu")})}):l.default.ensurePrivateChannel(t,n).then(function(t){var n=d.default.getChannel(t);null!=n&&s.default.sendInvite(n.id,e.vanityURLCode,"context_menu")}))}(e,r.id,t.id)}},e.id)}).value()}})};t.default=T},6018:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),i=n(37),l=f(n(228)),u=f(n(44)),s=f(n(14)),d=f(n(5722)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleMute=function(){var e=t.props,n=e.me,r=e.userId,a=e.mediaEngineContext;n?l.default.toggleSelfMute(a):l.default.toggleLocalMute(r,a)},t.handleToggleDeaf=function(){var e=t.props,n=e.me,r=e.mediaEngineContext;n&&l.default.toggleSelfDeaf(r)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.me,n=e.localMute,r=e.selfDeafen;return p("div",{},void 0,p(d.default,{label:c.default.Messages.SOUND_MUTE,action:this.handleToggleMute,active:n}),t?p(d.default,{label:c.default.Messages.DEAFEN,action:this.handleToggleDeaf,active:r}):null)},r}(a.PureComponent);y.displayName="UserLocalMuteDeafenItem",y.defaultProps={mediaEngineContext:i.MediaEngineContextTypes.DEFAULT};var v=o.default.connectStores([u.default,s.default],function(e){var t=e.userId,n=e.mediaEngineContext,r=s.default.getCurrentUser().id===t,a=!1,o=!1;return r?(a=!u.default.isEnabled()||u.default.isSelfMute(n),o=u.default.isSelfDeaf(n)):a=u.default.isLocalMute(t,n),{me:r,localMute:a,selfDeafen:o}})(y);t.default=v},6019:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=n(287),i=v(n(5793)),l=v(n(20)),u=v(n(136)),s=v(n(46)),d=v(n(289)),c=n(103),f=v(n(5717)),p=n(1),y=v(n(8));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.user,n=e.guildId,v=(0,a.useStateFromStores)([s.default],function(){return s.default.getChannelId(n)},[n]);if(!(0,a.useStateFromStores)([s.default,l.default,u.default],function(){var e=s.default.getChannelId(n),t=l.default.getChannel(e);return null!=t&&(t.isGroupDM()||u.default.can(p.Permissions.SEND_MESSAGES,t))},[n]))return null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.MENTION,action:function(){var e=t.username,n=t.discriminator;(0,o.closeContextMenu)();var r="@"+e;d.default.hidePersonalInformation||(r+="#"+n),c.ComponentDispatch.dispatchToLastSubscribed(p.ComponentActions.INSERT_TEXT,{content:r}),null!=v&&i.default.startTyping(v)}})};h.displayName="UserMentionItem";var _=h;t.default=_},6020:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=c(n(397)),i=n(287),l=n(745),u=c(n(10)),s=c(n(5717)),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentUserId:u.default.getId()},t.handleMessage=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(t.state.currentUserId,t.props.userId),(0,l.popLayer)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=null;return this.state.currentUserId!==this.props.userId&&(e=function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.USER_POPOUT_MESSAGE,action:this.handleMessage})),e},a}(a.PureComponent);f.displayName="UserMessageItem";var p=f;t.default=p},6021:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(0)),o=n(3),i=n(287),l=y(n(10)),u=y(n(5099)),s=y(n(289)),d=v(n(738)),c=y(n(5717)),f=y(n(5097)),p=y(n(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){var t=e.user,n=e.guildId,y=e.channelId,v=e.target,_=e.position,m=void 0===_?d.default.Positions.RIGHT:_,g=t.id,O=(0,o.useStateFromStores)([u.default],function(){return u.default.getNote(g).length>0},[g]);return g===l.default.getId()||s.default.hidePersonalInformation?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:O?p.default.Messages.EDIT_NOTE:p.default.Messages.ADD_NOTE,action:function(){v&&((0,d.openPopout)(v,{closeOnScroll:!1,render:function(e){return a.createElement(f.default,h({},e,{userId:g,guildId:n,channelId:y,setNote:!0}))},position:m,offsetX:15,shadow:!1}),(0,i.closeContextMenu)())}})};_.displayName="UserNoteItem",_.LEFT=d.default.Positions.LEFT,_.RIGHT=d.default.Positions.RIGHT;var m=_;t.default=m},6023:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=c(n(15)),u=n(56),s=n(5858),d=c(n(5126));function c(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({TRANSLATE:1,SCALE:2}),p=Object.freeze(((r={})[f.TRANSLATE]=d.default.translate,r[f.SCALE]=d.default.scale,r)),y=Object.freeze(((a={})[s.PopoutPositions.TOP]=d.default.animatorTop,a[s.PopoutPositions.BOTTOM]=d.default.animatorBottom,a[s.PopoutPositions.LEFT]=d.default.animatorLeft,a[s.PopoutPositions.RIGHT]=d.default.animatorRight,a)),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={didRenderWithPosition:!1},t.timeout=new u.Timeout,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){null!=this.props.position&&this.setState({didRenderWithPosition:!0})},a.componentDidUpdate=function(e){var t=this;null!=this.props.position&&null==e.position&&this.timeout.start(10,function(){t.setState({didRenderWithPosition:!0})})},a.componentWillUnmount=function(){this.timeout.stop()},a.render=function(){var e,t=this.props,n=t.children,r=t.position,a=t.type,i=this.state.didRenderWithPosition;return function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,l.default)(null!=r?y[r]:null,(e={},e[p[a]]=null!=r,e[d.default.didRender]=i,e))},void 0,n)},r}(i.Component);t.default=v,v.displayName="PopoutCSSAnimator",v.Types=f},6024:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(9))&&r.__esModule?r:{default:r},o=n(1);var i={updateNote:function(e,t){a.default.put({url:o.Endpoints.NOTE(e),body:{note:t}})}};t.default=i},6025:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=v(n(15)),o=v(n(21)),i=v(n(397)),l=v(n(161)),u=v(n(20)),s=v(n(84)),d=v(n(14)),c=n(5770),f=v(n(233)),p=v(n(8)),y=v(n(5133));function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,n;function v(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).inputRef=r.createRef(),t.handleKeyPress=function(e){if(13===e.which){e.preventDefault(),(0,o.default)(null!=t.inputRef.current,"Keypress on Input when not mounted");var n=t.inputRef.current.value.trim();return(0,c.applyChatRestrictions)(null,n,null).then(function(e){if(e.valid){i.default.openPrivateChannel(d.default.getCurrentUser().id,t.props.user.id).then(function(e){var t=u.default.getChannel(e);(0,o.default)(null!=t,"Newly created PrivateChannel is null"),l.default.sendMessage(t.id,f.default.parse(t,n))});var r=t.props.onClose;r&&r()}}),!0}},t}return n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,v.prototype.render=function(){var e=this.props,t=e.user,n=e.autoFocus,o=e.className,i=s.default.isBlocked(t.id);return r.createElement("input",{className:(0,a.default)(y.default.quickMessage,o,{isBlocked:i}),ref:this.inputRef,autoFocus:n,placeholder:i?p.default.Messages.QUICK_DM_BLOCKED:p.default.Messages.QUICK_DM_USER.format({name:t.username}),onKeyPress:this.handleKeyPress,disabled:i})},v}(r.PureComponent);h.displayName="QuickMessage",h.defaultProps={autoFocus:!1};var _=h;t.default=_},6026:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=h(n(5822)),i=h(n(743)),l=n(189),u=h(n(43)),s=h(n(91)),d=h(n(222)),c=h(n(135)),f=h(n(18)),p=n(1),y=h(n(8)),v=h(n(5132));function h(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e){var t,r;function h(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).animItem=null,t.handleConfirm=function(){var e=t.props.onConfirm;null!=e&&e(),t.close()},t.handleCancel=function(){var e=t.props.onCancel;null!=e&&e(),t.close()},t}r=e,(t=h).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var g=h.prototype;return g.componentDidMount=function(){var e=this,t=u.default.theme;n.e(284).then(function(r){var a=t===p.ThemeTypes.DARK?n(6648):n(6649);e.animItem=o.default.loadAnimation({container:e.animRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a})}.bind(null,n)).catch(n.oe),f.default.track(p.AnalyticEvents.OPEN_POPOUT,m({type:"@Everyone Warning"},(0,l.collectChannelAnalyticsMetadata)(this.props.channel)))},g.componentWillUnmount=function(){null!=this.animItem&&(this.animItem.destroy(),this.animItem=void 0)},g.close=function(){var e=this.props.popoutKey;i.default.close(e)},g.render=function(){var e=this,t=this.props,n=t.numPeople,r=t.role,o=n>100?100:10;return _("form",{className:v.default.everyonePopout,onSubmit:this.handleConfirm},void 0,_("div",{className:v.default.body},void 0,a.createElement("div",{className:v.default.animation,ref:function(t){e.animRef=t}}),_("div",{className:v.default.content},void 0,_("div",{className:v.default.header},void 0,y.default.Messages.SELF_XSS_HEADER),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_BODY.format({role:r,count:(parseInt(n/o,10)*o).toLocaleString()})),_("div",{className:v.default.buttonWrapper},void 0,_("div",{className:v.default.buttonContainer},void 0,_(s.default,{className:v.default.button,look:s.default.Looks.OUTLINED,onClick:this.handleCancel},void 0,y.default.Messages.EDIT_MESSAGE),_(c.default,{className:v.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ESC.format())),_("div",{className:v.default.buttonContainer},void 0,_(s.default,{className:v.default.button,onClick:this.handleConfirm,type:"submit",autoFocus:!0},void 0,y.default.Messages.EVERYONE_POPOUT_SEND_NOW),_(c.default,{className:v.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ENTER.format()))))),_("div",{className:v.default.footer},void 0,_(d.default,{name:d.default.Names.INFO,color:p.Colors.PRIMARY_DARK_400,className:v.default.icon}),_(c.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_FOOTER)))},h}(a.PureComponent);t.default=g,g.displayName="EveryonePopout"},6027:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(56),i=u(n(134)),l=u(n(5134));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.percentage;return s("div",{className:l.default.bar},void 0,s("div",{className:l.default.barInner,style:{width:100*Math.max(Math.min(t,1),0)+"%"}}))}function c(e){return String(e).padStart(2,"0")}function f(e){var t=Math.floor(e)%60,n=Math.floor(e/60)%60,r=Math.floor(e/3600);return 0===r?n+":"+c(t):r+":"+c(n)+":"+c(t)}d.displayName="Bar";var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).timer=new o.Interval,t.state={now:Date.now()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.timer.start(500,function(){e.setState({now:Date.now()})})},a.componentWillUnmount=function(){this.timer.stop()},a.render=function(){var e=this.props,t=e.start,n=e.end,r=e.className,a=this.state.now,o=(n-t)/1e3,u=Math.max(Math.min((a-t)/1e3,o),0);return s("div",{className:r},void 0,s(d,{percentage:u/o}),s(i.default,{},void 0,s(i.default.Child,{grow:1,className:l.default.textLeft},void 0,f(u)),s(i.default.Child,{grow:0,className:l.default.textRight},void 0,f(o))))},r}(a.PureComponent);p.displayName="ActivityTimeBar";var y=p;t.default=y},6028:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(9)),a=i(n(2)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var u={fetchTrendingApplications:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH}),e.prev=1,e.next=4,r.default.get({url:o.Endpoints.APPLICATIONS_TRENDING});case 4:t=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_FAIL}),e.t0;case 11:n=t.body,a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_SUCCESS,trendingApplications:n});case 13:case"end":return e.stop()}},e,null,[[1,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,u,"next",e)}function u(e){l(o,r,a,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()};t.default=u},6029:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(2)),o=l(n(136)),i=n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getChannel=function(e){var t=u[e];return null!=t&&o.default.can(i.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t:{channelId:null,guildId:null}},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){u={}},VOICE_STATE_UPDATE:function(e){var t=e.userId,n=e.guildId,r=e.channelId;if(null!=n&&null!=r){var a=u[t];if(null==a||a.guildId!==n||a.channelId!==r)return u[t]={guildId:n,channelId:r},!0}else if(null!=u[t])return delete u[t],!0;return!1}});t.default=s},6030:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=O(n(0)),o=g(n(4)),i=g(n(3)),l=g(n(76)),u=g(n(5841)),s=g(n(36)),d=g(n(91)),c=g(n(134)),f=g(n(185)),p=g(n(104)),y=O(n(5728)),v=n(1),h=g(n(8)),_=g(n(5095)),m=g(n(5137));function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePlay=function(e,n){void 0===e&&(e=!0),void 0===n&&(n=null);var r=t.props,a=r.libraryApplication,o=r.analyticsParams;t.onClose(),y.playApplication(a.id,a,{analyticsParams:o,cloudSync:e,cloudSyncForceHash:n})},t.handleChooseDownload=function(){var e=t.props.cloudSyncState;e.type===v.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.remote.hash)},t.handleChooseUpload=function(){var e=t.props.cloudSyncState;e.type===v.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.next.hash)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.onClose=function(){l.default.pop()},i.renderConflictButton=function(e,t,n,r){return A(d.default,{className:m.default.conflictButton,innerClassName:m.default.conflictButtonInner,onClick:r},void 0,A("div",{className:n}),A("div",{className:m.default.buttonBody},void 0,A("div",{className:m.default.conflictTitle},void 0,e),A("div",{},void 0,h.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_LAST_MODIFIED),A("div",{className:m.default.timestamp},void 0,(0,o.default)(t).calendar())))},i.renderError=function(){var e=this,t=this.props.application;return A(a.Fragment,{},void 0,A(f.default.Content,{},void 0,A(c.default,{justify:c.default.Justify.CENTER},void 0,A("div",{className:m.default.errorArt})),A("div",{className:m.default.description},void 0,h.default.Messages.CLOUD_SYNC_MODAL_ERROR_DESCRIPTION.format({applicationName:t.name}))),A(f.default.Footer,{},void 0,A(c.default,{justify:c.default.Justify.BETWEEN},void 0,A(d.default,{className:m.default.linkButton,size:m.default.linkButtonSize,look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.onClose},void 0,h.default.Messages.CANCEL),A(c.default,{direction:c.default.Direction.HORIZONTAL,justify:c.default.Justify.END},void 0,A(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:function(){return e.handlePlay()},className:m.default.retryButton},void 0,h.default.Messages.RETRY),A(d.default,{onClick:function(){return e.handlePlay(!1)}},void 0,h.default.Messages.GAME_ACTION_BUTTON_PLAY)))))},i.renderConflict=function(){var e=this.props,t=e.application,n=e.cloudSyncState;if(n.type!==v.CloudSyncStateTypes.CONFLICT)throw new Error("Cannot render conflict for non conflict type");return A(f.default.Content,{className:_.default.marginBottom20},void 0,A("div",{className:m.default.description},void 0,h.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_DESCRIPTION.format({applicationName:t.name})),this.renderConflictButton(h.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_DOWNLOAD,n.remote.timestamp,m.default.conflictDownloadArt,this.handleChooseDownload),A(c.default,{className:m.default.choiceWrapper,align:c.default.Align.CENTER},void 0,A("div",{className:m.default.choiceLine}),A("div",{className:m.default.choiceTitle},void 0,h.default.Messages.CLOUD_SYNC_MODAL_OR),A("div",{className:m.default.choiceLine})),this.renderConflictButton(h.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_UPLOAD,n.next.timestamp,m.default.conflictUploadArt,this.handleChooseUpload))},i.render=function(){var e=this.props.cloudSyncState;return A(f.default,{className:m.default.modal},void 0,A(f.default.Header,{separator:!1},void 0,A(f.default.CloseButton,{className:m.default.closeButton,onClick:this.onClose}),A(p.default,{tag:p.default.Tags.H2,className:_.default.marginReset},void 0,e.type===v.CloudSyncStateTypes.CONFLICT?h.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_HEADER:h.default.Messages.CLOUD_SYNC_MODAL_ERROR_HEADER)),e.type===v.CloudSyncStateTypes.CONFLICT?this.renderConflict():this.renderError())},r}(a.PureComponent);E.displayName="CloudSyncResolutionModal";var I=i.default.connectStores([u.default,s.default],function(e){var t=e.libraryApplication,n=e.branchId;return{cloudSyncState:u.default.getState(t.id,n),application:s.default.getGame(t.id)}})(E);t.default=I},6031:function(e,t,n){"use strict";t.__esModule=!0,t.installApplication=function(e,t,n,s,c){var f=l.default.getInstallationPath(e.id,t),p=null!=e.eulaId&&!u.default.hasAcceptedEULA(e.eulaId);null==f||p?i.default.push(function(n){return a.createElement(r,d({},n,{applicationId:e.id,branchId:t,analyticsLocation:c}))}):(0,o.installApplication)(e,t,n,s,f,c)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(303),i=s(n(76)),l=(s(n(120)),s(n(305))),u=s(n(5864));n(1);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r=n(6032).default},6032:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=P(n(3)),i=P(n(2)),l=n(434),u=n(5776),s=n(303),d=P(n(76)),c=P(n(36)),f=P(n(305)),p=P(n(411)),y=P(n(5864)),v=P(n(91)),h=P(n(134)),_=P(n(5729)),m=P(n(185)),g=P(n(104)),O=n(779),A=P(n(47)),E=P(n(5912)),I=P(n(5913)),S=n(1),T=P(n(8)),b=P(n(5139));function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedInstallationPath:t.props.defaultInstallationPath,hasError:!1,isInstalling:!1,hasAcceptedNeccessaryTerms:!1},t.isUnmounted=!1,t.handleChangePath=function(e,n){t.setState({selectedInstallationPath:e,hasError:n})},t.install=function(e,n){var r=t.props,a=r.application,o=r.branchId,i=r.analyticsLocation;if(null==a)return null;(0,s.installApplication)(a,o,e,n,t.state.selectedInstallationPath,i),A.default.transitionTo(S.Routes.APPLICATION_LIBRARY),t.close()},t.handleInstall=function(){var e=t.props,n=e.application,r=e.buildId,a=e.manifestIds,o=e.hasPreviouslyAcceptedStoreTerms;if(null==r||null==a)throw new Error("Unexpected missing build info for non-premium product");o||(0,u.acceptPurchaseTerms)(),null!=n.eulaId&&(0,u.acceptEULA)(n.eulaId),t.install(r,a)},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.fetchInstallSize=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=r&&null!=a&&null==o&&i.default.wait(function(){(0,l.fetchBuildSize)(t,n,r,a)})},a.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branchId,r=e.buildId,a=e.manifestIds;null==r||null==a?(0,l.fetchLiveBuild)(t,n):this.fetchInstallSize()},a.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},a.componentWillUnmount=function(){this.isUnmounted=!0},a.close=function(){d.default.pop()},a.renderButton=function(){var e=this.props.buildId,t=this.state,n=t.hasError,r=t.hasAcceptedNeccessaryTerms;return N(v.default,{disabled:n||null==e||!r,color:v.default.Colors.GREEN,onClick:this.handleInstall},void 0,T.default.Messages.GAME_ACTION_BUTTON_INSTALL)},a.render=function(){var e=this.props,t=e.application,n=e.buildSizeKB,r=this.state,a=r.selectedInstallationPath,o=r.isInstalling,i=t.getSplashURL(440);return N(m.default,{size:m.default.Sizes.SMALL},void 0,null!=i?N("div",{className:b.default.splash,style:{backgroundImage:"url("+i+")"}}):null,N(m.default.Header,{},void 0,N(h.default.Child,{grow:1},void 0,N(g.default,{tag:g.default.Tags.H4},void 0,T.default.Messages.APPLICATION_INSTALLATION_MODAL_TITLE)),N(h.default.Child,{grow:0},void 0,N(m.default.CloseButton,{onClick:this.close}))),N(m.default.Content,{},void 0,N(h.default,{align:h.default.Align.CENTER},void 0,N(_.default,{game:t,size:_.default.Sizes.MEDIUM,className:b.default.gameIcon}),N("div",{className:b.default.gameName},void 0,t.name),null!=n?N("div",{className:b.default.installSize},void 0,(0,O.formatSize)(n,{useKibibytes:!0})):null),N("div",{className:b.default.divider}),N(I.default,{autoFocus:!0,className:b.default.selector,value:a,requiredDiskKB:n,onChange:this.handleChangePath}),N(E.default,{eulaId:t.eulaId,applicationName:t.name,disabled:o,onChange:this.handlePurchaseTermsChange,className:b.default.terms})),N(m.default.Footer,{},void 0,this.renderButton()))},r}(a.Component);C.displayName="ApplicationInstallationModal";var M=o.default.connectStores([f.default,c.default,p.default,y.default],function(e){var t=e.applicationId,n=e.branchId,r=p.default.getTargetBuildId(t,n);return{application:c.default.getGame(t),defaultInstallationPath:f.default.defaultInstallationPath,buildId:r,manifestIds:p.default.getTargetManifests(t,n),buildSizeKB:null!=r?p.default.getBuildSize(r):null,hasPreviouslyAcceptedStoreTerms:y.default.hasAcceptedStoreTerms}})(C);t.default=M},6033:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(55)),a=i(n(757)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.createFromServer=function(e){return Object.values(o.PromotionTypes).includes(e.data.type)?new r({id:e.promotion_id,title:e.data.title,description:e.data.description,ctaButtonLabel:e.data.type===o.PromotionTypes.GENERAL?e.data.cta_button_label:null,imageUrl:e.data.image_url,videoUrl:e.data.video_url,ackKey:e.impression_ack_key,destination:e.data.type===o.PromotionTypes.GAME?{type:o.PromotionTypes.GAME,sku:a.default.createFromServer(e.data.sku)}:{type:o.PromotionTypes.GENERAL,linkUrl:e.data.link_url}}):null},r.prototype.initialize=function(e){this.id=e.id,this.title=e.title,this.description=e.description,this.ctaButtonLabel=e.ctaButtonLabel,this.imageUrl=e.imageUrl,this.videoUrl=e.videoUrl,this.ackKey=e.ackKey,this.destination=e.destination},r}(r.default);t.default=l},6034:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=v(n(15)),i=v(n(4)),l=n(107),u=n(752),s=n(241),d=v(n(223)),c=v(n(184)),f=v(n(5777)),p=n(1),y=v(n(5141));function v(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={playingVideo:!1},t.handlePlay=function(){t.setState({playingVideo:!0});var e=t.props.onVideoPlay;e&&e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.getBackgroundURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,s.getSizedImageSrc)(n.proxy_url,600,210,"png"):t.getSplashURL(600)},v.getSubtitle=function(){var e=this.props.news,t=null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null,n=e.author;return null!=t&&null!=n?t+"  "+n.name:null!=n?n.name:null!=t?t:void 0},v.renderBase=function(e){var t=this.props,n=t.news,r=n.title,i=n.description,l=t.backgroundClassname,u=this.getBackgroundURL(),s=this.getSubtitle();return m(a.Fragment,{},void 0,m("div",{className:(0,o.default)(l,y.default.background,null!=u?y.default.splash:y.default.splashBackup),style:null!=u?{backgroundImage:"url("+u+")"}:null}),m("div",{className:y.default.body},void 0,m("div",{className:y.default.title},void 0,r),e&&null!=i?m("div",{className:y.default.description},void 0,i):null,null!=s?m("div",{className:y.default.subtitle},void 0,s):null))},v.renderArticle=function(){var e,t=this.props,n=t.news,r=t.className,i=(t.backgroundClassname,t.game,t.onVideoPlay,_(t,["news","className","backgroundClassname","game","onVideoPlay"]));return a.createElement(d.default,h({},i,{href:n.url,className:(0,o.default)(y.default.newsLink,(e={},e[y.default.fixedHeight]=null!=this.getBackgroundURL(),e),r)}),this.renderBase(!0))},v.renderVideo=function(){var e=this.props,t=e.news,n=e.className,r=e.onClick;e.game,_(e,["news","className","onClick","game"]);if(this.state.playingVideo&&null!=t.video){var a=(0,l.parse)(t.video.url,!0);return a.query=h({},a.query,{autoplay:1}),m(c.default,{onClick:r,className:(0,o.default)(y.default.newsPlayingVideo,n)},void 0,m("iframe",{src:(0,l.format)(a),frameBorder:0,allowFullScreen:!0,className:y.default.video}))}return m(c.default,{onClick:r,className:(0,o.default)(y.default.news,y.default.fixedHeight,n)},void 0,this.renderBase(!1),m("div",{className:y.default.videoControls},void 0,m(f.default,{externalURL:t.url,onPlay:this.handlePlay})))},v.render=function(){switch(this.props.news.type){case p.EmbedTypes.VIDEO:return this.renderVideo();default:case p.EmbedTypes.ARTICLE:return this.renderArticle()}},r}(a.Component);t.default=g,g.displayName="ActivityFeedCardNews"},6035:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(3)),i=n(287),l=p(n(162)),u=p(n(92)),s=p(n(201)),d=p(n(12)),c=p(n(5717)),f=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props,n=e.libraryApplication,r=e.application,a=e.installPath,o=n.getBranchedName(r);s.default.createShortcuts(!0,!1,o,n.id,a),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return null!=this.props.installPath&&d.default.isDesktop()?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_CREATE_DESKTOP_SHORTCUT,action:this.handleAction}):null},a}(a.PureComponent);y.displayName="ApplicationCreateDesktopShortcut";var v=o.default.connectStores([u.default,l.default],function(e){var t,n=e.libraryApplication,r=l.default.getState(n.id,n.branchId);return null!=r&&(t=r.installPath),{installPath:t}})(y);t.default=v},6036:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(3)),i=n(287),l=n(191),u=y(n(43)),s=n(750),d=y(n(5721)),c=y(n(5717)),f=y(n(5738)),p=y(n(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderItems=function(){var e=t.props,n=e.libraryApplication,r=e.application,o=r.primarySkuId;return v(a.Fragment,{},void 0,v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_APPLICATION_ID,action:function(){return t.handleCopy(r.id)}}),null==n||n instanceof l.LocalApplicationRecord?null:v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_BRANCH_ID,action:function(){return t.handleCopy(n.branchId)}}),null!=o?v(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_SKU_ID,action:function(){return t.handleCopy(o)}}):null)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleCopy=function(e){(0,s.copy)(e),(0,i.closeContextMenu)()},o.render=function(){var e=this,t=this.props,n=t.developerMode,r=t.application;return!__OVERLAY__&&n&&s.SUPPORTS_COPY?v(d.default,{},void 0,v(f.default,{label:p.default.Messages.COPY,render:this.renderItems,action:function(){return e.handleCopy(r.id)}})):null},r}(a.PureComponent);h.displayName="ApplicationDeveloperModeGroup";var _=o.default.connectStores([u.default],function(){return{developerMode:u.default.developerMode}})(h);t.default=_},6037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=h(n(3)),i=n(287),l=h(n(297)),u=h(n(162)),s=h(n(36)),d=h(n(92)),c=h(n(62)),f=n(301),p=_(n(5728)),y=h(n(5717)),v=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props,n=e.libraryApplication,r=e.isLaunchable,a=e.analyticsLocation;r&&p.playApplication(n.id,n,{analyticsParams:{location:a}}),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return!this.props.isLaunchable||this.props.isRunning?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(y.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,action:this.handleAction})},a}(a.PureComponent);m.displayName="ApplicationLaunchItem";var g=o.default.connectStores([s.default,u.default,d.default,c.default,l.default],function(e){var t=e.libraryApplication;return{isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),isLaunchable:(0,f.isLaunchable)(d.default,s.default,u.default,l.default,t.id,t.branchId)}})(m);t.default=g},6038:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(3)),i=n(287),l=f(n(300)),u=c(n(162)),s=c(n(92)),d=c(n(5717));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(e,n){var r=t.props,a=r.libraryApplication,o=r.onPlay,u=r.activeLaunchOptionId;n.id!==u&&l.setActiveLaunchOptionId(a.id,a.branchId,n.id),o&&o(e),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this,t=this.props.launchOptions;return t.length<2?null:t.map(function(t){var n=t.id,a=t.name;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(n){return e.handleAction(n,t)}},n)})},a}(a.PureComponent);p.displayName="ApplicationLaunchOptionSelectorItem";var y=o.default.connectStores([s.default,u.default],function(e){var t=e.libraryApplication;return{launchOptions:u.default.getLaunchOptions(t.id,t.branchId),activeLaunchOptionId:s.default.getActiveLaunchOptionId(t.id,t.branchId)}})(p);t.default=y},6039:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(0)),o=y(n(3)),i=n(287),l=y(n(162)),u=y(n(92)),s=y(n(62)),d=v(n(5728)),c=y(n(5717)),f=n(1),p=y(n(8));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props.libraryApplication;d.repairApplication(e.id,e.branchId,f.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.isUpToDate,n=e.isRunning,a=e.shouldPatch;return t&&!n&&a?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_REPAIR,action:this.handleAction}):null},a}(a.PureComponent);h.displayName="ApplicationRepairItem";var _=o.default.connectStores([l.default,u.default,s.default],function(e){var t=e.libraryApplication;return{isRunning:s.default.getRunningVerifiedApplicationIds().includes(t.id),isUpToDate:l.default.isUpToDate(t.id,t.branchId),shouldPatch:l.default.shouldPatch(t.id,t.branchId)}})(h);t.default=_},6040:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),i=n(287),l=f(n(186)),u=n(5867),s=n(750),d=f(n(5717)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props.sku;if(null==e)throw new Error("SKU null in ApplicationStoreCopyLinkItem");(0,s.copy)((0,u.getStoreListingLink)(e)),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return null==this.props.sku||__OVERLAY__||!s.SUPPORTS_COPY?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.APPLICATION_CONTEXT_MENU_COPY_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);p.displayName="ApplicationStoreLinkItem";var y=o.default.connectStores([l.default],function(e){var t=e.application.primarySkuId;return{sku:null!=t?l.default.get(t):null}})(p);t.default=y},6041:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(287),i=n(755),l=s(n(5717)),u=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props,n=e.application,r=e.analyticsLocation;(0,i.goToApplicationStoreListing)(n.id,{analyticsSource:r,slug:n.slug}),(0,o.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return null==this.props.application.primarySkuId?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);d.displayName="ApplicationStoreLinkItem";var c=d;t.default=c},6042:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(0)),o=d(n(3)),i=c(n(5771)),l=d(n(404)),u=d(n(5722)),s=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=function(){var e=t.props,n=e.application;e.isFollowing?i.removeGamesFromFeed([n.id]):i.addGamesToFeed([n.id])},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.isFollowing;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:e})},a}(a.PureComponent);f.displayName="ApplicationShowInActivityFeedItem";var p=o.default.connectStores([l.default],function(e){var t=e.application;return{isFollowing:l.default.applicationIsOnFeed(t.id)}})(f);t.default=p},6043:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(0)),o=E(n(3)),i=n(287),l=I(n(300)),u=E(n(76)),s=I(n(781)),d=n(191),c=E(n(162)),f=E(n(36)),p=E(n(92)),y=E(n(230)),v=E(n(135)),h=E(n(18)),_=n(143),m=E(n(5717)),g=E(n(399)),O=n(1),A=E(n(8));function E(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props,n=e.libraryApplication,r=e.application,a=e.shouldShowConfirmationModal;null!=n&&null!=r&&(n.isHidden()||!a?t.toggleHidden(n):t.openRemoveConfirmationModal(n,r),(0,i.closeContextMenu)())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.track=function(e){var t=this.props.libraryApplication;h.default.track(O.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:e},t.getAnalyticsData()))},o.openRemoveConfirmationModal=function(e,t){var n=this;u.default.push(function(r){return a.createElement(g.default,T({header:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_HEADER,confirmText:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_CONFIRM,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return n.removeFromLibrary(e)},red:!1},r),S(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_BODY.format({name:t.name})))})},o.removeFromLibrary=function(e){this.props.isInstalled||this.toggleHidden(e)},o.toggleHidden=function(e){var t=(0,_.toggleFlag)(e.getFlags(),O.LibraryApplicationFlags.HIDDEN);e instanceof d.LocalApplicationRecord?s.updateFlags(e.id,t):e instanceof d.LibraryApplicationRecord&&l.updateFlags(e.id,e.branchId,t),this.track((0,_.hasFlag)(t,O.LibraryApplicationFlags.HIDDEN))},o.render=function(){var e=this.props,t=e.isInstalled,n=e.libraryApplication;return t&&!n.isHidden()?null:S(m.default,{label:n.isHidden()?A.default.Messages.APPLICATION_CONTEXT_MENU_SHOW:A.default.Messages.APPLICATION_CONTEXT_MENU_HIDE,action:this.handleAction})},r}(a.PureComponent);b.displayName="ApplicationToggleInLibraryItem";var P=o.default.connectStores([p.default,c.default,y.default,f.default],function(e){var t=e.libraryApplication;return{isInstalled:c.default.isInstalled(t.id,t.branchId),shouldShowConfirmationModal:!p.default.hasRemovedLibraryApplicationThisSession}})(b);t.default=P},6044:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(0)),o=h(n(3)),i=n(287),l=_(n(303)),u=h(n(162)),s=h(n(92)),d=h(n(62)),c=h(n(411)),f=_(n(5728)),p=h(n(5717)),y=n(1),v=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInstall=function(){var e=t.props.libraryApplication;f.installApplication(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t.handleUninstall=function(){var e=t.props.libraryApplication;l.uninstallBranchPrompt(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.isInstalled,n=e.targetManifests,r=e.isRunning;return t?r?null:m(p.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_UNINSTALL,action:this.handleUninstall}):null==n?null:m(p.default,{label:v.default.Messages.APPLICATION_CONTEXT_MENU_INSTALL,action:this.handleInstall})},r}(a.PureComponent);g.displayName="ApplicationToggleInstallItem";var O=o.default.connectStores([u.default,c.default,s.default,d.default],function(e){var t=e.libraryApplication;return{isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),isInstalled:u.default.isInstalled(t.id,t.branchId),targetManifests:c.default.getTargetManifests(t.id,t.branchId)}})(g);t.default=O},6045:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=y(n(300)),i=y(n(781)),l=n(191),u=p(n(18)),s=n(143),d=p(n(5722)),c=n(1),f=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var n=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.OVERLAY_DISABLED);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,n):o.updateFlags(e.id,e.branchId,n),t.track((0,s.hasFlag)(n,c.LibraryApplicationFlags.OVERLAY_DISABLED))}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,v({overlay_disabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_TOGGLE_OVERLAY_DISABLE,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.OVERLAY_DISABLED)})},a}(a.PureComponent);h.displayName="ApplicationToggleOverlayItem";var _=h;t.default=_},6046:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(0)),o=y(n(300)),i=y(n(781)),l=n(191),u=p(n(18)),s=n(143),d=p(n(5722)),c=n(1),f=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var n=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.PRIVATE);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,n):o.updateFlags(e.id,e.branchId,n),t.track((0,s.hasFlag)(n,c.LibraryApplicationFlags.PRIVATE))}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,v({private_enabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_PRIVATE_STATUS,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.PRIVATE)})},a}(a.PureComponent);h.displayName="ApplicationTogglePrivateItem";var _=h;t.default=_},6047:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),i=n(287),l=n(817),u=f(n(44)),s=f(n(5717)),d=n(1),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAction=function(){var e=t.props.application;(0,l.openModal)(e.id,d.CURRENT_APP_CONTEXT,e.name),(0,i.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.hasMediaEngineContext?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:c.default.Messages.IN_GAME_VOICE_SETTINGS,action:this.handleAction}):null},a}(a.PureComponent);p.displayName="ApplicationVoiceSettingsItem";var y=o.default.connectStores([u.default],function(e){var t=e.application;return{hasMediaEngineContext:u.default.hasContext(t.id)}})(p);t.default=y},6048:function(e,t,n){e.exports=n.p+"6a0d045ec452de05f71ee63fece2327f.svg"},6049:function(e,t,n){e.exports=n.p+"5917566c2502226aa777df2eadbb19e6.svg"},6050:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=g(n(15)),i=g(n(763)),l=g(n(830)),u=n(225),s=n(187),d=g(n(91)),c=g(n(134)),f=g(n(222)),p=g(n(135)),y=g(n(5862)),v=g(n(394)),h=n(1),_=g(n(8)),m=g(n(5151));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinRequest=function(){var e=t.props,n=e.activity,r=e.onJoinRequest,a=e.user;null!=n&&r&&r(n,a.id)},t.handleSpectate=function(){var e=t.props,n=e.activity,r=e.onSpectate,a=e.user;null!=n&&r&&r(n,a.id)},t.handleNotify=function(){var e=t.props,n=e.activity,r=e.onNotify,a=e.user;null!=n&&r&&r(n,a.id)},t.handleWatchStream=function(){var e=t.props.onWatchStream;e&&e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,g,I,S=r.prototype;return S.getTypeClass=function(e){return(0,s.getClass)(m.default,e,this.props.type)},S.isListeningActivity=function(){var e=this.props.activity;return null!=e&&e.type===h.ActivityTypes.LISTENING},S.processActions=function(e){var t=this.props,n=t.showPrimaryActionOnly,r=t.reverse;return n?e.find(function(e){return null!=e})||null:r?[].concat(e).reverse():e},S.renderBuyButton=function(){var e=this.props,t=e.color,n=e.look,r=e.hover,a=e.onViewInStore;return A(d.default,{className:m.default.button,color:t,look:n,hover:r,size:m.default.buttonSize,onClick:a},"buy",_.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},S.renderJoinRequest=function(){var e=this.props,t=e.activity,n=e.hasActiveJoinRequest,r=e.isBrowser,a=e.isLaunchable,o=e.color,i=e.look,l=e.hover;if(null==t||!(0,u.hasFlag)(t,h.ActivityFlags.JOIN)||null==t.application_id)return null;var s=!this.isCurrentUser&&(r||a)&&!n,c=null;return this.isCurrentUser?c=_.default.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:r||a||(c=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name})),A(v.default,{text:c},"join-request",A(d.default,{className:m.default.button,onClick:this.handleJoinRequest,color:o,look:i,hover:l,disabled:!s,size:m.default.buttonSize,fullWidth:!0},void 0,_.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN))},S.renderSpectate=function(){var e=this.props,t=e.activity,n=e.spectateState,r=e.isBrowser,a=e.isLaunchable,o=e.color,i=e.look,l=e.applicationStream;if(null==t||!(0,u.hasFlag)(t,h.ActivityFlags.SPECTATE)||null==t.application_id||null!=l)return null;var s=n===h.ActivityActionStates.FAILED,f=n===h.ActivityActionStates.LOADING,y=!this.isCurrentUser&&(r||a),g=null;this.isCurrentUser?g=_.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:r||a||(g=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name}));var O=A(v.default,{text:g},"spectate",A(d.default,{className:m.default.button,onClick:this.handleSpectate,submitting:f,disabled:!y,color:o,look:i,size:m.default.buttonSize,fullWidth:!0},void 0,_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE));return s?A(c.default,{direction:c.default.Direction.VERTICAL},void 0,O,A(p.default,{color:p.default.Colors.RED,className:m.default.actionError},void 0,_.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH)):O},S.renderNotify=function(){return(0,u.hasFlag)(this.props.activity,h.ActivityFlags.INSTANCE)?A(d.default,{className:m.default.button,look:d.default.Looks.OUTLINED,size:m.default.buttonSize,onClick:this.handleNotify,fullWidth:!0},"notify",_.default.Messages.USER_ACTIVITY_ACTION_NOTIFY_ME):null},S.renderSync=function(){var e=this.props,t=e.activity,n=e.color,r=e.look,a=e.user,o=e.renderSpotifySyncButton;if(!(0,u.hasFlag)(t,h.ActivityFlags.SYNC))return null;var i={key:"sync",className:m.default.button,size:m.default.buttonSize,color:n,look:r};return(0,u.isListeningOnSpotify)(t)?o(O({},i,{activity:t,user:a})):null},S.renderXboxConnectButton=function(){var e=this.props,t=e.color,n=e.look,r=e.hasXboxAccount,a=e.type,o=e.renderXboxButton;return r||a===y.default.Types.ACTIVITY_FEED?null:A(c.default,{grow:0,className:this.getTypeClass("actions")},void 0,o({className:m.default.button,size:m.default.buttonSize,color:t,look:n,fullWidth:!0}))},S.renderPlay=function(){var e=this.props,t=e.activity,n=e.user,r=e.color,a=e.look,o=e.renderSpotifyPlayButton;if(!(0,u.hasFlag)(t,h.ActivityFlags.PLAY))return null;var i={key:"play",className:m.default.button,size:m.default.buttonSize,color:r,look:a};return(0,u.isListeningOnSpotify)(t)?o(O({},i,{activity:t,user:n,fullWidth:!0})):null},S.renderWatch=function(){var e=this.props,t=e.activity,n=e.color,r=e.look,a=e.applicationStream,o=e.isWatchingStream,i=e.isStreamWatchable,l=null!=a;if(!(0,u.isStreaming)(t)&&!l)return null;var s=_.default.Messages.WATCH;return l&&(s=_.default.Messages.WATCH_STREAM,this.isCurrentUser?s=_.default.Messages.WATCH_STREAM_STREAMING:o&&(s=_.default.Messages.WATCH_STREAM_WATCHING)),A(d.default,{className:m.default.button,disabled:l&&(this.isCurrentUser||o||!i),size:m.default.buttonSize,onClick:l?this.handleWatchStream:function(){return window.open((0,u.getStreamURL)(t))},color:n,look:r,fullWidth:!0},"play",A(c.default,{align:c.default.Align.CENTER},void 0,l?A(f.default,{name:f.default.Names.STREAM,className:m.default.streamIcon}):null,s))},S.renderJoinVoice=function(){var e=this.props,t=e.activity,n=e.color,r=e.look,a=e.selectedVoiceChannelId,o=e.onJoinVoice,u=(0,i.default)(t),s=(0,l.default)(t);return null==u||null==s?null:A(d.default,{className:m.default.button,disabled:u===a,size:m.default.buttonSize,onClick:function(){return o(s,u)},color:n,look:r,fullWidth:!0},"play",A(c.default,{align:c.default.Align.CENTER},void 0,A(f.default,{name:f.default.Names.SPEAKER,className:m.default.streamIcon}),_.default.Messages.JOIN_VOICE))},S.render=function(){var e=this.props,t=e.activity,n=e.type,r=e.isLaunchable,a=e.showBuyChatXGame,i=e.canBuyChatXGame,l=e.applicationStream;if((0,u.isOnXbox)(t))return this.renderXboxConnectButton();var s,d=n===y.default.Types.PROFILE,f=d?c.default.Align.END:c.default.Align.STRETCH,p=d?c.default.Direction.VERTICAL:c.default.Direction.HORIZONTAL;if(this.isListeningActivity()&&null==l){var v=this.renderSync(),h=this.renderPlay();return A(c.default,{grow:0,align:f,className:this.getTypeClass("listeningActions")},void 0,h,v)}if(!r&&a&&i)s=[this.renderBuyButton()];else{var _=this.renderJoinRequest(),m=this.renderSpectate(),g=this.renderNotify(),O=this.renderWatch(),E=this.renderJoinVoice();if(null==_&&null==m&&null==g&&null==O&&null==E)return null;s=[_,m,g,O,E]}return A(c.default,{grow:0,align:f,direction:p,className:(0,o.default)(this.props.className,this.getTypeClass("actions"))},void 0,this.processActions(s))},a=r,(g=[{key:"isCurrentUser",get:function(){var e=this.props,t=e.user,n=e.currentUser;return t.id===n.id}}])&&E(a.prototype,g),I&&E(a,I),r}(a.PureComponent);I.displayName="UserActivityActions",I.defaultProps={color:d.default.Colors.WHITE,look:d.default.Looks.OUTLINED,showPrimaryActionOnly:!1,isStreamWatchable:!0,reverse:!1};var S=I;t.default=S},6051:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(91)),i=c(n(134)),l=c(n(222)),u=c(n(394)),s=f(n(5785)),d=c(n(5107));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.activity,n=e.user,r=e.channelId,c=e.guildId,f=e.source,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["activity","user","channelId","guildId","source"]);return y(s.default,{activity:t,user:n,channelId:r,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_PLAY},void 0,function(e){var t=e.tooltip,n=e.disabled,r=e.loading,s=e.label,c=e.onClick;return y(u.default,{text:t},void 0,a.createElement(o.default,p({},v,{onClick:c,disabled:n,submitting:r}),y(i.default,{align:i.default.Align.CENTER},void 0,y(l.default,{name:l.default.Names.PLATFORM_SPOTIFY,className:d.default.spotifyButtonLogo}),s)))})};v.displayName="SpotifyPlayButton";var h=v;t.default=h},6052:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=y(n(76)),i=n(418),l=y(n(91)),u=y(n(134)),s=y(n(135)),d=y(n(185)),c=y(n(104)),f=y(n(8)),p=y(n(5152));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCancel=function(){o.default.pop()},t.handleUpgrade=function(){(0,i.openPremiumSite)(),o.default.pop()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return v(d.default,{size:d.default.Sizes.SMALL},void 0,v(d.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_HEADER)),v(d.default.Content,{},void 0,v(u.default,{justify:u.default.Justify.CENTER},void 0,v("div",{className:p.default.image})),v(s.default,{color:s.default.Colors.PRIMARY,className:p.default.text},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BODY)),v(d.default.Footer,{},void 0,v(l.default,{onClick:this.handleUpgrade},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BUTTON),v(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleCancel},void 0,f.default.Messages.CANCEL)))},r}(a.PureComponent);h.displayName="SpotifyPremiumUpgrade";var _=h;t.default=_},6053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(15)),i=c(n(91)),l=c(n(222)),u=c(n(394)),s=f(n(5785)),d=c(n(5107));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.activity,n=e.user,r=e.channelId,c=e.guildId,f=e.source,v=e.size,h=e.className,_=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["activity","user","channelId","guildId","source","size","className"]);return y(s.default,{activity:t,user:n,channelId:r,guildId:c,source:f,type:s.SpotifyActionTypes.USER_ACTIVITY_SYNC},void 0,function(e){var n=e.tooltip,r=e.disabled,s=e.loading,c=e.onClick;return y(u.default,{text:n},void 0,a.createElement(i.default,p({},_,{size:(0,o.default)(v,d.default.iconButtonSize),className:(0,o.default)(h,d.default.iconButton),onClick:c,disabled:r,submitting:s,"aria-label":n||t.name}),y(l.default,{name:l.default.Names.PERSON_PLAY,className:d.default.listenAlongIcon})))})};v.displayName="SpotifySyncButton";var h=v;t.default=h},6054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(742)),i=p(n(163)),l=p(n(91)),u=p(n(134)),s=p(n(222)),d=n(1),c=p(n(8)),f=p(n(5154));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=i.default.get(d.PlatformTypes.XBOX).name,h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props.onOpenConnections;e&&e(),o.default.open(d.UserSettingsSections.CONNECTIONS)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.className;return y(l.default,{className:e,onClick:this.handleClick},void 0,y(u.default,{align:u.default.Align.CENTER},void 0,y(s.default,{name:s.default.Names.PLATFORM_XBOX,className:f.default.xboxButtonLogo}),c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:v})))},r}(a.Component);t.default=h,h.displayName="XboxButton"},6055:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=d(n(15)),i=d(n(91)),l=d(n(185)),u=d(n(104)),s=d(n(5155));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,n;function r(t){var n;return f(n=e.call(this,t)||this).handleCancel=n.handleCancel.bind(f(n)),f(n).handleConfirm=n.handleConfirm.bind(f(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCancel=function(){var e=this.props.cancelText;return null==e?null:c(i.default,{look:i.default.Looks.LINK,onClick:this.handleCancel},void 0,e)},a.renderConfirm=function(){var e=this.props.confirmText;return null==e?null:c(i.default,{onClick:this.handleConfirm},void 0,e)},a.render=function(){var e=this.props,t=e.title,n=e.imageClass,r=e.body;return c(l.default,{},void 0,c(l.default.Header,{},void 0,c(u.default,{tag:u.default.Tags.H4},void 0,t)),c(l.default.Content,{},void 0,n&&c("div",{className:(0,o.default)(s.default.image,n)}),c("div",{className:s.default.body},void 0,r)),c(l.default.Footer,{},void 0,this.renderConfirm(),this.renderCancel()))},a.handleCancel=function(){var e=this.props,t=e.onCancel,n=e.onClose;n&&n(),t&&t()},a.handleConfirm=function(){var e=this.props,t=e.onConfirm,n=e.onClose;n&&n(),t&&t()},r}(a.PureComponent);p.displayName="ActionableError";var y=p;t.default=y},6056:function(e,t,n){e.exports=n.p+"c613a8513d53c5b2a4d5941419100a11.svg"},6057:function(e,t,n){e.exports=n.p+"14ce1e8528e32f1a13659e476a3c0716.svg"},6058:function(e,t,n){e.exports=n.p+"69599bf4774238ea687b769da6a9595e.svg"},6059:function(e,t,n){e.exports=n.p+"006ca0d19c6267812c15ff9611d4e6d5.svg"},6060:function(e,t,n){e.exports=n.p+"b3bbdcadbdb67b466e9330da22ed0221.svg"},6061:function(e,t,n){e.exports=n.p+"273ec1aee7edca70e8038dfcb26436b1.svg"},6062:function(e,t,n){e.exports=n.p+"5947547ef2316bb7db5650751f2ccb2f.svg"},6063:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(287),i=d(n(743)),l=d(n(780)),u=d(n(5717)),s=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewProfile=function(){l.default.open(t.props.userId,t.props.guildId),i.default.close(),(0,o.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.PROFILE,action:this.handleViewProfile})},a}(a.PureComponent);c.displayName="UserProfileItem";var f=c;t.default=f},6064:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=c(n(397)),i=n(287),l=c(n(20)),u=c(n(14)),s=c(n(5717)),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.userId,n=e.channelId,c=(0,a.useStateFromStores)([u.default],function(){return u.default.getCurrentUser()},[]),f=(0,a.useStateFromStores)([l.default],function(){return l.default.getChannel(n)},[n]);return null==f||f.isOwner(t)||!f.isOwner(c.id)?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.REMOVE_FROM_GROUP,action:function(){o.default.removeRecipient(n,t),(0,i.closeContextMenu)()},danger:!0})};f.displayName="UserRemoveFromGroupItem";var p=f;t.default=p},6065:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=f(n(6)),o=n(3),i=f(n(310)),l=n(287),u=f(n(10)),s=f(n(762)),d=f(n(5717)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.userId,n=e.channelId,r=(0,o.useStateFromStores)([u.default],function(){return u.default.getId()===t},[t]),f=(0,o.useStateFromStores)([s.default],function(){return s.default.getParticipants(n)},[n]);if(r||!f||!f.length)return null;var y=a.default.find(f,function(e){return e.user.id===t});return null==y?p(d.default,{label:c.default.Messages.RING,action:function(){(0,l.closeContextMenu)(),i.default.ring(n,[t])}}):y.ringing?p(d.default,{label:c.default.Messages.STOP_RINGING,action:function(){(0,l.closeContextMenu)(),i.default.stopRinging(n,[t])}}):null};t.default=y},6066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=g(n(6)),o=n(3),i=g(n(190)),l=g(n(5725)),u=g(n(77)),s=g(n(24)),d=g(n(136)),c=g(n(14)),f=g(n(106)),p=g(n(5721)),y=g(n(5717)),v=g(n(5738)),h=g(n(5722)),_=n(1),m=g(n(8));function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(e){var t=e.userId,n=e.guildId,r=e.invertChildY,g=void 0!==r&&r,A=(0,o.useStateFromStores)([s.default,d.default],function(){return s.default.getGuild(n)},[n]),E=(0,o.useStateFromStores)([u.default],function(){var e=u.default.getMember(n,t);return{userRoles:e?e.roles:null,isGuildMember:!!e,canManageRoles:null!=A&&d.default.can(_.Permissions.MANAGE_ROLES,A)}},[t,n],i.default),I=E.userRoles,S=E.isGuildMember,T=E.canManageRoles;if(__OVERLAY__)return null;if(null==I||null==A)return null;var b=I&&I.length,P=c.default.getCurrentUser(),N=null;if(S&&(b&&b>0||T)){var C=f.default.getHighestRole(A,P.id),M=(0,a.default)(A.roles).filter(function(e){return e.id!==A.id&&(T||-1!==I.indexOf(e.id))}).map(function(e){if(T){var r=e.managed||!f.default.isRoleHigher(A,P.id,C,e),a=-1!==I.indexOf(e.id);return r&&!a?null:O(h.default,{label:e.name,disabled:r,styles:{color:e.colorString},boxStyles:{background:e.colorString},action:function(){return function(e){if(null!=I){var r=I;r=-1===r.indexOf(e.id)?r.concat([e.id]):r.filter(function(t){return t!==e.id}),l.default.updateMemberRoles(n,t,r)}}(e)},active:a},e.id)}return O(y.default,{styles:{color:e.colorString},label:e.name},e.id)}).value();M.length&&(N=O(p.default,{},void 0,O(v.default,{label:m.default.Messages.ROLES_LIST.format({numRoles:3}),render:M,invertChildY:g})))}return N};t.default=A},6067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(0));var r,a=n(3),o=s(n(93)),i=n(225),l=s(n(5717)),u=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.userId,n=(0,a.useStateFromStores)([o.default],function(){return(0,i.getStreamURL)(o.default.getPrimaryActivity(t))},[t]);if(null==n)return null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.WATCH_STREAM,action:function(){window.open(n,"_blank")}})};d.displayName="UserStreamItem";var c=d;t.default=c},6068:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(0)),o=c(n(3)),i=f(n(5771)),l=c(n(404)),u=c(n(14)),s=c(n(5722)),d=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=function(){var e=t.props,n=e.user;e.isFollowing?i.removeMembersFromFeed([n.id]):i.addMembersToFeed([n.id])},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.user,n=e.isFollowing,a=e.isCurrentUser;return t.bot||a?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:n})},a}(a.PureComponent);p.displayName="UserToggleFeedVisibilityItem";var y=o.default.connectStores([l.default],function(e){var t=e.user;return{isFollowing:l.default.isOnFeed(t.id),isCurrentUser:u.default.getCurrentUser().id===t.id}})(p);t.default=y},6069:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=p(n(3)),i=n(287),l=p(n(76)),u=p(n(24)),s=p(n(14)),d=p(n(5717)),c=p(n(6070)),f=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function o(t){var n;return v(n=e.call(this,t)||this).handleTransferOwnership=n.handleTransferOwnership.bind(v(n)),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=o.prototype;return u.render=function(){var e=this.props,t=e.guild,n=e.currentUser,a=e.user;return null==t||null==n||a.id===t.ownerId||a.bot||!t.isOwnerWithRequiredMfaLevel(n)?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{danger:!0,label:f.default.Messages.TRANSFER_OWNERSHIP,action:this.handleTransferOwnership})},u.handleTransferOwnership=function(){var e=this.props,t=e.guild,n=e.currentUser,r=e.user;l.default.push(function(e){return a.createElement(c.default,y({},e,{guild:t,fromUser:n,toUser:r}))}),(0,i.closeContextMenu)()},o}(a.PureComponent);h.displayName="UserTransferOwnershipItem";var _=o.default.connectStores([u.default,s.default],function(e){var t=e.guildId;return{currentUser:s.default.getCurrentUser(),guild:u.default.getGuild(t)}})(h);t.default=_},6070:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=_(n(5725)),i=n(745),l=_(n(76)),u=_(n(91)),s=_(n(134)),d=_(n(5726)),c=_(n(185)),f=_(n(396)),p=_(n(104)),y=_(n(5734)),v=_(n(8)),h=_(n(5160));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){var t,n;function r(t){var n;return g(n=e.call(this,t)||this).handleTransfer=n.handleTransfer.bind(g(n)),g(n).handleAcknowledged=n.handleAcknowledged.bind(g(n)),n.state={acknowledged:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleTransfer=function(e){e.preventDefault(),l.default.pop(),o.default.transferOwnership(this.props.guild.id,this.props.toUser.id).then(function(){return(0,i.popLayer)()}).catch(function(){})},a.handleAcknowledged=function(e){e.currentTarget.checked?this.setState({acknowledged:!0}):this.setState({acknowledged:!1})},a.render=function(){var e=this.props,t=e.fromUser,n=e.toUser,r=e.onClose,a=this.state.acknowledged;return m(c.default,{tag:"form",onSubmit:this.handleTransfer},void 0,m(c.default.Header,{},void 0,m(p.default,{tag:p.default.Tags.H4},void 0,v.default.Messages.TRANSFER_OWNERSHIP,"",this.props.toUser.toString())),m(c.default.Content,{},void 0,m(s.default,{className:h.default.fromToWrapper,justify:s.default.Justify.CENTER},void 0,m("div",{className:h.default.from},void 0,m(y.default,{user:t,size:"xxlarge"})),m("div",{className:h.default.to},void 0,m(y.default,{user:n,size:"xxlarge"}))),m(d.default,{hideBorder:!0,value:a,onChange:this.handleAcknowledged},void 0,m(f.default,{type:f.default.Types.DESCRIPTION},void 0,v.default.Messages.TRANSFER_OWNERSHIP_ACKNOWLEDGE.format({username:n.toString()})))),m(c.default.Footer,{},void 0,m(u.default,{type:"submit",disabled:!a,color:u.default.Colors.RED},void 0,v.default.Messages.TRANSFER_OWNERSHIP),m(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:r},void 0,v.default.Messages.CANCEL)))},r}(a.PureComponent);O.displayName="TransferOwnership",O.key=function(){return"transfer-ownership-modal"};var A=O;t.default=A},6071:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(3)),i=f(n(5892)),l=f(n(762)),u=f(n(20)),s=f(n(117)),d=f(n(5717)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.render=function(){var e=this,t=this.props,n=t.focused;if(t.hidden)return null;var a=n?c.default.Messages.UNFOCUS_PARTICIPANT:c.default.Messages.FOCUS_PARTICIPANT;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(){return e.handleFocus()}})},o.handleFocus=function(){var e=this.props,t=e.focused,n=e.channelId,r=e.userId;i.default.selectParticipant(n,t?null:r)},a}(a.PureComponent);p.displayName="UserVideoFocusItem";var y=o.default.connectStores([l.default,s.default],function(e){var t=e.channelId,n=e.userId,r=e.guildId,a=l.default.getSelectedParticipantId(t),o=u.default.getChannel(t),i=s.default.isInChannel(r,t,n)&&s.default.hasVideo(r,t);return{hidden:null==o||(o.isDM()||!i),focused:a===n}})(p);t.default=y},6072:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=f(n(228)),i=f(n(44)),l=f(n(14)),u=f(n(12)),s=f(n(5721)),d=f(n(5919)),c=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={me:null!=t.props.me?t.props.me:l.default.getCurrentUser().id===t.props.userId,volume:null!=t.props.volume?t.props.volume:i.default.getLocalVolume(t.props.userId)},t.handleVolumeChange=function(e){t.state.me||o.default.setLocalVolume(t.props.userId,u.default.embedded?2*e:e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=null;if(!this.state.me){var t,n=this.state.volume;u.default.embedded?(t=function(e){return(2*e).toFixed(0)+"%"},n/=2):t=function(e){return e.toFixed(0)+"%"},e=p(d.default,{label:c.default.Messages.USER_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:t,defaultValue:n})}return p(s.default,{},void 0,e)},r}(a.PureComponent);y.displayName="UserVolumeGroup";var v=y;t.default=v},782:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=l(n(15)),i=l(n(813));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"});function c(e){switch(e){case d.LEFT:return i.default.left;case d.RIGHT:return i.default.right;case d.UP:return null;case d.DOWN:return i.default.down;default:throw new Error("Invalid Direction "+e)}}var f=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r,l=e.color,d=void 0===l?"currentColor":l,f=e.direction,p=e.foreground,y=e.className,v=e.title,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","direction","foreground","className","title"]);return a.createElement("svg",u({},h,{width:n,height:i,className:(0,o.default)(y,c(f)),viewBox:"0 0 24 24"}),null!=v?s("title",{},void 0,v):null,s("polygon",{className:p,fill:d,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))};f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},808:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=(r=n(782))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){return a.createElement(o.default,i({},e,{direction:o.default.Directions.UP}))}}}]);
//# sourceMappingURL=bcc15dbc17c16e5180af.js.map