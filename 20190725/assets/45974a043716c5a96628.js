(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{5957:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(7)),o=_(n(3)),a=_(n(23)),u=_(n(7344)),i=_(n(2)),l=n(0),s=_(n(66)),c=_(n(188)),f=_(n(27)),d=_(n(18)),p=_(n(61)),h=_(n(7343)),E=n(6004),y=n(7342);function _(e){return e&&e.__esModule?e:{default:e}}var T=.05,S={},v=!1;function g(e){return null==S[e]&&(S[e]={searchId:e,searchType:m(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),S[e]}function m(e){return f.default.getGuild(e)?l.SearchTypes.GUILD:d.default.getChannel(e)?l.SearchTypes.CHANNEL:null}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var r=S[e];return null==r?n:t(r)}var R="SearchStore",N=!1,I={},O=null;function C(e){var t=e.searchId,n=S[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete S[t]}function M(){var e=c.default.getGuildId(),t=s.default.getChannelId(e),n=e||t;if(n===O)return!1;n&&!S[n]&&g(n),O=n}function P(){(0,E.refreshSearchTokens)()}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,c.default,f.default,d.default);var e,t=a.default.get(R);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),I=e),N=!!a.default.get("tokenized")||!1},t.prototype.isOpen=function(){return v},t.prototype.getCurrentSearchId=function(){return O},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return N},t.prototype.getSearchType=function(e){return A(e||O,function(e){return e.searchType})},t.prototype.getResults=function(e){return A(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=A(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return A(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return A(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return A(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return A(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return A(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return A(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return A(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return A(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return A(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return I[e]},t.prototype.getOffset=function(e){return A(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return A(e,function(e){return e.query})},t.prototype.hasError=function(e){return A(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return A(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return A(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(o.default.Store);t.default=new b(i.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,o=e.query,s=g(n);s.searchFetcher&&(s.searchFetcher.cancel(),s.searchFetcher=null);var c=new u.default(n,s.searchType,o);s.searchFetcher=c,s.isSearching=!0,s.searchResults=null,s.analyticsId=null,s.query=r.default.omit(o,"type"),s.offset=o.offset?o.offset:0,s.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=I[e]=I[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),a.default.set(R,{history:I})}}(n,t),c.fetch(function(e){i.default.dispatch({type:l.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){i.default.dispatch({type:l.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){i.default.dispatch({type:l.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=g(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=g(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<T;var n=t.query;if(n){var o=(0,y.createASTHighlighter)(n.content||""),a=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return h.default.create(e,o)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&a++,!t||e.hit})}).value(),t.resultsBlocked=a}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:C,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&g(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;g(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;g(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return M()},GUILD_SELECT:function(e){return M()},CHANNEL_TOGGLE_SECTION:function(e){return null!=O&&C({searchId:O})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(a.default.remove(R),I={}):(delete I[t],a.default.set(R,{history:I}))},LOGOUT:function(e){return a.default.remove(R),void(I={})},CONNECTION_OPEN:function(e){Object.keys(S).forEach(function(e){null!=S[e]&&(S[e].searchType=m(e))})},SEARCH_MODAL_OPEN:function(e){v=!0},SEARCH_MODAL_CLOSE:function(e){v=!1},USER_SETTINGS_UPDATE:function(e){return P()},I18N_LOAD_SUCCESS:function(e){return P()}}),e.exports=t.default},5959:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));n(218);var i=b(n(9)),l=b(n(3)),s=n(927),c=b(n(921)),f=b(n(18)),d=b(n(66)),p=b(n(6546)),h=b(n(34)),E=b(n(189)),y=b(n(7434)),_=b(n(6009)),T=b(n(7432)),S=b(n(363)),v=b(n(7429)),g=b(n(7345)),m=b(n(26)),A=b(n(58)),R=b(n(44)),N=b(n(112)),I=b(n(217)),O=b(n(5974)),C=b(n(6)),M=n(0),P=b(n(5797));function b(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w="RECENT_MENTIONS_POPOUT",k=t.HeaderBarIcon=function(e){function t(){return L(this,t),D(this,e.apply(this,arguments))}return F(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,r=e.onClick,i=e.foreground,l=e.noMargin,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),c=a(O.default.Icon,{name:t,onClick:r,foreground:i,noMargin:l});return null!=n?u.createElement(N.default,o({text:n,position:N.default.Positions.BOTTOM},s),c):c},t}(u.PureComponent);k.displayName="HeaderBarIcon";var H=l.default.connectStores([p.default],function(){return{state:p.default.getState()}})(function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=D(this,e.call.apply(e,[this].concat(a))),r.state={clicked:!1},r.handleInstallDownload=function(){r.state.clicked||(r.setState({clicked:!0}),y.default.quitAndInstall())},D(r,n)}return F(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,r=void 0;switch(this.props.state){case M.ActionTypes.UPDATE_NOT_AVAILABLE:case M.ActionTypes.UPDATE_ERROR:break;case M.ActionTypes.CHECKING_FOR_UPDATES:e=A.default.Names.UPDATE_AVAILABLE,n=C.default.Messages.CHECKING_FOR_UPDATES;break;case M.ActionTypes.UPDATE_AVAILABLE:e=A.default.Names.DOWNLOADING,n=C.default.Messages.UPDATE_AVAILABLE;break;case M.ActionTypes.UPDATE_MANUALLY:e=A.default.Names.DOWNLOADING,n=C.default.Messages.UPDATE_MANUALLY,r=this.handleDownloadApps;break;case M.ActionTypes.UPDATE_DOWNLOADED:e=A.default.Names.UPDATE,t=P.default.updateIconForeground,n=C.default.Messages.UPDATE_DOWNLOADED,r=this.handleInstallDownload}return null==e||null==n?null:a(k,{tooltip:n,onClick:r,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){h.default.push(S.default,{source:"Links"})},t}(u.PureComponent)),U=a(O.default.Divider,{}),j=a(H,{}),x=function(e){function t(){var n,r;L(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=D(this,e.call.apply(e,[this].concat(i))),r.renderRecentMentionsPopout=function(e){return u.createElement(v.default,o({},e,{onJump:r.handleMentionsJump,channel:f.default.getChannel(d.default.getChannelId()),popoutName:w}))},D(r,n)}return F(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:a(O.default.Title,{className:P.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?a(g.default,{className:P.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.backLocation,r=e.backText;if(null==n)return null;var o=a(R.default.Link,{look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,to:n,className:P.default.back},void 0,a(A.default,{name:A.default.Names.ARROW_LEFT})),u=t?N.default.Positions.BOTTOM:N.default.Positions.RIGHT;return s.isMobile?o:a(N.default,{text:r,position:u},void 0,o)},t.prototype.renderStandardToolbar=function(e){return s.isMobile?null:a(u.Fragment,{},void 0,e?U:null,j,a(I.default,{animationType:I.default.Animations.NONE,uniqueId:w,position:I.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:M.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,a(k,{name:A.default.Names.MENTION,tooltip:C.default.Messages.MENTIONS})),a(k,{name:A.default.Names.QUESTION_MARK,onClick:this.handleHelpToggle,tooltip:C.default.Messages.HELP}))},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return a(O.default,{className:(0,i.default)(P.default.headerBarLoggedOut,n)},void 0,a("div",{className:P.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(m.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,r=e.className,o=null!=n?n():null,i=null!=o&&u.Children.count(o)>0;return a(O.default,{className:r},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(m.default.Child,{},void 0,t):null,a(m.default,{grow:0,shrink:0,align:m.default.Align.CENTER,className:P.default.toolbar},void 0,o,i?this.renderSearch():null,this.renderStandardToolbar(i)))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleHelpToggle=function(){c.default.isModalOpen(T.default)?h.default.pop():h.default.push(T.default)},t.prototype.handleMentionsJump=function(e){e.shiftKey||E.default.close(w)},t}(u.PureComponent);x.defaultProps={isAuthenticated:!0,backText:C.default.Messages.BACK},x.displayName="HeaderBarContainer",t.default=(0,_.default)(function(e,t){var n;return(n={})[M.ComponentActions.TOGGLE_HELP_MODAL]=t.handleHelpToggle,n})(x)},5973:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=d(n(9)),i=d(n(1192)),l=d(n(44)),s=n(262),c=d(s),f=d(n(5795));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._paginationItemRefs=[],r.handleSetScrollerRef=function(e){r._scrollerRef=e},r.handleSelectedIndexChange=function(e){var t=r._scrollerRef;if(null!=t){var n=r._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,r.props.scrollToPadding)}},r.handlePageClick=function(e){(0,r.props.onSetItem)(e)},h(r,n)}return E(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,o=t.vertical,i=t.paginationContainerClass,l=t.gutterStyle,d=o?c.default:s.HorizontalScroller,p=o?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return a.createElement(d,{track:!0,gutterStyle:l,className:(0,u.default)(p,i),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);y.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0}},y.displayName="CarouselPaginationStrip",(t.CarouselPrevious=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,u.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,o(i.default,{className:f.default.arrow,direction:i.default.Directions.LEFT}))},t}(a.PureComponent)).displayName="CarouselPrevious",(t.CarouselNext=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,u.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,o(i.default,{className:f.default.arrow,direction:i.default.Directions.RIGHT}))},t}(a.PureComponent)).displayName="CarouselNext",t.default=y},5974:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(100),s=h(n(26)),c=h(n(77)),f=h(n(58)),d=h(n(69)),p=h(n(5798));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=E(e,["className","children"]);return u.createElement(d.default,a({className:(0,i.default)(p.default.title,t),weight:d.default.Weights.SEMIBOLD},r),n)},t}(u.PureComponent);S.displayName="HeaderBarTitle";var v=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.noMargin,s=t.foreground,d=(t.active,t.disabled),h=t.showBadge,y=t.onClick,_=E(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),T=u.createElement(f.default,a({foreground:null!=s?s:p.default.iconForeground},_,{className:(0,i.default)((0,l.getClass)(p.default,"icon",this.getMode()),n)}));return h?o(c.default,{tag:"span",onClick:d?null:y,className:p.default.iconBadgeWrapper},void 0,T,o("span",{className:p.default.iconBadge})):d?T:o(c.default,{tag:"span",onClick:y,className:(0,i.default)((e={},e[p.default.iconMargin]=!r,e))},void 0,T)},t}(u.PureComponent);v.displayName="HeaderBarIcon";var g=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){return o("div",{className:(0,i.default)(p.default.divider,this.props.className)})},t}(u.PureComponent);g.displayName="HeaderBarDivider";var m=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o(s.default,{align:s.default.Align.CENTER,className:(0,i.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(u.PureComponent);m.Icon=v,m.Title=S,m.Divider=g,m.displayName="HeaderBar",t.default=m,e.exports=t.default},6003:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRandomDateShortcut=function(){return a.default.sample(F())},t.refreshSearchTokens=function(){Object.assign(B,(t=[l.default.Messages.SEARCH_ANSWER_HAS_LINK,l.default.Messages.SEARCH_ANSWER_HAS_EMBED,l.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,l.default.Messages.SEARCH_ANSWER_HAS_VIDEO,l.default.Messages.SEARCH_ANSWER_HAS_IMAGE,l.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[T.SearchTokenTypes.FILTER_FROM]={regex:M(l.default.Messages.SEARCH_FILTER_FROM),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_FROM),validator:j,getAutocompletions:H},e[T.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[T.SearchTokenTypes.FILTER_FROM],regex:x,validator:P,mutable:!0,componentType:G.ANSWER,queryKey:"author_id"},e[T.SearchTokenTypes.FILTER_MENTIONS]={regex:M(l.default.Messages.SEARCH_FILTER_MENTIONS),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_MENTIONS),validator:j,getAutocompletions:H},e[T.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[T.SearchTokenTypes.FILTER_MENTIONS],regex:x,validator:P,mutable:!0,componentType:G.ANSWER,queryKey:"mentions"},e[T.SearchTokenTypes.FILTER_HAS]={regex:M(l.default.Messages.SEARCH_FILTER_HAS),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return k(e,r,t)}},e[T.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return _.default.escape(e)}).join("|")+"))","i"),follows:[T.SearchTokenTypes.FILTER_HAS],validator:D,componentType:G.ANSWER,queryKey:"has"},e[T.SearchTokenTypes.FILTER_FILE_TYPE]={regex:M(l.default.Messages.SEARCH_FILTER_FILE_TYPE),key:C(l.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:G.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[T.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:G.ANSWER,queryKey:"attachment_extensions"},e[T.SearchTokenTypes.FILTER_FILE_NAME]={regex:M(l.default.Messages.SEARCH_FILTER_FILE_NAME),key:C(l.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:G.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[T.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:G.ANSWER,queryKey:"attachment_filename"},e[T.SearchTokenTypes.FILTER_BEFORE]={regex:M(l.default.Messages.SEARCH_FILTER_BEFORE),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return w(e,n,T.SearchTokenTypes.FILTER_BEFORE)}},e[T.SearchTokenTypes.FILTER_ON]={regex:M("("+l.default.Messages.SEARCH_FILTER_ON+"|"+l.default.Messages.SEARCH_FILTER_DURING+")"),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return w(e,n,T.SearchTokenTypes.FILTER_ON)}},e[T.SearchTokenTypes.FILTER_AFTER]={regex:M(l.default.Messages.SEARCH_FILTER_AFTER),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return w(e,n,T.SearchTokenTypes.FILTER_AFTER)}},e[T.SearchTokenTypes.ANSWER_BEFORE]={regex:O,follows:[T.SearchTokenTypes.FILTER_BEFORE],componentType:G.ANSWER,mutable:!0,validator:function(e){return b(e,"before")}},e[T.SearchTokenTypes.ANSWER_ON]={regex:O,follows:[T.SearchTokenTypes.FILTER_ON],componentType:G.ANSWER,mutable:!0,validator:function(e){return b(e,"on")}},e[T.SearchTokenTypes.ANSWER_AFTER]={regex:O,follows:[T.SearchTokenTypes.FILTER_AFTER],componentType:G.ANSWER,mutable:!0,validator:function(e){return b(e,"after")}},e[T.SearchTokenTypes.FILTER_IN]={regex:M(l.default.Messages.SEARCH_FILTER_IN),componentType:G.FILTER,key:C(l.default.Messages.SEARCH_FILTER_IN),validator:U,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=y.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var o=d.default.getChannelId(t),u=r.find(function(e){return e.id===o});u&&(r.splice(r.indexOf(u),1),r.unshift(u))}var i=E.default.getTextChannelNameDisambiguations(t);return(0,a.default)(r).take(n).map(function(e){return{text:""+i[e.id].name,channel:e}}).value()}},e[T.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[T.SearchTokenTypes.FILTER_IN],componentType:G.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(B).length;return(0,a.default)(Object.keys(B)).filter(function(e){return T.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return B[e].key}).map(function(e){return{token:e,text:B[e].key}}).filter(function(t){var n=t.text;return(0,o.default)(e.toLowerCase(),n)}).take(t).value()};var o=S(n(5964)),a=S(n(7)),u=S(n(5)),i=S(n(139)),l=S(n(6)),s=S(n(12)),c=S(n(5957)),f=S(n(188)),d=S(n(66)),p=S(n(124)),h=S(n(61)),E=S(n(114)),y=S(n(5985)),_=S(n(231)),T=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function v(){return new Set(u.default.months().map(function(e){return e.toLowerCase()}))}function g(){return new Set(u.default.weekdays().map(function(e){return e.toLowerCase()}))}function m(){var e=(new Date).getFullYear();return new Set(a.default.range(2015,e+1).map(function(e){return e.toString()}))}function A(e,t){return[e,e.clone().add(1,t)]}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return A((0,u.default)().startOf(e).add(t,e),e)}function N(e,t,n){return A((0,u.default)(e,t).local(),n)}function I(){var e;return(e={})[l.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return R("day")},e[l.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return R("day",-1)},e[l.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return R("week")},e[l.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return R("month")},e[l.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return R("year")},e}var O=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function C(e){return e+":"}function M(e){return new RegExp(C(e),"i")}function P(e){var t=void 0;return!!(t=e.getMatch(1)===T.ME?s.default.getCurrentUser():s.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function b(e,t){var n=e.getFullMatch().trim().toLowerCase(),r=I()[n],o=void 0,a=void 0;if(null!=r){var u=r();o=u[0],a=u[1]}else if(v().has(n)){var i=N(n,"MMMM","month");o=i[0],a=i[1]}else if(g().has(n)){var l=N(n,"dddd","day");o=l[0],a=l[1]}else if(m().has(n)){var s=N(n,"YYYY","year");o=s[0],a=s[1]}else{var c=N(n,T.SEARCH_DATE_FORMAT,"day");o=c[0],a=c[1]}return!(!o.isValid()||!a.isValid())&&("before"===t?(a=o,o=null):"after"===t&&(o=a,a=null),e.setData("start",o),e.setData("end",a),!0)}function L(e){var t=e.getMatch(1),n=f.default.getGuildId(),r=E.default.getChannels(n)[T.ChannelTypes.GUILD_TEXT],o=E.default.getTextChannelNameDisambiguations(n),u=a.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===o[e.id].name}).value();return!!u&&(e.setData("channel",u),!0)}function D(e){var t,n=(t={},t[l.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[l.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[l.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[l.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[l.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[l.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function F(){return[].concat(Array.from(v()),Array.from(g()),Array.from(m()),Object.keys(I()))}function w(e,t,n){return k(e,t,F()).map(function(e){return r({},e,{group:n,key:n+"-"+e.text})})}function k(e,t,n){return(0,a.default)(n).filter(function(t){return(0,o.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c.default.getSearchType(t);e=e.split("#")[0];var a=void 0;switch(o){case T.SearchTypes.GUILD:a=y.default.queryGuildUsers;break;case T.SearchTypes.CHANNEL:a=y.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!h.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function U(){return c.default.getSearchType()===T.SearchTypes.GUILD}function j(){return!p.default.hidePersonalInformation}var x=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,G=t.ComponentTypes=(0,i.default)({FILTER:null,ANSWER:null});var B={};t.default=B},6004:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSearchOptionAnswer=function(e){switch(e){case c.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case c.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case c.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case c.SearchTokenTypes.FILTER_BEFORE:case c.SearchTokenTypes.FILTER_ON:case c.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case c.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case c.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case c.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!c.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case c.SearchTokenTypes.ANSWER_BEFORE:case c.SearchTokenTypes.ANSWER_ON:case c.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),o=e.getData("end");return r&&(t.min_id=s.default.fromTimestamp(r)),void(o&&(t.max_id=s.default.fromTimestamp(o)))}var a=function(e){var t=l.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[a]&&(t[a]=new Set);var u=t[a];switch(n){case c.SearchTokenTypes.ANSWER_USERNAME_FROM:case c.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:u.add(e.getData("user").id);break;case c.SearchTokenTypes.ANSWER_FILE_TYPE:case c.SearchTokenTypes.ANSWER_FILE_NAME:u.add(e.getMatch(1));break;case c.SearchTokenTypes.ANSWER_IN:u.add(e.getData("channel").id);break;case c.SearchTokenTypes.ANSWER_HAS:u.add(e.getData("has"));break;default:u.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var u=a,i=u[0],f=u[1];f instanceof Set&&(t[i]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===u.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r=void 0,o=void 0,a=e.find(function(a,u){return t>=a.start&&t<=a.end&&n>=a.start&&n<=a.end?(e[u+1]&&(o=e[u+1]),!0):(r=a,!1)});if(!a)return null;return{previousToken:r,currentToken:a,nextToken:o,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},r=n.currentToken,o=n.nextToken,a=n.previousToken;if(0===t.length)return{type:c.SearchPopoutModes.EMPTY,filter:null,token:null};if(!r)return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(c.IS_SEARCH_FILTER_TOKEN.test(r.type)){if(!o||o.type===u.default.NON_TOKEN_TYPE)return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:o};if(o&&!c.IS_SEARCH_ANSWER_TOKEN.test(o.type))return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:null}}if(r.type===u.default.NON_TOKEN_TYPE&&a&&c.IS_SEARCH_FILTER_TOKEN.test(a.type))return{type:c.SearchPopoutModes.FILTER,filter:a.type,token:r};var i=void 0;r.type===u.default.NON_TOKEN_TYPE&&(i=r);return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:i}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===c.SearchPopoutModes.FILTER_ALL){r=e.group||r;var o=l.default[r];o&&o.key&&(n=o.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=c.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!c.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,i.refreshSearchTokens)(),h.reset(),(0,a.default)(l.default).forOwn(function(e,t){return h.addRule(o({type:t},e))})};var a=d(n(7)),u=d(n(6046)),i=n(6003),l=d(i),s=d(n(141)),c=n(0),f=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((r={})[c.SearchTokenTypes.FILTER_BEFORE]=!0,r[c.SearchTokenTypes.FILTER_AFTER]=!0,r[c.SearchTokenTypes.FILTER_ON]=!0,r);var h=new u.default},6006:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(3)),u=s(n(2)),i=s(n(6048)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var c={};function f(e){var t,n=e.subscription;c=o({},c,((t={})[n.id]=i.default.createFromServer(n),t))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPremiumSubscription=function(){for(var e in c)if(c[e].type===l.SubscriptionTypes.PREMIUM)return c[e];return null},r(t,[{key:"subscriptions",get:function(){return c}}]),t}(a.default.Store);t.default=new d(u.default,{BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){var t=e.subscriptions;c={},t.forEach(function(e){c[e.id]=i.default.createFromServer(e)})},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:f,PREMIUM_CODE_ACTIVATION_SUCCESS:f,LOGOUT:function(e){c={}}}),e.exports=t.default},6029:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=d(n(23)),u=d(n(2)),i=d(n(28)),l=d(n(219)),s=d(n(920)),c=(d(n(6108)),n(0)),f=d(n(30));function d(e){return e&&e.__esModule?e:{default:e}}var p="hasSeenStoreDirectory",h={},E=void 0,y=!1,_=!1,T=void 0,S=void 0,v=void 0,g=void 0,m=!1;function A(e){var t=e.directoryLayout;h[t.id]=t,y=!1,E=Date.now(),m=!0,a.default.set(p,!0)}function R(){h={},E=null}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,i.default,f.default),g=f.default.locale,m=a.default.get(p)||!1},t.prototype.getDirectoryLayout=function(e){return h[e]},t.prototype.shouldFetch=function(){return!y&&(null==E||Date.now()-E>18e5)},r(t,[{key:"isFetching",get:function(){return y}},{key:"lastHomeDirectoryView",get:function(){return S}},{key:"lastBrowseDirectoryView",get:function(){return v}},{key:"isLibraryApplicationsHidden",get:function(){return _}},{key:"searchTerm",get:function(){return T}},{key:"hasSeenDirectory",get:function(){return m}}]),t}(o.default.Store);t.default=new N(u.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){y=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:A,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:A,APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case c.DirectoryLocations.HOME:S={scrollTop:t};break;case c.DirectoryLocations.BROWSE:v={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;_=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;T=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:f.default.locale;if(g===t)return!1;g=t,R()},APPLICATION_STORE_CLEAR_DATA:function(e){return R()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return S=null,void(v=null)}}),e.exports=t.default},6037:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLanded=void 0;var r=i(n(1010)),o=i(n(11)),a=i(n(536)),u=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.deepLinkRouteIfLanded=o.default.embedded?u.NOOP:function(e,t){o.default.isDesktop&&!r.default.hasNavigated&&a.default.requestOnce(u.RPCCommands.DEEP_LINK,{type:e,params:t})}},6038:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(57);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.timer=new a.Interval,r.state={hovered:!1},r.handlePause=function(){r.state.hovered||r.setState({hovered:!0})},r.handleResume=function(){r.setState({hovered:!1})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null},t.prototype.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},o=r(n,this.state),a=r(e,t);o&&!a||e.interval!==n.interval?this.startTimer():!o&&a&&this.stopTimer()},t.prototype.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return o.createElement("div",r({},a,{className:n}),t)},t}(o.Component);i.defaultProps={disable:!1,pauseOnHover:!1},i.displayName="IntervalWrapper",t.default=i,e.exports=t.default},6046:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/.+/g,u=t.NON_TOKEN_TYPE="NON_TOKEN";function i(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var o=t[r],a=l(e.match(o.regex),n),u=void 0;if(a){var i=o.cache;if(i&&(u=i.get(a[0]))&&((u=new c(u)).start=a.index),!u){if(u=new c(a,o.type),o.validator&&!o.validator(u))continue;i&&!i.has(a[0])&&i.set(a[0],u)}return u}}return null}function l(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var s=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];o(this,e),this.reset(n,r),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||u},e.prototype.addRule=function(e){var t=this,n=e.type,r=e.follows,o=e.validator,a=e.regex;"^"!==a.source.charAt(0)&&(a=new RegExp("^"+a.source,a.flags));var u=void 0;o&&(u=new Map),r?r.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:a,type:n,validator:o,cache:u})}):this._rules.push({regex:a,type:n,validator:o,cache:u})},e.prototype.tokenize=function(e){for(var t=e,n="",r=0,o=void 0,u=[];t.length;){var i=this._getMatch(t,o,r+n.length);i?(n&&u.push(new c(l(n.match(a),r),this._nonTokenType)),o=i,u.push(i),r+=o.length+n.length,t=t.substring(o.length),n=""):(n+=t[0],t=t.substring(1))}return n&&u.push(new c(l(n.match(a),r),this._nonTokenType)),u},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var r=t?t.type:null,o=void 0;return t&&t.end===n&&(o=i(e,this._followers[r],n)),o||(o=i(e,this._rules,n)),o},e}(),c=t.Token=function(){function e(t,n){o(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},r(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();s.NON_TOKEN_TYPE=u,s.Token=c,t.default=s},6047:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(23)),a=l(n(2)),u=n(0),i=l(n(5957));function l(e){return e&&e.__esModule?e:{default:e}}var s="ChannelSectionStore",c=null,f=null;function d(){var e=void 0;if(i.default.isActive()&&(e=u.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){c=o.default.get(s)||u.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||c},t}(r.default.Store);t.default=new p(a.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;c===t?null==f&&(c=u.ChannelSections.NONE):c=t,f=null,o.default.set(s,c)},SEARCH_START:function(e){return d()},SEARCH_INDEXING:function(e){return d()},SEARCH_FINISH:function(e){return d()},SEARCH_EDITOR_STATE_CLEAR:function(e){return d()},SEARCH_EDITOR_STATE_CHANGE:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}}),e.exports=t.default},6048:function(e,t,n){"use strict";t.__esModule=!0,t.PREMIUM_CODE_SUBSCRIPTION_ID=void 0;var r,o=n(70),a=(r=o)&&r.__esModule?r:{default:r},u=n(0);var i=t.PREMIUM_CODE_SUBSCRIPTION_ID="0",l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return null==e.id?new t({id:i,type:e.type,createdAt:null,canceledAt:null,currentPeriodStart:0,currentPeriodEnd:new Date(e.current_period_end),status:u.SubscriptionStatusTypes.CANCELED,paymentSourceId:null,paymentGateway:null,plan:null}):new t({id:e.id,type:e.type,createdAt:new Date(e.created_at),canceledAt:null!=e.canceled_at?new Date(e.canceled_at):null,currentPeriodStart:new Date(e.current_period_start),currentPeriodEnd:new Date(e.current_period_end),status:e.status,paymentSourceId:e.payment_source_id,paymentGateway:e.payment_gateway,plan:e.payment_gateway_plan_id})},t.prototype.initialize=function(e){this.id=e.id,this.type=e.type,this.createdAt=e.createdAt,this.canceledAt=e.canceledAt,this.currentPeriodStart=e.currentPeriodStart,this.currentPeriodEnd=e.currentPeriodEnd,this.status=e.status,this.paymentSourceId=e.paymentSourceId,this.paymentGateway=e.paymentGateway,this.plan=e.plan},t}(a.default);t.default=l},6108:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(70),a=(r=o)&&r.__esModule?r:{default:r},u=n(0);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=function(e){var t=""+e.type;switch(e.type){case u.StoreDirectoryTileServerTypes.BLOG:case u.StoreDirectoryTileTypes.BLOG:return{type:t};default:return{type:t,skuId:e.sku_id}}};return new t({id:e.id,hero:e.data.hero.map(function(e){var t=""+e.type;switch(e.type){case u.StoreDirectoryHeroCarouselItemServerTypes.APPLICATION:case u.StoreDirectoryHeroCarouselItemTypes.APPLICATION:return{type:t,skuId:e.sku_id};case u.StoreDirectoryHeroCarouselItemServerTypes.PREMIUM_ANNOUNCEMENT:case u.StoreDirectoryHeroCarouselItemTypes.PREMIUM_ANNOUNCEMENT:return{type:t}}}),premiumCarousel:e.data.premium_carousel.map(function(e){return{skuId:e.sku_id,tagline:e.tagline}}),featured:e.data.featured.map(n),premium:e.data.premium.map(n),allSkuIds:e.data.sku_ids||[]})},t.prototype.initialize=function(e){this.id=e.id,this.hero=e.hero,this.premiumCarousel=e.premiumCarousel,this.featured=e.featured,this.premium=e.premium,this.allSkuTiles=e.allSkuIds.map(function(e){return{skuId:e,type:u.StoreDirectoryTileTypes.REGULAR}}),this.allSkuIds=e.allSkuIds},t}(a.default);t.default=i,e.exports=t.default},6168:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.search=c,t.searchByMode=function(e,t){var n=a.default.getQuery(e);return c(e,r({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){o.default.dispatch({type:l.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){o.default.dispatch({type:l.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})},t.setSearchState=function(e,t){null!=e&&o.default.dirtyDispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){u.default.trackWithMetadata("search_closed",{search_id:a.default.getAnalyticsId(e)}),o.default.dispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&o.default.dirtyDispatch({type:l.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){o.default.dispatch({type:l.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var o=s(n(2)),a=s(n(5957)),u=s(n(193)),i=s(n(6005)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){i.default.didAgree(e)&&(t.include_nsfw=!0);var r=Object.keys(t);u.default.trackWithMetadata("search_started",{prev_search_id:a.default.getAnalyticsId(e),num_modifiers:r.length,modifiers:r.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),o.default.dispatch({type:l.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=a.default.getOffset(e),o=a.default.getQuery(e),u=n+t,i=a.default.getTotalResults(e);if(!(u<0||u>i))return c(e,r({},o,{offset:u}))}},6216:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var i=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",l=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([a.default.get(i+"/active.json"),a.default.get(l)]).then(function(e){var t=e[0],n=e[1],a=t.body.scheduled_maintenances[0],u=n.body.incidents[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:u||a})})},checkScheduledMaintenances:function(){a.default.get(i+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6340:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(139)),l=p(n(44)),s=p(n(26)),c=p(n(77)),f=p(n(58)),d=p(n(5758));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({SMALL:null,MEDIUM:null,LARGE:null}),E=((o={})[h.SMALL]=d.default.dropdownSmall,o[h.MEDIUM]=d.default.dropdownMedium,o[h.LARGE]=d.default.dropdownLarge,o),y=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,o=e.dropdownSize,i=void 0===o?h.MEDIUM:o,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return u.createElement(l.default,p,a(s.default,{align:s.default.Align.CENTER},void 0,a(s.default.Child,{className:r},void 0,n),null!=t?a(c.default,{className:E[i],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,a("div",{className:d.default.arrowSeparator}),a(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:d.default.dropdownArrow})):null))};y.displayName="DropdownButton",y.DropdownSizes=h,y.Sizes=l.default.Sizes,y.Colors=l.default.Colors,y.Looks=l.default.Looks,t.default=y,e.exports=t.default},6362:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=E,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var o=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",o)).set("focusOffset",o)},t.updateContent=y,t.deleteContent=function(e,t){switch(e){case"delete":return(0,l.default)(t);case"delete-word":return(0,u.default)(t);case"backspace":return(0,i.default)(t);case"backspace-word":return(0,a.default)(t);case"backspace-to-start-of-line":return(0,o.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,s.default)(t);case"move-selection-to-start-of-block":return(0,c.default)(t);case"move-selection-to-end-of-block":return(0,f.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=_,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),a=o.getText(),u=[];return o.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),i=a.substring(e,t);u.push({processed:!1,type:n,start:e,end:t,text:i})}),e.forEach(function(e){var r=!1;if(u.forEach(function(n){var o=e.type,a=e.start,u=e.end,i=e.getFullMatch();n.processed||(n.type===o&&n.start===a&&n.text===i?(n.processed=!0,r=!0):(a>=n.start&&a<n.end||u>n.start&&u<=n.end)&&(n.processed=!0,t=E(null,n.start,n.end,t)))}),!r){var o=n[e.type];t=E([e.type,o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),u.forEach(function(e){e.processed||(t=E(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset,a=void 0,u=void 0,i=e.find(function(t,n){return r>=t.start&&r<=t.end&&o>=t.start&&o<=t.end?(e[n+1]&&(u=e[n+1]),!0):(a=t,!1)});if(!i)return null;return{previousToken:a,currentToken:i,nextToken:u}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=_(t);return y(e,t,0,n.length)},t.appendSpace=function(e){var t=_(e);return y(" ",e,t.length)},t.setCollapsedSelection=T,t.setCollapsedEndSelection=function(e){return T(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return T(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=_(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=_(e);if(n.length>t){var o=e.getSelection();e=y("",e,t,n.length),o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t)),o.getFocusOffset()>t&&(o=o.set("focusOffset",t)),e=r.EditorState.forceSelection(e,o)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],o=e.getClientRects()[0];if(!r||!o)return;var a=r.left-o.left+e.scrollLeft;a<e.scrollLeft?e.scrollLeft=a-10:a>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=a-e.offsetWidth+3)},t.isEmpty=function(e){return 0===_(e).length};var r=n(6396),o=h(n(6378)),a=h(n(6375)),u=h(n(6373)),i=h(n(6369)),l=h(n(6368)),s=h(n(6367)),c=h(n(6370)),f=h(n(6371)),d=h(n(6041)),p=h(n(6153));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,o){var a,u=o.getCurrentContent(),i=null;null!=e&&(i=(u=(a=u).createEntity.apply(a,e)).getLastCreatedEntityKey());var l=u.getFirstBlock(),s=new r.SelectionState({anchorKey:l.getKey(),anchorOffset:t,focusKey:l.getKey(),focusOffset:n});return u=r.Modifier.applyEntity(u,s,i),r.EditorState.set(o,{currentContent:u})}function y(e,t,n,o){var a=void 0,u=t.getCurrentContent(),i=u.getFirstBlock(),l=i.getText();"number"==typeof n?(n>l.length&&(n=l.length),o>l.length&&(o=l.length),a=new r.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:o||n})):a=t.getSelection();var s=t.getCurrentInlineStyle(),c=(0,d.default)(u,a),f=void 0;return a.isCollapsed()?(u=r.Modifier.insertText(u,a,e,s,c),f="insert-characters"):(u=r.Modifier.replaceText(u,a,e,s,c),f="replace-characters"),r.EditorState.push(t,u,f)}function _(e){return e.getCurrentContent().getFirstBlock().getText()}function T(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=p.default},6401:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=d(n(9)),i=d(n(6)),l=d(n(77)),s=d(n(6045)),c=d(n(5803)),f=d(n(5504));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,d=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:o(l.default,{className:(0,u.default)(c.default.queryContainer,(t={},t[c.default.focused]=-1===a,t)),onMouseEnter:p,onClick:d},void 0,o("div",{className:c.default.queryText},void 0,i.default.Messages.SEARCH_FOR_VALUE.format({value:r})),o("div",{className:c.default.queryShortcut},void 0,o(s.default,{shortcut:"return",className:(0,u.default)(f.default.dim,f.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,a=t.renderResult,u=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=a)return Array.from({length:n}).map(function(e,t){return a(t)});if(null!=u)return u();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return o("div",{className:c.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},t}(a.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},h.displayName="SearchResultsPopout",t.default=h,e.exports=t.default},6526:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),a=h(n(2)),u=n(0),i=n(101),l=h(n(30)),s=h(n(362)),c=h(n(90)),f=h(n(66)),d=h(n(188)),p=h(n(60));function h(e){return e&&e.__esModule?e:{default:e}}var E=u.ThemeTypes.DARK,y=null;function _(){E=l.default.theme}function T(){y=f.default.getChannelId(d.default.getGuildId())}function S(e){return e.channelId===y}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,d.default,f.default,c.default),this.syncWith([l.default],_),this.syncWith([d.default,f.default,s.default],T)},r(t,[{key:"theme",get:function(){if(null!=y){var e=d.default.getGuildId(),t=c.default.isInChannel(e,y)&&(null!=e||c.default.hasVideo(e,y))&&p.default.supports(i.Features.VIDEO)?s.default.getLayout(y):null;return t===u.ChannelLayouts.NORMAL||t===u.ChannelLayouts.NO_CHAT?u.ThemeTypes.DARK:E}return E}}]),t}(o.default.Store);t.default=new v(a.default,{VOICE_STATE_UPDATE:S,CHANNEL_RTC_UPDATE_LAYOUT:S}),e.exports=t.default},6527:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(3)),o=u(n(2)),a=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var i=null,l=[a.DispatchErrors.REDISTRIBUTABLE_INSTALL_FAILED,a.DispatchErrors.POST_INSTALL_FAILED,a.DispatchErrors.POST_INSTALL_CANCELLED];var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return i},t}(r.default.Store);t.default=new s(o.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=i&&l.includes(i.code)&&(i=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;i=t}}),e.exports=t.default},6528:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=Y(n(3)),u=Y(n(91)),i=Y(n(23)),l=Y(n(2)),s=n(0),c=Y(n(11)),f=n(7350),d=Y(n(359)),p=Y(n(12)),h=Y(n(221)),E=Y(n(14)),y=Y(n(6527)),_=Y(n(1210)),T=Y(n(60)),S=Y(n(543)),v=Y(n(376)),g=Y(n(6638)),m=Y(n(27)),A=Y(n(62)),R=Y(n(124)),N=Y(n(549)),I=Y(n(953)),O=Y(n(190)),C=Y(n(373)),M=Y(n(188)),P=Y(n(5978)),b=Y(n(7349)),L=Y(n(90)),D=Y(n(233)),F=Y(n(53)),w=Y(n(7348)),k=Y(n(28)),H=Y(n(219)),U=Y(n(196)),j=Y(n(6006)),x=Y(n(1207)),G=n(979),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(368)),W=n(101);function Y(e){return e&&e.__esModule?e:{default:e}}var K=["hideGDPRPrivacyUpdate"],z=((r={})[s.NoticeTypes.DOWNLOAD_NAG]="hideNag",r[s.NoticeTypes.CONNECT_FACEBOOK]="hideConnectFacebook",r[s.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",r[s.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",r[s.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",r[s.NoticeTypes.GDPR_PRIVACY_POLICY]="hideGDPRPrivacyUpdate",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",r[s.NoticeTypes.TERMS_OF_SERVICE_UPDATE]="hideTermsOfServiceUpdateOct2018",r),V=new Set([s.NoticeTypes.NO_INPUT_DETECTED,s.NoticeTypes.STREAMER_MODE,s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,s.NoticeTypes.SPOTIFY_AUTO_PAUSED,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),q={},Q=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),$=null;function J(e){if(null!=e){var t=z[e];null!=t&&i.default.set(t,!0),V.has(e)&&(q[e]=!0),e===s.NoticeTypes.PREMIUM_PROMO&&(0,G.setFlag)(s.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function X(e){if(null==e)return!1;var t=z[e];return t?i.default.get(t):!!V.has(e)&&q[e]}function Z(){if(!C.default.isConnected())return!1;$=null;var e=p.default.getCurrentUser(),t=j.default.getPremiumSubscription(),n=null!=t?t.plan:null,r=L.default.getCurrentVoiceChannelId(null,E.default.getId()),a=null!=r&&L.default.hasVideo(null,r),i=void 0,l=y.default.getLastError(),m=_.default.getLastProgress();if(X(s.NoticeTypes.TERMS_OF_SERVICE_UPDATE))if(null!=N.default.getRequest())$=o({},Q,{type:s.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(h.default.isDisabled())$=o({},Q,{type:s.NoticeTypes.VOICE_DISABLED});else if(!1===T.default.getInputDetected())$=o({},Q,{type:s.NoticeTypes.NO_INPUT_DETECTED});else if(h.default.isConnected()&&T.default.isHardwareMute()){var A=T.default.getInputDeviceId(),O=S.default.getVendor(A),M=S.default.getModel(A);null!=O&&null!=M&&($=o({},Q,{type:s.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:O,model:M}}))}else if(null!=l)$=o({},Q,{type:s.NoticeTypes.DISPATCH_ERROR,metadata:{error:l}});else if(null!=m)$=o({},Q,{type:s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:m});else if(D.default.wasAutoPaused())$=o({},Q,{type:s.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=n&&d.default.isGrandfathered(n)&&d.default.isNearGrandfatheredStartPeriod())$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:n}});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=n&&d.default.isGrandfathered(n)&&d.default.getDaysToGrandfatheredEnd(n)>=-14&&d.default.getDaysToGrandfatheredEnd(n)<=0)$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=n&&d.default.isGrandfathered(n)&&d.default.getDaysToGrandfatheredEnd(n)>0&&d.default.getDaysToGrandfatheredEnd(n)<=d.default.GRANDFATHERED_DAYS_APPROACHING)$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:n}});else if(!X(s.NoticeTypes.GDPR_PRIVACY_POLICY)&&(0,f.isEligibleForGDPRNotice)(e))$=o({},Q,{type:s.NoticeTypes.GDPR_PRIVACY_POLICY});else if(null!=e&&null==e.email)$=o({},Q,{type:s.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!c.default.embedded||x.default.supported()&&!v.default.isCorruptInstallation())if(!a||T.default.supports(W.Features.VIDEO)||X(s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(I.default.getDisplayType()===s.DetectedPlatformAccountsDisplayTypes.NOTICE)$=o({},Q,{type:s.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:I.default.getDetectedAccounts()});else if(R.default.enabled)$=o({},Q,{type:s.NoticeTypes.STREAMER_MODE});else if(c.default.embedded||X(s.NoticeTypes.DOWNLOAD_NAG))if(i=g.default.getScheduledMaintenance())$=o({},Q,{type:s.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:i.id,start:new Date(i.scheduled_for),end:new Date(i.scheduled_until)}});else if(null!=b.default.getSurveyExperiment()){var P=b.default.getMetaData(b.default.getSurveyExperiment());null!=P&&($=o({},Q,{type:s.NoticeTypes.SURVEY,metadata:P}))}else if(null==e||e.verified)if(I.default.hasAvailablePlatformType(s.PlatformTypes.FACEBOOK)&&!X(s.NoticeTypes.CONNECT_FACEBOOK))$=o({},Q,{type:s.NoticeTypes.CONNECT_FACEBOOK});else if(D.default.hasConnectedAccount()||!F.default.isObservedAppRunning(u.default.get(s.PlatformTypes.SPOTIFY).name)||X(s.NoticeTypes.CONNECT_SPOTIFY))if(null==e||d.default.isPremium(e)||e.hasFlag(s.UserFlags.PREMIUM_PROMO_DISMISSED)||!w.default.isEligible()||X(s.NoticeTypes.PREMIUM_PROMO))if(null==e||!e.mfaEnabled||e.hasFlag(s.UserFlags.MFA_SMS)||e.hasFlag(s.UserFlags.STAFF)||e.hasFlag(s.UserFlags.PARTNER)||X(s.NoticeTypes.MFA_SMS_BACKUP)){if(null!=U.default.testModeApplicationId){var G=U.default.testModeApplicationId,B=k.default.getGame(G),Y=null!=B?B.name:G;$=o({},Q,{type:s.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:Y,applicationId:G,skus:H.default.getForApplication(G)}})}}else $=o({},Q,{type:s.NoticeTypes.MFA_SMS_BACKUP});else $=o({},Q,{type:s.NoticeTypes.PREMIUM_PROMO});else $=o({},Q,{type:s.NoticeTypes.CONNECT_SPOTIFY});else $=o({},Q,{type:s.NoticeTypes.UNVERIFIED_ACCOUNT});else $=o({},Q,{type:s.NoticeTypes.DOWNLOAD_NAG});else $=o({},Q,{type:s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else $=o({},Q,{type:s.NoticeTypes.CORRUPT_INSTALLATION});else $=o({},Q,{type:s.NoticeTypes.TERMS_OF_SERVICE_UPDATE});null!=$&&X($.type)&&($=null)}function ee(){return R.default.enabled||delete q[s.NoticeTypes.STREAMER_MODE],Z()}var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([b.default,N.default,w.default],Z),this.waitFor(p.default,g.default,m.default,A.default,h.default,T.default,R.default,O.default,M.default,P.default,N.default,I.default,D.default,F.default,w.default,y.default,_.default,U.default,j.default,v.default)},t.prototype.hasNotice=function(){return null!=$&&null!=$.type},t.prototype.getNotice=function(){return null==P.default.getAction()?$:null},t}(a.default.Store);t.default=new te(l.default,{CONNECTION_OPEN:function(e){return function(){if(!C.default.isConnected())return!1;var e=p.default.getCurrentUser();d.default.isPremium(e)&&d.default.shouldCheckGrandfatheredPlan()&&l.default.wait(function(){return B.fetchSubscriptions()}),Z()}()},CURRENT_USER_UPDATE:function(e){return Z()},AUDIO_ENABLE:function(e){return Z()},VOICE_CHANNEL_CLEAR:function(e){return Z()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return Z()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return Z()},GUILD_CREATE:function(e){return Z()},GUILD_DELETE:function(e){return Z()},AUDIO_INPUT_DETECTED:function(e){return Z()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return Z()},CERTIFIED_DEVICES_SET:function(e){return Z()},AUDIO_SET_INPUT_DEVICE:function(e){return Z()},AUDIO_SET_OUTPUT_DEVICE:function(e){return Z()},MEDIA_ENGINE_DEVICES:function(e){return Z()},RTC_CONNECTION_STATE:function(e){return Z()},RPC_APP_AUTHENTICATED:function(e){return Z()},RPC_APP_DISCONNECTED:function(e){return Z()},PLATFORM_ACCOUNTS_DETECTED:function(e){return Z()},PLATFORM_ACCOUNTS_IGNORE:function(e){return Z()},USER_CONNECTIONS_UPDATE:function(e){return Z()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return Z()},WINDOW_FOCUS:function(e){return Z()},INSTANT_INVITE_CREATE:function(e){return Z()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return Z()},SPOTIFY_PLAYER_PAUSE:function(e){return Z()},RUNNING_GAMES_CHANGE:function(e){return Z()},EXPERIMENTS_FETCH_SUCCESS:function(e){return Z()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return Z()},PREMIUM_CODE_ACTIVATION_SUCCESS:function(e){return Z()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return Z()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return Z()},DEVELOPER_TEST_MODE_RESET:function(e){return Z()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return Z()},DISPATCH_APPLICATION_INSTALL:function(e){return Z()},VOICE_STATE_UPDATE:function(e){return e.userId===E.default.getId()&&Z()},STREAMER_MODE_UPDATE:function(e){return ee()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return ee()},DISPATCH_APPLICATION_ERROR:function(e){return delete q[s.NoticeTypes.DISPATCH_ERROR],Z()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete q[s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],Z()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return Z()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return Z()},NOTICE_SHOW:function(e){$=e.notice},NOTICE_DISMISS:function(e){return null!=$&&(null==e.id||e.id===$.id)&&(J($.type),Z())},NOTICE_DISABLE:function(e){return J(e.noticeType),Z()},LOGOUT:function(e){K.forEach(function(e){return i.default.remove(e)})}}),e.exports=t.default},6545:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=j(n(56)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),j(n(45))),i=j(n(9)),l=j(n(7)),s=j(n(59)),c=j(n(936)),f=j(n(3)),d=j(n(225)),p=j(n(269)),h=j(n(137)),E=j(n(40)),y=j(n(266)),_=j(n(930)),T=j(n(6008)),S=j(n(217)),v=j(n(44)),g=j(n(984)),m=j(n(77)),A=j(n(6)),R=j(n(126)),N=j(n(30)),I=j(n(6528)),O=j(n(17)),C=j(n(125)),M=j(n(274)),P=j(n(66)),b=j(n(6005)),L=j(n(268)),D=j(n(18)),F=j(n(27)),w=j(n(940)),k=n(0),H=j(n(5808)),U=j(n(5512));function j(e){return e&&e.__esModule?e:{default:e}}var x=function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,i.default)(H.default.header,U.default.header,r)},void 0,o("div",{className:(0,i.default)(H.default.title,U.default.title)},void 0,t),n)};x.displayName="Header";var G=function(e){var t=e.msg,n=e.image;return o("div",{className:H.default.emptyPlaceholder},void 0,o("div",{className:H.default.image,style:{backgroundImage:"url("+n+")"}}),o("div",{className:H.default.body},void 0,t))};G.displayName="EmptyStateCenter";var B=function(e){var t=e.msg,n=e.image;return o("div",{className:(0,i.default)(H.default.emptyPlaceholder,H.default.bottom)},void 0,o("div",{className:H.default.body},void 0,t),o("div",{className:H.default.image,style:{backgroundImage:"url("+n+")"}}))};B.displayName="EmptyStateBottom";var W=o(_.default,{}),Y=o(_.default,{}),K=(0,u.default)({displayName:"MessagesPopout",mixins:[f.default.StoreListenerMixin(N.default,R.default,I.default,p.default),d.default,s.default,w.default],statics:{EmptyStateCenter:G,EmptyStateBottom:B,Header:x},propTypes:{onFetch:a.default.func.isRequired,channel:a.default.instanceOf(C.default),messages:a.default.arrayOf(a.default.instanceOf(M.default)),loading:a.default.bool.isRequired,analyticsName:a.default.string.isRequired,renderEmptyState:a.default.func.isRequired,renderHeader:a.default.func.isRequired,hasMore:a.default.bool,onCloseMessage:a.default.func,onJump:a.default.func,loadMore:a.default.func,showChannels:a.default.bool,showGuildNames:a.default.bool,canCloseAllMessages:a.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},getSubscriptions:function(){var e;return(e={})[k.ComponentActions.SCROLL_PAGE_DOWN]=this.scrollPageDown,e[k.ComponentActions.SCROLL_PAGE_UP]=this.scrollPageUp,e},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){O.default.track(k.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},getStateFromStores:function(){var e=I.default.hasNotice(),t=N.default.inlineAttachmentMedia,n=N.default.inlineEmbedMedia,r=N.default.renderEmbeds,o=N.default.developerMode,a=N.default.messageDisplayCompact,u=this.props.channel?p.default.getMessages(this.props.channel.id):null,i=!!u&&(u.loadingMore&&!u.get(u.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:o,messageDisplayCompact:a,isNoticeOpen:e,size:R.default.windowSize(),jumping:i}},renderControlButtons:function(e){var t=this,n=e.channel,r=e.messages[0],a=this.state.jumping,u=null;this.props.onCloseMessage&&(this.props.canCloseAllMessages||n.isPrivate()||this.can(k.Permissions.MANAGE_MESSAGES,n))&&(u=o(v.default,{look:v.default.Looks.BLANK,size:v.default.Sizes.NONE,onClick:this.props.onCloseMessage.bind(null,r)},void 0,o("div",{className:H.default.closeButton})));var l=o(m.default,{className:H.default.jumpButton,onClick:function(e){return t.jumpTo(r,e)}},void 0,o("div",{className:(0,i.default)(H.default.text,{hidden:a})},void 0,A.default.Messages.JUMP),o(_.default,{type:"pulsing-ellipsis",className:(0,i.default)(H.default.loading,{visible:a})}));return o("div",{className:H.default.actionButtons},void 0,l,u)},jumpTo:function(e,t){var n=e.id,r=e.blocked,o=e.author,a=e.channel_id;if(r)y.default.show({title:A.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:A.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:A.default.Messages.OKAY});else if(!this.state.jumping){var u=D.default.getChannel(a);u&&(h.default.trackJump(a,n,this.props.analyticsName),E.default.transitionTo(k.Routes.MESSAGE(u.getGuildId(),a,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==P.default.getChannelId()&&L.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,a=r.messages,u=r.loading,s=r.channel,f=r.className;if(a)if(0===a.length)t=this.props.renderEmptyState(N.default.theme);else{n=!1,t=[];var d=this.props.showChannels?null:s,p=this.state,h=p.renderEmbeds,E=p.inlineEmbedMedia,y=p.inlineAttachmentMedia;l.default.each(a,function(n){if(e.props.showChannels&&(null==d||d.id!==n.channel_id)){d=D.default.getChannel(n.channel_id);var r=F.default.getGuild(d.getGuildId());t.push(o("div",{className:H.default.channelSeparator},""+n.id+d.id,o(m.default,{tag:"span",className:H.default.channelName,onClick:e.selectChannel.bind(null,d.id)},void 0,d?d.toString(!0):"???"),e.props.showGuildNames&&o("span",{className:H.default.guildName},void 0,r?r.toString():"")))}var a=d.isNSFW()?b.default.didAgree(d.getGuildId()):null;if(null!=n){var u=o("div",{className:H.default.messageGroupWrapper},n.id,o("div",{className:H.default.messageGroupWrapperOffsetCorrection},void 0,o(T.default,{cozyClassName:H.default.messageGroupCozy,messages:[n],channel:d,inlineAttachmentMedia:y&&null!=a?a:y,inlineEmbedMedia:E&&null!=a?a:E,renderEmbeds:h&&null!=a?a:h,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:S.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:A.default.Messages.JUMP,accessoriesClassName:H.default.accessories})));t.push(u)}})}else t=o("div",{className:(0,i.default)(H.default.emptyPlaceholder,H.default.loadingPlaceholder)},void 0,W);var _=null;t.length>0&&this.props.loadMore&&(_=u?o("div",{className:H.default.loadingMore},"loading-more-after",Y):this.props.hasMore?o("div",{className:H.default.hasMore},"has-more-after",o("button",{type:"button",onClick:this.props.loadMore,className:H.default.hasMoreButton},void 0,A.default.Messages.LOAD_MORE_MESSAGES)):o("div",{className:H.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(N.default.theme)));var v=this.props.getProTip&&this.props.getProTip(),R=n&&v?o("div",{className:(0,i.default)(U.default.footer,H.default.footer)},void 0,o(g.default,{style:{width:"100%",paddingTop:10}},void 0,v)):null,I={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(I.maxHeight-=40);var O="light"===N.default.theme?null:N.default.theme,C=this.props.loadMore&&this.props.hasMore;return o("div",{className:(0,i.default)(H.default.messagesPopoutWrap,U.default.themedPopout,f),style:I},void 0,this.props.renderHeader(),o(c.default,{className:H.default.messagesPopout,theme:O,setRef:this.setScrollerRef,onScroll:C?this.handleScroll:void 0},void 0,t,_),R)}});t.default=K,e.exports=t.default},6546:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var u=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function i(e){u=e.type}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return u},t}(r.default.Store);t.default=new l(o.default,{CHECKING_FOR_UPDATES:i,UPDATE_NOT_AVAILABLE:i,UPDATE_AVAILABLE:i,UPDATE_MANUALLY:i,UPDATE_ERROR:i,UPDATE_DOWNLOADED:i}),e.exports=t.default},6638:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=(n(0),i(n(23))),u=i(n(6216));function i(e){return e&&e.__esModule?e:{default:e}}var l="MaintenanceStore",s=null,c=null,f=null;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=a.default.get(l)},t.prototype.getIncident=function(){return s},t.prototype.getScheduledMaintenance=function(){return null!=c&&c.id!==f?c:null},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return s=null,void u.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){s=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){c=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==c)return!1;f=c.id,a.default.set(l,f)}()}}),e.exports=t.default},7228:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5801)),i=(o=u)&&o.__esModule?o:{default:o};function l(e,t){var n=e.children;return a("span",{className:t},void 0,n)}l.displayName="renderToken";t.Filter=function(e){return l(e,i.default.searchFilter)},t.Answer=function(e){return l(e,i.default.searchAnswer)}},7229:function(e,t,n){"use strict";var r;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return p(r,e,t,n)},component:d[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,o){var a=e[o];r.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(a&&a.type!==s.default.NON_TOKEN_TYPE||!a)&&(n=!0,r.push(" "))}),!n)return t;return(0,a.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,i.getSelectionScope)(e,r,o)};var o,a=n(6362),u=n(6003),i=n(6004),l=n(6046),s=(o=l)&&o.__esModule?o:{default:o},c=n(7228),f=n(0);var d=t.Components=((r={})[u.ComponentTypes.FILTER]=c.Filter,r[u.ComponentTypes.ANSWER]=c.Answer,r);function p(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}},7336:function(e,t,n){var r={"./af":6524,"./af.js":6524,"./ar":6523,"./ar-dz":6522,"./ar-dz.js":6522,"./ar-kw":6521,"./ar-kw.js":6521,"./ar-ly":6520,"./ar-ly.js":6520,"./ar-ma":6519,"./ar-ma.js":6519,"./ar-sa":6518,"./ar-sa.js":6518,"./ar-tn":6517,"./ar-tn.js":6517,"./ar.js":6523,"./az":6516,"./az.js":6516,"./be":6515,"./be.js":6515,"./bg":6514,"./bg.js":6514,"./bm":6513,"./bm.js":6513,"./bn":6512,"./bn.js":6512,"./bo":6511,"./bo.js":6511,"./br":6510,"./br.js":6510,"./bs":6509,"./bs.js":6509,"./ca":6508,"./ca.js":6508,"./cs":6507,"./cs.js":6507,"./cv":6506,"./cv.js":6506,"./cy":6505,"./cy.js":6505,"./da":6504,"./da.js":6504,"./de":6503,"./de-at":6502,"./de-at.js":6502,"./de-ch":6501,"./de-ch.js":6501,"./de.js":6503,"./dv":6500,"./dv.js":6500,"./el":6499,"./el.js":6499,"./en-au":6498,"./en-au.js":6498,"./en-ca":6497,"./en-ca.js":6497,"./en-gb":6496,"./en-gb.js":6496,"./en-ie":6495,"./en-ie.js":6495,"./en-il":6494,"./en-il.js":6494,"./en-nz":6493,"./en-nz.js":6493,"./eo":6492,"./eo.js":6492,"./es":6491,"./es-do":6490,"./es-do.js":6490,"./es-us":6489,"./es-us.js":6489,"./es.js":6491,"./et":6488,"./et.js":6488,"./eu":6487,"./eu.js":6487,"./fa":6486,"./fa.js":6486,"./fi":6485,"./fi.js":6485,"./fo":6484,"./fo.js":6484,"./fr":6483,"./fr-ca":6482,"./fr-ca.js":6482,"./fr-ch":6481,"./fr-ch.js":6481,"./fr.js":6483,"./fy":6480,"./fy.js":6480,"./gd":6479,"./gd.js":6479,"./gl":6478,"./gl.js":6478,"./gom-latn":6477,"./gom-latn.js":6477,"./gu":6476,"./gu.js":6476,"./he":6475,"./he.js":6475,"./hi":6474,"./hi.js":6474,"./hr":6473,"./hr.js":6473,"./hu":6472,"./hu.js":6472,"./hy-am":6471,"./hy-am.js":6471,"./id":6470,"./id.js":6470,"./is":6469,"./is.js":6469,"./it":6468,"./it.js":6468,"./ja":6467,"./ja.js":6467,"./jv":6466,"./jv.js":6466,"./ka":6465,"./ka.js":6465,"./kk":6464,"./kk.js":6464,"./km":6463,"./km.js":6463,"./kn":6462,"./kn.js":6462,"./ko":6461,"./ko.js":6461,"./ky":6460,"./ky.js":6460,"./lb":6459,"./lb.js":6459,"./lo":6458,"./lo.js":6458,"./lt":6457,"./lt.js":6457,"./lv":6456,"./lv.js":6456,"./me":6455,"./me.js":6455,"./mi":6454,"./mi.js":6454,"./mk":6453,"./mk.js":6453,"./ml":6452,"./ml.js":6452,"./mn":6451,"./mn.js":6451,"./mr":6450,"./mr.js":6450,"./ms":6449,"./ms-my":6448,"./ms-my.js":6448,"./ms.js":6449,"./mt":6447,"./mt.js":6447,"./my":6446,"./my.js":6446,"./nb":6445,"./nb.js":6445,"./ne":6444,"./ne.js":6444,"./nl":6443,"./nl-be":6442,"./nl-be.js":6442,"./nl.js":6443,"./nn":6441,"./nn.js":6441,"./pa-in":6440,"./pa-in.js":6440,"./pl":6439,"./pl.js":6439,"./pt":6438,"./pt-br":6437,"./pt-br.js":6437,"./pt.js":6438,"./ro":6436,"./ro.js":6436,"./ru":6435,"./ru.js":6435,"./sd":6434,"./sd.js":6434,"./se":6433,"./se.js":6433,"./si":6432,"./si.js":6432,"./sk":6431,"./sk.js":6431,"./sl":6430,"./sl.js":6430,"./sq":6429,"./sq.js":6429,"./sr":6428,"./sr-cyrl":6427,"./sr-cyrl.js":6427,"./sr.js":6428,"./ss":6426,"./ss.js":6426,"./sv":6425,"./sv.js":6425,"./sw":6424,"./sw.js":6424,"./ta":6423,"./ta.js":6423,"./te":6422,"./te.js":6422,"./tet":6421,"./tet.js":6421,"./tg":6420,"./tg.js":6420,"./th":6419,"./th.js":6419,"./tl-ph":6418,"./tl-ph.js":6418,"./tlh":6417,"./tlh.js":6417,"./tr":6416,"./tr.js":6416,"./tzl":6415,"./tzl.js":6415,"./tzm":6414,"./tzm-latn":6413,"./tzm-latn.js":6413,"./tzm.js":6414,"./ug-cn":6412,"./ug-cn.js":6412,"./uk":6411,"./uk.js":6411,"./ur":6410,"./ur.js":6410,"./uz":6409,"./uz-latn":6408,"./uz-latn.js":6408,"./uz.js":6409,"./vi":6407,"./vi.js":6407,"./x-pseudo":6406,"./x-pseudo.js":6406,"./yo":6405,"./yo.js":6405,"./zh-cn":6404,"./zh-cn.js":6404,"./zh-hk":6403,"./zh-hk.js":6403,"./zh-tw":6402,"./zh-tw.js":6402};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7336},7338:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=s(n(7337)),i=s(n(5));n(5805);var l=s(n(5804));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,i=e.value;return o("div",{className:l.default.calendarPicker},void 0,o(u.default,{fixedHeight:!0,inline:!0,selected:i,locale:a,onSelect:r,maxDate:n,minDate:t}))},t}(a.PureComponent);c.defaultProps={value:(0,i.default)().local()},c.displayName="CalendarPicker",t.default=c,e.exports=t.default},7339:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(3)),o=_(n(2)),a=n(6004),u=n(6003),i=_(u),l=_(n(62)),s=_(n(5957)),c=_(n(124)),f=_(n(923)),d=_(n(12)),p=_(n(5985)),h=_(n(6071)),E=_(n(6167)),y=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var T={},S={},v=10,g=3;function m(e,t,n,r,o,a){var u=S[e];return null==u&&(u={results:[],context:E.default.getSearchContext(function(e,t){var n=t.results,r=S[e],o=T[e];if(null==r||null==o)return;var a=o.mode,u=a.type,i=a.filter;if(u===y.SearchPopoutModes.EMPTY||u===y.SearchPopoutModes.FILTER&&i!==y.SearchTokenTypes.FILTER_FROM&&i!==y.SearchTokenTypes.FILTER_MENTIONS)return;var l=g;o.mode.type===y.SearchPopoutModes.FILTER&&(l=v);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;(e=e.reduce(function(e,t){var n=d.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,l);var s=o.query,c=o.mode,f=o.tokens,p=o.cursorScope,h=o.autocompletes;h=I(e,c),T[e]=m(e,s,c,f,p,h),P.emitChange()}.bind(null,e))},S[e]=u),{query:t||"",mode:n||{type:y.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:o||null,autocompletes:a||[]}}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v;if(!e)return null;var o=void 0;if(e===y.SearchTokenTypes.FILTER_FROM||e===y.SearchTokenTypes.FILTER_MENTIONS){var a=S[n];null==a?o=null:(null!=t&&0!==t.getFullMatch().trim().length||(a.results=p.default.getRecentlyTalked(n,v).map(function(e){var t=e.user;return{user:t,text:t.tag}})),o=a.results)}else{var u=i.default[e]&&i.default[e].getAutocompletions,l=(null!=t?t.getFullMatch():"").trim();o=u?u(l,n,r):[]}return o&&o.length?{group:e,results:o}:null}function R(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[y.SearchTokenTypes.FILTER_FROM]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_MENTIONS]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_HAS]=!0,t[y.SearchTokenTypes.FILTER_BEFORE]=!0,t[y.SearchTokenTypes.FILTER_AFTER]=!0,t[y.SearchTokenTypes.FILTER_ON]=!0,t[y.SearchTokenTypes.FILTER_IN]=s.default.getSearchType()===y.SearchTypes.GUILD,t),o=(0,u.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:y.SearchAutocompleteGroups.SEARCH_OPTIONS,results:o}}function N(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=s.default.getSearchType(e),n=[y.SearchTokenTypes.FILTER_HAS];return c.default.hidePersonalInformation||(n.push(y.SearchTokenTypes.FILTER_FROM),n.push(y.SearchTokenTypes.FILTER_MENTIONS)),t===y.SearchTypes.GUILD&&n.push(y.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var o=A(r,e,t,g);o&&n.push(o)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=i.default[y.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),o=r[0],a=i.default[y.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),u=a[0],l=i.default[y.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),s=l[0];if(!o)return null;var c=[o,u,s];return{group:y.SearchAutocompleteGroups.DATES,results:c}}}(e,t))),(0,a.getTotalResults)(n)<5&&n.push(R(e)),n}function I(e,t){var n=[];return t.type===y.SearchPopoutModes.FILTER?n.push(A(t.filter,t.token,e,v)):t.type===y.SearchPopoutModes.FILTER_ALL?n=N(t.token,e):t.type===y.SearchPopoutModes.EMPTY&&(n.push(R(t.token)),n.push(function(e){if(c.default.hidePersonalInformation)return null;var t=s.default.getHistory(e);return t?{group:y.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function O(){(0,a.clearTokenCache)()}function C(e){var t=T[e];if(t){var n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope,u=t.autocompletes;T[e]=m(e,n,r,o,a,u.map(function(e){return e&&e.group===y.SearchAutocompleteGroups.HISTORY?null:e}))}}function M(){if(f.default.isOpen(y.SEARCH_POPOUT_ID)){var e=s.default.getCurrentSearchId();if(e&&T[e]){var t=T[e],n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope;T[e]=m(e,n,r,o,a,I(e,r))}}}var P=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,c.default,f.default)},t.prototype.getState=function(e){return T[e]||m(e)},t}(r.default.Store))(o.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!f.default.isOpen(y.SEARCH_POPOUT_ID))return!1;var o=(0,a.getQueryFromTokens)(n),u=(0,a.getAutocompleteMode)(r,n),i=T[t]||{},l=S[t],s=!0,c=void 0;if(o!==i.query||i.mode&&i.mode.filter!==u.filter){if(u.type===y.SearchPopoutModes.EMPTY||u.type===y.SearchPopoutModes.FILTER&&u.filter!==y.SearchTokenTypes.FILTER_FROM&&u.filter!==y.SearchTokenTypes.FILTER_MENTIONS)null!=l&&(l.context.clearQuery(),l.results=[]),c=I(t,u);else if(null!=l){var d=u.token;null!=d&&d.getFullMatch().trim().length>0?(h.default.requestMembers(t,d.getFullMatch(),v),l.context.setQuery(d.getFullMatch().trim(),{guild:t}),c=i.autocompletes,s=!1):(l.context.clearQuery(),c=I(t,u))}}else c=i.autocompletes,s=!1;return T[t]=m(t,o,u,n,r,c),s},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=S[t];null!=n&&(n.context.destroy(),n.results=[],delete S[t]),delete T[t]},CHANNEL_CREATE:function(e){return O()},CHANNEL_DELETE:function(e){return O()},STREAMER_MODE_UPDATE:function(e){return M()},POPOUT_OPEN:function(e){return M()},SEARCH_MODAL_OPEN:function(e){return M()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?C(t):Object.keys(T).forEach(C)},LOGOUT:function(e){Object.keys(T).forEach(C)}});t.default=P,e.exports=t.default},7340:function(e,t,n){"use strict";var r;t.__esModule=!0,t.GroupData=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=r;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=U(n(1)),l=H(n(45)),s=H(n(3)),c=H(n(59)),f=H(n(18)),d=H(n(188)),p=H(n(66)),h=H(n(62)),E=H(n(30)),y=n(6168),_=n(5963),T=H(n(58)),S=H(n(77)),v=H(n(9)),g=H(n(5)),m=n(136),A=H(n(7339)),R=H(n(7338)),N=H(n(6401)),I=H(n(112)),O=H(n(157)),C=n(6003),M=H(C),P=H(n(7)),b=U(n(6004)),L=H(n(505)),D=H(n(6)),F=n(6046),w=n(0),k=H(n(5802));function H(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var j=/^\s*$/,x=(0,g.default)("2015-05-15").local();var G=function(e,t,n){var r=n.user,o=n.text;if(!r)return u("strong",{},void 0,o);var a=h.default.getNick(e,r.id)||r.username,i=r.avatarURL||r.getAvatarURL();return[u("img",{alt:"",className:k.default.displayAvatar,src:i},"avatar-"+t+"-"+r.id),u("span",{className:k.default.displayedNick},"display-nick-"+t+"-"+r.id,a),u("span",{className:k.default.displayUsername},"display-username-"+t+"-"+r.id,o)]},B=function(e,t,n){var r=n.channel,o=f.default.getChannel(r.parent_id),a=(0,_.getIconNameForChannel)(r);return u("div",{className:k.default.resultChannel},void 0,null!=a?u(T.default,{name:a,className:k.default.searchResultChannelIcon,background:k.default.searchResultChannelIconBackground}):null,u("strong",{},void 0,r.toString()),null!=o?u("span",{className:k.default.searchResultChannelCategory},void 0,o.toString()):null)};B.displayName="renderChannel";var W=function(e){var t,n=e.searchId,r=e.result,o=e.group,a=e.selected,i=e.className,l=e.onSelect,s=e.onFocus,c=e.showFilter,f=e.renderResult,d=void 0;c&&(d=u("span",{className:k.default.filter},void 0,M.default[o].key||"addme:"));var p=void 0;return p=f?f(n,o,r):u("strong",{},void 0,r.text),u(S.default,{className:(0,v.default)(k.default.option,i,(t={},t[k.default.selected]=a,t)),onClick:l,onMouseOver:s,onFocus:s},void 0,d,p,u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))};W.displayName="ResultComponent";var Y=function(e){return i.createElement(W,a({},e,{className:k.default.user,renderResult:G}))};Y.displayName="UserResultComponent";var K=function(e){return i.createElement(W,a({},e,{renderResult:B}))};K.displayName="ChannelResultComponent";var z=t.GroupData=((r={})[w.SearchTokenTypes.FILTER_FROM]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_FROM},component:Y},r[w.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:Y},r[w.SearchTokenTypes.FILTER_HAS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[w.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[w.SearchTokenTypes.FILTER_IN]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:K},r[w.SearchAutocompleteGroups.DATES]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[w.SearchAutocompleteGroups.HISTORY]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return u(I.default,{text:D.default.Messages.SEARCH_CLEAR_HISTORY,position:I.default.Positions.LEFT},void 0,u(S.default,{onClick:function(){return(0,y.clearHistory)(t)},className:k.default.searchClearHistory,title:D.default.Messages.SEARCH_CLEAR_HISTORY},void 0,u(T.default,{name:T.default.Names.CLEAR_HISTORY})))},component:(0,l.default)({displayName:"component",mixins:[s.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:b.tokenizeQuery(this.props.result.text).map(function(e,t,n){return b.filterHasAnswer(e,n[t+1])?e:new F.Token(e.getFullMatch(),F.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,o=t.onFocus,a=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(j.test(r))return null;var o=w.IS_SEARCH_FILTER_TOKEN.test(e.type),a=w.IS_SEARCH_ANSWER_TOKEN.test(e.type),i=!o&&!a;return u("span",{className:(0,v.default)((n={},n[k.default.filter]=o,n[k.default.answer]=a,n[k.default.nonText]=i,n))},t,r)});return u(S.default,{className:(0,v.default)(k.default.option,k.default.history,(e={},e[k.default.selected]=n,e)),onClick:r,onMouseOver:o,onFocus:o},void 0,a,u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}})},r[w.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return u(I.default,{text:D.default.Messages.LEARN_MORE,position:I.default.Positions.LEFT},void 0,u("div",{className:k.default.searchLearnMore},void 0,u(O.default,{href:L.default.getArticleURL(w.HelpdeskArticles.USING_SEARCH),title:D.default.Messages.LEARN_MORE},void 0,u(T.default,{name:T.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,o=e.selected,a=e.onSelect,i=e.onFocus,l=b.getSearchOptionAnswer(r.token);return u(S.default,{className:(0,v.default)(k.default.option,k.default.searchOption,(t={},t[k.default.selected]=o,t)),onClick:a,onMouseOver:i,onFocus:i},void 0,u("span",{className:k.default.filter},void 0,r.text),u("span",{className:(0,v.default)((n={},n[k.default.answer]=l,n))},void 0,l),u(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}},r),V=(0,l.default)({displayName:"SearchPopout",mixins:[c.default,s.default.LazyStoreListenerMixin(d.default,p.default,A.default,E.default)],getInitialState:function(){return a({dateHint:(0,C.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=d.default.getGuildId(),t=p.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=A.default.getState(n),o=this.state?this.state.selectedIndex:-1,u=b.getTotalResults(r.autocompletes);return a({locale:E.default.locale,searchId:n,selectedIndex:o,totalResults:u},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,o=n.totalResults;r.filter&&!t.mode.filter&&o?this.setState({selectedIndex:0}):r.type===w.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(w.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,o=t.autocompletes,a=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==o.length)){var u=b.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],i=b.getFlattenedStringArray(o,n.type).indexOf(u);-1!==i?this.setState({selectedIndex:i}):e.selectedIndex>=a&&this.setState({selectedIndex:a-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;b.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;b.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=b.getTotalResults(t)-1:n&&e>=b.getTotalResults(t)?e=-1:!n&&e>=b.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!b.showDatePicker(r.filter)){var o=b.getFlattenedStringArray(n,r.type);if(e>=o.length)return!1;var a=o[e],u=function(e){var t=!0;return e=e.trim(),(0,P.default)(M.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(a);return this.setSearchQuery(a,u),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.mode,o=n.cursorScope,a=0;r.token?a=r.token.start:o&&o.currentToken&&(a=o.currentToken.end);var u=r.token?r.token.end:a;m.ComponentDispatch.dispatch(w.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:a,focus:u,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==w.SearchPopoutModes.FILTER&&e.type!==w.SearchPopoutModes.EMPTY&&!b.showDatePicker(e.filter)},renderDatePicker:function(){return u("div",{className:k.default.datePicker},void 0,u(R.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,g.default)().local(),minDate:x}),u("div",{className:k.default.datePickerHint},void 0,u("span",{className:k.default.hint},void 0,D.default.Messages.SEARCH_DATE_PICKER_HINT,""),u(S.default,{tag:"span",className:k.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){m.ComponentDispatch.dispatch(w.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,o=t.mode,a=t.searchId;if(b.showDatePicker(o.filter))return this.renderDatePicker();var i=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=z[t.group]||{},l=void 0;n.titleText&&(l=u("div",{className:k.default.header},void 0,n.titleText()));var s=n.groupTip||null;s&&(s=u(s,{searchId:a}));var c=n.component||W,f=o.type===w.SearchPopoutModes.FILTER_ALL||!1;return u("div",{className:k.default.resultsGroup},t.group,l,s,t.results.map(function(n){return n&&t?(i+=1,u(c,{searchId:a,group:n.group||t.group,result:n,showFilter:f,selected:r===i,onSelect:e.selectOption.bind(null,i),onFocus:e.focusOption.bind(null,i)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,o=t.totalResults;return u(N.default,{numResults:o,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=V},7342:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=d,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var r=a(n(7341)),o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var u=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function i(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return u.has(e)}function c(e){return 0===e.length}function f(e){return(0,o.default)(e.split(/\W+/)).map(i).reject(c).map(l).reject(s).map(r.default).value()}function d(e,t){return!c(e=l(i(e)))&&!s(e)&&t.has((0,r.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){d(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},7343:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(70)),o=a(n(274));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var r=e.hit,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hit"]),u=o.default.create(a,function(e){return r?n(e):e});return new t({hit:r,message:u})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(r.default);t.default=u,e.exports=t.default},7344:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(13)),o=u(n(142)),a=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=r}return e.prototype.fetch=function(e,t,n){var u=this;if(!this.isCanceled){var i=this.searchType===a.SearchTypes.GUILD?a.Endpoints.SEARCH_GUILD:a.Endpoints.SEARCH_CHANNEL;this.searchId&&r.default.get({url:i(this.searchId),query:o.default.stringify(this.query)}).then(function(r){u.isCanceled||(200===r.status?e(r):202===r.status&&(u.query.attempts=(u.query.attempts||0)+1,u.retryDelay=r.body.retry_after||5e3,u.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=i,e.exports=t.default},7345:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=D(n(1)),u=L(n(9)),i=L(n(3)),l=L(n(6)),s=L(n(6047)),c=L(n(114)),f=L(n(66)),d=L(n(5957)),p=L(n(923)),h=L(n(18)),E=L(n(6526)),y=L(n(217)),_=L(n(77)),T=n(5962),S=L(n(7340)),v=n(6396),g=D(n(6168)),m=L(n(189)),A=n(0),R=D(n(6362)),N=D(n(6004)),I=D(n(7229)),O=n(136),C=L(n(193)),M=L(n(6046)),P=L(n(6003)),b=L(n(6152));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(5800),n(5799);var F=512,w=(0,b.default)(g.search,500),k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1},r.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,o=e.focus,a=e.performSearch,u=e.replace,i=r.props.editorState,l=R.getFirstTextBlock(i);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==l.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),u?(i=R.replaceAllContent(t,i),n=0):i=R.updateContent(t,i,n,o),i=R.truncateContent(i,F),i=r.tokenize(i);var s=n+t.length;i=R.setCollapsedSelection(s,i),r.setEditorState(i),a&&r.search(R.getFirstTextBlock(i))},r.renderPopout=function(){return a.createElement(S.default,{ref:r.setSearchPopoutRef})},r.search=function(e){var t=r.props,n=t.searchId,o=t.isSearching;if(!e){var a=r.props.editorState;e=R.getFirstTextBlock(a)}if(n&&!o){for(var u=N.tokenizeQuery(e),i=N.getSearchQueryFromTokens(u),l=0;l<u.length;l++)N.filterHasAnswer(u[l],u[l+1])||(e=e.substring(0,u[l].start)+e.substring(u[l].end));if(!u.length||0===Object.keys(i).length)return!1;w(n,i,e),r.onBlur()}return!0},r.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),r.clearSearch()},r.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&R.isEmpty(r.props.editorState)){var t=f.default.getChannelId(),n=h.default.getChannel(t);if(null==n||n.isPrivate())r.focusEditor();else{var o=c.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],a=null!=o?o.name:n.name;r.handleSetSearchQuery({query:P.default[A.SearchTokenTypes.FILTER_IN].key+"#"+a+" ",replace:!0})}}else r.focusEditor()},r.focusEditor=function(){r._editorRef&&r._editorRef.focus()},r.blurEditor=function(){r._editorRef&&r._editorRef.blur()},r.setEditorRef=function(e){r._editorRef=e},r.setPopoutRef=function(e){r._popoutRef=e},r.setSearchPopoutRef=function(e){r._searchPopoutRef=e},r.onFocus=function(){C.default.trackWithMetadata("search_opened"),r.setState({focused:!0})},r.onBlur=function(){r.setState({focused:!1},function(){m.default.close(A.SEARCH_POPOUT_ID),R.isEmpty(r.props.editorState)&&r.clearSearch()})},r.onDownArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusNextOption(),!0},r.onUpArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusPreviousOption(),!0},r.onTab=function(e){if(!A.EnableAccessibility)return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.selectOption(),!0},r.handleReturn=function(e){e.preventDefault();var t=!1;return r._searchPopoutRef&&(t=r._searchPopoutRef.selectOption()),t||r.search(),!0},r.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),r.blurEditor(),!0},r.handleBeforeInput=function(e){var t=r.props.editorState,n=r.state.focused;return R.getFirstTextBlock(t).length>=F||(t=R.updateContent(e,t),t=R.truncateContent(t,F),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0)},r.handleKeyCommand=function(e){var t=r.props.editorState,n=r.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=R.deleteContent(e,t),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=R.miscCommand(e,t),t=r.tokenize(t),r.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},r.handlePastedText=function(e){var t=r.props.editorState,n=r.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=R.updateContent(e,t),t=R.truncateContent(t,F),t=r.tokenize(t),n||r.setState({focused:!0}),r.setEditorState(t),!0},r.setEditorState=function(e){var t=r.props.searchId;g.setSearchState(t,e)},r.handleKeyBind=function(e){var t=e.key,n=e.metaKey,o=e.shiftKey,a=r.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),a=o?R.setToStartSelection(a):R.setCollapsedStartSelection(a),r.setEditorState(a),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),a=o?R.setToEndSelection(a):R.setCollapsedEndSelection(a),r.setEditorState(a),!0):R.getDefaultKeyBinding(e)},N.clearTokenCache(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){O.ComponentDispatch.subscribe(A.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.subscribe(A.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.subscribe(A.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var o=N.tokenizeQuery(R.getFirstTextBlock(n)),a=I.getSelectionScope(o,n);g.updateAutocompleteQuery(r,o,a),this._editorRef&&R.scrollCursorIntoView(this._editorRef.refs.editor)}},t.prototype.componentWillUnmount=function(){O.ComponentDispatch.unsubscribe(A.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.unsubscribe(A.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.unsubscribe(A.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=N.tokenizeQuery(R.getFirstTextBlock(e)).filter(function(e){return e.type!==M.default.NON_TOKEN_TYPE});return R.applyTokensAsEntities(t,e,P.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&g.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!p.default.isOpen(A.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return a.createElement(v.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:l.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e=this.props,t=e.searchId,n=e.editorState,r=e.hasResults,i=e.theme,l=e.className,s=this.state.focused,c=!!R.getFirstTextBlock(n).length;return t?a.createElement(y.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:A.SEARCH_POPOUT_ID,render:this.renderPopout,position:y.default.Positions.BOTTOM,toggleClose:!1,animationType:y.default.Animations.NONE,preventInvert:!0},o("div",{className:(0,u.default)(l,{"theme-dark":i===A.ThemeTypes.DARK})},void 0,o(_.default,{className:(0,u.default)("search",{open:c,focused:s}),onClick:this.focusEditor},void 0,o("div",{className:(0,u.default)("search-bar",{"search-bar-light":i===A.ThemeTypes.LIGHT})},t,this.renderInput(),o(T.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:c||r}))))):null},t}(a.PureComponent);k.displayName="Search",t.default=i.default.connectStores([d.default,s.default,E.default],function(){var e=d.default.getCurrentSearchId();return{searchId:e,isSearching:!!e&&d.default.isSearching(e),editorState:e&&d.default.getEditorState(e)||R.createEmptyEditorState(I.generateDecorators(P.default)),hasResults:d.default.hasResults(e),theme:E.default.theme}})(k),e.exports=t.default},7346:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},7347:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},7348:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=l(n(141)),u=l(n(14)),i=l(n(61));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=10,c=15552e6,f=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default)},t.prototype.isEligible=function(){return f},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return f!==(f=i.default.getFriendIDs().length>=s&&a.default.extractTimestamp(u.default.getId())<Date.now()-c)}}),e.exports=t.default},7349:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=i(n(23)),u=i(n(190));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="surveys",s={},c=new Set([]);function f(){Object.keys(s).length>0?a.default.set(l,s):a.default.remove(l)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([u.default].concat(Array.from(c)),function(){return!0});var e=a.default.get(l)||{};c.forEach(function(t){var n=t.getExperimentId();e[n]&&(s[n]=!0)}),f()},t.prototype.getMetaData=function(e){if(null==e)return null;var t=e.name,n=e.bucket,r=Array.from(c).find(function(e){if(e.getExperimentId()===t)return!0});return null!=r?r.getSurveyMetaData(n):null},t.prototype.getSurveyExperiment=function(){var e=Array.from(c).find(function(e){return!s[e.getExperimentId()]&&null!=u.default.getEligibleExperiment(e.getExperimentId())});return null!=e?u.default.getEligibleExperiment(e.getExperimentId()):null},t}(r.default.Store);t.default=new d(o.default,{SURVEY_HIDE:function(e){var t=e.id;s[t]=!0,f()}}),e.exports=t.default},7350:function(e,t,n){"use strict";t.__esModule=!0,t.isEligibleForGDPRNotice=function(e){return null!=e&&(null==e.email||!e.verified)&&(t=new Date,t.getFullYear()<=2018&&t.getDate()<=25&&t.getMonth()<=5)&&function(e){return e.createdAt<15263424e5}(e);var t}},7427:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,a=e.everyoneFilter;r.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:a})},truncateMentions:function(e){r.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),a.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:u,everyone:i},retries:2}).then(function(t){var n=t.body;r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){a.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),r.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},7428:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=T(n(7)),u=T(n(3)),i=T(n(2)),l=n(0),s=T(n(274)),c=T(n(18)),f=T(n(269)),d=T(n(14)),p=T(n(12)),h=T(n(188)),E=T(n(30)),y=T(n(61)),_=T(n(23));function T(e){return e&&e.__esModule?e:{default:e}}var S="recentMentionFilterSettings",v=[],g={},m=!1,A=!0,R=_.default.get(S,{guildFilter:l.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),N=!1,I=!1;function O(e){if(e instanceof s.default)return e;var t=f.default.getMessage(e.channel_id,e.id);return null!=t?t:s.default.create(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==l.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=c.default.getChannel(t);if(!n||n&&n.type===l.ChannelTypes.DM)return null;if(R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var r=e.author.id,o=d.default.getId();return y.default.isBlocked(r)||r===o?null:(e=O(e)).isMentioned(o,!R.everyoneFilter,!R.roleFilter)?e:null}function M(e){null!=g[e]&&(delete g[e],v=a.default.filter(v,function(t){return t.id!==e}))}function P(e){M(e.id)}function b(e){var t=o({},R);R=a.default.defaults(a.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),R),_.default.set(S,R);var n=function(e,n){return t[e]!==R[e]&&R[e]===n},r=n("guildFilter",l.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);g={};var u=[];r&&v.forEach(function(e){var t=C(e);t&&(u.push(t),g[t.id]=!0)}),0===(v=u).length&&(N=!1)}function L(){a.default.forEach(v,function(e){e.timestamp.locale(E.default.locale)})}function D(){v=v.filter(function(e){return!y.default.isBlocked(e.author.id)})}var F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,c.default,f.default)},t.prototype.isOpen=function(){return I},t.prototype.getMentions=function(){return N||v.length?v:null},r(t,[{key:"hasLoadedEver",get:function(){return N}},{key:"loading",get:function(){return m}},{key:"hasMore",get:function(){return A}},{key:"guildFilter",get:function(){return R.guildFilter}},{key:"everyoneFilter",get:function(){return R.everyoneFilter}},{key:"roleFilter",get:function(){return R.roleFilter}}]),t}(u.default.Store);t.default=new F(i.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;m=!0,null==t&&R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&b({guildFilter:l.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,o=a.default.map(n,O);r?v=v.concat(o):(v=o,g={}),a.default.forEach(o,function(e){g[e.id]=!0}),m=!1,A=t,N=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){m=!1},SET_RECENT_MENTIONS_FILTER:b,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<v.length;++n)delete g[v[n].id];v=v.slice(0,t),A=!0},GUILD_SELECT:function(e){R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&(N=!1)},CONNECTION_OPEN:function(e){return v=[],g={},void(N=!1)},GUILD_DELETE:function(e){var t=e.guild;v=a.default.filter(v,function(e){var n=c.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete g[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=C(e.message,t);if(!n)return!1;(v=v.slice()).unshift(n),g[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=g[t]){var n=a.default.findIndex(v,function(e){return e.id===t}),r=(v=v.slice())[n];v[n]=r.updateMessage(e.message)}},MESSAGE_DELETE:P,RECENT_MENTION_DELETE:P,MESSAGE_DELETE_BULK:function(e){var t=e.ids;a.default.forEach(t,M)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;v=a.default.filter(v,function(e){return e.channel_id!==t.id||(delete g[e.id],!1)})},RELATIONSHIP_ADD:function(e){return D()},RELATIONSHIP_REMOVE:function(e){return D()},MENTION_MODAL_OPEN:function(e){I=!0},MENTION_MODAL_CLOSE:function(e){I=!1}}),e.exports=t.default},7429:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=I(n(56)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(45)),s=I(n(9)),c=I(n(59)),f=I(n(3)),d=I(n(7428)),p=I(n(7427)),h=I(n(6)),E=I(n(6545)),y=n(0),_=n(6169),T=I(_),S=I(n(191)),v=I(n(194)),g=I(n(217)),m=I(n(125)),A=I(n(30)),R=I(n(198)),N=I(n(5806));function I(e){return e&&e.__esModule?e:{default:e}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,r=t.roleFilter,o=t.everyoneFilter,a=t.messageId,u=void 0===a?null:a;n=void 0===n?d.default.guildFilter:n,r=void 0===r?d.default.roleFilter:r,o=void 0===o?d.default.everyoneFilter:o;var i=null;e&&(i=n===y.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),p.default.fetchRecentMentions(u,y.MAX_MENTIONS_PER_FETCH,i,r,o)}var C=(0,l.default)({displayName:"FilterPopout",propTypes:{channel:u.default.instanceOf(m.default)},mixins:[f.default.StoreListenerMixin(d.default),c.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;p.default.setGuildFilter({roleFilter:e}),O(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;p.default.setGuildFilter({everyoneFilter:e}),O(this.props.channel,{everyoneFilter:e})},render:function(){return i.createElement("div",this.props,a("div",{className:(0,s.default)(R.default.contextMenu,"theme-"+A.default.theme,N.default.recentMentionsFilterPopout)},void 0,a(S.default,{},void 0,a(v.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),a(v.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),M=(0,l.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(d.default),c.default],setGuildFilter:function(e){p.default.setGuildFilter({guildFilter:e}),O(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;O(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=h.default.Messages.NO_RECENT_MENTIONS,r=e===y.ThemeTypes.LIGHT?n(7347):n(7346);return a(E.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return h.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return i.createElement(C,o({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||O(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>y.MAX_MENTIONS_PER_FETCH&&p.default.truncateMentions(y.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){p.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return a(E.default,{className:N.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===y.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=h.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(e=h.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):e=h.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:e=h.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var t=null,n=this.state.guildFilter;return this.props.channel&&!this.props.channel.isPrivate()?t=a(_.TabBarItem,{},y.RecentMentionsFilters.THIS_SERVER,h.default.Messages.THIS_SERVER):n=y.RecentMentionsFilters.ALL_SERVERS,a(E.default.Header,{title:h.default.Messages.RECENT_MENTIONS,className:N.default.header},void 0,a("div",{className:N.default.headerTabBarWrapper},void 0,a(T.default,{selectedItem:n,onItemSelect:this.setGuildFilter,type:_.TabBarTypes.TOP,className:N.default.tabBar},void 0,a(_.TabBarItem,{className:N.default.tabBarItem},y.RecentMentionsFilters.ALL_SERVERS,h.default.Messages.ALL_SERVERS),t),a(g.default,{render:this.renderDisplayPopout,position:g.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,a("div",{className:N.default.mentionFilter},void 0,a("div",{className:N.default.label},void 0,h.default.Messages.RECENT_MENTIONS_FILTER_LABEL),a("div",{className:N.default.value},void 0,e)))))}});t.default=M,e.exports=t.default},7430:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(3)),a=i(n(2)),u=(n(0),i(n(505)));function i(e){return e&&e.__esModule?e:{default:e}}var l=[],s=6;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"featuredArticles",get:function(){return l}}]),t}(o.default.Store);t.default=new c(a.default,{FEATURED_HELP_ARTICLES:function(e){var t=e.articles;l=t.slice(0,s).map(function(e){return{id:e.id,title:e.title,htmlUrl:u.default.getArticleURL(e.id)}})}}),e.exports=t.default},7431:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(505)),u=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={loadFeaturedArticles:function(){u.default.get(a.default.getFeaturedArticlesJsonURL()).then(function(e){var t=e.body.articles||[];r.default.dispatch({type:o.ActionTypes.FEATURED_HELP_ARTICLES,articles:t})})}},e.exports=t.default},7432:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===u)t.children=o;else if(u>1){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(56)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(45)),l=_(n(3)),s=_(n(9)),c=_(n(7431)),f=_(n(505)),d=_(n(930)),p=_(n(157)),h=_(n(7430)),E=_(n(938));n(5831);var y=_(n(6));function _(e){return e&&e.__esModule?e:{default:e}}var T=o("div",{className:"poop"}),S=o(d.default,{}),v=(0,i.default)({displayName:"NeedHelp",mixins:[l.default.StoreListenerMixin(h.default),E.default],propTypes:{handleClose:a.default.func},statics:{key:function(){return"need-help-modal"}},getInitialState:function(){return{failed:!1}},getStateFromStores:function(){var e=h.default.featuredArticles;return{loading:0===e.length,contentLoaded:e.length>0,content:e}},UNSAFE_componentWillMount:function(){var e=this;this.setTimeout(function(){return e.setState({failed:e.state.loading})},5e3),c.default.loadFeaturedArticles()},componentWillUnmount:function(){this.props.handleClose&&this.props.handleClose()},componentDidUpdate:function(e,t){!t.contentLoaded&&this.state.contentLoaded&&this.refs.query.focus()},handleSubmit:function(e){e.preventDefault();var t=this.refs.query.value,n=f.default.getSearchURL(t);window.open(n,"_blank"),this.props.onClose()},render:function(){var e=null;if(this.state.contentLoaded){var t=this.state.content.map(function(e){return o("li",{},e.id,o(p.default,{href:e.htmlUrl},void 0,e.title))});e=o("ul",{},void 0,t)}else e=this.state.failed?o("div",{className:"failed"},void 0,T,y.default.Messages.NEED_HELP_FAILED_LOADING.format()):S;return o("form",{className:(0,s.default)("modal-content","form","deprecated","need-help-modal",this.props.className),onSubmit:this.handleSubmit},void 0,o("div",{className:"header control-group"},void 0,o("h1",{className:"old-h1"},void 0,y.default.Messages.NEED_HELP_TITLE_QUESTION),u.createElement("input",{id:"help-query",ref:"query",type:"text",placeholder:y.default.Messages.NEED_HELP_SEARCH_PLACEHOLDER})),o("div",{className:(0,s.default)("form-inner",{loading:!this.state.loaded})},void 0,e),o("div",{className:"footer"},void 0,y.default.Messages.NEED_HELP_SUBMIT_REQUEST.format({submitRequestURL:f.default.getSubmitRequestURL()})))}});t.default=v,e.exports=t.default},7433:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(11)),o=i(n(13)),a=n(0),u=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}var l=36e5,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,r.default.embedded&&(r.default.on(a.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates.bind(this)),r.default.on(a.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable.bind(this)),r.default.on(a.ActionTypes.UPDATE_AVAILABLE,this._handleUpdateAvailable.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_ERROR,this._handleUpdateError.bind(this)),r.default.on(a.ActionTypes.UPDATE_DOWNLOADED,this._handleUpdateDownloaded.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually.bind(this))),this._checkInterval=setInterval(this.checkForUpdates.bind(this),t)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.hasNativeUpdate?r.default.send("QUIT_AND_INSTALL"):location.reload(!0)},e.prototype.checkForUpdates=function(){this.updateAvailable||(r.default.embedded?r.default.send("CHECK_FOR_UPDATES"):this._handleNativeUpdateNotAvailable())},e.prototype._handleCheckingForUpdates=function(){u.default.dispatch({type:a.ActionTypes.CHECKING_FOR_UPDATES})},e.prototype._handleNativeUpdateNotAvailable=function(){var e=this;this._handleCheckingForUpdates(),o.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(t){"cd46a700dd7e1b2b7d1c26847691e489dc2b6b27"!==t.body.hash&&t.body.required?e._handleUpdateDownloaded(!1):e._handleUpdateNotAvailable()},function(){return e._handleUpdateError()})},e.prototype._handleUpdateNotAvailable=function(){u.default.dispatch({type:a.ActionTypes.UPDATE_NOT_AVAILABLE})},e.prototype._handleUpdateAvailable=function(e){this.updateAvailable=!0,this.hasNativeUpdate=e,u.default.dispatch({type:a.ActionTypes.UPDATE_AVAILABLE})},e.prototype._handleUpdateManually=function(){this.updateAvailable=!0,this.hasNativeUpdate=!0,u.default.dispatch({type:a.ActionTypes.UPDATE_MANUALLY})},e.prototype._handleUpdateError=function(e){this.updateAvailable=!1,u.default.dispatch({type:a.ActionTypes.UPDATE_ERROR,message:e})},e.prototype._handleUpdateDownloaded=function(e,t,n,r,o){this._handleUpdateAvailable(e),u.default.dispatch({type:a.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:t,releaseName:n,releaseDate:r,updateURL:o})},e}();t.default=s,e.exports=t.default},7434:function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=a(n(6546));function a(e){return e&&e.__esModule?e:{default:e}}var u=new(a(n(7433)).default);window.autoUpdate=u,t.default={checkForUpdates:function(){o.default.getState()===r.ActionTypes.UPDATE_NOT_AVAILABLE&&u.checkForUpdates()},quitAndInstall:function(){o.default.getState()===r.ActionTypes.UPDATE_DOWNLOADED&&u.quitAndInstall()}},e.exports=t.default}}]);
//# sourceMappingURL=45974a043716c5a96628.js.map