"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["89289"],{495682:function(e){e.exports="/assets/153f9d50b423a199.gif"},458060:function(e){e.exports="/assets/1071e0c5ceaf6ef7.png"},145908:function(e){e.exports="/assets/918ac9ba948b5e6b.gif"},690695:function(e){e.exports="/assets/ca693e3ef16951f4.png"},842786:function(e){e.exports="/assets/e629538747745c9a.gif"},460790:function(e){e.exports="/assets/6d14801ca95f25f1.png"},578831:function(e){e.exports="/assets/963f22200d58a4d8.gif"},642193:function(e){e.exports="/assets/4637e85fff87537c.png"},621961:function(e,t,n){n.d(t,{C6:()=>l,GY:()=>s,Kq:()=>i});var r=n(981631),a=n(486324);function l(e,t){let{isGIF:n}=t;if(e===a.pC.GUILD_BANNER)return n?r.oNc.ANIMATED_BANNER:r.oNc.BANNER}function i(e){return e===a.pC.AVATAR||e===a.pC.BANNER}function s(e){return e===a.pC.BANNER}},28130:function(e,t,n){n.d(t,{default:()=>U});var r=n(951288),a=n(647438),l=n(120356),i=n.n(l),s=n(442837),o=n(481060),c=n(100527),u=n(906732),d=n(807582),f=n(813197),p=n(222062),g=n(530329),m=n(373230),h=n(72703),b=n(782818),j=n(442552),y=n(430824),x=n(914010),A=n(594174),v=n(626135),C=n(267642),O=n(74538),E=n(621961),N=n(884858),S=n(981631),w=n(486324),P=n(869783),T=n(388032),R=n(133495);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let F=[{gif:n(495682),png:n(458060)},{gif:n(842786),png:n(460790)},{gif:n(578831),png:n(642193)},{gif:n(145908),png:n(690695)}];function Z(e){let{shouldAnimate:t=!0}=e;return(0,r.jsx)("div",{className:R.gifGrid,children:F.map(e=>(0,r.jsx)("div",{className:R.gif,style:{backgroundImage:"url(".concat(t?e.gif:e.png,")")}},e.gif))})}function D(e){let{guildFeature:t,guild:n}=e;if(null==t||null==n)return;let r=(0,C._p)(t),a=n.features.has(t);if(null==r)return;let l=(0,C.nW)(r);return a?T.intl.formatToPlainString(T.t.u3L3TU,{levelName:l}):T.intl.formatToPlainString(T.t["r/v25e"],{levelName:l})}function I(e){let{guildFeature:t,guild:n}=e;return(0,r.jsx)("div",{className:R.boostingPill,children:(0,r.jsx)(d.Z,{guildFeature:t,guild:n,hideTooltip:!0})})}function k(e){let{icon:t,label:n,guildFeature:a,guild:l,shouldShowPremiumIcon:s}=e,c=null!=l&&null!=a;return(0,r.jsxs)("div",{className:i()(R.optionDescription,{[R.hasBoostingPill]:c}),"aria-hidden":!0,children:[(0,r.jsxs)("div",{className:R.optionIconAndLabel,children:[t,(0,r.jsxs)(o.Text,{variant:"text-sm/semibold",className:i()(R.optionLabelText,{[R.hasPremiumIcon]:s}),children:[s&&(0,r.jsx)(o.DY3,{text:T.intl.string(T.t["5AFxuL"]),children:(0,r.jsx)(o.SrA,{size:"xs",color:"currentColor",className:R.premiumWheel})}),n]})]}),c&&(0,r.jsx)(I,{guild:l,guildFeature:a})]})}function M(e){let{label:t,uploadType:n,guild:a,maxFileSizeBytes:l,filters:s,handleOpenImageEditingModal:c,handleFileSizeError:u}=e,d=(0,E.GY)(n),p=(0,E.C6)(n,{isGIF:!1}),g=D({guildFeature:p,guild:a});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.tEY,{within:!0,children:(0,r.jsxs)("div",{className:i()(R.option,R.imageUploadOption),children:[(0,r.jsx)(k,{icon:(0,r.jsx)(o.FmF,{size:"md",color:"currentColor"}),label:t,guildFeature:p,guild:a,shouldShowPremiumIcon:d}),(0,r.jsx)(f.ZP,{"aria-label":t,tabIndex:0,onChange:c,maxFileSizeBytes:l,onFileSizeError:u,filters:s,multiple:!1})]})}),null!=g&&(0,r.jsx)(o.nn4,{children:g})]})}function L(e){let{uploadType:t,guild:n,handleOpenGIFPickerModal:a}=e,{shouldAnimate:l,onMouseEnter:i,onMouseLeave:s}=(0,j.Z)(),c=(0,E.Kq)(t),u=(0,E.C6)(t,{isGIF:!0}),d=D({guildFeature:u,guild:n});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.P3F,{className:R.option,onClick:a,"aria-label":T.intl.string(T.t["xsC+//"]),onMouseEnter:i,onMouseLeave:s,children:[(0,r.jsx)(Z,{shouldAnimate:l}),(0,r.jsx)(k,{icon:(0,r.jsx)(o.OUq,{size:"md",color:"currentColor"}),label:T.intl.string(T.t["xsC+//"]),guildFeature:u,guild:n,shouldShowPremiumIcon:c})]}),null!=d&&(0,r.jsx)(o.nn4,{children:d})]})}function U(e){let{transitionState:t,onClose:l,onComplete:i,uploadType:d,maxFileSizeBytes:f,showUpsellHeader:j,filters:C,analyticsLocation:E,analyticsLocations:F=[],imageSpecifications:Z,modalTitle:D=T.intl.string(T.t.DToW4e),uploadOptionTitle:I=T.intl.string(T.t["MsUY/f"]),allowRecentAvatarsSelection:k=!0}=e,U=(0,s.e7)([A.default],()=>A.default.getCurrentUser()),B=(0,s.e7)([x.Z],()=>x.Z.getGuildId()),H=(0,s.e7)([y.Z],()=>y.Z.getGuild(B)),V=(0,o.vRw)(),z=d===w.pC.AVATAR||d===w.pC.BANNER,G=!O.ZP.canUseAnimatedAvatar(U)&&d===w.pC.AVATAR,q=(0,p.M)(!z),W=(0,m.T)({location:"NewSelectImageModal"})&&k,{analyticsLocations:Y,newestAnalyticsLocation:X}=(0,u.ZP)(F,c.Z.SELECT_IMAGE_MODAL),J=a.useCallback(e=>{let{assetOrigin:t=h.q.NEW_ASSET,imageUri:n,file:r,originalAsset:a,isFromTenor:s=!1}=e;l(),i({assetOrigin:t,imageUri:n,file:r,originalAsset:a,isFromTenor:s})},[l,i]),K=a.useCallback((e,t)=>{if(t.type===P.m.MP4)return J({imageUri:e,file:t});(0,o.ZDy)(async()=>{let{default:a}=await Promise.all([n.e("59732"),n.e("11866")]).then(n.bind(n,712451));return n=>(0,r.jsx)(a,_({imageUri:e,file:t,onCrop:J,uploadType:d,showUpsellHeader:j,analyticsPage:null==E?void 0:E.page},n))},{contextKey:V})},[null==E?void 0:E.page,V,J,j,d]),$=a.useCallback(()=>{(0,N.Z)(f)},[f]),Q=a.useCallback(()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("72891").then(n.bind(n,195297));return t=>(0,r.jsx)(e,_({uploadType:d,onComplete:e=>{let{imageUri:t,file:n}=e;return J({imageUri:t,file:n,isFromTenor:!0})},showUpsellHeader:j,analyticsPage:null==E?void 0:E.page},t))},{contextKey:V})},[null==E?void 0:E.page,V,J,j,d]);a.useEffect(()=>{G&&v.default.track(S.rMx.PREMIUM_UPSELL_VIEWED,{type:S.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location_stack:Y}),v.default.track(S.rMx.OPEN_MODAL,{type:S.jXE.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location:E,location_stack:Y,upload_type:d})},[G,E,Y,d]);let ee=j&&q,et=d===w.pC.AVATAR&&W;return(0,r.jsxs)(o.Y0X,{transitionState:t,size:o.CgR.DYNAMIC,className:R.modal,parentComponent:"SelectImageModal",children:[(0,r.jsxs)(o.xBx,{className:R.modalHeader,separator:!1,children:[(0,r.jsx)(o.X6q,{variant:"heading-lg/semibold",children:D}),(0,r.jsx)(o.olH,{onClick:l,className:R.modalCloseButton})]}),(0,r.jsxs)(o.hzk,{className:R.modalContent,children:[(0,r.jsxs)("div",{className:R.imageSelectionSection,children:[(0,r.jsxs)("ul",{className:R.optionsList,"aria-label":T.intl.string(T.t.iBnqtb),children:[(0,r.jsx)("li",{children:(0,r.jsx)(M,{label:I,uploadType:d,guild:H,handleOpenImageEditingModal:K,maxFileSizeBytes:f,filters:C,handleFileSizeError:$})}),(0,r.jsx)("li",{children:(0,r.jsx)(L,{uploadType:d,guild:H,handleOpenGIFPickerModal:Q})})]}),null!=Z?(0,r.jsx)(o.Text,{className:R.imageSpecifications,variant:"text-sm/normal",color:"text-muted",children:Z}):null]}),et&&(0,r.jsx)(b.Z,{onComplete:J}),ee&&(0,r.jsx)(g.Z,{uploadType:d,analyticsSource:X,showUpsell:!0,position:"inline",showShadow:!1,className:R.premiumUpsell})]})]})}},530329:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),a=n(647438),l=n(120356),i=n.n(l),s=n(53691),o=n(378879),c=n(981631),u=n(486324),d=n(388032),f=n(463339);function p(e){var{uploadType:t,analyticsSource:n,className:l}=e,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["uploadType","analyticsSource","className"]);let g=a.useCallback(()=>{(0,o.s)({uploadType:t,analyticsSource:n})},[t,n]),m=a.useMemo(()=>{switch(t){case u.pC.AVATAR:return d.intl.format(d.t["pvw/HB"],{onClick:g});case u.pC.BANNER:return d.intl.format(d.t.aCrz1d,{onClick:g});default:return""}},[t,g]);return t!==u.pC.AVATAR&&t!==u.pC.BANNER?null:(0,r.jsx)(s.p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({text:m,button:d.intl.string(d.t.BmJkbW),buttonAnalyticsObject:{section:c.jXE.USER_PROFILE},className:i()(f.container,l)},p))}},225516:function(e,t,n){n.d(t,{B:()=>f,N:()=>d});var r=n(544891),a=n(481060),l=n(570140),i=n(668781),s=n(881052),o=n(482207),c=n(981631),u=n(388032);async function d(){if(o.Z.shouldFetch){l.Z.dispatch({type:"RECENT_AVATARS_FETCH_START"});try{let e=await r.tn.get({url:c.ANM.RECENT_AVATARS,rejectWithError:!0});l.Z.dispatch({type:"RECENT_AVATARS_FETCH_SUCCESS",avatars:e.body.avatars.map(e=>{var t,n,{storage_hash:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["storage_hash"]);return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a),n={storageHash:r},n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t})})}catch(e){l.Z.dispatch({type:"RECENT_AVATARS_FETCH_FAILURE",error:new s.Hx(e)})}}}async function f(e){try{await r.tn.del({url:c.ANM.RECENT_AVATARS_DELETE(e),rejectWithError:!0}),await l.Z.dispatch({type:"RECENT_AVATAR_DELETE",avatarId:e}),a.uvj.announce(u.intl.string(u.t.YJPieH))}catch(e){i.Z.show({title:u.intl.string(u.t.iufib2),body:u.intl.string(u.t["/ZNT+/"])})}}},598989:function(e,t,n){n.d(t,{S:()=>l});var r=n(442837),a=n(482207);function l(){return(0,r.cj)([a.Z],()=>({avatars:a.Z.getAvatars(),loading:a.Z.isFetching,error:a.Z.fetchError}))}},482207:function(e,t,n){n.d(t,{Z:()=>d});var r,a,l=n(442837),i=n(570140);let s=()=>({isFetching:!1,lastFetchedAt:null,error:null}),o=[],c=s();class u extends(a=l.ZP.Store){get isFetching(){return c.isFetching}get fetchError(){return c.error}get shouldFetch(){var e;return Date.now()-(null!=(e=c.lastFetchedAt)?e:0)>3e5&&!c.isFetching}getAvatars(){return o}}(r="displayName")in u?Object.defineProperty(u,r,{value:"RecentAvatarsStore",enumerable:!0,configurable:!0,writable:!0}):u[r]="RecentAvatarsStore";let d=new u(i.Z,{RECENT_AVATARS_FETCH_START:function(){c.isFetching=!0,c.error=null},RECENT_AVATARS_FETCH_SUCCESS:function(e){let{avatars:t}=e;o=t,c.isFetching=!1,c.lastFetchedAt=Date.now()},RECENT_AVATARS_FETCH_FAILURE:function(e){let{error:t}=e;c.isFetching=!1,c.error=t},RECENT_AVATARS_UPDATE:function(){c.lastFetchedAt=0},RECENT_AVATAR_DELETE:function(e){let{avatarId:t}=e;o=o.filter(e=>e.id!==t)},LOGOUT:function(){o=[],c=s()}})},27367:function(e,t,n){n.d(t,{m:()=>r});let r=n(481060).EFr.SIZE_56},898331:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var a=n(120356),l=n.n(a),i=n(481060),s=n(27367),o=n(328241);function c(e){let{className:t,size:n=s.m}=e,a=(0,i.pxk)(n);return(0,r.jsx)("svg",{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),className:l()(o.placeholderFill,t),"aria-hidden":!0,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M44.4505 50.6604C44.3703 50.7187 44.2897 50.7766 44.2088 50.8341C43.105 51.6191 41.9418 52.3261 40.7273 52.9469C36.9087 54.8989 32.583 56 28 56C23.417 56 19.0913 54.8989 15.2727 52.9469C15.2661 52.9436 15.2595 52.9402 15.253 52.9368C13.9566 52.2728 12.7189 51.5108 11.5495 50.6604C9.38994 49.0899 7.46354 47.2183 5.832 45.1072C5.467 44.6349 5.11675 44.1506 4.78196 43.6551C1.76288 39.1862 0 33.799 0 28C0 12.536 12.536 0 28 0C43.464 0 56 12.536 56 28C56 34.442 53.8244 40.376 50.168 45.1072C48.5365 47.2183 46.6101 49.0899 44.4505 50.6604ZM40.2456 47.3651C36.7036 49.6096 32.5036 50.9091 28 50.9091C23.4964 50.9091 19.2964 49.6096 15.7544 47.3651L16.3313 41.5957C16.3944 40.965 15.6427 40.6731 15.2985 41.2054C14.56 42.3472 13.7498 43.7851 13.0644 45.3716C11.1151 43.6941 9.4513 41.6942 8.15574 39.4546C12.1168 32.607 19.5204 28 28 28C36.4796 28 43.8832 32.607 47.8443 39.4546C46.5487 41.6942 44.8849 43.6941 42.9356 45.3716C42.2502 43.7851 41.44 42.3472 40.7015 41.2054C40.3573 40.6731 39.6056 40.965 39.6687 41.5957L40.2456 47.3651ZM28 25.4545C32.9204 25.4545 36.9091 21.4658 36.9091 16.5455C36.9091 11.6251 32.9204 7.63636 28 7.63636C23.0796 7.63636 19.0909 11.6251 19.0909 16.5455C19.0909 21.4658 23.0796 25.4545 28 25.4545Z"})})}},782818:function(e,t,n){n.d(t,{Z:()=>C}),n(953529),n(388685);var r=n(951288),a=n(647438),l=n(120356),i=n.n(l),s=n(442837),o=n(481060),c=n(594174),u=n(643879),d=n(225516),f=n(598989),p=n(898331),g=n(841183),m=n(981631),h=n(486324),b=n(485696),j=n(388032),y=n(916340);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e){let{avatar:t,index:n,onSelectRecentAvatar:a,onDeleteRecentAvatar:l,avatarButtonRef:i}=e,{id:s,storageHash:c,description:u=j.intl.string(j.t.lqaIxM)}=t,{avatarSrc:d,eventHandlers:f}=(0,g.Z)({avatarId:s,storageHash:c}),{onMouseEnter:p,onMouseLeave:m}=f,h=null!=u?u:c.substring(0,6).toUpperCase(),b=j.intl.formatToPlainString(j.t["tmJ75+"],{orderNumber:n+1,description:h}),A=j.intl.formatToPlainString(j.t.pBzwhY,{orderNumber:n+1,description:h});return(0,r.jsxs)("div",{className:y.recentAvatarButtonContainer,children:[(0,r.jsx)(o.P3F,{onClick:()=>a(t),onMouseEnter:p,onMouseLeave:m,className:y.recentAvatarButton,"aria-label":b,innerRef:i,children:(0,r.jsx)("img",{src:d,alt:u,className:y.recentAvatar})}),(0,r.jsx)(o.ua7,{text:j.intl.string(j.t.N86XcH),delay:340,children:e=>{var t,a;return(0,r.jsx)(o.P3F,(t=x({},e),a=a={"aria-label":A,onClick:e=>l(e,n,s,c,A),className:y.deleteButton,children:(0,r.jsx)(o.XHJ,{size:"xs",color:"currentColor",className:y.deleteIcon})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}),t))}})]})}function v(e){let{onComplete:t}=e,l=(0,s.e7)([c.default],()=>c.default.getCurrentUser()),{avatars:i,loading:g,error:v}=(0,f.S)(),C=a.useRef([]),O=a.useRef(null),E=a.useRef(i.length),N=a.useRef(null),[S,w]=a.useState(!1),[P,T]=a.useState(!1),[R,_]=a.useState(null),F=null!=R?R:null==v?void 0:v.message,Z=i.length,D=Math.max(b.iZ-Z,0),I=(0,o.vRw)(),k=a.useCallback(async e=>{if(null==l||S)return;w(!0),_(null);let{id:a,storageHash:i,description:s}=e,c=(0,u.fD)({userId:l.id,avatarId:a,storageHash:i,size:m.dGM,canAnimate:!0,allowWebp:!1});try{let a=await fetch(c),l=await a.blob(),{filename:d,type:f}=(0,u.mh)(i,s);(0,o.ZDy)(async()=>{let{default:a}=await Promise.all([n.e("59732"),n.e("11866")]).then(n.bind(n,712451));return n=>(0,r.jsx)(a,x({imageUri:c,file:new File([l],d,{type:f}),originalAsset:e,onCrop:t,uploadType:h.pC.AVATAR,showUpsellHeader:!0},n))},{contextKey:I})}catch(e){_(j.intl.string(j.t.fZRH9P))}finally{w(!1)}},[I,S,t,l]),M=a.useCallback((e,t,a,l,s)=>{let c=t+1<i.length?t+1:t-1;N.current=c>=0?C.current[c]:O.current,e.shiftKey?(0,d.B)(a):(T(!0),(0,o.ZDy)(async()=>{let{default:e}=await n.e("70871").then(n.bind(n,225525));return t=>{var{onClose:n}=t,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["onClose"]);return(0,r.jsx)(e,x({avatarId:a,storageHash:l,avatarDescription:s,onConfirmDelete:()=>(0,d.B)(a),onClose:async()=>{await n(),requestAnimationFrame(()=>{T(!1)})}},i))}}))},[i]);return(a.useEffect(()=>{(0,d.N)()},[]),a.useEffect(()=>{P||(i.length<E.current&&null!=N.current&&requestAnimationFrame(()=>{var e;null==(e=N.current)||e.focus()}),E.current=i.length)},[i.length,P]),g)?(0,r.jsx)(o.$jN,{className:y.spinner}):(0,r.jsxs)("div",{className:y.recentAvatarContainer,children:[null!=F&&!g&&(0,r.jsx)(o.Text,{variant:"text-sm/normal",color:"text-danger",children:F}),(0,r.jsxs)("div",{className:y.recentAvatarSlots,children:[Z>0&&(0,r.jsx)("ul",{"aria-label":j.intl.string(j.t.lsU63N),className:y.recentAvatarList,children:i.map((e,t)=>(0,r.jsx)("li",{children:(0,r.jsx)(A,{avatar:e,index:t,onSelectRecentAvatar:k,onDeleteRecentAvatar:M,avatarButtonRef:e=>{C.current[t]=e}})},e.id))}),D>0&&(0,r.jsxs)("div",{className:y.emptyAvatarSlots,tabIndex:-1,ref:O,children:[(0,r.jsxs)(o.nn4,{children:[0===Z&&(0,r.jsxs)(r.Fragment,{children:[j.intl.string(j.t.x0DsRU)," "]}),j.intl.format(j.t["8W2HOz"],{numberOfEmptyAvatarSlots:D})]}),[...Array(D)].map((e,t)=>(0,r.jsx)(p.Z,{className:y.avatarPlaceholder},t))]})]})]})}function C(e){let{className:t,onComplete:n}=e;return(0,r.jsxs)("div",{className:i()(y.container,t),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.vwX,{className:y.recentAvatarsHeading,children:j.intl.string(j.t.Bnq9zM)}),(0,r.jsx)(o.Text,{variant:"text-sm/normal",color:"text-secondary",children:j.intl.format(j.t["+CyJu7"],{recentAvatarsLimit:b.iZ})})]}),(0,r.jsx)(v,{onComplete:n})]})}},841183:function(e,t,n){n.d(t,{Z:()=>u});var r=n(647438),a=n(442837),l=n(481060),i=n(442552),s=n(314897),o=n(643879),c=n(27367);function u(e){let{avatarId:t,storageHash:n,size:u}=e,{onMouseEnter:d,onMouseLeave:f,shouldAnimate:p}=(0,i.Z)(),g=(0,a.e7)([s.default],()=>s.default.getId());return{avatarSrc:r.useMemo(()=>(0,o.fD)({userId:g,avatarId:t,storageHash:n,canAnimate:p,size:(0,l.pxk)(null!=u?u:c.m)}),[g,t,n,p,u]),isAvatarAnimating:p,eventHandlers:{onMouseEnter:d,onMouseLeave:f}}}},485696:function(e,t,n){n.d(t,{iZ:()=>r});let r=6}}]);
//# sourceMappingURL=a082ff7b2b9b84cd.js.map