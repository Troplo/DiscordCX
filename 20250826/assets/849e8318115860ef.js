(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9456"],{286543:function(e){e.exports=function(e,t,n){if("function"!=typeof e)throw TypeError("Expected a function");return setTimeout(function(){e.apply(void 0,n)},t)}},196434:function(e,t,n){var r=n(286543);e.exports=n(956656)(function(e,t){return r(e,1,t)})},504764:function(e){"use strict";e.exports="/assets/e8f208ce40f2814c.svg"},906739:function(e){"use strict";e.exports="/assets/d0f129a0c1627f7a.png"},965358:function(e){"use strict";e.exports="/assets/fddfcda2eca5c8d4.png"},420196:function(e){"use strict";e.exports="/assets/b58ce8ba4d6516a2.png"},433075:function(e){"use strict";e.exports="/assets/9ed42f4f17fd8793.png"},184476:function(e){"use strict";e.exports="/assets/c42cecffc003efa2.svg"},67158:function(e,t,n){"use strict";n.d(t,{Z:()=>m}),n(388685);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(524825),o=n(318766),c=n(28546),d=n(957825),u=n(564355);let m=i.memo(i.forwardRef(function(e,t){let{disabled:n,type:a,className:m,onClick:h}=e,[g,f]=(0,c.Iu)(e=>[e.activeView,e.activeViewType],s.X),x=i.useCallback(()=>{(0,c.j9)(a),null==h||h()},[a,h]);return n?null:(0,r.jsx)("div",{className:l()(d.CT,u.buttonContainer),ref:t,children:(0,r.jsx)(o.Z,{className:l()(u.emojiButton,m),onClick:x,active:(g===d.X1.GIF||g===d.X1.EMOJI||g===d.X1.STICKER)&&f===a,tabIndex:0,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}}})})}))},681154:function(e,t,n){"use strict";n.d(t,{Gx:()=>o,Op:()=>c,T4:()=>s,V_:()=>l}),n(781311);var r=n(539573),i=n(388032);function a(e,t){return{type:e,message:null!=t?t:null}}function l(){return a(0,i.intl.string(i.t["71wuR0"]))}function s(){return a(0,i.intl.string(i.t["w/BT3N"]))}function o(e,t){return a(1,(0,r.$q)(e,null==t?void 0:t.id))}function c(e,t){var n;return null==e||0===e.type&&null!=t.content&&t.content.trim().length>0||2===e.type&&null!=t.tags&&t.tags.length>0?null:null!=(n=e.message)?n:null}},993259:function(e,t,n){"use strict";n.d(t,{E:()=>c,K:()=>o}),n(388685),n(642613);var r=n(149765),i=n(605436),a=n(345162),l=n(700785),s=n(981631);function o(e){return[...e].sort(i.W).map(e=>(0,i.X0)(e))}function c(e,t,n){return e.filter(e=>(0,a.Fs)(e,s.Plq.ADMINISTRATOR)||((e,t,n)=>{if(null==e.id)return!1;let i=l.I0({forceRoles:{[e.id]:e},context:n});return r.e$(i,t)})(e,n,t))}},90372:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var r=n(647438),i=n(451478),a=n(830917),l=n(985518);let s={useForumChannelSeenManager:function(e){let{guildId:t,channelId:n}=e,s=r.useRef(null),o=(0,a.UU)(),c=!i.Z.isFocused(o);return r.useLayoutEffect(()=>(null==s.current&&(s.current=new l.ZP({guildId:t,channelId:n,isPaused:c,windowId:o}),s.current.initialize()),()=>{var e;null==(e=s.current)||e.terminate(),s.current=null}),[n,t,c,o]),s.current}}},259637:function(e,t,n){"use strict";n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(658722),a=n.n(i),l=n(442837),s=n(481060),o=n(596454),c=n(339085),d=n(456269),u=n(388032),m=n(613576);let h=e=>{let{tag:t}=e,{id:n,name:i,emojiId:a,emojiName:d}=t,u=(0,l.e7)([c.ZP],()=>null!=a?c.ZP.getUsableCustomEmojiById(a):null),h=null!=a||null!=d;return(0,r.jsx)(s.lo1,{value:n,children:(0,r.jsx)(s.lo1.Label,{children:(0,r.jsxs)("div",{className:m.row,children:[h?(0,r.jsx)(o.Z,{className:m.__invalid_emoji,emojiId:a,emojiName:d,animated:!!(null==u?void 0:u.animated)}):(0,r.jsx)(s.lO_,{size:"md",color:"currentColor",className:m.__invalid_emoji}),(0,r.jsx)(s.Text,{variant:"text-md/semibold",color:"header-secondary",children:i})]})})},n)};function g(e){let{parentChannel:t,appliedTags:n,maxTagsApplied:i,onSelectTag:l,onClose:o}=e,c=(0,d.Vm)(t);return(0,r.jsx)(s.DBG,{showScrollbar:!0,value:n,onChange:e=>{(!i||n.has(e))&&(l(e),o())},placeholder:u.intl.string(u.t.MbhGm5),"aria-label":u.intl.string(u.t.MbhGm5),children:e=>c.filter(t=>a()(e.toLowerCase(),t.name.toLowerCase())).map(e=>(0,r.jsx)(h,{tag:e},e.id))})}},346975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>e_}),n(35282),n(388685),n(781311);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(196434),o=n.n(s),c=n(524825),d=n(91192),u=n(924826),m=n(536895),h=n(313361),g=n(442837),f=n(704215),x=n(755721),p=n(481060),b=n(561472),j=n(393238),v=n(607070),_=n(933557),C=n(243778),y=n(71619),w=n(898188),T=n(41776),O=n(256413),S=n(292853),P=n(869382),N=n(982168),I=n(216572),E=n(543015),R=n(359110),M=n(897473),Z=n(344185),k=n(235449),A=n(665906),L=n(488131),F=n(433355),D=n(592125),z=n(703558),H=n(607744),B=n(944486),U=n(117530),V=n(451478),G=n(459273),q=n(961675),W=n(883429),X=n(238349),K=n(109434),J=n(456269),Y=n(90372),Q=n(985518),$=n(228392),ee=n(355589),et=n(542581),en=n(639184),er=n(404616),ei=n(470623),ea=n(749913),el=n(219664),es=n(895932),eo=n(479099),ec=n(510060),ed=n(276357),eu=n(81490),em=n(482062),eh=n(260503),eg=n(981631),ef=n(124368),ex=n(388032),ep=n(816922);function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ej(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ev(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e_(e){let{channel:t,guild:n,sidebarState:i}=e;return(0,r.jsx)(ei.oL,{channel:t,children:(0,r.jsx)(eN,{channel:t,guild:n,sidebarState:i})},t.id)}let eC=new ec.Me({minWidth:320,maxWidth:450,gap:16});function ey(e){return"forum-grid-header-section-".concat(e)}let ew=(e,t,n)=>0===e?0:(0,ec.KW)(n);function eT(e){let{itemRole:t,coords:n,section:i}=e;return(0,r.jsx)("div",{className:l()(ep.card,ep.archivedDividerRow,ep.columnsSpan),style:n,"data-item-role":t,children:(0,r.jsx)("div",{className:ep.emptyMainCard,children:(0,r.jsx)(p.X6q,{variant:"eyebrow",className:ep.archivedDivider,id:ey(i),children:ex.intl.string(ex.t["3+LO19"])})})},"section-divider")}function eO(e){let{section:t,coords:n,key:i,isShowingSearchResult:a,hasActiveThreads:l}=e;return()=>2===t&&!a&&l?(0,r.jsx)(eT,{section:t,coords:null==n?void 0:ej(eb({},n),{position:"absolute"}),itemRole:"section"},i):null}function eS(e,t){return"card-".concat(e,"-").concat(t)}function eP(e){if("string"==typeof e){let t=e.match(/card-{\d+}-({\d+})$/);return null==t?null:t[1]}return null}function eN(e){let{channel:t,sidebarState:n}=e,{editorHeight:a,editorAdditionRowHeight:s,listViewCardHeights:o,formOpen:u}=(0,ei.xH)(e=>{let{editorHeight:t,editorAdditionRowHeight:n,listViewCardHeights:r,formOpen:i,cardHeightVersion:a}=e;return{editorHeight:t,editorAdditionRowHeight:n,listViewCardHeights:r,formOpen:i,cardHeightVersion:a}},c.X),{activeThreadIds:m,archivedThreadIds:f,searchResults:x,canLoadMore:j,loadMore:_,activeThreadsLoading:C,archivedThreadsLoading:y,loading:w,isSearchLoading:I,layoutType:A}=function(e){let{sortOrder:t,tagFilter:n,layoutType:r,tagSetting:i}=(0,K.H)(e.id),a=(0,J.vP)({channel:e,sortOrder:t,tagFilter:n,tagSetting:i,shouldAutomaticallyAck:!0}),l=(0,g.e7)([Z.Z,T.Z],()=>{let t=Z.Z.hasLoaded(e.guild_id),n=T.Z.isLurking(e.guild_id);return!t&&!n}),{threadIds:s,canLoadMore:o,loadMore:c,loading:d}=(0,k.qQ)(e,t,n,i),{searchResults:u,isSearchLoading:m}=(0,J.XZ)({channelId:e.id});return(0,J.ES)(e,t,n,i),{activeThreadIds:a,archivedThreadIds:s,searchResults:u,canLoadMore:o,loadMore:c,loading:l||d||m,archivedThreadsLoading:d,activeThreadsLoading:l,isSearchLoading:m,layoutType:r}}(t),H=m.length>0,U=H||f.length>0,V=(0,O.Z)(t),{tagFilter:G,tagSetting:X}=(0,K.H)(t.id);(0,J.ku)(t,G,X,u);let et=(0,J.jR)(t),en=(0,J.eZ)(t),ea=i.useRef(null),{observePostVisibilityAnalytics:es}=function(e){let{guildId:t,channelId:n,scrollerRef:r}=e;Y.Z.useForumChannelSeenManager({guildId:t,channelId:n});let a=i.useRef(null),l=i.useCallback((e,t)=>{for(let n of t){let t=n.target.dataset.itemId;if(null==t)return;let r=Date.now();n.intersectionRatio>=.5?(0,Q.rj)(e,t,r):(0,Q.Ct)(e,t,r)}},[]);return i.useEffect(()=>{var e;let t=null==(e=r.current)?void 0:e.getScrollerNode();if(null!=t)return a.current=new IntersectionObserver(e=>l(n,e),{root:t,rootMargin:"0px 100000px 0px 100000px",threshold:.5}),()=>{var e;null==(e=a.current)||e.disconnect(),a.current=null}},[n,l,r]),{observePostVisibilityAnalytics:i.useCallback((e,t)=>{var r;if(null==e)return void(0,Q.Ct)(n,t,Date.now());null==(r=a.current)||r.observe(e)},[n])}}({scrollerRef:ea,channelId:t.id,guildId:t.guild_id}),eo=A===h.X.GRID,{searchQuery:ed}=(0,J.XZ)({channelId:t.id}),e_=null!=x&&null!=ed&&ed.length>0,eT=i.useRef(null),{containerRef:eN,containerWidth:eM}=(0,eu.Z)();i.useEffect(()=>()=>{null!=t.id&&W.Z.clearForumSearch(t.id)},[t.id]),i.useEffect(()=>{if(null==eT.current&&null!=t.id){let e=F.ZP.getSidebarState(t.id);null!=e&&e.type===M.tI.VIEW_THREAD&&(eT.current=e.channelId)}},[t.id]);let{columns:ek}=i.useMemo(()=>eo?eC.getRenderOptions(eM):ec.eU,[eo,eM]),eA=i.useMemo(()=>w?Math.round((window.innerHeight-200)/118):0,[w]),{showResolvedFlags:eL}=(0,P.N)(t.id),eF=t.isModeratorReportChannel(),eD=i.useMemo(()=>{let e=Math.ceil(window.innerHeight/(0,ec.KW)(eC.getWidth(eM)))*ek;return C?e:0},[eM,ek,C]),ez=i.useMemo(()=>{let e=Math.ceil(window.innerHeight/(0,ec.KW)(eC.getWidth(eM)))*ek;return y?e:0},[eM,ek,y]),eH=i.useMemo(()=>{let e=Math.ceil(window.innerHeight/(0,ec.KW)(eC.getWidth(eM)))*ek;return I&&e_?e:0},[eM,ek,I,e_]),eB=i.useMemo(()=>{if(eo)if(!et&&e_)return[1,0];else if(!en)return[1,m.length+eD,0];else if(e_)return[1,x.length+eH,0];else if(eF&&!eL)return[1,m.length+eD,0];else return[1,m.length+eD,f.length+ez];if(!et&&e_)return[1,1];if(!en)return[1,m.length,1];if(e_)return[1,x.length,0,eA];if(eF&&!eL)return[1,m.length,0,eA];else return[1,m.length,f.length,eA]},[eo,e_,m.length,f.length,et,en,eA,x,eD,ez,eH,eL,eF]),eU=i.useMemo(()=>!et&&e_?[[],[]]:en?e_?[[],x,[],[]]:eF&&!eL?[[],m,[],[]]:[[],m,f,[]]:[[],m,[]],[e_,et,en,x,m,f,eL,eF]),eV=i.useCallback((e,n)=>{(0,$.B5)({guildId:t.guild_id,channelId:t.id,postId:e.id,location:{page:eg.ZY5.GUILD_CHANNEL,section:eg.jXE.FORUM_CHANNEL_POST}}),n?(0,R.ad)(e,{source:ef.on.BROWSER}):(eT.current=e.id,(0,L.ok)(e))},[t.guild_id,t.id,eT]),[eG,eq]=i.useState(a+s-24),eW=i.useCallback((e,n,i)=>0===e?(0,r.jsx)(eZ,{channel:t,isEmpty:!H,isSearchLoading:I,numResults:null==x?void 0:x.length,coords:n,onHeightChange:eq,children:!w&&(0,r.jsx)(ee.Z,{channel:t,hasAnyThread:U,hasActiveThreads:H},t.id)},"forum-channel-header"):2!==e||en?1===e&&e_&&!et?(0,r.jsx)(eE,{channel:t,coords:n},"archive-or-search-result"):i():(0,r.jsx)(eI,{channel:t,coords:n},"archived-missing-reading-history-perm"),[e_,en,x,et,t,H,I,w,U]),eX=(0,g.e7)([q.Z],()=>q.Z.hasHidden(t.id)),eK={editorHeight:a,isGridLayout:eo},eJ=i.useRef(eK);i.useEffect(()=>{eJ.current=eK}),i.useEffect(()=>{var e,t;let{editorHeight:n,isGridLayout:r}=eJ.current,i=r?e8:ea,a=null==(e=i.current)?void 0:e.getScrollerState();null!=a&&!eX&&a.scrollTop>n&&(null==(t=i.current)||t.scrollTo({to:0}))},[eX]);let{updateListScrollerRef:eY,renderListSection:eQ,renderListItem:e$,getListSectionHeight:e0,getListItemHeight:e3}=function(e){let{listRef:t,hasActiveThreads:n,threadIdsBySection:a,listViewCardHeights:s,editorHeight:o,editorAdditionRowHeight:c,renderSectionOrItem:d,goToThread:u,observePostVisibilityAnalytics:m,isShowingSearchResult:h}=e,f=(0,g.e7)([B.Z],()=>B.Z.getChannelId()),x=i.useCallback(e=>n=>{var r;t.current=n,e.current=null!=(r=null==n?void 0:n.getScrollerNode())?r:null},[t]),b=i.useCallback(e=>eO({section:e.section,isShowingSearchResult:h,hasActiveThreads:n})(),[n,h]),j=i.useCallback(e=>d(e.section,void 0,()=>{if(3===e.section)return __OVERLAY__?null:(0,r.jsx)("div",{"data-item-role":"item",className:l()(ep.loadingCard,ep["loadingCard-".concat(e.row%3)])},"loading-".concat(e.row));let t=a[e.section][e.row],n=null!=f&&(0,N.UD)(f)?E.ZP:er.ZP;return(0,r.jsx)("li",{className:ep.card,"data-item-role":"item",children:(0,r.jsx)(p.y5t,{children:(0,r.jsx)(n,{className:ep.mainCard,threadId:t,goToThread:u,observePostVisibilityAnalytics:m})})},"".concat(e.section,"-").concat(t))}),[d,a,f,u,m]),v=i.useCallback((e,t)=>{if(0===e)return o+c;let n=s[a[e][t]];return null==n?104:n+8},[a,s,o,c]);return{updateListScrollerRef:x,renderListSection:b,renderListItem:j,getListSectionHeight:i.useCallback(e=>2===e&&n?40:0,[n]),getListItemHeight:v}}({listRef:ea,hasActiveThreads:H,threadIdsBySection:eU,listViewCardHeights:o,editorHeight:a,editorAdditionRowHeight:s,renderSectionOrItem:eW,goToThread:eV,observePostVisibilityAnalytics:es,isShowingSearchResult:e_}),e8=i.useRef(null),{updateMasonryListScrollerRef:e6,getItemKey:e1,renderGridSection:e4,renderGridItem:e9,getGridSectionHeight:e2,getSectionProps:e5,handleGridFocus:e7}=function(e){let{masonryListScrollerRef:t,threadIdsBySection:n,goToThread:a,renderSectionOrItem:s,hasActiveThreads:o,isShowingSearchResult:c,canSearchForumPosts:d,canViewArchivedPosts:u,observePostVisibilityAnalytics:m,focusedThreadId:h,headerHeight:g}=e,f=i.useRef(null),x=i.useCallback(e=>{t.current=e,f.current=null==e?void 0:e.getScrollerNode()},[t]),p=i.useCallback((e,n)=>{let{current:r}=t;if(null==r)return;let i=document.querySelector(e);if(null==i)return;let a=r.getCoordsMap()[n],l=null!=a?a.height+20:200;r.scrollIntoViewNode({node:i,padding:l,callback(){requestAnimationFrame(()=>{var t;null==(t=document.querySelector(e))||t.focus({preventScroll:!0})})}}),h.current=eP(n)},[t,h]),b=i.useCallback(e=>{let t=eP(e);if(null==t)return;let n=D.Z.getChannel(t);null!=n&&a(n,!0)},[a]),j=i.useCallback(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n[e].length)return"section-".concat(e,"-").concat(t);{let r=n[e][t];return null==r?eS(e,t):eS(e,r)}},[n]),v=i.useCallback((e,t,n)=>s(e,t,eO({section:e,coords:t,key:n,isShowingSearchResult:c,hasActiveThreads:o})),[s,o,c]),_=i.useCallback(e=>0===e?{}:{role:"grid","aria-labelledby":"#".concat(ey(e))},[]);return{updateMasonryListScrollerRef:x,masonryListContainerRef:f,focusedThreadId:h,handleGridFocus:p,handleGridSelect:b,getItemKey:j,renderGridSection:v,renderGridItem:i.useCallback((e,t,i,s,o)=>{if(0===e)return null;let c=n[e][t];return null!=c?(0,r.jsx)(el.Z,{id:"".concat(s),threadId:c,className:l()(ep.card,ep.mainCard),goToThread:a,observePostVisibilityAnalytics:m,coords:i,gridCoords:o.coordinates[s],gridSectionBoundaries:o.boundaries},s):__OVERLAY__?null:(0,r.jsx)("div",{style:eb({},i),"data-item-role":"item",className:l()(ep.loadingCard,ep["loadingCard-".concat(t%3)])},s)},[n,a,m]),getSectionProps:_,getGridSectionHeight:i.useCallback(e=>0===e?g-8-24:2===e?o||!u?40:0:1===e&&c&&!d?40:0,[g,c,d,o,u])}}({masonryListScrollerRef:e8,threadIdsBySection:eU,goToThread:eV,renderSectionOrItem:eW,hasActiveThreads:H,isShowingSearchResult:e_,canSearchForumPosts:et,canViewArchivedPosts:en,observePostVisibilityAnalytics:es,focusedThreadId:eT,headerHeight:eG});!function(e){let{masonryListScrollerRef:t,containerWidth:n,isGridLayout:r,threadIdsBySection:a,focusedThreadId:l,parentId:s}=e;i.useEffect(()=>{if(r){let e=setTimeout(()=>{if(null==t.current||null==l.current)return;let e=l.current;if("string"!=typeof e)return;null==F.ZP.getSidebarState(s)&&(l.current=null);let n=a.findIndex(t=>t.find(t=>t===e)),r=t.current.getCoordsMap(),i=r["__section__".concat(n)],o=r[eS(n,e)];null!=i&&null!=o&&t.current.scrollIntoViewRect({start:i.top+o.top-100,end:i.top+o.top+o.height+50})},0);return()=>clearTimeout(e)}},[s,n,r,a,l,t])}({masonryListScrollerRef:e8,containerWidth:eM,isGridLayout:eo,threadIdsBySection:eU,parentId:t.id,focusedThreadId:eT});let te=i.useCallback(()=>{var e,n;if(e_)return;let r=eo?null==(e=e8.current)?void 0:e.getScrollerState():null==(n=ea.current)?void 0:n.getScrollerState();if(null==r)return;(0,$.ab)({guildId:t.guild_id,channelId:t.id});let i=r.scrollTop+r.offsetHeight;r.scrollHeight-i<(eo?Math.max(200,(0,ec.KW)(eM)):200)&&_()},[e_,eo,t.guild_id,t.id,eM,_]),tt=(0,g.e7)([v.Z],()=>v.Z.keyboardModeEnabled),tn=(0,em.ZP)({id:"forum-grid-view",isEnabled:eo&&tt,setFocus:e7}),tr=(0,eh.Z)({listRef:ea,padding:96,isEnabled:!eo&&tt,channel:t}),ti=tn.containerProps,{ref:ta}=ti,tl=ev(ti,["ref"]),ts=F.ZP.getSidebarState(t.id),to=null!=ts&&(0,F.D5)(ts),tc=(0,g.e7)([F.ZP],()=>F.ZP.getSection(t.id))===eg.ULH.MEMBERS;return(0,r.jsx)("div",{className:ep.container,ref:eN,"data-member-list-open":tc,children:(0,r.jsx)(p.Wdt,{children:e=>(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)(b.Z,{channel:t,draftType:z.d.FirstThreadMessage,className:ep.uploadArea,style:{right:to&&(null==n?void 0:n.isThreadSidebarFloating)?n.threadSidebarWidth:0}}),(0,r.jsx)(eR,{channel:t}),(0,r.jsx)(p.nn4,{children:(0,r.jsx)(p.H,{children:ex.intl.string(ex.t.B2panJ)})}),V?(0,r.jsx)("div",{className:ep.optInNotice,children:(0,r.jsx)(S.Z,{channel:t})}):null,eo?(0,r.jsx)(em.KT,{navigator:tn,children:(0,r.jsx)(p.GMG,eb({ref:e=>{var t;ta.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null,e6(e)},itemGutter:16,padding:24,className:ep.grid,columns:ek,sections:eB,getItemKey:e1,getSectionHeight:e2,getItemHeight:ew,renderSection:e4,renderItem:e9,getSectionProps:e5,onScroll:j?te:void 0,chunkSize:350},tl,e),A)}):(0,r.jsx)(d.bG,{navigator:tr,children:(0,r.jsx)(d.SJ,{children:t=>{var{ref:n}=t,i=ev(t,["ref"]);return(0,r.jsx)(p._2F,ej(eb({ref:eY(n),className:ep.list,sections:eB,sectionHeight:e0,rowHeight:e3,renderRow:e$,renderSection:eQ,chunkSize:150,onScroll:j?te:void 0,paddingBottom:24},i,e),{innerRole:"list"}),A)}})})]})})})}function eI(e){let{channel:t,coords:n}=e,i=(0,_.ZP)(t);return(0,r.jsx)("div",{className:l()(ep.missingReadHistoryPermission,ep.columnsSpan),style:n,children:(0,r.jsx)(p.Text,{color:"text-muted",variant:"text-md/normal",children:ex.intl.format(ex.t.TycmzM,{channelName:i})})})}function eE(e){let{channel:t,coords:n}=e,i=(0,_.ZP)(t);return(0,r.jsx)("div",{className:l()(ep.missingReadHistoryPermission,ep.columnsSpan),style:n,children:(0,r.jsx)(p.Text,{color:"text-muted",variant:"text-md/normal",children:ex.intl.format(ex.t.OWZJdX,{channelName:i})})})}function eR(e){let{channel:t}=e,n=i.useCallback(()=>{W.Z.resort(t.id)},[t]),a=(0,g.e7)([X.Z],()=>X.Z.getNewThreadCount());return 0===a?null:(0,r.jsx)(p.P3F,{className:ep.newPostsButton,onClick:n,children:(0,r.jsx)(p.Text,{color:"text-brand",variant:"text-md/medium",children:ex.intl.format(ex.t.ue1qfH,{count:a})})})}function eM(){return Promise.resolve()}function eZ(e){var t,n,a;let{channel:s,isEmpty:b,isSearchLoading:_,numResults:T,children:O,coords:S,onHeightChange:P}=e,{name:E,formOpen:R,titleFocused:M,hasClickedForm:Z,textAreaState:k,onboardingExpanded:L,setEditorAdditionRowHeight:F}=(0,ei.xH)(e=>{let{name:t,formOpen:n,titleFocused:r,hasClickedForm:i,textAreaState:a,onboardingExpanded:l,setEditorAdditionRowHeight:s}=e;return{name:t,formOpen:n,titleFocused:r,hasClickedForm:i,textAreaState:a,onboardingExpanded:l,setEditorAdditionRowHeight:s}},c.X),{tagFilter:D,layoutType:B}=(0,K.H)(s.id),q=(0,ei.AF)(),X=(0,K.v)(),Y=(0,g.e7)([H.Z],()=>H.Z.canChatInGuild(s.guild_id)),Q=(0,J.r_)(s),ee=(0,A.cD)(s),[er,el]=i.useState(ee),[,es]=(0,y.AB)(null!=(a=s.getGuildId())?a:void 0),ec=(0,I.HL)(s),eu=Y&&(ee||er&&es)&&!ec,em=s.isMediaChannel();i.useEffect(()=>{ee&&el(!0)},[ee]);let{ref:eh,height:ef}=(0,j.ZP)();i.useEffect(()=>{null!=ef&&P(ef)},[P,ef]);let e_=i.useCallback(()=>{o()(()=>{null!=eh.current&&q.getState().setEditorHeight(eh.current.offsetHeight)})},[eh,q]);i.useLayoutEffect(e_,[e_,b,eu,L]),(0,G.yp)({event:eg.CkL.REMEASURE_TARGET,handler:e_});let eC=(0,g.e7)([U.Z],()=>U.Z.getUploads(s.id,z.d.FirstThreadMessage)),ey=(0,J.ql)(s),ew=i.useRef(null),eT=i.useRef(null),[eO,eS]=i.useState(0),{width:eP}=(0,g.e7)([V.Z],()=>V.Z.windowSize()),eN=null==(n=ew.current)||null==(t=n.getBoundingClientRect())?void 0:t.width,eI=i.useRef(null),eE=i.useRef(null);i.useLayoutEffect(()=>{var e;let t=eT.current,n=null==t||null==(e=t.children)?void 0:e[0];if(null!=ew.current&&null!=n&&null!=n.children){let{left:e,top:t}=ew.current.getBoundingClientRect(),r=0;for(let i of n.children){let{right:n,top:a,height:l}=i.getBoundingClientRect();if(a-t>l)break;n-e>r&&(r=n-e)}eS(r)}},[s.availableTags,eP,eN,D]);let eR=E.length>0&&!R&&(_||null!=T),eZ=!__OVERLAY__&&!Z&&!R&&M&&(0===k.textValue.trim().length||k.textValue.trim()===ey)&&0===eC.length&&!ec;i.useLayoutEffect(()=>{let e=eR||eZ;if(!e)return F(0);null!=eI.current&&F(e?eI.current.clientHeight:0)},[F,eR,eZ,eI]);let eA=(0,u.ZP)({id:"".concat(s.id,"-tags-navigator"),isEnabled:!0,wrap:!0,scrollToStart:eM,scrollToEnd:eM,orientation:m.hy.HORIZONTAL}),eL=(0,d.JA)("forum-channel-header"),{role:eF,onFocus:eD}=eL,ez=ev(eL,["role","onFocus"]),eH=i.useRef(null),eB=function(){let e=i.useRef(!1),t=(0,g.e7)([v.Z],()=>v.Z.keyboardModeEnabled),n=i.useCallback(t=>{e.current=t.shiftKey},[e]);return i.useLayoutEffect(()=>(t?window.addEventListener("keydown",n):window.removeEventListener("keydown",n),()=>window.removeEventListener("keydown",n)),[t,n]),e}(),eU=i.useCallback(e=>{if(eD(),e.target===eh.current&&!eB.current){var t;null==(t=eH.current)||t.focus()}},[eD,eh,eB]),eV=i.useMemo(()=>ec?(0,N.iq)(s.availableTags):s.availableTags,[s.availableTags,ec]);return(0,r.jsx)("div",ej(eb({className:l()(ep.card,ep.headerRow,ep.columnsSpan),ref:eh,onFocus:eU},ez),{style:ej(eb({},S),{position:B===h.X.GRID?"absolute":"static",height:"auto"}),children:(0,r.jsxs)(G.I3,{children:[null!=s.guild_id?(0,r.jsx)(w.Z,{className:l()(ep.newMemberBanner,{[ep.gridViewBanner]:B===h.X.GRID}),guildId:s.guild_id,channel:s}):null,(0,r.jsx)("div",{className:l()(ep.mainCard,ep.header,{[ep.headerWithMatchingPosts]:eR||eZ}),children:(0,r.jsx)(ea.Z,{parentChannel:s,onChange:e_,isSearchLoading:_,numResults:T,canCreatePost:eu,inputRef:eH})}),(eR||eZ)&&(0,r.jsxs)("div",{className:ep.matchingPostsRow,ref:eI,children:[eR&&(0,r.jsxs)("div",{className:ep.matchingPosts,children:[(0,r.jsx)(p.X6q,{variant:"text-xs/normal",color:"text-default",children:_?ex.intl.string(ex.t["/9i3qq"]):0===T?ex.intl.string(ex.t.DbgHxs):ex.intl.formatToPlainString(ex.t["tBz/8f"],{numPosts:T,query:E})}),!_&&(0,r.jsx)(p.P3F,{onClick:()=>{(0,$.zI)({guildId:s.guild_id,channelId:s.id}),W.Z.clearForumSearch(s.id),q.getState().setName("")},children:(0,r.jsx)(p.Text,{variant:"text-xs/semibold",color:"text-brand",className:ep.clear,children:ex.intl.string(ex.t.VkKicX)})})]}),(0,r.jsx)("div",{className:ep.tagsSpacer}),eZ?eu?(0,r.jsxs)("div",{className:ep.startPostHelp,children:[(0,r.jsx)(p.M2$,{shortcut:"SHIFT",className:ep.keyboardShortcut}),(0,r.jsx)(p.Text,{variant:"text-xs/normal",color:"text-default",children:"+"}),(0,r.jsx)(p.M2$,{shortcut:"ENTER",className:ep.keyboardShortcut}),(0,r.jsx)(p.Text,{variant:"text-xs/normal",color:"text-default",children:ex.intl.string(ex.t.ZvJ0ys)})]}):(0,r.jsxs)("div",{className:ep.startPostHelp,children:[(0,r.jsx)(p.Mgn,{size:"custom",color:"currentColor",height:14,width:14,className:ep.warnIcon}),(0,r.jsx)(p.Text,{variant:"text-xs/normal",color:"text-default",children:ex.intl.string(ex.t.iyzwnJ)})]}):null]}),(0,r.jsx)(et.Z,{channel:s,onChange:e_}),(0,r.jsxs)("div",{className:ep.tagsContainer,ref:ew,children:[(0,r.jsx)(ek,{channel:s}),eV.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ep.divider}),(0,r.jsx)("div",{className:ep.tagList,ref:eT,children:(0,r.jsx)(d.bG,{navigator:eA,children:(0,r.jsx)(d.SJ,{children:e=>{var{ref:t}=e,n=ev(e,["ref"]);return(0,r.jsx)("div",ej(eb({className:ep.tagListInner,ref:t},n),{children:eV.map(e=>(0,r.jsx)(eo.Z,{tag:e,onClick:()=>{var t;return t=e.id,void((0,$.e7)({guildId:s.guild_id,channelId:s.id,tagId:t,filterTagIds:Array.from(D),added:!D.has(t),location:{page:eg.ZY5.GUILD_CHANNEL,section:eg.jXE.FORUM_CHANNEL_HEADER,object:eg.qAy.CHANNEL_TAG}}),X.getState().toggleTagFilter(s.id,t))},selected:D.has(e.id)},e.id))}))}})})}),(0,r.jsx)(p.yRy,{targetElementRef:eE,renderPopout:e=>{let{closePopout:t,setPopoutRef:n}=e;return(0,r.jsx)(ed.Z,{channel:s,closePopout:t,setPopoutRef:n})},position:"bottom",align:"right",children:(e,t)=>{let{isShown:n}=t;return(0,r.jsxs)(x.zx,ej(eb({},e),{"data-migration-pending":!0,buttonRef:eE,size:x.zx.Sizes.MIN,color:x.zx.Colors.CUSTOM,className:l()(ep.tagsButton,{[ep.tagsButtonWithCount]:D.size>0}),style:{left:eO},innerClassName:ep.tagsButtonInner,"aria-label":D.size>0?ex.intl.string(ex.t.IkpM1d):ex.intl.string(ex.t["9vKK/P"]),children:[D.size>0?(0,r.jsx)("div",{className:ep.countContainer,children:(0,r.jsx)(p.Text,{className:ep.countText,color:"none",variant:"text-xs/medium",children:D.size})}):ex.intl.string(ex.t.fZ8hzs),n?(0,r.jsx)(p.u04,{size:"custom",color:"currentColor",width:20}):(0,r.jsx)(p.CJ0,{size:"custom",color:"currentColor",width:20})]}))}}),(0,r.jsxs)(x.zx,{"data-migration-pending":!0,size:x.zx.Sizes.MIN,color:x.zx.Colors.CUSTOM,className:l()(ep.tagsButton,ep.tagsButtonPlaceholder),innerClassName:ep.tagsButtonInner,"aria-label":ex.intl.string(ex.t.IkpM1d),children:[D.size>0?(0,r.jsx)("div",{className:ep.countContainer,children:(0,r.jsx)(p.Text,{className:ep.countText,color:"none",variant:"text-xs/medium",children:D.size})}):null,(0,r.jsx)(p.u04,{size:"custom",color:"currentColor",width:24})]})]}):null]}),O,Q&&!em&&!ec&&(0,r.jsx)(C.ZP,{contentTypes:[f.z.FORUM_CHANNEL_HELPER_CARD],children:e=>{let{visibleContent:t,markAsDismissed:n}=e;return t===f.z.FORUM_CHANNEL_HELPER_CARD?(0,r.jsx)(en.Z,{onDismiss:n}):null}})]})}),"create-form")}function ek(e){let{channel:t}=e,n=t.isMediaChannel(),a=i.useRef(null);return(0,r.jsx)(p.yRy,{targetElementRef:a,renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(es.Z,{channel:t,closePopout:n})},position:"bottom",align:"left",children:(e,t)=>{let{isShown:i}=t;return(0,r.jsxs)(x.zx,ej(eb({},e),{"data-migration-pending":!0,buttonRef:a,size:x.zx.Sizes.MIN,color:x.zx.Colors.CUSTOM,className:ep.sortDropdown,innerClassName:ep.sortDropdownInner,"aria-label":n?ex.intl.string(ex.t.JxU0ws):ex.intl.string(ex.t.xyYt8P),children:[(0,r.jsx)(p.uVW,{size:"xs",color:"currentColor"}),(0,r.jsx)(p.Text,{className:ep.sortDropdownText,variant:"text-sm/medium",color:"interactive-normal",children:n?ex.intl.string(ex.t.JxU0ws):ex.intl.string(ex.t.xyYt8P)}),i?(0,r.jsx)(p.u04,{size:"custom",color:"currentColor",width:20}):(0,r.jsx)(p.CJ0,{size:"custom",color:"currentColor",width:20})]}))}})}},355589:function(e,t,n){"use strict";n.d(t,{Z:()=>ee}),n(539854),n(388685),n(953529);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(913527),o=n.n(s),c=n(202841),d=n(524825),u=n(831209),m=n(149765),h=n(442837),g=n(481060),f=n(787014),x=n(412899),p=n(493773),b=n(447003),j=n(621516),v=n(982168),_=n(386923),C=n(474366),y=n(345162),w=n(485386),T=n(430824),O=n(186523),S=n(585483),P=n(70956),N=n(709054),I=n(961675),E=n(883429),R=n(993259),M=n(109434),Z=n(456269),k=n(228392),A=n(432771),L=n(538366),F=n(470623),D=n(710352),z=n(981631),H=n(388032),B=n(951718);function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let q={width:28,height:28},W={width:20,height:20,borderRadius:10},X=e=>{(0,k.e5)({onboardingCTA:e})};class K{addStep(e){++this.currentIndex,this.steps.push(V({index:this.currentIndex},e)),e.isDone&&this.completedSteps++}getSteps(){return this.steps}isAllDone(){return this.steps.every(e=>e.isDone)}constructor(){U(this,"currentIndex",0),U(this,"steps",[]),U(this,"completedSteps",0)}}let J=e=>{let{guild:t,roles:n}=e;return(0,r.jsx)("div",{className:B.rolesList,"aria-label":H.intl.formatToPlainString(H.t.PCs0oq,{numRoles:n.length}),children:n.map(e=>(0,r.jsx)(x.UB,{role:e,canRemove:!1,onRemove:z.VqG,guildId:t.id,className:B.rolePill},e.id))})},Y={mass:1,tension:250,friction:18,clamp:!0},Q=e=>{let{handleHide:t}=e;return(0,r.jsx)(g.P3F,{onClick:t,className:B.closeButton,"aria-label":H.intl.string(H.t.WAI6xs),children:(0,r.jsx)(g.Dio,{size:"md",color:"currentColor",className:B.closeIcon})})},$=e=>{let{expanded:t,onClick:n}=e;return(0,r.jsx)(g.P3F,{onClick:n,className:B.closeButton,"aria-label":t?H.intl.string(H.t.iTcumZ):H.intl.string(H.t.dcl9MT),children:t?(0,r.jsx)(g.dOc,{size:"xs",color:"currentColor",className:B.closeIcon}):(0,r.jsx)(g.bJT,{size:"xs",color:"currentColor",className:B.closeIcon})})},ee=e=>{let t,{hasAnyThread:a,hasActiveThreads:s,channel:x}=e,{onboardingExpanded:U}=(0,F.xH)(e=>{let{onboardingExpanded:t}=e;return{onboardingExpanded:t}},d.X),{tagFilter:ee}=(0,M.H)(x.id),et=(0,h.e7)([T.Z],()=>T.Z.getGuild(x.getGuildId())),en=(0,Z.r_)(x),{transitions:er,setVisible:ei}=(()=>{let[e,t]=i.useState(!0);return{transitions:(0,g.Yzy)(e,{keys:e=>e?"shown":"hidden",config:Y,from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!0}),setVisible:t}})(),ea=(0,g.Yzy)(U,{from:{maxHeight:0},enter:{maxHeight:500},leave:{maxHeight:0},config:{duration:200}}),el=i.useCallback(e=>{var t;null==(t=e.clickHandler)||t.call(e)},[]),es=(t=x.id,i.useCallback(()=>(ei(!1),E.Z.hideAdminOnboarding(t,!0)),[t,ei])),{onboardingSteps:eo,isDismissed:ec,isHidden:ed,isAllDone:eu}=(e=>{let{guild:t,channel:a,hasAnyThread:l,handleHide:s}=e,[c,d]=i.useState(!1),u=(0,A.c)(a.id),x=(0,h.e7)([I.Z],()=>I.Z.hasHidden(a.id)),p=function(e,t,a,l){let s=null==e?void 0:e.id,o=(0,h.e7)([w.Z],()=>null!=s?w.Z.getSortedRoles(s):void 0);return i.useMemo(()=>{let i,s=new K,c=(null==t?void 0:t.isMediaChannel())===!0;return null==e||null==t||c||null==o||s.addStep(function(e,t,i,a){let l=(0,b.Z)(i)?m.$e(z.Plq.VIEW_CHANNEL,z.Plq.SEND_MESSAGES):z.Plq.SEND_MESSAGES,s=null!=e?(0,R.E)(t,i,l).filter(e=>i.permissionOverwrites.hasOwnProperty(e.id)||(0,y.fI)(e)):[],o=s.length>0,c=s.some(e=>(0,y.fI)(e));return{name:H.intl.string(H.t["/Ax2go"]),description:H.intl.string(H.t.gAIOfn),isDone:o&&c,shouldWarn:o&&!c,children:o?(0,r.jsx)(J,{guild:e,roles:s}):null,clickHandler:()=>{X(D.ZI.PERMISSIONS),(0,g.ZDy)(async()=>{let{default:t}=await n.e("78704").then(n.bind(n,560602));return a(!0),n=>(0,r.jsx)(t,G(V({},n),{channel:i,guild:e,permission:l,currentSelectedRoles:s}))},{modalKey:"SEND_MESSAGE_ROLE_PERMISSION_FIX_MODAL_KEY",onCloseRequest:z.VqG,onCloseCallback:()=>a(!1)})}}}(e,o,t,l)),c||s.addStep((e=>{let t=null!=e.topic&&e.topic.length>0;return{name:H.intl.string(H.t.UgJu1d),description:H.intl.string(H.t["3C6/Gx"]),clickHandler:()=>{X(D.ZI.GUIDELINES),f.ZP.open(e.id,void 0,z.ZfP.TOPIC)},isDone:t}})(t)),s.addStep((e=>{let t=null!=e.availableTags&&e.availableTags.length>0;return{name:H.intl.string(H.t.xiBFCg),description:H.intl.string(H.t.wCv4Oz),clickHandler:()=>{X(D.ZI.TAGS),f.ZP.open(e.id),(0,g.ZDy)(async()=>{let{default:t}=await n.e("21971").then(n.bind(n,201049));return n=>(0,r.jsx)(t,G(V({},n),{channelId:e.id,guildId:e.guild_id}))})},isDone:t}})(t)),s.addStep((e=>{let t=null!=e.defaultReactionEmoji;return{name:H.intl.string(H.t.QlyC9v),description:H.intl.string(H.t["+50LJi"]),clickHandler:()=>{X(D.ZI.DEFAULT_REACTION),(0,g.ZDy)(async()=>{let{default:t}=await n.e("80404").then(n.bind(n,158586));return n=>(0,r.jsx)(t,G(V({},n),{channel:e}))})},isDone:t}})(t)),s.addStep((i=null==e?void 0:e.id,{name:H.intl.string(H.t["6A0O6+"]),description:c?H.intl.string(H.t["8hI5vr"]):H.intl.format(H.t.ysxcAw,{onClick:e=>{null!=i&&(e.preventDefault(),e.stopPropagation(),(0,k.qz)(),(0,g.ZDy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return t=>(0,r.jsx)(e,G(V({},t),{guildId:i}))}))}}),clickHandler:()=>{X(D.ZI.CREATE_POST),S.S.dispatch(z.CkL.FOCUS_COMPOSER_TITLE)},isDone:a})),s},[t,e,o,a,l])}(t,a,l,d),j=p.isAllDone(),v=u||x||!(e=>{let t=N.default.extractTimestamp(e);return o()().isBefore(o()(t).add(o().duration(15,"days")))})(a.id),_=i.useRef(0);return i.useEffect(()=>(c||!j||v?clearTimeout(_.current):_.current=setTimeout(()=>{s()},60*P.Z.Millis.SECOND),()=>clearTimeout(_.current)),[j,v,s,c]),{onboardingSteps:p,isHidden:x,isDismissed:u,isAllDone:j}})({guild:et,channel:x,hasAnyThread:a,handleHide:es}),em=!ed&&!ec,eh=(0,F.AF)(),eg=x.isMediaChannel(),ef=e=>eh.getState().setOnboardingExpanded(e);return((0,p.ZP)(()=>{eu&&em&&es()}),(e=>{let{isAllDone:t,isVisible:n,canManageChannel:r,guildId:a,channel:l}=e,s=(0,h.e7)([w.Z],()=>null!=a?w.Z.partitionVersion(a):void 0),o=i.useCallback(()=>{S.S.dispatch(z.CkL.REMEASURE_TARGET)},[]);i.useEffect(()=>{o()},[o,t,n,r,s,l.id,l.permissionOverwrites])})({isAllDone:eu,isVisible:em,canManageChannel:en,guildId:null==et?void 0:et.id,channel:x}),i.useEffect(()=>{ec||ei(!ed)},[ec,ei,ed]),(0,p.ZP)(()=>{a&&em||ef(!0)}),null==et)?null:(0,v.iZ)(x)?s||0!==ee.size?ee.size>0?null:(0,r.jsx)(_.Z,{guild:et}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{guild:et}),(0,r.jsx)(C.q,{})]}):em&&en?eg?a?null:(0,r.jsx)(j.Z,{channel:x}):(0,r.jsx)(r.Fragment,{children:er((e,t)=>t?(0,r.jsx)(c.animated.div,{style:e,className:B.container,children:(0,r.jsxs)("div",{className:B.wrapper,children:[(0,r.jsx)("div",{className:B.headerRow,children:(0,r.jsxs)(g.y5t,{component:(0,r.jsx)(g.X6q,{variant:"heading-md/semibold",children:H.intl.string(H.t.LhlgY2)}),children:[(0,r.jsx)(g.X6q,{variant:"heading-md/medium",className:B.header,children:H.intl.format(H.t["9L+8b2"],{numCompleted:eo.completedSteps.toString(),numSteps:eo.steps.length.toString()})}),(0,r.jsxs)(g.Text,{variant:"text-xs/normal",className:B.visibilityInfo,children:[(0,r.jsx)(g.d3s,{size:"xxs",color:"currentColor",className:B.icon}),H.intl.string(H.t.znhX2d)]}),(0,r.jsx)($,{expanded:U,onClick:()=>ef(!U)}),(0,r.jsx)(Q,{handleHide:es})]})}),ea((e,t)=>t?(0,r.jsx)(c.animated.div,{style:e,className:B.listContainer,children:(0,r.jsx)("ol",{className:B.checklist,children:eo.getSteps().map(e=>(0,r.jsxs)(g.P3F,{tag:"li","aria-label":e.name,onClick:()=>el(e),className:l()(B.stepContainer,{[B.completed]:e.isDone}),children:[e.shouldWarn?(0,r.jsx)(g.Mgn,{size:"custom",width:20,height:20,color:u.Z.STATUS_DANGER,className:B.stepStatus}):e.isDone?(0,r.jsx)(g.G2e,{color:u.Z.STATUS_POSITIVE_BACKGROUND,icon:g.dz2,style:W,className:B.stepStatus}):(0,r.jsx)(g.G2e,{disableColor:!0,icon:(0,g.GSL)(O.Z),style:q,className:l()(B.stepStatus,B.completed)}),(0,r.jsxs)("div",{className:B.step,children:[(0,r.jsx)(g.Text,{variant:"text-md/medium",color:e.isDone?"header-secondary":"header-primary",className:B.stepName,children:e.name}),(0,r.jsx)(g.Text,{variant:"text-sm/normal",color:"header-secondary",className:B.stepDescription,children:e.description}),e.children]}),(0,r.jsx)(g.Fbu,{size:"custom",color:"currentColor",width:12,className:B.stepStatus})]},"onboard-step-".concat(e.index)))})}):null)]})}):null)}):a?null:(0,r.jsx)(L.Z,{channelName:x.name,guildId:x.guild_id,tagFilter:ee,channel:x})}},538366:function(e,t,n){"use strict";n.d(t,{Z:()=>g});var r=n(951288),i=n(647438),a=n(680018),l=n(481060),s=n(665906),o=n(585483),c=n(456269),d=n(228392),u=n(981631),m=n(388032),h=n(646717);function g(e){let{channelName:t,guildId:g,tagFilter:f,channel:x}=e,p=(0,c.r_)(x),b=(0,s.cD)(x),j=x.isMediaChannel(),v=i.useCallback(()=>{(0,d.qz)(),(0,l.ZDy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={guildId:g},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})},[g]),_=f.size>0,C=b||p,y=!_&&p&&!j,w=i.useCallback(()=>y?v():b?void o.S.dispatch(u.CkL.FOCUS_COMPOSER_TITLE):(0,u.VqG)(),[v,y,b]);return(0,r.jsxs)("div",{className:h.container,children:[(0,r.jsx)(l.X6q,{className:h.header,variant:"heading-md/semibold",children:_?m.intl.formatToPlainString(m.t.lvPci4,{numTags:f.size}):m.intl.string(m.t.PwTMGx)}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:_?m.intl.formatToPlainString(m.t.AAeye3,{numTags:f.size}):m.intl.formatToPlainString(m.t.YtsXFB,{channelName:t})}),C&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.LZC,{size:16}),(0,r.jsx)(a.z,{text:y?m.intl.string(m.t.DgatTU):m.intl.string(m.t.wOKE8P),variant:"secondary",onClick:w})]})]})}},542581:function(e,t,n){"use strict";n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(202841),o=n(524825),c=n(481060),d=n(787014),u=n(454585),m=n(456269),h=n(470623),g=n(981631),f=n(388032),x=n(899861),p=n(430864);let b=i.memo(function(e){let{channel:t,onChange:a}=e,b=(0,h.AF)(),{guidelinesOpen:j}=(0,h.xH)(e=>{let{guidelinesOpen:t}=e;return{guidelinesOpen:t}},o.X),v=(0,m.r_)(t),[_,C]=i.useState(!1),y=i.useCallback(e=>{if(null==e)return;let t=e.clientHeight>=220;t!==_&&C(t)},[_]);i.useLayoutEffect(()=>{setTimeout(a,350)},[j,a]);let[w,T]=i.useState(!j),O=(0,c.q_F)({opacity:+!!j,maxHeight:500*!!j,config:{duration:300},onRest:()=>T(!j)});return null!=t.topic&&t.topic.length>0?(0,r.jsx)(s.animated.div,{style:O,className:w?x.hiddenVisually:void 0,children:(0,r.jsxs)("div",{className:x.container,children:[(0,r.jsxs)("div",{className:x.headerContainer,children:[(0,r.jsxs)(c.X6q,{variant:"heading-lg/semibold",className:x.guidelinesHeader,children:[(0,r.jsx)(c.snC,{size:"custom",color:"currentColor",width:20,height:20}),f.intl.string(f.t["4d4T4u"]),v&&(0,r.jsx)(c.P3F,{onClick:()=>{d.ZP.open(t.id,void 0,g.ZfP.TOPIC)},tag:"span",className:x.clickable,children:(0,r.jsx)(c.vdY,{size:"xs",color:"currentColor"})})]}),(0,r.jsx)(c.P3F,{"aria-label":f.intl.string(f.t.cpT0Cg),className:x.clickable,onClick:()=>{b.getState().setGuidelinesOpen(!1)},children:(0,r.jsx)(c.Dio,{size:"xs",color:"currentColor"})})]}),(0,r.jsxs)("div",{className:x.descriptionContainer,children:[(0,r.jsx)(c.Text,{selectable:!0,variant:"text-sm/normal",color:"header-secondary",style:{maxHeight:220},className:l()(x.guidelines,p.markup),children:(0,r.jsx)("div",{ref:y,children:u.Z.parseForumPostGuidelines(t.topic,!0,{channelId:t.id,allowHeading:!0,allowList:!0})})}),_&&(0,r.jsxs)("div",{className:x.showMore,children:[(0,r.jsx)("div",{className:x.gradient}),(0,r.jsx)("div",{className:x.linkContainer,children:(0,r.jsx)(c.P3F,{className:x.showMoreLink,onClick:()=>{(0,c.ZDy)(async()=>{let{default:e}=await n.e("78712").then(n.bind(n,223164));return n=>{var i,a;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),a=a={channel:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})},children:(0,r.jsxs)(c.Text,{variant:"text-sm/semibold",color:"text-brand",className:x.showMoreText,children:[f.intl.string(f.t.Vu7odH),(0,r.jsx)(c.bJT,{size:"xs",color:"currentColor",className:x.showMoreIcon})]})})})]})]})]})}):null})},639184:function(e,t,n){"use strict";n.d(t,{Z:()=>x});var r=n(951288);n(647438);var i=n(120356),a=n.n(i),l=n(481060),s=n(228392),o=n(404616),c=n(710352),d=n(921944),u=n(388032),m=n(816922),h=n(971309),g=n(586301),f=n(504764);function x(e){let{onDismiss:t}=e;return(0,r.jsxs)(l.P3F,{onClick:()=>{open(c.V8),(0,s.GX)({readGuideCta:!0})},className:a()(g.container,h.container,m.mainCard),children:[(0,r.jsxs)("div",{className:h.inline,children:[(0,r.jsxs)("div",{className:h.author,children:[(0,r.jsx)(l.gw7,{size:"custom",width:28,height:28,color:"currentColor",className:h.discordIcon}),(0,r.jsx)(l.Text,{variant:"text-sm/semibold",color:"header-primary",children:u.intl.string(u.t.uvGmCw)}),(0,r.jsxs)("div",{className:h.notice,children:[(0,r.jsx)(l.d3s,{size:"md",color:"currentColor",className:h.infoIcon}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:u.intl.string(u.t.t2GkVV)})]})]}),(0,r.jsx)(l.P3F,{onClick:e=>{e.stopPropagation(),t(d.L.DISMISS),(0,s.GX)({readGuideCta:!1})},children:(0,r.jsx)(l.Dio,{size:"xs",color:"currentColor",className:h.closeIcon})})]}),(0,r.jsx)("hr",{className:h.separator}),(0,r.jsxs)("div",{className:h.inline,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.X6q,{className:a()(g.__invalid_channelName,h.title),variant:"heading-lg/semibold",color:"header-primary",children:u.intl.string(u.t.JtSpDw)}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:u.intl.string(u.t.Ajhp09)})]}),(0,r.jsx)("img",{src:f,alt:u.intl.string(u.t.gAlJzc),width:o.TJ,height:o.TJ})]})]})}},76451:function(e,t,n){"use strict";n.d(t,{Z:()=>N,_:()=>S}),n(388685);var r=n(951288),i=n(647438),a=n(512722),l=n.n(a),s=n(202841),o=n(442837),c=n(481060),d=n(53281),u=n(607070),m=n(541716),h=n(859235),g=n(898463),f=n(592125),x=n(703558),p=n(117530),b=n(585483),j=n(127654),v=n(228392),_=n(981631),C=n(104010);let y={scale:.95,opacity:0},w={scale:1,opacity:1},T={scale:1,opacity:1},O={tension:2400,friction:52};function S(e){let{channelId:t,onClick:n,onClose:a,onMouseEnter:s}=e,u=i.useRef(null),m=(0,o.e7)([f.Z],()=>f.Z.getChannel(t),[t]);return l()(null!=m,"Forum Channel is null"),(0,r.jsxs)(c.P3F,{className:C.uploadInput,onMouseEnter:s,onClick:()=>{(0,v.N3)({isMobile:!1}),null==n||n()},onKeyPress:e=>{if("Enter"===e.key){var t;null==(t=u.current)||t.activateUploadDialogue(),(0,v.N3)({isMobile:!1})}},children:[(0,r.jsx)(d.Z,{className:C.fileInput,ref:u,onChange:e=>{null==a||a(),(0,j.d5)(e.currentTarget.files,m,x.d.FirstThreadMessage,{requireConfirm:!0,origin:"file_picker"}),b.S.dispatch(_.CkL.TEXTAREA_FOCUS),e.currentTarget.value=null},multiple:m.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0}),(0,r.jsx)(c.FmF,{size:"custom",color:"currentColor",width:28,height:28,className:C.uploadIcon})]})}function P(e){let{channelId:t,closePopout:n}=e,[a,l]=i.useState(!1),{reducedMotion:d}=i.useContext(c.Sfi),f=(0,c.q_F)({from:d.enabled?w:y,to:T,config:O},"animate-always"),x=(0,o.e7)([u.Z],()=>u.Z.keyboardModeEnabled),b=(0,o.e7)([p.Z],()=>p.Z.getUploads(t,m.Ie.CREATE_FORUM_POST.drafts.type));return(0,r.jsx)(s.animated.div,{className:C.popoutContainer,onMouseLeave:()=>{a||n()},style:f,children:(0,r.jsxs)(c.zJl,{orientation:"horizontal",className:C.popout,paddingFix:!1,fade:!0,children:[(0,r.jsx)(S,{channelId:t,onClick:()=>{l(!0)},onClose:()=>{l(!1),n()}}),(0,r.jsx)("div",{className:C.uploads,children:b.map(e=>(0,r.jsx)(g.Z,{channelId:t,draftType:m.Ie.CREATE_FORUM_POST.drafts.type,upload:e,keyboardModeEnabled:x,hideFileName:!0,size:h.q.SMALL},e.id))})]})})}function N(e){let{channelId:t}=e,[n,a]=i.useState(!1),l=(0,o.e7)([p.Z],()=>p.Z.getUploads(t,m.Ie.CREATE_FORUM_POST.drafts.type)),s=l.length,c=s>0;i.useEffect(()=>{n&&!c&&a(!1)},[n,c]);let d=()=>{c&&a(!0)};return(0,r.jsxs)("div",{className:C.container,children:[c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.r,{upload:l[0],size:h.q.SMALL,onMouseEnter:d}),!n&&(0,r.jsx)("div",{className:C.badge,children:s})]}):(0,r.jsx)(S,{onMouseEnter:d,channelId:t}),n&&(0,r.jsx)(P,{channelId:t,closePopout:()=>{a(!1)}})]})}},749913:function(e,t,n){"use strict";n.d(t,{Z:()=>es}),n(388685),n(781311),n(290780);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(512722),o=n.n(s),c=n(524825),d=n(924826),u=n(91192),m=n(536895),h=n(442837),g=n(755721),f=n(481060),x=n(430742),p=n(166459),b=n(541716),j=n(67158),v=n(893718),_=n(472243),C=n(284182),y=n(795639),w=n(957730),T=n(25015),O=n(252032),S=n(216572),P=n(913663),N=n(268350),I=n(456077),E=n(488131),R=n(602034),M=n(23750),Z=n(703558),k=n(496675),A=n(300429),L=n(117530),F=n(594174),D=n(459273),z=n(838440),H=n(127654),B=n(681154),U=n(883429),V=n(945141),G=n(456269),q=n(228392),W=n(259637),X=n(76451),K=n(470623),J=n(479099),Y=n(399894),Q=n(81490),$=n(710352),ee=n(981631),et=n(176505),en=n(388032),er=n(153846);function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ea(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let el=b.Ie.CREATE_FORUM_POST;function es(e){let{parentChannel:t,isSearchLoading:n,numResults:a,onChange:s,canCreatePost:o,inputRef:d}=e,u=!(0,S.HL)(t)&&o,{textAreaState:m,formOpen:g,previewing:x}=(0,K.xH)(e=>{let{textAreaState:t,formOpen:n,previewing:r}=e;return{textAreaState:t,formOpen:n,previewing:r}},c.X),[p,b]=i.useState(null),j=i.useContext(D.oo),v=i.useCallback(()=>{j.bumpDispatchPriority()},[j]),_=(0,h.e7)([k.Z],()=>k.Z.can(ee.Plq.ATTACH_FILES,t)),T=(0,h.Wu)([L.Z],()=>L.Z.getUploads(t.id,Z.d.FirstThreadMessage)),O=g&&_&&u,I=(null==t?void 0:t.isMediaChannel())===!0,M=function(e,t){let n=(0,K.AF)(),r=(0,G.ql)(e);return i.useCallback(()=>{let{formOpen:i,setFormOpenFromUserAction:a,name:l,textAreaState:s,hasClickedForm:o}=n.getState();!i&&(setTimeout(()=>{if(t.current instanceof f.lcI){var e,n,r,i;null==(n=t.current)||null==(e=n._textArea)||e.setSelectionRange(l.length,l.length),null==(i=t.current)||null==(r=i._textArea)||r.focus()}},0),(o&&l.length>0||s.textValue.trim().length>0&&s.textValue.trim()!==r||L.Z.getUploads(e.id,Z.d.FirstThreadMessage).length>0)&&a())},[n,e.id,r,t])}(t,d),A=function(e){let{formOpen:t}=(0,K.xH)(e=>{let{formOpen:t}=e;return{formOpen:t}},c.X),n=(0,K.AF)(),r=(0,R.r)({parentChannel:e});i.useEffect(()=>{let{setNameError:e,setMessageError:t}=n.getState();e(null),t(null)},[t,n]);let a=i.useCallback((t,r,i)=>{let{name:a,textAreaState:l}=n.getState();null==t&&(t=l.textValue),t=t.trim();let{content:s}=w.ZP.parse(e,t);if(t=s,null==r||0===r.length){var o;r=null==(o=P.Z.getStickerPreview(e.id,el.drafts.type))?void 0:o.map(e=>e.id)}if((null==i||0===i.length)&&(i=L.Z.getUploads(e.id,Z.d.FirstThreadMessage)),null!=i&&i.length>0&&e.isMediaChannel()){let e=i.findIndex(e=>!0===e.isThumbnail);if(e>-1){let t=i[e];i.splice(e,1),i.unshift(t)}}let c=0===a.length,d=(null==t||0===t.length)&&(null==r||0===r.length)&&0===i.length;return{content:t,stickers:r,uploads:i,hasNameError:c,hasMessageError:d}},[e,n]);return i.useCallback(async(t,i,l)=>{let{setNameError:s,setMessageError:o,setSubmitting:c,resetFormState:d,formOpen:u,setFormOpen:m,setPreviewing:h,setFormOpenFromUserAction:g,setGuidelinesOpen:f}=n.getState(),x=V.Z.hasSeen(e.id);if(!u)return(0,q.P_)({guildId:e.guild_id,channelId:e.id}),x||n.getState().setGuidelinesOpen(!0),g(),{shouldClear:!1,shouldRefocus:!1};let{content:p,stickers:b,uploads:j,hasNameError:v,hasMessageError:_}=a(t,i,l);if(s(v?(0,B.V_)():null),o(_?(0,B.T4)():null),v||_)return{shouldClear:!1,shouldRefocus:!0};try{c(!0);let{valid:t}=await (0,z.v)({content:p,stickers:b,uploads:j,type:el,channel:e});if(!t)return{shouldClear:!1,shouldRefocus:!0};let n=await r(p,b,j);return(0,E.ok)(n),U.Z.resort(e.id),(0,N.qB)(e.id,el.drafts.type),d(),m(!1),h(!1),V.Z.markAsSeen(e.id),f(!1),{shouldClear:!0,shouldRefocus:!1}}catch(t){var C,y;return(null==(C=t.body)?void 0:C.code)===ee.evJ.AUTOMOD_TITLE_BLOCKED?s((0,B.Gx)(t.body,e)):(null==(y=t.body)?void 0:y.code)===ee.evJ.AUTOMOD_MESSAGE_BLOCKED&&o((0,B.Gx)(t.body,e)),{shouldClear:!1,shouldRefocus:!0}}finally{c(!1)}},[r,a,e,n])}(t);return i.useLayoutEffect(s,[g,m,T,s]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"aria-label":u?en.intl.string(en.t.dq7mAQ):en.intl.string(en.t["5h0QOD"]),className:l()(er.container,{[er.collapsed]:!g}),onClick:!g&&u?M:void 0,children:(0,r.jsxs)("form",{onMouseDown:v,onFocus:v,onSubmit:e=>{e.preventDefault(),u&&A()},children:[(0,r.jsxs)("div",{className:er.formContainer,children:[(0,r.jsx)(eo,{parentChannel:t,isSearchLoading:n,inputRef:d}),(0,r.jsxs)("div",{className:x?er.previewForm:er.form,children:[(0,r.jsx)(ec,{editorRef:p,parentChannel:t,isSearchLoading:n,numResults:a,inputRef:d,canCreatePost:u}),g&&(0,r.jsx)(em,{editorRef:p,setEditorRef:b,parentChannel:t,submit:A,disabled:!u}),x&&(0,r.jsx)(eh,{})]}),O&&(I?(0,r.jsx)(y._,{parentChannel:t}):(0,r.jsx)(X.Z,{channelId:t.id}))]}),(0,r.jsxs)("div",{className:er.form,children:[O&&I&&(0,r.jsx)(C.Z,{parentChannel:t}),g&&(0,r.jsx)(ep,{className:er.horizontalPadding,parentChannel:t,canCreatePost:u})]})]})})})}let eo=i.memo(function(e){let{parentChannel:t,isSearchLoading:n,inputRef:a}=e,{formOpen:l,name:s,textAreaState:o,hasClickedForm:d,submitting:u}=(0,K.xH)(e=>{let{formOpen:t,nameError:n,name:r,previewing:i,textAreaState:a,hasClickedForm:l,submitting:s}=e;return{formOpen:t,nameError:n,name:r,textAreaState:a,previewing:i,hasClickedForm:l,submitting:s}},c.X),m=(0,K.AF)(),h=(0,G.ql)(t),g=i.useCallback(()=>{var e;m.getState().resetFormState(),x.Z.clearDraft(t.id,Z.d.ThreadSettings),x.Z.clearDraft(t.id,Z.d.FirstThreadMessage),p.Z.clearAll(t.id,Z.d.FirstThreadMessage),m.getState().setFormOpen(!1),m.getState().setBodyFocused(!1),m.getState().setTitleFocused(!1),m.getState().setHasClickedForm(!1),m.getState().setPreviewing(!1),null==(e=a.current)||e.blur(),(0,q.Oq)({guildId:t.guild_id,channelId:t.id})},[m,t.id,t.guild_id,a]),b=i.useMemo(()=>n&&!l?(0,r.jsx)(e_,{}):n||l||0!==o.textValue.trim().length&&o.textValue.trim()!==h?!l&&(s.trim().length>0||o.textValue.trim().length>0&&o.textValue.trim()!==h||L.Z.getUploads(t.id,Z.d.FirstThreadMessage).length>0)&&d?(0,r.jsx)(f.vdY,{size:"md",color:"currentColor",className:er.pencilIcon}):u?(0,r.jsx)(f.k$p,{size:"md",color:"currentColor",className:er.closeIconDisabled}):(0,r.jsx)(f.ua7,{text:en.intl.string(en.t["98EPQE"]),children:e=>(0,r.jsx)(f.P3F,ea(ei({},e),{onClick:g,children:(0,r.jsx)(f.k$p,{size:"md",color:"currentColor",className:er.closeIcon})}))}):(0,r.jsx)(f._Ve,{size:"md",color:"currentColor",className:er.searchIcon}),[n,l,d,s,o.textValue,g,t.id,h,u]);return(0,r.jsx)("div",{className:er.prefixElement,children:b})}),ec=i.memo(function(e){let{parentChannel:t,inputRef:n,canCreatePost:a,editorRef:l,isSearchLoading:s,numResults:d}=e,{formOpen:u,nameError:m,name:x,textAreaState:p,previewing:b}=(0,K.xH)(e=>{let{formOpen:t,nameError:n,name:r,previewing:i,textAreaState:a,hasClickedForm:l,submitting:s}=e;return{formOpen:t,nameError:n,name:r,textAreaState:a,previewing:i,hasClickedForm:l,submitting:s}},c.X),j=(0,K.AF)(),v=null!=t.topic&&0!==t.topic.length,_=V.Z.hasSeen(t.id),C=(0,G.ql)(t),y=(0,h.e7)([F.default],()=>F.default.getCurrentUser());o()(null!=y,"current user cannot be null"),(0,D.yp)({event:ee.CkL.FOCUS_COMPOSER_TITLE,handler:()=>{var e;let t=n.current instanceof f.lcI?null==(e=n.current)?void 0:e._textArea:n.current;null==t||t.focus(),j.getState().setTitleFocused(!0),j.getState().setFormOpen(!0),j.getState().setHasClickedForm(!0)}});let w=i.useCallback(async e=>{let n=e.clipboardData.files[0];null!=n&&n.type.startsWith("image/")&&(e.preventDefault(),await (0,H.d5)([n],t,Z.d.FirstThreadMessage,{origin:"clipboard"}),j.getState().setFormOpenFromUserAction())},[t,j]),T=(0,B.Op)(m,{content:x});return(0,r.jsxs)("div",{className:er.titleContainer,onPaste:w,children:[u&&b?(0,r.jsx)(f.X6q,{variant:"heading-md/semibold",className:er.title,children:x}):(0,r.jsx)(g.iS,{value:x,placeholder:a?u||p.textValue.length>0&&p.textValue.trim()!==C?en.intl.string(en.t.lU4dDQ):en.intl.string(en.t.CjmivL):en.intl.string(en.t["5h0QOD"]),flex:!0,autosize:u,rows:1,showCharacterCount:!1,showRemainingCharacterCount:!1,maxLength:ee.HN8,onChange:e=>{let n=(0,I.Z)(e,!1);j.getState().setName(n);let r=0===n.trim().length,i=0===p.textValue.trim().length,a=p.textValue.trim()===C;r&&(i||a)&&j.getState().setHasClickedForm(!1),u||U.Z.updateForumSearchQuery(t.id,n)},onFocus:()=>{j.getState().setTitleFocused(!0),j.getState().setBodyFocused(!1)},onBlur:()=>{j.getState().setTitleFocused(!1);let e=(0,I.Z)(x,!0);e!==x&&(j.getState().setName(e),u||U.Z.updateForumSearchQuery(t.id,e))},onKeyDown:e=>{var r,i;"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),u&&x.length>0?null==l||l.focus():a&&e.shiftKey?((0,q.nH)({guildId:t.guild_id,channelId:t.id}),v&&!_&&j.getState().setGuidelinesOpen(!0),j.getState().setFormOpenFromUserAction(),x.trim().length>0&&(j.getState().setBodyFocused(!0),null==l||l.focus())):u||!(x.length>0)||null!=d||s||U.Z.updateForumSearchQuery(t.id,x));let o=n.current instanceof f.lcI?null==(r=n.current)?void 0:r._textArea:n.current;if("Home"===e.key||"End"===e.key){if(null==o)return;if(e.preventDefault(),e.stopPropagation(),"Home"===e.key){let t=e.shiftKey?Math.max(o.selectionStart,o.selectionEnd):0;o.setSelectionRange(0,t,"backward")}else{let t=e.shiftKey?Math.min(o.selectionStart,o.selectionEnd):x.length,n=x.length;o.setSelectionRange(t,n,"forward")}}"Escape"!==e.key||j.getState().submitting||(null==(i=n.current)||i.blur(),j.getState().setFormOpen(!1),j.getState().setTitleFocused(!1),j.getState().setBodyFocused(!1),j.getState().setPreviewing(!1))},error:T,className:er.title,inputRef:n}),u?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{parentChannel:t}),(0,r.jsx)(eb,{parentChannel:t,canCreatePost:a})]})]})});function ed(e){let{parentChannel:t}=e,{guidelinesOpen:n}=(0,K.xH)(e=>{let{guidelinesOpen:t}=e;return{guidelinesOpen:t}},c.X),i=(0,K.AF)(),a=null!=t.topic&&0!==t.topic.length,s=()=>{i.getState().setGuidelinesOpen(!n)};return a?(0,r.jsx)(f.ua7,{text:en.intl.string(en.t["4d4T4u"]),children:e=>(0,r.jsx)(f.P3F,ea(ei({},e),{onClick:s,className:l()(er.forumPostFormButton,{[er.forumPostFormButtonActive]:n}),children:(0,r.jsx)(f.snC,ei({size:"md",color:"currentColor"},e))}))}):null}let eu=i.memo(function(e){let{parentChannel:t,textValue:n}=e,i=new M.ZP({channel_id:t.id,content:n}),{content:a}=(0,T.Z)(i,{hideSimpleEmbedContent:!0,isInteracting:!1,formatInline:!1,allowList:!0,allowHeading:!0,previewLinkTarget:!0,allowLinks:!0}),s=(0,O.Z)({message:i,channel:t,compact:!1},a,!1);return(0,r.jsx)("div",{className:l()(er.channelTextAreaInner,er.previewTextArea),children:s})}),em=i.memo(function(e){let{parentChannel:t,submit:n,disabled:a=!1,editorRef:s,setEditorRef:d}=e,u=(0,h.e7)([F.default],()=>F.default.getCurrentUser());o()(null!=u,"current user cannot be null");let{messageError:m,previewing:g,textAreaState:x,bodyFocused:p,formOpen:b}=(0,K.xH)(e=>{let{messageError:t,textAreaState:n,previewing:r,bodyFocused:i,formOpen:a}=e;return{messageError:t,textAreaState:n,previewing:r,bodyFocused:i,formOpen:a}},c.X),j=(0,K.AF)();i.useEffect(()=>()=>(0,q.Vn)({guildId:t.guild_id,channelId:t.id}),[t.guild_id,t.id]);let _=i.useCallback(()=>{j.getState().setBodyFocused(!0)},[j]),C=i.useCallback(()=>{j.getState().setBodyFocused(!1)},[j]),y=i.useCallback((e,t,n)=>{let{setTextAreaState:r}=j.getState();r({textValue:t,richValue:n})},[j]),w=i.useCallback(e=>{let{value:t,uploads:r,stickers:i}=e;return n(t,i,r)},[n]);(0,D.yp)({event:ee.CkL.TEXTAREA_FOCUS,handler:_}),(0,D.yp)({event:ee.CkL.TEXTAREA_BLUR,handler:C});let T=(0,B.Op)(m,{content:x.textValue});return(0,r.jsx)("div",{className:er.bodyContainer,children:(0,r.jsxs)("div",{className:er.contentContainer,children:[g?(0,r.jsx)(eu,{parentChannel:t,textValue:x.textValue}):(0,r.jsx)("div",{onClick:_,children:(0,r.jsx)(v.ZP,{type:el,setEditorRef:d,channel:t,placeholder:en.intl.string(en.t["8IPnv7"]),textValue:x.textValue,richValue:x.richValue,focused:p,className:er.channelTextArea,innerClassName:l()(er.channelTextAreaInner,{[er.channelTextAreaInnerError]:null!=T}),onChange:y,onSubmit:w,promptToUpload:H.d5,disabled:a,onKeyDown:e=>{("ArrowUp"===e.key||"ArrowDown"===e.key)&&e.stopPropagation(),b&&"Escape"===e.key&&!j.getState().submitting&&(null==s||s.blur(),j.getState().setFormOpen(!1),j.getState().setTitleFocused(!1),j.getState().setBodyFocused(!1),j.getState().setPreviewing(!1))},autoCompletePosition:"bottom"})}),(0,r.jsx)(f.pdY,{error:T})]})})});function eh(){return(0,r.jsx)("div",{className:er.previewModeIndicator,children:(0,r.jsx)(f.Text,{variant:"text-sm/normal",color:"interactive-normal",children:en.intl.string(en.t["WE/cYm"])})})}function eg(e){let{textAreaState:t}=(0,K.xH)(e=>{let{textAreaState:t}=e;return{textAreaState:t}},c.X),n=(0,h.Wu)([L.Z],()=>L.Z.getUploads(e.id,Z.d.FirstThreadMessage));return i.useMemo(()=>t.textValue.trim().length>0||n.length>0,[t.textValue,n])}function ef(e){let t=eg(e),{appliedTags:n,name:r}=(0,K.xH)(e=>{let{appliedTags:t,name:n}=e;return{appliedTags:t,name:n}},c.X);return i.useMemo(()=>e.hasFlag(et.zZ.REQUIRE_TAG)&&0===n.size&&r.length>0&&t,[n,r,e,t])}function ex(){let{previewing:e}=(0,K.xH)(e=>{let{previewing:t}=e;return{previewing:t}},c.X),t=(0,K.AF)(),n=i.useCallback(()=>{t.getState().setPreviewing(!e),(0,q.nE)()},[e,t]);return(0,r.jsx)(f.ua7,{text:e?en.intl.string(en.t.ojM1xM):en.intl.string(en.t.SKNnqq),children:t=>(0,r.jsx)(f.P3F,ea(ei({},t),{onClick:n,className:l()(er.forumPostFormButton,{[er.forumPostFormButtonActive]:e}),children:e?(0,r.jsx)(f.kZF,ei({size:"md",color:"currentColor"},t)):(0,r.jsx)(f.tEF,ei({size:"md",color:"currentColor"},t))}))})}let ep=i.memo(function(e){let{parentChannel:t,canCreatePost:n,className:a}=e,{textAreaState:l,name:s}=(0,K.xH)(e=>{let{textAreaState:t,name:n}=e;return{textAreaState:t,name:n}},c.X),{rateLimitPerUser:o}=t,d=o>0,u=(0,h.e7)([A.Z],()=>A.Z.getSlowmodeCooldownGuess(t.id,A.S.CreateThread)),m=(0,h.e7)([k.Z],()=>k.Z.can(ee.Plq.MANAGE_THREADS,t)||k.Z.can(ee.Plq.MANAGE_CHANNELS,t)),g=ef(t),x=(0,K.AF)(),p=i.useCallback(()=>{x.getState().setBodyFocused(!1)},[x]),b=i.useMemo(()=>""!==s.trim()&&""!==l.textValue.trim(),[s,l.textValue]);return i.useEffect(()=>{b||x.getState().setPreviewing(!1)},[b,x]),(0,r.jsxs)("div",{className:a,children:[(0,r.jsx)(ev,{parentChannel:t}),(0,r.jsx)("div",{className:er.tagsDivider}),(0,r.jsxs)("div",{className:er.controlsContainer,children:[(0,r.jsxs)("div",{className:er.controls,children:[(0,r.jsxs)("div",{className:er.wrappedControls,children:[(0,r.jsx)(_.Z,{type:el,textValue:l.textValue,className:er.characterCount}),d&&(0,r.jsx)(Y.Z,{rateLimitPerUser:o,slowmodeCooldownGuess:u,isBypassSlowmode:m,leadingIcon:!0})]}),(0,r.jsx)(ed,{parentChannel:t}),b&&(0,r.jsx)(ex,{}),(0,r.jsx)(eb,{parentChannel:t,disableIfInvalid:!0,canCreatePost:n,disabled:d&&!m&&u>0})]}),(0,r.jsx)(j.Z,{type:el,className:er.expressionPicker,onClick:p},"expression")]}),g&&(0,r.jsx)(f.Text,{variant:"text-sm/normal",color:"text-danger",className:er.requiredError,children:en.intl.string(en.t.xPfNQk)})]})});function eb(e){let{parentChannel:t,canCreatePost:n,disabled:i,disableIfInvalid:a=!1}=e,l=(0,S.HL)(t),{submitting:s,name:o,formOpen:d}=(0,K.xH)(e=>{let{submitting:t,name:n,formOpen:r}=e;return{submitting:t,name:n,formOpen:r}},c.X),u=eg(t),m=!ef(t)&&u&&o.trim().length>0;return __OVERLAY__||l?null:(0,r.jsx)(f.zxk,{variant:"primary",type:"submit",loading:s,disabled:a&&!m||i||!n,icon:f.kBi,text:d?en.intl.string(en.t.pIuQIy):en.intl.string(en.t.TyAuoa)})}function ej(){return Promise.resolve()}function ev(e){let{parentChannel:t}=e,{appliedTags:n,toggleAppliedTag:a,setPopoutOpen:s}=(0,K.xH)(e=>{let{appliedTags:t,toggleAppliedTag:n,setPopoutOpen:r}=e;return{appliedTags:t,toggleAppliedTag:n,setPopoutOpen:r}},c.X),o=n.size>=$.Cn,h=(0,d.ZP)({id:"".concat(t.id,"-post-form-tags-navigator"),isEnabled:!0,wrap:!0,scrollToStart:ej,scrollToEnd:ej,orientation:m.hy.HORIZONTAL}),{containerRef:g,containerWidth:x}=(0,Q.Z)(),p=i.useRef(null),b=i.useRef(null),[j,v]=i.useState(!0),_=(0,G.Vm)(t),[C,y]=i.useState(0);return(i.useLayoutEffect(()=>{var e;let t=p.current,n=null==t||null==(e=t.children)?void 0:e[0],r=null==t||null==n||n.clientHeight>t.clientHeight;if(r!==j&&v(r),r&&null!=g.current&&null!=n&&null!=n.children){let{left:e,top:t}=g.current.getBoundingClientRect(),r=0;for(let i of n.children){let{right:n,top:a,height:l}=i.getBoundingClientRect();if(a-t>l)break;n-e>r&&(r=n-e)}y(r)}},[_,j,g,x]),0===_.length)?null:(0,r.jsxs)("div",{className:er.tagsContainer,ref:g,children:[(0,r.jsx)(f.lO_,{size:"xs",color:"currentColor",className:er.tagsIcon}),(0,r.jsx)("div",{className:er.tagList,ref:p,children:(0,r.jsx)(u.bG,{navigator:h,children:(0,r.jsx)(u.SJ,{children:e=>{var{ref:t}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsx)("div",ea(ei({className:er.tagListInner,ref:t},i),{children:_.map(e=>(0,r.jsx)(J.Z,{ariaLabel:en.intl.formatToPlainString(en.t.FSZVIS,{tagName:e.name}),tag:e,onClick:o&&!n.has(e.id)?void 0:()=>a(e.id),disabled:!n.has(e.id)&&n.size>=$.Cn,selected:n.has(e.id),size:J.Z.Sizes.SMALL},e.id))}))}})})}),j&&(0,r.jsx)(f.yRy,{targetElementRef:b,onRequestOpen:()=>s(!0),onRequestClose:()=>s(!1),renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(W.Z,{parentChannel:t,appliedTags:n,maxTagsApplied:o,onSelectTag:a,onClose:i})},position:"bottom",align:"center",children:e=>(0,r.jsx)("div",{ref:b,className:er.tagsButton,style:{left:C},children:(0,r.jsx)(f.zxk,ea(ei({},e),{size:"sm",variant:"secondary",icon:f.CJ0,iconPosition:"end",text:en.intl.string(en.t.w6T0YW)}))})}),(0,r.jsx)("div",{className:l()(er.tagsButton,er.tagsButtonPlaceholder),children:(0,r.jsx)(f.zxk,{size:"sm",variant:"secondary",icon:f.CJ0,iconPosition:"end",text:en.intl.string(en.t.w6T0YW)})})]})}function e_(e){let{style:t,className:n}=e;return(0,r.jsx)("div",{className:n,style:t,children:(0,r.jsx)("div",{className:er.loader})})}},219664:function(e,t,n){"use strict";n.d(t,{Z:()=>U}),n(388685);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(683860),o=n(442837),c=n(692547),d=n(481060),u=n(738619),m=n(824578),h=n(841762),g=n(991621),f=n(629710),x=n(406432),p=n(169525),b=n(255269),j=n(930282),v=n(524444),_=n(695346),C=n(433355),y=n(592125),w=n(496675),T=n(699516),O=n(456269),S=n(109590),P=n(368844),N=n(73315),I=n(404616),E=n(510060),R=n(983200),M=n(196255),Z=n(858543),k=n(482062),A=n(883728),L=n(710352),F=n(981631),D=n(388032),z=n(740202);function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function B(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let U=i.memo(function(e){let{id:t,threadId:n,goToThread:i,overrideMedia:a,className:l,coords:s,gridCoords:c,gridSectionBoundaries:d,observePostVisibilityAnalytics:u}=e,m=(0,o.e7)([y.Z],()=>y.Z.getChannel(n));return null==m?null:(0,r.jsx)(V,{id:t,channel:m,goToThread:i,overrideMedia:a,className:l,coords:s,gridCoords:c,observePostVisibilityAnalytics:u,gridSectionBoundaries:d})});function V(e){let{id:t,channel:n,goToThread:a,overrideMedia:u,className:m,coords:h,gridCoords:g,gridSectionBoundaries:f,observePostVisibilityAnalytics:x}=e,p=n.id,b=i.useRef(null),j=(0,o.e7)([C.ZP],()=>C.ZP.getCurrentSidebarChannelId(n.parent_id)===n.id),{firstMessage:v,loaded:_}=(0,S.cl)(n),{messageCountText:y}=(0,O.nP)(n),{isNew:w,hasUnreads:T}=(0,O.J$)(n),P=i.useRef(null),{handleLeftClick:N,handleRightClick:R}=(0,A.Z)({facepileRef:P,goToThread:a,channel:n});i.useEffect(()=>{null==x||x(b.current,p)},[x,p]);let Z=(0,O.xw)(n,s.z.CREATION_DATE,L.R6.POSTED_DURATION_AGO),F=(0,I.NN)(n),B=(0,k.nX)({id:t,row:g.row,column:g.column,section:g.section,boundaries:f}),{onFocus:U}=B,V=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(B,["onFocus"]);return(0,r.jsxs)("li",{ref:b,onClick:N,onFocus:U,onContextMenu:R,className:l()(z.container,m,{[z.isOpen]:j}),style:H({},h),children:[(0,r.jsx)(d.P3F,H({onClick:N,focusProps:{ringTarget:b},onContextMenu:R,"aria-label":D.intl.formatToPlainString(D.t.pgYN6e,{title:n.name,count:y}),className:z.focusTarget},V)),(0,r.jsxs)("div",{className:z.header,children:[(0,r.jsxs)("div",{className:z.authorRow,children:[(0,r.jsxs)("div",{className:z.rowGroup,children:[(0,r.jsx)(M.Z,{channel:n,message:v}),(0,r.jsx)(d.Text,{variant:"text-xs/normal",color:"header-secondary",className:z.postCreationTimestamp,children:Z})]}),w?(0,r.jsx)(d.IGR,{className:z.newBadge,color:c.Z.unsafe_rawColors.BRAND_260.css,text:D.intl.string(D.t.y2b7CA)}):null]}),(0,r.jsx)(d.y5t,{children:(0,r.jsx)(d.X6q,{variant:"heading-md/extrabold",className:z.title,color:T?"header-primary":"text-muted",style:{width:"".concat(h.width-2*E.I8,"px")},children:F})})]}),(0,r.jsx)("div",{className:z.postBody,children:(0,r.jsx)(d.Rny,{children:(0,r.jsx)(G,{channel:n,firstMessage:v,isFirstMessageLoaded:_,overrideMedia:u,coords:h})})}),(0,r.jsx)("div",{className:z.footer,children:(0,r.jsx)(d.Rny,{children:(0,r.jsx)(W,{channel:n,firstMessage:v,facepileRef:P})})})]})}function G(e){let{channel:t,firstMessage:n,isFirstMessageLoaded:i,overrideMedia:a,coords:l}=e,{isBlocked:s,isIgnored:c}=(0,o.cj)([T.Z],()=>({isBlocked:null!=n&&T.Z.isBlockedForMessage(n),isIgnored:null!=n&&T.Z.isIgnoredForMessage(n)}));return s?(0,r.jsx)($,{message:D.intl.string(D.t.Lkp2fH),containerWidth:l.width,channel:t}):c?(0,r.jsx)($,{message:D.intl.string(D.t.yWK7ZG),containerWidth:l.width,channel:t}):(0,r.jsx)(q,{channel:t,firstMessage:n,isFirstMessageLoaded:i,overrideMedia:a,coords:l})}function q(e){let{channel:t,firstMessage:n,isFirstMessageLoaded:i,overrideMedia:a,coords:l}=e,s=(0,o.e7)([y.Z],()=>y.Z.getChannel(t.parent_id)),{firstMedia:c}=(0,O.mX)({firstMessage:n,formatInline:!1,noStyleAndInteraction:!1}),{hasUnreads:d}=(0,O.J$)(t),u=(0,o.e7)([w.Z],()=>w.Z.can(F.Plq.MANAGE_MESSAGES,t)),m=_.QK.useSetting(),h=_.cC.useSetting(),g=(0,b.Z)(h,u),f=(0,P.aU)(n,s,!1),[x,p]=(0,E.rI)(l.width-2*E.LT),j=(null==n?void 0:n.blocked)||null==(null!=a?a:c),v=t.isMediaPost();return j?(0,r.jsx)(Q,{channel:t,firstMessage:n,isFirstMessageLoaded:i,containerWidth:l.width,hasUnreads:d}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J,{mediaAttachments:f,globalSpoilerRenderSetting:g,containerWidth:x,containerHeight:v?9/16*x:p,canAutoPlay:m,shouldMaintainAspectRatio:v}),(0,r.jsx)("div",{className:z.tagsRow,children:(0,r.jsx)(Z.ZP,{channel:t,tagsClassName:z.tagPill})})]})}function W(e){let{channel:t,facepileRef:n,firstMessage:i}=e,a=(0,m.Q)(t.id),l=(null==i?void 0:i.reactions)!=null&&i.reactions.length>0;return(0,r.jsxs)("div",{className:z.forumPostControls,children:[(0,r.jsxs)("div",{className:z.controlsGroup,children:[(0,r.jsx)("div",{className:z.messageCountContainer,children:(0,r.jsx)(I.m9,{channel:t,iconSize:16,showReadState:!0})}),a.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:z.bullet,children:""}),(0,r.jsxs)("div",{className:z.typing,children:[(0,r.jsx)(I.og,{channel:t,userIds:a,facepileRef:n}),(0,r.jsx)("div",{className:z.dots,children:(0,r.jsx)(d.bbz,{themed:!0,dotRadius:2})}),(0,r.jsx)(u.ZP,{channel:t,className:z.typingUsers,renderDots:!1})]})]}):null]}),(0,r.jsxs)("div",{className:z.controlsGroup,children:[l||null==i?null:(0,r.jsx)(I.kZ,{firstMessage:i,channel:t}),null==i?null:(0,r.jsx)(I.au,{firstMessage:i,channel:t})]})]})}let X=e=>e.preventDefault(),K=i.memo(function(e){return(0,r.jsx)(r.Fragment,{children:(0,v.Yi)(B(H({},e),{analyticsSource:"ForumPostMediaPreviewImage"}))})}),J=i.memo(function(e){let{mediaAttachments:t,globalSpoilerRenderSetting:n,containerWidth:a,containerHeight:s,canAutoPlay:o,shouldMaintainAspectRatio:c=!1}=e,{containsVideo:u,containsGif:m}=i.useMemo(()=>(0,P.cp)(t),[t]),b=i.useMemo(()=>t.slice(R.$x,R.GV),[t]),j=(0,R.tu)({numAttachments:b.length,containerWidth:a,containerHeight:s}),v=(0,R.S$)({imageContainerStyles:j,containerWidth:a,containerHeight:s}),_=(0,f.kh)(g.n.GUILD),C=i.useMemo(()=>b.map((e,t)=>{var i;let[a,s]=(0,p.As)(e,!n,_),g=(0,p.MC)(s),f=B(H({},v[t]),{src:e.src,width:e.width,height:e.height,alt:null!=e.alt&&a?g:e.alt,onClick:X,shouldRenderAccessory:!m&&!u}),b=(0,x.d$)(e.src)?"".concat(e.src,"?format=png"):e.src,C=o&&!a?e.src:b;return(0,r.jsxs)("div",{className:z.bodyMediaFrame,style:j[t],children:[c?(0,r.jsx)(h.Z,B(H({},f),{src:C,backgroundSrc:b,aspectRatio:f.maxWidth/f.maxHeight,alt:null!=(i=f.alt)?i:"",className:l()(z.mediaPostContainer,{[z.obscured]:a}),imageChildClassName:z.mediaPostThumbnail})):e.src.startsWith("data:")?(0,r.jsx)(d.Eep,B(H({},f),{className:z.mediaContainer,imageClassName:l()(z.thumbnailOverride,{[z.obscured]:a})})):(0,r.jsx)(K,B(H({},f),{autoPlay:o&&!a,containerClassName:z.mosaicMediaContainer,imageClassName:l()(z.imageCover,{[z.obscured]:a}),responsive:!0})),a&&(0,r.jsx)("div",{className:z.obscuredTagContainer,children:(0,r.jsx)(N.Z,{obscureReason:s,iconClassname:z.obscuredTag})})]},e.src)}),[o,m,u,n,j,v,b,c,_]);return(0,r.jsxs)("div",{className:z.bodyMedia,style:{width:a,height:s},children:[C,(m||u)&&(0,r.jsxs)("div",{className:z.mediaIconsRow,children:[u&&(0,r.jsx)(d.o1U,{color:"currentColor",size:"custom",width:22,height:22,className:z.mediaIcon}),m&&(0,r.jsx)(d.OUq,{size:"custom",width:29,height:29,color:"currentColor",className:z.mediaIcon})]}),t.length>R.Vn&&(0,r.jsx)(Y,{text:(t.length-R.Vn).toString(),icon:d.XBm,pillClassName:z.moreImagesPill,iconClassName:z.moreImagesPillIcon,textClassName:z.moreImagesPillText})]})});function Y(e){let{text:t,icon:n,pillClassName:i,iconClassName:a,textClassName:l}=e;return(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)(n,{className:a,color:"currentColor"}),(0,r.jsxs)(d.Text,{variant:"text-xs/medium",className:l,children:["+",t]})]})}function Q(e){let{channel:t,firstMessage:n,isFirstMessageLoaded:a,containerWidth:s,hasUnreads:o}=e,c=_.jU.useSetting(),[u,m]=(0,E.rI)(s-2*E.LT),{content:h}=(0,O.mX)({firstMessage:n,formatInline:!1,noStyleAndInteraction:!0}),{shouldRenderTagsRow:g}=(0,Z.DM)({channel:t,isNew:!1}),f=i.useMemo(()=>({width:u,height:m}),[u,m]),x=o?z.textContentUnread:z.textContentRead;return(0,r.jsxs)("div",{className:z.contentPreview,style:f,children:[(0,r.jsxs)("div",{className:z.content,children:[a&&null==n&&(0,r.jsx)(d.Text,{variant:"text-sm/normal",color:o?"header-secondary":"text-muted",children:D.intl.string(D.t.mE3KJC)}),a&&null!=n&&(0,r.jsx)(j.ZP,{message:n,content:h,className:x,compact:c})]}),(0,r.jsx)("div",{className:l()(z.textContentFooter,{[z.noTags]:!g}),children:g?(0,r.jsx)(Z.ZP,{channel:t,tagsClassName:z.tagPill}):null})]})}function $(e){let{message:t,containerWidth:n,channel:a}=e,[s,o]=(0,E.rI)(n-2*E.LT),{shouldRenderTagsRow:c}=(0,Z.DM)({channel:a,isNew:!1}),u=i.useMemo(()=>({width:s,height:o}),[s,o]);return(0,r.jsxs)("div",{className:z.contentPreview,style:u,children:[(0,r.jsx)("div",{className:z.content,children:(0,r.jsx)(d.Text,{className:z.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:t})}),(0,r.jsx)("div",{className:l()(z.textContentFooter,{[z.noTags]:!c}),children:c?(0,r.jsx)(Z.ZP,{channel:a,tagsClassName:z.tagPill}):null})]})}},895932:function(e,t,n){"use strict";n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(313361),a=n(697988),l=n(683860),s=n(481060),o=n(869382),c=n(109434),d=n(228392),u=n(388032),m=n(764295),h=n(377741);function g(e){let{channel:t,closePopout:n}=e,{sortOrder:g,layoutType:f,tagSetting:x}=(0,c.H)(t.id),{showResolvedFlags:p,setShowResolvedFlags:b}=(0,o.N)(t.id),j=(0,c.v)(),v=t.isMediaChannel(),_=e=>{(0,d.KR)({guildId:t.guild_id,channelId:t.id,sortOrder:e}),j.getState().setSortOrder(t.id,e),n()},C=e=>{(0,d.Do)({guildId:t.guild_id,channelId:t.id,forumLayout:e}),j.getState().setLayoutType(t.id,e),n()},y=e=>{j.getState().setTagSetting(t.id,e),n()},w=null!=t.availableTags&&t.availableTags.length>0;return(0,r.jsx)("div",{className:h.container,children:(0,r.jsxs)(s.v2r,{navId:"sort-and-view","aria-label":v?u.intl.string(u.t["kQN/bm"]):u.intl.string(u.t.DJzbkJ),hideScroller:!0,onClose:n,onSelect:n,children:[(0,r.jsxs)(s.kSQ,{label:u.intl.string(u.t.f8wNDg),children:[(0,r.jsx)(s.k5B,{id:"sort-by-recent-activity",group:"sort-by",label:u.intl.string(u.t.jOPmcH),action:()=>_(l.z.LATEST_ACTIVITY),checked:g===l.z.LATEST_ACTIVITY}),(0,r.jsx)(s.k5B,{id:"sort-by-date-posted",group:"sort-by",label:u.intl.string(u.t.UIltXV),action:()=>_(l.z.CREATION_DATE),checked:g===l.z.CREATION_DATE})]}),t.isModeratorReportChannel()&&(0,r.jsx)(s.kSQ,{label:u.intl.string(m.default.PsM2b2),children:(0,r.jsx)(s.S89,{id:"resolved-flags-none",label:u.intl.string(u.t.XJuakJ),action:()=>b(!p),checked:p})}),t.isMediaChannel()||t.isModeratorReportChannel()?null:(0,r.jsxs)(s.kSQ,{label:u.intl.string(u.t.mFMDSk),children:[(0,r.jsx)(s.k5B,{id:"view-as-list",group:"view-as",label:u.intl.string(u.t["NJFr+v"]),action:()=>C(i.X.LIST),checked:f===i.X.LIST}),(0,r.jsx)(s.k5B,{id:"view-as-grid",group:"view-as",label:u.intl.string(u.t.wKeggY),action:()=>C(i.X.GRID),checked:f===i.X.GRID})]}),w?(0,r.jsxs)(s.kSQ,{label:u.intl.string(u.t.Paxaur),children:[(0,r.jsx)(s.k5B,{id:"match-some",group:"tag-setting",label:u.intl.string(u.t.rQ0ctb),action:()=>y(a.z.MATCH_SOME),checked:x===a.z.MATCH_SOME}),(0,r.jsx)(s.k5B,{id:"match-all",group:"tag-setting",label:u.intl.string(u.t.FCXUu7),action:()=>y(a.z.MATCH_ALL),checked:x===a.z.MATCH_ALL})]}):null,(0,r.jsx)(s.kSQ,{children:(0,r.jsx)(s.sNh,{id:"reset-all",className:h.clearText,label:(0,r.jsx)(s.Text,{variant:"text-sm/medium",color:"none",children:u.intl.string(u.t["3b//lJ"])}),action:()=>{_(t.getDefaultSortOrder()),C(t.getDefaultLayout()),y(t.getDefaultTagSetting())}})})]})})}},510060:function(e,t,n){"use strict";n.d(t,{I8:()=>s,KW:()=>m,LT:()=>u,Me:()=>o,eU:()=>c,rI:()=>d});var r=n(512722),i=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=2/3,s=12;class o{getWidth(e){return this.getRenderOptions(e).columnWidth}getRenderOptions(e){if(e<=this.minWidth)return{columns:1,columnWidth:this.minWidth};let t=e/this.maxWidth,n=Math.max(Math.floor(t+(e/this.minWidth-t)/2),1),r=this.gap*(n-1);return{columns:n,columnWidth:(e-r)/n}}constructor({minWidth:e,maxWidth:t,gap:n}){a(this,"minWidth",void 0),a(this,"maxWidth",void 0),a(this,"gap",void 0),i()(e<t,"minWidth needs to be smaller than maxWidth"),this.minWidth=e,this.maxWidth=t,this.gap=n}}let c={columns:1,columnWidth:450},d=e=>{let t=e-2,n=Math.ceil(t*l);return[t,n]},u=12,m=e=>60+d(e-2*u)[1]+24+3*s},983200:function(e,t,n){"use strict";n.d(t,{$x:()=>l,GV:()=>s,S$:()=>h,Vn:()=>o,tu:()=>u});var r=n(647438),i=n(31775),a=n.n(i);let l=0,s=4,o=4,c="absolute",d=new(a())({max:100});function u(e){let{numAttachments:t,containerWidth:n,containerHeight:i}=e;return r.useMemo(()=>(function(e){let{numAttachments:t,containerWidth:n,containerHeight:r}=e,i="".concat(t,"-").concat(n,"-").concat(r),a=d.get(i);if(null!=a)return a;{let e=((e,t,n,r)=>{if(0===n)return[];if(1===n)return[{width:e,height:t,top:0,left:0,position:c}];if(2===n){let n=Math.ceil((e-r)/2);return[{top:0,left:0,position:c,width:n,height:t},{top:0,left:n+r,position:c,width:n,height:t}]}if(3===n){let n=Math.ceil((e-r)/2),i=Math.ceil((t-r)/2);return[{top:0,left:0,position:c,width:n,height:t},{top:0,left:n+r,position:c,width:n,height:i},{top:i+r,left:n+r,position:c,width:n,height:i}]}{let n=Math.ceil((e-r)/2),i=Math.ceil((t-r)/2);return[{top:0,left:0,position:c,width:n,height:i},{top:i+r,left:0,position:c,width:n,height:i},{top:0,left:n+r,position:c,width:n,height:i},{top:i+r,left:n+r,position:c,width:n,height:i}]}})(n,r,t,4);return d.set(i,e),e}})({numAttachments:t,containerWidth:n,containerHeight:i}),[t,n,i])}function m(e){return e.map((t,n)=>({minWidth:2*e[n].width,minHeight:2*e[n].height,maxWidth:2*e[n].width,maxHeight:2*e[n].height}))}function h(e){let{imageContainerStyles:t,containerWidth:n,containerHeight:i}=e,a=r.useRef(m(t)),l=r.useRef(n),s=r.useRef(i),o=n>l.current+100,c=i>s.current+100;return(o||c)&&(a.current=m(t)),a.current}},399894:function(e,t,n){"use strict";n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(120356),a=n.n(i),l=n(913527),s=n.n(l),o=n(481060),c=n(70956),d=n(388032),u=n(944400);let m=e=>{let t,n,{rateLimitPerUser:i,slowmodeCooldownGuess:l,isBypassSlowmode:m,leadingIcon:h=!1}=e;if(i>=c.Z.Seconds.HOUR){let e=Math.floor(i/c.Z.Seconds.HOUR),t=Math.floor((i-e*c.Z.Seconds.HOUR)/c.Z.Seconds.MINUTE),r=i-e*c.Z.Seconds.HOUR-t*c.Z.Seconds.MINUTE;n=d.intl.formatToPlainString(d.t.oEwLe3,{hours:e,minutes:t,seconds:r})}else if(i>=60){let e=Math.floor(i/60);n=d.intl.formatToPlainString(d.t.DARKYm,{minutes:e,seconds:i-60*e})}else n=d.intl.formatToPlainString(d.t["9yE8GR"],{seconds:i});if(!m&&l>0){let e=s().duration(l);if(l>c.Z.Millis.HOUR){let n="".concat(e.minutes()).padStart(2,"0"),r="".concat(e.seconds()).padStart(2,"0");t="".concat(e.hours(),":").concat(n,":").concat(r)}else{let n="".concat(e.seconds()).padStart(2,"0");t="".concat(e.minutes(),":").concat(n)}}else t=m?d.intl.string(d.t.SSzXvb):d.intl.string(d.t.Icu3bW);let g=(0,r.jsx)(o.Text,{variant:"text-sm/normal",color:"text-muted",children:t}),f=(0,r.jsx)(o.ANZ,{size:"xs",color:"currentColor",className:a()(u.slowModeIcon,{[u.leadingIcon]:h})});return(0,r.jsx)(o.ua7,{text:n,children:e=>{var t,n;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:u.cooldownWrapper},e),n=n={children:h?(0,r.jsxs)(r.Fragment,{children:[f,g]}):(0,r.jsxs)(r.Fragment,{children:[g,f]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}},276357:function(e,t,n){"use strict";n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),a=n(924826),l=n(91192),s=n(442837),o=n(481060),c=n(607070),d=n(109434),u=n(456269),m=n(228392),h=n(479099),g=n(981631),f=n(388032),x=n(613576);function p(){return Promise.resolve()}function b(e){let{channel:t,closePopout:n,setPopoutRef:b}=e,j=(0,u.Vm)(t),{tagFilter:v}=(0,d.H)(t.id),_=(0,d.v)(),C=(0,s.e7)([c.Z],()=>c.Z.keyboardModeEnabled),y=i.useCallback(e=>{(0,m.e7)({guildId:t.guild_id,channelId:t.id,tagId:e,filterTagIds:Array.from(v),added:!v.has(e),location:{page:g.ZY5.GUILD_CHANNEL,section:g.jXE.FORUM_CHANNEL_HEADER,object:g.qAy.CHANNEL_TAG}}),_.getState().toggleTagFilter(t.id,e)},[t,v,_]),w=i.useCallback(()=>{_.getState().setTagFilter(t.id,new Set),C||n()},[_,t.id,C,n]),T=(0,a.ZP)({id:"".concat(t.id,"-all-tags-dropdown-navigator"),isEnabled:!0,wrap:!0,scrollToStart:p,scrollToEnd:p}),O=i.useRef(null);return i.useEffect(()=>{requestAnimationFrame(()=>{if(null!=O.current){let e=O.current.querySelector(".".concat(x.tag));null!=e&&e.focus()}})},[]),(0,r.jsxs)(o.VqE,{ref:e=>{null==b||b(e)},"aria-label":f.intl.string(f.t.TdqRTk),className:x.container,children:[(0,r.jsx)("div",{className:x.header,children:(0,r.jsxs)("div",{className:x.headerLeft,children:[(0,r.jsx)(o.X6q,{color:"interactive-normal",variant:"heading-md/semibold",className:x.headerText,children:f.intl.string(f.t.HPu3kp)}),(0,r.jsx)("div",{className:x.countContainer,children:(0,r.jsx)(o.Text,{className:x.countText,color:"none",variant:"text-xs/medium",tabularNumbers:!0,children:v.size})})]})}),(0,r.jsx)(l.bG,{navigator:T,children:(0,r.jsx)(l.SJ,{children:e=>{var t,n,{ref:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{i.current=e,O.current=e}},a),n=n={className:x.tagContainer,children:j.map(e=>(0,r.jsx)(h.Z,{className:x.tag,tag:e,selected:v.has(e.id),onClick:()=>y(e.id)},e.id))},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}),(0,r.jsx)("div",{className:x.separator}),(0,r.jsx)(o.Avr,{"aria-label":f.intl.string(f.t["98EPQE"]),onClick:w,text:f.intl.string(f.t["98EPQE"])})]})}},81490:function(e,t,n){"use strict";n.d(t,{Z:()=>l}),n(388685);var r=n(647438),i=n(393903),a=n(448986);let l=()=>{let[e,t]=r.useState(400),n=(0,a.Z)(e=>{t(e.target.clientWidth)});return{containerRef:(0,i.y)(n),containerWidth:e}}},482062:function(e,t,n){"use strict";n.d(t,{KT:()=>b,ZP:()=>h,nX:()=>p}),n(388685);var r=n(951288),i=n(647438),a=n(25441),l=n(536895),s=n(260866);let o="data-grid-item-id",c="data-grid-section",d="data-grid-prev-section-boundary",u=new Set([l.R8.UP,l.R8.DOWN,l.R8.LEFT,l.R8.RIGHT]);function m(e){let{section:t,column:n,row:r}=e,i="[".concat(c,'="').concat(t,'"]'),a="[".concat("aria-colindex",'="').concat(n,'"]'),l="[".concat("aria-rowindex",'="').concat(r,'"]');return"".concat(i).concat(a).concat(l)}function h(e){let{id:t,isEnabled:n,setFocus:r}=e,c=i.useRef(null),h=i.useRef(!1),g=i.useRef(null),f=i.useRef(n);i.useLayoutEffect(()=>{f.current=n},[n]);let x=i.useCallback(e=>{var t;return(null!=(t=g.current)?t:document).querySelector(e)},[]),p=i.useCallback((e,t)=>{f.current&&r(e,t)},[r]),b=i.useCallback(e=>{if(f.current){var t;null==(t=document.querySelector(e))||t.focus()}},[]),j=i.useCallback(e=>{c.current=e;let n=(0,s.P1)(e,o),r=(0,s.x3)(e);p(n,r),(0,a.h)(t,r,!0)},[t,p]),[v,_]=i.useState(!1),C=i.useRef(v);i.useLayoutEffect(()=>{C.current=v},[v]),i.useLayoutEffect(()=>{let e=g.current;if(null!=e)return e.addEventListener("focusin",n),e.addEventListener("focusout",r),e.addEventListener("focus",i),e.addEventListener("scroll",a,{passive:!0}),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",r),e.removeEventListener("focus",i),e.removeEventListener("scroll",a)};function n(){_(!0)}function r(e){e.currentTarget.contains(e.relatedTarget)||(_(!1),requestAnimationFrame(()=>{let e=c.current;null!==e&&null==x((0,s.P1)(e,o))&&b((0,s.P1)(t,"data-grid-id"))}))}function i(){let e=g.current;if(C.current||null==e)return}function a(){h.current=!0}},[t,p,b,j,x]);let y=i.useCallback(e=>{var t,n;if(!f.current)return;let r=c.current,i=g.current;if(null==r)return;let a=(0,s.P1)(r,o),h=null==i?void 0:i.querySelector(a);if(null==h)return;let p=parseInt(null!=(t=h.getAttribute("data-grid-section"))?t:""),b=parseInt(h.getAttribute("aria-rowindex")),v=parseInt(h.getAttribute("aria-colindex"));switch(u.has(e.key)&&(e.stopPropagation(),e.preventDefault()),e.key){case l.R8.RIGHT:{let e=x(m({section:p,row:b,column:v+1}));if(null!=e){let t=e.getAttribute(o);null!=t&&j(t)}return}case l.R8.LEFT:{let e=x(m({section:p,row:b,column:v-1}));if(null!=e){let t=e.getAttribute(o);null!=t&&j(t)}return}case l.R8.DOWN:{let e=x(m({section:p,row:b+1,column:v}));if(null==e&&(e=x(m({section:p+1,row:0,column:v}))),null!=e){let t=e.getAttribute(o);null!=t&&j(t)}return}case l.R8.UP:{let e;if(0===b){let t=parseInt(h.getAttribute(d));null==(e=x(m({section:p-1,row:t,column:v})))&&(e=x(m({section:p-1,row:t-1,column:v})))}else e=x(m({section:p,row:b-1,column:v}));if(null!=e){let t=e.getAttribute(o);null!=t&&j(t)}return}case l.R8.SPACE:case l.R8.ENTER:{if(e.repeat)return;let t=c.current;if(null!=t){let r=x((0,s.P1)(t,o)),i=null!=(n=null==r?void 0:r.ownerDocument)?n:document,a=r===i.activeElement;null!=r&&a&&(e.preventDefault(),e.stopPropagation(),null==r||r.click())}}}},[x,j]),w=i.useCallback(e=>{c.current=null!=e?(0,s.jb)(t,e):null},[t]);return i.useMemo(()=>({id:t,containerProps:{onKeyDown:y,ref:g},setFocus:w}),[t,y,w])}let g={id:"NO_LIST",onKeyDown(){},ref:i.createRef()},f=i.createContext({id:"NO_LIST",setFocus(){}}),x=i.createContext(g);function p(e){let{id:t,section:n,row:r,column:l,boundaries:u}=e,[m,h]=i.useState(0===r&&0===l?0:-1),{id:g,setFocus:x}=i.useContext(f),p=i.useCallback(()=>x(t),[t,x]);return i.useLayoutEffect(()=>(0,a.N)(g,e=>{h(e===t?0:-1)}),[t,g]),{[o]:(0,s.jb)(g,t),[c]:n,[d]:u[n],role:"gridcell","aria-rowindex":r,"aria-colindex":l,tabIndex:m,onFocus:p}}function b(e){let{children:t,navigator:n}=e,{id:a,setFocus:l,containerProps:{onKeyDown:s,ref:o}}=n,c=i.useMemo(()=>({id:a,setFocus:l}),[a,l]),d=i.useMemo(()=>({onKeyDown:s,ref:o,id:a}),[s,o,a]);return(0,r.jsx)(x.Provider,{value:d,children:(0,r.jsx)(f.Provider,{value:c,children:t})})}},260503:function(e,t,n){"use strict";n.d(t,{Z:()=>a});var r=n(647438),i=n(924826);function a(e){let{listRef:t,padding:n,channel:a,isEnabled:l}=e,s=r.useCallback(e=>{let r=t.current,i=document.querySelector(e);null!=i&&(null==r||r.scrollIntoViewNode({node:i,padding:n,callback:()=>{var t;null==(t=document.querySelector(e))||t.focus({preventScroll:!0})}}))},[n,t]),o=r.useCallback(()=>new Promise(e=>{let n=t.current;null==n||n.scrollToTop({callback:()=>requestAnimationFrame(e)})}),[t]),c=r.useCallback(()=>new Promise(e=>{let n=t.current;null==n||n.scrollToBottom({callback:()=>requestAnimationFrame(e)})}),[t]);return(0,i.ZP)({id:"forum-channel-list-".concat(a.id),isEnabled:l,scrollToStart:o,scrollToEnd:c,setFocus:s})}},337077:function(e,t,n){"use strict";n.d(t,{M:()=>c}),n(35282),n(388685),n(539854);var r=n(647438),i=n(392711),a=n(990169),l=n(591759),s=n(158222),o=n(154135);function c(e,t,n){let c=r.useRef(new Map),[,d]=r.useState(null),[u,m]=r.useState(null),h=r.useMemo(()=>i.debounce((e,n)=>{if(null==n||e||0===t)return;let r=n.match(l.Z.URL_REGEX);if(null==r||0===r.length){c.current=new Map,m(null);return}m(i.uniq(r).slice(0,o.Yh))},1e3),[t,c,m]);r.useEffect(()=>{h(e,n)},[h,n,e]),r.useEffect(()=>{!async function(e,t){if(null==t)return;let n=e.current,r=new Set(n.keys()),i=t.filter(e=>!(null==r?void 0:r.has(e)));if(0!==i.length)try{var a,l,o;let t=await s.V6(i);a=new Map(n),l=i,o=null==t?void 0:t.embeds,null==o||o.forEach(e=>{var t,n;let r=(t=l,n=e,t.find(e=>(null==n?void 0:n.url)!=null&&e.startsWith(n.url)));if(null==r)return;let i=a.get(r);null==i?a.set(r,[e]):i.push(e)}),e.current=a,d({})}catch(e){}}(c,u)},[u]);let g=(0,a.Z)(c),f=r.useMemo(()=>{let e=[];return null==u||u.forEach(t=>{let n=g.get(t);null!=n&&e.push(...n)}),e.length>0?e:null},[u,g]);return{embeds:e?null:f}}},621516:function(e,t,n){"use strict";n.d(t,{Z:()=>I});var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(202841),o=n(442837),c=n(780384),d=n(481060),u=n(410030),m=n(70097),h=n(961675),g=n(883429),f=n(432771),x=n(406074),p=n(434404),b=n(430824),j=n(63063),v=n(595433),_=n(981631),C=n(388032),y=n(220179),w=n(906739),T=n(965358),O=n(420196),S=n(433075);function P(e){let{handleHide:t}=e;return(0,r.jsx)(d.P3F,{onClick:t,className:y.closeButton,"aria-label":C.intl.string(C.t.WAI6xs),children:(0,r.jsx)(d.Dio,{size:"md",color:"currentColor",className:y.closeIcon})})}function N(e){let{username:t,title:n,videoSrc:i,messageCount:a,reaction:s,reactionCount:o,classname:c}=e;return(0,r.jsxs)("div",{className:l()(y.videoPreview,c),children:[(0,r.jsx)("div",{className:y.authorRow,children:(0,r.jsxs)("div",{className:y.rowGroup,children:[(0,r.jsx)(d.Text,{tag:"span",className:y.author,variant:"text-sm/semibold",children:t}),(0,r.jsx)(d.Text,{variant:"text-xs/normal",color:"header-secondary",className:y.postCreationTimestamp,children:C.intl.string(C.t.mA0IvL)})]})}),(0,r.jsx)(d.X6q,{variant:"heading-md/extrabold",className:y.title,color:"header-primary","aria-hidden":!0,children:n}),(0,r.jsx)(d.LZC,{size:10}),(0,r.jsx)(m.Z,{className:y.video,src:i,autoPlay:!0,loop:!0,muted:!0}),(0,r.jsx)(d.LZC,{size:10}),(0,r.jsx)("div",{className:y.footer,children:(0,r.jsxs)("div",{className:y.forumPostControls,children:[(0,r.jsxs)("div",{className:y.messageCountBox,children:[(0,r.jsx)("span",{className:y.messageCountIcon,children:(0,r.jsx)(d.kBi,{size:"xs",color:"currentColor"})}),(0,r.jsx)(d.Text,{variant:"text-xs/normal",color:"interactive-normal",children:a})]}),(0,r.jsxs)("div",{className:y.reactionBox,children:[(0,r.jsx)("span",{role:"img","aria-label":"",children:s}),(0,r.jsx)(d.Text,{variant:"text-xs/normal",color:"interactive-normal",children:o})]})]})})]})}let I=e=>{var t,n;let{channel:a}=e,m=(0,u.ZP)(),I=(0,c.wj)(m),E=(0,o.e7)([b.Z],()=>b.Z.getGuild(a.guild_id)),R=(0,o.e7)([h.Z],()=>h.Z.hasHidden(a.id)),M=(0,x.C)({guildId:a.guild_id,channelId:a.id}),{transitions:Z,setVisible:k}=(0,v.H)(),A=i.useCallback(()=>{k(!1),g.Z.hideAdminOnboarding(a.id,!0)},[a,k]);i.useEffect(()=>{(0,f.c)(a.id)||k(!R)},[a,k,R]);let L=i.useMemo(()=>[C.intl.string(C.t["8pEGAw"]),C.intl.string(C.t.jwfgDQ),C.intl.string(C.t.mPKs29),C.intl.string(C.t.StRbvL)],[]),F=i.useMemo(()=>[C.intl.string(C.t["m/b58P"]),C.intl.string(C.t.MuJSKy),C.intl.string(C.t["d/Wqvr"]),C.intl.string(C.t.GJklAw)],[]),D=()=>{p.Z.open(a.guild_id,_.pNK.ROLE_SUBSCRIPTIONS)},z=null!=(t=null==E?void 0:E.features.has(_.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))&&t?C.intl.string(C.t.n0q7sL):C.intl.string(C.t.QoYdiY),H=null!=(n=(null==E?void 0:E.features.has(_.oNc.CREATOR_MONETIZABLE))||(null==E?void 0:E.features.has(_.oNc.CREATOR_MONETIZABLE_PROVISIONAL)))&&n,B=H?C.intl.string(C.t["G/7ciY"]):C.intl.string(C.t.IFOiio),U=H?C.intl.string(C.t.GjgQOz):C.intl.string(C.t.E7AO6u);return(0,r.jsx)(r.Fragment,{children:Z((e,t)=>t?(0,r.jsxs)(s.animated.div,{style:e,className:y.container,children:[(0,r.jsxs)("div",{className:y.headerRow,children:[(0,r.jsxs)(d.Text,{variant:"text-xs/normal",className:y.visibilityInfo,children:[(0,r.jsx)(d.d3s,{size:"xxs",color:"currentColor",className:y.icon}),C.intl.string(C.t.znhX2d)]}),(0,r.jsx)(P,{handleHide:A})]}),(0,r.jsxs)("div",{className:y.contentContainer,children:[(0,r.jsxs)("div",{className:l()(y.contentRow,H&&y.contentRowOne),children:[(0,r.jsx)("div",{className:y.contentMediaContainer,children:(0,r.jsxs)("div",{className:y.contentVideoContainer,children:[(0,r.jsx)(N,{username:C.intl.string(C.t.AkORcn),videoSrc:"https://cdn.discordapp.com/assets/media_channel/admin_edu_discord_birthday.mp4",title:C.intl.string(C.t.yO6Fxs),messageCount:"34",reaction:"",reactionCount:"724",classname:y.backgroundVideo}),(0,r.jsx)(N,{username:C.intl.string(C.t.DPg3YG),videoSrc:"https://cdn.discordapp.com/assets/media_channel/admin_edu_wumpus_onboarding.mp4",title:C.intl.string(C.t.R5XnCw),messageCount:"34",reactionCount:"84",reaction:"\uD83D\uDC9E",classname:y.backgroundVideo}),(0,r.jsx)(N,{username:C.intl.string(C.t.KIele3),videoSrc:"https://cdn.discordapp.com/assets/media_channel/admin_edu_scientist_wumpus.mp4",title:C.intl.string(C.t.pt88VV),messageCount:"7,103",reaction:"",reactionCount:"724",classname:y.highlightVideo})]})}),(0,r.jsxs)("article",{className:y.contentTextContainer,children:[(0,r.jsx)(d.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:B}),(0,r.jsx)(d.LZC,{size:8}),(0,r.jsx)(d.Text,{variant:"text-md/normal",color:"text-muted",children:U}),(0,r.jsx)(d.LZC,{size:16}),(0,r.jsxs)(d.P3F,{onClick:()=>open(j.Z.getCreatorSupportArticleURL(_.BhN.MEDIA_CHANNEL)),className:y.helpCenterLink,children:[(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"text-link",children:C.intl.string(C.t.OahzBQ)}),(0,r.jsx)(d.rgF,{size:"xs",color:"currentColor",className:y.helpCenterLinkIcon})]}),(0,r.jsx)(d.LZC,{size:16}),(0,r.jsx)("div",{className:y.mediaChannelTagsContainer,children:L.map(e=>(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"text-default",className:y.mediaChannelTag,children:e},e))})]})]}),H&&(0,r.jsxs)("div",{className:l()(y.contentRow,y.contentRowTwo),children:[(0,r.jsx)("div",{className:y.contentMediaContainer,children:(0,r.jsxs)("div",{className:y.contentImageContainer,children:[(0,r.jsx)("img",{src:I?O:S,alt:"",className:y.previewEmbedImage}),(0,r.jsx)("img",{src:I?w:T,alt:"",className:y.previewEmbedImage})]})}),(0,r.jsxs)("article",{className:y.contentTextContainer,children:[(0,r.jsxs)(d.Text,{variant:"text-xxs/bold",className:y.serverSubPill,children:[C.intl.string(C.t.NChGw8)," ",(0,r.jsx)("span",{role:"img","aria-label":"",children:"\uD83D\uDD25"})]}),(0,r.jsx)(d.LZC,{size:10}),(0,r.jsx)(d.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:C.intl.string(C.t["N/TRra"])}),(0,r.jsx)(d.LZC,{size:8}),(0,r.jsx)(d.Text,{variant:"text-md/normal",color:"text-muted",children:C.intl.string(C.t.t3yWxM)}),(0,r.jsx)(d.LZC,{size:16}),(0,r.jsx)("div",{className:y.mediaChannelTagsContainer,children:F.map(e=>(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"text-default",className:y.mediaChannelTag,children:e},e))}),(0,r.jsx)(d.LZC,{size:16}),0===M.length&&(0,r.jsx)(d.zxk,{variant:"primary",onClick:D,text:z})]})]})]})]}):null)})}},284182:function(e,t,n){"use strict";n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(399606),a=n(481060),l=n(541716),s=n(859235),o=n(898463),c=n(76451),d=n(117530),u=n(388032),m=n(485998);function h(e){let{parentChannel:t}=e,n=(0,i.Wu)([d.Z],()=>{let e=d.Z.getUploads(t.id,l.Ie.CREATE_FORUM_POST.drafts.type);return null==e?void 0:e.filter(e=>!0!==e.isThumbnail)});return(0,r.jsxs)("div",{className:m.container,children:[(0,r.jsx)(a.Text,{variant:"text-md/semibold",color:"text-muted",children:u.intl.string(u.t.omKGKi)}),(0,r.jsx)(a.Text,{variant:"text-sm/normal",color:"text-muted",children:u.intl.string(u.t.zUjLl5)}),(0,r.jsx)("div",{children:(0,r.jsx)(a.zJl,{className:m.uploadsContainer,orientation:"horizontal",paddingFix:!1,fade:!0,children:(0,r.jsxs)("div",{className:m.uploads,children:[n.map(e=>(0,r.jsx)(o.Z,{channelId:t.id,draftType:l.Ie.CREATE_FORUM_POST.drafts.type,upload:e,keyboardModeEnabled:!0,hideFileName:!0,size:s.q.SMALL},e.id)),(0,r.jsx)(c._,{channelId:t.id})]})})})]})}},795639:function(e,t,n){"use strict";n.d(t,{_:()=>I}),n(781311),n(953529);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(512722),o=n.n(s),c=n(524825),d=n(399606),u=n(755721),m=n(481060),h=n(166459),g=n(607070),f=n(541716),x=n(273031),p=n(859235),b=n(313201),j=n(70097),v=n(374794),_=n(470623),C=n(983200),y=n(127654),w=n(809639),T=n(388032),O=n(272210);let S=[{name:"Media Post Thumbnail",extensions:["jpg","jpeg","png","gif","webp"]}],P=(0,b.hQ)();function N(e){let{mediaAttachments:t,containerWidth:n,containerHeight:i}=e,a=(0,C.tu)({numAttachments:t.length,containerWidth:n,containerHeight:i});return(0,r.jsx)(r.Fragment,{children:t.map((e,t)=>{var n;return(0,r.jsx)("div",{style:a[t],children:!0===e.isVideo?(0,r.jsx)(j.Z,{src:e.src,className:O.thumbnail,"aria-hidden":!0}):(0,r.jsx)("img",{src:e.src,className:O.thumbnail,"aria-hidden":!0,alt:null!=(n=null==e?void 0:e.alt)?n:""})},e.src)})})}let I=e=>{var t;let{parentChannel:a}=e,{textAreaState:s}=(0,_.xH)(e=>{let{textAreaState:t}=e;return{textAreaState:t}},c.X),b=(0,d.e7)([g.Z],()=>g.Z.keyboardModeEnabled),j=(0,w.Z)(a,null==(t=s.textValue)?void 0:t.trim()),C=i.useMemo(()=>j.find(e=>e.isThumbnail),[j]),I=null!=j&&j.length>0,E=i.useMemo(()=>{let e=(null==j?void 0:j.length)>1?1.15:1;return{width:153*e,height:86*e}},[j]),R=i.useCallback(e=>{null!=C&&h.Z.remove(a.id,C.id,f.Ie.CREATE_FORUM_POST.drafts.type),(0,y.d5)(e.currentTarget.files,a,f.Ie.CREATE_FORUM_POST.drafts.type,{requireConfirm:!0,isThumbnail:!0,origin:"file_picker"}),e.currentTarget.value=null},[a,C]),M=e=>{e.stopPropagation(),(null==C?void 0:C.upload)!=null&&(0,m.ZDy)(async()=>{let e=C.upload;o()(null!=e,"upload should not be null");let{default:t}=await Promise.resolve().then(n.bind(n,95152));return n=>{var i,l;return(0,r.jsx)(t,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={upload:e,channelId:a.id,draftType:f.Ie.CREATE_FORUM_POST.drafts.type,onSubmit:t=>{let{name:n,description:r,spoiler:i}=t;h.Z.update(a.id,e.id,f.Ie.CREATE_FORUM_POST.drafts.type,{filename:n,description:r,spoiler:i})},disableSpoiler:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},Z=(0,r.jsx)(v.Z,{color:u.Tt.CUSTOM,className:O.uploadFileInputContainer,innerClassName:O.uploadThumbnailContainer,onChange:R,multiple:!1,"aria-hidden":!0,filters:S,"aria-describedby":P,"aria-label":I?T.intl.string(T.t.MxJI3d):T.intl.string(T.t.CbiofX),children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{mediaAttachments:j,containerWidth:E.width,containerHeight:E.height}),(0,r.jsxs)("div",{className:l()(O.changeThumbnailLabelContainer,{[O.changeThumbnailLabelOverflow]:(null==j?void 0:j.length)>2}),children:[(0,r.jsx)(m.Text,{variant:"text-xs/medium",color:"header-secondary",children:T.intl.string(T.t.MxJI3d)}),null==C&&(0,r.jsx)(m.vdY,{size:"xs",color:"currentColor",className:O.editIcon})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.FmF,{size:"custom",width:39,height:39,color:"currentColor",className:O.uploadIcon}),(0,r.jsx)(m.Text,{variant:"text-xs/normal",color:"text-muted",children:T.intl.string(T.t.CbiofX)})]})});return(0,r.jsx)("div",{className:O.thumbnailContainer,style:E,children:null!=C?(0,r.jsx)(p.Z,{actions:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:O.action,tooltip:T.intl.string(T.t.Y8ujqq),onClick:M,children:(0,r.jsx)(m.vdY,{size:"xs",color:"currentColor"})}),(0,r.jsx)(x.Z,{className:O.action,tooltip:T.intl.string(T.t.vN7REx),onClick:()=>h.Z.remove(a.id,C.id,f.Ie.CREATE_FORUM_POST.drafts.type),dangerous:!0,children:(0,r.jsx)(m.XHJ,{size:"md",color:"currentColor"})})]}),draftType:f.Ie.CREATE_FORUM_POST.drafts.type,id:C.id,channelId:a.id,handleEditModal:M,keyboardModeEnabled:b,size:p.q.SMALL,className:O.attachmentListItem,children:Z}):Z})}},809639:function(e,t,n){"use strict";n.d(t,{Z:()=>c}),n(361932),n(187205),n(388685),n(539854),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(953529);var r=n(647438),i=n(399606),a=n(541716),l=n(117530),s=n(154135),o=n(337077);function c(e,t){var n,c;let{mediaAttachments:d,hasThumbnail:u}=function(e){let[t,n]=r.useState(null),o=(0,i.Wu)([l.Z],()=>{let t=l.Z.getUploads(e.id,a.Ie.CREATE_FORUM_POST.drafts.type),n=t.find(e=>e.isThumbnail);return null!=n?[n]:t.filter(e=>e.isVideo||e.isImage)}),c=r.useMemo(()=>o.some(e=>e.isThumbnail),[o]);return r.useEffect(()=>{let e=[];return n(o.slice(0,s.Yh).flatMap(t=>{var n;let r=null==t||null==(n=t.item)?void 0:n.file;if(null==r)return[];let i=URL.createObjectURL(r);return e.push(i),{id:t.id,src:i,spoiler:t.spoiler,alt:t.description,isThumbnail:t.isThumbnail,upload:!0===t.isThumbnail?t:void 0,isVideo:t.isVideo}})),()=>{n(null),e.forEach(e=>URL.revokeObjectURL(e))}},[o]),{mediaAttachments:t,hasThumbnail:c}}(e),m=Math.max(s.Yh-(null!=(n=null==d?void 0:d.length)?n:0),0),{embeds:h}=(0,o.M)(u,m,t),g=r.useMemo(()=>null==h?void 0:h.flatMap(e=>{let t=(0,s.Vh)(e);return null==t?[]:{id:t,src:t,spoiler:!1,alt:e.title}}),[h]),f=[...null!=d?d:[]];return!u&&m>0&&f.push(...null!=(c=null==g?void 0:g.slice(0,m))?c:[]),f}},595433:function(e,t,n){"use strict";n.d(t,{H:()=>a}),n(388685);var r=n(647438),i=n(481060);function a(){let[e,t]=r.useState(!0);return{transitions:(0,i.Yzy)(e,{keys:e=>e?"shown":"hidden",config:l,from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!0}),setVisible:t}}let l={mass:1,tension:250,friction:18,clamp:!0}},543015:function(e,t,n){"use strict";n.d(t,{ZP:()=>ec}),n(388685);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(512722),o=n.n(s),c=n(913527),d=n.n(c),u=n(524825),m=n(91192),h=n(442837),g=n(481060),f=n(738619),x=n(393238),p=n(884338),b=n(168107),j=n(480916),v=n(446489),_=n(824578),C=n(95398),y=n(247206),w=n(109434),T=n(456269),O=n(109590),S=n(368844),P=n(660189),N=n(73315),I=n(470623),E=n(858543),R=n(265641),M=n(883728),Z=n(39154),k=n(712950),A=n(406432),L=n(169525),F=n(566006),D=n(255269),z=n(937889),H=n(443877),B=n(524444),U=n(287151),V=n(267128),G=n(695346),q=n(433355),W=n(592125),X=n(375954),K=n(496675),J=n(914010),Y=n(594174),Q=n(451478),$=n(55935),ee=n(216572),et=n(724739),en=n(981631),er=n(217702),ei=n(388032),ea=n(476720),el=n(586301),es=n(430864);function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let ec=i.memo(function(e){let{threadId:t,goToThread:n,observePostVisibilityAnalytics:a,overrideMedia:s,className:c}=e,{channel:d,isOpen:f,messageCount:p,content:b,firstMessage:j,media:v}=function(e){let{threadId:t,overrideMedia:n}=e,r=(0,h.e7)([W.Z],()=>W.Z.getChannel(t));o()(null!=r,"the thread should not be null here, a store must have missed an update");let a=(0,h.e7)([q.ZP],()=>q.ZP.getCurrentSidebarChannelId(r.parent_id)===r.id),{firstMessage:l}=(0,O.cl)(r),s=function(e){let{firstMessage:t,formatInline:n=!0,noStyleAndInteraction:r=!0}=e,a=(0,k.p)(),l=i.useMemo(()=>null!=t?(0,Z.Z)(t,null==t?void 0:t.messageSnapshots[0]):null,[t]),{hasSpoilerEmbeds:s,content:o}=i.useMemo(()=>(null==l?void 0:l.content)!=null&&""!==l.content?(0,z.ZP)(l,{formatInline:n,noStyleAndInteraction:r,allowHeading:!0,allowList:!0,shouldFilterKeywords:a}):{hasSpoilerEmbeds:!1,content:null},[n,l,r,a]),c=(0,S.eL)(t,s),d=(0,S.vg)(t,s);return null==t?null:{hasSpoilerEmbeds:s,content:o,firstMedia:c,firstMediaIsEmbed:d}}({firstMessage:l}),c=null==s?void 0:s.content,d=null==s?void 0:s.firstMedia,{messageCountText:u}=(0,T.nP)(r);return{channel:r,isOpen:a,messageCount:u,firstMessage:l,content:c,media:null!=n?n:d}}({threadId:t,overrideMedia:s});(0,ee.KK)(j);let _=(0,h.e7)([Y.default,X.Z],()=>{var e,t,n,r,i,a;let l=Y.default.getUser(null==j||null==(t=j.messageSnapshots[0])||null==(e=t.moderatorReport)?void 0:e.reported_user_id);if(null!=l)return l;if((null==j||null==(n=j.messageReference)?void 0:n.channel_id)!=null&&(null==j||null==(r=j.messageReference)?void 0:r.message_id)!=null){let e=X.Z.getMessage(null==j||null==(i=j.messageReference)?void 0:i.channel_id,null==j||null==(a=j.messageReference)?void 0:a.message_id);if(null!=e)return e.author}return null}),{ref:C,height:y}=(0,x.ZP)(),w=(0,I.xH)(e=>e.setCardHeight,u.X);i.useEffect(()=>{null!=y&&w(t,y)},[y,w,t]),i.useEffect(()=>{null==a||a(C.current,t)},[C,a,t]);let P=i.useRef(null),{handleLeftClick:N,handleRightClick:E}=(0,M.Z)({facepileRef:P,goToThread:n,channel:d}),A=(0,m.JA)(t),{role:L,onFocus:F}=A,D=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(A,["role","onFocus"]),{isFocused:H,handleFocus:B,handleBlur:U}=(0,R.Z)(F);return(0,r.jsxs)("div",{ref:C,"data-item-id":t,onClick:N,onContextMenu:E,className:l()(el.container,ea.container,c,{[el.isOpen]:f}),children:[(0,r.jsx)(g.P3F,eo({onClick:N,focusProps:{ringTarget:C},onContextMenu:E,"aria-label":ei.intl.formatToPlainString(ei.t.pgYN6e,{title:d.name,count:p}),className:el.focusTarget,onFocus:B,onBlur:U},D)),(0,r.jsxs)("div",{className:el.left,children:[(0,r.jsx)(g.y5t,{children:(0,r.jsxs)("div",{className:ea.contentAndMedia,children:[(0,r.jsx)(ed,{channel:d,firstMessage:j,content:b,hasMediaAttachment:null!=v,originalAuthor:_}),(null==j?void 0:j.blocked)||null==v?null:(0,r.jsx)(eb,{channel:d,firstMedia:v})]})}),(0,r.jsx)(g.Rny,{enabled:!H,children:(0,r.jsx)(em,{channel:d,firstMessage:j,facepileRef:P})})]})]})});function ed(e){let{channel:t,firstMessage:n,content:i,hasMediaAttachment:a,originalAuthor:s}=e,{hasUnreads:o}=(0,T.J$)(t);return(0,r.jsxs)("div",{className:l()(ea.body,el.body),children:[(0,r.jsx)(E.ZP,{channel:t}),(0,r.jsx)("div",{className:(el.message,ea.message),children:(0,r.jsx)(eu,{channel:t,message:n,content:i,hasMediaAttachment:a,hasUnreads:o,originalAuthor:s})})]})}let eu=i.memo(function(e){let{message:t,channel:n,content:i,hasMediaAttachment:a,hasUnreads:s,originalAuthor:o}=e,c=(0,h.e7)([P.Z],()=>P.Z.isLoading(n.id)),d=(0,h.e7)([K.Z],()=>K.Z.can(en.Plq.MANAGE_MESSAGES,n)),u=G.cC.useSetting(),m=(0,h.e7)([J.Z],()=>J.Z.getGuildId()),{contentPlaceholder:f,renderedContent:x}=null==t?{contentPlaceholder:null,renderedContent:null}:(0,V.f)(t,i,!1,!1,l()(el.messageContent,ea.messageContent,es.inlineFormat,es.__invalid_smallFontSize),{leadingIconClass:el.messageContentLeadingIcon,trailingIconClass:el.messageContentTrailingIcon,iconSize:er.WW}),p=null!=x?(0,r.jsx)(g.Text,{variant:"text-md/normal",children:x}):a?null:(0,r.jsx)(g.Text,{tag:"span",variant:"text-sm/medium",color:s?"header-secondary":"text-muted",className:l()(el.messageContent,ea.messageContent),"aria-label":"",children:null==t?c?null:ei.intl.string(ei.t.mE3KJC):f});return(0,r.jsxs)(C.aQ.Provider,{value:(0,D.Z)(u,d),children:[null!=o?(0,r.jsx)(g.qEK,{size:g.EFr.SIZE_40,src:o.getAvatarURL(m,(0,g.pxk)(g.EFr.SIZE_40)),"aria-label":"",className:ea.originalMessageAuthorAvatar}):null,(0,r.jsxs)("div",{className:ea.originalMessageAuthorAndContent,children:[(0,r.jsx)(et.Z,{channel:n,originalAuthor:o,message:t}),(0,r.jsx)(g.Rny,{className:el.messageFocusBlock,children:p})]})]})});function em(e){let{channel:t,facepileRef:n,firstMessage:i}=e,{isNew:a}=(0,T.J$)(t),l=(0,_.Q)(t.id),s=(null==i?void 0:i.reactions)!=null&&i.reactions.length>0;return(0,r.jsxs)("div",{className:ea.footer,children:[(0,r.jsxs)("div",{className:ea.footerChannelTitle,children:[(0,r.jsx)(g.U65,{size:"custom",width:14,height:14}),(0,r.jsx)(g.Text,{variant:"text-sm/medium",children:t.name}),a?(0,r.jsx)(g.IGR,{color:g.TVs.unsafe_rawColors.BRAND_260.css,text:ei.intl.string(ei.t.y2b7CA),className:ea.newBadge}):null]}),(0,r.jsxs)("div",{className:ea.footerMessageSummary,children:[s||null==i?null:(0,r.jsx)(eg,{firstMessage:i,channel:t}),(0,r.jsx)(eh,{channel:t,iconSize:14}),(0,r.jsx)("span",{className:el.bullet,children:""}),l.length>0?(0,r.jsxs)("div",{className:el.typing,children:[(0,r.jsx)(ex,{channel:t,userIds:l,facepileRef:n}),(0,r.jsx)("div",{className:el.dots,children:(0,r.jsx)(g.bbz,{themed:!0,dotRadius:2})}),(0,r.jsx)(f.ZP,{channel:t,className:el.typingUsers,renderDots:!1})]}):(0,r.jsx)(ef,{channel:t})]})]})}function eh(e){let{channel:t,iconSize:n,showReadState:i=!1}=e,{messageCountText:a,unreadCount:s}=(0,T.nP)(t);return(0,r.jsxs)("div",{className:l()(el.messageCountBox,{[el.hasRead]:i&&null==s}),children:[(0,r.jsx)("span",{className:el.messageCountIcon,children:(0,r.jsx)(g.kBi,{size:"custom",color:"currentColor",width:n,height:n})}),"number"==typeof a?(0,r.jsx)(v.Z,{value:a,digitWidth:9,className:el.messageCountText}):(0,r.jsx)("div",{className:el.messageCountText,children:a}),null==s?null:(0,r.jsxs)(g.Text,{className:el.newMessageCount,variant:"text-sm/semibold",color:"text-brand",children:["(",ei.intl.format(ei.t.z3PEtr,{count:s}),")"]})]})}function eg(e){let{firstMessage:t,channel:n}=e,i=(0,h.e7)([W.Z],()=>W.Z.getChannel(n.parent_id)),a=(0,T.Bs)(i),{disableReactionCreates:l,isLurking:s,isPendingMember:o}=(0,H.Z)(n);return null==a||l?null:(0,r.jsx)(U.le,{className:el.updateReactionButton,message:t,readOnly:n.isArchivedLockedThread(),useChatFontScaling:!1,isLurking:s,isPendingMember:o,emoji:a,hideCount:!0,count:0,burst_count:0,me:!1,me_burst:!1,type:F.O.NORMAL,emojiSize:"reaction",emojiSizeTooltip:"reaction"})}function ef(e){var t;let{channel:n}=e,{sortOrder:i}=(0,w.H)(n.parent_id),a=(0,T.xw)(n,i),l=null==(t=n.threadMetadata)?void 0:t.createTimestamp,s=null==l?null:ei.intl.formatToPlainString(ei.t["13euCQ"],{timestamp:(0,$.vc)(d()(l),"LLLL")});return(0,r.jsx)(g.ua7,{text:s,tooltipClassName:el.timestampTooltip,children:e=>{var t,n;return(0,r.jsx)(g.Text,(t=eo({className:el.__invalid_activityText,variant:"text-sm/normal",color:"header-secondary"},e),n=n={children:a},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}function ex(e){let{channel:t,userIds:n,facepileRef:i}=e,a=(0,T.iM)(t,n);return(0,r.jsx)("div",{ref:i,children:(0,r.jsx)(p.ZP,{className:el.__invalid_facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:a,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0})})}function ep(e){let t,n,{firstMedia:i,shouldObscure:a,obscureReason:s,shouldShowAgeVerification:o}=e,c=(0,h.e7)([Q.Z],()=>Q.Z.isFocused()),d=(0,A.d$)(i.src),u=G.QK.useSetting(),m=(0,L.MC)(s),{src:f,width:x,height:p,alt:b}=i;if(p>x?n=72:t=72,o){var j;return(0,r.jsx)("div",{"aria-label":null!=(j=null!=m?m:b)?j:ei.intl.string(ei.t.hqwnc3),className:l()(el.thumbnailContainer,el.obscuredThumbnailPlaceholder),style:{maxWidth:t,maxHeight:n,height:p,width:x}})}return f.startsWith("data:")?(0,r.jsx)(g.Eep,{src:f,maxHeight:t,maxWidth:n,width:x,height:p,alt:null!=b&&a?m:b,className:el.thumbnailContainer,imageClassName:l()({[el.obscured]:a,[el.thumbnailOverride]:!0})}):(0,B.Yi)({src:f,maxHeight:t,maxWidth:n,width:x,height:p,alt:null!=b&&a?m:b,autoPlay:u,animated:d&&!a&&c,srcIsAnimated:i.srcIsAnimated,containerClassName:el.thumbnailContainer,imageClassName:l()({[el.obscured]:a}),analyticsSource:"ForumPostMediaPreview"})}function eb(e){let{channel:t,firstMedia:n}=e,[i,a]=(0,L.hL)({media:n,channel:t}),s=(0,y.JO)(a);return(0,r.jsx)(g.Rny,{enabled:!0,children:(0,r.jsxs)("div",{className:l()(el.bodyMedia,ea.bodyMedia),onClick:function(e){e.stopPropagation(),s&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),b.Z.showAgeVerificationGetStartedModal(j.cU.FORUM_POST_MEDIA_PREVIEW))},children:[(0,r.jsx)(ep,{firstMedia:n,shouldObscure:i,obscureReason:a,shouldShowAgeVerification:s}),i&&(0,r.jsx)(N.Z,{iconClassname:el.obscuredTag,obscureReason:a})]})})}},724739:function(e,t,n){"use strict";n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),a=n(739566),l=n(942951);let s=e=>{var t,n;let{message:s,originalAuthor:o,channel:c}=e,d=(0,a.Sw)(o,c),u=null!=(n=null!=(t=null==d?void 0:d.nick)?t:null==o?void 0:o.username)?n:"",m=(0,l.l)({user:null!=o?o:void 0,channelId:c.id,guildId:c.guild_id,messageId:null==s?void 0:s.id,stopPropagation:!0})(null!=d?d:void 0)(u,c.id);return(0,r.jsx)(i.Text,{variant:"text-md/semibold",children:m})}},386923:function(e,t,n){"use strict";n.d(t,{Z:()=>T}),n(388685);var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(202841),o=n(442837),c=n(481060),d=n(918222),u=n(404616),m=n(434404),h=n(690221),g=n(496675),f=n(63063),x=n(981631),p=n(764295),b=n(388032),j=n(814346),v=n(816922),_=n(586301),C=n(184476);let y={mass:1,tension:250,friction:18,clamp:!0},w=e=>{let{guild:t}=e,n=(0,o.e7)([g.Z],()=>g.Z.can(x.Plq.MANAGE_GUILD,t));return(0,r.jsxs)(c.Kqy,{direction:"horizontal",gap:8,children:[(0,r.jsxs)(c.Kqy,{direction:"vertical",gap:16,children:[(0,r.jsx)(c.Kqy,{direction:"vertical",gap:4,children:(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-secondary",children:b.intl.string(p.default.fP8DV1)})}),(0,r.jsxs)(c.Kqy,{direction:"vertical",gap:8,children:[(0,r.jsx)(c.Text,{variant:"text-lg/semibold",color:"header-secondary",children:b.intl.string(p.default["i7CH/P"])}),(0,r.jsxs)("ol",{className:l()(j.list,j.orderedList,j.topLevelList),children:[(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default["+Izoz8"])})}),(0,r.jsxs)("li",{children:[(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default["iu/RkZ"])}),(0,r.jsxs)("ul",{className:l()(j.list,j.innerList,j.unorderedList),children:[(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.QogKbG)})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.V4orHR)})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.VrrQXV)})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.pSuM5e)})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default["/RLXlJ"])})})]})]}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.j4AmY2)})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.format(p.default["/g+Pvb"],{termsOfService:x.EYA.TERMS,communityGuidelines:x.EYA.GUIDELINES,helpArticle:f.Z.getArticleURL(x.BhN.FLAG_TO_MOD)})})})]})]}),(0,r.jsxs)(c.Kqy,{direction:"vertical",gap:8,children:[(0,r.jsx)(c.Text,{variant:"text-lg/semibold",color:"header-secondary",children:b.intl.string(p.default.qJWXs7)}),(0,r.jsxs)("ul",{className:l()(j.list,j.unorderedList,j.topLevelList),children:[(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.format(p.default.FUBV1N,{survey:"https://discord.sjc1.qualtrics.com/jfe/form/SV_3WvT7SqlWpCJ4HQ"})})}),(0,r.jsx)("li",{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.format(p.default.W4MIAA,{feedback:"https://forms.gle/RbDhW46PMmR39XUP7"})})})]})]}),(0,r.jsxs)(c.Kqy,{direction:"vertical",gap:8,children:[(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.J3HKm5)}),n&&(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.format(p.default["9x2vbG"],{optOutHook:e=>(0,r.jsx)(h.Z,{onClick:()=>m.Z.open(t.id,x.pNK.MODERATION,null,x.KsC.SAFETY_OVERVIEW),children:e})})}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:b.intl.string(p.default.KcCY29)})]})]}),(0,r.jsx)("img",{src:C,alt:b.intl.string(b.t.gAlJzc),width:u.TJ,height:u.TJ})]})};function T(e){let t,{guild:n}=e,[a,o]=(0,d.R)("report-to-mod-education-dismissed",!1),[u,m]=(0,d.R)("report-to-mod-education-expanded",!1),{transitions:h,setVisible:g}=(()=>{let[e,t]=i.useState(!0);return{transitions:(0,c.Yzy)(e,{keys:e=>e?"shown":"hidden",config:y,from:{opacity:0},enter:{opacity:1},leave:{opacity:0},unique:!0}),setVisible:t}})(),f=(t=null!=u&&u,(0,c.Yzy)(t,{from:{maxHeight:0},enter:{maxHeight:850},leave:{maxHeight:0},config:{duration:200}}));return(i.useEffect(()=>{a&&g(!1)},[a,g]),a)?null:h((e,t)=>t?(0,r.jsxs)(s.animated.div,{style:e,onClick:()=>m(!u),className:l()(_.container,j.container,v.mainCard),children:[(0,r.jsxs)("div",{className:j.inline,children:[(0,r.jsxs)("div",{className:j.author,children:[(0,r.jsx)(c.gw7,{size:"custom",width:28,height:28,color:"currentColor",className:j.discordIcon}),(0,r.jsx)(c.Text,{variant:"text-sm/semibold",color:"header-primary",children:b.intl.string(b.t.uvGmCw)}),(0,r.jsx)(c.Text,{variant:"text-sm/semibold",color:"header-primary",children:""}),(0,r.jsx)(c.X6q,{variant:"text-md/semibold",color:"header-primary",children:b.intl.string(p.default["95qQRE"])})]}),(0,r.jsx)(c.P3F,{onClick:()=>o(!0),children:(0,r.jsx)(c.Dio,{size:"xs",color:"currentColor",className:j.closeIcon})})]}),f((e,t)=>t?(0,r.jsxs)(s.animated.div,{style:e,children:[(0,r.jsx)("hr",{className:j.separator}),(0,r.jsx)(w,{guild:n})]}):null)]}):null)}},474366:function(e,t,n){"use strict";n.d(t,{q:()=>O});var r=n(951288),i=n(647438),a=n(120356),l=n.n(a),s=n(442837),o=n(481060),c=n(596454),d=n(493773),u=n(607070),m=n(745510),h=n(208049),g=n(763296),f=n(914010),x=n(626135),p=n(326706),b=n(981631),j=n(675654),v=n(710111),_=n(764295),C=n(388032),y=n(65766);function w(e){let{className:t,sound:n,playSound:a,isPlaying:s,text:d}=e,u=(null==n?void 0:n.emojiId)!=null||(null==n?void 0:n.emojiName)!=null,m=C.intl.formatToPlainString(C.t.tuMUJy,{emojiName:null==n?void 0:n.emojiName,soundName:null==n?void 0:n.name}),h=i.useCallback(()=>{x.default.track(b.rMx.MODERATOR_QUEUE_ACTION,{guild_id:f.Z.getGuildId(),action:"airhorn"}),null!=a&&a()},[a]);return(0,r.jsxs)(o.P3F,{"aria-label":m,tag:"span",onClick:h,className:l()(y.inlineContainer,y.inlineButton,{[y.playing]:!0===s},t),children:[u&&(0,r.jsx)(c.Z,{emojiId:null==n?void 0:n.emojiId,emojiName:null==n?void 0:n.emojiName,className:y.soundmojiEmoji}),(0,r.jsx)("span",{children:" ".concat(d," ")})]})}function T(e){let{containerRef:t,text:n}=e,a=i.useRef(null),l=(0,s.e7)([g.Z],()=>{var e;return null==(e=g.Z.getSoundsForGuild(v.X8))?void 0:e.find(e=>"airhorn"===e.name)}),{createMultipleConfettiAt:o}=i.useContext(m.h),c=(0,s.e7)([u.Z],()=>u.Z.useReducedMotion),{isPlaying:f,playSound:x}=(0,p.W)(l);(0,d.ZP)(()=>{(0,h.w)()});let b=i.useCallback(async()=>{if(await x()){var e;if(null==(e=a.current)||e.addAnimation(),!c&&(null==t?void 0:t.current)!=null){let e=t.current.getBoundingClientRect(),n={x:e.left+e.width/2,y:e.top+e.height/3},r=j.CA[Math.floor(Math.random()*j.CA.length)];o(n.x,n.y,{velocity:{type:"static-random",minValue:{x:-500,y:-500},maxValue:{x:500,y:-100}}},40,{sprite:r})}}},[x,o,c,t]);return void 0===l?null:(0,r.jsx)(w,{sound:l,playSound:b,isPlaying:f,text:n})}function O(){let e=i.useRef(null);return(0,r.jsxs)(o.Kqy,{className:y.container,direction:"vertical",align:"center",justify:"center",padding:{top:24,bottom:24},ref:e,children:[(0,r.jsx)(o.l22,{size:"custom",width:48,height:48}),(0,r.jsxs)(o.Kqy,{direction:"vertical",align:"center",justify:"center",children:[(0,r.jsx)(o.X6q,{className:y.header,variant:"heading-md/medium",children:C.intl.string(_.default.h6QNk5)}),(0,r.jsx)(o.Text,{className:y.text,variant:"text-md/medium",color:"text-secondary",children:C.intl.format(_.default["8N4c5+"],{airhornHook:t=>(0,r.jsx)(T,{containerRef:e,text:t})})})]})]})}},326706:function(e,t,n){"use strict";n.d(t,{W:()=>s});var r=n(647438),i=n(22382),a=n(747071),l=n(469121);function s(e){let{isPlaying:t,playSound:n,preloadSound:s}=(0,l.Z)(null!=e?(0,i.Z)(e.soundId):null);return r.useEffect(()=>{null!=e&&s()},[e,s]),{isPlaying:t,playSound:r.useCallback(()=>{var t;return!!n({volume:(0,a.Z)(null!=(t=null==e?void 0:e.volume)?t:1)})},[n,null==e?void 0:e.volume])}}},613576:function(e,t,n){"use strict";e.exports={container:"container__5808f",header:"header__5808f",headerLeft:"headerLeft__5808f",headerText:"headerText__5808f",countContainer:"countContainer__5808f",countText:"countText__5808f",tagContainer:"tagContainer__5808f",tag:"tag__5808f",row:"row__5808f",separator:"separator__5808f"}},816922:function(e,t,n){"use strict";n.r(e.exports={container:"container_f369db",uploadArea:"uploadArea_f369db",label:"label_f369db",content:"content_f369db",grid:"grid_f369db",list:"list_f369db",noListContainer:"noListContainer_f369db",headerRow:"headerRow_f369db",card:"card_f369db",columnsSpan:"columnsSpan_f369db",emptyStateRow:"emptyStateRow_f369db",newMemberBanner:"newMemberBanner_f369db",gridViewBanner:"gridViewBanner_f369db",placeholder:"placeholder_f369db",mainCard:"mainCard_f369db",emptyMainCard:"emptyMainCard_f369db",outOfDate:"outOfDate_f369db",header:"header_f369db",headerWithMatchingPosts:"headerWithMatchingPosts_f369db",noForm:"noForm_f369db",sortContainer:"sortContainer_f369db",sort:"sort_f369db",sortPopout:"sortPopout_f369db",archivedDividerRow:"archivedDividerRow_f369db",archivedDivider:"archivedDivider_f369db",newPostsButton:"newPostsButton_f369db",loadingCard:"loadingCard_f369db","loadingCard-0":"loadingCard-0_f369db","loadingCard-1":"loadingCard-1_f369db","loadingCard-2":"loadingCard-2_f369db",matchingPostsRow:"matchingPostsRow_f369db",enterIcon:"enterIcon_f369db",warnIcon:"warnIcon_f369db",searchIcon:"searchIcon_f369db",missingReadHistoryPermission:"missingReadHistoryPermission_f369db",divider:"divider_f369db",tagsContainer:"tagsContainer_f369db",filterIcon:"filterIcon_f369db",tagList:"tagList_f369db",tagListInner:"tagListInner_f369db",tagsButton:"tagsButton_f369db",tagsButtonInner:"tagsButtonInner_f369db",tagsButtonPlaceholder:"tagsButtonPlaceholder_f369db",tagsButtonWithCount:"tagsButtonWithCount_f369db",sortDropdown:"sortDropdown_f369db",sortDropdownInner:"sortDropdownInner_f369db",sortDropdownText:"sortDropdownText_f369db",clear:"clear_f369db",matchingPosts:"matchingPosts_f369db",startPostHelp:"startPostHelp_f369db",tagsSpacer:"tagsSpacer_f369db",keyboardShortcut:"keyboardShortcut_f369db",key:"key_f369db",countContainer:"countContainer_f369db",countText:"countText_f369db",optInNotice:"optInNotice_f369db"})},951718:function(e,t,n){"use strict";e.exports={container:"container_a68543",wrapper:"wrapper_a68543",headerRow:"headerRow_a68543",header:"header_a68543",visibilityInfo:"visibilityInfo_a68543",icon:"icon_a68543",closeButton:"closeButton_a68543",closeIcon:"closeIcon_a68543",stepContainer:"stepContainer_a68543",stepDescription:"stepDescription_a68543",completed:"completed_a68543",stepName:"stepName_a68543",checklist:"checklist_a68543",stepStatus:"stepStatus_a68543",step:"step_a68543",rolesList:"rolesList_a68543",rolePill:"rolePill_a68543",listContainer:"listContainer_a68543"}},646717:function(e,t,n){"use strict";e.exports={container:"container__93db4",header:"header__93db4"}},899861:function(e,t,n){"use strict";e.exports={container:"container_ca49a1",guidelines:"guidelines_ca49a1",guidelinesHeader:"guidelinesHeader_ca49a1",headerContainer:"headerContainer_ca49a1",descriptionContainer:"descriptionContainer_ca49a1",showMore:"showMore_ca49a1",gradient:"gradient_ca49a1",linkContainer:"linkContainer_ca49a1",showMoreLink:"showMoreLink_ca49a1",showMoreText:"showMoreText_ca49a1",showMoreIcon:"showMoreIcon_ca49a1",clickable:"clickable_ca49a1",hiddenVisually:"hiddenVisually_ca49a1"}},971309:function(e,t,n){"use strict";e.exports={container:"container__56dee",author:"author__56dee",closeIcon:"closeIcon__56dee",inline:"inline__56dee",discordIcon:"discordIcon__56dee",title:"title__56dee",notice:"notice__56dee",infoIcon:"infoIcon__56dee",separator:"separator__56dee"}},104010:function(e,t,n){"use strict";e.exports={uploadInput:"uploadInput__94439",uploadIcon:"uploadIcon__94439",fileInput:"fileInput__94439",container:"container__94439",popoutContainer:"popoutContainer__94439",popout:"popout__94439",uploads:"uploads__94439",badge:"badge__94439"}},836956:function(e,t,n){"use strict";e.exports={obscuredIcon:"obscuredIcon__43090"}},586301:function(e,t,n){"use strict";e.exports={container:"container_faa96b",dots:"dots_faa96b",isOpen:"isOpen_faa96b",focusTarget:"focusTarget_faa96b",left:"left_faa96b",body:"body_faa96b",messageFocusBlock:"messageFocusBlock_faa96b",message:"message_faa96b",messageContent:"messageContent_faa96b",messageContentTrailingIcon:"messageContentTrailingIcon_faa96b",messageContentLeadingIcon:"messageContentLeadingIcon_faa96b",bodyMedia:"bodyMedia_faa96b",obscuredTag:"obscuredTag_faa96b",thumbnailContainer:"thumbnailContainer_faa96b",thumbnailOverride:"thumbnailOverride_faa96b",obscured:"obscured_faa96b",obscuredThumbnailPlaceholder:"obscuredThumbnailPlaceholder_faa96b",header:"header_faa96b",footer:"footer_faa96b",bullet:"bullet_faa96b",headerText:"headerText_faa96b",postTitleText:"postTitleText_faa96b",newBadgeWrapper:"newBadgeWrapper_faa96b",newBadge:"newBadge_faa96b",inTagsRow:"inTagsRow_faa96b",typing:"typing_faa96b",typingUsers:"typingUsers_faa96b",messageCountBox:"messageCountBox_faa96b",messageCountIcon:"messageCountIcon_faa96b",hasRead:"hasRead_faa96b",messageCountText:"messageCountText_faa96b",newMessageCount:"newMessageCount_faa96b",updateReactionButton:"updateReactionButton_faa96b",timestampTooltip:"timestampTooltip_faa96b",blockedMessage:"blockedMessage_faa96b",withNewBadgeOverflow:"withNewBadgeOverflow_faa96b"}},153846:function(e,t,n){"use strict";e.exports={container:"container_d9be46",formContainer:"formContainer_d9be46",horizontalPadding:"horizontalPadding_d9be46",form:"form_d9be46",previewForm:"previewForm_d9be46",prefixElement:"prefixElement_d9be46",titleContainer:"titleContainer_d9be46",title:"title_d9be46",collapsed:"collapsed_d9be46",bodyContainer:"bodyContainer_d9be46",contentContainer:"contentContainer_d9be46",channelTextArea:"channelTextArea_d9be46",channelTextAreaInner:"channelTextAreaInner_d9be46",previewTextArea:"previewTextArea_d9be46",channelTextAreaInnerError:"channelTextAreaInnerError_d9be46",controlsContainer:"controlsContainer_d9be46",controls:"controls_d9be46",wrappedControls:"wrappedControls_d9be46",requiredError:"requiredError_d9be46",characterCount:"characterCount_d9be46",expressionPicker:"expressionPicker_d9be46",tagsContainer:"tagsContainer_d9be46",tagsIcon:"tagsIcon_d9be46",tagList:"tagList_d9be46",tagListInner:"tagListInner_d9be46",tagsButton:"tagsButton_d9be46",tagsButtonPlaceholder:"tagsButtonPlaceholder_d9be46",tagsDivider:"tagsDivider_d9be46",closeIcon:"closeIcon_d9be46",closeIconDisabled:"closeIconDisabled_d9be46",searchIcon:"searchIcon_d9be46",pencilIcon:"pencilIcon_d9be46",loader:"loader_d9be46",loaderAnimation:"loaderAnimation_d9be46",forumPostFormButton:"forumPostFormButton_d9be46",forumPostFormButtonActive:"forumPostFormButtonActive_d9be46",previewModeIndicator:"previewModeIndicator_d9be46"}},740202:function(e,t,n){"use strict";e.exports={focusTarget:"focusTarget__9a337",obscuredTagContainer:"obscuredTagContainer__9a337",obscuredTag:"obscuredTag__9a337",thumbnailOverride:"thumbnailOverride__9a337",imageCover:"imageCover__9a337",obscured:"obscured__9a337",bullet:"bullet__9a337",typing:"typing__9a337",dots:"dots__9a337",typingUsers:"typingUsers__9a337",mediaIconsRow:"mediaIconsRow__9a337",mediaIcon:"mediaIcon__9a337",moreImagesPill:"moreImagesPill__9a337",moreImagesPillIcon:"moreImagesPillIcon__9a337",moreImagesPillText:"moreImagesPillText__9a337",container:"container__9a337",mosaicMediaContainer:"mosaicMediaContainer__9a337",isOpen:"isOpen__9a337",mediaContainer:"mediaContainer__9a337",bodyMedia:"bodyMedia__9a337",bodyMediaFrame:"bodyMediaFrame__9a337",postBody:"postBody__9a337",tagsRow:"tagsRow__9a337",header:"header__9a337",footer:"footer__9a337",title:"title__9a337",forumPostControls:"forumPostControls__9a337",controlsGroup:"controlsGroup__9a337",contentPreview:"contentPreview__9a337",content:"content__9a337",textContentFooter:"textContentFooter__9a337",noTags:"noTags__9a337",authorRow:"authorRow__9a337",rowGroup:"rowGroup__9a337",postCreationTimestamp:"postCreationTimestamp__9a337",messageCountContainer:"messageCountContainer__9a337",newBadge:"newBadge__9a337",textContentUnread:"textContentUnread__9a337",textContentRead:"textContentRead__9a337",mediaPostContainer:"mediaPostContainer__9a337",mediaPostThumbnail:"mediaPostThumbnail__9a337",tagPill:"tagPill__9a337",blockedMessage:"blockedMessage__9a337"}},377741:function(e,t,n){"use strict";e.exports={container:"container_f8b2d2",clearText:"clearText_f8b2d2"}},423046:function(e,t,n){"use strict";e.exports={author:"author_d3eee8",hasUnreads:"hasUnreads_d3eee8"}},944400:function(e,t,n){"use strict";e.exports={cooldownWrapper:"cooldownWrapper__7391f",slowModeIcon:"slowModeIcon__7391f",leadingIcon:"leadingIcon__7391f"}},240778:function(e,t,n){"use strict";e.exports={tags:"tags__08166",pinIcon:"pinIcon__08166",tagFiltered:"tagFiltered__08166"}},220179:function(e,t,n){"use strict";e.exports={container:"container_c6ad88",headerRow:"headerRow_c6ad88",visibilityInfo:"visibilityInfo_c6ad88",icon:"icon_c6ad88",closeButton:"closeButton_c6ad88",closeIcon:"closeIcon_c6ad88",contentContainer:"contentContainer_c6ad88",contentRow:"contentRow_c6ad88",contentMediaContainer:"contentMediaContainer_c6ad88",contentRowOne:"contentRowOne_c6ad88",contentImageContainer:"contentImageContainer_c6ad88",previewEmbedImage:"previewEmbedImage_c6ad88",serverSubPill:"serverSubPill_c6ad88",contentRowTwo:"contentRowTwo_c6ad88",contentVideoContainer:"contentVideoContainer_c6ad88",contentTextContainer:"contentTextContainer_c6ad88",mediaChannelTagsContainer:"mediaChannelTagsContainer_c6ad88",mediaChannelTag:"mediaChannelTag_c6ad88",helpCenterLink:"helpCenterLink_c6ad88",helpCenterLinkIcon:"helpCenterLinkIcon_c6ad88",videoPreview:"videoPreview_c6ad88",authorRow:"authorRow_c6ad88",rowGroup:"rowGroup_c6ad88",author:"author_c6ad88",title:"title_c6ad88",postCreationTimestamp:"postCreationTimestamp_c6ad88",messageCountBox:"messageCountBox_c6ad88",messageCountIcon:"messageCountIcon_c6ad88",footer:"footer_c6ad88",forumPostControls:"forumPostControls_c6ad88",reactionBox:"reactionBox_c6ad88",video:"video_c6ad88",backgroundVideo:"backgroundVideo_c6ad88",highlightVideo:"highlightVideo_c6ad88"}},485998:function(e,t,n){"use strict";e.exports={container:"container__16689",uploads:"uploads__16689",uploadsContainer:"uploadsContainer__16689"}},272210:function(e,t,n){"use strict";e.exports={thumbnailContainer:"thumbnailContainer__8bb30",uploadThumbnailContainer:"uploadThumbnailContainer__8bb30",uploadFileInputContainer:"uploadFileInputContainer__8bb30",changeThumbnailLabelContainer:"changeThumbnailLabelContainer__8bb30",editIcon:"editIcon__8bb30",uploadIcon:"uploadIcon__8bb30",thumbnail:"thumbnail__8bb30",attachmentListItem:"attachmentListItem__8bb30",action:"action__8bb30",changeThumbnailLabelOverflow:"changeThumbnailLabelOverflow__8bb30"}},476720:function(e,t,n){"use strict";e.exports={container:"container_fc958f",footer:"footer_fc958f",footerChannelTitle:"footerChannelTitle_fc958f",footerMessageSummary:"footerMessageSummary_fc958f",body:"body_fc958f",contentAndMedia:"contentAndMedia_fc958f",bodyMedia:"bodyMedia_fc958f",originalMessageAuthorAndContent:"originalMessageAuthorAndContent_fc958f",message:"message_fc958f",messageContent:"messageContent_fc958f",originalMessageAuthorAvatar:"originalMessageAuthorAvatar_fc958f",newBadge:"newBadge_fc958f"}},814346:function(e,t,n){"use strict";e.exports={container:"container__1ad33",author:"author__1ad33",closeIcon:"closeIcon__1ad33",inline:"inline__1ad33",discordIcon:"discordIcon__1ad33",separator:"separator__1ad33",list:"list__1ad33",topLevelList:"topLevelList__1ad33",innerList:"innerList__1ad33",orderedList:"orderedList__1ad33",unorderedList:"unorderedList__1ad33"}},65766:function(e,t,n){"use strict";e.exports={container:"container_cba043",header:"header_cba043",text:"text_cba043",inlineContainer:"inlineContainer_cba043",inlineButton:"inlineButton_cba043",playing:"playing_cba043",soundmojiEmoji:"soundmojiEmoji_cba043"}}}]);
//# sourceMappingURL=849e8318115860ef.js.map