"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["76676"],{151007:function(e,t,n){n.d(t,{Z:()=>o});var i=n(665906),l=n(496675),s=n(190263),r=n(901461),a=n(981631);function o(e,t){let n=!t.isSystemDM()&&!(0,r.Z)(e),o=s.D.getCurrentConfig({guildId:t.guild_id,location:"pin util"}).enabled?l.Z.can(a.Plq.MANAGE_MESSAGES,t)||l.Z.can(a.Plq.PIN_MESSAGES,t):l.Z.can(a.Plq.MANAGE_MESSAGES,t);return n&&(o||t.isPrivate())&&(0,i.RG)(t)&&t.type!==a.d4z.GUILD_VOICE&&t.type!==a.d4z.GUILD_STAGE_VOICE}},449751:function(e,t,n){n.d(t,{Z:()=>u});var i=n(951288);n(647438);var l=n(481060),s=n(626135),r=n(572004),a=n(981631),o=n(388032);function u(e,t){return r.wS?(0,i.jsx)(l.sNh,{id:"copy-link",label:o.intl.string(o.t.Xrt5Pj),icon:l.xPt,action:()=>{(0,r.JG)("".concat(location.protocol,"//").concat(location.host).concat(a.Z5c.CHANNEL(t.guild_id,t.id,e.id))),s.default.track(a.rMx.MESSAGE_LINK_COPIED,{message_id:e.id,channel:e.channel_id})}}):null}},601184:function(e,t,n){n.d(t,{Z:()=>g});var i=n(951288);n(647438);var l=n(442837),s=n(481060),r=n(904245),a=n(257559),o=n(660189),u=n(665906),c=n(496675),d=n(594174),E=n(901461),f=n(981631),m=n(388032);function g(e,t){let n=(0,l.e7)([d.default],()=>d.default.getCurrentUser()),g=(0,u.$R)(t),_=(0,l.e7)([c.Z],()=>c.Z.can(f.Plq.MANAGE_MESSAGES,t),[t]),{firstMessage:S}=(0,l.e7)([o.Z],()=>o.Z.getMessage(t.id),[t.id]),N=_||null!=n&&e.canDeleteOwnMessage(n.id);return e.state===f.yb.SENDING||!N||f.V$x.UNDELETABLE.has(e.type)||!g||t.isModeratorReportChannel()&&(e.id===(null==S?void 0:S.id)||(0,E.Z)(e))?null:(0,i.jsx)(s.sNh,{id:"delete",label:m.intl.string(m.t.xwMqDw),action:function(n){e.state===f.yb.SEND_FAILED?r.Z.deleteMessage(t.id,e.id,!0):n.shiftKey?r.Z.deleteMessage(t.id,e.id):a.Z.confirmDelete(t,e,!0)},color:"danger",icon:s.XHJ})}},168405:function(e,t,n){n.d(t,{Z:()=>o});var i=n(951288);n(647438);var l=n(481060),s=n(665906),r=n(50284),a=n(388032);function o(e,t){return(0,s.$R)(t)?(0,i.jsx)(l.sNh,{id:"mark-unread",label:a.intl.string(a.t.RpE9k5),action:()=>(0,r.Z)(t.id,e.id),icon:l.z7b}):null}},536639:function(e,t,n){n.d(t,{Z:()=>c});var i=n(951288);n(647438);var l=n(481060),s=n(332148),r=n(257559),a=n(151007),o=n(981631),u=n(388032);function c(e,t){return e.state!==o.yb.SEND_FAILED&&(0,a.Z)(e,t)?!1===e.pinned?(0,i.jsx)(l.sNh,{id:"pin",action:function(n){n.shiftKey?s.Z.pinMessage(t,e.id):r.Z.confirmPin(t,e)},label:u.intl.string(u.t["CvQ18/"]),icon:l.qQX}):(0,i.jsx)(l.sNh,{id:"unpin",action:function(n){n.shiftKey?s.Z.unpinMessage(t,e.id):r.Z.confirmUnpin(t,e)},label:u.intl.string(u.t["Bse+Fx"]),icon:l.qQX}):null}},36998:function(e,t,n){n.d(t,{v:()=>s});var i=n(944486),l=n(176505);function s(){var e;let t=null!=(e=i.Z.getCurrentlySelectedChannelId())?e:void 0;return null!=t&&(0,l.AB)(t)?{channel_static_route:t}:{channel_id:t}}},26737:function(e,t,n){n.d(t,{Z:()=>o});var i=n(951288);n(647438);var l=n(481060),s=n(358085),r=n(998502),a=n(388032);function o(e,t){return s.isPlatformEmbedded&&(null==e?void 0:e.length)!==0?(0,i.jsx)(l.sNh,{id:"copy",label:a.intl.string(a.t.OpuAlJ),hint:(0,s.isMac)()?"âŒ˜C":"Ctrl+C",action:()=>{r.ZP.copy(e),null==t||t.focus()}}):null}},905041:function(e,t,n){n.d(t,{Z:()=>S}),n(704826),n(35282),n(539854),n(388685);var i=n(951288);n(647438);var l=n(481060),s=n(296182),r=n(976853),a=n(902676),o=n(626135),u=n(49012),c=n(358085),d=n(998502),E=n(36998),f=n(981631),m=n(388032);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}let _=/^(tel|sms|mailto):([^?;]+)/;function S(e,t,n,S){let N=(0,r.Z)(null==n?void 0:n.getChannelId());if(!c.isPlatformEmbedded||null==e||""===e||N||(null==S?void 0:S.shouldHideMediaOptions)===!0||!(0,s.Jj)(e))return null;let A=(0,a.F)(e),D=e=>{o.default.track(f.rMx.CONTEXT_MENU_LINK_COPIED,g({hostname:A},(0,E.v)())),d.ZP.copy(e),(0,l.showToast)((0,l.createToast)(m.intl.string(m.t["L/PwZW"]),l.ToastType.SUCCESS))},h=(n,i)=>{let l=!0===i?e.replace("tel:","sms:"):e;o.default.track(f.rMx.CONTEXT_MENU_LINK_OPENED,g({hostname:A},(0,E.v)())),(0,u.q)({href:l,trusted:(0,u.r)(e,t),shouldConfirm:!0},n)},p=[],I=e.match(_);if(null!=I){let e=m.intl.string("mailto"===I[1]?m.t.ZYLVKi:m.t["3zozoa"]);p.push((0,i.jsx)(l.sNh,{id:"copy-native-contact",label:e,action:()=>{D(I[2])}},"copy-native-contact")),"tel"===I[1]&&p.push((0,i.jsx)(l.sNh,{id:"native-send-sms",label:m.intl.string(m.t["+wbjMT"]),action:e=>h(e,!0)},"native-send-sms"))}return[(0,i.jsx)(l.sNh,{id:"copy-native-link",label:m.intl.string(m.t.WqhZsr),action:()=>{D(e)}},"copy-native-link"),...p,(0,i.jsx)(l.sNh,{id:"open-native-link",label:m.intl.string(m.t.wuRE8P),action:e=>h(e)},"open-native-link")]}},89013:function(e,t,n){n.d(t,{Z:()=>E});var i=n(951288),l=n(647438),s=n(512722),r=n.n(s),a=n(481060),o=n(626135),u=n(358085),c=n(981631),d=n(388032);function E(e){let t=l.useCallback(()=>{r()(null!=e,"text cannot be null"),o.default.track(c.rMx.MESSAGE_MENU_GOOGLE_SEARCHED),window.open("https://www.google.com/search?q=".concat(encodeURIComponent(e)),"_blank")},[e]);return u.isPlatformEmbedded&&null!=e&&(null==e?void 0:e.length)!==0?[(0,i.jsx)(a.sNh,{id:"search-google",label:d.intl.string(d.t["Rd/Mkp"]),action:t},"search-google")]:null}},624453:function(e,t,n){n.d(t,{M:()=>A,Z:()=>v}),n(388685),n(290780);var i,l,s,r=n(392711),a=n.n(r),o=n(442837),u=n(570140),c=n(247206),d=n(786761),E=n(706454),f=n(592125),m=n(271383),g=n(430824),_=n(375954),S=n(699516),N=n(594174),A=((l={}).LOADING="LOADING",l.LOADED_HAS_MORE="LOADED_HAS_MORE",l.LOADED_FINISHED="LOADING_FINISHED",l.FAILED="FAILED",l);let D={};function h(e){let{channel:t}=e;delete D[t.id]}function p(){a().forEach(D,e=>{e.items.forEach(e=>{let{message:t}=e;t.set("blocked",S.Z.isBlockedForMessage(t)),t.set("ignored",S.Z.isIgnoredForMessage(t))}),e.items=e.items.slice()})}class I extends(i=o.ZP.Store){initialize(){this.waitFor(f.Z,g.Z,m.ZP,_.Z,N.default,E.default)}getPins(e){return D[e]}}(s="displayName")in I?Object.defineProperty(I,s,{value:"ChannelPinsStore",enumerable:!0,configurable:!0,writable:!0}):I[s]="ChannelPinsStore";let v=new I(u.Z,{CONNECTION_OPEN:function(){D={}},LOAD_PINNED_MESSAGES:function(e){var t,n;let{channelId:i,reset:l}=e;if(!l&&null!=D[i]){D[i].state="LOADING";return}let s=null!=(n=null==(t=f.Z.getChannel(i))?void 0:t.getGuildId())?n:void 0;D[i]={id:i,items:[],state:"LOADING",guildId:s}},LOAD_PINNED_MESSAGES_SUCCESS:function(e){let{channelId:t,pins:n,hasMore:i}=e,l=D[t];if(null==l)return!1;let s=n.map(e=>{let{pinned_at:t,message:n}=e;return{pinnedAt:new Date(Date.parse(t)),message:(0,d.e5)(n)}});l.items=[...l.items,...s],l.state=i?"LOADED_HAS_MORE":"LOADING_FINISHED"},LOAD_PINNED_MESSAGES_FAILURE:function(e){let{channelId:t}=e,n=D[t];if(null==n)return!1;n.state="FAILED"},CHANNEL_DELETE:h,THREAD_DELETE:h,GUILD_DELETE:function(e){let{guild:t}=e;D=a()(D).filter(e=>e.guildId!==t.id).keyBy("id").value()},MESSAGE_DELETE:function(e){let{id:t,channelId:n}=e,i=D[n];if(null==i||0===a().remove(i.items,e=>{let{message:n}=e;return n.id===t}).length)return!1;i.items=i.items.slice(),D[n]=i},MESSAGE_DELETE_BULK:function(e){let{ids:t,channelId:n}=e,i=D[n];if(null==i)return!1;i.items=i.items.filter(e=>{let{message:n}=e;return!t.includes(n.id)})},MESSAGE_UPDATE:function(e){let t=e.message.id,n=e.message.channel_id;if(null==n)return!1;let i=D[n];if(null==i)return!1;if(null==e.message.author){let l=a().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===l)return;let{pinnedAt:s,message:r}=i.items[l],o=(0,d.wi)(r,e.message);if(o!==r){let e=i.items.slice();e[l]={pinnedAt:s,message:o},D[n].items=e}return}if(e.message.pinned){i.items=i.items.slice();let n=a().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});-1===n?i.items.unshift({message:(0,d.e5)(e.message),pinnedAt:new Date}):i.items[n].message=(0,d.wi)(i.items[n].message,e.message);return}let l=a().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===l)return!1;i.items=i.items.slice(),i.items.splice(l,1)},RELATIONSHIP_ADD:p,RELATIONSHIP_REMOVE:p,RELATIONSHIP_UPDATE:p,MESSAGE_EXPLICIT_CONTENT_SCAN_TIMEOUT:function(e){let{messageId:t,channelId:n}=e,i=D[n];if(null==i)return!1;let l=a().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===l)return!1;i.items=i.items.slice(),i.items[l].message=(0,c.Cm)(i.items[l].message)}})}}]);
//# sourceMappingURL=f2279b2c6b153105.js.map