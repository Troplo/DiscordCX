"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["72853"],{292824:function(e){e.exports="/assets/bdf03f89c231816a.svg"},599857:function(e,t,n){n.d(t,{Z:()=>p,_:()=>d}),n(388685);var r=n(951288),i=n(647438),a=n(240666),l=n(780384),c=n(481060),o=n(626135),s=n(756148),u=n(981631);function d(e){let{sitekey:t,action:n,onVerify:a}=e,[l,d]=i.useState("uninitialized"),f=i.useCallback(e=>{o.default.track(u.rMx.RECAPTCHA_MODAL_EVENT,{recaptcha_event_name:e})},[]),p=i.useCallback(e=>{f("handle-verify"),a(e)},[a,f]),y=i.useCallback(()=>{var e,r,i;null==(i=window)||null==(r=i.grecaptcha)||null==(e=r.enterprise)||e.ready(async()=>{var e;f("recaptcha-ready"),p(await (null==(e=window)?void 0:e.grecaptcha).enterprise.execute(t,null!=n?{action:n}:void 0)),d("loaded")})},[t,n,p,f]),m=i.useCallback(()=>{d("running"),f("recaptcha-loading"),s.I.loadRecaptchaScript(t,y,f)},[t,y,f]);return i.useEffect(()=>{"uninitialized"===l&&m()},[m,l]),i.useEffect(()=>()=>{f("recaptcha-unloading"),document.querySelectorAll('script[src*="recaptcha/enterprise.js"],.grecaptcha-badge').forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),null!=window.grecaptcha&&delete window.grecaptcha},[f]),(0,r.jsx)(c.$jN,{})}let f=e=>{var t,n,{theme:i}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["theme"]);let o=(0,l.wj)(i)?"dark":"light";return(0,r.jsx)(a.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({sitekey:u.OL7},c),n=n={theme:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};f.Themes={LIGHT:"light",DARK:"dark"},f.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};let p=f},756148:function(e,t,n){n.d(t,{I:()=>r});class r{static getSiteKey(e){return null!=e?e:"production"===window.GLOBAL_ENV.PROJECT_ENV?"6LeYqFcqAAAAAD6iZesmNgVulsO4PkpBdr6NVG6M":"6LdtfVMqAAAAAMurhtf2pDhK0oqD4eLqeQPh025y"}static loadRecaptchaScript(e,t,n){if(null!=document.getElementById("recaptcha-script-".concat(this.getSiteKey(e)))){null!=t&&(null==n||n("recaptcha-element-exists-callback"),t());return}let r=document.createElement("script");r.src="https://www.google.com/recaptcha/enterprise.js?render=".concat(this.getSiteKey(e)),r.id="recaptcha-script-".concat(this.getSiteKey(e)),r.async=!0,r.defer=!0,document.body.appendChild(r),null!=t&&(r.onload=()=>{null==n||n("recaptcha-script-onload-callback"),t()})}}},304809:function(e,t,n){n.d(t,{N:()=>i});let r=null;function i(){if(null==r)try{r=new AudioContext}catch(e){}return r}},845077:function(e,t,n){n.d(t,{PA:()=>l,Wl:()=>c});var r=n(990547);n(479531);var i=n(573261),a=n(981631);async function l(){let e=await i.Z.get({url:a.ANM.SAFETY_FLOWS_TASK,trackedActionData:{event:r.NetworkActionNames.USER_VERIFY},rejectWithError:!1});return 204===e.status?null:e.body}async function c(e){return(await i.Z.post({url:a.ANM.SAFETY_FLOWS_TASK,body:e,trackedActionData:{event:r.NetworkActionNames.USER_VERIFY},rejectWithError:!0})).body}},132392:function(e,t,n){n.d(t,{T:()=>a,y:()=>i}),n(415506);var r=n(647438);let i=r.createContext(null);function a(){let e=r.useContext(i);if(null==e)throw Error("useSafetyFlowTask must be used within a SafetyFlowTaskContext Provider");return e}},118589:function(e,t,n){n.d(t,{NS:()=>c,UA:()=>l,VZ:()=>o}),n(388685),n(647438);var r,i=n(241945),a=n(388032),l=((r={})[r.REFRESH_APP=-1]="REFRESH_APP",r[r.EMAIL_VERIFICATION=3]="EMAIL_VERIFICATION",r);let c={EMAIL_VERIFICATION:"email_verification",PHONE_VERIFICATION:"phone_verification",GENERIC_CALL_TO_ACTION:"generic_call_to_action",REFRESH_APP:"refresh_app"},o=new Set(Object.values(c));a.intl.string(i.default["Qm6K/v"])},918714:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),a=n(481060),l=n(624138),c=n(845077),o=n(132392),s=n(118589),u=n(535188),d=n(856597),f=n(241945),p=n(388032),y=n(104940);let m=n(575703);function h(e){let{task:t,handleSubmit:n,disabled:l}=e,[c,s]=i.useState(t),f=i.useMemo(()=>({task:c,setTask:s}),[c,s]);return i.useEffect(()=>{s(t)},[t]),(0,r.jsx)(o.y.Provider,{value:f,children:(0,r.jsxs)(a.Kqy,{direction:"horizontal",justify:"start",className:y.body,children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(u.Z,{onSubmit:n,disabled:l})]})})}let g=function(){let[e,t]=i.useState(null),[n,o]=i.useState(!0),[u,d]=i.useState(null),[g,b]=i.useState(!1),j=i.useCallback(async()=>{o(!0),d(null);try{var e;let n=await (0,c.PA)();if(null==n)return;!(0,l.Ew)(null==(e=n.ui_component)?void 0:e.component.type)&&s.VZ.has(n.ui_component.component.type)?t(n):t({task_id:n.task_id,task_type:s.UA.REFRESH_APP,assignment_id:n.assignment_id,ui_component:{component:{type:s.NS.REFRESH_APP,data:{}}},flow_context:{tasks:[],flow_id:n.flow_context.flow_id}})}catch(e){d(p.intl.string(f.default["/f++3t"]))}finally{o(!1)}},[]),v=i.useCallback(async t=>{if(null!==e){b(!0);try{let n={task_id:e.task_id,flow_id:e.flow_context.flow_id,data:t};await (0,c.Wl)(n),j()}catch(e){d(p.intl.string(f.default["+QRSxc"]))}finally{b(!1)}}},[e,j]);return i.useEffect(()=>{j()},[j]),(0,r.jsxs)("div",{className:y.background,children:[(0,r.jsx)(a.y5t,{forceLevel:6,children:(0,r.jsx)("img",{className:y.artwork,src:m,alt:""})}),(0,r.jsx)("div",{className:y.safetyFlow,children:(0,r.jsxs)("div",{className:y.container,children:[n&&(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"text-muted",children:p.intl.string(f.default.v0H5Tk)}),null!==u&&(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"text-danger",className:y.error,children:u}),!n&&null===u&&null!=e&&(0,r.jsx)(h,{task:e,handleSubmit:v,disabled:g})]})})]})}},535188:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(132392),a=n(342781);let l=e=>{var t;let{onSubmit:n,disabled:l}=e,{task:c}=(0,i.T)(),o=a.o[c.ui_component.component.type];return null==o?null:(0,r.jsx)(o,{configData:c.ui_component.component.data,onSubmit:n,taskId:c.task_id,flowId:null==(t=c.flow_context)?void 0:t.flow_id,assignmentId:c.assignment_id,disabled:l})}},856597:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),a=n(893776),l=n(819557),c=n(132392),o=n(118589),s=n(345262),u=n(241945),d=n(388032),f=n(133023);let p=function(){let{task:e}=(0,c.T)(),t=e.flow_context.tasks.findIndex(t=>t.task_type===e.task_type);return(0,r.jsxs)(i.Kqy,{direction:"vertical",justify:"space-between",padding:s.h,className:f.container,children:[(0,r.jsxs)(i.Kqy,{direction:"vertical",justify:"space-between",children:[(0,r.jsx)(i.X6q,{variant:"display-md",className:f.title,children:d.intl.string(u.default["/OpRAA"])}),(0,r.jsx)(i.Kqy,{direction:"vertical",justify:"space-between",gap:0,children:e.flow_context.tasks.map((e,n)=>(0,r.jsx)(l.q,{title:function(e){switch(e){case o.UA.EMAIL_VERIFICATION:return d.intl.string(u.default.HC4IiY);case o.UA.REFRESH_APP:return d.intl.string(u.default.SzfxQ0);default:return""}}(e.task_type),listType:"numbered",index:n,color:n===t?"text-primary":n<t?"feedback-positive":"text-muted",completed:n<t},e.task_type))})]}),(0,r.jsx)(i.Text,{variant:"text-md/normal",color:"text-secondary",children:d.intl.format(u.default["0DHxys"],{handleLogOut:()=>a.Z.logout("safety_flows_sidebar")})})]})}},345262:function(e,t,n){n.d(t,{h:()=>r});let r={bottom:40,left:32,right:32,top:32}},945128:function(e,t,n){n.d(t,{Z:()=>s}),n(953529);var r=n(951288),i=n(647438),a=n(481060),l=n(241945),c=n(388032),o=n(58571);let s=e=>{let{onSubmit:t,disabled:n}=e,s=i.useCallback(async()=>{await t({}),window.location.reload()},[t]);return(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsx)(a.X6q,{variant:"heading-lg/bold",className:o.title,children:c.intl.string(l.default.v52itr)}),(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"text-muted",className:o.description,children:c.intl.string(l.default["5am8Dw"])}),(0,r.jsx)(a.Kqy,{direction:"horizontal",justify:"end",children:(0,r.jsx)(a.zxk,{variant:"primary",text:c.intl.string(l.default.GDsHl5),onClick:s,disabled:n})})]})}},342781:function(e,t,n){n.d(t,{o:()=>r});let r={refresh_app:n(945128).Z}},886118:function(e,t,n){n.d(t,{E:()=>l,S:()=>a});var r,i,a=((r={}).FUZZY="fuzzy",r.EXACT="exact",r.REGEX="regex",r.JARO_WINKLER="jaro_winkler",r),l=((i={}).NONE="none",i.JARO_WINKLER="jaro_winkler",i)},301801:function(e,t,n){n.d(t,{BO:()=>u}),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(388685),n(781311);var r=n(647438),i=n(348327),a=n.n(i),l=n(392711),c=n(823379),o=n(886118);let s=new Worker(new URL("/assets/"+n.u("56558"),n.b));function u(e,t,n,i){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=r.useRef(null),f=r.useRef(null),p=r.useRef(n),{searchStringGenerator:y}=i,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,i]=r.useState(e),l=r.useRef(e);return r.useEffect(()=>{l.current=e},[e]),r.useEffect(()=>{i(e=>{let t=l.current;return a()(e,t)?e:t})},t),n}(t.map(y),[t,y,...u]),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,i]=r.useState(e),l=r.useRef(e);return r.useEffect(()=>{l.current=e},[e]),r.useEffect(()=>{i(e=>{let t=l.current;return a()(e,t)?e:t})},t),n}(t,[t]);r.useEffect(()=>{p.current=n},[n]);let g=r.useMemo(()=>{let{throttleMs:e=200,throttleLeading:t=!0,throttleTrailing:n=!0}=i;return f.current=(0,l.throttle)(async(e,t,n)=>{if(""===e.trim())return void p.current(t);d.current=(0,l.uniqueId)();let r=await function(e,t,n,r){var i;let a=null!=(i=r.promiseUuid)?i:(0,l.uniqueId)(),{searchType:u=o.S.FUZZY,sortType:d=o.E.NONE,jaroWinklerSearchThreshold:f=.85}=r;return new Promise(r=>{let i=t=>{let{data:{id:n,foundItemIndexes:l}}=t;a===n&&(r(l.map(t=>e[t]).filter(c.lm)),null==s||s.removeEventListener("message",i))};null==s||s.addEventListener("message",i),null==s||s.postMessage({id:a,searchTerm:t,searchStrings:n,searchType:u,sortType:d,jaroWinklerSearchThreshold:f})})}(t,e,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({promiseUuid:d.current},i));null!=d.current&&p.current(r)},e,{leading:t,trailing:n}),f.current},[i]);return r.useEffect(()=>{g(e,h,m)},[g,e,h,m,...u]),r.useEffect(()=>()=>{null!=f.current&&f.current.cancel(),f.current=null,d.current=null},[m,n,i]),g}},762756:function(e,t,n){n.d(t,{Z:()=>j}),n(388685);var r,i=n(951288),a=n(647438),l=n(120356),c=n.n(l),o=n(873546),s=n(481060),u=n(599857),d=n(63063),f=n(1964),p=n(981631),y=n(388032),m=n(222198);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=d.Z.getArticleURL(p.BhN.VERIFICATION_FAQ);class b extends(r=a.PureComponent){renderFields(){let{types:e,captchaKey:t,theme:n,onCaptchaVerify:r}=this.props;return(0,i.jsx)(i.Fragment,{children:e.map(e=>e===p.PUi.CAPTCHA?(0,i.jsx)(u.Z,{onVerify:r,theme:n},t):(0,i.jsx)(s.zxk,{onClick:()=>this.handleClick(e),text:f.Z.getButtonTitle(e)},e))})}render(){return(0,i.jsxs)(s.Kqy,{gap:16,className:m.verification,align:"center",direction:"vertical",justify:"center",children:[(0,i.jsxs)(s.Kqy,{gap:16,fullWidth:!1,className:c()(m.container,{[m.isMobile]:o.tq}),align:"center",direction:"vertical",justify:"center",children:[(0,i.jsxs)(s.Kqy,{align:"center",direction:"vertical",justify:"center",gap:16,children:[(0,i.jsx)("div",{className:m.image}),(0,i.jsxs)(s.Kqy,{className:m.textContainer,gap:4,align:"center",direction:"vertical",justify:"center",children:[(0,i.jsx)(s.X6q,{variant:"heading-xl/normal",children:y.intl.string(y.t.Iz0kDg)}),(0,i.jsx)(s.Text,{variant:"text-md/normal",children:y.intl.format(y.t["0rqMV1"],{helpCenterURL:g})})]})]}),(0,i.jsx)(s.Kqy,{gap:16,direction:"vertical",justify:"center",align:"center",children:this.renderFields()})]}),(0,i.jsxs)(s.Kqy,{gap:8,align:"center",direction:"vertical",justify:"center",children:[(0,i.jsx)(s.Text,{variant:"text-sm/normal",className:m.footer,children:y.intl.string(y.t.qqYun5)}),(0,i.jsxs)(s.Kqy,{gap:8,align:"center",direction:"horizontal",justify:"center",children:[(0,i.jsx)(s.Text,{variant:"text-sm/semibold",className:m.footer,children:y.intl.format(y.t.WL51ZW,{supportURL:d.Z.getSubmitRequestURL()})}),(0,i.jsx)("div",{className:c()(m.footer,m.footerBullet),children:"â€¢"}),(0,i.jsx)(s.Text,{variant:"text-sm/semibold",className:m.footer,children:y.intl.format(y.t.Hv7ztb,{logoutOnClick:this.props.onLogout})})]})]})]})}constructor(...e){super(...e),h(this,"handleClick",e=>{let{onClick:t}=this.props;null==t||t(e)})}}h(b,"defaultProps",{types:[p.PUi.CAPTCHA],onCaptchaVerify:p.dG4,onLogout:p.dG4});let j=b},852758:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288),i=n(647438),a=n(990547),l=n(442837),c=n(544891),o=n(481060),s=n(893776),u=n(37234),d=n(809206),f=n(110924),p=n(714338),y=n(213609),m=n(429142),h=n(144114),g=n(210887),b=n(23434),j=n(1964),v=n(762756),x=n(308569),O=n(981631),E=n(815660),w=n(388032);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function P(){let{action:e,theme:t}=(0,l.cj)([b.Z,g.Z],()=>({action:b.Z.getAction(),theme:g.Z.theme})),P=j.Z.getVerificationTypes(e),[k,S]=i.useState(0),N=(0,f.Z)(P);(0,y.Z)({type:a.ImpressionTypes.MODAL,name:a.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:P[0],verification_types:P}},{},[P.toString()]);let R=()=>{(0,d.FD)(),(0,o.ZDy)(async()=>{let{default:e}=await n.e("35401").then(n.bind(n,284549));return t=>(0,r.jsx)(e,_({},t))},{modalKey:x.F0,Layer:m.ZP})};return i.useEffect(()=>(p.Z.disable(),()=>{p.Z.enable()}),[]),i.useEffect(()=>{(null==N?void 0:N[0])===O.PUi.PHONE&&(null==P?void 0:P[0])===O.PUi.EMAIL&&(0,o.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,468026));return t=>(0,r.jsx)(e,A(_({},t),{title:w.intl.string(w.t.KLnLIC),body:w.intl.string(w.t.XGbCq6),confirmText:w.intl.string(w.t["3oK4q6"])}))},{modalKey:x.HR,Layer:m.ZP,onCloseCallback:R})},[P,N]),(0,r.jsx)(v.Z,{types:P,captchaKey:k,onCaptchaVerify:e=>{c.tn.post({url:O.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0,rejectWithError:!0}).then(u.xf,()=>{S(e=>e+1)})},theme:t,onClick:e=>{e===O.PUi.EMAIL_OR_PHONE||e===O.PUi.EMAIL||e===O.PUi.REVERIFY_EMAIL?R():(0,o.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,607018));return t=>(0,r.jsx)(e,_({reason:h.L.USER_ACTION_REQUIRED},t))},{modalKey:E.M,Layer:m.ZP})},onLogout:()=>{(0,o.ZDy)(async()=>{let{ConfirmModal:e,Text:t}=await Promise.resolve().then(n.bind(n,481060));return n=>(0,r.jsx)(e,A(_({header:w.intl.string(w.t["2jxGen"]),confirmText:w.intl.string(w.t["2jxGen"]),cancelText:w.intl.string(w.t["ETE/oK"]),onConfirm:()=>s.Z.logout("verification")},n),{children:(0,r.jsx)(t,{variant:"text-md/normal",children:w.intl.string(w.t.SUnWBA)})}))},{Layer:m.ZP})}})}},241945:function(e,t,n){n.r(t),n.d(t,{default:()=>l,messagesLoader:()=>i});let{createLoader:r}=n(631562),i=r({"en-US":()=>n.e("86577").then(n.bind(n,478282))},"en-US"),{makeMessagesProxy:a}=n(631562),l=a(i)}}]);
//# sourceMappingURL=6055ca074ed23219.js.map