"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9924"],{162157:function(e,t,n){n.d(t,{BT:()=>c,N8:()=>o});var l=n(442837);n(467319);var r=n(496675),a=n(533244),i=n(487419),s=n(981631);function o(e){let t=(0,l.e7)([r.Z],()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z;return t.can(s.Plq.BAN_MEMBERS,e)||t.can(s.Plq.KICK_MEMBERS,e)||t.can(s.Plq.MANAGE_GUILD,e)})(e,r.Z),[e]),n=(0,l.e7)([i.Z],()=>null!=e?i.Z.getGuildIncident(e.id):null,[e]);return!(null!=n&&(0,a.i9)(n))&&t}function c(e){return(0,l.e7)([r.Z],()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z;return t.can(s.Plq.MANAGE_GUILD,e)})(e,r.Z),[e])}},328977:function(e,t,n){n.d(t,{L:()=>a});var l=n(442837),r=n(826581);function a(e){let{guildId:t}=e;return(0,l.e7)([r.Z],()=>r.Z.getSelectedGuildJoinRequest(t),[t])}},412222:function(e,t,n){n.d(t,{C:()=>a});var l=n(442837),r=n(826581);function a(e){let{guildId:t}=e;return(0,l.e7)([r.Z],()=>r.Z.getSelectedSortOrder(t),[t])}},223312:function(e,t,n){n.d(t,{j:()=>s}),n(388685),n(583741);var l=n(647438),r=n(442837),a=n(826581),i=n(246364);function s(e){let{guildId:t,applicationStatus:n,sortOrder:s}=e,o=(0,r.e7)([a.Z],()=>a.Z.getRequests(t,n),[n,t]);return{guildJoinRequests:l.useMemo(()=>s===i.Nw.TIMESTAMP_DESC?[...o].reverse():o,[s,o])}}},707592:function(e,t,n){n.d(t,{Gi:()=>d,YJ:()=>u,zY:()=>m});var l=n(951288);n(647438);var r=n(755721),a=n(481060),i=n(489813),s=n(592286),o=n(388032),c=n(624463);function d(e){let{value:t,placeholder:n,onChange:r,disabled:i,autofocus:o}=e;return(0,l.jsx)(a.oil,{maxLength:s.tL,value:null!=t?t:"",placeholder:n,onChange:r,disabled:i,autoFocus:o})}function u(e){let{formField:t}=e;return(0,l.jsx)(i.CA,{title:t.label,children:(0,l.jsx)(r.iS,{className:c.disabledFieldBackground,value:t.response,disabled:!0,autoFocus:!0,rows:2})})}function m(e){let{formField:t,autofocus:n,onChange:r}=e;return(0,l.jsx)(i.hK,{title:t.label,children:(0,l.jsx)(d,{onChange:r,value:t.response,autofocus:n,placeholder:o.intl.string(o.t["Sqn+Wl"])})})}},666233:function(e,t,n){n.d(t,{Z:()=>j});var l=n(951288);n(647438);var r=n(442837),a=n(481060),i=n(594174),s=n(246364),o=n(489813),c=n(186078),d=n(73880),u=n(196345),m=n(707592),x=n(388032);let j=function(e){let{guildId:t,formFields:n,user:j,showRequirements:h=!0}=e;return null==(0,r.e7)([i.default],()=>null!=j?j:i.default.getCurrentUser())?null:(0,l.jsxs)(l.Fragment,{children:[h&&(0,l.jsx)(o.Ih,{icon:a.b7C,text:x.intl.string(x.t.v2z4c3),meetsRequirement:!0}),n.map((e,t)=>(function(e,t){switch(e.field_type){case s.QJ.TERMS:return(0,l.jsx)(u.QC,{formField:e},t);case s.QJ.TEXT_INPUT:return(0,l.jsx)(m.YJ,{formField:e},t);case s.QJ.PARAGRAPH:return(0,l.jsx)(d.jn,{formField:e},t);case s.QJ.MULTIPLE_CHOICE:return(0,l.jsx)(c.QH,{formField:e},t)}})(e,t))]})}},384433:function(e,t,n){n.d(t,{e:()=>a});var l,r=n(246364),a=((l={}).ALL_MEMBERS="ALL_MEMBERS",l[l.PENDING=r.wB.SUBMITTED]="PENDING",l[l.REJECTED=r.wB.REJECTED]="REJECTED",l[l.APPROVED=r.wB.APPROVED]="APPROVED",l)},575766:function(e,t,n){n.d(t,{n:()=>a});var l=n(647438),r=n(941028);function a(e){l.useEffect(()=>(r.k$(e),()=>{r.kr(e)}),[e])}},901066:function(e,t,n){n.d(t,{Z:()=>A});var l=n(951288),r=n(647438),a=n(120356),i=n.n(a),s=n(913527),o=n.n(s),c=n(442837),d=n(481060),u=n(906732),m=n(252618),x=n(693546),j=n(246364),h=n(328977),b=n(666233),f=n(360328),v=n(172751),g=n(892001),p=n(598077),C=n(430824),_=n(709054),T=n(51144),E=n(981631),N=n(131085),S=n(388032),P=n(59678),R=n(428331);function I(e){let{icon:t,label:n,onClick:r,disabled:a}=e;return(0,l.jsxs)(d.P3F,{className:i()(P.actionButton,{[P.disabled]:a}),onClick:a?E.dG4:r,"aria-label":n,children:[(0,l.jsx)(t,{size:"custom",color:"currentColor",width:20,height:20}),(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"none",children:n})]})}function Z(e){let{user:t,guildId:n,joinRequest:r}=e,{analyticsLocations:a}=(0,u.ZP)(),s=()=>{(0,g.openUserProfileModal)({userId:t.id,joinRequestId:r.joinRequestId,sourceAnalyticsLocations:a})};return(0,l.jsxs)("div",{className:P.infoContainer,children:[(0,l.jsxs)("div",{className:R.memberNameContainer,children:[(0,l.jsx)(d.P3F,{onClick:s,className:i()(P.clickable,R.memberAvatar),children:(0,l.jsx)(d.qEK,{src:t.getAvatarURL(n,48),"aria-label":t.username,size:d.EFr.SIZE_48})}),(0,l.jsxs)("div",{className:R.memberNameAndTagContainer,children:[(0,l.jsxs)("div",{className:R.memberNameTextContainer,children:[(0,l.jsx)(d.P3F,{onClick:s,className:P.clickable,children:(0,l.jsx)(d.Text,{variant:"text-lg/medium",children:null==t?void 0:t.globalName})}),(0,l.jsx)(v.ZP,{primaryGuild:null==t?void 0:t.primaryGuild,userId:null==t?void 0:t.id,contextGuildId:n,badgeSize:N.Gg.SIZE_16,textVariant:"heading-md/semibold",className:R.memberClanTag,containerClassName:R.memberClanTagContainer})]}),(0,l.jsx)(d.P3F,{onClick:s,className:P.clickable,children:(0,l.jsx)(d.Text,{variant:"text-md/medium",color:"text-default",children:T.ZP.getUserTag(t)})})]})]}),(0,l.jsx)(d.P3F,{className:R.closeAction,onClick:()=>x.Z.setSelectedGuildJoinRequest(n,null),children:(0,l.jsx)(d.Dio,{size:"md",color:"currentColor"})})]})}function w(e){let{user:t,guildId:n,joinRequest:r}=e,{approveRequest:a,rejectRequest:i,handleOpenInterview:s,submitting:o}=(0,f.s)(n,t.id,r.joinRequestId,r.interviewChannelId);return(0,l.jsxs)("div",{className:P.actionRow,children:[(0,l.jsx)(I,{icon:d.owK,label:S.intl.string(S.t.BzjDQE),onClick:a,disabled:o}),(0,l.jsx)(I,{icon:d.k$p,label:S.intl.string(S.t.hDtbs7),onClick:i,disabled:o}),(0,l.jsx)(I,{icon:d.kBi,label:S.intl.string(S.t.KQeYoK),onClick:s,disabled:o})]})}function M(e){var t;let{joinRequest:n}=e,{actionedAt:r,actionedByUser:a,rejectionReason:i}=n;return(0,l.jsxs)("div",{className:P.actionContainer,children:[(0,l.jsx)(d.k$p,{size:"lg",color:d.TVs.colors.BACKGROUND_BASE_LOWER,secondaryColor:d.TVs.colors.INTERACTIVE_NORMAL}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.Text,{variant:"text-md/medium",color:"header-primary",children:S.intl.string(S.t.bSZklZ)}),null!=a&&null!=r?(0,l.jsxs)("div",{className:P.actionedInfo,children:[(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:S.intl.formatToPlainString(S.t.qnimbG,{username:null!=(t=a.global_name)?t:a.username})}),(0,l.jsx)("div",{className:P.dot}),(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:o()(_.default.extractTimestamp(r)).format("ll")})]}):null,null!=i&&(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:S.intl.formatToPlainString(S.t.fU5PPD,{rejectionReason:i})})]})]})}function O(e){var t;let{joinRequest:n}=e,{actionedAt:r,actionedByUser:a}=n;return(0,l.jsxs)("div",{className:P.actionContainer,children:[(0,l.jsx)(d.owK,{size:"lg",color:d.TVs.colors.STATUS_POSITIVE_BACKGROUND,secondaryColor:d.TVs.colors.STATUS_POSITIVE_TEXT}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.Text,{variant:"text-md/medium",color:"header-primary",children:S.intl.string(S.t.aURgY2)}),null!=a&&null!=r?(0,l.jsxs)("div",{className:P.actionedInfo,children:[(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:S.intl.formatToPlainString(S.t.qnimbG,{username:null!=(t=a.global_name)?t:a.username})}),(0,l.jsx)("div",{className:P.dot}),(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",children:o()(_.default.extractTimestamp(r)).format("ll")})]}):null]})]})}function y(e){let{user:t,joinRequest:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Text,{className:P.accountLabel,variant:"text-sm/medium",color:"text-muted",children:S.intl.string(S.t["ldCE/v"])}),(0,l.jsxs)("div",{className:P.userInfoContainer,children:[(0,l.jsxs)("div",{className:P.infoRow,children:[(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-default",children:S.intl.string(S.t.SaDIpK)}),(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-default",children:o()(_.default.extractTimestamp(t.id)).format("ll")})]}),(0,l.jsxs)("div",{className:P.infoRow,children:[(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-default",children:S.intl.string(S.t.Vt4cn5)}),(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"text-default",children:o()(n.createdAt).format("ll")})]})]})]})}function A(e){let{guildId:t}=e,n=(0,h.L)({guildId:t}),{user:a}=null!=n?n:{},s=r.useMemo(()=>{var e;return null!=(e=null==n?void 0:n.formResponses)?e:[]},[null==n?void 0:n.formResponses]),o=r.useMemo(()=>null!=a?new p.Z(a):null,[a]),u=(0,c.e7)([C.Z],()=>C.Z.getGuild(t),[t]);return((0,m.Tt)({subsection:S.intl.string(S.t.nqrK8f),location:null==u?void 0:u.name}),null==n||null==u||null==o||null==a)?null:(0,l.jsx)("section",{className:P.sidebar,children:(0,l.jsx)(d.Ttm,{children:(0,l.jsxs)("div",{className:P.innerContainer,children:[(0,l.jsxs)("div",{className:P.cardContainer,children:[(0,l.jsx)(Z,{user:o,guildId:t,joinRequest:n}),n.applicationStatus===j.wB.SUBMITTED&&(0,l.jsx)(w,{user:o,guildId:t,joinRequest:n}),n.applicationStatus===j.wB.REJECTED&&(0,l.jsx)(M,{joinRequest:n}),n.applicationStatus===j.wB.APPROVED&&(0,l.jsx)(O,{joinRequest:n})]}),(0,l.jsxs)("div",{className:i()(P.cardContainer,P.responsesContainer),children:[(0,l.jsx)(b.Z,{guildId:u.id,formFields:s,user:o,showRequirements:!1}),(0,l.jsx)(y,{guildId:t,user:o,joinRequest:n})]})]})})})}},987491:function(e,t,n){n.d(t,{Z:()=>D});var l=n(951288),r=n(647438),a=n(120356),i=n.n(a),s=n(913527),o=n.n(s),c=n(442837),d=n(481060),u=n(239091),m=n(700582),x=n(906732),j=n(693546),h=n(826581),b=n(246364),f=n(98493),v=n(328977),g=n(412222),p=n(223312),C=n(172751),_=n(768762),T=n(892001),E=n(598077),N=n(430824),S=n(51144),P=n(388032),R=n(106682),I=n(243194),Z=n(494409),w=n(266631);function M(e){let t,n,{status:r}=e;switch(r){case b.wB.REJECTED:t=P.t["7YSJ6e"],n=P.t.i05OUV;break;case b.wB.APPROVED:t=P.t.bv82GR,n=P.t.D4OUHR;break;default:t=P.t["/wqiSk"],n=P.t.o47YZm}return(0,l.jsxs)("div",{className:R.emptyContainer,children:[(0,l.jsx)(d.dz2,{size:"md",color:"currentColor",className:R.checkmark}),(0,l.jsx)(d.X6q,{variant:"heading-md/medium",children:P.intl.string(t)}),(0,l.jsx)(d.Text,{color:"text-muted",variant:"text-sm/medium",children:P.intl.string(n)})]})}function O(e){let{sortOrder:t,onSortChange:n}=e;return(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:Z.tableHeaderRow,children:[(0,l.jsx)("th",{className:R.headerCell,children:(0,l.jsx)(d.Text,{variant:"eyebrow",color:"interactive-normal",children:P.intl.string(P.t.Es7n9f)})}),(0,l.jsx)("th",{className:i()(R.headerCell,w.mediumCol),children:(0,l.jsxs)(d.P3F,{className:R.sortItem,onClick:n,children:[(0,l.jsx)(d.Text,{variant:"eyebrow",color:"interactive-normal",children:P.intl.string(P.t.EZ5QWF)}),t===b.Nw.TIMESTAMP_ASC?(0,l.jsx)(_.Z,{className:R.sortIcon,direction:_.Z.Directions.UP}):(0,l.jsx)(_.Z,{className:R.sortIcon,direction:_.Z.Directions.DOWN})]})}),(0,l.jsx)("th",{className:i()(R.headerCell,R.moreOptionsCol),children:(0,l.jsx)(d.Text,{variant:"eyebrow",color:"interactive-normal",children:P.intl.string(P.t["5Q9xGh"])})})]})})}let y=r.memo(function(e){let{joinRequest:t,user:n}=e,{joinRequestId:a,guildId:i}=t,{analyticsLocations:s}=(0,x.ZP)(),o=r.useCallback(e=>{e.stopPropagation(),e.preventDefault(),(0,T.openUserProfileModal)({userId:n.id,joinRequestId:a,sourceAnalyticsLocations:s})},[n,a,s]);return(0,l.jsxs)("div",{className:w.memberNameContainer,children:[(0,l.jsx)(d.P3F,{className:w.memberAvatar,onClick:o,children:(0,l.jsx)(m.Z,{user:n})}),(0,l.jsx)("div",{className:w.memberName,children:(0,l.jsx)(d.Text,{variant:"text-sm/medium",children:(0,l.jsxs)(d.P3F,{onClick:o,className:w.nameContainer,children:[n.globalName,(0,l.jsx)(C.ZP,{primaryGuild:null==n?void 0:n.primaryGuild,userId:null==n?void 0:n.id,contextGuildId:i,containerClassName:w.memberClanTag})]})})}),(0,l.jsx)("div",{className:w.memberGlobalName,children:(0,l.jsx)(d.Text,{variant:"text-xs/normal",color:"header-secondary",tag:"span",children:(0,l.jsx)(d.P3F,{onClick:o,tag:"span",children:S.ZP.getUserTag(n)})})})]})}),A=r.memo(function(e){let{joinRequest:t,onSelect:a}=e,{guildId:s,createdAt:m,applicationStatus:x}=t,j=r.useMemo(()=>new E.Z(t.user),[t.user]),h=(0,v.L)({guildId:s}),f=(0,c.e7)([N.Z],()=>N.Z.getGuild(s)),g=x===b.wB.SUBMITTED,p=e=>{(0,u.jW)(e,async()=>{let{default:e}=await n.e("84259").then(n.bind(n,597409));return t=>{var n,r;return(0,l.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){var l;l=n[t],t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l})}return e}({},t),r=r={guild:f,user:j},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n.push.apply(n,l)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}},{position:"bottom",align:"right"})};return null==j?null:(0,l.jsxs)("tr",{onClick:a,className:i()(w.roundedRow,w.memberRowContainer,{[w.selected]:(null==h?void 0:h.joinRequestId)===t.joinRequestId}),children:[(0,l.jsx)("td",{children:(0,l.jsx)(y,{joinRequest:t,user:j})}),(0,l.jsx)("td",{className:w.mediumCol,children:(0,l.jsx)(d.Text,{variant:"text-sm/normal",color:"header-secondary",children:o()(m).format("lll")})}),(0,l.jsx)("td",{className:R.moreOptionsCol,children:g&&(0,l.jsx)(d.ua7,{text:P.intl.string(P.t.x8Nn4O),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,l.jsx)(d.P3F,{onMouseEnter:t,onMouseLeave:n,onClick:p,className:w.button,children:(0,l.jsx)(d.Huf,{size:"custom",color:"currentColor",width:18,height:18})})}})})]})}),k=()=>{let e="".concat(Math.floor(50*Math.random())+100,"px"),t="".concat(Math.floor(50*Math.random())+100,"px"),n="".concat(Math.floor(25*Math.random())+50,"px");return(0,l.jsxs)("tr",{className:i()(w.roundedRow,w.memberRowContainer),children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:w.memberNameContainer,children:[(0,l.jsx)("div",{className:i()(R.placeholderAvatar,w.memberAvatar)}),(0,l.jsx)("div",{className:w.memberName,children:(0,l.jsx)("div",{className:R.placeholderText,style:{width:e}})}),(0,l.jsx)("div",{className:w.memberGlobalName,children:(0,l.jsx)("div",{className:R.placeholderTextSmall,style:{width:t}})})]})}),(0,l.jsx)("td",{className:w.mediumCol,children:(0,l.jsx)("div",{className:R.placeholderText,style:{width:n}})}),(0,l.jsx)("td",{className:R.moreOptionsCol})]})};function D(e){let{guildId:t,currentTab:n}=e,a=r.useRef(null),i=(0,c.e7)([N.Z],()=>N.Z.getGuild(t)),s=(0,g.C)({guildId:t}),o=(0,c.e7)([h.Z],()=>h.Z.isFetching()),{guildJoinRequests:u}=(0,p.j)({guildId:t,applicationStatus:n,sortOrder:s}),{fetchNextPage:m}=(0,f.m)({guildId:t,guildJoinRequests:u}),x=r.useCallback(async()=>{let e=s===b.Nw.TIMESTAMP_ASC?b.Nw.TIMESTAMP_DESC:b.Nw.TIMESTAMP_ASC;j.Z.setSelectedSortOrder(t,e),await m(e,n)},[s,t,m,n]);return null==i?null:(0,l.jsx)("div",{className:I.mainTableContainer,children:(0,l.jsx)(d.Den,{className:I.horizatonalScroller,ref:a,orientation:"horizontal",children:(0,l.jsxs)("table",{className:R.table,children:[(0,l.jsx)(O,{sortOrder:s,onSortChange:x}),(0,l.jsx)("tbody",{children:o?[,,,,,].fill(0).map((e,t)=>(0,l.jsx)(k,{},"placeholder-".concat(t))):0===u.length?(0,l.jsx)("td",{colSpan:3,children:(0,l.jsx)(M,{status:n})}):u.map(e=>(0,l.jsx)(A,{joinRequest:e,onSelect:()=>j.Z.setSelectedGuildJoinRequest(t,e)},e.joinRequestId))})]})})})}},995596:function(e,t,n){n.d(t,{Z:()=>T}),n(388685);var l=n(951288),r=n(647438),a=n(120356),i=n.n(a),s=n(442837),o=n(21260),c=n(780384),d=n(481060),u=n(393903),m=n(448986),x=n(410030),j=n(328977),h=n(571728),b=n(984370),f=n(433355),v=n(384433),g=n(388032),p=n(350013);let C=e=>{let{tabs:t,selectedTab:n,onTabSelect:r,onClose:a}=e;return(0,l.jsx)(d.v2r,{navId:"members-tabs-overflow-menu","aria-label":g.intl.string(g.t.riPnr6),hideScroller:!0,onClose:a,onSelect:a,children:(0,l.jsx)(d.kSQ,{children:t.map(e=>{let{id:t,label:a}=e;return(0,l.jsx)(d.sNh,{id:t,label:a,icon:t===n?d.owK:void 0,action:()=>r(t)},t)})},"applications-overflow-tabs")})};function _(e){let{onTabSelect:t,tabs:n,selectedTab:a}=e,s=r.useRef(null),o=(0,x.ZP)(),u=(0,c.wj)(o),m=r.useMemo(()=>null!=n.find(e=>{let{id:t}=e;return t===a}),[a,n]),j=m?"header-primary":u?"text-muted":"header-primary",h=m?d.TVs.colors.HEADER_PRIMARY:u?d.TVs.colors.TEXT_MUTED:d.TVs.colors.HEADER_PRIMARY;return(0,l.jsx)(d.yRy,{targetElementRef:s,renderPopout:e=>{let{closePopout:r}=e;return(0,l.jsx)(C,{selectedTab:a,onClose:r,tabs:n,onTabSelect:t})},position:"bottom",align:"left",children:(e,t)=>{var n,r;let{isShown:a}=t;return(0,l.jsxs)(d.njP.Item,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){var l;l=n[t],t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l})}return e}({},e),r=r={id:"more",clickableInnerRef:s,color:"text-muted",className:i()(p.more,{[p.selected]:m}),"aria-label":g.intl.string(g.t.UKOtz8),children:[(0,l.jsx)(d.Text,{variant:"text-md/medium",color:j,children:g.intl.string(g.t.UKOtz8)}),a?(0,l.jsx)(d.u04,{size:"sm",color:h}):(0,l.jsx)(d.CJ0,{size:"sm",color:h})]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n.push.apply(n,l)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}})}function T(e){let t,{guildId:n,currentTab:a,onTabSelect:i}=e,[c,x]=r.useState(0),C=r.useRef(null),T=r.useRef(c),E=(0,h.A)({guildId:n}),N=(t=null!=E?E:0,[{id:v.e.ALL_MEMBERS,label:g.intl.string(g.t.NOOm1d)},{id:v.e.PENDING,label:t>0?g.intl.formatToPlainString(g.t["Wo+zLy"],{count:t}):g.intl.string(g.t["4eQVBA"])},{id:v.e.REJECTED,label:g.intl.string(g.t.bSZklZ)},{id:v.e.APPROVED,label:g.intl.string(g.t.aURgY2)}]),{lastVisibleIndex:S,onItemLayout:P,overflowItemsRef:R}=(0,o.zP)({items:N,itemGapPx:16,maxLines:1,containerWidth:c-200}),I=(0,s.e7)([f.ZP],()=>null!=f.ZP.getGuildSidebarState(n),[n]),Z=(0,j.L)({guildId:n}),w=r.useMemo(()=>a===v.e.ALL_MEMBERS?I:null!=Z&&null!=Z.user,[a,I,Z]),M=r.useMemo(()=>N.slice(0,S+1),[S,N]),O=r.useMemo(()=>N.slice(S+1),[S,N]),y=(0,m.Z)(e=>{let t=e.contentRect.width;null!=t&&T.current!==t&&(x(t),T.current=t)});return(0,u.s)(C,y,[w]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b.Z.Divider,{className:p.divider}),(0,l.jsxs)("div",{className:p.tabsContainer,ref:C,children:[(0,l.jsxs)("div",{className:p.measurements,children:[N.map((e,t)=>(0,l.jsx)(o.AJ,{index:t,onItemLayout:P,children:(0,l.jsx)(d.njP.Item,{id:e.id,"aria-label":e.label,children:e.label})},e.id)),(0,l.jsx)("div",{ref:R,children:(0,l.jsx)(_,{tabs:O,onTabSelect:i,selectedTab:a})})]}),(0,l.jsxs)(d.njP,{"aria-label":g.intl.string(g.t.tcvVXF),selectedItem:a,type:"top-pill",onItemSelect:i,children:[M.map(e=>(0,l.jsx)(d.njP.Item,{id:e.id,"aria-label":e.label,children:e.label},e.id)),0!==O.length?(0,l.jsx)(_,{tabs:O,onTabSelect:i,selectedTab:a}):null]})]})]})}},937283:function(e,t,n){n.d(t,{Z:()=>j});var l=n(951288),r=n(647438),a=n(442837),i=n(100527),s=n(906732),o=n(613464),c=n(6025),d=n(433355),u=n(430824),m=n(981631),x=n(350013);function j(e){let{guildId:t}=e,n=(0,a.e7)([u.Z],()=>u.Z.getGuild(t)),{analyticsLocations:j}=(0,s.ZP)(i.Z.MEMBER_SAFETY_PAGE),h=(0,a.e7)([d.ZP],()=>d.ZP.getGuildSidebarState(t),[t]),b=r.useCallback(()=>{c.Z.closeGuildSidebar(t)},[t]),f=null!=h;return null!=n&&f&&null!=h?(0,l.jsx)(s.Gt,{value:j,children:(0,l.jsx)("div",{className:x.__invalid_sidebarContainer,style:{width:m.$Y6},children:(0,l.jsx)(o.Z,{userId:h.details.userId,guildId:h.details.guildId,onClose:b})})}):null}},545918:function(e,t,n){n.r(t),n.d(t,{default:()=>q}),n(388685);var l=n(951288),r=n(647438),a=n(120356),i=n.n(a),s=n(442837),o=n(481060),c=n(100527),d=n(906732),u=n(252618),m=n(189357),x=n(693546),j=n(246364),h=n(697379),b=n(98493),f=n(412222),v=n(223312),g=n(571728),p=n(984370),C=n(703656),_=n(433355),T=n(984933),E=n(430824),N=n(384433),S=n(241559),P=n(575766),R=n(901066),I=n(987491),Z=n(305473),w=n(995596),M=n(937283),O=n(440857),y=n(707113),A=n(981631),k=n(176505),D=n(388032),B=n(350013),L=n(97009);function G(e){let{guild:t,currentTab:n,onTabSelect:r}=e,a=(0,h.W)(t.id),i=D.intl.string(D.t.oclz3d),s=D.intl.string(D.t.oclz3d);return(0,u.Tt)({location:t.name,subsection:i}),(0,l.jsxs)(p.Z,{className:B.header,innerClassname:B.__invalid_innerHeader,channelId:k.oC.MEMBER_SAFETY,guildId:t.id,hideSearch:!0,children:[(0,l.jsx)(p.Z.Icon,{icon:o.BFJ,"aria-hidden":!0}),(0,l.jsx)(p.Z.Title,{children:s}),a&&(0,l.jsx)(w.Z,{guildId:t.id,currentTab:n,onTabSelect:r})]})}function q(e){var t;let{guildId:n}=e,a=null!=(t=(0,g.A)({guildId:n}))?t:0,[u,h]=r.useState(a>0?N.e.PENDING:N.e.ALL_MEMBERS),p=(0,s.e7)([E.Z],()=>E.Z.getGuild(n)),{analyticsLocations:w}=(0,d.ZP)(c.Z.MEMBER_SAFETY_PAGE),k=(0,f.C)({guildId:n}),{guildJoinRequests:D}=(0,v.j)({guildId:n,applicationStatus:"ALL_MEMBERS"===u?j.wB.SUBMITTED:u,sortOrder:k});r.useEffect(()=>{(null==p?void 0:p.features.has(A.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL))||h(N.e.ALL_MEMBERS)},[p]);let q=(0,S.n2)(n),F=(0,m.m)(n),U=r.useRef(null);(0,P.n)(n);let{fetchNextPage:z}=(0,b.m)({guildId:n,guildJoinRequests:D}),V=r.useCallback(async()=>{var e;if(u===N.e.ALL_MEMBERS)return;let t=null==(e=U.current)?void 0:e.getScrollerState();null!=t&&t.scrollHeight-t.scrollTop-t.offsetHeight<200&&await z(k,u)},[u,u,k,z]),J=r.useCallback(async e=>{u!==e&&(h(e),x.Z.setSelectedGuildJoinRequest(n,null),"ALL_MEMBERS"!==e&&await z(k,e))},[u,n,z,k]);r.useEffect(()=>{if(!q&&null!=p){var e;let t=null==(e=T.ZP.getDefaultChannel(p.id))?void 0:e.id;(0,C.XU)(p.id,t)}},[p,q]);let K=(0,s.e7)([_.ZP],()=>null!=_.ZP.getGuildSidebarState(n),[n]);return null!=p&&q?(0,l.jsxs)(d.Gt,{value:w,children:[(0,l.jsxs)("div",{className:i()(L.chat,B.page,{[L.threadSidebarOpen]:K}),children:[(0,l.jsx)(G,{guild:p,currentTab:u,onTabSelect:J}),(0,l.jsx)(o.Den,{onScroll:V,ref:U,orientation:"vertical",children:(0,l.jsx)("div",{className:i()(L.content,B.container),children:u===N.e.ALL_MEMBERS?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z.Z,{guild:p}),(0,l.jsx)(y.Z,{guild:p})]}):(0,l.jsx)(I.Z,{guildId:p.id,currentTab:u})})}),(0,l.jsx)(O.Z,{guildId:p.id})]}),F&&(u===N.e.ALL_MEMBERS?(0,l.jsx)(M.Z,{guildId:p.id}):(0,l.jsx)(R.Z,{guildId:p.id}))]}):null}},707113:function(e,t,n){n.d(t,{Z:()=>v});var l=n(951288),r=n(647438),a=n(120356),i=n.n(a),s=n(202841),o=n(399606),c=n(481060),d=n(201070),u=n(893966),m=n(472596),x=n(598948),j=n(428936),h=n(41586),b=n(243194);function f(e){let{guild:t}=e,n=(0,d.$j)(t.id),r=(0,c.q_F)({height:3*!!n,config:s.config.stiff});return(0,l.jsx)("div",{className:b.loaderContainer,children:(0,l.jsx)(s.animated.div,{className:b.loaderBar,style:r})})}function v(e){let{guild:t,className:n,onPageChange:a,onMemberSelect:s}=e,v=t.id,g=(0,o.e7)([u.Z],()=>u.Z.getEstimatedMemberSearchCountByGuildId(v),[v]),p=(0,d.$j)(v),C=(0,d.M3)(v),_=r.useCallback(e=>{null!=e&&(null==s||s(e))},[s]),T=(0,m.xb)(C,p,g),E=r.useRef(null),N=r.useRef(null),S=r.useCallback(()=>{var e;null==(e=E.current)||e.resetSearchText()},[]);return(0,l.jsx)("div",{className:i()(b.mainTableContainer,n),children:(0,l.jsxs)(c.Den,{className:b.horizatonalScroller,ref:N,orientation:"horizontal",children:[(0,l.jsx)(h.Z,{guild:t,ref:E}),(0,l.jsx)(f,{guild:t}),(0,l.jsx)(x.Z,{guild:t,onSelectRow:_,searchState:T,onResetForNewMembers:S}),T!==m.po.SUCCESS_STILL_INDEXING&&(0,l.jsx)(j.Z,{guildId:t.id,onPageChange:a})]})})}},882313:function(e,t,n){e.exports={optionContainer:"optionContainer__7e1d8",optionContainerOther:"optionContainerOther__7e1d8",optionText:"optionText__7e1d8",textboxContainer:"textboxContainer__7e1d8",serverLockdownReasonText:"serverLockdownReasonText__7e1d8"}},796668:function(e,t,n){e.exports={mainContainer:"mainContainer_c38e9f",pauseContainer:"pauseContainer_c38e9f",pauseText:"pauseText_c38e9f",toggle:"toggle_c38e9f"}},59678:function(e,t,n){e.exports={sidebar:"sidebar__6b102",innerContainer:"innerContainer__6b102",cardContainer:"cardContainer__6b102",clickable:"clickable__6b102",infoContainer:"infoContainer__6b102",responsesContainer:"responsesContainer__6b102",actionRow:"actionRow__6b102",actionButton:"actionButton__6b102",disabled:"disabled__6b102",userInfoContainer:"userInfoContainer__6b102",infoRow:"infoRow__6b102",accountLabel:"accountLabel__6b102",actionContainer:"actionContainer__6b102",actionedInfo:"actionedInfo__6b102",dot:"dot__6b102"}},106682:function(e,t,n){e.exports={table:"table_ce03f4",headerCell:"headerCell_ce03f4",moreOptionsCol:"moreOptionsCol_ce03f4",sortItem:"sortItem_ce03f4",sortIcon:"sortIcon_ce03f4",placeholderText:"placeholderText_ce03f4",placeholderTextSmall:"placeholderTextSmall_ce03f4",placeholderAvatar:"placeholderAvatar_ce03f4",placeholderPulse:"placeholderPulse_ce03f4",emptyContainer:"emptyContainer_ce03f4",checkmark:"checkmark_ce03f4"}},350013:function(e,t,n){e.exports={container:"container_c791b2",page:"page_c791b2",header:"header_c791b2",measurements:"measurements_c791b2",more:"more_c791b2",selected:"selected_c791b2",divider:"divider_c791b2",tabsContainer:"tabsContainer_c791b2"}},243194:function(e,t,n){e.exports={mainTableContainer:"mainTableContainer__09a38",horizatonalScroller:"horizatonalScroller__09a38",loaderContainer:"loaderContainer__09a38",loaderBar:"loaderBar__09a38",loadingBar:"loadingBar__09a38"}}}]);
//# sourceMappingURL=4af0a69232b55969.js.map