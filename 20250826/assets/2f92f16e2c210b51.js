"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["97755"],{951206:function(e,t,n){n.d(t,{F:()=>s});var r=n(512722),l=n.n(r),i=n(846027),u=n(287734),c=n(131951),o=n(254238),a=n(893387);function s(e,t){var n;let r=null!=(n=e.sessionId)?n:"";(0,o._)(r),(0,o.s6)();let s=null!=t?t:e.channelId;l()(null!=s,"attempted to transfer to unknown channel"),e.selfMute!==c.Z.isSelfMute()&&i.Z.toggleSelfMute(),e.selfDeaf!==c.Z.isSelfDeaf()&&i.Z.toggleSelfDeaf(),(0,a.Z)(s,"discord_client",r),u.default.selectVoiceChannel(s,!1)}},446226:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),l=n(314897),i=n(979651),u=n(258609);function c(){return(0,r.e7)([l.default,i.Z,u.Z],()=>{var e;let t=l.default.getId(),n=u.Z.getRemoteSessionId();return null!=(e=i.Z.getVoiceStateForSession(t,n))?e:void 0},[])}},937393:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),l=n(553795),i=n(823379),u=n(981631);function c(){return(0,r.Wu)([l.Z],()=>[l.Z.getAccount(null,u.ABu.XBOX),l.Z.getAccount(null,u.ABu.PLAYSTATION),l.Z.getAccount(null,u.ABu.PLAYSTATION_STAGING)].filter(i.lm))}},721351:function(e,t,n){n.d(t,{Z:()=>c});var r=n(481060),l=n(374129),i=n(639351),u=n(927923);function c(e){return null!=e?(0,r.GSL)(e===u.YE.XBOX?i.Z:l.Z):r.U5H}},420529:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288);n(647438);var l=n(399606),i=n(481060),u=n(231757),c=n(397639),o=n(19780),a=n(979651),s=n(951206),d=n(446226),f=n(937393),E=n(721351),Z=n(981631),g=n(388032);function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function O(e){let t=(0,l.e7)([o.Z],()=>o.Z.getChannelId()===e.id),O=(0,d.Z)(),b=(null==O?void 0:O.channelId)===e.id,y=(0,c.V)(e)&&!e.isPrivate(),P=(0,c.Z)(e),_=!(0,l.e7)([a.Z],()=>a.Z.isInChannel(e.id))&&P||y,v=(0,f.Z)();return b||0!==v.length?b?(0,r.jsx)(i.sNh,{label:g.intl.string(g.t.PlwgdX),id:"handoff",action:()=>{(0,s.F)(O)},icon:(0,E.Z)(void 0),disabled:_}):v.map(l=>{var c,o;return(0,r.jsx)(i.sNh,{id:"transfer-".concat(l.type,"-").concat(l.id),label:(c=l.type,o=t,c===Z.ABu.XBOX?o?g.intl.string(g.t["qVE/VF"]):g.intl.string(g.t.E8euSk):c===Z.ABu.PLAYSTATION?o?g.intl.string(g.t.vzfxmZ):g.intl.string(g.t.QxEYDg):c===Z.ABu.PLAYSTATION_STAGING?o?g.intl.string(g.t.BDiXtb):g.intl.string(g.t["bhdB9/"]):void 0),action:()=>(t=>{if(!t.twoWayLink||t.revoked)return void(0,u.Z)({platformType:t.type,location:"Console Transfer Item"});t.type===Z.ABu.XBOX?(0,i.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("7784"),n.e("522")]).then(n.bind(n,200623));return n=>(0,r.jsx)(t,p(N({},n),{channel:e}))}):(t.type===Z.ABu.PLAYSTATION||t.type===Z.ABu.PLAYSTATION_STAGING)&&(0,i.ZDy)(async()=>{let{default:l}=await n.e("638").then(n.bind(n,543974));return n=>(0,r.jsx)(l,p(N({},n),{platform:t.type,channel:e}))})})(l),icon:(0,E.Z)(l.type),disabled:_},l.id)}):null}},658041:function(e,t,n){n.d(t,{M:()=>c});var r=n(913527),l=n.n(r),i=n(709054),u=n(765305);function c(e,t,n,r){let c=l()(),o=new Date(e.scheduled_start_time).getTime(),a={start:o-u.VF,end:o};if(c.isBetween(a.start,a.end)){if(null!=t){let e=l()(t),n=e.isBetween(a.start,a.end),i=e.isBetween(l()(o).subtract(u.zV,"days"),o);return n||i&&!r?void 0:u.X_.EVENT_STARTING_SOON}return u.X_.EVENT_STARTING_SOON}let s=i.default.extractTimestamp(e.id),d=Math.min((null!=n?n:s)+u.Fc,o);if(c.isBetween(s,d)&&null==t&&!r)return u.X_.NEW_EVENT}},835184:function(e,t,n){n.d(t,{Z:()=>N});var r,l=n(442837),i=n(570140),u=n(314897),c=n(924301),o=n(658041),a=n(765305);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}let f={},E={};function Z(e){let t=d({},f);delete t[e],f=t;let n=d({},E);delete n[e],E=n}class g extends(r=l.ZP.PersistedStore){initialize(e){if(null!=e){var t,n;f=null!=(t=e.upcomingEventDismissals)?t:{},E=null!=(n=e.upcomingEventSeenTimestamps)?n:{}}}getGuildEventNoticeDismissalTime(e){return f[e]}getAllEventDismissals(){return f}getUpcomingNoticeSeenTime(e){return E[e]}getAllUpcomingNoticeSeenTimes(){return E}getState(){return{upcomingEventDismissals:f,upcomingEventSeenTimestamps:E}}}s(g,"displayName","UpcomingEventNoticesStore"),s(g,"persistKey","UpcomingEventNotices");let N=new g(i.Z,{UPCOMING_GUILD_EVENT_NOTICE_HIDE:function(e){let{eventId:t}=e,n=d({},f);n[t]=Date.now(),f=n},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e;(t.status===a.p1.CANCELED||t.status===a.p1.COMPLETED)&&Z(t.id)},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e;Z(t.id)},GUILD_SCHEDULED_EVENT_USER_ADD:function(e){let{userId:t,guildEventId:n}=e;if(t!==u.default.getId())return;let r=c.ZP.getGuildScheduledEvent(n);if(null==r||r.status!==a.p1.SCHEDULED||null!=f[n])return;let l=E[n];if((0,o.M)(r,void 0,l,!1)===a.X_.NEW_EVENT){let e=d({},f);e[n]=Date.now(),f=e}},UPCOMING_GUILD_EVENT_NOTICE_SEEN:function(e){let{guildEventId:t}=e,n=d({},E);n[t]=Date.now(),E=n}})},554747:function(e,t,n){n.d(t,{Vm:()=>P,ZP:()=>O,eF:()=>I,gM:()=>y,k5:()=>_,qY:()=>b,sz:()=>h,u1:()=>v}),n(388685);var r=n(647438),l=n(442837),i=n(592125),u=n(430824),c=n(496675),o=n(70956),a=n(924301),s=n(658041),d=n(835184),f=n(79874),E=n(954313),Z=n(765305),g=n(981631);let N=[],p=15*o.Z.Millis.MINUTE;function O(e,t){return(0,l.Wu)([u.Z,a.ZP,c.Z,i.Z],()=>{let n=u.Z.getGuild(e);return null==n?N:a.ZP.getGuildScheduledEventsByIndex(null!=t?t:a.bN.GUILD_EVENT_UPCOMING(n.id)).filter(e=>{let t=e.channel_id;if(null==t)return!0;let n=i.Z.getChannel(t);return c.Z.can(g.Plq.VIEW_CHANNEL,n)})},[t,e])}function b(e){return(0,l.e7)([a.ZP,i.Z,c.Z],()=>{let t=i.Z.getChannel(e);if(!c.Z.can(g.Plq.VIEW_CHANNEL,t)||null==(null==t?void 0:t.guild_id))return null;let n=a.ZP.getGuildScheduledEventsByIndex(a.bN.CHANNEL_EVENT_ACTIVE(e));return n.length>0?n[0]:null},[e])}function y(e){let t=(0,l.Wu)([a.ZP],()=>a.ZP.getGuildScheduledEventsForGuild(e),[e]);return r.useMemo(()=>{let e=new Map;return t.forEach(t=>{let n=t.channel_id;null!=n&&e.set(n,t)}),e},[t])}function P(e){var t;let n=(0,l.Wu)([a.ZP,i.Z,c.Z],()=>a.ZP.getGuildScheduledEventsByIndex(a.bN.GUILD_EVENT_UPCOMING(e)).filter(e=>{if(e.entity_type===Z.WX.NONE||e.status!==Z.p1.SCHEDULED)return!1;if(null==e.channel_id)return!0;let t=i.Z.getChannel(e.channel_id);return c.Z.can(g.Plq.VIEW_CHANNEL,t)}),[e]),r=(0,l.cj)([d.Z],()=>d.Z.getAllEventDismissals()),o=(0,l.cj)([d.Z],()=>d.Z.getAllUpcomingNoticeSeenTimes()),f=(0,l.cj)([a.ZP],()=>null==n?{}:n.reduce((e,t)=>{var n,r;let l=(0,E.DK)(t);return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),r=r={[t.id]:a.ZP.isInterestedInEventRecurrence(t.id,l)},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n},{}),[n]),N=(0,l.e7)([u.Z],()=>u.Z.getGuild(e)),p=null!=N&&!N.features.has(g.oNc.COMMUNITY)&&N.features.has(g.oNc.INTERNAL_EMPLOYEE_ONLY);if(null!=n&&null!=f&&p)for(let e=0;e<n.length;e++){let l=n[e],i=r[l.id],u=o[l.id],c=null!=(t=f[l.id])&&t,a=(0,s.M)(l,i,u,c);if(null!=a)return{upcomingEvent:l,noticeType:a}}}function _(e){return(0,l.e7)([a.ZP,i.Z,c.Z],()=>a.ZP.getGuildScheduledEventsByIndex(a.bN.GUILD_EVENT_ACTIVE(e)).find(e=>{if(e.entity_type===Z.WX.NONE||!(0,a.xt)(e))return!1;if(null==e.channel_id)return!0;let t=i.Z.getChannel(e.channel_id);return c.Z.can(g.Plq.VIEW_CHANNEL,t)}),[e])}function v(e){return(0,l.e7)([a.ZP],()=>a.ZP.getGuildScheduledEventsByIndex(a.bN.CHANNEL_EVENT_UPCOMING(e)),[e])}function I(e){return(0,l.e7)([i.Z,a.ZP],()=>{let t=a.ZP.getGuildScheduledEventsByIndex(a.bN.GUILD_EVENT_ACTIVE(e)).find(e=>null!=i.Z.getChannel(e.channel_id));return i.Z.getChannel(null==t?void 0:t.channel_id)},[e])}function h(e){let[t,n]=r.useState(()=>Date.now());r.useEffect(()=>{let e=setInterval(()=>{n(Date.now())},p);return()=>clearInterval(e)},[]);let i=(0,l.e7)([a.ZP],()=>null==e?[]:a.ZP.getGuildScheduledEventsByIndex(a.bN.CHANNEL_EVENT_UPCOMING(e)),[e,t]);return r.useMemo(()=>i.filter(e=>{let{startTime:t,endTime:n}=(0,f.Kq)(e),{withinStartWindow:r,diffMinutes:l}=(0,E.ub)(t.toISOString(),null==n?void 0:n.toISOString());return e.status!==Z.p1.ACTIVE&&r&&l<15}),[i])}},397639:function(e,t,n){n.d(t,{V:()=>a,Z:()=>s});var r=n(442837),l=n(430824),i=n(496675),u=n(979651),c=n(934415),o=n(231338);function a(e){return(0,r.e7)([i.Z],()=>null==e||!i.Z.can(o.Pl.CONNECT,e),[e])}function s(e){return(0,r.e7)([u.Z,l.Z],()=>(0,c.rY)(e,u.Z,l.Z))}}}]);
//# sourceMappingURL=2f92f16e2c210b51.js.map