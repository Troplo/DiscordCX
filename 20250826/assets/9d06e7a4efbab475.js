"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["84927"],{301107:function(e,t,n){n.d(t,{W:()=>i}),n(413496),n(433524),n(35282),n(415506);var r=n(647438),l=n(250683),s=n(974167);function i(e){let{fingerprintBase64:t,chunkSize:n,desiredLength:i}=e,a=r.useMemo(()=>{if(null==t||""===t)return null;let e=l.toByteArray(t),r=(0,s.Dq)(e,i,n);if(null==r)return null;let a=RegExp(".{1,".concat(n,"}"),"g"),o=r.match(a);return null==o?null:Array.from(o)},[n,t,i]);if(null!=t&&""!==t&&null==a)throw Error("[useReadableSecureFramesCode] Failed to parse base 64 code.");return a}},160038:function(e,t,n){n.d(t,{Z:()=>E}),n(388685),n(49124);var r=n(951288),l=n(647438),s=n(120356),i=n.n(s),a=n(46973),o=n(481060),c=n(304680),u=n(706619),d=n(695346),h=n(131951),f=n(626135),g=n(572004),p=n(63063),O=n(476221),y=n(981631),x=n(65154),b=n(388032),N=n(827297);let m=()=>{h.Z.getMediaEngine().once(a.aB.ConnectionStats,e=>{let t=JSON.stringify(Object.values(x.Yn).map(t=>{let n=e.filter(e=>{let{connection:n}=e;return n.context===t}).map((e,n)=>{let r=e.stats;return r.context=t,r.index=n,r});for(let e of n){var r;(null==e||null==(r=e.transport)?void 0:r.localAddress)!=null&&(e.transport.localAddress="(redacted)")}return n}).filter(e=>e.length>0),null,2);(0,g.JG)(t,()=>(0,o.showToast)((0,o.createToast)(b.intl.string(b.t["t5VZ8/"]),o.ToastType.SUCCESS)))})},E=function(e){(0,l.useEffect)(()=>{f.default.track(y.rMx.OPEN_POPOUT,{type:"RTC Connection"})},[]);let t=(0,l.useCallback)(()=>{let{closePopout:t}=e;null!=t&&t(),c.bA()},[e]),n=(0,l.useCallback)(()=>{let{hostname:t,averagePing:n,lastPing:s,outboundLossRate:a}=e,o=d.Sb.getSetting();return(0,r.jsxs)(l.Fragment,{children:[o&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:N.graphContainer,children:(0,r.jsx)(u.Z,{dataPoints:e.pings,width:258,height:80})}),(0,r.jsx)("div",{className:N.popoutText,children:(0,r.jsx)("strong",{children:O.Z.getShortHostname(t)})})]}),(0,r.jsx)("div",{className:N.popoutText,children:b.intl.format(b.t["X58/lJ"],{averagePing:n.toFixed(0)})}),null!=s?(0,r.jsx)("div",{className:N.popoutText,children:b.intl.format(b.t["6iv2TE"],{lastPing:s.toFixed(0)})}):null,null!=a?(0,r.jsx)("div",{className:N.popoutText,children:b.intl.format(b.t.VIBJMz,{outboundLossRate:a.toFixed(1)})}):null,(0,r.jsxs)("div",{className:i()(N.popoutText,N.popoutTextDetails),children:[null==a?b.intl.formatToPlainString(b.t.vggaMj,{badPing:250}):null,null!=a?b.intl.formatToPlainString(b.t["3pFz1N"],{badPing:250,badLossRate:10}):null]})]})},[e]),{connectionState:s,connectionTypeText:a}=e,g=d.Sb.getSetting(),E={[y.hes.AWAITING_ENDPOINT]:b.intl.format(b.t.Eu2vUV,{url:y.yXt.STATUS}),[y.hes.CONNECTING]:b.intl.string(b.t["y+E8aG"]),[y.hes.AUTHENTICATING]:b.intl.string(b.t["5lGIZG"]),[y.hes.DISCONNECTED]:b.intl.string(b.t.fOX25O),[y.hes.RTC_CONNECTING]:b.intl.string(b.t.b5Ubd3),[y.hes.ICE_CHECKING]:b.intl.format(b.t.SyoYUV,{url:p.Z.getArticleURL(y.BhN.VOICE_CONNECTION_ERRORS)}),[y.hes.DTLS_CONNECTING]:b.intl.format(b.t.SyoYUV,{url:p.Z.getArticleURL(y.BhN.VOICE_CONNECTION_ERRORS)}),[y.hes.RTC_CONNECTED]:n,[y.hes.NO_ROUTE]:b.intl.format(b.t["2tgQnp"],{url:p.Z.getArticleURL(y.BhN.VOICE_CONNECTION_ERRORS)}),[y.hes.RTC_DISCONNECTED]:b.intl.string(b.t.fOX25O)}[s];return(0,r.jsxs)(r.Fragment,{children:["function"==typeof E?E():(0,r.jsx)("p",{className:i()(N.popoutText,N.popoutTextDetails),children:E}),(0,r.jsx)("hr",{className:N.separator}),(0,r.jsxs)("div",{className:N.popoutBottom,children:[(0,r.jsxs)("span",{className:i()(N.secured,N.textWithIcon),children:[(0,r.jsx)(o.mBM,{size:"xxs",color:o.TVs.colors.TEXT_FEEDBACK_POSITIVE.css,className:N.__invalid_icon}),a]}),g&&h.Z.supports(x.AN.DIAGNOSTICS)&&!__OVERLAY__&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.eee,{className:i()(N.debugButton,N.textWithIcon),onClick:t,children:[b.intl.string(b.t.KBoWg4),(0,r.jsx)(o.rgF,{size:"xxs",color:"currentColor",className:N.__invalid_icon})]}),(0,r.jsxs)(o.eee,{className:i()(N.copyStatsButton,N.textWithIcon),onClick:m,title:"Copy to clipboard",children:[b.intl.string(b.t["XEb+Sk"]),(0,r.jsx)(o.TIy,{size:"xxs",color:"currentColor",className:N.__invalid_icon})]})]}),!g&&!__OVERLAY__&&(0,r.jsx)(o.eee,{className:N.debugButton,href:p.Z.getArticleURL(y.BhN.VOICE_VIDEO_TROUBLESHOOTING),children:b.intl.string(b.t.hvVgAQ)})]})]})}},873596:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(951288),l=n(647438),s=n(442837),i=n(481060),a=n(313201),o=n(19780),c=n(979651),u=n(362446),d=n(571826),h=n(277642),f=n(441894),g=n(160038),p=n(586646),O=n(760373),y=n(388032),x=n(756105);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function m(e){let{lobbyId:t,connectionTypeText:n,closePopout:l}=e,i=(0,s.cj)([u.Z],()=>({connectionState:u.Z.getConnectionState(t),hostname:u.Z.getHostname(t),averagePing:u.Z.getAveragePing(t),lastPing:u.Z.getLastPing(t),pings:u.Z.getPings(),outboundLossRate:u.Z.getOutboundLossRate(t)}));return(0,r.jsx)(g.Z,N(b({},i),{closePopout:l,connectionTypeText:n}))}function E(e){let{closePopout:t,connectionTypeText:n}=e,l=(0,s.cj)([o.Z],()=>({connectionState:o.Z.getState(),hostname:o.Z.getHostname(),averagePing:o.Z.getAveragePing(),lastPing:o.Z.getLastPing(),outboundLossRate:o.Z.getOutboundLossRate(),pings:o.Z.getPings()}));return(0,r.jsx)(g.Z,N(b({},l),{closePopout:t,connectionTypeText:n}))}function C(e){let{channelId:t,isOverlay:n,lobbyId:l,closePopout:s}=e,i=(0,f.J)({channelId:t})?y.intl.string(y.t["3BogKS"]):y.intl.string(y.t.ETIVvr);return n?(0,r.jsx)(m,{lobbyId:l,closePopout:s,connectionTypeText:i}):(0,r.jsx)(E,{closePopout:s,connectionTypeText:i})}function j(e){let t=(0,s.e7)([c.Z],()=>c.Z.hasVideo(e.channelId)),[n,o]=l.useState(O.tu.RTC_DEBUG_PANEL),u=(0,a.Dt)(),f=l.useMemo(()=>{switch(n){case O.tu.RTC_DEBUG_PANEL:return(0,r.jsx)(C,b({},e));case O.tu.RTC_SECURE_FRAMES:return(0,r.jsx)(p.Z,{channelId:e.channelId})}},[e,n]);l.useEffect(()=>{(0,d.sN)({channelId:e.channelId,selectedTab:n})},[e.channelId,n]);let g=(0,h.r)();return l.useEffect(()=>{g&&o(O.tu.RTC_DEBUG_PANEL)},[g]),(0,r.jsxs)("div",{className:x.container,children:[(0,r.jsx)(i.X6q,{className:x.title,variant:"heading-lg/bold",color:"header-primary",children:t?y.intl.string(y.t.IlHdW1):y.intl.string(y.t.WsOisr)}),(0,r.jsxs)(i.njP,{className:x.tabs,selectedItem:n,type:"top",look:"brand",onItemSelect:o,children:[(0,r.jsx)(i.njP.Item,{id:O.tu.RTC_DEBUG_PANEL,className:x.tabBarItem,children:y.intl.string(y.t.MBY1Pj)}),g?null:(0,r.jsx)(i.njP.Item,{id:O.tu.RTC_SECURE_FRAMES,className:x.tabBarItem,children:y.intl.string(y.t.zC6o3t)})]}),(0,r.jsx)(i.njP.Panel,{id:n,"aria-labelledby":u,children:f})]})}function v(e){return(0,f.J)({channelId:e.channelId})?(0,r.jsx)(j,b({},e)):(0,r.jsx)("div",{className:x.debugPanelStandalone,children:(0,r.jsx)("section",{className:x.debugPanelSection,children:(0,r.jsx)(C,b({},e))})})}},917405:function(e,t,n){n.d(t,{Z:()=>N});var r=n(951288),l=n(647438),s=n(120356),i=n.n(s),a=n(481060),o=n(100527),c=n(522651),u=n(476221),d=n(873596),h=n(423516),f=n(981631),g=n(445233);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let O={[f.QKv.CONNECTED]:g.rtcConnectionStatusConnected,[f.QKv.CONNECTING]:g.rtcConnectionStatusConnecting,[f.QKv.ERROR]:g.rtcConnectionStatusError},y={[f.IE4.FINE]:g.rtcConnectionQualityFine,[f.IE4.AVERAGE]:g.rtcConnectionQualityAverage,[f.IE4.BAD]:g.rtcConnectionQualityBad,[f.IE4.UNKNOWN]:null},x={[f.IE4.FINE]:a.B_b,[f.IE4.AVERAGE]:a.hLg,[f.IE4.BAD]:a.mbS,[f.IE4.UNKNOWN]:a._3e};function b(e){var{quality:t,largePing:n}=e,l=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["quality","largePing"]);let s=x[t];return(0,r.jsx)(s,p({className:i()(g.ping,{[g.largePing]:n})},l))}function N(e){let{quality:t,lastPing:n,state:s,className:x,children:N,channelId:m,childrenAsSubtitle:E,connectionStatusTextVariant:C,hasVideo:j}=e,v=l.useRef(null),T=s===f.hes.RTC_CONNECTED,I=l.useCallback(e=>{var t,n;return(0,r.jsx)(d.Z,(t=p({},e),n=n={channelId:m},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},[m]),{connectionStatus:P,connectionStatusText:S}=u.Z.getStatus(s,j);return(0,r.jsxs)("div",{className:g.rtcConnectionStatusWrapper,children:[(0,r.jsxs)("div",{className:i()(g.rtcConnectionStatus,y[t],x),children:[T&&(0,r.jsx)(a.ua7,{text:t!==f.IE4.UNKNOWN&&null!=n?"".concat(n.toFixed(0)," ms"):null,children:e=>(0,r.jsx)(b,p({quality:t,largePing:E},e))}),(0,r.jsxs)("div",{className:g.labelWrapper,children:[(0,r.jsx)(a.yRy,{targetElementRef:v,renderPopout:I,position:"top",children:e=>{let{onClick:t}=e;return(0,r.jsx)(a.P3F,{innerRef:v,onClick:e=>{(0,c.v)(o.Z.RTC_PANEL,c.d.CONNECTION_STATUS),t(e)},children:(0,r.jsx)(h.Z,{text:S,textVariant:C,hasVideo:j,className:O[P],hasConnectedChannel:null!=m})})}}),E?N:null]})]}),E?null:N]})}},423516:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var l=n(120356),s=n.n(l),i=n(481060),a=n(570928),o=n(388032),c=n(980941);let u=function(e){let{className:t,hasVideo:n,text:l,hasConnectedChannel:u,textVariant:d="text-md/medium"}=e,h=n?o.intl.string(o.t.IlHdW1):o.intl.string(o.t.WsOisr);return(0,r.jsx)(a.Z,{className:s()(t,c.hoverableStatus),hoverText:u?(0,r.jsx)(i.Text,{variant:d,color:"currentColor",children:h}):null,children:(0,r.jsx)(i.Text,{variant:d,color:"currentColor",children:l})})}},586646:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),l=n(647438),s=n(442837),i=n(481060),a=n(19780),o=n(571826),c=n(630759),u=n(301107),d=n(785792),h=n(190054),f=n(760373),g=n(388032),p=n(506317);function O(e){let{channelId:t}=e,n=(0,s.e7)([a.Z],()=>{var e;return null==(e=a.Z.getSecureFramesState())?void 0:e.epochAuthenticator}),O=(0,u.W)({fingerprintBase64:n,chunkSize:f.y6,desiredLength:f.YP}),y=l.useCallback(()=>{(0,o.PM)({channelId:t})},[t]);return(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsxs)("div",{className:p.tag,children:[(0,r.jsx)(i.mBM,{size:"xxs",color:i.TVs.colors.TEXT_FEEDBACK_POSITIVE}),(0,r.jsx)(i.Text,{variant:"text-xs/medium",color:"text-feedback-positive",children:g.intl.string(g.t["3BogKS"])})]}),(0,r.jsx)(i.Text,{variant:"text-xs/normal",color:"text-secondary",children:g.intl.string(g.t.B9JNsr)}),(0,r.jsxs)("div",{className:p.header,children:[(0,r.jsx)(i.X6q,{variant:"text-sm/bold",color:"header-primary",children:g.intl.string(g.t.cTQI5u)}),null!=O&&(0,r.jsx)(h.H,{chunks:O,color:i.TVs.colors.INTERACTIVE_NORMAL.css,onCopy:y})]}),(0,r.jsx)(d.b,{className:p.code,chunks:O,columns:f.WK}),(0,r.jsx)(i.Text,{variant:"text-xs/normal",color:"text-secondary",children:g.intl.format(g.t.wKxADQ,{helpArticle:(0,c.uV)()})})]})}},785792:function(e,t,n){n.d(t,{b:()=>c});var r=n(951288),l=n(647438),s=n(120356),i=n.n(s),a=n(481060),o=n(840937);function c(e){let{chunks:t,columns:n,className:s}=e,c=l.useMemo(()=>({"--secure-frames-columns":n}),[n]);return null==t?(0,r.jsx)("div",{className:o.loading,children:(0,r.jsx)(a.$jN,{})}):(0,r.jsx)("div",{style:c,className:i()(o.code,s),children:t.map((e,t)=>(0,r.jsx)("div",{className:i()(o.chunk,{[o.divider]:t>n-1}),children:(0,r.jsx)(a.Text,{className:o.codeText,variant:"code",color:"text-default",children:e})},"".concat(e,"-").concat(t)))})}},190054:function(e,t,n){n.d(t,{H:()=>d}),n(388685);var r=n(951288),l=n(647438),s=n(120356),i=n.n(s),a=n(481060),o=n(572004),c=n(388032),u=n(198473);function d(e){var{chunks:t,className:n,onCopy:s}=e,d=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["chunks","className","onCopy"]);let h=l.useMemo(()=>null==t?void 0:t.join(" "),[t]),[f,g]=l.useState(!1),p=l.useCallback(()=>{(0,o.JG)(h,()=>{g(!0),null==s||s()})},[s,h]),O=f?a.owK:a.TIy;return(0,r.jsx)(a.P3F,{className:i()(u.container,n),onClick:p,children:(0,r.jsx)(a.ua7,{text:f?c.intl.string(c.t["t5VZ8/"]):c.intl.string(c.t.OpuAlJ),children:e=>{var t,n;return(0,r.jsx)(O,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},d,e),n=n={size:"xxs",color:f?a.TVs.colors.TEXT_FEEDBACK_POSITIVE:a.TVs.colors.INTERACTIVE_NORMAL},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})})}},706619:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(951288),l=n(647438),s=n(311308),i=n(692547),a=n(481060);function o(e){let t=(0,l.useRef)(null),[n,o]=(0,l.useState)(null),[c]=(0,l.useState)(()=>new s.TimelineDataSeries),u=(0,a.dQu)(i.Z.colors.BACKGROUND_BASE_LOW).hsl(),d=(0,a.dQu)(i.Z.colors.TEXT_DEFAULT).hsl(),h=(0,a.dQu)(i.Z.colors.BACKGROUND_ACCENT).hsl(),f=(0,a.dQu)(i.Z.unsafe_rawColors.BRAND_500).hsl();(0,l.useEffect)(()=>{var e;let n=t.current;if(null==n)return;let r=new s.TimelineGraphView(n,null!=(e=window.devicePixelRatio)?e:1);r.backgroundColor=u,r.textColor=d,r.gridColor=h,r.timeOptions={timeStyle:"short"},r.fontFamily="gg sans",r.fontSize=11,c.setColor(f),r.addDataSeries(c),r.updateEndDate(),o(r)},[t,u,f,h,d,c]);let g=e.converter,p=null!=g?e.dataPoints.map(e=>{var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={value:g(e.value)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}):e.dataPoints;c.setPoints(p),null==n||n.updateEndDate();let O={width:e.width,height:e.height};return(0,r.jsx)("canvas",{style:O,width:e.width,height:e.height,ref:t},"canvas")}},352527:function(e,t,n){n.d(t,{Z:()=>u});var r,l,s=n(442837),i=n(570140);let a=!1,o=!1;class c extends(l=s.ZP.Store){get keepOpen(){return o}get enabled(){return a}}(r="displayName")in c?Object.defineProperty(c,r,{value:"SoundboardOverlayStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="SoundboardOverlayStore";let u=new c(i.Z,{SOUNDBOARD_SET_OVERLAY_ENABLED:function(e){if(a=e.enabled,e.enabled){var t;o=null!=(t=e.keepOpen)&&t}}})},964398:function(e,t,n){n.d(t,{Z:()=>p}),n(388685),n(415506);var r=n(951288),l=n(647438),s=n(392711),i=n.n(s),a=n(481060),o=n(65205),c=n(388032),u=n(504964);function d(e){let{className:t}=e;return(0,r.jsxs)("svg",{className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[(0,r.jsx)("g",{filter:"url(#a)",children:(0,r.jsx)("path",{d:"M30.4 8 24 14.4 17.6 8 16 9.6l6.4 6.4-6.4 6.4 1.6 1.6 6.4-6.4 6.4 6.4 1.6-1.6-6.4-6.4L32 9.6 30.4 8Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"a",x:"0",y:"0",width:"48",height:"48",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_605_72103"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_605_72103",result:"shape"})]})})]})}let h=[{x:.5,y:.05},{x:.95,y:.2},{x:1,y:.5},{x:.95,y:.8},{x:.5,y:.95},{x:.05,y:.8},{x:0,y:.5},{x:.05,y:.2}],f=h.length;function g(e,t,n){let r=e*t;return e>.5?r-n:e<.5?r:r-n/2}let p=l.memo(function(e){let{wheelWidth:t,wheelHeight:n,itemWidth:p,itemHeight:O,showDeadZoneIndicator:y,activeItem:x,onItemSelect:b,onItemAction:N,interactive:m=!0,onClose:E,children:C}=e,j=l.useRef(null),v=l.useRef([]),T=l.useRef(!1),I=l.useRef(null),[P,S]=l.useState(0),[_,R]=l.useState({x:0,y:0}),w=Math.abs(_.x)+Math.abs(_.y)>0,D=l.useMemo(()=>i().chunk(C,f),[C]),A=l.useCallback((e,t)=>{null==v.current[P]?v.current[P]=[]:v.current[P][t]=e},[P]),Z=l.useCallback((e,t)=>{I.current=t,b(f*e+t)},[b]),k=l.useCallback(()=>{I.current=null,b(null)},[b]),M=l.useCallback(e=>{k(),T.current=e},[k]),B=l.useCallback((e,t,n)=>{if(T.current)return void R({x:0,y:0});let r={x:e.x-t.x,y:e.y-t.y},l=r.x<0,s=r.y<0,i=((e,t)=>{let n=Math.abs(t.x),r=180/Math.PI*Math.atan2(Math.abs(t.y),n),l=e/2-28.8;return{x:Math.max(l*Math.cos(2*Math.PI*r/360),0),y:Math.max(l*Math.sin(2*Math.PI*r/360),0)}})(n,r);R({x:(l?Math.max(r.x,-i.x):Math.min(r.x,i.x))/2,y:(s?Math.max(r.y,-i.y):Math.min(r.y,i.y))/2})},[]),L=l.useCallback(e=>{null!=I.current&&(e.preventDefault(),e.stopPropagation(),null==N||N(f*P+I.current))},[N,P]),U=l.useMemo(()=>(0,s.throttle)(e=>{if(null==j.current)return;let r=j.current.getBoundingClientRect(),l={x:r.left+r.width/2,y:r.top+r.height/2},s={x:e.clientX,y:e.clientY};if(B(s,l,Math.max(t,n)),T.current){null!=x&&k();return}let i=(0,o.ld)(l,s,Math.max(t,n));for(let e=0;e<v.current[P].length;e++){let t=v.current[P][e];if(null==t)continue;let n=t.getBoundingClientRect();if((0,o.Vr)(l,i,n))return void Z(P,e)}k()},16),[x,B,k,Z,P,n,t]),V=l.useCallback(e=>{if(!m)return;let t=P+(e.deltaY>0?1:-1);t>=0&&t<D.length&&(null!=I.current&&(D[t].length>I.current?Z(t,I.current):k()),S(t))},[m,P,D,Z,k]),G=l.useMemo(()=>D[P].map((e,l)=>{let s=h[l];if(null==s)throw Error("Too many items supplied ".concat(C.length," expected max of ").concat(h.length));let i=g(s.x,t,p),a=g(s.y,n,O);return(0,r.jsx)("div",{ref:e=>A(e,l),className:u.chatWheelItem,style:{left:i,top:a,width:p,height:O},children:e},l)}),[D,P,t,p,n,O,C.length,A]);return(0,r.jsx)(a.P3F,{className:u.chatWheelMouseInput,onMouseMove:U,onWheel:V,onClick:L,children:(0,r.jsxs)("div",{ref:j,className:u.chatWheel,style:{width:t,height:n},children:[(0,r.jsxs)("svg",{className:u.chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"})]}),(0,r.jsxs)("g",{filter:"url(#soundboard-wheel-background-shadow)",children:[(0,r.jsx)("circle",{className:u.chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),y&&(0,r.jsx)("circle",{className:u.chatWheelDeadZone,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),cx:144,cy:144,r:28.8}),w&&(0,r.jsx)("circle",{className:u.chatWheelCenter,cx:144+_.x,cy:144+_.y,r:28.8})]}),y&&(0,r.jsx)("circle",{className:u.chatWheelDeadZone,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),cx:144,cy:144,r:28.8,stroke:"none"})]}),(0,r.jsxs)("div",{className:u.innerContent,children:[y&&(0,r.jsx)(a.P3F,{className:u.chatWheelDeadZoneIcon,onClick:E,children:(0,r.jsx)(d,{className:u.chatWheelDeadZoneIcon})}),m&&D.length>1?(0,r.jsx)("div",{className:u.paginationHint,children:c.intl.string(c.t["Xy+S09"])}):null]}),G]})})})},183584:function(e,t,n){n.d(t,{IN:()=>o,oZ:()=>c}),n(951288),n(647438);var r=n(570140),l=n(610394);n(238246),n(788983),n(592125),n(19780);var s=n(237997);n(998502),n(487029);var i=n(710111);n(981631),n(388032);let a={width:i.FW.width,height:i.FW.height,resizable:!1,movable:!1,alwaysOnTop:!0,frame:!1,transparent:!0,hasShadow:!1,skipTaskbar:!0,menubar:!0,backgroundColor:"#00000000",titleBarStyle:null};function o(e,t){let n=l.ZP.isOverlayV3EnabledForPID(t),i=s.default.disableClickableRegions;n||i||r.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!1,pid:t}),r.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",pid:t,enabled:!0,keepOpen:e})}function c(e){r.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",pid:e,enabled:!1});let t=l.ZP.isOverlayV3EnabledForPID(e),n=s.default.disableClickableRegions;s.default.isLocked(e)||t||n||r.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e})}i.FW.padding,a.width,a.height},487029:function(e,t,n){n.d(t,{Z:()=>E}),n(388685),n(642613),n(539854);var r=n(951288),l=n(647438),s=n(990547),i=n(442837),a=n(100527),o=n(906732),c=n(213609),u=n(675478),d=n(19780),h=n(709054),f=n(208049),g=n(763296),p=n(242291),O=n(174470),y=n(549771),x=n(964398),b=n(294206),N=n(710111),m=n(649093);function E(e){let{guildId:t,channel:n,width:E,height:C,keepOpen:j,interactive:v=!0,analyticsSource:T,onClose:I}=e,P=function(e){let[t,n]=(0,i.Wu)([g.Z],()=>[g.Z.getSounds(),g.Z.getFavorites()]);return l.useMemo(()=>{let r=[],l=[...e,N.X8],s=(e,l)=>{var s,i;for(let a of null!=(i=null==(s=t.get(e))?void 0:s.sort((e,t)=>h.default.compare(e.soundId,t.soundId)))?i:[]){let e=n.has(a.soundId);(e&&l||!e&&!l)&&a.available&&r.push(a)}};return l.forEach(e=>s(e,!0)),l.forEach(e=>s(e,!1)),r},[t,n,e])}((0,y.h)(n,!0)),S=(0,O.j)(),_=l.useRef(null),[R,w]=l.useState(void 0),D=(0,i.e7)([d.Z],()=>d.Z.getMediaSessionId()),{analyticsLocations:A}=(0,o.ZP)(a.Z.SOUNDBOARD_WHEEL),Z=l.useCallback(e=>{(0,p.GN)(e,n.id,A),I()},[A,n.id,I]);l.useEffect(()=>{f.w(),u.DZ.loadIfNecessary()},[]),l.useEffect(()=>{0===P.length&&0===S.length&&I()},[P.length,S,I]),l.useEffect(()=>()=>{let e=_.current;j||null==e||Z(e)},[j,Z]),(0,c.Z)({type:s.ImpressionTypes.POPOUT,name:s.ImpressionNames.SOUNDBOARD_POPOUT,properties:{source:T,guild_id:t,media_session_id:D}},{disableTrack:!v});let k=l.useCallback(e=>{_.current=e,w(null==e?void 0:e.soundId)},[]),M=l.useCallback(e=>{if(null==e)return void k(null);let t=P[e];null!=t&&k(t)},[k,P]),B=l.useCallback(e=>{if(null==e)return;let t=P[e];null!=t&&Z(t)},[P,Z]),L=l.useMemo(()=>P.map(e=>(0,r.jsx)(b.ZP,{interactive:v,className:m.soundButton,sound:e,focused:R===e.soundId,channel:n},e.soundId)),[R,n,v,P]);return 0===P.length?null:(0,r.jsx)(o.Gt,{value:A,children:(0,r.jsx)(x.Z,{wheelWidth:E,wheelHeight:C,itemWidth:96,itemHeight:52,showDeadZoneIndicator:!j,activeItem:R,onItemSelect:M,onItemAction:B,onClose:I,interactive:v,children:L})})}},606206:function(e,t,n){let r;n.d(t,{Z:()=>S}),n(388685),n(539854),n(781311),n(35282);var l,s=n(442837),i=n(570140),a=n(278323),o=n(212819),c=n(933557),u=n(592125),d=n(430824),h=n(293273),f=n(158776),g=n(699516),p=n(594174),O=n(55589),y=n(981631);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=[o.h8.TEXT_CHANNEL,o.h8.GROUP_DM,o.h8.USER],N=null,m=null,E=[],C=[];function j(e){E=[...E,e],C=C.map(e=>{var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}({},e),n=n={sent:E.includes(e.data.record.id)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}),P.emitChange()}function v(){N=null,null!=r&&(r.destroy(),r=null),null!=m&&m()}function T(){let e=null!=N&&null!=N.application_id?h.Z.getApplicationActivity(N.application_id):null;if(null!=N&&(null==e||null==e.party||null==e.party.id))return v()}class I extends(l=s.ZP.Store){initialize(){this.waitFor(h.Z)}getActivity(){return N}getQuery(){var e;return null!=(e=null==r?void 0:r.query)?e:""}getResults(){return C}}x(I,"displayName","ActivityInviteModalStore");let P=new I(i.Z,{ACTIVITY_INVITE_MODAL_OPEN:function(e){N=e.activity,m=e.resolve,E=[],null==r&&(r=new o.ZP((e,t)=>{C=(""===t.trim()?function(){let e=[];return O.Z.getPrivateChannelIds().forEach(t=>{let n=u.Z.getChannel(t);if(null!=n)if(n.type===y.d4z.DM){let t=n.getRecipientId(),r=null!=t?p.default.getUser(t):null;null!=r&&e.push({type:o.h8.USER,record:r,score:0})}else n.isMultiUserDM()&&e.push({type:o.h8.GROUP_DM,record:n,score:0})}),e}():e).map(e=>{switch(e.type){case o.h8.USER:{let{record:t}=e;return{type:o.h8.USER,sent:E.includes(t.id),status:f.Z.getStatus(t.id),data:e}}case o.h8.TEXT_CHANNEL:{var t;let{record:n}=e,r=u.Z.getChannel(n.parent_id),l=d.Z.getGuild(n.guild_id);return{type:o.h8.TEXT_CHANNEL,sent:E.includes(n.id),categoryName:null!=r?(0,c.F6)(r,p.default,g.Z):"",guildName:null!=(t=null==l?void 0:l.name)?t:"",data:e}}case o.h8.GROUP_DM:{let{record:t}=e;return{type:o.h8.GROUP_DM,sent:E.includes(t.id),data:e}}default:return null}}).filter(e=>null!=e),P.emitChange()},b,100)),r.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){let{query:t}=e;null!=r&&r.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){if(null==N)return;let t=e.channelId,n=e.userId;null!=t?a.Z.sendActivityInvite({channelId:t,type:y.mFx.JOIN,activity:N,location:"Channel Text Area - Invite to Join Modal"}).then(()=>j(t)):null!=n&&a.Z.sendActivityInviteUser({userId:n,type:y.mFx.JOIN,activity:N,location:"Channel Text Area - Invite to Join Modal"}).then(()=>j(n))},ACTIVITY_INVITE_MODAL_CLOSE:v,OVERLAY_SET_INPUT_LOCKED:function(e){let{locked:t}=e;return!!t&&null!=N&&(v(),!0)},LOCAL_ACTIVITY_UPDATE:T,RPC_APP_DISCONNECTED:T}),S=12633==n.j?P:null},362446:function(e,t,n){n.d(t,{Z:()=>h});var r,l,s=n(442837),i=n(570140),a=n(981631);let o={};function c(e){let t=o[e=null!=e?e:"null"];return null==t&&(t=o[e]={state:a.hes.DISCONNECTED,quality:a.IE4.UNKNOWN,pings:[],hostname:null,lossRate:null}),t}function u(e,t,n){let r=o[e=null!=e?e:"null"];return null!=r?t(r):n}class d extends(l=s.ZP.Store){getConnectionState(e){return u(e,e=>{let{state:t}=e;return t},a.hes.DISCONNECTED)}getQuality(e){return u(e,e=>{let{quality:t}=e;return t},a.IE4.UNKNOWN)}getHostname(e){return u(e,e=>{let{hostname:t}=e;return t},null)}getPings(e){return u(e,e=>{let{pings:t}=e;return t},[])}getAveragePing(e){let t=this.getPings(e);return 0===t.length?0:t.reduce((e,t)=>e+t.value,0)/t.length}getLastPing(e){var t;let n=this.getPings(e);return 0===n.length?0:null==(t=n[n.length-1])?void 0:t.value}getOutboundLossRate(e){return u(e,e=>{let{lossRate:t}=e;return t},null)}}(r="displayName")in d?Object.defineProperty(d,r,{value:"OverlayRTCConnectionStore",enumerable:!0,configurable:!0,writable:!0}):d[r]="OverlayRTCConnectionStore";let h=new d(i.Z,{OVERLAY_INITIALIZE:function(e){o=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;let t=c(e.lobbyId);t.state=e.state,t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){let t=c(e.lobbyId);t.pings=e.pings,t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){c(e.lobbyId).lossRate=e.lossRate}})},65205:function(e,t,n){function r(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function l(e,t,n,l){return r(e,n,l)!==r(t,n,l)&&r(e,t,n)!==r(e,t,l)}function s(e,t,n){let r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:t.x+(t.x-e.x)/r*n,y:t.y+(t.y-e.y)/r*n}}function i(e,t,n){let r={x:n.x,y:n.y},s={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},a={x:n.x+n.width,y:n.y+n.height};return l(e,t,r,s)||l(e,t,s,a)||l(e,t,a,i)||l(e,t,i,r)}n.d(t,{Vr:()=>i,ld:()=>s})},476221:function(e,t,n){n.d(t,{Z:()=>s}),n(35282);var r=n(981631),l=n(388032);let s={getStatus:function(e){let t,n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.hes.CONNECTING:t=r.QKv.CONNECTING,n=l.intl.string(l.t.MzW9sL);break;case r.hes.AUTHENTICATING:t=r.QKv.CONNECTING,n=l.intl.string(l.t.GxXwEx);break;case r.hes.AWAITING_ENDPOINT:t=r.QKv.CONNECTING,n=l.intl.string(l.t.xEbu0d);break;case r.hes.RTC_CONNECTED:t=r.QKv.CONNECTED,n=s?l.intl.string(l.t.HtVOdX):l.intl.string(l.t["daXg4+"]);break;case r.hes.RTC_CONNECTING:t=r.QKv.CONNECTING,n=l.intl.string(l.t.Gp51dn);break;case r.hes.ICE_CHECKING:t=r.QKv.CONNECTING,n=l.intl.string(l.t.rdCyAw);break;case r.hes.DTLS_CONNECTING:t=r.QKv.CONNECTING,n=l.intl.string(l.t.UvB3gY);break;case r.hes.NO_ROUTE:t=r.QKv.ERROR,n=l.intl.string(l.t.mGhOIi);break;case r.hes.RTC_DISCONNECTED:t=r.QKv.ERROR,n=l.intl.string(l.t.M7LDmJ);break;case r.hes.DISCONNECTED:default:t=r.QKv.ERROR,n=l.intl.string(l.t.NLKQb2)}return{connectionStatus:t,connectionStatusText:n}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}}}}]);
//# sourceMappingURL=9d06e7a4efbab475.js.map