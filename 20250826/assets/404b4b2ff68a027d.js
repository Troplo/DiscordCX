"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["5665"],{231443:function(e){e.exports="/assets/e56f37a3d877126f.svg"},176480:function(e){e.exports="/assets/e4f29c32b2c213bd.svg"},625065:function(e){e.exports="/assets/4f56a41d7fd9fb42.svg"},875184:function(e){e.exports="/assets/c22a0ed8d5e9e11c.svg"},691270:function(e){e.exports="/assets/8bddfdadf9554a3e.svg"},704139:function(e){e.exports="/assets/48a227fcbc1b9e88.svg"},306059:function(e){e.exports="/assets/7ff1cd1e855cacdc.svg"},281485:function(e){e.exports="/assets/1772d54cb566d95b.svg"},848304:function(e){e.exports="/assets/d2a42260ac1f3aca.svg"},268293:function(e){e.exports="/assets/5682f76b7c3741bd.svg"},780961:function(e){e.exports="/assets/f13bb5d4ef6ec865.svg"},359165:function(e){e.exports="/assets/664390de11a80444.svg"},362827:function(e){e.exports="/assets/783f084abb097497.svg"},883760:function(e){e.exports="/assets/0b31557cff3db10f.svg"},584354:function(e){e.exports="/assets/8f5262bfaa479264.svg"},705845:function(e){e.exports="/assets/88509e764c4cdeb4.svg"},725060:function(e){e.exports="/assets/4d020fd7fc4ea501.svg"},538548:function(e){e.exports="/assets/26c61c1ac309c2bc.svg"},191986:function(e){e.exports="/assets/018b37a2e805e6fd.png"},560580:function(e){e.exports="/assets/8dd0731fd54cedce.svg"},525377:function(e){e.exports="/assets/a51b44063e9d3bdb.svg"},296507:function(e){e.exports="/assets/30d1720360dd2c40.svg"},866402:function(e){e.exports="/assets/3a6a08a976f34e04.svg"},497224:function(e){e.exports="/assets/ca761ca633a6781b.svg"},238980:function(e){e.exports="/assets/f527baf3eeb3d2cb.svg"},192029:function(e){e.exports="/assets/b6c2e5ec03845c03.jpg"},527119:function(e){e.exports="/assets/f2e13fd1d0c497be.jpg"},800350:function(e){e.exports="/assets/b25bf228bf353ea9.svg"},708690:function(e,t,n){n.d(t,{Z:()=>i});var r=n(570140);let i={search(e,t){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:e,channelId:t})},clear(e){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:"",channelId:e})},select(e){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",row:e})},addUser(e){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",userId:e})},removeUser(e){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",userId:e})},open(e){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",channelId:e})},close(){r.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"})}}},771340:function(e,t,n){n.d(t,{Z:()=>a});var r=n(544891),i=n(570140),l=n(981631);let a={fetchRegions(e){r.tn.get({url:l.ANM.REGIONS(e),retries:1,oldFormErrors:!0,rejectWithError:!0}).then(t=>i.Z.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e}),()=>i.Z.dispatch({type:"LOAD_REGIONS",regions:[],guildId:e}))},changeCallRegion(e,t){r.tn.patch({url:l.ANM.CALL(e),body:{region:t},oldFormErrors:!0,rejectWithError:!0})}}},260300:function(e,t,n){n.d(t,{Z:()=>a});var r=n(544891),i=n(570140),l=n(981631);let a={show(e,t){i.Z.wait(()=>i.Z.dispatch({type:"TUTORIAL_INDICATOR_SHOW",tutorialId:e,renderData:t}))},hide(e){i.Z.wait(()=>i.Z.dispatch({type:"TUTORIAL_INDICATOR_HIDE",tutorialId:e}))},dismiss(e){i.Z.wait(()=>i.Z.dispatch({type:"TUTORIAL_INDICATOR_DISMISS",tutorialId:e})),r.tn.put({url:l.ANM.TUTORIAL_INDICATOR(e),oldFormErrors:!0,rejectWithError:!0})},suppressAll(){i.Z.dispatch({type:"TUTORIAL_INDICATOR_SUPPRESS_ALL"}),r.tn.post({url:l.ANM.TUTORIAL_INDICATORS_SUPPRESS,oldFormErrors:!0,rejectWithError:!0})}}},966390:function(e,t,n){n.d(t,{Z:()=>a});var r=n(570140),i=n(703558),l=n(62817);let a={cancel(e,t){r.Z.dispatch({type:"UPLOAD_CANCEL_REQUEST",channelId:e,file:t});let n=l.Z.getMessageForFile(t.id);null!=n&&""===i.Z.getDraft(n.channel_id,i.d.ChannelMessage)&&r.Z.dispatch({type:"DRAFT_SAVE",channelId:n.channel_id,draft:n.content,draftType:i.d.ChannelMessage})}}},23536:function(e,t,n){n.d(t,{Z:()=>_}),n(784620),n(973216);var r=n(951288),i=n(647438),l=n(442837),a=n(780384),o=n(481060),s=n(332148),c=n(493773),u=n(198620),d=n(210887),p=n(624453),h=n(306680),f=n(494404),m=n(257559),g=n(388032);let b=[];function _(e){let{channel:t,onJump:_}=e,{items:y,state:C}=(0,l.cj)([p.Z],()=>{var e,n;let r=p.Z.getPins(t.id);return{items:null!=(e=null==r?void 0:r.items)?e:b,state:null!=(n=null==r?void 0:r.state)?n:p.M.LOADING}}),x=i.useMemo(()=>y.map(e=>e.message),[y]),v=(0,l.e7)([h.ZP],()=>h.ZP.hasUnreadPins(t.id));i.useEffect(()=>{v&&s.Z.ackPins(t.id)},[v,t.id]),(0,c.ZP)(()=>{x.some(u.k5)&&s.Z.fetchPins(t.id,{reset:!0})});let O=i.useCallback(()=>{s.Z.fetchPins(t.id)},[t.id]),j=i.useCallback(()=>{var e;s.Z.fetchPins(t.id,{before:null==(e=y.at(-1))?void 0:e.pinnedAt})},[t.id,y]),E=(0,l.e7)([d.Z],()=>(0,a.ap)(d.Z.theme));return(0,r.jsx)(o.VqE,{"aria-label":g.intl.string(g.t["mp1N//"]),children:(0,r.jsx)(f.ZP,{channel:t,onFetch:O,messages:x,loading:C===p.M.LOADING,hasMore:C===p.M.LOADED_HAS_MORE,analyticsName:"Channel Pins",renderEmptyState:function(){if(y.length>0)return;let e=g.intl.string(t.isPrivate()?g.t.rhqcbG:g.t.fmyaWF),i=E?n(306059):n(281485);return(0,r.jsx)(f.nH,{msg:e,image:i},"emptystate")},renderHeader:()=>(0,r.jsx)(f.h4,{icon:o.qQX,title:g.intl.string(g.t["mp1N//"])}),onCloseMessage:function(e,n){null!=e&&(n.shiftKey?s.Z.unpinMessage(t,e.id):m.Z.confirmUnpin(t,e))},onJump:_,loadMore:j,getProTip:function(){return t.isPrivate()?g.intl.string(g.t["3dLGAg"]):g.intl.string(g.t.KTbRcn)},listName:"pins"})})}},377993:function(e,t,n){n.d(t,{Z:()=>M}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(873546),a=n(442837),o=n(481060),s=n(239091),c=n(144144),u=n(100527),d=n(906732),p=n(385499),h=n(545957),f=n(82295),m=n(850020),g=n(670188),b=n(158776),_=n(699516),y=n(111583),C=n(594174),x=n(626135),v=n(585483),O=n(233870),j=n(51144),E=n(998502),S=n(276264),I=n(981631),P=n(388032),Z=n(32482);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let N=[],A=E.ZP.getEnableHardwareAcceleration();function w(e){let{user:t,channel:o,status:u,activities:d}=e,p=(0,a.e7)([y.Z],()=>null!=y.Z.getTypingUsers(o.id)[t.id]),f=(0,a.e7)([C.default],()=>C.default.getCurrentUser()),x=(0,a.e7)([b.Z],()=>b.Z.isMobileOnline(t.id)),O=(0,a.e7)([_.Z],()=>_.Z.getNickname(t.id)),E=(0,h.Z)(t.id),Z=i.useRef(null),N=e=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("49062")]).then(n.bind(n,354589));return n=>{var i,l;return(0,r.jsx)(e,(i=T({},n),l=l={user:t,channel:o},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},w=()=>{let e="@".concat(j.ZP.getUserTag(t,{decoration:"never"})),n="<@".concat(t.id,">");v.S.dispatch(I.CkL.TEXTAREA_FOCUS,{channelId:o.id}),v.S.dispatchToLastSubscribed(I.CkL.INSERT_TEXT,{plainText:e,rawText:n}),c.Z.startTyping(o.id)},R=(0,m.K)({user:t}),[M,D]=i.useState(!1);return(0,r.jsx)(g.Z,{targetElementRef:Z,user:t,channelId:o.id,position:l.tq?"window_center":"left",spacing:16,onShiftClick:w,shouldShow:M,onRequestClose:()=>D(!1),children:e=>{var{onClick:n,onMouseDown:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick","onMouseDown"]);return(0,r.jsx)(S.Z,T({ref:Z,user:t,currentUser:f,isOwner:t.id===o.ownerId,ownerTooltipText:P.intl.string(P.t["MRXZ+/"]),shouldAnimateStatus:A,isTyping:p,status:u,activities:d,applicationStream:E,channel:o,onContextMenu:N,selected:M,isMobile:x,nick:O,nameplate:R,onClick:e=>{e.shiftKey?null==w||w():D(e=>!e)},onMouseDown:e=>{M?e.stopPropagation():null==i||i(e)}},l),t.id)}})}function R(e,t){if(e.listItems.length!==t.listItems.length)return!1;for(let n=0;n<e.listItems.length;n++){let r=e.listItems[n],i=t.listItems[n];if(r.user!==i.user||r.status!==i.status||r.activities!==i.activities)return!1}return!0}function M(e){let{channel:t}=e,n=C.default.getCurrentUser(),l=null==n?void 0:n.isStaff(),{analyticsLocations:s}=(0,d.ZP)(u.Z.MEMBER_LIST),{listItems:c}=(0,a.e7)([_.Z,C.default,b.Z],()=>{let e=(0,O.T)(t.recipients,C.default),n={};for(let t of e){var r,i,l;_.Z.isFriend(t.id)||t.id===(null==(r=C.default.getCurrentUser())?void 0:r.id)?n[t.id]={status:null!=(i=b.Z.getStatus(t.id))?i:I.Skl.OFFLINE,activities:null!=(l=b.Z.getActivities(t.id))?l:N}:n[t.id]={status:I.Skl.OFFLINE,activities:N}}let a=[];for(let t of e){let e={user:t,status:n[t.id].status,activities:n[t.id].activities};a.push(e)}return{listItems:a}},[t],R);i.useEffect(()=>{x.default.track(I.rMx.MEMBER_LIST_VIEWED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})},[t.guild_id,t.id,t.type]);let h=l&&c.every(e=>e.user.isStaff());return(0,r.jsx)(d.Gt,{value:s,children:(0,r.jsx)("div",{className:Z.container,children:(0,r.jsx)("aside",{className:Z.membersWrap,children:(0,r.jsxs)(o.Ttm,{className:Z.members,fade:!0,children:[(0,r.jsxs)(f.Z,{className:Z.membersGroup,children:["".concat(P.intl.string(P.t["9Oq93t"]),"—").concat(c.length," "),h&&(0,r.jsx)(p.Z,{type:p.Z.Types.STAFF_ONLY_DM})]}),c.map(e=>(0,r.jsx)(w,{user:e.user,status:e.status,activities:e.activities,channel:t},e.user.id))]})})})})}},944543:function(e,t,n){n.d(t,{Z:()=>y}),n(704826),n(35282),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(771340),u=n(600164),d=n(903223),p=n(388032),h=n(397660);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m={position:"bottom",autoInvert:!1},g=e=>{let{region:t,className:n=h.regionSelectName}=e,i=t.name.replace(/ \(VIP\)$/,"");return(0,r.jsx)("div",{className:n,children:i})};class b extends i.PureComponent{render(){let{region:e,selected:t}=this.props;return(0,r.jsxs)(u.Z,{align:u.Z.Align.CENTER,className:a()({selected:t}),children:[(0,r.jsx)(g,{region:e,className:h.regionSelectName}),t?(0,r.jsx)("i",{className:h.check}):null]})}}class _ extends i.PureComponent{componentDidMount(){null==this.props.regions&&c.Z.fetchRegions(null)}render(){let{regions:e}=this.props;if(null==e)return null;let t=this.getSelectedRegion(),n={label:t.name,value:t},i=e.filter(e=>!e.deprecated&&!e.hidden).map(e=>({label:e.name,value:e,key:e.id}));return(0,r.jsx)(s.nsm,{className:h.root,label:p.intl.string(p.t.w8gMqq),options:i,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:m,popoutClassName:h.regionSelectPopout})}constructor(...e){super(...e),f(this,"renderOption",(e,t)=>(0,r.jsx)(b,{region:e.value,selected:t},e.value.id)),f(this,"getSelectedRegion",()=>{var e;let{regions:t,call:n}=this.props;return n.regionUpdated&&null!=t&&null!=n.region?null!=(e=t.find(e=>{let{id:t}=e;return t===n.region}))?e:{name:n.region,id:n.region}:{id:"automatic",name:p.intl.string(p.t.JEmsam),vip:!1,deprecated:!1,hidden:!1}}),f(this,"handleChangeVoiceRegion",e=>{let{value:t}=e,{channelId:n}=this.props.call;c.Z.changeCallRegion(n,t.id)})}}let y=o.ZP.connectStores([d.Z],()=>({regions:d.Z.getRegions(null)}))(_)},697309:function(e,t,n){n.d(t,{li:()=>r,nT:()=>o,p8:()=>a,qO:()=>l,zx:()=>i});let r=264,i=432,l=375,a=12633==n.j?76:null,o="resizable-sidebar-width-2"},457868:function(e,t,n){n.d(t,{Z:()=>Q}),n(388685),n(583741);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(91192),u=n(924826),d=n(873546),p=n(442837),h=n(481060),f=n(239091),m=n(144144),g=n(607070),b=n(100527),_=n(906732),y=n(82295),C=n(91218),x=n(623624),v=n(518738),O=n(850020),j=n(965376),E=n(159299),S=n(670188),I=n(199902),P=n(271383),Z=n(485386),T=n(158776),N=n(885110),A=n(111583),w=n(594174),R=n(499033),M=n(626135),D=n(585483),L=n(700785),k=n(51144),U=n(998502),B=n(276264),F=n(981631),G=n(388032),H=n(61722),V=n(32482);function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let W=U.ZP.getEnableHardwareAcceleration(),q=44+B.x,Y=i.memo(function(e){let{channel:t,sectionId:l,userId:a,guildOwnerId:o}=e,s=i.useRef(null),u=(0,p.e7)([A.Z],()=>A.Z.isTyping(t.id,a)),h=(0,p.e7)([P.ZP],()=>P.ZP.getMember(t.guild_id,a)),g=(0,p.e7)([Z.Z],()=>{var e;return(null==h?void 0:h.colorRoleId)!=null?null==(e=Z.Z.getRole(t.guild_id,h.colorRoleId))?void 0:e.name:void 0},[t.guild_id,h]),b=(0,p.e7)([w.default],()=>w.default.getUser(a)),_=(0,p.e7)([w.default],()=>w.default.getCurrentUser()),y=(null==b?void 0:b.id)===(null==_?void 0:_.id),C=(0,p.e7)([T.Z,N.Z],()=>y?N.Z.getStatus():T.Z.getStatus(a,t.guild_id)),v=(0,p.e7)([T.Z],()=>T.Z.isMobileOnline(a)),j=(0,p.e7)([T.Z,N.Z],()=>y?N.Z.getActivities():T.Z.getActivities(a,t.guild_id)),R=(0,p.e7)([I.Z],()=>I.Z.getAnyStreamForUser(a)),M=(0,c.JA)(a),L=(0,p.e7)([E.Z],()=>E.Z.canUserViewChannel(t.id,l,a)),U=(null==b?void 0:b.id)!=null&&b.id===o,H=i.useCallback(e=>{null!=b&&(0,f.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return n=>{var i,l;return(0,r.jsx)(e,(i=z({},n),l=l={user:b,guildId:t.guild_id,channel:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[b,t]),V=i.useCallback(()=>{if(null==b)return;let e="@".concat(k.ZP.getUserTag(b,{decoration:"never"})),n="<@".concat(b.id,">");D.S.dispatch(F.CkL.TEXTAREA_FOCUS,{channelId:t.id}),D.S.dispatchToLastSubscribed(F.CkL.INSERT_TEXT,{plainText:e,rawText:n}),m.Z.startTyping(t.id)},[b,t]),q=i.useCallback(e=>{e.stopPropagation(),(0,x.f)({guildId:t.guild_id,location:{section:F.jXE.THREAD_MEMBER_LIST,object:F.qAy.BOOST_GEM_ICON}})},[t.guild_id]),Y=(0,O.K)({user:b,guildId:t.guild_id,location:"ThreadMembers"}),[K,X]=i.useState(!1);if(null==b)return null;let Q=null==h?void 0:h.premiumSince;return(0,r.jsx)(S.Z,{targetElementRef:s,user:b,guildId:t.guild_id,channelId:t.id,position:d.tq?"window_center":"left",spacing:16,onShiftClick:V,shouldShow:K,onRequestClose:()=>X(!1),children:e=>{var{onClick:n,onMouseDown:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick","onMouseDown"]);return(0,r.jsx)(B.Z,z({ref:s,onContextMenu:H,shouldAnimateStatus:W,user:b,currentUser:_,nick:null==h?void 0:h.nick,status:C,activities:j,colorString:null==h?void 0:h.colorString,colorStrings:null==h?void 0:h.colorStrings,colorRoleName:g,isTyping:u,channel:t,guildId:t.guild_id,isMobile:v,selected:K,applicationStream:R,premiumSince:null==Q?null:new Date(Q),onClickPremiumGuildIcon:q,itemProps:M,lostPermissionTooltipText:L?void 0:G.intl.string(G.t["/QcoT0"]),isOwner:U,nameplate:Y,onClick:e=>{e.shiftKey?null==V||V():X(e=>!e)},onMouseDown:e=>{K?e.stopPropagation():null==i||i(e)}},l))}})}),K=i.memo(function(e){let{id:t,label:n,count:i,guildId:l}=e,a=(0,v.p9)({roleId:t,guildId:l,size:16});return t===F.Skl.UNKNOWN?(0,r.jsx)("div",{className:V.membersGroup,children:(0,r.jsx)("div",{className:V.memberGroupsPlaceholder})}):(0,r.jsxs)(y.Z,{className:V.membersGroup,"aria-label":G.intl.formatToPlainString(G.t.UaqbkZ,{title:n,count:i}),children:[null!=a?(0,r.jsx)(C.Z,z({className:V.roleIcon},a)):null,(0,r.jsxs)("span",{"aria-hidden":!0,children:[n," — ",i]})]})}),X=i.memo(function(e){let{channel:t}=e;return t.type===F.d4z.PRIVATE_THREAD?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:H.divider}),(0,r.jsxs)(h.Text,{variant:"text-xs/bold",color:"header-secondary",className:H.private,children:[(0,r.jsx)(h.mBM,{size:"xxs",color:"currentColor"}),"\xa0",G.intl.string(G.t.BTLTAg)]}),(0,r.jsx)(h.Text,{variant:"text-sm/normal",color:"header-secondary",className:H.instructions,children:G.intl.string(G.t.Hsd8hI)})]}):null});function Q(e){let{channel:t,guild:n}=e,l="members-".concat(t.id),{analyticsLocations:o}=(0,_.ZP)(b.Z.MEMBER_LIST),d=(0,j.D)(t.id,n),f=d.filter(e=>e.userIds.length>0).reverse()[0],{navigator:m,listRef:y}=function(e,t){let n=(0,p.e7)([g.Z],()=>g.Z.keyboardModeEnabled),r=i.useRef(null),l=i.useCallback((e,n)=>{let i=r.current;if(null==i)return;let l=parseInt(n,10),[a,o]=i.getSectionRowFromIndex(l),s=0===a&&0===o?t:0;i.scrollToIndex({section:a,row:o,padding:s,callback:()=>{requestAnimationFrame(()=>{var t;return null==(t=document.querySelector(e))?void 0:t.focus({preventScroll:!0})})}})},[t]),a=i.useCallback(()=>new Promise(e=>{let t=r.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),o=i.useCallback(()=>new Promise(e=>{let t=r.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]);return{navigator:(0,u.ZP)({id:e,setFocus:l,isEnabled:n,scrollToStart:a,scrollToEnd:o}),listRef:r}}(l,q),C=0===d.length||d.every(e=>0===e.userIds.length);if(i.useEffect(()=>{M.default.track(F.rMx.MEMBER_LIST_VIEWED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})},[t.guild_id,t.id,t.type]),C)return(0,r.jsx)(J,{channel:t});let x=s().omit(m.containerProps,["ref"]),v=L.iJ(n);return(0,r.jsx)(_.Gt,{value:o,children:(0,r.jsx)(c.bG,{navigator:m,children:(0,r.jsx)(h.Wdt,{children:e=>(0,r.jsx)("div",{className:a()(V.membersWrap,V.hiddenMembers,H.container),children:(0,r.jsx)(h.aVo,z({ref:y,className:V.members,paddingTop:0,sectionHeight:40,renderSection:e=>{let{section:t}=e,i=d[t];return(0,r.jsx)(K,{id:i.id,label:i.label,count:i.userIds.length,guildId:n.id},i.id)},rowHeight:q,renderRow:e=>{let{section:n,row:i}=e,{userIds:l,id:a}=d[n];return(0,r.jsx)(Y,{channel:t,sectionId:a,userId:l[i],guildOwnerId:v},l[i])},footerHeight:e=>80*(d[e]===f&&t.type===F.d4z.PRIVATE_THREAD),renderFooter:e=>d[e.section]===f?(0,r.jsx)(X,{channel:t},"footer"):null,innerAriaLabel:G.intl.string(G.t["9Oq93t"]),innerTag:"ul",sections:d.map(e=>e.userIds.length),fade:!0},x,e),l)})})})})}function J(e){let{channel:t}=e;return(0,r.jsxs)("div",{className:a()(V.membersWrap,V.hiddenMembers,V.members,H.emptyState),children:[(0,r.jsx)(h.Text,{className:H.emptyStateHeader,variant:"text-xs/bold",color:"interactive-normal",children:G.intl.string(G.t["9Oq93t"])}),(0,r.jsxs)("div",{className:H.emptyStateIconContainer,children:[(0,r.jsx)("div",{className:H.emptyStateIcon,children:(0,r.jsx)(h.BFJ,{size:"lg",color:"currentColor"})}),(0,r.jsx)(R.Z,{className:H.emptyStateStars})]}),(0,r.jsx)(h.X6q,{variant:"heading-md/semibold",children:t.isForumPost()?G.intl.string(G.t.p0UgNT):G.intl.string(G.t["9/n5v7"])}),(0,r.jsx)(h.Text,{className:H.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary",children:G.intl.string(G.t.emw8UF)})]})}},744061:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(692547),a=n(780384),o=n(755721),s=n(481060),c=n(367907),u=n(210887),d=n(626135),p=n(981631),h=n(388032),f=n(150599),m=n(430864);function g(e){let{onClose:t,onConfirm:g,onCancel:b,channel:_,analyticsType:y,popoutText:C,animation:x}=e;i.useEffect(()=>{d.default.track(p.rMx.OPEN_POPOUT,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:y},(0,c.v_)(_)))},[y,_]);let v=i.useCallback(()=>{null==g||g(),t()},[g,t]),O=i.useCallback(()=>{null==b||b(),t()},[b,t]),j=i.useRef(null);return i.useEffect(()=>{let e,t=u.Z.theme,r=!1;return null!=x&&(async()=>{let[{default:i},l]=await Promise.all([Promise.resolve().then(n.t.bind(n,500923,23)),(0,a.wj)(t)?x.dark():x.light()]);r||null==j.current||(e=i.loadAnimation({container:j.current,renderer:"svg",loop:!0,autoplay:!0,animationData:l}))})(),()=>{r=!0,null!=e&&(e.destroy(),e=void 0)}},[x]),(0,r.jsx)(s.VqE,{"aria-labelledby":"content-warning-popout-label",children:(0,r.jsxs)("form",{className:f.contentWarningPopout,onSubmit:v,children:[(0,r.jsxs)("div",{className:f.body,children:[null!=x&&(0,r.jsx)("div",{className:f.animation,ref:j}),(0,r.jsxs)("div",{className:f.content,children:[(0,r.jsx)("div",{className:f.header,children:h.intl.string(h.t.mY3Y39)}),(0,r.jsx)(s.Text,{id:"content-warning-popout-label",className:m.markup,variant:"text-sm/normal",children:C.body}),(0,r.jsxs)("div",{className:f.buttonWrapper,children:[(0,r.jsxs)("div",{className:f.buttonContainer,children:[(0,r.jsx)(o.zx,{className:f.button,color:o.zx.Colors.PRIMARY,onClick:O,children:h.intl.string(h.t.fsBWmZ)}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:f.buttonHint,children:h.intl.format(h.t["0LzVPT"],{})})]}),(0,r.jsxs)("div",{className:f.buttonContainer,children:[(0,r.jsx)(o.zx,{className:f.button,onClick:v,type:"submit",autoFocus:!0,children:h.intl.string(h.t.KJnHq6)}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:f.buttonHint,children:h.intl.format(h.t.khjqdH,{})})]})]})]})]}),null!=C.footer&&""!==C.footer?(0,r.jsxs)("div",{className:f.footer,children:[(0,r.jsx)(s.d3s,{size:"xs",color:l.Z.unsafe_rawColors.PRIMARY_400.css,className:f.icon}),(0,r.jsx)(s.Text,{variant:"text-sm/normal",children:C.footer})]}):null]})})}},561472:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(622822),o=n(998698),s=n(933557),c=n(703558),u=n(731290),d=n(607744),p=n(819640),h=n(496675),f=n(699516),m=n(594174),g=n(585483),b=n(127654),_=n(205822),y=n(731994),C=n(981631),x=n(388032);let v=function(e){let{className:t,style:n,channel:v,draftType:O}=e,[j,E]=i.useState(!0),S=(0,l.e7)([p.Z],()=>p.Z.hasLayers()),I=(0,l.e7)([h.Z],()=>null!=v&&h.Z.can(C.Plq.ATTACH_FILES,v),[v]),P=null!=(0,l.e7)([o.Z],()=>o.Z.getActiveCommand(v.id)),Z=v.getGuildId(),T=O===c.d.FirstThreadMessage,N=(0,l.e7)([m.default],()=>{var e;return!0==!(null==(e=m.default.getCurrentUser())?void 0:e.nsfwAllowed)}),A=(0,l.e7)([u.Z],()=>u.Z.didAgree(Z))&&!N,w=i.useMemo(()=>!S&&(v.isPrivate()&&!v.isManaged()||null!=Z&&(!(0,a.aC)(v)||A)&&I&&d.Z.canChatInGuild(Z)),[I,A,v,Z,S]),R=T?C.TPd.GUILD_THREADS_ONLY.has(v.type)?x.intl.string(x.t.RBBLhI):x.intl.string(x.t.gUx4en):j?x.intl.format(x.t.dYP2FR,{destination:(0,s.F6)(v,m.default,f.Z,!0)}):x.intl.string(x.t.h76ulJ);return P||!w?null:(0,r.jsx)(_.Z,{className:t,style:n,title:R,description:T?x.intl.string(x.t.lpgkzs):x.intl.string(x.t.usQh4O),icons:y.J6,onDrop:e=>{if(P)return!1;w&&null!=v&&((0,b.d5)(e,v,O,{requireConfirm:j,showLargeMessageDialog:!1,origin:"drag_drop"}),g.S.dispatchToLastSubscribed(C.CkL.TEXTAREA_FOCUS))},onDragClear:()=>E(!0),onDragOver:e=>{if(P)return!1;T||e.shiftKey!==j||E(!e.shiftKey)}})}},36311:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(749210),d=n(168107),p=n(480916),h=n(622822),f=n(986035),m=n(601964),g=n(594174),b=n(63063),_=n(981631),y=n(723359),C=n(388032),x=n(118177);function v(e){let{guild:t,channelId:n}=e,l=(0,o.e7)([g.default],()=>{var e;return(null==(e=g.default.getCurrentUser())?void 0:e.nsfwAllowed)===!1}),a=(0,h.Kt)(),{verifyAgreementButtonText:c,verifyGateDescription:v}=(0,h.a1)((0,m.Y2)(t)?y.L0.NSFW_SERVER:y.L0.NSFW_CHANNEL),O=i.useCallback(()=>{null!=t&&u.Z.nsfwReturnToSafety(t.id)},[t]),j=i.useCallback(()=>{null!=t&&u.Z.nsfwAgree(t.id)},[t]),E=i.useCallback(()=>{d.Z.showAgeVerificationGetStartedModal(p.cU.NSFW_GUILD)},[]),S=(0,m.Y2)(t),I=C.intl.string(S?C.t.xi46lp:C.t.ZmwvDQ);return a?(0,r.jsx)(f.Z,{guildId:null==t?void 0:t.id,channelId:n,modalType:p.it.NSFW_CHANNEL_AGE_VERIFY,onAgree:E,onDisagree:O,title:I,description:v,agreement:c,agreementButtonColor:s.zx.Colors.BRAND,disagreement:C.intl.string(C.t["/g10LC"]),imageClassName:x.ageGatedImage}):l?(0,r.jsx)(f.Z,{guildId:null==t?void 0:t.id,channelId:n,modalType:p.it.NSFW_CHANNEL_UNDERAGE,onAgree:j,onDisagree:O,title:C.intl.string(S?C.t["H0SG/v"]:C.t.NEabBQ),description:C.intl.format(S?C.t["6++3cX"]:C.t["2kHZen"],{helpURL:b.Z.getArticleURL(_.BhN.NSFW_AGE_GATING)}),agreement:null,disagreement:C.intl.string(C.t["/g10LC"]),imageClassName:x.ageGatedImage}):(0,r.jsx)(f.Z,{guildId:null==t?void 0:t.id,channelId:n,modalType:p.it.NSFW_CHANNEL_VERIFIED,onAgree:j,onDisagree:O,title:I,description:C.intl.string(S?C.t.ZtuRtr:C.t.E4Cd5O),agreement:C.intl.string(C.t.wVq7ur),disagreement:C.intl.string(C.t["/g10LC"])})}let O=function(e){let{guild:t,channelId:n,className:l}=e,o=i.useRef(null);return i.useEffect(()=>{let{current:e}=o;null==e||e.scrollToBottom()},[]),(0,r.jsx)(c.Den,{ref:o,className:x.scroller,children:(0,r.jsx)("div",{className:a()(l,x.wrapper),children:(0,r.jsx)(v,{guild:t,channelId:n})})})}},888651:function(e,t,n){if(n.d(t,{$:()=>h,Q:()=>p}),12633==n.j)var r=n(620632);var i=n(692785),l=n(749210),a=n(430824),o=n(496675),s=n(979651),c=n(938475),u=n(981631);let d="DRAGGABLE_USER";function p(e){return(0,r.G)(d,{canDrop(e){var t,n;let{channel:r}=e,i=r.getGuildId(),l=null!=(n=null==(t=a.Z.getGuild(i))?void 0:t.maxVideoChannelUsers)?n:-1,d=c.ZP.countVoiceStatesForChannel(r.id),p=null!=i&&s.Z.hasVideo(r.id)&&l>0&&d>=l+1;return o.Z.can(u.Plq.MOVE_MEMBERS,r)&&o.Z.can(u.Plq.CONNECT,r)&&!p},drop(e,t){let{channel:n}=e,r=s.Z.getVoiceStateForUser(t.getItem().user.id);(null==r?void 0:r.channelId)!==n.id&&l.Z.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},(e,t)=>({connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}))(e)}function h(e){return(0,i.E)(d,{canDrag(e){let{user:t,canDrag:n}=e;return null!=n&&n},beginDrag(e){let{user:t}=e;return{user:t}}},e=>({connectUserDragSource:e.dragSource()}))(e)}},257502:function(e,t,n){n.d(t,{_:()=>o});var r=n(951288),i=n(647438),l=n(709014);let a={click:{name:"click",start:0,duration:66},hover:{name:"hover",start:90,duration:40}},o=()=>{let e=i.useRef(null),t=i.useCallback(()=>{null!=e.current&&e.current.play("click")},[]),o=i.useCallback(()=>{null!=e.current&&e.current.play("hover")},[]),s=i.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("hover")},[]),c=i.useCallback(t=>{var i,o;return(0,r.jsx)(l.L,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),o=o={src:()=>n.e("76994").then(n.t.bind(n,146891,19)),ref:e,markers:a},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))}),i))},[]);return{events:{onMouseEnter:o,onMouseLeave:s},play:t,getDuration:i.useCallback(()=>{var t;return null==(t=e.current)?void 0:t.getDuration()},[]),getCurrentFrame:i.useCallback(()=>{var t,n;return null!=(n=null==(t=e.current)?void 0:t.getCurrentFrame())?n:null},[]),Component:c}}},9145:function(e,t,n){n.d(t,{Z:()=>H}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(993365),c=n(481060),u=n(153867),d=n(110924),p=n(607070),h=n(367907),f=n(900211),m=n(740492),g=n(871499),b=n(402113),_=n(800965),y=n(592125),C=n(271383),x=n(944486),v=n(594174),O=n(585483),j=n(51144),E=n(566620),S=n(317381),I=n(619915),P=n(988980),Z=n(16609),T=n(952561),N=n(563218),A=n(884338),w=n(617552),R=n(719296),M=n(225639),D=n(651612),L=n(918559),k=n(981631),U=n(388032),B=n(33985);let F=A.u8.SIZE_32,G={[L.MI.NO_CHAT]:B.noChat,[L.MI.RESIZABLE]:B.resizable};function H(e){var t,n,l;let{maxHeight:H,connectedLocation:V,renderExternalHeader:z}=e,W=(0,T.Z)(),q=(0,o.Wu)([S.ZP],()=>S.ZP.getEmbeddedActivitiesForLocation(V),[V]),Y=(0,Z.p)(V),K=(0,o.e7)([y.Z],()=>y.Z.getChannel(Y)),X=(0,I.gb)(q),Q=(0,I.uF)(X),J=i.useCallback(()=>{(0,E.tg)(L.Ez.PIP)},[]),$=i.useRef(null),ee=(0,o.e7)([S.ZP],()=>S.ZP.getFocusedLayout()),et=ee!==L.MI.NO_CHAT,[en,er]=i.useState(null!=(n=null!=(t=m.ZP.activityPanelHeight)?t:H)?n:null),ei=i.useCallback(e=>{u.ZP.updatedUnsyncedSettings({activityPanelHeight:e})},[]),el=i.useRef(null),[ea,eo]=i.useState({width:0,height:0});i.useLayoutEffect(()=>{if(null==el.current)return;let e=new ResizeObserver(()=>{var e,t,n,r;eo({width:null!=(n=null==(e=el.current)?void 0:e.clientWidth)?n:0,height:null!=(r=null==(t=el.current)?void 0:t.clientHeight)?r:0})});return e.observe(el.current),()=>e.disconnect()},[]);let es=ea.width/Math.max(ea.height,1)<L.I0,ec=0,eu=0,ed=(0,P.Z)(null==W?void 0:W.id);if(!ed){let e=ea.width,t=ea.height;es?((t=ea.width/L.I0)>ea.height&&(e=(t=ea.height)*L.I0),eu=(ea.height-t)/2):((e=Math.min(ea.height*L.I0))>ea.width&&(t=(e=ea.width)/L.I0),ec=(ea.width-e)/2)}let ep=Q.get(null!=(l=null==W?void 0:W.id)?l:""),eh=(0,o.e7)([x.Z],()=>x.Z.getChannelId()),ef=(0,o.Wu)([C.ZP],()=>{var e;return null==K?[]:Array.from(null!=(e=null==ep?void 0:ep.embeddedActivity.userIds)?e:[]).map(e=>C.ZP.getMember(K.guild_id,e))},[ep,K]),em=i.useMemo(()=>{let e=new Map;return ef.forEach(t=>{null!=t&&void 0!==t&&e.set(t.userId,t)}),e},[ef]),eg=function(e,t,n){let r=(0,d.Z)(e),l=e!==r,[a,o]=i.useState(!1);i.useEffect(()=>{o(!0);let e=setTimeout(()=>o(!1),50);return()=>clearTimeout(e)},[e]);let s=!p.Z.useReducedMotion&&(l||a);return i.useMemo(()=>{var r,i;let l=s?{transitionProperty:"height, max-height",transitionDuration:"".concat(50,"ms"),transitionTimingFunction:"ease-in-out"}:void 0;return e&&null!=t&&null!=n?(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},l),i=i={minHeight:200,maxHeight:n,height:t},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r):l},[s,e,n,t])}(et,en,H),eb=(0,M.y)();if(null==W)return null;let e_=[];null!=ep&&(e_=Array.from(ep.embeddedActivity.userIds).map(e=>v.default.getUser(e)).filter(e=>null!=e&&void 0!==e));let ey=e=>{var t;if(null==e||void 0===e||e===A.ag)return null;let n=em.get(e.id),i=null!=(t=null==n?void 0:n.nick)?t:j.ZP.getName(e);return(0,r.jsx)(c.DY3,{text:i,position:"bottom",children:(0,r.jsx)("img",{src:e.getAvatarURL(null==K?void 0:K.guild_id,F),alt:i,className:B.avatar},e.id)},e.id)};return(0,r.jsx)(c.f6W,{theme:k.BRd.DARK,children:e=>(0,r.jsxs)("div",{className:a()(B.wrapper,G[ee],e),ref:$,style:eg,children:[null==z?void 0:z(),(0,r.jsxs)("div",{className:B.activityPanelContainer,children:[et?null:(0,r.jsx)("div",{className:B.header,children:(0,r.jsx)(s.x,{color:"header-primary",variant:"text-md/semibold",className:B.headerTitle,children:null==W?void 0:W.name})}),(0,r.jsx)("div",{className:a()(B.activityContainer,{[B.activityContainerNoMargin]:ed}),style:{paddingLeft:ec,paddingRight:ec,paddingTop:eu,paddingBottom:eu},ref:el,children:(0,r.jsx)(N.Z,{className:B.iframe,embedId:(0,R.Z)(V.id,W.id)})}),null!=eh?(0,r.jsxs)("div",{className:B.footer,children:[(0,r.jsx)(A.ZP,{renderIcon:!1,users:e_,size:F,max:6,renderUser:ey}),(0,r.jsxs)("div",{className:B.footerButtons,children:[(0,r.jsxs)("div",{className:B.buttonSection,children:[(0,r.jsx)(D.Z,{channelId:eh}),(0,r.jsx)(g.d,{isTrayButton:!0,label:U.intl.string(U.t.brPQ5e),onClick:J,iconComponent:c.dOc,themeable:!0})]}),(0,r.jsx)("div",{className:B.leaveButtonContainer,children:(0,r.jsx)(b.Z,{applicationId:W.id,location:V,centerButton:!0,color:"disconnect"})})]}),eb?(0,r.jsx)(_.Z,{popoutOpen:!1,onOpenPopout:()=>{(0,h.yw)(k.rMx.ACTIVITY_POPOUT_POP_OUT_BUTTON_CLICKED),(0,w.Z)({onConfirm:E.Gj})},onClosePopout:()=>{}}):null]}):null]}),et&&null!=H?(0,r.jsx)(f.Z,{minHeight:480,maxHeight:H,resizableNode:$,onResize:e=>{O.S.dispatch(k.CkL.MANUAL_IFRAME_RESIZING,{resizing:!0}),er(e)},onResizeEnd:e=>{O.S.dispatch(k.CkL.MANUAL_IFRAME_RESIZING,{resizing:!1}),ei(e)}}):null]})})}},82888:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(399606),l=n(522474),a=n(595519),o=n(317381),s=n(16609),c=n(917107),u=n(9145),d=n(918559),p=n(981631);function h(e){let{maxHeight:t,renderExternalHeader:n}=e,{connectedChannelId:h,connectedActivity:f,activityPanelMode:m}=(0,i.cj)([o.ZP],()=>{let e=o.ZP.getConnectedActivityLocation(),t=o.ZP.getSelfEmbeddedActivityForLocation(e);return{connectedChannelId:(0,s.p)(e),connectedActivity:t,activityPanelMode:o.ZP.getActivityPanelMode()}}),g=(0,i.e7)([l.Z],()=>l.Z.getWindowOpen(p.KJ3.ACTIVITY_POPOUT));if(!(0,a.NX)(h))return null;let b=null==f?void 0:f.applicationId;return m!==d.Ez.PANEL||null==b||g||null==h||null==f||(0,c.Z)(h)?null:(0,r.jsx)(u.Z,{maxHeight:t,connectedLocation:f.location,renderExternalHeader:n})}},651612:function(e,t,n){n.d(t,{Z:()=>y}),n(539854);var r=n(951288),i=n(647438),l=n(392711),a=n(442837),o=n(481060),s=n(481051),c=n(871499),u=n(306680),d=n(111583),p=n(459273),h=n(566620),f=n(317381),m=n(918559),g=n(981631),b=n(388032),_=n(332139);function y(e){var{channelId:t,className:n}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channelId","className"]);let C=i.useRef(null),x=(0,a.e7)([f.ZP],()=>f.ZP.getFocusedLayout()===m.MI.RESIZABLE),v=i.useCallback(()=>{let e=x?m.MI.NO_CHAT:m.MI.RESIZABLE;(0,h.gC)(e)},[x]),{unreadCount:O,mentionCount:j}=function(e){let t=(0,a.e7)([d.Z],()=>!(0,l.isEmpty)(d.Z.getTypingUsers(e)),[e]),{unreadCount:n,mentionCount:r}=(0,a.cj)([u.ZP],()=>({unreadCount:u.ZP.getUnreadCount(e),mentionCount:u.ZP.getMentionCount(e)}),[e]);return{unreadCount:n,mentionCount:r,isTyping:t}}(t),E=i.useCallback(()=>{var e;null==(e=C.current)||e.focus()},[]);(0,p.yp)({event:g.CkL.FOCUS_CHAT_BUTTON,handler:E});let S=x?b.intl.string(b.t["5MstTk"]):b.intl.string(b.t.kkKapK),I=[S];j>0&&I.push(b.intl.formatToPlainString(b.t["3l1GOz"],{mentionCount:j})),O>0&&I.push(b.intl.string(b.t.x5zAGR));let P=(0,a.e7)([f.ZP],()=>f.ZP.getFocusedLayout()),Z=j>0?j:O,T=Z>0;return(0,r.jsxs)("div",{className:_.wrapper,children:[(0,r.jsx)(c.d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({isTrayButton:!0,buttonRef:C,onClick:v,label:S,"aria-label":I.join(", "),tooltipPosition:"top",iconComponent:P===m.MI.NO_CHAT?o.sXD:o.hic,themeable:!0,className:n},y)),T?(0,r.jsx)(s.Z,{hasMentions:j>0,truncatedCount:Z>99?"99+":Z,className:_.badge}):null]})}},596040:function(e,t,n){n.d(t,{Z:()=>o});var r=n(647438),i=n(566620),l=n(790920),a=n(451576);function o(e,t){let n=(0,l.z)(),o=(0,a.Z)(t),s=null!=e&&""!==e||o;return r.useEffect(()=>{s&&n&&(0,i.w1)({guildId:e})},[e,n,s]),s&&n}},314490:function(e,t,n){n.d(t,{p:()=>s});var r=n(647438),i=n(442837),l=n(416587),a=n(566620),o=n(317381);let s=e=>{let{surface:t,skipFetchingShelf:n=!0}=e,s=(0,i.e7)([o.ZP],()=>o.ZP.getState());return(0,r.useEffect)(()=>{var e;(null==(e=s.lastCheckedForBadgeableActivities)||new Date(e).getTime()<Date.now()-432e5)&&!n&&(0,a.w1)({guildId:null})},[s.lastCheckedForBadgeableActivities,n]),(0,r.useMemo)(()=>(0,l.O)({storeState:s,surface:t}),[s,t])}},931056:function(e,t,n){n.d(t,{Z:()=>d}),n(539854),n(388685);var r=n(647438),i=n(442837),l=n(417438),a=n(360787),o=n(158776);let s=[],c=[],u=[];function d(e,t){let[n,d]=function(e,t){let[n,l]=r.useMemo(()=>(function(e,t){if(!t.isPrivate())return[u,c];let n=e.filter(e=>{var t,n;return(null==(t=e.application)?void 0:t.id)!=null&&(null==(n=e.activity)?void 0:n.party_id)!=null}),r=n.map(e=>e.id);return[n,r]})(e,t),[e,t]),a=(0,i.Wu)([o.Z],()=>{let e=[];return n.forEach(t=>{null!=o.Z.findActivity(t.author.id,e=>{var n,r,i;return e.application_id===(null==(n=t.application)?void 0:n.id)&&(null==(r=e.party)?void 0:r.id)===(null==(i=t.activity)?void 0:i.party_id)},null,!0)&&e.push(t.id)}),e},[n]);return[l,r.useMemo(()=>(function(e,t){if(0===e.length)return s;let n=[];return e.forEach(e=>{var r,i;let l=null==(r=e.application)?void 0:r.id,a=null==(i=e.activity)?void 0:i.party_id;if(e.id in t||null==l||null==a)return;let o=e.timestamp.getTime(),s={userId:e.author.id,applicationId:l,partyId:a,messageId:e.id,channelId:e.channel_id,inviteTime:o};n.push(s)}),n})(n,a),[n,a])]}(e,t);return r.useEffect(()=>{for(let e of d)a.Z.isSubscribed(e)||(0,l.L)(e)},[d]),[n,d]}},451576:function(e,t,n){n.d(t,{Z:()=>l});var r=n(399606),i=n(592125);function l(e){var t;let n=(0,r.e7)([i.Z],()=>i.Z.getChannel(e));return null!=(t=null==n?void 0:n.isPrivate())&&t}},296797:function(e,t,n){n.d(t,{Z:()=>p});var r=n(647438),i=n(592125),l=n(944486),a=n(585483),o=n(16609),s=n(917107),c=n(89425),u=n(197386),d=n(981631);function p(e){let{onTransition:t}=e;r.useEffect(()=>{async function e(e){let{location:n}=e,r=(0,o.p)(n);if(null==r||!(0,s.Z)(r))return;l.Z.getVoiceChannelId()!==r&&await (0,c.Z)({channelId:r});let a=i.Z.getChannel(r),d=null==a?void 0:a.guild_id;setTimeout(()=>{(0,u.Z)(d,n),null==t||t()},0)}return a.S.subscribe(d.CkL.OPEN_EMBEDDED_ACTIVITY,e),()=>{a.S.unsubscribe(d.CkL.OPEN_EMBEDDED_ACTIVITY,e)}},[t])}},526846:function(e,t,n){n.d(t,{m:()=>k}),n(997841),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(772848),s=n(535655),c=n(973693),u=n(706527),d=n(442837),p=n(481060),h=n(40851),f=n(607070),m=n(100527),g=n(906732),b=n(783097),_=n(226026),y=n(397698),C=n(895924),x=n(471518),v=n(425986),O=n(216780),j=n(390322),E=n(857192),S=n(626135),I=n(456100),P=n(566620),Z=n(127255),T=n(5200),N=n(558317),A=n(981631),w=n(388032),R=n(201512);let M=c.Y.APP_LAUNCHER_IN_VOICE_BANNER,D="vc-activities-".concat((0,o.Z)());function L(e){var t;let n,{channel:l,openInPopout:a,onClick:o}=e,{fetchState:c,voiceBannerCollection:h}=function(){let e=(0,d.e7)([E.default],()=>E.default.onlyShowPreviewAppCollections)?s.E.PREVIEW:s.E.ACTIVE;return i.useEffect(()=>{(0,x.XK)({surface:M,activeState:e})},[e]),{fetchState:(0,d.e7)([v.Z],()=>v.Z.getFetchState({surface:M,activeState:e})),voiceBannerCollection:(0,d.e7)([v.Z],()=>v.Z.getCollections({surface:M,activeState:e}))[0]}}(),f=c===v.M.FETCHING,g=i.useMemo(()=>{let e=null==h?void 0:h.application_directory_collection_items[0];return null==e?null:e.type===u.C.APPLICATION_BANNER?e:null},[null==h?void 0:h.application_directory_collection_items]),{trackItemImpressionRef:C}=(0,_.Z)({applicationId:null!=(t=null==g?void 0:g.application.id)?t:"",applicationFlags:null==g?void 0:g.application.flags,sectionName:"app_launcher_in_voice_banner",sectionPosition:null==g?void 0:g.position,sectionOverallPosition:0,promotionalLabel:null!=g?(0,b.dF)(g.application):void 0});return null==g||null==h||f?null:(null!=g.id&&null!=g.image_hash&&(n=(0,O.$_)({itemId:g.id,hash:g.image_hash,containerWidth:584})),(0,r.jsxs)(p.P3F,{className:R.clickableBanner,innerRef:C,onClick:()=>{o(),(0,y.Z)({context:{type:"channel",channel:l},openInPopout:a,analyticsLocation:m.Z.APP_LAUNCHER_IN_VOICE_BANNER,initialState:{applicationId:g.application.id}})},children:[(0,r.jsx)("img",{alt:g.description,src:n,className:R.poster}),(0,r.jsx)("div",{className:R.posterDivider})]}))}let k=i.forwardRef(function(e,t){var n;let{channel:l,isHovered:o,closePopout:s,onMouseEnter:c,onMouseLeave:u,onClick:b,className:_}=e,x=(0,d.e7)([f.Z],()=>f.Z.useReducedMotion),{id:v,guild_id:O}=l;i.useEffect(()=>{S.default.track(A.rMx.ACTIVITIES_CENTER_CONTROL_TRAY_BUTTON_HOVERED,{channel_id:v,guild_id:O})},[v,O]),i.useEffect(()=>{o||s()},[s,o]);let E=(0,h.bp)(),{analyticsLocations:M,newestAnalyticsLocation:k}=(0,g.ZP)(m.Z.ACTIVITIES_MINI_SHELF),U=E===A.IlC.POPOUT,B=(n=l.getGuildId(),(0,Z.Z)({guildId:n}).slice(0,5));i.useEffect(()=>{let e=setTimeout(()=>P.ux(),1e3);return()=>clearTimeout(e)},[]);let{enabled:F}=I.c.useExperiment({location:"ActivitiesMiniShelf"},{autoTrackExposure:!0}),G=i.useCallback(()=>{(0,y.Z)({context:null!=l?{type:"channel",channel:l}:{type:"contextless"},openInPopout:U,analyticsLocation:k}),u(),b()},[l,k,b,u,U]),H=i.useCallback(e=>{c(),S.default.track(A.rMx.ACTIVITIES_MINI_SHELF_HOVERED,{channel_id:l.id,guild_id:l.getGuildId()})},[c,l]),V=F?p.iWm:p.nG3;return(0,r.jsx)(g.Gt,{value:M,children:(0,r.jsx)(j.Z,{children:(0,r.jsxs)(p.VqE,{ref:t,"aria-labelledby":D,className:_,children:[(0,r.jsx)(p.y5t,{forceLevel:2,children:(0,r.jsx)(p.nn4,{children:(0,r.jsx)(p.H,{id:D,children:w.intl.string(w.t["2lnYtL"])})})}),(0,r.jsxs)("div",{className:R.container,onMouseEnter:H,onMouseLeave:u,children:[(0,r.jsxs)("div",{className:R.titleContainer,children:[(0,r.jsxs)("div",{className:R.titleLeft,children:[(0,r.jsx)(V,{size:"md",className:R.titleLeftIcon,color:"var(--interactive-active)"}),(0,r.jsx)(p.Text,{variant:"eyebrow",children:w.intl.string(w.t.f3Cz29)})]}),(0,r.jsxs)(p.P3F,{className:R.titleRight,onClick:G,children:[(0,r.jsx)(p.Text,{variant:"eyebrow",children:w.intl.string(w.t["K8+z4e"])}),(0,r.jsx)(p.Fbu,{size:"custom",width:12,height:12,color:"var(--interactive-active)",className:R.titleRightIcon})]})]}),(0,r.jsx)(L,{openInPopout:U,channel:l,onClick:()=>{b(),s()}}),(0,r.jsxs)("div",{className:R.activityContainer,children:[B.map(e=>(0,r.jsx)(T.Y,{context:{channel:l,type:"channel"},activityItem:e,onClick:()=>{s(),b()},aspectRatio:T.Y.AspectRatio.THIRTEEN_BY_ELEVEN,animatedDivClass:R.activitySuggestion,commandOrigin:C.bB.MINI_SHELF},e.application.id)),(0,r.jsx)("div",{className:a()(R.wumpusRocketOuterContainer,{[R.wumpusReducedMotion]:x}),children:(0,r.jsx)("div",{className:R.wumpusRocketInnerContainer,children:(0,r.jsx)(N.Z,{className:R.wumpusRocket})})})]})]})]})})})})},5200:function(e,t,n){n.d(t,{Y:()=>C}),n(388685);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(202841),c=n(481060),u=n(542094),d=n(182906),p=n(556505),h=n(513202),f=n(981631),m=n(388032),g=n(748788);let b=["embedded_cover"],_={tension:800,friction:24};var y=((r=y||{})[r.THIRTEEN_BY_ELEVEN=0]="THIRTEEN_BY_ELEVEN",r[r.SIXTEEN_BY_NINE=1]="SIXTEEN_BY_NINE",r);function C(e){var t;let{context:n,activityItem:r,onClick:a,aspectRatio:y=0,animatedDivClass:C,commandOrigin:x}=e,{onActivityItemSelected:v,imageBackground:O,activityAction:j,labelType:E}=(0,u.ZP)({context:n,activityItem:r,guildId:null!=(t=n.channel.getGuildId())?t:void 0,locationObject:{},onActivityItemSelected:a,embeddedActivitiesManager:h.Z,assetNames:b,commandOrigin:x}),[S,I]=l.useState(!1),P=l.useCallback(()=>{I(!0)},[I]),Z=l.useCallback(()=>{I(!1)},[I]),T=l.useMemo(()=>(0,i.jsx)("div",{className:g.overlayBadge,children:(0,i.jsx)("div",{className:g.badgeContainer,children:(0,i.jsx)(p.Z,{labelType:E})})}),[E]),N=l.useMemo(()=>{switch(j){case u.JS.JOIN:return(0,i.jsx)("div",{className:g.activityAction,children:(0,i.jsx)("div",{className:g.activityActionButton,children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"always-white",children:m.intl.string(m.t.VJlc0d)})})});case u.JS.LEAVE:return(0,i.jsx)("div",{className:g.activityAction,children:(0,i.jsx)("div",{className:o()(g.activityActionButton,g.activityActionButtonDanger),children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"always-white",children:m.intl.string(m.t["wH/wDA"])})})});case u.JS.START:default:return null}},[j]);return(0,i.jsx)(c.P3F,{onClick:v,onFocus:P,onBlur:Z,onMouseEnter:P,onMouseLeave:Z,className:g.activityItemButtonInnerClass,children:(0,i.jsx)(c.AMe,{config:_,from:{value:0},to:{value:+!!S},children:e=>{let{value:t}=e;return(0,i.jsx)(c.f6W,{theme:f.BRd.DARK,children:e=>(0,i.jsxs)(s.animated.div,{className:o()(e,g.activityItem,C,{[g.activityItem_13_11]:0===y,[g.activityItem_16_9]:1===y}),style:{transform:t.to([0,1],[1,1.05]).to(e=>"scale(".concat(e,")"))},children:[(0,i.jsx)(d.Z,{imageBackground:O,applicationName:r.application.name,imageClassName:g.activitySuggestionImage,imageNotFoundClassName:g.brokenImageIconWrapper}),T,N]})})}})})}C.AspectRatio=y},119315:function(e,t,n){n.d(t,{r:()=>o});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(969183);let o=e=>{let{left:t,top:n=0,right:i=0,bottom:o,size:s=8,alert:c=!1,showBlurpleTreatment:u=!1,maskColor:d=2,additionalStyles:p}=e;return(0,r.jsx)("span",{className:l()(a.dot,{[a.alert]:c,[a.blurpleTreatment]:u,[a.maskPopout]:0===d,[a.maskPrimary]:1===d,[a.maskSecondary]:2===d,[a.maskBlack]:3===d,[null!=p?p:""]:void 0!==p}),style:{height:s,width:s,left:t,top:n,right:i,bottom:o}})}},558317:function(e,t,n){n.d(t,{Z:()=>i});var r=n(951288);n(647438);let i=e=>{var t,n;return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({viewBox:"0 0 500 350",xmlns:"http://www.w3.org/2000/svg"},e),n=n={children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"linear-gradient",x1:137.05,y1:259.98,x2:172.2,y2:237.66,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-2",x1:146.1,y1:114.65,x2:204.28,y2:84.63,gradientTransform:"matrix(-.99 .13 .13 .99 416 -12.92)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#7196ff"}),(0,r.jsx)("stop",{offset:.2,stopColor:"#6990fc"}),(0,r.jsx)("stop",{offset:.49,stopColor:"#547ff4"}),(0,r.jsx)("stop",{offset:.67,stopColor:"#4572ee"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-3",x1:167.18,y1:156.28,x2:118.66,y2:238.11,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#ff8c19"}),(0,r.jsx)("stop",{offset:.55,stopColor:"#ffe75c"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-4",x1:125.79,y1:287.01,x2:241.87,y2:290.82,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:.95,stopColor:"#ff8c19"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-5",x1:323.47,y1:303.47,x2:284.74,y2:147.93,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.08,stopColor:"#717f8e"}),(0,r.jsx)("stop",{offset:1,stopColor:"#d3d7db"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-6",x1:211.38,y1:109.6,x2:273.39,y2:77.6,gradientTransform:"matrix(-.8 .6 .6 .8 325.62 -103.19)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.32,stopColor:"#7196ff"}),(0,r.jsx)("stop",{offset:.43,stopColor:"#6a90fc"}),(0,r.jsx)("stop",{offset:.74,stopColor:"#5b84f6"}),(0,r.jsx)("stop",{offset:1,stopColor:"#5680f4"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-7",x1:-96.32,y1:138.47,x2:-101.4,y2:109.82,gradientTransform:"scale(-1 1) rotate(14.5 27.61 -552.62)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#4572ee"}),(0,r.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,r.jsx)("linearGradient",{id:"linear-gradient-8",x1:-39.5,y1:59.37,x2:-44.66,y2:30.24,gradientTransform:"matrix(-.98 .17 .17 .98 119.49 49.25)",xlinkHref:"#linear-gradient-7"}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-9",x1:299.25,y1:167.71,x2:244.21,y2:161.69,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.32,stopColor:"#4572f0"}),(0,r.jsx)("stop",{offset:.52,stopColor:"#4d79f3"}),(0,r.jsx)("stop",{offset:.84,stopColor:"#638bfa"}),(0,r.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-10",x1:423.96,y1:48.35,x2:363.72,y2:139.3,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,r.jsx)("style",{children:".cls-3{fill:#ff78b9}.cls-6{fill:#ed5f00}.cls-12{fill:#7196ff}.cls-16{fill:#b6cbff}.cls-18{fill:#7fa0ff}.cls-21{fill:#5783ff}.cls-24{fill:#8e99a5}"})]}),(0,r.jsx)("path",{d:"M391.43 240.7a19.35 19.35 0 0 1-8.76-13.59l-1.46-9.49a1 1 0 0 0-.31-.59.85.85 0 0 0-1.24 0 1 1 0 0 0-.31.59l-1.45 9.49a19.66 19.66 0 0 1-8.76 13.59l-1.26.79a.92.92 0 0 0-.3.35.9.9 0 0 0-.1.45.87.87 0 0 0 .1.45.92.92 0 0 0 .3.35l1.26.79a19.71 19.71 0 0 1 8.76 13.6l1.45 9.48a1 1 0 0 0 .32.57 1 1 0 0 0 1.23 0 .93.93 0 0 0 .31-.57l1.46-9.48a19.34 19.34 0 0 1 8.76-13.6l1.26-.79a1 1 0 0 0 .3-.35 1 1 0 0 0 .1-.45 1 1 0 0 0-.4-.8Z",style:{fill:"#57f287"}}),(0,r.jsx)("path",{d:"M79.4 119.28a19.34 19.34 0 0 1-8.76-13.6l-1.46-9.48a1 1 0 0 0-.31-.6.87.87 0 0 0-1.24 0 1.06 1.06 0 0 0-.31.6l-1.45 9.48a19.71 19.71 0 0 1-8.76 13.6l-1.26.79a.92.92 0 0 0-.3.35.87.87 0 0 0-.1.45.9.9 0 0 0 .1.45.83.83 0 0 0 .3.34l1.26.8a19.66 19.66 0 0 1 8.76 13.59l1.45 9.48a1 1 0 0 0 .32.58 1 1 0 0 0 1.23 0 .92.92 0 0 0 .31-.58l1.46-9.48a19.49 19.49 0 0 1 2.89-7.75 19.24 19.24 0 0 1 5.87-5.84l1.26-.8a.83.83 0 0 0 .3-.34 1 1 0 0 0 .1-.45 1 1 0 0 0-.1-.45.92.92 0 0 0-.3-.35Z",style:{fill:"#8cd9ff"}}),(0,r.jsx)("path",{className:"cls-3",d:"M424.29 277.52a13.59 13.59 0 0 1-4.15-4.12 13.85 13.85 0 0 1-2-5.48l-1-6.69a.66.66 0 0 0-1.31 0l-1 6.69a13.88 13.88 0 0 1-6.18 9.6l-.9.56a.72.72 0 0 0-.21.25.71.71 0 0 0-.07.32.68.68 0 0 0 .28.56l.9.56a13.88 13.88 0 0 1 6.18 9.6l1 6.7a.64.64 0 0 0 .22.4.67.67 0 0 0 .87 0 .64.64 0 0 0 .22-.4l1-6.7a13.85 13.85 0 0 1 2-5.48 13.7 13.7 0 0 1 4.15-4.12l.89-.56a.68.68 0 0 0 .28-.56.71.71 0 0 0-.07-.32.72.72 0 0 0-.21-.25ZM312.67 50.64a13.7 13.7 0 0 1-4.14-4.13 13.46 13.46 0 0 1-2-5.47l-1-6.7a.75.75 0 0 0-.22-.42.6.6 0 0 0-.88 0 .69.69 0 0 0-.22.42l-1 6.7a13.84 13.84 0 0 1-6.18 9.6l-.89.56a.69.69 0 0 0-.21.24.77.77 0 0 0 0 .64.61.61 0 0 0 .21.24l.89.57a13.79 13.79 0 0 1 6.18 9.6l1 6.69a.73.73 0 0 0 .23.41.69.69 0 0 0 .86 0 .73.73 0 0 0 .23-.41l1-6.69a13.65 13.65 0 0 1 6.18-9.6l.89-.57a.61.61 0 0 0 .21-.24.77.77 0 0 0 0-.64.69.69 0 0 0-.21-.24Z"}),(0,r.jsx)("path",{d:"M117 223.15s27.1-4.4 40.07 12.51 18.76 54.19-27.79 56.74c0 0 6.25-3.94 7.41-14.82 0 0-26.64 26.86-60.68 6.25 0 0 9-4.56 16.68-29.87C99.58 231.38 127 233.8 127 233.8s-2.6-5.55-10-10.65Z",style:{fill:"#eb459f"}}),(0,r.jsx)("path",{className:"cls-3",d:"M126.3 258.49s21.35-38.36 36.1-21.1c12.3 14.39 1.6 29.8-36.1 21.1Z"}),(0,r.jsx)("path",{d:"M140.49 210.84a39.73 39.73 0 0 1 36.29 70.69l-.24.12L140.25 211Z",style:{fill:"url(#linear-gradient)"}}),(0,r.jsx)("path",{className:"cls-6",d:"M185.46 233.56a1.25 1.25 0 1 0-1.08-2.25l-27 13 1.14 2.22ZM146.66 223.45c7.56-2.8 21.64-6.61 35.13-2.62a1.25 1.25 0 0 0 .71-2.4c-14.5-4.28-29.23-.2-37 2.75ZM193.82 240.23a1.25 1.25 0 0 0-2.41-.69c-4 14-15.42 24.07-21.73 28.74l1.17 2.28c6.51-4.72 18.63-15.19 22.97-30.33Z"}),(0,r.jsx)("path",{d:"M272.84 128.72c7.42.14 15.65-.7 25.48-1.7a9.76 9.76 0 1 0-2-19.41c-16.47 1.68-25.41 2.46-32.79.33-7.11-2-14.09-7.29-25.76-19.35a9.76 9.76 0 1 0-14 13.57c12.12 12.52 22.1 21 34.38 24.53a56.21 56.21 0 0 0 14.69 2.03Z",style:{fill:"url(#linear-gradient-2)"}}),(0,r.jsx)("path",{d:"M213.51 175.69 180.61 154a69.42 69.42 0 0 0-48.86-10.64l-14 2.17a4.88 4.88 0 0 0-2.09 8.78l51.53 36.94Z",style:{fill:"url(#linear-gradient-3)"}}),(0,r.jsx)("path",{d:"M247.56 242 246 281.4a69.31 69.31 0 0 1-19.83 45.9l-9.9 10.08a4.88 4.88 0 0 1-8.35-3.42v-63.41Z",style:{fill:"url(#linear-gradient-4)"}}),(0,r.jsx)("path",{d:"m195.12 271.32-35.64-69.44a6.69 6.69 0 0 1 2.89-9l172.52-88.56s35.91-16.82 74.81 4.87a13 13 0 0 1 6.63 12.81c-4.86 41.79-39.68 63.62-39.68 63.62l-172.52 88.6a6.69 6.69 0 0 1-9.01-2.9Z",style:{fill:"url(#linear-gradient-5)"}}),(0,r.jsx)("circle",{cx:311.18,cy:167.88,r:30.46}),(0,r.jsx)("path",{className:"cls-6",d:"M311.22 200.86a33 33 0 1 1 15-3.66 33 33 0 0 1-15 3.66Zm-.09-60.94a28 28 0 1 0 24.93 15.19 27.82 27.82 0 0 0-24.93-15.19Z"}),(0,r.jsx)("path",{d:"M213.42 126c7-3.71 14.22-8.75 22.86-14.78a10.4 10.4 0 1 0-11.9-17C209.9 104.24 202 109.6 194 111.44c-7.69 1.78-16.91.51-34-4.69a10.4 10.4 0 0 0-6 19.9c17.77 5.4 31.46 8.12 44.74 5a59.84 59.84 0 0 0 14.68-5.65Z",style:{fill:"url(#linear-gradient-6)"}}),(0,r.jsx)("path",{className:"cls-12",d:"M261.69 121.31c-2.89-11.31-5-17.25-13.46-28.37l-46.85 10.53c-1.67 25.92-6.72 34.81-5.67 43.93.83 7.25 8.38 18.18 23 18.42s21.94-9 32.9-16.55 12.55-18.27 10.08-27.96Z"}),(0,r.jsx)("path",{d:"M192.19 32.35c-12.59 2.17-3 15.4.4 18l29.55-7.24c-18.83-1.33-20.14-12.46-29.95-10.76Z",style:{fill:"#55ef84"}}),(0,r.jsx)("path",{d:"M205.44 47.31a1.23 1.23 0 0 1-.9-.38c-.14-.15-15-15.27-25.26-12.12a1.25 1.25 0 1 1-.73-2.39c11.73-3.59 27.14 12.1 27.79 12.77a1.25 1.25 0 0 1 0 1.77 1.27 1.27 0 0 1-.9.35Z"}),(0,r.jsx)("path",{d:"M230.71 38.82c8.19-3.11 15.33-22.12 1.67-26.55a15.5 15.5 0 0 0-8.25-.24c-22.91 5.18-6.34 30.84-25.54 35.31Z",style:{fill:"#47c26e"}}),(0,r.jsx)("path",{d:"M217.22 46.26a1.26 1.26 0 0 1-1.12-.7 1.24 1.24 0 0 1 .56-1.67c10.32-5.15 10.89-20.58 10.89-20.74a1.23 1.23 0 0 1 1.29-1.21 1.24 1.24 0 0 1 1.21 1.28c0 .7-.6 17.09-12.28 22.91a1.23 1.23 0 0 1-.55.13Z"}),(0,r.jsx)("path",{d:"M253.05 45.91c12-1.77 15.64-3.67 18.58 16 2.73 17.52.16 16.89-14 18.91Z",style:{fill:"url(#linear-gradient-7)"}}),(0,r.jsx)("path",{className:"cls-16",d:"M255.39 50c8.39-1.24 11.08-4.17 13 11.17 1.55 12.32.11 11.83-9.82 13.24Z"}),(0,r.jsx)("path",{className:"cls-12",d:"M194.32 38.29h43.29A25.74 25.74 0 0 1 263.35 64v20.2a20.59 20.59 0 0 1-20.59 20.59h-50.49a20.59 20.59 0 0 1-20.59-20.59V60.93a22.64 22.64 0 0 1 22.64-22.64Z",transform:"matrix(-.99 .17 -.17 -.99 443.95 105.64)"}),(0,r.jsx)("ellipse",{cx:191.65,cy:67.44,rx:4.15,ry:4.98,transform:"rotate(-10.19 191.598 67.447)"}),(0,r.jsx)("path",{className:"cls-16",d:"M215.13 55.86h20.38a13.26 13.26 0 0 1 13.26 13.26v7.29a9.45 9.45 0 0 1-9.45 9.45h-28a9.45 9.45 0 0 1-9.45-9.45v-7.29a13.26 13.26 0 0 1 13.26-13.26Z",transform:"rotate(170.35 225.325 70.857)"}),(0,r.jsx)("ellipse",{cx:253.68,cy:56.65,rx:4.15,ry:4.98,transform:"rotate(-10.19 253.608 56.64)"}),(0,r.jsx)("path",{d:"M213.51 92.38a49.86 49.86 0 0 1-7.2-1.71 1.22 1.22 0 0 0-1.52 1.55c1.48 4.27 5.12 12 9.63 1.86a1.21 1.21 0 0 0-.91-1.7Z"}),(0,r.jsx)("path",{d:"M213.09 96.62c-3.15 4.93-5.76 1.52-7.35-2a6.39 6.39 0 0 1 7.35 2Z",style:{fill:"#ff78b7"}}),(0,r.jsx)("rect",{className:"cls-18",x:215.56,y:78.58,width:12.43,height:3.55,rx:1.76,transform:"rotate(-9.66 221.695 80.354)"}),(0,r.jsx)("rect",{className:"cls-18",x:230.95,y:76.24,width:10.55,height:3.55,rx:1.78,transform:"rotate(-9.66 236.196 78.003)"}),(0,r.jsx)("path",{d:"M173.25 59c-13.14 2.31-17.43 1.63-14.12 21.19 2.85 17.5 6.11 15.93 20.21 13.43Z",style:{fill:"url(#linear-gradient-8)"}}),(0,r.jsx)("path",{className:"cls-16",d:"m173.44 62.83 4.77 24.7c-11.86 1.86-11.85 1.07-14.43-12.24-2.09-10.82.33-11.04 9.66-12.46Z"}),(0,r.jsx)("path",{d:"M230 137.26c31.47-9.59 39-.5 34.65 26.87-2.18 13.85-1.83 27.21-14.49 27-19.91-.34-12.71-17.14-12.14-32.18 0 0-6.33 1.33-11.61 2.24s-10.13-3.45-9.21-11.85 6.58-10.19 12.8-12.08Z",style:{fill:"url(#linear-gradient-9)"}}),(0,r.jsx)("path",{className:"cls-21",d:"M228.51 138.45a1.25 1.25 0 0 1-.51-2.39 42.25 42.25 0 0 1 17.69-3.33 1.27 1.27 0 0 1 1.24 1.27 1.25 1.25 0 0 1-1.25 1.23 39.77 39.77 0 0 0-16.68 3.11 1.34 1.34 0 0 1-.49.11ZM239.23 158a1.2 1.2 0 0 1-.74-.25 1.25 1.25 0 0 1-.26-1.75l5-6.65a1.25 1.25 0 1 1 2 1.49l-5 6.65a1.27 1.27 0 0 1-1 .51ZM199.73 132.31a1.26 1.26 0 0 1-1.17-.8 1.25 1.25 0 0 1 .72-1.62l9.07-3.51a1.25 1.25 0 1 1 .91 2.33l-9.08 3.51a1.2 1.2 0 0 1-.45.09Z"}),(0,r.jsx)("path",{d:"M409.7 109.18c-38.9-21.69-74.81-4.87-74.81-4.87l19.56 38.11 22.2 43.24s34.82-21.83 39.68-63.62a13 13 0 0 0-6.63-12.86Z",style:{fill:"url(#linear-gradient-10)"}}),(0,r.jsx)("ellipse",{cx:367.61,cy:110.41,rx:12.8,ry:5.19,style:{fill:"#fff"}}),(0,r.jsx)("path",{className:"cls-24",d:"m281.46 220.54-56.2 28.63a12.69 12.69 0 0 0-5.55 17.06L298.15 226a12.41 12.41 0 0 0-16.69-5.46ZM242.5 229.16a5.34 5.34 0 0 0-10 3.54l-4.21 2.09a5.36 5.36 0 1 0 1.1 2.24l4.22-2.09a5.27 5.27 0 0 0 2.38 1.65 5.25 5.25 0 0 0 4.08-.27 5.35 5.35 0 0 0 2.42-7.16Zm-17 11.59a2.84 2.84 0 1 1-2.53-5.09 2.81 2.81 0 0 1 1.26-.3 2.91 2.91 0 0 1 .92.15 2.78 2.78 0 0 1 1.63 1.43 2.84 2.84 0 0 1-1.31 3.81Zm13.5-6.67a2.78 2.78 0 0 1-2.17.14 2.84 2.84 0 1 1 2.17-.14Z"})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},225639:function(e,t,n){n.d(t,{y:()=>a});var r=n(358085),i=n(998502),l=n(981631);function a(){let e=r.isPlatformEmbedded&&i.ZP.supportsFeature(l.eRX.POPOUT_WINDOWS);return!r.isPlatformEmbedded||e}},450936:function(e,t,n){n.d(t,{Z:()=>b});var r=n(647438),i=n(442837),l=n(570140),a=n(911969),o=n(110924),s=n(213459),c=n(812206),u=n(835473),d=n(621853),p=n(484459),h=n(973616),f=n(594174),m=n(981631);let g=[a.yU.PRIMARY_ENTRY_POINT,a.yU.CHAT,a.yU.MESSAGE,a.yU.USER];function b(e){var t,n,b;let{context:_}=e,y=_.channel,C=r.useMemo(()=>{if(!0!==y.isDM())return null;let e=f.default.getUser(y.getRecipientId());return void 0===e||!0!==e.bot?null:e},[y]),x=(0,i.e7)([d.Z],()=>{var e;return d.Z.isFetchingProfile(null!=(e=null==C?void 0:C.id)?e:m.lds)}),v=(0,o.Z)(x),O=(0,i.e7)([c.Z],()=>c.Z.getAppIdForBotUserId(null==C?void 0:C.id)),j=(0,i.e7)([d.Z],()=>{var e;return null!==C?null==(e=d.Z.getUserProfile(null==C?void 0:C.id))?void 0:e.application:void 0}),E=null!=O?O:null==j?void 0:j.id;r.useEffect(()=>{if(null==E){var e;(0,p.Z)(null!=(e=null==C?void 0:C.id)?e:m.lds,void 0,{withMutualGuilds:!0})}},[C,E]),r.useEffect(()=>{(null==C?void 0:C.id)!=null&&l.Z.dispatch({type:"APP_DM_OPEN",botUserId:C.id})},[null==C?void 0:C.id]);let S=(0,s.v1)({channel:y,type:"channel"},{commandTypes:g},{applicationId:E,allowFetch:(null==C?void 0:C.id)!=null,allowApplicationState:!0}),I=S.commands.filter(e=>e.type===a.yU.PRIMARY_ENTRY_POINT&&e.applicationId===E)[0],P=S.commands.filter(e=>"0"!==e.id&&!e.id.startsWith("-")),Z=S.loading,T=null==(t=S.descriptors.find(e=>{var t;return(null==(t=e.application)?void 0:t.id)===E}))?void 0:t.application,N=r.useMemo(()=>null!=T?h.ZP.createFromServer(T):void 0,[T]),A=(0,u.q)(null==N?E:void 0),w=null!=(n=null!=N?N:A)?n:void 0,R=null==w||Z&&0===P.length;return{application:w,isInitialLoading:R,isAppDM:null!=(b=null==C?void 0:C.bot)&&b,primaryEntryPointCommand:I,isProfileFetching:x,wasProfileFetching:null!=v?v:null,applicationId:E,channelId:y.id,commands:P}}},368478:function(e,t,n){n.d(t,{J:()=>_,Z:()=>b}),n(388685),n(997841);var r=n(647438),i=n(442837),l=n(317381),a=n(122613),o=n(16609),s=n(574952),c=n(100527),u=n(906732),d=n(783097),p=n(895924),h=n(812236),f=n(630388),m=n(981631),g=n(388032);function b(e){let{context:t,primaryEntryPointCommand:n,application:a,showAppLauncherPopup:s=!1}=e,[p,b]=r.useState(!1),_=(0,i.e7)([l.ZP],()=>l.ZP.getCurrentEmbeddedActivity()),y=s?g.t.cpT0Cg:g.t["0hKkS0"],C=r.useMemo(()=>null!=n?(0,d.XZ)(n.displayName):g.intl.string(g.t["3xjX0d"]),[n]),x=void 0!==a.flags&&(0,f.yE)(a.flags,m.udG.EMBEDDED),v=null!=_&&_.applicationId===a.id&&(0,o.p)(_.location)===t.channel.id,{analyticsLocations:O}=(0,u.ZP)(c.Z.APP_DMS_ENTRY_POINT_COMMAND_BUTTON),j=null!=t.channel.recipients?t.channel.recipients[0]:void 0;return{isExecutingLaunchInteraction:p,buttonText:(0,h.ms)({context:t,applicationId:a.id,botUserId:j})&&x?v?g.intl.string(g.t["Hi1/aW"]):null!=C?C:g.intl.string(g.t.zKX8Nj):g.intl.string(y),hasActiveMatchingEmbeddedActivity:v,isEmbeddedApp:x,currentEmbeddedActivity:_,channelRecipientUserId:j,setIsExecutingLaunchInteraction:b,analyticsLocations:O}}function _(e){let{context:t,application:n,isEmbeddedApp:i,hasActiveMatchingEmbeddedActivity:l,currentEmbeddedActivity:o,onOpenButtonPress:c,channelRecipientUserId:u,setIsExecutingLaunchInteraction:d,analyticsLocations:f}=e,m=(0,h.ms)({context:t,applicationId:n.id,botUserId:u}),g=r.useCallback(()=>{l&&null!=o?(0,s.Z)().leaveActivity({location:o.location,applicationId:o.applicationId}):(d(!0),(0,a.Z)({targetApplicationId:n.id,channelId:t.channel.id,analyticsLocations:f,onExecutedCallback:()=>{d(!1)},commandOrigin:p.bB.APP_DMS_ENTRY_POINT_COMMAND_BUTTON}))},[l,t.channel.id,n.id,o,f,d]);return m&&i?g:c}},993766:function(e,t,n){n.d(t,{Z:()=>s});var r=n(647438),i=n(442837),l=n(499254),a=n(213459),o=n(592125);function s(e){let{isProfileFetching:t,wasProfileFetching:n,applicationId:s,channelId:c,commands:u}=e;r.useEffect(()=>{!t&&n&&null==s&&(0,l.Tv)(c)},[t,n,s,c]),r.useEffect(()=>{(0,l.Hm)(c)},[c]);let d=(0,i.e7)([a.ZP],()=>{var e,t;return null!=(t=null==(e=a.ZP.getApplicationState(s))?void 0:e.fetchState.fetching)&&t}),p=(0,i.e7)([a.ZP,o.Z],()=>{var e,t;let n=o.Z.getChannel(c);return null!=(t=null==(e=a.ZP.getContextState(null!=n?{channel:n,type:"channel"}:{type:"contextless"}))?void 0:e.fetchState.fetching)&&t}),h=r.useRef(!1),f=r.useRef(!1);r.useEffect(()=>{h.current=!1,f.current=!1},[c]),r.useEffect(()=>{d&&(h.current=!0)},[d]),r.useEffect(()=>{p&&(f.current=!0)},[p]),r.useEffect(()=>{!d&&!p&&h.current&&f.current&&0===u.length&&(0,l.Tv)(c)},[d,p,u,c])}},663924:function(e,t,n){n.d(t,{Z:()=>S});var r=n(951288),i=n(647438),l=n(374470),a=n(952265),o=n(481060),s=n(40851),c=n(896449),u=n(314910),d=n(574254),p=n(585483),h=n(5967),f=n(499254),m=n(827498),g=n(421591),b=n(496977),_=n(314734),y=n(981631),C=n(149203),x=n(388032),v=n(681524);let O={height:_.lv};function j(){f.yT(m.ti.DISMISSED)}function E(e){let{channel:t,closeOnModalOuterClick:n=!1,parentModalKey:u}=e,f=i.useRef(null),{renderWindow:x,windowDispatch:v}=i.useContext(s.ZP),O=null!=u,E=(0,a.Jw)(null!=u?u:""),S=i.useCallback(e=>{var t;if(!O&&(0,a.$s)()||O&&!(E&&n)||d.Z.isOpen()||e.defaultPrevented)return;let{target:r}=e;if((0,l.k)(r)&&null!=r.closest("."+_.Jh))return;for(;(0,l.k)(r);){if(r===f.current)return;if(r.classList.contains(_.t4)||r.classList.contains(_.Id))return void e.preventDefault();if(r.classList.contains(_.NN))return;let t=[C.cZ,c.N];if(r.classList.contains(_.I4)||t.includes(r.id))return;r=r.parentNode}j();let i=null==(t=(0,h.uB)(e))?void 0:t.activeElement;(null==i||"BODY"===i.tagName)&&p.S.dispatchToLastSubscribed(y.CkL.TEXTAREA_FOCUS)},[n,E,O]);i.useLayoutEffect(()=>(x.addEventListener("mousedown",S),x.addEventListener("contextmenu",S),v.subscribe(y.CkL.POPOUT_CLOSE,j),()=>{x.removeEventListener("mousedown",S),x.removeEventListener("contextmenu",S),v.unsubscribe(y.CkL.POPOUT_CLOSE,j)}),[S,x,v]),(0,o.Tbt)(f),i.useEffect(()=>{(!O&&(0,a.$s)()||O&&!E)&&j()},[E,O]);let I=(0,b.Z)();return(0,r.jsx)(g.Z,{ref:f,context:{channel:t,type:"channel"},entrypoint:m._b.TEXT,initHistory:I})}let S=i.memo(function(e){var{positionTargetRef:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["positionTargetRef"]);return(0,r.jsx)("span",{style:_.u$,children:(0,r.jsx)(u.W5,{className:v.positionLayer,targetRef:t,position:"top",align:"right",spacing:24,autoInvert:!0,clickTrap:!0,children:e=>{let{isPositioned:t}=e;return(0,r.jsx)("section",{className:v.positionContainer,role:"dialog",style:O,"aria-label":x.intl.string(x.t["3CNGLC"]),children:t&&(0,r.jsx)(E,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n))})}})})})},533379:function(e,t,n){n.d(t,{R:()=>a});var r=n(442837),i=n(998698),l=n(873387);function a(e){let{channel:t,chatInputType:n}=e,a=(0,l.g)(t),{activeCommand:o}=(0,r.cj)([i.Z],()=>{var e;return{activeCommand:(null==(e=n.commands)?void 0:e.enabled)?i.Z.getActiveCommand(t.id):null}});return null==o&&a}},562129:function(e,t,n){n.d(t,{Z:()=>a});var r=n(257502),i=n(749280),l=n(456100);function a(e){let{enabled:t}=l.c.useExperiment({location:e},{autoTrackExposure:!0}),{Component:n,events:a,play:o}=(0,i.w)(),{Component:s,events:c,play:u}=(0,r._)();return t?{events:c,play:u,Component:s}:{events:a,play:o,Component:n}}},82906:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2024-12_app_dm_report_button",label:"App DMs Report Button Experiment",defaultConfig:{enabledDesktop:!1,enabledMobile:!1},treatments:[{id:1,label:"Enables the report button in App DMs on desktop",config:{enabledDesktop:!0,enabledMobile:!1}},{id:2,label:"Enables the report button in App DMs on desktop and mobile",config:{enabledDesktop:!0,enabledMobile:!0}}]})},763762:function(e,t,n){n.d(t,{Z:()=>a});var r=n(442837),i=n(621853),l=n(981631);function a(e){let t=(0,r.e7)([i.Z],()=>{var t;return null!==e?null==(t=i.Z.getUserProfile(null!=e?e:l.lds))?void 0:t.application:void 0});return null!=t?t:void 0}},870991:function(e,t,n){n.d(t,{D8:()=>i,E4:()=>l});var r=n(388032);let i="https://discord.com/safety/understanding-and-avoiding-common-scams";function l(){return[{title:r.intl.string(r.t.wSZfJS),description:r.intl.string(r.t.CRwzW1)},{title:r.intl.string(r.t.cmMUaG),description:r.intl.string(r.t.n6G1ub)},{title:r.intl.string(r.t["5SPKS0"]),description:r.intl.string(r.t.eyjeJS)}]}},276060:function(e,t,n){n.d(t,{t:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2024-09_likely_atoed_connections",label:"Likely ATO Warning",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Likely ATO Warning",config:{enabled:!0}}]});function i(e){let{location:t,autoTrackExposure:n=!0}=e,{enabled:i}=r.useExperiment({location:t},{autoTrackExposure:n});return i}},605984:function(e,t,n){n.d(t,{k:()=>c});var r=n(385956),i=n(15701),l=n(359119),a=n(897769),o=n(403485),s=n(88101);function c(e){let t=(0,i.G)(e),n=(0,r.v)(e),c=(0,a.S)(e,l.pj.LIKELY_ATO),u=(0,o.h)(e).length>0,d=null!=(0,s.P)(e);if(!t&&!n&&!u&&!d)return c}},453470:function(e,t,n){n.d(t,{M:()=>v}),n(953529);var r=n(951288),i=n(647438),l=n(286379),a=n(481060),o=n(87051),s=n(797614),c=n(681678),u=n(819557),d=n(138201),p=n(378298),h=n(359119),f=n(473092),m=n(177342),g=n(621600),b=n(276060),_=n(870991),y=n(981631),C=n(134612),x=n(388032);function v(e){let{channelId:t,warningId:v,senderId:O}=e,j=(0,_.E4)(),E=i.useCallback(()=>{(0,p.T)(t,[v])},[t,v]),S=(0,b.t)({location:C.zr}),I=e=>{o.Z.updateChannelOverrideSettings(null,t,{muted:!0},g.ZB.Muted),c.Z.showMuteSuccessToast(O,t),(0,f.qc)({channelId:t,warningId:v,senderId:O,warningType:h.pj.LIKELY_ATO,cta:e}),E()};return(i.useEffect(()=>{S&&((0,f.MC)(y.rMx.SAFETY_WARNING_VIEWED,{channelId:t,warningId:v,senderId:O,warningType:h.pj.LIKELY_ATO}),s.Z.increment({name:l.V.SAFETY_WARNING_VIEW}))},[t,v,O,S]),S)?(0,r.jsx)(m.Q,{channelId:t,warningId:v,senderId:O,warningType:h.pj.LIKELY_ATO,header:x.intl.string(x.t.R8UsiI),description:x.intl.string(x.t.lI8nQk),onDismiss:E,buttons:[{text:x.intl.string(x.t.tC1pvL),variant:"primary",onClick:()=>{(0,a.ZDy)(async()=>{let{default:e}=await n.e("59385").then(n.bind(n,480884));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(e,{transitionState:i,onClose:l,channelId:t,warningId:v,senderId:O,description:x.intl.string(x.t["/uid3t"]),safetyTipRows:j.map((e,t)=>(0,r.jsx)(u.q,{listType:"numbered",index:t,title:e.title,description:e.description},t)),actionRows:[(0,r.jsx)(d.JZ,{title:x.intl.string(x.t.ftIK2N),description:x.intl.string(x.t.w2ve0t),buttonText:x.intl.string(x.t.ftIK2N),onButtonPress:()=>{I(f.NM.USER_MODAL_MUTE),l()}},"likely-ato-mute")],learnMore:(0,r.jsx)(a.P3F,{onClick:()=>(0,f.qc)({channelId:t,warningId:v,senderId:O,warningType:h.pj.LIKELY_ATO,cta:f.NM.USER_MODAL_LEARN_MORE}),children:(0,r.jsx)(a.X6q,{variant:"heading-sm/medium",color:"text-link",children:x.intl.format(x.t.UkH129,{learnMoreLink:_.D8})})})})}}),(0,f.qc)({channelId:t,warningId:v,senderId:O,warningType:h.pj.LIKELY_ATO,cta:f.NM.OPEN_MORE_TIPS})}},{text:x.intl.string(x.t.ftIK2N),onClick:()=>I(f.NM.USER_BANNER_MUTE)}]}):null}},963876:function(e,t,n){n.d(t,{Z:()=>i});var r=n(570140);let i={setCallChatToastsEnabled(e,t){r.Z.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})}}},394059:function(e,t,n){n.d(t,{K:()=>i});var r,i=((r={})[r.STREAM=0]="STREAM",r[r.VIDEO=1]="VIDEO",r)},984014:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(872810),l=n(199902),a=n(314897);function o(e,t){let n=(0,r.e7)([a.default],()=>a.default.getId()),o=(0,r.e7)([l.Z],()=>{let t=l.Z.getCurrentUserActiveStream();return null!=t&&t.channelId===e},[e]);return[(null==t||t===n)&&o,(0,r.e7)([l.Z],()=>l.Z.isSelfStreamHidden(e),[e]),t=>{(0,i.pR)(e,t)}]}},27584:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(846027),l=n(314897),a=n(131951),o=n(981631),s=n(65154);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Yn.DEFAULT,n=(0,r.e7)([l.default],()=>l.default.getId()),c=(0,r.e7)([a.Z],()=>a.Z.supports(s.AN.DISABLE_VIDEO)),u=(0,r.e7)([a.Z],()=>a.Z.isLocalVideoDisabled(n,t),[n,t]);return[(null==e||e===n)&&c,u,e=>{let r=e?o.ZUi.DISABLED:o.ZUi.MANUAL_ENABLED;i.Z.setDisableLocalVideo(n,r,t)}]}},887012:function(e,t,n){n.d(t,{Z:()=>l});var r=n(822183),i=n(641015);function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.Z)(e),{isSharedCanvasEnabled:l}=r.Z.useExperiment({guildId:e.guild_id,location:"6b64ff_1"},{autoTrackExposure:t});return n||l}},677601:function(e,t,n){n.d(t,{Z:()=>ez}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(990547),u=n(442837),d=n(704215),p=n(846519),h=n(481060),f=n(570140),m=n(475179),g=n(239091),b=n(287734),_=n(872810),y=n(153867),C=n(944543),x=n(410575),v=n(393238),O=n(110924),j=n(40851),E=n(636449),S=n(115130),I=n(317381),P=n(596040),Z=n(617552),T=n(100527),N=n(367907),A=n(906732),w=n(213609),R=n(600164),M=n(211644),D=n(258609),L=n(446226),k=n(569545),U=n(102172),B=n(788983),F=n(928518),G=n(703656),H=n(880395),V=n(740492),z=n(793319),W=n(3861),q=n(493754),Y=n(937995),K=n(618158),X=n(880831),Q=n(73563),J=n(751843),$=n(268353),ee=n(786915),et=n(800965),en=n(107169),er=n(891551),ei=n(488785),el=n(199902),ea=n(314897),eo=n(979696),es=n(523746),ec=n(430824),eu=n(496675),ed=n(306680),ep=n(944486),eh=n(594174),ef=n(979651),em=n(626135),eg=n(934415),eb=n(585483),e_=n(358085),ey=n(998502),eC=n(228488),ex=n(358221),ev=n(414910),eO=n(887012),ej=n(909820),eE=n(493010),eS=n(742603),eI=n(71127),eP=n(221888),eZ=n(185935),eT=n(900211),eN=n(18759),eA=n(522651),ew=n(795318),eR=n(878752),eM=n(354459),eD=n(981631),eL=n(388032),ek=n(598411);function eU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eU(e,t,n[t])})}return e}function eF(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let eG={[eD.AEg.NORMAL]:ek.normal,[eD.AEg.MINIMUM]:ek.minimum,[eD.AEg.NO_CHAT]:ek.noChat,[eD.AEg.FULL_SCREEN]:ek.fullScreen},eH={[eD.IlC.POPOUT]:ek.popout,[eD.IlC.APP]:null,[eD.IlC.OVERLAY]:null};class eV extends i.PureComponent{getRootNode(){var e,t;return(null!=(t=null==(e=this.props.popoutWindow)?void 0:e.window)?t:window).document.getElementById("app-mount")}componentDidMount(){let{channel:e,layout:t}=this.props;this.currentDocument.addEventListener(eC.NO,this.handleFullScreenChange),em.default.track(eD.rMx.VIDEO_LAYOUT_TOGGLED,eB({video_layout:this.inPopout?"popout":t},(0,N.AB)(e.id)))}componentWillUnmount(){this._videoBackgroundTooltipTimeout.stop(),this.currentDocument.removeEventListener(eC.NO,this.handleFullScreenChange),this.inPopout&&(0,e_.isMac)()||this.maybeLeaveFullScreen()}componentDidUpdate(e){let{participantsOpen:t,inCall:n,mode:r,layout:i}=this.props,l=this.getRootNode();if(null!=l&&e.mode===eD.WtW.VIDEO&&r===eD.WtW.VOICE&&(0,eC.rB)(l,this.currentDocument)&&(0,eC.Pr)(l,this.currentDocument),e.participantsOpen!==t||i!==e.layout){var a;null==(a=this._contentRef.current)||a.triggerResize()}e.inCall&&!n&&this.inPopout&&f.Z.wait(()=>this.handleClosePopout())}get nativePopoutSupported(){return e_.isPlatformEmbedded&&ey.ZP.supportsFeature(eD.eRX.POPOUT_WINDOWS)}get popoutSupported(){return!e_.isPlatformEmbedded||this.nativePopoutSupported}get popoutOpen(){let{popoutWindow:e}=this.props;return null!=e&&!e.closed}get currentDocument(){let{popoutWindow:e}=this.props;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}get screenMessage(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:eL.intl.string(eL.t.J5bXZW)}:null}get inPopout(){return this.props.appContext===eD.IlC.POPOUT}get viewProperties(){let{layout:e,mode:t,channel:n,inCall:r}=this.props,i=t===eD.WtW.VIDEO&&r&&!(this.popoutOpen&&!this.inPopout),l=t===eD.WtW.VIDEO&&r&&this.popoutSupported,a=t!==eD.WtW.VOICE&&n.isPrivate()&&!this.inPopout&&r,o=n.type===eD.d4z.GUILD_VOICE,s=e===eD.AEg.MINIMUM||e===eD.AEg.NORMAL,c=this.inPopout&&this.nativePopoutSupported,u={renderHeader:!0,useTheme:!1,useExternalHeader:s,canInvite:o,canPopout:l,canFullscreen:i,canSelectRegion:n.isPrivate(),canChangeLayout:a,canStayOnTop:c};if(!r)return eF(eB({},u),{canFullscreen:i,useTheme:!0});switch(e){case eD.AEg.FULL_SCREEN:return eF(eB({},u),{canPopout:!this.inPopout&&this.popoutOpen&&u.canPopout});case eD.AEg.MINIMUM:return eF(eB({},u),{canPopout:!1,useTheme:!0});case eD.AEg.NO_CHAT:case eD.AEg.NORMAL:return eB({},u)}}renderContent(e){var t;let{selectedParticipant:n,inCall:i,hasConnectPermission:l,mode:a,popoutWindow:o,participantsOpen:s,participants:c,filteredParticipants:u,participantsVersion:d,channel:p,guild:h,layout:f,forceShowControls:m,awaitingRemoteSessionInfo:g,currentChannelActivities:b,callContainerDimensions:_}=this.props,y=f===eD.AEg.MINIMUM,C=y||f===eD.AEg.NORMAL,x=i&&a===eD.WtW.VIDEO,v=(null!=(t=null==b?void 0:b.length)?t:0)>0&&p.isPrivate();return this._lastIdleProps=e,(0,r.jsx)(Q.Z,eF(eB({renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatToasts:p.isGuildVoice()?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects},e),{screenMessage:this.screenMessage,disableGradients:!i||y,idle:!m&&i&&!y&&e.idle,children:i&&this.popoutOpen&&!this.inPopout?null:(0,r.jsx)(W.Z,{ref:this._contentRef,inCall:i,channel:p,hasConnectPermission:l,guild:h,participants:c,filteredParticipants:u,participantsVersion:d,selectedParticipant:x?n:null,layout:f,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:s&&(!C||v),popoutWindow:this.inPopout?o:null,awaitingRemoteSessionInfo:g,callContainerDimensions:_})}))}render(){let{layout:e,channel:t,guild:n,mode:i,chatOpen:l,appContext:o,maxSidebarWidth:s,maxHeight:c,inCall:u,participantsListOpen:d}=this.props,{resizedHeight:p}=this.state,f=i===eD.WtW.VIDEO,m=e!==eD.AEg.NO_CHAT&&e!==eD.AEg.FULL_SCREEN&&null!=c,g=eD.BRd.MIDNIGHT;return(0,r.jsxs)("div",{className:a()(ek.wrapper,eG[e],eH[o],{[ek.poppedOut]:this.popoutOpen&&!this.inPopout&&e!==eD.AEg.NO_CHAT&&t.isPrivate(),[ek.video]:f,[ek.sidebarOpen]:l||d}),ref:e=>{this._wrapperRef.current=e,this.props.wrapperRef.current=e},style:m&&null!=p?{minHeight:eM._i,maxHeight:c,height:p}:void 0,children:[(0,r.jsx)(h.f6W,{theme:g,children:t=>(0,r.jsx)("div",{className:a()(ek.callContainer,l||e!==eD.AEg.FULL_SCREEN?void 0:ek.fullScreen,t),ref:e=>{this._callContainerRef.current=e,this.props.callContainerRef.current=e},children:(0,r.jsx)(Y.ZP,{timeout:2e3,children:e=>this.renderContent(e)})})}),m&&(0,r.jsx)(eT.Z,{minHeight:eM._i,maxHeight:c,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),(0,r.jsx)("div",{className:ek.channelChatWrapper,ref:e=>{this._channelChatRef.current=e,this.props.channelChatRef.current=e},children:(!u||!this.popoutOpen||this.inPopout)&&(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)(eE.Z,{channel:t,guild:n,maxWidth:s}),d&&(0,r.jsx)(eI.Z,{channel:t,maxWidth:s})]})})]})}constructor(...e){super(...e),eU(this,"_prevLayout",eD.AEg.MINIMUM),eU(this,"_wrapperRef",i.createRef()),eU(this,"_callContainerRef",i.createRef()),eU(this,"_channelChatRef",i.createRef()),eU(this,"_contentRef",i.createRef()),eU(this,"_videoBackgroundTooltipTimeout",new p.V7),eU(this,"_lastIdleProps",null),eU(this,"state",{resizedHeight:V.ZP.callHeaderHeight}),eU(this,"handleFullScreenChange",()=>{let e=this.getRootNode();null!=e&&((0,eC.rB)(e,this.currentDocument)||this.props.layout!==eD.AEg.FULL_SCREEN||this.handleFullScreen())}),eU(this,"handleFullScreen",()=>{let e=this.getRootNode();null!=e&&(this.props.layout!==eD.AEg.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(eD.AEg.FULL_SCREEN),(0,eC.Dj)(e)):this.maybeLeaveFullScreen())}),eU(this,"maybeLeaveFullScreen",()=>{let e=this.getRootNode();null!=e&&this.props.layout===eD.AEg.FULL_SCREEN&&(this.handleChangeLayout(this._prevLayout),(0,eC.Pr)(e,this.currentDocument))}),eU(this,"handleToggleLayout",()=>{this.handleChangeLayout(this.props.layout===eD.AEg.NORMAL?eD.AEg.NO_CHAT:eD.AEg.NORMAL)}),eU(this,"handleChangeLayout",e=>{let{channel:t,appContext:n,layout:r}=this.props;r!==e&&(m.Z.updateLayout(t.id,e,n),e===eD.AEg.FULL_SCREEN&&t.isPrivate()&&eb.S.dispatch(eD.CkL.TEXTAREA_BLUR))}),eU(this,"handleDisconnect",()=>{this.props.layout===eD.AEg.FULL_SCREEN&&this.handleFullScreen()}),eU(this,"trackCallTileContextMenuImpression",(e,t)=>{(0,w.h)({type:c.ImpressionTypes.MENU,name:c.ImpressionNames.CALL_TILE_CONTEXT_MENU,properties:{location:"ChannelCall",is_tile_owner:e.type!==eM.fO.ACTIVITY&&e.user.id===this.props.currentUserId,tile_type:t}})}),eU(this,"getCallTileMenuActionHandler",function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eM.A5.CONTEXT_MENU;return(0,ew.u)(e,T.Z.CHANNEL_CALL,{entrypoint:r,tileType:n,targetUserId:t.type!==eM.fO.ACTIVITY?t.user.id:void 0})}),eU(this,"handleContextMenu",(e,t,i,l)=>{var a,o;let{channel:c,appContext:u,layout:d}=this.props,p={onClose:()=>{var e;return null==(e=this._lastIdleProps)?void 0:e.onAllowIdle("menu")},context:u};switch(null==(a=this._lastIdleProps)||a.onPreventIdle("menu"),null==(o=this._lastIdleProps)||o.onActive(),e.type){case eM.fO.HIDDEN_STREAM:case eM.fO.STREAM:this.trackCallTileContextMenuImpression(e,eM.TH.STREAM),(0,g.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,r.jsx)(t,eF(eB({},n),{stream:e.stream,exitFullscreen:this.maybeLeaveFullScreen,appContext:u,minimal:i,onInteraction:this.getCallTileMenuActionHandler("StreamContextMenu",e,eM.TH.STREAM,l)}))},p);return;case eM.fO.USER:this.trackCallTileContextMenuImpression(e,eM.TH.USER);let h=eh.default.getUser(e.id);if(null!=h){if(i)return(0,H.D)(t,h,c,p,(e,t)=>(0,ew.o)({menuItemProps:t,menuName:e,entrypoint:eM.A5.THREE_DOT,tileType:eM.TH.USER,targetUserId:h.id,location:T.Z.CHANNEL_CALL}));switch(c.type){case eD.d4z.DM:return(0,g.jW)(t,async()=>{let{default:t}=await Promise.all([n.e("79695"),n.e("70205"),n.e("98783"),n.e("57789"),n.e("56826"),n.e("92595")]).then(n.bind(n,131404));return n=>(0,r.jsx)(t,eF(eB({},n),{showChannelCallItems:!0,showMediaItems:!0,user:h,channel:c,showModalItems:!0,onInteraction:this.getCallTileMenuActionHandler("DMUserContextMenu",e,eM.TH.USER)}))},p);case eD.d4z.GROUP_DM:return(0,g.jW)(t,async()=>{let{default:t}=await Promise.all([n.e("79695"),n.e("98783"),n.e("49062")]).then(n.bind(n,354589));return n=>(0,r.jsx)(t,eF(eB({},n),{showChannelCallItems:!0,showMediaItems:!0,showChatItems:d===eD.AEg.MINIMUM||d===eD.AEg.NORMAL,user:h,channel:c,showModalItems:!0,onInteraction:this.getCallTileMenuActionHandler("GroupDMUserContextMenu",e,eM.TH.USER)}))},p);case eD.d4z.GUILD_VOICE:case eD.d4z.PUBLIC_THREAD:case eD.d4z.PRIVATE_THREAD:let l=c.getGuildId();return s()(null!=l,"GuildID null for guild voice channel"),(0,g.jW)(t,async()=>{let{default:t}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return n=>(0,r.jsx)(t,eF(eB({},n),{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:h,channel:c,guildId:l,showModalItems:!0,onInteraction:this.getCallTileMenuActionHandler("GuildChannelUserContextMenu",e,eM.TH.USER)}))},p)}}}}),eU(this,"handleCallResize",e=>{this.setState({resizedHeight:e})}),eU(this,"handleSelectParticipant",(e,t)=>{let{channel:n,selectedParticipant:r,allActiveStreams:i,inCall:l,mode:a}=this.props;(0,eM._5)(e)&&(0,U.p9)(n,ef.Z,ec.Z,eu.Z,D.Z)[0]&&(b.default.selectVoiceChannel(n.id),0===i.filter(t=>(0,k.V9)(t)===e.id&&t.state!==eD.jm8.ENDED).length&&(0,_.rn)((0,k.my)(e.id),{forceMultiple:t.shiftKey})),l&&a===eD.WtW.VIDEO&&((null==r?void 0:r.id)===e.id?m.Z.selectParticipant(n.id,null):m.Z.selectParticipant(n.id,e.id))}),eU(this,"handleOpenPopout",()=>{let{channel:e,connectedEmbeddedActivity:t}=this.props,n=()=>{let t=e.getGuildId();null!=t&&(0,G.uL)((0,eg.LY)(t)),B.hP(e)};null==t||(0,E.R)()?n():(0,Z.Z)({onConfirm:n})}),eU(this,"handleStayOnTop",e=>{(0,eA.v)(T.Z.VOICE_CONTROL_TRAY,eA.d.STAY_ON_TOP,e),B.hY(eD.KJ3.CHANNEL_CALL_POPOUT,e)}),eU(this,"handleClosePopout",()=>{B.xv(eD.KJ3.CHANNEL_CALL_POPOUT)}),eU(this,"handleFullscreenParticipant",(e,t)=>{let{layout:n,selectedParticipant:r}=this.props,i=n===eD.AEg.FULL_SCREEN;(!i&&(null==r?void 0:r.id)!==e.id||i&&(null==r?void 0:r.id)===e.id)&&this.handleSelectParticipant(e,t),this.handleFullScreen()}),eU(this,"renderRegionSelect",()=>{let e,{call:t,channel:n,layout:i}=this.props;return this.inPopout||i===eD.AEg.FULL_SCREEN||null==t||n.isManaged()||(e=(0,r.jsx)(C.Z,{call:t})),(0,r.jsx)(R.Z,{justify:R.Z.Justify.END,children:e})}),eU(this,"renderBottomCenter",()=>{let{channel:e,inCall:t,layout:n}=this.props;return t||n===eD.AEg.MINIMUM||n===eD.AEg.NORMAL?(0,r.jsx)(z.ZP,{exitFullScreen:this.maybeLeaveFullScreen,channel:e,onDisconnectCall:this.handleDisconnect,idleProps:this._lastIdleProps}):null}),eU(this,"renderBottomLeft",()=>{let{layout:e,mentionCount:t,channel:n,appContext:i,useNewInviteButton:l,selectedParticipant:o,shouldUseVoiceEffectsActionBar:s,inCall:c,participants:u}=this.props;if(!c)return null;let d=e===eD.AEg.NO_CHAT?J.Z.Directions.UP:J.Z.Directions.DOWN,p=[eD.AEg.FULL_SCREEN,eD.AEg.NO_CHAT].includes(e),f=u.some(e=>e.type===eM.fO.STREAM),m=e===eD.AEg.FULL_SCREEN?()=>{this._prevLayout=eD.AEg.NORMAL,this.handleFullScreen()}:this.handleToggleLayout,{canChangeLayout:g,canInvite:b}=this.viewProperties,_=l?(0,r.jsx)(q.Z,{channel:n,stream:(null==o?void 0:o.type)===eM.fO.STREAM?(0,k.my)(o.id):void 0,applicationId:(null==o?void 0:o.type)===eM.fO.ACTIVITY?o.applicationId:void 0,appContext:i,className:ek.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eD.d4z.GUILD_VOICE?eD.ZY5.GUILD_CHANNEL:eD.ZY5.DM_CHANNEL}):(0,r.jsx)(ee.Z,{channel:n,stream:(null==o?void 0:o.type)===eM.fO.STREAM?(0,k.my)(o.id):void 0,className:ek.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eD.d4z.GUILD_VOICE?eD.ZY5.GUILD_CHANNEL:eD.ZY5.DM_CHANNEL});return(0,r.jsxs)(r.Fragment,{children:[b&&!s?_:null,g?(0,r.jsxs)(R.Z,{className:ek.iconWrapper,align:R.Z.Align.CENTER,grow:0,children:[(0,r.jsx)(J.Z,{label:p?eL.intl.string(eL.t.kkKapK):eL.intl.string(eL.t["5MstTk"]),direction:d,className:ek.leftTrayIcon,onClick:()=>{(0,eA.v)(T.Z.VOICE_CONTROL_TRAY,eA.d.CHAT,p),m()}}),p&&t>0?(0,r.jsx)(h.mAB,{className:ek.badge,count:t}):null]}):null,(null==o?void 0:o.type)!==eM.fO.STREAM&&(null==o?void 0:o.type)!==eM.fO.ACTIVITY||s?null:(0,r.jsx)(K.Z,{children:(0,r.jsx)(eP.Z,{className:a()(ek.leftTrayIcon,ek.viewersButton),participant:o,maxVisibleUsers:4,guildId:n.getGuildId(),channelId:n.id,disableInteraction:this.inPopout||e===eD.AEg.FULL_SCREEN})}),s&&(0,r.jsx)(eR.Z,{channel:n,hasActiveStream:f})]})}),eU(this,"renderBottomRight",()=>{let{popoutWindow:e,popoutWindowAlwaysOnTop:t,currentUserId:n,selectedParticipant:i}=this.props,{canFullscreen:l,canStayOnTop:a,canPopout:o,useTheme:s}=this.viewProperties;return(0,r.jsxs)(r.Fragment,{children:[null!=i&&i.type!==eM.fO.ACTIVITY&&i.user.id!==n?(0,r.jsx)(er.Z,{context:(0,ev.Z)(i.type),userId:i.user.id,currentWindow:this.inPopout?null!=e?e:void 0:window,sliderClassName:ek.volumeSlider,className:ek.rightTrayIcon,location:T.Z.VOICE_CONTROL_TRAY}):null,a?(0,r.jsx)(en.Z,{className:ek.rightTrayIcon,popoutWindowAlwaysOnTop:t,onToggleStayOnTop:this.handleStayOnTop}):null,o?(0,r.jsx)(et.Z,{themeable:s,popoutOpen:this.popoutOpen,className:ek.rightTrayIcon,onOpenPopout:()=>{(0,eA.v)(T.Z.VOICE_CONTROL_TRAY,eA.d.POPOUT,!0),this.handleOpenPopout()},onClosePopout:()=>{(0,eA.v)(T.Z.VOICE_CONTROL_TRAY,eA.d.POPOUT,!1),this.handleClosePopout()}}):null,l?(0,r.jsx)($.Z,{themeable:s,node:this.getRootNode(),guestWindow:e,className:ek.rightTrayIcon,onClick:()=>{(0,eA.v)(T.Z.VOICE_CONTROL_TRAY,eA.d.FULL_SCREEN,this.props.layout!==eD.AEg.FULL_SCREEN),this.handleFullScreen()}}):null]})}),eU(this,"renderChatToasts",()=>{let{showChatToasts:e,chatOpen:t,channel:n,inCall:i}=this.props;return!e||t||this.popoutOpen&&!this.inPopout&&i?null:(0,r.jsx)(ej.ZP,{children:(0,r.jsx)(X.Z,{className:ek.chatToasts,channelId:n.id})})}),eU(this,"renderVoiceChannelEffects",()=>{let{channel:e,callContainerDimensions:t}=this.props;return(0,r.jsx)(eN.ZP,{children:(0,r.jsx)(ei.Z,{callHeight:t.height,channelId:e.id})})}),eU(this,"renderHeader",()=>{var e,t;let{renderExternalHeader:n,channel:i,guild:l,appContext:a,chatOpen:o,inCall:s}=this.props,{useExternalHeader:c,canSelectRegion:u,renderHeader:d}=this.viewProperties;if(!d)return null;let p=null!=(t=null==(e=this._lastIdleProps)?void 0:e.idle)&&t;return(0,r.jsxs)(K.Z,{children:[(0,r.jsx)("div",{className:ek.headerWrapper,children:c?null==n?void 0:n(p):(0,r.jsx)(eS.Z,{channel:i,guild:l,appContext:a,inCall:s,isChatOpen:o||this.popoutOpen&&!this.inPopout&&s,exitFullScreen:this.maybeLeaveFullScreen})}),u?this.renderRegionSelect():null]})})}}let ez=function(e){var t;let{channel:n,renderExternalHeader:l,maxHeight:a}=e,{width:o=0,ref:s}=(0,v.ZP)(),{width:c=0,height:p=0,ref:f}=(0,v.ZP)(),{ref:m}=(0,v.ZP)(),g=(0,j.bp)(),b=(0,L.Z)(),_=(0,u.e7)([ep.Z],()=>{var e;return(null!=(e=null==b?void 0:b.channelId)?e:ep.Z.getVoiceChannelId())===n.id}),{participants:C,filteredParticipants:E,participantsVersion:Z,mode:N,layout:w,participantsOpen:R,participantsListOpen:k,chatOpen:U,selectedParticipant:B}=(0,u.cj)([ex.Z],()=>{let e=g===eD.IlC.POPOUT,t=ex.Z.getMode(n.id);e&&(t=eD.WtW.VIDEO);let r=t===eD.WtW.VIDEO?ex.Z.getLayout(n.id,g):eD.AEg.MINIMUM;return e&&r!==eD.AEg.FULL_SCREEN&&(r=eD.AEg.NO_CHAT),{mode:t,layout:r,selectedParticipant:t!==eD.WtW.VOICE?ex.Z.getSelectedParticipant(n.id):null,participants:ex.Z.getParticipants(n.id),filteredParticipants:ex.Z.getFilteredParticipants(n.id),participantsOpen:ex.Z.getParticipantsOpen(n.id),chatOpen:ex.Z.getChatOpen(n.id),participantsListOpen:ex.Z.getParticipantsListOpen(n.id),participantsVersion:ex.Z.getParticipantsVersion(n.id)}},[g,n.id]),G=(0,u.Wu)([el.Z],()=>el.Z.getAllActiveStreams()),{selectedStream:H}=(0,u.cj)([el.Z],()=>({selectedStream:null!=B?el.Z.getActiveStreamForStreamKey(B.id):null}),[B]),z=(0,u.e7)([ec.Z],()=>ec.Z.getGuild(n.getGuildId())),W=(0,u.e7)([es.Z],()=>es.Z.getCall(n.id),[n.id]),q=(0,u.e7)([ed.ZP],()=>ed.ZP.getMentionCount(n.id),[n.id]),Y=(0,u.e7)([ea.default],()=>ea.default.getId()),{popoutWindow:K,popoutWindowAlwaysOnTop:X}=(0,u.cj)([F.Z],()=>({popoutWindow:F.Z.getWindow(eD.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:F.Z.getIsAlwaysOnTop(eD.KJ3.CHANNEL_CALL_POPOUT)})),Q=(0,u.e7)([eu.Z],()=>eu.Z.can(eD.Plq.CONNECT,n)),J=(0,u.e7)([eo.Z],()=>eo.Z.getToastsEnabled(n.id)),$=(0,u.e7)([D.Z],()=>D.Z.getAwaitingRemoteSessionInfo()),ee=(0,u.e7)([V.ZP],()=>V.ZP.callHeaderHeight),et=i.useCallback(e=>{y.ZP.updatedUnsyncedSettings({callHeaderHeight:e})},[]),en=null!=(t=null==z?void 0:z.id)?t:null,er=(0,P.Z)(en,n.id),ei=(0,u.e7)([S.Z],()=>S.Z.getFetchState(),[]),eh=(0,O.Z)(ei);i.useEffect(()=>{ei===S.O.ERROR&&eh!==S.O.ERROR&&(0,h.showToast)((0,h.createToast)(eL.intl.string(eL.t.AlJyIy),h.ToastType.FAILURE))},[ei,eh]);let ef=(0,u.e7)([I.ZP],()=>I.ZP.getSelfEmbeddedActivityForChannel(n.id),[n]);i.useEffect(()=>{let e=!1,t=null;return(async()=>{_&&N===eD.WtW.VIDEO&&(t=await ey.ZP.blockDisplaySleep(),e&&null!=t&&ey.ZP.unblockDisplaySleep(t))})(),()=>{null!=t?ey.ZP.unblockDisplaySleep(t):e=!0}},[_,N]);let em=(0,eO.Z)(n,!0),{hasParticipantsPanel:eg}=(0,eZ.Z)({location:"ChannelCall"}),eb=(0,M.bn)(d.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),{analyticsLocations:e_}=(0,A.ZP)(T.Z.CHANNEL_CALL),eC=o-eM.oo,ev=I.ZP.getEmbeddedActivitiesForChannel(n.id),{theme:eE}=(0,h.TCT)();return(0,r.jsx)(A.Gt,{value:e_,children:(0,r.jsx)(x.Z,{page:eD.ZY5.CHANNEL_CALL,children:(0,r.jsx)(ej.B2,{children:(0,r.jsxs)(eN._A,{children:[(0,r.jsx)(eV,{channel:n,guild:z,hasConnectPermission:Q,participantsOpen:R,participantsListOpen:k&&eg,renderExternalHeader:l,appContext:g,call:W,popoutWindow:K,popoutWindowAlwaysOnTop:X,mentionCount:q,selectedStream:H,mode:N,inCall:_,participants:C,filteredParticipants:E,participantsVersion:Z,layout:w,chatOpen:U,maxSidebarWidth:eC,shouldUseVoiceEffectsActionBar:em,currentUserId:Y,selectedParticipant:B,allActiveStreams:G,useNewInviteButton:er,connectedEmbeddedActivity:null!=ef?ef:void 0,showChatToasts:J,storedCallHeaderHeight:ee,updateStoredCallHeaderHeight:et,wrapperRef:s,callContainerDimensions:{width:c,height:p},callContainerRef:f,channelChatRef:m,width:o,maxHeight:a,forceShowControls:eb,awaitingRemoteSessionInfo:$,currentChannelActivities:ev,theme:eE}),!n.isPrivate()&&(0,r.jsx)(eN.YR,{}),(0,r.jsx)(ej.H_,{})]})})})})}},909820:function(e,t,n){n.d(t,{B2:()=>o,H_:()=>a,ZP:()=>s});let{Layer:r,LayerContainer:i,LayerProvider:l}=(0,n(481060).Xvx)("ChannelCallChat"),a=i,o=l,s=r},493010:function(e,t,n){n.d(t,{Z:()=>x});var r=n(951288),i=n(647438),l=n(704215),a=n(481060),o=n(475179),s=n(561472),c=n(287746),u=n(325708),d=n(541716),p=n(266454),h=n(665149),f=n(703558),m=n(585483),g=n(909820),b=n(981631),_=n(921944),y=n(388032),C=n(952899);let x=function(e){let{channel:t,guild:n,maxWidth:x}=e;i.useEffect(()=>{(0,p.Q3)(l.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:_.L.AUTO})},[]);let v=i.useCallback(()=>{o.Z.updateChatOpen(t.id,!1),m.S.safeDispatch(b.CkL.FOCUS_CHAT_BUTTON)},[t.id]),O=(0,r.jsx)(h.ZP.Icon,{icon:a.Dio,tooltip:y.intl.string(y.t.cpT0Cg),onClick:v});return(0,r.jsxs)(u.Z,{sidebarType:u.y.CallChatSidebar,maxWidth:x,floatingLayer:g.ZP,children:[(0,r.jsx)(s.Z,{channel:t,draftType:f.d.ChannelMessage}),(0,r.jsxs)(h.ZP,{toolbar:O,"aria-label":y.intl.string(y.t.BIYAqa),children:[(0,r.jsx)(h.ZP.ChannelIcon,{icon:a.kBi,"aria-label":y.intl.string(y.t.Kx5kCA)}),(0,r.jsx)(h.ZP.Title,{children:t.name})]}),(0,r.jsx)("div",{className:C.chat,children:(0,r.jsx)(c.Z,{channel:t,guild:n,chatInputType:d.Ie.SIDEBAR},t.id)})]})}},742603:function(e,t,n){n.d(t,{Z:()=>W}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(99690),u=n(40851),d=n(657305),p=n(835473),h=n(12498),f=n(933557),m=n(471445),g=n(925329),b=n(554747),_=n(954313),y=n(897669),C=n(665149),x=n(984370),v=n(910611),O=n(454585),j=n(134483),E=n(210975),S=n(809244),I=n(937995),P=n(618158),Z=n(358221),T=n(362721),N=n(887012),A=n(613548),w=n(221888),R=n(339340),M=n(354459),D=n(981631),L=n(231338),k=n(388032),U=n(39219),B=n(430864);function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function H(e){let{focusedParticipant:t,channel:n}=e,i=(0,u.bp)(),l=(0,o.e7)([Z.Z],()=>Z.Z.getLayout(n.id,i));return(0,r.jsx)(P.Z,{children:(0,r.jsx)(w.Z,{participant:t,maxVisibleUsers:5,guildId:n.getGuildId(),channelId:n.id,disableInteraction:i===D.IlC.POPOUT||l===D.AEg.FULL_SCREEN})})}function V(e){let{user:t,channel:n,stream:i,color:l}=e,a=(0,S.Z)(n,t,i);return null==t||null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:U.avatar,size:s.EFr.SIZE_24,user:t,animate:!1}),(0,r.jsx)(s.Text,{className:U.playingText,variant:"text-md/medium",color:l,children:a})]})}function z(e){let t,{focusedApplication:n,focusedParticipant:i,channel:l}=e,a=(0,N.Z)(l,!0),o=(0,b.qY)(l.id),c=null!=o?(0,_.DK)(o):null,u=null!=o;if((null==i?void 0:i.type)===M.fO.ACTIVITY)null!=n&&(t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.ZP.Divider,{className:U.divider}),(0,r.jsx)(g.Z,{game:n,className:U.activityIcon}),(0,r.jsx)(s.Text,{className:U.playingText,variant:"text-md/normal",color:"none",children:(0,d.Z)(n.name)}),a&&(0,r.jsx)(H,{channel:l,focusedParticipant:i})]}));else if((null==i?void 0:i.type)===M.fO.STREAM){let e=i.user,n=i.stream;t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.ZP.Divider,{className:U.divider}),(0,r.jsx)(V,{user:e,channel:l,stream:n,color:a?"header-primary":"none"}),a&&(0,r.jsx)(H,{channel:l,focusedParticipant:i})]})}else u&&(t=(0,r.jsx)(y.Z,{guildEvent:o,recurrenceId:c}));return(0,r.jsx)("div",{className:U.container,children:t})}function W(e){let{channel:t,guild:l,appContext:c,inCall:u,isChatOpen:d,exitFullScreen:g}=e,{focusedParticipant:b}=(0,o.cj)([Z.Z],()=>({focusedParticipant:Z.Z.getSelectedParticipant(t.id),participantsOpen:Z.Z.getParticipantsOpen(t.id)}),[t.id]),_=i.useContext(I.h9),y=(0,f.ZP)(t),S=(0,m.KS)(t),[P]=(0,p.Z)((null==b?void 0:b.type)===M.fO.ACTIVITY?[b.applicationId]:[]),N=k.intl.string(k.t.BVZqJi);t.isDM()?N=k.intl.string(k.t.jN2DfX):t.isGroupDM()&&(N=k.intl.string(k.t["e5y+go"]));let w=(0,o.e7)([h.Z],()=>h.Z.getChannelStatus(t)),D=t.isGuildVoice()&&u&&null!=w&&w.length>0,H=(0,T.ZP)(t),V=D?(0,r.jsx)(s.ua7,{text:k.intl.string(k.t.Mgpxi4),delay:500,position:"bottom",shouldShow:H,children:e=>(0,r.jsxs)(s.P3F,G(F({},e),{className:a()(U.channelStatusClickable,{[U.hoverable]:H}),onClick:H?W:void 0,children:[(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:a()(U.channelStatus,B.markup,{[U.hoverable]:H}),children:O.Z.parseVoiceChannelStatus(w,!0,{channelId:t.id})}),H&&(0,r.jsx)(s.vdY,{size:"custom",color:"currentColor",className:a()(U.pencilIcon,U.hoverable),width:14,height:14})]}))}):null;function W(){(0,s.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,339340));return n=>(0,r.jsx)(e,F({channel:t},n))},{modalKey:R.a})}let q=(0,E.m$)({channelId:t.id});return(0,r.jsxs)("div",{className:U.subtitleContainer,children:[(0,r.jsx)(s.f6W,{theme:L.BR.DARK,children:e=>(0,r.jsxs)(C.ZP,{onDoubleClick:x.O,transparent:!0,showToolbar:!_,className:a()(e,U.headerBar),innerClassName:U.headerBarChildren,toolbarClassName:U.toolbar,childrenBottom:V,toolbar:(0,r.jsx)(A.Z,{channel:t,appContext:c,inCall:u,isChatOpen:d,exitFullScreen:g}),children:[(0,r.jsx)(C.ZP.Title,{wrapperClassName:U.title,children:(0,r.jsxs)(r.Fragment,{children:[null!=S?(0,r.jsx)(C.ZP.ChannelIcon,{icon:S,"aria-label":N}):null,y,q&&(0,r.jsx)(s.ua7,{text:k.intl.string(k.t.QyZ4TU),children:e=>(0,r.jsx)(s.tQf,G(F({},e),{size:"xs","aria-label":k.intl.string(k.t.VHXh8f),color:s.TVs.colors.INTERACTIVE_NORMAL,className:U.secureFramesIcon}))})]})}),(0,r.jsx)(v.TS,{channel:t,guild:l}),(0,r.jsx)(z,{focusedApplication:P,focusedParticipant:b,channel:t})]})}),(0,r.jsx)(j.Z,{channelId:t.id})]})}},613548:function(e,t,n){n.d(t,{Z:()=>D}),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(481060),d=n(475179),p=n(100527),h=n(906732),f=n(194082),m=n(236091),g=n(517525),b=n(2818),_=n(954551),y=n(44136),C=n(651183),x=n(853476),v=n(390322),O=n(616286),j=n(975146),E=n(597998),S=n(606304),I=n(358221),P=n(355827),Z=n(185935),T=n(354459),N=n(388032),A=n(956235);function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function M(e){let{channelId:t,guildId:n}=e,i=(0,c.Wu)([S.Z,I.Z],()=>{let e=Date.now();return s()(S.Z.getSpeakers()).map(e=>I.Z.getParticipant(t,e)).filter(e=>null!=e&&e.type===T.fO.USER&&e.speaking&&!(0,y.ZP)(e)).sortBy(t=>-S.Z.getSpeakingDuration(t.user.id,e)).slice(0,3).value()});return 0===i.length?null:(0,r.jsx)(r.Fragment,{children:i.map((e,t)=>(0,r.jsx)(u.ua7,{position:"bottom",color:u.ua7.Colors.GREY,text:N.intl.formatToPlainString(N.t.JjdizM,{username:e.user.username}),children:l=>(0,r.jsx)(E.ZP,R(w({},l),{className:a()(A.speaker,{[A.last]:t===i.length-1}),user:e.user,speaking:!0,collapsed:!0,guildId:n}))},e.id))})}function D(e){let{channel:t,isChatOpen:n}=e,l=i.useRef(null),{analyticsLocations:o}=(0,h.ZP)(p.Z.VOICE_CHANNEL_HEADER),s=t.id,{voiceParticipantsHidden:y,selectedParticipant:E,userParticipantCount:S,participantsListOpen:N}=(0,c.cj)([I.Z],()=>({selectedParticipant:I.Z.getSelectedParticipant(s),voiceParticipantsHidden:I.Z.getVoiceParticipantsHidden(s),userParticipantCount:I.Z.getUserParticipantCount(s),participantsListOpen:I.Z.getParticipantsListOpen(s)}),[s]),D=t.isGuildVoice()&&!n,{hasParticipantsPanel:L}=(0,Z.Z)({location:"ChannelCallHeaderToolbar"}),k=!N&&L&&(t.isGuildVoice()||t.isGroupDM()),{enabled:U,inInbox:B}=b.Z.useExperiment({location:"ChannelCallHeaderToolbar"}),F=[];return y&&F.push((0,r.jsx)(M,{channelId:s,guildId:t.guild_id},"current-speaker")),F.push((0,r.jsx)(m.Z,{className:A.button,channelId:s},"clips-enabled-indicator")),(null==E?void 0:E.type)===T.fO.STREAM&&(F.push((0,r.jsx)(C.Z,{className:A.button,participant:E},"warning")),F.push((0,r.jsx)(g.Z,{size:f.ZP.Sizes.LARGE,className:A.button,participant:E,showQuality:!0,premiumIndicator:!1},"live-indicator"))),(null==E?void 0:E.type)===T.fO.USER&&F.push((0,r.jsx)(x.Z,{className:A.button,userId:E.id},"video-warning")),y&&!L&&F.push((0,r.jsx)(u.yRy,{targetElementRef:l,position:"bottom",renderPopout:()=>(0,r.jsx)(v.Z,{children:(0,r.jsx)(P.Z,{channel:t})}),children:(e,t)=>{let{isShown:n}=t;return(0,i.createElement)(j.Z,R(w({},e),{buttonRef:l,isActive:n,count:S,key:"call-members",className:A.button}))}},"call-members-popout")),U&&!B&&F.push((0,r.jsx)(_.Z,{className:A.button},"for-later")),k&&F.push((0,r.jsx)(j.Z,{className:a()(A.button,{[A.lastButton]:n}),onClick:()=>d.Z.toggleParticipantsList(t.id,!N)},"participants-list-button")),D&&F.push((0,r.jsx)(O.T,{channelId:t.id,className:a()(A.button,{[A.lastButton]:N}),disabled:n},"chat-spacer")),(0,r.jsx)(h.Gt,{value:o,children:F})}},355827:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(207055),o=n(938475),s=n(981631),c=n(388032),u=n(560059);function d(e){let{channel:t}=e,n=(0,i.e7)([o.ZP],()=>o.ZP.getVoiceStatesForChannel(t));return(0,r.jsxs)("div",{className:u.root,children:[(0,r.jsx)(l.Text,{variant:"text-xs/bold",className:u.header,children:c.intl.format(c.t.e95u3N,{count:n.length})}),(0,r.jsx)(l.Ttm,{className:u.scroller,children:(0,r.jsx)(a.Z,{allowDragging:!1,allowPreviews:!1,className:u.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:s.Sbl.CHANNEL_CALL})})]})}},71127:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(657707),l=n(475179),a=n(325708),o=n(665149),s=n(909820),c=n(388032);function u(e){let{channel:t,maxWidth:n}=e,u=(0,r.jsx)(o.ZP.Icon,{icon:i.Dio,tooltip:c.intl.string(c.t.cpT0Cg),onClick:()=>l.Z.toggleParticipantsList(t.id,!1)});return(0,r.jsx)(a.Z,{sidebarType:a.y.ParticipantsSidebar,maxWidth:n,floatingLayer:s.ZP,children:(0,r.jsxs)(o.ZP,{toolbar:u,"aria-label":c.intl.string(c.t.jNqDh4),children:[(0,r.jsx)(o.ZP.Icon,{icon:i.BFJ,disabled:!0,"aria-label":c.intl.string(c.t.jNqDh4)}),(0,r.jsx)(o.ZP.Title,{children:c.intl.string(c.t.jNqDh4)})]})})}},408534:function(e,t,n){n.d(t,{Z:()=>j});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(40851),o=n(812206),s=n(420529),c=n(831002),u=n(430824),d=n(358221),p=n(843638),h=n(441061),f=n(167675),m=n(532239),g=n(811423),b=n(418469),_=n(673539),y=n(589049),C=n(354459),x=n(981631),v=n(388032),O=n(895634);function j(e){let{onClose:t,onSelect:n,channel:j,remoteMode:E,onInteraction:S}=e,I=(0,a.bp)(),{id:P,type:Z}=j,T=(0,i.e7)([u.Z],()=>u.Z.getGuild(j.guild_id),[j.guild_id]),N=(0,i.e7)([d.Z],()=>d.Z.getSelectedParticipant(P)),A=(null==N?void 0:N.type)===C.fO.STREAM?N.stream:null,w=(0,i.e7)([o.Z],()=>(null==N?void 0:N.type)===C.fO.ACTIVITY?o.Z.getApplication(N.applicationId):void 0),R=(0,h.Z)(P),M=(0,_.Z)(P),D=(0,m.Z)(j,T,null==A?void 0:A.ownerId,null==w?void 0:w.id),L=(0,p.Z)(P),k=(0,y.Z)(),U=(0,c.$A)(P),B=(0,c.j8)(P),F=(0,b.Z)(A,I),G=(0,g.Z)(w,P),H=(0,f.Z)(),V=(0,s.Z)(j);return(0,r.jsxs)(l.v2r,{className:O.menu,onClose:t,onSelect:n,onInteraction:S,navId:"more-settings-context","aria-label":v.intl.string(v.t.FTLzdX),children:[(0,r.jsx)(l.kSQ,{children:Z!==x.d4z.GUILD_STAGE_VOICE?D:null}),(0,r.jsxs)(l.kSQ,{children:[Z===x.d4z.GUILD_STAGE_VOICE?U:null,Z===x.d4z.GUILD_STAGE_VOICE?B:null,E||Z===x.d4z.GUILD_STAGE_VOICE?null:L,H,Z!==x.d4z.GUILD_STAGE_VOICE?R:null,Z===x.d4z.GUILD_STAGE_VOICE||Z===x.d4z.GUILD_VOICE?M:null]}),(0,r.jsx)(l.kSQ,{children:V}),(0,r.jsx)(l.kSQ,{children:k}),(0,r.jsxs)(l.kSQ,{children:[null!=A?F:null,null!=w?G:null]})]})}},900211:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(951288),i=n(647438),l=n(347469),a=n(432267);function o(e){let{resizableNode:t,onResize:n,onResizeEnd:o,minHeight:s,maxHeight:c}=e,[u,d]=i.useState(null);i.useEffect(()=>{var e,n;d(null!=(n=null==(e=t.current)?void 0:e.offsetHeight)?n:null)},[t]);let p=(0,l.Z)({initialElementDimension:u,minDimension:s,maxDimension:c,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:o,orientation:l.y.VERTICAL_BOTTOM});return(0,r.jsx)("div",{onMouseDown:p,className:a.resizeHandle})}},351248:function(e,t,n){n.d(t,{Z:()=>v}),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(748780),s=n(442837),c=n(215569),u=n(780384),d=n(481060),p=n(410030),h=n(451478),f=n(584511),m=n(354459),g=n(907894),b=n(149715),_=n(162130);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let C={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:o.Z.Easing.inOut(o.Z.Easing.back()),EASING_OUT:o.Z.Easing.quad};class x extends i.PureComponent{componentDidMount(){this.componentDidAppear()}componentDidAppear(){let{scaleAnimation:e,widthAnimation:t}=this;e.setValue(1),t.setValue(1)}componentWillEnter(e){let{scaleAnimation:t,widthAnimation:n}=this;t.setValue(0),n.setValue(0),o.Z.parallel([o.Z.timing(t,{toValue:1,duration:C.DURATION_IN,easing:C.EASING_IN}),o.Z.timing(n,{toValue:1,duration:200})]).start(e)}componentWillLeave(e){let{scaleAnimation:t,spriteAnimation:n,spriteOpacity:r,widthAnimation:i}=this;r.setValue(1),n.setValue(0);let l=[];for(let e=0;e<23;e++)l.push(o.Z.timing(n,{toValue:-26*e,duration:17}));o.Z.sequence([o.Z.timing(t,{toValue:0,duration:C.DURATION_OUT,easing:C.EASING_OUT}),o.Z.sequence(l),o.Z.timing(i,{toValue:0,duration:125})]).start(e)}getScaleStyle(){let{scaleAnimation:e}=this;return o.Z.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[C.SCALE_MIN,C.SCALE_MAX]})}],opacity:e})}getSpriteStyle(){let{spriteAnimation:e,spriteOpacity:t}=this;return{backgroundPosition:e,opacity:t}}getWidthStyle(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px","".concat(this.props.width,"px")]})}}render(){let{theme:e,children:t,className:n}=this.props,i=(0,u.wj)(e),l=a()(g.sprite,{[_.crossWhite]:i,[_.crossGrey]:!i});return(0,r.jsxs)(o.Z.div,{className:a()(g.transition,n),style:this.getWidthStyle(),children:[(0,r.jsx)("div",{className:a()(g.spriteWrapper,b.horizontal,b.justifyCenter,b.alignCenter),children:(0,r.jsx)(o.Z.div,{className:l,style:this.getSpriteStyle()})}),(0,r.jsx)(o.Z.div,{style:this.getScaleStyle(),children:t})]})}constructor(...e){super(...e),y(this,"scaleAnimation",new o.Z.Value(0)),y(this,"spriteAnimation",new o.Z.Value(0)),y(this,"spriteOpacity",new o.Z.Value(0)),y(this,"widthAnimation",new o.Z.Value(0))}}function v(e){var t;let{participants:n,onContextMenu:i,className:l,onClick:o,width:u,guildId:b}=e,_=(0,p.ZP)(),y=(t=n.length,((0,d.pxk)(d.EFr.SIZE_80)+16)*t>u?d.EFr.SIZE_40:d.EFr.SIZE_80),C=(0,s.e7)([h.Z],()=>h.Z.isFocused()),v=n.map(e=>{var t,n;if(e.type!==m.fO.USER)return null;let{user:l,voiceState:a,speaking:s,ringing:c}=e;return(0,r.jsx)(x,{className:g.participant,width:(0,d.pxk)(y),theme:_,children:(0,r.jsx)(f.Z,{userId:l.id,src:l.getAvatarURL(b,(0,d.pxk)(y),s&&C),size:y,muted:null!=(t=null==a?void 0:a.isVoiceMuted())&&t,deafen:null!=(n=null==a?void 0:a.isVoiceDeafened())&&n,speaking:s,ringing:c,onClick:t=>null==o?void 0:o(e,t),onContextMenu:t=>null==i?void 0:i(e,t)},e.id)},l.id)});return(0,r.jsx)(c.W,{component:"div",className:a()(g.root,l),children:v})}},18759:function(e,t,n){n.d(t,{YR:()=>a,ZP:()=>s,_A:()=>o});let{Layer:r,LayerContainer:i,LayerProvider:l}=(0,n(481060).Xvx)("VoiceChannelEffectsCall"),a=i,o=l,s=r},295510:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(153867),l=n(468026),a=n(394059),o=n(388032);function s(e){var{type:t,onConfirm:n}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["type","onConfirm"]);let c=t===a.K.STREAM?o.intl.string(o.t["/lFMWl"]):o.intl.string(o.t.xzxhZW),u=t===a.K.STREAM?o.intl.string(o.t.xaOX7e):o.intl.string(o.t.oU1p9P);return(0,r.jsx)(l.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({confirmText:o.intl.string(o.t["cY+Ooa"]),secondaryConfirmText:o.intl.string(o.t["JdIQ/f"]),title:c,cancelText:o.intl.string(o.t["ETE/oK"]),onConfirm:n,onConfirmSecondary:()=>{i.ZP.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0})},body:u},s))}},843638:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(442837),l=n(828214),a=n(475179),o=n(358221),s=n(354459),c=n(388032);function u(e){let{selectedParticipant:t}=(0,i.cj)([o.Z],()=>({selectedParticipant:o.Z.getSelectedParticipant(e)}),[e]);return(0,r.jsx)(l.S8,{id:"call-grid-view",label:c.intl.string(c.t["3jrUBg"]),checked:null==t,action:()=>{null!=t?a.Z.selectParticipant(e,null):a.Z.selectParticipant(e,s.dF.AUTO)}})}},441061:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(475179),o=n(358221),s=n(388032);function c(e){let t=(0,i.e7)([o.Z],()=>o.Z.getVoiceParticipantsHidden(e));return(0,r.jsx)(l.S89,{id:"no-video-hide",label:s.intl.string(s.t.BL8ss7),checked:!t,action:()=>a.Z.toggleVoiceParticipantsHidden(e,!t)})}},431368:function(e,t,n){n.d(t,{Z:()=>d}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(740492),o=n(984014),s=n(295510),c=n(394059),u=n(388032);function d(e,t){let[n,d,p]=(0,o.Z)(e,t),h=(0,i.e7)([a.ZP],()=>a.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,r.jsx)(l.S89,{id:"self-stream-hide",label:u.intl.string(u.t.aol7iY),checked:!d,action:()=>{if(h||d)return p(!d);(0,l.h7j)(e=>{var t,n;return(0,r.jsx)(s.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={type:c.K.STREAM,onConfirm:()=>p(!d)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}}):null}},167675:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(740492),o=n(27584),s=n(295510),c=n(394059),u=n(65154),d=n(388032);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Yn.DEFAULT,[n,p,h]=(0,o.Z)(e,t),f=(0,i.e7)([a.ZP],()=>a.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,r.jsx)(l.S89,{id:"self-video-hide",label:d.intl.string(d.t.MH8ESU),checked:!p,action:()=>{if(f||p)return h(!p);(0,l.h7j)(e=>{var t,n;return(0,r.jsx)(s.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={type:c.K.VIDEO,onConfirm:()=>h(!p)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}}):null}},532239:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(481060),l=n(40851),a=n(340541),o=n(493754),s=n(496675),c=n(981631),u=n(388032);function d(e,t,n,d){let p={streamUserId:n,channel:e,applicationId:d,appContext:(0,l.bp)()},h=()=>{null!=t&&e.type===c.d4z.GUILD_VOICE&&(0,o.W)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({guild:t},p))},{entrypoints:f}=(0,a._k)({location:"more_settings_invite_item"}),m=f?i.oLu:i.ejJ;if(null!=d)return(0,r.jsx)(i.sNh,{id:"invite-to-stream",label:u.intl.string(u.t["OzOM/v"]),action:h,icon:i.ejJ});if(null==t||null==e||!s.Z.can(c.Plq.CREATE_INSTANT_INVITE,e))return null;let g=f?u.intl.string(u.t["EE+P0N"]):u.intl.string(u.t["6Qgren"]);return(0,r.jsx)(i.sNh,{id:"invite-friends",label:g,action:h,icon:m})}},811423:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(726521),o=n(592125),s=n(388032);function c(e,t){let n=(0,i.e7)([o.Z],()=>o.Z.getChannel(t)),c=null==n?void 0:n.getGuildId();return null==e?null:(0,r.jsx)(l.kSQ,{children:(0,r.jsx)(l.sNh,{id:"report-app",color:"danger",label:s.intl.string(s.t.NgA5vr),action:()=>(0,a.uu)({application:e,entrypoint:"activity_ui_channel_call",contextualGuildId:null!=c?c:void 0,contextualChannelId:null==n?void 0:n.id}),icon:l.U65})})}},673539:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(979696),o=n(963876),s=n(388032);function c(e){let t=(0,i.e7)([a.Z],()=>a.Z.getToastsEnabled(e));return(0,r.jsx)(l.S89,{id:"show-call-chat-toasts",label:s.intl.string(s.t["5NL5vb"]),checked:t,action:()=>o.Z.setCallChatToastsEnabled(e,!t)})}},589049:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),l=n(230711),a=n(40851),o=n(906732),s=n(174609),c=n(358085),u=n(981631),d=n(388032);function p(){let e=(0,a.bp)(),{analyticsLocations:t}=(0,o.ZP)();return e===u.IlC.APP||c.isPlatformEmbedded?(0,r.jsx)(i.sNh,{id:"voice-and-video-settings",label:d.intl.string(d.t.dsXapK),action:()=>{(0,s.Z)(),l.Z.open(u.oAB.VOICE,null,{analyticsLocations:t})},icon:i.ewm}):null}},213652:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(906732),s=n(435064),c=n(39604),u=n(441167),d=n(871499),p=n(199902),h=n(314897),f=n(358221),m=n(522651),g=n(354459),b=n(388032),_=n(689598);function y(e){let{channel:t}=e,{parentAnalyticsLocation:n}=(0,o.ZP)(),y=(0,l.e7)([f.Z],()=>f.Z.getSelectedParticipant(t.id)),C=(null==y?void 0:y.type)===g.fO.STREAM,x=(0,l.e7)([p.Z],()=>C?p.Z.getActiveStreamForStreamKey(y.id):null),{ignoreSenderPreference:v}=u.Z.useExperiment({location:"ActionBarClipsButton"},{autoTrackExposure:!1}),{viewerClippingAllowed:O,isAtMaxSavingClipOperations:j}=(0,l.cj)([s.Z],()=>({viewerClippingAllowed:null!=x&&(s.Z.isViewerClippingAllowedForUser(x.ownerId)||v),isAtMaxSavingClipOperations:s.Z.getIsAtMaxSaveClipOperations()})),E=s.Z.getSettings().clipsEnabled,S=(null==x?void 0:x.ownerId)===h.default.getId(),I=!E||!(S||O)||j||null==y,P=i.useCallback(e=>{var t,n;return(0,r.jsx)(a.xmR,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={color:"currentColor"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},[]);return(0,r.jsx)(d.Z,{className:_.actionBarButton,onClick:()=>{I||((0,m.v)(n,m.d.CLIP),S?(0,c.C1)():(0,c.C1)(y.id))},disabled:I,iconComponent:P,label:null==x?b.intl.string(b.t.eg5qtb):S||O?E?j?void 0:b.intl.string(b.t.U4URzM):b.intl.string(b.t.wSS1yM):b.intl.string(b.t.aRifJS),grow:!1})}},320427:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(399606),a=n(481060),o=n(125268),s=n(673125),c=n(984063),u=n(871499),d=n(304388),p=n(388032);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(){let e=(0,l.e7)([s.Z],()=>s.Z.getDrawMode()),t=(null==e?void 0:e.type)===c.W.LINE,n=i.useRef(null),f=()=>{t?(0,o.Bo)(null):(0,o.Bo)({type:c.W.LINE})};return(0,r.jsx)(d.Z,{renderPopout:()=>null,popoutTargetRef:n,children:e=>{var i,l,o=h({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e));return(0,r.jsx)(u.Z,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},o),l=l={buttonRef:n,label:p.intl.string(p.t.ZQCf9f),isActive:t,iconComponent:a.vdY,onClick:f},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},145010:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(399606),a=n(481060),o=n(125268),s=n(673125),c=n(984063),u=n(390322),d=n(871499),p=n(12168),h=n(304388),f=n(388032);function m(e){let{channel:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.getDrawMode()),m=(null==n?void 0:n.type)===c.W.EMOJI_HOSE,g=i.useRef(null),b=(e,t)=>{null!=e?(0,o.Bo)({type:c.W.EMOJI_HOSE,emojiName:e.name,emojiId:e.id}):m&&(0,o.Bo)(null),null==t||t()};return(0,r.jsx)(h.Z,{renderPopout:e=>{let{closePopout:n,onFocus:i}=e;return(0,r.jsx)(u.Z,{children:(0,r.jsx)(p.Z,{title:f.intl.string(f.t.XYLOyM),channel:t,closePopout:n,onFocus:i,onSelectEmoji:e=>b(e,n)})})},popoutTargetRef:g,children:e=>{var t,n;return(0,r.jsx)(d.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={buttonRef:g,iconComponent:a.j9u,isActive:m||e.isActive,onClick:t=>{b(null),e.onClick(t)}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}},304388:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(930295),a=n(481060),o=n(579185),s=n(420212),c=n(689598);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function d(e){var{renderPopout:t,onMouseEnter:n,onMouseLeave:l,closePopout:a,isHovered:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["renderPopout","onMouseEnter","onMouseLeave","closePopout","isHovered"]);return i.useEffect(()=>{o||a()},[a,o]),(0,r.jsx)("div",{onMouseEnter:n,onMouseLeave:l,children:t(u({closePopout:a},s))})}let p=i.forwardRef(function(e,t){let{renderPopout:n,popoutTargetRef:p,children:h,align:f="left",isPopoutBlocked:m,onPopoutOpen:g,onPopoutClose:b,onRequestClose:_}=e,[y,C]=i.useState(!1),{isHovered:x,setIsHovered:v,onMouseEnter:O,onMouseLeave:j,cancelTimers:E}=(0,o.Z)(200,300);function S(e){"focus"===e.type||y||O()}function I(){y||j()}function P(e){E(),C(!y),y?null==b||b():null==g||g(),(!x||y)&&e()}i.useImperativeHandle(t,()=>({hidePopout(){v(!1),C(!1)}}),[v,C]);let Z=x&&!m||y;return(0,r.jsx)(a.yRy,{targetElementRef:p,animation:a.yRy.Animation.FADE,shouldShow:Z,animationPosition:"top",position:"top",align:f,spacing:16,onRequestClose:()=>{if((null==_?void 0:_())===l.F)return l.F;v(!1),C(!1),null==b||b()},renderPopout:e=>(0,r.jsx)(d,u({isHovered:Z,onFocus:()=>C(!0),onMouseEnter:O,onMouseLeave:I,renderPopout:n},e)),children:e=>{let{onClick:t,onKeyDown:n}=e;return(0,r.jsx)(r.Fragment,{children:h({onClick:e=>P(()=>t(e)),onKeyDown:e=>{(e.key===s.vn.ENTER||e.key===s.vn.SPACE)&&P(()=>n(e))},className:c.actionBarButton,onMouseEnter:S,onMouseLeave:I,isActive:y})})}})})},159909:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(399606),a=n(481060),o=n(125268),s=n(673125),c=n(871499),u=n(304388),d=n(388032);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(){let e=(0,l.e7)([s.Z],()=>!s.Z.visibleOverlayCanvas),t=i.useRef(null);return(0,r.jsx)(u.Z,{renderPopout:()=>null,popoutTargetRef:t,children:n=>{var i,l,s=p({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(n));return(0,r.jsx)(c.Z,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},s),l=l={buttonRef:t,label:d.intl.string(d.t.Cuo44O),isActive:e,iconComponent:a.tEF,onClick:o.LT},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},878752:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(100527),l=n(906732),a=n(779618),o=n(446226),s=n(441167),c=n(822183),u=n(131951),d=n(213652),p=n(320427),h=n(145010),f=n(159909),m=n(474830);function g(e){let{channel:t,hasActiveStream:n,showRightDivider:g=!1}=e,{analyticsLocations:b}=(0,l.ZP)(i.Z.VOICE_CONTROL_TRAY),_=(0,o.Z)(),{isSharedCanvasEnabled:y}=c.Z.useExperiment({guildId:null==t?void 0:t.guild_id,location:"b7309a_1"}),{enableViewerClipping:C}=s.Z.useExperiment({location:"VoiceEffectsActionBar"},{autoTrackExposure:!1}),x=(0,a.Z)(u.Z);if(null==t||null!=_)return null;let v=C&&x,O=y&&n;return(0,r.jsxs)(l.Gt,{value:b,children:[(0,r.jsxs)("div",{className:m.voiceEffectsActionBar,children:[v&&(0,r.jsx)(d.Z,{channel:t}),O&&(0,r.jsx)(p.Z,{}),O&&(0,r.jsx)(h.Z,{channel:t}),O&&(0,r.jsx)(f.Z,{})]}),g&&(v||O)&&(0,r.jsx)("div",{className:m.divider})]})}},193701:function(e,t,n){n.d(t,{Z:()=>l});var r=n(442837),i=n(375954);function l(e){let t=(0,r.e7)([i.Z],()=>i.Z.getLastMessage(e));return null==t?void 0:t.changelogId}},631937:function(e,t,n){n.d(t,{Z:()=>h});var r=n(647438),i=n(442837),l=n(661111),a=n(706454),o=n(306680),s=n(626135),c=n(802098),u=n(193701),d=n(702321),p=n(981631);function h(e){let t=(0,u.Z)(e),n=(0,i.e7)([a.default],()=>a.default.locale),h=(0,i.e7)([c.Z],()=>c.Z.getChangelog(null!=t?t:"",n),[t,n]),f=(0,d.Z)(e),m=r.useRef(f?Date.now():null),g=(0,i.e7)([o.ZP],()=>o.ZP.getUnreadCount(e),[e]),b=r.useRef(g);r.useEffect(()=>{b.current=g}),r.useEffect(()=>{m.current=Date.now()},[f]),r.useEffect(()=>{f&&null!=t&&l.Z.fetchChangelog(t,n,!0)},[t,n,f]),r.useEffect(()=>{f&&null!=h&&s.default.track(p.rMx.CHANGE_LOG_OPENED,{change_log_id:"".concat(h.date,":").concat(h.revision),unread_count:b.current})},[f,h]),r.useEffect(()=>{let e=m.current;return()=>{f&&null!=h&&null!=e&&(s.default.track(p.rMx.CHANGE_LOG_CLOSED,{seconds_open:Math.round((Date.now()-e)/1e3),change_log_id:"".concat(h.date,":").concat(h.revision),unread_count:b.current}),m.current=0)}},[f,h])}},413251:function(e,t,n){n.d(t,{Z:()=>c});var r=n(647438),i=n(442837),l=n(384275),a=n(728345),o=n(812206),s=n(881998);function c(e){let t=(null==e?void 0:e.require_application_authorization)?e.application_id:null,{authorizationsFetchState:n,applicationOAuth2Token:c}=(0,i.cj)([s.Z],()=>({authorizationsFetchState:s.Z.getFetchState(),applicationOAuth2Token:s.Z.getNewestTokenForApplication(t)})),u=(0,i.e7)([o.Z],()=>o.Z.getApplication(t)),d=(0,i.e7)([o.Z],()=>o.Z.getApplication(null==u?void 0:u.parentId));(0,r.useEffect)(()=>{null!=t&&n===s.M.NOT_FETCHED&&l.Z.fetch()},[n,t]),(0,r.useEffect)(()=>{null!=t&&null==u&&n===s.M.FETCHED&&a.ZP.fetchApplications([t],!1)},[t,c,n,u]),(0,r.useEffect)(()=>{null!=u&&null!=u.parentId&&null==d&&n===s.M.FETCHED&&a.ZP.fetchApplications([u.parentId],!1)},[u,n,d]);let p=null!=u&&(null==u.parentId||null!=d);return{showLinkedLobbyApplicationLoadingIndicator:null!=t&&(n!==s.M.FETCHED||null==u||!p),requiredLinkedLobbyApplication:null==c&&null!=u&&p?null!=d?d:u:null}}},890977:function(e,t,n){n.d(t,{b:()=>y}),n(49124);var r,i,l=n(951288),a=n(647438),o=n(120356),s=n.n(o),c=n(500923),u=n.n(c),d=n(442837),p=n(607070),h=n(484334),f=n(158877),m=n(505723);function g(e){let t=(0,d.e7)([p.Z],()=>p.Z.useReducedMotion),n=a.useRef(null);return a.useEffect(()=>{let r;return null!=n.current&&(r=u().loadAnimation({container:n.current,renderer:"svg",loop:!0,autoplay:!t,animationData:JSON.parse(JSON.stringify(e))})),()=>{null==r||r.destroy()}},[n,t,e]),n}function b(e){let{className:t}=e;return(0,l.jsx)("div",{ref:g(r||(r=n.t(h,2))),className:s()(m.glow,t)})}function _(e){let{className:t}=e;return(0,l.jsx)("div",{ref:g(i||(i=n.t(f,2))),className:s()(m.trinkets,t)})}let y=e=>{let{children:t,animationContainerClassName:n,glowClassName:r,trinketsClassName:i,onMount:o}=e;return a.useEffect(()=>{o()},[o]),(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)(b,{className:r}),(0,l.jsx)("div",{className:m.circleLayer}),(0,l.jsx)("div",{className:m.entrypoint,children:t}),(0,l.jsx)(_,{className:i})]})}},823748:function(e,t,n){n.d(t,{Z:()=>tc}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(392711),u=n.n(c),d=n(843611),p=n(442837),h=n(704215),f=n(952265),m=n(755721),g=n(481060),b=n(475179),_=n(239091),y=n(377993),C=n(697309),x=n(457868),v=n(561472),O=n(36311),j=n(112724),E=n(902840),S=n(110924),I=n(317381),P=n(82888),Z=n(917107),T=n(296797),N=n(622822),A=n(100527),w=n(413523),R=n(358221),M=n(677601),D=n(541716),L=n(236091),k=n(663993),U=n(252618),B=n(201493),F=n(266454),G=n(174130),H=n(588322),V=n(591472),z=n(446226),W=n(517525),q=n(445384),Y=n(613464),K=n(705563),X=n(730647),Q=n(66999),J=n(826763),$=n(180216),ee=n(168843),et=n(442336),en=n(57304),er=n(605953),ei=n(405954),el=n(374306),ea=n(984370),eo=n(910611),es=n(915718),ec=n(518311),eu=n(882378),ed=n(207868),ep=n(473065),eh=n(576171),ef=n(754688),em=n(41776),eg=n(370774),eb=n(134483),e_=n(703656),ey=n(359110),eC=n(607802),ex=n(14091),ev=n(6025),eO=n(897473),ej=n(922482),eE=n(504185),eS=n(657218),eI=n(407908),eP=n(66556),eZ=n(131694),eT=n(377929),eN=n(900157),eA=n(108427),ew=n(892001),eR=n(402130),eM=n(524329),eD=n(995532),eL=n(738643),ek=n(433355),eU=n(592125),eB=n(703558),eF=n(486472),eG=n(731290),eH=n(430824),eV=n(158776),ez=n(19780),eW=n(944486),eq=n(914010),eY=n(594174),eK=n(979651),eX=n(933557),eQ=n(287746),eJ=n(325708),e$=n(335615),e0=n(992744),e1=n(923029),e2=n(194082),e8=n(176505),e3=n(981631),e4=n(918559),e7=n(354459),e6=n(921944),e5=n(408491),e9=n(440493),te=n(157925),tt=n(388032),tn=n(97009);function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tr(e,t,n[t])})}return e}function tl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let ta=(0,k.Un)({createPromise:()=>Promise.all([n.e("22173"),n.e("9456")]).then(n.bind(n,346975)),webpackId:346975,renderLoader:()=>(0,r.jsx)("div",{className:tn.loader,children:(0,r.jsx)(g.$jN,{})}),name:"ForumChannel"});class to extends i.PureComponent{componentDidMount(){(0,eA.e)("guild_channel")}componentDidUpdate(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.openChannelModal()}openChannelContextMenu(e,t){let{guild:i}=this.props;s()(null!=t,"Missing channel in Channel.openChannelContextMenu"),s()(null!=i,"Missing guild in Channel.openChannelContextMenu"),(0,_.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,r.jsx)(e,tl(ti({},n),{channel:t,guild:i}))})}openThreadContextMenu(e,t){s()(null!=t,"Missing channel in Channel.openChannelContextMenu"),(0,_.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return n=>(0,r.jsx)(e,tl(ti({},n),{channel:t}))})}openDMContextMenu(e,t){s()(null!=t,"Missing channel in Channel.openDMContextMenu");let i=eY.default.getUser(t.getRecipientId());s()(null!=i,"Missing user in Channel.openDMContextMenu"),(0,_.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70205"),n.e("98783"),n.e("57789"),n.e("56826"),n.e("92595")]).then(n.bind(n,131404));return n=>(0,r.jsx)(e,tl(ti({},n),{user:i,channelSelected:!0,channel:t}))})}shouldRenderCall(){let{channel:e,showCall:t,nsfwAllowed:n,nsfwAgree:r}=this.props;return(!(0,N.aC)(e)||n&&r)&&t}renderCall(){let{channel:e}=this.props;if(s()(null!=e,"Missing channel in Channel.renderCall"),!this.shouldRenderCall())return null;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:return(0,r.jsx)(eE.Z,{channel:e},e.id);case e3.d4z.GUILD_VOICE:case e3.d4z.DM:case e3.d4z.GROUP_DM:case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:let t=this.props.height-200;return(0,r.jsx)(M.Z,{channel:e,renderExternalHeader:this.renderHeaderBar,maxHeight:t},"call-".concat(e.id));default:return null}}renderEmbeddedActivityPanel(){let{channel:e}=this.props,t=this.shouldRenderCall();if(s()(null!=e,"Missing channel in Channel.renderEmbeddedActivityPanel"),t)return null;let n=this.props.height-200;return(0,r.jsx)(P.Z,{maxHeight:n,renderExternalHeader:this.renderHeaderBar})}renderChat(){let{channel:e,nsfwAgree:t,guild:n,nsfwAllowed:i,needSubscriptionToAccess:l}=this.props;if(s()(null!=e,"Missing channel in Channel.renderChat"),l)return(s()(null!=n,"premium channels must exist within a guild"),null==e?void 0:e.isRoleSubscriptionTemplatePreviewChannel())?(0,r.jsx)(J.Z,{guildId:n.id}):(0,r.jsx)(X.l,{guildId:n.id,children:(0,r.jsx)($.Z,{channelId:e.id,guildId:n.id})});if((0,N.aC)(e)&&(!i||!t))return(0,r.jsx)(O.Z,{guild:n,channelId:e.id});if(e.isGuildVocal())return null;if(e.isDirectory())return s()(null!=n,"directory channels must exist within a guild"),(0,r.jsx)(B.Z,{channel:e,guild:n});if(e.isForumLikeChannel()){s()(null!=n,"forum channels must exist within a guild");let t={isThreadSidebarFloating:this.state.isThreadSidebarFloating,threadSidebarWidth:this.state.threadSidebarWidth};return(0,r.jsx)(ta,{channel:e,guild:n,sidebarState:t},e.id)}return(0,r.jsx)(eQ.Z,{channel:e,guild:n,chatInputType:D.Ie.NORMAL},null!=n?n.id:"home")}renderSidebar(){let{channel:e,parentChannel:t,guild:n,needSubscriptionToAccess:i,section:l,showCall:a,showActivityPanel:o,showFramePanel:c}=this.props;if(s()(null!=e,"Missing channel in Channel.renderSidebar"),__OVERLAY__||i);else if(l===e3.ULH.PROFILE&&e.isPrivate()&&!a&&!o&&!c)return(0,r.jsx)(eR.Z,{channel:e},"private-channel-profile-".concat(e.id));else if(l===e3.ULH.MEMBERS)switch(e.type){case e3.d4z.GROUP_DM:return(0,r.jsx)(y.Z,{channel:e},"private-channel-recipients-".concat(e.id));case e3.d4z.GUILD_DIRECTORY:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:var u;let d=!0===e3.TPd.GUILD_THREADS_ONLY.has(e.type)?e.id:null!=(u=e.guild_id)?u:e.id;return(0,r.jsx)(e$.Z,{channel:e},"channel-members-".concat(d));case e3.d4z.ANNOUNCEMENT_THREAD:if(null!=t)return(0,r.jsx)(e$.Z,{channel:t},"channel-members-".concat(t.id));break;case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:if(!e.isArchivedThread()&&null!=n)return(0,r.jsx)(x.Z,{channel:e,guild:n},"channel-members-".concat(e.id))}else if(l===e3.ULH.SEARCH)return(0,r.jsx)(ex.Z,{guildId:null==n?void 0:n.id,channelId:e.id});return null}openChannelModal(){let{channel:e,guildId:t,hasModalOpen:i,showWelcomeModal:l,isLurking:a,isUnavailable:o,showRealNameModal:s}=this.props;return null==e||null==t||o||i||(s&&(0,g.ZDy)(async()=>{let{default:e}=await n.e("53900").then(n.bind(n,784280));return n=>(0,r.jsx)(e,tl(ti({},n),{guildId:t}))},{onCloseCallback:()=>q.Z.viewPrompt(e9.r.REAL_NAME_PROMPT,t),modalKey:"Guild Hub Real Name Modal"}),l&&(0,g.ZDy)(async()=>{let{default:e}=await n.e("90542").then(n.bind(n,184782));return n=>(0,r.jsx)(e,tl(ti({},n),{guildId:t}))},{onCloseCallback:()=>(0,eM.y0)(t,a),modalKey:"Guild Welcome Screen Modal"})),null}renderThreadSidebar(){let e,{channel:t,section:n,channelSidebarState:i,guildSidebarState:l,nsfwAgree:a,nsfwAllowed:o,width:s}=this.props;if(null==l&&null==i)return null;if(n===e3.ULH.SIDEBAR_CHAT&&null!=i){if((0,N.aC)(t)&&(!o||!a))return null;switch(i.type){case eO.tI.CREATE_THREAD:if(null==t?void 0:t.isForumLikeChannel())return null;e=(0,r.jsx)(eS.Z,{parentChannelId:i.parentChannelId,parentMessageId:i.parentMessageId,location:i.location});break;case eO.tI.VIEW_THREAD:let n=(null==t?void 0:t.isForumLikeChannel())?H.Z:eN.Z;e=(0,r.jsx)(n,{channelId:i.channelId});break;case eO.tI.VIEW_MOD_REPORT:e=(0,r.jsx)(eN.Z,{channelId:i.channelId,baseChannelId:i.baseChannelId});break;case eO.tI.VIEW_CHANNEL:case eO.tI.VIEW_MESSAGE_REQUEST:default:return null}}if(null!=l&&null==e)if(l.type!==eO.jL.GUILD_MEMBER_MOD_VIEW)return null;else{let{guildId:e,userId:t}=l.details;return(0,r.jsx)("div",{style:{width:e3.$Y6},className:tn.guildSidebar,children:(0,r.jsx)(Y.Z,{guildId:e,userId:t,onClose:()=>ev.Z.closeGuildSidebar(e)})})}if(null==e)return null;let c=(null==t?void 0:t.type)!=null&&e3.TPd.GUILD_THREADS_ONLY.has(t.type)?528:450,u=s-e3.PrS-c;return u+=C.qO,(0,r.jsx)(eJ.Z,{sidebarType:(null==t?void 0:t.type)!=null&&e3.TPd.GUILD_THREADS_ONLY.has(t.type)?eJ.y.PostSidebar:eJ.y.ThreadSidebar,maxWidth:u,onWidthChange:this.handleThreadSidebarResize,children:e})}render(){let{channel:e,guild:t,formattedChannelName:n,isUnavailable:i,layout:l,section:o,hasModalOpen:s,guildSidebarState:c,hasTextActivityInPanelMode:u}=this.props,{threadSidebarWidth:d,isThreadSidebarFloating:p}=this.state,h=this.shouldRenderCall();if(i)return(0,r.jsx)(e0.Z,{});if(null==e)return(0,r.jsx)(e1.Z,{channelId:this.props.channelId});let f=o===e3.ULH.SIDEBAR_CHAT,m=null!=c&&!f,g=!e.isForumLikeChannel()&&!s,b=null==t?void 0:t.name;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U.yY,{location:b,subsection:null!=n?n:void 0}),(0,r.jsxs)("div",{"data-has-border":e.type!==e3.d4z.GUILD_VOICE,className:a()(tn.chat,{[tn.threadSidebarOpen]:f||m,[tn.threadSidebarFloating]:f&&p}),children:[g?(0,r.jsx)(v.Z,{style:{right:f?d:void 0},className:tn.uploadArea,channel:e,draftType:eB.d.ChannelMessage}):null,h||u?null:this.renderHeaderBar(),this.renderCall(),this.renderEmbeddedActivityPanel(),(0,r.jsxs)("div",{className:a()(tn.content,{[tn.noChat]:l===e3.AEg.NO_CHAT}),children:[this.renderChat(),this.renderSidebar()]})]}),this.renderThreadSidebar()]})}constructor(...e){super(...e),tr(this,"state",{topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1}),tr(this,"handleTitleParentClick",()=>{let{parentChannel:e}=this.props;null!=e&&(0,ey.Kh)(e.id)}),tr(this,"_handleContextMenu",(e,t)=>{switch(t.type){case e3.d4z.GUILD_VOICE:case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:this.openChannelContextMenu(e,t);break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:this.openThreadContextMenu(e,t);break;case e3.d4z.DM:this.openDMContextMenu(e,t)}}),tr(this,"handleContextMenu",e=>{s()(null!=this.props.channel,"Missing channel in Channel.handleContextMenu"),this._handleContextMenu(e,this.props.channel)}),tr(this,"handleParentContextMenu",e=>{s()(null!=this.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu"),this._handleContextMenu(e,this.props.parentChannel)}),tr(this,"handleThreadSidebarResize",(e,t)=>{this.setState({threadSidebarWidth:e,isThreadSidebarFloating:t})}),tr(this,"openUserProfile",()=>{let{channel:e}=this.props;s()(null==e?void 0:e.isPrivate(),"Missing private channel in Channel.openUserProfile"),(0,ew.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,channelId:e.id,sourceAnalyticsLocations:[A.Z.CHANNEL_HEADER]})}),tr(this,"renderJoinRequestInterviewButtons",()=>{let{channel:e}=this.props;return(null==e?void 0:e.hasFlag(e8.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL))?(0,r.jsx)(K.Z,{channelId:e.id,showTrailingDivider:!0}):null}),tr(this,"renderClipsEnabledIndicatorToolbarItem",()=>{let{inCall:e,voiceChannel:t}=this.props;return e?(0,r.jsx)(L.Z,{channelId:null!=t?t.id:null}):null}),tr(this,"renderStreamQualityLiveIndicatorToolbarItem",()=>{let{selectedParticipant:e,premiumIndicatorEnabled:t}=this.props;return(null==e?void 0:e.type)!==e7.fO.STREAM?null:(0,r.jsx)(W.Z,{size:e2.ZP.Sizes.LARGE,participant:e,showQuality:!0,premiumIndicator:t},"live-indicator")}),tr(this,"renderHeaderToolbar",()=>{let{channel:e,parentChannel:t,isLurking:n,showCall:i,showActivityPanel:l,showFramePanel:a}=this.props;s()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let o=[];if(e.isSystemDM())return o;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:case e3.d4z.GUILD_VOICE:break;case e3.d4z.DM:o.push(this.renderClipsEnabledIndicatorToolbarItem()),o.push(this.renderStreamQualityLiveIndicatorToolbarItem()),o.push((0,r.jsx)(es.Z,{channel:e},"calls")),o.push((0,r.jsx)(en.Z,{channel:e},"pins")),o.push((0,r.jsx)(ec.Z,{channel:e,tooltip:tt.intl.string(tt.t.Xjlbvr),location:"ChannelHeaderToolbar-DM-AddFriendsButton"},"invite")),o.push((0,r.jsx)(ep.Z,{channel:e,showCallOrActivityPanel:i||l||a},"profile")),o.push((0,r.jsx)(eu.Z,{channel:e},"safety_tools")),o.push((0,r.jsx)(ei.Z,{channel:e},"chat-wallpaper"));break;case e3.d4z.GROUP_DM:if(o.push(this.renderJoinRequestInterviewButtons()),o.push(this.renderClipsEnabledIndicatorToolbarItem()),o.push(this.renderStreamQualityLiveIndicatorToolbarItem()),o.push((0,r.jsx)(es.Z,{channel:e},"calls")),o.push((0,r.jsx)(en.Z,{channel:e},"pins")),!e.isManaged()){let t=tt.intl.string(tt.t.Xjlbvr);o.push((0,r.jsx)(ec.Z,{channel:e,tooltip:t,location:"ChannelHeaderToolbar-GroupDM-AddFriendsButton"},"invite"))}o.push((0,r.jsx)(ee.Z,{channelId:e.id},"members")),o.push((0,r.jsx)(ei.Z,{channel:e},"chat-wallpaper"));break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PRIVATE_THREAD:case e3.d4z.PUBLIC_THREAD:e.isModeratorReportChannel()&&o.push((0,r.jsx)(eI.Z,{channel:e})),null==t||t.isForumLikeChannel()||o.push((0,r.jsx)(eP.Z,{channel:t},"browser")),e.isVocalThread()&&o.push((0,r.jsx)(ed.Z,{channel:e},"thread-call")),o.push((0,r.jsx)(eZ.Z,{channel:e},"notifications")),o.push((0,r.jsx)(en.Z,{channel:e},"pins")),e.isArchivedThread()||o.push((0,r.jsx)(ee.Z,{channelId:e.id},"members")),null!=t&&(0,E.Lp)(e)&&o.push((0,r.jsx)(er.Z,{channel:e},"summaries")),o.push((0,r.jsx)(eT.Z,{channel:e},"threads-overflow"));break;case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:o.push((0,r.jsx)(G.Z,{channel:e},"favorites")),o.push((0,r.jsx)(eP.Z,{channel:e},"browser")),n||o.push((0,r.jsx)(et.Z,{channel:e},"notifications")),o.push((0,r.jsx)(en.Z,{channel:e},"pins")),o.push((0,r.jsx)(ee.Z,{channelId:e.id},"members")),(0,E.Lp)(e)&&o.push((0,r.jsx)(er.Z,{channel:e},"summaries"));break;case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:n||(o.push((0,r.jsx)(el.Z,{channel:e},"forum-onboarding")),o.push((0,r.jsx)(et.Z,{channel:e},"notifications"))),__OVERLAY__||o.push((0,r.jsx)(ee.Z,{channelId:e.id},"members"));break;case e3.d4z.GUILD_DIRECTORY:o.push((0,r.jsx)(ee.Z,{channelId:e.id},"members"))}return o}),tr(this,"renderMobileToolbar",()=>{let{channel:e}=this.props;s()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let t=[];if(e.isSystemDM())return t;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:case e3.d4z.GUILD_VOICE:case e3.d4z.DM:break;case e3.d4z.GROUP_DM:t.push((0,r.jsx)(ee.Z,{channelId:e.id},"members"));break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PRIVATE_THREAD:case e3.d4z.PUBLIC_THREAD:e.isArchivedThread()||t.push((0,r.jsx)(ee.Z,{channelId:e.id},"members"));break;case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:case e3.d4z.GUILD_DIRECTORY:t.push((0,r.jsx)(ee.Z,{channelId:e.id},"members"))}return t}),tr(this,"renderFollowButton",()=>{let{showFollowButton:e,channel:t}=this.props;return e?(0,r.jsx)(m.zx,{size:m.zx.Sizes.MIN,color:m.zx.Colors.PRIMARY,className:tn.followButton,onClick:()=>(0,g.ZDy)(async()=>{let{default:e}=await n.e("54642").then(n.bind(n,720589));return n=>(0,r.jsx)(e,ti({channel:t},n))}),children:tt.intl.string(tt.t["3aOv+v"])}):null}),tr(this,"renderHeaderBar",e=>{let{channel:t,channelName:n,parentChannel:i,guild:l,guildId:o,showCall:c,showActivityPanel:u,showFramePanel:d,hasVideo:p,showHeaderGuildBreadcrumb:h,isFavorites:f}=this.props;s()(null!=t,"Missing channel in Channel.renderHeaderBar"),s()(null!=n,"Should not be null if channel is not null.");let b=t.isDM()&&!t.isSystemDM()?this.openUserProfile:h?()=>(0,ey.Kh)(t.id):void 0,_=(null==i?void 0:i.guild_id)!=null&&(null==i?void 0:i.id)!=null?this.handleTitleParentClick:void 0,y=u||d,C=c||y,x=!C||!1===e&&!y;return(0,r.jsxs)("div",{className:tn.subtitleContainer,children:[(0,r.jsx)(g.f6W,{theme:p&&c?e3.BRd.DARK:void 0,children:e=>(0,r.jsxs)(ea.Z,{guildId:o,channelId:t.id,channelType:t.type,hideSearch:t.isDirectory()||f&&!(0,eC.X$)(),showDivider:f&&!(0,eC.X$)(),toolbar:this.renderHeaderToolbar(),mobileToolbar:this.renderMobileToolbar(),className:a()(tn.title,e,{[tn.gdm]:t.type===e3.d4z.GROUP_DM}),transparent:C,showToolbar:x,"aria-label":tt.intl.string(tt.t.BIYAqa),children:[h&&(0,r.jsx)(eo.TS,{channel:t,guild:l,caretPosition:"right"}),(0,eo.ud)({channel:t,channelName:n,parentChannel:i,guild:l,hasVideo:p,handleContextMenu:this.handleContextMenu,handleParentContextMenu:this.handleParentContextMenu,handleClick:b,handleParentClick:_,renderFollowButton:this.renderFollowButton}),h?(0,r.jsx)(m.zx,{onClick:()=>(0,e_.XU)(t.guild_id,t.id),className:tn.followButton,look:m.zx.Looks.FILLED,color:m.zx.Colors.PRIMARY,size:m.zx.Sizes.MIN,children:tt.intl.string(tt.t.k5WiPT)}):(0,eo.v0)(t,l)]},"header-".concat(t.id))}),(0,r.jsx)(eb.Z,{channelId:t.id})]})})}}let ts=(0,j.Z)(to),tc=i.memo(function(e){var t;let{providedChannel:n}=e,[l,a]=i.useState(null),o=(0,p.e7)([eW.Z],()=>eW.Z.getChannelId()),s=(0,p.e7)([eW.Z],()=>eW.Z.getVoiceChannelId()),c=(0,p.e7)([eU.Z],()=>null!=n?n:eU.Z.getChannel(o),[o,n]),m=(0,p.e7)([eU.Z],()=>eU.Z.getChannel(s),[s]),g=null==c?void 0:c.parent_id,_=(0,p.e7)([eU.Z],()=>eU.Z.getChannel(g),[g]),y=(0,p.e7)([eH.Z],()=>eH.Z.getGuild(null==c?void 0:c.guild_id),[c]),{needSubscriptionToAccess:C}=(0,Q.Z)(null!=(t=null==c?void 0:c.id)?t:void 0),x=(0,p.e7)([R.Z],()=>{let e=null!=o?R.Z.getParticipants(o):[],t=null!=o?R.Z.getActivityParticipants(o):[];return e.length-t.length>0},[o]),v=(0,z.Z)(),O=(0,p.e7)([eW.Z],()=>{var e;return(null!=(e=null==v?void 0:v.channelId)?e:eW.Z.getVoiceChannelId())===(null==c?void 0:c.id)}),j=(0,p.e7)([I.ZP],()=>null!=c?I.ZP.getSelfEmbeddedActivityForChannel(c.id):null,[c]),P=(0,p.e7)([ez.Z],()=>ez.Z.isConnected()),N=(0,S.Z)(P),A=P&&!1===N;i.useEffect(()=>{O&&A&&null!=j&&null!=c&&b.Z.selectParticipant(c.id,(0,w.gN)({applicationId:j.applicationId,instanceId:j.compositeInstanceId}))},[A,c,O,j]);let M=(0,p.e7)([I.ZP],()=>I.ZP.getCurrentEmbeddedActivity()),D=(0,p.e7)([I.ZP],()=>I.ZP.getActivityPanelMode()),L=null!=M&&!(0,Z.Z)(null==c?void 0:c.id)&&D===e4.Ez.PANEL,k=(0,p.e7)([eK.Z],()=>null!=c&&c.isVocalThread()&&!u().isEmpty(eK.Z.getVoiceStatesForChannel(c.id)),[c]),U=null!=c&&c.isPrivate()&&!L&&x,B=(null==c?void 0:c.isGuildVocal())||U||k,G=(0,p.e7)([V.Z],()=>V.Z.getFrameLayoutMode()===e5.U.FOCUSED),{welcomeModalChannelId:H}=(0,d.TH)(),W=(0,p.e7)([em.Z],()=>null!=c&&em.Z.isLurking(c.guild_id),[c]),q=(0,p.e7)([eD.Z],()=>eD.Z.hasSeen(null==c?void 0:c.guild_id,W),[c,W]),Y=(0,p.e7)([R.Z,I.ZP],()=>null!=I.ZP.getConnectedActivityLocation()&&I.ZP.getActivityPanelMode()===e4.Ez.PANEL?I.ZP.getFocusedLayout()===e4.MI.NO_CHAT?e3.AEg.NO_CHAT:e3.AEg.NORMAL:null!=o?R.Z.getLayout(o):e3.AEg.NORMAL,[o]),K=(0,p.e7)([R.Z],()=>null!=c?R.Z.getSelectedParticipant(c.id):null),X=(0,p.e7)([eY.default],()=>eY.default.getCurrentUser()),J=(0,eh.Z)(null==y?void 0:y.id),$=(0,eL.Z)(H,null==y?void 0:y.id),{section:ee,channelSidebarState:et}=(0,p.cj)([ek.ZP],()=>({section:ek.ZP.getSection(o,null==c?void 0:c.isDM()),channelSidebarState:ek.ZP.getSidebarState(o)}),[o,c]),en=null==y?void 0:y.id,er=(0,p.e7)([ek.ZP],()=>ek.ZP.getGuildSidebarState(en),[en]),ei=(0,p.e7)([eq.Z],()=>eq.Z.getGuildId())===e3.I_8,el=(0,eg.D)(),ea=(0,eX.ZP)(c),eo=(0,eX.ZP)(c,!0),es=null!=c&&s===c.id,ec=null!=c&&c.isGuildStageVoice();(0,T.Z)({onTransition:void 0}),i.useEffect(()=>{var e,t,n;let r=(0,e_.s1)();if((null==r||null==(e=r.location)?void 0:e.state)===te.Df){let{channelId:e}=null!=(n=(0,ef.Qj)(null==r||null==(t=r.location)?void 0:t.pathname))?n:{};null!=e&&a(e)}},[]);let eu={channel:c,inCurrentVoiceChannel:es},ed=i.useRef(eu);i.useEffect(()=>{ed.current=eu}),i.useEffect(()=>{let{channel:e,inCurrentVoiceChannel:t}=ed.current;null!=l&&null!=e&&ec&&e.id===l&&!t&&((0,ej.Cq)(e),a(null))},[l,ec]);let ep=(0,E.ts)(c),eb=null!=c&&c.isPrivate(),ey=(0,S.Z)(eb),eC=(0,S.Z)(null==c?void 0:c.id);i.useEffect(()=>{let e=ey&&!eb,t=ey&&eb&&(null==c?void 0:c.id)!==eC;(e||t)&&(0,F.Q3)(h.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:e6.L.AUTO})},[null==c?void 0:c.id,eC,eb,ey]);let ex=(0,f.f9)();return(0,r.jsx)(ts,tl(ti({guildId:null==c?void 0:c.guild_id,channelId:o,channel:c,channelName:ea,formattedChannelName:eo,parentChannel:_,voiceChannel:m,layout:Y,needSubscriptionToAccess:C,isLurking:W,hasModalOpen:ex,section:ee,channelSidebarState:et,guildSidebarState:er,guild:y,showCall:!C&&B,showActivityPanel:L,showFramePanel:G,nsfwAgree:(0,p.e7)([eG.Z],()=>eG.Z.didAgree(null==c?void 0:c.guild_id)),isMobile:(0,p.e7)([eV.Z],()=>(null==c?void 0:c.type)===e3.d4z.DM&&eV.Z.isMobileOnline(c.getRecipientId()),[c]),isUnavailable:(0,p.e7)([eF.Z],()=>(null==c?void 0:c.guild_id)!=null&&eF.Z.isUnavailable(c.guild_id),[c]),showRealNameModal:J,showWelcomeModal:!q&&$,showFollowButton:(null==c?void 0:c.type)===e3.d4z.GUILD_ANNOUNCEMENT&&(null==y?void 0:y.features.has(e3.oNc.NEWS))||!1},(0,p.cj)([eK.Z],()=>({hasVideo:null!=c&&eK.Z.hasVideo(c.id)}),[c])),{inCall:es,selectedParticipant:K,nsfwAllowed:(null==X?void 0:X.nsfwAllowed)===!0,showChannelSummaries:ep,isFavorites:ei,showHeaderGuildBreadcrumb:ei||el,premiumIndicatorEnabled:!1,hasTextActivityInPanelMode:L,embeddedActivity:M}))})},165540:function(e,t,n){n.d(t,{Z:()=>I});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(704215),c=n(755721),u=n(566620),d=n(989573),p=n(499254),h=n(541099),f=n(827498),m=n(663924),g=n(533379),b=n(562129),_=n(266454),y=n(291407),C=n(685006),x=n(61356),v=n(314734),O=n(921944),j=n(388032),E=n(124886);let S=i.forwardRef(function(e,t){var n,l;let{type:d,animateRef:m}=e,g=(0,o.e7)([h.Z],()=>h.Z.shouldShowPopup()&&h.Z.activeViewType()===d),{Component:y,events:C,play:x}=(0,b.Z)("ChannelAppLauncherButton");i.useImperativeHandle(m,()=>({animate:()=>{C.onMouseEnter()}}),[C]);let S=i.useCallback(()=>{g?p.yT(f.ti.DISMISSED):((0,_.Q3)(s.z.DESKTOP_APP_LAUNCHER_ONBOARDING,{dismissAction:O.L.TAKE_ACTION}),p.__(f._b.TEXT,d),u.ux()),x()},[g,d,x]),I=(0,r.jsx)(y,{size:"refresh_sm",color:"currentColor"});return(0,r.jsx)("div",{className:a()(E.buttonContainer,v.t4),ref:t,children:(0,r.jsx)(c.zx,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({look:c.zx.Looks.BLANK,size:c.zx.Sizes.NONE,tabIndex:0,className:a()(E.button,{[E.buttonActive]:g}),onClick:S,"aria-label":j.intl.string(j.t.erHFxM),"aria-expanded":g,"aria-haspopup":"dialog",focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}},innerClassName:E.buttonContents},C),l=l={children:I},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))})}),I=i.memo(function(e){let{channel:t,type:n,animateRef:l,entryPointCommandButtonRef:a}=e,s=i.useRef(null),c=(0,g.R)({channel:t,chatInputType:n}),u=(0,x.Z)({type:n}),p=(0,d.Z)(t),f=(0,o.e7)([h.Z],()=>h.Z.appDMChannelsWithFailedLoads().has(t.id)),{visible:b}=(0,C.xL)();return c?(0,r.jsxs)("div",{className:E.channelAppLauncher,children:[(0,r.jsx)(y.Z,{channel:t,animationContainerClassName:E.entrypointAnimation,glowClassName:E.animationGlow,trinketsClassName:E.animationTrinkets,children:(0,r.jsx)(S,{type:n,ref:s,animateRef:l})}),u?(0,r.jsx)(m.Z,{positionTargetRef:p&&!f&&b?a:s,channel:t}):null]}):null})},291407:function(e,t,n){n.d(t,{Z:()=>p}),n(539854);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(266454),s=n(243778),c=n(375954),u=n(890977),d=n(921944);function p(e){let{children:t,animationContainerClassName:n,glowClassName:p,trinketsClassName:h}=e,f=(0,l.e7)([c.Z],()=>c.Z.hasCurrentUserSentMessageSinceAppStart()),m=i.useMemo(()=>{let e=[];return f&&e.push(a.z.DESKTOP_APP_LAUNCHER_ONBOARDING),e},[f]),g=()=>{setTimeout(()=>(0,o.Q3)(a.z.DESKTOP_APP_LAUNCHER_ONBOARDING,{dismissAction:d.L.AUTO_DISMISS}),1e4)};return(0,r.jsx)(s.ZP,{contentTypes:m,children:e=>{let{visibleContent:i}=e;return i===a.z.DESKTOP_APP_LAUNCHER_ONBOARDING?(0,r.jsx)(u.b,{animationContainerClassName:n,glowClassName:p,trinketsClassName:h,onMount:g,children:t}):t}})}},287746:function(e,t,n){n.d(t,{Z:()=>ts}),n(388685),n(35282),n(781311),n(997841);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(873546),u=n(106351),d=n(442837),p=n(481060),h=n(430742),f=n(904245),m=n(144144),g=n(166459),b=n(738619),_=n(410575),y=n(744061),C=n(410030),x=n(857595),v=n(607070),O=n(367907),j=n(450936),E=n(993766),S=n(989573),I=n(499254),P=n(541099),Z=n(827498),T=n(533379),N=n(555573),A=n(456007),w=n(10718),R=n(998698),M=n(895924),D=n(581364),L=n(667204),k=n(104919),U=n(541716),B=n(752305),F=n(190210),G=n(516887),H=n(974251),V=n(893718),z=n(436660),W=n(338390),q=n(680835),Y=n(436952),K=n(131565),X=n(355888),Q=n(680783),J=n(168551),$=n(28546),ee=n(295474),et=n(521476),en=n(69882),er=n(71619),ei=n(185145),el=n(736052),ea=n(146128),eo=n(549006),es=n(58873),ec=n(925975),eu=n(957730),ed=n(48854),ep=n(400023),eh=n(64078),ef=n(351780),em=n(843693),eg=n(217871),eb=n(139577),e_=n(247944),ey=n(623292),eC=n(807092),ex=n(773359),ev=n(45251),eO=n(705533),ej=n(618857),eE=n(268350),eS=n(155409),eI=n(163612),eP=n(314897),eZ=n(433355),eT=n(592125),eN=n(703558),eA=n(323873),ew=n(271383),eR=n(375954),eM=n(496675),eD=n(944486),eL=n(117530),ek=n(594174),eU=n(626135),eB=n(934415),eF=n(459273),eG=n(585483),eH=n(630388),eV=n(709054),ez=n(838440),eW=n(127654),eq=n(979956),eY=n(413251),eK=n(655687),eX=n(165540),eQ=n(583027),eJ=n(25007),e$=n(685006),e0=n(685722),e1=n(199649),e2=n(1397),e8=n(641861),e3=n(981631),e4=n(959517),e7=n(388032),e6=n(97009),e5=n(180376);function e9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){e9(e,t,n[t])})}return e}function tt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function tn(e){e.preventDefault()}let tr=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function ti(e){var{isSidebar:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["isSidebar"]);return t?(0,r.jsx)("section",tt(te({},n),{role:"complementary"})):(0,r.jsx)("main",te({},n))}let tl=i.forwardRef((e,t)=>(0,r.jsx)(ta,tt(te({},e),{ref:t})));tl.displayName="ChannelTextAreaForm";class ta extends i.PureComponent{focusEditor(){var e;null==(e=this.editorRef)||e.focus()}componentDidMount(){eN.Z.addChangeListener(this.draftDidChange)}componentWillUnmount(){eN.Z.removeChangeListener(this.draftDidChange)}componentDidUpdate(e,t){let{channel:n}=this.props,{textValue:r}=this.state;if(e.channel.id!==n.id)return void this.draftDidChange(this.props);if(e.hasModalOpen&&!this.props.hasModalOpen){let e=eN.Z.getDraft(n.id,eN.d.ChannelMessage);e!==r&&this.setState((0,B.eK)(e))}t.textValue.length<e3.J6R&&r.length>=e3.J6R&&eU.default.track(e3.rMx.MESSAGE_LENGTH_LIMIT_REACHED,{})}handleEditLastMessage(e){let{channel:t}=this.props;f.Z.startEditMessageRecord(t.id,e),O.ZP.trackWithMetadata(e3.rMx.MESSAGE_EDIT_UP_ARROW)}handleRecallLastCommand(e){if(null==e.interactionData)return;let{channel:t}=this.props,{commandKey:n,interactionOptions:r}=(0,D.XA)(e.interactionData),{command:i,application:l}=w.Xq({channel:t,type:"channel"},n);if(null!=i){var a,o;let e=null!=l?{type:M.Qi.APPLICATION,id:l.id,icon:l.icon,name:null!=(o=null==l||null==(a=l.bot)?void 0:a.username)?o:l.name,application:l}:null;N.Po({channelId:t.id,command:i,section:e,location:M.Vh.RECALL,initialValues:(0,A.Dw)(i,null!=r?r:[]),commandOrigin:M.bB.CHAT})}}render(){let{channel:e,focused:t,onBlur:n,onFocus:i,onResize:l,highlighted:a,pendingReply:o,chatInputType:c,placeholder:u,accessibilityLabel:d,shakeIntensity:h,poggermodeEnabled:f,onCommandSentinelTyped:m,renderAppLauncherButton:g,renderAppCommandButton:b,pendingScheduledMessage:_,announcementComposerEnabled:C}=this.props,{contentWarningProps:x}=this.state,v=e.type===e3.d4z.GUILD_ANNOUNCEMENT&&C?(0,r.jsx)(F.Z,{ref:this.props.refInstance,textValue:this.state.textValue,richValue:this.state.richValue,focused:t,className:e6.channelTextArea,channel:e,placeholder:u,accessibilityLabel:d,pendingReply:o,type:U.Ie.CREATE_ANNOUNCEMENT_POST,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:l,onFocus:i,onBlur:n,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderAppLauncherButton:g,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:eW.d5,highlighted:a,setEditorRef:e=>this.editorRef=e}):(0,r.jsx)(V.ZP,{ref:this.props.refInstance,textValue:this.state.textValue,richValue:this.state.richValue,focused:t,className:e6.channelTextArea,channel:e,placeholder:u,accessibilityLabel:d,pendingReply:o,type:c,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:l,onFocus:i,onBlur:n,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,renderAppLauncherButton:g,renderAppCommandButton:b,promptToUpload:eW.d5,highlighted:a,setEditorRef:e=>this.editorRef=e,onCommandSentinelTyped:m,pendingScheduledMessage:_});return(0,r.jsx)(p.yRy,{targetElementRef:this.props.refInstance,position:"top",onRequestClose:()=>{var e;null==x||null==(e=x.onCancel)||e.call(x),this.setState({contentWarningProps:null})},shouldShow:null!=x,renderPopout:e=>{let{closePopout:t}=e;return s()(null!=x,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null"),(0,r.jsx)(y.Z,te({onClose:t},x))},children:()=>f?(0,r.jsx)(p.UkV,{isShaking:h>0,intensity:h,className:e6.shaker,children:v}):v})}constructor(...e){var t;super(...e),t=this,e9(this,"isFirstChange",!0),e9(this,"editorRef",null),e9(this,"state",tt(te({},(0,B.eK)(eN.Z.getDraft(this.props.channel.id,eN.d.ChannelMessage))),{contentWarningProps:null})),e9(this,"draftDidChange",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,{textValue:n}=t.state,r=eN.Z.getDraft(e.channel.id,eN.d.ChannelMessage);n!==r&&(""===r||""===n)&&t.setState((0,B.eK)(r),()=>{if(n!==r){let{onFocus:e}=t.props;null==e||e()}})}),e9(this,"handleKeyDown",e=>{let{keyboardModeEnabled:t,onKeyDown:n,channel:r}=this.props,i=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,l=0!==this.state.textValue.length;switch(e.which){case e3.yXg.DELETE:case e3.yXg.BACKSPACE:return void this.handleIncrementCombo("",1);case e3.yXg.ARROW_UP:if(i||l)return;if(e.preventDefault(),t)eL.Z.getUploadCount(r.id,eN.d.ChannelMessage)>0?eG.S.dispatchToLastSubscribed(e3.CkL.FOCUS_ATTACHMENT_AREA):eG.S.dispatchToLastSubscribed(e3.CkL.FOCUS_MESSAGES,{atEnd:!0});else{let{channel:e}=this.props,t=eR.Z.getLastChatCommandMessage(e.id),n=eR.Z.getLastEditableMessage(e.id);null!=t&&null!=n?eV.default.compare(n.id,t.id)>0?this.handleEditLastMessage(n):this.handleRecallLastCommand(t):null!=t?this.handleRecallLastCommand(t):null!=n&&this.handleEditLastMessage(n)}return;case e3.yXg.ESCAPE:if(i||e.target!==e.currentTarget)return;if(e.preventDefault(),t)return void(0,x.rf)();if(eL.Z.getUploadCount(r.id,eN.d.ChannelMessage)>0)return void g.Z.clearAll(r.id,eN.d.ChannelMessage)}null==n||n(e,l)}),e9(this,"handleIncrementCombo",(e,t)=>{var n;if(!this.props.poggermodeEnabled)return;let r=this.props.channel.id,i=eP.default.getId(),l=em.ZP.getUserCombo(i,r),a=(null!=(n=null==l?void 0:l.value)?n:0)+1;(0,eh.SE)({channelId:r,userId:i,value:null!=e?e.length:a,multiplier:t})}),e9(this,"handleTextareaChange",(e,t,n)=>{let{keyboardModeEnabled:r,channel:{id:i}}=this.props;h.Z.changeDraft(i,t,eN.d.ChannelMessage);let l=""!==t&&n!==this.state.richValue,a=l&&!tr.test(t)&&!t.startsWith("/")&&(!this.isFirstChange||t!==this.state.textValue);this.isFirstChange=!1,a&&this.state.textValue.length<t.length&&this.handleIncrementCombo(),a?m.Z.startTyping(i):""===t&&m.Z.stopTyping(i),l&&r&&(0,x.rf)(),this.setState({textValue:t,richValue:n})}),e9(this,"handleSendMessage",async e=>{let{value:t,uploads:n,stickers:r,confettiPotionEmoji:i,command:l,commandOptionValues:a,isGif:o,components:s,announcementSendOptions:c}=e;if(0===(t=t.trim()).length&&(null==r||0===r.length)&&(null==n||0===n.length))return Promise.resolve({shouldClear:!1,shouldRefocus:!0});let{guild:u,channel:d,pendingReply:p,chatInputType:m}=this.props,b=!1;if(null!=l){if(l.inputType===M.iw.BUILT_IN_INTEGRATION)return eG.S.dispatch(e3.CkL.SHAKE_APP,{duration:200,intensity:2}),Promise.resolve({shouldClear:!1,shouldRefocus:!0});let e=R.Z.getCommandOrigin(d.id);if(null==e||e===M.bB.CHAT){let{isAuthorized:e}=await (0,k.L)({applicationId:l.applicationId,channel:d,commandIntegrationTypes:l.integration_types});if(!e)return Promise.resolve({shouldClear:!1,shouldRefocus:!0})}else if(e===M.bB.APPLICATION_LAUNCHER||e===M.bB.IMAGE_RECS_MENU||e===M.bB.IMAGE_RECS_SUBMENU){var _;let{location:t,sectionName:n}=null!=(_=(0,eQ._U)(l))?_:{},r=e===M.bB.APPLICATION_LAUNCHER?P.Z.lastShownEntrypoint():Z._b.TEXT,{isAuthorized:i}=await (0,k.L)({applicationId:l.applicationId,channel:d,commandIntegrationTypes:l.integration_types,appLauncherContext:{location:t,sectionName:n,entrypoint:r}});if(!i)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});(0,eQ.SC)(l)}let n=await (0,L.Z)({command:l,optionValues:null!=a?a:{},context:{guild:u,channel:d}});if(l.inputType!==M.iw.BUILT_IN_TEXT)return Promise.resolve({shouldClear:!0,shouldRefocus:!0});null!=n&&(t=null!=n.content&&""!==n.content?n.content:t,b=!0===n.tts)}return(0,ez.v)({openWarningPopout:e=>this.setState({contentWarningProps:e}),type:this.props.chatInputType,content:t,stickers:r,uploads:n,channel:d}).then(async e=>{var a,_;let{valid:y,failureReason:C}=e;if(!y)if(C===e3.zYc.SLOWMODE_COOLDOWN)return eG.S.dispatch(e3.CkL.SHAKE_APP,{duration:200,intensity:2}),eG.S.dispatch(e3.CkL.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0};else return{shouldClear:!1,shouldRefocus:!1};let x=(0,ec.g)(t,{channel:d,isEdit:!1});null!=x&&(null!=x.content&&(t=x.content),null!=x.tts&&(b=x.tts));let v=eu.ZP.parse(d,t);v.tts=v.tts||b,null!=s&&(v.content="",v.components=s);let O=tt(te({},f.Z.getSendMessageOptions({content:t,channelId:d.id,uploads:n,stickers:r,command:l,isGif:o,pendingReply:p,confettiPotionEmoji:i,scheduledTimestamp:null==(a=this.props.pendingScheduledMessage)?void 0:a.scheduledTimestamp})),{location:e4.dy.CHAT_INPUT});if(null!=c&&(O.announcementSendOptions=c),null!=s&&(O.flags=(0,eH.pj)(null!=(_=O.flags)?_:0,e3.iLy.IS_COMPONENTS_V2)),o)return f.Z.sendMessage(d.id,v,void 0,O),(0,ey.A6)(d.id),{shouldClear:!1,shouldRefocus:!0};if(null!=n&&n.length>0){let e=(0,eq.KZ)(n);if((0,eq.Bf)(e,null==u?void 0:u.id))return(0,eW.G)(d,e),{shouldClear:!1,shouldRefocus:!1};O.eagerDispatch=!1,O.attachmentsToUpload=n,O.onAttachmentUploadError=(e,r,i)=>{(0,es.A)({file:e,guildId:d.getGuildId(),analyticsLocations:[],code:r,reason:i})&&(""!==t&&""===eN.Z.getDraft(d.id,eN.d.ChannelMessage)&&h.Z.saveDraft(d.id,t,eN.d.ChannelMessage),0===eL.Z.getUploadCount(d.id,eN.d.ChannelMessage)&&g.Z.setUploads({channelId:d.id,uploads:n,draftType:eN.d.ChannelMessage}))},g.Z.clearAll(d.id,eN.d.ChannelMessage)}if(null!=O.scheduledTimestamp)try{await (0,ev.PV)({channelId:d.id,scheduledTimestamp:O.scheduledTimestamp,messageSendData:{channelId:d.id,content:t,nonce:(0,ed.r)(),tts:b,message_reference:O.messageReference,allowed_mentions:O.allowedMentions,flags:O.flags},attachmentsToUpload:n}),(0,ej.Hw)(O.scheduledTimestamp)}catch(e){return(0,ej.wW)(e.message),{shouldClear:!1,shouldRefocus:!1}}else f.Z.sendMessage(d.id,v,void 0,O);return this.setState((0,B.H2)()),(0,ey.A6)(d.id),(0,eE.qB)(d.id,m.drafts.type),{shouldClear:!0,shouldRefocus:!0}})}),e9(this,"handleSetValue",e=>{var t,n;let r=null==(t=this.editorRef)?void 0:t.getSlateEditor();null!=r&&(z.Q.select(r,[]),r.insertText(e),null==(n=this.editorRef)||n.focus())}),e9(this,"renderAttachButton",(e,t)=>(0,r.jsx)(H.Z,{className:t,channel:this.props.channel,draftType:eN.d.ChannelMessage,editorTextContent:this.state.textValue,setValue:this.handleSetValue,canOnlyUseTextCommands:e})),e9(this,"renderApplicationCommandIcon",(e,t,n)=>(0,r.jsx)(G.Z,{className:n,command:e,section:t,channel:this.props.channel}))}}class to extends i.PureComponent{static getDerivedStateFromProps(e,t){let{channel:n}=e,{currentChannelId:r}=t;return n.id!==r?{textAreaFocused:null!=n&&n.type!==e3.d4z.GUILD_ANNOUNCEMENT&&!c.tq&&eM.Z.can(e3.Plq.SEND_MESSAGES,n),currentChannelId:n.id}:null}componentDidMount(){eG.S.subscribe(e3.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}componentDidUpdate(e){(this.props.isEditing!==e.isEditing||this.props.hasModalOpen!==e.hasModalOpen)&&(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())}componentWillUnmount(){eG.S.unsubscribe(e3.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}render(){var e,t;let n,{channel:i,guild:l,keyboardModeEnabled:o,hasModalOpen:s,pendingReply:c,chatInputType:d,placeholder:h,accessibilityLabel:f,showQuarantinedUserBanner:m,filterAfterTimestamp:g,communicationDisabledUntil:y,shakeIntensity:C,poggermodeEnabled:x,isSelectedResourceChannel:v,showAutomodUserProfileChatBlocker:O,showAppLauncherButton:j,showAppDMsUI:E,isInitialLoading:S,pendingScheduledMessage:I,recipientUser:P,voiceChannel:Z,theme:T,chatWallpaperState:N,wallpaperColorMix:A,messagesTypingGradient:w,isChatInputBottomAligned:R,showLinkedLobbyApplicationLoadingIndicator:M,announcementComposerEnabled:D}=this.props,{textAreaFocused:L,textAreaHighlighted:k}=this.state,B=d===U.Ie.SIDEBAR;n=B&&i.type===e3.d4z.GUILD_VOICE?e7.t.pnnyFR:B&&i.type===e3.d4z.GUILD_STAGE_VOICE?e7.t.YInSkp:u.T.THREADS.has(i.type)?e7.t["OkzL+f"]:e7.t.UbNmGR;let F=(0,r.jsx)("div",{className:e6.channelBottomBarArea,children:(0,r.jsx)(e0.Z,{})}),G=(0,r.jsxs)("div",{className:e6.channelBottomBarArea,children:[(0,r.jsx)(eS.Z,{childRef:this.containerDomRef,tutorialId:"writing-messages",position:"left",offsetX:75,children:(0,r.jsx)(tl,{ref:this.refToChannelTextAreaFormComponent,refInstance:this.containerDomRef,focused:L,highlighted:k,channel:i,guild:l,keyboardModeEnabled:o,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:s,pendingReply:c,chatInputType:d,placeholder:h,accessibilityLabel:f,shakeIntensity:C,poggermodeEnabled:x,onCommandSentinelTyped:this.handleCommandSentinelTyped,renderAppLauncherButton:this.renderAppLauncherButton,renderAppCommandButton:this.renderAppCommandButton,pendingScheduledMessage:I,announcementComposerEnabled:D})}),this.renderAppCommandButton()]}),H=E&&S||M,V=H?F:G,z=a()({[e5.barWithAppLauncherButton]:j,[e5.barWithAppsDMsUI]:E}),{enabled:W}=eI.Z.getCurrentConfig({guildId:null==Z?void 0:Z.guild_id,location:"ChannelChat"}),q=Y.qM.getCurrentConfig({location:"ChannelChat"}).enabled,X=W&&null!=P&&null!=Z&&null!=Z.guild_id;return(0,r.jsx)(_.Z,{page:(0,eB.mE)(this.props.channel),children:(0,r.jsx)(eo.sW,{children:(0,r.jsx)(ea.BV,{children:(0,r.jsxs)(eF.I3,{ref:this.dispatchGroupRef,children:[(0,r.jsx)(eF.d9,{event:e3.CkL.TEXTAREA_FOCUS,handler:this.handleInputFocus}),(0,r.jsx)(eF.d9,{event:e3.CkL.TEXTAREA_BLUR,handler:this.handleInputBlur}),(0,r.jsx)(eF.d9,{event:e3.CkL.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),(0,r.jsx)(eF.d9,{event:e3.CkL.OPEN_APP_LAUNCHER,handler:this.handleOpenAppLauncher}),(0,r.jsxs)(ti,{isSidebar:B,className:a()(e6.chatContent,{[e6.hasWallpaper]:null==N?void 0:N.isViewable,[J.e3]:q?null==N?void 0:N.isViewable:void 0,[null!=(e=(0,p.QeD)(T))?e:""]:q?null==N?void 0:N.isViewable:void 0}),"aria-label":e7.intl.formatToPlainString(n,{channelName:i.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract,style:null!=A?A:{},children:[(0,r.jsx)(K.Z,{channel:i}),X&&(0,r.jsx)(e8.Z,{recipientUser:P,voiceChannel:Z}),(0,r.jsx)(eJ.Z,{channel:i,guild:l,narrow:B}),(0,r.jsxs)(p.y5t,{component:(0,r.jsx)(p.nn4,{children:(0,r.jsx)(p.H,{children:e7.intl.format(e7.t.eTzKk5,{channelName:i.name})})}),children:[(0,r.jsx)(ep.Z,{channel:i,forceCozy:v,filterAfterTimestamp:g,showingQuarantineBanner:m,jumpBarClassName:z,typingGradient:w,isChatInputBottomAligned:R}),v?null:null!=(t=this.renderMessageBanner({channel:i,showQuarantinedUserBanner:m,guild:l,communicationDisabledUntil:y,showAutomodUserProfileChatBlocker:O}))?t:(0,r.jsxs)("form",{ref:this.inputFormRef,onSubmit:tn,className:a()(e6.form,{[e6.formWithLoadedChatInput]:!H}),children:[x&&(0,r.jsx)(eg.Z,{channelId:i.id}),i.isPrivate()?(0,r.jsx)(e1.Z,{channel:i,children:V}):(0,r.jsx)(e2.Z,{channel:i,children:V}),(0,r.jsx)(b.ZP,{channel:i,poggermodeEnabled:x,isInTextChannel:!0})]}),(0,r.jsx)(eo.kw,{})]})]})]})})})},"messages-".concat(i.id))}constructor(...e){super(...e),e9(this,"containerDomRef",i.createRef()),e9(this,"refToChannelTextAreaFormComponent",i.createRef()),e9(this,"inputFormRef",i.createRef()),e9(this,"state",{textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:this.props.channel.id}),e9(this,"dispatchGroupRef",i.createRef()),e9(this,"appIconAnimateRef",i.createRef()),e9(this,"handleRequestFocus",e=>{if(e.channelId===this.props.channel.id)if(this.state.textAreaFocused){var t;null==(t=this.refToChannelTextAreaFormComponent.current)||t.focusEditor()}else this.setState({textAreaFocused:!0})}),e9(this,"handleInputFocus",e=>{var t;null==(t=this.dispatchGroupRef.current)||t.bumpDispatchPriority(),(null==e?void 0:e.highlight)!=null?this.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):this.setState({textAreaFocused:!0})}),e9(this,"handleInputBlur",()=>{(document.hasFocus()||this.props.hasModalOpen)&&this.setState({textAreaFocused:!1,textAreaHighlighted:!1})}),e9(this,"handleInputKeyDown",(e,t)=>{this.state.textAreaHighlighted&&this.setState({textAreaHighlighted:!1}),t||this._handleMoveToPane(e)}),e9(this,"handleKeyDown",e=>{var t;null!=(t=this.inputFormRef.current)&&t.contains(e.target)||this._handleMoveToPane(e)}),e9(this,"_handleMoveToPane",e=>{let{keyboardModeEnabled:t,chatInputType:n,channel:r}=this.props;if(t)switch(e.which){case e3.yXg.ARROW_LEFT:n===U.Ie.SIDEBAR&&eG.S.dispatch(e3.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:eD.Z.getChannelId()});return;case e3.yXg.ARROW_RIGHT:n===U.Ie.NORMAL&&eG.S.dispatch(e3.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:eZ.ZP.getCurrentSidebarChannelId(r.id)})}}),e9(this,"handleOpenExpressionPicker",e=>{let{activeView:t}=e;(0,$.PG)(t,this.props.chatInputType)}),e9(this,"handleOpenAppLauncher",e=>{let{applicationId:t}=e;return I.__(Z._b.TEXT,this.props.chatInputType,{applicationId:t})}),e9(this,"handleChatInteract",()=>{var e;null==(e=this.dispatchGroupRef.current)||e.bumpDispatchPriority()}),e9(this,"handleCommandSentinelTyped",()=>{var e;null==(e=this.appIconAnimateRef.current)||e.animate()}),e9(this,"renderMessageBanner",e=>{let{channel:t,showQuarantinedUserBanner:n,guild:i,communicationDisabledUntil:l,showAutomodUserProfileChatBlocker:a}=e;return t.type===e3.d4z.DM&&n?(0,r.jsx)(e_.Z,{}):t.isModeratorReportChannel()&&t.isArchivedThread()?(0,r.jsx)(ex.Z,{channelId:t.id}):null!=l&&(0,en.J)(l)&&null!=i&&!eM.Z.can(e3.Plq.ADMINISTRATOR,i)?(0,r.jsx)(ei.T,{guild:i,disabledUntil:l}):a?(0,r.jsx)(et.h,{guild:i}):null}),e9(this,"renderAppLauncherButton",()=>{let{channel:e,entryPointCommandButtonRef:t,chatInputType:n}=this.props;return(0,r.jsx)(eX.Z,{channel:e,type:n,animateRef:this.appIconAnimateRef,entryPointCommandButtonRef:t})}),e9(this,"renderAppCommandButton",()=>{let{showAppDMsUI:e,isFailedAppDMLoad:t,channel:n,entryPointCommandButtonRef:i,chatInputType:l}=this.props;return e&&!t?(0,r.jsx)("div",{className:e6.entryPointButtonContainer,children:(0,r.jsx)(e$.ZP,{context:{channel:n,type:"channel"},entryPointCommandButtonRef:i,type:l})}):null})}}let ts=i.memo(function(e){let{channel:t,guild:n,chatInputType:l,filterAfterTimestamp:a}=e,{placeholder:o,accessibilityLabel:s}=(0,eK.Z)({channel:t}),c=(0,e_.S)(ek.default.getCurrentUser(),t),[u]=(0,er.AB)(null==n?void 0:n.id),h=(0,ee.Ux)(null==n?void 0:n.id),f=(0,d.e7)([ek.default],()=>ek.default.getCurrentUser()),m=(0,d.e7)([ew.ZP],()=>{var e,t,r;return null!=f&&null!=(r=null==(e=ew.ZP.getMember(null!=(t=null==n?void 0:n.id)?t:e3.lds,null==f?void 0:f.id))?void 0:e.isPending)&&r}),g=(0,d.e7)([ef.Z],()=>ef.Z.isEnabled()),_=(0,eb.Z)(t.id),y=(0,el.Z)(t.id),x=(0,T.R)({channel:t,chatInputType:l}),O=(0,S.Z)(t),I=(0,eO.k)(t.id),Z=(0,C.ZP)(),N=(0,Q.Z)(t.id),A=(0,X.Z)(null==N?void 0:N.wallpaperId),{isInitialLoading:w,primaryEntryPointCommand:R,isProfileFetching:M,wasProfileFetching:D,applicationId:L,channelId:k,commands:U}=(0,j.Z)({context:{channel:t,type:"channel"}});(0,E.Z)({isProfileFetching:M,wasProfileFetching:D,applicationId:L,channelId:k,commands:U});let B=i.useRef(null),F=(0,d.e7)([P.Z],()=>P.Z.appDMChannelsWithFailedLoads().has(t.id)),G=(0,d.e7)([eD.Z],()=>eD.Z.getVoiceChannelId()),H=(0,d.e7)([eT.Z],()=>eT.Z.getChannel(G)),V=(0,d.e7)([ek.default],()=>t.type!==e3.d4z.DM?null:ek.default.getUser(t.getRecipientId())),z=(0,d.e7)([em.ZP,eP.default],()=>em.ZP.getUserCombo(eP.default.getId(),t.id)),Y=(0,b.iD)(t),K=(0,b.d7)(t),J=Y.length>0||t.rateLimitPerUser>0||null!=z||null!=K,$=(0,W.Z)("ChannelChat"),{showLinkedLobbyApplicationLoadingIndicator:et}=(0,eY.Z)(t.linkedLobby),en=(0,q.Z)("ChannelChat");return(0,r.jsx)(to,{channel:t,isEditing:null!=(0,d.e7)([eA.Z],()=>eA.Z.getEditingMessageId(t.id)),hasModalOpen:(0,p.s9z)(p.JQI),guild:n,keyboardModeEnabled:(0,d.e7)([v.Z],()=>v.Z.keyboardModeEnabled),pendingReply:(0,d.e7)([eC.Z],()=>eC.Z.getPendingReply(t.id)),chatInputType:l,placeholder:o,accessibilityLabel:s,filterAfterTimestamp:a,showQuarantinedUserBanner:c,communicationDisabledUntil:u,shakeIntensity:_,poggermodeEnabled:g,isSelectedResourceChannel:y,showAutomodUserProfileChatBlocker:h&&!m,showAppLauncherButton:x,showAppDMsUI:O,isInitialLoading:w,showEntryPointAppCommandButton:null!=R,entryPointCommandButtonRef:B,isFailedAppDMLoad:F,pendingScheduledMessage:I,recipientUser:V,voiceChannel:H,theme:Z,chatWallpaperState:N,wallpaperColorMix:A,messagesTypingGradient:$&&J,isChatInputBottomAligned:$,showLinkedLobbyApplicationLoadingIndicator:et,announcementComposerEnabled:en})})},25007:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(481369),a=n(944103),o=n(946050),s=n(256413),c=n(292853),u=n(359565),d=n(226027);let p=i.memo(function(e){let{channel:t,narrow:n}=e,i=(0,s.Z)(t),p=(0,l.Z)(),{showUnreadsNotice:h,clearUnreadsNotice:f}=(0,a.Z)(t);return t.isArchivedLockedThread()?(0,r.jsx)(u.s,{channel:t,narrow:n}):t.isLockedThread()?(0,r.jsx)(u.q,{channel:t,narrow:n}):h?(0,r.jsx)(o.Z,{channel:t,clearUnreadsNotice:f}):i&&p.includes(d.E.OPT_IN_CHANNEL)?(0,r.jsx)(c.Z,{channel:t,narrow:n}):null})},325708:function(e,t,n){n.d(t,{Z:()=>_,y:()=>g}),n(388685);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(392711),c=n(692547),u=n(481060),d=n(153867),p=n(347469),h=n(740492),f=n(36645),m=n(875675),g=((r={})[r.PostSidebar=0]="PostSidebar",r[r.ThreadSidebar=1]="ThreadSidebar",r[r.CallChatSidebar=2]="CallChatSidebar",r[r.MessageRequestSidebar=3]="MessageRequestSidebar",r[r.HomeSidebar=4]="HomeSidebar",r[r.ParticipantsSidebar=5]="ParticipantsSidebar",r);function b(e){let{resizableNode:t,onResize:n,onResizeEnd:r,maxWidth:l,minWidth:a}=e,o=(0,p.Z)({minDimension:a,maxDimension:l,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:r,orientation:p.y.HORIZONTAL_LEFT,throttleDuration:16});return(0,i.jsx)("div",{onMouseDown:o,className:m.resizeHandle})}function _(e){let{sidebarType:t,maxWidth:n,onWidthChange:r,children:a,floatingLayer:p}=e,g=l.useRef(null),_=function(e){switch(e){case 0:return"postSidebarWidth";case 1:return"threadSidebarWidth";case 2:return"callChatSidebarWidth";case 3:return"messageRequestSidebarWidth";case 4:return"homeSidebarWidth";case 5:return"callParticipantsSidebarWidth"}}(t),[y,C]=l.useState(h.ZP[_]),x=l.useCallback(e=>{d.ZP.updatedUnsyncedSettings({[_]:e})},[_]),v=5===t?f.at:f.Co,O=(0,f.WL)({maxWidth:n,minWidth:v}),j=(0,u.dQu)(c.Z.modules.chat.RESIZE_HANDLE_WIDTH),E=(0,s.clamp)(y,v,n),S=O?E:E+j;l.useEffect(()=>{null==r||r(E,O)},[E,r,O]);let I=null!=p?p:l.Fragment;return(0,i.jsxs)(i.Fragment,{children:[!O&&(0,i.jsx)("div",{style:{minWidth:S}}),(0,i.jsx)(I,{children:(0,i.jsxs)("div",{className:o()(m.chatLayerWrapper,{[m.hidden]:!1}),children:[(0,i.jsx)("div",{className:o()(m.chatTarget,{[m.floating]:O,[m.notFloating]:!O}),style:{width:S}}),!O&&(0,i.jsx)(b,{minWidth:v,maxWidth:n,resizableNode:g,onResize:C,onResizeEnd:x}),(0,i.jsx)("div",{ref:g,className:o()(m.container,{[m.floating]:O}),style:{width:E},children:a})]})})]})}},685006:function(e,t,n){n.d(t,{ZP:()=>S,xL:()=>E});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(879690),s=n(731965),c=n(481060),u=n(911969),d=n(100527),p=n(367907),h=n(450936),f=n(368478),m=n(499254),g=n(827498),b=n(213459),_=n(541716),y=n(61356),C=n(981631),x=n(314734),v=n(409575);let O=(0,o.U)(()=>({visible:!1})),j=e=>{(0,s.j)(()=>{O.setState({visible:e})})},E=O;function S(e){let{context:t,entryPointCommandButtonRef:n,type:l}=e,{isInitialLoading:a,application:o,primaryEntryPointCommand:s}=(0,h.Z)({context:t}),c=null==o?void 0:o.id,f=(0,y.Z)({type:l}),{sectionCommands:x}=(0,b.If)(t,null!=c?c:""),v=i.useCallback(()=>{f?m.yT(g.ti.DISMISSED):(m.__(g._b.TEXT,_.Ie.NORMAL,{applicationId:c}),(0,p.yw)(C.rMx.APPLICATION_COMMAND_SECTION_SELECTED,{application_id:c,location:d.Z.APP_DMS_ENTRY_POINT_COMMAND_BUTTON,source:g._b.TEXT}))},[c,f]),O=null!=x&&x.filter(e=>e.type===u.yU.CHAT||e.type===u.yU.PRIMARY_ENTRY_POINT).length>0,E=!a&&null!=o&&!0===O;return(i.useEffect(()=>(j(E),()=>{j(!1)}),[E]),E)?(0,r.jsx)(I,{context:t,application:o,primaryEntryPointCommand:s,onOpenButtonPress:v,entryPointCommandButtonRef:n,type:l}):null}function I(e){let{context:t,application:n,primaryEntryPointCommand:i,onOpenButtonPress:l,entryPointCommandButtonRef:o,type:s}=e,u=(0,y.Z)({type:s}),{isExecutingLaunchInteraction:d,buttonText:p,hasActiveMatchingEmbeddedActivity:h,isEmbeddedApp:m,currentEmbeddedActivity:g,channelRecipientUserId:b,setIsExecutingLaunchInteraction:_,analyticsLocations:C}=(0,f.Z)({context:t,primaryEntryPointCommand:i,application:n,showAppLauncherPopup:u}),O=(0,f.J)({context:t,application:n,isEmbeddedApp:m,hasActiveMatchingEmbeddedActivity:h,currentEmbeddedActivity:g,onOpenButtonPress:l,channelRecipientUserId:b,setIsExecutingLaunchInteraction:_,analyticsLocations:C}),j=h?"critical-primary":"primary";return(0,r.jsx)("div",{className:a()(v.entryPointAppCommandButtonContainer,x.Id),children:(0,r.jsx)(c.zxk,{variant:j,loading:d,onClick:O,fullWidth:!0,buttonRef:o,text:p})})}},335615:function(e,t,n){n.d(t,{Z:()=>ec}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(91192),u=n(924826),d=n(873546),p=n(876215),h=n(442837),f=n(481060),m=n(239091),g=n(941028),b=n(144144),_=n(276264),y=n(607070),C=n(100527),x=n(367907),v=n(906732),O=n(493324),j=n(611064),E=n(677432),S=n(178762),I=n(868671),P=n(82295),Z=n(91218),T=n(313201),N=n(623624),A=n(518738),w=n(570096),R=n(850020),M=n(155409),D=n(670188),L=n(706454),k=n(439170),U=n(485386),B=n(944486),F=n(111583),G=n(594174),H=n(979651),V=n(585483),z=n(823379),W=n(51144),q=n(998502),Y=n(981631),K=n(388032),X=n(32482);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Q(e,t,n[t])})}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let et=q.ZP.getEnableHardwareAcceleration(),en={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},er=i.memo(function(e){let{colorString:t,colorStrings:l,colorRoleName:a,colorRoleId:o,isOwner:s,nick:c,user:u,currentUser:p,activities:h,applicationStream:f,status:g,channel:y,guildId:C,isTyping:x,isMobileOnline:v,premiumSince:O,nameplate:j}=e,E=ee(e,["colorString","colorStrings","colorRoleName","colorRoleId","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince","nameplate"]),S=i.useRef(null),[I,P]=i.useState(!1),Z=null!=O?new Date(O):null,T=i.useCallback(e=>{(0,m.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387)),t=H.Z.isInChannel(B.Z.getVoiceChannelId(),u.id);return n=>(0,r.jsx)(e,$(J({},n),{user:u,guildId:C,channel:y,showMediaItems:t}))})},[u,C,y]),A=i.useCallback(()=>{let e="@".concat(W.ZP.getUserTag(u,{decoration:"never"})),t="<@".concat(u.id,">");V.S.dispatch(Y.CkL.TEXTAREA_FOCUS,{channelId:y.id}),V.S.dispatchToLastSubscribed(Y.CkL.INSERT_TEXT,{plainText:e,rawText:t}),b.Z.startTyping(y.id)},[u,y.id]),w=i.useCallback(e=>{null!=C&&(e.stopPropagation(),(0,N.f)({guildId:C,location:{section:Y.jXE.MEMBER_LIST,object:Y.qAy.BOOST_GEM_ICON}}))},[C]);return(0,r.jsx)(D.Z,{targetElementRef:S,user:u,guildId:C,channelId:y.id,roleId:o,position:d.tq?"window_center":"left",spacing:16,onShiftClick:A,shouldShow:I,onRequestClose:()=>{P(!1)},children:e=>{let{onClick:n,onMouseDown:i}=e,o=ee(e,["onClick","onMouseDown"]);return(0,r.jsx)(_.Z,J({ref:S,className:X.member,onContextMenu:T,shouldAnimateStatus:et,user:u,currentUser:p,nick:c,status:g,activities:h,applicationStream:f,isOwner:s,premiumSince:Z,colorString:t,colorStrings:l,colorRoleName:a,isTyping:x,channel:y,guildId:C,isMobile:v,onClickPremiumGuildIcon:w,selected:I,itemProps:E,nameplate:j,onClick:e=>{e.shiftKey?null==A||A():P(e=>!e)},onMouseDown:e=>{I?e.stopPropagation():null==i||i(e)}},o))}})}),ei=i.memo(function(e){let{colorRoleId:t}=e,n=ee(e,["colorRoleId"]),{channel:i,user:l,index:a}=e,o=(0,c.JA)("".concat(a)),s=(0,h.e7)([F.Z],()=>F.Z.isTyping(i.id,l.id)),u=(0,h.e7)([G.default],()=>G.default.getCurrentUser()),d=(0,h.e7)([U.Z],()=>{var e;return null!=t?null==(e=U.Z.getRole(i.guild_id,t))?void 0:e.name:void 0},[i,t]),p=(0,R.K)({user:l,guildId:i.guild_id,location:"ChannelMembers"});return(0,r.jsx)(er,$(J({},n,o),{isTyping:s,currentUser:u,colorRoleName:d,nameplate:p}))}),el=i.memo(function(e){let{id:t,title:n,count:i,guildId:l}=e,a=(0,A.p9)({roleId:t,guildId:l,size:16}),o=(0,h.e7)([L.default],()=>new Intl.NumberFormat(L.default.locale).format(i),[i]);return t===Y.Skl.UNKNOWN?(0,r.jsx)("div",{className:X.membersGroup,children:(0,r.jsx)("div",{className:X.memberGroupsPlaceholder})}):(0,r.jsxs)(P.Z,{className:X.membersGroup,children:[(0,r.jsx)(f.nn4,{children:K.intl.format(K.t.UaqbkZ,{title:n,count:i})}),(0,r.jsxs)("span",{"aria-hidden":!0,children:[null!=a?(0,r.jsx)(Z.Z,J({className:X.roleIcon},a)):null,n," — ",o]})]})});function ea(e){let{index:t}=e,n=(0,c.JA)("".concat(t));return(0,r.jsx)(_.Z,{itemProps:n})}class eo extends i.Component{shouldComponentUpdate(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length}componentDidMount(){this.updateSubscription(),this.trackMemberListViewed(),this._areActivitiesExperimentallyHidden=(0,O.$)("ChannelMembers")}componentDidUpdate(e){e.channel.id!==this.props.channel.id&&this.updateSubscription(),this.trackMemberListViewed(),this.updateMaxContentFeedRowSeen()}getContentFeedAdjustedDimensions(e){let{height:t,rowHeight:n,y:r}=e,i=this.getContentFeedHeight(),l=Math.max(0,t-Math.max(0,i-r)),a=Math.floor(l/n);return{height:l,rowHeight:n,rowsVisible:a,y:Math.max(0,r-i)}}getDimensions(){let e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};let{offsetHeight:t,scrollTop:n}=e.getScrollerState(),{rowHeight:r}=this.props,i=Math.floor(t/r);return this.getContentFeedAdjustedDimensions({height:t,rowHeight:r,rowsVisible:i,y:n})}render(){let{groups:e,listId:t,channel:n,sectionHeight:i}=this.props;return(0,r.jsx)(f.Wdt,{children:l=>(0,r.jsx)(T.FG,{children:o=>(0,r.jsx)("aside",{className:a()(X.membersWrap,X.hiddenMembers),"aria-labelledby":o,children:(0,r.jsx)(f.y5t,{component:(0,r.jsx)(f.nn4,{children:(0,r.jsx)(f.H,{id:o,children:K.intl.format(K.t.JBQxV1,{channel:n.name})})}),children:(0,r.jsx)(c.SJ,{children:n=>{var{ref:o,role:s}=n,c=ee(n,["ref","role"]);return(0,r.jsx)(f.aVo,J({innerRole:s,innerAriaLabel:K.intl.string(K.t["9Oq93t"]),ref:e=>{var t;this._list=e,this.props.listRef.current=e,o.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null},className:a()(X.members,{[X.fullWidth]:d.tq}),paddingTop:0,sectionHeight:i,rowHeight:this.getRowHeightComputer(),renderSection:this.renderSection,renderRow:this.renderRow,sections:e.map(e=>e.count),onScroll:this.handleScroll,fade:!0},c,l),t)}})})})})})}constructor(...e){super(...e),Q(this,"_list",null),Q(this,"_areActivitiesExperimentallyHidden",!1),Q(this,"_firstApplicationIdOccurrences",null),Q(this,"_lastRowsVersion",void 0),Q(this,"lastReportedAnalyticsChannel",void 0),Q(this,"setList",e=>{this._list=e,this.props.listRef.current=e}),Q(this,"renderSection",e=>{let{section:t}=e,{groups:n,channel:l}=this.props,a=n[t];if((0,j.R)(a))return(0,i.createElement)(j.Z,$(J({},a),{key:"section-".concat(t)}));if(0===t){let{key:e}=a;return(0,r.jsx)(M.Z,{tutorialId:"whos-online",position:"left",inlineSpecs:en,children:(0,i.createElement)(el,$(J({},a),{key:"section-".concat(e),guildId:l.guild_id}))},"section-".concat(t))}return(0,i.createElement)(el,$(J({},a),{key:"section-".concat(t),guildId:l.guild_id}))}),Q(this,"getRowProps",e=>{let{groups:t,rows:n}=this.props,r=t[e.section];if(null==r)return null;let{index:i}=r;return null==i||"row"!==e.type?null:n[i+1+e.row]}),Q(this,"getFirstApplicationIdOccurrences",()=>{let{rows:e,version:t}=this.props;if(null!=this._firstApplicationIdOccurrences&&this._lastRowsVersion===t)return this._firstApplicationIdOccurrences;let n=new Set,r=new Set;for(let t of e)if(null!=t&&t.type===k.so.CONTENT_INVENTORY){let{entry:e}=t;if("application_id"in e.extra&&null!=e.extra.application_id){let t=e.extra.application_id;n.has(t)||(n.add(t),r.add(e.id))}}return this._firstApplicationIdOccurrences=r,this._lastRowsVersion=t,r}),Q(this,"renderRow",e=>{let{section:t,row:n,rowIndex:i}=e,{channel:l}=this.props,a=this.getRowProps(e);if(null!=a){if(a.type===k.so.MEMBER&&"user"in a){let{colorString:e,colorStrings:t,colorRoleId:n,user:o,status:s,isOwner:c,isMobileOnline:u,nick:d,activities:p,applicationStream:h,premiumSince:f}=a;return(0,r.jsx)(ei,{colorString:e,colorStrings:t,colorRoleId:n,user:o,status:s,isOwner:c,nick:d,activities:this._areActivitiesExperimentallyHidden?[]:p,applicationStream:h,channel:l,guildId:l.guild_id,premiumSince:f,isMobileOnline:u,index:i},"member-".concat(a.user.id))}if(a.type===k.so.CONTENT_INVENTORY){let e="content-inventory-".concat(a.entry.id);null!=a.entry.original_id&&(e+="-".concat(a.entry.original_id));let t=this.getFirstApplicationIdOccurrences().has(a.entry.id),n=(0,r.jsx)(S.ZP,$(J({},a),{channel:this.props.channel,index:i,isFirstApplicationOccurrence:t}),e);return a.entry.content_type===p.s.LEADERBOARD?(0,r.jsx)(w.N,{children:n},e):n}if(a.type===k.so.HIDDEN_CONTENT_INVENTORY)return(0,r.jsx)(E.Z,{},"content-inventory-hidden-entry")}return(0,r.jsx)(ea,{index:i},"placeholder-".concat(t,":").concat(n))}),Q(this,"handleScroll",()=>{this.updateSubscription(),this.updateMaxContentFeedRowSeen()}),Q(this,"updateMaxContentFeedRowSeen",s().debounce(()=>{let e=this._list;if(null==e)return;let{offsetHeight:t,scrollTop:n}=e.getScrollerState(),r=n+t-this.props.sectionHeight;this.props.updateMaxContentFeedRowSeen(r)},50)),Q(this,"getContentFeedGroup",()=>{let e=this.props.groups[I.T];if((0,j.R)(e))return e}),Q(this,"hasContentFeed",()=>null!=this.getContentFeedGroup()),Q(this,"getRowHeightComputer",()=>{let e=this.getContentFeedGroup(),{rowHeight:t}=this.props;if(null!=e){let{rows:n}=this.props,r=e.index;return function(e,i){if(e===I.T){let e=n[r+1+i];return(0,S.iZ)(e)}return t}}return t}),Q(this,"getContentFeedHeight",()=>{let e=this.getContentFeedGroup();return null!=e?e.feedHeight+this.props.sectionHeight:0}),Q(this,"updateSubscription",s().debounce(()=>{if(null==this._list)return;let{channel:e}=this.props,{rowHeight:t,y:n,height:r}=this.getDimensions();(0,g.TV)({guildId:e.guild_id,channelId:e.id,y:n,height:r,rowHeight:t})},50)),Q(this,"trackMemberListViewed",()=>{var e;if(this.lastReportedAnalyticsChannel===this.props.channel.id)return;let t=null==(e=this._list)?void 0:e.getItems(),{rowsVisible:n}=this.getDimensions();if(void 0===n||0===n||null==t)return;this.hasContentFeed()&&(t=t.filter(e=>e.section!==I.T));let r=t.map(e=>this.getRowProps(e)).slice(0,n+1).filter(z.lm);if(0===r.length)return;let i=r.reduce((e,t)=>{var n;return t.type!==k.so.MEMBER||(e.num_users_visible++,t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++,null!=t.activities&&t.activities.length>0&&(e.num_users_visible_with_activity++,t.activities.some(e=>e.type===Y.IIU.PLAYING)&&e.num_users_visible_with_game_activity++),null!=t.user.avatarDecoration&&e.num_users_visible_with_avatar_decoration++,(null==(n=t.user.collectibles)?void 0:n.nameplate)!=null&&e.num_users_visible_with_nameplate++),e},{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0,num_users_visible_with_avatar_decoration:0,num_users_visible_with_nameplate:0});this.lastReportedAnalyticsChannel=this.props.channel.id,x.ZP.trackWithMetadata(Y.rMx.MEMBER_LIST_VIEWED,J({},i))})}}function es(e){let{channel:t,className:n}=e,{analyticsLocations:l}=(0,v.ZP)(C.Z.MEMBER_LIST),o=(0,h.e7)([y.Z],()=>y.Z.keyboardModeEnabled),s=(0,h.cj)([k.ZP],()=>k.ZP.getProps(t.guild_id,t.id)),{rows:d,groups:p,version:m,updateMaxRowSeen:g}=(0,I.H)({memberStoreProps:s,channelId:t.id,guildId:t.guild_id}),b=i.useRef(null),_=(0,f.UBm)("lg")+(0,f.UBm)("xxs"),x=i.useCallback((e,t)=>{let n=b.current;if(null==n)return;let r=parseInt(t,10),[i,l]=n.getSectionRowFromIndex(r);n.scrollToIndex({section:i,row:l,padding:42*(0===i&&0===l),callback:()=>{requestAnimationFrame(()=>{var t;return null==(t=document.querySelector(e))?void 0:t.focus({preventScroll:!0})})}})},[42]),O=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),j=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]),E=(0,u.ZP)({id:"members-".concat(t.id),setFocus:x,isEnabled:o,scrollToStart:O,scrollToEnd:j});return(0,r.jsx)(v.Gt,{value:l,children:(0,r.jsx)("div",{className:a()(X.container,n),children:(0,r.jsx)(c.bG,{navigator:E,children:(0,r.jsx)(eo,$(J({},e,s),{version:m,groups:p,rows:d,listRef:b,updateMaxContentFeedRowSeen:g,sectionHeight:18+_,rowHeight:42}))})})})}function ec(e){let{channel:t,className:n}=e,l=i.useDeferredValue(t);return i.useMemo(()=>(0,r.jsx)(es,{channel:l,className:n}),[l,n])}},862679:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(873546),a=n(442837),o=n(755721),s=n(481060),c=n(346486),u=n(433355),d=n(944701);let p=function(e){let{message:t,subtitle:n,countdown:p,buttonText:h,buttonColor:f,buttonSubmitting:m,onButtonClick:g,imageSrc:b,animationSrc:_,secondaryButtonText:y,onSecondaryButtonClick:C,children:x,useReducedMotion:v=!1}=e,O=(0,a.e7)([u.ZP],()=>u.ZP.getState().isMembersOpen);if(l.tq&&O)return null;if(null==t)return(0,r.jsx)(r.Fragment,{children:i.Children.only(x)});let j=null;return null!=b?j=(0,r.jsx)("img",{alt:"",src:b,className:d.image}):null!=_&&(j=(0,r.jsx)(s.Fmz,{importData:_,shouldAnimate:!v,className:d.animation})),(0,r.jsxs)("div",{className:d.wrapper,children:[(0,r.jsxs)("div",{className:d.content,children:[j,(0,r.jsxs)("div",{className:d.text,children:[(0,r.jsx)(s.X6q,{variant:"heading-md/semibold",className:d.title,children:t}),null!=n&&(0,r.jsx)(s.Text,{color:"text-muted",variant:"text-xs/normal",children:n})]})]}),(0,r.jsxs)("div",{className:d.buttonContainer,children:[null!=y&&(0,r.jsx)(o.zx,{className:d.button,size:o.zx.Sizes.SMALL,onClick:C,look:o.zx.Looks.LINK,color:o.zx.Colors.PRIMARY,submitting:m,children:y}),null!=h&&(0,r.jsx)(o.zx,{className:d.button,innerClassName:d.innerButton,size:o.zx.Sizes.SMALL,onClick:g,submitting:m,color:null!=f?f:o.zx.Colors.PRIMARY,children:h})]}),null!=p&&(0,r.jsx)(c.Z,{className:d.countdown,deadline:p})]})}},992744:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(780384),a=n(481060),o=n(410030),s=n(367907),c=n(984370),u=n(981631),d=n(388032),p=n(503484),h=n(66737),f=n(525377);let m=()=>{let e=(0,o.ZP)();i.useEffect(()=>{s.ZP.trackWithMetadata(u.rMx.GUILD_OUTAGE_VIEWED,{})},[]);let t=(0,l.wj)(e)?h:f;return(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsxs)(c.Z,{toolbar:(0,r.jsx)(i.Fragment,{}),children:[(0,r.jsx)(c.Z.Icon,{icon:a.VL1,"aria-hidden":!0}),(0,r.jsx)(c.Z.Title,{children:d.intl.string(d.t["8LKcho"])})]}),(0,r.jsxs)("div",{className:p.content,children:[(0,r.jsx)("img",{alt:"",className:p.splashImage,src:t}),(0,r.jsx)(a.X6q,{className:p.splashHeader,variant:"heading-lg/medium",children:d.intl.string(d.t.m9gRVF)}),(0,r.jsx)(a.Text,{className:p.splashText,variant:"text-md/normal",children:d.intl.string(d.t["wC3j5+"])})]})]})}},685722:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288),i=n(120356),l=n.n(i),a=n(903781);function o(){return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsx)("div",{className:l()(a.placeholderItem,a.chatTextAreaPlaceholder)}),(0,r.jsx)("div",{className:l()(a.placeholderItem,a.appLauncherPlaceholder)}),(0,r.jsx)("div",{className:l()(a.placeholderItem,a.entryPointAppCommandPlaceholder)})]})}},199649:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(194359),o=n(631937),s=n(702321),c=n(377171),u=n(699516),d=n(626135),p=n(63063),h=n(862679),f=n(981631),m=n(596401),g=n(388032);function b(e){var t,b;let{channel:_,children:y}=e,C=(0,i.e7)([u.Z],()=>u.Z.isBlocked(_.getRecipientId()));(0,o.Z)(_.id);let x=(0,s.Z)(_.id),v=_.isSystemDM(),O=C&&!v&&!_.isMultiUserDM(),j={};if(v){let e=x?(0,r.jsxs)(r.Fragment,{children:[g.intl.string(g.t["+KSnWV"]),(0,r.jsx)(l.rgF,{size:"xs",color:c.Z.HEADER_PRIMARY})]}):g.intl.string(g.t.hvVgAQ);j.message=g.intl.string(g.t.Bt2N7O),j.subtitle=g.intl.string(g.t["n/Vzk5"]),j.buttonText=e,j.onButtonClick=()=>{if(x){open(m.D2),d.default.track(f.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"chat_blocker",target:m.D2});return}open(p.Z.getArticleURL(f.BhN.SYSTEM_DMS))},j.imageSrc=n(780961)}else O&&(j.message=g.intl.string(g.t["9T6N5+"]),j.buttonText=g.intl.string(g.t.XyHpKC),j.onButtonClick=()=>{a.Z.unblockUser(_.getRecipientId())});return(0,r.jsx)(h.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},j),b=b={children:y},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(b)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(b)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(b,e))}),t))}},923029:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(873546),a=n(442837),o=n(481060),s=n(665149),c=n(911560),u=n(210887),d=n(914010),p=n(981631),h=n(388032),f=n(529834);function m(e){let t,{channelId:m}=e;i.useEffect(()=>{c.Z.loadThread(m)});let g=(0,a.e7)([d.Z],()=>d.Z.getGuildId())===p.I_8,b=(0,a.e7)([u.Z],()=>u.Z.theme);return t=g?(0,r.jsx)(o.OZU,{note:h.intl.string(h.t["D5SN5+"]),children:h.intl.string(h.t.xVTAdX)}):null!=m?(0,r.jsx)(o.$jN,{type:o.$jN.Type.SPINNING_CIRCLE}):(0,r.jsx)(o.OZU,{note:h.intl.string(h.t["LTr+x8"]),children:h.intl.string(h.t.ai6Lbm)}),(0,r.jsxs)("div",{className:f.noChannel,children:[l.tq&&(0,r.jsx)(s.ZP,{children:null}),(0,r.jsxs)(o.ubH,{theme:b,children:[(0,r.jsx)(o.oxh,{darkSrc:g?n(691270):n(625065),lightSrc:g?n(704139):n(875184),width:272,height:222}),t]})]})}},1397:function(e,t,n){n.d(t,{Z:()=>q}),n(388685);var r=n(951288),i=n(647438),l=n(512722),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(893776),d=n(528963),p=n(749210),h=n(607070),f=n(391650),m=n(693546),g=n(881952),b=n(305325),_=n(246364),y=n(983736),C=n(937111),x=n(270801),v=n(652730),O=n(41776),j=n(657352),E=n(33154),S=n(144114),I=n(703656),P=n(210887),Z=n(606956),T=n(271383),N=n(430824),A=n(607744),w=n(496675),R=n(594174),M=n(700785),D=n(413251),L=n(862679),k=n(981631),U=n(701488),B=n(815660),F=n(388032),G=n(97508);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}function z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class W extends i.PureComponent{componentDidMount(){let{isFollowable:e,channelFollowingUsersSeen:t,channel:n}=this.props;e&&null==t&&d.Z.fetchChannelFollowerStats(n.id)}componentDidUpdate(e){let{shouldShowLurkerModeSuccessPopout:t,guild:n,showMemberVerificationModal:r}=this.props;r||e.shouldShowLurkerModeSuccessPopout||!t||null==n||this.setState({shouldShowLurkerModeSuccessPopout:!0})}render(){let{isFollowable:e,isLurking:t,notClaimed:n,notPhoneVerified:i,notEmailVerified:l,newMember:a,memberDeadline:o,newAccount:u,accountDeadline:d,theme:p,children:h,canSendMessages:f,channelFollowingUsersSeen:m,showLurkerModeUpsellPopout:g,showMemberVerificationModal:b,useReducedMotion:y,isStaff:C,guildJoinRequest:x,showLinkedLobbyApplicationLoadingIndicator:v,requiredLinkedLobbyApplication:O}=this.props,{shouldShowLurkerModeUpsellPopout:j,shouldShowLurkerModeSuccessPopout:E}=this.state,S={theme:p,useReducedMotion:y};if(e&&!f){if(S.message=F.intl.string(F.t.Hl0Mqq),null!=m&&m>=1e3){let e=1e3*Math.floor(m/1e3);S.subtitle=F.intl.formatToPlainString(F.t.C5bgrK,{count:e.toLocaleString()})}S.buttonText=F.intl.string(F.t["3aOv+v"]),S.onButtonClick=this.handleFollowAnnouncement,t&&(S.onSecondaryButtonClick=this.handleJoinServer,S.secondaryButtonText=F.intl.string(F.t["RLch7+"]))}else if(n)S.message=F.intl.string(F.t["Eg3/c3"]),S.buttonText=F.intl.string(F.t.fiNVio),S.onButtonClick=b?this.handleShowMemberVerification:this.handleClaimAccount;else if(b)switch(null==x?void 0:x.applicationStatus){case _.wB.SUBMITTED:S.message=F.intl.string(F.t["5iLvS0"]),S.subtitle=F.intl.string(F.t.FdsK4u),S.buttonText=F.intl.string(F.t.mqtdmZ),S.onButtonClick=this.handleCancelApplication;break;case _.wB.REJECTED:S.message=F.intl.string(F.t.lk30cX),S.buttonText=F.intl.string(F.t["8RrsHh"]),S.onButtonClick=this.handleViewApplicationRejection;break;default:S.message=F.intl.string(F.t.rEBKvr),S.buttonText=F.intl.string(F.t["r8/DT0"]),S.buttonColor=s.Tt.BRAND,S.onButtonClick=this.handleShowMemberVerification}else if(v||null==O)i&&!C?(S.message=F.intl.string(F.t["2dThMD"]),S.buttonText=F.intl.string(F.t["50gfOj"]),S.onButtonClick=this.handleVerifyPhone):l?(S.message=F.intl.string(F.t.FkGPS0),S.buttonText=F.intl.string(F.t.lm1UKi),S.onButtonClick=this.handleResendVerification):a?(S.message=F.intl.formatToPlainString(F.t.IH7RMD,{min:k.YeM.MEMBER_AGE}),S.countdown=o):u&&(S.message=F.intl.formatToPlainString(F.t["2JA2GB"],{min:k.YeM.ACCOUNT_AGE}),S.countdown=d);else{var I;S.imageSrc=null!=(I=O.getIconURL(U.Si.SMALL))?I:void 0,S.message=F.intl.format(F.t.EvDn1N,{name:O.name}),null!=O.connectionEntrypointUrl&&(S.buttonText=F.intl.string(F.t.S0W8Z2),S.onButtonClick=()=>{window.open(O.connectionEntrypointUrl,"_blank")})}return(0,r.jsx)(c.yRy,{targetElementRef:this.textAreaContainerRef,position:"top",align:"left",shouldShow:E,onRequestClose:()=>this.setState({shouldShowLurkerModeSuccessPopout:!1}),renderPopout:this.renderSuccessPopout,children:e=>(0,r.jsx)(L.Z,z(V({},S),{children:(0,r.jsxs)("div",{ref:this.textAreaContainerRef,children:[this.renderMemberVerificationSuccessModal(),g?(0,r.jsx)(c.yRy,{targetElementRef:this.upsellTargetRef,renderPopout:this.renderLurkerModeUpsellPopout,shouldShow:j,position:"top",children:e=>(0,r.jsx)(c.P3F,z(V({innerRef:this.upsellTargetRef},e),{className:G.clickableChannelTextArea,onClick:this.handleTextAreaClick,children:h}))}):h]})}))})}constructor(...e){super(...e),H(this,"state",{submitting:!1,shouldShowLurkerModeUpsellPopout:!1,shouldShowLurkerModeSuccessPopout:!1}),H(this,"textAreaContainerRef",i.createRef()),H(this,"upsellTargetRef",i.createRef()),H(this,"renderSuccessPopout",e=>{let{closePopout:t}=e,{guild:n}=this.props;return a()(null!=n,"This guildID cannot be null"),(0,r.jsx)(j.Z,{onClose:t,guild:n})}),H(this,"handleCancelApplication",()=>{let{guild:e}=this.props;null!=e&&(0,c.h7j)(t=>(0,r.jsx)(c.ConfirmModal,z(V({header:F.intl.string(F.t.aIz1oa),confirmText:F.intl.string(F.t["cY+Ooa"]),cancelText:F.intl.string(F.t["ETE/oK"]),onConfirm:()=>m.Z.removeGuildJoinRequest(e.id),confirmButtonColor:s.zx.Colors.BRAND},t),{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",children:F.intl.string(F.t["13tjTU"])})})))}),H(this,"handleViewApplicationRejection",()=>{let{guild:e}=this.props;null!=e&&(0,c.ZDy)(async()=>{let{default:t}=await n.e("3378").then(n.bind(n,76075));return n=>(0,r.jsx)(t,V({guildId:e.id},n))})}),H(this,"handleShowMemberVerification",()=>{let{guild:e}=this.props;null!=e&&(0,b.hk)(e.id)}),H(this,"handleClaimAccount",()=>{f.j()}),H(this,"handleVerifyPhone",()=>{(0,c.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,607018));return t=>(0,r.jsx)(e,V({reason:S.L.GUILD_PHONE_REQUIRED},t))},{modalKey:B.M})}),H(this,"handleResendVerification",()=>{var e;u.Z.verifyResend();let t=null==(e=R.default.getCurrentUser())?void 0:e.email;null!=t&&(0,c.h7j)(e=>(0,r.jsx)(c.ConfirmModal,z(V({},e),{header:F.intl.string(F.t.LykQYm),confirmText:F.intl.string(F.t.BddRzc),confirmButtonColor:s.zx.Colors.BRAND,children:(0,r.jsx)(c.Text,{variant:"text-md/normal",children:F.intl.format(F.t.azKEPz,{email:t})})})))}),H(this,"handleTextAreaClick",()=>{let{showLurkerModeUpsellPopout:e}=this.props;this.setState({shouldShowLurkerModeUpsellPopout:e})}),H(this,"handleJoinServer",async()=>{this.setState({submitting:!0});let e=this.props.channel.getGuildId();try{await p.Z.joinGuild(e,{source:k.vtS.CHAT_INPUT_BLOCKER})}catch(e){this.setState({submitting:!1})}}),H(this,"handleGoBack",()=>{this.setState({submitting:!0}),(0,I.s1)().goBack()}),H(this,"handleFollowAnnouncement",()=>{let{channel:e}=this.props;(0,c.ZDy)(async()=>{let{default:t}=await n.e("54642").then(n.bind(n,720589));return n=>(0,r.jsx)(t,V({channel:e},n))})}),H(this,"closeLurkerModeUpsellPopout",()=>{this.setState({shouldShowLurkerModeUpsellPopout:!1})}),H(this,"renderLurkerModeUpsellPopout",()=>{let{guild:e}=this.props;return a()(null!=e,"GuildVerification.renderLurkerModeUpsellPopout - guild cannot be undefined"),(0,r.jsx)(E.Z,{type:E.s.CHAT,guild:e,closePopout:this.closeLurkerModeUpsellPopout})}),H(this,"renderMemberVerificationSuccessModal",()=>{let{guild:e,guildJoinRequest:t}=this.props,n=(null==t?void 0:t.applicationStatus)===_.wB.APPROVED;if(null==e||null==t||!n||(0,g.d3)(t))return null;let i=()=>{m.Z.ackUserGuildJoinRequest(e.id,t.joinRequestId)};return(0,r.jsx)(c.u_l,{renderModal:t=>(0,r.jsx)(x.Z,z(V({},t),{onAccept:i,guildName:e.name})),onCloseRequest:i})})}}function q(e){var t,n;let{channel:i,children:l}=e,a=i.getGuildId(),s=(0,o.e7)([N.Z],()=>N.Z.getGuild(a)),c=(0,o.e7)([A.Z],()=>A.Z.getCheck(a)),u=i.type===k.d4z.GUILD_ANNOUNCEMENT&&null!=s&&s.features.has(k.oNc.NEWS),d=(0,o.e7)([Z.Z],()=>u?Z.Z.getFollowerStatsForChannel(i.id):null),p=(0,o.e7)([O.Z],()=>O.Z.isLurking(a)),f=(0,o.e7)([R.default],()=>R.default.getCurrentUser()),m=null!=(t=null==f?void 0:f.isStaff())&&t,g=(0,o.e7)([T.ZP],()=>{var e,t;return null!=f&&null!=(t=null==(e=T.ZP.getMember(a,f.id))?void 0:e.isPending)&&t}),b=!!(0,y.Dc)(s),x=(0,o.e7)([v.Z],()=>v.Z.shouldShowPopout(a)),j=(0,o.e7)([w.Z],()=>w.Z.can(k.Plq.SEND_MESSAGES,i)),E=(0,o.e7)([C.Z],()=>C.Z.getRequest(a)),{showLinkedLobbyApplicationLoadingIndicator:S,requiredLinkedLobbyApplication:I}=(0,D.Z)(i.linkedLobby),L=z(V({},c),{guild:s,isLurking:p,isFollowable:u,shouldShowLurkerModeSuccessPopout:x,showLurkerModeUpsellPopout:p&&null!=s&&M.Uu(k.Plq.SEND_MESSAGES,i),theme:P.Z.theme,canSendMessages:j,channelFollowingUsersSeen:null!=d?d.usersSeenEver:null,hasVerificationGate:b,showMemberVerificationModal:g&&b,guildJoinRequestStatus:null!=(n=null==E?void 0:E.applicationStatus)?n:_.wB.STARTED,guildJoinRequest:E,showLinkedLobbyApplicationLoadingIndicator:S,requiredLinkedLobbyApplication:I,useReducedMotion:h.Z.useReducedMotion,isStaff:m});return(0,r.jsx)(W,z(V({},L),{channel:i,children:l}))}},641861:function(e,t,n){n.d(t,{Z:()=>v});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(990547),o=n(442837),s=n(680018),c=n(481060),u=n(26151),d=n(213609),p=n(358221),h=n(985588),f=n(686546),m=n(359110),g=n(601964),b=n(430824),_=n(933557),y=n(354459),C=n(388032),x=n(115858);function v(e){let{recipientUser:t,voiceChannel:n}=e,i=(0,_.ZP)(n),s=(0,h.s)(t,"RingToVoiceBanner",n.id),{userIsInCall:u,isUserRinging:m}=(0,o.cj)([p.Z],()=>{let e=null;return s&&null!=n.id&&(e=p.Z.getParticipant(n.id,t.id)),{userIsInCall:null!=e,isUserRinging:null!=e&&e.type===y.fO.USER&&e.ringing}}),v=(0,o.e7)([b.Z],()=>b.Z.getGuild(n.guild_id)),j=null!=v?(0,g.EB)(v,32,!0):null,E=!s||u&&!m;return((0,d.Z)({type:a.ImpressionTypes.PAGE,name:a.ImpressionNames.RING_TO_GUILD_VC_BANNER_SHOWN,properties:{voice_channel_id:null==n?void 0:n.id,voice_guild_id:null==n?void 0:n.guild_id}},{disableTrack:E},[t.id]),E)?null:(0,r.jsxs)("div",{className:l()(x.themed,x.chatHeaderBar),children:[(0,r.jsxs)("div",{className:x.chatHeaderBarInfo,children:[(0,r.jsx)(f.ZP,{className:x.mask,mask:f.QS.SQUIRCLE,width:24,height:24,children:null==j?(0,r.jsx)("div",{className:l()(x.guildIcon,x.guildIconWithoutImage),children:(0,r.jsx)("div",{className:x.guildAcronym,children:null!=v?(0,g.gM)(v):null})}):(0,r.jsx)("img",{alt:null==v?void 0:v.name,src:j,className:x.guildIcon})}),(0,r.jsx)(c.Text,{className:x.chatHeaderBarText,variant:"text-md/medium",color:"header-secondary",children:C.intl.format(C.t.f2tNxM,{username:null==t?void 0:t.globalName,channelName:(0,r.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:i},n.id)})})]}),(0,r.jsx)(O,{channelId:n.id,recipientUserId:t.id,isUserRinging:m})]})}function O(e){let{channelId:t,recipientUserId:n,isUserRinging:i}=e,l=i?C.intl.string(C.t.ygslb2):C.intl.string(C.t["3Hv9qa"]),a=i?()=>u.Z.stopRinging(t,[n]):()=>{u.Z.ring(t,[n],"dm_banner"),(0,m.Kh)(t)};return(0,r.jsx)(s.z,{variant:i?"critical-secondary":"secondary",size:"sm",text:l,iconPosition:"start",icon:c.gj8,onClick:a})}},61356:function(e,t,n){n.d(t,{Z:()=>l});var r=n(399606),i=n(541099);function l(e){let{type:t}=e;return(0,r.e7)([i.Z],()=>{let e=i.Z.activeViewType();return null!=e&&e===t&&i.Z.shouldShowPopup()},[t])}},190210:function(e,t,n){n.d(t,{Z:()=>en}),n(704826),n(35282),n(539854),n(388685),n(781311),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(202841),u=n(772848),d=n(442837),p=n(692547),h=n(481060),f=n(166459),m=n(911969),g=n(476326),b=n(607070),_=n(100527),y=n(906732),C=n(998698),x=n(326133),v=n(507366),O=n(570220),j=n(951394),E=n(805680),S=n(374794),I=n(884858),P=n(813197),Z=n(849522),T=n(665906),N=n(695346),A=n(703558),w=n(398327),R=n(117530),M=n(956664),D=n(358085),L=n(127654),k=n(746877),U=n(541716),B=n(667829),F=n(258696),G=n(893718),H=n(273031),V=n(303628),z=n(981631),W=n(761652),q=n(224837),Y=n(200299),K=n(388032),X=n(593514),Q=n(564355);function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ee(e,t){let n=e.startsWith("attachment://"),r=e;if(n){let n=e.slice(13);r=t?"attachment://SPOILER_".concat(et(n)):e}return{media:{url:r,proxyUrl:r,loadingState:m.f.UNKNOWN,flags:0},description:e,spoiler:t}}function et(e){return null==e?"unnamed_file":e.replace(/\s/g,"_")}let en=i.memo(i.forwardRef(function(e,t){var n,l,o,u;let{textValue:p,richValue:g,className:j,id:S,required:I,disabled:P,accessibilityLabel:M,channel:L,type:H,focused:Y,onChange:en,onResize:eo,onBlur:es,onFocus:ec,onKeyDown:eu,onSubmit:ed,promptToUpload:ep,canMentionRoles:eh,canMentionChannels:ef,maxCharacterCount:em,placeholder:eg,"aria-describedby":eb,"aria-labelledby":e_,setEditorRef:ey,autoCompletePosition:eC,children:ex,disableThemedBackground:ev=!1,emojiPickerCloseOnModalOuterClick:eO,parentModalKey:ej}=e,eE=v.Z.useField("channelDrafts")[L.id],eS=null!=(l=null==eE?void 0:eE.title)?l:"",eI=null==eE?void 0:eE.heroFile,eP=null==(o=null==eE?void 0:eE.publish)||o,eZ=null==(u=null==eE?void 0:eE.createThread)||u;s()(null!=H,"chat input type must be set");let{analyticsLocations:eT}=(0,y.ZP)(_.Z.CHANNEL_TEXT_AREA),eN=(0,G.qz)(t),eA=i.useRef(null),ew=i.useRef(null),eR=i.useRef(null),eM=i.useRef(null);null==ey||ey(ew.current);let{activeCommand:eD}=(0,d.cj)([C.Z],()=>{var e,t;return{activeCommand:(null==(e=H.commands)?void 0:e.enabled)?C.Z.getActiveCommand(L.id):null,activeCommandSection:(null==(t=H.commands)?void 0:t.enabled)?C.Z.getActiveCommandSection(L.id):null}}),{isLurking:eL,isPendingMember:ek,disabled:eU,canAttachFiles:eB,canEveryoneSendMessages:eF}=(0,G.TE)(L,H,eD,P),eG=!N.dN.useSetting()&&!(0,D.isAndroidWeb)()&&null!=window.ResizeObserver,eH=!eG||!(null==(n=H.commands)?void 0:n.enabled)||!Y||p!==W.GI,eV=(0,Z.Z)(),{fontSize:ez}=(0,d.cj)([b.Z],()=>({fontSize:b.Z.fontSize,isSubmitButtonEnabled:b.Z.isSubmitButtonEnabled})),eW=(0,d.e7)([w.Z],()=>w.Z.isEnabled()),eq=(0,T.NE)(L);(0,G.hJ)(H,eU);let{eventEmitter:eY,handleEditorSelectionChanged:eK}=(0,G.x2)(ew,p,g),eX=i.useCallback(e=>{let t=e=>{if(e.shouldClear){var t;(0,v.c)(L.id,{title:"",heroFile:null}),null==(t=ew.current)||t.blur()}return e},n=[],r=eS.length>0?eS:e.value.length>0?e.value.slice(0,80):K.intl.string(K.t["7Xm5QE"]);if(null==eI)return ed($(J({},e),{announcementSendOptions:{createThread:eq&&eZ,threadName:r,publish:eP}})).then(t);n.push({type:m.re.MEDIA_GALLERY,items:[ee("attachment://".concat(et(eI.name)),!1)],id:"".concat(q.Vm)}),e.value.length>0&&n.push({type:m.re.TEXT_DISPLAY,content:e.value,id:"".concat(q.Kb)});let i=R.Z.getUploads(L.id,A.d.ChannelMessage),l=i.filter(e=>(e.isImage||e.isVideo)&&e.filename!==(null==eI?void 0:eI.name)),a=i.filter(e=>!e.isImage&&!e.isVideo&&e.filename!==(null==eI?void 0:eI.name)),o=l.map(e=>ee("attachment://".concat(et(e.filename)),!1));return o.length>0&&n.push({type:m.re.MEDIA_GALLERY,items:o,id:"".concat(q.m2)}),a.forEach((e,t)=>{n.push({type:m.re.FILE,file:ee("attachment://".concat(et(e.filename)),!1).media,id:"".concat(q.kn+t),name:et(e.filename),size:null})}),ed($(J({},e),{components:n,announcementSendOptions:{createThread:eq&&eZ,threadName:r,publish:eP}})).then(t)},[ed,eS,eI,L.id,eZ,eP,eq]),{submit:eQ,handleSubmit:eJ}=(0,G.bL)(eX,H,ew,eM,L.id),{autocompleteRef:e$,handleMaybeShowAutocomplete:e0,handleHideAutocomplete:e1}=(0,G.jx)(),e2=i.useCallback(()=>{var e;return null==eM||null==(e=eM.current)?void 0:e.hide()},[]),{editorHeight:e8,handleResize:e3}=(0,G.oR)(eo),{handleTab:e4,handleEnter:e7,handleMoveSelection:e6}=function(e,t,n){let r=i.useCallback(()=>{var r,i;return!!(!n&&(null==(r=t.current)?void 0:r.onTabOrEnter(!1)))||(null==(i=e.current)?void 0:i.onTabOrEnter(!1))||!1},[n]);return{handleTab:r,handleEnter:i.useCallback(()=>{var r,i;return!!(!n&&(null==(r=t.current)?void 0:r.onTabOrEnter(!0)))||(null==(i=e.current)?void 0:i.onTabOrEnter(!1))||!1},[n]),handleMoveSelection:i.useCallback(r=>{var i,l;return!!(!n&&(null==(i=t.current)?void 0:i.onMoveSelection(r)))||(null==(l=e.current)?void 0:l.onMoveSelection(r))||!1},[n])}}(e$,eA,eH),{expressionPickerView:e5,shouldHideExpressionPicker:e9,handleAutocompleteVisibilityChange:te,handleOuterClick:tt}=(0,G.iV)(H,eY,ew),tn=(0,G.ae)(ew),tr=(0,G.Sg)(eQ,H,ew),ti=(0,G.O1)({editorRef:ew,disabled:eU,textValue:p,channelId:L.id,chatInputType:H,submit:eX});(0,k.S)(eY,L.guild_id,L.id);let[tl,ta]=i.useState(!1),to=Y||tl||p.length>0||null!=eI||eS.length>0,{editorHeaderHeight:ts,paddingTop:tc}=(0,h.q_F)({editorHeaderHeight:122*!!to,paddingTop:16*!!to,config:{tension:120,friction:15,clamp:!0}}),tu=i.useRef(null),[td,tp]=i.useState(!1),th=i.useRef(!1),tf=i.useCallback(()=>{th.current=!0;let e=setTimeout(()=>{th.current&&tp(!0)},100);return()=>clearTimeout(e)},[]),tm=i.useCallback(()=>{th.current=!1;let e=setTimeout(()=>{th.current||tp(!1)},100);return()=>clearTimeout(e)},[]),tg=i.useCallback(()=>{var e;if(null==eI)return;let t=null==(e=R.Z.getUploads(L.id,H.drafts.type).find(e=>e.filename===eI.name))?void 0:e.id;null!=t&&f.Z.remove(L.id,t,A.d.ChannelMessage),(0,v.c)(L.id,{heroFile:null})},[L.id,eI,H.drafts.type]);return(0,r.jsx)(O.f6,{value:eY,children:(0,r.jsxs)(y.Gt,{value:eT,children:[(0,r.jsxs)("div",{ref:eN,className:a()(j,Q.channelTextArea),onMouseDown:tt,children:[(0,r.jsx)("div",{ref:eR,onScroll:e2,className:a()(Q.announcementScrollableContainer,{[Q.themedBackground]:!ev}),children:(0,r.jsxs)("div",{className:a()(Q.inner,X.inner),children:[(0,r.jsxs)("div",{className:X.body,children:[(0,r.jsxs)(c.animated.div,{className:X.headerInput,style:{height:ts,paddingTop:tc},children:[null!=eI?(0,r.jsx)(ei,{file:eI,onRemoveHeroImage:tg}):null,null!=eI?null:(0,r.jsx)(ea,{channel:L,onImageUploaded:e=>(0,v.c)(L.id,{heroFile:e}),onFocus:()=>ta(!0)}),(0,r.jsx)("input",{onFocus:()=>ta(!0),onBlur:()=>ta(!1),maxLength:140,className:X.titleInput,placeholder:K.intl.string(K.t.Z8fYjI),value:eS,onChange:e=>(0,v.c)(L.id,{title:e.target.value})})]}),(0,r.jsx)("div",{className:X.inputWrapper,children:(0,r.jsx)(h.tEY,{ringTarget:eN,ringClassName:Q.focusRing,children:(0,r.jsx)(B.Z,{ref:ew,id:S,focused:Y,useSlate:eG,textValue:p,richValue:g,disabled:eU,placeholder:eg,required:I,accessibilityLabel:M,isPreviewing:(eL||ek)&&eF,channel:L,type:U.Ie.CREATE_ANNOUNCEMENT_POST,canPasteFiles:eB,uploadPromptCharacterCount:z.en1,maxCharacterCount:null!=em?em:eV,allowNewLines:!0,"aria-describedby":eb,onChange:en,onResize:e3,onBlur:es,onFocus:ec,onKeyDown:eu,onSubmit:eQ,onTab:e4,onEnter:e7,onMoveSelection:e6,onSelectionChanged:eK,onMaybeShowAutocomplete:e0,onHideAutocomplete:e1,promptToUpload:ep,fontSize:ez,spellcheckEnabled:eW,canOnlyUseTextCommands:!1,"aria-labelledby":e_})})})]}),(0,r.jsx)("div",{className:X.attachmentsContainer,children:(0,r.jsx)(V.Z,{channelId:L.id,type:H,canAttachFiles:eB,ignoreFile:null==eI?void 0:eI.name,smallAttachments:!0})})]})}),(0,r.jsx)("div",{className:X.divider}),(0,r.jsxs)("div",{className:X.footer,children:[(0,r.jsxs)("div",{className:X.footerPart,children:[(0,r.jsx)(el,{channel:L}),(0,r.jsx)(F.Z,{type:U.Ie.CREATE_ANNOUNCEMENT_POST,disabled:eU,channel:L,handleSubmit:eJ,isEmpty:0===p.trim().length,showAllButtons:!0})]}),(0,r.jsx)("div",{className:X.footerPart,children:(0,r.jsx)("div",{ref:tu,className:X.sendButtonContainer,onMouseEnter:tf,onMouseLeave:tm,children:(0,r.jsx)(h.yRy,{targetElementRef:tu,renderPopout:()=>(0,r.jsx)(er,{channelId:L.id,canCreateThread:eq}),shouldShow:td,autoInvert:!0,nudgeAlignIntoViewport:!0,position:"top",align:"right",children:e=>(0,r.jsx)(h.zxk,$(J({},e),{onClick:()=>{eQ("".concat(eS.length>0?"# ".concat(eS,"\n"):"").concat(p))},disabled:0===p.length&&0===eS.length,size:"sm","aria-label":K.intl.string(K.t.TXNS7e),innerClassName:X.sendButton,text:(0,r.jsxs)("div",{className:X.sendButtonContents,children:[(0,r.jsx)(h.Text,{variant:"text-sm/semibold",color:"always-white",children:K.intl.string(K.t.TXNS7e)}),(0,r.jsxs)("div",{className:X.sendButtonIcons,children:[(0,r.jsx)(h.Uuj,{size:"xs",color:"white"}),eq&&eZ?(0,r.jsx)(h.or_,{size:"xxs",color:"white",className:X.subIcon}):null]})]})}))})})})]}),(0,r.jsx)(x.Z,{targetRef:eN,ref:e$,channel:L,canMentionRoles:eh,canMentionChannels:ef,useNewSlashCommands:eG,canOnlyUseTextCommands:!1,canSendStickers:!0,textValue:p,focused:Y,expressionPickerView:e5,type:H,editorRef:ew,onSendMessage:eQ,onSendSticker:()=>{},onVisibilityChange:te,editorHeight:e8,setValue:(e,t)=>null==en?void 0:en(null,e,t),position:eC}),ex]}),e9?null:(0,r.jsx)(E.Z,{positionTargetRef:eN,type:H,onSelectGIF:tr,onSelectEmoji:tn,onSelectSticker:ti,channel:L,closeOnModalOuterClick:eO,parentModalKey:ej,position:"top",align:"right",positionLayerClassName:Q.expressionPickerPositionLayer})]})})}));function er(e){var t,n;let{channelId:i,canCreateThread:l}=e,a=v.Z.useField("channelDrafts")[i],o=null==(t=null==a?void 0:a.createThread)||t,s=null==(n=null==a?void 0:a.publish)||n;return(0,r.jsxs)(h.v2r,{"aria-label":K.intl.string(K.t["9WnJys"]),navId:"send-announcement-options",onClose:z.dG4,onSelect:z.dG4,children:[(0,r.jsx)(h.S89,{id:"create-thread",label:K.intl.string(K.t.rBIGBA),checked:l&&o,disabled:!l,action:()=>{(0,v.c)(i,{createThread:!o})}}),(0,r.jsx)(h.S89,{id:"send-and-publish",label:K.intl.string(K.t["MFGE5+"]),checked:s,action:()=>{(0,v.c)(i,{publish:!s})}})]})}function ei(e){let{file:t,onRemoveHeroImage:n}=e,[l,a]=i.useState();i.useEffect(()=>{if(null==t||!1===["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))return;let e=URL.createObjectURL(t);return a(e),()=>{a(void 0),URL.revokeObjectURL(e)}},[t]);let[o,s]=i.useState(!1),c=i.useCallback(()=>{s(!0)},[]),u=i.useCallback(()=>{s(!1)},[]);return null==l?null:(0,r.jsxs)("div",{onMouseEnter:c,onMouseLeave:u,className:X.heroImageWrapper,"aria-hidden":!0,children:[(0,r.jsx)("img",{src:l,alt:K.intl.string(K.t["2ePvR0"]),className:X.heroImage}),o?(0,r.jsx)(j.ZP,{className:X.heroOverlay,children:(0,r.jsx)(H.Z,{tooltip:K.intl.string(K.t.VjC219),onClick:n,dangerous:!0,children:(0,r.jsx)(h.XHJ,{})})}):null]})}function el(e){let{channel:t}=e;return(0,r.jsx)(S.Z,{"aria-label":K.intl.string(K.t["/IBYAg"]),className:X.attachButton,size:"icon",color:"transparent",look:"blank",onChange:e=>{(0,L.d5)(e.currentTarget.files,t,A.d.ChannelMessage,{requireConfirm:!0,origin:"file_picker"}),e.currentTarget.value=null},children:(0,r.jsx)(h.xD0,{size:"custom",width:20,height:20,color:p.Z.colors.INTERACTIVE_NORMAL})})}function ea(e){let{channel:t,onImageUploaded:n,onFocus:l}=e,a=i.useRef(null),o=async(e,r)=>{let i=await (0,M.Bo)(e,r.name,r.type),l={id:(0,u.Z)(),file:i,platform:g.ow.WEB,isThumbnail:!1,origin:"file_picker"};f.Z.addFile({file:l,channelId:t.id,draftType:A.d.ChannelMessage}),n(i)},[s,c]=i.useState(!1),d=i.useCallback(()=>{c(!0)},[]),m=i.useCallback(()=>{c(!1)},[]);return(0,r.jsx)(h.DY3,{text:K.intl.string(K.t["/IBYAg"]),position:"top",className:X.heroImageButton,children:(0,r.jsxs)(h.P3F,{className:X.heroImageButton,onMouseOver:d,onMouseOut:m,onFocus:l,children:[(0,r.jsx)(P.ZP,{ref:a,onChange:o,"aria-hidden":!0,tabIndex:-1,maxFileSizeBytes:Y.B,onFileSizeError:()=>(0,I.Z)(Y.B)}),(0,r.jsx)(h.FmF,{size:"md",color:s?p.Z.colors.INTERACTIVE_ACTIVE:p.Z.colors.INTERACTIVE_NORMAL})]})})}},516887:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(826298),c=n(688919);let u=i.memo(function(e){var t;let{className:n,channel:i,section:l}=e,u=null!=l?(0,s.ky)(l):null,d=null!=u?(0,r.jsx)(o.ua7,{text:null!=(t=null==l?void 0:l.name)?t:"",position:"top",children:e=>{var t,n;return(0,r.jsx)(u,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={channel:i,section:l,width:24,height:24},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}}):null;return(0,r.jsx)("div",{className:a()(n,c.wrapper),children:(0,r.jsx)("div",{className:c.icon,children:d})})})},974251:function(e,t,n){n.d(t,{Z:()=>H}),n(388685),n(415506);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(704215),c=n(481060),u=n(53281),d=n(110924),p=n(40851),h=n(595519),f=n(338390),m=n(924557),g=n(435064),b=n(712114),_=n(266454),y=n(536442),C=n(79390),x=n(216789),v=n(665906),O=n(695346),j=n(433355),E=n(819640),S=n(375954),I=n(496675),P=n(885110),Z=n(585483),T=n(358085),N=n(127654),A=n(316595),w=n(443603),R=n(193910),M=n(951211),D=n(981631),L=n(356659),k=n(921944),U=n(388032),B=n(90274);function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let H=i.memo(function(e){var t,l;let{className:H,channel:V,draftType:z,editorTextContent:W,setValue:q,canOnlyUseTextCommands:Y}=e,K=(0,p.bp)(),X=i.useRef(null),Q=i.useRef(null),J=(0,o.e7)([P.Z],()=>P.Z.getActivities()),$=(0,o.e7)([g.Z],()=>g.Z.getSettings().clipsEnabled),ee=(0,o.e7)([g.Z],()=>g.Z.getLastClipsSession()),et=(0,o.Wu)([g.Z],()=>g.Z.getNewClipIds()),en=(0,o.e7)([j.ZP],()=>null==j.ZP.getCurrentSidebarChannelId(V.id)),{showClipsHeaderEntrypoint:er}=m.NV.useExperiment({location:"ChannelAttachButton"},{autoTrackExposure:!1}),ei=(0,o.e7)([y.qc],()=>y.qc.hasHotspot(y.v6.CLIPS_CHANNEL_ATTACH_REMINDER)),el=(0,c.s9z)(e=>(0,c.DEQ)(e,L.Qr)),ea=(0,o.e7)([E.Z],()=>E.Z.hasLayers()),eo=(0,o.e7)([g.Z],()=>g.Z.hasClips()),[es,ec]=i.useState(null),eu=(0,m.Go)()&&($||eo),ed=V.isPrivate(),ep=(0,o.e7)([I.Z],()=>ed||I.Z.can(D.Plq.ATTACH_FILES,V)&&I.Z.can(D.Plq.SEND_MESSAGES,V)),eh=(0,d.Z)(ee);(null==eh?void 0:eh.newClipIds.length)!==(null==ee?void 0:ee.newClipIds.length)&&(null!=(t=null==ee?void 0:ee.newClipIds.length)?t:0)>0&&null==es&&ei&&en&&!el&&!er&&!ea&&ec("recentClips");let ef=(0,o.e7)([S.Z],()=>S.Z.hasCurrentUserSentMessageSinceAppStart());function em(){(0,c.ZDy)(async()=>{let{default:e}=await n.e("57478").then(n.bind(n,542055));return t=>(0,r.jsx)(e,G(F({},t),{channelId:V.id}))},{modalKey:L.Qr}),ec(null)}i.useEffect(()=>{let e=()=>{var e;return null==(e=X.current)?void 0:e.activateUploadDialogue()};return Z.S.subscribe(D.CkL.UPLOAD_FILE,e),()=>{Z.S.unsubscribe(D.CkL.UPLOAD_FILE,e)}});let eg=(0,v.NE)(V),eb=(0,v.Xu)(V),e_=!O.dN.useSetting()&&!(0,T.isAndroidWeb)()&&null!=window.ResizeObserver,ey=(0,C.UI)(null!=V?V:void 0),eC=(0,h.qB)(),ex=(0,x.Us)({location:"ChannelAttachButton"}),ev=null!=(l=null==et?void 0:et.length)?l:0,eO=(0,M.Z)({canAttachFiles:ep,canStartThreads:eg||eb,useSlate:e_,hasClips:eu,canUseApplicationCommands:!Y,channel:V,activities:J,newClipsCount:ev,canPostPolls:ey,canLaunchActivities:eC,appContext:K,canSendScheduledMessages:ex}),ej=(0,f.Z)("ChannelAttachButton");if(0===eO.length)return null;let eE="refresh_sm",eS=ej?(0,r.jsx)(c.svS,{size:eE,color:"currentColor",colorClass:B.attachButtonPlus}):(0,r.jsx)(c.oFk,{size:eE,color:"currentColor",colorClass:B.attachButtonPlus}),eI=(0,r.jsx)(c.yRy,{targetElementRef:Q,shouldShow:null!=es,animation:c.yRy.Animation.NONE,align:"recentClips"===es?"center":"left",position:"top",positionKey:null!=es?es:"null",onRequestOpen:()=>{ef&&(0,_.Q3)(s.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:k.L.TAKE_ACTION}),ec("attachMenu")},onRequestClose:()=>{(0,c.$sL)()||(ef&&(0,_.Q3)(s.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:k.L.TAKE_ACTION}),ec(null))},renderPopout:e=>{switch(es){case"recentClips":return(0,r.jsx)(b.Z,G(F({},e),{onOpenClips:em,lastClipsSession:ee}));case"attachMenu":return(0,r.jsx)(R.Z,G(F({},e),{onClose:()=>ec(null),options:eO,channel:V,onFileUpload:()=>{var e;return null==(e=X.current)?void 0:e.activateUploadDialogue()},draftType:z,editorTextContent:W,setValue:q,openClips:em}));default:throw Error("Invalid popout type provided")}},children:e=>(0,r.jsx)(w.Z,G(F({ref:Q,className:a()(B.attachButton,H),childClassName:B.attachButtonInner,isActive:!1,"aria-label":U.intl.string(U.t.d56gCQ),onDoubleClick:ep?()=>{var e;return null==(e=X.current)?void 0:e.activateUploadDialogue()}:void 0,"aria-haspopup":"menu"},e),{children:eS}))});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:B.uploadInput,children:(0,r.jsx)(u.Z,{ref:X,onChange:e=>{var t,n,r;t=e.currentTarget.files,null!=(n=e.currentTarget.err)&&"ETOOLARGE"===n.code?(0,N.G)(V,[]):(0,N.d5)(t,V,z,{requireConfirm:!0,showLargeMessageDialog:r,origin:"file_picker"}),Z.S.dispatchToLastSubscribed(D.CkL.TEXTAREA_FOCUS),e.currentTarget.value=""},multiple:V.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0})}),(0,r.jsx)("div",{className:B.attachWrapper,children:(0,r.jsx)(A.Z,{channel:V,isOmniMenuOpen:"attachMenu"===es,openOmniMenu:()=>ec("attachMenu"),enabled:eC,animationContainerClassName:B.buttonAnimation,glowClassName:B.buttonAnimationGlow,trinketsClassName:B.buttonAnimationTrinkets,children:eI})})]})})},316595:function(e,t,n){n.d(t,{Z:()=>p}),n(539854);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(890977),s=n(266454),c=n(243778),u=n(375954),d=n(921944);function p(e){let{children:t,enabled:n,animationContainerClassName:p,glowClassName:h,trinketsClassName:f}=e,m=(0,l.e7)([u.Z],()=>u.Z.hasCurrentUserSentMessageSinceAppStart()),g=i.useMemo(()=>{let e=[];return m&&n&&e.push(a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2),e},[m,n]),b=()=>{setTimeout(()=>(0,s.Q3)(a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:d.L.AUTO_DISMISS}),1e4)};return(0,r.jsx)(c.ZP,{contentTypes:g,children:e=>{let{visibleContent:n}=e;return n===a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2?(0,r.jsx)(o.b,{animationContainerClassName:p,glowClassName:h,trinketsClassName:f,onMount:b,children:t}):t}})}},193910:function(e,t,n){n.d(t,{Z:()=>A}),n(413496),n(433524),n(35282),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(831209),a=n(442837),o=n(704215),s=n(481060),c=n(278323),u=n(566620),d=n(906732),p=n(397698),h=n(266454),f=n(706140),m=n(243778),g=n(618857),b=n(488131),_=n(375954),y=n(626135),C=n(585483),x=n(403182),v=n(127654),O=n(752305),j=n(951211),E=n(981631),S=n(921944),I=n(489887),P=n(388032),Z=n(749723);let T=RegExp("(.*)```(\\w+)\\n(.*)```(.*)","s");function N(){let e=(0,a.e7)([_.Z],()=>_.Z.hasCurrentUserSentMessageSinceAppStart()),t=[];e&&t.push(o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE);let[n]=(0,f.cv)(t);return i.useEffect(()=>()=>{n===o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE&&(0,h.Q3)(o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:S.L.TAKE_ACTION})},[n]),(0,r.jsx)(m.ZP,{contentTypes:t,children:e=>{let{visibleContent:t}=e;return t===o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE?(0,r.jsx)(s.IGR,{text:P.intl.string(P.t.y2b7CA),color:l.Z.BUTTON_DANGER_BACKGROUND}):null}})}function A(e){let{channel:t,options:a,onFileUpload:f,onClose:m,onSelect:_,draftType:A,editorTextContent:w,setValue:R,openClips:M}=e,{analyticsLocations:D,newestAnalyticsLocation:L}=(0,d.ZP)(),k=(0,g.Dt)({channel:t});function U(){(0,b.R6)(t,void 0,"Plus Button")}function B(){y.default.track(E.rMx.CHANNEL_ATTACH_MENU_USE_APPS_CLICKED),R("/",(0,O.JM)("/"))}function F(){M()}function G(){(0,h.Q3)(o.z.POLLS_CHAT_INPUT_COACHMARK,{dismissAction:S.L.TAKE_ACTION}),(0,s.ZDy)(async()=>{let{default:e}=await n.e("68784").then(n.bind(n,611611));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={channel:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}},{modalKey:I.$z})}function H(){y.default.track(E.rMx.CHANNEL_ATTACH_MENU_START_ACTIVITY_CLICKED,{channel_type:t.type,channel_id:t.id,guild_id:t.guild_id}),(0,p.Z)({context:null!=t?{type:"channel",channel:t}:{type:"contextless"},openInPopout:!1,analyticsLocation:L}),(0,u.w1)({guildId:t.guild_id})}async function V(){let e=w,n="txt",r="",i=w.match(T);null!=i&&(r=i[1],n=i[2],e=i[3],r+=i[4]),await (0,v.d5)([(0,x.dp)(new Blob([e],{type:"text/plain"}),"message.".concat(n),"text/plain")],t,A),C.S.dispatchToLastSubscribed(E.CkL.CLEAR_TEXT),""!==r&&C.S.dispatchToLastSubscribed(E.CkL.INSERT_TEXT,{plainText:r})}return i.useEffect(()=>{y.default.track(E.rMx.OPEN_POPOUT,{type:"Send Attachment",channel_id:t.id,guild_id:t.guild_id})},[t.guild_id,t.id]),(0,r.jsx)(s.v2r,{onSelect:_,navId:"channel-attach",onClose:m,"aria-label":P.intl.string(P.t.Xm41aW),className:Z.menu,children:a.map(function(e){var n;let i=(0,r.jsxs)("div",{className:Z.optionLabel,children:[(0,r.jsx)(e.icon,{className:Z.optionIcon,color:"currentColor"}),(0,r.jsx)("div",{className:Z.optionName,children:e.display}),null!=e.badgeVal&&e.badgeVal>0&&(0,r.jsx)(s.mAB,{className:Z.badge,color:null!=(n=e.badgeColor)?n:l.Z.STATUS_DANGER,count:e.badgeVal})]});switch(e.type){case j.r.UPLOAD_A_FILE:return(0,r.jsx)(s.sNh,{id:"upload-file",label:i,action:f},"upload-file");case j.r.UPLOAD_TEXT_AS_FILE:if(""===w)return null;return(0,r.jsx)(s.sNh,{id:"upload-text-as-file",label:i,action:V},"upload-text-as-file");case j.r.CLIPS:return(0,r.jsx)(s.sNh,{id:"clips",label:i,action:F},"clips");case j.r.POLL:return(0,r.jsx)(s.sNh,{id:"poll",label:i,action:G},"poll");case j.r.INVITE_TO_PLAY_GAME:return(0,r.jsx)(s.sNh,{id:"play",label:i,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:E.mFx.JOIN,activity:n,location:D[D.length-1]})}},"play");case j.r.INVITE_TO_LISTEN:return(0,r.jsx)(s.sNh,{id:"listen",label:i,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:E.mFx.LISTEN,activity:n,location:D[D.length-1]})}},"listen");case j.r.INVITE_TO_WATCH:return(0,r.jsx)(s.sNh,{id:"watch",label:i,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:E.mFx.WATCH,activity:n,location:D[D.length-1]})}},"watch");case j.r.CREATE_THREAD:return(0,r.jsx)(s.sNh,{id:"THREAD",label:i,action:U},"THREAD");case j.r.SLASH_COMMAND:return(0,r.jsx)(s.sNh,{id:"SLASH_COMMAND",label:i,action:B},"SLASH_COMMAND");case j.r.ACTIVITY:return(0,r.jsx)(s.sNh,{id:"activity",label:i,action:H,hint:(0,r.jsx)(N,{})},"activity");case j.r.SCHEDULED_MESSAGE:return(0,r.jsx)(s.sNh,{id:"scheduled_message",label:i,action:()=>(0,g.$f)({channel:t}),children:k},"scheduled_message");default:return null}})})}},951211:function(e,t,n){n.d(t,{Z:()=>h,r:()=>p}),n(539854);var r,i=n(481060),l=n(620662),a=n(933557),o=n(377171),s=n(699516),c=n(594174),u=n(981631),d=n(388032),p=((r={}).UPLOAD_A_FILE="UPLOAD_A_FILE",r.UPLOAD_TEXT_AS_FILE="UPLOAD_TEXT_AS_FILE",r.INVITE_TO_PLAY_GAME="INVITE_TO_GAME",r.INVITE_TO_LISTEN="INVITE_TO_LISTEN",r.INVITE_TO_WATCH="INVITE_TO_WATCH",r.CREATE_THREAD="CREATE_THREAD",r.SLASH_COMMAND="SLASH_COMMAND",r.CLIPS="CLIPS",r.POLL="POLL",r.ACTIVITY="ACTIVITY",r.SCHEDULED_MESSAGE="SCHEDULED_MESSAGE",r);function h(e){let{canAttachFiles:t,canStartThreads:n,useSlate:r,canUseApplicationCommands:p,hasClips:h,channel:f,activities:m,newClipsCount:g,canPostPolls:b,canLaunchActivities:_,appContext:y,canSendScheduledMessages:C}=e,x=[];return t&&(x.push({type:"UPLOAD_A_FILE",icon:i.xD0,display:d.intl.string(d.t["d3+iYm"])}),x.push({type:"UPLOAD_TEXT_AS_FILE",icon:i.xD0,display:d.intl.string(d.t["G9s+EB"])})),h&&t&&y!==u.IlC.POPOUT&&x.push({type:"CLIPS",icon:i.AlX,display:d.intl.string(d.t.o034cn),badgeVal:g,badgeColor:o.Z.BG_BRAND}),n&&x.push({type:"CREATE_THREAD",icon:i.YPH,display:d.intl.string(d.t.rBIGBA)}),b&&x.push({type:"POLL",icon:i.QDj,display:d.intl.string(d.t.Flr51t)}),r&&p&&x.push({type:"SLASH_COMMAND",icon:i.jje,display:d.intl.string(d.t.Bbvp6O)}),_&&x.push({type:"ACTIVITY",icon:i.nG3,display:d.intl.string(d.t["16Lfra"])}),m.forEach(e=>{!(0,l.Z)(e,u.xjy.EMBEDDED)&&(e.type===u.IIU.PLAYING&&(0,l.Z)(e,u.xjy.JOIN)&&x.push({type:"INVITE_TO_GAME",icon:i.xoD,display:d.intl.formatToPlainString(d.t["KHLo+P"],{channel:(0,a.F6)(f,c.default,s.Z,!0),game:null!=e?e.name:""}),activity:e}),e.type===u.IIU.LISTENING&&(0,l.Z)(e,u.xjy.SYNC)&&x.push({type:"INVITE_TO_LISTEN",icon:i.iOO,display:d.intl.formatToPlainString(d.t.I479p6,{channel:(0,a.F6)(f,c.default,s.Z,!0),name:null!=e?e.name:""}),activity:e}),e.type===u.IIU.WATCHING&&(0,l.Z)(e,u.xjy.SYNC)&&x.push({type:"INVITE_TO_WATCH",icon:i.tEF,display:d.intl.formatToPlainString(d.t["EvCP/v"],{channel:(0,a.F6)(f,c.default,s.Z,!0),name:null!=e?e.name:""}),activity:e}))}),C&&x.push({type:"SCHEDULED_MESSAGE",icon:i.T39,display:d.intl.string(d.t["3+ii4O"])}),x}},224837:function(e,t,n){n.d(t,{Kb:()=>i,Vm:()=>r,kn:()=>a,m2:()=>l});let r=82733,i=82744,l=82755,a=82766},680835:function(e,t,n){n.d(t,{Z:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2025-07_announcement_composer",label:"announcement composer",defaultConfig:{announcementComposer:!1},treatments:[{id:1,label:"show announcement composer",config:{announcementComposer:!0}}]});function i(e){return r.useExperiment({location:e},{autoTrackExposure:!0}).announcementComposer}},507366:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}n.d(t,{Z:()=>a,c:()=>l});let i=(0,n(972959).H)(()=>({channelDrafts:{}}));function l(e,t){i.setState(n=>{var i,l;let a=n.channelDrafts[e];return{channelDrafts:(i=r({},n.channelDrafts),l=l={[e]:r({},{heroFile:null,title:"",publish:!0,createThread:!0},a,t)},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i)}})}let a=i},131565:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(788900),a=n(357352),o=n(565942),s=n(626135),c=n(436952),u=n(411149),d=n(115215),p=n(151480),h=n(461762),f=n(680783),m=n(981631),g=n(173893),b=n(413135).Buffer;function _(e){let{chatWallpaperState:t}=e,n=c.qM.useExperiment({location:"channel_chat_wallpaper"}).enabled,d=(0,h.Z)(t.wallpaperId),f=null!=d?(0,a.I)(d.asset):null,_=(null==d?void 0:d.thumbhash)!=null?(0,l.xS)(b.from(d.thumbhash,"base64")):void 0,[y,C]=i.useState(_);return(i.useEffect(()=>{null==f&&t.isViewable&&u.Z.shouldFetchWallpapers&&(0,p.k9)()},[f,t.isViewable]),i.useEffect(()=>{if(null==f)return void C(void 0);let e=performance.now();C(_),(0,o.p)(f,t=>{if(t===f){C(void 0);let n=performance.now();s.default.track(m.rMx.CHAT_WALLPAPER_DOWNLOADED,{time_used_in_ms:n-e,asset_url:t})}})},[f,_]),t.isViewable&&null!=d)?(0,r.jsxs)(r.Fragment,{children:[null!=y&&(0,r.jsx)("div",{className:g.thumbhashContainer,children:(0,r.jsx)("img",{src:y,alt:"","aria-hidden":!0})}),(0,r.jsx)("div",{className:g.wallpaperContainer,style:{backgroundImage:null!=f?"url(".concat(f,")"):void 0,opacity:n?d.opacity:void 0}})]}):null}function y(e){let{channel:t}=e,n=(0,f.Z)(t.id);return null==n||!n.isViewable||!t.isDM()&&!t.isMultiUserDM()&&!t.isGroupDM()||d.t(t)&&!n.isPreview?null:(0,r.jsx)(_,{chatWallpaperState:n})}},355888:function(e,t,n){n.d(t,{Z:()=>s});var r=n(780384),i=n(410030),l=n(629935),a=n(436952),o=n(461762);function s(e){let t=(0,r.wj)((0,i.ZP)()),n=(0,o.Z)(e);if(!a.qM.useExperiment({location:"chat_wallpaper_color_mix"}).enabled||null==n)return;let s={},c=n.primary_color;if(null!=c){var u,d;let e=null!=(u=n.token_mix_amount)?u:100;s=(0,l.W4)({enabled:!0,primaryColor:c,secondaryColor:null!=(d=n.secondary_color)?d:c,isDarkTheme:t,baseMixAmount:e,textMixAmount:e})}return null!=n.link_color&&Object.assign(s,{"--mention-foreground":n.link_color,"--text-link":n.link_color,"--text-link-low-saturation":n.link_color}),s}},236091:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(692547),s=n(481060),c=n(358221),u=n(594190),d=n(199902),p=n(924557),h=n(435064),f=n(354459),m=n(388032),g=n(363862);let b=e=>{let{className:t,channelId:n}=e,i=(0,p.Go)(),b=h.Z.isDecoupledGameClippingEnabled();return(0,a.e7)([d.Z,c.Z,h.Z,u.ZP],()=>{var e;if(null==n)return!1;let t=d.Z.getCurrentUserActiveStream(),r=null==(e=u.ZP.getVisibleGame())?void 0:e.windowHandle;return null!=t&&!!h.Z.getSettings().clipsEnabled&&!!i||null!=r&&!!h.Z.getSettings().decoupledClipsEnabled&&!!b||c.Z.getParticipants(n).some(e=>e.type===f.fO.USER&&h.Z.isClipsEnabledForUser(e.user.id))})?(0,r.jsxs)(s.DY3,{text:m.intl.string(m.t.DJXW3N),color:s.FGA.GREY,className:l()(t,g.clipsEnabledIndicator),children:[(0,r.jsx)(s.G2e,{icon:s.AlX,shape:s.Dv2.ROUND_LEFT,color:o.Z.unsafe_rawColors.PRIMARY_500.css,className:g.clipBadgeIcon}),(0,r.jsx)(s.IGR,{text:m.intl.string(m.t.pCMkDQ),shape:s.Dv2.ROUND_RIGHT,color:o.Z.unsafe_rawColors.PRIMARY_500.css,className:g.clipBadgeText})]}):null}},712114:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(990547),a=n(481060),o=n(213609),s=n(536442),c=n(39604),u=n(176127),d=n(388032),p=n(945202);function h(e){let{onOpenClips:t,lastClipsSession:n,closePopout:h}=e;return(i.useEffect(()=>()=>{(0,c.eL)()},[]),(0,o.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.HOTSPOT,properties:{hotspot_location:s.v6.CLIPS_CHANNEL_ATTACH_REMINDER}}),null==n)?null:(0,r.jsxs)("div",{className:p.recentClipsPopout,children:[(0,r.jsx)("div",{className:p.thumbnailStackContainer,children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(a.X6q,{className:p.header,color:"header-primary",variant:"heading-md/extrabold",children:d.intl.format(d.t["+qxkzM"],{count:n.newClipIds.length})}),(0,r.jsx)(a.Text,{color:"text-default",className:p.__invalid_content,variant:"text-sm/medium",children:d.intl.format(d.t["7XX0/f"],{applicationName:n.applicationName})}),(0,r.jsx)("div",{className:p.buttonsContainer,children:(0,r.jsxs)(a.hE2,{children:[(0,r.jsx)(a.zxk,{variant:"secondary",text:d.intl.string(d.t["7r5Z19"]),onClick:function(){(0,s.Kw)(s.v6.CLIPS_CHANNEL_ATTACH_REMINDER),h()}}),(0,r.jsx)(a.zxk,{variant:"primary",text:d.intl.string(d.t.md4qKy),onClick:t})]})})]})}},176127:function(e,t,n){n.d(t,{Z:()=>c}),n(583741);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(435064),s=n(538454);function c(){var e,t;let n=(0,a.Wu)([o.Z],()=>{var e;let t=null==(e=o.Z.getLastClipsSession())?void 0:e.newClipIds;return null==t?[]:o.Z.getClips().slice(0,4).filter(e=>t.includes(e.id))});return(0,r.jsx)("div",{className:l()(s.thumbnailStack,{[s["height-1"]]:1===n.length,[s["height-2"]]:2===n.length,[s["height-3"]]:3===n.length,[s["height-max"]]:n.length>=4}),children:Array.from((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),t=t={length:4},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e)).map((e,t)=>null!=e?(0,r.jsx)("img",{alt:"",className:s.thumbnail,src:e.thumbnail},e.id):(0,r.jsx)("div",{},"placeholder-".concat(t))).reverse()})}},485267:function(e,t,n){n.d(t,{Bt:()=>d,Jn:()=>u,lY:()=>c});var r=n(570140);n(100527),n(592125);var i=n(944486),l=n(914010);n(594174);var a=n(626135),o=n(71585);n(295955);var s=n(981631);let c=()=>{r.Z.dispatch({type:"CONTENT_INVENTORY_TOGGLE_FEED_HIDDEN"}),a.default.track(s.rMx.MEMBERLIST_CONTENT_FEED_HIDDEN,{channel_id:i.Z.getChannelId(),guild_id:l.Z.getGuildId(),hidden:o.Z.hidden})};function u(){r.Z.dispatch({type:"GAME_PROFILE_OPEN"})}function d(){r.Z.dispatch({type:"CONTENT_INVENTORY_CLEAR_DELETE_HISTORY_ERROR"})}},295955:function(){},493324:function(e,t,n){n.d(t,{$:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2024-02_hide_member_list_activities",label:"Hide member list activities",defaultConfig:{hideActivities:!1},treatments:[{id:1,label:"Enabled (hide activities)",config:{hideActivities:!0}}]});function i(e){return r.getCurrentConfig({location:e},{autoTrackExposure:!0}).hideActivities}},442853:function(e,t,n){n.d(t,{Z:()=>f}),n(388685),n(539854);var r=n(647438),i=n(149765),l=n(442837),a=n(902704),o=n(592125),s=n(720202),c=n(271383),u=n(700785),d=n(231338);let p=[],h=new Set;function f(e){let{entries:t,channelId:n}=e,f=(0,l.e7)([o.Z],()=>o.Z.getChannel(n)),m=null==f?void 0:f.guild_id,g=r.useRef(new Set),b=r.useMemo(()=>{let e=new Set(null==t?void 0:t.map(e=>e.author_id));return(0,a.E)([...g.current],[...e])||(g.current=e),g.current},[t]);r.useEffect(()=>{null!=m&&Array.from(b).forEach(e=>{s.Z.requestMember(m,e)})},[b,m]);let _=(0,l.Wu)([c.ZP],()=>{if(null==m)return p;let e=[];for(let t of b)c.ZP.isMember(m,t)&&e.push(t);return e},[b,m]),y=r.useMemo(()=>{if(null==f||0===_.length)return h;let e=new Set;for(let t of _){let n=u.uB({user:t,context:f});i.e$(n,d.Pl.VIEW_CHANNEL)&&e.add(t)}return e},[_,f]);return r.useMemo(()=>null==t?void 0:t.filter(e=>y.has(e.author_id)),[t,y])}},520951:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(647438),i=n(442837),l=n(162461),a=n(71585),o=n(146282),s=n(561308);let c=new Set;function u(e){let t=(0,i.e7)([a.Z,o.Z],()=>{let e=o.Z.getDebugImpressionCappingDisabled();return!(0,l.wm)("useFilterImpressionCappedContent")||e?c:a.Z.getImpressionCappedItemIds()},[e]);return r.useMemo(()=>{if(null==e)return{entries:e,filteredIds:c};let n=new Set;return{entries:e.filter(e=>!!(0,s.kr)(e)||!t.has(e.id)||(n.add(e.id),!1)),filteredIds:n}},[e,t])}},809017:function(e,t,n){n.d(t,{G:()=>r});let r="content-inventory-feed"},590026:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(647438),i=n(876215),l=n(442837),a=n(676316),o=n(592125),s=n(146282),c=n(442853),u=n(520951),d=n(567493),p=n(897674),h=n(206583);let f=new Set([i.s.PLAYED_GAME,i.s.WATCHED_MEDIA,i.s.TOP_GAME,i.s.TOP_ARTIST,i.s.LISTENED_SESSION,i.s.LAUNCHED_ACTIVITY]);function m(e){let t=(0,l.e7)([o.Z],()=>o.Z.getChannel(e)),n=null==t?void 0:t.guild_id,i=(0,p.Z)({id:h.YN.GLOBAL_FEED});i=(0,c.Z)({entries:i,channelId:e}),i=r.useMemo(()=>null==i?void 0:i.filter(e=>f.has(e.content_type)),[i]);let{entries:m,filteredIds:g}=(0,u.Z)(i);i=m;let b=(0,d.im)(n);i=r.useMemo(()=>{if(null==i)return b;let e=new Set;for(let t of b){let n="".concat(t.author_id,":").concat(t.extra.application_id);e.add(n)}return[...b,...i.filter(t=>{if("application_id"in t.extra){let n="".concat(t.author_id,":").concat(t.extra.application_id);return!e.has(n)}return!0})]},[i,b]);let{entriesWithLeaderboard:_,hasLeaderboardEntry:y}=(0,a.Z)({entries:i,channelId:e});return i=_,{requestId:(0,l.e7)([s.Z],()=>s.Z.getFeedRequestId(h.YN.GLOBAL_FEED)),entries:i,impressionCappedEntryIds:g,hasLeaderboardEntry:y}}},611064:function(e,t,n){n.d(t,{R:()=>b,Z:()=>_});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(239091),s=n(82295),c=n(485267),u=n(71585),d=n(703180),p=n(809017),h=n(981631),f=n(388032),m=n(532406),g=n(32482);function b(e){return(null==e?void 0:e.id)===p.G}let _=i.memo(function(e){let t,{title:p,onToggleExpand:b,expanded:_,expandedCount:y}=e,C=(0,l.e7)([u.Z],()=>u.Z.hidden),x=i.useCallback(e=>{(0,o.jW)(e,async()=>{let{MemberListContentSettingsMenu:e}=await Promise.resolve().then(n.bind(n,703180));return()=>(0,r.jsx)(e,{closePopout:o.Zy})})},[]);return(0,r.jsxs)(s.Z,{className:g.membersGroup,children:[(0,r.jsx)(a.nn4,{children:f.intl.format(f.t.UaqbkZ,{title:p,count:y})}),(0,r.jsxs)(a.P3F,{onClick:e=>{if(e.currentTarget===e.target||e.currentTarget.contains(e.target))return C?(0,c.lY)():y>3?b():(0,h.dG4)()},onContextMenu:x,tag:"span","aria-hidden":!0,className:m.headerContainer,children:[(0,r.jsxs)("div",{className:m.header,children:[(0,r.jsxs)("span",{children:[p," — ",y]}),(0,r.jsx)(d.Z,{})]}),y<=3&&!C?null:(t=C?(0,r.jsx)(a.u04,{className:m.toggleExpandIcon}):_?(0,r.jsx)(a.CJ0,{className:m.toggleExpandIcon}):(0,r.jsx)(a.Fbu,{className:m.toggleExpandIcon}),(0,r.jsx)(a.tEY,{children:(0,r.jsx)("div",{tabIndex:0,className:m.toggleExpandIcon,children:t})}))]})]})})},677432:function(e,t,n){n.d(t,{Z:()=>r});let r=()=>null},703180:function(e,t,n){n.d(t,{MemberListContentSettingsMenu:()=>p,Z:()=>h});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(485267),s=n(71585),c=n(981631),u=n(388032);function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let p=e=>{let{closePopout:t}=e,i=(0,l.e7)([s.Z],()=>s.Z.hidden);return(0,r.jsx)(a.v2r,{onSelect:()=>{},navId:"member-list-settings-menu",onClose:null!=t?t:c.dG4,"aria-label":u.intl.string(u.t.w2jvOT),children:(0,r.jsxs)(a.kSQ,{children:[(0,r.jsx)(a.sNh,{id:"about",label:u.intl.string(u.t.pWLGnJ),icon:a.d3s,action:()=>{(0,a.ZDy)(async()=>{let{default:e}=await n.e("71517").then(n.bind(n,549505));return t=>(0,r.jsx)(e,d({},t))}),null==t||t()}}),(0,r.jsx)(a.S89,{id:"hide",label:u.intl.string(u.t.AhNYub),checked:i,action:()=>{(0,o.lY)(),null==t||t()}})]})})},h=()=>{let e=i.useRef(null);return(0,r.jsx)(a.yRy,{targetElementRef:e,animation:a.yRy.Animation.NONE,position:"bottom",align:"right",renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(p,{closePopout:t})},children:t=>{var n,i;return(0,r.jsx)(a.P3F,(n=d({},t),i=i={innerRef:e,onClick:e=>{e.stopPropagation(),t.onClick(e)},style:{width:"12px",height:"12px",display:"flex"},children:(0,r.jsx)(a.ewm,{size:"xxs"})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},868671:function(e,t,n){n.d(t,{H:()=>v,T:()=>x}),n(388685);var r=n(647438),i=n(442837),l=n(570140),a=n(439170),o=n(592125),s=n(430824),c=n(451478),u=n(626135),d=n(162461),p=n(71585),h=n(34586),f=n(69259),m=n(590026),g=n(178762),b=n(206583),_=n(809017),y=n(981631),C=n(388032);let x=0;function v(e){let{memberStoreProps:{groups:t,rows:n,version:x},channelId:v,guildId:O}=e,[j,E]=r.useState(!1),{requestId:S,entries:I,impressionCappedEntryIds:P,hasLeaderboardEntry:Z}=(0,m.Z)(v),T=(0,i.e7)([p.Z],()=>p.Z.hidden),N=(0,i.e7)([c.Z],()=>c.Z.isFocused()),A=(0,i.e7)([o.Z],()=>o.Z.getChannel(v)),w=(0,i.e7)([s.Z],()=>s.Z.getGuild(O),[O]),R=(0,h.E)(w),M=null!=R&&R&&(null==A?void 0:A.isForumChannel())===!1,[D,L,k,U]=r.useMemo(()=>{let e;if(null==I||0===I.length||null==S||!M)return[t,n,x];let r=j?I.length:Z?4:3,i=I.slice(0,r);e=T?[{type:a.so.HIDDEN_CONTENT_INVENTORY}]:i.map(e=>({type:a.so.CONTENT_INVENTORY,entry:e,requestId:S}));let l={id:_.G,type:a.so.CONTENT_INVENTORY_GROUP,key:_.G,count:e.length,index:n.length,title:C.intl.string(C.t["6gwSFR"]),onToggleExpand:()=>{E(e=>{let t=!e;return u.default.track(y.rMx.MEMBERLIST_CONTENT_FEED_TOGGLED,{channel_id:v,guild_id:O,expanded:t}),t})},expanded:j,expandedCount:I.length,feedHeight:e.map(g.iZ).reduce((e,t)=>e+t,0)};return[[l,...t],[...n,l,...e],Math.random(),e]},[v,I,j,t,O,S,n,x,T,M,Z]),B=r.useRef(0),F=r.useRef(I),G=r.useRef(void 0),H=r.useRef({impressionCappedEntryIds:P}),V=r.useCallback(e=>{var t;let n=Math.floor(e/g.YN),r=Math.min(null!=(t=null==U?void 0:U.length)?t:0,n);B.current=Math.max(B.current,r)},[U]);return r.useEffect(()=>{F.current=I},[I]),r.useEffect(()=>{H.current={impressionCappedEntryIds:P}},[P]),r.useEffect(()=>(B.current=0,G.current=Date.now(),()=>{var e,t;if(null==S||null==G.current||Date.now()-G.current<3e3)return;let n=null!=(t=null==(e=F.current)?void 0:e.map(e=>e.id))?t:[],r=n.slice(0,B.current);!T&&N&&M&&((0,f.e)(y.rMx.RANKING_ITEMS_SEEN_MUST_BE_SAMPLED,{request_id:S,first_shown_at:G.current,item_ids:r,surface_type:b.Kd.GUILD_MEMBER_LIST,channel_id:v,guild_id:O,all_item_ids:n,impression_capped_item_ids:[...H.current.impressionCappedEntryIds]}),(0,d.wm)("useInjectContentInventoryFeed")&&l.Z.dispatch({type:"CONTENT_INVENTORY_TRACK_ITEM_IMPRESSIONS",itemIds:r}))}),[S,v,O,T,N,M]),{groups:D,rows:L,version:k,updateMaxRowSeen:V}}},42311:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(755721),o=n(481060),s=n(626786),c=n(628012);function u(e){let{className:t,roleColor:n,roleName:i,hasRemoveIcon:u=!1,onClick:d,disabled:p=!1,verified:h=!1}=e;return(0,r.jsx)(a.zx,{className:l()(t,c.button),look:a.zx.Looks.BLANK,size:a.zx.Sizes.NONE,onClick:d,disabled:p,children:(0,r.jsx)(s.Z,{className:c.role,roleColor:n,roleName:i,verified:h,children:u&&(0,r.jsx)(o.Dio,{size:"custom",color:"currentColor",height:6,width:6,className:c.removeRole,colorClass:c.removeRoleIcon})})})}},626786:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(134433),o=n(923573);function s(e){let t,{className:n,children:i,verified:s,roleColor:c,roleName:u}=e;return t=s?(0,r.jsx)(a.Z,{size:12,color:c,className:o.linkedRoleColor}):(0,r.jsx)("div",{className:o.roleColor,style:{backgroundColor:c}}),(0,r.jsxs)("div",{className:l()(n,o.role),style:{"--custom-role-label-color":c},children:[t,u,i]})}},997638:function(e,t,n){n.d(t,{ZP:()=>j,cy:()=>v,iu:()=>x}),n(388685);var r,i,l,a=n(951288),o=n(647438),s=n(120356),c=n.n(s),u=n(780384),d=n(755721),p=n(481060),h=n(626135),f=n(600164),m=n(981631),g=n(388032),b=n(206659);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var x=((i={}).CENTER="center",i.LEFT="left",i),v=((l={}).TOP="top",l.MIDDLE="middle",l);class O extends o.PureComponent{componentDidMount(){let{uniqueId:e}=this.props;h.default.track(m.rMx.SHOW_TUTORIAL,{tutorial:e})}componentWillUnmount(){h.default.track(m.rMx.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})}render(){let{renderMedia:e,textAlign:t,isLongText:n,title:r,body:i,className:l,forceTheme:o,onClickSkipAll:s}=this.props,h="left"===t||n,m="center"===t||!h;return(0,a.jsxs)(p.VqE,{className:c()(b.popoutRoot,l),children:[null!=e&&(0,a.jsx)(f.Z,{className:b.mediaContainer,justify:h?f.Z.Justify.START:f.Z.Justify.CENTER,children:e()}),(0,a.jsx)(p.H,{className:c()({[b.titleCenter]:m,[b.titleLeft]:h}),children:r}),(0,a.jsx)("string"==typeof i?"p":"div",{className:c()({[b.bodyCenter]:m,[b.bodyLeft]:h}),children:i}),(0,a.jsxs)(f.Z,{className:b.buttonContainer,justify:h?f.Z.Justify.BETWEEN:f.Z.Justify.CENTER,children:[(0,a.jsx)(p.zxk,{variant:"primary",size:"sm",text:g.intl.string(g.t["+IrDzM"]),onClick:this.handleDismiss}),(0,a.jsx)(d.zx,{size:d.Ph.SMALL,look:d.zx.Looks.BLANK,onClick:s,color:(0,u.ap)(o)?d.zx.Colors.PRIMARY:d.zx.Colors.WHITE,className:h?b.buttonSkipLeftAlign:b.buttonSkipCenterAlign,children:g.intl.string(g.t["33wtxs"])})]})]})}constructor(...e){super(...e),_(this,"state",{confirmed:!1}),_(this,"handleDismiss",()=>{let{onClickComplete:e}=this.props;this.setState({confirmed:!0},()=>null==e?void 0:e())})}}class j extends(r=o.PureComponent){render(){let e=this.props,{renderMedia:t,textAlign:n,onComplete:r,onSkipAll:i,isLongText:l,title:o,body:s,children:c,spacing:u,forceTheme:d,innerRef:h}=e,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","children","spacing","forceTheme","innerRef"]),m="top"===f.position||"bottom"===f.position?"center":"top";return(0,a.jsx)(p.yRy,C(y({targetElementRef:h},f),{align:m,spacing:null!=u?u:0,renderPopout:this.renderPopoutContent,nudgeAlignIntoViewport:!0,children:c}))}constructor(...e){super(...e),_(this,"onClickComplete",e=>{e(),this.props.onComplete()}),_(this,"onClickSkipAll",e=>{let{onSkipAll:t,uniqueId:n}=this.props;e(),t(),h.default.track(m.rMx.DISMISS_ALL_TUTORIALS,{tutorial:n})}),_(this,"renderPopoutContent",e=>{let{closePopout:t,position:n}=e,{forceTheme:r,isLongText:i,arrowAlignment:l,renderMedia:o}=this.props,s=null!=o;return(0,a.jsx)(p.f6W,{theme:r,children:e=>(0,a.jsx)(O,C(y({},this.props),{className:c()({[b.bottom]:"bottom"===n,[b.contentNarrowNoMedia]:!i&&!s,[b.contentNarrowWithMedia]:!i&&s,[b.contentWideNoMedia]:i&&!s,[b.contentWideWithMedia]:i&&s,[b.right]:"right"===n,[b.top]:"top"===n,[b.left]:"left"===n,[b.arrowAlignmentTop]:"top"===l,[b.arrowAlignmentMiddle]:"middle"===l,"force-theme":null!=r},e),onClickComplete:()=>this.onClickComplete(t),onClickSkipAll:()=>this.onClickSkipAll(t)}))})})}}_(j,"TextAlignments",x),_(j,"defaultProps",{textAlign:"left"})},99325:function(e,t,n){n.d(t,{Dr:()=>_,Rq:()=>g,So:()=>b,Su:()=>y,YZ:()=>h,_Q:()=>C,bF:()=>f,c$:()=>p,kx:()=>m});var r=n(954955),i=n.n(r),l=n(990547),a=n(544891),o=n(570140),s=n(573261),c=n(866112),u=n(75666),d=n(981631);let p=i()(async(e,t)=>{try{o.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});let n=await a.tn.get({url:d.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{category_id:t},rejectWithError:!0});o.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){o.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),h=i()(async e=>{try{let t=await a.tn.get({url:d.ANM.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e),rejectWithError:!0});o.Z.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:e,counts:t.body})}catch(e){}},200);async function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.AR.UNCATEGORIZED,i=await s.Z.post({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r},trackedActionData:{event:l.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:e,guild_id:t,primary_category_id:r}},rejectWithError:!1});o.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:e,entry:i.body})}function m(e,t){s.Z.delete({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:l.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}},rejectWithError:!0}),o.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})}let g=i()(async(e,t)=>{if(!c.Z.shouldFetch(e,t))return void o.Z.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",channelId:e,query:t});try{o.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:e,query:t});let n=await a.tn.get({url:d.ANM.DIRECTORY_ENTRIES_SEARCH(e),query:{query:t},rejectWithError:!0});o.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:e,query:t,results:n.body})}catch(e){o.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),b=e=>{o.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",channelId:e})},_=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.AR.UNCATEGORIZED,i=await a.tn.patch({url:d.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r},rejectWithError:!1});o.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:e,entry:i.body})},y=(e,t)=>{o.Z.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})},C=async(e,t)=>{try{let n=await a.tn.get({url:d.ANM.DIRECTORY_CHANNEL_LIST_BY_ID(e),query:{entity_ids:t},rejectWithError:!0});o.Z.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){}}},75666:function(e,t,n){n.d(t,{AR:()=>f,C2:()=>d,Pp:()=>g,VX:()=>p,b7:()=>m,sE:()=>h});var r,i,l,a,o=n(149765),s=n(700785),c=n(981631),u=n(388032),d=((r={})[r.GUILD=0]="GUILD",r[r.GUILD_SCHEDULED_EVENT=1]="GUILD_SCHEDULED_EVENT",r),p=((i={}).GUILD_TEMPLATES="guild-templates",i.CUSTOMIZE_NEW_GUILD="customize-new-guild",i.CHOOSE_GUILD="choose-guild",i.CUSTOMIZE_EXISTING_GUILD="customize-existing-guild",i.CONFIRMATION="confirmation",i),h=((l={}).CREATE="CREATE",l.HUB_SCHOOL_CLUB="HUB_SCHOOL_CLUB",l.HUB_STUDY="HUB_STUDY",l.HUB_CLASS="HUB_CLASS",l.HUB_SOCIAL="HUB_SOCIAL",l.HUB_MAJOR="HUB_MAJOR",l.HUB_DORM="HUB_DORM",l),f=((a={})[a.ALL=-1]="ALL",a[a.UNCATEGORIZED=0]="UNCATEGORIZED",a[a.SCHOOL_CLUB=1]="SCHOOL_CLUB",a[a.CLASS=2]="CLASS",a[a.STUDY_SOCIAL=3]="STUDY_SOCIAL",a[a.MISC=5]="MISC",a);function m(e){return"883060064561299456"===e?[{value:1,label:u.intl.string(u.t["Z+MPNz"])},{value:2,label:u.intl.string(u.t.dV9uBg)},{value:3,label:u.intl.string(u.t.xoHQcn)},{value:5,label:u.intl.string(u.t.Ao41rq)}]:[{value:1,label:u.intl.string(u.t.oNHFUF),idealSize:100},{value:2,label:u.intl.string(u.t.V1i8nZ)},{value:3,label:u.intl.string(u.t.Z2ygQk),idealSize:50},{value:5,label:u.intl.string(u.t["0Bg9LS"])}]}function g(){return{CREATE:{id:"CREATE",code:"2TffvPucqHkN",label:u.intl.string(u.t["H3+6BA"]),channels:[],system_channel_id:null},HUB_SCHOOL_CLUB:{id:"HUB_SCHOOL_CLUB",code:"UMUbvRpRZhS6",label:u.intl.string(u.t["mmFA5+"]),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t["VCAA/f"]),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t.GHQoER),type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:u.intl.string(u.t.nSsoSE),type:c.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:u.intl.string(u.t.yZCzMT),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.mobYpK),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:u.intl.string(u.t.XS6gcH),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.string(u.t.hi1Ykp),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.string(u.t.vw8oaW),type:c.d4z.GUILD_VOICE}],roles:[{id:"00",name:"@everyone",permissions:s.TP},{id:"01",name:"officers (example)",mentionable:!0,hoist:!0,permissions:o.$e(s.TP,c.Plq.MANAGE_ROLES,c.Plq.MANAGE_CHANNELS,c.Plq.KICK_MEMBERS,c.Plq.BAN_MEMBERS,c.Plq.MANAGE_NICKNAMES,c.Plq.MANAGE_GUILD_EXPRESSIONS,c.Plq.MANAGE_MESSAGES,c.Plq.SEND_TTS_MESSAGES),color:3066993}],system_channel_id:"12"},HUB_STUDY:{id:"HUB_STUDY",code:"2JBhzzca2vfT",label:u.intl.string(u.t.fYwSi4),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t["HY+vdH"]),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t["3eM+Li"]),type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:u.intl.string(u.t.Qi0D7e),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.yZIUV1),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:u.intl.string(u.t.XS6gcH),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_CLASS:{id:"HUB_CLASS",code:"r86WWBwTGspb",label:u.intl.string(u.t.e5gFS0),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t["HY+vdH"]),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t["710tNj"]),type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:u.intl.string(u.t.Qi0D7e),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.yZIUV1),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:u.intl.string(u.t.XS6gcH),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_SOCIAL:{id:"HUB_SOCIAL",code:"AvvtXE3mfbCR",label:u.intl.string(u.t.oOj7Ii),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t.yZIUV1),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"04",parent_id:"00",name:u.intl.string(u.t.d4F8gI),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.CLWKNj),type:c.d4z.GUILD_VOICE},{id:"12",parent_id:"10",name:u.intl.string(u.t.g3qPRk),type:c.d4z.GUILD_VOICE},{id:"13",parent_id:"10",name:u.intl.string(u.t.yQZpe3),type:c.d4z.GUILD_VOICE}],system_channel_id:"02"},HUB_MAJOR:{id:"HUB_MAJOR",code:"FhmfDR6Arvsc",label:u.intl.string(u.t["9kly4e"]),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t["HY+vdH"]),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t.yZCzMT),type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:u.intl.string(u.t.Qi0D7e),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.yZIUV1),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:u.intl.string(u.t.XS6gcH),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:u.intl.formatToPlainString(u.t.LuNsNT,{number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"},HUB_DORM:{id:"HUB_DORM",code:"fkq8xHfrGE58",label:u.intl.string(u.t["ppGw/P"]),channels:[{id:"00",parent_id:null,name:u.intl.string(u.t["HY+vdH"]),type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:u.intl.string(u.t["b2+FCQ"]),type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:u.intl.string(u.t.yZIUV1),type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:u.intl.string(u.t.pIOigI),type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:u.intl.string(u.t.ao2wxs),type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:u.intl.string(u.t.AIszv7),type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:u.intl.string(u.t.vcKDMj),type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:u.intl.string(u.t.XS6gcH),type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:u.intl.string(u.t.g3qPRk),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:u.intl.string(u.t.CLWKNj),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"}}}},866112:function(e,t,n){n.d(t,{Z:()=>f}),n(539854);var r,i=n(442837),l=n(570140),a=n(975984);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let u=[],d={},p={};class h extends(r=i.ZP.Store){getSearchState(e){var t;return null!=(t=d[e])?t:{mostRecentQuery:"",fetching:!1}}getSearchResults(e,t){var n,r,i;return null!=(i=null==(r=p[e])||null==(n=r[t])?void 0:n.results)?i:u}shouldFetch(e,t){var n,r;let i=null==(r=p[e])||null==(n=r[t])?void 0:n.lastSearchedAt;return null==i||Date.now()-i>12e4}}o(h,"displayName","GuildDirectorySearchStore");let f=new h(l.Z,{GUILD_DIRECTORY_SEARCH_START:function(e){let{channelId:t,query:n}=e;d[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){let{channelId:t,query:n,results:r}=e;d[t]=c(s({},d[t]),{fetching:!1});let i=[];r.forEach(e=>{let t=(0,a.MQ)(e);i.push(t)}),p[t]=c(s({},p[t]),{[n]:{results:(0,a.Th)(i),lastSearchedAt:Date.now()}})},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){let{channelId:t}=e;d[t]=c(s({},d[t]),{fetching:!1})},GUILD_DIRECTORY_SEARCH_CLEAR:function(e){let{channelId:t}=e;d[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){let{channelId:t,query:n}=e;d[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t;let{channelId:n,guildId:r}=e,i=null==(t=d[n])?void 0:t.mostRecentQuery;if(null==i)return;let l=p[n][i];if(null==l)return;let a=l.results.filter(e=>e.guildId!==r);p[n]=c(s({},p[n]),{[d[n].mostRecentQuery]:c(s({},l),{results:a})})}})},273387:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r,i=n(442837),l=n(570140),a=n(975984),o=n(75666);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let d=Object.freeze({}),p=!1,h={},f={},m={},g={},b={};class _ extends(r=i.ZP.Store){isFetching(){return p}getCurrentCategoryId(e){var t;return null!=(t=f[e])?t:o.AR.ALL}getDirectoryEntries(e,t){var n;return null!=t?null==(n=m[e])?void 0:n[t]:h[e]}getDirectoryEntry(e,t){var n;return null==(n=h[e])?void 0:n[t]}getDirectoryAllEntriesCount(e){var t;return Object.keys(null!=(t=h[e])?t:{}).length}getDirectoryCategoryCounts(e){var t;return null!=(t=g[e])?t:d}getAdminGuildEntryIds(e){return b[e]}}s(_,"displayName","GuildDirectoryStore");let y=new _(l.Z,{GUILD_DIRECTORY_FETCH_START:function(){p=!0},GUILD_DIRECTORY_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e;p=!1;let r={},i={};n.forEach(e=>{let t=(0,a.MQ)(e);r[t.guildId]=t,null!=i[t.primaryCategoryId]?i[t.primaryCategoryId][t.guildId]=t:i[t.primaryCategoryId]={[t.guildId]:t}}),h[t]=r,m[t]=i},GUILD_DIRECTORY_FETCH_FAILURE:function(){p=!1},GUILD_DIRECTORY_ENTRY_CREATE:function(e){var t,n,r,i,l;let{channelId:s,entry:d}=e,p=(0,a.MQ)(d);if(null==p||(null==(t=h[s])?void 0:t[p.guildId])!=null)return;h[s]=u(c({},h[s]),{[p.guildId]:p});let f=null!=(r=p.primaryCategoryId)?r:o.AR.UNCATEGORIZED;if(m[s]=u(c({},m[s]),{[f]:u(c({},null==(n=m[s])?void 0:n[f]),{[p.guildId]:p})}),null!=g[s]){let e=null!=(l=null==(i=g[s])?void 0:i[f])?l:0;g[s]=u(c({},g[s]),{[f]:e+1})}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n;let{channelId:r,guildId:i}=e,l=null==(t=h[r])?void 0:t[i];if(null==l)return;let a=l.primaryCategoryId,o=Object.assign({},h[r]);delete o[i],null==(n=b[r])||n.delete(i),b[r]=new Set(b[r]),h[r]=o;let s=Object.assign({},m[r][a]);if(delete s[i],m[r]=u(c({},m[r]),{[a]:s}),null!=g[r]){let e=g[r][a]-1;g[r]=u(c({},g[r]),{[a]:e>=0?e:0})}},GUILD_DIRECTORY_ENTRY_UPDATE:function(e){var t,n,r,i,l,s,d,p,f;let{channelId:b,entry:_}=e,y=(0,a.MQ)(_),C=null==(t=h[b])?void 0:t[y.guildId];h[b]=u(c({},h[b]),{[y.guildId]:c({},C,y)});let x=null!=(i=null==C?void 0:C.primaryCategoryId)?i:o.AR.UNCATEGORIZED,v=null!=(l=y.primaryCategoryId)?l:o.AR.UNCATEGORIZED,O=Object.assign({},null==(n=m[b])?void 0:n[x]);null!=C&&x!==v&&delete O[y.guildId],m[b]=u(c({},m[b]),{[x]:O,[v]:u(c({},null==(r=m[b])?void 0:r[v]),{[y.guildId]:c({},C,y)})}),v!==x&&null!=g[b]&&(g[b]=u(c({},g[b]),{[x]:(null==(s=g[b])?void 0:s[x])>0?(null==(d=g[b])?void 0:d[x])-1:0,[v]:(null!=(f=null==(p=g[b])?void 0:p[v])?f:0)+1}))},GUILD_DIRECTORY_CATEGORY_SELECT:function(e){let{channelId:t,categoryId:n}=e;f[t]=n},GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS:function(e){let{channelId:t,counts:n}=e;g[t]=n},GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e,r=new Set;n.forEach(e=>{let t=(0,a.MQ)(e);r.add(t.guildId)}),b[t]=r}})},975984:function(e,t,n){n.d(t,{Lz:()=>d,MQ:()=>s,TR:()=>p,Th:()=>u,_N:()=>c}),n(953529),n(388685);var r=n(512722),i=n.n(r),l=n(392711),a=n.n(l),o=n(75666);function s(e){var t,n,r,l,a,s,c;return i()(e.type===o.C2.GUILD,"Directory entries must be connected to a guild!"),{channelId:e.directory_channel_id,guildId:e.entity_id,type:e.type,authorId:e.author_id,createdAt:e.created_at,description:e.description,primaryCategoryId:e.primary_category_id,name:null==(t=e.guild)?void 0:t.name,icon:null==(n=e.guild)?void 0:n.icon,splash:null==(r=e.guild)?void 0:r.splash,features:new Set(null==(l=e.guild)?void 0:l.features),approximateMemberCount:null==(a=e.guild)?void 0:a.approximate_member_count,approximatePresenceCount:null==(s=e.guild)?void 0:s.approximate_presence_count,featurableInDirectory:null==(c=e.guild)?void 0:c.featurable_in_directory}}let c=5;function u(e){return a().orderBy(e,[e=>e.approximateMemberCount],["desc"])}function d(e){var t;return(t=e.filter(e=>e.featurableInDirectory),a().orderBy(t,[e=>e.createdAt],["desc"])).slice(0,c)}function p(e){return u(e)}},683818:function(e,t,n){n.d(t,{G:()=>c,Z:()=>s});var r=n(442837),i=n(592125),l=n(430824),a=n(496675),o=n(981631);function s(e){let t=(0,r.e7)([l.Z],()=>l.Z.getGuild(e.guildId)),n=(0,r.e7)([i.Z],()=>i.Z.getChannel(e.channelId)),s=(0,r.e7)([a.Z],()=>a.Z.can(o.Plq.ADMINISTRATOR,t)),c=(0,r.e7)([a.Z],()=>a.Z.can(o.Plq.MANAGE_MESSAGES,n));return{isEntryAdmin:s,canEdit:s||c,canRemove:s||c}}function c(e){return(0,r.e7)([a.Z],()=>a.Z.can(o.Plq.SEND_MESSAGES,e))}},201493:function(e,t,n){n.d(t,{Z:()=>O}),n(388685),n(781311);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(570140),s=n(45114),c=n(306680),u=n(626135),d=n(99325),p=n(866112),h=n(273387),f=n(683818),m=n(102888),g=n(65839),b=n(453879),_=n(408310),y=n(75666),C=n(981631),x=n(420212),v=n(806328);let O=e=>{let{channel:t,guild:O}=e,{currentCategoryId:j,directoryEntries:E,categoryCounts:S,allEntriesCount:I,isLoading:P}=(0,l.cj)([h.Z],()=>{let e=h.Z.getCurrentCategoryId(t.id),n=h.Z.getDirectoryEntries(t.id,e===y.AR.ALL?null:e),r=h.Z.getDirectoryCategoryCounts(t.id);return{currentCategoryId:e,directoryEntries:n,categoryCounts:r,allEntriesCount:h.Z.getDirectoryAllEntriesCount(t.id),isLoading:h.Z.isFetching()}});i.useEffect(()=>()=>{let e=c.ZP.lastMessageId(t.id);null!=e&&o.Z.wait(()=>{(0,s.In)(t.id,{object:C.qAy.ACK_GUILD_DIRECTORY_CHANNEL_VIEWED,objectType:C.Qqv.ACK_AUTOMATIC},!0,!0,e)})},[t.id]);let Z=i.useMemo(()=>null!=E?(0,b.v)(Object.values(E),j):null,[E,j]),{mostRecentQuery:T,searchFetching:N,searchResults:A}=(0,l.cj)([p.Z],()=>{let{mostRecentQuery:e,fetching:n}=p.Z.getSearchState(t.id);return{mostRecentQuery:e,searchFetching:n,searchResults:p.Z.getSearchResults(t.id,e)}}),[w,R]=i.useState(T),M=""!==T,D={mostRecentQuery:T},L=i.useRef(D);i.useEffect(()=>{L.current=D}),i.useEffect(()=>{let{mostRecentQuery:e}=L.current;d.c$(t.id),d.YZ(t.id),R(e)},[t.id]),i.useEffect(()=>{u.default.track(C.rMx.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:t.id,directory_guild_id:O.id,primary_category_id:j})},[t.id,O.id,j]);let k=(0,f.G)(t)?()=>{(0,a.ZDy)(async()=>{let{default:e}=await n.e("79764").then(n.bind(n,533202));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={directoryGuildName:O.name,directoryGuildId:O.id,directoryChannelId:t.id,currentCategoryId:j===y.AR.ALL?null:j},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}:void 0,U=e=>{0!==w.trim().length&&e.key===x.vn.ENTER&&(d.Rq(t.id,w),u.default.track(C.rMx.GUILD_DIRECTORY_SEARCH,{directory_channel_id:t.id,directory_guild_id:O.id}))},B=()=>{R(""),d.So(t.id)};return M?(0,r.jsx)(_.Z,{searchQuery:w,setSearchQuery:R,mostRecentQuery:T,handleSearchKeyPress:U,handleClearSearch:B,handleCreateOrAddGuild:k,searchResults:A,searchFetching:N}):null==Z&&null==j?(0,r.jsx)("div",{className:v.pageContainer,children:(0,r.jsx)(a.$jN,{className:v.spinner})}):(null==Z?void 0:Z.length)===0&&null==j?(0,r.jsx)("div",{className:v.pageContainer,children:(0,r.jsx)(m.Z,{guild:O,onAddGuild:k})}):(0,r.jsx)(g.Z,{channel:t,searchQuery:w,setSearchQuery:R,handleSearchKeyPress:U,handleClearSearch:B,handleCreateOrAddGuild:k,currentCategoryId:j,handleSelectCategory:e=>{d.Su(t.id,e)},directoryEntries:Z,categoryCounts:S,allEntriesCount:I,isLoading:P})}},102888:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(647438),l=n(481060),a=n(128557),o=n(981631),s=n(388032),c=n(957717);let u=e=>{let{guild:t,onAddGuild:u}=e,d=i.useCallback(()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t,source:o.t4x.HUB_DIRECTORY,analyticsLocation:{section:o.jXE.HUB_WELCOME_CTA}},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[t]);return(0,r.jsxs)("div",{className:c.emptyWrapper,children:[(0,r.jsx)("img",{className:c.emptyImage,alt:"",src:n(705845)}),(0,r.jsx)(l.X6q,{className:c.emptyTitle,variant:"heading-xl/semibold",children:s.intl.format(s.t.vyvrpK,{guildName:t.name})}),(0,r.jsx)(l.Text,{variant:"text-md/normal",className:c.emptySubtitle,children:s.intl.string(s.t.WypE0t)}),null!=u?(0,r.jsx)(a.i,{className:c.emptyCTA,iconUrl:n(362827),header:s.intl.string(s.t.hyK15u),completed:!1,onClick:u}):null,(0,r.jsx)(a.i,{className:c.emptyCTA,iconUrl:n(538548),header:s.intl.string(s.t.L4bwJy),completed:!1,onClick:d})]})}},400251:function(e,t,n){n.d(t,{Z:()=>A,m:()=>T}),n(388685),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(239091),d=n(749210),p=n(686546),h=n(951394),f=n(565138),m=n(372769),g=n(134432),b=n(769654),_=n(430824),y=n(768581),C=n(411198),x=n(683818),v=n(16853),O=n(981631),j=n(388032),E=n(777261),S=n(883760);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let T=e=>{let{onClick:t}=e;return(0,r.jsxs)(c.P3F,{onClick:t,className:E.addEntryCard,children:[(0,r.jsx)("img",{alt:"",src:S}),(0,r.jsx)(c.Text,{variant:"text-sm/semibold",color:"header-primary",className:E.addServerText,children:j.intl.string(j.t.H9jxS0)})]})};function N(e){let{entry:t}=e,[l,o]=i.useState(!1),s=i.useRef(null),{canEdit:u}=(0,x.Z)(t);return(0,r.jsx)("div",{className:a()(E.actionButtonsContainer,{[E.forceButtonsShow]:l}),children:(0,r.jsxs)(h.ZP,{children:[u?(0,r.jsx)(c.ua7,{text:j.intl.string(j.t.XnuOvL),hideOnClick:!0,children:e=>{var{onClick:i}=e,l=Z(e,["onClick"]);return(0,r.jsx)(h.zx,P(I({},l),{onClick:()=>{null==i||i(),(0,c.ZDy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,r.jsx)(e,P(I({},n),{entry:t}))})},"aria-label":j.intl.string(j.t.XnuOvL),children:(0,r.jsx)(c.vdY,{size:"xs",color:"currentColor",className:E.overflowIcon})}))}}):null,(0,r.jsx)(v.Z,{targetElementRef:s,onRequestOpen:()=>o(!0),onRequestClose:()=>o(!1),entry:t,hideEditButton:!0,children:e=>{var{onClick:t}=e,n=Z(e,["onClick"]);return(0,r.jsx)(c.ua7,{text:j.intl.string(j.t.UKOtz8),hideOnClick:!0,children:e=>{var{onClick:i}=e,l=Z(e,["onClick"]);return(0,r.jsx)(h.zx,P(I({},n,l),{ref:s,onClick:e=>{null==i||i(),t(e)},"aria-label":j.intl.string(j.t.UKOtz8),children:(0,r.jsx)(c.xhG,{size:"md",color:"currentColor",className:E.overflowIcon})}))}})}})]})})}let A=e=>{var t;let{entry:l}=e,[a,h]=i.useState(!1),x=null!=(0,o.e7)([_.Z],()=>_.Z.getGuild(l.guildId)),v=async()=>{h(!0);try{x?(0,b.X)(l.guildId):await d.Z.joinGuild(l.guildId,{source:O.vtS.DIRECTORY_ENTRY})}finally{h(!1)}},S=y.ZP.getGuildSplashURL({id:l.guildId,splash:l.splash,size:300*(0,g.x_)()}),Z=null!=(t=y.ZP.getGuildIconURL({id:l.guildId,icon:l.icon,size:40}))?t:void 0,T=j.intl.string(j.t.VJlc0d);return x&&(T=j.intl.string(j.t.cqWE2d)),(0,r.jsxs)("div",{className:E.card,onContextMenu:e=>{(0,u.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,643560));return t=>(0,r.jsx)(e,P(I({},t),{entry:l}))})},children:[(0,r.jsxs)("div",{className:E.cardHeader,children:[(0,r.jsx)("div",{className:E.splash,children:null!=S&&(0,r.jsx)("img",{src:S,alt:"",className:E.splashImage})}),(0,r.jsx)("div",{className:E.guildIcon,children:(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{className:E.iconMask,children:(0,r.jsx)(f.Z,{className:E.icon,iconSrc:Z,guild:(0,C.e)(l),size:f.Z.Sizes.MEDIUM,active:!0})})})})]}),(0,r.jsxs)("div",{className:E.guildInfo,children:[(0,r.jsxs)("div",{className:E.title,children:[(0,r.jsx)(m.Z,{className:E.guildBadge,guild:l,tooltipColor:c.ua7.Colors.PRIMARY}),(0,r.jsx)(c.Text,{className:E.guildName,variant:"heading-md/semibold",color:"header-primary",children:l.name})]}),(0,r.jsx)(c.Text,{className:E.description,variant:"text-sm/normal",color:"header-secondary",children:l.description}),(0,r.jsxs)("div",{className:E.memberInfo,children:[null!=l.approximatePresenceCount&&(0,r.jsxs)("div",{className:E.memberCount,children:[(0,r.jsx)("div",{className:E.dotOnline}),(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:j.intl.format(j.t["LC+S+v"],{membersOnline:l.approximatePresenceCount})})]}),null!=l.approximateMemberCount&&(0,r.jsxs)("div",{className:E.memberCount,children:[(0,r.jsx)("div",{className:E.dotOffline}),(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:j.intl.format(j.t.zRl6XV,{count:l.approximateMemberCount})})]})]}),(0,r.jsx)(s.zx,{submitting:a,className:E.joinButton,color:x?s.zx.Colors.PRIMARY:s.zx.Colors.GREEN,onClick:v,children:T})]}),(0,r.jsx)(N,{entry:l})]})}},643560:function(e,t,n){n.d(t,{default:()=>f});var r=n(951288),i=n(647438),l=n(481060),a=n(239091),o=n(299206),s=n(726521),c=n(99325),u=n(683818),d=n(388032);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e){let{entry:t,onSelect:f,closePopout:m,hideEditButton:g=!1}=e,{isEntryAdmin:b,canEdit:_,canRemove:y}=(0,u.Z)(t),C=(0,o.Z)({id:t.guildId,label:d.intl.string(d.t["94lLDw"]),onSuccess:m});i.useEffect(()=>{_||y||null!=C||(0,a.Zy)()});let x=()=>{c.kx(t.channelId,t.guildId)};function v(){(0,a.Zy)(),null==m||m()}return(0,r.jsxs)(l.v2r,{navId:"guild-entry-context",onClose:v,"aria-label":d.intl.string(d.t.HpQykZ),onSelect:f,children:[(0,r.jsxs)(l.kSQ,{children:[_&&!g?(0,r.jsx)(l.sNh,{id:"update-entry",label:d.intl.string(d.t.XnuOvL),action:function(){(0,l.ZDy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,r.jsx)(e,h(p({},n),{entry:t}))}),v()}}):null,y?(0,r.jsx)(l.sNh,{id:"remove-from-hub",label:d.intl.string(d.t.KUxYWF),action:function(){(0,l.h7j)(e=>(0,r.jsx)(l.ConfirmModal,h(p({header:d.intl.string(d.t.KUxYWF),confirmText:d.intl.string(d.t.N86XcH),cancelText:d.intl.string(d.t["ETE/oK"]),onConfirm:x},e),{children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:d.intl.format(d.t["/5y0ub"],{guildName:t.name})})}))),v()},color:"danger"}):null,b?null:(0,r.jsx)(l.sNh,{id:"report-server-listing",label:d.intl.string(d.t.Aen9en),action:function(){null!=t&&((0,s.sq)(t),v())},icon:l.U65,color:"danger"})]}),(0,r.jsx)(l.kSQ,{children:C})]})}},16853:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288);n(647438);var i=n(481060),l=n(643560);let a=e=>{let{entry:t,hideEditButton:n,children:a,onRequestOpen:o,onRequestClose:s,targetElementRef:c}=e;return(0,r.jsx)(i.yRy,{targetElementRef:c,onRequestOpen:o,onRequestClose:s,animation:i.yRy.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(l.default,{entry:t,closePopout:i,hideEditButton:n})},children:a})}},65839:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(393238),c=n(400251),u=n(75666),d=n(231338),p=n(388032),h=n(806328),f=n(152013),m=n(584354),g=n(725060);let b=e=>{let{searchQuery:t,setSearchQuery:n,handleClearSearch:i,handleSearchKeyPress:l}=e,{ref:c,width:u}=(0,s.ZP)(),h=null!=u&&u<=800;return(0,r.jsxs)("div",{ref:c,className:f.header,children:[(0,r.jsx)("img",{alt:"",className:f.headerImage,src:h?g:m}),(0,r.jsx)("div",{className:f.headerContentWrapper,children:(0,r.jsxs)("div",{className:a()(f.headerContent,{[f.headerContentSmall]:h}),children:[(0,r.jsx)(o.X6q,{variant:"heading-xl/semibold",className:f.searchTitle,children:p.intl.string(p.t.IT7qoK)}),(0,r.jsx)(o.Text,{variant:"text-md/normal",className:f.searchSubtitle,children:p.intl.string(p.t["5PoYtr"])}),(0,r.jsx)(o.f6W,{theme:d.BR.LIGHT,children:e=>(0,r.jsx)("div",{className:a()(f.searchContainer,e),children:(0,r.jsx)(o.E1j,{query:t,"aria-label":p.intl.string(p.t.nL2wKC),placeholder:p.intl.string(p.t.nL2wKC),onChange:n,onClear:i,onKeyDown:l})})})]})})]})},_=e=>{let{channel:t,directoryEntries:n,handleCreateOrAddGuild:l,searchQuery:a,setSearchQuery:s,handleClearSearch:d,handleSearchKeyPress:m,currentCategoryId:g,handleSelectCategory:_,categoryCounts:y,allEntriesCount:C,isLoading:x}=e;return(0,r.jsx)("div",{className:h.pageContainer,children:(0,r.jsxs)(o.yWw,{className:h.scroller,children:[(0,r.jsx)(b,{searchQuery:a,setSearchQuery:s,handleClearSearch:d,handleSearchKeyPress:m}),(0,r.jsx)(o.h21,{orientation:"horizontal",children:(0,r.jsxs)(o.njP,{className:f.tabBar,type:"top",look:"brand",selectedItem:g,onItemSelect:e=>{_(e)},children:[(0,r.jsx)(o.njP.Item,{className:f.tabBarItem,id:u.AR.ALL,children:"".concat(p.intl.string(p.t.hEAa2d)," (").concat(C,")")},u.AR.ALL),(0,u.b7)(t.id).map(e=>{let{value:t,label:n}=e;return(0,r.jsx)(o.njP.Item,{className:f.tabBarItem,id:t,children:"".concat(n," ").concat(null!=y[t]?"(".concat(y[t],")"):"")},t)})]})}),x&&null==n?(0,r.jsx)(o.$jN,{className:h.spinner}):null==n?void 0:n.map((e,t)=>(0,r.jsxs)(i.Fragment,{children:[void 0!==e.header?(0,r.jsx)(o.Text,{variant:"text-md/semibold",className:f.sectionHeader,children:e.header}):null,(0,r.jsxs)("div",{className:h.cardsContainer,children:[e.entries.map(e=>(0,r.jsx)(c.Z,{entry:e},e.guildId)),e.appendEndCard&&null!=l?(0,r.jsx)(c.m,{onClick:l}):null]})]},t))]})})}},453879:function(e,t,n){n.d(t,{v:()=>a}),n(388685),n(539854);var r=n(975984),i=n(75666),l=n(388032);function a(e,t){if(t!==i.AR.ALL)return[{entries:(0,r.TR)(e),appendEndCard:!0}];let n=[],a=(0,r.Lz)(e),o=new Set(a.map(e=>e.guildId));a.length>0&&n.push({header:l.intl.string(l.t.CbaapK),entries:a,appendEndCard:!1});let s=e.filter(e=>!o.has(e.guildId));return(s=(0,r.Th)(s)).length>0&&n.push({header:l.intl.string(l.t.wxbhER),entries:s,appendEndCard:!0}),n}},408310:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(481060),l=n(671533),a=n(400251),o=n(388032),s=n(806328),c=n(166582),u=n(176480);let d=e=>{let t,{searchQuery:n,setSearchQuery:d,mostRecentQuery:p,handleClearSearch:h,handleSearchKeyPress:f,handleCreateOrAddGuild:m,searchResults:g,searchFetching:b}=e;if(b)t=(0,r.jsx)("div",{className:s.pageContainer,children:(0,r.jsx)(i.$jN,{className:s.spinner})});else if(0===g.length){let e=null!=m?o.intl.format(o.t.qWFupq,{addServerHook:function(e,t){return(0,r.jsx)(i.eee,{onClick:m,children:e},t)}}):o.intl.string(o.t.vYyEnp);t=(0,r.jsxs)("div",{className:c.emptySearchWrapper,children:[(0,r.jsx)("img",{className:c.emptySearchImage,alt:"",src:u}),(0,r.jsx)(i.X6q,{variant:"heading-xl/semibold",color:"header-primary",className:c.emptySearchTitle,children:o.intl.string(o.t["6HXiuL"])}),(0,r.jsx)(i.Text,{variant:"text-md/normal",color:"header-secondary",className:c.emptySearchSubtitle,children:e})]})}else t=(0,r.jsx)("div",{className:s.cardsContainer,children:g.map(e=>(0,r.jsx)(a.Z,{entry:e},e.guildId))});return(0,r.jsx)("div",{className:s.pageContainer,children:(0,r.jsxs)(i.w0Z,{className:s.scroller,children:[(0,r.jsxs)("div",{className:c.searchHeader,children:[(0,r.jsxs)("div",{className:c.headerTitleWrapper,children:[(0,r.jsx)(i.P3F,{onClick:h,className:c.arrow,children:(0,r.jsx)(l.Z,{direction:l.Z.Directions.LEFT})}),(0,r.jsx)(i.X6q,{variant:"heading-xl/semibold",className:c.searchPageTitle,children:o.intl.format(o.t.UkOHRU,{numResults:g.length,query:p})})]}),(0,r.jsx)(i.E1j,{query:n,"aria-label":o.intl.string(o.t.nL2wKC),placeholder:o.intl.string(o.t.nL2wKC),onChange:d,onClear:h,onKeyDown:f,isLoading:b})]}),t]})})}},135938:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2021-12_inferno_spam_redaction",label:"Inferno Spam Redaction",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Allow guild channel messages from spammers to be collapsed",config:{enabled:!0}}]})},396769:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(755721),l=n(481060),a=n(600164),o=n(906067);function s(e){let{icon:t,onClick:n,label:s}=e;return(0,r.jsx)(i.zx,{look:i.zx.Looks.BLANK,size:i.zx.Sizes.MIN,className:o.button,onClick:n,children:(0,r.jsxs)(a.Z,{align:a.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:o.buttonIcon,children:t}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"none",children:s})]})})}},7782:function(e,t,n){n.d(t,{Z:()=>w});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(873546),s=n(442837),c=n(481060),u=n(194359),d=n(100527),p=n(686546),h=n(276506),f=n(333984),m=n(486622),g=n(488634),b=n(86203),_=n(6025),y=n(621853),C=n(892001),x=n(433355),v=n(699516),O=n(594174),j=n(768581),E=n(525541),S=n(981631),I=n(228168),P=n(388032),Z=n(291738);let T=e=>{let{userId:t,channelId:n}=e,l=(0,s.e7)([y.Z],()=>y.Z.getMutualGuilds(t),[t]),a=i.useMemo(()=>null!=l?l.slice(0,3).map((e,t)=>{let{guild:n}=e,i=null!=n?j.ZP.getGuildIconURL({id:n.id,icon:n.icon,size:24}):null;if(null==i)return null;let a=t===(l.length>3?3:l.length)-1,o=(0,r.jsx)("img",{src:i,alt:"",className:Z.avatar},t);return a?o:(0,r.jsx)(p.ZP,{className:Z.avatarMask,mask:p.ZP.Masks.VOICE_USER_SUMMARY_ITEM,width:24,height:24,children:o},t)}).filter(e=>null!=e):[],[l]);return null==l||0===l.length?(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",children:P.intl.string(P.t.zjVh8v)}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Z.avatarContainer,children:a}),(0,r.jsx)(c.P3F,{onClick:()=>{(0,C.openUserProfileModal)({userId:t,channelId:n,section:I.oh.MUTUAL_GUILDS,sourceAnalyticsLocations:[d.Z.DM_CHANNEL]})},children:(0,r.jsx)(c.Text,{className:Z.mutualGuilds,variant:"text-sm/normal",children:P.intl.format(P.t.eE3oen,{count:l.length})})})]})},N=e=>{var t;let{relationshipType:n,userId:i,showingBanner:l}=e,a=null==(t=O.default.getUser(i))?void 0:t.bot,o=()=>{u.Z.addRelationship({userId:i,context:{location:S.ZY5.DM_CHANNEL}})},s=(0,r.jsx)(c.zxk,{size:"sm",variant:"secondary",onClick:()=>{u.Z.blockUser(i,{location:S.ZY5.DM_CHANNEL})},text:P.intl.string(P.t.l4EmaW)}),d=(0,h.n)({userId:i});switch(n){case S.OGo.NONE:return(0,r.jsxs)(r.Fragment,{children:[!a&&!l&&(0,r.jsx)(c.zxk,{size:"sm",variant:"primary",onClick:o,text:d}),s]});case S.OGo.FRIEND:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{size:"sm",variant:"secondary",onClick:()=>{u.Z.removeFriend(i,{location:S.ZY5.DM_CHANNEL})},text:P.intl.string(P.t.cvSt1N)}),s]});case S.OGo.BLOCKED:return(0,r.jsx)(c.zxk,{size:"sm",variant:"secondary",onClick:()=>{u.Z.unblockUser(i,{location:S.ZY5.DM_CHANNEL})},text:P.intl.string(P.t.XyHpKC)});case S.OGo.PENDING_INCOMING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{size:"sm",variant:"primary",onClick:o,text:P.intl.string(P.t["+WbSn5"])}),(0,r.jsx)(c.zxk,{size:"sm",variant:"secondary",onClick:()=>{u.Z.cancelFriendRequest(i,{location:S.ZY5.DM_CHANNEL})},text:P.intl.string(P.t.rQSndn)}),s]});case S.OGo.PENDING_OUTGOING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{size:"sm",variant:"primary",disabled:!0,text:P.intl.string(P.t.xMH6vL)}),s]});default:return null}},A=e=>{let{channelId:t,otherUserId:n}=e,l=i.useCallback(()=>{(0,c.showToast)((0,c.createToast)(P.intl.string(P.t.a2j0ho),c.ToastType.FAILURE))},[]),a=i.useCallback(()=>{_.Z.closeChannelSidebar(x.uZ)},[]),o=i.useCallback(()=>{_.Z.closeChannelSidebar(x.uZ)},[]),{acceptMessageRequest:s,rejectMessageRequest:u,isAcceptLoading:d,isRejectLoading:p,isOptimisticAccepted:h,isOptimisticRejected:f}=(0,m.m)({user:O.default.getUser(n),onError:l,onAcceptSuccess:o,onRejectSuccess:a}),g=d||p||h||f;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{variant:"primary",size:"sm",disabled:g,onClick:()=>s(t),loading:d,text:P.intl.string(P.t.Kz8Pws)}),(0,r.jsx)(c.zxk,{variant:"secondary",size:"sm",disabled:g,onClick:()=>u(t),loading:p,text:P.intl.string(P.t.B2nygY)})]})},w=e=>{let{userId:t,channel:n,showingBanner:i}=e,{channelId:l}=(0,g._)(),u=(0,s.e7)([f.Z],()=>null!=l&&f.Z.isSpam(l),[l]),d=(0,s.e7)([v.Z],()=>v.Z.getRelationshipType(t),[t]),p=n.id===l,h=!o.tq&&!p,m=!!o.tq||p||u,_=u||p?(0,r.jsxs)("div",{className:Z.inline,children:[(0,r.jsx)(A,{channelId:n.id,otherUserId:t}),(0,r.jsx)(b.Z,{channel:n})]}):(0,r.jsxs)("div",{className:Z.inline,children:[(0,r.jsx)(N,{relationshipType:d,userId:t,showingBanner:i}),!i&&(0,r.jsx)(E.Z,{otherUserId:t,channel:n,navigateAwayOnReportSuccess:h})]}),y=d!==S.OGo.PENDING_INCOMING||u||p?null:(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",children:P.intl.string(P.t.c2v5nJ)});return(0,r.jsxs)("div",{className:m?Z.mobileContainer:Z.container,children:[(0,r.jsx)("div",{className:Z.inline,children:(0,r.jsx)(T,{userId:t,channelId:n.id})}),!m&&(0,r.jsx)("div",{className:Z.divider}),(0,r.jsxs)("div",{className:a()(Z.inline,Z.wrap),children:[y,_]})]})}},967128:function(e,t,n){n.d(t,{Kq:()=>u,Ot:()=>d,ZP:()=>h,jz:()=>p}),n(953529);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(534091),s=n(981631),c=n(594445);function u(e){let{locked:t=!1,channelType:n}=e,i=n===s.d4z.GUILD_VOICE||n===s.d4z.GUILD_STAGE_VOICE?a.kBi:t?a.W4G:a.VL1;return(0,r.jsx)("div",{className:l()(c.emptyChannelIcon,c.emptyChannelIconComponent),children:(0,r.jsx)(i,{color:a.TVs.colors.WHITE,size:"custom",width:42,height:42})})}function d(e){let{children:t,className:n}=e;return(0,r.jsx)(a.X6q,{"aria-hidden":"true",className:l()(n,c.header),variant:"heading-xxl/extrabold",children:t})}function p(e){let{children:t,className:n}=e;return(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"none",className:l()(c.description,n),children:t})}let h=function(e){var t,n,{className:i,channelId:a,children:s}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["className","channelId","children"]);return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:l()(i,c.container),id:(0,o.p)(a,a)},u),n=n={children:s},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},600084:function(e,t,n){n.d(t,{Z:()=>H});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(570140),s=n(384275),c=n(82906),u=n(763762),d=n(933557),p=n(605436),h=n(736052),f=n(86203),m=n(189156),g=n(878857),b=n(621853),_=n(484459),y=n(131704),C=n(881998),x=n(984933),v=n(496675),O=n(594174),j=n(51144),E=n(7782),S=n(967128),I=n(320781),P=n(269203),Z=n(86863),T=n(558756),N=n(753898),A=n(734386),w=n(184279),R=n(438306),M=n(544142),D=n(128557),L=n(981631),k=n(176505),U=n(388032),B=n(963392),F=n(197571);function G(e){let{canManageRoles:t,channel:n}=e,i=t&&(0,p.Yk)(n),a=(0,l.e7)([x.ZP],()=>null!=n.guild_id&&n===x.ZP.getDefaultChannel(n.guild_id),[n]);if((0,h.Z)(n.id))return null;if(n.isForumPost())return(0,r.jsx)(I.Z,{channel:n});if(y.Ec.has(n.type))return(0,r.jsx)(M.Z,{channel:n});if(a)return(0,r.jsx)(D.Z,{channel:n});if(i)return(0,r.jsx)(A.Z,{channel:n});return(0,r.jsx)(R.Z,{channel:n})}function H(e){var t,n;let{channel:p,showingBanner:h}=e,y=(0,d.ZP)(p),{type:x}=p,I=(0,l.e7)([O.default],()=>p.isPrivate()?O.default.getUser(p.getRecipientId()):null),A=j.ZP.useUserTag(I),{canManageRoles:R,canReadMessageHistory:M}=(0,l.cj)([v.Z],()=>({canManageRoles:v.Z.can(L.Plq.MANAGE_ROLES,p),canReadMessageHistory:v.Z.can(L.Plq.READ_MESSAGE_HISTORY,p)})),D=(0,l.e7)([b.Z],()=>x===L.d4z.DM?b.Z.getMutualGuilds(p.getRecipientId()):null,[p,x]),{systemDMRedesignEnabled:H}=g.Z.useExperiment({location:"bf1a4f_1"},{autoTrackExposure:null!=(t=p.isSystemDM())&&t}),V=(0,u.Z)(null!=(n=null==I?void 0:I.id)?n:L.lds),{authorizedAppToken:z,authorizedAppsFetchState:W}=(0,l.cj)([C.Z],()=>({authorizedAppToken:C.Z.getNewestTokenForApplication(null==V?void 0:V.id),authorizedAppsFetchState:C.Z.getFetchState()})),q=c.Z.useExperiment({location:"EmptyMessages"}).enabledDesktop;if(i.useEffect(()=>{x===L.d4z.DM&&null==D&&null!=I&&o.Z.wait(()=>(0,_.Z)(p.getRecipientId(),I.getAvatarURL(null,80),{withMutualGuilds:!0}))},[D,x,p,I]),i.useEffect(()=>{(null==I?void 0:I.bot)&&W===C.M.NOT_FETCHED&&s.Z.fetch()},[null==I?void 0:I.bot,W]),p.isSystemDM())return H?(0,r.jsx)(w.Z,{channel:p}):(0,r.jsx)(N.Z,{channel:p,children:U.intl.string(U.t.Rzvnio)});if(x===L.d4z.DM){let e;return null!=I&&null!=V?null!=z&&(e=(0,r.jsxs)("div",{className:B.buttonContainer,children:[(0,r.jsx)(T.W,{className:B.button,channel:p,user:I}),(0,r.jsx)(Z.n,{className:B.button,user:I,application:V,channel:p,oauth2Token:z}),q&&(0,r.jsx)(f.Z,{channel:p})]})):e=(0,r.jsx)(E.Z,{userId:p.getRecipientId(),channel:p,showingBanner:h}),(0,r.jsxs)(N.Z,{channel:p,user:I,children:[null!=I&&!I.isProvisional&&(0,r.jsx)(a.X6q,{variant:"heading-xl/medium",className:F.marginBottom20,children:A}),U.intl.format(U.t["Qvg+6+"],{username:y}),(null==I?void 0:I.isProvisional)&&(0,r.jsx)(m.q,{userId:I.id}),e]})}if(p.isMultiUserDM())if(p.isManaged())return(0,r.jsxs)(S.ZP,{channelId:p.id,children:[(0,r.jsx)(S.Ot,{children:U.intl.format(U.t.I3R7Vl,{channelName:y})}),(0,r.jsx)(S.jz,{children:U.intl.string(U.t.M8Ao6O)})]});else if(p.hasFlag(k.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL))return(0,r.jsx)(P.Z,{channel:p});else return(0,r.jsx)(N.Z,{channel:p,children:U.intl.format(U.t.MFwcqK,{name:y})});return M?(0,r.jsx)(G,{channel:p,canManageRoles:R}):(0,r.jsx)(S.ZP,{channelId:p.id,children:(0,r.jsx)(S.jz,{children:U.intl.format(U.t.hPVEQE,{channelName:y})})})}},320781:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(471445),o=n(456269),s=n(660189),c=n(257511),u=n(967128),d=n(388032),p=n(551869);function h(e){var t;let{channel:n}=e,h=(0,o.eV)(n),{firstMessage:f}=(0,i.cj)([s.Z],()=>s.Z.getMessage(n.id)),m=new Set((0,o.kn)(n,h)),g=null!=(t=(0,a.KS)(n))?t:l.kBi;return(0,r.jsxs)(u.ZP,{channelId:n.id,className:p.container,children:[(0,r.jsx)("div",{className:p.iconWrapper,children:(0,r.jsx)(g,{className:p.icon,strokeWidth:1.75})}),(0,r.jsx)(u.Ot,{className:p.header,children:n.name}),null==f&&(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:d.intl.string(d.t.mE3KJC)}),(0,r.jsx)(c.Z,{appliedTags:m,wrap:n.isModeratorReportChannel()})]})}},269203:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(565138),o=n(246364),s=n(602606),c=n(705563),u=n(594174),d=n(967128),p=n(388032),h=n(496363);function f(e){var t;let{joinRequest:n,guild:s}=e,c=(0,i.e7)([u.default],()=>u.default.getUser(n.userId));return(0,r.jsxs)("div",{className:h.summaryContainer,children:[(0,r.jsxs)("div",{className:h.summaryHeader,children:[null!=s&&(0,r.jsxs)("div",{className:h.summaryHeaderClanInfo,children:[(0,r.jsx)(a.Z,{guild:s,active:!0,size:a.Z.Sizes.SMOL,className:h.guildIcon}),(0,r.jsx)(l.X6q,{variant:"heading-sm/semibold",color:"header-primary",children:s.name})]}),null!=c&&(0,r.jsx)(l.X6q,{variant:"heading-xl/semibold",color:"header-primary",children:p.intl.format(p.t.jDV3i4,{username:c.globalName})})]}),null==(t=n.formResponses)?void 0:t.filter(e=>e.field_type!==o.QJ.TERMS).map(e=>{let t=e.field_type===o.QJ.MULTIPLE_CHOICE&&null!=e.response?e.choices[e.response]:e.response;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:h.summarySeparator}),(0,r.jsxs)("div",{className:h.formResponseContainer,children:[(0,r.jsx)(l.Text,{variant:"text-xs/semibold",color:"text-muted",children:e.label}),(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"text-primary",children:t})]})]})})]})}function m(e){let{channel:t}=e,{loading:n,joinRequest:i,joinRequestGuild:a}=(0,s.Z)(t.id);return(0,r.jsx)(d.ZP,{channelId:t.id,className:h.container,children:null!=i&&null!=i.formResponses?(0,r.jsxs)("div",{className:h.formContainer,children:[(0,r.jsx)("div",{children:(0,r.jsx)(f,{guild:a,joinRequest:i})}),(0,r.jsx)(c.Z,{channelId:t.id,showProfile:!0})]}):n?(0,r.jsx)(l.$jN,{}):null})}},86863:function(e,t,n){n.d(t,{n:()=>f});var r=n(951288),i=n(442837),l=n(755721),a=n(481060),o=n(384275),s=n(468026),c=n(317381),u=n(513202),d=n(626135),p=n(981631),h=n(388032);let f=e=>{let{className:t,channel:n,user:f,application:m,oauth2Token:g}=e,b=(0,i.e7)([c.ZP],()=>c.ZP.getSelfEmbeddedActivities());if(!f.bot||null==m)return null;function _(){o.Z.delete(g.id);let e=b.get(m.id);null!=e&&u.Z.leaveActivity({location:e.location,applicationId:m.id})}return(0,r.jsx)(l.zx,{className:t,size:l.Ph.SMALL,color:l.zx.Colors.PRIMARY,onClick:()=>(function(e,t,n){let i=h.intl.formatToPlainString(h.t.QWGvxM,{applicationName:e.name});(0,a.h7j)(e=>(0,r.jsx)(s.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({title:h.intl.string(h.t.DT39Aw),body:i,confirmText:h.intl.string(h.t.xUqheH),confirmColor:l.Tt.RED,cancelText:h.intl.string(h.t["ETE/oK"]),onConfirm:t},e))),d.default.track(p.rMx.APP_MANAGE_CTA_CLICKED,{application_id:e.id,channel_id:n.id,channel_type:n.type})})(m,_,n),children:h.intl.string(h.t["5S3sQE"])})}},558756:function(e,t,n){n.d(t,{W:()=>c});var r=n(951288),i=n(442837),l=n(755721),a=n(481060),o=n(9156),s=n(388032);let c=e=>{let{className:t,channel:c,user:u}=e,d=(0,i.e7)([o.ZP],()=>o.ZP.isChannelMuted(null,c.id));return u.bot?(0,r.jsx)(l.zx,{className:t,size:l.Ph.SMALL,color:d?l.zx.Colors.PRIMARY:l.zx.Colors.RED,onClick:function(){(0,a.ZDy)(async()=>{let{default:e}=await n.e("83545").then(n.bind(n,53149));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({channelId:c.id},t))})},children:d?s.intl.string(s.t.YqAjX1):s.intl.string(s.t["w4m94+"])}):null}},753898:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(680018),o=n(374415),s=n(481060),c=n(607070),u=n(100527),d=n(43267),p=n(933557),h=n(821795),f=n(892567),m=n(266076),g=n(187237),b=n(769409),_=n(518311),y=n(518950),C=n(967128),x=n(388032),v=n(963392);function O(e){var t;let{channel:n,children:O,user:j}=e,E=(0,l.e7)([c.Z],()=>c.Z.useReducedMotion),S=null!=(t=(0,p.ZP)(n))?t:"",{avatarDecorationSrc:I,eventHandlers:P,isAnimating:Z}=(0,y.Z)({userId:null==j?void 0:j.id,size:s.EFr.SIZE_80,animateOnHover:!0}),[T,N]=i.useState(!1),A=i.useCallback(()=>{P.onMouseEnter(),N(!0)},[P]),w=i.useCallback(()=>{P.onMouseLeave(),N(!1)},[P]),R=!n.isMultiUserDM()&&(null==j?void 0:j.displayNameStyles)!=null;return(0,r.jsxs)(C.ZP,{channelId:n.id,onMouseEnter:A,onMouseLeave:w,children:[(()=>{let e=!E&&Z;return n.isMultiUserDM()?(0,r.jsx)(g.v,{channel:n,editable:!0,location:u.Z.EMPTY_GROUP_DM,children:(0,r.jsx)(m.Z,{channel:n,size:s.EFr.SIZE_80,experimentLocation:"empty_messages",animated:e,"aria-label":S})}):(0,r.jsx)(s.qEK,{"aria-label":S,size:s.EFr.SIZE_80,src:(0,d.x)(n,80,e),avatarDecoration:I})})(),(0,r.jsx)(C.Ot,{children:R?(0,r.jsx)(f.Z,{userName:S,displayNameStyles:null==j?void 0:j.displayNameStyles,effectDisplayType:T?h.F.ANIMATED:h.F.STATIC,loop:!0}):S}),(0,r.jsx)(C.jz,{children:O}),n.isMultiUserDM()&&(0,r.jsxs)(o.h,{className:v.buttonContainer,children:[(0,r.jsx)(_.l,{channel:n,text:x.intl.string(x.t["6Qgren"]),icon:s.ejJ}),(0,r.jsx)(a.z,{icon:s.vdY,variant:"secondary",text:x.intl.string(x.t["5Q9+/P"]),"aria-label":x.intl.string(x.t["5Q9+/P"]),onClick:()=>(0,b.B)(n.id,u.Z.EMPTY_GROUP_DM)})]})]})}},525541:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(493683),a=n(726521),o=n(213010),s=n(718538),c=n(388032);function u(e){let{otherUserId:t,channel:n,buttonText:u,buttonSize:d="sm",navigateAwayOnReportSuccess:p=!0,onReportClick:h,onReportSubmit:f,onMouseEnter:m,onMouseLeave:g}=e,b=(0,o.Q)(t),_=(0,s.V)(n.id,t);if(!b||null==_)return null;let y=()=>{null==f||f(),l.Z.closePrivateChannel(n.id,p)};return(0,r.jsx)(i.zxk,{size:d,variant:"critical-primary",disabled:null==_,onClick:()=>{null==h||h(),(0,a.WL)(_,y)},onMouseEnter:m,onMouseLeave:g,text:null!=u?u:c.intl.string(c.t.HHZmDg)})}},734386:function(e,t,n){n.d(t,{Z:()=>R}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(149765),u=n(442837),d=n(481060),p=n(787014),h=n(911969),f=n(933557),m=n(185413),g=n(42311),b=n(626786),_=n(434404),y=n(454585),C=n(345162),x=n(485386),v=n(430824),O=n(496675),j=n(594174),E=n(700785),S=n(51144),I=n(396769),P=n(967128),Z=n(318374),T=n(981631),N=n(388032),A=n(338518),w=n(430864);function R(e){let{channel:t}=e,[n,l]=i.useState(!1),o=(0,f.ZP)(t,!0),R=t.guild_id,M=(0,u.e7)([x.Z],()=>null!=R?x.Z.getSortedRoles(R):void 0),D=(0,u.e7)([j.default,v.Z],()=>{var e;return j.default.getUser(null==(e=v.Z.getGuild(R))?void 0:e.ownerId)}),L=i.useMemo(()=>null!=M?M.filter(e=>!(0,C.fI)(e)):[],[M]),k=i.useMemo(()=>s()(L).filter(e=>{if(null==R)return!1;let n=E.I0({forceRoles:{[e.id]:e},context:t});return c.Db(n,c.$e(T.Plq.ADMINISTRATOR,T.Plq.VIEW_CHANNEL))}).value(),[t,R,L]),U=(0,u.Wu)([j.default],()=>{let e={};for(let n of(null!=D&&(e[D.id]=D),Object.values(t.permissionOverwrites))){if(n.type!==h.BN.MEMBER||null!=e[n.id])continue;let t=j.default.getUser(n.id);null!=t&&(e[t.id]=t)}return s()(e).filter(e=>{var n;let r=E.BT({permission:T.Plq.ADMINISTRATOR,user:e,context:t}),i=null!=(n=t.permissionOverwrites[e.id])?n:E.Hn,l=c.e$(i.allow,T.Plq.VIEW_CHANNEL);return r||l}).value()},[t,D]),B=O.Z.can(T.Plq.MANAGE_CHANNELS,t)||O.Z.can(T.Plq.MANAGE_ROLES,t),F=i.useCallback(()=>l(!1),[]);return(0,r.jsxs)(P.ZP,{channelId:t.id,children:[(0,r.jsx)(P.Kq,{locked:!0,channelType:t.type}),(0,r.jsx)(P.Ot,{children:N.intl.format(N.t.I3R7Vl,{channelName:o})}),(0,r.jsx)(P.jz,{className:w.markup,children:N.intl.format(N.t.QuwqjI,{channelName:o,topicHook:()=>y.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),B?(0,r.jsxs)("div",{className:A.channelSettingButtons,children:[(0,r.jsx)(I.Z,{label:N.intl.string(N.t.dMJ3Y2),onClick:()=>l(!0),icon:(0,r.jsx)(d.BFJ,{size:"xs",color:"currentColor"})}),(0,r.jsx)(I.Z,{label:N.intl.string(N.t["3gUsJS"]),onClick:function(){p.ZP.open(t.id)},icon:(0,r.jsx)(d.vdY,{size:"xs",color:"currentColor"})})]}):null,(0,r.jsxs)("div",{className:A.members,children:[function(){if(1!==U.length||k.length>0)return(0,r.jsx)(Z.Z,{guildId:t.guild_id,className:A.avatars,maxUsers:5,users:U});let e=U[0],n=S.ZP.getName(e);return(0,r.jsxs)("div",{className:A.avatars,children:[(0,r.jsx)(d.qEK,{src:e.getAvatarURL(t.guild_id,24),"aria-label":n,size:d.EFr.SIZE_24}),(0,r.jsx)(d.Text,{tag:"span",className:A.singleUserName,variant:"text-md/normal",children:n}),"\xa0",(0,r.jsx)(d.Text,{tag:"span",variant:"text-md/normal",color:"text-muted",children:N.intl.string(N.t.rt0ERU)})]})}(),k.map((e,n)=>{var i,l;let o=null!=(l=e.colorString)?l:T.Pbq,s=(null==(i=e.tags)?void 0:i.guild_connections)!==void 0;return B?(0,r.jsx)(g.Z,{className:a()(A.role,{[A.last]:n===k.length-1}),roleName:e.name,roleColor:o,disabled:!B,verified:s,onClick:()=>{_.Z.open(t.guild_id,T.pNK.MEMBERS),_.Z.selectRole(e.id)}},e.id):(0,r.jsx)(b.Z,{className:a()(A.role,{[A.last]:n===k.length-1}),roleName:e.name,roleColor:o,verified:s},e.id)})]}),n?(0,r.jsx)(d.u_l,{renderModal:e=>{var n,i;return(0,r.jsx)(m.default,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={onClose:()=>(F(),e.onClose()),channelId:t.id},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))},onCloseRequest:()=>l(!1)}):null]})}},184279:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(481060),l=n(43267),a=n(933557),o=n(297700),s=n(534091),c=n(967128),u=n(388032),d=n(405005),p=n(191986);let h=()=>(0,r.jsx)("svg",{width:"46",height:"34",viewBox:"0 0 46 34",className:d.chatBubbleLip,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 33.4637C16.1697 28.954 21.1764 9.59155 19.2146 0L45.681 0.000148089C45.681 0.000148089 44.681 9.14498 40.1914 18.3023C34.4077 30.0996 6.2893 33.1232 0 33.4637Z"})});function f(e){var t;let{channel:n}=e,f=null!=(t=(0,a.ZP)(n))?t:"";return(0,r.jsxs)("div",{id:(0,s.p)(n.id,n.id),className:d.headerContainer,children:[(0,r.jsx)("img",{src:p,className:d.wumpusImage,alt:""}),(0,r.jsxs)("div",{className:d.chatBubbleContainer,children:[(0,r.jsx)(h,{}),(0,r.jsxs)("div",{className:d.chatBubble,children:[(0,r.jsx)(i.qEK,{"aria-label":f,size:i.EFr.SIZE_80,src:(0,l.x)(n,80,!1)}),(0,r.jsxs)(c.Ot,{className:d.emptyMessageHeader,children:[f,(0,r.jsx)(o.Z,{className:d.flowerStar,size:24,children:(0,r.jsx)(i.kmB,{size:"md",color:"currentColor",className:d.verified})})]}),(0,r.jsx)(c.jz,{children:u.intl.string(u.t.Rzvnio)})]})]})]})}},438306:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(787014),o=n(933557),s=n(454585),c=n(131704),u=n(496675),d=n(396769),p=n(967128),h=n(981631),f=n(388032),m=n(734335),g=n(430864);function b(e){let{channel:t}=e,n=(0,o.ZP)(t,!0),b=(0,i.e7)([u.Z],()=>u.Z.can(h.Plq.MANAGE_CHANNELS,t)&&c.dF.has(t.type));return(0,r.jsxs)(p.ZP,{channelId:t.id,children:[(0,r.jsx)(p.Kq,{channelType:t.type}),(0,r.jsx)(p.Ot,{children:f.intl.format(f.t.I3R7Vl,{channelName:n})}),(0,r.jsx)(p.jz,{className:g.markup,children:f.intl.format(f.t.pYMVRU,{channelName:n,topicHook:()=>s.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),b?(0,r.jsx)("div",{className:m.buttonContainer,children:(0,r.jsx)(d.Z,{label:f.intl.string(f.t["3gUsJS"]),onClick:()=>{a.ZP.open(t.id)},icon:(0,r.jsx)(l.vdY,{size:"xs",color:"currentColor"})})}):null]})}},544142:function(e,t,n){n.d(t,{Z:()=>S});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(239091),u=n(100527),d=n(906732),p=n(471445),h=n(884902),f=n(670188),m=n(271383),g=n(594174),b=n(51144),_=n(967128),y=n(981631),C=n(388032),x=n(149623);function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e){var t,l,p;let{userId:_,channel:y}=e,C=i.useRef(null),{analyticsLocations:j}=(0,d.ZP)(u.Z.USERNAME),E=(0,o.e7)([g.default],()=>g.default.getUser(_)),S=(0,o.e7)([m.ZP],()=>null!=_?m.ZP.getMember(y.guild_id,_):null),I=(0,h.X7)(y.guild_id,null!=_?_:void 0,null!=(t=null==S?void 0:S.colorStrings)?t:null);function P(e){if(null==E)return null;(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return t=>(0,r.jsx)(e,O(v({},t),{user:E,guildId:y.guild_id,channel:y}))})}let Z=null!=(p=null!=(l=null==S?void 0:S.nick)?l:b.ZP.getName(E))?p:"???",T=null==S?void 0:S.colorString;return null==E?(0,r.jsx)("span",{className:a()(x.threadCreatorName,x.unknownCreatorName),children:Z}):(0,r.jsx)(d.Gt,{value:j,children:(0,r.jsx)(f.Z,{targetElementRef:C,user:E,guildId:y.guild_id,channelId:y.id,roleId:null==S?void 0:S.colorRoleId,clickTrap:!0,children:e=>(0,r.jsx)(s.P3F,O(v({},e),{innerRef:C,tag:"span",className:x.threadCreatorName,onContextMenu:P,children:(0,r.jsx)(s.PUh,{name:Z,colorString:null!=T?T:null,colorStrings:I})}))})})}function E(e){let{channel:t}=e,{threadMetadata:n}=t;return null==n?(0,r.jsx)("div",{style:{marginTop:-8}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:(0,r.jsx)("div",{className:x.subtitle,children:C.intl.format(C.t.imPXd3,{usernameHook:(e,n)=>(0,r.jsx)(j,{userId:t.ownerId,channel:t},n)})})}),t.type===y.d4z.PRIVATE_THREAD?(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:C.intl.string(C.t["1awbZG"])}):null]})}function S(e){var t;let{channel:n}=e,i=null!=(t=(0,p.KS)(n))?t:s.or_;return(0,r.jsxs)(_.ZP,{channelId:n.id,children:[(0,r.jsx)("div",{className:x.iconWrapper,children:(0,r.jsx)(i,{className:x.icon})}),(0,r.jsx)(_.Ot,{children:n.name}),(0,r.jsx)(E,{channel:n})]})}},128557:function(e,t,n){n.d(t,{Z:()=>R,i:()=>w}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(748780),s=n(442837),c=n(704215),u=n(481060),d=n(211266),p=n(699682),h=n(367907),f=n(644914),m=n(434404),g=n(330010),b=n(978946),_=n(314897),y=n(430824),C=n(594174),x=n(259580),v=n(585483),O=n(63063),j=n(358085),E=n(709054),S=n(967128),I=n(981631),P=n(231873),Z=n(388032),T=n(183334);function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function w(e){let{className:t,iconUrl:n,icon:l,header:o,completed:s,onClick:c}=e,[d,h]=i.useState(!1),f=(0,p.Z)(s);return i.useEffect(()=>{null!=f&&s!==f&&(h(!0),setTimeout(()=>h(!1),1e3))},[s,f]),(0,r.jsxs)(u.P3F,{className:a()(t,T.card,{[T.completed]:s}),onClick:c,children:[null!=l?l:(0,r.jsx)("img",{className:T.icon,src:n,alt:""}),(0,r.jsx)(u.Text,{color:"header-primary",className:a()(T.cardTextContainer,T.cardHeader),variant:"text-sm/normal",children:o}),s?(0,r.jsx)(u.dz2,{size:"md",color:"currentColor",className:a()(T.checkmark,{[T.animate]:d})}):(0,r.jsx)(x.Z,{className:T.arrow,direction:x.Z.Directions.RIGHT})]})}function R(e){let{channel:t}=e,l=(0,s.e7)([y.Z],()=>null!=t?y.Z.getGuild(t.getGuildId()):null,[t]),p=null!=l&&E.default.extractTimestamp(l.id)<Date.now()-I._8R,x=(0,s.e7)([_.default],()=>(null==l?void 0:l.ownerId)===_.default.getId(),[l]),{canInvite:R,canManageGuild:M,canMessage:D}=(0,f.TE)(t,l),L=(0,s.e7)([C.default],()=>{var e,t;return(null==(e=C.default.getCurrentUser())?void 0:e.desktop)===!0||(null==(t=C.default.getCurrentUser())?void 0:t.mobile)===!0}),{guildPopulated:k,guildMessaged:U,guildPersonalized:B}=(0,f.h_)(l),{handleInvite:F,handleMessage:G,handlePersonalize:H,handleDownload:V,handleAddApplication:z}=function(e){let t=i.useCallback(()=>{h.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:P.Ft.CHANNEL_WELCOME,action:P.j7.INVITE}),null!=e&&(0,u.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(t,A(N({},n),{guild:e,source:I.t4x.CHANNEL_WELCOME,analyticsLocation:{section:I.jXE.CHANNEL_WELCOME_CTA}}))})},[e]),l=i.useCallback(()=>{h.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:P.Ft.CHANNEL_WELCOME,action:P.j7.SEND_MESSAGE}),v.S.dispatch(I.CkL.TEXTAREA_FOCUS,{highlight:!0,channelId:I.lds})},[]),a=i.useCallback(()=>{h.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:P.Ft.CHANNEL_WELCOME,action:P.j7.PERSONALIZE_SERVER}),null!=e&&m.Z.open(e.id,(0,b.r)(),{section:I.jXE.CHANNEL_WELCOME_CTA})},[e]);return{handleInvite:t,handleMessage:l,handlePersonalize:a,handleDownload:i.useCallback(()=>{h.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:P.Ft.CHANNEL_WELCOME,action:P.j7.DOWNLOAD}),(0,u.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("32996"),n.e("74023")]).then(n.bind(n,431583));return t=>(0,r.jsx)(e,N({source:I.jXE.CHANNEL_WELCOME_CTA},t))})},[]),handleAddApplication:i.useCallback(()=>{null!=e&&(h.ZP.trackWithMetadata(I.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:P.Ft.CHANNEL_WELCOME,action:P.j7.ADD_APP}),(0,u.ZDy)(async()=>{let{default:t}=await n.e("77046").then(n.bind(n,272509));return n=>{var i;return(0,r.jsx)(t,A(N({guildId:null!=(i=e.id)?i:""},n),{analyticsType:c.z.APP_DIRECTORY_SERVER_SETUP_UPSELL_MODAL}))}}))},[e])}}(l),W=!(L||k||U||B),{titleAnimatedStyle:q,opacities:Y}=function(e){let t=(0,d.Z)(()=>new o.Z.Value(0)),n=(0,d.Z)(()=>new o.Z.Value(0)),r=(0,d.Z)(()=>[new o.Z.Value(0),new o.Z.Value(0),new o.Z.Value(0),new o.Z.Value(0)]);return i.useEffect(()=>{o.Z.stagger(300,[o.Z.parallel([o.Z.timing(n,{toValue:1,duration:450}),o.Z.timing(t,{toValue:1,duration:450})]),o.Z.stagger(100,[o.Z.timing(r[0],{toValue:1,duration:300}),o.Z.timing(r[1],{toValue:1,duration:300}),o.Z.timing(r[2],{toValue:1,duration:300}),o.Z.timing(r[3],{toValue:1,duration:300})])]).start()},[n,t,r]),{titleAnimatedStyle:e?{transform:[{translateY:t.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}],opacity:n}:{},opacities:r}}(W),[K,X]=i.useState([]),Q=K.length>0;if(i.useEffect(()=>{(async()=>{try{var e;let t=await (0,g.i)(null!=(e=null==l?void 0:l.id)?e:I.lds);X(t.map(e=>e.id))}catch(e){}})()},[null==l?void 0:l.id]),null==l)return null;let J=[];p||(R&&J.push((0,r.jsx)(o.Z.div,{className:T.cardWrapper,style:W?{opacity:Y[J.length]}:{},children:(0,r.jsx)(w,{iconUrl:u.YvY,header:Z.intl.string(Z.t.q9n0TU),completed:k,onClick:F})},"invite")),M&&J.push((0,r.jsx)(o.Z.div,{className:T.cardWrapper,style:W?{opacity:Y[J.length]}:{},children:(0,r.jsx)(w,{iconUrl:u.$_T,header:Z.intl.string(Z.t.c5kxPj),completed:B,onClick:H})},"customize")),D&&J.push((0,r.jsx)(o.Z.div,{className:T.cardWrapper,style:W?{opacity:Y[J.length]}:{},children:(0,r.jsx)(w,{iconUrl:u.qMX,header:Z.intl.string(Z.t["SoP7+v"]),completed:U,onClick:G})},"message")),(0,j.isWeb)()&&J.push((0,r.jsx)(o.Z.div,{className:T.cardWrapper,style:W?{opacity:Y[J.length]}:{},children:(0,r.jsx)(w,{iconUrl:u.yIb,header:Z.intl.string(Z.t.pGVNIy),completed:L,onClick:V})},"download")),J.push((0,r.jsx)(o.Z.div,{className:T.cardWrapper,style:W?{opacity:Y[J.length]}:{},children:(0,r.jsx)(w,{iconUrl:u.Tg$,header:Z.intl.string(Z.t.IhHDEB),completed:Q,onClick:z})},"addapp")));let $=x?Z.intl.string(Z.t["1ach9P"]):Z.intl.string(Z.t["ezm+/v"]);p&&($=Z.intl.string(Z.t["gwyU/P"]));let ee="".concat(O.Z.getArticleURL(I.BhN.GUILD_GETTING_STARTED),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-new-user&utm_content=--t%3Apm");return(0,r.jsx)(S.ZP,{channelId:t.id,children:(0,r.jsx)("div",{className:T.container,children:(0,r.jsxs)("div",{className:T.inner,children:[(0,r.jsxs)(o.Z.div,{style:q,children:[(0,r.jsx)(u.X6q,{className:T.titleName,variant:"heading-xxl/medium",children:Z.intl.format(Z.t.rkHVKS,{guildName:l.name})}),(0,r.jsxs)(u.Text,{color:"header-secondary",className:a()({[T.subtitle]:!0,[T.noChildren]:0===J.length}),variant:"text-sm/normal",children:[$," ",J.length>0?Z.intl.format(Z.t.UOtD39,{guideURL:ee}):null]})]}),J]})})})}},174130:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(665149),o=n(853856),s=n(117984),c=n(593214),u=n(362658),d=n(916069),p=n(388032);function h(e){let{channel:t}=e,{isFavoritesPerk:n}=(0,u.z)("ChannelFavoritesHeaderButton"),h=(0,d.Z)(),{notifyFavoriteAdded:f}=(0,c.up)(),m=(0,i.e7)([o.Z],()=>o.Z.isFavorite(t.id));if(!n||h)return null;let g=m?l.r7p:l.vxU,b=m?p.intl.string(p.t.Bou7lZ):p.intl.string(p.t["4wcdEx"]);return(0,r.jsx)(a.ZP.Icon,{icon:g,tooltip:b,"aria-label":b,onClick:()=>{m?(0,s.oC)(t.id):(f(),(0,s.kj)(t.id))}})}},374794:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(755721),o=n(481060),s=n(53281);function c(e){var t,n,{children:i,className:c,innerClassName:u,onChange:d,"aria-label":p,"aria-describedby":h,filters:f,multiple:m=!1,disabled:g=!1,submitting:b=!1}=e,_=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","className","innerClassName","onChange","aria-label","aria-describedby","filters","multiple","disabled","submitting"]);return(0,r.jsx)(o.tEY,{within:!0,children:(0,r.jsxs)("div",{className:l()(c,(0,a.nY)((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},_),n=n={submitting:b,disabled:g},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))),"aria-disabled":g,children:[(0,r.jsx)("span",{"aria-hidden":!0,className:u,children:i}),(0,r.jsx)(s.Z,{tabIndex:0,onChange:d,filters:f,multiple:m,"aria-label":p,"aria-describedby":h,disabled:g})]})})}},961675:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r,i=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=new Set;class s extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&(o=new Set(e))}hasHidden(e){return o.has(e)}getState(){return o}}a(s,"displayName","ForumChannelAdminOnboardingGuideStore"),a(s,"persistKey","ForumChannelAdminOnboardingGuideStore");let c=new s(l.Z,{ADMIN_ONBOARDING_GUIDE_HIDE:function(e){let{channelId:t,hide:n}=e;n?o.add(t):o.delete(t)}})},257511:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(479099),o=n(118041);function s(e){let{appliedTags:t,setAppliedTags:n,wrap:i}=e,s=null!=n?e=>{t.has(e)&&(t.delete(e),n(new Set(t)))}:void 0;return(0,r.jsx)("div",{className:l()(o.tags,{[o.wrap]:i}),children:Array.from(t).map(e=>(0,r.jsx)(a.Z,{tag:e,onRemove:s,size:null==s?a.Z.Sizes.SMALL:a.Z.Sizes.MEDIUM},e.id))})}},432771:function(e,t,n){n.d(t,{c:()=>a});var r=n(913527),i=n.n(r),l=n(709054);let a=e=>{let t=l.default.extractTimestamp(e);return!i()().isBefore(i()(t).add(i().duration(15,"days")))}},62764:function(e,t,n){n.d(t,{Z:()=>V}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(433517),c=n(481060),u=n(904245),d=n(593472),p=n(393238),h=n(330726),f=n(48929),m=n(333535),g=n(566006),b=n(443877),_=n(60174),y=n(216337),C=n(920888),x=n(287151),v=n(501517),O=n(982168),j=n(216572),E=n(5101),S=n(817608),I=n(569471),P=n(346479),Z=n(592125),T=n(934415),N=n(572004),A=n(456269),w=n(109590),R=n(228392),M=n(981631),D=n(388032),L=n(764295),k=n(319720),U=n(214785),B=n(127947);function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function H(e){let{channel:t}=e,l=t.isArchivedThread(),a=(0,O.P0)(t),[o,u]=i.useState(!1),d=()=>{u(!0),v.Z.resolveFlag(t.id).then(()=>{u(!1)})};return a?(0,r.jsx)(c.zxk,{size:"sm",variant:"secondary",text:l?D.intl.string(L.default["2Y4vkp"]):D.intl.string(L.default.YIbR4u),onClick:()=>{!0===s.K.get(E.F)?d():(0,c.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,5101));return t=>{let{transitionState:n,onClose:i}=t;return(0,r.jsx)(e,{transitionState:n,onClose:i,handleResolveFlag:d})}})},loading:o,icon:c.dz2,disabled:l}):null}function V(e){let{postId:t,isFirstMessage:n,isLastItem:l=!1,parentChannelId:s}=e,{ref:v,width:O}=(0,p.ZP)(),[E,L]=i.useState(3),[V,z]=i.useState(!n),[W,q]=(0,h.Z)(!1,2e3),Y=(0,o.e7)([Z.Z],()=>Z.Z.getChannel(t),[t]),{firstMessage:K}=(0,w.cl)(Y),X=(0,o.e7)([I.Z],()=>I.Z.hasJoined(t)),{disableReactionUpdates:Q,disableReactionCreates:J,isLurking:$,isGuest:ee,isPendingMember:et}=(0,b.Z)(Y),en=(0,j.nw)(Y),er=(0,o.e7)([Z.Z],()=>Z.Z.getChannel(s)),ei=(0,A.Bs)(er),el=(0,o.e7)([f.Z],()=>f.Z.shouldDisplayPrompt(t)&&!0===n,[t,n]),ea=i.useCallback(e=>{let t=e[0];if(null!=t&&n){let e=t.intersectionRect,n=t.boundingClientRect;z((e.bottom-e.top)/(n.bottom-n.top)<1)}},[n]);i.useLayoutEffect(()=>{let e=v.current;if(null==e||!n)return;let t=new IntersectionObserver(ea,{threshold:1});return t.observe(e),()=>{t.disconnect()}});let[eo,es]=i.useState(!0);if(i.useEffect(()=>{null!=O&&(L(Math.floor((O-280)/58)),es(!1))},[O]),null==Y||null==K)return null;let ec=K.reactions.length>0,eu=()=>{X?P.Z.leaveThread(Y,"Forum Toolbar"):P.Z.joinThread(Y,"Forum Toolbar")},ed=()=>{(0,R.B)({postId:Y.id,location:{section:M.jXE.CHANNEL_HEADER}}),(0,N.JG)((0,T.EO)(Y,er),()=>q(!0))},ep=()=>{u.Z.jumpToMessage({channelId:Y.id,messageId:Y.id,flash:!0,jumpType:d.SR.INSTANT})},eh=X?c.dz2:c.Dkj;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(k.container,{[k.header]:V}),ref:v,children:[en?(0,r.jsx)("div",{className:k.reportedMessageActions,children:(0,r.jsx)(S.Z,{message:K,channel:Y})}):(0,r.jsxs)("div",{className:a()(k.reactButtons,{[k.loading]:eo}),children:[!ec&&!J&&null!=ei&&(0,r.jsx)("div",{className:B.reactions,children:(0,r.jsx)(x.le,{message:K,readOnly:!1,useChatFontScaling:!1,isLurking:$,isGuest:ee,isPendingMember:et,emoji:ei,type:g.O.NORMAL,hideCount:!0,count:0,me:!1,burst_count:0,me_burst:!1,emojiSize:"reaction"})}),(0,r.jsx)(C.Z,{message:K,channel:Y,disableReactionCreates:!0,disableReactionUpdates:Q,isLurking:$,isGuest:ee,isPendingMember:et,maxReactions:E,className:k.reactions,useChatFontScaling:!1,isForumToolbar:!0,forceHideReactionCreates:!0}),!J&&(0,r.jsx)(_.X,{type:g.O.NORMAL,message:K,channel:Y,useChatFontScaling:!1,className:a()(U.secondary,k.addReactButton,{[k.hasNoReactions]:!ec}),isForumToolbar:!0,children:!ec&&D.intl.string(D.t.xpOyTE)})]}),(0,r.jsxs)("div",{className:k.buttons,children:[en?(0,r.jsx)(H,{channel:Y}):(0,r.jsx)(c.ua7,{text:D.intl.string(D.t.F7oeDg),children:e=>(0,r.jsx)(c.zxk,G(F({},e),{icon:eh,size:"sm",variant:"secondary",text:X?D.intl.string(D.t["7OkUzs"]):D.intl.string(D.t["3aOv+v"]),onClick:eu}))}),(0,r.jsx)(c.ua7,{text:D.intl.string(D.t.WqhZsr),children:e=>W?(0,r.jsx)(c.zxk,G(F({},e),{icon:c.dz2,size:"sm",variant:"secondary",onClick:ed,text:D.intl.string(D.t["t5VZ8/"])})):(0,r.jsx)(c.hU,G(F({},e),{icon:c.xPt,size:"sm",variant:"secondary",onClick:ed,"aria-label":D.intl.string(D.t.WqhZsr)}))}),!n&&(0,r.jsx)(c.ua7,{text:D.intl.string(D.t.nFP4oa),children:e=>(0,r.jsx)(c.hU,G(F({},e),{icon:c.Za2,size:"sm",variant:"secondary",onClick:ep,"aria-label":D.intl.string(D.t.nFP4oa)}))})]})]}),el&&(0,r.jsx)(m.Z,{threadId:t}),(0,r.jsx)(y.Z,{channel:Y,isLastItem:l})]})}},588322:function(e,t,n){n.d(t,{Z:()=>x});var r=n(951288),i=n(647438),l=n(442837),a=n(239091),o=n(561472),s=n(933557),c=n(287746),u=n(541716),d=n(665149),p=n(910611),h=n(703656),f=n(664342),m=n(592125),g=n(703558),b=n(430824),_=n(228392),y=n(388032),C=n(304247);function x(e){let{channelId:t}=e,x=(0,l.e7)([m.Z],()=>m.Z.getChannel(t)),v=(0,l.e7)([m.Z],()=>m.Z.getChannel(null==x?void 0:x.parent_id)),O=(0,l.e7)([b.Z],()=>b.Z.getGuild(null==x?void 0:x.getGuildId())),j=(0,s.ZP)(x),E=i.useRef(!1);if(i.useEffect(()=>{null==x||E.current||(E.current=!0,(0,_.lN)(x))},[x]),null==x||null==O)return null;let S=(0,r.jsx)(f.Z,{channel:x});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{channel:x,draftType:g.d.ChannelMessage}),(0,r.jsx)(d.ZP,{toolbar:S,"aria-label":y.intl.string(y.t.Pwe8tL),children:(0,p.ud)({channel:x,parentChannel:v,channelName:j,guild:O,inSidebar:!0,handleContextMenu:function(e){(0,a.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={channel:x},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})},handleClick:function(){null!=x&&(0,h.XU)(x.guild_id,x.id)}})}),(0,r.jsx)("div",{className:C.chat,children:(0,r.jsx)(c.Z,{channel:x,guild:O,chatInputType:u.Ie.SIDEBAR},t)})]})}},257115:function(e,t,n){n.d(t,{Z:()=>l});var r=n(927923),i=n(388032);function l(e){switch(e){case r.YE.XBOX:return i.intl.string(i.t.T0uYKy);case r.YE.PLAYSTATION:return i.intl.string(i.t.FWAzS0)}}},429090:function(e,t,n){n.d(t,{a:()=>l});var r=n(203311);let i=(0,n(818083).B)({kind:"user",id:"2025-04_gdm_born_this_named",label:"GDM Born This Named",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function l(e,t){var n,l,a,o;let s=(0,r.Ig)(e),{enabled:c}=i.useExperiment({location:e},(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),o=o={disable:s||null!=(n=null==t?void 0:t.disable)&&n,autoTrackExposure:null==(l=null==t?void 0:t.autoTrackExposure)||l},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}),a));return c}},912114:function(e,t,n){n.d(t,{B:()=>j,default:()=>E}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(82659),c=n(481060),u=n(493683),d=n(493773),p=n(100527),h=n(906732),f=n(43267),m=n(933557),g=n(592125),b=n(626135),_=n(140106),y=n(981631),C=n(388032),x=n(358993);function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e){let{channel:t,previewIcon:n,onIconChange:i,onIconRemove:l,analyticsLocations:o,petite:s=!1,className:u,allowRemovingIcon:d=!0}=e,m=void 0!==n?n:(null==t?void 0:t.icon)!=null?(0,f.x)(t,120):null,{analyticsLocations:g}=(0,h.ZP)(o,p.Z.GROUP_DM_ICON_EDITOR),b=s?32:64;return(0,r.jsxs)("div",{className:a()(x.iconSection,u),children:[(0,r.jsxs)(c.P3F,{className:a()(x.iconContainer,{[x.petite]:s}),"aria-label":C.intl.string(C.t["0qPSMT"]),onClick:()=>(0,_.ND)(i,g),children:[null!=m?(0,r.jsx)("img",{src:m,alt:"",className:x.iconImage}):(0,r.jsx)("div",{className:x.iconPlaceholder,children:(0,r.jsx)(c.BFJ,{size:"custom",width:b,height:b,color:"currentColor"})}),(0,r.jsx)("div",{className:x.pencilIconWrapper,children:(0,r.jsx)(c.vdY,{color:"currentColor",size:s?"xs":"refresh_sm"})})]}),null!=m&&d?(0,r.jsx)(c.Avr,{variant:"critical",onClick:l,"aria-label":C.intl.string(C.t["uY+Nk5"]),text:C.intl.string(C.t["uY+Nk5"]),textVariant:"text-sm/medium",size:"sm",role:"button",type:"button"}):null]})}let E=function(e){let{channelId:t,onClose:n,transitionState:l,setHasPendingChanges:a,closeOrShowDiscardChangesAlert:f,location:E}=e,S=(0,o.e7)([g.Z],()=>g.Z.getChannel(t)),I=null==S?void 0:S.name,P=(0,m.cO)(S),[Z,T]=i.useState(null!=I?I:""),[N,A]=i.useState(void 0),w=void 0!==N,{analyticsLocations:R}=(0,h.ZP)(E,p.Z.GROUP_DM_EDIT_MODAL),M={channel_id:t,channel_type:null==S?void 0:S.type,location:E,location_stack:R,old_name_set:""!==I,old_icon_set:(null==S?void 0:S.icon)!=null};return(i.useEffect(()=>{a(Z!==I||w)},[Z,I,w,a]),(0,d.ZP)(()=>(b.default.track(y.rMx.GDM_EDIT_INTERACTED,O(v({},M),{action:"opened"})),()=>{b.default.track(y.rMx.GDM_EDIT_INTERACTED,O(v({},M),{action:"dismissed"}))})),null==S)?null:(0,r.jsx)(h.Gt,{value:R,children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault();let r=Z!==I,i=void 0!==N;if(b.default.track(y.rMx.GDM_EDIT_INTERACTED,O(v({},M),{action:"saved",new_name_set:""!==Z,new_icon_set:(i?N:null==S?void 0:S.icon)!=null,name_changed:r,icon_changed:i})),r||i){let e={};r&&(e.name=Z),i&&(e.icon=N),u.Z.updateChannel(t,e,E).catch(_.g6)}n()},children:(0,r.jsx)(s.Modal,{title:C.intl.string(C.t["5Q9+/P"]),actions:[{text:C.intl.string(C.t["ETE/oK"]),variant:"secondary",onClick:f},{text:C.intl.string(C.t.R3BPHx),variant:"primary",type:"submit",disabled:Z===I&&!w}],onClose:()=>Promise.resolve(f()),transitionState:l,children:(0,r.jsxs)("div",{className:x.modalContent,children:[(0,r.jsx)(j,{channel:S,previewIcon:N,onIconChange:e=>A(e.imageUri),onIconRemove:()=>A(null),analyticsLocations:R}),(0,r.jsx)(c.oil,{"aria-label":C.intl.string(C.t.GEGW3N),placeholder:null!=P?P:"",value:Z,onChange:T,autoFocus:!0})]})})})})}},187237:function(e,t,n){n.d(t,{v:()=>u});var r=n(951288),i=n(120356),l=n.n(i),a=n(481060),o=n(140106),s=n(388032),c=n(79556);function u(e){let{channel:t,children:n,className:i,editable:u,location:d}=e;return u?(0,r.jsx)(a.ua7,{position:"bottom",text:s.intl.string(s.t["0qPSMT"]),children:e=>{var s,u;return(0,r.jsxs)(a.P3F,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),u=u={className:l()(c.editableGdmIcon,i),onClick:()=>(0,o.P5)(t.id,d),children:[n,(0,r.jsx)("div",{className:c.editableGdmIconIndicator,children:(0,r.jsx)(a.vdY,{size:"xs",color:"currentColor"})})]},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(u)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(u,e))}),s))}}):(0,r.jsx)("div",{className:i,children:n})}},140106:function(e,t,n){n.d(t,{ND:()=>p,P5:()=>h,g6:()=>f});var r=n(951288);n(647438);var i=n(347715),l=n(481060),a=n(668781),o=n(493683),s=n(100527),c=n(346486),u=n(486324),d=n(388032);let p=(e,t)=>(0,l.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("91689"),n.e("89289"),n.e("53488")]).then(n.bind(n,28130));return n=>(0,r.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({maxFileSizeBytes:8388608,onComplete:e,uploadType:u.pC.AVATAR,showUpsellHeader:!1,modalTitle:d.intl.string(d.t["6yrpFR"]),analyticsLocation:s.Z.GROUP_DM_ICON_EDITOR,analyticsLocations:t,allowRecentAvatarsSelection:!1},n))}),h=(e,t)=>{p(n=>{o.Z.setIcon(e,n.imageUri,t).catch(f)},[t])},f=e=>{var t;if((null==e||null==(t=e.body)?void 0:t.retry_after)!=null){let t=(0,i.Z)(new Date,e.body.retry_after);a.Z.show({title:d.intl.string(d.t["Whhv4+"]),body:d.intl.format(d.t.VIJkAw,{duration:(0,r.jsx)(c.Z,{showUnits:!0,deadline:t})})})}}},440493:function(e,t,n){n.d(t,{r:()=>i});var r,i=((r={}).REAL_NAME_PROMPT="REAL_NAME_PROMPT",r)},445384:function(e,t,n){n.d(t,{Z:()=>i});var r=n(570140);let i={viewPrompt:function(e,t){r.Z.wait(()=>{r.Z.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})})}}},420438:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r,i=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={};class s extends(r=i.ZP.PersistedStore){initialize(e){for(let t in e){let n=e[t];o[t]=new Set(n)}}hasViewedPrompt(e,t){let n=o[t];return null!=n&&!!n.has(e)}getState(){return o}}a(s,"displayName","GuildPromptsStore"),a(s,"persistKey","GuildPromptsStore");let c=new s(l.Z,{GUILD_PROMPT_VIEWED:function(e){let{prompt:t,guildId:n}=e,r=o[n];return null==r?(o[n]=new Set,o[n].add(t),!0):!r.has(t)&&(r.add(t),!0)},GUILD_DELETE:function(e){let{guild:t}=e;return null!=o[t.id]&&!t.unavailable&&(delete o[t.id],!0)}})},858822:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(913527),l=n.n(i),a=n(442837),o=n(481060),s=n(87051),c=n(776568),u=n(777861),d=n(9156),p=n(621600),h=n(388032);function f(e,t){let n=null==e?void 0:e.id,{muted:i,muteConfig:f}=(0,a.cj)([d.ZP],()=>({muted:null!=n?d.ZP.isMuted(n):void 0,muteConfig:null!=n?d.ZP.getMuteConfig(n):void 0}),[n]),m=(0,u.U)(f);return null==n?null:i?(0,r.jsx)(o.sNh,{id:"unmute-guild",label:h.intl.string(h.t.De0BTE),subtext:m,action:()=>s.Z.updateGuildNotificationSettings(n,{muted:!1},p.ZB.Unmuted)}):(0,r.jsx)(o.sNh,{id:"mute-guild",label:h.intl.string(h.t.vRzp7O),action:()=>s.Z.updateGuildNotificationSettings(n,{muted:!0},p.ZB.Muted),children:(0,c.k)().map(e=>{let{value:i,label:a}=e;return(0,r.jsx)(o.sNh,{id:"".concat(i),label:a,action:()=>(function(e){if(null==n)return;let r=e>0?l()().add(e,"second").toISOString():null;s.Z.updateGuildNotificationSettings(n,{muted:!0,mute_config:{selected_time_window:e,end_time:r}},p.ZB.Muted,t)})(i)},i)})})}},232961:function(e,t,n){n.d(t,{I:()=>i});var r=n(570140);function i(e){r.Z.dispatch({type:"REMOVE_AUTOMOD_MESSAGE_NOTICE",messageId:e})}},521476:function(e,t,n){n.d(t,{h:()=>x}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(100527),o=n(906732),s=n(545594),c=n(300284),u=n(314897),d=n(271383),p=n(715903),h=n(295474),f=n(981631),m=n(372897),g=n(526761),b=n(388032),_=n(216390);function y(e){var t;let{guild:n}=e,i=(0,c.Z)({scrollPosition:g.Y_.GUILD_TAG});return(0,r.jsx)("div",{children:(0,r.jsx)(s.i,{bannerIcon:(0,r.jsx)(l.ics,{size:"lg",color:"currentColor",className:_.bannerIcon}),bannerHeader:b.intl.format(b.t.GgMwjo,{guildName:null!=(t=null==n?void 0:n.name)?t:""}),bannerSubtext:b.intl.string(b.t.ONjwDw),textStyles:_.bannerContainer,headerStyles:_.bannerHeader,children:(0,r.jsx)(l.zxk,{variant:"primary",size:"sm",text:b.intl.string(b.t.Viksoq),onClick:()=>i()})})})}function C(e){var t,n;let{guild:i}=e,{analyticsLocations:c}=(0,o.ZP)(a.Z.AUTOMOD_PROFILE_QUARANTINE_ALERT),[u,d]=(0,h.ww)({guildId:null!=(t=null==i?void 0:i.id)?t:f.lds,analyticsLocations:c,openWithoutBackstack:!0}),p=d?b.intl.string(b.t["9ph2v7"]):b.intl.string(b.t.ldh9Cg),m=d?b.intl.string(b.t["/PGQf3"]):b.intl.string(b.t.WikgZ2);return(0,r.jsx)("div",{children:(0,r.jsx)(s.i,{bannerIcon:(0,r.jsx)(l.ics,{size:"lg",color:"currentColor",className:_.bannerIcon}),bannerHeader:b.intl.format(b.t.kcYdTk,{guildName:null!=(n=null==i?void 0:i.name)?n:""}),bannerSubtext:p,textStyles:_.bannerContainer,headerStyles:_.bannerHeader,children:(0,r.jsx)(l.zxk,{variant:"primary",size:"sm",text:m,onClick:()=>{u()}})})})}function x(e){let{guild:t}=e,n=(0,i.e7)([u.default,d.ZP],()=>{if(null==t)return new Set;let e=u.default.getId();return(0,p.no)(d.ZP.getMember(t.id,e))},[t]);return n.has(m.q.AUTOMOD_QUARANTINED_USERNAME_OR_GUILD_NICKNAME)||n.has(m.q.AUTOMOD_QUARANTINED_BIO)?(0,r.jsx)(C,{guild:t}):n.has(m.q.AUTOMOD_QUARANTINED_SERVER_TAG)?(0,r.jsx)(y,{guild:t}):(0,r.jsx)(C,{guild:t})}},322937:function(e,t,n){n.d(t,{$:()=>a});var r=n(647438),i=n(774078),l=n(202107);function a(e){let{communicationDisabledUntil:t,userId:n,guildId:a}=null!=e?e:{},o=(0,i.Z)(null!=t?Date.parse(t):Date.now()),s=o.seconds,c=(0,r.useRef)(null);return(0,r.useEffect)(()=>null==e||null==a||null==n?void clearTimeout(c.current):(s<=0&&null==c.current&&(c.current=setTimeout(()=>{l.Z.clearGuildMemberTimeout(a,n)},1e3)),()=>{null!=c.current&&(clearTimeout(c.current),c.current=null)}),[a,n,s,t,e]),o}},185145:function(e,t,n){n.d(t,{T:()=>g}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(346486),o=n(545594),s=n(314897),c=n(271383),u=n(322937),d=n(134049),p=n(893732),h=n(590433),f=n(388032),m=n(105095);function g(e){let{guild:t,disabledUntil:n}=e,[g,b]=(0,d.i)(t.id),_=(0,i.e7)([c.ZP,s.default],()=>c.ZP.getMember(t.id,s.default.getId()),[t.id]);return(0,u.$)(_),(0,r.jsxs)("div",{children:[g?(0,r.jsx)(p.Z,{onClose:()=>b(t.id),guildName:t.name}):null,(0,r.jsx)(o.i,{bannerIcon:(0,r.jsx)(l.YlB,{size:"md",color:"currentColor",className:m.bannerIcon}),bannerHeader:f.intl.string(f.t["9UoK6e"]),bannerSubtext:f.intl.format(f.t["4ZwD5O"],{link:h.cu}),textStyles:m.bannerContainer,headerStyles:m.bannerHeader,children:(0,r.jsx)(l.Text,{variant:"text-sm/semibold",children:(0,r.jsx)(a.Z,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0})})})]})}},893732:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(388032),a=n(771371);function o(e){let{onClose:t,guildName:n}=e;return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsx)("div",{className:a.iconContainer,children:(0,r.jsx)(i.YlB,{size:"custom",color:"currentColor",className:a.icon,width:20,height:20})}),(0,r.jsxs)("div",{className:a.header,children:[(0,r.jsx)(i.X6q,{variant:"heading-md/semibold",className:a.headerText,children:l.intl.string(l.t.LIIyeH)}),(0,r.jsx)(i.Text,{variant:"text-sm/normal",children:l.intl.format(l.t["4/6vQk"],{guildName:n})}),(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:a.button,children:(0,r.jsx)(i.zxk,{variant:"primary",text:l.intl.string(l.t.BddRzc),onClick:t})})]})]})}},270801:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(257465),l=n(369585),a=n(103866),o=n(481060),s=n(313201),c=n(388032),u=n(881053);let d=()=>n.e("49812").then(n.t.bind(n,48603,19)).then(e=>{let{default:t}=e;return t}),p=e=>{var t,n;let p=(0,s.Dt)();return(0,r.jsxs)(i.I,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={size:"sm",children:[(0,r.jsx)("div",{className:u.animationContainer,children:(0,r.jsx)(o.Fmz,{importData:d,className:u.animationMiddle})}),(0,r.jsx)(a.f,{children:(0,r.jsxs)("div",{className:u.manaContainer,children:[(0,r.jsx)(o.X6q,{variant:"heading-lg/semibold",className:u.header,id:p,children:c.intl.format(c.t.z9qozM,{guildName:e.guildName})}),(0,r.jsx)(o.Text,{variant:"text-sm/medium",color:"header-secondary",children:c.intl.string(c.t.nwpqyc)})]})}),(0,r.jsx)(l.G,{actions:[{variant:"primary",onClick:()=>{e.onAccept(),e.onClose()},text:c.intl.string(c.t.NuzmOD)}],actionsFullWidth:!0})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},705563:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(665149),o=n(892001),s=n(650774),c=n(430824),u=n(496675),d=n(709054),p=n(826581),h=n(246364),f=n(360328),m=n(981631),g=n(388032),b=n(482722);function _(e){let{channelId:t,showProfile:n=!1,showTrailingDivider:_=!1}=e,y=d.default.cast(t),{joinRequest:C,isModmin:x,guildId:v,maxMembers:O}=(0,i.cj)([p.Z,c.Z,u.Z],()=>{let e=p.Z.getRequest(y),t=c.Z.getGuild(null==e?void 0:e.guildId);return{joinRequest:e,isModmin:null!=t&&u.Z.can(m.Plq.KICK_MEMBERS,t),guildId:null==t?void 0:t.id,maxMembers:null==t?void 0:t.maxMembers}}),j=(0,i.e7)([s.Z],()=>null!=v?s.Z.getMemberCount(v):0),E=null!=O&&(null!=j?j:0)>=O,{approveRequest:S,rejectRequest:I,submitting:P}=(0,f.s)(null==C?void 0:C.guildId,null==C?void 0:C.userId,null==C?void 0:C.joinRequestId);return null!=C&&C.applicationStatus===h.wB.SUBMITTED&&x?(0,r.jsxs)("div",{className:b.buttons,children:[(0,r.jsx)(l.ua7,{text:g.intl.string(g.t.cdPGbG),shouldShow:E,children:e=>{var t,n;return(0,r.jsx)(l.zxk,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({variant:"active",size:"sm",text:g.intl.string(g.t.BzjDQE)},e),n=n={loading:P,onClick:S,disabled:E},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}}),(0,r.jsx)(l.zxk,{variant:"critical-primary",size:"sm",text:g.intl.string(g.t.hDtbs7),onClick:I,disabled:P||C.applicationStatus!==h.wB.SUBMITTED}),n&&(0,r.jsx)(l.zxk,{onClick:()=>{(0,o.openUserProfileModal)({userId:C.userId,guildId:C.guildId})},variant:"secondary",size:"sm",text:g.intl.string(g.t.iXAna2)}),_&&(0,r.jsx)(a.ZP.Divider,{})]}):null}},360328:function(e,t,n){n.d(t,{s:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(287734),s=n(592125),c=n(693546),u=n(246364),d=n(388032);function p(e,t,p,h){let[f,m]=i.useState(!1),g=(0,l.e7)([s.Z],()=>s.Z.getChannel(h)),b=i.useCallback(()=>{(0,a.showToast)((0,a.createToast)(d.intl.string(d.t.R0RpRU),a.ToastType.FAILURE))},[]),_=i.useCallback(async()=>{if(!f&&null!=e&&null!=t&&null!=p){if(null!=g)return void o.default.selectPrivateChannel(g.id);if(!f){m(!0);try{await c.Z.createOrEnterJoinRequestInterview(p)}catch(e){b()}finally{m(!1)}}}},[e,p,g,b,f,t]);return{approveRequest:async()=>{if(!f&&null!=e&&null!=t&&null!=p){m(!0);try{await c.Z.updateGuildJoinRequest(e,t,p,u.wB.APPROVED)}catch(e){b()}finally{m(!1)}}},rejectRequest:()=>{null!=e&&null!=t&&null!=p&&(0,a.ZDy)(async()=>{let{default:i}=await n.e("56496").then(n.bind(n,113886));return n=>(0,r.jsx)(i,{modalProps:n,guildId:e,userId:t,guildJoinRequestId:p,onError:b})})},submitting:f,handleOpenInterview:_}}},637271:function(e,t,n){n.d(t,{Z:()=>p});var r,i=n(442837),l=n(570140),a=n(592125),o=n(176505);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},u={};class d extends(r=i.ZP.PersistedStore){initialize(e){var t;c=null!=(t=null==e?void 0:e.selectedResourceChannelIdByGuildId)?t:{}}getState(){return{selectedResourceChannelIdByGuildId:c}}getSelectedResourceChannelId(e){return null==e?null:c[e]}getHomeNavigationChannelId(e){var t;return null==e?null:null!=(t=c[e])?t:u[e]}}s(d,"displayName","GuildOnboardingHomeNavigationStore"),s(d,"persistKey","GuildOnboardingHomeNavigationStore");let p=new d(l.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(null==n||t===o.oC.GUILD_HOME)return;let r=a.Z.getChannel(t),i=c[n],l=u[n];(null==r?void 0:r.isThread())&&(null==r?void 0:r.parent_id)!=null&&[l,i].includes(null==r?void 0:r.parent_id)||(t!==i&&delete c[n],t!==l&&delete u[n])},SELECT_HOME_RESOURCE_CHANNEL:function(e){let{channelId:t,guildId:n}=e;null==t?delete u[n]:c[n]=t,delete u[n]},SELECT_NEW_MEMBER_ACTION_CHANNEL:function(e){let{channelId:t,guildId:n}=e;delete c[n],u[n]=t}})},736052:function(e,t,n){n.d(t,{Z:()=>u}),n(997841);var r=n(399606),i=n(592125),l=n(630388),a=n(637271),o=n(931261),s=n(981631),c=n(176505);function u(e){let t=(0,r.e7)([i.Z,a.Z],()=>{let t=i.Z.getChannel(e);if(null!=t&&(0,l.yE)(t.flags,c.zZ.IS_GUILD_RESOURCE_CHANNEL)&&a.Z.getSelectedResourceChannelId(null==t?void 0:t.guild_id)===t.id)return t.guild_id}),n=(0,o.g)(null!=t?t:s.lds);return null!=t&&n}},231873:function(e,t,n){n.d(t,{Ft:()=>s,Rg:()=>a,j7:()=>o});var r,i,l,a=12633==n.j?((r={}).INVITE="member_joined",r.CHANNEL="create_channel",r.AVATAR="avatar",r.MESSAGE="send_message",r.COMPLETED="completed",r.DISMISSED="dismissed",r):null,o=((i={}).PERSONALIZE_SERVER="Personalize Server",i.INVITE="Invite Friends",i.CREATE_CHANNEL="Create Channel",i.SEND_MESSAGE="Send Message",i.DOWNLOAD="Download",i.ADD_APP="Add App",i.DISMISS_GUILD_PROGRESS="Dismiss Guild Progress",i.DISCORD_OVERVIEW_VIDEO="Discord Overview Video",i.JOIN_GUILD="Join Guild",i.CONTACT_SYNC="Sync Contacts",i.DISMISS="Dismiss",i),s=((l={}).CHANNEL_WELCOME="Channel Welcome CTA",l.GUILD_PROGRESS="Guild Progress",l.HUB_PROGRESS="Hub Progress",l)},644914:function(e,t,n){n.d(t,{TE:()=>y,h_:()=>C}),n(388685);var r=n(647438),i=n(392711),l=n.n(i),a=n(442837),o=n(159300),s=n(901461),c=n(314897),u=n(592125),d=n(984933),p=n(650774),h=n(430824),f=n(819640),m=n(375954),g=n(496675),b=n(709054),_=n(981631);function y(e,t){return(0,a.cj)([g.Z],()=>({canInvite:(0,o.b)(g.Z,t,e),canManageGuild:null!=t&&g.Z.can(_.Plq.MANAGE_GUILD,t),canMessage:null!=e&&g.Z.can(_.Plq.SEND_MESSAGES,e),canCreateChannel:null!=t&&g.Z.can(_.Plq.MANAGE_CHANNELS,t)}),[t,e])}function C(e){return{guildPopulated:function(e){let t=(0,a.e7)([u.Z],()=>u.Z.getChannel(null==e?void 0:e.systemChannelId)),n=(0,a.Wu)([m.Z],()=>null!=t?m.Z.getMessages(t.id).toArray():[]);return(0,a.e7)([p.Z],()=>{var t;let r=null!=(t=p.Z.getMemberCount(null==e?void 0:e.id))?t:0,i=n.some(e=>e.type===_.uaV.USER_JOIN);return r>1||i},[e,n])}(e),guildMessaged:function(e){let t=(0,a.e7)([u.Z],()=>null!=e?u.Z.getMutableBasicGuildChannelsForGuild(e.id):null);var n=r.useMemo(()=>null==t?[]:l().values(t),[t]);let i=(0,a.e7)([c.default],()=>c.default.getId());return(0,a.e7)([m.Z],()=>l().some(n,e=>{let t=m.Z.getMessages(e.id).toArray();return l().some(t,e=>e.author.id===i&&!(0,s.Z)(e))}))}(e),guildPersonalized:function(e){let t=(0,a.e7)([f.Z],()=>f.Z.hasLayers()),n=(0,a.e7)([h.Z],()=>h.Z.getGuild(null==e?void 0:e.id));return(null==n?void 0:n.icon)!=null&&!t}(e),guildChannelCreated:(0,a.e7)([d.ZP],()=>{let t=d.ZP.getChannels(null==e?void 0:e.id),n=t[d.Zb];function r(t){return null!=e&&b.default.extractTimestamp(t.channel.id)-b.default.extractTimestamp(e.id)>500}return t[d.sH].some(r)||n.some(r)},[e])}}},406074:function(e,t,n){n.d(t,{C:()=>p});var r=n(442837),i=n(160404),l=n(345162),a=n(592125),o=n(485386),s=n(430824),c=n(584825),u=n(790285),d=n(981631);function p(e){let{guildId:t,channelId:n}=e,p=(0,c.qi)(t);return(0,r.Wu)([a.Z,s.Z,i.Z],()=>{let e=a.Z.getChannel(n),r=s.Z.getGuild(t),c=i.Z.isViewingServerShop(t);return null!=r&&null!=e?p.filter(t=>(function(e,t,n){let{isPreviewingRoles:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(r||e.published))return!1;let i=n.permissionOverwrites[e.role_id];if((0,u.TG)(n,i))return!0;let a=o.Z.getEveryoneRole(t),s=null!=a&&!(0,l.Fs)(a,d.Plq.VIEW_CHANNEL),c=(0,u.wB)(n,n.permissionOverwrites[t.id]),p=o.Z.getRole(t.id,e.role_id);return s&&!c&&null!=p&&(0,u.yt)(p)&&!(0,u.wB)(n,i)})(t,r,e,{isPreviewingRoles:c})):[]},[t,n,p])}},660196:function(e,t,n){n.d(t,{Z:()=>h});var r=n(647438),i=n(442837),l=n(367907),a=n(906732),o=n(703656),s=n(626135),c=n(730647),u=n(289393),d=n(934826),p=n(981631);function h(e){var t;let{guildId:n,groupListingId:h,location:f,relevantSubscriptionListingIds:m}=e,g=(0,c.f)("useTrackRoleSubscriptionUpsellAnalytics"),{activeSubscription:b}=(0,d.Z)(h),_=null!=b,y=(0,i.Wu)([u.Z],()=>(null!=m?m:[]).filter(e=>{var t;return(null==(t=u.Z.getSubscriptionListing(e))?void 0:t.published)===!0}),[m]),{analyticsLocations:C}=(0,a.ZP)(null!=(t=(0,o.DR)())?t:[]),x=r.useRef(!1);r.useEffect(()=>{g&&null!=h&&null!=y&&!x.current&&(x.current=!0,s.default.track(p.rMx.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({role_subscription_group_listing_id:h,role_subscription_listing_ids:y,is_premium_member:_,location_stack:C,location:f},(0,l.hH)(n))))},[n,h,g,f,y,_,C])}},826763:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),l=n(434404),a=n(962086),o=n(303737),s=n(981631),c=n(388032),u=n(941057),d=n(497224);function p(e){let{guildId:t}=e;return(0,r.jsx)("div",{className:u.upsellPage,children:(0,r.jsxs)("div",{className:u.upsellContainer,children:[(0,r.jsx)("img",{src:d,alt:""}),(0,r.jsxs)("div",{className:u.upsellContent,children:[(0,r.jsx)(i.X6q,{variant:"heading-xl/semibold",children:c.intl.string(c.t["8gJGPj"])}),(0,r.jsx)(i.Text,{variant:"text-sm/normal",className:u.bodyText,children:c.intl.string(c.t.GpOWIi)}),(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:u.__invalid_button,children:(0,r.jsx)(i.zxk,{variant:"primary",text:c.intl.string(c.t["I/XhUl"]),onClick:()=>{(0,a.mL)(t),l.Z.open(t,s.pNK.ROLE_SUBSCRIPTIONS,void 0,s.KsC.ROLE_SUBSCRIPTION_TIERS),(0,o.GN)(t)}})})]})]})})}},470134:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(923726),c=n(388032),u=n(642175);function d(e){let{text:t,hasScrolled:n}=e;return(0,r.jsxs)("div",{className:a()(u.container,{[u.containerHide]:n}),children:[(0,r.jsx)("div",{className:u.notice,children:(0,r.jsx)(o.Text,{className:u.__invalid_label,variant:"text-md/medium",color:"header-primary",children:t})}),(0,r.jsx)("div",{className:u.noticeArrow})]})}function p(e){let[t,n]=i.useState(),[l,a]=i.useState(),[o,u]=i.useState(!1),[p,h]=i.useState(!1),{enabled:f}=(0,s.s1)(e);return i.useEffect(()=>{f&&null!=t&&null!=l?u(t<l):u(!1)},[f,t,l]),{horizontalScrollNotice:i.useMemo(()=>o?(0,r.jsx)(d,{text:c.intl.string(c.t.RfAAHx),hasScrolled:p}):null,[o,p]),handleScroll:()=>h(!0),handleSetScrollerRef:e=>{var t;return a(null==e||null==(t=e.getScrollerState())?void 0:t.scrollWidth)},handleSetContainerRef:e=>n(null==e?void 0:e.clientWidth)}}},36246:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(873546),o=n(481060),s=n(470134),c=n(245702);function u(e){let{guildId:t,children:n,className:i}=e,{horizontalScrollNotice:u,handleScroll:d,handleSetScrollerRef:p,handleSetContainerRef:h}=(0,s.Z)(t),f=(0,r.jsx)("div",{className:c.tierPreviewsContainer,children:(0,r.jsx)("div",{className:l()(c.tierPreviews,i),children:n})});return a.tq||(f=(0,r.jsxs)(r.Fragment,{children:[u,(0,r.jsx)(o.Den,{className:c.scroller,orientation:"horizontal",ref:p,onScroll:d,children:f})]})),(0,r.jsx)("div",{className:c.carouselMaxWidth,ref:h,children:f})}},180216:function(e,t,n){n.d(t,{Z:()=>b}),n(388685),n(953529);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(592125),s=n(430824),c=n(584825),u=n(406074),d=n(660196),p=n(36246),h=n(305342),f=n(981631),m=n(388032),g=n(200813);function b(e){let{guildId:t,channelId:n}=e,b=(0,u.C)({guildId:t,channelId:n}),_=(0,c.GG)(t),y=(0,c.YB)(t),C=(0,l.e7)([s.Z],()=>s.Z.getGuild(t),[t]),x=null==C?void 0:C.name,v=(0,l.e7)([o.Z],()=>o.Z.getChannel(n)),O=i.useMemo(()=>{let e={};for(let t of _)for(let n of t.subscription_listings_ids)e[n]=t.id;return e},[_]);return((0,d.Z)({guildId:t,location:f.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:b.map(e=>e.id)}),null==C)?(0,r.jsx)("div",{className:g.__invalid_spinnerContainer,children:(0,r.jsx)(a.$jN,{className:g.__invalid_spinner})}):(0,r.jsxs)(a.w0Z,{className:g.pageContainer,children:[(0,r.jsx)(a.X6q,{variant:"heading-xl/semibold",className:g.joinCtaTitle,children:m.intl.format(m.t.xHMpys,{serverName:x,channelName:null==v?void 0:v.name})}),(0,r.jsx)(a.Text,{className:g.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary",children:null==y?void 0:y.description}),(0,r.jsx)(p.Z,{guildId:t,children:b.filter(e=>null!=O[e.id]).map(e=>(0,r.jsx)(h.Z,{guildId:t,listingId:e.id,groupListingId:O[e.id],analyticsLocation:f.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id))})]})}},389303:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(314897),i=n(496675),l=n(938475),a=n(700785),o=n(924301),s=n(85243);function c(e){if(!e.isGuildVoice()||o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_ACTIVE(e.id)).length<1||!i.Z.can(s.AN,e))return!1;let t=new Set(l.ZP.getVoiceStatesForChannel(e).map(e=>e.user.id)),n=r.default.getId();for(let r of t)if(r!==n&&a.BT({permission:s.AN,user:r,context:e}))return!1;return!0}},95764:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(40851),s=n(357156),c=n(390322),u=n(88479),d=n(592125),p=n(15274),h=n(482241),f=n(389303),m=n(554747),g=n(388032);function b(e){let{channelId:t,onClick:n}=e,b=(0,o.bp)(),_=(0,m.qY)(t),y=(0,l.e7)([d.Z],()=>d.Z.getChannel(t),[t]),{canManageGuildEvent:C}=(0,s.XJ)(y),x=C(_),v=i.useRef(null);if(null==_)return null;let O=()=>{if(null!=y&&(0,f.Z)(y))return void(0,p.lC)(y,b);n()},j=()=>{h.Z.endEvent(_.id,_.guild_id)};return x?(0,r.jsx)(a.yRy,{targetElementRef:v,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(c.Z,{children:(0,r.jsx)(a.v2r,{navId:"exit-options",onSelect:()=>{},"aria-label":g.intl.string(g.t["K6/mk5"]),onClose:t,children:(0,r.jsx)(a.sNh,{id:"end-voice-event",color:"danger",action:j,label:g.intl.string(g.t.qaYzPD),icon:a.k$p})})})},align:"center",position:"top",animation:a.yRy.Animation.FADE,children:e=>{let{onClick:t}=e;return(0,r.jsx)(u.Z,{buttonRef:v,label:g.intl.string(g.t["6vrfgo"]),onClick:O,onPopoutClick:t})}}):(0,r.jsx)(u.Z,{label:g.intl.string(g.t["6vrfgo"]),onClick:n})}},334877:function(e,t,n){n.d(t,{l:()=>l});var r=n(879690),i=n(731965);let l=(0,r.U)(e=>({canCloseModal:!0,onUpdateCanCloseModal(t){(0,i.j)(()=>e({canCloseModal:t}))}}))},897669:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),l=n(665149),a=n(894017),o=n(79874),s=n(954313),c=n(390966),u=n(388032),d=n(719188);function p(e){let{guildEvent:t,recurrenceId:n}=e,p=(0,o.ZP)(t,n),h=(0,a.Z)(n,t.id);if(null==t)return null;let f=(null==t?void 0:t.scheduled_start_time)!=null?(0,s.lh)(h,p.startTime,new Date(null==t?void 0:t.scheduled_start_time)):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ZP.Divider,{className:d.divider}),(0,r.jsx)(c.z,{startTime:p.startTime.toISOString(),status:null!=f?f:t.status,liveText:u.intl.string(u.t.kM6e4O),className:d.eventSchedule,textVariant:"text-lg/semibold",eventType:t.entity_type,guildEventId:null==t?void 0:t.id,recurrenceId:n}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-md/normal",className:d.eventName,children:t.name})]})}},688641:function(e,t,n){n.d(t,{Z:()=>c}),n(953529);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(388032),s=n(367390);function c(e){let{className:t,iconContainerClassName:n,icon:i,title:c,description:u,userCount:d,onClick:p,highlight:h}=e;return(0,r.jsxs)(a.P3F,{className:l()(s.container,t,null!=h&&{[s.pulse]:h}),onClick:p,children:[(0,r.jsx)("div",{className:l()(s.icon,n),children:i}),(0,r.jsxs)("div",{className:s.textContainer,children:[(0,r.jsx)(a.X6q,{variant:"heading-md/semibold",color:"text-primary",children:c}),(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"text-primary",className:s.inline,children:u}),null!=d&&d>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"text-primary",className:s.dot,children:"•"}),(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"text-primary",className:s.inline,children:o.intl.format(o.t.NywdIi,{count:d})})]}):null]}),(0,r.jsx)(a.Fbu,{size:"xs",color:"currentColor",className:s.caret})]})}},596449:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(692547),l=n(481060),a=n(576749),o=n(688641),s=n(388032);function c(e){let{className:t,guildId:c}=e,u=(0,a.Z)();return(0,r.jsx)(o.Z,{className:t,icon:(0,r.jsx)(l.Que,{size:"custom",color:"currentColor",height:20,width:20}),color:i.Z.unsafe_rawColors.BRAND_500.css,title:s.intl.string(s.t["60lJ0N"]),description:s.intl.string(s.t["EYn7//"]),onClick:function(){(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("36599"),n.e("60962"),n.e("82758"),n.e("61"),n.e("69467")]).then(n.bind(n,779250));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={guildId:c},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},u)}})}},459502:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(442837),l=n(692547),a=n(481060),o=n(357156),s=n(592125),c=n(15274),u=n(924301),d=n(554747),p=n(954313),h=n(688641),f=n(388032),m=n(837815);function g(e){let{channelId:t}=e,g=(0,i.e7)([s.Z],()=>s.Z.getChannel(t),[t]),b=(0,d.sz)(t),_=null!=(0,d.qY)(t),{canManageGuildEvent:y}=(0,o.XJ)(g),C=(0,i.cj)([u.ZP],()=>b.reduce((e,t)=>(e[t.id]=u.ZP.getUserCount(t.id,(0,p.DK)(t)),e),{}));return b.length<1||_?null:(0,r.jsx)(r.Fragment,{children:b.map(e=>(0,r.jsx)(h.Z,{icon:(0,r.jsx)(a.Que,{size:"custom",color:"currentColor",height:20,width:20}),color:l.Z.unsafe_rawColors.GREEN_360.css,title:f.intl.formatToPlainString(y(e)?f.t["1vGXqK"]:f.t.xMJylZ,{eventName:e.name}),description:f.intl.formatToPlainString(f.t.PTebCQ,{startTime:(0,p.ub)(e.scheduled_start_time).startDateTimeString}),onClick:()=>{y(e)?(0,a.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("84722"),n.e("51885")]).then(n.bind(n,296864));return n=>{var i,l;return(0,r.jsx)(t,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={event:e},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}}):(0,c.bO)({eventId:e.id})},userCount:C[e.id],className:m.eventPrompt},e.id))})}},856691:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(692547),l=n(481060),a=n(40851),o=n(881824),s=n(688641),c=n(388032);function u(e){let{className:t,channel:n,highlight:u}=e,d=(0,a.bp)();return(0,r.jsx)(s.Z,{highlight:null!=u&&u,className:t,icon:(0,r.jsx)(l.ewx,{size:"custom",color:"currentColor",height:20,width:20}),color:i.Z.unsafe_rawColors.GREEN_360.css,title:c.intl.string(c.t.OYbHfn),description:c.intl.string(c.t.yXwLMT),onClick:function(){(0,o.T)(n,d)}})}},576749:function(e,t,n){n.d(t,{Z:()=>s});var r=n(481060),i=n(40851),l=n(334877),a=n(981631);let o="guild-event-modal",s=()=>{let e=(0,i.bp)()===a.IlC.POPOUT?r.u1M:r.z1l;return{modalKey:o,contextKey:e,onCloseRequest:()=>{l.l.getState().canCloseModal&&(0,r.Mr3)(o,e)}}}},262317:function(e,t,n){n.d(t,{XX:()=>k,ZP:()=>B,ul:()=>U}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(846519),s=n(481060),c=n(475179),u=n(239091),d=n(287734),p=n(872810),h=n(888651),f=n(622822),m=n(100527),g=n(795318),b=n(258609),_=n(257115),y=n(569545),C=n(102172),x=n(525925),v=n(701362),O=n(224184),j=n(821415),E=n(670188),S=n(597998),I=n(314897),P=n(430824),Z=n(496675),T=n(594174),N=n(979651),A=n(927923),w=n(70722),R=n(388032),M=n(92024);function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function k(e){let{numUsers:t}=e;return(0,r.jsx)("div",{className:M.moreContainer,children:(0,r.jsxs)(s.Text,{color:"text-muted",variant:"text-sm/medium",children:["+",t]})})}function U(e){let{numAudience:t,collapsed:n}=e,i=n?t:R.intl.formatToPlainString(R.t["+v2pNz"],{count:t});return(0,r.jsxs)("div",{className:a()(M.audienceContainer,{[M.audienceContainerCollapsed]:n}),children:[(0,r.jsx)("div",{className:M.audienceIconContainer,children:(0,r.jsx)(s.VWR,{size:"md",color:"currentColor",className:M.audienceIcon})}),(0,r.jsx)(s.Text,{color:"text-muted",variant:"text-sm/medium",children:i})]})}let B=(0,h.$)(function(e){var t;let{collapsed:l,user:h,channel:k,mute:U,localMute:B,localVideoDisabled:F,deaf:G,video:H,embeddedApplication:V,serverMute:z,serverDeaf:W,nick:q,ringing:Y,speaking:K,disconnected:X,connectUserDragSource:Q,canDrag:J,isStreaming:$,isWatching:ee,isGuest:et,priority:en,showPreview:er,hidePreview:ei,shouldShowHoverPopout:el,previewIsOpen:ea,otherClientSessionType:eo,voicePlatform:es,isSelfOnOtherClient:ec=!1,tabIndex:eu,location:ed,isSelf:ep,application:eh,hangStatusActivity:ef,requestToStreamActivity:em,showHangStatus:eg}=e,eb=i.useRef(null),[e_,ey]=i.useState(!1),[eC,ex]=i.useState(!1),ev=(null==em?void 0:em.session_id)!=null,eO=()=>{ey(!e_)},ej=()=>{($||eg||ev)&&(null==ei||ei(h.id))},eE=i.useMemo(()=>new o.sW(500,()=>{ex(!0)}),[]),eS=e=>{e&&ea?eE.delay():!e&&eE.isDelayed()&&eE.cancel()},eI=e=>{e&&(eE.cancel(),ex(!1))},eP=()=>{if(!($&&(0,C.p9)(k,N.Z,P.Z,Z.Z,b.Z)[0]))return;let e={streamType:w.lo.GUILD,ownerId:h.id,channelId:k.id,guildId:k.guild_id};I.default.getId()!==h.id&&d.default.selectVoiceChannel(k.id),ee?((0,x.Z)(e),c.Z.selectParticipant(e.channelId,(0,y.V9)(e))):(0,p.iV)(e),null==ei||ei(h.id)},eZ=e=>{(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,L(D({},t),{user:h,guildId:k.guild_id,channel:k,showMediaItems:!0,showStageChannelItems:k.isGuildStageVoice(),onInteraction:(0,g.u)("GuildChannelUserContextMenu",m.Z.VOICE_USER,{targetUserId:h.id})}))})},eT=()=>(0,r.jsx)(O.Z,{previewIsOpen:ea,channel:k,hangStatusActivity:ef,userId:h.id,targetElementRef:eb}),eN=()=>(0,r.jsx)(j.Z,{userId:h.id,channel:k}),eA=()=>(0,f.dl)()&&(0,f.zd)(k.id)?null:(0,r.jsx)(v.Z,{user:h,channel:k,onWatch:eP,previewIsOpen:ea,location:ed}),ew=(0,r.jsx)("div",{className:M.draggable,"data-dnd-name":k.name,onMouseEnter:ec?void 0:()=>{($||eg||ev)&&!e_&&(null==er||er(h.id))},onMouseLeave:ec?void 0:ej,children:(0,r.jsx)(E.Z,{clickTrap:(null==h?void 0:h.id)===(null==(t=T.default.getCurrentUser())?void 0:t.id)&&e_,targetElementRef:eb,user:h,guildId:k.guild_id,channelId:k.id,newAnalyticsLocations:[m.Z.VOICE_USER],shouldShow:e_,onRequestClose:()=>ey(!1),children:e=>(e=>{let t=A.al.has(null!=eo?eo:""),n={user:h,speaking:K,disconnected:X,mute:U,localMute:B,localVideoDisabled:F,isStreaming:$,isGuest:et,video:H,priority:en,ringing:Y,deaf:G,nick:q,collapsed:l,overlap:l,serverMute:z,serverDeaf:W,tabIndex:eu,otherClientSessionType:eo,voicePlatform:es,embeddedApplication:V,avatarContainerClass:a()({[M.userAvatar]:!0}),disabled:ec&&!t,selected:e_,onClick:t?void 0:eO,onDoubleClick:eP,onContextMenu:eZ,guildId:k.guild_id,isSelf:ep,application:eh,channelId:k.id,hangStatusActivity:ef,showHangStatus:eg};if(ec){var i;return(0,r.jsx)(s.ua7,{text:null!=(i=(0,_.Z)(eo))?i:R.intl.string(R.t.IyYqqa),children:e=>{var{onClick:t,onContextMenu:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick","onContextMenu"]);return(0,r.jsx)(S.ZP,D({ref:eb},n,l))}})}let o=()=>null;return eg&&eC?o=eT:$?o=eA:ev&&h.id!==I.default.getId()&&(o=eN),(0,r.jsx)(s.yRy,{targetElementRef:eb,position:"right",renderPopout:o,shouldShow:el&&!e_,onRequestClose:ej,spacing:0,children:()=>(0,r.jsx)(S.ZP,L(D({},n),{ref:eb,onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,handleHoverHangStatus:eS,handleHoverIcons:eI}))})})(e)})});return J?Q(ew):ew})},207055:function(e,t,n){n.d(t,{Z:()=>U}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(846519),c=n(586902),u=n(317381),d=n(728345),p=n(835473),h=n(358221),f=n(362721),m=n(574176),g=n(106301),b=n(882522),_=n(512384),y=n(763624),C=n(463421),x=n(470956),v=n(597998),O=n(199902),j=n(314897),E=n(271383),S=n(131951),I=n(496675),P=n(158776),Z=n(797258),T=n(606304),N=n(979651),A=n(51144),w=n(262317),R=n(981631),M=n(524484),D=n(541675);let L=i.memo(e=>{var t,n,i,l;let{mute:a,deaf:s,user:v,channel:I,sessionId:P,nick:D}=e,L=v.id,k=(0,o.e7)([j.default],()=>j.default.getId()===L,[L]),[U,B,F]=(0,o.Wu)([S.Z],()=>k?[!S.Z.isSupported()||S.Z.isSelfMute()||S.Z.isSelfMutedTemporarily(),S.Z.isSelfDeaf(),!1]:[!S.Z.isSupported()||S.Z.isLocalMute(L),!1,S.Z.isLocalVideoDisabled(L)],[k,L]),G=(0,o.e7)([T.Z],()=>T.Z.isPrioritySpeaker(L)),H=(0,c.Z)({userId:L,checkSoundSharing:!0}),V=(0,o.e7)([E.ZP],()=>E.ZP.isGuestOrLurker(I.guild_id,L)),z=(0,o.e7)([h.Z],()=>h.Z.getGuildRingingUsers(I.id).has(L)),W=(0,o.e7)([u.ZP],()=>u.ZP.getEmbeddedActivitiesForChannel(I.id).find(e=>{let{userIds:t}=e;return t.has(L)}),[L,I.id]),q=(0,p.Z)(null!=W?[W.applicationId]:[]),Y=(0,C.Z)(L,I.guild_id)[0],K=null!=(n=(0,d.IX)(null==Y?void 0:Y.application_id).data)?n:void 0,[X,Q]=(0,o.Wu)([O.Z],()=>[O.Z.getStreamForUser(L,I.getGuildId()),O.Z.getActiveStreamForUser(L,I.getGuildId())],[I,L]),J=(0,o.e7)([Z.Z],()=>Z.Z.getSessionById(P)),$=A.ZP.useName(v),ee=(0,o.e7)([N.Z],()=>N.Z.getVoicePlatformForChannel(I.id,L),[I.id,L]),{enableHangStatus:et}=m.n.useExperiment({guildId:I.guild_id,location:"VoiceUsers"}),en=(0,f.ZP)(I,!0,v),er=(0,o.e7)([g.Z],()=>k?g.Z.getHangStatusActivity():null,[k]),ei=(0,b.j)(L),el=(0,x.Eu)(I.id,L),{enableVCStatusIcons:ea,enableRequestToStream:eo}=y.A.useExperiment({guildId:I.guild_id,location:"VoiceUsers"});return(0,r.jsx)(_.Z,{shakeLocation:M.oZ.VOICE_USER,isShaking:H,children:(0,r.jsx)(w.ZP,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),l=l={nick:null!=D?D:$,canDrag:e.canDrag&&!V,disconnected:el,otherClientSessionType:null==J||null==(t=J.clientInfo)?void 0:t.os,voicePlatform:ee,localMute:U&&!k,localVideoDisabled:F,mute:a||U,deaf:s||B,speaking:H,ringing:z,priority:G,embeddedApplication:q[0],isStreaming:null!=X&&X.channelId===I.id,isWatching:null!=Q&&Q.state!==R.jm8.ENDED,isGuest:V,isSelf:k,requestToStreamActivity:eo?Y:void 0,application:ea&&(null==Y?void 0:Y.session_id)!=null?K:void 0,showHangStatus:en&&et&&(k||null!=ei),hangStatusActivity:k?er:ei},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))})});L.displayName="ConnectedVoiceUser";let k=[],U=function(e){let{allowPreviews:t=!0,allowDragging:n=!0,channel:l,voiceStates:c,collapsed:u,collapsedMax:d=6,tabIndex:f,location:m,numAudience:g,withGuildIcon:b=!1,className:_,children:y}=e,[C,O]=i.useState(null),[E,S]=i.useState(!1),Z=i.useRef(null),T=(0,x.Es)(l.id,null!=c?c:k),N=i.useRef(new s.sW(50,()=>{O(Z.current),Z.current=null})),A=i.useRef(new s.sW(175,()=>{O(null)})),M=i.useCallback(e=>{t&&(S(!0),A.current.cancel(),Z.current=e,N.current.delay())},[t]),U=i.useCallback(e=>{t&&(N.current.cancel(),C===e&&(S(!1),A.current.delay()))},[t,C]),B=(0,o.Wu)([P.Z],()=>{if(u)return[];let e=new Set;return null==T||T.forEach(t=>{let{user:n}=t;P.Z.getActivities(n.id,l.guild_id).forEach(t=>{null!=t.application_id&&e.add(t.application_id)})}),Array.from(e)});(0,p.Z)(B);let F=(()=>{if(null==T||0===T.length)return null;let e=u&&T.length>d+1?T.slice(0,d):T,t=h.Z.getGuildRingingUsers(l.id),i=e.map(e=>{var i;let{user:a,nick:o,voiceState:s}=e,c=t.has(a.id);return(0,r.jsx)(L,{user:a,nick:o,isSelfOnOtherClient:j.default.getId()===a.id&&s.sessionId!==j.default.getSessionId(),mute:s.isVoiceMuted(),deaf:s.isVoiceDeafened(),video:s.selfVideo,serverMute:s.mute,serverDeaf:s.deaf,sessionId:null!=(i=s.sessionId)?i:"",channel:l,collapsed:u,canDrag:n&&I.Z.can(R.Plq.MOVE_MEMBERS,l),showPreview:M,hidePreview:U,previewIsOpen:E,shouldShowHoverPopout:C===a.id,tabIndex:f,location:m},"voice-user-".concat(a.id,"-").concat(c))});return null!=g&&g>0?i.push((0,r.jsx)(w.ul,{collapsed:u,numAudience:g})):u&&T.length>d+1&&i.push((0,r.jsx)(w.XX,{numUsers:T.length-d})),i})();return null==F&&null==y?null:(0,r.jsxs)(v.eJ,{className:a()(_,D.list,{[D.collapsed]:u,[D.withGuildIcon]:b}),collapsed:u,children:[F,y]})}},224184:function(e,t,n){n.d(t,{Z:()=>I});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(399606),s=n(920155),c=n(481060),u=n(287734),d=n(654904),p=n(314897),h=n(271383),f=n(496675),m=n(19780),g=n(594174),b=n(626135),_=n(906605),y=n(574176),C=n(833858),x=n(866071),v=n(223135),O=n(625938),j=n(981631),E=n(388032),S=n(84709);let I=e=>{let{hangStatusActivity:t,userId:l,channel:I,previewIsOpen:P,targetElementRef:Z}=e,{enableHangStatus:T}=y.n.useExperiment({guildId:I.guild_id,location:"HangStatusPopout"}),N=(0,o.e7)([p.default],()=>p.default.getId()),A=(0,o.e7)([g.default],()=>g.default.getUser(l)),w=(0,o.e7)([m.Z],()=>m.Z.getChannelId()===I.id),R=(0,o.e7)([f.Z],()=>f.Z.can(j.Plq.CONNECT,I)),M=(null==t?void 0:t.emoji)==null||(0,x.K)(t.emoji,I),D=(0,o.e7)([h.ZP],()=>null!=I.guild_id&&null!=A?h.ZP.getMember(I.guild_id,l):null),L=i.useMemo(()=>null!=A?(0,d.SG)(void 0,D,A,{size:40}):void 0,[D,A]);return(i.useEffect(()=>{(0,_.UP)()},[]),i.useEffect(()=>{T&&null!=t&&P&&null!=A&&N!==l&&b.default.track(j.rMx.VIEW_HANG_STATUS,{source:"HangStatusPopout",guild_id:I.guild_id,channel_id:I.id})},[T,t,P,A,N,l,I]),T&&null!=A)?N===l?(0,r.jsx)("div",{className:a()(S.popoutWrapper,{[S.mounted]:P}),children:(0,r.jsx)(O.v,{currentStatus:t,channel:I})}):null==t?null:(0,r.jsxs)(s.m,{position:"right",targetElementRef:Z,children:[(0,r.jsxs)("div",{className:S.contentContainer,children:[(0,r.jsxs)("div",{className:S.statusGroup,children:[(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"text-muted",children:E.intl.string(E.t["74vS//"])}),(0,r.jsx)(c.Text,{variant:"text-sm/semibold",className:S.statusText,children:(0,C.O8)(t)})]}),(0,r.jsxs)("div",{className:S.iconGroup,children:[(0,r.jsx)(v.Z,{className:S.statusIcon,hangStatusActivity:t}),(0,r.jsxs)("div",{className:S.avatarWrapper,children:[(0,r.jsx)(c.qEK,{className:S.avatar,size:c.EFr.SIZE_40,src:L,"aria-hidden":!0}),(0,r.jsx)("div",{className:S.outline})]})]})]}),!w&&R?(0,r.jsx)(c.zxk,{size:"sm",text:E.intl.string(E.t["B/dHXF"]),onClick:()=>{!w&&R&&(u.default.selectVoiceChannel(I.id),b.default.track(j.rMx.HANG_STATUS_CTA_CLICKED,{source:"HangStatusPopout",guild_id:I.guild_id,channel_id:I.id}))}}):null,w&&M?(0,r.jsx)(c.zxk,{size:"sm",text:E.intl.string(E.t.xcVcFR),onClick:()=>{let e=t.state;e===j.tNA.CUSTOM?(0,c.ZDy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={startingText:t.details,startingEmoji:t.emoji},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}}):(0,_.Zx)(e,!0),b.default.track(j.rMx.SWIPE_HANG_STATUS,{guild_id:I.guild_id,channel_id:I.id,media_session_id:m.Z.getMediaSessionId()})}}):null]}):null}},625938:function(e,t,n){n.d(t,{v:()=>Z}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(704215),d=n(481060),p=n(584973),h=n(377171),f=n(243778),m=n(594174),g=n(768581),b=n(906605),_=n(106301),y=n(833858),C=n(866071),x=n(223135),v=n(981631),O=n(921944),j=n(231338),E=n(388032),S=n(805787);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let P=e=>{let{style:t,className:n,name:i,icon:l}=e;return(0,r.jsx)(d.ua7,{text:i,children:e=>{var i,o;return(0,r.jsx)("div",(i=I({className:a()(n,S.iconWidget),style:t},e),o=o={children:null!=l&&l},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))}),i))}})},Z=e=>{let{currentStatus:t,channel:l}=e,o=i.useRef(_.Z.getRecentCustomStatuses()),[Z,T]=i.useState(!1),N=(0,y.V)(),[A,w]=i.useState(null!=t?t:null),R=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),M=i.useMemo(()=>[],[]),D=i.useRef(null).current;i.useEffect(()=>(Z||M.push(u.z.HANG_STATUS_NEW_BADGE),()=>{Z&&(null==D||D(O.L.PRIMARY))}),[Z,M,D]);let L=i.useCallback(e=>{e.stopPropagation(),(0,b.Sc)(!0)},[]),k=e=>{e.stopPropagation(),(0,d.ZDy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return t=>(0,r.jsx)(e,I({},t))}),T(!0)},U=i.useCallback(e=>{w({type:v.IIU.HANG_STATUS,name:"Hang Status",state:e})},[]),B=i.useCallback(e=>{w({type:v.IIU.HANG_STATUS,name:"Hang Status",state:j.tN.CUSTOM,details:e.status,emoji:e.emoji})},[]);return(0,r.jsx)(f.ZP,{contentTypes:M,children:e=>{let{visibleContent:n,markAsDismissed:i}=e;return D=i,(0,r.jsxs)("div",{className:S.container,children:[n===u.z.HANG_STATUS_NEW_BADGE&&(0,r.jsxs)("div",{className:S.onboarding,children:[(0,r.jsxs)("div",{className:S.title,children:[(0,r.jsx)(d.Text,{variant:"text-md/semibold",color:"header-primary",children:E.intl.string(E.t["8ka8lp"])}),(0,r.jsx)(d.IGR,{text:E.intl.string(E.t.oW0eUV),color:h.Z.BG_BRAND})]}),(0,r.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",className:S.helpText,children:E.intl.string(E.t.GFo2Gh)}),(0,r.jsxs)("div",{className:S.iconGroup,children:[null!=R&&(0,r.jsxs)("div",{className:S.avatarWrapper,children:[(0,r.jsx)(d.qEK,{className:S.avatar,size:d.EFr.SIZE_40,src:(0,g.ov)(R),"aria-hidden":!0}),(0,r.jsx)("div",{className:S.outline})]}),(0,r.jsx)(x.Z,{className:S.statusIcon,hangStatusActivity:A})]})]}),(0,r.jsxs)("div",{className:S.options,children:[(0,r.jsxs)("div",{className:S.iconsContainer,children:[Object.entries(N).map(e=>{let[n,i]=e;return(0,r.jsx)(d.P3F,{"aria-label":i.title,onMouseEnter:()=>U(n),onClick:e=>{e.stopPropagation(),(0,b.Zx)(n,!0),T(!0)},children:(0,r.jsx)(P,{className:a()(S.iconWidget,{[S.selectedWidget]:n===(null==t?void 0:t.state)}),name:i.title,icon:(0,r.jsx)("img",{src:i.icon,alt:"",className:S.icon}),style:n===(null==t?void 0:t.state)?{backgroundColor:null!=i.color?i.color:void 0}:{}})},n)}),(0,r.jsx)(d.P3F,{"aria-label":E.intl.string(E.t.S90Fub),onClick:L,onMouseEnter:()=>w(null),children:(0,r.jsx)(P,{className:S.optionButton,name:E.intl.string(E.t.S90Fub),icon:(0,r.jsx)(d.t6m,{size:"md",color:"currentColor",className:S.editIcon,colorClass:S.editIconColor})})})]}),(0,r.jsx)("div",{className:S.divider}),(0,r.jsxs)("div",{className:S.iconsContainer,children:[o.current.map((e,n)=>{let i=e.status===(null==t?void 0:t.details)&&s().isEqual(e.emoji,null==t?void 0:t.emoji),o=null!=e.emoji&&!(0,C.K)(e.emoji,l);return(0,r.jsxs)(d.P3F,{"aria-label":e.status,onMouseEnter:()=>B(e),onClick:o?void 0:t=>{t.stopPropagation(),(0,b._s)(e.status,e.emoji,!0),T(!0)},className:S.statusOptionContainer,children:[(0,r.jsx)(P,{className:a()(S.iconWidget,{[S.selectedWidget]:i}),name:e.status,icon:null!=e.emoji?(0,r.jsx)(p.Z,{className:S.customIcon,emoji:e.emoji,hideTooltip:!0}):null,style:i?{backgroundColor:"#7174B7B3"}:{backgroundColor:"#6466914D"}}),o?(0,r.jsx)("div",{className:S.emojiLockIconContainer,children:(0,r.jsx)(d.mBM,{size:"xs",color:"currentColor",className:S.emojiLockIcon})}):null]},"custom-status-".concat(n))}),o.current.length>0?(0,r.jsx)(d.P3F,{"aria-label":null!=t?E.intl.string(E.t.IN2LTk):E.intl.string(E.t.UDg0qK),onClick:k,children:(0,r.jsx)(P,{className:S.optionButton,name:null!=t?E.intl.string(E.t.IN2LTk):E.intl.string(E.t.UDg0qK),icon:(0,r.jsx)(d.vdY,{size:"custom",color:"currentColor",width:20,height:20,colorClass:S.editIconColor})})},"custom-status-edit"):(0,r.jsxs)(d.P3F,{"aria-label":E.intl.string(E.t.UDg0qK),onClick:k,className:S.setCustomButton,children:[(0,r.jsx)(d.vdY,{size:"xs",color:"currentColor",className:S.editIcon,colorClass:S.editIconColor}),(0,r.jsx)(d.Text,{variant:"text-xs/medium",color:"interactive-active",children:E.intl.string(E.t.UDg0qK)})]},"custom-status-edit-full")]})]})]})}})}},882522:function(e,t,n){n.d(t,{j:()=>a});var r=n(442837),i=n(158776),l=n(981631);function a(e){return(0,r.e7)([i.Z],()=>i.Z.findActivity(e,e=>e.type===l.IIU.HANG_STATUS),[e])}},73752:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2021-04_longer_group_dm_invites",label:"Longer Group DM Invites",defaultConfig:{inviteMaxAgeSeconds:86400},treatments:[{id:1,label:"Makes group DM invites expire after 1 week.",config:{inviteMaxAgeSeconds:604800}}]})},374386:function(e,t,n){n.d(t,{G:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2025-06_not_staff_dm_warning_opt_out",label:"Not-Staff DM Warning",defaultConfig:{enabled:!0},treatments:[{id:0,label:'Show "NOT-STAFF" warning badge in DMs',config:{enabled:!0}},{id:1,label:'Opt-out: Hide "NOT-STAFF" warning badge in DMs',config:{enabled:!1}}]});function i(){return r.useExperiment({location:"default"},{autoTrackExposure:!1}).enabled}},946734:function(e,t,n){n.d(t,{Z:()=>S}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(884338),u=n(100527),d=n(906732),p=n(111028),h=n(150039),f=n(892001),m=n(271383),g=n(430824),b=n(594174),_=n(251625),y=n(823379),C=n(665149),x=n(228168),v=n(388032),O=n(130370);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E{updateData(e){let{userId:t,user:n,channelId:r,analyticsLocations:i}=e;this.userId=t,this.user=n,this.channelId=r,this.analyticsLocations=i}getNicknameGuildPairs(){return this.generateNicknameGuildPairs(this.user)}renderNicknamePairs(e){return this.getNicknameGuildPairs().map((t,n)=>{let[l,a]=t,o=(0,r.jsx)(s.P3F,{tag:"span",onClick:this.handleClick,children:l});return a.length>0&&(o=(0,r.jsx)(s.DY3,{className:O.tooltip,text:a.join(", "),position:"bottom",shouldShow:e,delay:50,children:o})),(0,r.jsxs)(i.Fragment,{children:[0!==n?", ":null,o]},n)})}constructor({userId:e,user:t,channelId:n,analyticsLocations:i}){j(this,"userId",void 0),j(this,"user",void 0),j(this,"channelId",void 0),j(this,"analyticsLocations",void 0),j(this,"generateNicknameGuildPairs",(0,_.oH)(e=>{var t;return a()(m.ZP.getNicknameGuildsMapping(null!=(t=null==e?void 0:e.id)?t:this.userId)).toPairs().map(e=>{let[t,n]=e;return[t,n.map(e=>{var t;return null==(t=g.Z.getGuild(e))?void 0:t.name}).filter(y.lm)]}).filter(t=>{let[n]=t;return n!==(null==e?void 0:e.globalName)}).value()})),j(this,"renderMoreAvatars",()=>(0,r.jsx)(s.DY3,{text:v.intl.string(v.t.UTjREx),position:"bottom",children:(0,r.jsx)(s.P3F,{className:O.moreAvatars,onClick:this.handleClick,children:(0,r.jsx)(s.oFk,{size:"xs",color:"currentColor",className:O.plusIcon})})},"more-avatars")),j(this,"handleClick",()=>{(0,f.openUserProfileModal)({userId:this.userId,channelId:this.channelId,sourceAnalyticsLocations:this.analyticsLocations,section:x.oh.MUTUAL_GUILDS})}),this.userId=e,this.user=t,this.channelId=n,this.analyticsLocations=i}}function S(e){let{channel:t}=e,n=t.getRecipientId(),l=(0,h.gc)(n),a=Array(l.length).fill(null),{analyticsLocations:f}=(0,d.ZP)(u.Z.AKA),m=function(e){let{userId:t,channelId:n,analyticsLocations:r}=e,l=(0,o.e7)([b.default],()=>b.default.getUser(t),[t]),[a]=i.useState(()=>new E({user:l,userId:t,channelId:n,analyticsLocations:r}));return a.updateData({userId:t,user:l,channelId:n,analyticsLocations:r}),a}({userId:n,analyticsLocations:f,channelId:t.id}),[_,y]=i.useState(!1),x=i.useCallback(()=>{y(!0)},[y]),j=i.useCallback(()=>{y(!1)},[y]);return 0===m.getNicknameGuildPairs().length&&0===l.length?(0,r.jsx)("div",{className:O.spacer}):(0,r.jsxs)(d.Gt,{value:f,children:[(0,r.jsx)(C.iz,{className:O.divider}),(0,r.jsx)(s.IGR,{text:v.intl.string(v.t.l1QVfn),disableColor:!0,className:O.akaBadge}),l.length>0?(0,r.jsx)(c.ZP,{size:16,users:a,showUserPopout:!1,renderUser:(e,t,n)=>{var i;let a=m.user,o=l[n];return null==o||null==a?null:(0,r.jsx)(s.DY3,{text:null==(i=g.Z.getGuild(o))?void 0:i.name,position:"bottom",children:(0,r.jsx)("img",{alt:"",className:O.avatar,onClick:m.handleClick,src:a.getAvatarURL(o,16),"aria-hidden":!0})},o[1])},renderMoreUsers:m.renderMoreAvatars,guildId:void 0,max:3,className:O.avatars}):null,m.getNicknameGuildPairs().length>0?(0,r.jsx)(p.Z,{position:"bottom",className:O.nicknames,delay:0,onTooltipShow:x,onTooltipHide:j,children:m.renderNicknamePairs(!_)}):null]})}},168843:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(816782),o=n(367907),s=n(433355),c=n(914010),u=n(665149),d=n(981631),p=n(388032);function h(e){let{channelId:t}=e,n=(0,i.e7)([s.ZP],()=>s.ZP.getSection(t)),h=(0,i.e7)([c.Z],()=>c.Z.getGuildId()),f=n===d.ULH.MEMBERS;return(0,r.jsx)(u.JO,{tooltip:f?p.intl.string(p.t.Axvx8f):p.intl.string(p.t.gxChDw),icon:l.BFJ,onClick:()=>{o.ZP.trackWithMetadata(d.rMx.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:h,member_list_open:!f}),a.Z.toggleMembersSection()},selected:f})}},99843:function(e,t,n){n.d(t,{j:()=>y});var r=n(951288),i=n(647438),l=n(481060),a=n(239091),o=n(100527),s=n(933557),c=n(266076),u=n(769409),d=n(210975),p=n(626135),h=n(981631),f=n(388032),m=n(782196);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let _=e=>{let{channel:t}=e;return(0,d.m$)({channelId:t.id})?(0,r.jsx)(l.ua7,{text:f.intl.string(f.t.QyZ4TU),children:e=>(0,r.jsx)(l.tQf,b(g({},e),{size:"xs","aria-label":f.intl.string(f.t.VHXh8f),color:l.TVs.colors.INTERACTIVE_NORMAL}))}):null},y=i.memo(function(e){let{channel:t}=e,i=t.id,d=(0,s.ZP)(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ua7,{text:f.intl.string(f.t["5Q9+/P"]),position:"bottom",children:e=>{var{onMouseEnter:s,onClick:_}=e,y=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onMouseEnter","onClick"]);return(0,r.jsxs)(l.P3F,b(g({},y),{className:m.hoverableContainer,onClick:()=>{null==_||_(),(0,u.B)(i,o.Z.HEADER_BAR)},onContextMenu:e=>(0,a.jW)(e,()=>Promise.all([n.e("79695"),n.e("70205"),n.e("57789"),n.e("71696")]).then(n.bind(n,354741)).then(e=>{let{default:n}=e;return e=>(0,r.jsx)(n,b(g({},e),{channel:t,selected:!0}))}),{noBlurEvent:!0}),onDoubleClick:e=>e.stopPropagation(),onMouseEnter:()=>{null==s||s(),p.default.track(h.rMx.GDM_EDIT_INTERACTED,{channel_id:t.id,action:"entry_point_hovered",location:o.Z.HEADER_BAR})},"aria-label":f.intl.string(f.t["5Q9+/P"]),children:[(0,r.jsx)(c.Z,{className:m.gdmIcon,"aria-hidden":!0,channel:t,size:l.EFr.SIZE_20,facepileSizeOverride:l.EFr.SIZE_24,experimentLocation:"header_bar"}),(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",children:null!=d?d:""}),(0,r.jsx)(l.vdY,{className:m.editIcon,size:"xs",color:"currentColor"})]}))}}),(0,r.jsx)(_,{channel:t})]})})},442336:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(87051),s=n(9156),c=n(585483),u=n(621600),d=n(665149),p=n(110255),h=n(981631),f=n(388032);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function b(e){let{channel:t}=e,n=i.useRef(null),[b,_]=(0,l.Wu)([s.ZP],()=>[s.ZP.isChannelMuted(t.getGuildId(),t.id),s.ZP.resolvedMessageNotifications(t)],[t]),[y,C]=i.useState(!1);i.useEffect(()=>{let e=()=>C(!0);return c.S.subscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{c.S.unsubscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let x=e=>{e.shiftKey?o.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!b},u.UE.muted(!b)):C(e=>!e)},v=f.intl.string(f.t.h850Sk);return(0,r.jsx)(a.yRy,{targetElementRef:n,shouldShow:y,animation:a.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>C(!1),renderPopout:e=>(0,r.jsx)(p.Z,g(m({},e),{channel:t,navId:"channel-context",label:f.intl.string(f.t.Xm41aW)})),clickTrap:!0,children:(e,t)=>{let{isShown:i}=t;return(0,r.jsx)(d.ZP.Icon,g(m({},e),{ref:n,onClick:x,tooltip:i?null:v,icon:b||_!==h.bL.ALL_MESSAGES?a.owu:a.Dkj,"aria-label":v,selected:i}))}})}},110255:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(776568),o=n(218035),s=n(775666),c=n(858822),u=n(423589),d=n(131704),p=n(430824);function h(e){let{channel:t,closePopout:n,onSelect:h,navId:f,label:m,location:g,includeGuildMute:b}=e,_=(0,o.c)(t),y=(0,s.EQ)(t),C=(0,i.e7)([p.Z],()=>p.Z.getGuild(t.guild_id)),x=(0,c.Z)(C),v=(0,u.Mn)("ChannelNotificationSettingsPopoutMenu")&&d.$N.has(t.type);return(0,r.jsxs)(l.v2r,{navId:f,onClose:n,"aria-label":m,onSelect:h,children:[(0,r.jsx)(l.kSQ,{children:(0,a.ZP)(t,g)}),b?(0,r.jsx)(l.kSQ,{children:x}):null,v?y:(0,r.jsx)(l.kSQ,{children:_})]})}},57304:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(23536),s=n(40851),c=n(622822),u=n(731290),d=n(306680),p=n(594174),h=n(585483),f=n(665149),m=n(981631),g=n(388032);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let y=function(e){let{channel:t}=e,n=(0,l.e7)([u.Z,p.default],()=>{let e=p.default.getCurrentUser();return null==e||(0,c.aC)(t)&&(!e.nsfwAllowed||!u.Z.didAgree(t.getGuildId()))},[t]),[y,C]=i.useState(!1),x=(0,l.e7)([d.ZP],()=>d.ZP.hasUnreadPins(t.id),[t]),v=(0,s.Aq)(),O=i.useRef(null),j=i.useCallback(()=>{n||C(e=>!e)},[n]);function E(e){(null==e?void 0:e.shiftKey)||v.dispatch(m.CkL.POPOUT_CLOSE)}return i.useEffect(()=>(h.S.subscribe(m.CkL.TOGGLE_CHANNEL_PINS,j),()=>{h.S.unsubscribe(m.CkL.TOGGLE_CHANNEL_PINS,j)}),[j]),(0,r.jsx)(a.yRy,{targetElementRef:O,shouldShow:y,animation:a.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,ignoreModalClicks:!0,onRequestClose:()=>C(!1),renderPopout:function(e){return(0,r.jsx)(o.Z,_(b({},e),{onJump:E,channel:t}))},clickTrap:!0,children:(e,t)=>{let{isShown:i}=t;return(0,r.jsx)(f.JO,_(b({},e),{ref:O,onClick:j,tooltip:i?null:g.intl.string(g.t["mp1N//"]),icon:a.qQX,iconSize:20,"aria-label":g.intl.string(g.t["mp1N//"]),disabled:n,showBadge:x,selected:i}))}})}},605953:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(479313),o=n(765104),s=n(626135),c=n(665149),u=n(981631),d=n(814249),p=n(388032);function h(e){let{channel:t}=e,n=(0,i.e7)([o.Z],()=>o.Z.shouldShowTopicsBar());return(0,r.jsx)(c.ZP.Icon,{icon:l.sVe,onClick:()=>{s.default.track(u.rMx.SUMMARIES_SIDEBAR_TOGGLED,{summaries_sidebar_open:!n,source:d.Dc.TOOLBAR_BUTTON,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),(0,a.e7)()},tooltip:n?p.intl.string(p.t.nGs3kJ):p.intl.string(p.t.bIm2sL),selected:n,"aria-expanded":n})}},372564:function(e,t,n){n.d(t,{Z:()=>C}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(374470),s=n(481060),c=n(239091),u=n(454585),d=n(984370),p=n(981631),h=n(388032),f=n(413140),m=n(430864);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}function _(e){return e.matches("a")||"highlight"===e.className||e.className.includes("mention")}class y extends i.Component{render(){let{channel:e}=this.props;if(e.isMultiUserDM())return null;let t=null!=e.topic&&e.topic.length>0;return null!=e.linkedLobby||t?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(d.Z.Divider,{}),(0,r.jsxs)("div",{className:a()(f.topic,f.expandable,m.markup),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu,onClick:this.handleClick,children:[(0,r.jsx)(s.P3F,{onClick:this.handleClick,"aria-label":h.intl.string(h.t.mKwsSk),className:f.topicClickTarget}),null==e.linkedLobby||t?u.Z.parseTopic(e.topic,!0,{channelId:e.id}):h.intl.string(h.t.XJVlf3)]})]}):null}constructor(...e){super(...e),g(this,"_mouseDown",!1),g(this,"_mouseUp",!1),g(this,"handleOpenTopic",e=>{let t=e.target;if((0,o.k)(t)){if(_(t))return;let e=t.parentNode;if((0,o.k)(e)&&_(e))return}(0,s.ZDy)(async()=>{let{default:e}=await n.e("65631").then(n.bind(n,10722));return t=>(0,r.jsx)(e,b({},t,this.props))})}),g(this,"onMouseDown",()=>{this._mouseDown=!0}),g(this,"onMouseMove",()=>{this._mouseDown&&(this._mouseDown=!1)}),g(this,"onMouseUp",e=>{this._mouseDown&&e.button!==p.AeJ.SECONDARY&&this.handleOpenTopic(e),this._mouseUp=!0,this._mouseDown=!1}),g(this,"handleContextMenu",e=>{let{channel:t,guild:i}=this.props;(0,c.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,r.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(b({},n),{channel:t,guild:i,includeTopic:!0}))})}),g(this,"handleClick",e=>{if(this._mouseUp){this._mouseUp=!1;return}this.handleOpenTopic(e)})}}let C=y},405954:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(704215),a=n(481060),o=n(436952),s=n(839606),c=n(54480),u=n(266454),d=n(243778),p=n(626135),h=n(665149),f=n(981631),m=n(921944),g=n(388032);let b=function(e){let{channel:t}=e,{activePickerChannelId:n,openPickerForChannel:b,closePicker:_}=(0,s.B)(),{canAccessPicker:y,entryPoint:C}=(0,c.m)({location:"channel_header_toolbar",channelId:t.id}),x=(0,u.Nj)(l.z.CHAT_WALLPAPERS_PICKER_COACHMARK),v=y&&C===o.FN.TOOLBAR&&x,[O,j]=(0,d.US)(v?[l.z.CHAT_WALLPAPERS_TOOLBAR_ENTRYPOINT_BADGE]:[]),E=O===l.z.CHAT_WALLPAPERS_TOOLBAR_ENTRYPOINT_BADGE,S=i.useCallback(()=>{E&&j(m.L.TAKE_ACTION),n===t.id?(_(),p.default.track(f.rMx.CHAT_WALLPAPER_TOOLBAR_ENTRY_POINT_CLICKED,{action:"close"})):(b(t.id),p.default.track(f.rMx.CHAT_WALLPAPER_TOOLBAR_ENTRY_POINT_CLICKED,{action:"open"}))},[n,t.id,_,b,E,j]);return v?(0,r.jsx)(h.JO,{onClick:S,tooltip:g.intl.string(g.t.GixvUl),icon:a.XBm,iconSize:20,"aria-label":g.intl.string(g.t.GixvUl),showBadge:E,selected:n===t.id}):null}},374306:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(961675),o=n(883429),s=n(238349),c=n(109434),u=n(456269),d=n(432771),p=n(920303),h=n(665149),f=n(388032);function m(e){let{channel:t}=e,n=(0,u.r_)(t),m=(0,i.e7)([a.Z],()=>a.Z.hasHidden(t.id)),g=(0,d.c)(t.id),{sortOrder:b,tagFilter:_,tagSetting:y}=(0,c.H)(t.id),C=(0,i.e7)([s.Z,p.Z],()=>!!(s.Z.getThreadIds(t.id,b,_,y).length>0)||!!(p.Z.getThreads(t.id,b,_,y).length>0),[t.id,b,_,y]),x=t.isMediaChannel();if(!n||g||x&&C)return null;let v=m?x?f.intl.string(f.t["WP/IEx"]):f.intl.string(f.t.zfq9V1):x?f.intl.string(f.t.p60yFx):f.intl.string(f.t.SNOqYG);return(0,r.jsx)(h.JO,{tooltip:v,icon:l.d3s,onClick:()=>o.Z.hideAdminOnboarding(t.id,!m),selected:!m})}},217314:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(399606),l=n(481060),a=n(7284),o=n(210975),s=n(158776),c=n(699516),u=n(594174),d=n(51144),p=n(984370),h=n(388032),f=n(97009);function m(e){let t=e.channel.getRecipientId(),n=e.channel.isSystemDM(),m=(0,i.e7)([u.default],()=>u.default.getUser(t)),g=(0,i.e7)([s.Z],()=>s.Z.getStatus(t)),b=(0,i.e7)([s.Z],()=>s.Z.isMobileOnline(t)),_=(0,i.e7)([c.Z],()=>c.Z.getNickname(t)),y=d.ZP.useUserTag(m),C=(0,a.j)({displayNameStyles:null==m?void 0:m.displayNameStyles}),x=(0,o.m$)({channelId:e.channel.id});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.nn4,{children:h.intl.string(h.t.EJRzg4)}),null!=m&&!n&&(0,r.jsx)("div",{children:(0,r.jsx)(l.qEK,{status:g,isMobile:b,className:f.avatar,size:l.EFr.SIZE_20,"aria-label":d.ZP.getName(m),src:m.getAvatarURL(void 0,20)})}),(0,r.jsx)(p.Z.Title,{level:e.level,onClick:e.handleClick,onContextMenu:e.handleContextMenu,className:null!=e.handleClick?f.cursorPointer:null,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.DY3,{text:y,position:"bottom",className:C,children:null!=_?_:d.ZP.getName(m)}),x&&(0,r.jsx)(l.ua7,{text:h.intl.string(h.t.QyZ4TU),children:e=>{var t,n;return(0,r.jsx)(l.tQf,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={size:"xs","aria-label":h.intl.string(h.t.VHXh8f),color:l.TVs.colors.INTERACTIVE_NORMAL,className:f.secureFramesIcon},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})]})})]})}},910611:function(e,t,n){n.d(t,{TS:()=>G,ud:()=>k,v0:()=>B}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(704215),c=n(481060),u=n(835473),d=n(385499),p=n(933557),h=n(471445),f=n(243778),m=n(565138),g=n(370774),b=n(703656),_=n(621853),y=n(484459),C=n(699516),x=n(914010),v=n(594174),O=n(768581),j=n(63063),E=n(374386),S=n(946734),I=n(99843),P=n(372564),Z=n(984370),T=n(217314),N=n(981631),A=n(921944),w=n(388032),R=n(97009);function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function D(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function L(e){var t;let{channel:n,children:i}=e,l=(0,u.q)(null==(t=n.linkedLobby)?void 0:t.application_id),[a,o]=(0,f.US)([s.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP],void 0,!0);if(null==l)return null;let d=O.ZP.getApplicationIconURL({id:l.id,icon:l.icon,size:14}),[p,h]=a!==s.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP?[w.intl.string(w.t.XJVlf3),void 0]:[(0,r.jsxs)("div",{className:R.linkedLobbyEducationTooltip,children:[(0,r.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:w.intl.string(w.t.YIVr4O)}),(0,r.jsx)(c.Text,{variant:"text-sm/medium",color:"header-secondary",children:w.intl.format(w.t["16agur"],{helpdeskArticle:j.Z.getArticleURL(N.BhN.LINKED_LOBBIES)})}),(0,r.jsx)(c.P3F,{className:R.linkedLobbyEducationTooltipCloseClickContainer,onClick:()=>o(A.L.USER_DISMISS),children:(0,r.jsx)(c.Dio,{className:R.linkedLobbyEducationTooltipCloseIcon,color:"currentColor"})})]},0),w.intl.string(w.t.YIVr4O)];return(0,r.jsx)(c.ua7,{tooltipClassName:R.linkedLobbyEducationTooltipWrapper,position:"bottom",align:"left",text:p,"aria-label":h,forceOpen:a===s.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP||void 0,children:e=>(0,r.jsxs)("div",D(M({className:R.linkedLobbyTooltip},e),{children:[i,(0,r.jsxs)(c.Text,{className:R.linkedLobby,variant:"text-sm/medium",color:"header-primary",children:["•",(0,r.jsx)("img",{alt:"",src:d,className:R.linkedLobbyApplicationIcon}),l.name]})]}))},a)}function k(e){let{channel:t,channelName:n,parentChannel:l,guild:o,inSidebar:s=!1,handleClick:u,handleContextMenu:d,handleParentClick:f,handleParentContextMenu:m,renderFollowButton:g}=e,b=(0,h.KS)(t,o),{prefix:_,level:y}=function(e,t){var n,r;switch(e){case N.d4z.DM:return{prefix:w.intl.string(w.t.EJRzg4),level:1};case N.d4z.GROUP_DM:return{prefix:w.intl.string(w.t["e5y+go"]),level:1};case N.d4z.GUILD_DIRECTORY:return{prefix:null!=(n=null==t?void 0:t.name)?n:"",level:1};case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_FORUM:case N.d4z.GUILD_MEDIA:case N.d4z.GUILD_STAGE_VOICE:case N.d4z.GUILD_VOICE:return{prefix:null!=(r=null==t?void 0:t.name)?r:"",level:1};case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:case N.d4z.PRIVATE_THREAD:return{prefix:w.intl.string(w.t["7Xm5QE"]),level:2};default:return{prefix:null,level:1}}}(t.type,o),x=(0,r.jsxs)(r.Fragment,{children:[null!=_?(0,r.jsxs)(c.nn4,{children:[_,":"]}):null," ",n]});switch(t.type){case N.d4z.DM:return(0,r.jsx)(T.Z,{level:y,channel:t,handleClick:u,handleContextMenu:d});case N.d4z.GROUP_DM:if(t.isManaged())return x;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.nn4,{children:w.intl.string(w.t["e5y+go"])}),(0,r.jsx)(I.j,{channel:t},"channel-".concat(t.id))]});case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_FORUM:case N.d4z.GUILD_MEDIA:return null!=t.linkedLobby?(0,r.jsxs)(L,{channel:t,children:[F(b,t.type===N.d4z.GUILD_ANNOUNCEMENT?w.intl.string(w.t.l1dkSE):w.intl.string(w.t.Pnajj4)),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,children:x})]}):(0,r.jsxs)(i.Fragment,{children:[F(b,t.type===N.d4z.GUILD_ANNOUNCEMENT?w.intl.string(w.t.l1dkSE):w.intl.string(w.t.Pnajj4)),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,children:x}),null!=g?g():null]});case N.d4z.GUILD_VOICE:return(0,r.jsxs)(i.Fragment,{children:[F(b,w.intl.string(w.t.BVZqJi)),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,children:x})]});case N.d4z.GUILD_STAGE_VOICE:return(0,r.jsxs)(i.Fragment,{children:[F(b,w.intl.string(w.t.EErMzM)),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,children:x})]});case N.d4z.ANNOUNCEMENT_THREAD:case N.d4z.PUBLIC_THREAD:case N.d4z.PRIVATE_THREAD:let O=null;if(!s&&null!=l){let e=(0,h.KS)(l,o);O=(0,r.jsxs)(i.Fragment,{children:[F(e,w.intl.string(w.t.Pnajj4)),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:m,onClick:f,className:a()(R.parentChannelName,R.cursorPointer),children:(0,p.F6)(l,v.default,C.Z)}),(0,r.jsx)(Z.Z.Caret,{})]})}let j=(null==l?void 0:l.type)!=null&&N.TPd.GUILD_THREADS_ONLY.has(l.type);return(0,r.jsxs)(i.Fragment,{children:[O,F(j?null:b,w.intl.string(w.t["7Xm5QE"])),(0,r.jsx)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,className:a()({[R.cursorPointer]:s,[R.forumPostTitle]:j,[R.forumPostSidebarTitle]:s&&j}),children:x})]});case N.d4z.GUILD_DIRECTORY:let E=(null==o?void 0:o.features.has(N.oNc.HUB))?w.intl.formatToPlainString(w.t.Dy2aho,{guildName:n}):n;return(0,r.jsxs)(i.Fragment,{children:[null!==b?(0,r.jsx)(Z.Z.ChannelIcon,{icon:b,"aria-hidden":!0}):null,(0,r.jsxs)(Z.Z.Title,{level:y,onContextMenu:d,onClick:u,children:[null!=_?(0,r.jsxs)(c.nn4,{children:[_,":"]}):null," ",E]})]});default:return null}}let U=e=>{var t,n,l;let{channel:a}=e,s=(0,o.e7)([v.default],()=>v.default.getCurrentUser()),c=(0,o.e7)([v.default],()=>v.default.getUser(a.getRecipientId())),u=(0,E.G)(),p=(0,o.e7)([_.Z],()=>null!=c?_.Z.getUserProfile(c.id):null),h=null!=p&&(null!=(t=null==p?void 0:p.fetchEndedAt)?t:0)>0;return(i.useEffect(()=>{(null==s?void 0:s.isStaff())&&null!=c&&!c.isStaff()&&(0,y.Z)(c.id,c.getAvatarURL(void 0,80),{dispatchWait:!0,withMutualGuilds:!0,withMutualFriendsCount:!0})},[s,c]),a.isDM()&&(null==s?void 0:s.isStaff())&&null!=c)?c.isStaff()?(0,r.jsx)(d.Z,{type:d.Z.Types.STAFF_ONLY_DM}):u&&h&&!(null!=(l=null==(n=p.badges)?void 0:n.some(e=>e.id.startsWith("staff")))&&l)?(0,r.jsx)(d.Z,{type:d.Z.Types.NOT_STAFF_WARNING}):null:null};function B(e,t){switch(e.type){case N.d4z.DM:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(U,{channel:e}),(0,r.jsx)(S.Z,{channel:e},e.id)]});case N.d4z.GUILD_ANNOUNCEMENT:case N.d4z.GUILD_TEXT:case N.d4z.GUILD_VOICE:case N.d4z.GUILD_STAGE_VOICE:case N.d4z.GROUP_DM:return null!=t?(0,r.jsx)(P.Z,{channel:e,guild:t},e.id):null;default:return null}}function F(e,t){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&(0,r.jsx)(Z.Z.ChannelIcon,{icon:e,"aria-hidden":!0}),(0,r.jsx)(c.nn4,{children:t})]})}function G(e){let{guild:t,channel:n,caretPosition:l="left"}=e,a=(0,o.e7)([x.Z],()=>x.Z.getGuildId()),s=(0,g.D)(),u=i.useRef(null);if(a!==N.I_8&&!s||null==t)return null;let d=()=>{(0,b.XU)(t.id,n.id)};return(0,r.jsx)(c.ua7,{text:t.name,targetElementRef:u,position:"bottom",children:e=>(0,r.jsxs)(c.P3F,D(M({},e),{onClick:d,className:R.guildBreadcrumbContainer,children:["left"===l&&(0,r.jsx)(Z.Z.Caret,{direction:"left"}),(0,r.jsx)("div",{ref:u,children:(0,r.jsx)(m.Z,{guild:t,size:m.Z.Sizes.SMALLER,className:R.guildBreadcrumbIcon,active:!0})}),"right"===l&&(0,r.jsx)(Z.Z.Caret,{direction:"right"})]}))})}},575464:function(e,t,n){n.d(t,{Z:()=>m}),n(35282);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(91192),o=n(442837),s=n(481060),c=n(129861),u=n(700582),d=n(600164),p=n(158776),h=n(51144),f=n(469407);function m(e){var t,n;let{user:i,row:m,hideDiscriminator:g,comparator:b,selected:_,checked:y,disabled:C=!1,inlineUsername:x=!0,onClick:v,onMouseEnter:O,"aria-setsize":j,"aria-posinset":E}=e,S=(0,o.e7)([p.Z],()=>p.Z.getStatus(i.id)),I=(0,a.JA)(String(i.id));return(0,r.jsx)(s.P3F,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({id:"user-row-".concat(m),className:l()(f.friendWrapper,{[f.disabled]:C}),onClick:()=>{null!=v&&v(i.id)},onMouseEnter:()=>{null!=O&&O(m)}},I),n=n={role:"option","aria-selected":y,"aria-disabled":C,"aria-setsize":j,"aria-posinset":E,children:(0,r.jsxs)(d.Z,{align:d.Z.Align.CENTER,className:l()(f.friend,{[f.friendSelected]:_,[f.twoRows]:!x}),children:[(0,r.jsx)(u.Z,{user:i,status:S,className:f.avatar}),(0,r.jsxs)(d.Z,{className:f.match,align:d.Z.Align.BASELINE,direction:x?d.Z.Direction.HORIZONTAL:d.Z.Direction.VERTICAL,children:[(0,r.jsx)(s.Text,{tag:"strong",className:f.nickname,"aria-hidden":!0,variant:"text-md/medium",children:null!=b&&b===i.tag?h.ZP.getName(i):null!=b&&""!==b?b:h.ZP.getName(i)}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",color:"text-muted",children:(0,r.jsx)(c.Z,{user:i,hideDiscriminator:g,className:f.discordTag,usernameClass:f.__invalid_weightMedium,discriminatorClass:f.__invalid_weightMedium,forceUsername:!0})})]}),(0,r.jsx)(s.XZJ,{displayOnly:!0,size:22,value:y,disabled:C,className:f.checkbox})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},915718:function(e,t,n){n.d(t,{Z:()=>D}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(481060),s=n(26151),c=n(287734),u=n(40851),d=n(607070),p=n(451576),h=n(358221),f=n(266454),m=n(243778),g=n(590293),b=n(970731),_=n(560688),y=n(173507),C=n(523746),x=n(819640),v=n(131951),O=n(699516),j=n(594174),E=n(979651),S=n(585483),I=n(63063),P=n(665149),Z=n(981631),T=n(921944),N=n(65154),A=n(388032),w=n(765476);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends i.PureComponent{componentDidMount(){S.S.subscribe(Z.CkL.CALL_START,this.handleVoiceClick)}componentWillUnmount(){S.S.unsubscribe(Z.CkL.CALL_START,this.handleVoiceClick)}renderVideoCallButton(){let e,t,{inCall:n,callActive:i,callUnavailable:l,isBlocked:a,channel:s,mode:c,isProvisional:u}=this.props;if(n||i&&c===Z.WtW.VOICE)return null;let d=s.isManaged(),p=null,h=!1;return u?(h=!0,p=A.intl.string(A.t.izMR7u),e=o.ua7.Colors.RED):v.Z.supports(N.AN.VIDEO)?a?(p=A.intl.string(A.t.PHzjvb),e=o.ua7.Colors.RED,h=!0):i&&c===Z.WtW.VIDEO?(t=this.handleJoinVideoCall,p=d?A.intl.string(A.t.S0W8Z2):A.intl.string(A.t.W68MhI)):(t=this.handleStartVideoCall,p=d?A.intl.string(A.t.S0W8Z2):A.intl.string(A.t.oCqlGB)):(h=!0,t=this.handleBrowserNotSupported,p=A.intl.string(A.t.UVpg3d)),(0,r.jsx)(P.ZP.Icon,{icon:o.Odl,onClick:t,disabled:h||l,tooltip:p,tooltipColor:e})}renderVoiceCallButton(){let e,t,{inCall:n,canShowTooltip:i,callActive:l,callUnavailable:s,isBlocked:c,channel:u,canShowActivityGdmTooltip:d,dismissibleContentTypes:p,isProvisional:h}=this.props;if(n)return null;let f=u.isManaged(),g=!1;h?(g=!0,e=A.intl.string(A.t.izMR7u),t=o.ua7.Colors.RED):s?(e=f?A.intl.string(A.t.LW2Gho):A.intl.string(A.t.rF7lNz),t=o.ua7.Colors.RED,g=!0):c?(e=A.intl.string(A.t.PHzjvb),t=o.ua7.Colors.RED,g=!0):e=l?f?A.intl.string(A.t.S0W8Z2):A.intl.string(A.t.fdEeb2):f?A.intl.string(A.t.S0W8Z2):A.intl.string(A.t.focH1t);let _=(0,r.jsx)(P.ZP.Icon,{ref:this.iconRef,icon:o.Csw,onClick:this.handleVoiceClick,disabled:g,tooltip:e,tooltipColor:t});return(0,r.jsx)(m.ZP,{contentTypes:p,children:e=>{let{visibleContent:t,markAsDismissed:l}=e;return t===a.z.ACTIVITY_GDM_CALL_TOOLTIP?(0,r.jsx)(o.yRy,{targetElementRef:this.iconRef,position:"bottom",align:"center",animation:o.yRy.Animation.TRANSLATE,shouldShow:i&&d&&!n,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(b.ZP,{header:(0,r.jsx)(o.X6q,{variant:"heading-md/bold",color:"always-white",children:A.intl.string(A.t.HOPqzc)}),content:(0,r.jsxs)("div",{children:[(0,r.jsx)(o.Text,{variant:"text-sm/normal",color:"always-white",children:A.intl.string(A.t.xAW71d)}),(0,r.jsx)(o.eee,{href:I.Z.getArticleURL(Z.BhN.ACTIVITIES),children:A.intl.string(A.t.hvVgAQ)})]}),buttonCTA:A.intl.string(A.t["NX+WJC"]),onClick:()=>{t(),l(T.L.UNKNOWN)},className:w.tooltip})},children:()=>_}):_}})}render(){return(0,r.jsxs)(i.Fragment,{children:[this.renderVoiceCallButton(),this.renderVideoCallButton()]})}constructor(...e){super(...e),R(this,"iconRef",i.createRef()),R(this,"handleStartCall",(e,t)=>{let{channel:n,notFriend:r,appContext:i}=this.props,l=r?n.getRecipientId():null,a=()=>s.Z.call(n.id,t,!r&&!n.isManaged()&&!(null==e?void 0:e.shiftKey),l);t?(0,y.Z)(a,i):a()}),R(this,"handleJoinCall",e=>{c.default.selectVoiceChannel(this.props.channel.id,e)}),R(this,"handleVoiceClick",e=>{let{callUnavailable:t,callActive:n,canShowActivityGdmTooltip:r}=this.props;if(r&&(0,f.Q3)(a.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:T.L.AUTO}),t);else if(n)return this.handleJoinCall(!1);else return this.handleStartCall(e,!1)}),R(this,"handleStartVideoCall",e=>{this.handleStartCall(e,!0)}),R(this,"handleJoinVideoCall",()=>{let{appContext:e}=this.props,t=()=>this.handleJoinCall(!0);(0,y.Z)(t,e)}),R(this,"handleBrowserNotSupported",()=>{(0,_.Z)()})}}function D(e){var t;let{channel:n}=e,o=(0,g.Z)(),s=(0,l.e7)([h.Z],()=>h.Z.getMode(n.id)),c=(0,l.e7)([E.Z],()=>E.Z.isInChannel(n.id)),f=(0,l.e7)([d.Z],()=>d.Z.useReducedMotion),{callActive:m,callUnavailable:b}=(0,l.cj)([C.Z],()=>({callActive:C.Z.isCallActive(n.id),callUnavailable:C.Z.isCallUnavailable(n.id)})),_=n.getRecipientId(),{notFriend:y,isBlocked:v}=(0,l.cj)([O.Z],()=>({notFriend:n.type===Z.d4z.DM&&null!=_&&!O.Z.isFriend(_),isBlocked:n.type===Z.d4z.DM&&null!=_&&O.Z.isBlocked(_)})),S=(0,l.e7)([j.default],()=>j.default.getUser(_)),I=(0,u.bp)(),P=[],T=(0,p.Z)(n.id),N=(0,l.e7)([x.Z],()=>x.Z.hasLayers());T&&!N&&P.push(a.z.ACTIVITY_GDM_CALL_TOOLTIP);let[A,w]=i.useState(!1);return(i.useEffect(()=>{let e=setTimeout(()=>{w(!0)},250);return()=>clearTimeout(e)},[]),o||(null==S?void 0:S.bot))?null:(0,r.jsx)(M,{channel:n,mode:s,inCall:c,callActive:m,isProvisional:null!=(t=null==S?void 0:S.isProvisional)&&t,callUnavailable:b,notFriend:y,isBlocked:v,appContext:I,canShowTooltip:A,canShowActivityGdmTooltip:T,dismissibleContentTypes:P,useReducedMotion:f})}},518311:function(e,t,n){n.d(t,{Z:()=>eC,l:()=>ex}),n(642613),n(415506),n(539854),n(388685),n(35282),n(49124);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(392711),c=n(913527),u=n.n(c),d=n(873546),p=n(442837),h=n(755721),f=n(481060),m=n(570140),g=n(26151),b=n(493683),_=n(529103),y=n(447543),C=n(708690),x=n(194359),v=n(425493),O=n(794433),j=n(493773),E=n(40851),S=n(100527),I=n(367907),P=n(906732),Z=n(43267),T=n(933557),N=n(600164),A=n(313201),w=n(429090),R=n(912114),M=n(366980),D=n(703656),L=n(93127),k=n(752048),U=n(131704),B=n(592125),F=n(341165),G=n(544610),H=n(19780),V=n(306680),z=n(699516),W=n(246946),q=n(594174),Y=n(626135),K=n(572004),X=n(585483),Q=n(823379),J=n(709054),$=n(51144),ee=n(73752),et=n(665149),en=n(575464),er=n(981631),ei=n(388032),el=n(918324),ea=n(197571);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eo(e,t,n[t])})}return e}function ec(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function eu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let ed=(0,A.hQ)(),ep=(0,A.hQ)();function eh(e){let{className:t,children:n}=e;return(0,i.jsxs)(N.Z,{align:N.Z.Align.CENTER,justify:N.Z.Justify.CENTER,direction:N.Z.Direction.VERTICAL,className:o()(el.errorState,t),children:[(0,i.jsx)("div",{className:o()(el.errorStateIcon,ea.marginBottom20)}),n]})}let ef=e=>{var t;let{channel:n,onClose:r}=e,l=null!=(t=(0,T.ZP)(n))?t:"",a=(0,p.e7)([V.ZP],()=>{var e;return null!=(e=V.ZP.lastMessageId(n.id))?e:n.id});return(0,i.jsx)(f.P3F,{onClick:()=>{(0,D.XU)(er.ME,n.id),r()},children:(0,i.jsxs)("div",{className:el.confirmChannelItemContainer,children:[(0,i.jsx)(f.qEK,{src:(0,Z.x)(n),size:f.EFr.SIZE_24,"aria-label":l}),(0,i.jsx)("span",{className:el.confirmChannelName,children:l}),(0,i.jsx)("span",{className:el.lastActiveTimestamp,children:u()(J.default.extractTimestamp(a)).fromNow()})]})})},em=e=>{var{onConfirm:t,channelIds:n}=e,r=eu(e,["onConfirm","channelIds"]);let l=(0,p.Wu)([B.Z],()=>Array.from(n).map(B.Z.getChannel),[n]);return(0,i.jsxs)(f.ConfirmModal,ec(es({header:ei.intl.string(ei.t.uFHxNT),confirmText:ei.intl.string(ei.t.KCNNJi),cancelText:ei.intl.string(ei.t["ETE/oK"]),onConfirm:t,confirmButtonColor:h.zx.Colors.BRAND},r),{children:[(0,i.jsx)(f.Text,{variant:"text-md/normal",children:ei.intl.string(ei.t.rIsSqK)}),(0,i.jsx)(f.vwX,{className:el.selectExistingFormHeader,children:ei.intl.string(ei.t.cjE7wM)}),(0,i.jsx)(f.Ttm,{className:el.confirmInviteScroller,children:l.filter(Q.lm).sort((e,t)=>{var n,r;let i=null!=(n=e.lastMessageId)?n:e.id,l=null!=(r=t.lastMessageId)?r:t.id;return J.default.compare(l,i)}).map(e=>(0,i.jsx)(ef,{onClose:r.onClose,channel:e},e.id))})]}))};class eg extends(r=l.PureComponent){componentDidUpdate(e){if(e.selectedUsers!==this.props.selectedUsers||e.query!==this.props.query){var t,n;null==(t=(n=this.props).updatePosition)||t.call(n)}}_getAnalyticsEntryPoint(){let{channel:e}=this.props,t="",n="";return null!=e?e.isDM()?(t="Add Friends to DM",n="DM"):(t="Add Friends to DM",n="Group DM"):(t="New Group DM",n="Friends List"),{entryPointType:t,entryPointSource:n}}componentDidMount(){let{channel:e}=this.props;m.Z.wait(()=>C.Z.open(null==e?void 0:e.id));let t=(0,I.v_)(e);Y.default.track(er.rMx.OPEN_POPOUT,ec(es({},t),{type:this._getAnalyticsEntryPoint().entryPointType,source:this._getAnalyticsEntryPoint().entryPointSource,is_friend:!this.isNotFriends()})),X.S.subscribe(er.CkL.SCROLL_PAGE_UP,this.scrollPageUp),X.S.subscribe(er.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)}componentWillUnmount(){X.S.unsubscribe(er.CkL.SCROLL_PAGE_UP,this.scrollPageUp),X.S.unsubscribe(er.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),m.Z.wait(()=>C.Z.close())}isNotFriends(){let{channel:e}=this.props;if(null==e||!e.isDM())return!1;let t=e.getRecipientId();if(null==t)throw Error("no recipient in DM");return!z.Z.isFriend(t)}createInvite(){let{channel:e}=this.props;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return;let{inviteMaxAgeSeconds:t}=ee.Z.getCurrentConfig({location:"5326c5_1"},{autoTrackExposure:!1});y.ZP.createInvite(e.id,{max_age:t},er.t4x.GROUP_DM)}isPartyFull(){let{channel:e}=this.props;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()}getMaxParticipants(){let{channel:e}=this.props,t=q.default.getCurrentUser();return null!=t&&t.isStaff()?er.p3w:null!=e&&e.userLimit>0?e.userLimit:er.pAY}getRemaining(){let{channel:e,selectedUsers:t}=this.props,n=(null==e?0:e.recipients.length)+1;return this.getMaxParticipants()-t.size-n}renderCreateGroupButton(){let{channel:e,selectedUsers:t}=this.props,n=this.getRemaining(),r=null!=e&&0===t.size||n<0,l=t.size>1||null!=e?ei.intl.string(ei.t.ZGMNAw):ei.intl.string(ei.t["6Urw1t"]);return(0,i.jsx)(f.zxk,{variant:"primary",fullWidth:!0,disabled:r,onClick:this.handleInviteUsers,text:l})}renderAddUsersButton(){let{channel:e,selectedUsers:t}=this.props;if(null==e||e.isDM())return;let n=this.getRemaining(),r=0===t.size||n<0;return(0,i.jsx)("div",{className:el.addButton,children:(0,i.jsx)(f.zxk,{variant:"primary",size:"sm",text:ei.intl.string(ei.t.OYkgVl),disabled:r,onClick:this.handleInviteUsers})})}renderSubtitle(){if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;let e=this.getRemaining(),t=e<=0?ei.intl.formatToPlainString(ei.t.xYr009,{number:this.getMaxParticipants()}):ei.intl.formatToPlainString(ei.t.HrSDPD,{number:e});return(0,i.jsx)(f.Text,{variant:"text-xs/normal",className:o()(el.subtitle,{[el.subtitleWarning]:e<0},ea.marginTop4),children:t})}renderSearchBar(){var e;let{query:t,hasFriends:n,results:r,selectedRow:l,selectedUsers:a}=this.props;if(!n||this.isNotFriends())return null;let o=[];return a.forEach(e=>{let t=q.default.getUser(e);null!=t&&o.push($.ZP.getName(t))}),(0,i.jsxs)("div",{className:el.searchBar,children:[(0,i.jsx)(O.Z,{ref:this.searchBarRef,className:el.searchBarComponent,autoFocus:!0,placeholder:0===a.size?ei.intl.string(ei.t.Wxnb6u):"",disabled:this.isPartyFull(),size:O.Z.Sizes.MEDIUM,maxHeight:this.props.inBornThisNamedExperiment?110:void 0,query:t,selectedRow:l,sections:[null!=(e=null==r?void 0:r.length)?e:0],tags:o,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,onHeightChange:this.scrollToCounterSearchBarHeightChange,inputProps:{"aria-labelledby":ed,"aria-controls":ep,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(l),autoComplete:"off"}}),this.renderAddUsersButton()]})}renderHeader(){let e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?ei.intl.string(ei.t.Xjlbvr):ei.intl.string(ei.t.CdNhGR);return(0,i.jsxs)(f.xBx,{direction:N.Z.Direction.VERTICAL,align:N.Z.Align.STRETCH,className:el.header,separator:e,children:[d.tq?this.renderMobileCloseButton():null,(0,i.jsx)(f.X6q,{id:ed,variant:"heading-lg/semibold",children:t}),this.renderSubtitle(),(0,i.jsx)(f.olH,{className:el.closeButton,onClick:this.props.onClose})]})}renderBody(){let{channel:e,hasFriends:t,results:n}=this.props;if(this.isNotFriends()){let t=null!=e?e.getRecipientId():null;if(null==t)throw Error("no recipient in DM");let n=q.default.getUser(t),r=null!=n?n.username:"",l=null!=n&&z.Z.getRelationshipType(n.id)===er.OGo.PENDING_OUTGOING;return(0,i.jsxs)(eh,{className:el.notFriends,children:[(0,i.jsx)(f.Text,{variant:"text-sm/medium",color:"text-secondary",children:ei.intl.format(ei.t["eg+R9/"],{username:r})}),(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:ea.marginTop20,children:(0,i.jsx)(f.zxk,{variant:"primary",size:"sm",text:l?ei.intl.string(ei.t.xMH6vL):ei.intl.string(ei.t["PMsq/f"]),disabled:l,onClick:()=>null!=n?this.handleAddFriend(n):null})})]})}return t?this.isPartyFull()?(0,i.jsxs)(eh,{className:el.partyFull,children:[(0,i.jsx)("div",{children:ei.intl.string(ei.t.OtTQDw)}),(0,i.jsx)("div",{children:ei.intl.format(ei.t.xYr009,{number:this.getMaxParticipants()})})]}):0===n.length?(0,i.jsx)(eh,{className:o()(el.noResults,ea.marginBottom20),children:(0,i.jsx)("div",{children:ei.intl.string(ei.t.SV4DJy)})}):(0,i.jsx)(f.aVo,{ref:this.scrollerRef,sections:[n.length],className:el.scroller,innerClassName:el.scrollerInner,renderRow:this.renderRow,rowHeight:this.getRowHeight,renderSection:this.renderSection,sectionHeight:0,onScroll:this.handleScroll,paddingTop:0,paddingBottom:14,fade:!0,role:void 0,innerRole:"listbox",innerId:ep,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,i.jsxs)(eh,{className:el.noFriends,children:[(0,i.jsx)("div",{children:ei.intl.string(ei.t["7orY6O"])}),(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:ea.marginTop20,children:(0,i.jsx)(f.zxk,{variant:"primary",size:"sm",text:ei.intl.string(ei.t.w5uwoK),autoFocus:!0,fullWidth:!0,onClick:this.handleAddFriendNavigation})})]})}renderSection(){return null}renderInviteLink(){let{channel:e,invite:t,hideInstantInvites:n}=this.props,{copied:r}=this.state;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return null;let a=null!=t?(0,M.Z)(t.code):"",s=a.length>0;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(f.vwX,{tag:"h5",className:ea.marginBottom8,children:ei.intl.string(ei.t.t3O2BQ)}),(0,i.jsx)(f.kO8,{supportsCopy:K.wS,placeholder:(0,M.Z)(ei.intl.string(ei.t.lPVBqK)),value:s?n?ei.intl.string(ei.t["6HzNgY"]):a:"",buttonColor:h.zx.Colors.BRAND,text:s?r?ei.intl.string(ei.t.q30c5u):ei.intl.string(ei.t.OpuAlJ):ei.intl.string(ei.t.qzxqUV),mode:r?f.uA3.SUCCESS:f.uA3.DEFAULT,onCopy:()=>{s?this.handleCopyInvite(a):this.createInvite()}}),a.length>0?(0,i.jsx)(f.Text,{variant:"text-xs/normal",className:o()(ea.marginTop8,el.footerText),children:ei.intl.format(ei.t.ZVdJMz,{numHours:"".concat(24)})}):null]})}renderFooter(){let{hasFriends:e,channel:t,selectedUsers:n}=this.props;if(this.isNotFriends()||!e||this.isPartyFull())return null;if(null==t)return(0,i.jsxs)(f.mzw,{className:el.footer,children:[n.size>1&&(0,i.jsx)(eb,{previewIcon:this.state.previewIcon,selectedUsers:n,channelName:this.state.newChannelName,onChange:this.handleChannelNameChange,onIconChange:this.handleIconChange,onIconRemove:this.handleIconRemove}),(0,i.jsxs)(f.hE2,{fullWidth:!0,direction:"horizontal",children:[(0,i.jsx)(f.zxk,{variant:"secondary",text:ei.intl.string(ei.t["ETE/oK"]),onClick:this.props.onClose}),this.renderCreateGroupButton()]})]});let r=t.isDM()?this.renderCreateGroupButton():this.renderInviteLink();if(null!=r)return(0,i.jsx)(f.mzw,{className:el.footer,children:r})}render(){let{transitionState:e,inBornThisNamedExperiment:t}=this.props;return(0,i.jsxs)(f.Y0X,{transitionState:null!=e?e:f.Dvm.ENTERED,className:o()(el.popout,{[el.showAsModal]:t,[el.showAsPopout]:!t}),fullscreenOnMobile:!1,parentComponent:"PrivateChannelRecipientsInvite",children:[this.renderHeader(),this.renderSearchBar(),this.renderBody(),this.renderFooter()]})}handleAddFriend(e){this.props.onClose(),x.Z.sendRequest({discordTag:$.ZP.getUserTag(e,{identifiable:"always"}),context:{location:"Group DM"}})}_getUserAffinities(e){return{affinities:e.map(e=>{var t;let n=k.Z.getUserAffinity(e);return null!=(t=null==n?void 0:n.communicationProbability)?t:-1})}}constructor(...e){super(...e),eo(this,"state",{separator:!1,copied:!1,newChannelName:"",previewIcon:void 0}),eo(this,"copyTimeout",void 0),eo(this,"scrollerRef",l.createRef()),eo(this,"searchBarRef",l.createRef()),eo(this,"_mobileCloseRef",l.createRef()),eo(this,"_searchCounter",0),eo(this,"_existingTimeout",null),eo(this,"scrollPageUp",()=>{var e;null==(e=this.scrollerRef.current)||e.scrollPageUp({animate:!0})}),eo(this,"scrollPageDown",()=>{var e;null==(e=this.scrollerRef.current)||e.scrollPageDown({animate:!0})}),eo(this,"renderMobileCloseButton",()=>(0,i.jsx)("div",{className:el.mobileToolsContainer,ref:this._mobileCloseRef,children:(0,i.jsx)(f.JcV,{containerRef:this._mobileCloseRef,children:(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,{className:el.mobileToolsCloseIcon,closeAction:this.props.onClose,keybind:"ESC"})})})})),eo(this,"getRowHeight",(e,t)=>{if(e>0)return 0;let{results:n}=this.props;return null!=n[t]?this.props.inBornThisNamedExperiment?48:42:0}),eo(this,"renderRow",e=>{let{section:t,row:n}=e;if(t>0)return null;let{results:r,selectedUsers:l,selectedRow:a,hideDiscriminator:o}=this.props,s=r[n];if(null==s)return null;let{user:c,comparator:u}=s,d=l.has(c.id),p=!d&&0>=this.getRemaining();return(0,i.jsx)(en.Z,{row:n,user:c,hideDiscriminator:o,comparator:u,checked:d,disabled:p,selected:n===a,onClick:this.handleClick,onMouseEnter:this.focusResult,"aria-posinset":n+1,"aria-setsize":r.length,inlineUsername:!this.props.inBornThisNamedExperiment},c.id)}),eo(this,"forceFocus",()=>{let e=this.searchBarRef.current;null==e||e.focus()}),eo(this,"focusResult",e=>{C.Z.select(e)}),eo(this,"handleSelect",(e,t)=>{let{results:n,channel:r}=this.props;null==t?C.Z.clear(null==r?void 0:r.id):null!=n&&this.handleClick(n[t].user.id)}),eo(this,"handleSelectionChange",(e,t)=>{C.Z.select(t);let n=this.scrollerRef.current;null!=n&&n.scrollToIndex({section:e,row:t,padding:8})}),eo(this,"handleQueryChange",e=>{let{channel:t}=this.props,n=(0,I.v_)(t);C.Z.search(e,null==t?void 0:t.id),null!=this._existingTimeout&&clearTimeout(this._existingTimeout),this._existingTimeout=setTimeout(()=>{Y.default.track(er.rMx.SEARCH_USER_LIST_STARTED,ec(es({},n),{entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,search_query_length:e.length})),this._searchCounter++},500)}),eo(this,"handleRemoveUser",e=>{let t=Array.from(this.props.selectedUsers);C.Z.removeUser(t[e]),this.forceFocus()}),eo(this,"handleClick",e=>{let{selectedUsers:t,query:n,channel:r}=this.props;t.has(e)?C.Z.removeUser(e):this.getRemaining()>0&&(C.Z.addUser(e),n.length>0&&C.Z.clear(null==r?void 0:r.id)),this.forceFocus()}),eo(this,"handleAddFriendNavigation",()=>{_.Z.transitionToSection(er.pJs.ADD_FRIEND,{explicit:!0}),this.props.onClose()}),eo(this,"handleScroll",()=>{let e=this.scrollerRef.current;null!=e&&this.setState({separator:!e.isScrolledToTop()})}),eo(this,"handleChannelNameChange",e=>{this.setState({newChannelName:e})}),eo(this,"handleIconChange",e=>{let{imageUri:t}=e;this.setState({previewIcon:t})}),eo(this,"handleIconRemove",()=>{this.setState({previewIcon:null})}),eo(this,"createNewDM",e=>{let t=this._searchCounter,{channel:n}=this.props,r=(0,I.v_)(n),i=!0;1===e.length&&(i=null==b.Z._openCachedDMChannel(e[0])),Y.default.track(er.rMx.CREATE_DM_USER_LIST_CLICKED,ec(es({},r),{is_new_dm:i,entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,recipient_ids:e,num_searches:t,affinity_score:this._getUserAffinities(e).affinities,name_is_set:""!==this.state.newChannelName,icon_is_set:null!=this.state.previewIcon})),b.Z.openPrivateChannel({recipientIds:e,location:"New Group DM"}).then(e=>{let t={};""!==this.state.newChannelName&&(t.name=this.state.newChannelName),null!=this.state.previewIcon&&(t.icon=this.state.previewIcon),(null!=t.name||null!=t.icon)&&b.Z.updateChannel(e,t,S.Z.NEW_GROUP_DM_INVITE_MODAL),Y.default.track(er.rMx.GDM_EDIT_INTERACTED,{channel_id:e,channel_type:er.d4z.GROUP_DM,location:S.Z.NEW_GROUP_DM_INVITE_MODAL,new_name_set:""!==this.state.newChannelName,new_icon_set:null!=this.state.previewIcon})})}),eo(this,"pushToExistingDM",(e,t)=>{let n=this._searchCounter,r=(0,I.v_)(e),i=H.Z.getChannelId()===e.id;b.Z.addRecipients(e.id,t,er.Sbl.ADD_FRIENDS_TO_DM).then(n=>{if(i){if(e.isDM()&&n!==e.id)return void g.Z.call(n,!1,!0);g.Z.ring(n,t,"dm_invite")}}),Y.default.track(er.rMx.CREATE_DM_USER_LIST_CLICKED,ec(es({},r),{is_new_dm:!0,entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,recipient_ids:t,num_searches:n,affinity_score:this._getUserAffinities(t).affinities}))}),eo(this,"handleInviteUsers",()=>{let{channel:e,selectedUsers:t,onClose:n}=this.props,r=Array.from(t);if(null!=e){let t=ev(Array.from(new Set([...e.recipients,...r])));t.size>0?(0,f.h7j)(n=>(0,i.jsx)(em,ec(es({},n),{onConfirm:()=>this.pushToExistingDM(e,r),channelIds:t})),{},(0,f.VnL)(this.context.appContext)):this.pushToExistingDM(e,r)}else{let e=ev(r);r.length>1&&e.size>0?(0,f.h7j)(t=>(0,i.jsx)(em,ec(es({},t),{onConfirm:()=>this.createNewDM(r),channelIds:e})),{},(0,f.VnL)(this.context.appContext)):this.createNewDM(r)}n()}),eo(this,"handleCopyInvite",e=>{let{channel:t,invite:n}=this.props;null!=n&&(0,K.JG)(e),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),this.setState({copied:!0}),this.copyTimeout=setTimeout(()=>{this.setState({copied:!1})},1e3),Y.default.track(er.rMx.COPY_INSTANT_INVITE,{server:null,channel:null!=t?t.id:null,channel_type:null!=t?t.type:null,location:er.Sbl.ADD_FRIENDS_TO_DM,code:null!=n?n.code:null})}),eo(this,"scrollToCounterSearchBarHeightChange",e=>{var t,n;if(!this.props.inBornThisNamedExperiment)return;let r=null==(n=this.scrollerRef.current)||null==(t=n.getScrollerNode)?void 0:t.call(n);null!=r&&(r.scrollTop=Math.max(0,r.scrollTop+e))})}}function eb(e){let{selectedUsers:t,channelName:n,previewIcon:r,onIconChange:l,onIconRemove:a,onChange:o}=e,{analyticsLocations:s}=(0,P.ZP)(S.Z.NEW_GROUP_DM_INVITE_MODAL);if(!(0,w.a)(S.Z.NEW_GROUP_DM_INVITE_MODAL))return null;let c=(0,T.pT)(Array.from(t),q.default,z.Z);return(0,i.jsxs)("div",{className:el.customizationContainer,children:[(0,i.jsx)(R.B,{className:el.iconSelector,channel:null,previewIcon:r,onIconChange:l,onIconRemove:a,analyticsLocations:s,petite:!0,allowRemovingIcon:!1}),(0,i.jsx)(f.Text,{className:el.channelNameLabel,variant:"text-sm/medium",color:"header-muted",children:ei.intl.string(ei.t.YynaLC)}),(0,i.jsx)(f.oil,{"aria-label":ei.intl.string(ei.t.YynaLC),name:"create-gdm-channel-name",placeholder:c,value:n,onChange:o})]})}function e_(e){var{channel:t}=e,n=eu(e,["channel"]);let r=(0,p.cj)([G.Z,F.Z,W.Z],()=>{let e;return null!=t&&null!=(e=F.Z.getInvite(t.id))&&e.isExpired()&&(e=null),ec(es({},G.Z.getState()),{invite:e,hideDiscriminator:W.Z.hidePersonalInformation,hideInstantInvites:W.Z.hideInstantInvites})});return(0,i.jsx)(eg,es({channel:t},n,r))}function ey(e){let{channel:t,location:n,subscribeToGlobalHotkey:r,initialPopoutOpen:a}=e,[o,s]=l.useState(null!=a&&a),c=(0,w.a)(n),u="channel-invite-modal-".concat(null==t?void 0:t.id),d=(0,f.VXO)(u),p=l.useCallback(()=>(0,f.ZDy)(()=>Promise.resolve(e=>(0,i.jsx)(e_,ec(es({},e),{channel:t,inBornThisNamedExperiment:c}))),{modalKey:u}),[t,u,c]),h=l.useCallback(()=>c?d?(0,f.Mr3)(u):p():s(e=>!e),[c,d,u,p,s]);return l.useEffect(()=>(r&&X.S.subscribe(er.CkL.TOGGLE_DM_CREATE,h),()=>{X.S.unsubscribe(er.CkL.TOGGLE_DM_CREATE,h)}),[r,h,c]),(0,j.ZP)(()=>{(0,L._)()}),{showModal:p,renderPopout:e=>(0,i.jsx)(e_,ec(es({},e),{onClose:e.closePopout,channel:t,inBornThisNamedExperiment:c})),toggleVisible:h,popoutOpen:o,setPopoutOpen:s,inBornThisNamedExperiment:c}}function eC(e){var t,n;let{channel:r,iconClassName:a,className:o,icon:s,tooltip:c,tooltipPosition:u="bottom",popoutPosition:d="bottom",popoutAlign:h="right",subscribeToGlobalHotkey:m=!1,location:g}=e,b=l.useRef(null),_=null!=s?s:null==r?f.kL_:f.ejJ,{showModal:y,renderPopout:C,toggleVisible:x,popoutOpen:v,setPopoutOpen:O,inBornThisNamedExperiment:j}=ey({initialPopoutOpen:null!=r&&r.isGroupDM()&&0===r.recipients.length,channel:r,location:g,subscribeToGlobalHotkey:m}),E=(0,p.e7)([q.default],()=>q.default.getUser(null==r?void 0:r.getRecipientId()));return null!=(t=null==E?void 0:E.bot)&&t||null!=(n=null==E?void 0:E.isProvisional)&&n?null:j?(0,i.jsx)(et.ZP.Icon,{ref:b,onClick:y,icon:_,className:o,iconClassName:a,tooltip:c,tooltipPosition:u}):(0,i.jsx)(f.yRy,{targetElementRef:b,renderPopout:C,position:d,shouldShow:v,nudgeAlignIntoViewport:!0,autoInvert:!0,align:h,onRequestClose:()=>O(!1),animation:f.yRy.Animation.NONE,ignoreModalClicks:!0,clickTrap:!0,children:e=>(0,i.jsx)(et.ZP.Icon,ec(es({},e),{ref:b,onClick:x,icon:_,className:o,iconClassName:a,tooltip:c,tooltipPosition:u}))})}function ex(e){var{channel:t,popoutPosition:n="bottom",popoutAlign:r="right",fullWidth:a=!1,text:o,icon:s,subscribeToGlobalHotkey:c=!1}=e,u=eu(e,["channel","popoutPosition","popoutAlign","fullWidth","text","icon","subscribeToGlobalHotkey"]);let d=l.useRef(null),{showModal:p,renderPopout:h,toggleVisible:m,popoutOpen:g,setPopoutOpen:b,inBornThisNamedExperiment:_}=ey({initialPopoutOpen:!1,channel:t,location:"PrivateChannelRecipientsInviteTextButton",subscribeToGlobalHotkey:c});return _?(0,i.jsx)(f.zxk,ec(es({},u),{onClick:p,variant:"primary",buttonRef:d,text:o,"aria-label":o,icon:s,fullWidth:a})):(0,i.jsx)(f.yRy,{targetElementRef:d,renderPopout:h,position:n,shouldShow:g,nudgeAlignIntoViewport:!0,autoInvert:!0,align:r,onRequestClose:()=>b(!1),animation:f.yRy.Animation.NONE,ignoreModalClicks:!0,clickTrap:!0,children:e=>(0,i.jsx)(f.zxk,ec(es({},e,u),{onClick:m,variant:"primary",buttonRef:d,text:o,"aria-label":o,icon:s,fullWidth:a}))})}function ev(e){let t=eO(e);return new Set((0,s.chain)(B.Z.getMutablePrivateChannels()).values().filter(e=>(0,U.bc)(e.type)).filter(e=>eO(e.recipients)===t).map(e=>e.id).value())}function eO(e){return JSON.stringify(e.sort())}eo(eg,"contextType",E.ZP)},882378:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(952265),o=n(481060),s=n(493773),c=n(378298),u=n(444957),d=n(276618),p=n(367408),h=n(473092),f=n(819640),m=n(665149),g=n(134612),b=n(388032),_=n(807597);let y=i.memo(function(e){let{channel:t}=e,y=(0,u.h)(t.id),C=(0,d.o)(t.id),x=(0,p.M)(t.id),v=(0,a.f9)(),O=(0,l.e7)([f.Z],()=>f.Z.hasLayers()),j=i.useCallback(()=>C?b.intl.string(b.t["16QyDg"]):null!=x?b.intl.string(b.t.kCN9i4):null,[C,x]),E=i.useMemo(()=>(C||null!=x)&&!v&&!O,[C,x,v,O]),[S,I]=i.useState(j());i.useEffect(()=>{null!=x&&null!=y&&(o.uvj.announce(b.intl.string(b.t.acsXuL)),setTimeout(()=>{(0,c.T)(t.id,[x.id])},5e3),(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:x.id,warningType:x.type,isNudgeWarning:null!=x,viewName:h.pb.SAFETY_TOOLS_NUDGE_TOOLTIP})),C&&(o.uvj.announce(b.intl.string(b.t["1dxCqK"])),setTimeout(()=>{(0,c.Ot)(t.id)},5e3))},[t,x,y,C]),(0,s.ZP)(()=>{null!=y&&(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:y.id,warningType:y.type,isNudgeWarning:null!=x,viewName:h.pb.SAFETY_TOOLS_BUTTON})}),i.useEffect(()=>{let e=j();null!=e&&I(e)},[C,x,j]);let P=i.useCallback(()=>{null!=x&&(0,c.T)(t.id,[x.id]),null!=y&&((0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("37031"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{onClose:i,transitionState:l}=n;return(0,r.jsx)(e,{otherUserId:t.getRecipientId(),channelId:t.id,warningId:y.id,warningType:y.type,onClose:i,transitionState:l})}},{modalKey:g.X_}),(0,h.qc)({channelId:t.id,senderId:t.getRecipientId(),warningId:y.id,warningType:y.type,cta:h.NM.USER_SAFETY_TOOLS_BUTTON_CLICK,isNudgeWarning:null!=x}))},[x,y,t]);return null==y?null:(0,r.jsx)(o.ua7,{forceOpen:E,text:S,color:o.FGA.BRAND,position:"bottom",tooltipClassName:_.tooltip,tooltipContentClassName:_.tooltipContent,children:()=>(0,r.jsx)(m.ZP.Icon,{icon:o.b7C,onClick:P,tooltip:b.intl.string(b.t.rpc2qq),tooltipDisabled:null!=x})})})},207868:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(557135),u=n(590293),d=n(66999),p=n(665906),h=n(496675),f=n(979651),m=n(585483),g=n(665149),b=n(981631),_=n(388032);let y=i.memo(function(e){let{channel:t}=e,n=(0,u.Z)(),l=(0,o.e7)([f.Z],()=>f.Z.isInChannel(t.id)),y=(0,o.e7)([f.Z],()=>!a().isEmpty(f.Z.getVoiceStatesForChannel(t.id))),C=(0,o.e7)([h.Z],()=>h.Z.can(b.Plq.CONNECT,t)),{needSubscriptionToAccess:x}=(0,d.Z)(t.id),v=(0,p.$R)(t),O=i.useCallback(()=>{c.Z.handleVoiceConnect({channel:t,connected:l,needSubscriptionToAccess:x,locked:!1})},[t,l,x]);return(i.useEffect(()=>(m.S.subscribe(b.CkL.CALL_START,O),()=>{m.S.unsubscribe(b.CkL.CALL_START,O)}),[O]),p.tM.useExperiment({guildId:t.guild_id,location:"63250c_1"},{autoTrackExposure:!1}).enabled&&!n&&!l&&C&&v&&t.isVocalThread())?(0,r.jsx)(g.ZP.Icon,{icon:s.Csw,onClick:O,tooltip:y?_.intl.string(_.t.fdEeb2):_.intl.string(_.t.focH1t)}):null})},473065:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(816782),o=n(221292),s=n(687158),c=n(60577),u=n(433355),d=n(665149),p=n(981631),h=n(388032);function f(e){let{channel:t,showCallOrActivityPanel:n}=e,f=(0,i.e7)([u.ZP],()=>u.ZP.getSection(t.id,null==t?void 0:t.isDM())),m=(0,s.ZP)(t.getRecipientId()),g=(0,c.Z)(),b=f===p.ULH.PROFILE&&g;return(0,r.jsx)(d.JO,{disabled:!g||n,tooltip:!g||n?h.intl.string(h.t.YneDgI):b?h.intl.string(h.t.niD64e):h.intl.string(h.t["+FAsHh"]),icon:l.z65,onClick:()=>{(0,o.TY)({displayProfile:m,isProfileOpen:!b}),a.Z.toggleUserProfileSidebarSection()},selected:b&&g&&!n})}},576171:function(e,t,n){n.d(t,{Z:()=>p});var r=n(647438),i=n(442837),l=n(445384),a=n(420438),o=n(271383),s=n(430824),c=n(594174),u=n(981631),d=n(440493);function p(e){let t=(0,i.e7)([s.Z,a.Z,c.default,o.ZP],()=>{let t=s.Z.getGuild(e);if((null==t?void 0:t.features.has(u.oNc.HUB))!==!0||!0===a.Z.hasViewedPrompt(d.r.REAL_NAME_PROMPT,t.id))return null;let n=c.default.getCurrentUser();if(null==n)return null;let r=o.ZP.getMember(t.id,null==n?void 0:n.id);return(null==r?void 0:r.nick)==null});return r.useEffect(()=>{null!=e&&null!=t&&(t||l.Z.viewPrompt(d.r.REAL_NAME_PROMPT,e))},[t,e]),!0===t}},676316:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(647438),i=n(661869),l=n(876215),a=n(442837),o=n(592125),s=n(994752),c=n(463031);let u="1221458499993600000",d={content_type:l.s.LEADERBOARD,extra:{type:"leaderboard_extra",leaderboard_id:c.z},id:u,author_id:u,author_type:i.i.USER,participants:[],traits:[]};function p(e){let{entries:t,channelId:n}=e,i=(0,a.e7)([o.Z],()=>o.Z.getChannel(n)),l=null==i?void 0:i.guild_id,c=(0,a.e7)([s.Z],()=>null!=l&&null!=s.Z.getLeaderboards(l),[l]);return{entriesWithLeaderboard:r.useMemo(()=>c?[d,...null!=t?t:[]]:t,[c,t]),hasLeaderboardEntry:c}}},570096:function(e,t,n){n.d(t,{N:()=>C}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(755721),s=n(481060),c=n(782568),u=n(243778),d=n(970731),p=n(594174),h=n(63063),f=n(69589),m=n(981631),g=n(921944),b=n(388032),_=n(942889);let y=e=>{let{user:t,markAsDismissed:n}=e;return(0,r.jsxs)("div",{className:_.assetContainer,children:[(0,r.jsx)(f.Z,{user:t,rank:1,avatarSize:s.EFr.SIZE_56}),(0,r.jsx)(s.P3F,{className:_.closeIcon,onClick:()=>{n(g.L.USER_DISMISS)},children:(0,r.jsx)(s.Dio,{color:"currentColor",size:"sm"})})]})};function C(e){let{children:t}=e,n=[a.z.LEADERBOARD_NUX_COACHMARK],[f,_]=(0,u.US)(n,void 0),C=(0,l.e7)([p.default],()=>p.default.getCurrentUser()),x=i.useRef(null);return f!==a.z.LEADERBOARD_NUX_COACHMARK||null==C?t:(0,r.jsx)(s.yRy,{targetElementRef:x,renderPopout:()=>(e=>{let{user:t,markAsDismissed:n}=e;return(0,r.jsx)(d.ZP,{asset:(0,r.jsx)(y,{user:t,markAsDismissed:n}),header:b.intl.string(b.t.wAtFS0),content:b.intl.string(b.t.qIZICA),buttonCTA:b.intl.string(b.t.hvVgAQ),onClick:()=>{(0,c.Z)(h.Z.getArticleURL(m.BhN.GUILD_LEADERBOARD)),n(g.L.USER_DISMISS)},markAsDismissed:n,caretPosition:d.DF.RIGHT_TOP,buttonProps:{color:o.zx.Colors.WHITE,look:o.zx.Looks.LINK,size:o.zx.Sizes.MIN}})})({user:C,markAsDismissed:_}),position:"left",animation:s.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>(0,r.jsx)("div",{ref:x,children:t})})}},652730:function(e,t,n){n.d(t,{Z:()=>p});var r,i,l=n(442837),a=n(570140),o=n(41776);let s=null,c=null;function u(){let e=o.Z.mostRecentLurkedGuildId();null!=e?(s=e,c=null):(c=null!=s?s:null,s=null)}class d extends(i=l.ZP.Store){initialize(){this.syncWith([o.Z],u)}shouldShowPopout(e){return c===e}}(r="displayName")in d?Object.defineProperty(d,r,{value:"LurkerModePopoutStore",enumerable:!0,configurable:!0,writable:!0}):d[r]="LurkerModePopoutStore";let p=new d(a.Z)},657352:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(388032),a=n(576385);let o=e=>{let{guild:t,onClose:o}=e;return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsx)("img",{alt:"",className:a.image,src:n(238980)}),(0,r.jsxs)("div",{className:a.content,children:[(0,r.jsx)(i.X6q,{variant:"heading-md/semibold",children:l.intl.format(l.t.THgVCA,{guild:t.name})}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",children:l.intl.string(l.t["1yq3nJ"])}),(0,r.jsx)("div",{className:a.buttonContainer,children:(0,r.jsx)(i.zxk,{variant:"primary",text:l.intl.string(l.t.hLw0wc),onClick:o})})]})]})}},800329:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(218867),s=n(581857);let c=16/9;function u(e,t){return Math.max(1,Math.floor((t-e)/(8+e))+1)}function d(e,t,n){let r=t-e;for(;r>0;){let t=e,i=Math.floor(r/2);n(t+=i)?(e=t+1,r-=i+1):r=i}return e}function p(e){var t;let{className:n,children:l,keyExtractor:p,paddingTop:h=0,paddingBottom:f=0}=e,[m,g]=i.useState({width:0,height:0}),{width:b,height:_}=m,y=null!=(t=null==l?void 0:l.length)?t:0,C=b-16,x=_-(h+f),{tileStyle:v,tileWidth:O,rows:j,columns:E}=i.useMemo(()=>(function(e,t,n){let{rows:r,columns:i,tileWidth:l}=function(e,t,n){let r,i=Math.floor(t/25);r=e>25?d(i,t,e=>{let r=u(e,t);return r*function(e,t){let n=e/c;return Math.ceil((t-n)/(8+n))+1}(e,n)>25}):d(i,t,r=>{let i=u(r,t);return i*function(e,t){let n=e/c;return Math.floor((t-n)/(8+n))+1}(r,n)>=e})-1;let l=u(r,t),a=Math.ceil(e/l);return{tileWidth:r,columns:Math.max(1,l),rows:a}}(e,t,n);return{tileStyle:{width:l},tileWidth:l,rows:r,columns:i}})(y,C,x),[y,C,x]),S=E+1,I=S*O+(S-1)*8<=b,P=Math.floor(O/c)+8,Z=Math.max(0,x-P*j)/2;return(0,r.jsx)(o.Z,{fade:!0,className:n,listPadding:[h+Z,0,f+Z-8,8],renderRow:function(e){var t;let n=e*E;return(0,r.jsx)("div",{className:s.row,children:null==l||null==(t=l.slice(n,n+E))?void 0:t.map((e,t)=>{var i;let l=n+t;return(0,r.jsx)("div",{style:v,className:a()(s.tile,{[s.padColumn]:I,[s.noVerticalMargin]:l>=(j-1)*E,[s.noHorizontalMargin]:(l+1)%E==0||l===y-1}),children:(0,r.jsx)("div",{className:s.tileSizer,children:e(O)})},null!=(i=null==p?void 0:p(l))?i:l)})},e)},rowCount:j,rowCountBySection:[j],rowHeight:P,onResize:g})}},48929:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r,i,l=n(442837),a=n(570140),o=n(430198),s=n(314897),c=n(592125),u=n(709054),d=n(522579);let p=new Set;class h extends(r=l.ZP.Store){shouldDisplayPrompt(e){return p.has(e)}}(i="displayName")in h?Object.defineProperty(h,i,{value:"MediaPostSharePromptStore",enumerable:!0,configurable:!0,writable:!0}):h[i]="MediaPostSharePromptStore";let f=new h(a.Z,{CONNECTION_OPEN:function(){p=new Set},MESSAGE_CREATE:function(e){var t;if(e.isPushNotification)return;let n=e.message;if(s.default.getId()!==(null==(t=n.author)?void 0:t.id)||!(0,d.z9)(n.id,n.channel_id))return;let r=c.Z.getChannel(n.channel_id);null!=r&&null!=r.parent_id&&o.Z.isChannelGated(r.guild_id,r.parent_id)&&p.add(u.default.castMessageIdAsChannelId(e.message.id))},DISMISS_MEDIA_POST_SHARE_PROMPT:function(e){let{threadId:t}=e;p.delete(t)},LOGOUT:function(e){p.clear()}})},522579:function(e,t,n){n.d(t,{z9:()=>l}),n(399606);var r=n(592125),i=n(709054);function l(e,t){if(e!==i.default.castChannelIdAsMessageId(t))return!1;let n=r.Z.getChannel(t);if(null==n||!n.isForumPost())return!1;let l=r.Z.getChannel(n.parent_id);return(null==l?void 0:l.isMediaChannel())===!0}},333535:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(399606),a=n(481060),o=n(367907),s=n(592125),c=n(934415),u=n(572004),d=n(63063),p=n(158222),h=n(523900),f=n(981631),m=n(388032),g=n(235391);function b(e){let{threadId:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.getChannel(t)),b=(0,l.e7)([s.Z],()=>s.Z.getChannel(null==n?void 0:n.parent_id)),_=i.useCallback(()=>{null!=n&&null!=b&&((0,o.yw)(f.rMx.MEDIA_POST_SHARE_PROMPT_CLICKED,{media_post_id:n.id}),(0,u.JG)((0,c.EO)(n,b)))},[n,b]);return(0,r.jsxs)("div",{className:g.sharePromptContainer,children:[(0,r.jsx)(h.Z,{}),(0,r.jsxs)("div",{className:g.sharePromptContent,children:[(0,r.jsx)(a.Text,{variant:"text-md/semibold",color:"header-primary",children:m.intl.string(m.t["5uAO7e"])}),(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"text-default",children:m.intl.format(m.t.WnfPV1,{helpArticleUrl:d.Z.getCreatorSupportArticleURL(f.BhN.MEDIA_CHANNEL)})}),(0,r.jsx)(a.LZC,{size:4}),(0,r.jsx)(a.zxk,{text:m.intl.string(m.t.C5UQCw),variant:"primary",icon:a.xPt,onClick:_})]}),(0,r.jsx)(a.P3F,{className:g.closeButton,onClick:()=>{(0,p.fn)(t)},"aria-label":m.intl.string(m.t["0+xZHx"]),children:(0,r.jsx)(a.Dio,{color:"currentColor",size:"xs"})})]})}},523900:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=45,height:a=46}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height"]);return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(o)),n=n={width:l,height:a,viewBox:"0 0 49 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M29.424 22.375L30.9908 17.9974C31.6183 16.242 32.8917 14.792 34.5514 13.943L46.105 8.03515C47.7328 7.19988 49.3851 9.15697 48.2694 10.6141C47.1536 12.0713 45.1905 13.7662 42.0689 15.0465L45.5563 15.0222C46.9464 15.01 47.4829 16.8268 46.3123 17.5767C44.3247 18.8632 41.3372 19.924 37.4962 18.8144L38.9229 20.1557C39.6728 20.863 39.1119 22.1128 38.0815 22.0397C36.6183 21.9238 34.8746 21.4909 33.6857 20.2106C33.6857 20.2106 32.8992 22.375 30.8201 23.5639C30.0397 24.0089 29.1252 23.2224 29.424 22.375Z",fill:"white"}),(0,r.jsx)("path",{d:"M19.5767 46.8513C20.112 45.2515 18.84 43.3838 16.7357 42.6798C14.6314 41.9757 12.4916 42.7018 11.9563 44.3016C11.421 45.9014 12.6929 47.769 14.7973 48.4731C16.9016 49.1772 19.0414 48.4511 19.5767 46.8513Z",fill:"#66B9FF"}),(0,r.jsx)("path",{d:"M25.2658 39.551C25.0403 40.2339 24.4915 40.7521 23.7172 41.0996C23.9001 41.6423 23.9184 42.1788 23.7477 42.6848C23.577 43.1909 23.1685 43.6847 22.6198 44.0261C22.7379 44.4329 22.7336 44.8655 22.6076 45.2699C21.9918 47.0929 18.791 47.666 15.456 46.5441C12.121 45.4223 9.90783 43.0384 10.5175 41.2155C10.6648 40.8046 10.9325 40.4476 11.2857 40.1912C11.0662 39.6059 11.0236 39.0206 11.2065 38.478C11.3894 37.9354 11.7186 37.5574 12.1881 37.2342C11.7796 36.4904 11.6576 35.7405 11.8832 35.0637C12.56 33.0457 16.1083 32.4116 19.803 33.6493C23.4978 34.8869 25.9426 37.533 25.2658 39.551Z",fill:"#89D6FF"}),(0,r.jsx)("path",{d:"M9.76155 19.8454C11.6089 14.3277 19.0166 11.8341 26.2963 14.279C33.5759 16.7238 37.984 23.1743 36.1366 28.692C34.9294 32.2891 31.3628 34.5998 27.0096 35.0998C26.5376 35.1499 26.0849 35.3144 25.6908 35.5789C25.2966 35.8435 24.9729 36.2001 24.7477 36.6179L23.9855 38.0506C23.1686 39.3737 20.6079 39.7517 17.9557 38.8615C15.1146 37.9104 13.2368 35.868 13.694 34.2584L13.9318 33.0207C14.0215 32.5411 13.9898 32.0467 13.8397 31.5824C13.6895 31.1181 13.4257 30.6988 13.0722 30.3625C9.97494 27.3506 8.56657 23.406 9.76155 19.8454Z",fill:"#FFEFA3"}),(0,r.jsx)("path",{d:"M21.0407 42.2577C19.8335 42.2577 18.5166 42.0321 17.2119 41.5932C15.1755 40.9164 13.4013 39.7763 12.3344 38.4716C12.2837 38.4193 12.2444 38.3572 12.2191 38.289C12.1938 38.2207 12.1829 38.148 12.1872 38.0754C12.1915 38.0027 12.2109 37.9318 12.2441 37.8671C12.2773 37.8023 12.3236 37.7452 12.3801 37.6993C12.4366 37.6535 12.502 37.6199 12.5722 37.6006C12.6423 37.5814 12.7158 37.577 12.7877 37.5877C12.8597 37.5984 12.9287 37.624 12.9902 37.6628C13.0518 37.7016 13.1046 37.7528 13.1453 37.8131C14.0903 38.9654 15.6938 39.9836 17.5411 40.6055C19.2848 41.1908 21.0895 41.3615 22.504 41.0749C22.5736 41.0547 22.6467 41.0491 22.7186 41.0586C22.7905 41.068 22.8597 41.0923 22.9217 41.1298C22.9838 41.1674 23.0374 41.2174 23.0791 41.2767C23.1208 41.336 23.1498 41.4033 23.1642 41.4744C23.1786 41.5455 23.1781 41.6188 23.1627 41.6897C23.1473 41.7605 23.1174 41.8275 23.0748 41.8862C23.0322 41.9449 22.9779 41.9941 22.9154 42.0308C22.8528 42.0675 22.7833 42.0908 22.7113 42.0992C22.1613 42.2092 21.6015 42.2623 21.0407 42.2577V42.2577ZM20.8761 45.0745C21.0147 45.062 21.1429 44.9956 21.233 44.8896C21.3231 44.7835 21.3679 44.6463 21.3577 44.5075C21.3453 44.3693 21.2787 44.2417 21.1725 44.1526C21.0662 44.0635 20.9289 44.0201 20.7907 44.0319C19.5043 44.1416 17.9862 43.9283 16.5229 43.4344C14.9377 42.904 13.5233 42.0931 12.5478 41.1481C12.4458 41.0675 12.3175 41.0276 12.1878 41.0362C12.058 41.0448 11.9361 41.1014 11.8457 41.1948C11.7553 41.2882 11.7029 41.4119 11.6985 41.5419C11.6942 41.6718 11.7383 41.7987 11.8222 41.898C12.9075 42.9528 14.4622 43.849 16.1876 44.4282C17.5228 44.8733 18.858 45.105 20.0957 45.105C20.364 45.105 20.62 45.0928 20.8761 45.0745V45.0745Z",fill:"#3F96EF"}),(0,r.jsx)("path",{d:"M11.6396 20.8698C13.2065 16.1813 19.4924 14.0657 25.6746 16.1386C31.8568 18.2116 35.5942 23.6865 34.0212 28.375C32.9969 31.4296 29.9729 33.3867 26.2782 33.8074C25.8773 33.851 25.493 33.9914 25.1584 34.2166C24.8238 34.4418 24.549 34.7449 24.3577 35.0999L23.7114 36.3193C23.0163 37.4411 20.8459 37.7642 18.59 37.0082C16.1817 36.1973 14.5844 34.4658 14.9746 33.1001L15.1819 32.0454C15.2562 31.6382 15.2283 31.2189 15.1006 30.8252C14.9729 30.4314 14.7494 30.0756 14.4502 29.7895C11.8164 27.2349 10.6275 23.8877 11.6396 20.8698Z",fill:"url(#paint0_linear_859_60333)"}),(0,r.jsx)("path",{d:"M18.8521 39.1186C19.1939 39.1973 19.54 39.2563 19.8886 39.2954C21.5042 33.412 23.2053 28.7905 24.7234 26.0652C28.1254 27.1627 29.3875 26.6993 29.8387 26.1018C30.2898 25.5043 30.1374 24.6691 29.3875 23.5838C28.6376 22.4986 27.9121 22.151 27.0341 22.3096C26.1562 22.4681 25.2111 23.2851 24.2539 24.8032C23.3483 24.4754 22.4627 24.0947 21.6018 23.6631C21.7908 21.6572 21.553 20.3098 20.9007 19.5965C20.5105 19.1697 19.7666 18.749 18.468 19.1575C17.1694 19.566 16.9316 20.2305 16.9255 20.7183C16.9072 21.9072 18.5351 23.1997 20.48 24.2545C19.9617 28.0589 18.1571 33.6985 16.4377 38.2041C16.7412 38.3718 17.0547 38.5205 17.3767 38.6492C18.0412 36.8933 18.9801 34.3021 19.8032 31.6073C20.6263 28.9125 21.1994 26.5896 21.4677 24.7605C22.2298 25.1263 22.998 25.4495 23.7174 25.7177C22.9187 27.1688 22.0895 29.0954 21.2421 31.4549C20.6507 33.0949 19.7971 35.6556 18.8521 39.1186ZM27.217 23.3399C27.3816 23.3095 27.8694 23.2241 28.5278 24.1752C29.0766 24.9739 29.0887 25.3641 29.0095 25.4677C28.8022 25.7421 27.6133 25.8579 25.2782 25.1446C25.9854 24.0655 26.6439 23.4375 27.217 23.3399ZM20.6019 23.1204C18.9862 22.1876 17.962 21.2548 17.9681 20.7366C17.9742 20.4439 18.5412 20.2366 18.785 20.1574C19.0013 20.0837 19.2273 20.0426 19.4557 20.0354C19.8825 20.0354 20.0593 20.2244 20.1263 20.3037C20.5653 20.7793 20.6995 21.7791 20.6019 23.1204Z",fill:"#FFC31A"}),(0,r.jsx)("path",{d:"M32.5883 3.43255C32.9256 3.21613 33.2127 2.93007 33.4304 2.59358C33.648 2.25708 33.7912 1.87793 33.8503 1.48156L34.0515 0.115857C34.0573 0.0830328 34.0746 0.0533456 34.1003 0.0321176C34.126 0.0108896 34.1584 -0.000490999 34.1918 1.62532e-05C34.2244 -0.000288277 34.256 0.0113057 34.2807 0.032628C34.3054 0.0539503 34.3215 0.0835394 34.3259 0.115857L34.5271 1.48156C34.5862 1.87793 34.7294 2.25708 34.9471 2.59358C35.1647 2.93007 35.4519 3.21613 35.7892 3.43255L35.966 3.54839C35.9867 3.55964 36.004 3.57641 36.0158 3.59685C36.0277 3.6173 36.0336 3.64062 36.033 3.66423C36.0336 3.68785 36.0277 3.71117 36.0158 3.73162C36.004 3.75206 35.9867 3.76883 35.966 3.78007L35.7892 3.90201C35.4524 4.11903 35.1657 4.40525 34.9481 4.74163C34.7305 5.07802 34.587 5.45688 34.5271 5.85301L34.3259 7.21871C34.3216 7.25162 34.3057 7.28194 34.2812 7.30426C34.2566 7.32659 34.2249 7.33948 34.1918 7.34065V7.34065C34.1579 7.33971 34.1254 7.32703 34.0998 7.30479C34.0742 7.28256 34.0572 7.25213 34.0515 7.21871L33.8503 5.85301C33.7905 5.45688 33.647 5.07802 33.4294 4.74163C33.2118 4.40525 32.9251 4.11903 32.5883 3.90201L32.4115 3.78617C32.3918 3.77413 32.3758 3.75702 32.3651 3.73663C32.3543 3.71624 32.3493 3.69334 32.3505 3.67033V3.67033C32.3493 3.64732 32.3543 3.62442 32.3651 3.60403C32.3758 3.58364 32.3918 3.56653 32.4115 3.55449L32.5883 3.43255Z",fill:"#55EF84"}),(0,r.jsx)("path",{d:"M39.3804 39.3185C39.7181 39.1011 40.0054 38.8141 40.2231 38.4765C40.4408 38.139 40.5837 37.7588 40.6424 37.3614L40.8497 35.9957C40.8541 35.9634 40.8702 35.9338 40.8949 35.9125C40.9196 35.8912 40.9512 35.8796 40.9838 35.8799V35.8799C41.0165 35.8796 41.0481 35.8912 41.0728 35.9125C41.0974 35.9338 41.1135 35.9634 41.118 35.9957L41.3253 37.3614C41.3851 37.7584 41.5285 38.1382 41.7461 38.4755C41.9636 38.8129 42.2504 39.1003 42.5873 39.3185L42.7641 39.4283C42.7826 39.4415 42.7977 39.4589 42.8083 39.479C42.8189 39.4991 42.8246 39.5214 42.8251 39.5441V39.5563C42.8246 39.5782 42.8189 39.5996 42.8082 39.6187C42.7976 39.6379 42.7825 39.6541 42.7641 39.666L42.5873 39.7819C42.2498 39.9996 41.9627 40.2867 41.7451 40.6242C41.5274 40.9617 41.3843 41.3418 41.3253 41.739L41.118 43.0986C41.1137 43.1315 41.0978 43.1618 41.0733 43.1841C41.0487 43.2065 41.017 43.2194 40.9838 43.2205V43.2205C40.9507 43.2194 40.919 43.2065 40.8944 43.1841C40.8699 43.1618 40.854 43.1315 40.8497 43.0986L40.6424 41.739C40.5845 41.3414 40.4419 40.9609 40.2241 40.6233C40.0064 40.2856 39.7186 39.9987 39.3804 39.7819L39.2035 39.666C39.1852 39.6541 39.1701 39.6379 39.1594 39.6187C39.1488 39.5996 39.143 39.5782 39.1426 39.5563V39.5441C39.143 39.5214 39.1488 39.4991 39.1594 39.479C39.17 39.4589 39.1851 39.4415 39.2035 39.4283L39.3804 39.3185Z",fill:"#FF78B5"}),(0,r.jsx)("path",{d:"M26.5035 8.52263C26.7308 8.37742 26.9245 8.18538 27.0717 7.95934C27.2189 7.73329 27.3162 7.47844 27.3571 7.2118L27.4912 6.29118C27.4953 6.2696 27.5065 6.25004 27.5231 6.23565C27.5397 6.22127 27.5607 6.21291 27.5826 6.21192V6.21192C27.6049 6.21172 27.6265 6.21966 27.6433 6.23426C27.6602 6.24885 27.6711 6.26909 27.6741 6.29118L27.8143 7.2118C27.8541 7.47805 27.9503 7.73273 28.0964 7.95879C28.2426 8.18486 28.4353 8.37709 28.6618 8.52263L28.7776 8.60189C28.7914 8.60981 28.8027 8.62143 28.8103 8.63544C28.8178 8.64944 28.8213 8.66527 28.8203 8.68115C28.8208 8.69613 28.8171 8.71096 28.8096 8.72391C28.802 8.73686 28.7909 8.7474 28.7776 8.75431L28.6618 8.83357C28.4353 8.97911 28.2426 9.17135 28.0964 9.39741C27.9503 9.62348 27.8541 9.87815 27.8143 10.1444L27.6741 11.065C27.6711 11.0871 27.6602 11.1074 27.6433 11.1219C27.6265 11.1365 27.6049 11.1445 27.5826 11.1443V11.1443C27.5607 11.1433 27.5397 11.1349 27.5231 11.1206C27.5065 11.1062 27.4953 11.0866 27.4912 11.065L27.3571 10.1444C27.3162 9.87776 27.2189 9.62291 27.0717 9.39686C26.9245 9.17082 26.7308 8.97878 26.5035 8.83357L26.3876 8.75431C26.3752 8.74646 26.3648 8.73571 26.3573 8.72297C26.3499 8.71023 26.3457 8.69588 26.345 8.68115V8.68115C26.3452 8.66548 26.3492 8.6501 26.3566 8.6363C26.364 8.62251 26.3747 8.6107 26.3876 8.60189L26.5035 8.52263Z",fill:"#89D6FF"}),(0,r.jsx)("path",{d:"M0.524839 29.6125C0.752168 29.4673 0.945898 29.2752 1.09309 29.0492C1.24028 28.8231 1.33755 28.5683 1.3784 28.3016L1.51253 27.381C1.51663 27.3594 1.52789 27.3399 1.54448 27.3255C1.56108 27.3111 1.58204 27.3027 1.60399 27.3018V27.3018C1.62627 27.3016 1.64786 27.3095 1.6647 27.3241C1.68154 27.3387 1.69247 27.3589 1.69544 27.381L1.83567 28.3016C1.87543 28.5679 1.9716 28.8226 2.11776 29.0486C2.26391 29.2747 2.45667 29.4669 2.68313 29.6125L2.79897 29.6917C2.81276 29.6997 2.82407 29.7113 2.83161 29.7253C2.83915 29.7393 2.84263 29.7551 2.84165 29.771V29.771C2.84218 29.786 2.83846 29.8008 2.8309 29.8138C2.82335 29.8267 2.81228 29.8372 2.79897 29.8442L2.68313 29.9295C2.45667 30.0751 2.26391 30.2673 2.11776 30.4934C1.9716 30.7194 1.87543 30.9741 1.83567 31.2403L1.69544 32.161C1.69247 32.1831 1.68154 32.2033 1.6647 32.2179C1.64786 32.2325 1.62627 32.2404 1.60399 32.2402C1.58204 32.2392 1.56108 32.2309 1.54448 32.2165C1.52789 32.2021 1.51663 32.1825 1.51253 32.161L1.3784 31.2403C1.33755 30.9737 1.24028 30.7189 1.09309 30.4928C0.945898 30.2668 0.752168 30.0747 0.524839 29.9295L0.408999 29.8503C0.396513 29.8424 0.386111 29.8317 0.378679 29.8189C0.371248 29.8062 0.367008 29.7918 0.366321 29.7771V29.7771C0.365528 29.7604 0.369036 29.7438 0.37651 29.7288C0.383983 29.7139 0.39517 29.7011 0.408999 29.6917L0.524839 29.6125Z",fill:"#3541D6"}),(0,r.jsx)("path",{d:"M14.5781 21.0834L14.8647 16.6449C14.9792 14.8659 14.41 13.1103 13.2734 11.7369L5.37186 2.17094C4.25003 0.823536 2.06735 1.91488 2.49413 3.6159C2.92091 5.31693 3.99396 7.55448 6.2559 9.8591L3.20137 8.51778C1.98809 7.98126 0.829688 9.37135 1.57351 10.4749C2.83556 12.3527 5.05482 14.4135 8.84707 14.8951L7.08508 15.5353C6.15835 15.8706 6.17664 17.1814 7.10946 17.5046C8.43858 17.9618 10.1335 18.2423 11.6638 17.5655C11.6638 17.5655 11.5297 19.7604 12.9076 21.5956C13.4258 22.2845 14.5233 21.9431 14.5781 21.0834Z",fill:"white"}),(0,r.jsx)("path",{d:"M32.7407 25.4545C32.9236 27.1067 32.9663 28.3992 33.6369 28.3261C34.3076 28.2529 35.3441 26.8384 35.1611 25.1862C34.9782 23.5339 33.643 22.2658 32.9724 22.339C32.3017 22.4121 32.5578 23.8022 32.7407 25.4545Z",fill:"white"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_859_60333",x1:"34.2419",y1:"5.70262",x2:"5.61649",y2:"53.1558",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.14","stop-color":"#FFE45C"}),(0,r.jsx)("stop",{offset:"0.83","stop-color":"#FFC31A"})]})})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},687683:function(e,t,n){n.d(t,{WN:()=>o,cl:()=>a,oi:()=>s,pS:()=>u,t$:()=>c,t9:()=>r});let r="Message Request Accept Confirmation";var i,l,a=((i={})[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT",i[i.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT",i[i.ACCEPT_HAM_CONFIRMATION_PROMPT=4]="ACCEPT_HAM_CONFIRMATION_PROMPT",i[i.DISMISS_HAM_CONFIRMATION_PROMPT=5]="DISMISS_HAM_CONFIRMATION_PROMPT",i);let o=73,s=26,c=100;var u=12633==n.j?((l={}).REQUESTS="REQUESTS",l.SPAM="SPAM",l):null},268699:function(e,t,n){n.d(t,{H:()=>c,V:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(626135),a=n(687683),o=n(981631);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function c(e){let{channelId:t,onConfirm:c,onCancel:u}=e;l.default.track(o.rMx.OPEN_MODAL,{type:a.t9,channel_id:t}),(0,i.ZDy)(async()=>{let{default:e}=await n.e("4117").then(n.bind(n,217723));return t=>(0,r.jsx)(e,s({onConfirm:c,onDismiss:u},t))})}function u(e){let{onConfirm:t,onCancel:l}=e;(0,i.ZDy)(async()=>{let{default:e}=await n.e("7649").then(n.bind(n,797464));return n=>(0,r.jsx)(e,s({onConfirm:t,onDismiss:l},n))})}},748902:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r,i=n(442837),l=n(570140),a=n(786761),o=n(594174),s=n(355298),c=n(333984);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d={},p=new Set;function h(e){return s.Z.isMessageRequest(e)||c.Z.isSpam(e)}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!h(e)||null!=t&&e!==(null==t?void 0:t.channel_id))return;let r=null==t?null:(0,a.e5)(t);d[e]={loaded:!0,error:n,message:r}}class m extends(r=i.ZP.Store){initialize(){this.waitFor(s.Z,c.Z,o.default)}shouldLoadMessageRequestPreview(e){return!p.has(e)}getMessageRequestPreview(e){return e in d||(d[e]={loaded:!1,error:!1,message:null}),d[e]}}u(m,"displayName","MessageRequestPreviewStore");let g=new m(l.Z,{CONNECTION_OPEN:function(){d={},p.clear()},CHANNEL_CREATE:function(e){let{channel:t}=e;h(t.id)&&p.add(t.id)},CHANNEL_UPDATES:function(e){let{channels:t}=e;for(let e of t)h(e.id)||(p.delete(e.id),delete d[e.id])},CHANNEL_DELETE:function(e){let{channel:t}=e;p.delete(t.id),delete d[t.id]},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;f(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){var t,n;let r=e.message.channel_id;if(null==r)return!1;let i=d[r];if(null==i||null==i.message)return!1;d[r]=(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},i),n=n={message:(0,a.wi)(i.message,e.message)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)},MESSAGE_DELETE:function(e){if(!h(e.channelId))return!1;d[e.channelId]={loaded:!0,error:!1,message:null}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS:function(e){let{requestedChannelIds:t,supplementalData:n}=e,r=new Set([...t]);for(let e of(n.forEach(e=>{f(e.channel_id,e.message_preview),r.delete(e.channel_id)}),Array.from(r)))f(e,null)},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR:function(e){let{requestedChannelIds:t}=e;t.forEach(e=>{f(e,null,!0)})}})},385956:function(e,t,n){n.d(t,{T:()=>o,v:()=>a});var r=n(442837),i=n(355298),l=n(333984);function a(e){return(0,r.e7)([i.Z],()=>i.Z.isMessageRequest(e),[e])}function o(e){return(0,r.e7)([i.Z,l.Z],()=>null!=e&&(i.Z.isMessageRequest(e)||l.Z.isSpam(e)))}},15701:function(e,t,n){n.d(t,{G:()=>l});var r=n(442837),i=n(333984);function l(e){return(0,r.e7)([i.Z],()=>i.Z.isSpam(e),[e])}},486622:function(e,t,n){n.d(t,{m:()=>b}),n(388685);var r=n(647438),i=n(707019),l=n.n(i),a=n(881052),o=n(726521),s=n(621853),c=n(484459),u=n(695346),d=n(626135),p=n(823162),h=n(268699),f=n(9389),m=n(687683),g=n(981631);function b(e){let{user:t,onAcceptSuccess:n,onRejectSuccess:i,onError:b}=e,_=(0,f.Z)(),[y,C]=r.useState(!1),[x,v]=r.useState(!1),[O,j]=r.useState(!1),[E,S]=r.useState(!1),[I,P]=r.useState(!1),Z=y||x||O,T=r.useCallback(async e=>{if(!Z){C(!0);try{await (0,p.e4)(e),S(!0),null==n||n()}catch(t){let e=new a.Hx(t);null==b||b(e)}finally{C(!1)}}},[Z,n,b]),N=r.useCallback(async e=>{if(!Z){v(!0);try{await (0,p.gN)(e),P(!0),null==i||i()}catch(t){let e=new a.Hx(t);null==b||b(e)}finally{v(!1)}}},[Z,i,b]),A=r.useCallback(async e=>{if(Z)return;v(!0);let t=l()(e,m.t$);try{for(let e of t)await (0,p.r_)(e);P(!0),null==i||i()}catch(t){let e=new a.Hx(t);null==b||b(e)}finally{v(!1)}},[Z,i,b]),w=r.useCallback(async e=>{if(Z)return;if(null!=t&&null==s.Z.getMutualGuilds(t.id)){j(!0);try{await (0,c.Z)(t.id,t.getAvatarURL(void 0,80),{withMutualGuilds:!0,withMutualFriendsCount:!0})}catch(e){}finally{j(!1)}}let n=async()=>{var n;let r=null!=t?null==(n=s.Z.getMutualGuilds(t.id))?void 0:n.map(e=>e.guild.id):[];d.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:m.cl.ACCEPT_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=r?r:[],other_user_id:null==t?void 0:t.id}),await T(e)};(0,h.H)({channelId:e,onConfirm:n,onCancel:()=>{var n;let r=null!=t?null==(n=s.Z.getMutualGuilds(t.id))?void 0:n.map(e=>e.guild.id):[];d.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:m.cl.DISMISS_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=r?r:[],other_user_id:null==t?void 0:t.id})}})},[T,Z,t]),R=r.useCallback((e,t,n)=>{let r=(r,i)=>{i&&u.kJ.updateSetting(r),r&&null!=t&&(0,o.zd)(t),T(e.id),d.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:m.cl.ACCEPT_HAM_CONFIRMATION_PROMPT,channel_id:e.id,is_dont_show_again_checked:i,non_spam_retraining_opt_in:r}),null!=n&&n()},i=u.kJ.getSetting();null==i?(0,h.V)({channel:e,onConfirm:r,onCancel:()=>{d.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:m.cl.DISMISS_HAM_CONFIRMATION_PROMPT,channel_id:e.id})}}):r(i)},[T]);return{acceptMessageRequest:_?w:T,rejectMessageRequest:N,rejectAll:A,markAsNotSpam:R,isAcceptLoading:y,isRejectLoading:x,isUserProfileLoading:O,isOptimisticAccepted:E,isOptimisticRejected:I}}},868807:function(e,t,n){n.d(t,{a:()=>f}),n(388685);var r=n(392711),i=n.n(r),l=n(442837),a=n(544891),o=n(570140),s=n(375954),c=n(306680),u=n(748902),d=n(981631);let p=new Set,h=null;function f(e){var t;let{id:n}=e,{loaded:r,message:i,error:a}=(0,l.cj)([u.Z,s.Z,c.ZP],()=>{let e=c.ZP.lastMessageId(n),t=u.Z.getMessageRequestPreview(n);if(null==t.message&&null!=e){let t=s.Z.getMessage(n,e);if(null!=t)return{loaded:!0,error:!1,message:t}}return t},[n]),o=(0,l.e7)([u.Z],()=>u.Z.shouldLoadMessageRequestPreview(n),[n]);return!r&&null==i&&o&&(t=n,p.add(t),null==h&&(h=setTimeout(m,0))),{loaded:r,error:a,message:i}}async function m(){try{for(;!i().isEmpty(p);)await g()}finally{h=null}}async function g(){let e=Array.from(p).slice(0,25);try{let t=await a.tn.get({url:d.ANM.MESSAGE_REQUESTS_SUPPLEMENTAL_DATA,query:{channel_ids:e},rejectWithError:!0});o.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS",requestedChannelIds:e,supplementalData:t.body})}catch(t){o.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR",requestedChannelIds:e})}finally{for(let t of e)p.delete(t)}}},488634:function(e,t,n){n.d(t,{_:()=>a});var r=n(442837),i=n(897473),l=n(433355);function a(){let e=(0,r.e7)([l.ZP],()=>l.ZP.getSidebarState(l.uZ)),t=(null==e?void 0:e.type)===i.tI.VIEW_MESSAGE_REQUEST?e:null;return{channelId:null==t?void 0:t.channelId,hasSingleMessageRequest:(null==t?void 0:t.details)!=null&&t.details.type===i.Ff.MESSAGE_REQUEST&&t.details.hasSingleMessageRequest}}},9389:function(e,t,n){n.d(t,{Z:()=>i});var r=n(610697);function i(){return(0,r.Z)()}},86203:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(481060),l=n(493683),a=n(726521),o=n(868807),s=n(388032);function c(e){let{channel:t,onReportClick:n,onReportSubmit:c,onMouseEnter:u,onMouseLeave:d}=e,{error:p,loaded:h,message:f}=(0,o.a)(t);if(null==f&&(h||p))return null;let m=()=>{null==c||c(),l.Z.closePrivateChannel(t.id)};return(0,r.jsx)(i.zxk,{variant:"critical-primary",size:"sm",disabled:null==f,onClick:e=>{e.stopPropagation(),null==n||n(),null!=f&&(0,a.WL)(f,m)},onMouseEnter:u,onMouseLeave:d,text:s.intl.string(s.t["+78Pfn"])})}},226027:function(e,t,n){n.d(t,{E:()=>i});var r,i=((r={}).NEW_MESSAGES="new_messages",r.OPT_IN_CHANNEL="opt_in_channel",r.SUMMARIES="summaries",r)},925975:function(e,t,n){n.d(t,{g:()=>b}),n(781311),n(388685),n(35282),n(704826),n(804061);var r=n(159635),i=n.n(r),l=n(969812),a=n(904245),o=n(367907),s=n(339085),c=n(222677),u=n(995774),d=n(695346),p=n(375954),h=n(981631);let f=/\\([*?+/])/g,m={tts:{action:()=>({tts:d.OW.getSetting()})},me:{action:e=>({content:"_".concat(e,"_")})},tableflip:{action:e=>({content:"".concat(e," (╯\xb0□\xb0)╯︵ ┻━┻").trim()})},unflip:{action:e=>({content:"".concat(e," ┬─┬ノ( \xba _ \xbaノ)").trim()})},shrug:{action:e=>({content:"".concat(e," \xaf\\_(ツ)_/\xaf").trim()})},nick:{action(e,t){let{channel:n}=t;if(null!=n.guild_id)return l.Z.changeNickname(n.guild_id,n.id,h.ME,e),{content:""}}},reaction:{match:i().anyScopeRegex(/^\+:(.+?): *$/),action(e,t){let{isEdit:n,channel:r}=t;if(n||!p.Z.hasPresent(r.id))return;let i=p.Z.getMessages(r.id).last();if(null==i||null==i.id)return;let l=s.ZP.getDisambiguatedEmojiContext(r.guild_id).getByName(e.trim().slice(2,-1));if(null!=l)return(0,c.rU)(r.id,i.id,(0,u.g1)(l)),{content:""}}},searchReplace:{match:i().anyScopeRegex(/^s\/([^\/\\]*(?:\\.[^\/\\]*)*)\/([^\/\\]*(?:\\.[^\/\\]*)*)(?:\/([g]*))?$/),action(e,t){var n,r;let{isEdit:i,channel:l}=t;if(i)return;let o=p.Z.getLastEditableMessage(l.id);if(null==o||null==o.id)return{content:""};let[s,c,u,d]=Array.from(null!=(n=e.match(this.match.regex))?n:[]),h=null!=(r=null==d?void 0:d.split(""))?r:[];c=c.replace(f,(e,t)=>t),u=u.replace(f,(e,t)=>t);let m=h.includes("g")?o.content.replaceAll(c,u):o.content.replace(c,u);return(null==m||""===m.trim())&&0===o.attachments.length?a.Z.deleteMessage(l.id,o.id):m!==o.content&&a.Z.editMessage(l.id,o.id,{content:m}),{content:""}}},spoiler:{action:e=>({content:(0,h.XmY)(e).trim()})}};function g(e,t,n,r){return o.ZP.trackWithMetadata(h.rMx.SLASH_COMMAND_USED,{command:e}),t.action(n,r)}function b(e,t){for(let r in m){let i=m[r];if(null!=i.match){var n;if(null==(n=i.match.regex)?void 0:n.test(e))return g(r,i,e,t);continue}if(d.dN.getSetting()&&"/"===e[0]){let n=e.split(" ");if(r===n[0].slice(1)&&null!=i.action)return g(r,i,n.slice(1).join(" "),t)}}}Object.setPrototypeOf(m,null)},47481:function(e,t,n){n.d(t,{Z:()=>d}),n(539854),n(388685);var r=n(275726),i=n(135938),l=n(55935),a=n(709054),o=n(554838),s=n(493892),c=n(356647),u=n(981631);function d(e){let t,n,d,{channel:p,messages:h,oldestUnreadMessageId:f,treatSpam:m,summaries:g,selectedSummary:b}=e,_=[],y=!1,C=null!=f?a.default.extractTimestamp(f):null,x=null;return h.forEach(e=>{var i,v,O;let j,E;if(null!=g&&g.length>0){let t=a.default.extractTimestamp(e.id);for(let e=0;i=e<(null==g?void 0:g.length),i;e++){if(null==g[e])continue;let n=a.default.extractTimestamp(g[e].startId),r=a.default.extractTimestamp(g[e].endId);if(t>=n&&t<=r){if(x===g[e].id)break;_.push({type:u.ys_.DIVIDER,content:g[e].topic,contentKey:g[e].id}),x=g[e].id;break}}}let S=(0,l.vc)(e.timestamp,"LL");S!==t&&null==x&&(_.push({type:u.ys_.DIVIDER,content:S,contentKey:S}),t=S);let I=_[_.length-1],P=null,Z=(0,s.DQ)(e);y=y||Z;let T=function(e,t,n){if(r.V.NON_COLLAPSIBLE.has(t.type));else if(t.blocked)return u.ys_.MESSAGE_GROUP_BLOCKED;else if(t.ignored)return u.ys_.MESSAGE_GROUP_IGNORED;else if((0,s.P1)(e)&&n)return u.ys_.MESSAGE_GROUP_SPAMMER;return null}(p,e,Z&&m);(null!==T&&([P,I]=(E=v=I,null==v||v.type!==T?(j={type:T,content:[],key:e.id},_.push(j)):E=(j=v).content[j.content.length-1],[j,E])),f===e.id&&null!=C)?(null!=I&&I.type===u.ys_.DIVIDER?I.unreadId=e.id:null!==P?(O=P,e.isFirstMessageInForumPost(p)||O.content.push({type:u.ys_.DIVIDER,unreadId:e.id}),O.hasUnread=!0):e.isFirstMessageInForumPost(p)||_.push({type:u.ys_.DIVIDER,unreadId:e.id}),C=null):null!=C&&a.default.extractTimestamp(e.id)>C&&(e.isFirstMessageInForumPost(p)||_.push({type:u.ys_.DIVIDER,unreadId:e.id}),C=null);let N=(0,c.f)(e,p);null!=N&&_.push({type:u.ys_.MESSAGE,content:N,groupId:N.id});let A=(null==I?void 0:I.type)===u.ys_.MESSAGE?d:I;(0,o.J)(p,A,e)&&(n=e.id);let w={type:e.type===u.uaV.THREAD_STARTER_MESSAGE?u.ys_.THREAD_STARTER_MESSAGE:u.ys_.MESSAGE,content:e,groupId:n};n===e.id&&(d=w);let{jumpSequenceId:R,jumpFlash:M,jumpTargetId:D}=h;M&&e.id===D&&null!=R&&(w.flashKey=R),h.jumpTargetId===e.id&&(w.jumpTarget=!0),null!=b&&e.id===b.startId&&b.count>1&&_.push({type:u.ys_.DIVIDER,content:b.topic,contentKey:b.startId,isSummaryDivider:!0}),null!==P?(P.content.push(w),w.jumpTarget&&(P.hasJumpTarget=!0)):_.push(w),e.isFirstMessageInForumPost(p)&&_.push({type:u.ys_.FORUM_POST_ACTION_BAR}),null!=b&&e.id===b.endId&&b.count>1&&_.push({type:u.ys_.DIVIDER,contentKey:b.endId,isSummaryDivider:!0})}),y&&(0,s.P1)(p)&&i.Z.trackExposure({location:"416cc9_1"}),_}},534091:function(e,t,n){n.d(t,{W:()=>r,p:()=>i});let r="chat-messages";function i(e,t){return"".concat(r,"-").concat(e,"-").concat(t)}},554838:function(e,t,n){n.d(t,{J:()=>d,Z:()=>p});var r=n(111810),i=n(55935),l=n(70956),a=n(709054),o=n(463396),s=n(901461),c=n(981631);let u=7*l.Z.Millis.MINUTE;function d(e,t,n){return null==t||t.type===c.ys_.MESSAGE&&t.content.id===t.content.channel_id||t.type!==c.ys_.MESSAGE&&t.type!==c.ys_.THREAD_STARTER_MESSAGE||p(e,t.content,n)}function p(e,t,n){if(n.hasFlag(c.iLy.HAS_THREAD)||n.isCommandType())return!0;if(n.type>c.uaV.DEFAULT)return!(0,s.Z)(t)||n.type===c.uaV.REPLY;if((0,s.Z)(t)||t.author.id!==n.author.id||t.hasFlag(c.iLy.EPHEMERAL)!==n.hasFlag(c.iLy.EPHEMERAL)||null!=n.webhookId&&t.author.username!==n.author.username||(null==e?void 0:e.isForumPost())&&t.id===a.default.castChannelIdAsMessageId(e.id)||!(0,i._w)(t.timestamp,n.timestamp,u)||n.hasFlag(c.iLy.SUPPRESS_NOTIFICATIONS)&&!t.hasFlag(c.iLy.SUPPRESS_NOTIFICATIONS)||t.hasFlag(c.iLy.SUPPRESS_NOTIFICATIONS)&&!n.hasFlag(c.iLy.SUPPRESS_NOTIFICATIONS)&&(n.mentions.length>0||n.mentionRoles.length>0||n.mentionEveryone)||(0,o.f)(n))return!0;let l=r.HZ.getCurrentConfig({location:"isNewMessageGroup"},{autoTrackExposure:!1}).canSeeConfetti;return!!n.hasPotions()&&!!l||n.applicationId!==t.applicationId}},356647:function(e,t,n){n.d(t,{f:()=>p}),n(388685),n(997841);var r=n(602715),i=n(258732),l=n(314897),a=n(630388),o=n(786761),s=n(3148),c=n(981631);let u=new Map;function d(e,t){let n=(0,s.ZP)({channelId:t,type:c.uaV.IN_GAME_MESSAGE_NUX,content:"",author:e.author,flags:c.iLy.EPHEMERAL,state:c.yb.SENT}),r=(0,o.e5)(n);return r.applicationId=e.applicationId,r.timestamp=e.timestamp,r}function p(e,t){let n=function(e,t){var n,o;if(u.get(t.id)===e.id)return d(e,t.id);if(null==e.applicationId||!(0,a.yE)(e.flags,c.iLy.SENT_BY_SOCIAL_LAYER_INTEGRATION)||!t.isDM()||e.author.id===l.default.getId()||(0,a.yE)(null!=(n=t.recipientFlags)?n:0,r.V.DISMISSED_IN_GAME_MESSAGE_NUX)||u.has(t.id))return null;let s=d(e,t.id);u.set(t.id,e.id);let p=(0,a.mB)(null!=(o=t.recipientFlags)?o:0,r.V.DISMISSED_IN_GAME_MESSAGE_NUX,!0);return i.Z.updatePrivateChannelRecipientFlags(t.id,p),s}(e,t);return null!=n?n:null}},481369:function(e,t,n){n.d(t,{Z:()=>p});var r=n(399606),i=n(317381),l=n(16609),a=n(917107),o=n(592125),s=n(226027),c=n(918559);let u="no_text_activity",d={[u]:[s.E.NEW_MESSAGES,s.E.OPT_IN_CHANNEL,s.E.SUMMARIES],[c.Ez.DISCONNECTED]:[s.E.NEW_MESSAGES,s.E.OPT_IN_CHANNEL,s.E.SUMMARIES],[c.Ez.LAUNCHING_WITH_ORIENTATION_CHANGE]:[s.E.NEW_MESSAGES,s.E.OPT_IN_CHANNEL,s.E.SUMMARIES],[c.Ez.PANEL]:[],[c.Ez.PIP]:[s.E.NEW_MESSAGES,s.E.OPT_IN_CHANNEL,s.E.SUMMARIES],[c.Ez.ACTIVITY_POPOUT_WINDOW]:[s.E.NEW_MESSAGES,s.E.OPT_IN_CHANNEL,s.E.SUMMARIES]};function p(){let e=(0,r.e7)([i.ZP],()=>i.ZP.getCurrentEmbeddedActivity()),t=(0,r.e7)([i.ZP],()=>i.ZP.getActivityPanelMode()),n=(0,l.p)(null==e?void 0:e.location);return void 0===e||(0,a.Z)(n,o.Z)?d[u]:d[t]}},213010:function(e,t,n){n.d(t,{Q:()=>a});var r=n(442837),i=n(699516),l=n(981631);function a(e){let t=(0,r.e7)([i.Z],()=>i.Z.getRelationshipType(e),[e]);return t===l.OGo.NONE||t===l.OGo.BLOCKED||t===l.OGo.PENDING_INCOMING}},718538:function(e,t,n){n.d(t,{V:()=>l}),n(388685);var r=n(442837),i=n(375954);function l(e,t){return(0,r.e7)([i.Z],()=>{if(null==t)return;let n=i.Z.getMessages(e),r=n.findOldest(e=>e.author.id===t);if(null!=r){for(let e of n.toArray()){if(e.author.id!==t)break;e.content.length>(null==r?void 0:r.content.length)&&(r=e)}return r}},[e,t])}},186877:function(e,t,n){n.d(t,{$:()=>u});var r=n(442837),i=n(355298),l=n(88101),a=n(375954),o=n(699516),s=n(594174),c=n(981631);function u(e){let t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some(e=>e.bot),n=t?e.getRecipientId():null,u=(0,l.P)(e.id);return(0,r.e7)([a.Z,i.Z,o.Z,s.default],()=>{if(null!=u||!t||i.Z.isMessageRequest(e.id)||null!=n&&o.Z.getRelationshipType(n)===c.OGo.BLOCKED)return!1;if(null!=n){let e=s.default.getUser(n);if(null!=e&&e.hasFlag(c.xW$.PROVISIONAL_ACCOUNT))return!1}let r=a.Z.getMessages(e.id);return r.ready&&!r.hasMoreBefore&&!r.hasMoreAfter&&r.length<25&&!a.Z.hasCurrentUserSentMessage(e.id)},[u,t,e.id,n])}},158969:function(e,t,n){n.d(t,{Z:()=>E});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(653603),s=n.n(o),c=n(442837),u=n(481060),d=n(904245),p=n(232961),h=n(223606),f=n(63063),m=n(530472),g=n(453687),b=n(930282),_=n(318713),y=n(981631),C=n(388032),x=n(177119),v=n(724913),O=n(430864);let j=i.memo(function(e){let{message:t,notice:n,compact:i=!1,onDismiss:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(x.blockedNoticeContainer,{[x.compact]:i}),children:[(0,r.jsx)("div",{className:x.blockedNoticeIcon,children:(0,r.jsx)(u.b7C,{size:"xs",color:"currentColor",className:x.shieldIcon})}),(0,r.jsx)("div",{className:x.blockedNotice,children:(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"interactive-normal",children:n})})]}),(0,r.jsx)("div",{className:a()(x.ephemeralAccessories,{[x.compact]:i}),children:(0,r.jsx)(m.Z,{message:t,onDeleteMessage:l,children:(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"interactive-normal",tag:"span",className:x.learnMore,children:C.intl.format(C.t.Nd3Gh4,{helpUrl:f.Z.getArticleURL(y.BhN.GUILD_AUTOMOD_BLOCKED_MESSAGE)})})})})]})}),E=i.memo(function(e){var t,n;let{className:l,compact:o,message:u,children:f,content:m,onUpdate:y}=e,E=null==(t=u.editedTimestamp)?void 0:t.toString(),S=i.useRef(!1),I=(0,c.e7)([h.Z],()=>h.Z.getMessage(u.id),[u.id]),P=i.useCallback(()=>{(null==I?void 0:I.isBlockedEdit)?(0,p.I)(u.id):d.Z.deleteMessage(u.channel_id,u.id,!0)},[u,I]);return i.useLayoutEffect(()=>{S.current?null!=y&&y():S.current=!0},[y,u.content,m,E,f]),(0,r.jsxs)("div",{id:(0,g.ut)(u),className:a()(l,O.markup,{[v.messageContent]:!0,[v.markupRtl]:"rtl"===s()(u.content),[x.blockedEdit]:null==I?void 0:I.isBlockedEdit,[x.blockedSend]:!(null==I?void 0:I.isBlockedEdit)}),children:[null!=f?f:(0,b.L5)(u,m),(null==I?void 0:I.isBlockedEdit)&&null!=u.timestamp&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(_.Z,{timestamp:u.timestamp,isEdited:!0,isInline:!1,children:(0,r.jsxs)("span",{className:v.edited,children:["(",C.intl.string(C.t.Z7eEx8),")"]})})]}),(0,r.jsx)(j,{notice:null!=(n=null==I?void 0:I.errorMessage)?n:C.intl.string(C.t.zQ69pq),message:u,compact:o,onDismiss:P})]})},b.HR)},233715:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(422499);function s(e){let{children:t,className:n,flashKey:l}=e,[s,c]=i.useState(!1),u=i.useRef(null);return i.useEffect(()=>(c(!0),u.current=window.setTimeout(()=>{c(!1)},2e3),()=>{null!=u.current&&clearTimeout(u.current)}),[l]),(0,r.jsx)("div",{"data-flash":s,className:a()(o.flash,n),children:t})}},534469:function(e,t,n){n.d(t,{AP:()=>et,Ru:()=>en,ZP:()=>ei});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(91192),u=n(442837),d=n(481060),p=n(607070),h=n(223606),f=n(518738),m=n(628238),g=n(911266),b=n(111810),_=n(235894),y=n(807092),C=n(869765),x=n(703656),v=n(695346),O=n(592125),j=n(906467),E=n(323873),S=n(709054),I=n(786761),P=n(534091),Z=n(901461),T=n(739566),N=n(233715),A=n(492593),w=n(453687),R=n(348238),M=n(62072),D=n(38267),L=n(25015),k=n(689674),U=n(438075),B=n(764893),F=n(481363),G=n(900902),H=n(252032),V=n(737243),z=n(614584),W=n(295790),q=n(959517),Y=n(981631),K=n(388032),X=n(360514);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function et(e,t,n){return e.getElementById((0,P.p)(t,n))}function en(e){var t;let{id:n,message:i,message:{messageReference:l},compact:o=!1,className:d}=e;s()(i.type===Y.uaV.THREAD_STARTER_MESSAGE,"Message must be a thread starter message");let p=Q({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}((0,c.JA)(null!=(t=e.id)?t:""))),h=(0,u.e7)([C.Z],()=>C.Z.getMessageByReference(l)),{popouts:f,setPopout:m}=(0,D.Z)(i.id,q.d$),g=(0,T.ZP)(i),b=(0,w.iG)(i),_=(0,w.Gx)(i);return i.type===Y.uaV.THREAD_STARTER_MESSAGE&&null!=h&&h.state===C.Y.LOADED?(0,r.jsx)(er,$(J({},e),{viewingChannelId:i.channel_id,message:h.message,groupId:h.message.id})):(0,r.jsx)(A.Z,$(J({},p),{id:n,compact:o,className:a()(d,{[X.message]:!0,[X.cozyMessage]:!o,[X.systemMessage]:!0,[X.groupStart]:!0}),childrenHeader:(0,G.Z)({messageProps:e,setPopout:m,messagePopouts:f,replyReference:l,author:g}),childrenSystemMessage:(0,W.Z)(e),childrenMessageContent:null,"aria-labelledby":b,"aria-describedby":_,hasThread:!1,author:g}))}function er(e){var t,n;let{id:l,message:o,message:{id:s,channel_id:h},channel:{guild_id:g},compact:b=!1,className:_,groupId:y,viewingChannelId:O}=e,j=o.type===Y.uaV.REPLY?o.messageReference:void 0,E=(0,c.JA)(null!=(t=e.id)?t:""),{onFocus:S}=E,P=ee(E,["onFocus"]),{isFocused:N,handleFocus:k,handleBlur:B}=(0,R.bb)(S),{popouts:F,selected:V,setPopout:Q}=(0,D.Z)(o.id,q.d$),et=v.RS.useSetting(),en=v.NA.useSetting(),er=(0,u.e7)([C.Z],()=>C.Z.getMessageByReference(j)),ei=(0,m.A)((null!=(n=o.editedTimestamp)?n:o.timestamp).valueOf()),{handleMouseEnter:el,handleMouseLeave:ea,isHovered:eo}=(0,R.tn)({groupId:y,message:o,defaultValue:V,popouts:F}),es=(0,u.e7)([p.Z],()=>p.Z.keyboardModeEnabled),ec=V||es&&N,eu=ec||eo,{content:ed,hasSpoilerEmbeds:ep}=(0,L.Z)(o,{hideSimpleEmbedContent:et&&en,isInteracting:eu,formatInline:!1,allowList:ei,allowHeading:ei,allowLinks:!0,previewLinkTarget:!0,viewingChannelId:O}),eh=(0,M.Z)(s,h,es),ef=(0,T.ZP)(o),em=(0,w.iG)(o,y),eg=(0,w.Gx)(o),eb=(0,H.Z)(e,ed,!1),e_=i.useCallback(()=>(0,x.XU)(g,h,s),[g,h,s]),ey=(0,f.p9)({guildId:g,roleId:ef.iconRoleId});return(0,r.jsxs)("div",{className:X.quotedChatMessage,children:[(0,r.jsx)(d.P3F,{className:X.jump,onClick:e_,"aria-label":K.intl.string(K.t.k5WiPT),children:K.intl.string(K.t.k5WiPT)}),(0,r.jsx)(A.Z,$(J({},P),{id:l,compact:b,className:a()(_,{[X.message]:!0,[X.cozyMessage]:!b,[X.mentioned]:o.mentioned,[X.ephemeral]:(0,I.Pv)(o),[X.systemMessage]:(0,Z.Z)(o),[X.groupStart]:o.id===y||o.type===Y.uaV.REPLY,[X.selected]:ec}),zalgo:!0,onKeyDown:eh,onFocus:k,onBlur:B,childrenRepliedMessage:o.type===Y.uaV.REPLY&&(0,z.Z)($(J({},e),{setPopout:Q,referencedUsernameProfile:F.referencedUsernameProfile,referencedAvatarProfile:F.referencedAvatarProfile,replyReference:j,replyMessage:er,isReplySpineClickable:!0})),childrenHeader:(0,G.Z)({messageProps:e,setPopout:Q,messagePopouts:F,replyReference:j,author:ef,repliedMessage:er,roleIcon:ey}),childrenAccessories:(0,U.Z)({channelMessageProps:e,hasSpoilerEmbeds:ep,isInteracting:eu,renderThreadAccessory:!1,renderSuppressEmbeds:!1,renderReactions:!1,disableComponentInteractivity:!0}),childrenSystemMessage:(0,W.Z)(e),childrenMessageContent:eb,onMouseMove:el,onMouseLeave:ea,"aria-labelledby":em,"aria-describedby":eg,hasThread:!1,author:ef}))]})}let ei=i.memo(function(e){var t,n;let l,{id:o,message:x,message:{id:P},channel:Q,channel:{id:et},compact:en=!1,className:er,flashKey:ei,groupId:el,renderContentOnly:ea}=e;s()(x.type!==Y.uaV.THREAD_STARTER_MESSAGE,"Message must not be a thread starter message");let eo=Y.OBS.has(x.type)?x.messageReference:void 0,es=(0,c.JA)(null!=(t=e.id)?t:""),{onFocus:ec}=es,eu=ee(es,["onFocus"]),ed=(0,b.p7)("ChatMessage"),ep=v.RS.useSetting(),eh=v.NA.useSetting(),ef=(0,u.e7)([C.Z],()=>C.Z.getMessageByReference(eo)),{popouts:em,selected:eg,setPopout:eb}=(0,D.Z)(x.id,q.d$),e_=(0,R.qo)(x,Q,eb),ey=(0,R.Go)(x,Q),{handleMouseEnter:eC,handleMouseLeave:ex,hasHovered:ev,isHovered:eO}=(0,R.tn)({groupId:el,message:x,defaultValue:eg,popouts:em}),{isFocused:ej,hasFocused:eE,handleFocus:eS,handleBlur:eI}=(0,R.bb)(ec),eP=i.useCallback(e=>{eS(e),eC(e)},[eS,eC]),eZ=i.useCallback(e=>{eI(e),ex()},[eI,ex]),eT=(0,u.e7)([E.Z],()=>E.Z.isEditing(et,P),[et,P]),eN=(0,u.e7)([p.Z],()=>p.Z.keyboardModeEnabled),eA=eg||eT||eN&&ej,ew=eA||eO,eR=(0,u.e7)([O.Z],()=>x.hasFlag(Y.iLy.HAS_THREAD)&&O.Z.getChannel(S.default.castMessageIdAsChannelId(x.id))),eM=x.isFirstMessageInForumPost(Q),eD=(0,m.A)((null!=(n=x.editedTimestamp)?n:x.timestamp).valueOf()),eL=(0,u.e7)([j.Z],()=>j.Z.isDeveloper),{content:ek,hasSpoilerEmbeds:eU}=(0,L.Z)(x,{hideSimpleEmbedContent:ep&&eh,isInteracting:ew,formatInline:!1,allowList:eM||eD,allowHeading:eM||eD,allowLinks:!0,allowDevLinks:eL,previewLinkTarget:!0}),eB=(0,M.Z)(P,et,eN),eF=(0,T.ZP)(x),eG=(0,u.e7)([y.Z],()=>y.Z.getPendingReply(et)),eH=function(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=null!=e?e:t.current}),null!=e?e:t.current}(ei),eV=(0,f.p9)({guildId:Q.guild_id,roleId:eF.iconRoleId}),ez=(0,w.iG)(x,el),eW=(0,w.Gx)(x),eq=(0,u.e7)([h.Z],()=>h.Z.getMessage(P),[P]),eY=(0,k.Z)({message:x,channel:Q}),eK=i.useRef(window),eX=null!=eq,eQ=i.useMemo(()=>Object.values(em).some(e=>e),[em]);l=x.type===Y.uaV.CUSTOM_GIFT?"":!eT&&eX?(0,B.Z)(e,ek):(0,H.Z)(e,ek,eT);let eJ=x.id===el,e$=(0,r.jsx)(d.tEY,{offset:{left:4,right:4},children:(0,r.jsxs)("li",{id:o,className:X.messageListItem,"aria-setsize":-1,children:[(0,_.Uw)(x)&&(0,r.jsx)(g.Z,{compact:en,message:x,hovering:eO&&!eT&&!eQ}),(0,r.jsx)(A.Z,$(J({},eu),{"aria-setsize":-1,"aria-roledescription":K.intl.string(K.t.BAB0yM),"aria-labelledby":ez,"aria-describedby":eW,onFocus:eP,onBlur:eZ,onContextMenu:e_,onKeyDown:eB,onClick:ey,compact:en,contentOnly:ea,className:a()(er,{[X.message]:!0,[X.cozyMessage]:!en,[X.mentioned]:x.mentioned,[X.ephemeral]:(0,I.Pv)(x),[X.nitroMessage]:x.type===Y.uaV.NITRO_NOTIFICATION||x.type===Y.uaV.CHAT_WALLPAPER_SET||x.type===Y.uaV.CHAT_WALLPAPER_REMOVED,[X.systemMessage]:(0,Z.Z)(x),[X.groupStart]:!ea&&(eJ||x.type===Y.uaV.REPLY),[X.selected]:eA,[X.replying]:(null==eG?void 0:eG.message.id)===x.id,[X.interactionSending]:x.isCommandType()&&x.state===Y.yb.SENDING,[X.automodMessage]:eX,[X.editing]:eT,[X.hasOpenPopouts]:eQ,[X.potioned]:(0,_.Uw)(x)&&ed}),zalgo:!eT,childrenRepliedMessage:ea||x.type!==Y.uaV.REPLY?void 0:(0,z.Z)($(J({},e),{setPopout:eb,referencedUsernameProfile:em.referencedUsernameProfile,referencedAvatarProfile:em.referencedAvatarProfile,replyReference:eo,replyMessage:ef,isReplySpineClickable:!0})),childrenExecutedCommand:(0,V.Z)(e,eb,em),childrenHeader:ea?void 0:(0,G.Z)({messageProps:e,setPopout:eb,messagePopouts:em,replyReference:eo,author:eF,repliedMessage:ef,roleIcon:eV}),childrenAccessories:(0,U.Z)({channelMessageProps:e,hasSpoilerEmbeds:eU,handleContextMenu:e_,isInteracting:ew,isAutomodBlockedMessage:eX,forceAddReactions:x.type===Y.uaV.EMOJI_ADDED}),childrenButtons:ev||eE?(0,F.Z)({buttonProps:e,setPopout:eb,messagePopouts:em,isFocused:eO||ej,messageWindow:eK.current}):void 0,childrenSystemMessage:(0,W.Z)(e),childrenMessageContent:l,onMouseMove:eC,onMouseLeave:ex,hasThread:!ea&&x.hasFlag(Y.iLy.HAS_THREAD)&&null!=eR,isSystemMessage:(0,Z.Z)(x),hasReply:x.type===Y.uaV.REPLY,messageRef:e=>{var t,n;eY.current=e,eK.current=null!=(n=null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)?n:window},author:eF}))]})});return null!=eH?(0,r.jsx)(N.Z,{flashKey:eH,className:a()({[X.backgroundFlash]:!0,[X.groupStart]:!en&&x.id===el}),children:e$},"bg-flash-".concat(o)):e$})},993397:function(e,t,n){n.d(t,{Z:()=>_}),n(314940),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(278074),s=n(481060),c=n(492593),u=n(534469),d=n(511010),p=n(834129),h=n(981631),f=n(388032),m=n(378661),g=n(360514);function b(e){let{expanded:t,onClick:n,count:i,compact:l,collapsedReason:a}=e,u=(0,o.EQ)({collapsedReason:a}).with({collapsedReason:f.t.VFWjc3},()=>(0,r.jsx)(s.kZF,{size:"md",color:"currentColor",className:m.blockedIcon})).with({collapsedReason:f.t["+FcYMz"]},()=>(0,r.jsx)(s.t6m,{size:"md",color:"currentColor",className:m.blockedIcon})).otherwise(()=>(0,r.jsx)(s.Dio,{size:"md",color:"currentColor",className:m.blockedIcon}));return(0,r.jsx)(c.Z,{compact:l,role:"group",childrenMessageContent:(0,r.jsx)(p.Z,{compact:l,className:m.blockedSystemMessage,iconNode:u,children:(0,r.jsxs)("div",{className:m.blockedMessageText,children:[f.intl.format(a,{count:i})," —"," ",(0,r.jsx)(s.P3F,{tag:"span",onClick:n,className:m.blockedAction,children:t?f.intl.string(f.t.fgq1go):f.intl.string(f.t.XJuakJ)})]})})})}let _=i.memo(function(e){var t;let{messages:n,channel:l,compact:o=!1,unreadId:s,collapsedReason:c}=e,{hasJumpTarget:p=!1}=n,[f,_]=i.useState(p),y=i.useCallback(()=>_(e=>!e),[]),C=n.hasUnread?n.content.length-1:n.content.length;return(0,r.jsxs)("div",{className:a()({[g.groupStart]:!0,[m.expanded]:f}),children:[n.hasUnread&&(!f||(null==(t=n.content[0])?void 0:t.type)===h.ys_.DIVIDER)?(0,r.jsx)(d.Z,{isUnread:!0,id:s},"divider"):null,(0,r.jsx)(b,{count:C,compact:o,expanded:f,onClick:y,collapsedReason:c},"collapsed-message-item"),f?n.content.map((e,t)=>{if(e.type===h.ys_.DIVIDER&&t>0){var i,a;let e=null!=(a=null==(i=n.content[t+1])?void 0:i.isGroupStart)&&a;return(0,r.jsx)(d.Z,{isUnread:!0,isBeforeGroup:e,id:s},"divider")}if(e.type===h.ys_.MESSAGE||e.type===h.ys_.THREAD_STARTER_MESSAGE){let t=e.type===h.ys_.THREAD_STARTER_MESSAGE?u.Ru:u.ZP;return(0,r.jsx)(t,{className:m.__invalid_blocked,compact:o,channel:l,message:e.content,groupId:e.groupId,flashKey:e.flashKey,isLastItem:!1,renderContentOnly:!1},e.content.id)}}):null]})})},216337:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(607070),s=n(665906),c=n(314897),u=n(496675),d=n(981631),p=n(388032),h=n(456645);let f=()=>n.e("43841").then(n.t.bind(n,737848,19)).then(e=>{let{default:t}=e;return t}),m=i.memo(function(e){let{channel:t,isLastItem:n}=e,i=(0,l.e7)([o.Z],()=>o.Z.useReducedMotion),m=(0,l.e7)([u.Z],()=>u.Z.can(d.Plq.SEND_MESSAGES_IN_THREADS,t)),g=(0,s.Gu)(t),b=(0,l.e7)([c.default],()=>c.default.getId());return n?m&&!g&&t.ownerId!==b?(0,r.jsxs)("div",{className:h.box,children:[(0,r.jsx)(a.Fmz,{importData:f,shouldAnimate:!i,className:h.animation}),(0,r.jsxs)("div",{className:h.textContainer,children:[(0,r.jsx)(a.X6q,{variant:"heading-md/semibold",children:p.intl.string(p.t.OmBThI)}),(0,r.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:p.intl.string(p.t.zcs5kp)})]})]}):null:(0,r.jsx)("div",{className:h.divider})})},955384:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(911969),a=n(925975),o=n(957730),s=n(981631),c=n(388032),u=n(26896);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){e.stopPropagation()}class h extends i.PureComponent{render(){let{className:e,textValue:t,richValue:n,message:i,channel:l,onCancel:a,children:o}=this.props,s=(0,r.jsx)("div",{className:u.operations,children:c.intl.format(c.t.wDsPXl,{onCancel:()=>a(l.id),onSave:this.onClickSave})});return(0,r.jsxs)("div",{className:e,ref:this.node,onContextMenu:p,children:[o({textValue:t,richValue:n,message:i,channel:l,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,renderLeftAccessories:()=>s}),s]})}constructor(...e){super(...e),d(this,"node",i.createRef()),d(this,"onClickSave",()=>{let{textValue:e}=this.props;this.onSubmit(e)}),d(this,"onSubmit",e=>{let{message:t,channel:n,onConfirmDelete:r,onCancel:i,saveMessage:c,validateEdit:u}=this.props;return 0===e.length?(r(n,t),i(n.id),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):u({value:e,channel:n}).then(r=>{let{valid:u}=r;if(!u)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});let d=(0,a.g)(e,{channel:n,isEdit:!0});if((null==d?void 0:d.content)!=null&&(e=d.content),t.hasFlag(s.iLy.IS_COMPONENTS_V2)&&this.props.channel.type===s.d4z.GUILD_ANNOUNCEMENT){let t=o.ZP.parse(this.props.channel,e),n=this.props.message.components.filter(e=>e.type===l.re.TEXT_DISPLAY);if(1===n.length){let r=n[0];e!==r.content&&c(this.props.channel.id,this.props.message.id,t)}}else{let t=o.ZP.parse(this.props.channel,e);t.content!==this.props.message.content&&c(this.props.channel.id,this.props.message.id,t)}return i(n.id),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})}),d(this,"onChange",(e,t,n)=>{let{channel:r,onChange:i}=this.props;i(r.id,t,n)}),d(this,"onKeyDown",e=>{if(e.keyCode===s.yXg.ESCAPE&&!e.shiftKey){let{channel:t,onCancel:n}=this.props;e.preventDefault(),e.stopPropagation(),n(t.id)}})}}},545594:function(e,t,n){n.d(t,{i:()=>o});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(458926);function o(e){let{bannerIcon:t,bannerHeader:n,bannerSubtext:i,textStyles:o,headerStyles:s,containerStyles:c,children:u}=e;return(0,r.jsxs)("div",{className:l()(a.spamBanner,c),children:[(0,r.jsxs)("div",{className:l()(a.bannerTextContainer,o),children:[null!=t&&("string"==typeof t?(0,r.jsx)("img",{src:t,alt:"",className:a.bannerIcon}):t),(0,r.jsxs)("div",{className:a.bannerText,children:[(0,r.jsx)("div",{className:l()(a.bannerHeader,s),children:n}),null!=i&&(0,r.jsx)("div",{className:a.bannerSubtext,children:i})]})]}),(0,r.jsx)("div",{className:a.actionButtons,children:u})]})}},977391:function(e,t,n){n.d(t,{ZP:()=>d,aJ:()=>u}),n(415506),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(566898),s=n(981631),c=n(835025);function u(e){let{compact:t,messageGroups:n,groupRange:r,attachments:i,fontSize:l,groupSpacing:c}=e;if(i>n)throw Error("generateMessageSpecs: too many attachments relative to messageGroups: ".concat(n,", ").concat(i));let u=l/s.yqN.FONT_SIZE_DEFAULT,d=t?o.iv:o.pk,p=t?o.Pb:o.XX,h=0,f=Array(n).fill(null).map(()=>{let e=a().random(1,r);return h+=c*u,h+=d*u,h+=(e-1)*p*u,e}),m=f.map((e,t)=>t),g=[];for(;g.length<i;){let e={width:a().random(140,400),height:a().random(100,320)};g.push([m.splice(a().random(0,m.length-1),1)[0],e]),h+=e.height+o.M9*u}return{messages:f,attachmentSpecs:g,totalHeight:h,groupSpacing:c}}function d(e){let{compact:t,messages:n,attachmentSpecs:l,totalHeight:a,groupSpacing:s}=e;return i.useMemo(()=>{let e=Array(n.length).fill(void 0);for(let[t,n]of l)e[t]=n;return(0,r.jsx)("div",{className:c.wrapper,style:{height:a},children:n.map((n,i)=>(0,r.jsx)(o.ZP,{groupSpacing:s,compact:t,messages:n,attachmentSpecs:e[i]},i))})},[t,n,l,a,s])}},921235:function(e,t,n){n.d(t,{Z:()=>O}),n(388685),n(583741);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(904245),u=n(268350),d=n(926491),p=n(419922),h=n(314897),f=n(375954),m=n(594174),g=n(626135),b=n(51144),_=n(901461),y=n(981631),C=n(388032),x=n(315146);let v="749054660769218631";function O(e){var t;let{channel:n}=e,[l,O]=i.useState("");i.useEffect(()=>{(0,u.FQ)("847199849233514549",!0)},[]);let j=(0,o.e7)([f.Z,h.default],()=>!!a()(f.Z.getMessages(n.id).toArray()).reverse().find(e=>e.author.id!==h.default.getId()&&e.state===y.yb.SENT&&!(0,_.Z)(e))),E=(0,o.e7)([m.default],()=>m.default.getUser(n.isPrivate()?n.getRecipientId():null)),S=null!=(t=b.ZP.useName(E))?t:C.intl.string(C.t.y1Wu2d),I=(0,o.e7)([d.Z],()=>d.Z.getStickerById(v)),P=i.useCallback(async()=>{if(null==l||""===l)try{await c.Z.sendGreetMessage(n.id,v),g.default.track(y.rMx.DM_EMPTY_ACTION,{channel_id:n.id,channel_type:n.type,source:"Wave",type:"Send wave"})}catch(e){e.ok||429!==e.status||O(C.intl.string(C.t["Whhv4+"]))}},[n.id,n.type,l]),Z=C.intl.formatToPlainString(C.t.m0zYbW,{username:S}),T=null!=l&&""!==l?(0,r.jsx)(s.Text,{className:x.error,color:"text-danger",variant:"text-sm/normal",children:l}):null;return j?(0,r.jsxs)("div",{className:x.containerCompact,children:[(0,r.jsxs)(s.P3F,{className:null!=l&&""!==l?x.compactButtonDisabled:x.compactButton,"aria-label":C.intl.string(C.t.pJObYG),onClick:P,children:[(0,r.jsx)(p.Z,{sticker:I,size:24}),(0,r.jsx)(s.Text,{className:x.text,variant:"text-md/medium",children:Z})]}),T]}):(0,r.jsxs)("div",{className:x.containerExpanded,children:[(0,r.jsx)(p.Z,{sticker:I,size:160,className:x.stickerExpanded}),(0,r.jsx)(s.zxk,{fullWidth:!0,variant:"primary",size:"md",onClick:P,disabled:!!l,text:Z}),T]})}},773176:function(e,t,n){n.d(t,{Z:()=>eC}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(954955),s=n.n(o),c=n(893999),u=n(442837),d=n(704215),p=n(481060),h=n(596454),f=n(607070),m=n(110630),g=n(706140),b=n(543241),_=n(407477),y=n(633302),C=n(856985),x=n(660189),v=n(868643),O=n(245216),j=n(223606),E=n(188597),S=n(41776),I=n(980463),P=n(328908),Z=n(992970),T=n(135793),N=n(576645),A=n(84040),w=n(222677),R=n(995774),M=n(931651),D=n(280845),L=n(2818),k=n(768943),U=n(665906),B=n(695346),F=n(314897),G=n(323873),H=n(271383),V=n(430824),z=n(607744),W=n(496675),q=n(626135),Y=n(572004),K=n(176354),X=n(823379),Q=n(970257),J=n(418476),$=n(151007),ee=n(901461),et=n(432376),en=n(373662),er=n(996861),ei=n(603490),el=n(225138),ea=n(981631),eo=n(921944),es=n(185923),ec=n(388032),eu=n(785727);function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let ep=[y.ZP.getByName("100"),y.ZP.getByName("laughing"),y.ZP.getByName("sparkling_heart")].filter(X.lm);function eh(e){e.stopPropagation()}function ef(e){let{message:t,channel:n,canReport:r,onClose:i,updatePosition:l}=e;return(0,el.S)({message:t,channel:n,textSelection:"",favoriteableType:null,favoriteableId:null,favoriteableName:null,itemHref:void 0,itemSrc:void 0,itemSafeSrc:void 0,itemTextContent:void 0,canReport:r,onHeightUpdate:l,onClose:i,navId:"message-actions",ariaLabel:ec.intl.string(ec.t.Lv7LxM)})}let em=i.memo(function(e){let{channel:t,message:n}=e,i=(0,b.q5)(t.guild_id).filter(e=>!K.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:es.Hz.REACTION,guildId:t.guild_id})),l=(i.length>=3?i:[...(0,C.Z)(i.concat(ep)).values()]).slice(0,3),a=n.reactions.filter(e=>e.me);return(0,r.jsx)(r.Fragment,{children:l.map(e=>{var i;let l=a.find(t=>(0,R.ir)(t.emoji,(0,R.g1)(e))),o=null!=l?ec.intl.string(ec.t.wunKKC):ec.intl.string(ec.t.XVx5BA),s=null==e.id?e.uniqueName:e.name,c=null!=l?ec.intl.formatToPlainString(ec.t.vjeruL,{emojiName:s}):ec.intl.formatToPlainString(ec.t.L1JQwM,{emojiName:s});return(0,r.jsx)(en.sF,{tooltipText:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Text,{variant:"text-sm/medium",color:"header-primary",className:eu.emojiTooltipText,children:":".concat(e.name,":")}),(0,r.jsx)(p.Text,{variant:"text-xs/normal",color:"header-secondary",className:eu.emojiTooltipText,children:o})]}),label:c,onClick:()=>e_({type:null!=l?"remove":"add",emoji:e,channel:t,message:n,location:w.TW.MESSAGE_HOVER_BAR}),children:(0,r.jsx)(h.Z,{emojiId:e.id,emojiName:null==e.id?e.surrogates:e.name,animated:e.animated,size:"reaction",alt:"",className:eu.emoji,canSelect:!1})},"".concat(null!=(i=e.id)?i:0,":").concat(e.name))})})});function eg(e){let{channel:t,message:n,canCopy:l,canPin:a,canDelete:o,canReport:s,canEdit:h,canPublish:b,canReact:y,canConfigureJoin:C,canReply:j,canStartThread:E,canViewThread:w,canForward:R,isExpanded:M,showMoreUtilities:G,showEmojiPicker:K,showMessageBookmarksActions:X,isMessageBookmark:el,setPopout:es,hasDeveloperMode:eu,isFocused:ep}=function(e){let{channel:t,message:n,showEmojiPicker:r,showEmojiBurstPicker:i,showMoreUtilities:l,messageWindow:a,setPopout:o,isFocused:s}=e,{author:d}=n,p=(0,u.e7)([V.Z],()=>V.Z.getGuild(t.guild_id),[t.guild_id]),h=(0,u.e7)([F.default],()=>F.default.getId()),g=(0,U.$R)(t),b=(0,U.Gu)(t),{firstMessage:_}=(0,u.e7)([x.Z],()=>x.Z.getMessage(t.id),[t.id]),y=B.nc.useSetting(),C=B.Sb.useSetting(),O=(0,u.e7)([z.Z],()=>null==t.guild_id||z.Z.canChatInGuild(t.guild_id),[t]),{canManageMessages:j,canAddNewReactions:E}=(0,u.cj)([W.Z],()=>({canAddNewReactions:O&&W.Z.can(ea.Plq.ADD_REACTIONS,t),canManageMessages:W.Z.can(ea.Plq.MANAGE_MESSAGES,t)}),[t,O]),I=(0,D.U)(t,n),P=(0,U.NE)(t,n),Z=(0,U.Ek)(n),T=(0,u.e7)([S.Z],()=>null!=t.guild_id&&S.Z.isLurking(t.guild_id),[t]),N=(0,u.e7)([H.ZP],()=>null!=t.guild_id&&H.ZP.isCurrentUserGuest(t.guild_id),[t]),A=d.id===h,w=(j||n.canDeleteOwnMessage(h))&&g&&!ea.V$x.UNDELETABLE.has(n.type);n.type===ea.uaV.AUTO_MODERATION_ACTION&&(w=w&&j),t.isModeratorReportChannel()&&(w=w&&n.id!==(null==_?void 0:_.id)&&!(0,ee.Z)(n));let R=(0,Q.a4)(n),M=(0,$.Z)(n,t),G=!t.isSystemDM()&&(0,J.Z)(n,h)&&g&&!b,{disableReactionCreates:q}=(0,et.Z)({channel:t,canChat:O,renderReactions:y,canAddNewReactions:E,isLurking:T,isGuest:N,isActiveChannelOrUnarchivableThread:g}),K=t.type===ea.d4z.GUILD_ANNOUNCEMENT&&null!=p&&p.features.has(ea.oNc.NEWS)&&(A||j)&&(0,m.Z)(n),X=t.getGuildId(),en=null!=X&&n.type===ea.uaV.USER_JOIN&&W.Z.canWithPartialContext(ea.Plq.MANAGE_GUILD,{guildId:X}),er=(0,v.a)(n),{enabled:ei}=L.Z.useExperiment({location:"message_utilities"}),el=(0,u.e7)([k.Z],()=>null!=k.Z.getSavedMessage(t.id,n.id)),eo=(0,c.Z)(a),es=(0,u.e7)([f.Z],()=>f.Z.keyboardModeEnabled);return{channel:t,message:n,canPin:M,canEdit:G,canDelete:w,canReport:R,canReply:I,canStartThread:P,canViewThread:Z,canForward:er,canCopy:Y.wS,hasDeveloperMode:C,canReact:!q&&y,canPublish:K,canConfigureJoin:en,isExpanded:eo&&!es&&!r&&!i&&!l,showEmojiPicker:r,showEmojiBurstPicker:i,showMoreUtilities:l,showMessageBookmarksActions:ei,isMessageBookmark:el,setPopout:o,isFocused:s}}(e),eh=i.useRef(null),eg=i.useCallback(()=>{G||q.default.track(ea.rMx.MESSAGE_POPOUT_MENU_OPENED_DESKTOP,{message_id:n.id,channel:n.channel_id}),es({moreUtilities:!G})},[G,es,n]),eb=i.useCallback(()=>{es({emojiPicker:!K})},[K,es]),e_=(0,U.$R)(t),eC=n.hasFlag(ea.iLy.CROSSPOSTED),[ex,ev]=(0,g.cv)(R?[d.z.MESSAGE_FORWARDING_DESKTOP_UTILITIES_NEW_BADGE]:[]),eO=ex===d.z.MESSAGE_FORWARDING_DESKTOP_UTILITIES_NEW_BADGE,[ej,eE]=i.useState(!1),eS=i.useCallback(()=>{eE(!0)},[]),eI=i.useCallback(()=>{eE(!1)},[]),eP=i.useCallback((e,t)=>{ev(eo.L.TAKE_ACTION),(0,er.ts)(e,t)},[ev]),{canShowReactionsOnMessageHover:eZ}=_.ZP.useExperiment({location:"ExpandingButtons"},{autoTrackExposure:!0});_.Xb.useExperiment({location:"ExpandingButtons"},{autoTrackExposure:!0});let eT=(0,A.Z)(t),eN=(0,N.Nt)(),eA=eT&&eN&&!n.hasPotions(),ew=i.useCallback(e=>{try{(0,I.qc)(t.id,n.id,e)}catch(e){(0,p.showToast)((0,p.createToast)(ec.intl.string(ec.t.xsfC2d),p.ToastType.FAILURE))}},[t.id,n.id]);return(0,r.jsxs)(r.Fragment,{children:[M?(0,r.jsxs)(r.Fragment,{children:[l&&eu?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.zBoHlZ),icon:p.VuL,onClick:e=>(0,er.F4)(t,n,e)},"copy-id"):null,l?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.WqhZsr),icon:p.xPt,onClick:()=>(0,er.fB)(t,n)},"copy-link"):null,C?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.NpHUi4),icon:p.idN,onClick:()=>(0,er.zW)(t)},"configure"):null,e_?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.RpE9k5),icon:p.z7b,onClick:()=>(0,er.B8)(t,n)},"mark-unread"):null,X?(0,r.jsx)(en.sF,{label:el?ec.intl.string(ec.t.LHUP9P):ec.intl.string(ec.t["9p3D9v"]),icon:el?p.plf:p.gt9,onClick:()=>el?(0,er.eM)(t,n):(0,er.dF)(t,n)},"bookmark"):null,a?(0,r.jsx)(en.sF,{label:n.pinned?ec.intl.string(ec.t["Bse+Fx"]):ec.intl.string(ec.t["CvQ18/"]),icon:p.qQX,onClick:e=>(0,er.rY)(t,n,e)},"pin"):null,E&&R?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.rBIGBA),icon:p.or_,onClick:()=>(0,er.gK)(t,n)},"thread"):null,j&&h?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t["5IEsGx"]),icon:p.n$P,onClick:e=>(0,er.HH)(t,n,e)},"reply-self"):null]}):null,y?(0,r.jsxs)(r.Fragment,{children:[eZ&&!M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(em,{channel:t,message:n}),(0,r.jsx)(en.fO,{})]}):null,(0,r.jsx)(ei.Z,{togglePopout:eb,renderEmojiPicker:ey,shouldShow:K,isFocused:ep,channel:t,message:n}),eA?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.icaJW1),icon:p.l22,onClick:()=>{q.default.track(ea.rMx.CONFETTI_POTION_ENTRYPOINT_CLICKED,{location:Z.MG.MessageExpandingButtons}),(0,T.s)({channelId:t.id,message:n,onRedeem:ew,onClose:P.Qy,source:Z.YD.MessageExpandingButtons})}},"add-confetti-potion"):null]}):null,j&&!h?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t["5IEsGx"]),icon:p.n$P,onClick:e=>(0,er.HH)(t,n,e)},"reply-other"):null,h?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.bt75u7),icon:p.vdY,onClick:()=>(0,er.Hd)(t,n)},"edit"):null,R?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.I3ltXF),icon:O.Z,onClick:()=>eP(t,n),onTooltipShow:eS,onTooltipHide:eI,showNewBadge:!ej&&eO},"forward"):null,E&&!R?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.rBIGBA),icon:p.or_,onClick:()=>(0,er.gK)(t,n)},"thread"):null,!E&&w?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t["39d0Wl"]),icon:p.or_,onClick:()=>(0,er.qe)(t,n)},"view-thread"):null,b?(0,r.jsx)(en.sF,{label:eC?ec.intl.string(ec.t["1kWJAg"]):ec.intl.string(ec.t["MFGE5+"]),icon:p.MqZ,onClick:()=>(0,er.Xl)(t,n),disabled:eC},"publish"):null,o&&M?(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.oyYWHB),icon:p.XHJ,onClick:e=>(0,er.$Z)(t,n,e),dangerous:!0,separator:!M},"delete"):null,M&&o?null:(0,r.jsx)(p.yRy,{targetElementRef:eh,renderPopout:e=>{let{updatePosition:i,closePopout:l}=e;return(0,r.jsx)(ef,{channel:t,message:n,canReport:s,onClose:l,updatePosition:i})},shouldShow:G,onRequestClose:eg,position:"left",align:"top",animation:p.yRy.Animation.NONE,children:(e,t)=>{var{onClick:n}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick"]),{isShown:l}=t;return(0,r.jsx)(en.sF,ed({ref:eh,label:ec.intl.string(ec.t.UKOtz8),icon:p.xhG,selected:l,onClick:eg},i),"more")}})]})}function eb(e){let{channel:t,message:n}=e,i=(0,u.e7)([j.Z],()=>null!=j.Z.getMessage(n.id),[n.id]),l=null==n.interaction||null!=n.interactionData&&(0,E.$s)(n.interactionData);return(0,r.jsxs)(r.Fragment,{children:[!i&&l&&(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t["5911LS"]),icon:p.Oe7,onClick:()=>(0,er.mG)(t,n)},"retry"),(0,r.jsx)(en.sF,{label:ec.intl.string(ec.t.oyYWHB),icon:p.XHJ,onClick:e=>(0,er.$Z)(t,n,e)},"delete-usent")]})}function e_(e){let{type:t,emoji:n,channel:r,message:i,location:l,isBurst:a=!1}=e;if(null==n)return;let o=(0,R.g1)(n);"add"===t?(0,w.rU)(r.id,i.id,o,l,{burst:a}):(0,w.WO)({channelId:r.id,messageId:i.id,emoji:o,location:l,options:{burst:a}})}function ey(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=ed({openPopoutType:"message_reaction_emoji_picker"},i&&{openPopoutType:"message_super_reaction_emoji_picker",page:null!=e.getGuildId()?ea.ZY5.GUILD_CHANNEL:ea.ZY5.DM_CHANNEL,section:(0,R.s4)(e),object:ea.qAy.EMOJI_REACTION_PICKER_POPOUT});return(0,r.jsx)(M.$,{channel:e,closePopout:n,onSelectEmoji:r=>{let{emoji:i,willClose:l,isBurst:a}=r;e_({type:"add",emoji:i,channel:e,message:t,location:w.TW.MESSAGE_REACTION_PICKER,isBurst:a}),l&&(a?s()(n,150)():n())},analyticsOverride:l,messageId:t.id})}let eC=i.memo(function(e){let{channel:t,message:n,isHeader:i,isReply:l}=e,o=(0,u.e7)([G.Z],()=>G.Z.isEditing(t.id,n.id),[t.id,n.id]),s=function(e){let{channel:t,message:n}=e;return n.state===ea.yb.SEND_FAILED?(0,r.jsx)(eb,{channel:t,message:n}):null}(e),c=function(e){let{message:t}=e;return t.state!==ea.yb.SEND_FAILED?(0,r.jsx)(eg,ed({},e)):null}(e);return o||null==s&&null==c?null:(0,r.jsx)("div",{className:a()(e.className,{[eu.container]:!0,[eu.isHeader]:i,[eu.isReply]:l}),onClick:eh,onContextMenu:eh,role:"group","aria-label":ec.intl.string(ec.t.Lv7LxM),children:(0,r.jsxs)(en.ZP,{className:e.innerClassName,children:[s,c]})})})},400023:function(e,t,n){n.d(t,{Z:()=>Y}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(202841),s=n(91192),c=n(442837),u=n(481060),d=n(904245),p=n(902840),h=n(448986),f=n(607070),m=n(931056),g=n(835473),b=n(95398),_=n(580747),y=n(135938),C=n(160404),x=n(765104),v=n(695346),O=n(314897),j=n(796974),E=n(323873),S=n(607744),I=n(375954),P=n(496675),Z=n(306680),T=n(62817),N=n(594174),A=n(459273),w=n(255269),R=n(47481),M=n(977391),D=n(959258),L=n(73274),k=n(419388),U=n(406534),B=n(981631),F=n(388032),G=n(151227);function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function V(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let W=(0,o.animated)(u.eTT),q=i.memo(function(e){var t,n;let{className:l,messageGroupSpacing:o,scrollerClassName:p,channel:m,messages:g,unreadCount:b,showNewMessagesBar:_,messageDisplayCompact:y,channelStream:x,uploads:v,hasUnreads:O,editingMessageId:E,fontSize:S,keyboardModeEnabled:I,filterAfterTimestamp:Z,showingQuarantineBanner:T,hideSummaries:N=!1,jumpBarClassName:w,typingGradient:R,isChatInputBottomAligned:D}=e,[q,Y]=i.useState(null!=(n=j.Z.isAtBottom(m.id))&&n),K=i.useMemo(()=>y?(0,M.aJ)({compact:!0,messageGroups:30,groupRange:4,attachments:8,fontSize:S,groupSpacing:o}):(0,M.aJ)({compact:!1,messageGroups:26,groupRange:4,attachments:8,fontSize:S,groupSpacing:o}),[y,S,o]),X=(0,k.ZP)({messages:g,channel:m,compact:y,hasUnreads:O,focusId:E,placeholderHeight:K.totalHeight,canLoadMore:null==Z,handleScrollToBottom:i.useCallback(()=>Y(!0),[Y]),handleScrollFromBottom:i.useCallback(()=>Y(!1),[Y]),additionalMessagePadding:48*!!D}),Q=(0,L.Z)({scrollerRef:X.ref,isEditing:null!=E,keyboardModeEnabled:I,hasMoreAfter:g.hasMoreAfter}),J=(0,c.e7)([C.Z],()=>P.Z.can(B.Plq.READ_MESSAGE_HISTORY,m)?null:C.Z.getViewingRolesTimestamp(m.getGuildId())),{channelStreamMarkup:$,newMessagesBar:ee,jumpToPresentBar:et,forumPostActionBar:en,safetyWarningBanner:er}=(0,U.Z)({channel:m,messages:g,unreadCount:b,showNewMessagesBar:_,messageDisplayCompact:y,channelStream:x,uploads:v,loadMore:X.loadMore,scrollManager:X,specs:K,filterAfterTimestamp:null!=Z?Z:J,showingQuarantineBanner:T,hideSummaries:N,jumpToPresent:()=>{if(g.hasPresent()){var e;null==(e=X.ref.current)||e.scrollToBottom({animate:!f.Z.useReducedMotion})}else d.Z.jumpToPresent(m.id,B.AQB)},jumpBarClassName:w});!function(e){let t=i.useCallback(()=>{var t;return null==(t=e.current)?void 0:t.scrollToBottom()},[e]),n=i.useCallback(()=>{var t;return null==(t=e.current)?void 0:t.scrollPageUp({animate:!f.Z.useReducedMotion})},[e]),r=i.useCallback(()=>{var t;return null==(t=e.current)?void 0:t.scrollPageDown({animate:!f.Z.useReducedMotion})},[e]);(0,A.yp)({event:B.CkL.SCROLLTO_PRESENT,handler:t}),(0,A.yp)({event:B.CkL.SCROLL_PAGE_UP,handler:n}),(0,A.yp)({event:B.CkL.SCROLL_PAGE_DOWN,handler:r})}(X.ref);let ei=(0,u.mFp)(),el=(0,s.l2)(Q),{ref:ea}=el,eo=z(el,["ref"]),es=(0,h.Z)(e=>{var t;X.ref.current=e,ea.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null}),ec=i.useMemo(()=>{let e=R&&!q?96:R?32:16,t=R&&!q?24:24*!!R;return{mask:"linear-gradient(180deg, black 0%, black calc(100% - ".concat(e,"px), rgba(0,0,0,0) calc(100% - ").concat(t,"px), rgba(0,0,0,0) 100%)")}},[R,q]);return(0,r.jsxs)(s.bG,{navigator:Q,children:[null!=er&&er,(0,r.jsxs)("div",{className:a()(G.messagesWrapper,l,"group-spacing-".concat(o)),children:[null==er&&ee,(0,r.jsxs)(W,V(H({style:D?ec:void 0,ref:es,customTheme:!0,className:a()(p,G.scroller),contentClassName:G.scrollerContent,onResize:X.handleResize,onScroll:X.handleScroll,onMouseDown:X.handleMouseDown,onMouseUp:X.handleMouseUp},ei),{tabIndex:-1,role:"group",children:[en,(0,r.jsxs)("ol",V(H({className:a()(G.scrollerInner,{[G.scrollerAllowSticky]:m.isModeratorReportChannel()}),"aria-label":F.intl.formatToPlainString(F.t.XarRiI,{channelName:m.name})},eo),{children:[(0,r.jsx)("span",{className:G.navigationDescription,id:"messagesNavigationDescription","aria-hidden":!0,children:F.intl.string(F.t.Spb3s7)}),$,(0,r.jsx)("div",{className:a()({[G.scrollerSpacer]:!T,[G.empty]:0===g.length&&!g.loadingMore,[G.emptyForum]:1===g.length&&!g.loadingMore&&m.isForumPost()&&(null==(t=g.first())?void 0:t.isFirstMessageInForumPost(m))})})]}))]})),et]})]})},(e,t)=>null!=e.isHidden&&null!=t.isHidden&&e.isHidden&&t.isHidden),Y=i.memo(function(e){var{channel:t,showingQuarantineBanner:n,hideSummaries:l=!1,forceCompact:a=!1,forceCozy:o=!1,typingGradient:s=!1,isChatInputBottomAligned:u=!1}=e,d=z(e,["channel","showingQuarantineBanner","hideSummaries","forceCompact","forceCozy","typingGradient","isChatInputBottomAligned"]);let{canManageMessages:h,permissionVersion:C,canChat:j}=function(e){let t=e.getGuildId(),n=(0,c.e7)([S.Z],()=>null==t||S.Z.canChatInGuild(t),[t]),{canManageMessages:r,permissionVersion:i}=(0,c.cj)([P.Z],()=>({canManageMessages:P.Z.can(B.Plq.MANAGE_MESSAGES,e),permissionVersion:null!=t?P.Z.getGuildVersion(t):null}),[e,t]);return{canChat:n,permissionVersion:i,canManageMessages:r}}(t),{messageGroupSpacing:A,fontSize:M,messageDisplayCompact:L,renderSpoilers:k,keyboardModeEnabled:U}=function(){let e=v.jU.useSetting(),t=v.cC.useSetting(),{messageGroupSpacing:n,fontSize:r,keyboardModeEnabled:i}=(0,c.cj)([f.Z],()=>{let{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}=f.Z;return{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}});return{messageGroupSpacing:n,messageDisplayCompact:e,renderSpoilers:t,fontSize:r,keyboardModeEnabled:i}}(),{messages:F,channelStream:G,oldestUnreadMessageId:W,editingMessageId:Y}=function(e){var t,n;let r=(0,c.e7)([I.Z],()=>I.Z.getMessages(e.id),[e.id]),l=(0,c.e7)([Z.ZP],()=>{var t;return null!=(t=Z.ZP.getOldestUnreadMessageId(e.id))?t:null},[e.id]),{enabled:a}=y.Z.useExperiment({location:"41de6d_1"},{autoTrackExposure:!1}),o=null!=(n=null==(t=N.default.getUser(O.default.getId()))?void 0:t.hasFlag(B.xW$.SPAMMER))&&n,s=(0,p.ts)(e),u=(0,_.Z)("use_topic_dividers_in_chat"),d=(0,c.Wu)([x.Z],()=>{var t;return s&&u&&null!=(t=x.Z.summaries(e.id))?t:[]},[s,e.id,u]),h=(0,c.e7)([x.Z],()=>s?x.Z.selectedSummary(e.id):null,[s,e.id]),f=function(e){let t=i.useMemo(()=>{let t=new Set;return e.forEach(e=>{null!=e.applicationId&&null==e.application&&t.add(e.applicationId)}),Array.from(t)},[e]);return(0,g.Z)(t)}(r);(0,m.Z)(r,e);let b=i.useMemo(()=>(0,R.Z)({channel:e,messages:r,oldestUnreadMessageId:l,treatSpam:a&&!o,summaries:d,selectedSummary:h}),[r,e,l,a,d,h,f,o]);return{messages:r,channelStream:b,oldestUnreadMessageId:l,editingMessageId:(0,c.e7)([E.Z],()=>{var t;return null==(t=E.Z.getEditingMessage(e.id))?void 0:t.id})}}(t);return(0,r.jsx)(b.aQ.Provider,{value:(0,w.Z)(k,h),children:(0,r.jsx)(D.v,{children:(0,r.jsx)(q,V(H({},d),{messageGroupSpacing:A,showNewMessagesBar:!0,channel:t,messageDisplayCompact:!o&&(a||L),messages:F,channelStream:G,permissionVersion:C,uploads:(0,c.e7)([T.Z],()=>T.Z.getFiles(t.id),[t]),unreadCount:(0,c.e7)([Z.ZP],()=>Z.ZP.getUnreadCount(t.id),[t]),hasUnreads:null!=W,canChat:j,editingMessageId:Y,fontSize:M,keyboardModeEnabled:U,showingQuarantineBanner:n,hideSummaries:l,typingGradient:s,isChatInputBottomAligned:u}))})})})},603490:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288),i=n(647438),l=n(873546),a=n(481060),o=n(373662),s=n(388032);function c(e){let{channel:t,message:n,togglePopout:c,renderEmojiPicker:u,shouldShow:d}=e,p=i.useRef(null);return(0,r.jsx)(a.yRy,{targetElementRef:p,animation:a.yRy.Animation.FADE,renderPopout:e=>{let{closePopout:r}=e;return u(t,n,r,!1)},shouldShow:d,onRequestClose:c,position:l.tq?"top":"left",align:l.tq?"center":"top",clickTrap:!0,children:()=>(0,r.jsx)(o.sF,{ref:p,label:s.intl.string(s.t.lfIHs7),icon:a.EO4,onClick:c},"add-reaction")})}},173033:function(e,t,n){n.d(t,{Z:()=>i});var r=n(374470);function i(e,t){let n=e.offsetTop,i=e.offsetParent;for(;null!=i;){var l;if(i===t||!(0,r.k)(i,HTMLElement))break;n+=null!=(l=i.offsetTop)?l:0,i=i.offsetParent}return n}},73274:function(e,t,n){n.d(t,{Z:()=>d});var r=n(647438),i=n(924826),l=n(448986),a=n(459273),o=n(585483),s=n(534091),c=n(959517),u=n(981631);function d(e){var{scrollerRef:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["scrollerRef"]);let d=(0,l.Z)(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToBottom({callback:()=>requestAnimationFrame(t)})})}),p=(0,l.Z)(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToTop({callback:()=>requestAnimationFrame(t)})})}),h=r.useCallback(e=>{var r,i,l;if(!n.keyboardModeEnabled)return;let a=null==(i=t.current)||null==(r=i.getScrollerNode())?void 0:r.ownerDocument,o=null==a?void 0:a.querySelector(e);null!=o&&(null==(l=t.current)||l.scrollIntoViewNode({node:o,padding:4*c.kQ,callback:()=>null==o?void 0:o.focus()}))},[n.keyboardModeEnabled,t]),f=r.useCallback(()=>{n.hasMoreAfter||o.S.dispatchToLastSubscribed(u.CkL.TEXTAREA_FOCUS)},[n.hasMoreAfter]),m=(0,i.ZP)({id:s.W,preserveFocusPosition:!1,setFocus:h,isEnabled:n.keyboardModeEnabled&&!n.isEditing,scrollToStart:p,scrollToEnd:d,onNavigateNextAtEnd:f}),g=r.useCallback(e=>{let{atEnd:t=!1}=e;t?m.focusLastVisibleItem():m.focusFirstVisibleItem()},[m]);return(0,a.yp)({event:u.CkL.FOCUS_MESSAGES,handler:g}),m}},97352:function(e,t,n){n.d(t,{Z:()=>d});var r=n(647438),i=n(399606),l=n(570140),a=n(607070),o=n(222677),s=n(695346),c=n(960020),u=n(566006);function d(){let e=s.Yk.useSetting(),t=(0,i.e7)([a.Z],()=>a.Z.useReducedMotion);r.useEffect(()=>{function n(n){let{messageId:r,channelId:i,emoji:l,optimistic:a,reactionType:s}=n;a||s!==u.O.BURST||!e||t||(0,o.T6)({channelId:i,messageId:r,emoji:l,key:c.I.EXTERNAL})}return l.Z.subscribe("MESSAGE_REACTION_ADD",n),()=>{l.Z.unsubscribe("MESSAGE_REACTION_ADD",n)}},[e,t])}},62072:function(e,t,n){n.d(t,{Z:()=>P});var r=n(647438),i=n(904245),l=n(868643),a=n(912332),o=n(41776),s=n(280845),c=n(665906),u=n(488131),d=n(695346),p=n(314897),h=n(592125),f=n(323873),m=n(271383),g=n(607744),b=n(375954),_=n(496675),y=n(572004),C=n(585483),x=n(358085),v=n(709054),O=n(418476),j=n(151007),E=n(432376),S=n(996861),I=n(981631);let P=function(e,t,n){let P=r.useRef(n);return P.current=n,r.useCallback(n=>{if(!P.current||n.target!==n.currentTarget)return;let r=!n.altKey&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey,Z=n.altKey&&!(n.ctrlKey||n.metaKey||n.shiftKey),T=n.ctrlKey&&!(n.altKey||n.metaKey||n.shiftKey),N=n.metaKey&&!(n.altKey||n.ctrlKey||n.shiftKey),A=n.shiftKey&&!(n.altKey||n.ctrlKey||n.metaKey),w=b.Z.getMessage(t,e),R=h.Z.getChannel(t);if(null==w||null==R)return;let M=p.default.getId();switch(n.key.toLowerCase()){case"backspace":r&&(_.Z.can(I.Plq.MANAGE_MESSAGES,R)||w.canDeleteOwnMessage(M))&&(n.preventDefault(),(0,S.$Z)(R,w,n));break;case"c":((0,x.isMac)()?N:T)&&y.wS&&(n.preventDefault(),(0,y.JG)(w.content));break;case"e":r&&!R.isSystemDM()&&(0,O.Z)(w,M)&&(n.preventDefault(),(0,S.Hd)(R,w));break;case"p":(r||A)&&(0,j.Z)(w,R)&&(n.preventDefault(),(0,S.rY)(R,w,n));break;case"+":(r||A)&&function(e){let t=null==e.guild_id||g.Z.canChatInGuild(e.guild_id),n=d.nc.getSetting(),{disableReactionCreates:r}=(0,E.Z)({channel:e,canChat:t,renderReactions:n,canAddNewReactions:t&&_.Z.can(I.Plq.ADD_REACTIONS,e),isLurking:null!=e.guild_id&&o.Z.isLurking(e.guild_id),isGuest:null!=e.guild_id&&m.ZP.isCurrentUserGuest(e.guild_id),isActiveChannelOrUnarchivableThread:(0,c.RG)(e)});return!r&&n}(R)&&(n.preventDefault(),C.S.dispatchKeyed(I.LPv.TOGGLE_REACTION_POPOUT,w.id,{emojiPicker:!0}));break;case"r":(r||A)&&(0,s.o)(R,w)&&(n.preventDefault(),(0,S.HH)(R,w,n));break;case"f":(r||A)&&(0,l.h)(w)&&(n.preventDefault(),(0,a.l8)({message:w,source:"keyboard-shortcut"}));break;case"t":if(r&&(0,c.ki)(R,w))n.preventDefault(),(0,u.R6)(R,w,"Message Shortcut");else if(w.hasFlag(I.iLy.HAS_THREAD)){let e=h.Z.getChannel(v.default.castMessageIdAsChannelId(w.id));null!=e&&(r||A)&&(n.preventDefault(),(0,u.ok)(e,A))}break;case"enter":Z&&(n.preventDefault(),(0,S.B8)(R,w));break;case"escape":f.Z.isEditing(R.id,w.id)?i.Z.endEditMessage(R.id):C.S.dispatch(I.CkL.TEXTAREA_FOCUS)}},[e,t])}},419388:function(e,t,n){n.d(t,{ZP:()=>j}),n(388685),n(642613),n(539854);var r=n(647438),i=n(392711),l=n.n(i),a=n(374470),o=n(925549),s=n(904245),c=n(45114),u=n(40851),d=n(607070),p=n(703656),h=n(479313),f=n(796974),m=n(709054),g=n(534469),b=n(173033),_=n(959517),y=n(981631);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t,n;if(null==e.jumpTargetId||!e.ready)return null;let{jumpTargetId:r,jumpTargetOffset:i}=e;if(e.has(r)||!e.hasMoreBefore&&r===m.default.castChannelIdAsMessageId(e.channelId)){if(0===i)return r;let n=e.getByIndex(e.indexOf(r)+i);return null!=(t=null==n?void 0:n.id)?t:r}let l=[r,...e.map(e=>{let{id:t}=e;return t})].sort(m.default.compare),a=l.indexOf(r),o=null!=(n=l[a+(Math.abs(i)>0?i:1)])?n:l[a-1];return null!=o?o:null}let v={scrollTop:0,scrollHeight:0,offsetHeight:0};class O{isReady(){return this.props.messages.ready}isLoading(){return this.loading||this.props.messages.loadingMore}isPinned(){return this.pinned}isJumping(){return this.jumping}isDragging(){return this.dragging}isInitialized(){return void 0===this.initialScrollTop}isScrollLoadingDisabled(){return this.isLoading()||!this.isInitialized()||this.isJumping()||this.isDragging()||!this.props.canLoadMore}isActivelyScrolling(){return this.scrollCounter>=5}getDocument(){var e,t;return null==(t=this.ref.current)||null==(e=t.getScrollerNode())?void 0:e.ownerDocument}getElementFromMessageId(e){let t=this.getDocument(),{channel:{id:n}}=this.props;return null==t?null:(0,g.AP)(t,n,e)}isScrolledToBottom(){let{scrollTop:e,scrollHeight:t,offsetHeight:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollerState();return e>=t-n-2&&!this.props.messages.hasMoreAfter}mergePropsAndUpdate(e){this.mergePropsAndUpdate_(e),this.props.messages.ready&&this.enableAutomaticAck()}mergePropsAndUpdate_(e){let t=this.props.messages,n=this.props.focusId;this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}({},e);let{offsetHeight:r,scrollHeight:i}=this.getScrollerState(),l=this.isHeightChange(r,i);if(this.offsetHeightCache=r,this.scrollHeightCache=i,this.loading=e.messages.loadingMore,this.isInitialized()||this.isReady()){if(!this.isInitialized())return void this.restoreScroll()}else{null==e.messages.jumpTargetId&&this.scrollTo(Number.MAX_SAFE_INTEGER);return}if(null!=e.messages.jumpTargetId){if(this.isLoading())return;let n=x(e.messages);if(null==n||this.isJumping()||e.messages.jumpSequenceId===t.jumpSequenceId){if(this.isJumping())return void(null!=n?this.scrollToMessage(n,!0):this.jumping=!1)}else{let r,i=t.first();null!=i&&e.messages.last()!==t.last()&&e.messages.first()!==t.first()&&(r=m.default.extractTimestamp(i.id)),this.scrollToMessage(n,!0,r);return}}if(e.messages.jumpedToPresent&&t.jumpSequenceId!==e.messages.jumpSequenceId){this.jumping=!0,this.scrollTo(0),this.setScrollToBottom(!0);return}let a=e.messages.last(),o=t.last();if(null!=a&&a.state===y.yb.SENDING&&(null==o?void 0:o.id)!==a.id)return void this.setScrollToBottom();let{focusId:s}=this.props;if(null!=s&&n!==s){let e=this.getElementFromMessageId(s);if(null!=e){var c;null==(c=this.ref.current)||c.scrollIntoViewNode({node:e,padding:_.kQ+this.props.additionalMessagePadding,callback:this.handleScroll});return}}l&&this.fixScrollPosition(r,i)}getAnchorData(e,t,n){var r;let i=this.getElementFromMessageId(e),l=null==(r=this.ref.current)?void 0:r.getScrollerNode();if(!(0,a.k)(i)||null==l)return null;let{offsetHeight:o}=i,s=(0,b.Z)(i,l),c=s-t;return null!=n&&(c=Math.max(-o,Math.min(n,c))),{id:e,offsetFromTop:c,offsetTop:s,offsetHeight:o,clamped:null!=c}}cleanAutomaticAnchor(){this.setAutomaticAnchor(null)}newMessageBarBuffer(){return this.props.channel.isForumPost()?_.R4:_.Eo}findAnchor(){let{messages:e,hasUnreads:t,channel:n}=this.props,r=this.getScrollerState(),{scrollTop:i}=r,l=t&&i>=this.newMessageBarBuffer()?this.newMessageBarBuffer():0,a=null,o=t=>{var r;return -1===t?m.default.castChannelIdAsMessageId(n.id):null==(r=e._array[t])?void 0:r.id},s=-1,c=!1;for(;;){let t=o(s);if(null==t)break;let n=this.getAnchorData(t,i);if(this._bottomAnchor=n,c&&null!=n&&n.offsetTop>i+l+r.offsetHeight)break;if(c){s++;continue}null!=n&&(n.offsetTop>=i+l||s===e.length-1)&&(a=n,c=!0),s++}return a}findFetchAnchor(e){let{messages:t}=this.props,{scrollTop:n}=this.getScrollerState(),r=e?-1:1,i=null,l=t._array.length-1;for(let a=e?l:0;null!=t._array[a];a+=r){let e=t._array[a],r=this.getAnchorData(e.id,n);if(null!=r){i=r;break}}return i}getAnchorFixData(){for(let e of[this.focusAnchor,this.isLoading()?null:this.messageFetchAnchor,this.automaticAnchor]){if(null==e)continue;let t=this.getElementFromMessageId(e.id);if(!(0,a.k)(t))continue;let n=e===this.messageFetchAnchor?e.offsetHeight-t.offsetHeight:0;return{node:t,fixedScrollTop:t.offsetTop-(e.offsetFromTop+n)}}return null}fixAnchorScrollPosition(){let e=this.getAnchorFixData();if(null==e)return void this.handleScroll();let{node:t,fixedScrollTop:n}=e;if(null!=this.focusAnchor){var r;this.isPinned()?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.mergeTo(n,this.handleScroll),null==(r=this.ref.current)||r.scrollIntoViewNode({node:t,padding:_.kQ+this.props.additionalMessagePadding,callback:this.handleScroll})}else this.mergeTo(n,this.handleScroll);this.isActivelyScrolling()?this.setAutomaticAnchor(null):this.setAutomaticAnchor(this.findAnchor()),this.isLoading()||(this.messageFetchAnchor=null)}hasAnchor(){return null!=this.focusAnchor||null!=this.messageFetchAnchor||null!=this.automaticAnchor}updateFocusAnchor(e,t,n){let r=this.focusAnchor=null!=e?this.getAnchorData(e,t):null;null!=r&&(r.offsetFromTop>=n||t>r.offsetTop+r.offsetHeight)&&(this.focusAnchor=null)}handleFocusAnchorScroll(e,t){var n;this.updateFocusAnchor(null==(n=this.focusAnchor)?void 0:n.id,e,t)}updateFetchAnchor(e,t,n){var r;let i=null==(r=this.ref.current)?void 0:r.getScrollerNode();null!=this.messageFetchAnchor&&null!=i&&(this.messageFetchAnchor=this.getAnchorData(this.messageFetchAnchor.id,e,this.isInPlaceholderRegion({scrollTop:e,offsetHeight:t,scrollHeight:n})>0?t:void 0))}updateAutomaticAnchor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null==(t=this.ref.current)?void 0:t.getScrollerNode();if(null==this.automaticAnchor||null==r)return;let i=this.getAnchorData(this.automaticAnchor.id,e);n&&null!=i&&null!=this.automaticAnchor&&(i.offsetFromTop=this.automaticAnchor.offsetFromTop),this.setAutomaticAnchor(i)}setAutomaticAnchor(e){var t,n;this.automaticAnchor=e,null==(t=this._automaticAnchorCallbacks)||t.forEach(e=>e(this.automaticAnchor,this._bottomAnchor)),this.updateVisibleMessagesDebounced(null==e?void 0:e.id,null==(n=this._bottomAnchor)?void 0:n.id)}getScrollerState(){var e,t;return null!=(t=null==(e=this.ref.current)?void 0:e.getScrollerState())?t:v}isHeightChange(e,t){return e!==this.offsetHeightCache||t!==this.scrollHeightCache}isInPlaceholderRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:r}=e,{messages:i,placeholderHeight:l}=this.props;return i.hasMoreBefore&&t<l&&r>n?1:i.hasMoreAfter&&t>=r-n-l?2:0}isInScrollTriggerLoadingRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:r}=e,{messages:i}=this.props;return i.hasMoreBefore&&t<=this.getOffsetToTriggerLoading("top",e)&&r>n?1:i.hasMoreAfter&&t>=this.getOffsetToTriggerLoading("bottom",e)?2:0}handleScrollSpeed(e){if(this.isJumping()||this.isDragging()||!this.props.canLoadMore)return;let{scrollTop:t,offsetHeight:n,scrollHeight:r}=e,{prevScrollTop:i,props:{placeholderHeight:l}}=this;if(this.prevScrollTop=t,null==i)return;let a=this.isInPlaceholderRegion(e),o=t-i;0!==a&&0!==o&&(1===a&&t+o<=0?(this.mergeTo(l-n),this.prevScrollTop=l-n):2===a&&t+o>=r-n&&(this.mergeTo(r-l),this.prevScrollTop=r-l))}enableAutomaticAck(){this.isInitialized()&&!this.acking&&(this.acking=!0,this.updateStoreDimensions(()=>{(0,c.CZ)(this.props.channel.id,this.props.windowId)}))}fixScrollPosition(e,t){this.offsetHeightCache=e,this.scrollHeightCache=t,this.fixJumpTarget(),this.isPinned()&&null==this.messageFetchAnchor&&null==this.focusAnchor?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.fixAnchorScrollPosition()}fixJumpTarget(){if(!this.isJumping())return;let{messages:e,hasUnreads:t}=this.props;if(null!=e.jumpTargetId){let n=x(e);if(null==n)return;let r=this.getElementFromMessageId(n);(0,a.k)(r)?this.scrollTo(this.getOffsetOrientationFromNode(r,"middle",t?this.newMessageBarBuffer():_.kQ),!0):this.scrollToNewMessages(!0,"middle")}else this.scrollTo(Number.MAX_SAFE_INTEGER,!0)}scrollToNewMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r=arguments.length>2?arguments[2]:void 0,i=null==(e=this.getDocument())?void 0:e.getElementById(_.j1),l=()=>{this.jumping=!1,this.setAutomaticAnchor(this.findAnchor()),null!=r&&r(),this.handleScroll()};this.pinned=!1,this.jumping=t,null!=i?this.scrollTo(this.getOffsetOrientationFromNode(i,n,this.newMessageBarBuffer()),t,l):this.scrollTo(this.getOffsetToPreventLoading("top"),t,l)}getOffsetOrientationFromNode(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=null==(n=this.ref.current)?void 0:n.getScrollerNode();if(null==i)return 0;let l=this.getScrollerState(),a=(0,b.Z)(e,i);return"middle"===t?Math.min(a-.5*l.offsetHeight+.5*e.offsetHeight+-8,a-r):a-r}restoreScroll(){if(this.isInitialized())return;let{initialScrollTop:e}=this;this.initialScrollTop=void 0;let t=x(this.props.messages);null!=t?this.scrollToMessage(t,!1):this.props.hasUnreads&&this.props.channel.type!==y.d4z.GUILD_VOICE&&this.props.channel.type!==y.d4z.GUILD_STAGE_VOICE?this.scrollToNewMessages():null!=e?this.scrollTo(e+this.props.placeholderHeight,!1,this.handleScroll):this.setScrollToBottom()}scrollTo(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;null==(t=this.ref.current)||t.scrollTo({to:e,animate:!d.Z.useReducedMotion&&n,callback:r}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}mergeTo(e,t){var n;null==(n=this.ref.current)||n.mergeTo({to:e,callback:t}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}setScrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:t,channel:n}=this.props;if(t.hasMoreAfter){var r;s.Z.jumpToPresent(n.id,y.AQB),(0,p.XU)(null!=(r=n.getGuildId())?r:y.ME,n.id)}else this.scrollTo(Number.MAX_SAFE_INTEGER,e,()=>{this.jumping=!1,this.handleScroll()})}updateStoreDimensions(e){if(this.isJumping()||!this.isInitialized())return;let{channel:t}=this.props;if(this.isPinned())o.Z.updateChannelDimensions(t.id,1,1,0,e);else{let{placeholderHeight:n}=this.props,{scrollTop:r,scrollHeight:i,offsetHeight:l}=this.getScrollerState();o.Z.updateChannelDimensions(t.id,r-n,i-n,l,e)}}scrollIntoViewRect(){}scrollPageUp(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null==(e=this.ref.current)||e.scrollPageUp({animate:t})}scrollPageDown(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null==(e=this.ref.current)||e.scrollPageDown({animate:t})}scrollToMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null==this.ref.current)return;if(e===this.props.channel.id)return void this.scrollTo(0);let r=this.getElementFromMessageId(e);this.isJumping()||!t||null==n||d.Z.useReducedMotion||(m.default.extractTimestamp(e)>n?this.scrollTo(0):this.scrollTo(Number.MAX_SAFE_INTEGER)),this.pinned=!1,this.jumping=!0;let i=()=>{this.jumping=!1,(0,a.k)(r)&&d.Z.keyboardModeEnabled&&r.focus({preventScroll:!0}),this.scrollCounter=0,this.handleScroll(),this._scrollCompleteCallbacks.forEach(e=>e())};(0,a.k)(r)?this.scrollTo(this.getOffsetOrientationFromNode(r,"middle",this.props.hasUnreads?this.newMessageBarBuffer():_.kQ),t,i):this.scrollToNewMessages(t,"middle",i)}getOffsetToTriggerLoading(e,t){let{scrollHeight:n,offsetHeight:r}=t,{messages:i,hasUnreads:l,placeholderHeight:a}=this.props;if("top"===e)if(!i.hasMoreBefore)return 0;else return l?a-_.D4-2:a+500;return i.hasMoreAfter?n-r-a-500:n-r}getOffsetToPreventLoading(e){let{messages:t}=this.props,n=0;return"top"===e&&t.hasMoreBefore?n=2:"bottom"===e&&t.hasMoreAfter&&(n=-2),this.getOffsetToTriggerLoading(e,this.getScrollerState())+n}getSnapshotBeforeUpdate(e){if(this.hasAnchor()||null!=e){let{scrollTop:t,offsetHeight:n,scrollHeight:r}=this.getScrollerState();this.updateFocusAnchor(e,t,n),this.updateFetchAnchor(t,n,r),this.updateAutomaticAnchor(t)}}addAutomaticAnchorCallback(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this._automaticAnchorCallbacks.push(e),this._automaticAnchorCallbacks=l().uniq(this._automaticAnchorCallbacks),!0===t&&this.setAutomaticAnchor(this.findAnchor())}removeAutomaticAnchorCallback(e){this._automaticAnchorCallbacks=l().without(this._automaticAnchorCallbacks,e)}addScrollCompleteCallback(e){this._scrollCompleteCallbacks.push(e),this._scrollCompleteCallbacks=l().uniq(this._scrollCompleteCallbacks)}removeScrollCompleteCallback(e){this._scrollCompleteCallbacks=l().without(this._scrollCompleteCallbacks,e)}cleanup(){this.acking=!1,this.updateStoreDimensionsDebounced.cancel(),this._automaticAnchorCallbacks.forEach(e=>this.removeAutomaticAnchorCallback(e)),(0,c.jT)(this.props.channel.id,this.props.windowId)}constructor(e){var t,n,i=this;if(C(this,"props",void 0),C(this,"ref",r.createRef()),C(this,"automaticAnchor",null),C(this,"messageFetchAnchor",null),C(this,"focusAnchor",null),C(this,"loading",void 0),C(this,"jumping",!1),C(this,"pinned",void 0),C(this,"dragging",!1),C(this,"isAtBottom",!1),C(this,"prevScrollTop",null),C(this,"anchorTimeout",null),C(this,"initialScrollTop",null),C(this,"acking",!1),C(this,"scrollCounter",0),C(this,"offsetHeightCache",0),C(this,"scrollHeightCache",0),C(this,"scrollTopCache",-1),C(this,"_bottomAnchor",null),C(this,"_automaticAnchorCallbacks",[]),C(this,"_scrollCompleteCallbacks",[]),C(this,"updateVisibleMessagesDebounced",l().debounce(h.JR,300)),C(this,"handleScroll",e=>{var t;if(!this.isInitialized())return;let n=this.getScrollerState(),r=this.isScrolledToBottom(n);if(r!==this.isAtBottom&&(r?(this.isAtBottom=!0,this.props.handleScrollToBottom()):(this.isAtBottom=!1,this.props.handleScrollFromBottom())),n.offsetHeight!==this.offsetHeightCache||n.scrollHeight!==this.scrollHeightCache)this.scrollCounter=0,clearTimeout(this.anchorTimeout),this.isPinned()||(null==this.automaticAnchor?this.setAutomaticAnchor(this.findAnchor()):this.updateAutomaticAnchor(n.scrollTop,!0)),clearTimeout(this.anchorTimeout),this.fixScrollPosition(n.offsetHeight,n.scrollHeight),this.scrollTopCache=n.scrollTop;else{if(null!=e&&e.target!==(null==(t=this.ref.current)?void 0:t.getScrollerNode()))return;this.scrollTopCache!==n.scrollTop&&(this.pinned=r,this.scrollCounter=Math.min(this.scrollCounter+1,5),this.pinned?this.cleanAutomaticAnchor():null!=this.automaticAnchor?this.updateAutomaticAnchor(n.scrollTop,!0):this.setAutomaticAnchor(this.findAnchor()),this.scrollTopCache=n.scrollTop,clearTimeout(this.anchorTimeout),this.anchorTimeout=setTimeout(()=>{this.scrollCounter=0,this.anchorTimeout=null,this.prevScrollTop=null;let{scrollHeight:e,offsetHeight:t}=this.getScrollerState();this.isHeightChange(t,e)?this.handleScroll():(this.cleanAutomaticAnchor(),this.isPinned()||this.setAutomaticAnchor(this.findAnchor()))},35))}if(this.handleFocusAnchorScroll(n.scrollTop,n.offsetHeight),this.updateStoreDimensionsDebounced(),this.isScrollLoadingDisabled())return this.props.canLoadMore||this.enableAutomaticAck(),this.handleScrollSpeed(n);let i=this.isInScrollTriggerLoadingRegion(n);1===i?this.loadMore():2===i?this.loadMore(!0):this.enableAutomaticAck(),this.handleScrollSpeed(n)}),C(this,"handleResize",(e,t)=>{let{offsetHeightCache:n,scrollHeightCache:r}=this;"container"===t?n=e.contentRect.height:"content"===t&&(r=e.contentRect.height),this.isHeightChange(n,r)&&this.fixScrollPosition(n,r)}),C(this,"handleMouseDown",e=>{e.target===e.currentTarget&&(this.dragging=!0)}),C(this,"handleMouseUp",()=>{this.dragging=!1,this.handleScroll()}),C(this,"loadMore",function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:r}=i.props;if(n){let e=r.last();null!=e&&(t=e.id)}else{let t=r.first();null!=t&&(e=t.id)}i.messageFetchAnchor=i.findFetchAnchor(n),i.loading=!0,s.Z.fetchMessages({channelId:i.props.channel.id,before:e,after:t,limit:y.AQB,truncate:!0})}),C(this,"updateStoreDimensionsDebounced",l().debounce(this.updateStoreDimensions,200)),this.props=e,this.loading=e.messages.loadingMore,null!=e.messages.jumpTargetId)this.pinned=!1;else{let r=f.Z.isAtBottom(e.channel.id);this.pinned=null==r||r,this.initialScrollTop=r?null:null!=(n=null==(t=f.Z.getChannelDimensions(e.channel.id))?void 0:t.scrollTop)?n:null}}}function j(e){let{messages:t,channel:n,compact:i,hasUnreads:l,focusId:a,placeholderHeight:o,canLoadMore:s=!0,handleScrollToBottom:c,handleScrollFromBottom:d,additionalMessagePadding:p=0}=e,{windowId:h}=r.useContext(u.ZP),[f]=r.useState(()=>new O({messages:t,channel:n,compact:i,hasUnreads:l,focusId:a,placeholderHeight:o,canLoadMore:s,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:d,additionalMessagePadding:p}));return f.getSnapshotBeforeUpdate(a),r.useLayoutEffect(()=>f.mergePropsAndUpdate({messages:t,channel:n,compact:i,hasUnreads:l,focusId:a,placeholderHeight:o,canLoadMore:s,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:d,additionalMessagePadding:p})),r.useLayoutEffect(()=>()=>f.cleanup(),[f]),f}},406534:function(e,t,n){n.d(t,{Z:()=>en}),n(539854),n(388685),n(290780);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(904245),s=n(966390),c=n(902840),u=n(607070),d=n(367907),p=n(605984),h=n(453470),f=n(40330),m=n(600084),g=n(62764),b=n(79712),_=n(736052),y=n(216572),C=n(359110),x=n(359119),v=n(13279),O=n(248789),j=n(88101),E=n(576954),S=n(765104),I=n(122707),P=n(779836),Z=n(23750),T=n(306680),N=n(944486),A=n(594174),w=n(55935),R=n(70956),M=n(709054),D=n(534091),L=n(554838),k=n(481369),U=n(186877),B=n(294218),F=n(534469),G=n(993397),H=n(511010),V=n(524444),z=n(977391),W=n(921235),q=n(97352),Y=n(226027),K=n(959517),X=n(981631),Q=n(134612),J=n(388032);function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ee(e){return null!=e&&e.type===X.ys_.MESSAGE&&e.content.id===e.groupId}let et=i.memo(function(e){let{file:t,channel:n,user:i,isGroupStart:l,compact:a}=e;return(0,r.jsx)(B.Z,{compact:a,isGroupStart:l,channel:n,message:new Z.ZP({id:t.id,key:"pending-upload-".concat(t.id),type:X.uaV.DEFAULT,author:i,channel_id:n.id,customRenderedContent:{hasSpoilerEmbeds:!1,content:(0,r.jsx)(f.p,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.currentSize,onCancelUpload:()=>{s.Z.cancel(n.id,t)}})}})})});function en(e){var t,n;let i,s,{channel:f,messages:B,unreadCount:en,showNewMessagesBar:er,messageDisplayCompact:ei,channelStream:el,uploads:ea,scrollManager:eo,specs:es,filterAfterTimestamp:ec,showingQuarantineBanner:eu,hideSummaries:ed,jumpBarClassName:ep}=e,eh=A.default.getCurrentUser(),ef=()=>eo.isInitialized()||B.ready,em=(0,U.$)(f),eg=B.length>0&&(null==(t=B.first())?void 0:t.isFirstMessageInForumPost(f)),eb=(0,c.ts)(f),e_=(0,l.e7)([S.Z],()=>S.Z.shouldShowTopicsBar()&&!ed),ey=(0,j.P)(f.id),eC=(0,v.z)(f.id,Q.zr),ex=(0,p.k)(f.id),ev=(0,k.Z)(),eO=function(e,t){if(e.isDM()&&null!=t)if(t.type===x.pj.STRANGER_DANGER)return(0,r.jsx)(E.M,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()});else if(t.type===x.pj.LIKELY_ATO)return(0,r.jsx)(h.M,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()});else return(0,r.jsx)(O.Y,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()});return null}(f,null!=(n=null!=ey?ey:eC)?n:ex),ej=f.isForumPost()&&!eg?(0,r.jsx)(g.Z,{postId:f.id}):null,eE=(0,_.Z)(f.id),eS=(0,y.nw)(f);(0,q.Z)();let eI=null,eP=[],eZ=el.map((e,t)=>{if(e.type===X.ys_.DIVIDER){var n,i;let l=null!=e.unreadId;return null!=ec?null:e.isSummaryDivider?(0,r.jsx)(P.Z,{index:t,item:e,channel:f,isBeforeGroup:null==e.content&&ee(el[t+1])}):(0,r.jsx)(H.Z,{isUnread:l,isBeforeGroup:null==e.content&&ee(el[t+1]),id:l?K.j1:void 0,children:e.content},"divider-".concat(null!=(i=null!=(n=e.contentKey)?n:e.unreadId)?i:t))}if(e.type===X.ys_.FORUM_POST_ACTION_BAR)return(0,r.jsx)(g.Z,{parentChannelId:f.parent_id,postId:f.id,isLastItem:t+1===el.length,isFirstMessage:!0},"forum-post-action-bar-".concat(f.id));if(e.type===X.ys_.MESSAGE_GROUP_BLOCKED||e.type===X.ys_.MESSAGE_GROUP_IGNORED||e.type===X.ys_.MESSAGE_GROUP_SPAMMER){let t;return t=e.type===X.ys_.MESSAGE_GROUP_BLOCKED?J.t["+FcYMz"]:e.type===X.ys_.MESSAGE_GROUP_IGNORED?J.t.VFWjc3:J.t.xfkfTE,(0,r.jsx)(G.Z,{unreadId:K.j1,messages:e,channel:f,compact:ei,collapsedReason:t},e.key)}if(null!=ec&&ec>e.content.timestamp.getTime()*R.Z.Millis.SECOND)return;e.type===X.ys_.MESSAGE&&null==eI&&(eI=e);let l=e.groupId===(null==eI?void 0:eI.groupId)?eI.content.id:e.groupId,a=eS&&e.content.isFirstMessageInForumPost(f),o=e.type===X.ys_.THREAD_STARTER_MESSAGE?F.Ru:F.ZP;return(0,r.jsx)(o,{compact:ei&&!a,channel:f,message:e.content,groupId:l,flashKey:e.flashKey,id:(0,D.p)(f.id,e.content.id),isLastItem:t>=el.length-1,renderContentOnly:eE||a},e.content.id)});eP.push(...eZ);let eT=el[el.length-1];if(null!=eh&&ea.forEach((e,t)=>{let n=0===t&&(0,L.J)(f,eT,new Z.ZP({type:X.uaV.DEFAULT,author:eh}));eP.push((0,r.jsx)(et,{file:e,channel:f,user:eh,isGroupStart:n,compact:ei},"upload-".concat(e.id)))}),B.hasMoreBefore&&null==ec){B.length>0&&eP.unshift((0,r.jsx)("div",{style:{height:K.D4,flex:"0 0 auto"}},"buffer"));let{useReducedMotion:e}=u.Z;(e&&ef()||!e)&&eP.unshift((0,r.jsx)(z.ZP,$({compact:ei},es),"has-more"))}if(B.hasMoreBefore&&null==ec||eP.unshift((0,r.jsx)(m.Z,{channel:f,showingBanner:eu},"empty-message")),B.hasMoreAfter&&eP.push((0,r.jsx)(z.ZP,$({compact:ei},es),"has-more-after")),!eu&&em&&ef()&&eP.push((0,r.jsx)(W.Z,{channel:f})),en>0&&er&&ef()){let e,t,n=T.ZP.getOldestUnreadTimestamp(f.id),l=0!==n?n:M.default.extractTimestamp(f.id),o=(0,w.KC)(new Date,new Date(l));if(T.ZP.isEstimated(f.id)?(e=o?J.t.wvtbbG:J.t.tHqbtr,t=J.t.vaPWFR):(e=o?J.t.BctFHx:J.t["3wXb9P"],t=J.t["4H8ldH"]),eb&&(0,c.tW)(f)&&ev.includes(Y.E.SUMMARIES)){let n=T.ZP.ackMessageId(f.id),o=(0,I.q)(f.id,T.ZP.getOldestUnreadMessageId(f.id));if((0,d.yw)(X.rMx.SUMMARIES_UNREAD_BAR_VIEWED,{num_unread_summaries:o,num_unread_messages:en,last_ack_message_id:n,summaries_enabled_by_user:e_,summaries_enabled_for_channel:(0,c.Lp)(f)}),(0,c.Lp)(f)){let n=e_?J.intl.format(t,{count:en}):J.intl.format(e,{count:en,timestamp:l});if(e_){let e=o>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:J.intl.format(t,{count:en})}),(0,r.jsx)(b.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:J.intl.format(J.t.CBftDQ,{count:o})})]}):(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:n});i=(0,r.jsx)(V.G5,{scrollManager:eo,content:e,channel:f})}else{let e=(0,r.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center"},children:o>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:J.intl.format(t,{count:en})}),(0,r.jsx)(b.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:J.intl.format(J.t.CBftDQ,{count:o})})]}):(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"currentColor",children:n})});i=(0,r.jsx)(V.LE,{content:e,channelId:f.id})}}}else ev.includes(Y.E.NEW_MESSAGES)&&(i=(0,r.jsx)(V.LE,{content:J.intl.format(e,{count:en,timestamp:l}),channelId:f.id}))}if(null==i&&(0,c.Lp)(f)&&e_&&ev.includes(Y.E.SUMMARIES)&&(i=(0,r.jsx)(V.BO,{channel:f,scrollManager:eo})),B.error)s=(0,r.jsx)(V.Rp,{loading:B.loadingMore,onClick:()=>{var e;return e=f.id,void o.Z.fetchMessages({channelId:e,limit:X.AQB,truncate:!0})},className:ep});else if(B.hasMoreAfter&&ef()){let{jumpReturnTargetId:e}=B;s=B.loadingMore&&B.jumpedToPresent?(0,r.jsx)(V.DR,{className:ep}):null!=e?(0,r.jsx)(V.DR,{type:V.A7.REPLY,onClick:()=>{o.Z.jumpToMessage({channelId:f.id,messageId:e,flash:!0})},className:ep}):(0,r.jsx)(V.DR,{onClick:()=>(function(e){o.Z.jumpToPresent(e.id,X.AQB);let t=N.Z.getChannelId();e.id===t&&(0,C.Kh)(e.id)})(f),className:ep})}return{channelStreamMarkup:eP,newMessagesBar:i,jumpToPresentBar:s,forumPostActionBar:ej,safetyWarningBanner:eO}}},764893:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(158969);function l(e,t){let{message:n,compact:l}=e;return(0,r.jsx)(i.Z,{message:n,content:t,compact:null!=l&&l})}},481363:function(e,t,n){n.d(t,{Z:()=>c}),n(997841);var r=n(951288);n(647438);var i=n(630388),l=n(901461),a=n(773176),o=n(981631),s=n(360514);function c(e){let{setPopout:t,messagePopouts:{emojiPicker:n,emojiBurstPicker:c,moreUtilities:u},isFocused:d,buttonProps:{message:p,channel:h,groupId:f,compact:m=!1},messageWindow:g}=e,b=p.state===o.yb.SENDING,_=p.id===f,y=(0,i.yE)(p.flags,o.iLy.EPHEMERAL),C=p.state===o.yb.SEND_FAILED;return b||y&&!C?null:(0,r.jsx)(a.Z,{className:s.buttons,innerClassName:s.buttonsInner,isHeader:!m&&_&&!(0,l.Z)(p),isReply:!m&&p.type===o.uaV.REPLY&&null!=p.messageReference,channel:h,message:p,messageWindow:g,setPopout:t,showEmojiPicker:n,showEmojiBurstPicker:c,showMoreUtilities:u,isFocused:d})}},900902:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(901461),a=n(453687),o=n(464891),s=n(318713),c=n(507418),u=n(348238),d=n(981631);let p=i.memo(function(e){let{message:t,channel:n,compact:l=!1,groupId:a,isGroupStart:s,usernameProfile:p,avatarProfile:h,setPopout:f,author:m,repliedMessage:g,roleIcon:b}=e,_=(0,u.wq)(t.author.id,n.id),y=(0,u.XO)(t,n,p,f),C=(0,u.R9)(h,f),x=i.useCallback(()=>{f({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})},[f]);return(0,r.jsx)(o.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:g,author:m,compact:l,subscribeToGroupId:a,showTimestampOnHover:!s&&l&&t.type!==d.uaV.REPLY,renderPopout:c.Z,showAvatarPopout:h,showUsernamePopout:p,onClickAvatar:C,onClickUsername:y,onContextMenu:_,onPopoutRequestClose:x,roleIcon:b})}),h=i.memo(s.Z);function f(e){let{messageProps:t,setPopout:n,messagePopouts:i,replyReference:o,author:s,repliedMessage:c,roleIcon:u}=e,{message:d,compact:f,channel:m,groupId:g}=t,{usernameProfile:b,avatarProfile:_}=i;if((0,l.Z)(d))return null;let y=d.id===g;return y||f||null!=o?(0,r.jsx)(p,{message:d,channel:m,compact:f,subscribeToGroupId:g,isGroupStart:y,groupId:g,setPopout:n,usernameProfile:b,avatarProfile:_,author:s,repliedMessage:c,roleIcon:u}):(0,r.jsx)(h,{compact:!0,timestamp:d.timestamp,isInline:!1,id:(0,a.Dv)(d),isVisibleOnlyOnHover:!0,cozyAlt:!0})}},252032:function(e,t,n){n.d(t,{Z:()=>S}),n(997841),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(904245),o=n(257559),s=n(911969),c=n(541716),u=n(893718),d=n(314897),p=n(323873),h=n(430824),f=n(496675),m=n(585483),g=n(630388),b=n(838440),_=n(930282),y=n(955384),C=n(981631),x=n(224837),v=n(360514);function O(e){let{value:t,channel:n}=e;return(0,b.v)({type:c.Ie.EDIT,content:t,channel:n,restrictMentions:!1,respectCooldown:!1})}function j(e){let{channel:t,message:n}=e,{id:c}=t,{id:u}=n,m=t.getGuildId(),b=(0,l.e7)([h.Z],()=>h.Z.getGuild(m),[m]),_=t.type===C.d4z.GUILD_ANNOUNCEMENT,j=null!=b&&b.features.has(C.oNc.NEWS),S=_&&j,{editingMessage:I,editingTextValue:P,editingRichValue:Z}=(0,l.cj)([p.Z],()=>({editingMessage:p.Z.getEditingMessage(c),editingTextValue:p.Z.getEditingTextValue(c),editingRichValue:p.Z.getEditingRichValue(c)}),[c]),T=(0,l.e7)([d.default],()=>d.default.getId()),N=i.useCallback((e,r,i)=>{let{content:l}=i,c=f.Z.can(C.Plq.MANAGE_MESSAGES,t),u=null!=I&&null!=I.author?I.author.id:null,d=S&&(u===T||c),p={content:l,components:void 0};if(n.hasFlag(C.iLy.IS_COMPONENTS_V2)){var h;let e=(null==(h=n.components[0])?void 0:h.type)===s.re.MEDIA_GALLERY,t=n.components.filter(e=>e.type!==s.re.TEXT_DISPLAY);t.splice(+!!e,0,{type:s.re.TEXT_DISPLAY,content:l,id:"".concat(x.Kb)}),p.content="",p.components=t}return d&&null!=I&&(0,g.yE)(I.flags,C.iLy.CROSSPOSTED)?o.Z.confirmEdit(e,r,p):a.Z.editMessage(e,r,p),Promise.resolve()},[I,S,T,t,n]),A=i.useCallback(e=>{var t,n;return(0,i.createElement)(E,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={className:v.channelTextArea,key:u},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},[u]);return null!=P&&null!=Z?(0,r.jsx)(y.Z,{ref:void 0,channel:t,message:n,textValue:P,richValue:Z,onCancel:a.Z.endEditMessage,onChange:a.Z.updateEditMessage,onConfirmDelete:o.Z.confirmDelete,saveMessage:N,validateEdit:O,children:A}):null}function E(e){let{textValue:t,richValue:n,message:l,channel:a,onChange:o,onSubmit:s,onKeyDown:d,renderLeftAccessories:p}=e,[h,f]=i.useState(!0),g=i.useCallback(()=>f(!0),[]),b=i.useCallback(()=>f(!1),[]);return i.useEffect(()=>(m.S.subscribe(C.CkL.TEXTAREA_FOCUS,g),m.S.subscribe(C.CkL.TEXTAREA_BLUR,b),()=>{m.S.unsubscribe(C.CkL.TEXTAREA_FOCUS,g),m.S.unsubscribe(C.CkL.TEXTAREA_BLUR,b)}),[g,b]),(0,r.jsx)(u.ZP,{className:v.channelTextArea,textValue:t,richValue:n,channel:a,type:c.Ie.EDIT,onChange:o,onSubmit:e=>{let{value:t}=e;return s(t)},onKeyDown:d,focused:h,onFocus:g,onBlur:b,renderLeftAccessories:p},l.id)}function S(e,t,n){let{message:i,channel:l,compact:a}=e;return n?(0,r.jsx)(j,{channel:l,message:i}):(0,r.jsx)(_.ZP,{message:i,content:t,compact:null!=a&&a})}},737243:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(442837),a=n(911969),o=n(581364),s=n(869765),c=n(699516),u=n(697451),d=n(348238),p=n(614584);let h=i.memo(function(e){var t,n;let{message:h,channel:f,compact:m=!1,interactionUsernameProfile:g,interactionAvatarProfile:b,interactionData:_,referencedUsernameProfile:y,referencedAvatarProfile:C,setPopout:x}=e,{isInteractionUserBlocked:v,isInteractionUserIgnored:O}=(0,l.cj)([c.Z],()=>({isInteractionUserBlocked:c.Z.isBlockedForMessage(h),isInteractionUserIgnored:c.Z.isIgnoredForMessage(h)}),[h]),j=(0,l.e7)([s.Z],()=>s.Z.getMessageByReference(null==h?void 0:h.messageReference)),E=(0,d.wq)(null==(t=h.interaction)?void 0:t.user.id,f.id),S=(0,d.Nk)(h.interaction,f,g,x),I=(0,d.NU)(b,x),P=(0,o.t0)(h),Z=(null==P?void 0:P.type)===a.B8.APPLICATION_COMMAND?null==(n=P.target_user)?void 0:n.id:void 0,T=(0,d.wq)(Z,f.id),N=(0,d.JC)(Z,f,y,x),A=(0,d.rY)(C,x),w=(0,d.Xn)(_,x),R=i.useCallback(()=>{x({interactionUsernameProfile:!1,interactionAvatarProfile:!1,interactionData:!1,referencedUsernameProfile:!1,referencedAvatarProfile:!1})},[x]),M=i.useCallback(()=>(0,p.Z)({message:h,channel:f,compact:m,setPopout:x,referencedAvatarProfile:C,referencedUsernameProfile:y,replyReference:h.messageReference,replyMessage:j,isReplySpineClickable:!1,showReplySpine:!1}),[f,m,h,C,j,y,x]);return(0,r.jsx)(u.Z,{message:h,channel:f,compact:m,isInteractionUserBlocked:v,isInteractionUserIgnored:O,showAvatarPopout:b,showUsernamePopout:g,showDataPopout:_,showTargetAvatarPopout:C,showTargetUsernamePopout:y,onClickAvatar:I,onClickUsername:S,onClickCommand:w,onUserContextMenu:E,onClickTargetAvatar:A,onClickTargetUsername:N,onTargetUserContextMenu:T,onPopoutRequestClose:R,renderTargetMessage:M})});function f(e,t,n){let{message:i,channel:l,compact:a}=e;return null!=i.interaction&&""!==i.interaction.displayName?(0,r.jsx)(h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({message:i,channel:l,compact:a,setPopout:t},n)):null}},614584:function(e,t,n){n.d(t,{Z:()=>I});var r=n(951288),i=n(647438),l=n(442837),a=n(25209),o=n(39154),s=n(627050),c=n(35125),u=n(905405),d=n(628238),p=n(499401),h=n(693912),f=n(869765),m=n(699516),g=n(352736),b=n(937889),_=n(739566),y=n(267128),C=n(507418),x=n(348238),v=n(981631),O=n(388032);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let S=i.memo(function(e){var t;let{baseMessage:n,referencedMessage:S,channel:I,compact:P=!1,referencedUsernameProfile:Z,referencedAvatarProfile:T,setPopout:N,isReplySpineClickable:A,showReplySpine:w}=e,R=S.state===f.Y.LOADED?S.message:void 0,M=(0,_.Uj)(R),D=(0,u.p)(),L=s.d.useExperiment({location:"repliedMessage"}).enabled,k=(0,d.A)((null!=(t=n.editedTimestamp)?t:n.timestamp).valueOf()),U=i.useMemo(()=>{if(null==R)return null;let e=(0,o.Z)(R);if(e.type===v.uaV.USER_JOIN)return(0,a.Rp)(O.intl.formatToParts(g.Z.getSystemMessageUserJoin(e.id),{username:null!=M?M.nick:e.author.username,usernameHook:e=>e}));if(e.type===v.uaV.ROLE_SUBSCRIPTION_PURCHASE)return(0,a.Rp)((0,c.PA)({username:null!=M?M.nick:e.author.username,guildId:null==I?void 0:I.guild_id,roleSubscriptionData:e.roleSubscriptionData}));if(e.type===v.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION)return(0,a.Rp)((0,p.Y)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));if(e.type===v.uaV.PRIVATE_CHANNEL_INTEGRATION_ADDED)return(0,a.Rp)((0,h.B2)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));if(e.type===v.uaV.PRIVATE_CHANNEL_INTEGRATION_REMOVED)return(0,a.Rp)((0,h.hj)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));else if(e.type===v.uaV.GUILD_DEADCHAT_REVIVE_PROMPT)return""!==e.content?e.content:O.intl.string(O.t.wnn1DQ);if(null!=e.content&&""!==e.content){let t={formatInline:!0,allowLinks:!0,shouldFilterKeywords:D},n=e.isFirstMessageInForumPost(I)?E(j({},t),{noStyleAndInteraction:!0,allowHeading:!0,allowList:!0,allowGameMentions:L}):E(j({},t),{formatInline:!0,allowHeading:k,allowList:k,allowGameMentions:L});return(0,b.ZP)(e,n).content}return null},[R,M,I,k,D,L]),{isReplyAuthorBlocked:B,isReplyAuthorIgnored:F}=(0,l.cj)([m.Z],()=>({isReplyAuthorBlocked:null!=R&&m.Z.isBlockedForMessage(R),isReplyAuthorIgnored:null!=R&&m.Z.isIgnoredForMessage(R)}),[R]),G=(0,x.wq)(null==R?void 0:R.author.id,I.id),H=(0,x.$3)(n,R),V=(0,x.Wl)(R,I,Z,N),z=(0,x.rY)(T,N),W=i.useCallback(()=>{N({referencedUsernameProfile:!1,referencedAvatarProfile:!1})},[N]),q=(0,_.Uj)(n);return(0,r.jsx)(y.Z,{repliedAuthor:M,baseMessage:n,channel:I,baseAuthor:q,referencedMessage:S,content:U,compact:P,isReplyAuthorBlocked:B,isReplyAuthorIgnored:F,showAvatarPopout:T,showUsernamePopout:Z,renderPopout:C.Z,onClickAvatar:z,onClickUsername:V,onClickReply:H,onContextMenu:G,onPopoutRequestClose:W,isReplySpineClickable:A,showReplySpine:w})});function I(e){let{message:t,channel:n,compact:i,setPopout:l,referencedUsernameProfile:a,referencedAvatarProfile:o,replyReference:s,replyMessage:c,isReplySpineClickable:u,showReplySpine:d=!0}=e;return null!=s&&(0,r.jsx)(S,{baseMessage:t,replyReference:s,referencedMessage:c,channel:n,compact:i,setPopout:l,referencedUsernameProfile:a,referencedAvatarProfile:o,isReplySpineClickable:u,showReplySpine:d})}},670044:function(e,t,n){n.d(t,{Z:()=>l});var r=n(990547),i=n(213609);function l(e){return(0,i.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.NOTIFICATION_SETTING_UNREAD_NUDGE},void 0,[e.id]),null}},390289:function(e,t,n){n.d(t,{Z:()=>R}),n(388685),n(997841);var r,i=n(442837),l=n(570140),a=n(314897),o=n(592125),s=n(430824),c=n(944486),u=n(9156),d=n(70956),p=n(630388),h=n(709054),f=n(221259),m=n(981631),g=n(490897),b=n(526761);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let y=[{timeSinceJoin:+d.Z.Millis.HOUR,sends:1,viewTime:+d.Z.Millis.MINUTE},{timeSinceJoin:+d.Z.Millis.DAY,sends:2,viewTime:2*d.Z.Millis.MINUTE},{timeSinceJoin:+d.Z.Millis.WEEK,sends:5,viewTime:5*d.Z.Millis.MINUTE},{timeSinceJoin:+d.Z.Millis.DAYS_30,sends:10,viewTime:30*d.Z.Millis.MINUTE}],C=5*y[y.length-1].viewTime,x=d.Z.Millis.WEEK,v={channels:{}},O=new Set,j=null,E=0,S=0;function I(){if(null==j||!T(j))return!1;let e=Z(j);if(e.lastActionTime>Date.now()-d.Z.Millis.DAY&&e.viewDuration>C)return!1;let t=Date.now();e.lastActionTime=t,e.viewDuration+=t-E,E=t}function P(){return 0!==S&&(clearInterval(S),S=0),u.ZP.useNewNotifications&&(S=setInterval(()=>{I()&&w.emitChange()},15*d.Z.Millis.SECOND)),!1}function Z(e){return e in v.channels||(v.channels[e]={lastActionTime:0,viewDuration:0,numSends:0}),v.channels[e]}function T(e){if(!u.ZP.useNewNotifications||O.has(e))return!1;let t=o.Z.getBasicChannel(e);if(null==t||null==t.guild_id||u.ZP.isGuildOrCategoryOrChannelMuted(t.guild_id,t.id)||N(t.guild_id,t.id)||N(t.guild_id,t.parent_id))return!1;let n=u.ZP.resolveUnreadSetting(t);return u.ZP.getChannelUnreadSetting(t.guild_id,t.id)===g.i.UNSET&&n!==g.i.ALL_MESSAGES}function N(e,t){if(null==t)return!1;let n=u.ZP.getChannelOverrides(e)[t];return null!=n&&!!(null!=n.message_notifications&&n.message_notifications!==m.bL.NULL||null!=n.flags&&(0,p.EB)(n.flags,b.ic.UNREADS_ALL_MESSAGES|b.ic.UNREADS_ONLY_MENTIONS))}class A extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&(v.channels=e.channels),this.syncWith([u.ZP],P),this.waitFor(u.ZP,c.Z,o.Z)}getState(){return v}getLastActionTime(e){var t,n;return null!=(n=null==(t=v.channels[e])?void 0:t.lastActionTime)?n:0}maybeAutoUpgradeChannel(e){if(!T(e))return!1;let t=o.Z.getBasicChannel(e);return null!=t&&null!=t.guild_id&&!!function(e){var t;let n=s.Z.getGuild(e.guild_id),r=null!=(t=null==n?void 0:n.joinedAt)?t:new Date,i=Math.min(h.default.age(e.id),Date.now()-r.getTime()),l=v.channels[e.id];if(null==l||l.lastActionTime<Date.now()-x)return!1;for(let e of y)if(i<e.timeSinceJoin&&(l.numSends>=e.sends||l.viewDuration>=e.viewTime))return!0;return!1}(t)&&(delete v.channels[e],O.add(e),(0,f.IG)(t.guild_id,t.id,g.i.ALL_MESSAGES),!0)}}_(A,"displayName","UnreadSettingNoticeStore2"),_(A,"persistKey","UnreadSettingNoticeStore2");let w=new A(l.Z,{CHANNEL_SELECT:function(){let e=I();return j=c.Z.getChannelId(),E=Date.now(),e},CONNECTION_OPEN:function(){j=c.Z.getChannelId(),E=Date.now(),P();let e=Date.now()-x;h.default.forEach(v.channels,(t,n)=>{let{lastActionTime:r}=t;r<e&&delete v.channels[n]})},MESSAGE_CREATE:function(e){var t;if(e.optimistic||e.isPushNotification||(null==(t=e.message.author)?void 0:t.id)!==a.default.getId()||!T(e.channelId))return!1;let n=Z(e.channelId);n.lastActionTime=Date.now(),n.numSends++}}),R=w},28391:function(e,t,n){n.d(t,{Z:()=>u});var r=n(87051),i=n(9156),l=n(621600),a=n(113449),o=n(981631),s=n(490897),c=n(526761);function u(e,t,n){r.Z.updateChannelOverrideSettings(e,t,{flags:(0,a.pq)(i.ZP.getChannelIdFlags(e,t),n)},l.UE.unreads(n===c.ic.UNREADS_ALL_MESSAGES?s.i.ALL_MESSAGES:s.i.ONLY_MENTIONS),{object:o.qAy.NOTIFICATION_SETTING_UNREAD_NOTICE})}},944103:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(647438),i=n(442837),l=n(131704),a=n(423589),o=n(390289);function s(e){let t=(0,a.Mn)("useShouldRenderBanner"),[n,s]=r.useState("");r.useEffect(()=>{s("")},[e.id]);let c=(0,i.e7)([o.Z],()=>o.Z.getLastActionTime(e.id));r.useEffect(()=>{l.$N.has(e.type)&&n!==e.id&&t&&o.Z.maybeAutoUpgradeChannel(e.id)&&s(e.id)},[n,t,c,e]);let u=r.useCallback(()=>s(""),[]);return{showUnreadsNotice:n===e.id,clearUnreadsNotice:u}}},946050:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(670044),a=n(28391),o=n(526761),s=n(388032),c=n(58102);function u(e){let{channel:t,clearUnreadsNotice:n}=e;return(0,r.jsxs)("div",{className:c.notice,children:[(0,r.jsx)(l.Z,{id:t.id}),(0,r.jsx)("div",{className:c.info,children:(0,r.jsx)(i.Text,{variant:"text-sm/medium",children:s.intl.format(s.t.P6Y2Nz,{})})}),(0,r.jsx)(i.zxk,{variant:"secondary",text:s.intl.string(s.t.KyUKhY),icon:i.UEU,size:"sm",onClick:()=>{(0,a.Z)(t.guild_id,t.id,o.ic.UNREADS_ONLY_MENTIONS),n()}})]})}},256413:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(931261),l=n(9156),a=n(398758),o=n(981631),s=n(176505);function c(e){var t;let n=(0,a.DM)((null==e?void 0:e.getGuildId())!=null?e.guild_id:o.kod),c=(0,r.e7)([l.ZP],()=>null!=e&&l.ZP.isChannelRecordOrParentOptedIn(e)),u=(0,i.g)(null!=(t=null==e?void 0:e.guild_id)?t:o.kod);if(null==e)return!1;let d=u&&e.hasFlag(s.zZ.IS_GUILD_RESOURCE_CHANNEL);return n&&!d&&!c&&!e.isThread()}},292853:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(367907),c=n(626135),u=n(152376),d=n(981631),p=n(388032),h=n(245995);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function g(e){let{channel:t,narrow:n}=e;return i.useEffect(()=>{c.default.track(d.rMx.CHANNEL_BANNER_VIEWED,m(f({},(0,s.hH)(t.getGuildId()),(0,s.v_)(t)),{banner_type:"channel_opt_in"}))},[t]),(0,r.jsxs)("div",{className:a()(h.chatHeaderBar,{[h.narrow]:n}),children:[(0,r.jsx)(o.Text,{className:h.chatHeaderBarText,variant:"text-sm/normal",color:"text-default",children:p.intl.string(p.t.iOWmmJ)}),(0,r.jsx)(o.zxk,{size:"sm",variant:"primary",onClick:()=>{c.default.track(d.rMx.CHANNEL_BANNER_CTA_CLICKED,m(f({},(0,s.hH)(t.getGuildId()),(0,s.v_)(t)),{banner_type:"channel_opt_in",cta_type:"add channel"})),(0,u.XQ)(t.guild_id,t.id,!0,{section:d.jXE.CHANNEL})},text:p.intl.string(p.t.ZtIlQk),icon:o.qJs})]})}},986035:function(e,t,n){n.d(t,{Z:()=>p}),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(755721),s=n(481060),c=n(480916),u=n(469438),d=n(197571);let p=function(e){let{title:t,description:n,agreement:l,disagreement:p,onAgree:h,onDisagree:f,imageClassName:m,agreementButtonColor:g=o.zx.Colors.RED,modalType:b,channelId:_,guildId:y}=e;i.useEffect(()=>{(0,c.YT)(b,_,y)},[b,_,y]);let C=i.useCallback(()=>{(0,c.qd)(c.iP.NSFW_CHANNEL_DISAGREE_CTA,b,_,y),null==f||f()},[f,b,_,y]),x=i.useCallback(()=>{(0,c.qd)(c.iP.NSFW_CHANNEL_AGREE_CTA,b,_,y),null==h||h()},[h,b,_,y]);return(0,r.jsxs)(s.Kqy,{className:u.gatedContent,justify:"center",align:"center",direction:"vertical",children:[(0,r.jsx)("div",{className:a()(u.image,m)}),(0,r.jsx)("div",{className:a()(u.title,d.marginBottom8),children:t}),(0,r.jsx)(s.Text,{variant:"text-md/medium",className:a()(u.description,d.marginBottom20),children:n}),(0,r.jsxs)(s.Kqy,{direction:"horizontal",justify:"center",align:"center",gap:16,children:[null!=p&&null!=f?(0,r.jsx)(s.zxk,{variant:"secondary",text:p,onClick:C}):null,null!=l&&null!=h?(0,r.jsx)(o.zx,{color:g,onClick:x,children:l}):null]})]})}},217871:function(e,t,n){n.d(t,{Z:()=>E}),n(388685),n(358797);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(202841),s=n(442837),c=n(481060),u=n(393238),d=n(607070),p=n(44315),h=n(314897),f=n(111583),m=n(889901),g=n(64078),b=n(351780),_=n(843693),y=n(641033),C=n(989830),x=n(388032),v=n(23586);let O=i.memo(function(e){let{channelId:t,width:n}=e,l=(0,s.e7)([d.Z],()=>d.Z.useReducedMotion),a=(0,s.e7)([_.ZP],()=>_.ZP.getMostRecentMessageCombo(t),[t]),[u,p]=i.useState(!1);i.useEffect(()=>{if(null==a?void 0:a.displayed)return;p(!1),setImmediate(()=>{p((null!=a?(0,y.Eo)(a.combo):0)>0)});let e=setTimeout(()=>{p(!1),null!=a&&(0,g.ew)(a)},2e3);return()=>clearTimeout(e)},[a]);let h=null!=a?"100%":"200%",f=(0,c.q_F)({opacity:+!!u,translateY:u?"0":h,pointerEvents:"none",width:n,config:l?o.config.stiff:o.config.slow},"animate-always");return null!=a&&(0,r.jsx)(o.animated.div,{className:v.messageComboScore,style:f,children:(0,r.jsx)(c.Text,{className:v.comboScore,variant:"text-sm/bold",children:(0,y.Eo)(a.combo)})})}),j=i.memo(function(e){let{value:t,multiplier:n}=e,{color:l,square:o,flair:s}=i.useMemo(()=>(0,y.yz)(n),[n]),u=(0,p.Lq)(l);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Text,{className:v.comboValue,variant:"text-sm/bold",children:t}),(0,r.jsxs)("div",{className:v.comboNameplate,style:{color:u},children:[(0,r.jsx)(c.Text,{className:v.comboMultiplier,style:{color:u},variant:"text-sm/bold",children:x.intl.format(x.t["6bgVlp"],{multiplier:n})}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(v.comboSquare,v.left),style:{backgroundColor:u}}),(0,r.jsx)("div",{className:a()(v.comboSquare,v.right),style:{backgroundColor:u}})]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(v.confettiIcon,v.left),children:(0,r.jsx)(m.Z,{width:24,height:24})}),(0,r.jsx)("div",{className:a()(v.confettiIcon,v.right),children:(0,r.jsx)(m.Z,{width:24,height:24})})]}),1===n&&(0,r.jsx)(c.Text,{className:v.tip,variant:"text-sm/bold",children:x.intl.string(x.t.b5Cpoa)})]})]})}),E=i.memo(function(e){let{channelId:t}=e,n=(0,s.e7)([h.default],()=>h.default.getId()),l=(0,s.e7)([f.Z],()=>f.Z.isTyping(t,n),[t,n]),a=(0,s.e7)([b.Z],()=>b.Z.isEnabled()),d=(0,s.e7)([_.ZP],()=>_.ZP.isComboing(n,t),[t,n]),{ref:p,width:m=0}=(0,u.ZP)(),[g,y]=i.useState(!1),x=(0,C.Z)(t),E=a&&d&&l;i.useEffect(()=>{E&&y(!0);let e=setTimeout(()=>y(E),1e3);return()=>clearTimeout(e)},[E]);let S=(0,c.q_F)({opacity:+!!g,transform:g?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:o.config.stiff}),I=i.useMemo(()=>null!=x?x:{value:0,multiplier:1},[x]),P=i.useRef(I);i.useEffect(()=>{(I.multiplier>1||I.value>0)&&(P.current=I)},[I]);let{multiplier:Z,value:T}=i.useMemo(()=>({value:E?I.value:P.current.value,multiplier:E?I.multiplier:P.current.multiplier}),[E,I,P]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{channelId:t,width:m}),(0,r.jsx)(o.animated.div,{ref:p,className:v.combo,style:S,children:(0,r.jsx)(j,{value:T,multiplier:Z})})]})})},139577:function(e,t,n){n.d(t,{Z:()=>u});var r=n(442837),i=n(314897),l=n(111583),a=n(351780),o=n(843693),s=n(170248),c=n(524484);function u(e){let t=(0,s.Z)(c.oZ.CHAT_INPUT),n=(0,r.e7)([a.Z],()=>a.Z.isEnabled({shakeLocation:c.oZ.CHAT_INPUT}));return(0,r.e7)([l.Z,o.ZP,i.default],()=>n&&l.Z.isTyping(e,i.default.getId())?o.ZP.getUserComboShakeIntensity(i.default.getId(),e,t):0)}},579185:function(e,t,n){n.d(t,{Z:()=>l}),n(388685);var r=n(647438),i=n(846519);function l(e,t){let[n,l]=r.useState(!1),a=r.useRef(new i.sW(t,()=>l(!1))),o=r.useRef(new i.sW(e,()=>l(!0))),s=r.useCallback(()=>{a.current.cancel(),o.current.cancel()},[]);r.useEffect(()=>s,[s]);let c=r.useCallback(()=>{s(),a.current.delay()},[s]);return{isHovered:n,setIsHovered:l,onMouseEnter:r.useCallback(()=>{s(),o.current.delay()},[s]),onMouseLeave:c,cancelTimers:s}}},911266:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(442837),c=n(570140),u=n(607070),d=n(768581),p=n(176354),h=n(823961),f=n(992970),m=n(111810),g=n(287941),b=n(235894),_=n(874341);let y=e=>{let{message:t,hovering:n,compact:l}=e,y=i.useRef((0,o.random)(-6,24)).current,C=(0,s.e7)([h.Z],()=>h.Z.confettiMode),x=(0,s.e7)([u.Z],()=>u.Z.useReducedMotion),v=i.useRef(0),O=i.useRef(null),j=i.useRef(null),[E,S]=i.useState(!1),I=i.useMemo(()=>!n&&!C&&!x,[C,n,x]);if(i.useEffect(()=>{n||S(!1),n&&C&&S(!0)},[n,C]),i.useEffect(()=>{!x&&(E||(!1===n&&(v.current=0,null!=O.current&&(clearTimeout(O.current),O.current=null)),v.current=Date.now(),O.current=setTimeout(()=>{let e=v.current;if(0!==e&&!1!==n&&!(Date.now()-e<1e3)&&!C){if(null!=j.current){var r;let{x:e,y:n,width:i,height:l}=null==(r=j.current)?void 0:r.getBoundingClientRect();(0,g.Z)(t,{x:e,y:n-20,w:i,h:l},!0,f.LL.UserTriggered)}else(0,g.Z)(t,void 0,!0,f.LL.UserTriggered);S(!0),c.Z.dispatch({type:"POTIONS_SET_CONFETTI_MODE",enabled:!0})}},1100)))},[C,E,n,t,x]),!(0,m.p7)("Message Confetti Peak")||!(0,b.Uw)(t))return null;let P=(0,b.Eq)(t);if(null==P)return null;if(l)return(0,r.jsx)("span",{className:_.hidden,"aria-hidden":"true"});let Z=P.emoji[0],T=null==Z.id?p.ZP.getURL(Z.name):d.ZP.getEmojiURL({id:Z.id,animated:!1,size:32,forcePNG:!0});return(0,r.jsxs)("div",{ref:j,className:_.emojiWrapper,style:{right:"".concat(256+y,"px")},children:[(0,r.jsx)("img",{alt:"",src:T,className:a()([_.emoji,_.left,I&&_.shy,C&&_.confettiMode]),width:28}),(0,r.jsx)("img",{alt:"",src:T,className:a()([_.emoji,_.right,I&&_.shy,C&&_.confettiMode]),width:26}),(0,r.jsx)("img",{alt:"",src:T,className:a()([_.emoji,_.center,I&&_.shy,C&&_.confettiMode]),width:32})]})}},738672:function(e,t,n){n.d(t,{h:()=>d}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(909820),s=n(740492),c=n(937995),u=n(618158);function d(e){let{buttonRef:t,dismissed:n,onDismiss:d,renderComponent:p,nudgeAlignIntoViewport:h=!1,skipForceHide:f=!1}=e,m=i.useContext(c.h9),[g,b]=i.useState(""),[_,y]=i.useState(!1),C=(0,l.e7)([s.ZP],()=>s.ZP.callHeaderHeight),x=i.useRef(null),v=i.useRef(0);i.useEffect(()=>{let e=t.current;if(null!=e)return e.addEventListener("click",d),()=>e.removeEventListener("click",d)}),i.useEffect(()=>{if(!f){var e,t;b(String(v.current)),y(void 0!==C&&C<(null!=(t=null==(e=x.current)?void 0:e.clientHeight)?t:300)+24),v.current+=1}},[C,x,f]);let{preventIdle:O,allowIdle:j}=(0,u.Y)("popup");return(null==t?void 0:t.current)==null?null:(0,r.jsx)(o.ZP,{children:(0,r.jsx)(a.jRF,{targetRef:t,position:"top",align:"center",spacing:0,positionKey:g,nudgeAlignIntoViewport:h,children:()=>(0,r.jsx)("div",{ref:x,onMouseOver:O,onFocus:O,onBlur:j,onMouseLeave:j,children:p({hidden:_||m||n,onDismiss:d})})})})}},800966:function(e,t,n){n.d(t,{h:()=>_});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(990547),o=n(755721),s=n(481060),c=n(213609),u=n(626135),d=n(738672),p=n(981631),h=n(388032),f=n(916796);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e){let{hidden:t,onDismiss:n}=e;return(0,c.Z)({type:a.ImpressionTypes.VIEW,name:a.ImpressionNames.HD_STREAMING_POPOUT},{disableTrack:t},[t]),(0,r.jsxs)("div",{className:l()(f.popoutContainer,{[f.hidden]:t}),children:[(0,r.jsx)("img",{className:f.image,src:"https://cdn.discordapp.com/assets/premium/roadblocks/hd_streaming.png",alt:"HD Streaming Nitro Perk"}),(0,r.jsx)(o.zx,{"data-migration-pending":!0,className:f.closeButton,"aria-label":h.intl.string(h.t.cpT0Cg),look:o.zx.Looks.BLANK,size:o.zx.Sizes.NONE,onClick:()=>{n(),u.default.track(p.rMx.HD_STREAMING_POPOUT_DISMISSED)},children:(0,r.jsx)(s.Dio,{size:"xs",className:f.closeIcon,color:"white"})}),(0,r.jsx)("div",{className:f.infoContainerParent,children:(0,r.jsxs)("div",{className:f.infoContainer,children:[(0,r.jsx)(s.Text,{className:f.infoText,variant:"text-sm/medium",children:h.intl.format(h.t.ruvD7u,{})}),(0,r.jsxs)("div",{className:f.poweredByNitroContainer,children:[(0,r.jsx)(s.SrA,{size:"xs"}),(0,r.jsx)(s.Text,{className:f.infoText,variant:"text-sm/medium",children:h.intl.string(h.t["BMw+7O"])})]})]})})]})}function _(e){var t,n,i=m({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e));return(0,r.jsx)(d.h,(t=g({},i),n=n={renderComponent:e=>(0,r.jsx)(b,g({},e))},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},417438:function(e,t,n){n.d(t,{L:()=>i});var r=n(570140);function i(e){r.Z.dispatch({type:"PRESENCE_SUBSCRIPTIONS_ADD",subscription:e})}},360787:function(e,t,n){n.d(t,{Z:()=>_}),n(388685),n(539854);var r,i,l=n(442837),a=n(846519),o=n(570140),s=n(278323),c=n(158776),u=n(701488);function d(e,t){return"".concat(e,":").concat(t)}let p={},h={},f=new a.sW(3e3,function(){let e=[];for(let[t,n]of Object.entries(h))e.push(n),p[t]=n,delete h[t];0!==e.length&&s.Z.subscribeActivities(e)});function m(e){let t=d(e.applicationId,e.partyId);return t in p||t in h}function g(){p={},h={}}class b extends(r=l.ZP.Store){initialize(){this.waitFor(c.Z)}isSubscribed(e){return m(e)}}(i="displayName")in b?Object.defineProperty(b,i,{value:"PresenceSubscriptionsStore",enumerable:!0,configurable:!0,writable:!0}):b[i]="PresenceSubscriptionsStore";let _=new b(o.Z,{PRESENCE_SUBSCRIPTIONS_ADD:function(e){let{subscription:t}=e,n=function(){let e=!1,t=Date.now();for(let[n,r]of Object.entries(p))r.expiresAt<t&&(delete p[n],e=!0);for(let[n,r]of Object.entries(h))r.expiresAt<t&&(delete h[n],e=!0);return e}(),{userId:r,applicationId:i,partyId:l,messageId:a,channelId:o,inviteTime:s}=t;if(m(t)||s+u.$y<Date.now())return n;let c=d(i,l),g=u.$y+Date.now();return h[c]={userId:r,applicationId:i,partyId:l,messageId:a,channelId:o,expiresAt:g},f.delay(),!0},CONNECTION_OPEN:g,CONNECTION_RESUMED:g,LOGOUT:function(){p={},h={}}})},904847:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(186877),l=n(375954),a=n(981631);let o=(e,t)=>{let n=(0,i.$)(t),o=(0,r.e7)([l.Z],()=>l.Z.getMessages(t.id).length>0,[t]);return null!=e&&e.hasFlag(a.xW$.QUARANTINED)&&n&&!o}},247944:function(e,t,n){n.d(t,{S:()=>l.Z,Z:()=>c});var r=n(951288);n(647438);var i=n(545594),l=n(904847),a=n(610674),o=n(388032);let s=n(848304),c=()=>(0,r.jsx)(i.i,{bannerIcon:s,bannerHeader:o.intl.string(o.t.EouHws),bannerSubtext:o.intl.format(o.t.PThBen,{appealLink:a.Z})})},5101:function(e,t,n){n.d(t,{F:()=>u,default:()=>d}),n(388685);var r=n(951288),i=n(647438),l=n(433517),a=n(82659),o=n(481060),s=n(764295),c=n(388032);let u="report_to_mod_dont_show_resolve_confirm";function d(e){let{transitionState:t,onClose:n,handleResolveFlag:d}=e,[p,h]=i.useState(!1);return(0,r.jsx)(a.Modal,{transitionState:t,onClose:n,title:c.intl.string(s.default["8R4eur"]),subtitle:c.intl.string(s.default.xgOraW),actions:[{text:c.intl.string(s.default.ctefOz),onClick:()=>{p&&l.K.set(u,!0),n(),d()}}],actionBarInput:(0,r.jsx)(o.XZJ,{value:p,onChange:(e,t)=>h(t),children:c.intl.string(s.default["3puq5e"])})})}},817608:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(442837),a=n(430824),o=n(594174),s=n(216572),c=n(262746),u=n(211640),d=n(436355),p=n(214110);function h(e){let{channel:t,message:n,snapshot:h}=e,{moderatorReport:f}=h,m=null==f?void 0:f.reported_user_id,g=(0,l.e7)([o.default],()=>null!=m?o.default.getUser(m):null),b=(0,l.e7)([a.Z],()=>a.Z.getGuild(t.guild_id));(0,s.Cv)(n);let _=(0,c.Z)({channel:t,user:g,guild:b}),y=(0,d.Z)({channel:t,user:g,guild:b}),C=[(0,u.Z)({channel:t,message:n,user:g,guild:b}),_,y,(0,p.Z)({channel:t,user:g,guild:b})].filter(e=>null!=e);return t.isModeratorReportChannel()&&0!==C.length?(0,r.jsx)(r.Fragment,{children:C.map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t))}):null}function f(e){let{message:t,channel:n}=e;return(0,r.jsx)(r.Fragment,{children:t.messageSnapshots.map((e,i)=>(0,r.jsx)(h,{channel:n,message:t,snapshot:e},i))})}},773359:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(481060),a=n(545594),o=n(501517),s=n(764295),c=n(388032),u=n(541170);let d=e=>{let{channelId:t}=e,n=i.useCallback(()=>{o.Z.reopenModReport(t)},[t]);return(0,r.jsx)(a.i,{bannerHeader:(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"text-muted",children:c.intl.string(s.default["0eUUeH"])}),headerStyles:u.bannerHeader,containerStyles:u.bannerContainer,children:(0,r.jsx)(l.zxk,{variant:"secondary",size:"sm",text:c.intl.string(s.default["6quCi4"]),onClick:n})})}},796263:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(481060);function l(e){let{text:t,icon:n,onClick:l,disabled:a,submitting:o}=e;return(0,r.jsx)(i.ua7,{text:null!=t?t:void 0,children:e=>{var s,c;return(0,r.jsx)(i.hU,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),c=c={icon:n,variant:"secondary",onClick:l,disabled:a,loading:o,"aria-label":t,size:"sm"},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(c)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(c,e))}),s))}})}},262746:function(e,t,n){n.d(t,{Z:()=>g}),n(388685),n(457542);var r=n(951288),i=n(647438),l=n(442837),a=n(755721),o=n(481060),s=n(749210),c=n(493773),u=n(946273),d=n(496675),p=n(993706),h=n(796263),f=n(764295),m=n(388032);function g(e){let{channel:t,user:g,guild:b}=e,_=(0,l.e7)([p.Z],()=>null!=g&&p.Z.isUserBanned(g.id)),y=null!=g&&null==_,[C,x]=i.useState(y),v=(0,l.e7)([d.Z],()=>null!=g&&null!=b&&(0,u.lD)(g,b,[d.Z]));if((0,c.ZP)(()=>{y&&s.Z.searchGuildBans(t.guild_id,void 0,[null==g?void 0:g.id]).finally(()=>x(!1))}),!v)return null;let O=!0===_?m.intl.string(f.default.dpfwQ0):m.intl.string(f.default.ASv23d),j="ban-user-".concat(null==g?void 0:g.id);return(0,r.jsx)(h.Z,{text:O,icon:o.pgN,onClick:()=>{null!=g&&(0,o.ZDy)(async()=>{let{default:e}=await n.e("4114").then(n.bind(n,98746));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guildId:t.guild_id,user:g,modReportId:t.id},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},disabled:!0===_||C,submitting:C,color:a.zx.Colors.RED},j)}},211640:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(442837),l=n(755721),a=n(481060),o=n(257559),s=n(946273),c=n(592125),u=n(375954),d=n(496675),p=n(796263),h=n(764295),f=n(388032);function m(e){let{message:t,user:n,guild:m,channel:g}=e,b=(0,i.e7)([d.Z],()=>null!=n&&null!=m&&(0,s.CX)(n,m,[d.Z])),{messageReference:_}=t,y=(0,i.e7)([u.Z],()=>null!=_?u.Z.getMessage(_.channel_id,_.message_id):null),C=(0,i.e7)([c.Z],()=>null!=y?c.Z.getChannel(y.channel_id):null),x=(0,i.e7)([c.Z],()=>{var e,t;return null!=(t=null==(e=c.Z.getChannel(g.id))?void 0:e.isArchivedThread())&&t});if(!b)return null;let v=null==y?f.intl.string(h.default["0IZbwM"]):f.intl.string(h.default.Uj6oDw),O=null==y,j="delete-message-".concat(t.id);return(0,r.jsx)(p.Z,{text:v,icon:a.XHJ,onClick:()=>{null!=C&&null!=y&&o.Z.confirmDelete(C,y,!1,{isFlagResolved:x,moderatorReportChannelId:g.id})},disabled:O,color:l.zx.Colors.RED},j)}},436355:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(442837),l=n(481060),a=n(946273),o=n(271383),s=n(496675),c=n(796263),u=n(764295),d=n(388032);function p(e){let{channel:t,user:p,guild:h}=e,f=(0,i.e7)([s.Z],()=>null!=p&&null!=h&&(0,a.nX)(p,h,[s.Z])),m=(0,i.e7)([o.ZP],()=>null==p||null==o.ZP.getMember(t.guild_id,p.id));if(!f)return null;let g=m?d.intl.string(u.default.Ux67nZ):d.intl.string(u.default["snp/lJ"]),b="kick-user-".concat(null==p?void 0:p.id);return(0,r.jsx)(c.Z,{text:g,icon:l.I9k,onClick:()=>{null!=p&&(0,l.ZDy)(async()=>{let{default:e}=await n.e("36760").then(n.bind(n,854360));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guildId:t.guild_id,user:p,modReportId:t.id},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},disabled:m},b)}},214110:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(442837),l=n(481060),a=n(251794),o=n(386696),s=n(71619),c=n(271383),u=n(430824),d=n(496675),p=n(594174),h=n(796263),f=n(764295),m=n(388032);function g(e){let{channel:t,user:n,guild:g}=e,b=(0,i.e7)([p.default,u.Z,d.Z],()=>null!=n&&null!=g&&(0,o.F)(g.id,n.id,[p.default,u.Z,d.Z])),[_,y]=(0,s.ZP)(null==n?void 0:n.id,t.guild_id),C=(0,i.e7)([c.ZP],()=>null!=g&&null!=n&&null!=c.ZP.getMember(g.id,n.id));if(!b||!C)return null;let x="timeout-user-".concat(null==n?void 0:n.id);return(0,r.jsx)(h.Z,{text:y?m.intl.string(f.default["6uMZbm"]):m.intl.string(f.default["Sgg/uL"]),icon:l.T39,onClick:()=>{null!=n&&(0,a.z)({guildId:t.guild_id,userId:n.id,modReportId:t.id})},disabled:y},x)}},607361:function(e,t,n){n.d(t,{Z:()=>p});var r=n(392711),i=n.n(r),l=n(442837),a=n(592125),o=n(271383),s=n(485386),c=n(496675),u=n(700785),d=n(981631);function p(e,t){return(0,l.e7)([c.Z,a.Z,o.ZP,s.Z],()=>{var n;let r=a.Z.getChannel(t);if(null==r)return!1;let l=c.Z.can(d.Plq.SEND_MESSAGES,r),p=o.ZP.getMember(r.guild_id,e),h=i().keyBy(s.Z.getManyRoles(r.guild_id,null!=(n=null==p?void 0:p.roles)?n:[]),"id"),f=u.BT({permission:d.Plq.STREAM,user:e,context:r,roles:h});return l&&f})}},821415:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n(990547),o=n(399606),s=n(481060),c=n(278323),u=n(213609),d=n(728345),p=n(372900),h=n(77498),f=n(19780),m=n(594174),g=n(607361),b=n(463421),_=n(981631),y=n(658805),C=n(388032),x=n(405143);function v(e){let t,{activity:n,channel:l,userId:a}=e,u=(0,d.IX)(n.application_id).data,[p,h]=i.useState(!1),[m,g]=i.useState(0),b=(0,o.e7)([f.Z],()=>f.Z.getChannelId()!==l.id);async function v(){g(1);try{await c.Z.sendActivityInvite({type:_.mFx.STREAM_REQUEST,channelId:l.id,activity:n,content:"<@".concat(a,">"),location:"request to stream hover",targetUserId:a})}catch(e){g(0);return}g(2)}if(b&&(t=C.intl.string(y.default.qRXatr)),n.type===_.IIU.PLAYING){let e=null==u?void 0:u.getIconURL(46);return(0,r.jsxs)("div",{className:x.activityRow,children:[(0,r.jsxs)("div",{className:x.activityRowContent,children:[p||null==e?(0,r.jsx)(s.IMN,{size:"custom",width:46,height:46}):(0,r.jsx)("img",{src:e,alt:n.name,onError:()=>h(!0)}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Text,{variant:"text-sm/medium",color:"text-tertiary",children:C.intl.string(C.t.BMTj29)}),(0,r.jsx)(s.Text,{variant:"text-md/medium",children:n.name})]})]}),(0,r.jsx)(s.zxk,{loading:1===m,disabled:b||2===m,fullWidth:!0,size:"sm",text:2===m?C.intl.string(y.default["8HU1Mz"]):C.intl.string(y.default.DKHheX),onClick:v}),null!=t&&(0,r.jsx)(s.Text,{className:x.disabledReason,variant:"text-xs/normal",color:"text-muted",children:t})]})}}function O(e){let{userId:t,channel:n}=e,s=(0,o.e7)([m.default],()=>m.default.getUser(t)),c=(0,b.Z)(t,n.guild_id),d=(0,g.Z)(t,n.id),f=i.useMemo(()=>l.uniqWith(c,(e,t)=>{if(e.application_id===t.application_id)return!0;let n=h.Z.getGameByName(e.name),r=h.Z.getGameByName(t.name);return null!=n&&n===r||e.name===t.name}),[c]),_=null==s||!d||0===f.length;return((0,u.Z)({type:a.ImpressionTypes.POPOUT,name:a.ImpressionNames.VOICE_USER_ACTIVITY_POPOUT,properties:{}},{disableTrack:_}),_)?null:(0,r.jsx)(p.Z.Provider,{value:n.guild_id,children:(0,r.jsx)("div",{className:x.root,children:(0,r.jsx)("div",{className:x.activityList,children:f.map(e=>(0,r.jsx)(v,{activity:e,channel:n,userId:t},"".concat(e.session_id,"-").concat(e.application_id,"-").concat(e.name)))})})})}},819557:function(e,t,n){n.d(t,{q:()=>c,z:()=>s}),n(953529);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(262441);function s(e){let{children:t}=e;return(0,r.jsx)("div",{className:o.cellGroup,children:(0,r.jsx)("div",{className:o.content,children:t})})}function c(e){let{icon:t,title:n,description:i,iconClassName:s,color:c,listType:u="icon",completed:d=!1,index:p}=e;return(0,r.jsxs)("div",{className:o.cell,children:[(()=>{if("numbered"===u&&null!=p)if(d)return(0,r.jsx)("div",{className:o.number,children:(0,r.jsx)(a.sV5,{color:"green",className:l()(o.icon,s)})});else return(0,r.jsx)(a.X6q,{variant:"heading-md/semibold",color:"text-brand",className:o.number,children:p+1});if(null!=t)return(0,r.jsx)("div",{className:o.iconContainer,children:(0,r.jsx)(t,{color:null!=c?c:"currentColor",className:l()(o.icon,s)})})})(),(0,r.jsxs)("div",{className:o.textContainer,children:[(0,r.jsx)(a.Text,{variant:"text-md/semibold",color:"header-primary",className:l()({[o.completedText]:d}),children:n}),null!=i&&(0,r.jsx)(a.Text,{variant:"text-xs/medium",color:"text-secondary",className:l()({[o.completedText]:d}),children:i})]})]})}},596739:function(e,t,n){n.d(t,{W:()=>c}),n(953529);var r=n(951288),i=n(647438),l=n(481060),a=n(388032),o=n(582220),s=n(560580);function c(e){let{header:t,description:n,onDismiss:c,buttons:u,dismissible:d=!0}=e,p=i.useCallback(()=>{null==c||c()},[c]);return(0,r.jsxs)("div",{className:o.safetyBanner,children:[(0,r.jsxs)("div",{className:o.shieldAndHeading,children:[(0,r.jsx)("img",{className:o.safetyShieldIcon,src:s,alt:""}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.X6q,{variant:"heading-md/semibold",color:"text-primary",children:t}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"text-primary",children:n})]})]}),(0,r.jsx)("div",{className:o.buttons,children:null==u?void 0:u.map((e,t)=>{var n;return(0,r.jsx)(l.zxk,{text:e.text,variant:null!=(n=e.variant)?n:"secondary",onClick:e.onClick,size:"sm"},t)})}),d?(0,r.jsx)(l.P3F,{className:o.closeButton,onClick:p,role:"button","aria-label":a.intl.string(a.t.WAI6xs),children:(0,r.jsx)(l.Dio,{size:"md",color:"currentColor",className:o.closeButton})}):null]})}},705533:function(e,t,n){n.d(t,{k:()=>l});var r=n(442837),i=n(156012);let l=e=>(0,r.e7)([i.Z],()=>i.Z.getPendingScheduledMessage(e))},156012:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r,i=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let c=!1,u={},d=new Set,p={};function h(){p={}}class f extends(r=i.ZP.Store){getMessagesPendingDeletion(){return d}getScheduledMessagesForInbox(){return u}getPendingScheduledMessage(e){return p[e]}get loading(){return c}}a(f,"displayName","scheduledMessageStore");let m=new f(l.Z,{SCHEDULED_MESSAGES_CREATE_SUCCESS:function(e){let{channelId:t,scheduledMessageSend:n}=e;u=s(o({},u),{[n.scheduledMessageId]:n}),p=o({},p),delete p[t]},SCHEDULED_MESSAGES_DELETE_START:function(e){let{scheduledMessageId:t}=e;if(d.has(t))return!1;(d=new Set(d)).add(t)},SCHEDULED_MESSAGES_DELETE_SUCCESS:function(e){let{scheduledMessageId:t}=e;if(!d.has(t))return!1;(d=new Set(d)).delete(t),u=o({},u),delete u[t]},SCHEDULED_MESSAGES_DELETE_FAILURE:function(e){let{scheduledMessageId:t}=e;if(!d.has(t))return!1;(d=new Set(d)).delete(t)},FETCH_SCHEDULED_MESSAGES:function(e){let{}=e;c=!0},FETCH_SCHEDULED_MESSAGES_SUCCESS:function(e){let{messages:t}=e;for(let e of(u={},t))u[e.scheduledMessageId]=e;c=!1},FETCH_SCHEDULED_MESSAGES_FAILURE:function(e){let{}=e;c=!1},CREATE_PENDING_SCHEDULED_MESSAGE:function(e){let{channelId:t,scheduledTimestamp:n}=e;p=s(o({},p),{[t]:{channelId:t,scheduledTimestamp:n}})},DELETE_PENDING_SCHEDULED_MESSAGE:function(e){let{channelId:t}=e;p=o({},p),delete p[t]},LOGOUT:h,CONNECTION_OPEN:h})},538084:function(e,t,n){n.d(t,{default:()=>p,k:()=>d}),n(388685);var r=n(951288),i=n(647438),l=n(913527),a=n.n(l),o=n(481060),s=n(45251),c=n(388032),u=n(206536);let d="SCHEDULED_MESSAGE_CREATE_MODAL_KEY";function p(e){let{channel:t,transitionState:n,onClose:l,prefilledTime:p}=e,h=a()(),f=a()().add(365,"days"),[m,g]=i.useState(null!=p?a()(p.substring(0,200)):h);return(0,r.jsxs)(o.Y0X,{transitionState:n,size:o.CgR.SMALL,"aria-label":c.intl.string(c.t.WbFpq6),parentComponent:"ScheduledMessageCreateModal",children:[(0,r.jsx)(o.olH,{onClick:l,className:u.closeButton}),(0,r.jsx)(o.xBx,{separator:!1,className:u.header,children:(0,r.jsx)(o.X6q,{variant:"heading-xl/medium",children:c.intl.string(c.t["3+ii4O"])})}),(0,r.jsx)(o.hzk,{children:(0,r.jsxs)("div",{className:u.doubleInput,children:[(0,r.jsx)("div",{className:u.column,children:(0,r.jsx)(o.xJW,{title:c.intl.string(c.t.pSZKvL),required:!0,children:(0,r.jsx)(o.Wrb,{value:m,onSelect:e=>{g(e)},minDate:h,maxDate:f,disabled:!1})})}),(0,r.jsx)("div",{className:u.column,children:(0,r.jsx)(o.xJW,{title:c.intl.string(c.t.GOmEb2),required:!0,children:(0,r.jsx)(o.MGJ,{value:m,onChange:e=>{e.isValid()&&g(e)},hideValue:!1,disabled:!1})})})]})}),(0,r.jsxs)(o.mzw,{className:u.footer,children:[(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:u.cancelButton,children:(0,r.jsx)(o.zxk,{variant:"secondary",text:c.intl.string(c.t["ETE/oK"]),onClick:l})}),(0,r.jsx)(o.zxk,{variant:"primary",text:c.intl.string(c.t.iQ1Swc),onClick:()=>{(0,s._e)({channelId:t.id,scheduledTimestamp:m.toISOString()}),(0,o.Mr3)(d)},disabled:!1})]})]})}},618857:function(e,t,n){n.d(t,{$f:()=>m,C$:()=>p,Dt:()=>f,Hw:()=>d,wW:()=>h}),n(539854);var r=n(951288),i=n(913527),l=n.n(i),a=n(481060),o=n(710845),s=n(45251),c=n(538084),u=n(388032);function d(e){let t=u.intl.formatToPlainString(u.t["CvHu/v"],{timestamp:new Date(e).valueOf()});(0,a.showToast)((0,a.createToast)(t,a.ToastType.SUCCESS))}function p(){(0,a.showToast)((0,a.createToast)(u.intl.string(u.t["JF/LWl"]),a.ToastType.SUCCESS))}function h(e){(0,a.showToast)((0,a.createToast)(u.intl.formatToPlainString(u.t.sUvyW1,{error:e}),a.ToastType.FAILURE))}function f(e){let{channel:t}=e,n=l()().add(1,"day").startOf("day").set("hours",9),i=l()().add(1,"day").startOf("day").set("hours",13),o=l()().startOf("isoWeek").add(1,"week").set("hours",9),c=[{display:u.intl.string(u.t.tjIn9v),value:n},{display:u.intl.string(u.t.EMRZyc),value:i},{display:u.intl.string(u.t["+P5MmJ"]),value:o}].map(e=>(0,r.jsx)(a.sNh,{id:e.display,label:e.display,action:()=>(0,s._e)({channelId:t.id,scheduledTimestamp:e.value.toISOString()})},e.display));return c.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Clw,{}),(0,r.jsx)(a.sNh,{id:"custom-time",label:u.intl.string(u.t.stHooK),action:()=>m({channel:t})},"custom-time")]})),c}function m(e){let{channel:t,prefilledTime:i}=e;(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,538084));return n=>{var a,o;return(0,r.jsx)(e,(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),o=o={channel:t,prefilledTime:null!=i?i:l()().startOf("hour").add(1,"hour").toISOString()},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}),a))}},{modalKey:c.k})}new o.Z("Scheduled Messages")},833103:function(e,t,n){n.d(t,{Ek:()=>w,HJ:()=>E,LE:()=>R,Z2:()=>Z,Zc:()=>S,fI:()=>N,p4:()=>A,ur:()=>P}),n(781311),n(388685),n(539854),n(290780),n(35282);var r=n(951288),i=n(647438),l=n(392711),a=n(913527),o=n.n(a),s=n(772848),c=n(442837),u=n(481060),d=n(592125),p=n(594174),h=n(5192),f=n(748610),m=n(738018),g=n(607802),b=n(247902),_=n(532428),y=n(981631),C=n(388032);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function O(e){let{searchContext:t,filter:n,queryString:r}=e,l=(0,c.e7)([m.Z],()=>m.Z.getState(t)),a=i.useMemo(()=>{let e=l.autocompletes[0];return null!=e&&e.group===n?e.results:[]},[l.autocompletes,n]),o=i.useMemo(()=>{let e=_.ZP[n].key;return"".concat(e," ").concat(r)},[n,r]),s=i.useCallback(()=>{let e=(0,g.kG)(o),n=(0,g.g9)(e,o.length-1,o.length-1);f.Z.updateAutocompleteQuery(t,e,n)},[t,o]),u=i.useCallback(()=>{s()},[s]);return i.useEffect(()=>{r.trim().length>0&&s()},[o,t,s,r]),{filterAutocompleteResults:a,handleFocusFilter:u}}function j(e){let{user:t,guildId:n,channelId:r}=e,i=h.ZP.getName(n,r,t);return{value:t.id,label:i,key:t.id}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i.useMemo(()=>(0,g.s5)(e),[e]),l=i.useMemo(()=>(0,g.AH)(e),[e]),[a,o]=i.useState(n),[s,c]=i.useState(""),{filterAutocompleteResults:u,handleFocusFilter:d}=O({searchContext:e,filter:t,queryString:s}),h=i.useMemo(()=>{if(0===u.length&&0===a.length)return[];let e=[],t=new Set;return u.length>0&&u.forEach(n=>{let i=n.user,a=j({user:i,guildId:r,channelId:l});t.add(i.id),e.push(a)}),a.length>0&&a.forEach(n=>{if(t.has(n))return;let i=p.default.getUser(n);if(null==i)return;let a=j({user:i,guildId:r,channelId:l});t.add(n),e.unshift(a)}),e},[u,a,r,l]),f=i.useCallback(()=>{o([]),c("")},[]),m=i.useCallback(e=>{if(0===a.length)return null;let t=_.ZP[e];return a.map(e=>{let n=p.default.getUser(e);return"".concat(t.key," ").concat(null==n?void 0:n.username)}).join(" ")},[a]);return{options:h,query:a,setQuery:o,setQueryString:c,handleClearFilter:f,getApplyQueryString:m,handleFocusFilter:d}}function S(e){return{filter:!1,closeOnSelect:!1,renderOptionPrefix:i.useCallback(t=>{var n;if(null==t)return;let i=p.default.getUser(t.value);if(null==i)return;let l=null!=(n=i.getAvatarURL(e,80))?n:i.avatar;return(0,r.jsx)(u.qEK,{src:l,size:u.EFr.SIZE_16,"aria-hidden":!0})},[e]),renderOptionSuffix:i.useCallback(e=>{if(null==e)return;let t=p.default.getUser(e.value);if(null!=t)return(0,r.jsx)(u.Text,{variant:"text-md/normal",color:"text-muted",children:t.username})},[])}}function I(e){let{channel:t}=e;return{value:t.id,label:(0,g.nl)(t),key:t.id}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,r]=i.useState(t),[l,a]=i.useState(""),{filterAutocompleteResults:o,handleFocusFilter:s}=O({searchContext:e,filter:y.dCx.FILTER_IN,queryString:l}),c=i.useMemo(()=>{if(0===o.length&&0===n.length)return[];let e=[],t=new Set;return o.length>0&&o.forEach(n=>{let r=n.channel,i=I({channel:r});t.add(r.id),e.push(i)}),n.length>0&&n.forEach(n=>{if(t.has(n))return;let r=d.Z.getChannel(n);if(null==r)return;let i=I({channel:r});t.add(n),e.unshift(i)}),e},[o,n]),u=i.useCallback(()=>{r([]),a("")},[]),p=i.useCallback(e=>{if(0===n.length)return null;let t=_.ZP[e];return n.map(e=>{let n=d.Z.getChannel(e);if(null==n)return;let r=(0,g.nl)(n);return"".concat(t.key," ").concat(r)}).join(" ")},[n]);return{options:c,query:n,setQuery:r,setQueryString:a,handleClearFilter:u,getApplyQueryString:p,handleFocusFilter:s}}function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,r]=i.useState(t),{filterAutocompleteResults:l,handleFocusFilter:a}=O({searchContext:e,filter:y.dCx.FILTER_HAS,queryString:""}),o=i.useMemo(()=>{if(0===l.length&&0===n.length)return[];let e=[],t=new Set;return n.length>0&&n.forEach(n=>{t.add(n),e.push({value:n,label:n,key:n})}),l.length>0&&l.forEach(n=>{let{text:r}=n;t.has(r)||(e.push({value:r,label:r,key:r}),t.add(r))}),e},[l,n]),s=i.useCallback(()=>{r([])},[]),c=i.useCallback(e=>{if(0===n.length)return null;let t=_.ZP[e];return n.map(e=>"".concat(t.key," ").concat(e)).join(" ")},[n]);return{options:o,query:n,setQuery:r,handleClearFilter:s,getApplyQueryString:c,handleFocusFilter:a}}let T=()=>i.useMemo(()=>{var e,t,n;let r=_.ZP[y.dCx.FILTER_BEFORE],i=_.ZP[y.dCx.FILTER_AFTER],l=_.ZP[y.dCx.FILTER_ON];return{beforeFilter:null!=(e=null==r?void 0:r.key)?e:"".concat(C.intl.string(C.t["qZ+7BA"]),":"),afterFilter:null!=(t=null==i?void 0:i.key)?t:"".concat(C.intl.string(C.t.KSDx7O),":"),duringFilter:null!=(n=null==l?void 0:l.key)?n:"".concat(C.intl.string(C.t.h2NzSU),":")}},[]);function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=i.useState(e),r=i.useCallback(()=>(0,s.Z)(),[]),l=i.useCallback(e=>e.date.isValid(),[]),a=i.useMemo(()=>t.filter(l),[t,l]),{beforeFilter:c,afterFilter:u,duringFilter:d}=T(),p=i.useCallback(()=>({query:c,date:o()(),id:r()}),[c,r]),h=i.useMemo(()=>[{key:"Before",label:C.intl.string(C.t["ptL/DA"]),value:c},{key:"After",label:C.intl.string(C.t.waQeER),value:u},{key:"During",label:C.intl.string(C.t.LT5TnZ),value:d}],[c,u,d]),f=i.useCallback(e=>{let{query:t,index:r}=e;n(e=>{let n=[...e];return n[r]=v(x({},n[r]),{query:t}),n})},[]),m=i.useCallback(e=>{let{date:t,index:r}=e;n(e=>{let n=[...e];return n[r]=v(x({},n[r]),{date:t}),n})},[]),g=i.useCallback(()=>{n(e=>[...e,p()])},[p]),b=i.useCallback(e=>{n(t=>{let n=[...t];return n.splice(e,1),n})},[]),_=i.useCallback(()=>{n([])},[]),O=i.useCallback(()=>0===a.length?null:a.map(e=>{let{query:t,date:n}=e,r=n.format(y.b2L);return"".concat(t," ").concat(r)}).join(" "),[a]);return{options:h,dates:t,validDates:a,handleDateQueryChange:f,handleDateChange:m,handleAddDateFilter:g,handleRemoveDateFilter:b,handleClearDateFilter:_,getDateQueryString:O}}function A(e,t){let{beforeFilter:n,afterFilter:r,duringFilter:l}=T(),a=(0,b.N)(t);return i.useMemo(()=>{let t={[y.dCx.FILTER_FROM]:[],[y.dCx.FILTER_MENTIONS]:[],[y.dCx.FILTER_HAS]:[],[y.dCx.FILTER_IN]:[],[y.dCx.FILTER_ON]:[],[y.dCx.FILTER_BEFORE]:[],[y.dCx.FILTER_AFTER]:[]},i=[],c=0;e.forEach(e=>{if(y.KA4.test(e.type))switch(e.type){case y.dCx.ANSWER_USERNAME_FROM:if(a.has(y.dCx.FILTER_FROM)){let n=t[y.dCx.FILTER_FROM],r=e.getData("userId");n.push(r),c+=1}break;case y.dCx.ANSWER_USERNAME_MENTIONS:if(a.has(y.dCx.FILTER_MENTIONS)){let n=t[y.dCx.FILTER_MENTIONS],r=e.getData("userId");n.push(r),c+=1}break;case y.dCx.ANSWER_HAS:let u=t[y.dCx.FILTER_HAS],d=e.getData("has");u.push(d),c+=1;break;case y.dCx.ANSWER_IN:if(a.has(y.dCx.FILTER_IN)){var p;let n=t[y.dCx.FILTER_IN],r=(null!=(p=e.getData("channels"))?p:[]).map(e=>e.id);n.push(...r),c+=1}break;case y.dCx.ANSWER_BEFORE:let h=t[y.dCx.FILTER_BEFORE],f=e.getData("end"),m={query:n,date:o()(f),id:(0,s.Z)()};h.push(m),i.push(m),c+=1;break;case y.dCx.ANSWER_ON:let g=t[y.dCx.FILTER_ON],b=e.getData("start"),_={query:l,date:o()(b),id:(0,s.Z)()};g.push(_),i.push(_),c+=1;break;case y.dCx.ANSWER_AFTER:let C=t[y.dCx.FILTER_AFTER],x=e.getData("start"),v={query:r,date:o()(x),id:(0,s.Z)()};C.push(v),i.push(v),c+=1}});let u={[y.dCx.FILTER_FROM]:t[y.dCx.FILTER_FROM],[y.dCx.FILTER_MENTIONS]:t[y.dCx.FILTER_MENTIONS],[y.dCx.FILTER_HAS]:t[y.dCx.FILTER_HAS],[y.dCx.FILTER_IN]:t[y.dCx.FILTER_IN],dateFilters:i};return{allPrefilledSearchFilters:t,totalFilters:c,prefilledSearchFilters:u,eligibleFilterTokens:a}},[e,n,r,l,a])}function w(e,t){return e===t||(0,l.isEqual)(e,t)}function R(e,t){var n,r;if(e.length!==t.length)return!1;let i=new Map;for(let t of e){let e="".concat(t.query,":").concat(t.date.valueOf()),r=null!=(n=i.get(e))?n:0;i.set(e,r+1)}for(let e of t){let t="".concat(e.query,":").concat(e.date.valueOf()),n=null!=(r=i.get(t))?r:0;if(0===n)return!1;i.set(t,n-1)}for(let e of i.values())if(0!==e)return!1;return!0}},672041:function(e,t,n){n.d(t,{t:()=>a});var r=n(818083),i=n(154579);let l=(0,r.B)({kind:"user",id:"2025-07_search_desktop_pagination_limits",label:"Search Desktop Pagination Limits",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function a(e){let{location:t,autoTrackExposure:n=!0}=e,r=(0,i.ro)({location:t,autoTrackExposure:n}),{enabled:a}=l.useExperiment({location:t},{autoTrackExposure:n,disable:r});return a}},247902:function(e,t,n){n.d(t,{N:()=>c}),n(539854),n(388685);var r=n(647438),i=n(442837),l=n(246946),a=n(607802),o=n(375123),s=n(981631);function c(e){let t=function(e){let t=(0,o.C)({location:"useEligibleFilterTokens"}),n=(0,i.e7)([l.Z],()=>l.Z.hidePersonalInformation);return r.useMemo(()=>{let r=(0,a.R6)(e),i=[];return n||(i.push(s.dCx.FILTER_FROM),i.push(s.dCx.FILTER_MENTIONS)),i.push(s.dCx.FILTER_HAS),r&&i.push(s.dCx.FILTER_IN),i.push(s.dCx.FILTER_ON),i.push(s.dCx.FILTER_BEFORE),i.push(s.dCx.FILTER_AFTER),i.push(s.dCx.FILTER_PINNED),t&&i.push(s.dCx.FILTER_AUTHOR_TYPE),i},[n,t,e])}(e);return r.useMemo(()=>new Set(t),[t])}},406326:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(63063),c=n(833103),u=n(607802),d=n(945577),p=n(28964),h=n(770092),f=n(981631),m=n(388032),g=n(865239);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function y(e){let{searchContext:t,searchMode:l,onSearchModeChange:s,totalResults:y,isIndexing:x,isSearching:v,documentsIndexed:O}=e,j=(0,d.UX)({location:"SearchHeader"}),E=(0,p.nP)({isXDMSearch:t.type===f.aib.DMS,location:"SearchHeader"}),S=(0,p.KS)({isXDMSearch:t.type===f.aib.DMS,location:"SearchHeader"}),I=(0,h.I)(t),{totalFilters:P}=(0,c.p4)(I,t),Z=i.useMemo(()=>{if(t.type===f.aib.DMS&&j){var e,n;let t=null!=(n=null==(e=(0,u.$G)(I).channel_id)?void 0:e.length)?n:0;return t>0?m.intl.format(m.t.A2dqWF,{filterCount:t}):m.intl.string(m.t.tc619f)}return null},[j,t.type,I]),T=i.useMemo(()=>[{label:m.intl.string(m.t.CbaapK),value:f.QIO.NEWEST},{label:m.intl.string(m.t.OukXZm),value:f.QIO.OLDEST},{label:m.intl.string(m.t["q8gB5+"]),value:f.QIO.MOST_RELEVANT}],[]),N=i.useCallback(()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("37979").then(n.bind(n,238088));return n=>(0,r.jsx)(e,_(b({},n),{searchContext:t}))})},[t]),A=i.useMemo(()=>P>0?m.intl.format(m.t.uaR4sL,{filterCount:P}):m.intl.string(m.t.UdhTtr),[P]);return(0,r.jsxs)("header",{className:a()(g.searchHeader,{[g.searchHeaderWithSubtitle]:null!=Z}),children:[(0,r.jsx)("div",{className:g.totalResults,role:"status",children:(0,r.jsx)(C,{totalResults:y,subtitle:Z,isIndexing:x,isSearching:v,documentsIndexed:O})}),E||S?(0,r.jsxs)("div",{className:g.searchModeAndFiltersContainer,children:[(0,r.jsx)(o.q4e,{options:T,value:l,onChange:s,look:o.qQH.CUSTOM,className:g.searchModeSelect,popoutWidth:130}),(0,r.jsx)(o.zxk,{variant:"secondary",onClick:N,text:A,icon:o.gXV,size:"sm"})]}):(0,r.jsxs)(o.njP,{orientation:"horizontal",className:g.searchHeaderTabList,selectedItem:l,onItemSelect:s,children:[(0,r.jsx)(o.njP.Item,{className:g.searchHeaderTab,id:f.QIO.NEWEST,children:m.intl.string(m.t.rLjqbW)}),(0,r.jsx)(o.njP.Item,{className:g.searchHeaderTab,id:f.QIO.OLDEST,children:m.intl.string(m.t.a1BaUl)}),(0,r.jsx)(o.njP.Item,{className:g.searchHeaderTab,id:f.QIO.MOST_RELEVANT,children:m.intl.string(m.t.FtR97u)})]})]})}function C(e){let{totalResults:t,subtitle:n,isSearching:i,isIndexing:l,documentsIndexed:a}=e;return l?(0,r.jsx)(v,{documentsIndexed:a}):i?(0,r.jsx)(O,{}):(0,r.jsx)(j,{totalResults:t,subtitle:n})}function x(){return(0,r.jsx)("div",{className:g.spinnerWrapper,children:(0,r.jsx)(o.$jN,{type:o.$jN.Type.SPINNING_CIRCLE,className:g.spinner,itemClassName:g.spinnerPath})})}function v(e){let{documentsIndexed:t}=e;return(0,r.jsx)(o.ua7,{text:m.intl.formatToPlainString(m.t["4Y3O+P"],{count:t}),children:e=>(0,r.jsxs)("div",_(b({className:g.totalResultsWrapper},e),{children:[(0,r.jsx)(o.Text,{variant:"text-md/medium",color:"text-muted",children:(0,r.jsx)(o.eee,{className:g.helpdeskLink,href:s.Z.getArticleURL(f.BhN.SEARCH_INDEXING),children:m.intl.string(m.t["G3EA+/"])})}),(0,r.jsx)(x,{})]}))})}function O(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Text,{variant:"text-md/medium",color:"header-secondary",children:m.intl.string(m.t.uixzLS)}),(0,r.jsx)(x,{})]})}function j(e){let{totalResults:t,subtitle:n}=e,l=i.useMemo(()=>t.toLocaleString(),[t]),a=(0,r.jsx)(o.Text,{variant:"text-md/medium",color:"header-primary",children:m.intl.format(m.t.ZGVL3t,{count:l})});return null!=n?(0,r.jsxs)("div",{className:g.totalResultsWithSubtitle,children:[a,(0,r.jsx)(o.Text,{variant:"text-xs/medium",color:"text-secondary",children:n})]}):a}},14091:function(e,t,n){n.d(t,{Z:()=>K}),n(388685),n(35282);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(704215),d=n(481060),p=n(493773),h=n(243778),f=n(169223),m=n(695346),g=n(592125),b=n(585483),_=n(748610),y=n(171900),C=n(607802),x=n(375123),v=n(945577),O=n(56522),j=n(759209),E=n(532428),S=n(406326),I=n(994463),P=n(611004),Z=n(619753),T=n(902733),N=n(165017),A=n(737),w=n(967974),R=n(909125),M=n(817190),D=n(315322),L=n(981631),k=n(531578),U=n(388032),B=n(669922);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends i.Component{componentDidMount(){this.autoAnalytics()}componentDidUpdate(e){(this.props.searchRequestAnalyticsId!==e.searchRequestAnalyticsId||this.props.searchOffset!==e.searchOffset)&&this.autoAnalytics(e.searchRequestAnalyticsId)}render(){return null}constructor(...e){var t;super(...e),t=this,F(this,"autoAnalytics",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==t.props.searchRequestAnalyticsId||t.props.isSearching)return;let n=0,r=0,i=0,l=0;null!=t.props.searchResults&&s()(t.props.searchResults).flatten().filter(e=>e.isSearchHit).forEach(e=>{null!=e.content&&""!==e.content&&(n++,/https?:\/\/[^\s]+/.test(e.content)&&l++),null!=e.embeds&&e.embeds.length>0&&i++,null!=e.attachments&&e.attachments.length>0&&r++});let a=(0,C.Tm)(t.props.searchContext);0===n?(0,D.Qb)({searchContext:t.props.searchContext,searchRequestAnalyticsId:t.props.searchRequestAnalyticsId,searchQueryString:P.Z.getSearchInputText(t.props.searchContext),searchQuery:M.Z.getSearchResultsQuery(a)}):(0,D.hM)({searchContext:t.props.searchContext,searchRequestAnalyticsId:t.props.searchRequestAnalyticsId,prevSearchRequestAnalyticsId:e!==t.props.searchRequestAnalyticsId?e:null,isError:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,totalResults:t.props.searchTotalResults,pageResults:null!=t.props.searchResults?t.props.searchResults.length:null,isIndexing:t.props.searchIsIndexing,pageNumMessages:n,pageNumLinks:l,pageNumEmbeds:i,pageNumAttachments:r,searchQueryString:P.Z.getSearchInputText(t.props.searchContext),searchQuery:M.Z.getSearchResultsQuery(a)})})}}function H(e){let{children:t}=e;return(0,r.jsx)("div",{className:B.emptyResultsWrap,children:(0,r.jsx)("div",{className:B.emptyResultsContent,children:t})})}function V(e){let{searchContext:t,isFeedbackVisible:n,dismissFeedbackEntrypoint:i}=e;return n?(0,r.jsx)(T.Z,{searchContext:t,dismissFeedbackEntrypoint:i}):null}function z(e){let{searchResults:t,blockCount:n,ignoreCount:i,search:l,searchContext:o,renderEmbeds:s,onClick:c,onScrollTo:u,onPageChange:d,paginationTotalCount:p,renderPageWrapper:h,onBlockedResultsClick:f,searchRequestAnalyticsId:m,searchResultsQuery:g,isFavoritesSearch:b}=e,{totalResults:_,isSearching:y,isIndexing:C,hasError:x}=l;if(x)return(0,r.jsxs)(H,{children:[(0,r.jsx)("div",{className:B.errorImage}),(0,r.jsx)("div",{className:a()(B.emptyResultsText,B.errorMessage),children:U.intl.string(U.t.uvDZBQ)})]});if(C){let e=o.type===L.aib.GUILD?U.intl.string(U.t.AXPbZm):U.intl.string(U.t.Q0JJjo);return(0,r.jsxs)(H,{children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)("div",{className:(B.emptyResultsText,B.stillIndexing),children:e})]})}if(y)return null;if(_>0)return(0,r.jsx)(Z.Z,{search:l,searchResults:t,onClick:c,blockCount:n,ignoreCount:i,renderEmbeds:s,scrollTo:u,onPageChange:d,paginationTotalCount:p,renderPageWrapper:h,onBlockedResultsClick:f,searchRequestAnalyticsId:m,searchResultsQuery:g,isFavoritesSearch:b});let{showNoResultsAlt:v}=l,O=v?U.intl.string(U.t["VrK/2d"]):U.intl.string(U.t.V6nAfH);return(0,r.jsxs)(H,{children:[(0,r.jsx)("div",{className:a()(B.noResultsImage,{[B.alt]:v})}),(0,r.jsx)("div",{className:a()(B.emptyResultsText,B.noResults,{[B.alt]:v}),children:O})]})}let W=[],q=i.memo(function(e){let{searchContext:t,search:n,renderEmbeds:l,searchRequestAnalyticsId:a,searchResults:o,blockCount:s,ignoreCount:p,isFeedbackVisible:f,dismissFeedbackEntrypoint:m,onSearchModeChange:_,onPageChange:y,searchMode:v,onBlockedResultsClick:O,searchResultsQuery:j,isFavoritesSearch:I}=e,Z=i.useRef(null),T=i.useCallback(()=>{P.Z.cleanUpSearchState(t)},[t]);i.useEffect(()=>(b.S.subscribe(L.CkL.SEARCH_RESULTS_CLOSE,T),()=>{b.S.unsubscribe(L.CkL.SEARCH_RESULTS_CLOSE,T)}),[T]);let N=i.useRef(n.showBlockedResults);i.useEffect(()=>{if(N.current!==n.showBlockedResults){N.current=n.showBlockedResults;let e=Z.current;null!=e&&e.scrollToBottom()}},[n.showBlockedResults]);let A=i.useCallback((e,t,n)=>{let r=Z.current;if(null==r)return;let i=r.getScrollerState().scrollTop-e;r.scrollTo({to:i,animate:t,callback:n})},[]),{paginationTotalCount:w,paginationMaxIndex:k,isPaginationTotalCountLimited:G}=(0,R.M)({totalResults:n.totalResults,isSearching:n.isSearching}),H=i.useCallback((e,t)=>{let n=k+1;if(!G||e.targetPage!==n)return t;{let e=U.intl.formatToPlainString(U.t["E+2azc"],{maxPages:n});return(0,r.jsx)(d.ua7,{tooltipClassName:B.paginationLimitTooltip,tooltipContentClassName:B.paginationLimitTooltipText,text:(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"text-primary",children:e}),"aria-label":e,children:e=>{var n,i;return(0,r.jsx)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}({},e),i=i={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},[G,k]),q=i.useCallback(e=>{e===v||n.isSearching||((0,D.zW)({searchContext:t,searchRequestAnalyticsId:a,mode:e}),_(e))},[_,n.isSearching,t,v,a]),Y=i.useCallback((e,r)=>{let i=g.Z.getChannel(e.channel_id),l=null!=i?i.getGuildId():null,s=(0,C.Tm)(t),{offset:c,totalResults:u}=n;(0,D.sL)({searchContext:t,searchRequestAnalyticsId:a,guildId:l,channelId:e.channel_id,messageId:e.id,pageResults:null!=o?o.length:null,totalResults:u,limit:L.vpv,page:Math.floor(c/L.vpv)+1,offset:c,index:r,searchQueryString:P.Z.getSearchInputText(t),searchQuery:M.Z.getSearchResultsQuery(s)})},[n,t,a,o]),K=i.useCallback(e=>{(0,D.t6)({searchContext:t,searchRequestAnalyticsId:a,newPageIndex:e}),y(e)},[y,t,a]),X=Math.floor(n.offset/L.vpv),Q=G&&X>=k,J=k+1,$=(0,x.C)({location:"SearchResults"}),ee=(0,c.Wu)([M.Z],()=>{if(0!==n.offset||!$)return W;let e=o.length;if(e<10)return W;let r=0;if(o.forEach(e=>{e.forEach(e=>{(e.author.bot||null!=e.webhookId)&&r++})}),r/e<.75)return W;let i=(0,C.Tm)(t),l=M.Z.getSearchResultsQueryString(i);return(0,C.kG)(null!=l?l:"").some(e=>e.type===L.dCx.FILTER_AUTHOR_TYPE)?W:[u.z.SEARCH_AUTHOR_TYPE_SEARCH_RESULTS_HINT]}),[et,en]=(0,h.US)(ee),er=et===u.z.SEARCH_AUTHOR_TYPE_SEARCH_RESULTS_HINT,ei=i.useCallback(()=>{let e="".concat(E.ZP[L.dCx.FILTER_AUTHOR_TYPE].key," user")+" ";P.Z.appendTextToSearchInput(t,e)},[t]);return(0,r.jsxs)("section",{className:B.searchResultsWrap,"aria-label":U.intl.string(U.t.zkoeq6),children:[(0,r.jsx)(S.Z,{searchContext:t,searchMode:v,onSearchModeChange:q,totalResults:n.totalResults,isSearching:n.isSearching,isIndexing:n.isHistoricalIndexing,documentsIndexed:n.documentsIndexed}),(0,r.jsxs)(d.Den,{ref:Z,className:B.scroller,children:[Q&&!n.isSearching&&(0,r.jsx)(d.Wn,{className:B.paginationLimitHeader,messageType:d.QYI.WARNING,children:U.intl.formatToPlainString(U.t["E+2azc"],{maxPages:J})}),er&&(0,r.jsx)(d.Wn,{className:B.helpMessageContainer,messageType:d.QYI.INFO,children:U.intl.format(U.t["gQeg/f"],{handleClick:ei})}),(0,r.jsx)(z,{searchResults:o,blockCount:s,ignoreCount:p,search:n,searchContext:t,renderEmbeds:l,onClick:Y,onScrollTo:A,onPageChange:K,paginationTotalCount:G?w:void 0,renderPageWrapper:H,onBlockedResultsClick:O,searchRequestAnalyticsId:a,searchResultsQuery:j,isFavoritesSearch:I})]}),(0,r.jsx)(V,{searchContext:t,isFeedbackVisible:f,dismissFeedbackEntrypoint:m})]})});function Y(e){let{searchContext:t}=e,n=(0,v.UX)({location:"SearchResults"}),{isFeedbackVisible:l,dismissFeedbackEntrypoint:a}=function(e){let[t,n]=i.useState(!1),r=(0,O.M)({location:"SearchResults"}),{enabled:l,force:a}=(0,j.f)({location:"SearchResults"}),o=e.type===L.aib.DMS||e.type===L.aib.CHANNEL,s=r&&o||l;return i.useEffect(()=>{s&&a&&n(!0)},[a,s,l]),(0,p.ZP)(()=>{s&&(a||f.Z.possiblyShowFeedbackModal(k.nw.SEARCH_RESULTS,()=>n(!0),()=>n(!1)))}),{dismissFeedbackEntrypoint:i.useCallback(()=>{n(!1)},[]),isFeedbackVisible:t}}(t),o=(0,C.Tm)(t),s=(0,c.cj)([y.Z,M.Z],()=>{var e,t,n,r,i;return{isSearching:null!=(e=y.Z.getIsFetching(o))&&e,isIndexing:null!=(t=y.Z.getIsIndexing(o))&&t,isHistoricalIndexing:null!=(n=y.Z.getIsHistoricalIndexing(o))&&n,documentsIndexed:y.Z.getDocumentsIndexed(o),offset:null!=(r=M.Z.getSearchResultsOffset(o))?r:0,totalResults:null!=(i=y.Z.getTotalCount(o))?i:0,hasError:null!=y.Z.getError(o),showBlockedResults:M.Z.shouldShowBlockedResults(o),showNoResultsAlt:M.Z.shouldShowNoResultsAlt(o)}}),u=(0,c.e7)([y.Z],()=>y.Z.getAnalyticsId(o)),{searchResults:d,ignoreCount:h,blockCount:g}=(0,A.Z)({searchContext:t}),{searchMode:b,setSearchMode:x}=(0,w.Z)({searchContext:t}),E=i.useCallback(e=>{if(s.isSearching)return;x(e);let r=P.Z.getSearchInputText(t),i=(0,C.Tm)(t),l=M.Z.getSearchResultsQuery(i);null!=r&&null!=l&&(n&&t.type===L.aib.DMS?P.Z.fetchCrossDMMessages({searchContext:t,selectedPageIndex:0,queryString:r,searchMode:e}):P.Z.fetchMessages({searchContext:t,queryString:r,searchQuery:l,searchMode:e,offset:0}))},[n,s.isSearching,t,x]),S=i.useCallback(e=>{if(s.isSearching)return;let r=P.Z.getSearchInputText(t),i=(0,C.Tm)(t),l=M.Z.getSearchResultsQuery(i);null!=r&&null!=l&&(n&&t.type===L.aib.DMS?P.Z.fetchCrossDMMessages({searchContext:t,queryString:r,selectedPageIndex:e,searchMode:b}):P.Z.fetchMessages({searchContext:t,queryString:r,searchQuery:l,offset:e*L.vpv}))},[n,s.isSearching,t,b]),I=(0,c.e7)([M.Z],()=>{let e=(0,C.Tm)(t);return M.Z.getSearchResultsQuery(e)}),Z=t.type===L.aib.FAVORITES,T=i.useCallback(e=>_.Z.setShowBlockedResults(t,e),[t]),N=i.useDeferredValue(d),R=i.useDeferredValue(s),D=i.useDeferredValue(u);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{searchContext:t,search:R,searchRequestAnalyticsId:D,searchResults:N,ignoreCount:h,blockCount:g,renderEmbeds:m.NA.useSetting(),isFeedbackVisible:l,dismissFeedbackEntrypoint:a,onPageChange:S,onSearchModeChange:E,searchMode:b,onBlockedResultsClick:T,searchResultsQuery:I,isFavoritesSearch:Z}),(0,r.jsx)(G,{searchContext:t,searchRequestAnalyticsId:D,searchResults:N,searchOffset:R.offset,searchLimit:L.vpv,searchHasError:R.hasError,searchTotalResults:R.totalResults,searchIsIndexing:R.isHistoricalIndexing,isSearching:R.isSearching})]})}function K(e){let{guildId:t,channelId:n}=e,i=(0,N.H)({guildId:t,channelId:n});return null==i?null:(0,r.jsx)(Y,{searchContext:i})}},902733:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(657707),a=n(481060),o=n(315322),s=n(531578),c=n(388032),u=n(62511);function d(e){let{rating:t,onClick:n}=e,o=t===s.aZ.BAD?l.kZ9:l.lbB,c=i.useCallback(()=>{n(t)},[n,t]);return(0,r.jsx)(a.P3F,{onClick:c,className:u.iconContainer,children:(0,r.jsx)(o,{size:"md",color:"currentColor",className:u.icon})})}let p=function(e){let{searchContext:t,dismissFeedbackEntrypoint:l}=e;i.useEffect(()=>{(0,o.bo)({searchContext:t})},[t]);let p=i.useCallback(e=>{l(),(0,a.ZDy)(async()=>{let{default:i}=await n.e("11298").then(n.bind(n,229612));return n=>{var l,a;return(0,r.jsx)(i,(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),a=a={searchContext:t,rating:e},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))}),l))}})},[l,t]);return(0,r.jsxs)("div",{className:u.container,children:[(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"text-primary",children:c.intl.string(c.t["I+4OJC"])}),(0,r.jsxs)("div",{className:u.icons,children:[(0,r.jsx)(d,{rating:s.aZ.GOOD,onClick:p}),(0,r.jsx)(d,{rating:s.aZ.BAD,onClick:p})]})]})}},737:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(539854);var r=n(442837),i=n(963374),l=n(735020),a=n(627050),o=n(905405),s=n(937889),c=n(23750),u=n(699516),d=n(171900),p=n(607802),h=n(817190);let f=[];function m(e){let{searchContext:t}=e,n=(0,o.p)(),m=a.d.useExperiment({location:"useMessageRenderedContent"}).enabled,g=(0,r.e7)([h.Z,d.Z,l.Z],()=>{var e;let r=(0,p.Tm)(t),a=h.Z.getSearchResultsQuery(r),o=d.Z.getMessages(r);if(null==a||null==o||0===o.length)return f;let u=(0,i.nC)(null!=(e=(0,p.UP)(a))?e:""),g=[];return o.forEach(e=>{let t=new c.ZP(e),r=(t=function(e,t){let[n]=t,r=n.getMessage(e.id,e.channel_id);return null!=r&&(e=e.merge({attachments:r.attachments,embeds:r.embeds})),e}(t,[l.Z])).isSearchHit?t.set("customRenderedContent",(0,s.ZP)(t,{postProcessor:u,allowHeading:!0,allowList:!0,allowGameMentions:m,shouldFilterKeywords:n})):t;g.push([r])}),g},[m,t,n],r.pF);return(0,r.e7)([u.Z],()=>{let e=0,t=0;return{searchResults:g.map(n=>n.filter(n=>{let r=u.Z.isBlockedForMessage(n),i=u.Z.isIgnoredForMessage(n);return r&&n.isSearchHit?e++:i&&n.isSearchHit&&t++,!r&&!i||n.isSearchHit})),blockCount:e,ignoreCount:t}},[g],r.pF)}},967974:function(e,t,n){n.d(t,{Z:()=>s}),n(388685),n(49124);var r=n(647438),i=n(442837),l=n(607802),a=n(817190),o=n(981631);function s(e){let{searchContext:t}=e,[n,s]=r.useState(o.QIO.NEWEST),c=(0,i.e7)([a.Z],()=>{let e=(0,l.Tm)(t);return a.Z.getSearchResultsQuery(e)}),u=r.useRef(null);return r.useEffect(()=>{JSON.stringify(u.current)!==JSON.stringify(c)&&(s((0,l.Vj)({sort_by:null==c?void 0:c.sort_by,sort_order:null==c?void 0:c.sort_order})),u.current=c)},[c]),{searchMode:n,setSearchMode:s}}},909125:function(e,t,n){n.d(t,{M:()=>c}),n(388685);var r=n(647438),i=n(619864),l=n(672041),a=n(981631);let o=i.vU+a.vpv,s=i.vU/a.vpv;function c(e){let{totalResults:t,isSearching:n}=e,[c,u]=r.useState(t);r.useEffect(()=>{n||u(t)},[t,n]);let d=c>i.vU+a.vpv,p=(0,l.t)({location:"useSearchResultsPagination"});return{isPaginationTotalCountLimited:d&&p,paginationTotalCount:Math.min(c,o),paginationMaxIndex:s}}},770092:function(e,t,n){n.d(t,{I:()=>o});var r=n(647438),i=n(442837),l=n(607802),a=n(817190);function o(e){let t=(0,i.e7)([a.Z],()=>{let t=(0,l.Tm)(e);return a.Z.getSearchResultsQueryString(t)});return r.useMemo(()=>(0,l.kG)(null!=t?t:""),[t])}},897769:function(e,t,n){n.d(t,{S:()=>l});var r=n(442837),i=n(359119);function l(e,t){return(0,r.e7)([i.ZP],()=>i.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===t).find(e=>null==e.dismiss_timestamp&&((null==e?void 0:e.expiry)==null||Date.parse(e.expiry)>Date.now()))}},13279:function(e,t,n){n.d(t,{z:()=>s});var r=n(359119),i=n(897769),l=n(237292),a=n(403485),o=n(604849);function s(e,t){let n=(0,l.y0)({location:t}),s=(0,o.c)(),c=(0,a.h)(e),u=(0,i.S)(e,r.pj.INAPPROPRIATE_CONVERSATION_TIER_2);if(n&&s&&0!==c.length&&!c.some(e=>e.type===r.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===r.pj.INAPPROPRIATE_CONVERSATION_TIER_2&&null!=e.dismiss_timestamp))return u}},444957:function(e,t,n){n.d(t,{h:()=>a}),n(642613);var r=n(237292),i=n(403485),l=n(604849);function a(e){let t=(0,r.y0)({location:"safety-tools-button"}),n=(0,l.c)(),a=(0,i.h)(e);if(!t||!n)return;let o=a.filter(e=>null!=e.dismiss_timestamp);if(0!==o.length)return o.sort((e,t)=>e.type>t.type||e.dismiss_timestamp<t.dismiss_timestamp?1:-1)[0]}},403485:function(e,t,n){n.d(t,{h:()=>l});var r=n(442837),i=n(359119);function l(e){return(0,r.e7)([i.ZP],()=>i.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},276618:function(e,t,n){n.d(t,{o:()=>a});var r=n(442837),i=n(359119),l=n(444957);function a(e){let t=(0,l.h)(e),n=(0,r.e7)([i.ZP],()=>i.ZP.hasShownInitialTooltipForChannel(e));return null!=t&&!n}},367408:function(e,t,n){n.d(t,{M:()=>d}),n(642613),n(482853);var r=n(70956),i=n(359119),l=n(116347),a=n(444957),o=n(403485),s=n(276618);let c=+r.Z.Millis.HOUR,u=12*r.Z.Millis.HOUR;function d(e){var t;let n=(0,a.h)(e),r=(0,o.h)(e),d=(0,s.o)(e);if(null==n||d||(0,l.tX)(r))return;let p=r.some(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1),h=r.filter(e=>null!=e.dismiss_timestamp).sort((e,t)=>t.dismiss_timestamp<e.dismiss_timestamp?-1:1);if(h.length<1||!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return!0;let n=new Date(e).getTime()+(t?c:u);return new Date().getTime()>=n}(h[0].dismiss_timestamp,p))return;let f=r.filter(e=>null==e.dismiss_timestamp);return null!=(t=f.findLast(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1))?t:f.findLast(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},248789:function(e,t,n){n.d(t,{Y:()=>_}),n(388685);var r=n(951288),i=n(647438),l=n(286379),a=n(442837),o=n(481060),s=n(797614),c=n(699516),u=n(378298),d=n(359119),p=n(473092),h=n(177342),f=n(134612),m=n(388032);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function _(e){let{channelId:t,warningId:_,senderId:y}=e,C=i.useCallback(()=>{(0,u.T)(t,[_])},[t,_]),x=(0,a.e7)([c.Z],()=>c.Z.isBlocked(y)),v=i.useMemo(()=>({channelId:t,warningId:_,senderId:y,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2}),[t,_,y]);i.useEffect(()=>{(0,p.KQ)(b(g({},v),{viewName:p.pb.SAFETY_WARNING_BANNER})),s.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[v]);let O=i.useCallback(e=>{(0,p.qc)(b(g({},v),{cta:e}))},[v]),j=i.useCallback(()=>{(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("37031"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(e,{otherUserId:y,channelId:t,warningId:_,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2,transitionState:i,onClose:l})}},{modalKey:f.X_}),O(p.NM.USER_BANNER_OPEN_SAFETY_TOOLS)},[t,y,_,O]),E=i.useCallback(()=>{C(),O(p.NM.USER_BANNER_BLOCK_CONFIRM)},[C,O]),S=i.useCallback(()=>{C(),O(p.NM.USER_BANNER_BLOCK_AND_REPORT_CONFIRM)},[C,O]),I=i.useCallback(()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("19538").then(n.bind(n,699783));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(e,{transitionState:i,onBlock:E,onBlockAndReport:S,onCancel:()=>{null==l||l(),O(p.NM.USER_BANNER_BLOCK_CANCEL)},onClose:l,userId:y,channelId:t})}})},[E,S,y,t,O]);return(0,r.jsx)(h.Q,{channelId:t,warningId:_,senderId:y,warningType:d.pj.INAPPROPRIATE_CONVERSATION_TIER_2,header:m.intl.string(m.t.ZzlB5u),description:m.intl.string(m.t["D1aU+v"]),onDismiss:C,buttons:[{text:m.intl.string(m.t.Qyu4UF),variant:"primary",onClick:j},...x?[]:[{text:m.intl.string(m.t["7q0bNT"]),variant:"secondary",onClick:I}]]})}},177342:function(e,t,n){n.d(t,{Q:()=>c}),n(953529);var r=n(951288),i=n(647438),l=n(286379),a=n(797614),o=n(596739),s=n(473092);function c(e){let{channelId:t,warningId:n,senderId:c,warningType:u,header:d,description:p,onDismiss:h,buttons:f}=e;i.useEffect(()=>{a.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[]);let m=i.useCallback(()=>{null==h||h(),(0,s.qc)({channelId:t,warningId:n,senderId:c,warningType:u,cta:s.NM.USER_BANNER_DISMISS})},[h,t,n,c,u]);return(0,r.jsx)(o.W,{buttons:f,description:p,header:d,onDismiss:m})}},88101:function(e,t,n){n.d(t,{P:()=>d});var r=n(442837),i=n(385956),l=n(15701),a=n(594174),o=n(359119),s=n(897769),c=n(981312),u=n(403485);function d(e){let t=(0,r.e7)([a.default],()=>a.default.getCurrentUser()),n=(0,l.G)(e),d=(0,i.v)(e),p=(0,s.S)(e,o.pj.STRANGER_DANGER),h=(0,c.U)(),f=(null==t?void 0:t.isStaff())!==!0,m=(0,u.h)(e).length>0;if(!(!h&&f)&&!n&&!d&&!m)return p}},576954:function(e,t,n){n.d(t,{M:()=>x}),n(388685);var r=n(951288),i=n(647438),l=n(286379),a=n(442837),o=n(481060),s=n(194359),c=n(797614),u=n(819557),d=n(138201),p=n(699516),h=n(378298),f=n(359119),m=n(473092),g=n(177342),b=n(134612),_=n(981631),y=n(388032);function C(e){let{senderId:t,channelId:n,warningId:l}=e,{isIgnored:o}=(0,a.cj)([p.Z],()=>({isIgnored:p.Z.isIgnored(t)}),[t]),c=i.useCallback(()=>{(0,m.qc)({channelId:n,warningId:l,senderId:t,warningType:f.pj.STRANGER_DANGER,cta:m.NM.USER_MODAL_IGNORE}),s.Z.ignoreUser(t,"web_stranger_danger_more",n)},[n,l,t]),u=i.useCallback(()=>{(0,m.qc)({channelId:n,warningId:l,senderId:t,warningType:f.pj.STRANGER_DANGER,cta:m.NM.USER_MODAL_UNIGNORE}),s.Z.unignoreUser(t,"web_stranger_danger_more",n)},[n,l,t]);return(0,r.jsx)(d.JZ,{title:y.intl.string(y.t.avyV7O),description:y.intl.string(y.t.naWE6e),buttonText:o?y.intl.string(y.t["3SrzRU"]):y.intl.string(y.t.avyV7O),onButtonPress:o?u:c})}function x(e){let{channelId:t,warningId:x,senderId:v}=e,{isBlocked:O}=(0,a.cj)([p.Z],()=>({isBlocked:p.Z.isBlocked(v)}),[v]),j=i.useCallback(()=>{(0,h.T)(t,[x])},[t,x]),E=(0,b.C2)(),S=i.useCallback(e=>()=>{s.Z.blockUser(v,{location:b.zr}).then(()=>{j()}),(0,m.qc)({channelId:t,warningId:x,senderId:v,warningType:f.pj.STRANGER_DANGER,cta:e})},[j,t,x,v]);i.useEffect(()=>{(0,m.MC)(_.rMx.SAFETY_WARNING_VIEWED,{channelId:t,warningId:x,senderId:v,warningType:f.pj.STRANGER_DANGER}),c.Z.increment({name:l.V.SAFETY_WARNING_VIEW})},[t,x,v]);let I=()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("59385").then(n.bind(n,480884));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(e,{transitionState:i,onClose:l,channelId:t,warningId:x,senderId:v,description:y.intl.string(y.t.DJMZX1),safetyTipRows:E.map((e,t)=>(0,r.jsx)(u.q,{index:t,listType:"numbered",title:e},t)),actionRows:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{senderId:v,channelId:t,warningId:x},"more-tips-button"),(0,r.jsx)(d.JZ,{title:y.intl.string(y.t["5QYPOz"]),description:y.intl.string(y.t.G08MKi),buttonText:y.intl.string(y.t["5QYPOz"]),buttonVariant:"critical-primary",onButtonPress:()=>{l(),P(m.NM.USER_MODAL_BLOCK_CONFIRM,m.NM.USER_MODAL_BLOCK_CANCEL,I)}},"block-button")]})})}})},P=(e,i,l)=>{(0,o.ZDy)(async()=>{let{default:a}=await Promise.all([n.e("97652"),n.e("72442")]).then(n.bind(n,744373));return n=>{var o,s;return(0,r.jsx)(a,(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),s=s={userId:v,confirmBlock:S(e),onCancel:()=>{null==l||l(),(0,m.qc)({channelId:t,warningId:x,senderId:v,warningType:f.pj.STRANGER_DANGER,cta:i})}},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(s,e))}),o))}})};return(0,r.jsx)(g.Q,{channelId:t,warningId:x,senderId:v,warningType:f.pj.STRANGER_DANGER,header:y.intl.string(y.t.iOkDpK),description:y.intl.string(y.t.ISUbcH),onDismiss:j,buttons:[{text:y.intl.string(y.t["Qk/c4+"]),variant:"primary",onClick:()=>{I(),(0,m.qc)({channelId:t,warningId:x,senderId:v,warningType:f.pj.STRANGER_DANGER,cta:m.NM.OPEN_MORE_TIPS})}},...O?[]:[{text:y.intl.string(y.t.ie0QdH),variant:"critical-primary",onClick:()=>P(m.NM.USER_BANNER_BLOCK_CONFIRM,m.NM.USER_BANNER_BLOCK_CANCEL)}]]})}},145834:function(e,t,n){n.d(t,{$:()=>o});var r=n(70956),i=n(51144),l=n(388032);let a=+r.Z.Millis.DAY;function o(e){var t,n,r;if((0,i.EO)(e.user))return l.intl.string(l.t.VaCdhY);let o=null==(t=e.member)?void 0:t.joinedAt;return null==o?l.intl.string(l.t.CQmziY):null!=e.member&&e.member.roles.length>0?null!=(r=null==(n=e.role)?void 0:n.name)?r:l.intl.string(l.t["97/NdH"]):new Date().getTime()-Date.parse(o)<a?l.intl.string(l.t.IKE48v):l.intl.string(l.t.u0gUWl)}},600518:function(e,t,n){n.d(t,{v:()=>i,z:()=>l});var r=n(570140);function i(e){r.Z.dispatch({type:"STAGE_MUSIC_MUTE",muted:e})}function l(e){r.Z.dispatch({type:"STAGE_MUSIC_PLAY",play:e})}},719100:function(e,t,n){n.d(t,{Z:()=>s});var r=n(314897),i=n(565799),l=n(501655),a=n(88751),o=n(427679);function s(e){if(!e.isGuildStageVoice()||!o.Z.isLive(e.id))return!1;let t=r.default.getId();return!!a.ZP.isModerator(t,e.id)&&!!a.ZP.isSpeaker(t,e.id)&&(null==i.Z.getMutableParticipants(e.id).find(n=>n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id))||null==i.Z.getMutableParticipants(e.id,l.pV.SPEAKER).find(n=>n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id)))}},184805:function(e,t,n){n.d(t,{Z:()=>a});var r=n(442837),i=n(314897),l=n(590415);function a(e){let t=(0,r.e7)([i.default],()=>i.default.getId());return(0,l.ZP)(t,e)===l.xO.ON_STAGE}},614173:function(e,t,n){n.d(t,{h:()=>c}),n(388685);var r=n(647438),i=n(442837),l=n(592125),a=n(700785),o=n(471253),s=n(981631);function c(e){let t=(0,i.e7)([l.Z],()=>l.Z.getChannel(e),[e]),n=a.Uu(s.Plq.REQUEST_TO_SPEAK,t),[c,u]=r.useState(n);return n!==c&&u(n),[c,e=>{null!=t&&(u(e),(0,o.Pq)(t,s.Plq.REQUEST_TO_SPEAK,e))}]}},27931:function(e,t,n){n.d(t,{Dx:()=>p,aP:()=>h}),n(539854),n(388685);var r=n(647438),i=n(392711),l=n(442837),a=n(638730),o=n(358221),s=n(136015),c=n(565799),u=n(431328),d=n(501655);function p(e){let t=(0,u.Rk)(e,d.pV.AUDIENCE),[n,i]=r.useState(!1);return r.useEffect(()=>{t>100?i(!0):t<75&&i(!1)},[t]),5e3*!!n}function h(e,t,n){let u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=function(e,t,n){let a=(0,l.e7)([c.Z],()=>[e,c.Z.getParticipantsVersion(e)],[e],s.Q),u=(0,l.e7)([o.Z],()=>o.Z.getSelectedParticipantId(e),[e]);return r.useMemo(()=>{let r=[],l=[],o=-1,s=[];if(n)for(let t of c.Z.getMutableParticipants(e,d.pV.SPEAKER))if(t.type===d.Ui.STREAM)t.id!==u&&s.push(t),o++;else break;let p=(e,t,n)=>{let a=n?e.filter((e,t)=>e.id!==u&&t>o):e,s=(0,i.chunk)(a,t);l.push(s),r.push(s.length)},h=null!=u?c.Z.getParticipant(e,u):null;return(null==h?void 0:h.speaker)?p([h],1,!1):p([],1,!1),[d.pV.SPEAKER,d.pV.AUDIENCE].forEach(e=>{p(c.Z.getMutableParticipants(a[0],e),t[e],e===d.pV.SPEAKER)}),p(s,1,!1),[r,l]},[a,t,u,n,e])}(e,t,u),[h,f]=p,[m,g]=(0,a.T)(p,n,[t[d.pV.AUDIENCE]]);return[[h[3*!!u],h[1],m[2]],[f[3*!!u],f[1],g[2]]]}},979339:function(e,t,n){n.d(t,{Z:()=>o}),n(388685),n(539854);var r=n(442837),i=n(136015),l=n(565799),a=n(501655);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,[n]=(0,r.e7)([l.Z],()=>{let n=l.Z.getMutableParticipants(e).filter(e=>e.type===a.Ui.VOICE),r=[];for(let e of n){if(r.length>=t)break;null==r.find(t=>t.id===e.user.id)&&r.push(e.user)}return[{participants:n,usersInSummary:r},l.Z.getParticipantsVersion(e)]},[e,t],i.Q);return n}},270295:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(647438),i=n(442837),l=n(314897),a=n(471253),o=n(590415);function s(e){let t=(0,i.e7)([l.default],()=>l.default.getId()),n=(0,o.ZP)(t,e.id),s=n===o.xO.REQUESTED_TO_SPEAK||n===o.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,[c,u]=r.useState(s);return r.useEffect(()=>{u(s)},[s]),[c,function(){n===o.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,a.RK)(e,!0):(0,a.Q1)(e,!c),u(!c)}]}},260979:function(e,t,n){n.d(t,{Z:()=>o}),n(539854);var r=n(951288),i=n(647438),l=n(965288),a=n(461918);let o=i.memo(function(e){let{channel:t,participants:n,maxTiles:i}=e;if(0===n.length)return null;let o=[];for(let e=0;e<i;e++)if(e<n.length){let i=n[e];o.push((0,r.jsx)(l.Z,{channel:t,participant:i},i.id))}else o.push((0,r.jsx)(l.y,{},e));return(0,r.jsx)("div",{className:a.participants,children:o})})},965288:function(e,t,n){n.d(t,{Z:()=>N,y:()=>T});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(990547),u=n(442837),d=n(692547),p=n(481060),h=n(239091),f=n(40851),m=n(100527),g=n(906732),b=n(213609),_=n(795318),y=n(670188),C=n(314897),x=n(271383),v=n(5192),O=n(590415),j=n(354459),E=n(383519);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let P=i.memo(function(e){let{guildId:t,channelId:n,user:i,isPremium:l,isBlocked:a,isIgnored:o}=e;return(0,r.jsxs)("div",{className:E.textContainer,children:[a?(0,r.jsx)(p.t6m,{size:"lg",className:E.blockedIcon,color:d.Z.unsafe_rawColors.RED_400.css}):null,o?(0,r.jsx)(p.kZF,{size:"lg",className:E.blockedIcon}):null,(0,r.jsx)(p.Text,{className:E.text,variant:"text-sm/normal",color:"header-primary",children:v.ZP.getName(t,n,i)}),l?(0,r.jsx)(p.$Eu,{className:E.boost,color:d.Z.unsafe_rawColors.GUILD_BOOSTING_PINK}):null]})}),Z=i.memo(function(e){var t;let{participant:n,guildId:i,channel:l,isPremium:o}=e,{user:s,blocked:c,ignored:u,rtsState:d}=n,h=d===O.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,f=d===O.xO.REQUESTED_TO_SPEAK||h;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:E.avatarContainer,children:[f&&(0,r.jsx)(p.V9,{size:"md",color:"currentColor",className:a()(E.icon,{[E.invited]:h})}),(0,r.jsx)("img",{src:null!=(t=s.getAvatarURL(l.guild_id,56,!1))?t:void 0,alt:s.username,"aria-label":s.username,className:a()(E.avatar,{[E.faded]:c||u})})]}),(0,r.jsx)(P,{guildId:i,channelId:l.id,user:s,isPremium:o,isBlocked:c,isIgnored:u})]})}),T=()=>(0,r.jsx)("div",{className:E.tileBaseContainer}),N=i.memo(function(e){let{participant:t,channel:l}=e,{user:o,blocked:d}=t,v=l.getGuildId(),O=C.default.getId(),{newestAnalyticsLocation:P}=(0,g.ZP)(m.Z.AUDIENCE_TILE),T=(0,f.bp)(),N=(0,u.e7)([x.ZP],()=>{var e;return null!=v&&(null==(e=x.ZP.getMember(v,o.id))?void 0:e.premiumSince)!=null},[v,o.id]),A=i.useRef(null);s()(null!=v,"Channel cannot be guildless");let w=i.useCallback(e=>{(0,b.h)({type:c.ImpressionTypes.MENU,name:c.ImpressionNames.CALL_TILE_CONTEXT_MENU,properties:{location:"AudienceTile",is_tile_owner:o.id===O,tile_type:j.TH.USER}}),(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,I(S({},t),{user:o,guildId:v,channel:l,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1,onInteraction:(0,_.u)("GuildChannelUserContextMenu",P,{targetUserId:o.id,tileType:j.TH.USER})}))},{context:T})},[o,O,T,v,l,P]);return(0,r.jsx)(y.Z,{targetElementRef:A,user:o,guildId:l.guild_id,channelId:l.id,clickTrap:!0,children:e=>(0,r.jsx)(p.P3F,I(S({innerRef:A,className:a()(E.tileContainer,{[E.singleIcon]:N||d,[E.doubleIcon]:N&&d}),onContextMenu:w},e),{children:(0,r.jsx)(Z,{participant:t,guildId:v,channel:l,isPremium:N})}))})})},252132:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(27457),l=n(131951),a=n(441997);function o(e){var{aspectRatio:t,blocked:n,ignored:o,channel:s,className:c,focused:u,children:d,inCall:p,inPopout:h,noBorder:f,onClick:m,onContextMenu:g,onDoubleClick:b,onVideoResize:_,paused:y,pulseSpeakingIndicator:C,participant:x,width:v}=e,O=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["aspectRatio","blocked","ignored","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"]);let j=l.Z.getVideoComponent();return(0,r.jsx)("div",{style:{width:v},className:a.spaceBetweenTiles,children:(0,r.jsxs)("div",{className:a.tileSizer,style:{aspectRatio:t},children:[(0,r.jsx)(i.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({blocked:n,ignored:o,channel:s,className:c,focused:u,inCall:p,inPopout:h,noBorder:f,onClick:m,onContextMenu:g,onDoubleClick:b,onVideoResize:_,participant:x,paused:y,pulseSpeakingIndicator:C,videoComponent:j,width:v},O)),d]})})}},939863:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(388032),o=n(773433),s=n(296507),c=n(866402);function u(e){let{className:t,children:n}=e;return(0,r.jsxs)("div",{className:l()(o.container,t),children:[(0,r.jsx)("img",{alt:a.intl.string(a.t.VoB8OT),src:c,className:l()(o.sparkleIcon,o.sparkleBottom)}),n,(0,r.jsx)("img",{alt:a.intl.string(a.t.VoB8OT),src:s,className:l()(o.sparkleIcon,o.sparkleTop)})]})}},248400:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(692547),l=n(481060),a=n(311888),o=n(388032),s=n(318681);let c=()=>(0,r.jsx)(l.ua7,{text:o.intl.string(o.t.GMZqSk),children:e=>{var t,n;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={className:s.container,children:(0,r.jsx)(a.Z,{color:i.Z.unsafe_rawColors.WHITE_500.css})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})},618896:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(939863),a=n(353808);function o(e){let{className:t}=e;return(0,r.jsx)(l.Z,{className:t,children:(0,r.jsx)("div",{className:a.background,children:(0,r.jsx)(i.ewx,{size:"custom",color:"currentColor",className:a.foreground,width:32,height:32})})})}},592473:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(772848),s=n(481060),c=n(871499),u=n(388032),d=n(6762);function p(e){let{width:t=24,height:n=24,isBadged:l=!1}=e,[a]=i.useState(()=>(0,o.Z)());return(0,r.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:a,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),l&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),(0,r.jsx)("g",{mask:"url(#".concat(a,")"),children:(0,r.jsx)(s.E0I,{})})]})}function h(e){let{className:t,numRequestToSpeak:n}=e,i=n>0;return(0,r.jsxs)("div",{className:a()(d.raisedHandIcon,t),children:[(0,r.jsx)(p,{isBadged:i}),i?(0,r.jsx)(s.Text,{className:d.raisedHandCount,variant:"text-xs/semibold",children:n>99?"99+":n}):null]})}function f(e){var{toggleRequestToSpeakSidebar:t,showRequestToSpeakSidebar:n,className:l,numRequestToSpeak:a,onClick:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["toggleRequestToSpeakSidebar","showRequestToSpeakSidebar","className","numRequestToSpeak","onClick"]);let d=i.useCallback(()=>{null==o||o(),t()},[o,t]);return(0,r.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onClick:d,label:n?u.intl.string(u.t.gKGz7O):u.intl.string(u.t.ImQ4dX),className:l,iconComponent:()=>(0,r.jsx)(h,{numRequestToSpeak:a,className:l})},s))}},153349:function(e,t,n){n.d(t,{Z:()=>D}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(442837),u=n(481060),d=n(239091),p=n(99690),h=n(493773),f=n(616780),m=n(665149),g=n(884902),b=n(670188),_=n(271383),y=n(496675),C=n(158776),x=n(471253),v=n(431328),O=n(145834),j=n(590415),E=n(614173),S=n(618896),I=n(231338),P=n(388032),Z=n(112848);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let A=i.memo(function(e){let{toggleRequestToSpeakSidebar:t,chatOpen:n}=e,i=(0,r.jsx)(m.ZP.Icon,{icon:u.Dio,tooltip:P.intl.string(P.t.cpT0Cg),onClick:t});return(0,r.jsxs)(m.ZP,{toolbar:i,className:a()(Z.headerContainer,{[Z.chatOpen]:n}),children:[(0,r.jsx)(m.ZP.Icon,{icon:u.V9,disabled:!0,"aria-label":P.intl.string(P.t.TYZgzc)}),(0,r.jsx)(m.ZP.Title,{children:P.intl.string(P.t.TYZgzc)})]})}),w=i.memo(function(e){var t;let{channel:l,participant:a,tempDisableOnInit:o=!1}=e,m=i.useRef(null),[y,v]=i.useState(o);(0,h.ZP)(()=>{if(!y)return;let e=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(e)});let E=l.getGuildId();s()(null!=E,"Channel cannot be guildless");let{isMobile:S,status:I}=(0,c.cj)([C.Z],()=>({isMobile:C.Z.isMobileOnline(a.user.id),status:C.Z.getStatus(a.user.id,E)})),A=(0,c.e7)([_.ZP],()=>_.ZP.getMember(E,a.user.id)),w=(0,g.X7)(l.guild_id,null==A?void 0:A.userId,null!=(t=null==A?void 0:A.colorStrings)?t:null),R=i.useMemo(()=>({[E]:[a.user.id]}),[E,a.user.id]);(0,f.$)(R);let M=a.rtsState===j.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function D(){(0,x.DT)(l,a.user.id,!1)}function L(){(0,x.DT)(l,a.user.id,!0)}let k=e=>{(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,N(T({},t),{user:a.user,guildId:E,channel:l,showMediaItems:!0}))})};return(0,r.jsxs)("div",{className:Z.participantRowContainer,children:[(0,r.jsx)(b.Z,{targetElementRef:m,user:a.user,guildId:l.guild_id,channelId:l.id,position:"left",spacing:16,clickTrap:!0,children:e=>{var t;return(0,r.jsxs)(u.P3F,N(T({innerRef:m,className:Z.participantMemberContainer,onContextMenu:k},e),{children:[(0,r.jsx)(p.Z,{size:u.EFr.SIZE_40,className:Z.participantAvatar,user:a.user,isMobile:S,status:I}),(0,r.jsxs)("div",{className:Z.participantTextContainer,children:[(0,r.jsx)(u.PUh,{name:a.userNick,colorString:null!=(t=null==A?void 0:A.colorString)?t:null,colorStrings:w,className:Z.participantName}),(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"header-secondary",children:(0,O.$)(a)})]})]}))}}),(0,r.jsxs)("div",{className:Z.buttonContainer,children:[(0,r.jsx)(u.ua7,{text:M?P.intl.string(P.t.h9rsTU):P.intl.string(P.t.f0T7hI),children:e=>(0,r.jsx)("div",N(T({},e),{children:(0,r.jsx)(u.hU,{onClick:D,disabled:M||y,icon:u.Lrb,variant:"secondary","aria-label":M?P.intl.string(P.t.h9rsTU):P.intl.string(P.t.f0T7hI)})}))}),(0,r.jsx)(u.ua7,{text:P.intl.string(P.t.moABMz),children:e=>(0,r.jsx)("div",N(T({},e),{children:(0,r.jsx)(u.hU,{"aria-label":P.intl.string(P.t.moABMz),onClick:L,icon:u.Dio,variant:"secondary"})}))})]})]})}),R=i.memo(function(e){let{channel:t}=e,[n,i]=(0,E.h)(t.id);return(0,r.jsx)(u.j7V,{className:Z.toggle,onChange:i,value:n,children:P.intl.string(P.t.GYCh0d)})}),M=i.memo(function(){return(0,r.jsxs)("div",{className:Z.emptyStateContainer,children:[(0,r.jsx)(S.Z,{}),(0,r.jsx)(u.Text,{className:Z.emptyStateTitle,variant:"text-lg/semibold",color:"header-primary",children:P.intl.string(P.t["7R24mZ"])}),(0,r.jsx)(u.Text,{className:Z.emptyStateBody,variant:"text-sm/normal",color:"header-secondary",children:P.intl.string(P.t.Rpr2s7)})]})});function D(e){let{channel:t,toggleRequestToSpeakSidebar:n,chatOpen:i}=e,l=(0,v.Fd)(t.id),o=[+!!(0,c.e7)([y.Z],()=>y.Z.can(I.Pl.MANAGE_CHANNELS,t)||y.Z.can(I.Pl.MANAGE_ROLES,t)),Math.max(1,l.length)];return(0,r.jsxs)("div",{className:a()(Z.container,{[Z.chatOpen]:i}),children:[(0,r.jsx)(A,{toggleRequestToSpeakSidebar:n,chatOpen:i}),(0,r.jsx)(u.aVo,{className:Z.contentContainer,sections:o,sectionHeight:function(e){return 40*(1===e)},rowHeight:function(e){switch(e){case 0:return 66;case 1:if(0===l.length)return 178;return 48}return 0},renderRow:function(e){let{section:n,row:i}=e;switch(n){case 0:return(0,r.jsx)(R,{channel:t},"rts-toggle");case 1:{if(0===l.length)return(0,r.jsx)(M,{},"participants-empty");let e=l[i];return(0,r.jsx)(w,{channel:t,participant:e,tempDisableOnInit:!0},e.id)}}return null},renderSection:function(e){let{section:t}=e;return 1===t?(0,r.jsx)(u.Text,{className:Z.listTitle,variant:"text-xs/bold",color:"header-secondary",children:l.length>0?P.intl.formatToPlainString(P.t["5z7q5e"],{numHands:l.length}):P.intl.string(P.t.TYZgzc)},"participants-section"):null}})]})}},504185:function(e,t,n){n.d(t,{Z:()=>ed,e:()=>ec}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(442837),c=n(433517),u=n(755721),d=n(481060),p=n(570140),h=n(393238),f=n(493773),m=n(40851),g=n(100527),b=n(906732),_=n(358221),y=n(414910),C=n(909820),x=n(493010),v=n(71127),O=n(185935),j=n(522651),E=n(788983),S=n(928518),I=n(703656),P=n(493754),Z=n(937995),T=n(880831),N=n(73563),A=n(800965),w=n(107169),R=n(891551),M=n(314897),D=n(979696),L=n(430824),k=n(496675),U=n(944486),B=n(358085),F=n(998502),G=n(922482),H=n(431328),V=n(501655),z=n(427679),W=n(513449),q=n(153349),Y=n(901434),K=n(302270),X=n(308177),Q=n(700483),J=n(686468),$=n(801405),ee=n(903108),et=n(981631),en=n(354459),er=n(388032),ei=n(515074);function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let ea="HasBeenInStageChannel",eo=e=>{(0,j.v)(g.Z.VOICE_CONTROL_TRAY,j.d.STAY_ON_TOP,e),E.hY(et.KJ3.CHANNEL_CALL_POPOUT,e)};function es(e){let{channel:t,appContext:n,popoutOpen:l,popoutWindow:a,popoutWindowAlwaysOnTop:o,selectedParticipant:c}=e,{parentAnalyticsLocation:u}=(0,b.ZP)(),d=t.getGuildId(),h=(0,s.e7)([U.Z],()=>U.Z.getMostRecentSelectedTextChannelId(d),[d]),f=M.default.getId(),m=!(0,s.e7)([_.Z],()=>_.Z.isFullscreenInContext(n))&&(!B.isPlatformEmbedded||B.isPlatformEmbedded&&F.ZP.supportsFeature(et.eRX.POPOUT_WINDOWS)),g=null!=c&&c.type!==en.fO.ACTIVITY&&c.user.id!==f,C=i.useMemo(()=>{var e;return null!=(e=null==a?void 0:a.window)?e:window},[a]),x=(0,$.Z)({channel:t,appContext:n,popoutOpen:l,popoutWindow:a,currentWindow:C}),v=n===et.IlC.POPOUT&&B.isPlatformEmbedded&&F.ZP.supportsFeature(et.eRX.POPOUT_WINDOWS);return(0,r.jsxs)(r.Fragment,{children:[g?(0,r.jsx)(R.Z,{context:(0,y.Z)(c.type),userId:c.user.id,currentWindow:C,sliderClassName:ei.volumeSlider,location:u}):null,v?(0,r.jsx)(w.Z,{popoutWindowAlwaysOnTop:o,onToggleStayOnTop:eo}):null,m?(0,r.jsx)(A.Z,{popoutOpen:l,onOpenPopout:()=>{(0,j.v)(u,j.d.POPOUT,!0),(()=>{let e=t.getGuildId();null!=e&&null!=h&&(0,I.XU)(e,h),E.hP(t)})()},onClosePopout:()=>{(0,j.v)(u,j.d.POPOUT,!1),p.Z.wait(()=>E.xv(et.KJ3.CHANNEL_CALL_POPOUT))}}):null,x]})}function ec(e){let{channel:t}=e,n=(0,m.bp)(),i=(0,s.e7)([k.Z],()=>k.Z.can(et.Plq.CREATE_INSTANT_INVITE,t)),l=(0,s.e7)([L.Z],()=>L.Z.getGuild(t.guild_id)),a=(0,s.e7)([z.Z],()=>z.Z.getStageInstanceByChannel(t.id)),o=i||(null==a?void 0:a.invite_code)!=null;return null!=l&&o?(0,r.jsx)(P.Z,{size:u.zx.Sizes.MEDIUM,color:u.zx.Colors.TRANSPARENT,channel:t,appContext:n,className:ei.__invalid_leftTrayIcon,analyticsLocation:et.ZY5.GUILD_CHANNEL}):null}function eu(e){var t,n;let l,{channel:c,toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:d,popoutWindow:p,popoutWindowAlwaysOnTop:h,popoutOpen:f,chatOpen:y,idleProps:x}=e,{analyticsLocations:v}=(0,b.ZP)(g.Z.VOICE_CONTROL_TRAY),O=(0,m.bp)(),j=(0,s.e7)([U.Z],()=>U.Z.getVoiceChannelId()===c.id,[c.id]),E=(0,s.e7)([k.Z],()=>k.Z.can(et.Plq.CONNECT,c)),S=(0,H.w8)(c.id,V.pV.SPEAKER),I=(0,s.e7)([_.Z],()=>_.Z.getSelectedParticipant(c.id)),P=f&&O!==et.IlC.POPOUT,[Z,A]=i.useState(0),{isOnStartStageScreen:w}=(0,W.ZP)();(0,W.MV)(c);let R=(0,s.e7)([D.Z],()=>D.Z.getToastsEnabled(c.id)),M=(0,ee.Z)(c)?null!=I?"84px":"124px":null!=I?"0px":"48px";return w&&(M="0px"),l=w?(0,r.jsx)(J.Z,{channel:c,onContinueClick:()=>{(0,W.Ku)(!1),j||(0,G.TM)(c)}}):j?(0,r.jsx)(X.Z,{channel:c,onScroll:e=>{let{scrollTop:t}=e.target;(0,o.debounce)(()=>A(t),1e3,{leading:!0})()}}):(0,r.jsx)(Y.Z,{participants:S,channel:c,hasConnectPermission:E}),(0,r.jsx)(N.Z,(t=el({style:{height:"calc(100% - ".concat(M,")"),paddingTop:M},disableGradients:!j||0===Z&&N.e.TOP,renderBottomCenter:()=>j?(0,r.jsx)(b.Gt,{value:v,children:(0,r.jsx)(Q.Z,{channel:c,isOnStartStageScreen:w})}):null,renderBottomRight:()=>j?(0,r.jsx)(b.Gt,{value:v,children:(0,r.jsx)(es,{channel:c,appContext:O,popoutOpen:f,popoutWindow:p,popoutWindowAlwaysOnTop:h,selectedParticipant:I})}):null,renderHeader:()=>(0,r.jsx)(K.Z,{toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:d,channel:c}),renderChatToasts:()=>!R||y||P?null:(0,r.jsx)(C.ZP,{children:(0,r.jsx)(T.Z,{className:a()(ei.chatToasts,{[ei.rtsSidebarOpen]:d}),channelId:c.id})}),screenMessage:P?{mainText:er.intl.string(er.t.J5bXZW)}:null},x),n=n={children:!P&&l},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}function ed(e){let{channel:t}=e,[l,o]=i.useState(!1),u=i.useCallback(()=>{o(!l)},[l,o]),{popoutWindow:p,popoutWindowAlwaysOnTop:y}=(0,s.cj)([S.Z],()=>({popoutWindow:S.Z.getWindow(et.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:S.Z.getIsAlwaysOnTop(et.KJ3.CHANNEL_CALL_POPOUT)})),j=null!=p&&!p.closed,{analyticsLocations:E}=(0,b.ZP)(g.Z.STAGE_CHANNEL_CALL),I=(0,m.bp)(),{chatOpen:P,participantsListOpen:T}=(0,s.cj)([_.Z],()=>({chatOpen:_.Z.getChatOpen(t.id),participantsListOpen:_.Z.getParticipantsListOpen(t.id)}),[t.id]),N=(0,s.e7)([L.Z],()=>L.Z.getGuild(t.guild_id),[t.guild_id]),{hasParticipantsPanel:A}=(0,O.Z)({location:"StageChannelCall"});(0,f.ZP)(()=>{null==c.K.get(ea)&&((0,d.ZDy)(async()=>{let{default:e}=await n.e("37194").then(n.bind(n,947422));return t=>(0,r.jsx)(e,el({},t))}),c.K.set(ea,Date.now()))});let{width:w=0,ref:R}=(0,h.ZP)(),M=w-550,D=!j||j&&I===et.IlC.POPOUT;return(0,r.jsx)(b.Gt,{value:E,children:(0,r.jsxs)(C.B2,{children:[(0,r.jsxs)("div",{className:ei.container,ref:R,children:[(0,r.jsx)(d.f6W,{theme:et.BRd.DARK,children:e=>(0,r.jsx)("div",{className:a()(ei.callContainer,e,{[ei.sidebarVisible]:l,[ei.sidebarOrChatVisible]:l||P||T}),children:(0,r.jsx)(Z.ZP,{timeout:2e3,children:e=>(0,r.jsx)(eu,{channel:t,toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:l,popoutWindow:p,popoutWindowAlwaysOnTop:y,popoutOpen:j,chatOpen:P,idleProps:e})})})}),l?(0,r.jsx)(q.Z,{channel:t,toggleRequestToSpeakSidebar:u,chatOpen:P}):null,(0,r.jsxs)("div",{className:ei.channelChatWrapper,children:[P&&D&&(0,r.jsx)(x.Z,{channel:t,guild:N,maxWidth:M}),T&&A&&D&&(0,r.jsx)(v.Z,{channel:t,maxWidth:M})]})]}),(0,r.jsx)(C.H_,{})]})})}},901434:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(287734),s=n(358221),c=n(305325),u=n(281956),d=n(27457),p=n(546247),h=n(823379),f=n(5192),m=n(501655),g=n(504185),b=n(388032),_=n(427538);let y=(e,t)=>f.ZP.getName(e.getGuildId(),e.id,t.user),C=function(e){let{participants:t,channel:n,hasConnectPermission:f}=e,C=(0,u.J)(n.guild_id),x=i.useCallback(()=>{C?(0,c.hk)(n.guild_id,()=>o.default.selectVoiceChannel(n.id)):o.default.selectVoiceChannel(n.id)},[n.id,n.guild_id,C]),v=t.filter(e=>e.type===m.Ui.VOICE),O=4===v.length?2:3,j=(0,l.Wu)([s.Z],()=>v.map(e=>s.Z.getParticipant(n.id,e.id)).filter(h.lm),[n.id,v]);return(0,r.jsxs)("div",{className:_.container,children:[(0,r.jsx)(p.Z,{}),(0,r.jsx)("div",{className:_.tiles,style:{maxWidth:168*O},children:j.slice(0,5).map(e=>(0,r.jsx)(d.ZP,{participant:e,channel:n,className:_.tile,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,r.jsx)(a.X6q,{className:_.channelName,variant:"heading-xxl/normal",children:n.name}),(0,r.jsx)("div",{className:_.participantsRow,children:(0,r.jsx)(a.Text,{tag:"div",color:"header-secondary",variant:"heading-lg/normal",children:0===v.length?b.intl.string(b.t.FUVhyM):1===v.length?b.intl.formatToPlainString(b.t.EQwZlJ,{a:y(n,v[0])}):2===v.length?b.intl.formatToPlainString(b.t.zBcKoK,{a:y(n,v[0]),b:y(n,v[1])}):v.length>2?b.intl.formatToPlainString(b.t["3AqFaG"],{a:y(n,v[0]),b:y(n,v[1]),n:v.length-2}):void 0})}),(0,r.jsxs)("div",{className:_.buttonContainer,children:[(0,r.jsx)("div",{className:_.joinButton,children:(0,r.jsx)(a.zxk,{variant:"overlay-primary",text:f?b.intl.string(b.t["7vb2cX"]):b.intl.string(b.t.TVBCKS),onClick:x,disabled:!f})}),(0,r.jsx)(g.e,{channel:n})]})]})}},302270:function(e,t,n){n.d(t,{Z:()=>k});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(692547),c=n(481060),u=n(475179),d=n(100527),p=n(906732),h=n(358221),f=n(185935),m=n(522651),g=n(933557),b=n(236091),_=n(623624),y=n(665149),C=n(984370),x=n(616286),v=n(975146),O=n(430824),j=n(496675),E=n(626135),S=n(431328),I=n(501655),P=n(200498),Z=n(146085),T=n(427679),N=n(592473),A=n(903108),w=n(981631),R=n(474936),M=n(388032),D=n(270479);function L(e){let{channel:t,toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:i}=e,{analyticsLocations:l,newestAnalyticsLocation:s}=(0,p.ZP)(d.Z.VOICE_CHANNEL_HEADER),{chatOpen:c,participantsListOpen:g}=(0,o.cj)([h.Z],()=>({chatOpen:h.Z.getChatOpen(t.id),participantsListOpen:h.Z.getParticipantsListOpen(t.id)}),[t.id]),_=(0,P.B)(t.id),y=(0,S.Rk)(t.id,I.pV.REQUESTED_TO_SPEAK_ONLY),{hasParticipantsPanel:C}=(0,f.Z)({location:"StageChannelCallHeader"}),O=C&&g;return(0,r.jsxs)(p.Gt,{value:l,children:[(0,r.jsx)(b.Z,{channelId:t.id},"clips-enabled-indicator"),!i&&_?(0,r.jsx)("div",{className:D.button,children:(0,r.jsx)(N.Z,{toggleRequestToSpeakSidebar:()=>{c&&u.Z.updateChatOpen(t.id,!1),g&&u.Z.toggleParticipantsList(t.id,!1),(0,m.v)(s,m.d.OPEN_REQUEST_TO_SPEAK_SIDEBAR),n()},showRequestToSpeakSidebar:i,numRequestToSpeak:y})}):null,!g&&C&&(0,r.jsx)(v.Z,{className:a()(D.button,{[D.sidebarOpen]:c}),onClick:()=>{i&&n(),u.Z.toggleParticipantsList(t.id,!g)}},"participants-list-button"),!c&&(0,r.jsx)("div",{className:a()(D.button,{[D.sidebarOpen]:O||i}),children:(0,r.jsx)(x.T,{channelId:t.id,showRequestToSpeakSidebar:i,toggleRequestToSpeakSidebar:n,iconClassName:D.buttonIcon})})]})}function k(e){var t;let{channel:n,toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:d}=e,p=(0,g.ZP)(n),h=(0,o.e7)([T.Z],()=>T.Z.getStageInstanceByChannel(n.id)),f=(0,S.Io)(n.id),m=(0,S.Rk)(n.id,I.pV.AUDIENCE),b=(0,o.e7)([O.Z],()=>O.Z.getGuild(n.guild_id),[n.guild_id]),x=null!=(t=null==b?void 0:b.maxStageVideoChannelUsers)?t:0,v=null!=b&&b.features.has(w.oNc.COMMUNITY)?x<w.TU7:(null==b?void 0:b.premiumTier)!==w.Eu4.TIER_3&&x<=w.eez,P=(0,A.Z)(n),N=(0,o.e7)([j.Z],()=>j.Z.can(Z.yP,n)),k=()=>{u.Z.updateStageVideoLimitBoostUpsellDismissed(n.id,!0),E.default.track(w.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:n.guild_id,type:R.cd.VIDEO_STAGE_LIMIT,is_moderator:N,action:R.T7.DISMISS})},B={canModerate:N,audienceCount:m,channel:n,speakerCount:f},F=i.useRef(B);i.useEffect(()=>{F.current=B}),i.useEffect(()=>{let{canModerate:e,audienceCount:t,channel:n,speakerCount:r}=F.current;P&&E.default.track(w.rMx.BOOSTING_UPSELL_VIEWED,{guild_id:n.guild_id,type:R.cd.VIDEO_STAGE_LIMIT,is_moderator:e,listener_count:r+t})},[P]);let G=(0,r.jsx)(c.f6W,{theme:w.BRd.DARK,children:e=>{var t;return(0,r.jsxs)(y.ZP,{toolbar:(0,r.jsx)(L,{toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:d,channel:n}),onDoubleClick:C.O,transparent:!0,className:a()(e,D.participants),children:[(0,r.jsx)(y.ZP.Icon,{icon:c.ewx,disabled:!0,"aria-label":M.intl.string(M.t.EErMzM),className:D.icon,color:null!=h?s.Z.colors.HEADER_MUTED.css:void 0}),(0,r.jsx)(y.ZP.Title,{className:D.channelName,wrapperClassName:D.channelNameWrapper,children:null!=(t=null==h?void 0:h.topic)?t:p}),(0,r.jsx)(y.ZP.Divider,{className:D.divider}),(0,r.jsxs)(y.ZP.Title,{children:[(0,r.jsx)(c.S6n,{size:"xs",color:s.Z.colors.TEXT_LOW_CONTRAST.css}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",className:D.speakerCount,children:M.intl.format(M.t.chmM9P,{count:f})}),(0,r.jsx)(c.BFJ,{size:"xs",className:D.icon,color:"currentColor"}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",className:D.speakerCount,children:M.intl.format(M.t["+v2pNz"],{count:m})})]})]})}});return P?(0,r.jsxs)("div",{children:[G,(0,r.jsxs)("div",{className:D.boostUpsell,children:[(0,r.jsx)(U,{}),(0,r.jsxs)("div",{className:D.text,children:[(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",children:v?M.intl.string(M.t["T+zF9P"]):M.intl.string(M.t["IZ+SVl"])}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"text-default",children:v?M.intl.string(M.t.Izgpmp):M.intl.string(M.t["7FHbPD"])})]}),(0,r.jsx)("div",{className:D.buttons,children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{onClick:k,size:"sm",variant:"secondary",text:M.intl.string(M.t.L5eIZ2)}),(0,r.jsx)(c.zxk,{variant:"expressive",onClick:()=>{(0,_.f)({guildId:n.guild_id,location:{section:w.jXE.STAGE_VIDEO_LIMIT}}),E.default.track(w.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:n.guild_id,type:R.cd.VIDEO_STAGE_LIMIT,is_moderator:N,action:R.T7.BOOST})},size:"sm",text:M.intl.string(M.t.Uj0md3)})]}):(0,r.jsx)(c.zxk,{variant:"primary",onClick:k,size:"sm",text:M.intl.string(M.t.WAI6xs)})})]})]}):G}function U(){return(0,r.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_595_59940)",children:[(0,r.jsx)("path",{d:"M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",fill:"url(#paint0_linear_595_59940)"}),(0,r.jsx)("path",{d:"M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",fill:"white"}),(0,r.jsx)("path",{d:"M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",fill:"white"})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_595_59940",x1:"2.4046e-06",y1:"35.2166",x2:"35.7182",y2:"-1.45185",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#3E70DD"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#B377F3"})]}),(0,r.jsx)("clipPath",{id:"clip0_595_59940",children:(0,r.jsx)("rect",{width:"36",height:"36",fill:"white"})})]})]})}},831002:function(e,t,n){n.d(t,{$A:()=>_,j8:()=>y});var r=n(951288);n(647438);var i=n(512722),l=n.n(i),a=n(442837),o=n(481060),s=n(40851);n(358221),n(431368),n(167675),n(418469),n(673539);var c=n(218035),u=n(775666),d=n(423589),p=n(592125),h=n(496675),f=n(881824),m=n(146085),g=n(427679);n(354459);var b=n(388032);function _(e){let t=(0,a.e7)([p.Z],()=>p.Z.getChannel(e),[e]),n=(0,a.e7)([h.Z],()=>h.Z.can(m.yP,t)),i=(0,a.e7)([g.Z],()=>g.Z.getStageInstanceByChannel(e),[e]),l=(0,s.bp)(),c=()=>null!=t&&(0,f.T)(t,l);return(null==t?void 0:t.isGuildStageVoice())&&n?null!=i?(0,r.jsx)(o.sNh,{id:"edit-stage",label:b.intl.string(b.t["I+9bLy"]),action:c}):(0,r.jsx)(o.sNh,{id:"start-stage",label:b.intl.string(b.t.OYbHfn),action:c}):null}function y(e){let t=(0,a.e7)([p.Z],()=>p.Z.getChannel(e),[e]);l()(null!=t,"useNotificationSettingsItem: channel cannot be undefined");let n=(0,d.Mn)("StageChannelCallOverflowMenu"),r=(0,u.ZP)(t),i=(0,c.Z)(t);return n?r:i}},308177:function(e,t,n){n.d(t,{Z:()=>C}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(112724),o=n(358221),s=n(565799),c=n(431328),u=n(501655),d=n(27931),p=n(260979),h=n(766015),f=n(755515),m=n(12779),g=n(450369),b=n(388032),_=n(307139);function y(e){return e.type===u.Ui.VOICE}let C=(0,a.Z)(e=>{var t,n;let{channel:a,width:C,onScroll:x}=e,{selectedParticipantId:v,largeStream:O,chatOpen:j}=(0,l.cj)([o.Z],()=>({selectedParticipantId:o.Z.getSelectedParticipantId(a.id),largeStream:o.Z.getStageStreamSize(a.id),chatOpen:o.Z.getChatOpen(a.id)}),[a.id]),E=(0,c.Io)(a.id),S=(0,c.Rk)(a.id,u.pV.AUDIENCE),I=(0,l.e7)([s.Z],()=>null!=v?s.Z.getParticipant(a.id,v):null),P=(0,c.w8)(a.id,u.pV.SPEAKER),Z=P.filter(y),T=null!=P.find(e=>e.type===u.Ui.STREAM),N=Math.floor((C-32)/102),A=C<424?1:C<624?2:C<824||j?3:4,w={[u.pV.SPEAKER]:A,[u.pV.AUDIENCE]:N,[u.pV.SELECTED]:1},R=(0,d.Dx)(a.id),[M,D]=(0,d.aP)(a.id,w,R),L=[Math.max(null!=(t=M[0])?t:1,1),Math.max(null!=(n=M[1])?n:1,1),M[2]],{speakerTileWidth:k,speakerTileHeight:U}=((e,t)=>{let n=Math.floor(e/t-8),r=Math.floor(n/g.Q);return{speakerTileWidth:n,speakerTileHeight:r}})(C,A),B=O?C-32:Math.min(C-64,3*k+8),F=e=>e===M.length-1||0===S&&1===e,[G,H]=i.useState(!1),[V,z]=i.useState(!1);return(0,r.jsx)(h.Z,{sections:L,renderSection:e=>{let{section:t}=e;return 1===t?0===E?null:(0,r.jsx)(m.Z,{participantCount:E,label:b.intl.string(b.t.CduOk5),className:_.header,onClick:()=>H(!G),collapsed:G,speakers:Z,channel:a,isStreamLive:T},"speaker-header-".concat(t)):2===t?0===S?null:(0,r.jsx)(m.Z,{participantCount:S,label:b.intl.string(b.t["3foUu7"]),className:_.header,onClick:()=>z(!V),collapsed:V,channel:a},"audience-header-".concat(t)):null},sectionHeight:e=>48,renderRow:e=>{let{section:t,row:n}=e,l=D[t][n];if((null==l?void 0:l.length)==null)return null;switch(t){case 0:if(0===l.length||null==l[0])return null;return(0,r.jsx)("div",{className:_.focusedRow,children:(0,r.jsx)(g.Z,{channel:a,participant:l[0],width:B})},"selected-participant");case 1:if(G)return null;return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(f.Z,{tileWidth:k,channel:a,participants:l,selectedParticipant:I})},"speakers-".concat(t,"-").concat(n));case 2:if(V)return null;return(0,r.jsx)(p.Z,{channel:a,participants:l,maxTiles:N},"audience-".concat(t,"-").concat(n));default:return null}},rowHeight:e=>null==D[e][0]?0:0===e?B/g.Q+8:1===e?G?0:U:98*!V,renderFooter:e=>{let{section:t}=e;return F(t)?(0,r.jsx)("div",{className:_.spacer},"bottom-spacer"):null},footerHeight:e=>1===e?8:0===e?12:88*!!F(e),className:_.scroller,chunkSize:60,onScroll:x})})},700483:function(e,t,n){n.d(t,{Z:()=>ep}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(287734),s=n(40851),c=n(100527),u=n(906732),d=n(358221),p=n(659580),h=n(793865),f=n(575175),m=n(522651),g=n(795318),b=n(258609),_=n(74299),y=n(924301),C=n(459502),x=n(856691),v=n(357156),O=n(923973),j=n(829750),E=n(189771),S=n(294629),I=n(793319),P=n(987329),Z=n(560688),T=n(390322),N=n(871499),A=n(88479),w=n(386e3),R=n(25827),M=n(314897),D=n(131951),L=n(496675),k=n(944486),U=n(594174),B=n(881824),F=n(471253),G=n(200498),H=n(146085),V=n(88751),z=n(427679),W=n(368442),q=n(600518),Y=n(485287),K=n(754277),X=n(719100),Q=n(184805),J=n(643632),$=n(270295),ee=n(981631),et=n(354459),en=n(388032),er=n(769265);function ei(e){let{channel:t}=e,{parentAnalyticsLocation:n}=(0,u.ZP)(),i=(0,Q.Z)(t.id),[o,s]=(0,$.Z)(t),c=(0,l.e7)([L.Z],()=>L.Z.can(ee.Plq.REQUEST_TO_SPEAK,t));return i?null:(0,r.jsx)(N.d,{isTrayButton:!0,isActive:o,label:o?en.intl.string(en.t.GCimTk):c?en.intl.string(en.t.hLbG5O):en.intl.string(en.t.e4WMv7),iconComponent:a.V9,onClick:()=>{(0,m.v)(n,m.d.REQUEST_TO_SPEAK,!o),s()},color:o?"green":void 0,disabled:!c&&!o})}let el=i.memo(function(e){let{channel:t}=e,n=(0,l.e7)([k.Z],()=>k.Z.getVoiceChannelId()===t.id,[t.id]);return(0,r.jsxs)("div",{className:er.container,children:[(0,r.jsxs)("div",{className:er.buttonSection,children:[(0,r.jsx)(ec,{channelId:t.id}),n?(0,r.jsx)(ei,{channel:t}):null,(0,r.jsx)(P.Z,{channel:t})]}),(0,r.jsx)(eo,{channel:t})]})});function ea(e){let{channel:t}=e,{parentAnalyticsLocation:n}=(0,u.ZP)();return(0,r.jsx)(N.d,{isTrayButton:!0,onClick:()=>{(0,F.RK)(t,!1),(0,m.v)(n,m.d.SPEAK_ON_STAGE)},iconComponent:a.Lrb,label:en.intl.string(en.t["8Joh+v"])})}function eo(e){let{channel:t,onSelect:n}=e,d=(0,s.bp)(),{canManageGuildEvent:p}=(0,v.XJ)(t),h=(0,l.e7)([z.Z],()=>z.Z.getStageInstanceByChannel(t.id),[t.id]),f=(0,l.e7)([y.ZP],()=>y.ZP.getGuildScheduledEvent(null==h?void 0:h.guild_scheduled_event_id)),{suppress:b}=(0,S.Z)(t),_=M.default.getId(),[C]=(0,$.Z)(t),x=V.ZP.isModerator(_,t.id),O=(0,G.B)(t.id),j=p(f),{parentAnalyticsLocation:E}=(0,u.ZP)(),I=i.useRef(null),P=()=>(function(e){let{channel:t,appContext:n}=e;if((0,m.v)(c.Z.VOICE_CONTROL_TRAY,m.d.DISCONNECT),(0,X.Z)(t))return void(0,B.Us)(t,n);o.default.disconnect()})({channel:t,appContext:d});return(x||j)&&null!=h?(0,r.jsx)(a.yRy,{targetElementRef:I,renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(T.Z,{children:(0,r.jsx)(a.v2r,{navId:"exit-options","aria-label":en.intl.string(en.t["3Uj+2t"]),onClose:i,onSelect:n,onInteraction:(0,g.u)("End Stage",E,{entrypoint:et.A5.CARET}),children:(0,r.jsx)(a.sNh,{id:"end-stage",color:"danger",action:()=>(0,B.Ev)(t,d),label:en.intl.string(en.t.Fmx5y8),icon:a.k$p})})})},align:"center",position:"top",spacing:16,animation:a.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(A.Z,{ref:I,label:en.intl.string(en.t.c6qKws),onClick:P,onPopoutClick:n,popoutOpen:i})}}):b&&!O||C?(0,r.jsx)(A.Z,{label:en.intl.string(en.t.SMKyio),onClick:P}):(0,r.jsx)(A.Z,{label:en.intl.string(en.t.c6qKws),onClick:P})}function es(e){let{channel:t}=e,{parentAnalyticsLocation:n}=(0,u.ZP)();return(0,r.jsx)(N.d,{isTrayButton:!0,iconComponent:a.zRq,label:en.intl.string(en.t.ezLpY2),onClick:()=>{(0,m.v)(n,m.d.MOVE_TO_AUDIENCE),(0,F.yi)(t)}})}function ec(e){let{channelId:t}=e,{parentAnalyticsLocation:n}=(0,u.ZP)(),i=(0,l.e7)([K.Z],()=>K.Z.isMuted()),o=(0,Y.pp)(t),s=(0,l.e7)([K.Z],()=>K.Z.shouldPlay());return o?(0,r.jsx)(N.d,{isTrayButton:!0,isActive:!i,label:i?en.intl.string(en.t.ScHlfn):en.intl.string(en.t.zqxfra),iconComponent:i?a.xjP:a.RZG,color:i?void 0:"green",onClick:()=>{(0,m.v)(n,m.d.STAGE_MUSIC,i),(0,q.v)(!i)}}):(0,r.jsx)(N.d,{isTrayButton:!0,isActive:s,label:s?en.intl.string(en.t.zqxfra):en.intl.string(en.t.ScHlfn),iconComponent:s?a.RZG:a.xjP,color:s?"green":void 0,onClick:()=>{(0,m.v)(n,m.d.STAGE_MUSIC,!s),(0,q.z)(!s)}})}let eu=i.memo(function(e){let{channel:t}=e,{parentAnalyticsLocation:n}=(0,u.ZP)(),{suppress:o,selfMute:s,mute:c}=(0,S.Z)(t),m=(0,G.B)(t.id),y=(0,l.e7)([b.Z],()=>null!=b.Z.getAwaitingRemoteSessionInfo()),{cameraUnavailable:C,enabled:x}=(0,O.Z)(),v=(0,E.Z)(t),{limit:N,reachedLimit:A}=(0,j.Z)(t),M=(0,l.e7)([U.default],()=>U.default.getCurrentUser()),L=(0,l.e7)([D.Z],()=>(0,_.Z)(D.Z)),B=(0,l.e7)([k.Z],()=>k.Z.getVoiceChannelId()===t.id,[t.id]),F=(0,l.e7)([d.Z],()=>d.Z.getStreamParticipants(t.id)[0],[t.id]),H=(0,W.PK)(t.id),V=N>0,z=A&&!H||null!=F&&F.user.id!==(null==M?void 0:M.id),q=(0,g.u)("AudioDeviceMenu",n,{entrypoint:et.A5.CARET}),Y=i.useRef(null),K=i.useRef(null);if(null==M)return null;let X=(0,r.jsx)(a.yRy,{targetElementRef:Y,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(T.Z,{children:(0,r.jsx)(h.Z,{onClose:t,minimal:!0,onInteraction:(0,g.u)("VideoDeviceMenu",n,{entrypoint:et.A5.CARET})})})},position:"top",align:"right",spacing:16,animation:a.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(R.C,{ref:Y,centerButton:!0,hasPermission:v,enabled:x,cameraUnavailable:C,onChange:I.r,onCameraUnavailable:Z.Z,channelLimitReached:A,channelLimit:N,popoutOpen:i,onPopoutClick:n})}});return(0,r.jsxs)("div",{className:er.wrapper,children:[B&&!o?(0,r.jsxs)("div",{className:er.buttonSection,children:[(0,r.jsx)(a.yRy,{targetElementRef:K,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(T.Z,{children:(0,r.jsx)(p.default,{onClose:t,renderInputDevices:!0,renderInputModes:!0,renderOutputDevices:!0,renderInputVolume:!0,renderOutputVolume:!0,renderDeafen:!0,minimal:!0,onInteraction:q})})},align:"right",position:"top",spacing:16,animation:a.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(w.Z,{ref:K,centerButton:!0,onPopoutClick:n,selfMute:s,serverMute:c,suppress:o,popoutOpen:i,onClick:()=>(0,f.Z)(c,o,"Stage Channel Controls"),awaitingRemote:y})}}),V&&X]}):null,(0,r.jsxs)("div",{className:er.buttonSection,children:[B&&!o&&V?(0,r.jsx)(I.NZ,{channel:t,currentUser:M,exitFullScreen:()=>null,canGoLive:L,hasPermission:v,disabled:z}):null,(0,r.jsx)(ec,{channelId:t.id}),B&&(0,r.jsx)(ei,{channel:t}),B&&m&&o&&(0,r.jsx)(ea,{channel:t}),B&&!o&&(0,r.jsx)(es,{channel:t}),(0,r.jsx)(P.Z,{channel:t})]}),(0,r.jsx)(eo,{channel:t})]})});function ed(e){let{channel:t}=e;return(0,r.jsxs)("div",{className:er.wrapper,children:[(0,r.jsx)("div",{className:er.buttonSection,children:(0,r.jsx)(ec,{channelId:t.id})}),(0,r.jsx)(eo,{channel:t})]})}let ep=i.memo(function(e){let{channel:t,isOnStartStageScreen:n}=e,i=(0,Q.Z)(t.id),a=(0,G.B)(t.id),o=(0,l.e7)([L.Z],()=>L.Z.can(H.yP,t),[t]),s=(0,J.Z)(t.id),c=(0,l.e7)([d.Z],()=>null!=t?d.Z.getSelectedParticipant(t.id):null),u=!s&&null==c;return n?(0,r.jsx)(ed,{channel:t}):i||a?(0,r.jsxs)("div",{className:er.containerColumn,children:[(0,r.jsxs)("div",{className:er.eventPrompts,children:[u?(0,r.jsx)(C.Z,{channelId:null==t?void 0:t.id}):null,(0,r.jsx)("div",{className:er.separator}),u&&o?(0,r.jsx)(x.Z,{highlight:!0,channel:t}):null,(0,r.jsx)("div",{className:er.separator})]}),(0,r.jsx)(eu,{channel:t})]}):(0,r.jsx)(el,{channel:t})})},766015:function(e,t,n){n.d(t,{Z:()=>o});var r,i=n(796075),l=n(481060),a=n(425462);let o=(0,l.v_l)(a.auto,a.fade,"",null!=(r=window.ResizeObserver)?r:i.d)},755515:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288),i=n(647438),l=n(450369),a=n(62219);let o=i.memo(function(e){let{channel:t,participants:n,tileWidth:i,selectedParticipant:o}=e;return(0,r.jsx)("div",{className:a.rowContainer,children:n.map(e=>e.id===(null==o?void 0:o.id)?null:(0,r.jsx)(l.Z,{channel:t,participant:e,width:i},e.id))})})},12779:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(194082),c=n(14338),u=n(982115);let d=i.memo(function(e){let{label:t,participantCount:n,onClick:i,className:l,collapsed:d,speakers:p,channel:h,isStreamLive:f}=e;return(0,r.jsxs)(o.P3F,{onClick:i,className:a()(u.container,l),children:[null==p?(0,r.jsx)(o.BFJ,{size:"custom",color:"currentColor",width:20,height:20,className:u.micIcon}):(0,r.jsx)(o.S6n,{size:"custom",color:"currentColor",width:20,height:20,className:u.micIcon}),(0,r.jsxs)(o.Text,{color:"header-primary",variant:"text-md/semibold",className:u.text,children:[t," — ",n]}),d&&null!=h&&null!=p&&p.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{channel:h,speakers:p}),f&&(0,r.jsx)(s.ZP,{})]}),(0,r.jsx)(o.CJ0,{size:"custom",color:"currentColor",width:20,height:20,className:a()(u.downIcon,{[u.upIcon]:d})})]})})},14338:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(239091),c=n(586902),u=n(40851),d=n(906732),p=n(795318),h=n(670188),f=n(237583),m=n(768581),g=n(374379);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function y(e){let{channel:t,speaker:l,className:f}=e,y=i.useRef(null),{newestAnalyticsLocation:C}=(0,d.ZP)(),x=(0,u.bp)(),{reducedMotion:v}=i.useContext(o.Sfi),O=(0,c.Z)({userId:l.id}),j=null!=l.member?(0,m.CA)(l.member):null,E=e=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return n=>(0,r.jsx)(e,_(b({},n),{user:l.user,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1,onInteraction:(0,p.u)("GuildChannelUserContextMenu",C)}))},{context:x})};return(0,r.jsx)(h.Z,{targetElementRef:y,user:l.user,guildId:t.guild_id,channelId:t.id,clickTrap:!0,children:e=>(0,r.jsx)(o.ua7,{targetElementRef:y,text:l.userNick,position:"bottom",children:n=>(0,r.jsx)(o.P3F,_(b({},n,e),{innerRef:y,onClick:t=>{t.stopPropagation(),e.onClick(t)},onContextMenu:E,children:(0,r.jsx)(o.qEK,{src:null!=j?j:l.user.getAvatarURL(t.guild_id,24),size:o.EFr.SIZE_24,className:a()(g.avatar,f),"aria-label":l.userNick,isSpeaking:O&&!v.enabled})}))})})}function C(e){let{speakers:t,channel:n}=e;return(0,r.jsx)(f.Z,{className:g.summary,guildId:n.guild_id,users:t,max:10,renderUser:(e,t,i)=>(0,r.jsx)(y,{channel:n,speaker:e,className:t},i),renderMoreUsers:(e,t,n)=>(0,r.jsx)("div",{className:a()(g.speakers,t),children:e},n)})}},450369:function(e,t,n){n.d(t,{Q:()=>k,Z:()=>F});var r=n(951288),i=n(647438),l=n(512722),a=n.n(l),o=n(990547),s=n(442837),c=n(481060),u=n(475179),d=n(239091),p=n(872810),h=n(40851),f=n(100527),m=n(906732),g=n(213609),b=n(358221),_=n(795318),y=n(258609),C=n(569545),x=n(102172),v=n(352978),O=n(880395),j=n(670188),E=n(199902),S=n(314897),I=n(430824),P=n(496675),Z=n(979651),T=n(88751),N=n(252132),A=n(248400),w=n(981631),R=n(354459),M=n(375767);function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let k=16/9,U=e=>{let{stageParticipant:t,rtcParticipant:n,channel:l,guildId:a,user:o,width:s,isModerator:u,onContextMenu:d,inPopout:p}=e,h=i.useRef(null),{reducedMotion:f}=i.useContext(c.Sfi),{blocked:m,ignored:g,id:b}=t;return(0,r.jsx)(j.Z,{targetElementRef:h,user:o,guildId:a,channelId:l.id,clickTrap:!0,children:e=>(0,r.jsx)(c.P3F,L(D({innerRef:h,onContextMenu:e=>d(n,e)},e),{children:(0,r.jsx)(N.Z,{participant:n,aspectRatio:k,blocked:m,ignored:g,channel:l,className:M.tile,inCall:!0,inPopout:p,pulseSpeakingIndicator:!f.enabled,width:s,onContextMenu:d,children:u&&(0,r.jsx)(A.Z,{})},b)}))})},B=e=>{let{stageParticipant:t,rtcParticipant:n,channel:l,width:a,isModerator:o,onContextMenu:d,inPopout:h}=e,{reducedMotion:f}=i.useContext(c.Sfi),{id:m,blocked:g,ignored:_}=t,O=(0,s.Wu)([E.Z],()=>E.Z.getAllActiveStreams(),[]),{selectedParticipant:j,largeStream:S}=(0,s.cj)([b.Z],()=>({selectedParticipant:null!=l?b.Z.getSelectedParticipant(l.id):null,largeStream:null!=l&&b.Z.getStageStreamSize(l.id)})),T=i.useCallback((e,t)=>{if(e.type===R.fO.STREAM&&0===O.filter(t=>(0,C.V9)(t)===e.id&&t.state!==w.jm8.ENDED).length){if(!(0,x.p9)(l,Z.Z,I.Z,P.Z,y.Z)[0])return;(0,p.rn)((0,C.my)(e.id),{forceMultiple:t.shiftKey})}(null==j?void 0:j.id)===e.id?S?(u.Z.selectParticipant(l.id,null),u.Z.updateStageStreamSize(l.id,!1)):u.Z.updateStageStreamSize(l.id,!0):(u.Z.updateStageStreamSize(l.id,!1),u.Z.selectParticipant(l.id,e.id))},[O,l,j,S]);return(0,r.jsx)(N.Z,{participant:n,aspectRatio:k,fit:n.type===R.fO.USER?v.L.COVER:void 0,blocked:g,ignored:_,channel:l,className:M.tile,inCall:!0,inPopout:h,onClick:T,onContextMenu:d,pulseSpeakingIndicator:!f.enabled,width:a,children:o&&n.type===R.fO.USER&&(0,r.jsx)(A.Z,{})},m)},F=i.memo(function(e){var t;let{participant:i,channel:l,width:c}=e,{newestAnalyticsLocation:u}=(0,m.ZP)(f.Z.STAGE_TILE),p=(0,h.bp)(),y=l.getGuildId(),C=S.default.getId();a()(null!=y,"Channel cannot be guildless");let{user:x}=i,v=(0,s.e7)([b.Z],()=>b.Z.getParticipant(l.id,i.id),[l.id,i.id]),j=(0,s.e7)([T.ZP],()=>T.ZP.isModerator(x.id,l.id),[l.id,x.id]);if(null==v||v.type===R.fO.ACTIVITY)return null;let E=e=>{(0,g.h)({type:o.ImpressionTypes.MENU,name:o.ImpressionNames.CALL_TILE_CONTEXT_MENU,properties:{location:"StageTile",is_tile_owner:x.id===C,tile_type:e}})},I=(e,t,i,a)=>{switch(e.type){case R.fO.HIDDEN_STREAM:case R.fO.STREAM:E(R.TH.STREAM),(0,d.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,r.jsx)(t,L(D({},n),{stream:e.stream,appContext:p,exitFullscreen:()=>{},onInteraction:(0,_.u)("StreamContextMenu",u,{entrypoint:a,targetUserId:x.id,tileType:R.TH.STREAM})}))},{context:p});return;case R.fO.USER:default:if(E(R.TH.USER),i)return(0,O.D)(t,x,l,{context:p},(e,t)=>(0,_.o)({menuName:e,menuItemProps:t,entrypoint:R.A5.THREE_DOT,targetUserId:x.id,location:u,tileType:R.TH.USER}));(0,d.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,L(D({},t),{user:x,guildId:y,channel:l,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1,onInteraction:(0,_.u)("GuildChannelUserContextMenu",u,{targetUserId:x.id,tileType:R.TH.USER})}))},{context:p})}};return v.type!==R.fO.USER||(null==(t=v.voiceState)?void 0:t.selfVideo)?(0,r.jsx)(B,{stageParticipant:i,rtcParticipant:v,channel:l,guildId:y,user:x,width:c,isModerator:j,onContextMenu:I,inPopout:p===w.IlC.POPOUT}):(0,r.jsx)(U,{stageParticipant:i,rtcParticipant:v,channel:l,guildId:y,user:x,width:c,isModerator:j,onContextMenu:I,inPopout:p===w.IlC.POPOUT})})},686468:function(e,t,n){n.d(t,{Z:()=>E});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(692547),c=n(481060),u=n(884338),d=n(688641),p=n(596449),h=n(459502),f=n(856691),m=n(357156),g=n(546247),b=n(496675),_=n(146085),y=n(979339),C=n(643632),x=n(388032),v=n(196979);function O(e){let{onClick:t,className:n}=e,i=c.S6n;return(0,r.jsx)(d.Z,{iconContainerClassName:a()({[v.continueIconContainer]:!1}),icon:(0,r.jsx)(i,{size:"custom",color:"currentColor",className:v.continueIcon,height:20,width:20}),color:s.Z.unsafe_rawColors.PRIMARY_700.css,title:x.intl.string(x.t.jMLfp6),description:x.intl.string(x.t["Vd/rER"]),onClick:t,className:n})}function j(e){let{channel:t}=e,{participants:n,usersInSummary:i}=(0,y.Z)(t.id);return(0,r.jsxs)("div",{className:v.audienceSummary,children:[(0,r.jsx)(u.ZP,{className:v.summaryItem,guildId:t.guild_id,users:i,size:u.u8.SIZE_16}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"header-secondary",children:function(e){if(0===e.length)return"";if(1===e.length)return x.intl.formatToPlainString(x.t["5ULgaW"],{first:e[0].userNick});if(2===e.length)return x.intl.formatToPlainString(x.t.BHK0Oj,{first:e[0].userNick,second:e[1].userNick});let t=e.length-2;return x.intl.formatToPlainString(x.t.T3MT4u,{first:e[0].userNick,second:e[1].userNick,numOthers:t})}(n)})]})}function E(e){let{channel:t,onContinueClick:n}=e,l=(0,o.e7)([b.Z],()=>b.Z.can(_.yP,t),[t]),s=t.guild_id,{canCreateGuildEvent:u}=(0,m.XJ)(t),d=(0,C.Z)(t.id),y=i.useRef(null);return(0,r.jsxs)("div",{className:v.container,ref:y,children:[(0,r.jsx)(g.Z,{eventTargetRef:y}),(0,r.jsxs)("div",{className:v.content,children:[(0,r.jsxs)("div",{className:v.headerContainer,children:[(0,r.jsx)(c.X6q,{className:v.__invalid_title,variant:"heading-xxl/normal",children:x.intl.string(x.t.QGnDLi)}),(0,r.jsx)(c.Text,{tag:"div",className:v.subtitle,variant:"heading-lg/normal",children:x.intl.string(x.t.djfK39)})]}),d?null:(0,r.jsx)(h.Z,{channelId:t.id}),l?(0,r.jsx)(f.Z,{className:v.eventPrompt,channel:t}):null,u?(0,r.jsx)(p.Z,{className:v.eventPrompt,guildId:s}):null,l?(0,r.jsx)(O,{className:a()({[v.eventPrompt]:!0}),onClick:n}):null,(0,r.jsx)(j,{channel:t})]})]})}},801405:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(442837),a=n(570140),o=n(475179),s=n(367907),c=n(906732),u=n(358221),d=n(522651),p=n(788983),h=n(268353),f=n(944486),m=n(626135),g=n(585483),b=n(358085),_=n(228488),y=n(981631);function C(e){let{channel:t,appContext:n,popoutOpen:C,popoutWindow:x,currentWindow:v}=e,{parentAnalyticsLocation:O}=(0,c.ZP)(),j=n===y.IlC.POPOUT,E=i.useRef(null),{currentLayout:S,mode:I}=(0,l.cj)([u.Z],()=>{let e=u.Z.getMode(t.id),r=n===y.IlC.POPOUT;r&&(e=y.WtW.VIDEO);let i=e===y.WtW.VIDEO?u.Z.getLayout(t.id,n):y.AEg.MINIMUM;return r&&i!==y.AEg.FULL_SCREEN&&(i=y.AEg.NO_CHAT),{currentLayout:i,mode:e}},[t,n]),P=(0,l.e7)([f.Z],()=>f.Z.getVoiceChannelId()===t.id,[t.id]);i.useEffect(()=>{E.current=I});let Z=i.useRef(S),{currentDocument:T,rootNode:N}=i.useMemo(()=>{let e=null!=x&&j?x.document:document,t=v.document.getElementById("app-mount");return{currentWindow:v,currentDocument:e,rootNode:t}},[x,j,v]),A=C&&!j,w=I===y.WtW.VIDEO&&P&&!A,R=i.useCallback((e,r)=>{r!==e&&(o.Z.updateLayout(t.id,r,n),r===y.AEg.FULL_SCREEN&&t.isPrivate()&&g.S.dispatch(y.CkL.TEXTAREA_BLUR))},[n,t]),M=i.useCallback(e=>{null!=N&&e===y.AEg.FULL_SCREEN&&(R(e,Z.current),(0,_.Pr)(e=>{Z.current=e},T))},[T,R,N]),D=i.useCallback(e=>()=>{null!=N&&((0,d.v)(O,d.d.FULL_SCREEN,e!==y.AEg.FULL_SCREEN),e!==y.AEg.FULL_SCREEN?(Z.current=e,R(e,y.AEg.FULL_SCREEN),(0,_.Dj)(N)):M(e))},[R,M,N,O]);i.useEffect(()=>{let e=()=>{null!=N&&((0,_.rB)(N,T)||S!==y.AEg.FULL_SCREEN||D(S)())};return T.addEventListener(_.NO,e),()=>{T.removeEventListener(_.NO,e)}},[T,S,D,N]);let L={channel:t,maybeLeaveFullScreen:M},k=i.useRef(L);return(i.useEffect(()=>{k.current=L}),i.useEffect(()=>{let{channel:e,maybeLeaveFullScreen:t}=k.current;return m.default.track(y.rMx.VIDEO_LAYOUT_TOGGLED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({video_layout:j?"popout":S},(0,s.AB)(e.id))),()=>{j&&(0,b.isMac)()||t(S)}},[S,j]),i.useEffect(()=>{null!=N&&E.current===y.WtW.VIDEO&&I===y.WtW.VOICE&&(0,_.Pr)(N,T)},[T,I,E,N]),i.useEffect(()=>{!P&&j&&a.Z.wait(()=>p.xv(y.KJ3.CHANNEL_CALL_POPOUT))},[P,j]),w)?(0,r.jsx)(h.Z,{themeable:!1,node:N,guestWindow:x,onClick:D(S)}):null}},903108:function(e,t,n){n.d(t,{Z:()=>p});var r=n(442837),i=n(358221),l=n(430824),a=n(496675),o=n(431328),s=n(501655),c=n(146085),u=n(368442),d=n(981631);function p(e){var t;let n=(0,r.e7)([i.Z],()=>i.Z.getStageVideoLimitBoostUpsellDismissed(e.id),[e.id]),p=(0,o.Io)(e.id),h=(0,o.Rk)(e.id,s.pV.AUDIENCE),f=(0,u.PK)(e.id),m=(0,r.e7)([l.Z],()=>l.Z.getGuild(e.guild_id),[e.guild_id]),g=(0,r.e7)([a.Z],()=>a.Z.can(c.yP,e),[e]),b=null!=(t=null==m?void 0:m.maxStageVideoChannelUsers)?t:0,_=!(null!=m&&m.features.has(d.oNc.COMMUNITY))&&b>d.RcX;return f&&!n&&g&&!_&&p+h>=b}},122707:function(e,t,n){n.d(t,{q:()=>l}),n(388685);var r=n(709054),i=n(765104);function l(e,t){var n;let l=null!=(n=i.Z.summaries(e))?n:[],a=0;for(let e of l)r.default.compare(e.endId,t)>0&&(a+=1);return a}},779836:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(202841),o=n(399606),s=n(481060),c=n(511010),u=n(446183),d=n(677281),p=n(765104),h=n(477291),f=n(531578),m=n(959517),g=n(388032),b=n(363350);function _(e){let{summary:t,channel:n}=e,i=(0,o.e7)([p.Z],()=>p.Z.summaryFeedback(t)),l=(e,r)=>{e.stopPropagation(),(0,h.Z)({summary:t,channel:n,rating:r})},c=(0,s.Yzy)(null==i,{enter:{from:{opacity:0},to:{opacity:1}},leave:{opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0}},"animate-always");return(0,r.jsx)(r.Fragment,{children:c((e,t)=>t?(0,r.jsx)("div",{className:b.summaryFeedbackWrapper,children:(0,r.jsxs)(a.animated.div,{style:e,className:b.summaryFeedback,children:[(0,r.jsx)(s.Text,{variant:"text-xs/medium",color:"interactive-normal",children:g.intl.string(g.t["5ZsiEx"])}),(0,r.jsx)(s.P3F,{onClick:e=>l(e,f.aZ.GOOD),children:(0,r.jsx)(d.Z,{className:b.thumbIcon,width:12,height:12})}),(0,r.jsx)(s.P3F,{onClick:e=>l(e,f.aZ.BAD),children:(0,r.jsx)(u.Z,{className:b.thumbIcon,width:12,height:12})})]})}):null)})}function y(e){var t,n;let i,{item:a,channel:u,index:d}=e,h=(0,o.e7)([p.Z],()=>p.Z.selectedSummary(u.id));if(null==h)return null;let f=null!=a.unreadId,g=null!=a.content;return i=g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.sVe,{size:"xs",color:"currentColor",className:b.summaryStartIcon}),a.content]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{summary:h,channel:u}),(0,r.jsx)(s.sVe,{size:"xs",color:"currentColor",className:b.summaryEndIcon})]}),(0,r.jsx)(c.Z,{className:l()(b.summaryDivider,g?b.summaryDividerStart:b.summaryDividerEnd),contentClassName:g?b.summaryStartContent:b.summaryEndContent,isUnread:f,id:f?m.j1:void 0,children:i},"divider-".concat(null!=(n=null!=(t=a.contentKey)?t:a.unreadId)?n:d))}},241309:function(e,t,n){n.d(t,{Gx:()=>s,Op:()=>c,T4:()=>o,V_:()=>a}),n(781311);var r=n(539573),i=n(388032);function l(e,t){return{type:e,message:null!=t?t:null}}function a(){return l(0,i.intl.string(i.t["uXA57+"]))}function o(){return l(0,i.intl.string(i.t.kesTVV))}function s(e,t){return l(1,(0,r.$q)(e,null==t?void 0:t.id))}function c(e,t){var n;return null==e||0===e.type&&null!=t.content&&t.content.trim().length>0?null:null!=(n=e.message)?n:null}},965376:function(e,t,n){n.d(t,{D:()=>h}),n(539854);var r=n(647438),i=n(442837),l=n(941028),a=n(493773),o=n(509848),s=n(485386),c=n(159299),u=n(231338),d=n(388032);let p=[];function h(e,t){(0,a.ZP)(()=>{(null==t?void 0:t.id)!=null&&(0,l.b8)(t.id,e,o.KV)});let n=(0,i.e7)([s.Z],()=>null!=t?s.Z.getSortedRoles(t.id):[]),{version:h,members:f}=(0,i.cj)([c.Z],()=>({version:c.Z.getMemberListVersion(e),members:c.Z.getMemberListSections(e)})),m=null==t,g=r.useMemo(()=>{if(m)return p;let e=n.filter(e=>e.hoist).map(e=>({id:e.id,label:e.name}));return e.push({id:u.Sk.ONLINE,label:d.intl.string(d.t.WbGtnJ)},{id:u.Sk.OFFLINE,label:d.intl.string(d.t.Vv0abG)}),e.map(e=>{var t,n;let{id:r,label:i}=e;return{label:i,userIds:null!=(n=null==f||null==(t=f[r])?void 0:t.userIds)?n:[],id:r,roleId:r}})},[n,f,h,m]);return null!=f?g:p}},657218:function(e,t,n){n.d(t,{Z:()=>K}),n(781311),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(430742),d=n(144144),p=n(240872),h=n(738619),f=n(561472),m=n(607070),g=n(100527),b=n(906732),_=n(541716),y=n(752305),C=n(893718),x=n(303628),v=n(313201),O=n(967128),j=n(665149),E=n(294218),S=n(913663),I=n(268350),P=n(695346),Z=n(592125),T=n(703558),N=n(375954),A=n(496675),w=n(117530),R=n(459273),M=n(838440),D=n(127654),L=n(241309),k=n(928477),U=n(456077),B=n(488131),F=n(842332),G=n(602034),H=n(981631),V=n(388032),z=n(757212),W=n(149623);function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let Y=_.Ie.THREAD_CREATION;function K(e){let{parentChannelId:t,parentMessageId:n,location:i}=e,l=(0,o.e7)([Z.Z],()=>Z.Z.getChannel(t)),{analyticsLocations:a}=(0,b.ZP)(g.Z.CREATE_THREAD);return null==l?null:(0,r.jsx)(b.Gt,{value:a,children:(0,r.jsx)(R.I3,{children:(0,r.jsxs)("section",{"aria-label":V.intl.string(V.t.rBIGBA),className:z.container,children:[(0,r.jsx)(f.Z,{channel:l,draftType:T.d.FirstThreadMessage}),(0,r.jsx)(X,{parentChannelId:t}),(0,r.jsx)(Q,{parentChannel:l,parentMessageId:n,location:i})]})})})}function X(e){let{parentChannelId:t}=e,n=i.useCallback(()=>{let e=T.Z.getThreadSettings(t),n=T.Z.getDraft(t,T.d.FirstThreadMessage).trim(),r=w.Z.getUploads(t,T.d.FirstThreadMessage);if((null==e?void 0:e.name)!=null&&(null==e?void 0:e.name)!==""||0!==n.length||0!==r.length)return void p.Z.show({title:V.intl.string(V.t["6kDZh4"]),body:V.intl.string(V.t.NgS9jY),confirmColor:s.Tt.RED,confirmText:V.intl.string(V.t["7WGI4O"]),confirmVariant:"critical-primary",cancelText:V.intl.string(V.t.olcKd3),onConfirm:()=>{(0,B.NK)(t)}});(0,B.NK)(t)},[t]);return(0,r.jsxs)(j.ZP,{toolbar:(0,r.jsx)(j.ZP.Icon,{icon:c.Dio,tooltip:V.intl.string(V.t.cpT0Cg),onClick:n}),children:[(0,r.jsx)(j.ZP.Icon,{icon:c.or_,disabled:!0,"aria-label":V.intl.string(V.t["7Xm5QE"])}),(0,r.jsx)(j.ZP.Title,{children:V.intl.string(V.t["4WNcpq"])})]})}function Q(e){let{parentChannel:t,parentMessageId:n,location:l}=e,s=(0,o.e7)([m.Z],()=>m.Z.messageGroupSpacing),d=function(){let e=i.useContext(R.oo);return i.useCallback(()=>{e.bumpDispatchPriority()},[e])}(),{threadSettings:p,setThreadSettings:f,updateThreadSettings:g}=function(e,t){let n=(0,o.e7)([T.Z],()=>{var t;return null!=(t=T.Z.getThreadSettings(e.id))?t:{}},[e.id]),[r,l]=i.useState(n),a=i.useCallback(n=>{var r,i;l(e=>q({},e,n)),u.Z.changeThreadSettings(e.id,(r=q({},n),i=i={parentMessageId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r))},[e.id,t]);return{threadSettings:r,setThreadSettings:l,updateThreadSettings:a}}(t,n),{textAreaState:b,setTextAreaState:_}=function(e,t){let[n,r]=i.useState((0,y.H2)());return i.useEffect(()=>{function n(n){var i;let l=T.Z.getDraft(e.id,T.d.FirstThreadMessage);(0===l.length||!0===n)&&r((0,y.eK)(l)),t(null!=(i=T.Z.getThreadSettings(e.id))?i:{})}return n(!0),T.Z.addChangeListener(n),()=>{T.Z.removeChangeListener(n)}},[e.id,t]),{textAreaState:n,setTextAreaState:r}}(t,f),C=(0,k.vH)(t),{isGeneratingAI:x,enableAIFeatures:v,renderAiGenerateButton:j}=(0,F.U)({parentChannel:t,parentMessageId:n,updateThreadSettings:g,threadSettings:p,textAreaState:b}),{nameError:E,messageError:P,submit:Z,submitting:N}=function(e){let{parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:l,textAreaState:a,location:o,enableAIFeatures:s}=e,[c,u]=i.useState(null),[d,p]=i.useState(null),[h,f]=i.useState(!1),m=(0,G.Z)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:l,location:o,onThreadCreated:B.ok,useDefaultThreadName:!0});return{nameError:c,messageError:d,submit:i.useCallback(async(e,i,l)=>{var o,c,d;if(h)return{shouldClear:!1,shouldRefocus:!1};f(!0),null==e&&(e=a.textValue),e=e.trim(),(null==i||0===i.length)&&(i=null==(o=S.Z.getStickerPreview(t.id,Y.drafts.type))?void 0:o.map(e=>e.id)),(null==l||0===l.length)&&(l=w.Z.getUploads(t.id,T.d.FirstThreadMessage));let g=null!=(c=r.name)?c:"",b=(s||null==n)&&0===g.length,_=""===e&&(null==i||0===i.length)&&0===l.length;if(u(b?(0,L.V_)():null),p(_?(0,L.T4)():null),b||_)return f(!1),{shouldClear:!1,shouldRefocus:!0};if(null==n){let{valid:n}=await (0,M.v)({content:e,stickers:i,uploads:l,type:Y,channel:t});if(!n)return f(!1),{shouldClear:!1,shouldRefocus:!0}}try{await m(e,i,l)}catch(e){return(null==(d=e.body)?void 0:d.code)===H.evJ.AUTOMOD_TITLE_BLOCKED&&u((0,L.Gx)(e.body,t)),f(!1),{shouldClear:!1,shouldRefocus:!0}}return(0,I.qB)(t.id,Y.drafts.type),f(!1),{shouldClear:!0,shouldRefocus:!1}},[m,a.textValue,r.name,n,t,h,s]),submitting:h}}({parentChannel:t,parentMessageId:n,threadSettings:p,privateThreadMode:C,textAreaState:b,location:l,enableAIFeatures:v}),A=(0,k.oD)(p,C)?c.qtY:c.or_;return(0,r.jsx)("div",{className:z.chat,onMouseDown:d,onFocus:d,children:(0,r.jsx)("div",{className:a()(z.messagesWrapper,"group-spacing-".concat(s)),children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Z()},className:z.form,children:[(0,r.jsx)(c.Ttm,{className:z.scroller,fade:!0,children:(0,r.jsxs)("div",{className:z.scrollerInner,children:[(0,r.jsxs)(O.ZP,{channelId:"create-thread-null",children:[(0,r.jsx)("div",{className:W.iconWrapper,children:(0,r.jsx)(A,{className:W.icon})}),(0,r.jsx)($,{parentChannel:t,parentMessageId:n,threadSettings:p,updateThreadSettings:g,error:E,disabled:N,isGeneratingAI:x,enableAIFeatures:v,renderAiGenerateButton:j}),t.type===H.d4z.GUILD_TEXT?(0,r.jsx)(J,{startedFromMessage:null!=n,threadSettings:p,updateThreadSettings:g,privateThreadMode:C}):null]}),(0,r.jsx)(et,{parentChannel:t,parentMessageId:n})]})}),(0,r.jsxs)("div",{className:z.submitContainer,children:[(0,r.jsx)(ee,{parentChannel:t,textAreaState:b,setTextAreaState:_,submit:Z,error:P}),(0,r.jsx)(h.ZP,{channel:t,isThreadCreation:!0,className:z.typingIndicator,isInTextChannel:!0})]})]})})})}function J(e){let{startedFromMessage:t,threadSettings:n,updateThreadSettings:i,privateThreadMode:l}=e,a=(0,k.oD)(n,l),o=(0,r.jsx)("div",{className:z.privateThreadFormTitle,children:(0,r.jsx)("span",{className:z.privateThreadFormTitleText,children:V.intl.string(V.t.F1zyvb)})}),s=(0,r.jsx)(c.XZJ,{className:z.checkbox,type:c.XZJ.Types.INVERTED,disabled:l===k.Jw.PrivateOnly,value:a,onChange:(e,t)=>i({isPrivate:t}),children:(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"none",children:V.intl.string(V.t.TRPp3t)})});return t||l===k.Jw.Disabled?null:(0,r.jsxs)(c.hjN,{title:o,className:z.formSection,children:[s,a?(0,r.jsx)(c.Text,{className:z.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary",children:V.intl.string(V.t.EWXyc3)}):null]})}function $(e){var t;let{parentChannel:n,parentMessageId:i,threadSettings:l,updateThreadSettings:o,error:u,disabled:p,isGeneratingAI:h,enableAIFeatures:f,renderAiGenerateButton:m}=e,g=null!=(t=l.name)?t:"",b=(0,L.Op)(u,{content:g}),_=(0,k.Od)(n,i),y=null!=i&&!f,C=(0,v.Dt)(),x=f?V.intl.string(V.t["Nb2/RE"]):""!==_?_:V.intl.string(V.t["Nb2/RE"]);return(0,r.jsx)(c.hjN,{tag:"label",htmlFor:C,title:V.intl.string(y?V.t.JPvIiI:V.t.j3XWjI),className:z.formSection,children:(0,r.jsxs)("div",{className:z.threadNameContainer,children:[(0,r.jsx)(s.Is,{value:g,id:C,placeholder:x,maxLength:H.HN8,onChange:e=>{o({name:(0,U.Z)(e,!1)}),""!==e?d.Z.startTyping(n.id):d.Z.stopTyping(n.id)},onBlur:()=>{let e=(0,U.Z)(g,!0);e!==g&&o({name:e})},error:b,disabled:p||h,inputClassName:a()({[z.threadNameInputWithAI]:f})}),m(p)]})})}function ee(e){let{parentChannel:t,textAreaState:n,setTextAreaState:l,submit:s,error:p}=e,[h,f]=i.useState(!0),m=i.useCallback(()=>f(!0),[]),g=i.useCallback(()=>f(!1),[]),b=i.useCallback((e,n,r)=>{u.Z.saveDraft(t.id,n,T.d.FirstThreadMessage),l(e=>(""!==n&&e.textValue!==n?d.Z.startTyping(t.id):""===n&&d.Z.stopTyping(t.id),{textValue:n,richValue:r}))},[t.id,l]),_=i.useCallback(e=>{let{value:t,uploads:n,stickers:r}=e;return s(t,r,n)},[s]);(0,R.yp)({event:H.CkL.TEXTAREA_FOCUS,handler:m}),(0,R.yp)({event:H.CkL.TEXTAREA_BLUR,handler:g});let y=(0,o.e7)([A.Z],()=>A.Z.can(H.Plq.ATTACH_FILES,t)),v=(0,L.Op)(p,{content:n.textValue});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{channelId:t.id,type:Y,canAttachFiles:y}),(0,r.jsx)("div",{className:z.starterMessageError,children:(0,r.jsx)(c.pdY,{error:v})}),(0,r.jsx)(C.ZP,{type:Y,channel:t,placeholder:V.intl.string(V.t.taZfIC),textValue:n.textValue,richValue:n.richValue,focused:h,className:a()(z.channelTextArea,z.channelTextAreaWithTypingIndicator),innerClassName:a()(z.channelTextAreaInner,{[z.channelTextAreaInnerError]:null!=v}),onFocus:m,onBlur:g,onChange:b,onSubmit:_,promptToUpload:D.d5})]})}function et(e){let{parentChannel:t,parentMessageId:n}=e,i=(0,o.e7)([N.Z],()=>null==n?null:N.Z.getMessage(t.id,n)),l=P.jU.useSetting();return null!=i?(0,r.jsx)(E.Z,{className:z.messagePreview,message:i,channel:t,compact:l,renderThreadAccessory:!1,trackAnnouncementViews:!0}):null}},407908:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(481060),a=n(40851),o=n(549879),s=n(109590),c=n(189432),u=n(665149),d=n(359110),p=n(626135),h=n(981631),f=n(50493),m=n(388032),g=n(764295);function b(e){var t,n;let{channel:b}=e,_=i.useContext(p.AnalyticsContext),y=(0,a.Aq)(),C=m.intl.string(g.default["Beo/7u"]),{firstMessage:x}=(0,s.cl)(b),v=null==x||null==(t=x.messageSnapshots)?void 0:t[0],O=null==v||null==(n=v.moderatorReport)?void 0:n.reported_user_id;return b.isModeratorReportChannel()&&null!=O?(0,r.jsx)(u.ZP.Icon,{onClick:()=>{(0,d.Kh)(b.id),(0,o.i)(),(0,c.r)(b.guild_id,O,b.id,{modViewPanel:f.k.INFO,sourceLocation:null!=location?location:_.location}),y.dispatch(h.CkL.POPOUT_CLOSE)},tooltip:C,icon:l.HI3,"aria-label":C}):null}},66556:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(622822),s=n(665149),c=n(731290),u=n(594174),d=n(91159),p=n(593130),h=n(388032),f=n(568592);function m(e){let{channel:t}=e,[n,m]=i.useState(!1),g=i.useRef(null),b=(0,l.e7)([c.Z,u.default],()=>{let e=u.default.getCurrentUser();return null==e||(0,o.aC)(t)&&(!e.nsfwAllowed||!c.Z.didAgree(t.getGuildId()))},[t]),_=i.useCallback(()=>{m(!1)},[]),y=i.useCallback(()=>{n||(0,d.U4)("Popout"),m(!n)},[n]);return(0,r.jsx)(a.yRy,{targetElementRef:g,animation:a.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,shouldShow:n,onRequestClose:_,renderPopout:function(){return(0,r.jsx)(a.VqE,{children:(0,r.jsx)(p.Z,{className:f.browser,channel:t,onClose:_})})},clickTrap:!0,children:(e,t)=>{var n,i;let{isShown:l}=t;return(0,r.jsx)(s.JO,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={ref:g,className:f.icon,onClick:y,icon:a.or_,"aria-label":h.intl.string(h.t.B2panJ),tooltip:l?null:h.intl.string(h.t.B2panJ),disabled:b,selected:l},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},359565:function(e,t,n){n.d(t,{q:()=>y,s:()=>_});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(755721),s=n(481060),c=n(367907),u=n(626135),d=n(346479),p=n(665906),h=n(981631),f=n(388032),m=n(856426);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function _(e){let{channel:t,narrow:n}=e,l=(0,p.tc)(t);return i.useEffect(()=>{u.default.track(h.rMx.CHANNEL_BANNER_VIEWED,b(g({},(0,c.hH)(t.getGuildId()),(0,c.v_)(t)),{banner_type:"thread"}))},[t]),(0,r.jsxs)("div",{className:a()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,r.jsx)(s.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?f.intl.string(f.t["833FDg"]):f.intl.string(f.t.rEeodH)}),l?(0,r.jsx)(o.zx,{size:n?o.zx.Sizes.SMALL:o.zx.Sizes.TINY,className:m.chatHeaderBarButton,color:o.zx.Colors.PRIMARY,onClick:()=>{u.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,b(g({},(0,c.hH)(t.getGuildId()),(0,c.v_)(t)),{banner_type:"thread",cta_type:"unarchive"})),d.Z.unarchiveThread(t,!1)},children:f.intl.string(f.t["0dvvEh"])}):null]})}function y(e){let{channel:t,narrow:n}=e,l=(0,p.Xb)(t);return i.useEffect(()=>{u.default.track(h.rMx.CHANNEL_BANNER_VIEWED,b(g({},(0,c.hH)(t.getGuildId()),(0,c.v_)(t)),{banner_type:"thread"}))},[t]),(0,r.jsxs)("div",{className:a()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,r.jsx)(s.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?f.intl.string(f.t.E7oO8v):f.intl.string(f.t["V/JF2N"])}),l?(0,r.jsx)(o.zx,{size:n?o.zx.Sizes.SMALL:o.zx.Sizes.TINY,className:m.chatHeaderBarButton,color:o.zx.Colors.PRIMARY,onClick:()=>{u.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,b(g({},(0,c.hH)(t.getGuildId()),(0,c.v_)(t)),{banner_type:"thread",cta_type:"unlock"})),d.Z.unlockThread(t)},children:f.intl.string(f.t.zA9d1N)}):null]})}},131694:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(665149),o=n(585483),s=n(723170),c=n(64247),u=n(124368),d=n(981631),p=n(388032);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function m(e){let{channel:t}=e,n=(0,s.B)(t),[m,g]=i.useState(!1),b=i.useRef(null);i.useEffect(()=>{let e=()=>g(!0);return o.S.subscribe(d.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{o.S.unsubscribe(d.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let _=p.intl.string(p.t.h850Sk);return(0,r.jsx)(l.yRy,{targetElementRef:b,shouldShow:m,animation:l.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>g(!1),renderPopout:e=>(0,r.jsx)(c.Z,f(h({},e),{channel:t,navId:"thread-context",label:p.intl.string(p.t["1NBjqa"])})),children:(e,t)=>{let{isShown:i}=t;return(0,r.jsx)(a.ZP.Icon,f(h({},e),{ref:b,onClick:()=>g(e=>!e),tooltip:i?null:_,icon:n===u.iN.NO_MESSAGES?l.owu:l.Dkj,"aria-label":_,selected:i}))}})}},64247:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(438536),a=n(214906),o=n(346479),s=n(723170),c=n(124368);function u(e){let{channel:t,closePopout:n,onSelect:u,navId:d,label:p}=e,h=(0,l.Z)(t,"Notifications Bell"),f=(0,a.Z)(t),m=(0,s.B)(t);return(0,r.jsxs)(i.v2r,{navId:d,onClose:n,"aria-label":p,onSelect:u,children:[(0,r.jsxs)(i.kSQ,{children:[t.isForumPost()?h:null,f]}),(0,r.jsx)(i.kSQ,{children:(0,c.zb)().map(e=>{let{setting:n,label:l}=e;return(0,r.jsx)(i.k5B,{group:"thread-notifications",id:"".concat(n),label:l,action:()=>o.Z.setNotificationSettings(t,{flags:n}),checked:n===m},n)})})]})}},377929:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(32750),u=n(109764),d=n(323597),p=n(438536),h=n(251746),f=n(193987),m=n(933793),g=n(13736),b=n(732393),_=n(137591),y=n(299206),C=n(665149),x=n(695346),v=n(979651),O=n(488131),j=n(388032);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function I(e){let{channel:t}=e,[n,l]=i.useState(!1),a=i.useRef(null);function o(){l(e=>!e)}let c=j.intl.string(j.t.UKOtz8);return(0,r.jsx)(s.yRy,{targetElementRef:a,shouldShow:n,animation:s.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>l(!1),renderPopout:function(e){return(0,r.jsx)(P,S(E({},e),{channel:t}))},children:(e,t)=>{let{isShown:n}=t;return(0,r.jsx)(C.ZP.Icon,S(E({},e),{ref:a,onClick:o,tooltip:n?null:c,icon:s.xhG,"aria-label":c,selected:n}))}})}function P(e){let{channel:t,closePopout:n,onSelect:i}=e,l=(0,c.Z)(t),C=(0,f.Z)(t),E=(0,b.Z)(t.id),S=(0,g.Z)(t),I=(0,y.Z)({id:t.id,label:j.intl.string(j.t.DQ797u)}),P=(0,u.Z)(t),Z=(0,d.Z)(t),T=(0,p.Z)(t,"Toolbar Overflow"),N=(0,m.Z)(t),A=(0,h.Z)(t),w=(0,_.Z)(t),R=x.vF.useSetting(),M=(0,o.e7)([v.Z],()=>!a().isEmpty(v.Z.getVoiceStatesForChannel(t.id)));return(0,r.jsxs)(s.v2r,{navId:"thread-context",onClose:n,"aria-label":j.intl.string(j.t["1NBjqa"]),onSelect:i,children:[(0,r.jsxs)(s.kSQ,{children:[T,A]}),(0,r.jsxs)(s.kSQ,{children:[S,N,E,R&&!M?(0,r.jsx)(s.sNh,{id:"open",label:j.intl.string(j.t.bX7EaG),action:function(){(0,O.ok)(t)}}):null]}),(0,r.jsxs)(s.kSQ,{children:[w,l,C,Z]}),(0,r.jsxs)(s.kSQ,{children:[P,I]})]})}},664342:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(32750),o=n(109764),s=n(323597),c=n(438536),u=n(193987),d=n(933793),p=n(13736),h=n(732393),f=n(214906),m=n(612856),g=n(137591),b=n(299206),_=n(727429),y=n(665149),C=n(359110),x=n(585483),v=n(407908),O=n(131694),j=n(488131),E=n(981631),S=n(388032);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(e){let{channel:t}=e,[n,a]=i.useState(!1),o=i.useRef(null);function s(){a(e=>!e)}let c=S.intl.string(S.t.UKOtz8);return(0,r.jsx)(l.yRy,{targetElementRef:o,shouldShow:n,animation:l.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>a(!1),renderPopout:function(e){return(0,r.jsx)(T,P(I({},e),{channel:t}))},children:(e,t)=>{let{isShown:n}=t;return(0,r.jsx)(y.ZP.Icon,P(I({},e),{ref:o,onClick:s,tooltip:n?null:c,icon:l.xhG,"aria-label":c,selected:n}))}})}function T(e){let{channel:t,closePopout:n,onSelect:i}=e,_=(0,c.Z)(t,"Sidebar Overflow"),y=(0,d.Z)(t),v=(0,f.Z)(t),O=(0,m.Z)(t),j=(0,a.Z)(t),I=(0,u.Z)(t),P=(0,h.Z)(t.id),Z=(0,p.Z)(t),T=(0,s.Z)(t),N=(0,o.Z)(t),A=(0,b.Z)({id:t.id,label:S.intl.string(S.t.DQ797u)}),w=(0,g.Z)(t);function R(){(0,C.Kh)(t.id)}return(0,r.jsxs)(l.v2r,{navId:"thread-context",onClose:n,"aria-label":S.intl.string(S.t["1NBjqa"]),onSelect:i,children:[(0,r.jsxs)(l.kSQ,{children:[_,(0,r.jsx)(l.sNh,{id:"open",label:S.intl.string(S.t.IxVmZm),action:R})]}),(0,r.jsxs)(l.kSQ,{children:[v,O]}),(0,r.jsxs)(l.kSQ,{children:[Z,y,P]}),(0,r.jsxs)(l.kSQ,{children:[(0,r.jsx)(l.sNh,{id:"search",label:S.intl.string(S.t["5h0QOD"]),icon:l.rgF,action:function(){R(),setTimeout(()=>{x.S.dispatch(E.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!1})},2e3)}}),(0,r.jsx)(l.sNh,{id:"pins",label:S.intl.string(S.t["2BSH7u"]),icon:l.rgF,action:function(){R(),x.S.dispatch(E.CkL.TOGGLE_CHANNEL_PINS)}})]}),(0,r.jsxs)(l.kSQ,{children:[w,j,I,T]}),(0,r.jsxs)(l.kSQ,{children:[N,A]})]})}function N(e){let{channel:t,baseChannelId:n}=e;return(0,r.jsxs)(r.Fragment,{children:[t.isForumPost()?null:(0,r.jsx)(O.Z,{channel:t}),t.isModeratorReportChannel()?(0,r.jsx)(v.Z,{channel:t}):null,(0,r.jsx)(Z,{channel:t}),(0,r.jsx)(y.ZP.Icon,{icon:l.Dio,tooltip:S.intl.string(S.t.cpT0Cg),onClick:()=>(0,j.vN)((0,_.e)(t),null!=n?n:t.parent_id)})]})}},900157:function(e,t,n){n.d(t,{Z:()=>N});var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(570140),c=n(239091),u=n(561472),d=n(367907),p=n(731429),h=n(188471),f=n(933557),m=n(287746),g=n(541716),b=n(665149),_=n(910611),y=n(359110),C=n(592125),x=n(703558),v=n(430824),O=n(979651),j=n(664342),E=n(124368),S=n(981631),I=n(388032),P=n(952899);function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function N(e){let{channelId:t,baseChannelId:l,channelViewSource:N="Split View"}=e,A=(0,o.e7)([C.Z],()=>C.Z.getChannel(t)),w=(0,o.e7)([v.Z],()=>v.Z.getGuild(null==A?void 0:A.getGuildId())),R=(0,f.ZP)(A);var M=A;let D=(0,o.e7)([O.Z],()=>null!=M&&!a().isEmpty(O.Z.getVoiceStatesForChannel(M.id)));i.useEffect(()=>{D&&null!=M&&(s.Z.dispatch({type:"SIDEBAR_CLOSE",baseChannelId:M.parent_id}),(0,y.ad)(M,{source:E.on.VOICE_AUTO_OPEN}))},[D,M]);let L=i.useRef(!1);if(i.useEffect(()=>{if(null==A||L.current)return;L.current=!0;let e=(0,p.K)(C.Z.getChannel(A.id),!0);(0,d.yw)(S.rMx.CHANNEL_OPENED,T(Z({},e,(0,d.$H)(A.id)),{channel_view:N})),(0,h.a)(S.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:A.id})},[A,N]),null==A||null==w)return null;let k=(0,r.jsx)(j.Z,{channel:A,baseChannelId:l});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{channel:A,draftType:x.d.ChannelMessage}),(0,r.jsx)(b.ZP,{toolbar:k,"aria-label":I.intl.string(I.t.Pwe8tL),children:(0,_.ud)({channel:A,channelName:R,guild:w,inSidebar:!0,handleContextMenu:function(e){(0,c.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,r.jsx)(e,T(Z({},t),{channel:A}))})},handleClick:function(){null!=A&&(0,y.Kh)(A.id)}})}),(0,r.jsx)("div",{className:P.chat,children:(0,r.jsx)(m.Z,{channel:A,guild:w,chatInputType:g.Ie.SIDEBAR},t)})]})}},842332:function(e,t,n){n.d(t,{U:()=>p}),n(388685),n(781311);var r=n(951288),i=n(647438),l=n(544891),a=n(481060),o=n(466721),s=n(375954),c=n(981631),u=n(388032);async function d(e){try{var t,n;let r=await l.tn.post({url:c.ANM.AI_TITLE,body:{content:e},oldFormErrors:!0,rejectWithError:!1});return r.ok&&null!=(n=null==(t=r.body)?void 0:t.title)?n:null}catch(e){return null}}function p(e){let{parentChannel:t,parentMessageId:n,updateThreadSettings:l,threadSettings:c,textAreaState:p}=e,[h,f]=i.useState(!1),[m,g]=i.useState(!1),{enableAIFeatures:b}=o.C.useExperiment({location:"CreateThreadSidebar"}),_=i.useCallback(async()=>{if(b){f(!0);try{let r=null;if(null!=n){var e;let i=s.Z.getMessage(t.id,n);r=null!=(e=null==i?void 0:i.content)?e:null}else p.textValue.trim().length>=10&&(r=p.textValue);if(null!=r){let e=await d(r);null!=e&&""!==e.trim()&&l({name:e})}}finally{f(!1)}}},[t.id,n,l,b,p.textValue]);i.useEffect(()=>{g(!1),f(!1),t.id===c.parentChannelId&&n!==c.parentMessageId&&l({name:""})},[n,l,t.id,c.parentChannelId,c.parentMessageId]),i.useEffect(()=>{(null==c.name||""===c.name.trim())&&!m&&b&&null!=n&&(g(!0),_())},[t.id,n,l,c.name,m,b,_]);let y=i.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return b?(0,r.jsx)(a.ua7,{text:u.intl.string(u.t.ZF2oBg),children:t=>{var i,l;return(0,r.jsx)(a.hU,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),l=l={icon:a.$2U,variant:"secondary",size:"sm","aria-label":u.intl.string(u.t.ZF2oBg),onClick:_,disabled:e||h||null==n&&p.textValue.trim().length<10,loading:h,type:"button"},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}}):null},[b,h,n,p.textValue,_]);return{isGeneratingAI:h,generateAIName:_,enableAIFeatures:b,renderAiGenerateButton:y}}},602034:function(e,t,n){n.d(t,{Z:()=>b,r:()=>y});var r=n(647438),i=n(524825),l=n(430742),a=n(904245),o=n(166459),s=n(531643),c=n(680287),u=n(470623),d=n(957730),p=n(703558),h=n(117530),f=n(928477),m=n(959517),g=n(388032);function b(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:c,location:u,onThreadCreated:b,useDefaultThreadName:_}=e,y=r.useCallback((e,t,n,r)=>{a.Z.sendMessage(e.id,d.ZP.parse(e,n),void 0,{eagerDispatch:!1,location:m.dy.THREAD_CREATION,stickerIds:r,attachmentsToUpload:t,onAttachmentUploadError:(r,i,a,c)=>{var u;(0,s.openUploadError)({title:g.intl.string(g.t.B3vFdX),help:null!=(u=null==c?void 0:c.message)?u:g.intl.string(g.t.zMEjJi)}),""!==n&&""===p.Z.getDraft(e.id,p.d.FirstThreadMessage)&&l.Z.saveDraft(e.id,n,p.d.FirstThreadMessage),0===h.Z.getUploadCount(e.id,p.d.FirstThreadMessage)&&o.Z.setUploads({channelId:e.id,uploads:t,draftType:p.d.FirstThreadMessage})}})},[]);return(0,f.JA)({parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:c,location:u,onThreadCreated:b,useDefaultThreadName:_,uploadHandler:y})}async function _(e){let t=new c.Z,n=await t.uploadFiles(e);return{uploaderFile:t._file,files:n}}function y(e){let{parentChannel:t}=e,{name:n,appliedTags:r}=(0,u.xH)(e=>{let{name:t,appliedTags:n}=e;return{name:t,appliedTags:n}},i.X);return(0,f.Wj)({parentChannel:t,name:n,appliedTags:r,upload:_})}},113570:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(123305),l=n(192029),a=n(527119);function o(){return(0,r.jsx)("div",{className:i.container,children:(0,r.jsxs)("svg",{width:"224",height:"148",viewBox:"0 0 224 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0.5 33.5H223.5V140C223.5 144.142 220.142 147.5 216 147.5H8C3.85786 147.5 0.5 144.142 0.5 140V33.5Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("circle",{cx:"28",cy:"120",r:"16",fill:"url(#tutorial-media-channels-image1)"}),(0,r.jsx)("path",{d:"M62.104 116L61.468 107.72H59.488L57.4 113.96L55.3 107.72H53.284L52.648 116H54.076L54.496 109.892L56.584 116.024H58L60.076 109.892L60.52 116H62.104ZM65.7704 111.08C66.4664 111.08 66.8264 111.584 66.9224 112.484H64.6064C64.7144 111.548 65.1944 111.08 65.7704 111.08ZM68.3144 115.412L68.1464 114.284C67.5104 114.728 66.8984 115.004 66.1544 115.004C65.2664 115.004 64.6544 114.512 64.5944 113.384H68.3144C68.3144 113.3 68.3264 113.156 68.3264 113.036C68.3264 111.392 67.5464 110.084 65.8064 110.084C64.2944 110.084 63.1664 111.224 63.1664 113.108C63.1664 115.196 64.3784 116.12 65.9984 116.12C66.9344 116.12 67.6904 115.844 68.3144 115.412ZM72.6338 112.088C72.6338 112.724 72.2498 113.192 71.6138 113.192C70.9898 113.192 70.6058 112.736 70.6058 112.136C70.6058 111.5 70.9778 111.008 71.6138 111.008C72.2258 111.008 72.6338 111.476 72.6338 112.088ZM74.6858 116.24C74.6858 115.352 73.9418 114.98 72.7538 114.812L72.0098 114.74C71.1098 114.608 70.9298 114.56 70.9298 114.368C70.9298 114.272 71.0258 114.164 71.1698 114.056C71.3138 114.08 71.4698 114.092 71.6378 114.092C72.8858 114.092 73.9538 113.348 73.9538 112.1C73.9538 111.836 73.9058 111.572 73.7978 111.344L74.8538 111.272L74.6618 110.12L73.2458 110.624C72.8258 110.276 72.2738 110.084 71.6018 110.084C70.3058 110.084 69.2738 110.864 69.2738 112.136C69.2738 112.904 69.6818 113.504 70.3658 113.828C69.8858 114.116 69.6338 114.428 69.6338 114.752C69.6338 114.98 69.7418 115.196 69.9698 115.376C69.2498 115.784 68.8778 116.204 68.8778 116.744C68.8778 117.704 70.0658 118.184 71.6378 118.184C73.3178 118.184 74.6858 117.488 74.6858 116.24ZM71.7338 117.332C70.6418 117.332 70.1258 117.02 70.1258 116.588C70.1258 116.288 70.3178 116.012 70.7378 115.712C71.0258 115.772 71.2058 115.808 71.6018 115.856L72.3818 115.952C73.1018 116.06 73.3538 116.24 73.3538 116.552C73.3538 116.984 72.7658 117.332 71.7338 117.332ZM78.8219 114.404C78.4259 114.788 77.9579 115.028 77.4659 115.028C77.0219 115.028 76.7579 114.776 76.7579 114.356C76.7579 113.804 77.1539 113.312 78.8219 113.108V114.404ZM80.2619 116V112.028C80.2619 110.636 79.5179 110.084 78.0179 110.084C77.0939 110.084 76.3859 110.288 75.7139 110.552L75.8939 111.704C76.5179 111.428 77.1539 111.236 77.8259 111.236C78.4619 111.236 78.8219 111.476 78.8219 112.1V112.268C76.4819 112.496 75.3299 113.108 75.3299 114.512C75.3299 115.52 75.9899 116.12 76.9739 116.12C77.8379 116.12 78.4379 115.736 78.9059 115.244L79.0259 116H80.2619ZM86.633 116V111.824C86.633 110.744 86.057 110.084 84.977 110.084C84.197 110.084 83.585 110.504 83.045 111.02L82.913 110.204H81.689V116H83.129V112.088C83.549 111.644 84.005 111.356 84.449 111.356C84.977 111.356 85.193 111.704 85.193 112.208V116H86.633Z",fill:"#060607"}),(0,r.jsx)("path",{d:"M62.02 132L61.372 123.72H59.992L57.412 130.512L54.832 123.72H53.44L52.78 132H53.836L54.34 125.316L56.932 132.036H57.832L60.424 125.316L60.94 132H62.02ZM65.8287 126.996C66.6567 126.996 67.0647 127.524 67.1967 128.448H64.4367C64.6047 127.476 65.1687 126.996 65.8287 126.996ZM68.2647 131.352L68.1087 130.392C67.4847 130.884 66.8847 131.208 66.0567 131.208C65.0607 131.208 64.4367 130.584 64.3887 129.252H68.2767V129.024C68.2767 127.44 67.5087 126.156 65.8407 126.156C64.4007 126.156 63.3207 127.284 63.3207 129.12C63.3207 131.22 64.4847 132.12 65.9727 132.12C66.9207 132.12 67.6527 131.832 68.2647 131.352ZM71.073 123.72H69.789L70.077 129.54L70.773 129.384L71.073 123.72ZM71.025 132V130.572H69.825V132H71.025ZM84.7192 132L84.0712 123.72H82.6912L80.1112 130.512L77.5312 123.72H76.1392L75.4792 132H76.5352L77.0392 125.316L79.6312 132.036H80.5312L83.1232 125.316L83.6392 132H84.7192ZM89.6079 130.428C89.1279 130.92 88.5279 131.232 87.9039 131.232C87.3639 131.232 87.0519 130.932 87.0519 130.464C87.0519 129.876 87.4959 129.3 89.6079 129.096V130.428ZM90.6759 132V127.992C90.6759 126.72 90.0039 126.156 88.6119 126.156C87.7239 126.156 87.0759 126.36 86.3919 126.636L86.5359 127.56C87.1599 127.284 87.8199 127.068 88.5159 127.068C89.1759 127.068 89.6079 127.32 89.6079 128.04V128.28C87.2199 128.532 85.9959 129.096 85.9959 130.524C85.9959 131.496 86.6439 132.12 87.6759 132.12C88.6119 132.12 89.2359 131.7 89.6919 131.232L89.8119 132H90.6759ZM92.6347 134.184C93.4747 134.184 94.0987 133.872 94.5667 132.6L96.9067 126.276H95.7907L94.2907 130.728L92.7547 126.192L91.6747 126.36L93.7627 132.024L93.6187 132.408C93.3907 133.02 93.0667 133.248 92.5867 133.248C92.4187 133.248 92.2027 133.212 92.0227 133.164L92.1787 134.136C92.2867 134.16 92.4067 134.184 92.6347 134.184ZM103.068 128.976C103.068 127.068 102.048 126.156 100.812 126.156C100.032 126.156 99.4795 126.552 99.0955 126.948V123.336L98.0275 123.504V131.712C98.7835 131.94 99.3955 132.072 100.26 132.072C101.916 132.072 103.068 131.064 103.068 128.976ZM101.988 129.024C101.988 130.5 101.364 131.16 100.248 131.16C99.7195 131.16 99.4555 131.1 99.0955 130.968V128.04C99.5275 127.5 100.056 127.104 100.656 127.104C101.424 127.104 101.988 127.776 101.988 129.024ZM106.61 126.996C107.438 126.996 107.846 127.524 107.978 128.448H105.218C105.386 127.476 105.95 126.996 106.61 126.996ZM109.046 131.352L108.89 130.392C108.266 130.884 107.666 131.208 106.838 131.208C105.842 131.208 105.218 130.584 105.17 129.252H109.058V129.024C109.058 127.44 108.29 126.156 106.622 126.156C105.182 126.156 104.102 127.284 104.102 129.12C104.102 131.22 105.266 132.12 106.754 132.12C107.702 132.12 108.434 131.832 109.046 131.352ZM117.779 129.768C117.779 128.52 117.227 127.968 115.619 127.236C114.359 126.66 114.047 126.36 114.047 125.724C114.047 125.112 114.467 124.608 115.415 124.608C116.075 124.608 116.699 124.872 117.155 125.22L117.335 124.092C116.855 123.816 116.255 123.624 115.451 123.624C113.951 123.624 112.931 124.476 112.931 125.808C112.931 126.996 113.519 127.512 115.079 128.22C116.327 128.784 116.663 129.096 116.663 129.852C116.663 130.656 116.051 131.112 115.187 131.112C114.359 131.112 113.579 130.776 113.015 130.404L112.847 131.556C113.459 131.88 114.263 132.096 115.163 132.096C116.711 132.096 117.779 131.196 117.779 129.768ZM122.456 130.428C121.976 130.92 121.376 131.232 120.752 131.232C120.212 131.232 119.9 130.932 119.9 130.464C119.9 129.876 120.344 129.3 122.456 129.096V130.428ZM123.524 132V127.992C123.524 126.72 122.852 126.156 121.46 126.156C120.572 126.156 119.924 126.36 119.24 126.636L119.384 127.56C120.008 127.284 120.668 127.068 121.364 127.068C122.024 127.068 122.456 127.32 122.456 128.04V128.28C120.068 128.532 118.844 129.096 118.844 130.524C118.844 131.496 119.492 132.12 120.524 132.12C121.46 132.12 122.084 131.7 122.54 131.232L122.66 132H123.524ZM127.928 132.024L127.784 131.112C127.652 131.136 127.484 131.148 127.292 131.148C126.692 131.148 126.5 130.86 126.5 130.392V127.176H127.88L127.736 126.276H126.5V124.212L125.456 124.368V126.276H124.592V127.176H125.456V130.584C125.456 131.736 126.116 132.096 127.124 132.096C127.496 132.096 127.748 132.06 127.928 132.024ZM129.199 126.276V130.44C129.199 131.472 129.763 132.12 130.855 132.12C131.659 132.12 132.343 131.676 132.883 131.172L133.015 132H133.867V126.276H132.799V130.236C132.283 130.788 131.707 131.16 131.143 131.16C130.519 131.16 130.267 130.764 130.267 130.176V126.276H129.199ZM138.755 127.176L138.587 126.156C137.651 126.204 136.991 126.792 136.583 127.44L136.403 126.276H135.551V132H136.619V128.616C137.003 127.86 137.807 127.224 138.755 127.176ZM140.397 129.252C140.397 127.836 141.045 127.104 141.945 127.104C142.557 127.104 142.905 127.2 143.349 127.428V130.164C142.893 130.776 142.389 131.172 141.729 131.172C140.961 131.172 140.397 130.512 140.397 129.252ZM139.317 129.3C139.317 131.22 140.337 132.12 141.573 132.12C142.413 132.12 143.001 131.688 143.433 131.172L143.565 132H144.417V123.336L143.349 123.504V126.456C142.989 126.312 142.473 126.204 141.909 126.204C140.517 126.204 139.317 127.212 139.317 129.3ZM149.362 130.428C148.882 130.92 148.282 131.232 147.658 131.232C147.118 131.232 146.806 130.932 146.806 130.464C146.806 129.876 147.25 129.3 149.362 129.096V130.428ZM150.43 132V127.992C150.43 126.72 149.758 126.156 148.366 126.156C147.478 126.156 146.83 126.36 146.146 126.636L146.29 127.56C146.914 127.284 147.574 127.068 148.27 127.068C148.93 127.068 149.362 127.32 149.362 128.04V128.28C146.974 128.532 145.75 129.096 145.75 130.524C145.75 131.496 146.398 132.12 147.43 132.12C148.366 132.12 148.99 131.7 149.446 131.232L149.566 132H150.43ZM152.389 134.184C153.229 134.184 153.853 133.872 154.321 132.6L156.661 126.276H155.545L154.045 130.728L152.509 126.192L151.429 126.36L153.517 132.024L153.373 132.408C153.145 133.02 152.821 133.248 152.341 133.248C152.173 133.248 151.957 133.212 151.777 133.164L151.933 134.136C152.041 134.16 152.161 134.184 152.389 134.184ZM159.19 129.54L159.886 129.384L159.994 128.196C161.422 127.548 162.286 126.984 162.286 125.688C162.286 124.38 161.29 123.564 159.826 123.564C158.842 123.564 157.99 123.912 157.258 124.452L157.414 125.556C158.086 125.004 158.83 124.584 159.766 124.584C160.57 124.584 161.158 125.004 161.158 125.736C161.158 126.504 160.654 126.888 159.526 127.356L159.034 127.56L159.19 129.54ZM158.938 132H160.138V130.572H158.938V132Z",fill:"#2E3338"}),(0,r.jsx)("path",{d:"M0.5 8C0.5 3.85786 3.85786 0.5 8 0.5H216C220.142 0.5 223.5 3.85786 223.5 8V33.5H0.5V8Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5641 23.75C12.253 23.75 12.0174 23.4689 12.0718 23.1626L12.5 20.75H10.0951C9.78449 20.75 9.54905 20.4698 9.60259 20.1638L9.69009 19.6638C9.73196 19.4246 9.93972 19.25 10.1826 19.25H12.7625L13.5575 14.75H11.1526C10.842 14.75 10.6065 14.4698 10.6601 14.1638L10.7476 13.6638C10.7895 13.4246 10.9972 13.25 11.2401 13.25H13.82L14.2793 10.6626C14.3216 10.4239 14.5291 10.25 14.7716 10.25H15.2559C15.567 10.25 15.8026 10.5311 15.7482 10.8374L15.32 13.25H19.82L20.2793 10.6626C20.3216 10.4239 20.5291 10.25 20.7716 10.25H21.2559C21.567 10.25 21.8026 10.5311 21.7482 10.8374L21.32 13.25H23.7249C24.0355 13.25 24.271 13.5302 24.2174 13.8362L24.1299 14.3362C24.0881 14.5754 23.8803 14.75 23.6374 14.75H21.0575L20.2625 19.25H22.6674C22.978 19.25 23.2135 19.5302 23.1599 19.8362L23.0724 20.3362C23.0306 20.5754 22.8228 20.75 22.5799 20.75H20L19.5407 23.3374C19.4984 23.5761 19.2909 23.75 19.0484 23.75H18.5641C18.253 23.75 18.0174 23.4689 18.0718 23.1626L18.5 20.75H14L13.5407 23.3374C13.4984 23.5761 13.2909 23.75 13.0484 23.75H12.5641ZM15.0578 14.75L14.2628 19.25H18.7628L19.5578 14.75H15.0578Z",fill:"#4F5660"}),(0,r.jsx)("path",{d:"M41.014 22V17.128C41.014 15.868 40.384 15.098 39.11 15.098C38.2 15.098 37.458 15.588 36.856 16.19C36.604 15.532 36.086 15.098 35.12 15.098C34.21 15.098 33.524 15.588 32.894 16.19L32.74 15.238H31.312V22H32.992V17.422C33.482 16.918 33.972 16.582 34.49 16.582C35.106 16.582 35.33 16.988 35.33 17.576V22H37.01V17.422C37.5 16.918 37.99 16.582 38.508 16.582C39.124 16.582 39.334 16.988 39.334 17.576V22H41.014ZM46.3967 20.138C45.9347 20.586 45.3887 20.866 44.8147 20.866C44.2967 20.866 43.9887 20.572 43.9887 20.082C43.9887 19.438 44.4507 18.864 46.3967 18.626V20.138ZM48.0767 22V17.366C48.0767 15.742 47.2087 15.098 45.4587 15.098C44.3807 15.098 43.5547 15.336 42.7707 15.644L42.9807 16.988C43.7087 16.666 44.4507 16.442 45.2347 16.442C45.9767 16.442 46.3967 16.722 46.3967 17.45V17.646C43.6667 17.912 42.3227 18.626 42.3227 20.264C42.3227 21.44 43.0927 22.14 44.2407 22.14C45.2487 22.14 45.9487 21.692 46.4947 21.118L46.6347 22H48.0767ZM53.8857 22.098L55.6777 21.832L53.0317 18.29L55.5237 15.238H53.6197L51.4217 18.038V11.892L49.7417 12.158V22H51.4217V18.64L53.8857 22.098ZM59.1699 16.26C59.9819 16.26 60.4019 16.848 60.5139 17.898H57.8119C57.9379 16.806 58.4979 16.26 59.1699 16.26ZM62.1379 21.314L61.9419 19.998C61.1999 20.516 60.4859 20.838 59.6179 20.838C58.5819 20.838 57.8679 20.264 57.7979 18.948H62.1379C62.1379 18.85 62.1519 18.682 62.1519 18.542C62.1519 16.624 61.2419 15.098 59.2119 15.098C57.4479 15.098 56.1319 16.428 56.1319 18.626C56.1319 21.062 57.5459 22.14 59.4359 22.14C60.5279 22.14 61.4099 21.818 62.1379 21.314ZM66.9533 18.78V17.156H63.3133V18.78H66.9533ZM72.9665 18.528C72.9665 20.012 72.3085 20.726 71.4405 20.726C70.8665 20.726 70.5445 20.628 70.1385 20.432V17.534C70.5865 16.96 71.0625 16.582 71.6645 16.582C72.4205 16.582 72.9665 17.226 72.9665 18.528ZM74.6605 18.43C74.6605 16.162 73.5265 15.098 72.1125 15.098C71.1745 15.098 70.5165 15.616 70.0405 16.162L69.8865 15.238H68.4585V24.604L70.1385 24.352V21.804C70.5445 21.958 71.0625 22.07 71.7065 22.07C73.2605 22.07 74.6605 20.95 74.6605 18.43ZM77.7827 22V11.892L76.1027 12.158V22H77.7827ZM83.2561 20.138C82.7941 20.586 82.2481 20.866 81.6741 20.866C81.1561 20.866 80.8481 20.572 80.8481 20.082C80.8481 19.438 81.3101 18.864 83.2561 18.626V20.138ZM84.9361 22V17.366C84.9361 15.742 84.0681 15.098 82.3181 15.098C81.2401 15.098 80.4141 15.336 79.6301 15.644L79.8401 16.988C80.5681 16.666 81.3101 16.442 82.0941 16.442C82.8361 16.442 83.2561 16.722 83.2561 17.45V17.646C80.5261 17.912 79.1821 18.626 79.1821 20.264C79.1821 21.44 79.9521 22.14 81.1001 22.14C82.1081 22.14 82.8081 21.692 83.3541 21.118L83.4941 22H84.9361ZM92.3691 22V17.128C92.3691 15.868 91.6971 15.098 90.4371 15.098C89.5271 15.098 88.8131 15.588 88.1831 16.19L88.0291 15.238H86.6011V22H88.2811V17.436C88.7711 16.918 89.3031 16.582 89.8211 16.582C90.4371 16.582 90.6891 16.988 90.6891 17.576V22H92.3691ZM99.0642 20.012C99.0642 18.738 98.3782 18.262 96.6282 17.814C95.6202 17.548 95.3682 17.338 95.3682 16.974C95.3682 16.61 95.6762 16.358 96.3062 16.358C96.9782 16.358 97.7762 16.596 98.4482 16.974L98.6722 15.574C98.0002 15.28 97.1882 15.098 96.3062 15.098C94.7382 15.098 93.8142 15.924 93.8142 17.1C93.8142 18.332 94.5002 18.808 96.1382 19.228C97.2162 19.494 97.5102 19.69 97.5102 20.166C97.5102 20.614 97.1182 20.88 96.3902 20.88C95.5502 20.88 94.6542 20.558 93.9262 20.082L93.7022 21.482C94.3462 21.832 95.3542 22.14 96.3342 22.14C98.1122 22.14 99.0642 21.342 99.0642 20.012Z",fill:"#060607"}),(0,r.jsx)("circle",{cx:"28",cy:"62",r:"16",fill:"url(#tutorial-media-channels-image2)"}),(0,r.jsx)("path",{d:"M59.572 60V51.72H58.096V57.144L54.376 51.72H52.876V60H54.352V54.3L58.252 60H59.572ZM63.4852 55.08C64.1812 55.08 64.5412 55.584 64.6372 56.484H62.3212C62.4292 55.548 62.9092 55.08 63.4852 55.08ZM66.0292 59.412L65.8612 58.284C65.2252 58.728 64.6132 59.004 63.8692 59.004C62.9812 59.004 62.3692 58.512 62.3092 57.384H66.0292C66.0292 57.3 66.0412 57.156 66.0412 57.036C66.0412 55.392 65.2612 54.084 63.5212 54.084C62.0092 54.084 60.8812 55.224 60.8812 57.108C60.8812 59.196 62.0932 60.12 63.7132 60.12C64.6492 60.12 65.4052 59.844 66.0292 59.412ZM68.7047 60V51.336L67.2647 51.564V60H68.7047ZM71.7281 60V51.336L70.2881 51.564V60H71.7281ZM73.8635 62.184C74.9075 62.184 75.5795 61.764 76.0715 60.372L78.2915 54.204H76.8395L75.5435 58.284L74.2235 54.12L72.7235 54.312L74.8235 59.988L74.7755 60.156C74.5835 60.78 74.1995 60.996 73.7195 60.996C73.4675 60.996 73.2635 60.96 73.0835 60.912L73.2755 62.124C73.4075 62.16 73.5515 62.184 73.8635 62.184Z",fill:"#060607"}),(0,r.jsx)("path",{d:"M58.792 76.084L59.908 75.844L56.716 67.684H55.588L52.348 76H53.524L54.448 73.516H57.82L58.792 76.084ZM56.128 69.004L57.448 72.52H54.82L56.128 69.004ZM65.7697 76V71.836C65.7697 70.804 65.1937 70.156 64.1137 70.156C63.2977 70.156 62.6257 70.612 62.0857 71.104L61.9537 70.276H61.1017V76H62.1697V72.04C62.6857 71.488 63.2617 71.116 63.8257 71.116C64.4497 71.116 64.7017 71.512 64.7017 72.1V76H65.7697ZM67.7558 78.184C68.5958 78.184 69.2198 77.872 69.6878 76.6L72.0278 70.276H70.9118L69.4118 74.728L67.8758 70.192L66.7958 70.36L68.8838 76.024L68.7398 76.408C68.5118 77.02 68.1878 77.248 67.7078 77.248C67.5398 77.248 67.3238 77.212 67.1438 77.164L67.2998 78.136C67.4078 78.16 67.5278 78.184 67.7558 78.184ZM77.9291 73.144C77.9291 71.26 76.8011 70.156 75.2651 70.156C73.7411 70.156 72.6371 71.26 72.6371 73.144C72.6371 75.028 73.7411 76.12 75.2651 76.12C76.8011 76.12 77.9291 75.028 77.9291 73.144ZM76.8491 73.144C76.8491 74.344 76.3211 75.232 75.2651 75.232C74.2571 75.232 73.7171 74.32 73.7171 73.144C73.7171 71.944 74.2331 71.044 75.2651 71.044C76.2971 71.044 76.8491 71.968 76.8491 73.144ZM83.9572 76V71.836C83.9572 70.804 83.3812 70.156 82.3012 70.156C81.4852 70.156 80.8132 70.612 80.2732 71.104L80.1412 70.276H79.2892V76H80.3572V72.04C80.8732 71.488 81.4492 71.116 82.0132 71.116C82.6372 71.116 82.8892 71.512 82.8892 72.1V76H83.9572ZM87.8013 70.996C88.6293 70.996 89.0373 71.524 89.1693 72.448H86.4093C86.5773 71.476 87.1413 70.996 87.8013 70.996ZM90.2373 75.352L90.0813 74.392C89.4573 74.884 88.8573 75.208 88.0293 75.208C87.0333 75.208 86.4093 74.584 86.3613 73.252H90.2493V73.024C90.2493 71.44 89.4813 70.156 87.8133 70.156C86.3733 70.156 85.2933 71.284 85.2933 73.12C85.2933 75.22 86.4573 76.12 87.9453 76.12C88.8933 76.12 89.6253 75.832 90.2373 75.352ZM101.73 70.276H100.662L99.4503 74.512L98.1903 70.276H97.2903L96.0303 74.512L94.7823 70.192L93.7383 70.36L95.5743 76.024H96.4623L97.7223 71.704L98.9943 76.024H99.8943L101.73 70.276ZM106.014 74.428C105.534 74.92 104.934 75.232 104.31 75.232C103.77 75.232 103.458 74.932 103.458 74.464C103.458 73.876 103.902 73.3 106.014 73.096V74.428ZM107.082 76V71.992C107.082 70.72 106.41 70.156 105.018 70.156C104.13 70.156 103.482 70.36 102.798 70.636L102.942 71.56C103.566 71.284 104.226 71.068 104.922 71.068C105.582 71.068 106.014 71.32 106.014 72.04V72.28C103.626 72.532 102.402 73.096 102.402 74.524C102.402 75.496 103.05 76.12 104.082 76.12C105.018 76.12 105.642 75.7 106.098 75.232L106.218 76H107.082ZM113.406 76V71.836C113.406 70.804 112.83 70.156 111.75 70.156C110.934 70.156 110.262 70.612 109.722 71.104L109.59 70.276H108.738V76H109.806V72.04C110.322 71.488 110.898 71.116 111.462 71.116C112.086 71.116 112.338 71.512 112.338 72.1V76H113.406ZM117.815 76.024L117.671 75.112C117.539 75.136 117.371 75.148 117.179 75.148C116.579 75.148 116.387 74.86 116.387 74.392V71.176H117.767L117.623 70.276H116.387V68.212L115.343 68.368V70.276H114.479V71.176H115.343V74.584C115.343 75.736 116.003 76.096 117.011 76.096C117.383 76.096 117.635 76.06 117.815 76.024ZM124.494 76.024L124.35 75.112C124.218 75.136 124.05 75.148 123.858 75.148C123.258 75.148 123.066 74.86 123.066 74.392V71.176H124.446L124.302 70.276H123.066V68.212L122.022 68.368V70.276H121.158V71.176H122.022V74.584C122.022 75.736 122.682 76.096 123.69 76.096C124.062 76.096 124.314 76.06 124.494 76.024ZM130.71 73.144C130.71 71.26 129.582 70.156 128.046 70.156C126.522 70.156 125.418 71.26 125.418 73.144C125.418 75.028 126.522 76.12 128.046 76.12C129.582 76.12 130.71 75.028 130.71 73.144ZM129.63 73.144C129.63 74.344 129.102 75.232 128.046 75.232C127.038 75.232 126.498 74.32 126.498 73.144C126.498 71.944 127.014 71.044 128.046 71.044C129.078 71.044 129.63 71.968 129.63 73.144ZM139.375 76V71.836C139.375 70.804 138.799 70.156 137.719 70.156C136.903 70.156 136.243 70.612 135.775 71.032V67.336L134.707 67.504V76H135.775V72.04C136.291 71.488 136.867 71.116 137.431 71.116C138.055 71.116 138.307 71.512 138.307 72.1V76H139.375ZM144.299 74.428C143.819 74.92 143.219 75.232 142.595 75.232C142.055 75.232 141.743 74.932 141.743 74.464C141.743 73.876 142.187 73.3 144.299 73.096V74.428ZM145.367 76V71.992C145.367 70.72 144.695 70.156 143.303 70.156C142.415 70.156 141.767 70.36 141.083 70.636L141.227 71.56C141.851 71.284 142.511 71.068 143.207 71.068C143.867 71.068 144.299 71.32 144.299 72.04V72.28C141.911 72.532 140.687 73.096 140.687 74.524C140.687 75.496 141.335 76.12 142.367 76.12C143.303 76.12 143.927 75.7 144.383 75.232L144.503 76H145.367ZM151.692 76V71.836C151.692 70.804 151.116 70.156 150.036 70.156C149.22 70.156 148.548 70.612 148.008 71.104L147.876 70.276H147.024V76H148.092V72.04C148.608 71.488 149.184 71.116 149.748 71.116C150.372 71.116 150.624 71.512 150.624 72.1V76H151.692ZM156.484 72.136C156.484 72.82 156.028 73.36 155.296 73.36C154.588 73.36 154.132 72.844 154.132 72.184C154.132 71.488 154.576 70.936 155.296 70.936C156.004 70.936 156.484 71.452 156.484 72.136ZM158.188 76.42C158.188 75.532 157.432 75.148 156.22 74.932L155.812 74.86C154.804 74.68 154.6 74.632 154.6 74.428C154.6 74.32 154.72 74.188 154.888 74.08C155.032 74.104 155.176 74.116 155.32 74.116C156.484 74.116 157.516 73.372 157.516 72.148C157.516 71.824 157.444 71.524 157.288 71.26L158.38 71.152L158.224 70.192L156.772 70.636C156.376 70.324 155.872 70.156 155.296 70.156C154.132 70.156 153.1 70.912 153.1 72.148C153.1 72.928 153.532 73.528 154.168 73.852C153.784 74.08 153.568 74.356 153.568 74.632C153.568 74.848 153.676 75.052 153.928 75.232C153.124 75.664 152.716 76.12 152.716 76.708C152.716 77.716 153.904 78.184 155.392 78.184C156.88 78.184 158.188 77.62 158.188 76.42ZM155.44 77.416C154.324 77.416 153.736 77.08 153.736 76.624C153.736 76.228 154.036 75.892 154.708 75.556C154.936 75.604 155.104 75.64 155.416 75.7L156.1 75.82C156.916 75.964 157.18 76.204 157.18 76.552C157.18 77.032 156.556 77.416 155.44 77.416ZM167.003 73.144C167.003 71.26 165.875 70.156 164.339 70.156C162.815 70.156 161.711 71.26 161.711 73.144C161.711 75.028 162.815 76.12 164.339 76.12C165.875 76.12 167.003 75.028 167.003 73.144ZM165.923 73.144C165.923 74.344 165.395 75.232 164.339 75.232C163.331 75.232 162.791 74.32 162.791 73.144C162.791 71.944 163.307 71.044 164.339 71.044C165.371 71.044 165.923 71.968 165.923 73.144ZM168.339 70.276V74.44C168.339 75.472 168.903 76.12 169.995 76.12C170.799 76.12 171.483 75.676 172.023 75.172L172.155 76H173.007V70.276H171.939V74.236C171.423 74.788 170.847 75.16 170.283 75.16C169.659 75.16 169.407 74.764 169.407 74.176V70.276H168.339ZM177.44 76.024L177.296 75.112C177.164 75.136 176.996 75.148 176.804 75.148C176.204 75.148 176.012 74.86 176.012 74.392V71.176H177.392L177.248 70.276H176.012V68.212L174.968 68.368V70.276H174.104V71.176H174.968V74.584C174.968 75.736 175.628 76.096 176.636 76.096C177.008 76.096 177.26 76.06 177.44 76.024ZM184.119 76.024L183.975 75.112C183.843 75.136 183.675 75.148 183.483 75.148C182.883 75.148 182.691 74.86 182.691 74.392V71.176H184.071L183.927 70.276H182.691V68.212L181.647 68.368V70.276H180.783V71.176H181.647V74.584C181.647 75.736 182.307 76.096 183.315 76.096C183.687 76.096 183.939 76.06 184.119 76.024ZM190.082 76V71.836C190.082 70.804 189.506 70.156 188.426 70.156C187.61 70.156 186.95 70.612 186.482 71.032V67.336L185.414 67.504V76H186.482V72.04C186.998 71.488 187.574 71.116 188.138 71.116C188.762 71.116 189.014 71.512 189.014 72.1V76H190.082ZM193.038 68.452C193.038 68.08 192.738 67.768 192.366 67.768C191.994 67.768 191.682 68.08 191.682 68.452C191.682 68.824 191.994 69.124 192.366 69.124C192.738 69.124 193.038 68.824 193.038 68.452ZM192.894 76V70.276H191.826V76H192.894ZM198.656 74.404C198.656 73.312 198.02 72.904 196.604 72.544C195.704 72.316 195.416 72.1 195.416 71.716C195.416 71.308 195.752 71.056 196.4 71.056C197 71.056 197.636 71.26 198.14 71.548L198.308 70.54C197.768 70.3 197.132 70.156 196.424 70.156C195.176 70.156 194.408 70.828 194.408 71.74C194.408 72.76 194.948 73.168 196.292 73.504C197.324 73.756 197.648 73.948 197.648 74.476C197.648 74.956 197.216 75.232 196.484 75.232C195.704 75.232 195.008 74.944 194.468 74.572L194.312 75.58C194.804 75.856 195.644 76.12 196.4 76.12C197.876 76.12 198.656 75.448 198.656 74.404ZM60.328 86.276H59.26L58.048 90.512L56.788 86.276H55.888L54.628 90.512L53.38 86.192L52.336 86.36L54.172 92.024H55.06L56.32 87.704L57.592 92.024H58.492L60.328 86.276ZM63.5318 86.996C64.3598 86.996 64.7678 87.524 64.8998 88.448H62.1398C62.3078 87.476 62.8718 86.996 63.5318 86.996ZM65.9678 91.352L65.8118 90.392C65.1878 90.884 64.5878 91.208 63.7598 91.208C62.7638 91.208 62.1398 90.584 62.0918 89.252H65.9798V89.024C65.9798 87.44 65.2118 86.156 63.5438 86.156C62.1038 86.156 61.0238 87.284 61.0238 89.12C61.0238 91.22 62.1878 92.12 63.6758 92.12C64.6238 92.12 65.3558 91.832 65.9678 91.352ZM69.5201 86.996C70.3481 86.996 70.7561 87.524 70.8881 88.448H68.1281C68.2961 87.476 68.8601 86.996 69.5201 86.996ZM71.9561 91.352L71.8001 90.392C71.1761 90.884 70.5761 91.208 69.7481 91.208C68.7521 91.208 68.1281 90.584 68.0801 89.252H71.9681V89.024C71.9681 87.44 71.2001 86.156 69.5321 86.156C68.0921 86.156 67.0121 87.284 67.0121 89.12C67.0121 91.22 68.1761 92.12 69.6641 92.12C70.6121 92.12 71.3441 91.832 71.9561 91.352ZM76.9364 92.084L78.1004 91.904L75.4844 88.808L77.8964 86.276H76.6124L74.3924 88.676V83.336L73.3244 83.504V92H74.3924V89L76.9364 92.084ZM81.1099 86.996C81.9379 86.996 82.3459 87.524 82.4779 88.448H79.7179C79.8859 87.476 80.4499 86.996 81.1099 86.996ZM83.5459 91.352L83.3899 90.392C82.7659 90.884 82.1659 91.208 81.3379 91.208C80.3419 91.208 79.7179 90.584 79.6699 89.252H83.5579V89.024C83.5579 87.44 82.7899 86.156 81.1219 86.156C79.6819 86.156 78.6019 87.284 78.6019 89.12C78.6019 91.22 79.7659 92.12 81.2539 92.12C82.2019 92.12 82.9339 91.832 83.5459 91.352ZM89.5822 92V87.836C89.5822 86.804 89.0062 86.156 87.9262 86.156C87.1102 86.156 86.4382 86.612 85.8982 87.104L85.7662 86.276H84.9142V92H85.9822V88.04C86.4982 87.488 87.0742 87.116 87.6382 87.116C88.2622 87.116 88.5142 87.512 88.5142 88.1V92H89.5822ZM91.9983 89.252C91.9983 87.836 92.6463 87.104 93.5463 87.104C94.1583 87.104 94.5063 87.2 94.9503 87.428V90.164C94.4943 90.776 93.9903 91.172 93.3303 91.172C92.5623 91.172 91.9983 90.512 91.9983 89.252ZM90.9183 89.3C90.9183 91.22 91.9383 92.12 93.1743 92.12C94.0143 92.12 94.6023 91.688 95.0343 91.172L95.1663 92H96.0183V83.336L94.9503 83.504V86.456C94.5903 86.312 94.0743 86.204 93.5103 86.204C92.1183 86.204 90.9183 87.212 90.9183 89.3ZM99.3194 89.54L100.015 89.384L100.123 88.196C101.551 87.548 102.415 86.984 102.415 85.688C102.415 84.38 101.419 83.564 99.9554 83.564C98.9714 83.564 98.1194 83.912 97.3874 84.452L97.5434 85.556C98.2154 85.004 98.9594 84.584 99.8954 84.584C100.699 84.584 101.287 85.004 101.287 85.736C101.287 86.504 100.783 86.888 99.6554 87.356L99.1634 87.56L99.3194 89.54ZM99.0674 92H100.267V90.572H99.0674V92Z",fill:"#2E3338"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:l})}),(0,r.jsx)("pattern",{id:"tutorial-media-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:a})})]})]})})}},482641:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(302422),l=n(192029),a=n(527119);function o(){return(0,r.jsx)("div",{className:i.container,children:(0,r.jsxs)("svg",{width:"248",height:"67",viewBox:"0 0 248 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M1.91937 22.0819L0.353585 25.3514C0.282937 25.5093 0.265227 25.6857 0.303076 25.8544C0.311999 25.943 0.339002 26.0288 0.382429 26.1067C0.425856 26.1845 0.484791 26.2527 0.555622 26.3071C0.607907 26.38 0.675826 26.4403 0.754452 26.4838C0.833079 26.5273 0.920441 26.5529 1.0102 26.5586C1.19659 26.5915 1.38843 26.5741 1.5658 26.5083L4.74788 24.949L5.15196 24.8484L5.55603 24.949L8.73811 26.5083H9.29371L9.74829 26.2568C9.85659 26.1275 9.92655 25.9707 9.95033 25.8041C9.98818 25.6354 9.97046 25.459 9.89982 25.3011L8.33403 22.0315C8.2926 21.919 8.27539 21.799 8.28352 21.6794C8.27533 21.5434 8.29245 21.4069 8.33403 21.277L9.89982 18.1081C9.94425 18.0329 9.97177 17.949 9.98049 17.8621C9.98921 17.7753 9.97892 17.6876 9.95033 17.6051C9.93611 17.4208 9.86561 17.2453 9.74829 17.1021C9.60449 16.9853 9.42824 16.9151 9.2432 16.9009C9.16036 16.8724 9.07231 16.8622 8.98511 16.8709C8.89791 16.8796 8.81364 16.907 8.73811 16.9512L5.50552 18.5105L5.10145 18.6111L4.69737 18.5105L1.5153 16.9512C1.43095 16.9057 1.3382 16.8778 1.24269 16.8692C1.14717 16.8605 1.05089 16.8713 0.959695 16.9009C0.792331 16.9246 0.634911 16.9943 0.505112 17.1021C0.372179 17.2408 0.284186 17.416 0.252566 17.6051C0.236844 17.779 0.271925 17.9537 0.353585 18.1081L1.86886 21.3273C1.94921 21.4454 1.98499 21.5879 1.96988 21.7297C1.98577 21.7888 1.98948 21.8504 1.9808 21.9109C1.97212 21.9715 1.95122 22.0296 1.91937 22.0819Z",fill:"#AEC7FF"}),(0,r.jsx)("path",{d:"M205.949 47.6259C218.112 47.6259 227.971 37.8071 227.971 25.695C227.971 13.5829 218.112 3.76405 205.949 3.76405C193.787 3.76405 183.927 13.5829 183.927 25.695C183.927 37.8071 193.787 47.6259 205.949 47.6259Z",fill:"url(#tutorial-media-voice-channels-image2)"}),(0,r.jsx)("path",{d:"M206.106 47.5713C218.256 47.5713 228.106 37.7216 228.106 25.5713C228.106 13.4211 218.256 3.57133 206.106 3.57133C193.956 3.57133 184.106 13.4211 184.106 25.5713C184.106 37.7216 193.956 47.5713 206.106 47.5713Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M43.8822 66.4461C56.0446 66.4461 65.9042 56.6273 65.9042 44.5152C65.9042 32.4031 56.0446 22.5843 43.8822 22.5843C31.7198 22.5843 21.8602 32.4031 21.8602 44.5152C21.8602 56.6273 31.7198 66.4461 43.8822 66.4461Z",fill:"url(#tutorial-media-voice-channels-image1)"}),(0,r.jsx)("path",{d:"M43.6684 66.0315C55.8187 66.0315 65.6684 56.1818 65.6684 44.0315C65.6684 31.8813 55.8187 22.0315 43.6684 22.0315C31.5181 22.0315 21.6684 31.8813 21.6684 44.0315C21.6684 56.1818 31.5181 66.0315 43.6684 66.0315Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M138.597 43.8116C134.96 31.857 134.96 19.0973 138.597 7.14265",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M111.562 25.5955C115.2 37.5501 115.2 50.3098 111.562 62.2644",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M159.71 37.6246C158.509 33.6948 157.896 29.6101 157.892 25.5023C157.9 21.3782 158.513 17.2775 159.71 13.3296",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M149.154 10.2613C146.124 20.198 146.124 30.8065 149.154 40.7433",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M170.266 16.4482C169.347 19.3785 168.887 22.4324 168.903 25.5023C168.887 28.5721 169.347 31.626 170.266 34.5563",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M90.0579 56.1351C91.2957 52.1951 91.9258 48.0908 91.9267 43.9625C91.9301 39.8503 91.2999 35.7619 90.0579 31.8401",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M100.614 28.6068C103.644 38.5435 103.644 49.152 100.614 59.0887",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M79.5015 34.9084C81.3857 40.7986 81.3857 47.1263 79.5015 53.0165",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M182.237 57.1914L184.257 56.4872C184.354 56.4431 184.436 56.3722 184.494 56.2831C184.551 56.1939 184.582 56.0902 184.582 55.9842C184.582 55.8783 184.551 55.7746 184.494 55.6854C184.436 55.5962 184.354 55.5254 184.257 55.4812L182.237 54.777C182.16 54.7552 182.088 54.7169 182.027 54.6648C181.966 54.6127 181.917 54.548 181.884 54.4752L181.176 52.4632C181.143 52.3626 181.079 52.275 180.993 52.2128C180.907 52.1507 180.803 52.1173 180.697 52.1173C180.59 52.1173 180.487 52.1507 180.4 52.2128C180.314 52.275 180.25 52.3626 180.217 52.4632L179.51 54.4752C179.476 54.548 179.427 54.6127 179.366 54.6648C179.305 54.7169 179.233 54.7552 179.156 54.777L177.186 55.4812C177.052 55.4812 176.924 55.5342 176.829 55.6286C176.734 55.7229 176.681 55.8508 176.681 55.9842C176.681 56.1176 176.734 56.2456 176.829 56.3399C176.924 56.4343 177.052 56.4872 177.186 56.4872L179.156 57.1914C179.233 57.2133 179.305 57.2516 179.366 57.3037C179.427 57.3558 179.476 57.4205 179.51 57.4933L180.217 59.5053C180.25 59.6059 180.314 59.6935 180.4 59.7556C180.487 59.8178 180.59 59.8512 180.697 59.8512C180.803 59.8512 180.907 59.8178 180.993 59.7556C181.079 59.6935 181.143 59.6059 181.176 59.5053L181.884 57.4933C181.917 57.4205 181.966 57.3558 182.027 57.3037C182.088 57.2516 182.16 57.2133 182.237 57.1914Z",fill:"#EC7DF7"}),(0,r.jsx)("path",{d:"M242.696 1.35812C242.696 0.746955 242.199 0.251511 241.585 0.251511C240.972 0.251511 240.474 0.746955 240.474 1.35812V2.4949C240.474 3.10607 240.972 3.60151 241.585 3.60151C242.199 3.60151 242.696 3.10607 242.696 2.4949V1.35812Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M242.696 10.2613C242.696 9.65011 242.199 9.15466 241.585 9.15466C240.972 9.15466 240.474 9.65011 240.474 10.2613V11.3981C240.474 12.0092 240.972 12.5047 241.585 12.5047C242.199 12.5047 242.696 12.0092 242.696 11.3981V10.2613Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M246.636 7.49476C247.25 7.49476 247.747 6.99933 247.747 6.38817C247.747 5.77701 247.25 5.28156 246.636 5.28156H245.495C244.881 5.28156 244.384 5.77701 244.384 6.38817C244.384 6.99933 244.881 7.49476 245.495 7.49476H246.636Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M237.696 7.49477C238.31 7.49477 238.807 6.99931 238.807 6.38815C238.807 5.77699 238.31 5.28154 237.696 5.28154H236.555C235.941 5.28154 235.443 5.77699 235.443 6.38815C235.443 6.99931 235.941 7.49477 236.555 7.49477H237.696Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M25.2929 2.23526C24.8786 1.82274 24.207 1.82274 23.7928 2.23526C23.3786 2.64777 23.3786 3.31659 23.7928 3.7291L24.5535 4.48669C24.9678 4.8992 25.6394 4.8992 26.0536 4.48669C26.4678 4.07418 26.4678 3.40536 26.0536 2.99285L25.2929 2.23526Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M31.3539 8.25656C30.9397 7.84404 30.2681 7.84404 29.8538 8.25656C29.4396 8.66907 29.4396 9.33789 29.8538 9.7504L30.6146 10.508C31.0288 10.9205 31.7004 10.9205 32.1146 10.508C32.5289 10.0955 32.5289 9.42666 32.1146 9.01415L31.3539 8.25656Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M32.109 3.71739C32.5233 3.30488 32.5233 2.63606 32.109 2.22354C31.6948 1.81103 31.0232 1.81103 30.609 2.22355L29.8482 2.98114C29.434 3.39365 29.434 4.06247 29.8482 4.47498C30.2625 4.88749 30.9341 4.88749 31.3483 4.47498L32.109 3.71739Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M26.0985 9.73869C26.5128 9.32618 26.5128 8.65736 26.0985 8.24485C25.6843 7.83233 25.0127 7.83233 24.5985 8.24485L23.8378 9.00244C23.4235 9.41495 23.4235 10.0838 23.8378 10.4963C24.252 10.9088 24.9236 10.9088 25.3378 10.4963L26.0985 9.73869Z",fill:"#F7D036"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:l})}),(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:a})})]})]})})}},613725:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(524825),l=n(442837),a=n(481060),o=n(43267),s=n(565138),c=n(905423),u=n(592125),d=n(430824),p=n(594174),h=n(768581),f=n(870515);function m(){let{guildId:e,channelId:t}=(0,c.Z)(e=>{let{guildId:t,channelId:n}=e;return{guildId:t,channelId:n}},i.X),n=(0,l.e7)([d.Z],()=>d.Z.getGuild(e)),m=(0,l.e7)([u.Z],()=>null==n?u.Z.getChannel(t):null),g=(0,l.e7)([p.default],()=>p.default.getCurrentUser()),b=null!=m?(0,o.x)(m):null,_=null!=g?g.getAvatarURL(e,80):h.pK["0"],y=(0,r.jsx)(a.qEK,{src:_,"aria-hidden":!0,size:a.EFr.SIZE_80,className:f.avatarSizeOverride}),C=null;return C=null!=n?(0,r.jsx)(s.Z,{guild:n}):null!=b?(0,r.jsx)(a.qEK,{"aria-hidden":!0,src:b,size:a.EFr.SIZE_80,className:f.avatarSizeOverride}):y,(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)("div",{className:f.personAvatar,children:y}),(0,r.jsx)("div",{className:f.guildAvatar,children:C}),(0,r.jsx)("svg",{className:f.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),(0,r.jsx)("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),(0,r.jsx)("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),(0,r.jsx)("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]}),(0,r.jsx)("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#5865f2",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#5865f2",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]})]})})]})}},155409:function(e,t,n){n.d(t,{Z:()=>m});var r,i=n(951288),l=n(647438),a=n(374470),o=n(442837),s=n(260300),c=n(451478),u=n(5560),d=n(10401);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}class f extends(r=l.Component){componentDidMount(){let{visible:e,inlineSpecs:t}=this.props;null==t&&this.show(e)}componentWillUnmount(){let{inlineSpecs:e}=this.props;null==e&&this.show(!1)}componentDidUpdate(e){let{position:t,offsetX:n,offsetY:r,tutorialId:i,visible:l,windowSize:a}=e;i!==this.props.tutorialId?s.Z.hide(i):(l!==this.props.visible||t!==this.props.position||n!==this.props.offsetX||r!==this.props.offsetY||a!==this.props.windowSize)&&this.show(this.props.visible)}show(e){let{childRef:t,tutorialId:n,position:r,offsetX:i,offsetY:l,visible:o,inlineSpecs:c,autoInvert:u}=this.props;if(e&&null==c){let e=null==t?void 0:t.current;if(!(0,a.k)(e))return;let{top:o,left:c,right:d,bottom:p}=e.getBoundingClientRect();s.Z.show(n,{position:r,targetWidth:d-c,targetHeight:p-o,autoInvert:u,origin:{x:c,y:o},offset:{x:i,y:l}})}else o&&s.Z.hide(n)}render(){let{inlineSpecs:e,tutorialId:t,children:n,visible:r,windowFocused:a,position:o,autoInvert:s}=this.props,c=d.Z.getData()[t];return null!=e&&null!=c?(0,i.jsxs)(i.Fragment,{children:[n,r&&(0,i.jsx)(u.V,h({autoInvert:s,position:o,tutorialId:t,tutorialDefinition:c,focused:a},e))]}):l.Children.only(n)}}function m(e){var t,n;let{tutorialId:r}=e,l=(0,o.e7)([d.Z],()=>d.Z.shouldShow(r),[r]),a=(0,o.e7)([c.Z],()=>c.Z.isFocused()),s=(0,o.e7)([c.Z],()=>c.Z.windowSize(),[]);return(0,i.jsx)(f,(t=h({},e),n=n={visible:l,windowFocused:a,windowSize:s},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}p(f,"defaultProps",{position:"top",offsetX:0,offsetY:0,autoInvert:!0})},5560:function(e,t,n){n.d(t,{V:()=>O,Z:()=>j}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(374470),u=n(442837),d=n(481060),p=n(260300),h=n(997638),f=n(819640),m=n(451478),g=n(21825),b=n(232495),_=n(10401),y=n(131257);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class O extends i.PureComponent{componentDidMount(){this.updateCache()}componentDidUpdate(e){let{tutorialId:t,origin:{x:n,y:r},targetWidth:i,targetHeight:l,position:a,offset:o}=e;(this.props.tutorialId!==t||this.props.origin.x!==n||this.props.origin.y!==r||this.props.targetWidth!==i||this.props.targetHeight!==l||this.props.position!==a||this.props.offset.x!==o.x||this.props.offset.y!==o.y)&&this.updateCache()}updateCache(){var e,t;let n=this.contentRef.current;if(null==n||!(0,c.k)(n,HTMLElement))return;let{offsetWidth:r,offsetHeight:i}=n,l={offsetX:(this.props.targetWidth-r)/2,offsetY:(this.props.targetHeight-i)/2};switch(this.props.position){case"left":l.offsetX=-r;break;case"right":l.offsetX=this.props.targetWidth;break;case"bottom":l.offsetY=this.props.targetHeight;break;default:l.offsetY=-i}l.offsetX+=null!=(e=this.props.offset.x)?e:0,l.offsetY+=null!=(t=this.props.offset.y)?t:0,this.setState(l)}handleSkipTips(){p.Z.suppressAll()}getTutorialPopoutText(){let{tutorialId:e}=this.props;return(0,b.k)(e)}render(){let{tutorialId:e,autoInvert:t,focused:n,origin:i}=this.props,l=(0,g.S)(e);if(null==l)return null;let{media:o,textAlign:s,isLongText:c,highPriority:u,spacing:p,arrowAlignment:f=h.cy.TOP,popoutPosition:m}=l,{offsetX:b,offsetY:_}=this.state,C={left:null!=b?i.x+b:void 0,top:null!=_?i.y+_:void 0},O=e=>{let t=n&&!e;return{[y.animating]:t,[y.notAnimating]:!t,[y.highPriority]:u}},j=this.getTutorialPopoutText();return(0,r.jsx)(h.ZP,v(x({innerRef:this.contentRef,position:m,renderMedia:o,textAlign:s,spacing:p,isLongText:c,uniqueId:e,autoInvert:t,arrowAlignment:f,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss},j),{children:(e,t)=>{let{isShown:i}=t;return(0,r.jsx)(d.P3F,v(x({},e),{className:y.indicator,style:C,innerRef:this.contentRef,children:(0,r.jsxs)("div",{className:a()(y.animationContainer,O(i)),children:[(e=>{let t=n&&!e;return!0!==u?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a()(y.top,{[y.animating]:t,[y.notAnimating]:!t})}),(0,r.jsx)("div",{className:a()(y.bottom,{[y.animating]:t,[y.notAnimating]:!t})})]})})(i),(0,r.jsx)("div",{className:a()(y.innerCircle,O(i))}),(0,r.jsx)("div",{className:a()(y.outerCircle,O(i))})]})}))}}))}constructor(...e){super(...e),C(this,"state",{offsetX:null,offsetY:null}),C(this,"contentRef",i.createRef()),C(this,"handleDismiss",()=>{p.Z.dismiss(this.props.tutorialId)})}}let j=12633==n.j?function(){let{indicators:e,tutorialData:t,windowFocused:n,shouldShowAny:i}=(0,u.cj)([_.Z,m.Z,f.Z],()=>({indicators:_.Z.getIndicators(),tutorialData:_.Z.getData(),shouldShowAny:_.Z.shouldShowAnyIndicators()&&!f.Z.hasLayers(),windowFocused:m.Z.isFocused()}));return i?(0,r.jsx)(r.Fragment,{children:Object.entries(e).map(e=>{let[i,l]=e,a=t[i];return s()(null!=a,"Missing tutorial definition for ".concat(i)),(0,r.jsx)(O,x({tutorialId:i,tutorialDefinition:a,focused:n},l),i)})}):null}:null},21825:function(e,t,n){n.d(t,{S:()=>c});var r=n(951288);n(647438);var i=n(997638),l=n(113570),a=n(482641),o=n(613725);let s=Object.freeze({"voice-conversations":{popoutPosition:"right",highPriority:!0,textAlign:i.iu.CENTER,media:()=>(0,r.jsx)(a.Z,{})},"writing-messages":{popoutPosition:"top",highPriority:!0,textAlign:i.iu.CENTER,spacing:10,media:()=>(0,r.jsx)(o.Z,{})},"direct-messages":{popoutPosition:"right"},"create-first-server":{popoutPosition:"right",highPriority:!0},"organize-by-topic":{popoutPosition:"right",textAlign:i.iu.CENTER,spacing:8,media:()=>(0,r.jsx)(l.Z,{})},"instant-invite":{popoutPosition:"right",spacing:24,highPriority:!0},"whos-online":{spacing:16,popoutPosition:"left"},"server-settings":{popoutPosition:"bottom",spacing:10},"friends-list":{spacing:8,popoutPosition:"right"},"create-more-servers":{spacing:8,popoutPosition:"right"}}),c=e=>e in s?s[e]:null},232495:function(e,t,n){n.d(t,{k:()=>p}),n(704826),n(35282);var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(430824),o=n(914010),s=n(388032),c=n(186903);let u=()=>(0,r.jsx)(r.Fragment,{children:s.intl.format(s.t.ymkBtr,{shareIcon:s.intl.string(s.t.VINpSE),shareIconHook:()=>(0,r.jsx)(l.ejJ,{className:c.icon},"icon")})}),d=()=>{let e=(0,i.e7)([a.Z,o.Z],()=>a.Z.getGuild(o.Z.getGuildId()),[]),t=null==e?void 0:e.name;return(0,r.jsx)(r.Fragment,{children:s.intl.format(s.t.oQuG3N,{serverName:t})})},p=e=>{var t,n;let i=null!=(t=({VOICE_CONVERSATIONS:{title:(0,r.jsx)("div",{className:c.voiceChannelsTitle,children:s.intl.string(s.t.w5HAlp)}),body:s.intl.string(s.t.Ww4hho)},WRITING_MESSAGES:{title:(0,r.jsx)("div",{className:c.writingMessagesTitle,children:s.intl.string(s.t.nkP0l5)}),body:(0,r.jsx)(d,{})},ORGANIZE_BY_TOPIC:{title:(0,r.jsx)("div",{className:c.channelsTitle,children:s.intl.string(s.t["j/5+IS"])}),body:s.intl.string(s.t.mufH2N)},WHOS_ONLINE:{title:s.intl.string(s.t.l2nSoK),body:s.intl.format(s.t.y6tbBA,{})},INSTANT_INVITE:{title:s.intl.string(s.t.XcehY2),body:(0,r.jsx)(u,{})},SERVER_SETTINGS:{title:s.intl.string(s.t.wc8wi4),body:s.intl.format(s.t.mIfDhY,{})},DIRECT_MESSAGES:{title:s.intl.string(s.t["V07x5+"]),body:s.intl.format(s.t.GEBBe3,{})},CREATE_MORE_SERVERS:{title:s.intl.string(s.t["50FORk"]),body:s.intl.format(s.t.zVL4qa,{})},CREATE_FIRST_SERVER:{title:s.intl.string(s.t.CtOX9f),body:s.intl.format(s.t.TflqTU,{})},FRIENDS_LIST:{title:s.intl.string(s.t.Fnk9Ly),body:s.intl.format(s.t.NTq0AQ,{})}})[e.replace(/-/g,"_").toUpperCase()])?t:{};return{title:i.title,body:i.body,isLongText:null!=(n=i.isLongText)&&n}}},10401:function(e,t,n){n.d(t,{Z:()=>C}),n(388685);var r,i=n(873546),l=n(442837),a=n(570140),o=n(38618),s=n(268967),c=n(188785);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let h={},f={},m=!0,g={},b=!1;function _(){if(g={},!m)for(let[e,t]of Object.entries(s.Z)){let n=!1!==h[e];if(g[e]=n,n&&null!=t.prerequisites)for(let n of t.prerequisites)!1!==h[n]&&(g[e]=!1)}}class y extends(r=l.ZP.Store){initialize(){_(),this.mustEmitChanges(e=>"CONNECTION_OPEN"!==e.type),this.waitFor(o.Z)}shouldShow(e){return!(!b||m||c.a||i.tq&&["writing-messages","organize-by-topic"].includes(e))&&(g[e]||!1)}shouldShowAnyIndicators(){return!m}getIndicators(){return f}getData(){return s.Z}getDefinition(e){let t=this.getData();return null!=t?t[e]:null}}u(y,"displayName","TutorialIndicatorStore");let C=new y(a.Z,{CONNECTION_OPEN:function(e){let{tutorial:t}=e;b=!0,m=!0,h={},null!=t&&(m=t.indicators_suppressed,t.indicators_confirmed.forEach(e=>h[e]=!1)),_()},CONNECTION_CLOSED:function(){b=!1},TUTORIAL_INDICATOR_DISMISS:function(e){h=p(d({},h),{[e.tutorialId]:!1}),f=d({},f),delete f[e.tutorialId],_()},TUTORIAL_INDICATOR_SHOW:function(e){f=p(d({},f),{[e.tutorialId]:e.renderData})},TUTORIAL_INDICATOR_HIDE:function(e){f=d({},f),delete f[e.tutorialId]},TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){m=!0}})},268967:function(e,t,n){n.d(t,{Z:()=>r});let r=Object.freeze({"voice-conversations":{popoutOffset:{x:45,y:0}},"writing-messages":{prerequisites:["voice-conversations"],popoutOffset:{x:-36,y:0}},"direct-messages":{popoutOffset:{x:50,y:0}},"create-first-server":{popoutOffset:{x:45,y:0}},"organize-by-topic":{popoutOffset:{x:50,y:0}},"instant-invite":{prerequisites:["organize-by-topic"],popoutOffset:{x:-10,y:0}},"whos-online":{prerequisites:["instant-invite"],popoutOffset:{x:-50,y:0}},"server-settings":{prerequisites:["instant-invite"],popoutOffset:{y:32,x:0}},"friends-list":{prerequisites:["instant-invite"],popoutOffset:{x:45,y:0}},"create-more-servers":{prerequisites:["server-settings"],popoutOffset:{x:45,y:0}}})},60577:function(e,t,n){n.d(t,{Z:()=>i}),n(388685);var r=n(647438);function i(){let[e,t]=(0,r.useState)(window.innerWidth>=1132);return(0,r.useEffect)(()=>{let e=()=>{t(window.innerWidth>=1132)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}},124823:function(e,t,n){n.d(t,{Z:()=>w});var r=n(951288),i=n(647438),l=n(597312),a=n(481060),o=n(727637),s=n(410030),c=n(100527),u=n(906732),d=n(580552),p=n(680295),h=n(5192),f=n(785717),m=n(221292),g=n(687158),b=n(892001),_=n(899007),y=n(648052),C=n(867176),x=n(280885),v=n(900927),O=n(678738),j=n(502762),E=n(530),S=n(679332),I=n(544989),P=n(671955),Z=n(388032),T=n(231688),N=n(892273);function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function w(e){var t;let{user:n,channel:w}=e,R=__OVERLAY__||!(0,d.Z)(n.id),M=(0,g.ZP)(n.id),D=(0,s.ZP)(),L=i.useRef(Date.now()),{analyticsLocations:k}=(0,u.ZP)(c.Z.USER_PROFILE_SIDEBAR),U=(0,f.ZB)({layout:"SIDEBAR",userId:n.id,channelId:w.id}),B=i.useRef(null),F=(0,o.Z)(B),G=e=>{(0,b.openUserProfileModal)(A({sourceAnalyticsLocations:k,hideRestrictedProfile:!0},U,e))};return(0,r.jsx)(u.Gt,{value:k,children:(0,r.jsx)(f.Mt,{value:U,openedAt:L.current,fetchStartedAt:null==M?void 0:M.fetchStartedAt,fetchEndedAt:null==M?void 0:M.fetchEndedAt,isLoaded:null==M?void 0:M.isLoaded,children:(0,r.jsxs)(j.Z,{ref:B,user:n,displayProfile:M,themeType:P.l.SIDEBAR,themeOverride:D,children:[(0,r.jsxs)(l.u2,{children:[(0,r.jsx)(I.Z,{children:(0,r.jsx)(S.Z,{user:n})}),(0,r.jsxs)("div",{className:T.header,children:[(0,r.jsx)(C.Z,{user:n,displayProfile:M,themeType:P.l.SIDEBAR,animateOnHover:!F}),(0,r.jsx)(_.Z,{user:n,displayProfile:M,channelId:w.id,themeType:P.l.SIDEBAR,onOpenProfile:R?void 0:G})]}),(0,r.jsxs)("div",{className:N.body,children:[(0,r.jsx)(E.Z,{user:n,nickname:h.ZP.getName(null,w.id,n),pronouns:null==M?void 0:M.pronouns,onOpenProfile:R?void 0:G,tags:(0,r.jsx)(y.Z,{displayProfile:M,themeType:P.l.SIDEBAR})}),(0,r.jsxs)(j.Z.Overlay,{className:N.overlay,children:[(0,r.jsx)(O.Z,{heading:Z.intl.string(Z.t["61W33d"]),headingColor:"header-primary",children:(0,r.jsx)(x.Z,{userBio:null==M?void 0:M.bio,userId:n.id,animateOnHover:!0,isHovering:F})}),(0,r.jsx)(O.Z,{heading:Z.intl.string(Z.t["A//N4u"]),headingColor:"header-primary",children:(0,r.jsx)(v.Z,{userId:n.id})})]})]})]}),!R&&(0,r.jsx)("div",{className:T.footer,children:(0,r.jsx)(a.P3F,{onClick:()=>{G(),(0,m.pQ)(A({action:"PRESS_VIEW_PROFILE",analyticsLocations:k},U))},className:T.footerButton,children:Z.intl.string(Z.t["+Xp3ho"])})}),(null==M?void 0:M.profileEffect)!=null&&(0,r.jsx)(p.Z,{profileEffectId:null==M||null==(t=M.profileEffect)?void 0:t.id,isHovering:F})]})})})}},550818:function(e,t,n){n.d(t,{Z:()=>E});var r=n(951288),i=n(647438),l=n(597312),a=n(442837),o=n(481060),s=n(410030),c=n(100527),u=n(906732),d=n(699516),p=n(5192),h=n(785717),f=n(221292),m=n(687158),g=n(316027),b=n(502762),_=n(848780),y=n(907179),C=n(671955),x=n(388032),v=n(491010),O=n(268293);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e){let{user:t,channel:n,onHide:E}=e,S=(0,m.ZP)(t.id),I=(0,s.ZP)(),P=(0,a.e7)([d.Z],()=>d.Z.isBlocked(t.id)),{analyticsLocations:Z}=(0,u.ZP)(P?c.Z.BLOCKED_PROFILE_PANEL:c.Z.IGNORED_PROFILE_PANEL),T=(0,h.ZB)({layout:"SIDEBAR",userId:t.id,channelId:n.id}),N=i.useRef(null);return(0,r.jsx)(u.Gt,{value:Z,children:(0,r.jsx)(h.Mt,{value:T,fetchStartedAt:null==S?void 0:S.fetchStartedAt,fetchEndedAt:null==S?void 0:S.fetchEndedAt,isLoaded:null==S?void 0:S.isLoaded,children:(0,r.jsx)(b.Z,{ref:N,user:t,displayProfile:S,themeType:C.l.SIDEBAR,themeOverride:I,children:(0,r.jsx)(l.u2,{children:(0,r.jsxs)("div",{className:v.container,children:[(0,r.jsx)("img",{alt:"",src:O,className:v.preview,"aria-hidden":!0}),(0,r.jsxs)("div",{className:v.body,children:[(0,r.jsxs)("div",{className:v.headerContainer,children:[(0,r.jsx)(g.Z,{user:t}),(0,r.jsx)(o.X6q,{variant:"heading-lg/bold",children:x.intl.string(x.t.b33pLC)}),(0,r.jsx)(o.Text,{variant:"text-sm/medium",children:x.intl.format(P?x.t["8F+WNz"]:x.t["/cZp5u"],{username:p.ZP.getName(n.guild_id,n.id,t)})})]}),(0,r.jsxs)(o.Kqy,{align:"center",children:[(0,r.jsx)(y.Z,{isBlocked:P,onClick:()=>{E(),(0,f.pQ)(j({action:P?"VIEW_BLOCKED_PROFILE":"VIEW_IGNORED_PROFILE",analyticsLocations:Z},T))}}),(0,r.jsx)(_.Z,{userId:t.id,onClick:()=>{E(),(0,f.pQ)(j({action:"DONT_SHOW_AGAIN_IGNORED_PROFILE",analyticsLocations:Z},T))}})]})]})]})})})})})}},983559:function(e,t,n){n.d(t,{Z:()=>M}),n(388685);var r=n(951288),i=n(647438),l=n(202841),a=n(597312),o=n(481060),s=n(727637),c=n(410030),u=n(100527),d=n(906732),p=n(680295),h=n(785717),f=n(221292),m=n(687158),g=n(510659),b=n(892001),_=n(899007),y=n(867176),C=n(451834),x=n(502762),v=n(952124),O=n(544989),j=n(481932),E=n(664794),S=n(4517),I=n(252748),P=n(277117),Z=n(52639),T=n(228168),N=n(671955),A=n(388032),w=n(231688);function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function M(e){var t;let{user:n,currentUser:f,channel:A}=e,M=__OVERLAY__,L=(0,m.ZP)(n.id),k=(0,c.ZP)(),U=i.useRef(Date.now()),{analyticsLocations:B}=(0,d.ZP)(u.Z.USER_PROFILE_SIDEBAR),F=(0,h.ZB)({layout:"SIDEBAR",userId:n.id,channelId:A.id}),G=i.useRef(null),H=(0,s.Z)(G),V=(0,g.$m)(),z=(0,o.q_F)({opacity:+(null!=V.interactionType),config:{duration:150}}),W=e=>{(0,b.openUserProfileModal)(R({sourceAnalyticsLocations:B,hideRestrictedProfile:!0},F,e))},q=(null==L?void 0:L.widgets)!=null&&L.widgets.length>0;return(0,r.jsx)(d.Gt,{value:B,children:(0,r.jsx)(h.Mt,{value:F,openedAt:U.current,fetchStartedAt:null==L?void 0:L.fetchStartedAt,fetchEndedAt:null==L?void 0:L.fetchEndedAt,isLoaded:null==L?void 0:L.isLoaded,children:(0,r.jsx)(g.NJ,{value:V,children:(0,r.jsxs)(x.Z,{ref:G,user:n,displayProfile:L,themeType:N.l.SIDEBAR,themeOverride:k,children:[null!=V.interactionType&&(0,r.jsx)(l.animated.div,{style:z,className:w.backdrop}),(0,r.jsxs)(a.u2,{children:[(0,r.jsxs)(O.Z,{children:[(0,r.jsx)(j.Z,{user:n,themeType:N.l.SIDEBAR,shouldShowTooltip:null===V.interactionType}),n.bot?(0,r.jsx)(v.Z,{user:n}):(0,r.jsx)(E.Z,{type:"banner",user:n})]}),(0,r.jsxs)("div",{className:w.header,children:[(0,r.jsx)(y.Z,{user:n,displayProfile:L,themeType:N.l.SIDEBAR,animateOnHover:!H,className:w.banner}),(0,r.jsx)(C.Z,{userId:n.id,className:w.toast}),(0,r.jsx)(_.Z,{user:n,displayProfile:L,channelId:A.id,themeType:N.l.SIDEBAR,onOpenProfile:M?void 0:W}),(0,r.jsx)(S.Z,{user:n,channelId:A.id,themeType:N.l.SIDEBAR,disableToolbar:n.bot})]}),(0,r.jsx)(P.Z,{user:n,currentUser:f,displayProfile:L,channel:A,isHovering:null==V.interactionType&&H,onOpenProfile:M?void 0:W}),q&&(0,r.jsx)("div",{className:w.widgetBreadcrumb,children:(0,r.jsx)(I.Z,{widgets:L.widgets,onClick:()=>{null==W||W({section:T.oh.WIDGETS})}})}),(0,r.jsx)(Z.Z,{user:n,channelId:A.id})]}),!M&&(0,r.jsx)(D,{handleOpenProfile:W,analyticsLocations:B,context:F}),(null==L?void 0:L.profileEffect)!=null&&(0,r.jsx)(p.Z,{profileEffectId:null==L||null==(t=L.profileEffect)?void 0:t.id,isHovering:H,urlQueryString:"dmView"})]})})})})}let D=e=>{let{handleOpenProfile:t,analyticsLocations:n,context:l}=e,[a,s]=i.useState("interactive-normal");return(0,r.jsx)("div",{className:w.footer,children:(0,r.jsx)(o.P3F,{onMouseEnter:()=>s("interactive-hover"),onMouseLeave:()=>s("interactive-normal"),onClick:()=>{t(),(0,f.pQ)(R({action:"PRESS_VIEW_PROFILE",analyticsLocations:n},l))},className:w.footerButton,children:(0,r.jsx)(o.Text,{color:a,variant:"text-sm/normal",children:A.intl.string(A.t["+Xp3ho"])})})})}},277117:function(e,t,n){n.d(t,{Z:()=>w});var r=n(951288);n(647438);var i=n(657707),l=n(442837),a=n(692547),o=n(320582),s=n(246016),c=n(189156),u=n(699516),d=n(246946),p=n(5192),h=n(621853),f=n(209698),m=n(172351),g=n(648052),b=n(280885),_=n(483424),y=n(681837),C=n(78806),x=n(91433),v=n(900927),O=n(944043),j=n(678738),E=n(638970),S=n(502762),I=n(530),P=n(827313),Z=n(981631),T=n(671955),N=n(388032),A=n(892273);function w(e){let{user:t,currentUser:n,displayProfile:w,channel:R,isHovering:M,onOpenProfile:D}=e,{relationshipType:L,originApplicationId:k}=(0,l.cj)([u.Z],()=>({relationshipType:u.Z.getRelationshipType(t.id),originApplicationId:u.Z.getOriginApplicationId(t.id)})),U=(0,o.vh)(t.id),B=(0,s.Y)({userId:t.id}),F=(0,l.e7)([d.Z],()=>d.Z.hidePersonalInformation),G=(0,l.e7)([h.Z],()=>{var e;return null==(e=h.Z.getUserProfile(t.id))?void 0:e.application}),H=(0,f.b)({location:"UserProfileSidebarBody"});return(0,r.jsxs)("div",{className:A.body,children:[(0,r.jsx)(I.Z,{user:t,nickname:p.ZP.getName(null,R.id,t),pronouns:null==w?void 0:w.pronouns,onOpenProfile:D,tags:(0,r.jsx)(g.Z,{displayProfile:w,themeType:T.l.SIDEBAR}),nicknameIcons:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{userId:t.id}),!F&&(0,r.jsx)(P.Z,{userId:t.id,isHovering:M,onOpenProfile:D})]})}),L===Z.OGo.PENDING_INCOMING&&(0,r.jsx)(S.Z.Overlay,{children:(0,r.jsx)(x.Z,{user:t,channelId:R.id,applicationId:k})}),U.map(e=>(0,r.jsx)(S.Z.Overlay,{children:(0,r.jsx)(x.Z,{user:t,isGameRelationship:!0,applicationId:e.applicationId,channelId:R.id})},e.applicationId)),(0,r.jsx)(O.Z,{user:t,className:A.card}),t.isProvisional&&(0,r.jsx)(S.Z.Overlay,{className:A.card,children:(0,r.jsx)(j.Z,{heading:N.intl.string(N.t.Iyka0d),headingIcon:(0,r.jsx)(i.Mgn,{size:"xxs",color:a.Z.colors.HEADER_PRIMARY}),headingColor:"header-primary",children:(0,r.jsx)(c.n,{userId:t.id})})}),H?(0,r.jsx)(E.Z,{user:t,currentUser:n,onOpenUserProfileModal:D}):(0,r.jsx)(_.Z,{user:t,currentUser:n,className:A.card}),(0,r.jsxs)(S.Z.Overlay,{className:A.overlay,children:[!F&&(null==w?void 0:w.bio)!=null&&(null==w?void 0:w.bio)!==""&&(0,r.jsx)(j.Z,{heading:N.intl.string(N.t["61W33d"]),headingColor:"header-primary",children:(0,r.jsx)(b.Z,{userBio:w.bio,animateOnHover:!0,isHovering:M,userId:t.id})}),(null==G?void 0:G.popularApplicationCommandIds)!=null&&(0,r.jsx)(m.Z,{applicationId:G.id,commandIds:G.popularApplicationCommandIds,channel:R}),B.length>0&&(0,r.jsx)(j.Z,{heading:N.intl.string(N.t["Uv/eT0"]),headingColor:"header-primary",children:(0,r.jsx)(C.Z,{applicationIds:B})}),(0,r.jsx)(j.Z,{heading:t.bot?N.intl.string(N.t["A//N4u"]):N.intl.string(N.t.a6XYDw),headingColor:"header-primary",children:(0,r.jsx)(v.Z,{userId:t.id})})]})]})}},686625:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(785717),c=n(689315);function u(e){let{section:t,header:n,items:l,listClassName:u,onExpand:d}=e,{trackUserProfileAction:p}=(0,s.KZ)(),h=i.useId(),[f,m]=i.useState(!1),g=f?o.CJ0:o.Fbu;return(0,r.jsxs)("section",{className:c.section,children:[(0,r.jsxs)(o.P3F,{className:a()(c.header,c.clickable),"aria-controls":h,"aria-expanded":f,onClick:()=>{m(!f),f||(p({action:"PRESS_SECTION",section:t}),null==d||d())},children:[(0,r.jsxs)(o.X6q,{variant:"text-sm/medium",color:"text-default",children:[n," — ",l.length]}),(0,r.jsx)(g,{size:"md"})]}),l.length>0&&(0,r.jsx)("ul",{id:h,hidden:!f,className:a()(c.list,u),children:l})]})}},52639:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288);n(647438);var i=n(81897),l=n(906732),a=n(566898),o=n(769654),s=n(785717),c=n(806729),u=n(857302),d=n(892001),p=n(483517),h=n(252417),f=n(821179),m=n(502762),g=n(686625),b=n(388032),_=n(439178);function y(e){let{user:t,channelId:n}=e,{analyticsLocations:y}=(0,l.ZP)(),{context:C}=(0,s.KZ)(),x=(0,i.Z)(),{mutualFriendsCount:v,mutualFriends:O,mutualGuilds:j}=(0,c.Z)(t),E=!t.bot&&null!=v&&v>0,S=null!=j&&j.length>0;return E||S?(0,r.jsxs)(m.Z.Overlay,{className:_.overlay,children:[S&&(0,r.jsx)(g.Z,{section:"MUTUAL_GUILDS",header:b.intl.string(b.t["4lTDZm"]),listClassName:_.list,items:j.map(e=>{let{guild:n,nick:i}=e;return(0,r.jsx)(f.Z,{user:t,guild:n,nick:i,onSelect:()=>(0,o.X)(n.id)},n.id)})}),S&&E&&(0,r.jsx)(p.Z,{className:_.divider}),E&&(0,r.jsx)(g.Z,{section:"MUTUAL_FRIENDS",header:b.intl.string(b.t["0mTJ3t"]),listClassName:_.list,onExpand:()=>(0,u.Z)(t.id,x),items:null==O?Array.from({length:v}).map((e,t)=>(0,r.jsxs)("div",{className:_.loadingMutualFriend,children:[(0,r.jsx)(a.ZT,{width:40,opacity:.08}),(0,r.jsx)(a.ZT,{width:135,opacity:.08})]},t)):O.map(e=>{let{key:t,user:i,status:l}=e;return(0,r.jsx)(h.Z,{user:i,status:l,channelId:n,onSelect:()=>{var e,t;(0,d.openUserProfileModal)((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},C),t=t={userId:i.id,sourceAnalyticsLocations:y},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}},t)})})]}):null}},402130:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(594174),s=n(5192),c=n(788111),u=n(60577),d=n(184301),p=n(124823),h=n(550818),f=n(983559),m=n(388032);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e){let{channel:t}=e,[n]=t.recipients,b=(0,l.e7)([o.default],()=>o.default.getUser(n)),_=(0,l.e7)([o.default],()=>o.default.getCurrentUser()),y=(0,u.Z)(),[C,x]=(0,c.Z)(n);if(i.useEffect(()=>{(0,d.Z)(null!=b?b:n,{type:"sidebar",withMutualFriendsCount:(null==b?void 0:b.bot)!==!0,withMutualFriends:!1,withMutualGuilds:!0,channelId:t.id})},[b,n,t.id]),null==b||null==_||!y)return null;let v="user-profile-sidebar-heading-".concat(b.id),O=s.ZP.getName(null,t.id,b);return(0,r.jsx)("aside",{"aria-labelledby":v,children:(0,r.jsx)(a.y5t,{component:(0,r.jsx)(a.nn4,{children:(0,r.jsx)(a.H,{id:v,children:m.intl.format(m.t.KRe1Fh,{name:O})})}),children:C?(0,r.jsx)(h.Z,g({user:b,currentUser:_,onHide:x},e)):b.isNonUserBot()?(0,r.jsx)(p.Z,g({user:b,currentUser:_},e)):(0,r.jsx)(f.Z,g({user:b,currentUser:_},e))})})}},807705:function(e,t,n){n.d(t,{Z:()=>l});var r=n(647438),i=n(990169);function l(e,t){let n=(0,r.useRef)(!1),l=(0,r.useRef)(e);(0,r.useEffect)(()=>{n.current=e!==l.current,l.current=e},[e]),(0,r.useEffect)(()=>{let e=setTimeout(()=>n.current=!1,t);return()=>clearTimeout(e)},[e,t]);let a=e!==(0,i.Z)(l),o=(0,i.Z)(n);return a||o}},434488:function(e,t,n){n.d(t,{h:()=>Z});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(704215),s=n(692547),c=n(481060),u=n(493773),d=n(456100),p=n(127255),h=n(5200),f=n(100527),m=n(906732),g=n(397698),b=n(895924),_=n(266454),y=n(340541),C=n(416345),x=n(626135),v=n(607187),O=n(981631),j=n(388032),E=n(348130),S=n(359165);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(e){let{channel:t,guild:n,width:i,inPopout:l,handleClose:a,userParticipantCount:o}=e;return i<250?(0,r.jsx)(T,{channel:t,guild:n,width:i,inPopout:l,handleClose:a,userParticipantCount:o}):o>1?(0,r.jsx)(A,{channel:t,guild:n,width:i,inPopout:l,handleClose:a,userParticipantCount:o}):(0,r.jsx)(N,{channel:t,guild:n,width:i,inPopout:l})}function T(e){let{channel:t,inPopout:n,handleClose:i}=e,{analyticsLocations:l,newestAnalyticsLocation:o}=(0,m.ZP)(f.Z.VC_TILE_ACTIVITY_SHELF_BUTTON),{enabled:u}=d.c.useExperiment({location:"ActivityShelfButtonTile"},{autoTrackExposure:!0}),p=u?c.iWm:c.gQj;return(0,r.jsx)(m.Gt,{value:l,children:(0,r.jsxs)(v.Z,{className:E.root,children:[(0,r.jsx)(c.ua7,{text:j.intl.string(j.t.qJvTKS),children:e=>{var{onClick:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick"]);return(0,r.jsx)(c.P3F,P(I({},l),{className:E.clickableTile,onClick:()=>{null==i||i(),(0,g.Z)({context:null!=t?{type:"channel",channel:t}:{type:"contextless"},openInPopout:n,analyticsLocation:o})},children:(0,r.jsx)("div",{className:E.iconContainer,children:(0,r.jsx)(p,{size:"custom",color:"currentColor",width:40,height:40})})}))}}),(0,r.jsx)(c.f6W,{theme:O.BRd.DARK,children:e=>(0,r.jsx)(c.P3F,{onClick:i,className:a()(e,E.shelfButtonCloseButton),children:(0,r.jsx)(c.k$p,{size:"md",color:"currentColor",className:E.closeButtonIcon,secondaryColor:s.Z.colors.INTERACTIVE_NORMAL.css})})})]})})}function N(e){let{channel:t,guild:l,inPopout:o}=e;i.useEffect(()=>{x.default.track(O.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity invite",n_participants:1})},[]);let{analyticsLocations:s,newestAnalyticsLocation:u}=(0,m.ZP)(f.Z.VC_TILE_ACTIVITY_INVITE),{entrypoints:p}=(0,y._k)({location:"single_user_tile"}),{enabled:h}=d.c.useExperiment({location:"SingleUserTile"},{autoTrackExposure:!0});function b(){(0,c.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(e,P(I({},n),{guild:l,channel:t,source:O.t4x.ACTIVITY_ENTRY_POINT_TILE}))},{contextKey:o?c.u1M:c.z1l})}function _(){(0,g.Z)({context:null!=t?{type:"channel",channel:t}:{type:"contextless"},openInPopout:o,analyticsLocation:u})}let C=h?c.iWm:c.nG3,Z=p?c.oLu:c.iFz;return(0,r.jsx)(m.Gt,{value:s,children:(0,r.jsx)(c.f6W,{disableAdaptiveTheme:!0,theme:O.BRd.MIDNIGHT,children:e=>(0,r.jsxs)(v.Z,{className:a()(E.root,E.singleUserRoot,e),children:[(0,r.jsx)("img",{src:S,className:E.art,alt:""}),(0,r.jsxs)(c.hE2,{justify:"center",align:"center",children:[(0,r.jsx)(c.zxk,{variant:"secondary",icon:Z,text:p?j.intl.string(j.t["EE+P0N"]):j.intl.string(j.t["6Qgren"]),onClick:b}),(0,r.jsx)(c.zxk,{variant:"secondary",icon:C,text:j.intl.string(j.t.qnFavb),onClick:_})]})]})})})}function A(e){let{channel:t,guild:n,handleClose:l,width:s,userParticipantCount:d}=e;(0,u.ZP)(()=>{x.default.track(O.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity suggestion",n_participants:d})});let g=(0,p.Z)({guildId:n.id}).slice(0,3),{analyticsLocations:y}=(0,m.ZP)(f.Z.VC_TILE_ACTIVITY_SUGGESTION),S=i.useMemo(()=>({channel:t,type:"channel"}),[t]);return(0,r.jsx)(m.Gt,{value:y,children:(0,r.jsxs)(v.Z,{className:E.root,children:[s>300?(0,r.jsx)(c.Text,{className:E.heading,variant:s>550?"text-md/semibold":"text-sm/semibold",children:j.intl.string(j.t["7BKMcH"])}):null,(0,r.jsx)("div",{className:a()(E.activitiesContainer,{[E.activitiesContainerSmol]:s<=300}),children:g.map(e=>(0,r.jsx)(h.Y,{context:S,activityItem:e,aspectRatio:h.Y.AspectRatio.SIXTEEN_BY_NINE,animatedDivClass:E.activitySuggestion,commandOrigin:b.bB.VOICE_TILE_ACTIVITY_SUGGESTIONS},e.application.id))}),(0,r.jsxs)(c.P3F,{className:E.checkboxContainer,onClick:function(){x.default.track(O.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"permanent",n_participants:d}),(0,_.Q3)(o.z.VC_TILE_ACTIVITIES_ENTRY_POINT)},children:[(0,r.jsx)(C.Z,{}),(0,r.jsx)(c.Text,{variant:"text-sm/medium",children:j.intl.string(j.t["5E9SBw"])})]}),(0,r.jsx)(c.P3F,{className:E.closeButtonContainer,onClick:function(){x.default.track(O.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"temporary",n_participants:d}),l()},children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:E.closeButton})})]})})}},841397:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288),i=n(998502),l=n(202738);let a=i.ZP.getEnableHardwareAcceleration()?function(){return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:l.gradientBackground,children:[(0,r.jsx)("div",{className:l.leftDarkEllipse}),(0,r.jsx)("div",{className:l.leftLightEllipse}),(0,r.jsx)("div",{className:l.rightDarkEllipse}),(0,r.jsx)("div",{className:l.rightLightEllipse}),(0,r.jsx)("div",{className:l.centerEllipse})]})})}:function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1000",height:"1000",fill:"none",viewBox:"0 0 1000 1000",preserveAspectRatio:"none",style:{position:"absolute",top:0,width:"100%"},children:[(0,r.jsxs)("g",{"clip-path":"url(#a)",children:[(0,r.jsx)("path",{fill:"#000",d:"M1000 0H0v1000h1000V0Z"}),(0,r.jsxs)("g",{fill:"#1D0066",filter:"url(#b)",children:[(0,r.jsx)("path",{d:"M52.5 683C374.206 683 635 413.028 635 80S374.206-523 52.5-523-530-253.028-530 80s260.794 603 582.5 603Z"}),(0,r.jsx)("path",{d:"M938.5 534c300.72 0 544.5-210.202 544.5-469.5S1239.22-405 938.5-405C637.781-405 394-194.798 394 64.5S637.781 534 938.5 534Z"})]}),(0,r.jsxs)("g",{fill:"#5865F2",filter:"url(#c)",opacity:".8",children:[(0,r.jsx)("path",{d:"M93 110.8c122.607 0 222-71.366 222-159.4S215.607-208 93-208s-222 71.366-222 159.4 99.393 159.4 222 159.4ZM1004 110.8c122.61 0 222-71.366 222-159.4S1126.61-208 1004-208c-122.607 0-222 71.366-222 159.4s99.393 159.4 222 159.4Z"}),(0,r.jsx)("path",{d:"M500 82c193.3 0 350-67.157 350-150S693.3-218 500-218 150-150.843 150-68 306.7 82 500 82Z"})]})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("filter",{id:"b",width:"2733",height:"1926",x:"-890",y:"-883","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34971",stdDeviation:"180"})]}),(0,r.jsxs)("filter",{id:"c",width:"1955",height:"928.8",x:"-429",y:"-518","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34971",stdDeviation:"150"})]}),(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h1000v1000H0z"})})]})]})}},111248:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(433517),c=n(523238),u=n(241915),d=n(366050),p=n(27457),h=n(981631),f=n(354459),m=n(330831),g=n(315091);let b="CameraPreviewPosition";function _(e){let{width:t,onContextMenuParticipant:n,height:l,channel:_,participants:y,onSelectParticipant:C}=e,[x,v]=function(){let[e,t]=i.useState(()=>s.K.get(b,h.VD2.BOTTOM_RIGHT));return[e,i.useCallback(e=>{s.K.set(b,e),t(e)},[])]}(),O=i.useRef(null),j=null==_.getGuildId()?70:50,E=(0,o.e7)([d.Z],()=>d.Z.pipWidth(f.cL.CAMERA_PREVIEW)),S=y.length,I=E*S+8*(S-1),P=i.useMemo(()=>({minWidth:f.Rv[f.cL.CAMERA_PREVIEW]*S+8*(S-1),maxWidth:f.$i[f.cL.CAMERA_PREVIEW]*S+8*(S-1)}),[S]);i.useLayoutEffect(()=>{var e;null==(e=O.current)||e.ensureIsInPosition()},[y.length]);let Z=i.useCallback(e=>{let t=0===S?e:(e-8*(S-1))/S;c.d7(t,f.cL.CAMERA_PREVIEW)},[S]),T=i.useCallback((e,t)=>{v(t)},[v]);return(0,r.jsx)("div",{className:m.container,children:(0,r.jsx)(u._,{position:x,id:0,width:I,ref:O,onMove:T,onResize:Z,maxX:t,maxY:l,edgeOffsetTop:j,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16,resizeConfig:P,children:(0,r.jsx)("div",{className:m.tileContainer,children:y.map(e=>(0,r.jsx)(p.ZP,{participant:e,channel:_,onContextMenu:n,className:a()(m.tile,g.elevationHigh),fit:p.BP.COVER,inCall:!0,inPopout:!1,width:160,onClick:C},e.id))})})})}},793319:function(e,t,n){n.d(t,{NZ:()=>eE,ZP:()=>eT,r:()=>ej}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(202841),u=n(442837),d=n(704215),p=n(481060),h=n(846027),f=n(239091),m=n(287734),g=n(872810),b=n(410575),_=n(40851),y=n(317381),C=n(596040),x=n(100527),v=n(906732),O=n(358221),j=n(659580),E=n(855844),S=n(793865),I=n(575175),P=n(522651),Z=n(795318),T=n(243778),N=n(258609),A=n(446226),w=n(569545),R=n(74299),M=n(803647),D=n(554747),L=n(95764),k=n(459502),U=n(853170),B=n(140465),F=n(800966),G=n(641015),H=n(618158),V=n(390322),z=n(791592),W=n(136995),q=n(402113),Y=n(197016),K=n(386e3),X=n(331197),Q=n(698877),J=n(25827),$=n(875527),ee=n(306609),et=n(199902),en=n(523746),er=n(131951),ei=n(944486),el=n(594174),ea=n(923973),eo=n(829750),es=n(189771),ec=n(294629),eu=n(304745),ed=n(987329),ep=n(544384),eh=n(560688),ef=n(127608),em=n(76021),eg=n(173507),eb=n(981631),e_=n(354459),ey=n(921944),eC=n(32312);function ex(){return(ex=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function eO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ej(e,t){if(er.Z.isVideoEnabled()===e)return;let n=()=>h.Z.setVideoEnabled(e);(0,P.v)(x.Z.VOICE_CONTROL_TRAY,P.d.CAMERA,e),e?(0,eg.Z)(n,t):n()}function eE(e){let{channel:t,currentUser:n,exitFullScreen:l,canGoLive:a,hasPermission:o,disabled:s}=e,{parentAnalyticsLocation:c,analyticsLocations:h}=(0,v.ZP)(),f=(0,_.bp)(),m=(0,u.Wu)([et.Z],()=>et.Z.getAllActiveStreams()),g=m.find(e=>e.ownerId===n.id),b=i.useRef(null),y=i.useRef(null),C=t.getGuildId(),x=i.useCallback(()=>{if(null==l||l(),!a)return(0,ef.Z)();(0,em.Z)(C,t.id,h)},[C,t.id,a,l,h]),O=(0,B.B4)(),[j,E]=i.useState(!1),S=()=>{if((0,P.v)(c,P.d.STREAM,!0),a)return void x();(0,ef.Z)()},I=()=>{(0,P.v)(c,P.d.STREAM,!1),(0,M.Z)(g)};return(0,r.jsxs)(r.Fragment,{children:[(()=>{if(O&&0===m.length)return(0,r.jsx)(T.ZP,{contentTypes:[d.z.TRIAL_NUX_STREAM_COACH_MARK],bypassAutoDismiss:!0,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===d.z.TRIAL_NUX_STREAM_COACH_MARK)return E(!0),(0,r.jsx)(F.h,{buttonRef:b,dismissed:!1,onDismiss:()=>{n(ey.L.USER_DISMISS),E(!1)}})}})})(),(0,r.jsx)(H.Z,{children:(0,r.jsx)(p.yRy,{targetElementRef:y,renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(V.Z,{children:(0,r.jsx)(ep.Z,{channel:t,currentUser:n,activeStreams:null!=g?[g]:[],handleGoLive:x,appContext:f,onClose:i,onInteraction:eZ("ManageStreamsMenu")})})},position:"top",align:"center",spacing:16,animation:p.yRy.Animation.FADE,children:(e,t)=>{var n=ex({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e)),{isShown:i}=t;return(0,r.jsx)("div",{ref:y,children:((e,t)=>{let n=null!=e?e:{onClick:void 0},{onClick:i}=n,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["onClick"]),a=null!=g;return(0,r.jsx)(Q.O,eO(ev({},l),{centerButton:!0,disabled:s||!o,className:eC.controlButton,hasPermission:o,streamActive:null!=g,isSelfStream:!0,onPopoutClick:a?function(e){null==i||i(e)}:null,popoutOpen:t,shouldShowTooltip:!t,renderNUXHighlight:j,buttonRef:b,onClick:null!=g?I:S}))})(n,i)})}})})]})}function eS(e){let{channel:t,idle:n,whichPopoutIsOpen:i,setWhichPopoutIsOpen:l}=e,a=t.getGuildId();return(0,C.Z)(a,t.id)?(0,r.jsx)("div",{className:eC.buttonContainer,children:(0,r.jsx)(eu.M,{channel:t,idle:n,whichPopoutIsOpen:i,setWhichPopoutIsOpen:l})}):null}let eI=i.memo(function(e){let{currentUser:t,onDisconnectCall:n,channel:l,connectedEmbeddedActivity:a}=e,{parentAnalyticsLocation:o}=(0,v.ZP)(),s=(0,u.e7)([O.Z],()=>O.Z.getSelectedParticipant(l.id)),{reducedMotion:d}=i.useContext(p.Sfi),[h,f]=i.useState(!1),b=null==s?void 0:s.id,_=(0,u.e7)([et.Z],()=>null!=b?et.Z.getActiveStreamForStreamKey(b):null,[b]),y=(null==s?void 0:s.type)===e_.fO.STREAM&&null!=_&&_.ownerId!==(null==t?void 0:t.id),C=(0,u.Wu)([et.Z],()=>et.Z.getAllActiveStreamsForChannel(l.id).filter(e=>{let{ownerId:n}=e;return n!==(null==t?void 0:t.id)})),x=(0,D.qY)(l.id),j=i.useRef(null),E=i.useCallback(()=>(null==s?void 0:s.type)===e_.fO.ACTIVITY&&s.applicationId===(null==a?void 0:a.applicationId)?"ACTIVITY":y?"STREAM":null!=x?"EVENT":"CALL",[s,null==a?void 0:a.applicationId,y,x]),[S,I]=i.useState(E()),Z=(0,p.q_F)({opacity:h?.2:1,transform:h&&!d.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:h?600:1e3,friction:45,precision:.01,clamp:h},onRest:()=>{I(E()),f(!1)}},"animate-always");i.useEffect(()=>{E()!==S&&f(!0)},[S,E]);let T=i.useCallback(()=>{if(null!=_)(0,g.g)((0,w.V9)(_));else for(let e of C)(0,g.g)((0,w.V9)(e))},[C,_]);return(0,r.jsx)(p.yRy,{targetElementRef:j,renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(ep.Z,{channel:l,currentUser:t,activeStreams:C,handleGoLive:eb.VqG,hideSelfOptions:!0,onClose:n,onInteraction:eZ("ManageStreamsMenu")})},position:"top",align:"center",animation:p.yRy.Animation.FADE,children:(e,i)=>{let{onClick:u}=e,{isShown:d}=i;return(0,r.jsx)(c.animated.div,{style:Z,ref:j,children:((e,i)=>{let c={isTrayButton:!1,centerButton:!0,popoutOpen:e};switch(S){case"ACTIVITY":if(null==s||null==t||s.type!==e_.fO.ACTIVITY||null==a)return;return(0,r.jsx)(q.Z,eO(ev({},c),{applicationId:s.applicationId,color:"disconnect",location:a.location,onPopoutClick:C.length>0?i:null}));case"STREAM":return(0,r.jsx)(Q.O,eO(ev({},c),{hasPermission:!0,streamActive:!0,color:"disconnect",onClick:()=>{(0,P.v)(o,P.d.STOP_WATCHING),T()},onPopoutClick:C.length>1?i:null,isSelfStream:!1}));case"CALL":return(0,r.jsx)(Y.Z,eO(ev({},c),{color:"disconnect",onClick:()=>{(0,P.v)(o,P.d.DISCONNECT),null==n||n()},onPopoutClick:C.length>0?i:null}));case"EVENT":return(0,r.jsx)(L.Z,{channelId:l.id,onClick:()=>{(0,P.v)(o,P.d.DISCONNECT),m.default.disconnect(),null==n||n()}})}})(d,u)})}})});function eP(e){let{channel:t,cameraUnavailable:n,hasCameraPermission:l,currentUser:a}=e,o=(0,_.bp)(),{parentAnalyticsLocation:s}=(0,v.ZP)(),{reachedLimit:c,limit:d}=(0,eo.Z)(t),p=i.useCallback(()=>{(0,P.v)(s,P.d.JOIN_VIDEO_CALL),(0,eg.Z)(()=>m.default.selectVoiceChannel(t.id,!0),o)},[t.id,o,s]),h=i.useCallback(()=>{n?(0,eh.Z)():p()},[n,p]),f=(0,u.e7)([en.Z],()=>{let e=en.Z.getCall(t.id);return(null==e?void 0:e.ringing.includes(a.id))===!0});return(0,r.jsxs)("div",{className:eC.wrapper,children:[(0,r.jsx)(J.C,{enabled:!0,centerButton:!0,join:!0,color:"join",channelLimitReached:c,channelLimit:d,channel:t,cameraUnavailable:n,hasPermission:l,onCameraUnavailable:h,className:eC.controlButton,onChange:p}),(0,r.jsx)(W.Z,{centerButton:!0,color:"join",channel:t,className:eC.controlButton}),f?(0,r.jsx)(z.Z,{color:"disconnect",channel:t,className:eC.controlButton,isTrayButton:!1}):null]})}function eZ(e){return(0,Z.u)(e,x.Z.VOICE_CONTROL_TRAY,{entrypoint:e_.A5.CARET})}let eT=function(e){var t;let{channel:n,className:l,onDisconnectCall:o,exitFullScreen:c,idleProps:d}=e,h=i.useRef(null),[m,g]=i.useState(void 0),_=(0,u.e7)([el.default],()=>{let e=el.default.getCurrentUser();return s()(null!=e,"CenterControlTray: currentUser cannot be undefined"),e}),{cameraUnavailable:C,enabled:O}=(0,ea.Z)(),P=(0,es.Z)(n),{suppress:Z,selfMute:T,mute:w}=(0,ec.Z)(n),{canGoLive:M}=(0,u.cj)([er.Z],()=>({canGoLive:(0,R.Z)(er.Z)})),D=(0,A.Z)(),L=(0,u.e7)([N.Z],()=>null!=N.Z.getAwaitingRemoteSessionInfo()),B=null!=D,F=(0,u.e7)([ei.Z],()=>{var e;return(null!=(e=null==D?void 0:D.channelId)?e:ei.Z.getVoiceChannelId())===n.id}),H=(0,u.e7)([y.ZP],()=>y.ZP.getCurrentEmbeddedActivity()),{reachedLimit:z,limit:W}=(0,eo.Z)(n),{analyticsLocations:q}=(0,v.ZP)(x.Z.VOICE_CONTROL_TRAY),Y=(0,$.Hu)({location:x.Z.VOICE_CONTROL_TRAY,autoTrackExposure:!0}),{showRefreshedAudioContextMenu:Q}=(0,U.e)({location:x.Z.VOICE_CONTROL_TRAY}),et=(0,G.Z)(n),en=i.useRef(null),eu=i.useRef(null),ep=Y?e=>{(0,f.jW)(e,()=>Promise.resolve(()=>(0,r.jsx)(j.default,{onClose:f.Zy,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0,renderInputVolume:!0,renderOutputVolume:!0,renderDeafen:!0,minimal:!0,onInteraction:eZ("AudioDeviceMenu")})))}:void 0;return F?(0,r.jsx)(v.Gt,{value:q,children:(0,r.jsxs)(b.Z,{section:eb.jXE.VOICE_CONTROL_TRAY,children:[(0,r.jsx)("div",{className:eC.eventPromptsContainer,children:(0,r.jsx)(k.Z,{channelId:n.id})}),(0,r.jsxs)("div",{ref:h,className:a()(eC.wrapper,l),children:[(0,r.jsxs)("div",{className:eC.buttonSection,children:[(0,r.jsx)(p.yRy,{targetElementRef:en,renderPopout:e=>{let t,{closePopout:n}=e;return t=Y?(0,r.jsx)(ee.l,{wide:!0,showOutputDevices:!0,onSettingsButtonClick:n}):Q?(0,r.jsx)(E.Z,{onInteraction:eZ("AudioDeviceMenu"),onClose:n,maybeRenderPTTCheckbox:!0,renderInputProfiles:!0,renderInputDevices:!0,renderInputVolume:!0,maybeRenderInputMeter:!0,renderDeafenCheckbox:!0,renderOutputDevices:!0,renderOutputVolume:!0,renderSettingsButton:!0}):(0,r.jsx)(j.default,{onClose:n,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0,renderInputVolume:!0,renderOutputVolume:!0,renderDeafen:!0,minimal:!0,onInteraction:eZ("AudioDeviceMenu")}),(0,r.jsxs)(V.Z,{children:[t," "]})},align:"center",position:"top",animation:p.yRy.Animation.FADE,spacing:8,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(K.Z,{ref:en,centerButton:!0,onPopoutClick:B?null:n,selfMute:T,serverMute:w,suppress:Z,popoutOpen:i,awaitingRemote:L,onClick:()=>(0,I.Z)(w,Z,eb.jXE.VOICE_CONTROL_TRAY),onContextMenu:ep})}}),!B&&(0,r.jsx)(p.yRy,{targetElementRef:eu,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(V.Z,{children:(0,r.jsx)(S.Z,{onClose:t,minimal:!0,onInteraction:eZ("VideoDeviceMenu")})})},position:"top",align:"right",spacing:16,animation:p.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(J.C,{ref:eu,centerButton:!0,hasPermission:P,enabled:O,cameraUnavailable:C,onChange:ej,onCameraUnavailable:eh.Z,channelLimitReached:z,channelLimit:W,popoutOpen:i,onPopoutClick:n})}})]}),(0,r.jsxs)("div",{className:eC.buttonSection,children:[!B&&(0,r.jsx)(eE,{channel:n,currentUser:_,exitFullScreen:c,canGoLive:M,hasPermission:P}),!B&&(0,r.jsx)(eS,{channel:n,idle:null==(t=null==d?void 0:d.idle)||t,whichPopoutIsOpen:m,setWhichPopoutIsOpen:g}),et&&(0,r.jsx)(X.Z,{channel:n,themeable:!0,whichPopoutIsOpen:m,setWhichPopoutIsOpen:g}),(0,r.jsx)(ed.Z,{channel:n,whichPopoutIsOpen:m,setWhichPopoutIsOpen:g,remoteMode:B})]}),(0,r.jsx)(eI,{connectedEmbeddedActivity:H,currentUser:_,channel:n,onDisconnectCall:o})]})]})}):(0,r.jsx)(v.Gt,{value:q,children:(0,r.jsx)(eP,{channel:n,cameraUnavailable:C,hasCameraPermission:P,currentUser:_})})}},304745:function(e,t,n){n.d(t,{M:()=>S}),n(539854);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(481060),s=n(911969),c=n(40851),u=n(317381),d=n(314490),p=n(374065),h=n(451576),f=n(526846),m=n(119315),g=n(906732),b=n(397698),_=n(522651),y=n(243778),C=n(579185),x=n(301076),v=n(127379),O=n(981631),j=n(921944),E=n(388032);function S(e){let{channel:t,idle:n,whichPopoutIsOpen:S,setWhichPopoutIsOpen:I}=e,P=(0,l.e7)([u.ZP],()=>u.ZP.isLaunchingActivity()),Z=(0,p.KF)(t.id),T=(0,p.g5)(Z),N=Z!==p.jy.CAN_LAUNCH||P,{isHovered:A,setIsHovered:w,onMouseEnter:R,onMouseLeave:M}=(0,C.Z)(200,300),D=(0,d.p)({surface:s.eR.VOICE_LAUNCHER}),L=(0,l.e7)([u.ZP],()=>null!=u.ZP.getSelfEmbeddedActivityForLocation(u.ZP.getConnectedActivityLocation())),k=!N,U=i.useCallback(e=>{"focus"!==e.type&&R()},[R]),B=(0,c.bp)()===O.IlC.POPOUT,{parentAnalyticsLocation:F,newestAnalyticsLocation:G}=(0,g.ZP)(),H=i.useCallback(()=>{(0,_.v)(F,_.d.ACTIVITY),(0,b.Z)({context:null!=t?{type:"channel",channel:t}:{type:"contextless"},openInPopout:B,analyticsLocation:G})},[t,B,G,F]),V=[];N||V.push(a.z.ACTIVITIES_MINI_SHELF_SPARKLES),(0,h.Z)(t.id)&&!N&&V.push(a.z.ACTIVITY_GDM_ROCKET_SPARKLE),N||V.push(a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP);let z=i.useRef(!1),W=i.useRef(null);return(0,r.jsx)(y.ZP,{contentTypes:V,children:e=>{let{visibleContent:i,markAsDismissed:l}=e,s=i===a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP&&!n&&!A;return z.current&&!s&&l(j.L.AUTO_DISMISS),z.current!==s&&(z.current=s),(0,r.jsx)(o.yRy,{targetElementRef:W,fixed:!0,shouldShow:A&&(S===v.D.ACTIVITY||null==S),animation:o.yRy.Animation.FADE,animationPosition:"top",position:"top",align:"center",spacing:16,onRequestClose:()=>{w(!1),null==I||I(void 0)},renderPopout:e=>{let{closePopout:n,setPopoutRef:i}=e;return k?(0,r.jsx)(f.m,{ref:e=>{null==i||i(e)},channel:t,closePopout:n,onMouseEnter:R,onMouseLeave:M,isHovered:A,onClick:()=>l(j.L.UNKNOWN)}):(0,r.jsx)(r.Fragment,{})},children:()=>(0,r.jsx)(y.Xf,{contentType:a.z.ACTIVITIES_VOICE_LAUNCHER_BADGE,latestVersion:D,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ua7,{text:E.intl.string(E.t.P8vmUl),color:o.FGA.BRAND,forceOpen:!0,shouldShow:s,children:e=>{var o,s;return(0,r.jsx)("div",(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:W},e),s=s={children:(0,r.jsx)(x.Z,{disabled:N,"aria-label":T,label:k?void 0:T,isActivityActive:L,onClick:()=>{H(),(i===a.z.ACTIVITIES_MINI_SHELF_SPARKLES||i===a.z.ACTIVITY_GDM_ROCKET_SPARKLE||i===a.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_1_SPARKLES||i===a.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_2_SPARKLES||i===a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP)&&l(j.L.TAKE_ACTION),t===a.z.ACTIVITIES_VOICE_LAUNCHER_BADGE&&n(j.L.TAKE_ACTION)},onMouseEnter:U,onMouseLeave:M})},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(s,e))}),o))}}),t===a.z.ACTIVITIES_VOICE_LAUNCHER_BADGE?(0,r.jsx)(m.r,{top:2,right:2,size:6}):null]})}})})}})}},127379:function(e,t,n){n.d(t,{D:()=>i});var r,i=((r={}).ACTIVITY="ACTIVITY",r.SOUNDBOARD="SOUNDBOARD",r.EMOJI="EMOJI",r)},987329:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(481060),a=n(906732),o=n(408534),s=n(522651),c=n(795318),u=n(390322),d=n(871499),p=n(354459),h=n(388032);let f=e=>{let{channel:t,remoteMode:n=!1}=e,{parentAnalyticsLocation:f}=(0,a.ZP)(),m=i.useRef(null);return(0,r.jsx)(l.yRy,{targetElementRef:m,renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(u.Z,{children:(0,r.jsx)(o.Z,{onClose:i,channel:t,remoteMode:n,onInteraction:(0,c.u)("MoreSettingsMenu",f,{entrypoint:p.A5.THREE_DOT})})})},align:"right",position:"top",animation:l.yRy.Animation.FADE,spacing:16,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(d.d,{ref:m,isTrayButton:!0,onClick:e=>{(0,s.v)(f,s.d.MORE),n(e)},label:h.intl.string(h.t.PdRCRk),iconComponent:l.xhG,color:"primaryDark",isActive:i})}})}},3861:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288),i=n(647438),l=n(112724),a=n(413458),o=n(351248),s=n(600164),c=n(585483),u=n(340295),d=n(171277),p=n(677845),h=n(430371),f=n(45430),m=n(981631),g=n(354459),b=n(394024);let _=(0,l.Z)(e=>{let{participants:t,filteredParticipants:n,selectedParticipant:l,participantsVersion:_,layout:y,onSelectParticipant:C,onContextMenuParticipant:x,onFullscreenParticipant:v,channel:O,hasConnectPermission:j,className:E,inCall:S,showParticipants:I=!0,width:P,height:Z,idle:T,mode:N,popoutWindow:A,awaitingRemoteSessionInfo:w,callContainerDimensions:R}=e;i.useEffect(()=>{c.S.dispatch(m.CkL.REMEASURE_TARGET)},[P,Z,R.width,R.height]);let M=i.useMemo(()=>n.filter(e=>e.type!==g.fO.ACTIVITY||!e.participants.some(e=>(0,a.J)(e))),[n,_]);return(null==w?void 0:w.channelId)===O.id?(0,r.jsx)(d.Z,{height:Z}):(null==O?void 0:O.isGuildVocal())&&!S?(0,r.jsx)(u.Z,{channel:O,participants:t,hasConnectPermission:j}):N===m.WtW.VOICE?(0,r.jsx)(o.Z,{guildId:O.guild_id,width:P,className:b.voiceCallWrapper,participants:t,onContextMenu:x}):(n=S?n:t,null==l)?0===n.length?(0,r.jsx)(f.Z,{channelId:O.id}):(0,r.jsx)(s.Z,{className:b.videoGridWrapper,justify:s.Z.Justify.CENTER,align:s.Z.Align.CENTER,children:(0,r.jsx)(p.Z,{channel:O,className:b.videoGrid,participants:M,totalNumberOfParticipants:t.length,onClick:C,onDoubleClick:v,onContextMenu:x,inCall:S})}):(0,r.jsx)(h.Z,{onFullscreenParticipant:v,onContextMenuParticipant:x,onSelectParticipant:C,selectedParticipant:l,filteredParticipants:M,participants:t,popoutWindow:A,className:E,idle:T,height:Z,width:P,layout:y,inCall:S,channel:O,showParticipants:I})})},312703:function(e,t,n){n.d(t,{n3:()=>a});var r=n(823379),i=n(44136),l=n(354459);function a(e,t,n){return null==t||t.type===l.fO.ACTIVITY?[]:[t.type===l.fO.STREAM?e.find(e=>e.type===l.fO.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,i.ZP)(e)):null,t.type===l.fO.USER?e.find(e=>e.type===l.fO.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId):null,t.id!==n?e.find(e=>e.type===l.fO.USER&&e.id===n&&(0,i.ZP)(e)):null].filter(r.lm)}},340295:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(481060),a=n(287734),o=n(305325),s=n(281956),c=n(584729),u=n(27457),d=n(546247),p=n(354459),h=n(388032),f=n(427538);let m=function(e){let{participants:t,channel:n,hasConnectPermission:m}=e,g=t.filter(p.Io),b=(0,s.J)(n.guild_id),_=i.useCallback(()=>{b?(0,o.hk)(n.guild_id,()=>a.default.selectVoiceChannel(n.id)):a.default.selectVoiceChannel(n.id)},[n.id,n.guild_id,b]),y=4===g.length?2:3;return(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)("div",{className:f.tiles,style:{maxWidth:168*y},children:g.slice(0,5).map(e=>(0,r.jsx)(u.ZP,{participant:e,channel:n,className:f.tile,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,r.jsx)(l.X6q,{className:f.channelName,variant:"heading-xxl/semibold",children:n.name}),(0,r.jsx)("div",{className:f.participantsRow,children:(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:0===g.length?h.intl.string(h.t.zSqdra):1===g.length?h.intl.formatToPlainString(h.t.BUyJIC,{a:(0,c.Z)(n,g[0])}):2===g.length?h.intl.formatToPlainString(h.t.dcyZf3,{a:(0,c.Z)(n,g[0]),b:(0,c.Z)(n,g[1])}):g.length>2?h.intl.formatToPlainString(h.t["44/Obm"],{a:(0,c.Z)(n,g[0]),b:(0,c.Z)(n,g[1]),n:g.length-2}):void 0})}),(0,r.jsx)("div",{className:f.joinButton,children:(0,r.jsx)(l.zxk,{variant:"overlay-primary",text:m?h.intl.string(h.t["96ANUF"]):h.intl.string(h.t.TVBCKS),onClick:_,disabled:!m})})]})}},171277:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(481060),s=n(607070),c=n(254238),u=n(388032),d=n(508773);function p(e){let{height:t}=e,i=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion);return(0,r.jsxs)("div",{className:d.root,children:[(0,r.jsx)(o.Fmz,{importData:()=>n.e("78698").then(n.t.bind(n,141923,19)).then(e=>{let{default:t}=e;return t}),shouldAnimate:!i,className:l()(d.art,{[d.hidden]:t<=280})}),(0,r.jsx)(o.X6q,{className:d.header,variant:"heading-md/bold",children:u.intl.string(u.t["C+tj1d"])}),(0,r.jsx)(o.Text,{variant:"text-md/normal",color:"header-secondary",children:u.intl.format(u.t["nNHd//"],{onCancel:c.s6})})]})}},677845:function(e,t,n){n.d(t,{Z:()=>S}),n(539854);var r=n(951288),i=n(647438),l=n(990547),a=n(731965),o=n(442837),s=n(704215),c=n(40851),u=n(317381),d=n(374065),p=n(213609),h=n(358221),f=n(266454),m=n(159300),g=n(800329),b=n(470956),_=n(430824),y=n(496675),C=n(434488),x=n(27457),v=n(251564),O=n(695492),j=n(981631),E=n(312439);function S(e){let{participants:t,onClick:n,onDoubleClick:S,onContextMenu:I,channel:P,className:Z,inCall:T,totalNumberOfParticipants:N}=e,A=(0,c.bp)()===j.IlC.POPOUT,w=(0,o.e7)([_.Z],()=>_.Z.getGuild(P.guild_id),[P.guild_id]),{dismissedActivityEntryPointTileChannel:R}=(0,v.d)(),M=(0,o.e7)([h.Z],()=>h.Z.getUserParticipantCount(P.id),[P]),D=(0,b.bt)(P.id,t),L=i.useCallback(()=>{(0,a.j)(()=>{v.d.setState({dismissedActivityEntryPointTileChannel:P.id})})},[P.id]);i.useEffect(()=>{null!=R&&P.id!==R&&(0,a.j)(()=>{v.d.setState({dismissedActivityEntryPointTileChannel:null})})},[P.id,R]);let k=(0,o.e7)([y.Z],()=>P.isPrivate()||(0,m.b)(y.Z,w,P),[w,P]),U=(null==w?void 0:w.afkChannelId)===P.id,B=P.userLimit<=0||P.userLimit>1,F=(0,o.e7)([u.ZP],()=>u.ZP.getEmbeddedActivitiesForChannel(P.id).length<=0),G=(0,f.Nj)(s.z.VC_TILE_ACTIVITIES_ENTRY_POINT),H=(0,d.KF)(P.id)!==d.jy.CAN_LAUNCH,V=null!=R&&R===P.id,z=D.map(e=>t=>(0,r.jsx)(x.ZP,{participant:e,channel:P,className:E.tile,onClick:n,onDoubleClick:S,onContextMenu:I,inCall:T,width:t,inPopout:A},e.id));(0,p.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:N,can_invite:k,is_afk_channel:U,channel_user_limit:P.userLimit}},{trackOnInitialLoad:!0},[]),null!=w&&!U&&(!(M>=2)||!F||H||G||V?B&&1===M&&k&&(F&&!H?z.push(e=>(0,r.jsx)(C.h,{channel:P,guild:w,width:e,inPopout:A,handleClose:L,userParticipantCount:M})):z.push(e=>(0,r.jsx)(O.Z,{width:e,channel:P,guild:w,inPopout:A}))):z.push(e=>(0,r.jsx)(C.h,{channel:P,guild:w,width:e,inPopout:A,handleClose:L,userParticipantCount:M})));let W=i.useCallback(e=>{var t,n;return null!=(n=null==(t=D[e])?void 0:t.id)?n:"empty-tile"},[D]);return(0,r.jsx)(g.Z,{className:Z,keyExtractor:W,paddingTop:64,paddingBottom:64,children:z})}},251564:function(e,t,n){n.d(t,{d:()=>r});let r=(0,n(879690).U)(()=>({dismissedActivityEntryPointTileChannel:null}))},695492:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(481060),l=n(607187),a=n(112560),o=n(981631),s=n(388032),c=n(105740),u=n(800350);function d(e){let{channel:t,guild:d,width:p,inPopout:h}=e;return(0,r.jsx)(l.Z,{className:c.root,children:(0,r.jsx)(a.Z,{artURL:u,size:(0,a.L)(p),header:s.intl.string(s.t.O4FiWl),onCTAClick:()=>(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:d,channel:t,source:o.t4x.CHANNEL_CALL},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}},{contextKey:h?i.u1M:i.z1l}),callToAction:s.intl.string(s.t.VINpSE)})})}},430371:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(202841),s=n(481060),c=n(110924),u=n(988980),d=n(157813),p=n(314897),h=n(131951),f=n(585483),m=n(807705),g=n(27457),b=n(111248),_=n(312703),y=n(796638),C=n(981631),x=n(354459),v=n(394024),O=n(597843);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let S=16/9,I=8+y.cF;function P(e){var t;let n,{onSelectParticipant:l,onContextMenuParticipant:P,onFullscreenParticipant:Z,participants:T,filteredParticipants:N,popoutWindow:A,inCall:w,channel:R,selectedParticipant:M,showParticipants:D=!0,className:L,width:k,height:U,layout:B,idle:F}=e,G=null!=A,H=h.Z.getVideoComponent(),V=p.default.getId(),[z,W]=i.useState(null),q=(0,c.Z)(z),[Y,K]=i.useState(!0),[X,Q]=i.useState(!1),J=M.type===x.fO.ACTIVITY,$=(0,u.Z)(J?M.applicationId:void 0),ee=!J&&null!=M.streamId,et=U<=2*I+144,en=D&&!et,er=(0,c.Z)(en),ei=B===C.AEg.MINIMUM||B===C.AEg.NORMAL,el=!et&&(!ei||J),ea=(0,m.Z)(el,100),eo=(null!=(t=(0,c.Z)(M.id))?t:M.id)!==M.id,es=0;(J||en)&&(es+=72),J&&!en&&(el?es+=48:es+=8),en&&(es+=.5*I+8);let ec=i.useMemo(()=>J&&$?k/(U-2*es):ee&&null!=z&&z.width>0&&z.height>0?z.width/z.height:S,[ee,z,J,k,U,es,$]),eu=U-2*es,ed=J&&$?k:eu*ec,ep=Math.floor(Math.min(k,ed)/ec),eh=U>k/ec+72+I+8;n=en||J?en?-16:-8:40+Math.max(0,72-(U-ep)/2),i.useEffect(()=>{let e=setTimeout(()=>{K(!1)},250);return()=>{clearTimeout(e)}},[]);let ef=Y||null==q,em=ef?"animate-never":"animate-always",eg=(0,s.q_F)({value:+!!en,delay:eh||!en?0:100,config:E(j({},o.config.stiff),{clamp:!0}),onStart:()=>Q(!0),onChange:()=>f.S.dispatch(C.CkL.REMEASURE_TARGET),onRest:()=>{Q(!1),f.S.dispatch(C.CkL.REMEASURE_TARGET)}},em),eb=(0,s.q_F)({value:+!!en,config:E(j({},o.config.stiff),{clamp:!0})},em),e_=(0,s.q_F)({value:ed,config:E(j({},o.config.stiff),{clamp:!0})},er===en&&eb.value.idle&&!ea||eo||ef?"animate-never":"animate-always"),ey=(0,s.q_F)({value:n,config:E(j({},o.config.stiff),{clamp:!0})},em),eC=(0,s.Yzy)(M,{keys:e=>null==e?void 0:e.id,config:E(j({},o.config.stiff),{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},em),ex=i.useCallback(e=>{W(e),K(!1)},[]),ev=en?[]:(0,_.n3)(T,M,V),{visibleParticipants:eO,participantTileWidth:ej}=(0,y.ZB)(k,N);return(0,r.jsxs)("div",{className:a()(O.root,v.flexCenter,L),children:[(0,r.jsxs)("div",{className:O.tileWrapper,style:{opacity:ee&&Y?0:1},children:[(0,r.jsxs)(o.animated.div,{className:O.videoFrame,style:{top:eb.value.to(e=>-e*I/2)},children:[(0,r.jsx)(o.animated.div,{style:{width:e_.value},className:O.videoWrapper,children:(0,r.jsx)("div",{className:v.videoSizer,style:{aspectRatio:ec},children:eC((e,t,n)=>{let{key:i}=n;return null!=t?(0,r.jsx)(o.animated.div,{className:v.videoWrapperAnimated,style:e,children:(0,r.jsx)(g.ZP,{focused:!0,noBorder:ed>=k||eu>=U,channel:R,className:v.focusedVideo,videoComponent:H,width:k,participant:t,onClick:l,onDoubleClick:Z,onContextMenu:P,onVideoResize:ex,inCall:w,inPopout:G})},i):null})})}),el?(0,r.jsx)(o.animated.div,{className:a()(O.actionRow,{[O.idle]:F}),style:{bottom:ey.value},children:(0,r.jsx)(d.Z,{channelId:R.id,isParticipantsOpen:D,isVertical:!0})}):null]}),(0,r.jsx)(o.animated.div,{className:O.participantsWrapperAnimated,style:{translateY:eg.value.to(e=>e*I/2),opacity:eg.value,visibility:eg.value.to(e=>0===e?"hidden":"visible")},children:(0,r.jsx)(y.ZP,{channel:R,onClick:l,onContextMenu:P,onDoubleClick:Z,participants:eO,participantTileWidth:ej,selectedParticipantId:M.id,inCall:w,popoutWindow:A,paused:X||!D})})]}),ev.length>0?(0,r.jsx)(b.Z,{onContextMenuParticipant:P,width:k,height:U,channel:R,participants:ev,onSelectParticipant:l}):null]})}},493754:function(e,t,n){n.d(t,{W:()=>C,Z:()=>x});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(512722),o=n.n(a),s=n(442837),c=n(755721),u=n(481060),d=n(924301),p=n(786915),h=n(430824),f=n(496675),m=n(981631),g=n(388032),b=n(811130);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function C(e){let{guild:t,channel:i,streamUserId:l,applicationId:a,appContext:o,exitFullScreen:s,analyticsLocation:c,guildScheduledEvent:d}=e;null==s||s(),(0,u.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(e,y(_({},n),{guild:t,channel:i,streamUserId:l,applicationId:a,analyticsLocation:c,source:i.isGuildStageVoice()?m.t4x.STAGE_CHANNEL:m.t4x.STREAM_INVITE,guildScheduledEvent:d}))},{modalKey:"stream-invite-modal",contextKey:o===m.IlC.POPOUT?u.u1M:u.z1l})}function x(e){var t,{stream:n,applicationId:i,channel:a,exitFullScreen:u,appContext:x,analyticsLocation:v,className:O}=e,j=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"]);let E=null==a?void 0:a.getGuildId(),S=null==a?void 0:a.id,I=(0,s.e7)([h.Z],()=>null!=E?h.Z.getGuild(E):null,[E]),P=(0,s.e7)([d.ZP],()=>d.ZP.getActiveEventByChannel(S),[S]);if(!(null!=I&&null!=a&&f.Z.can(m.Plq.CREATE_INSTANT_INVITE,a)))return null;let Z=g.intl.string(g.t.VINpSE);return null!=n?Z=g.intl.string(g.t["6VQaqa"]):null!=i&&(Z=g.intl.string(g.t["OzOM/v"])),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zx,y(_({size:null!=(t=j.size)?t:c.zx.Sizes.SMALL,color:b.buttonColor,onClick:()=>{o()(null!=I,"guild cannot be null"),o()(null!=a,"channel cannot be null"),C({guild:I,channel:a,streamUserId:null==n?void 0:n.ownerId,applicationId:i,appContext:x,exitFullScreen:u,analyticsLocation:v,guildScheduledEvent:P})},className:l()(O,b.textButton)},j),{children:Z})),(0,r.jsx)(p.Z,{channel:a,stream:n,appContext:x,className:l()(O,b.iconButton),exitFullScreen:u,analyticsLocation:v,guildScheduledEvent:P})]})}},45430:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(755721),l=n(481060),a=n(475179),o=n(841397),s=n(388032),c=n(427538);function u(e){let{channelId:t}=e;return(0,r.jsxs)("div",{className:c.container,children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:c.content,children:[(0,r.jsx)(l.X6q,{variant:"heading-lg/normal",children:s.intl.format(s.t.ilLVLi,{})}),(0,r.jsx)(i.zx,{size:i.zx.Sizes.LARGE,color:i.zx.Colors.PRIMARY,onClick:e=>{e.stopPropagation(),a.Z.toggleVoiceParticipantsHidden(t,!1)},children:s.intl.string(s.t.kLQySE)})]})]})}},546247:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(998502),a=n(70185);let o=l.ZP.getEnableHardwareAcceleration()?function(e){let{eventTargetRef:t}=e;return(0,r.jsx)(i.zLd,{className:a.pulseGradient,eventTargetRef:t})}:function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1000",height:"1000",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 1000 1000",style:{position:"absolute",bottom:0,width:"100%"},children:[(0,r.jsxs)("g",{"clip-path":"url(#a)",children:[(0,r.jsx)("path",{fill:"#000",d:"M1000 0H0v1000h1000V0Z"}),(0,r.jsx)("g",{filter:"url(#b)",opacity:".8",children:(0,r.jsx)("path",{fill:"#201E6E",d:"M500 1922.1c349.485 0 632.8-379.26 632.8-847.1 0-467.841-283.315-847.101-632.8-847.101-349.486 0-632.8 379.26-632.8 847.101 0 467.84 283.314 847.1 632.8 847.1Z"})}),(0,r.jsx)("g",{filter:"url(#c)",opacity:".5",children:(0,r.jsx)("path",{fill:"#EB459E",d:"M500 1428c177.283 0 321-179.98 321-402 0-222.018-143.717-402-321-402s-321 179.982-321 402c0 222.02 143.717 402 321 402Z"})}),(0,r.jsx)("g",{filter:"url(#d)",children:(0,r.jsx)("path",{stroke:"#5865F2","stroke-width":"14.648",d:"M500 1664.5c368.098 0 666.5-298.4 666.5-666.5 0-368.098-298.402-666.5-666.5-666.5S-166.5 629.902-166.5 998c0 368.1 298.402 666.5 666.5 666.5Z"})}),(0,r.jsx)("g",{filter:"url(#e)",children:(0,r.jsx)("path",{fill:"#5865F2",d:"M500 1379c166.79 0 302-123.35 302-275.5C802 951.346 666.79 828 500 828s-302 123.346-302 275.5c0 152.15 135.21 275.5 302 275.5Z"})})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("filter",{id:"b",width:"1753.88",height:"2182.48",x:"-376.941",y:"-16.241","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34965",stdDeviation:"122.07"})]}),(0,r.jsxs)("filter",{id:"c",width:"1227.94",height:"1389.94",x:"-113.969",y:"331.031","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34965",stdDeviation:"146.484"})]}),(0,r.jsxs)("filter",{id:"d",width:"1738.27",height:"1738.27",x:"-369.137",y:"128.863","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34965",stdDeviation:"97.656"})]}),(0,r.jsxs)("filter",{id:"e",width:"1287.59",height:"1234.59",x:"-143.797",y:"486.203","color-interpolation-filters":"sRGB",filterUnits:"userSpaceOnUse",children:[(0,r.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1212_34965",stdDeviation:"170.898"})]}),(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h1000v1000H0z"})})]})]})}},127608:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(388032);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function o(){function e(){(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("32996"),n.e("74023")]).then(n.bind(n,431583));return t=>(0,r.jsx)(e,a({source:"Screenshare Unavailable"},t))})}(0,i.ZDy)(async()=>{let{default:t}=await n.e("67753").then(n.bind(n,873809));return n=>{var i,o;return(0,r.jsx)(t,(i=a({},n),o=o={header:l.intl.string(l.t.GFr0GR),body:l.intl.string(l.t.QSk6Ex),confirmText:l.intl.string(l.t.BK8LKy),onConfirm:e},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))}),i))}})}},809244:function(e,t,n){n.d(t,{Z:()=>a});var r=n(687516),i=n(5192),l=n(388032);function a(e,t,n){let a=(0,r.Cf)(n),o=i.ZP.getName(e.getGuildId(),e.id,t);return null==n?o:(null==a?void 0:a.name)!=null?l.intl.formatToPlainString(l.t["9jpVOT"],{applicationName:null==a?void 0:a.name,username:o}):l.intl.formatToPlainString(l.t["+h0Z5+"],{username:o})}},880831:function(e,t,n){n.d(t,{Z:()=>N,z:()=>Z}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(202841),c=n(442837),u=n(481060),d=n(570140),p=n(475179),h=n(904245),f=n(372900),m=n(905405),g=n(937889),b=n(739566),_=n(267128),y=n(378233),C=n(419922),x=n(375954),v=n(699516),O=n(768581),j=n(70956),E=n(823379),S=n(981631),I=n(217702),P=n(89019);let Z=10*j.Z.Millis.SECOND;function T(e){var t;let{message:n}=e,{isBlocked:l,isIgnored:o}=(0,c.cj)([v.Z],()=>({isBlocked:v.Z.isBlockedForMessage(n),isIgnored:v.Z.isIgnoredForMessage(n)}),[n]),s=(0,b.Uj)(n),d=i.useContext(f.Z),[x,j]=i.useState(!1),E=(0,m.p)(),S=i.useCallback(e=>{"A"!==e.target.nodeName&&(p.Z.updateChatOpen(n.channel_id,!0),h.Z.jumpToMessage({channelId:n.channel_id,messageId:n.id,flash:!0}))},[n.channel_id,n.id]),Z=null!=n.content&&""!==n.content?(0,g.ZP)(n,{isInteracting:x,shouldFilterKeywords:E}).content:null,{contentPlaceholder:T,renderedContent:N,trailingIcon:A,leadingIcon:w}=(0,_.f)(n,Z,l,o,P.messageContent,{trailingIconClass:P.messageContentTrailingIcon,leadingIconClass:P.messageContentLeadingIcon,iconSize:I.WW}),R=(0,y.cv)(n),M=R.length>0?R.map(e=>(0,r.jsx)(C.Z,{className:P.sticker,size:128,sticker:e,isInteracting:x},e.id)):null;return(0,r.jsxs)(u.P3F,{className:P.toast,onMouseEnter:()=>{j(!0)},onMouseLeave:()=>{j(!1)},onClick:S,children:[(0,r.jsxs)("div",{className:a()(P.messageContentWrapper,{[P.mentioned]:n.mentioned}),children:[null!=M?null:w,null!=(t=null!=N?N:M)?t:(0,r.jsx)("span",{children:T}),null!=M?null:A]}),(0,r.jsx)("img",{alt:"",src:(null==s?void 0:s.guildMemberAvatar)!=null&&null!=d?(0,O.JM)({guildId:d,userId:n.author.id,avatar:s.guildMemberAvatar}):n.author.getAvatarURL(d,32),className:P.avatar})]})}function N(e){let{channelId:t,className:n}=e,[l,p]=i.useState(!1),{toastsHidden:h,toastMessages:f}=function(e){var t;let{channelId:n,isFrozen:r,count:l,lingerMs:a}=e,[o,s]=i.useState([]),[u,p]=i.useState(!1),h=i.useRef(null),f=i.useRef(void 0),m=i.useCallback(()=>{s([]),p(!0)},[]);i.useEffect(()=>{function e(e){let{channelId:t,message:r,optimistic:i}=e;t!==n||r.type===S.uaV.STAGE_START||r.type===S.uaV.STAGE_END||r.type===S.uaV.STAGE_TOPIC||r.type===S.uaV.STAGE_SPEAKER||r.type===S.uaV.STAGE_RAISE_HAND||i||(clearTimeout(f.current),f.current=setTimeout(m,a),s(e=>[...e,r.id]))}return d.Z.subscribe("MESSAGE_CREATE",e),()=>{d.Z.unsubscribe("MESSAGE_CREATE",e)}},[n,m,l,a]),i.useEffect(()=>()=>{clearTimeout(f.current)},[]),i.useEffect(()=>{o.length>3&&s(e=>{let t=e.length-3;return[...e.slice(t)]})},[o]),r&&null==h.current?h.current=o:r||null==h.current||(h.current=null);let g=null!=(t=h.current)?t:o;return{toastsHidden:u,toastMessages:(0,c.Wu)([x.Z],()=>g.map(e=>x.Z.getMessage(n,e)),[n,g]).filter(E.lm)}}({channelId:t,isFrozen:l,count:3,lingerMs:Z}),m=i.useRef({}),[g,b]=i.useState({}),_=i.useCallback((e,t)=>{null==t?delete m.current[e]:m.current[e]=t},[]),y=i.useRef(g);i.useLayoutEffect(()=>{y.current=g}),i.useLayoutEffect(()=>{let e={},t=0;for(let r of f){var n;let i=null!=(n=m.current[r.id])?n:0;e[r.id]=t,t+=i+8}(0,o.isEqual)(e,y.current)||b(e)},[f]);let C=f.map(e=>({message:e,height:m.current[e.id],y:g[e.id]})),v=(0,u.Yzy)(C,{keys:e=>e.message.id,from:()=>({opacity:0}),enter:e=>{let{y:t}=e;return{opacity:1,translateY:t}},update:e=>{let{y:t}=e;return{translateY:t}},leave:e=>{let{height:t,y:n}=e;return{opacity:0,translateY:h?n:-(null!=t?t:0)-8,pointerEvents:"none"}}});return(0,r.jsx)(u.f6W,{theme:S.BRd.DARK,children:e=>(0,r.jsx)("div",{className:a()(n,e),onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:v((e,t)=>(0,r.jsx)(s.animated.div,{ref:e=>_(t.message.id,null!=e?e.offsetHeight:null),className:P.toastWrapper,style:e,children:(0,r.jsx)(T,{message:t.message})}))})})}},73563:function(e,t,n){n.d(t,{Z:()=>m,e:()=>h});var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(481060),c=n(600164),u=n(507675),d=n(349364);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var h=((r={})[r.TOP=0]="TOP",r[r.BOTTOM=1]="BOTTOM",r);function f(e){let{disableGradients:t=!1,renderHeader:n,renderBottomLeft:r,renderBottomCenter:a,renderBottomRight:o,renderCenter:u}=e,p=l.useRef(null);return(0,i.jsx)(s.JcV,{containerRef:p,children:(0,i.jsxs)("div",{className:d.videoControls,ref:p,children:[0!==t&&!0!==t&&(0,i.jsx)("div",{className:d.gradientTop}),1!==t&&!0!==t&&(0,i.jsx)("div",{className:d.gradientBottom}),(0,i.jsx)("div",{className:d.topControls,children:null==n?void 0:n()}),null==u?void 0:u(),(0,i.jsxs)("div",{className:d.bottomControls,children:[(0,i.jsx)(c.Z,{grow:1,align:c.Z.Align.CENTER,className:d.edgeControls,children:null==r?void 0:r()}),(0,i.jsx)(c.Z,{grow:1,justify:c.Z.Justify.CENTER,align:c.Z.Align.CENTER,children:null==a?void 0:a()})," ",(0,i.jsx)(c.Z,{grow:1,justify:c.Z.Justify.END,align:c.Z.Align.CENTER,className:d.edgeControls,children:null==o?void 0:o()})]})]})})}function m(e){var{screenMessage:t,onDoubleClick:n,onActive:r,onForceIdle:l,idle:a,children:s,renderChatToasts:c,renderVoiceChannelEffects:h,style:m}=e,g=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatToasts","renderVoiceChannelEffects","style"]);return(0,i.jsxs)("div",{className:o()(d.root,{[d.idle]:a}),style:m,onMouseMove:r,onMouseDown:r,onMouseLeave:l,onDoubleClick:n,children:[s,null!=t?(0,i.jsx)(u.Z,p({size:"large"},t)):null,(0,i.jsx)(f,p({},g)),null==c?void 0:c(),null==h?void 0:h()]})}},301076:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288);n(647438);var i=n(562129),l=n(871499);function a(e){var{isActivityActive:t,onMouseEnter:n,onMouseLeave:a,onClick:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["isActivityActive","onMouseEnter","onMouseLeave","onClick"]);let{Component:c,events:u,play:d}=(0,i.Z)("ActivityButton");return(0,r.jsx)(l.d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({isTrayButton:!0,isActive:t,color:t?"green":void 0,iconComponent:c,onMouseEnter:e=>{null==n||n(e),u.onMouseEnter()},onMouseLeave:e=>{null==a||a(e),u.onMouseLeave()},onClick:e=>{null==o||o(e),d()}},s))}},751843:function(e,t,n){n.d(t,{Z:()=>p});var r,i=n(951288);n(647438);var l=n(120356),a=n.n(l),o=n(481060),s=n(871499),c=n(112589),u=((r=u||{})[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r);function d(e){var{direction:t,className:n,themeable:r}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["direction","className","themeable"]);return(0,i.jsx)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:a()(n,c.arrow,{[c.up]:0===t}),iconComponent:o.CJ0,themeable:r},l))}d.Directions=u;let p=d},616286:function(e,t,n){n.d(t,{T:()=>j}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(442837),c=n(475179),u=n(906732),d=n(358221),p=n(522651),h=n(306680),f=n(944486),m=n(111583),g=n(459273),b=n(880831),_=n(774168),y=n(871499),C=n(981631),x=n(388032);function v(e){let t=(0,s.e7)([m.Z],()=>!(0,o.isEmpty)(m.Z.getTypingUsers(e)),[e]),n=(0,s.e7)([f.Z],()=>f.Z.getVoiceChannelId()===e,[e]),{unreadCount:r,mentionCount:i}=(0,s.cj)([h.ZP],()=>({unreadCount:h.ZP.getUnreadCount(e),mentionCount:h.ZP.getMentionCount(e)}),[e]);return{unreadCount:r,mentionCount:i,voiceChannelIsSelected:n,isTyping:t}}function O(e){let{className:t,channelId:n}=e,{unreadCount:i,mentionCount:l,isTyping:a,voiceChannelIsSelected:o}=v(n);return(0,r.jsx)(_.Z,{className:t,unreadCount:i,mentionCount:l,isTyping:a,canBadge:o})}function j(e){let t;var{channelId:n,className:l,showingClassName:o,onClick:h,inPopout:f,showRequestToSpeakSidebar:m,toggleRequestToSpeakSidebar:_}=e,j=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channelId","className","showingClassName","onClick","inPopout","showRequestToSpeakSidebar","toggleRequestToSpeakSidebar"]);let{parentAnalyticsLocation:E}=(0,u.ZP)(),{disabled:S}=j,I=i.useRef(null),P=(0,s.e7)([d.Z],()=>d.Z.getChatOpen(n),[n]),{isShowing:Z,unreadCount:T,mentionCount:N}=function(e){let{unreadCount:t,mentionCount:n,isTyping:r}=v(e),[l,a]=i.useState(!1);return i.useEffect(()=>{a(t>0);let e=setTimeout(()=>{a(!1)},b.z);return()=>{clearTimeout(e),a(!1)}},[t]),{isShowing:l||n>0||r,unreadCount:t,mentionCount:n}}(n),A=i.useCallback(()=>{(0,p.v)(E,p.d.CHAT,!P),null==h||h(),!P&&m&&(null==_||_()),c.Z.updateChatOpen(n,!P)},[n,P,h,m,_,E]),w=i.useCallback(e=>{let{className:t}=e;return(0,r.jsx)(O,{className:t,channelId:n})},[n]),R=i.useCallback(()=>{var e;null==(e=I.current)||e.focus()},[]);(0,g.yp)({event:C.CkL.FOCUS_CHAT_BUTTON,handler:S?null:R});let[M,D]=i.useState(!1),L=i.useCallback(()=>{f&&D(!0)},[f]);(0,g.yp)({event:C.CkL.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:L}),i.useEffect(()=>{let e;return M&&(e=setTimeout(()=>{D(!1)},3e3)),()=>{clearTimeout(e)}},[M]);let k=[t=f&&S?x.intl.string(x.t.DPgc5u):P?x.intl.string(x.t.nthdxM):x.intl.string(x.t["5KxXrK"])];return N>0&&k.push(x.intl.formatToPlainString(x.t["3l1GOz"],{mentionCount:N})),T>0&&k.push(x.intl.string(x.t.x5zAGR)),(0,r.jsx)(y.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({buttonRef:I,onClick:A,label:t,"aria-label":k.join(", "),iconComponent:w,tooltipPosition:"bottom",wrapperClassName:a()(l,null!=o&&{[o]:Z}),forceTooltipOpen:M},j))}},481051:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(867506);function s(e){let{hasMentions:t,truncatedCount:n,className:i}=e;return(0,r.jsx)(a.Text,{className:l()(o.unreadCount,i,{[o.mention]:t}),variant:"text-xs/normal",children:n})}},774168:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(772848),s=n(481060),c=n(481051),u=n(753797);function d(e){let{width:t=24,height:n=24,isBadged:l=!1,isTyping:a=!1}=e,[c]=i.useState(()=>(0,o.Z)());return(0,r.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:c,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),a&&(0,r.jsx)("g",{fill:"black",transform:"translate(5.5, ".concat(10.5,") scale(").concat(11/24,")"),children:(0,r.jsx)(s.IJ0,{dotRadius:3.5,spacing:3,fill:"black"})}),l&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"red"})]})}),(0,r.jsx)("g",{mask:"url(#".concat(c,")"),children:(0,r.jsx)(s.kBi,{size:"custom",width:t,height:n,color:"currentColor"})})]})}function p(e){var t;let{className:n,unreadCount:i,mentionCount:l,isTyping:o,canBadge:s}=e,p=null!=l&&l>0,h=null!=(t=p?l:i)?t:0,f=s&&null!=i&&i>0;return(0,r.jsxs)("div",{className:a()(u.chatIcon,n),children:[(0,r.jsx)(d,{isBadged:f,isTyping:o}),f&&(0,r.jsx)(c.Z,{hasMentions:p,truncatedCount:h>99?"99+":h,className:u.badge})]})}},791592:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(26151),a=n(871499),o=n(388032);function s(e){var t,n,{channel:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channel"]);return(0,r.jsx)(a.d,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c),n=n={iconComponent:i.Dio,label:o.intl.string(o.t.WAI6xs),onClick:()=>l.Z.stopRinging(s.id)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},786915:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288);n(647438);var i=n(512722),l=n.n(i),a=n(442837),o=n(481060),s=n(24124),c=n(40851),u=n(906732),d=n(522651),p=n(430824),h=n(293273),f=n(496675),m=n(871499),g=n(981631),b=n(388032);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function y(e){var{applicationId:t,stream:i,channel:y,exitFullScreen:C,appContext:x,analyticsLocation:v,guildScheduledEvent:O,shouldPrioritizeGroupPlusIcon:j=!1,isRichPresenceInvite:E=!1,iconClassName:S,look:I,size:P,buttonText:Z,color:T}=e,N=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["applicationId","stream","channel","exitFullScreen","appContext","analyticsLocation","guildScheduledEvent","shouldPrioritizeGroupPlusIcon","isRichPresenceInvite","iconClassName","look","size","buttonText","color"]);let A=(0,c.bp)(),{parentAnalyticsLocation:w}=(0,u.ZP)(),R=null==y?void 0:y.getGuildId(),M=(0,a.e7)([p.Z],()=>null!=R?p.Z.getGuild(R):null,[R]),D=(0,a.e7)([h.Z],()=>null!=t?h.Z.getApplicationActivity(t):void 0),L=null==t||j?o.ejJ:o.gQj,k=null!=t?b.intl.string(b.t["OzOM/v"]):b.intl.string(b.t["6F9ivr"]);return null!=D&&E?(0,r.jsx)(m.Z,{onClick:()=>{null!=w&&(0,d.v)(w,d.d.INVITE),s.h7(D,!1,A)},iconComponent:L,label:k,iconClassName:S,look:I,size:P,buttonText:Z,color:null!=T?T:void 0}):null!=M&&null!=y&&f.Z.can(g.Plq.CREATE_INSTANT_INVITE,y)?(0,r.jsx)(m.Z,_({onClick:()=>{l()(null!=M,"guild cannot be null"),l()(null!=y,"channel cannot be null"),null!=w&&(0,d.v)(w,d.d.INVITE),function(e){let{guild:t,channel:i,streamUserId:l,applicationId:a,appContext:s,exitFullScreen:c,analyticsLocation:u,guildScheduledEvent:d}=e;null==c||c(),(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>{var o,s;return(0,r.jsx)(e,(o=_({},n),s=s={guild:t,channel:i,streamUserId:l,applicationId:a,analyticsLocation:u,source:i.isGuildStageVoice()?g.t4x.STAGE_CHANNEL:g.t4x.STREAM_INVITE,guildScheduledEvent:d},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(s,e))}),o))}},{modalKey:"stream-invite-modal",contextKey:s===g.IlC.POPOUT?o.u1M:o.z1l})}({guild:M,channel:y,streamUserId:null==i?void 0:i.ownerId,applicationId:t,appContext:null!=x?x:A,exitFullScreen:C,analyticsLocation:v,guildScheduledEvent:O})},iconComponent:L,label:k,iconClassName:S,look:I,size:P,color:T,buttonText:Z},N)):null}},386e3:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(481060),a=n(906732),o=n(628581),s=n(522651),c=n(8404),u=n(871499);function d(e){var{selfMute:t,serverMute:n,suppress:d,centerButton:p=!1,awaitingRemote:h,onMouseEnter:f,onMouseLeave:m,onClick:g}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["selfMute","serverMute","suppress","centerButton","awaitingRemote","onMouseEnter","onMouseLeave","onClick"]);let{parentAnalyticsLocation:_}=(0,a.ZP)(),y=t||n||d,C=p?u.d:u.Z,x=(0,o.Z)(t,n,d,h),{events:v,play:O,Component:j}=(0,c.b)(y),E=n||d?l.v0G:j;return i.useEffect(()=>()=>O(),[O,y]),(0,r.jsx)(C,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({iconComponent:E,isTrayButton:!0,caretColor:y?"red":"primaryDark",color:y?"red":void 0,label:x,onMouseEnter:e=>{null==f||f(e),v.onMouseEnter()},onMouseLeave:e=>{null==m||m(e),v.onMouseLeave()},onClick:e=>{null==g||g(e),(0,s.v)(_,s.d.MIC,t)}},b))}},331197:function(e,t,n){n.d(t,{Z:()=>j}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(582019),s=n(235874),c=n(239091),u=n(906732),d=n(522651),p=n(795318),h=n(706140),f=n(579185),m=n(242291),g=n(792165),b=n(603074),_=n(294629),y=n(131951),C=n(390322),x=n(871499),v=n(127379),O=n(388032);function j(e){let{channel:t,themeable:j,whichPopoutIsOpen:E,setWhichPopoutIsOpen:S}=e,{parentAnalyticsLocation:I}=(0,u.ZP)(),{Component:P,play:Z,events:{onMouseEnter:T,onMouseLeave:N}}=(0,o.j)(),A=t.getGuildId(),{mute:w,suppress:R}=(0,_.Z)(t),M=(0,l.e7)([y.Z],()=>y.Z.isDeaf()),D=w||R||M,L=(0,m.sR)({isSoundboardButtonDisabled:D}),[k,U]=(0,h.cv)(L),{analyticsLocations:B}=(0,u.ZP)(),{isHovered:F,setIsHovered:G,onMouseEnter:H,onMouseLeave:V}=(0,f.Z)(200,300);function z(e){null!=A&&(0,c.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({guildId:A,sourceAnalyticsLocations:B},t),i=i={onInteraction:(0,p.u)("SoundboardContextMenu",I)},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}function W(){(0,d.v)(I,d.d.SOUNDBOARD),E===v.D.SOUNDBOARD?(null==S||S(void 0),V()):(null!=E?(Z(),H()):Z(),null==S||S(v.D.SOUNDBOARD))}let q=i.useRef(null);return(0,r.jsx)(s.y,{targetElementRef:q,shouldShow:F&&(E===v.D.SOUNDBOARD||null==E)||E===v.D.SOUNDBOARD,animation:s.y.Animation.FADE,animationPosition:"top",position:"top",align:"center",spacing:16,onRequestClose:()=>{G(!1),null==S||S(void 0)},renderPopout:e=>{let{closePopout:n}=e;return D?null:(0,r.jsx)(C.Z,{children:(0,r.jsx)("div",{onMouseEnter:H,onMouseLeave:V,children:(0,r.jsx)(b.Z,{guildId:A,channel:t,onClose:n,gridNotice:k===a.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,r.jsx)(g.o,{onClose:n,markAsDismissed:U}),analyticsSource:"action bar button"})})})},children:()=>(0,r.jsx)(x.d,{ref:q,isTrayButton:!0,themeable:j,label:w?O.intl.string(O.t["Ox4/zc"]):R?O.intl.string(O.t["+YBKYG"]):M?O.intl.string(O.t.X1lQlp):void 0,iconComponent:P,disabled:D,onContextMenu:z,onClick:W,onMouseEnter:()=>{H(),T()},onMouseLeave:()=>{null==E&&(V(),N())},isActive:F||E===v.D.SOUNDBOARD,color:F||E===v.D.SOUNDBOARD?"primaryDark":void 0})})}},107169:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(871499),a=n(388032);function o(e){var{popoutWindowAlwaysOnTop:t,onToggleStayOnTop:n}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["popoutWindowAlwaysOnTop","onToggleStayOnTop"]);let s=t?a.intl.string(a.t.YdyDMz):a.intl.string(a.t.ZVGHwM),c=t?i.QVc:i.k5M;return(0,r.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onClick:()=>n(!t),label:s,iconComponent:c},o))}},698877:function(e,t,n){n.d(t,{O:()=>s});var r=n(951288),i=n(647438),l=n(864094),a=n(871499),o=n(388032);function s(e){let t,n;var{hasPermission:s,streamActive:c,isSelfStream:u,centerButton:d,onMouseEnter:p,onMouseLeave:h,renderNUXHighlight:f,buttonRef:m}=e,g=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["hasPermission","streamActive","isSelfStream","centerButton","onMouseEnter","onMouseLeave","renderNUXHighlight","buttonRef"]);let b=d?a.d:a.Z;t=c?u?o.intl.string(o.t.S5anIS):o.intl.string(o.t.q3O3Jy):s?o.intl.string(o.t.fjBNo6):o.intl.string(o.t.uQn9Bw);let{Component:_,events:y,play:C}=(0,l.P)(c?"disable":"enable");return i.useEffect(()=>()=>C(),[c,C]),(0,r.jsx)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({buttonRef:m,isTrayButton:!0,label:t,disabled:!s,iconComponent:_,isActive:c,color:(f?n="premiumGradient":c&&(n="green"),n),onMouseEnter:e=>{null==p||p(e),y.onMouseEnter()},onMouseLeave:e=>{null==h||h(e),y.onMouseLeave()}},g))}},891551:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(846027),s=n(522651),c=n(793148),u=n(131951),d=n(36703),p=n(358085),h=n(618158),f=n(119421);function m(e){let{className:t,iconClassName:n,sliderClassName:i,userId:m,context:g,currentWindow:b=window,location:_}=e,{currentVolume:y,muted:C}=(0,a.cj)([u.Z],()=>({currentVolume:u.Z.getLocalVolume(m,g),muted:u.Z.isLocalMute(m,g)}));return(0,r.jsx)(h.Z,{children:(0,r.jsx)(c.Z,{currentWindow:b,iconClassName:l()(n,f.controlIcon),sliderClassName:i,className:t,value:(0,d.P)(y),muted:C,maxValue:p.isPlatformEmbedded?200:100,onValueChange:e=>{e>0&&C&&o.Z.toggleLocalMute(m,g),o.Z.setLocalVolume(m,(0,d.A)(e),g)},onToggleMute:()=>{null!=_&&(0,s.v)(_,s.d.VOLUME,C),o.Z.toggleLocalMute(m,g)}})})}},488785:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(772848),c=n(442837),u=n(570140),d=n(596454),p=n(607070),h=n(604729);let f=[h.emoji1,h.emoji2,h.emoji3,h.emoji4],m=i.memo(function(e){var t;let{emoji:n,onAnimationEnd:l}=e,s=(0,o.sample)(f),c=i.useCallback(()=>{l(n.key)},[n.key,l]);return(0,r.jsx)("div",{className:a()(h.emoji,s),onAnimationEnd:c,children:(0,r.jsx)(d.Z,{emojiId:n.id,emojiName:n.name,animated:null!=(t=n.animated)&&t})})});function g(e){let{channelId:t,callHeight:n}=e,l=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion),[a,o]=i.useState([]);i.useEffect(()=>{function e(e){let{channelId:n,emoji:r}=e;n!==t||l||null==r||o(e=>[...e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({key:(0,s.Z)()},r)])}return u.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e),()=>{u.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}},[t,l]);let d=i.useCallback(e=>{o(t=>t.filter(t=>t.key!==e))},[]);return l?null:(0,r.jsx)("div",{className:h.container,style:{top:n-50,left:"52%"},"aria-hidden":!0,children:a.map(e=>(0,r.jsx)(m,{emoji:e,onAnimationEnd:d},e.key))})}},738643:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(131704),l=n(592125),a=n(430824),o=n(944486),s=n(981631);function c(e,t){return(0,r.e7)([l.Z,a.Z,o.Z],()=>{let n=a.Z.getGuild(t);if(!((null==n?void 0:n.features.has(s.oNc.WELCOME_SCREEN_ENABLED))===!0&&n.features.has(s.oNc.COMMUNITY))||n.features.has(s.oNc.GUILD_SERVER_GUIDE))return!1;let r=l.Z.getChannel(e);return e===o.Z.getChannelId(t)&&null!=r&&r.getGuildId()===n.id&&(0,i.zi)(r.type)})}},979696:function(e,t,n){n.d(t,{Z:()=>u});var r,i=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={toastsEnabledForChannel:{}},s=o;class c extends(r=i.ZP.PersistedStore){initialize(e){s=null!=e?e:o}getToastsEnabled(e){var t;return null==(t=s.toastsEnabledForChannel[e])||t}getState(){return s}}a(c,"displayName","CallChatToastsStore"),a(c,"persistKey","CallChatToasts");let u=new c(l.Z,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){let{channelId:t,toastsEnabled:n}=e;s.toastsEnabledForChannel[t]=n},LOGOUT:function(){s.toastsEnabledForChannel={}}})},606956:function(e,t,n){n.d(t,{Z:()=>c});var r,i,l=n(442837),a=n(570140);let o={};class s extends(i=l.ZP.Store){getFollowerStatsForChannel(e){return o[e]}}(r="displayName")in s?Object.defineProperty(s,r,{value:"ChannelFollowerStatsStore",enumerable:!0,configurable:!0,writable:!0}):s[r]="ChannelFollowerStatsStore";let c=new s(a.Z,{CONNECTION_OPEN:function(){o={}},CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS:function(e){let{channelId:t,stats:n}=e;n=null!=n?n:{},o[t]={loadingStatus:"succeeded",lastFetched:Date.now(),channelsFollowing:n.channels_following,guildMembers:n.guild_members,guildsFollowing:n.guilds_following,usersSeenEver:n.users_seen_ever,subscribersGainedSinceLastPost:n.subscribers_gained_since_last_post,subscribersLostSinceLastPost:n.subscribers_lost_since_last_post}},CHANNEL_FOLLOWER_STATS_FETCH_FAILURE:function(e){let{channelId:t}=e;o[t]={loadingStatus:"failed",lastFetched:Date.now(),channelsFollowing:0,guildMembers:0,guildsFollowing:0,usersSeenEver:0,subscribersGainedSinceLastPost:0,subscribersLostSinceLastPost:0}}})},544610:function(e,t,n){let r;n.d(t,{Z:()=>U}),n(388685),n(781311),n(539854),n(642613);var i,l,a=n(442837),o=n(570140),s=n(279779),c=n(353926),u=n(752048),d=n(131704),p=n(624138),h=n(51144),f=n(592125),m=n(480294),g=n(580005),b=n(699516),_=n(594174),y=n(981631);let C=!1,x="",v=0,O=[],j=!1,E=new Set,S=null;function I(){x="",v=0,O=[],E=new Set,C=!1,S=null}function P(e){x=e,v=0,Z()}function Z(){if(!C)return!1;let e=f.Z.getChannel(S);if(0===x.trim().length)return null!=r&&r.clearQuery(),O=function(e){let t=b.Z.getFriendIDs(),n=_.default.getCurrentUser();return(null==n?void 0:n.isStaff())&&(t=Array.from(new Set([...t,..._.default.filter(e=>e.isStaff()&&e.id!==n.id,!1).map(e=>e.id)]))),(null==e?void 0:e.isPrivate())&&(t=t.filter(t=>!e.recipients.includes(t))),t.reduce((e,t)=>{let n=_.default.getUser(t);return null==n||n.isProvisional||e.push({user:n,comparator:h.ZP.getName(n)}),e},[]).sort(N)}(e),!0;let t=null!=e?e.recipients:[];if(null!=r){var n;let e=_.default.getCurrentUser(),i=null!=(n=null==e?void 0:e.isStaff())&&n;r.setQuery({query:x,filters:{friends:!0,staff:i,provisional:!1},blacklist:t,boosters:function(){let e=g.Z.getFrequentlyWithoutFetchingLatest().filter(e=>e instanceof d.mn&&e.isDM()),t=Math.max(...e.map(e=>{let{id:t}=e;return g.Z.getScoreWithoutFetchingLatest(t)})),n={};return e.forEach(e=>{let r=g.Z.getScoreWithoutFetchingLatest(e.id),i=e.getRecipientId(),l=.2*!!b.Z.isFriend(i),a=.1*(null!=f.Z.getDMFromUserId(i));n[i]=1+r/t+l+a}),n}()})}return!1}function T(){if(!C)return!1;let e=j;return(j=b.Z.getFriendCount()>0)!==e}function N(e,t){if(m.Z.hasConsented(y.pjP.PERSONALIZATION)){var n,r,i,l;let a=null!=(i=null==(n=u.Z.getUserAffinity(e.user.id))?void 0:n.communicationProbability)?i:0,o=null!=(l=null==(r=u.Z.getUserAffinity(t.user.id))?void 0:r.communicationProbability)?l:0;if(a!==o)return o-a}return(0,p._I)(h.ZP.getName(e.user).toLocaleLowerCase()).localeCompare((0,p._I)(h.ZP.getName(t.user).toLocaleLowerCase()))}function A(e){let{results:t}=e;if(!C||""===x)return;let n=[];for(let{id:e,comparator:r}of t){let t=_.default.getUser(e);null!=t&&n.push({user:t,comparator:r})}O=n,k.emitChange()}function w(){return null!=r&&(r.destroy(),r=null),s.Z.getUserSearchContext(A,1e3)}function R(e){if(e.key!==y.vTt)return!1;C=!0,T(),r=w(),S=null,P("")}function M(e){if(e.key!==y.vTt)return!1;D()}function D(){null!=r&&(r.destroy(),r=null),I()}class L extends(i=a.ZP.Store){initialize(){this.waitFor(_.default,f.Z,b.Z,c.Z,m.Z),this.syncWith([_.default,f.Z],Z),this.syncWith([b.Z],T)}getResults(){return O}hasFriends(){return j}getSelectedUsers(){return E}getQuery(){return x}getState(){return{query:x,selectedRow:v,selectedUsers:E,results:O,hasFriends:j}}}(l="displayName")in L?Object.defineProperty(L,l,{value:"PrivateChannelRecipientsInviteStore",enumerable:!0,configurable:!0,writable:!0}):L[l]="PrivateChannelRecipientsInviteStore";let k=new L(o.Z,{CONNECTION_OPEN:function(){I()},CHANNEL_SELECT:function(e){let{guildId:t,channelId:n}=e;if(null!=t)return!1;let r=C;return I(),C=r,S=n,Z()},MODAL_PUSH:R,SHOW_ACTION_SHEET:R,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:function(e){C=!0,T(),r=w(),S=e.channelId,P("")},MODAL_POP:M,HIDE_ACTION_SHEET:M,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:D,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){S=e.channelId,P(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){v=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){let{userId:t}=e;E.add(t),E=new Set(E)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){let{userId:t}=e;E.delete(t),E=new Set(E)}}),U=k},903223:function(e,t,n){n.d(t,{Z:()=>h});var r,i,l=n(392711),a=n.n(l),o=n(442837),s=n(570140),c=n(430824);let u=null,d={};class p extends(i=o.ZP.Store){initialize(){this.waitFor(c.Z)}getOptimalRegion(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getRegions(t);return null!=n?null!=(e=n.find(e=>{let{optimal:t}=e;return t}))?e:a().sample(n):null}getOptimalRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null}getRandomRegion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?a().sample(t):null}getRandomRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null}getRegions(e){return null!=e?d[e]:u}}(r="displayName")in p?Object.defineProperty(p,r,{value:"RegionStore",enumerable:!0,configurable:!0,writable:!0}):p[r]="RegionStore";let h=new p(s.Z,{LOAD_REGIONS:function(e){let t=a().sortBy(e.regions,e=>e.name);null!=e.guildId?d[e.guildId]=t:u=t},GUILD_DELETE:function(e){delete d[e.guild.id]}})},62817:function(e,t,n){n.d(t,{Z:()=>_}),n(35282),n(388685),n(358797);var r,i=n(442837),l=n(570140),a=n(375954);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}let c=Object.freeze([]),u={},d={},p={},h={},f={};function m(e,t){let n=u[e];return null!=n&&(u[e]=n.filter(e=>e.id!==t),delete d[t],delete p[t],n.length!==u[e].length)}function g(e,t){let n=u[e];if(null==n)return!1;u[e]=n.map(e=>e.id===t.id?s({},e,t):e);let r=p[t.id];null!=r&&null!=h[r.id]&&(h[r.id]=s({},h[r.id],t))}class b extends(r=i.ZP.Store){initialize(){this.waitFor(a.Z)}getFiles(e){var t;return null!=(t=u[e])?t:c}getMessageForFile(e){return p[e]}getUploaderFileForMessageId(e){return h[e]}getUploadAttachments(e){if(null!=e)return f[e]}}o(b,"displayName","UploadStore");let _=new b(l.Z,{CONNECTION_OPEN:function(){f={}},LOGOUT:function(){f={}},UPLOAD_START:function(e){var t,n,r,i;let{channelId:l,file:a,uploader:o,message:f}=e;if(o._aborted||o._errored)return;let m=null!=(t=u[l])?t:c;if(d[a.id]=o,u[l]=[...m,a],null==f)return;p[a.id]=f;let{items:g}=a;null!=g&&(h[f.id]=(r=s({},a),i=i={items:g},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)),null!=(n=f.nonce)||f.id},UPLOAD_COMPRESSION_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_COMPLETE:function(e){let{channelId:t,file:n}=e;return m(t,n.id)},UPLOAD_FAIL:function(e){let{channelId:t,file:n}=e;return m(t,n.id)},UPLOAD_CANCEL_REQUEST:function(e){let{file:t}=e,n=d[t.id];if(null==n)return!1;setImmediate(()=>{var e;return null==(e=n.cancel)?void 0:e.call(n)})},UPLOAD_ITEM_CANCEL_REQUEST:function(e){let{file:t,itemId:n}=e,r=d[t.id];if(null==r)return!1;setImmediate(()=>r.cancelItem(n))},UPLOAD_FILE_UPDATE:function(e){let{channelId:t,file:n}=e,r=p[n.id];if(null!=r){var i;null!=(i=r.nonce)||r.id}g(t,n)},UPLOAD_RESTORE_FAILED_UPLOAD:function(e){let{file:t,messageId:n}=e;h[n]=t}})},416345:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor",className:s,foreground:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(u)),n=n={className:s,width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.625 3H5.375C4.06519 3 3 4.06519 3 5.375V18.625C3 19.936 4.06519 21 5.375 21H18.625C19.936 21 21 19.936 21 18.625V5.375C21.0057 4.08803 19.9197 3 18.625 3ZM19 19V5H4.99999V19H19Z",className:c,fill:o})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},311888:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=32,height:a=32,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 32 32",children:[(0,r.jsx)("rect",{width:"32",height:"32",rx:"16",fill:o}),(0,r.jsx)("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:s})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},233870:function(e,t,n){n.d(t,{T:()=>a}),n(290780);var r=n(392711),i=n.n(r),l=n(823379);function a(e,t){return i()(e).map(t.getUser).unshift(t.getCurrentUser()).filter(l.lm).sortBy(e=>e.username.toLowerCase()).value()}},397660:function(e,t,n){e.exports={root:"root__5621e",regionSelectPopout:"regionSelectPopout__5621e",check:"check__5621e",regionSelectName:"regionSelectName__5621e"}},61722:function(e,t,n){e.exports={divider:"divider__7641b",private:"private__7641b",instructions:"instructions__7641b",emptyState:"emptyState__7641b",emptyStateHeader:"emptyStateHeader__7641b",emptyStateIcon:"emptyStateIcon__7641b",emptyStateIconContainer:"emptyStateIconContainer__7641b",emptyStateStars:"emptyStateStars__7641b",emptyStateSubtext:"emptyStateSubtext__7641b",container:"container__7641b"}},458182:function(e,t,n){e.exports={base:"base_b88801",text:"text_b88801",ellipsis:"ellipsis_b88801",typingDots:"typingDots_b88801",inTextChannel:"inTextChannel_b88801",activityInviteEducation:"activityInviteEducation_b88801 base_b88801",activityInviteEducationArrow:"activityInviteEducationArrow_b88801",typing:"typing_b88801 base_b88801",isComboing:"isComboing_b88801",activityInviteEducationFadeIn:"activityInviteEducationFadeIn_b88801"}},477425:function(e,t,n){e.exports={spacing:"spacing__89466",spacingTop:"spacingTop__89466",message:"message__89466",closeButton:"closeButton__89466"}},150599:function(e,t,n){e.exports={contentWarningPopout:"contentWarningPopout_be95d0",header:"header_be95d0",body:"body_be95d0",animation:"animation_be95d0",buttonWrapper:"buttonWrapper_be95d0",buttonContainer:"buttonContainer_be95d0",button:"button_be95d0",buttonHint:"buttonHint_be95d0",content:"content_be95d0",footer:"footer_be95d0",icon:"icon_be95d0"}},118177:function(e,t,n){e.exports={scroller:"scroller__28a87",wrapper:"wrapper__28a87",ageGatedImage:"ageGatedImage__28a87"}},33985:function(e,t,n){e.exports={iframe:"iframe__49094",wrapper:"wrapper__49094",resizable:"resizable__49094",noChat:"noChat__49094",activityPanelContainer:"activityPanelContainer__49094",header:"header__49094",footer:"footer__49094",headerTitle:"headerTitle__49094",leaveButtonContainer:"leaveButtonContainer__49094",activityContainer:"activityContainer__49094",activityContainerNoMargin:"activityContainerNoMargin__49094",footerButtons:"footerButtons__49094",avatar:"avatar__49094",buttonSection:"buttonSection__49094"}},332139:function(e,t,n){e.exports={wrapper:"wrapper__92e4b",badge:"badge__92e4b"}},201512:function(e,t,n){e.exports={container:"container__9fa5a",titleContainer:"titleContainer__9fa5a",titleLeft:"titleLeft__9fa5a",titleLeftIcon:"titleLeftIcon__9fa5a",titleRight:"titleRight__9fa5a",titleRightIcon:"titleRightIcon__9fa5a",activityContainer:"activityContainer__9fa5a",activitySuggestion:"activitySuggestion__9fa5a",wumpusRocketOuterContainer:"wumpusRocketOuterContainer__9fa5a",wumpusReducedMotion:"wumpusReducedMotion__9fa5a",wumpusRocketInnerContainer:"wumpusRocketInnerContainer__9fa5a",slide:"slide__9fa5a",wumpusRocket:"wumpusRocket__9fa5a",poster:"poster__9fa5a",posterDivider:"posterDivider__9fa5a",clickableBanner:"clickableBanner__9fa5a"}},568126:function(e,t,n){e.exports={brokenImageIcon:"brokenImageIcon_f68fcb"}},542445:function(e,t,n){e.exports={activityNewBadge:"activityNewBadge__44107",activityUpdatedBadge:"activityUpdatedBadge__44107"}},748788:function(e,t,n){e.exports={activityItemButtonInnerClass:"activityItemButtonInnerClass__8a940",activityItem:"activityItem__8a940",activityItem_13_11:"activityItem_13_11__8a940",activityItem_16_9:"activityItem_16_9__8a940",activitySuggestionImage:"activitySuggestionImage__8a940",activityAction:"activityAction__8a940",activityActionButton:"activityActionButton__8a940",activityActionButtonDanger:"activityActionButtonDanger__8a940",brokenImageIconWrapper:"brokenImageIconWrapper__8a940 activitySuggestionImage__8a940",overlayBadge:"overlayBadge__8a940",badgeContainer:"badgeContainer__8a940"}},625234:function(e,t,n){e.exports={container:"container_d806b9",searchBar:"searchBar_d806b9"}},969183:function(e,t,n){e.exports={dot:"dot__148e9",maskPopout:"maskPopout__148e9",maskPrimary:"maskPrimary__148e9",maskSecondary:"maskSecondary__148e9",maskBlack:"maskBlack__148e9",alert:"alert__148e9",blurpleTreatment:"blurpleTreatment__148e9"}},681524:function(e,t,n){e.exports={positionContainer:"positionContainer__31a96",positionLayer:"positionLayer__31a96"}},487303:function(e,t,n){e.exports={drawerSizingWrapper:"drawerSizingWrapper__9c62c",contentWrapper:"contentWrapper__9c62c",slideContent:"slideContent__9c62c"}},992878:function(e,t,n){e.exports={rowIcon:"rowIcon_cb32c7",appDetailsRowContainer:"appDetailsRowContainer_cb32c7",rowDivider:"rowDivider_cb32c7",container:"container_cb32c7",containerBorderRadius:"containerBorderRadius_cb32c7",rowContainer:"rowContainer_cb32c7",containerDisabled:"containerDisabled_cb32c7",icon:"icon_cb32c7",iconContainer:"iconContainer_cb32c7",iconCard:"iconCard_cb32c7",darkenImage:"darkenImage_cb32c7",bannerImageContainer:"bannerImageContainer_cb32c7",mediumBanner:"mediumBanner_cb32c7",largeBanner:"largeBanner_cb32c7",bannerImage:"bannerImage_cb32c7",fadeIn:"fadeIn_cb32c7",disableFadeIn:"disableFadeIn_cb32c7",bannerUpperRightContainer:"bannerUpperRightContainer_cb32c7",promotedLabelWrapperBanner:"promotedLabelWrapperBanner_cb32c7",promotedLabelWrapperNonBanner:"promotedLabelWrapperNonBanner_cb32c7",appDetailsContainer:"appDetailsContainer_cb32c7",appDetails:"appDetails_cb32c7",appDetailsHeaderContainer:"appDetailsHeaderContainer_cb32c7",bannerImageChildContainer:"bannerImageChildContainer_cb32c7",voiceLauncherAppCardContainer:"voiceLauncherAppCardContainer_cb32c7",voiceLauncherAppCardButton:"voiceLauncherAppCardButton_cb32c7",activityVideoContainer:"activityVideoContainer_cb32c7",activityVideo:"activityVideo_cb32c7",videoFadeOut:"videoFadeOut_cb32c7",fadeOut:"fadeOut_cb32c7",tooltipContent:"tooltipContent_cb32c7",spinner:"spinner_cb32c7",devShelfBadge:"devShelfBadge_cb32c7",devShelfIcon:"devShelfIcon_cb32c7",staffBadge:"staffBadge_cb32c7"}},943509:function(e,t,n){e.exports={clickable:"clickable__8c853"}},202874:function(e,t,n){e.exports={rowDivider:"rowDivider_ccbbbb",rowIconPlaceholder:"rowIconPlaceholder_ccbbbb",appDetailsRowContainer:"appDetailsRowContainer_ccbbbb",loadingAnimation:"loadingAnimation_ccbbbb",shimmer:"shimmer_ccbbbb",noAnimation:"noAnimation_ccbbbb",container:"container_ccbbbb",containerBorderRadius:"containerBorderRadius_ccbbbb",rowContainer:"rowContainer_ccbbbb",bannerImage:"bannerImage_ccbbbb",mediumBanner:"mediumBanner_ccbbbb",largeBanner:"largeBanner_ccbbbb",iconPlaceholder:"iconPlaceholder_ccbbbb",appDetailsContainer:"appDetailsContainer_ccbbbb",textContainer:"textContainer_ccbbbb",textPlaceholder:"textPlaceholder_ccbbbb",hidden:"hidden_ccbbbb"}},698342:function(e,t,n){e.exports={contentContainer:"contentContainer_c94584",commandListHeader:"commandListHeader_c94584",commandContainer:"commandContainer_c94584",command:"command_c94584",commandFocusBlock:"commandFocusBlock_c94584",commandTextContainer:"commandTextContainer_c94584",commandTextContainerPlaceholder:"commandTextContainerPlaceholder_c94584"}},42659:function(e,t,n){e.exports={stickyContainer:"stickyContainer__57d3f",stickyBannerContainer:"stickyBannerContainer__57d3f",stickyBanner:"stickyBanner__57d3f",bannerBackground:"bannerBackground__57d3f",backButtonContainer:"backButtonContainer__57d3f",moreMenuButtonContainer:"moreMenuButtonContainer__57d3f",headerButton:"headerButton__57d3f",nameContainer:"nameContainer__57d3f",textApplicationName:"textApplicationName__57d3f"}},208733:function(e,t,n){e.exports={container:"container__95856",monetizationDisclosureContainerStyle:"monetizationDisclosureContainerStyle__95856",videoContainer:"videoContainer__95856",videoCover:"videoCover__95856",video:"video__95856",fadeIn:"fadeIn__95856",overviewContainerWithVideo:"overviewContainerWithVideo__95856",overviewContainerNoVideo:"overviewContainerNoVideo__95856",titleContainer:"titleContainer__95856",partnerLabelContainer:"partnerLabelContainer__95856",tagsContainer:"tagsContainer__95856",tagContainer:"tagContainer__95856",descriptionContainer:"descriptionContainer__95856",primaryEntryPointWarningMessage:"primaryEntryPointWarningMessage__95856",developerShelfControlsContainer:"developerShelfControlsContainer__95856",expandableDescriptionClickable:"expandableDescriptionClickable__95856",overflowHidden:"overflowHidden__95856",developerShelfControls:"developerShelfControls__95856",monetizationDisclosureStyle:"monetizationDisclosureStyle__95856"}},30787:function(e,t,n){e.exports={container:"container__7bdb0",appIcon:"appIcon__7bdb0"}},820607:function(e,t,n){e.exports={clickable:"clickable__997f6",container:"container__997f6"}},682964:function(e,t,n){e.exports={tooltipContent:"tooltipContent__3f9f9"}},54701:function(e,t,n){e.exports={sortDropdown:"sortDropdown__27f60",sortDropdownInner:"sortDropdownInner__27f60",sortIconMargin:"sortIconMargin__27f60"}},515188:function(e,t,n){e.exports={container:"container__5f4c1"}},291190:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer_cce1d3"}},729755:function(e,t,n){e.exports={container:"container__927fc",developerShelfControlsContainer:"developerShelfControlsContainer__927fc",developerShelfControlsLabel:"developerShelfControlsLabel__927fc",searchBarContainer:"searchBarContainer__927fc",scrollableContent:"scrollableContent__927fc",sectionContentContainer:"sectionContentContainer__927fc",sectionTwoColumnContentContainer:"sectionTwoColumnContentContainer__927fc sectionContentContainer__927fc",sectionRowsContentContainer:"sectionRowsContentContainer__927fc sectionContentContainer__927fc",frecentList:"frecentList__927fc"}},258253:function(e,t,n){e.exports={header:"header__32c75",viewMore:"viewMore__32c75",loadingHeader:"loadingHeader__32c75",hidden:"hidden__32c75"}},431048:function(e,t,n){e.exports={container:"container__19cf2",containerPadding:"containerPadding__19cf2",image:"image__19cf2",body:"body__19cf2"}},934347:function(e,t,n){e.exports={icon:"icon__761e5",focusBlock:"focusBlock__761e5",clickable:"clickable__761e5",underline:"underline__761e5",cmdDetails:"cmdDetails__761e5",cmdAppName:"cmdAppName__761e5"}},75243:function(e,t,n){e.exports={iconPlaceholder:"iconPlaceholder__1729d",underline:"underline__1729d",container:"container__1729d",shimmer:"shimmer__1729d",noAnimation:"noAnimation__1729d",textContainer:"textContainer__1729d",textPlaceholder:"textPlaceholder__1729d",hidden:"hidden__1729d"}},399235:function(e,t,n){e.exports={sectionContentContainer:"sectionContentContainer_b18295",sectionActivitiesContentContainer:"sectionActivitiesContentContainer_b18295",searchOpenAppDetailAppCard:"searchOpenAppDetailAppCard_b18295"}},493891:function(e,t,n){e.exports={container:"container_c3787a",header:"header_c3787a",backButton:"backButton_c3787a",appGrid:"appGrid_c3787a",rows:"rows_c3787a"}},598411:function(e,t,n){e.exports={wrapper:"wrapper_cb9592",normal:"normal_cb9592",minimum:"minimum_cb9592",video:"video_cb9592",fullScreen:"fullScreen_cb9592",noChat:"noChat_cb9592",sidebarOpen:"sidebarOpen_cb9592",popout:"popout_cb9592",poppedOut:"poppedOut_cb9592",callContainer:"callContainer_cb9592",leftTrayIcon:"leftTrayIcon_cb9592",rightTrayIcon:"rightTrayIcon_cb9592",viewersButton:"viewersButton_cb9592",iconWrapper:"iconWrapper_cb9592",volumeSlider:"volumeSlider_cb9592",badge:"badge_cb9592",headerWrapper:"headerWrapper_cb9592",channelChatWrapper:"channelChatWrapper_cb9592",chatToasts:"chatToasts_cb9592"}},39219:function(e,t,n){e.exports={avatar:"avatar__49508",divider:"divider__49508",channelStatusClickable:"channelStatusClickable__49508",channelStatus:"channelStatus__49508",hoverable:"hoverable__49508",subtitleContainer:"subtitleContainer__49508",pencilIcon:"pencilIcon__49508",secureFramesIcon:"secureFramesIcon__49508",playingText:"playingText__49508",container:"container__49508",activityIcon:"activityIcon__49508",headerBar:"headerBar__49508",headerBarChildren:"headerBarChildren__49508",title:"title__49508",toolbar:"toolbar__49508"}},956235:function(e,t,n){e.exports={button:"button__9db96",speaker:"speaker__9db96",last:"last__9db96",lastButton:"lastButton__9db96"}},560059:function(e,t,n){e.exports={root:"root_d529e9",voiceUsers:"voiceUsers_d529e9",header:"header_d529e9",scroller:"scroller_d529e9"}},432267:function(e,t,n){e.exports={resizeHandle:"resizeHandle__4b144"}},907894:function(e,t,n){e.exports={root:"root_c8dbe9",sprite:"sprite_c8dbe9",participant:"participant_c8dbe9",transition:"transition_c8dbe9",spriteWrapper:"spriteWrapper_c8dbe9"}},689598:function(e,t,n){e.exports={actionBarButton:"actionBarButton__18c2e"}},474830:function(e,t,n){e.exports={voiceEffectsActionBar:"voiceEffectsActionBar__68198",divider:"divider__68198"}},505723:function(e,t,n){e.exports={glow:"glow__8b6cd",circleLayer:"circleLayer__8b6cd",entrypoint:"entrypoint__8b6cd",trinkets:"trinkets__8b6cd"}},97009:function(e,t,n){e.exports={chat:"chat_f75fb0",threadSidebarOpen:"threadSidebarOpen_f75fb0",form:"form_f75fb0",uploadArea:"uploadArea_f75fb0",threadSidebarFloating:"threadSidebarFloating_f75fb0",formWithLoadedChatInput:"formWithLoadedChatInput_f75fb0",chatContent:"chatContent_f75fb0",cursorPointer:"cursorPointer_f75fb0",content:"content_f75fb0",noChat:"noChat_f75fb0",channelBottomBarArea:"channelBottomBarArea_f75fb0",channelTextArea:"channelTextArea_f75fb0",avatar:"avatar_f75fb0",parentChannelName:"parentChannelName_f75fb0",title:"title_f75fb0",gdm:"gdm_f75fb0",followButton:"followButton_f75fb0",guildBreadcrumbContainer:"guildBreadcrumbContainer_f75fb0",guildSidebar:"guildSidebar_f75fb0",guildBreadcrumbIcon:"guildBreadcrumbIcon_f75fb0",loader:"loader_f75fb0",forumPostTitle:"forumPostTitle_f75fb0",forumPostSidebarTitle:"forumPostSidebarTitle_f75fb0",subtitleContainer:"subtitleContainer_f75fb0",secureFramesIcon:"secureFramesIcon_f75fb0",shaker:"shaker_f75fb0",linkedLobbyTooltip:"linkedLobbyTooltip_f75fb0",linkedLobby:"linkedLobby_f75fb0",linkedLobbyApplicationIcon:"linkedLobbyApplicationIcon_f75fb0",linkedLobbyEducationTooltipWrapper:"linkedLobbyEducationTooltipWrapper_f75fb0",linkedLobbyEducationTooltip:"linkedLobbyEducationTooltip_f75fb0",linkedLobbyEducationTooltipCloseClickContainer:"linkedLobbyEducationTooltipCloseClickContainer_f75fb0",linkedLobbyEducationTooltipCloseIcon:"linkedLobbyEducationTooltipCloseIcon_f75fb0",entryPointButtonContainer:"entryPointButtonContainer_f75fb0",hasWallpaper:"hasWallpaper_f75fb0"}},124886:function(e,t,n){e.exports={buttonContainer:"buttonContainer_e6e74f",entrypointAnimation:"entrypointAnimation_e6e74f",button:"button_e6e74f",buttonActive:"buttonActive_e6e74f",buttonContents:"buttonContents_e6e74f",channelAppLauncher:"channelAppLauncher_e6e74f",animationGlow:"animationGlow_e6e74f",animationTrinkets:"animationTrinkets_e6e74f",channelAppLauncherButtonPopoutIconAnimation:"channelAppLauncherButtonPopoutIconAnimation_e6e74f",channelAppLauncherButtonPopoutIconShimmerAnimation:"channelAppLauncherButtonPopoutIconShimmerAnimation_e6e74f"}},875675:function(e,t,n){e.exports={container:"container__01ae2",floating:"floating__01ae2",notFloating:"notFloating__01ae2",resizeHandle:"resizeHandle__01ae2",chatTarget:"chatTarget__01ae2 container__01ae2",chatLayerWrapper:"chatLayerWrapper__01ae2",hidden:"hidden__01ae2"}},409575:function(e,t,n){e.exports={entryPointAppCommandButtonContainer:"entryPointAppCommandButtonContainer_a83188"}},32482:function(e,t,n){e.exports={placeholderPulse:"placeholderPulse_c8ffbb",container:"container_c8ffbb",membersWrap:"membersWrap_c8ffbb",members:"members_c8ffbb",member:"member_c8ffbb",membersGroup:"membersGroup_c8ffbb",hiddenMembers:"hiddenMembers_c8ffbb",memberGroupsPlaceholder:"memberGroupsPlaceholder_c8ffbb",roleIcon:"roleIcon_c8ffbb",fullWidth:"fullWidth_c8ffbb"}},944701:function(e,t,n){e.exports={wrapper:"wrapper__44df5",content:"content__44df5",image:"image__44df5",animation:"animation__44df5",text:"text__44df5",title:"title__44df5",button:"button__44df5",buttonContainer:"buttonContainer__44df5",innerButton:"innerButton__44df5",countdown:"countdown__44df5"}},503484:function(e,t,n){e.exports={container:"container_a154bf",content:"content_a154bf",splashImage:"splashImage_a154bf",splashHeader:"splashHeader_a154bf",splashText:"splashText_a154bf"}},903781:function(e,t,n){e.exports={container:"container__87dda",placeholderItem:"placeholderItem__87dda",chatTextAreaPlaceholder:"chatTextAreaPlaceholder__87dda",appLauncherPlaceholder:"appLauncherPlaceholder__87dda",entryPointAppCommandPlaceholder:"entryPointAppCommandPlaceholder__87dda"}},529834:function(e,t,n){e.exports={noChannel:"noChannel__01d5c"}},97508:function(e,t,n){e.exports={clickableChannelTextArea:"clickableChannelTextArea_d8b277"}},115858:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_a53846",chatHeaderBarInfo:"chatHeaderBarInfo_a53846",chatHeaderBarText:"chatHeaderBarText_a53846",guildIcon:"guildIcon_a53846",mask:"mask_a53846",guildAcronym:"guildAcronym_a53846",guildIconWithoutImage:"guildIconWithoutImage_a53846",themed:"themed_a53846"}},433307:function(e,t,n){e.exports={emoji:"emoji_e85ed6"}},257803:function(e,t,n){e.exports={modalRoot:"modalRoot__01dab",button:"button__01dab",header:"header__01dab",alignCenter:"alignCenter__01dab",headerSubtitle:"headerSubtitle__01dab",headerSubtitleIcon:"headerSubtitleIcon__01dab",content:"content__01dab",searchBox:"searchBox__01dab",roleMemberList:"roleMemberList__01dab",addMemberRow:"addMemberRow__01dab",selectedRow:"selectedRow__01dab",rowBody:"rowBody__01dab",checkboxLabel:"checkboxLabel__01dab",rowHeight:"rowHeight__01dab",rowLabel:"rowLabel__01dab",rowLabelSubText:"rowLabelSubText__01dab",sectionTitle:"sectionTitle__01dab",noResultIcon:"noResultIcon__01dab",description:"description__01dab",scrollSeparator:"scrollSeparator__01dab"}},593514:function(e,t,n){e.exports={inner:"inner__36c1b",body:"body__36c1b",headerInput:"headerInput__36c1b",inputWrapper:"inputWrapper__36c1b",titleInput:"titleInput__36c1b",attachmentsContainer:"attachmentsContainer__36c1b",divider:"divider__36c1b",footer:"footer__36c1b",footerPart:"footerPart__36c1b",heroImageWrapper:"heroImageWrapper__36c1b",heroImage:"heroImage__36c1b",heroOverlay:"heroOverlay__36c1b",attachButton:"attachButton__36c1b",heroImageButton:"heroImageButton__36c1b",sendButtonContainer:"sendButtonContainer__36c1b",subIcon:"subIcon__36c1b",sendButton:"sendButton__36c1b",sendButtonContents:"sendButtonContents__36c1b",sendButtonIcons:"sendButtonIcons__36c1b"}},688919:function(e,t,n){e.exports={wrapper:"wrapper__4d3a9",icon:"icon__4d3a9"}},90274:function(e,t,n){e.exports={attachWrapper:"attachWrapper__0923f",attachButton:"attachButton__0923f",attachButtonPlus:"attachButtonPlus__0923f",attachButtonInner:"attachButtonInner__0923f",uploadInput:"uploadInput__0923f",buttonAnimation:"buttonAnimation__0923f",buttonAnimationGlow:"buttonAnimationGlow__0923f",buttonAnimationTrinkets:"buttonAnimationTrinkets__0923f"}},749723:function(e,t,n){e.exports={menu:"menu__77820",optionLabel:"optionLabel__77820",optionIcon:"optionIcon__77820",badge:"badge__77820",optionName:"optionName__77820"}},799567:function(e,t,n){e.exports={slowModeIcon:"slowModeIcon_b21699",cooldownWrapper:"cooldownWrapper_b21699",cooldownText:"cooldownText_b21699"}},173893:function(e,t,n){e.exports={wallpaperContainer:"wallpaperContainer__5fa7b",thumbhashContainer:"thumbhashContainer__5fa7b"}},363862:function(e,t,n){e.exports={clipsEnabledIndicator:"clipsEnabledIndicator__8c88a",clipBadgeText:"clipBadgeText__8c88a "+n(435215).liveLarge,clipBadgeIcon:"clipBadgeIcon__8c88a"}},945202:function(e,t,n){e.exports={recentClipsPopout:"recentClipsPopout__20c92",header:"header__20c92",thumbnailStackContainer:"thumbnailStackContainer__20c92",buttonsContainer:"buttonsContainer__20c92"}},538454:function(e,t,n){e.exports={thumbnailStack:"thumbnailStack__15798","height-1":"height-1__15798","height-2":"height-2__15798","height-3":"height-3__15798","height-max":"height-max__15798",thumbnail:"thumbnail__15798"}},532406:function(e,t,n){e.exports={headerContainer:"headerContainer__095fe",header:"header__095fe",toggleExpandIcon:"toggleExpandIcon__095fe"}},628012:function(e,t,n){e.exports={button:"button_fa0dd2",role:"role_fa0dd2",removeRole:"removeRole_fa0dd2",removeRoleIcon:"removeRoleIcon_fa0dd2"}},923573:function(e,t,n){e.exports={role:"role_b4b2c3",roleColor:"roleColor_b4b2c3",linkedRoleColor:"linkedRoleColor_b4b2c3"}},206659:function(e,t,n){e.exports={content:"content__79cbe",contentNoMedia:"contentNoMedia__79cbe content__79cbe",contentWithMedia:"contentWithMedia__79cbe content__79cbe",contentNarrowWithMedia:"contentNarrowWithMedia__79cbe contentWithMedia__79cbe content__79cbe",contentNarrowNoMedia:"contentNarrowNoMedia__79cbe contentNoMedia__79cbe content__79cbe",contentWideWithMedia:"contentWideWithMedia__79cbe contentWithMedia__79cbe content__79cbe",contentWideNoMedia:"contentWideNoMedia__79cbe contentNoMedia__79cbe content__79cbe",mediaContainer:"mediaContainer__79cbe",title:"title__79cbe",titleCenter:"titleCenter__79cbe title__79cbe",titleLeft:"titleLeft__79cbe title__79cbe",body:"body__79cbe",buttonSkipCenterAlign:"buttonSkipCenterAlign__79cbe",buttonSkipLeftAlign:"buttonSkipLeftAlign__79cbe",bodyCenter:"bodyCenter__79cbe body__79cbe",bodyLeft:"bodyLeft__79cbe body__79cbe",buttonContainer:"buttonContainer__79cbe",popoutRoot:"popoutRoot__79cbe",arrowAlignmentMiddle:"arrowAlignmentMiddle__79cbe",arrowAlignmentTop:"arrowAlignmentTop__79cbe",top:"top__79cbe",right:"right__79cbe",left:"left__79cbe",bottom:"bottom__79cbe"}},806328:function(e,t,n){e.exports={pageContainer:"pageContainer__09fde",scroller:"scroller__09fde",cardsContainer:"cardsContainer__09fde",spinner:"spinner__09fde"}},957717:function(e,t,n){e.exports={emptyWrapper:"emptyWrapper_f12222",emptyImage:"emptyImage_f12222",emptyTitle:"emptyTitle_f12222",emptySubtitle:"emptySubtitle_f12222",emptyCTA:"emptyCTA_f12222"}},777261:function(e,t,n){e.exports={card:"card__0c0bf",addEntryCard:"addEntryCard__0c0bf card__0c0bf",addServerText:"addServerText__0c0bf",cardHeader:"cardHeader__0c0bf",splash:"splash__0c0bf",splashImage:"splashImage__0c0bf",guildIcon:"guildIcon__0c0bf",icon:"icon__0c0bf",actionButtonsContainer:"actionButtonsContainer__0c0bf",forceButtonsShow:"forceButtonsShow__0c0bf",overflowIcon:"overflowIcon__0c0bf",iconMask:"iconMask__0c0bf",guildInfo:"guildInfo__0c0bf",title:"title__0c0bf",guildBadge:"guildBadge__0c0bf",guildName:"guildName__0c0bf",description:"description__0c0bf",memberInfo:"memberInfo__0c0bf",memberCount:"memberCount__0c0bf",statusDot:"statusDot__0c0bf",dotOnline:"dotOnline__0c0bf statusDot__0c0bf",dotOffline:"dotOffline__0c0bf statusDot__0c0bf",joinButton:"joinButton__0c0bf"}},152013:function(e,t,n){e.exports={header:"header_a7218d",headerImage:"headerImage_a7218d",searchSubtitle:"searchSubtitle_a7218d",searchTitle:"searchTitle_a7218d",headerContentWrapper:"headerContentWrapper_a7218d",headerContent:"headerContent_a7218d",headerContentSmall:"headerContentSmall_a7218d",tabBar:"tabBar_a7218d",tabBarItem:"tabBarItem_a7218d",sectionHeader:"sectionHeader_a7218d",searchContainer:"searchContainer_a7218d"}},166582:function(e,t,n){e.exports={searchHeader:"searchHeader__83bd4",headerTitleWrapper:"headerTitleWrapper__83bd4",arrow:"arrow__83bd4",searchPageTitle:"searchPageTitle__83bd4",emptySearchWrapper:"emptySearchWrapper__83bd4",emptySearchImage:"emptySearchImage__83bd4",emptySearchTitle:"emptySearchTitle__83bd4",emptySearchSubtitle:"emptySearchSubtitle__83bd4"}},906067:function(e,t,n){e.exports={button:"button__6e3f1",buttonIcon:"buttonIcon__6e3f1"}},291738:function(e,t,n){e.exports={avatar:"avatar_b50d96",avatarMask:"avatarMask_b50d96",avatarContainer:"avatarContainer_b50d96",container:"container_b50d96",mobileContainer:"mobileContainer_b50d96",inline:"inline_b50d96",wrap:"wrap_b50d96",divider:"divider_b50d96",mutualGuilds:"mutualGuilds_b50d96"}},594445:function(e,t,n){e.exports={container:"container__00de6",header:"header__00de6",description:"description__00de6",emptyChannelIcon:"emptyChannelIcon__00de6",emptyChannelIconComponent:"emptyChannelIconComponent__00de6"}},963392:function(e,t,n){e.exports={buttonContainer:"buttonContainer__6ca73",button:"button__6ca73"}},551869:function(e,t,n){e.exports={container:"container__7e6bb",iconWrapper:"iconWrapper__7e6bb",icon:"icon__7e6bb",header:"header__7e6bb"}},496363:function(e,t,n){e.exports={container:"container__143a4",formContainer:"formContainer__143a4",summaryContainer:"summaryContainer__143a4",summaryHeader:"summaryHeader__143a4",summaryHeaderClanInfo:"summaryHeaderClanInfo__143a4",guildIcon:"guildIcon__143a4",summarySeparator:"summarySeparator__143a4",formResponseContainer:"formResponseContainer__143a4"}},338518:function(e,t,n){e.exports={members:"members__1ee8c",avatars:"avatars__1ee8c",singleUserName:"singleUserName__1ee8c",role:"role__1ee8c",last:"last__1ee8c",channelSettingButtons:"channelSettingButtons__1ee8c"}},405005:function(e,t,n){e.exports={headerContainer:"headerContainer__9a59b",chatBubbleContainer:"chatBubbleContainer__9a59b",wumpusImage:"wumpusImage__9a59b",chatBubbleLip:"chatBubbleLip__9a59b",chatBubble:"chatBubble__9a59b",emptyMessageHeader:"emptyMessageHeader__9a59b",flowerStar:"flowerStar__9a59b",verified:"verified__9a59b"}},734335:function(e,t,n){e.exports={buttonContainer:"buttonContainer_ffab0d"}},149623:function(e,t,n){e.exports={iconWrapper:"iconWrapper__54b20",icon:"icon__54b20",subtitle:"subtitle__54b20",threadCreatorName:"threadCreatorName__54b20",unknownCreatorName:"unknownCreatorName__54b20"}},183334:function(e,t,n){e.exports={container:"container_aae012",inner:"inner_aae012",titleName:"titleName_aae012",subtitle:"subtitle_aae012",noChildren:"noChildren_aae012",card:"card_aae012",cardWrapper:"cardWrapper_aae012",completed:"completed_aae012",cardTextContainer:"cardTextContainer_aae012",checkmark:"checkmark_aae012",icon:"icon_aae012",cardHeader:"cardHeader_aae012",animate:"animate_aae012",arrow:"arrow_aae012"}},118041:function(e,t,n){e.exports={tags:"tags_e5a45e",wrap:"wrap_e5a45e"}},319720:function(e,t,n){e.exports={container:"container__34c2c",header:"header__34c2c",reactButtons:"reactButtons__34c2c",loading:"loading__34c2c",reportedMessageActions:"reportedMessageActions__34c2c",addReactButton:"addReactButton__34c2c",hasNoReactions:"hasNoReactions__34c2c",reactions:"reactions__34c2c",buttons:"buttons__34c2c"}},304247:function(e,t,n){e.exports={chat:"chat_f02135"}},386393:function(e,t,n){e.exports={qualityIndicator:"qualityIndicator__30845",clickable:"clickable__30845",qualityIndicatorFullQuality:"qualityIndicatorFullQuality__30845",qualityIndicatorLowQuality:"qualityIndicatorLowQuality__30845",premiumStreamIcon:"premiumStreamIcon__30845",qualityResolution:"qualityResolution__30845",qualityIndicatorBadge:"qualityIndicatorBadge__30845",qualityIndicatorBadgePremium:"qualityIndicatorBadgePremium__30845",streamQualityIndicator:"streamQualityIndicator__30845",liveIndicator:"liveIndicator__30845",liveQualityIndicator:"liveQualityIndicator__30845"}},358993:function(e,t,n){e.exports={modalContent:"modalContent__46773",iconSection:"iconSection__46773",iconContainer:"iconContainer__46773",petite:"petite__46773",pencilIconWrapper:"pencilIconWrapper__46773",iconPlaceholder:"iconPlaceholder__46773",iconImage:"iconImage__46773"}},79556:function(e,t,n){e.exports={editableGdmIcon:"editableGdmIcon_ec5bef",editableGdmIconIndicator:"editableGdmIconIndicator_ec5bef"}},216390:function(e,t,n){e.exports={bannerIcon:"bannerIcon__1d97f",bannerContainer:"bannerContainer__1d97f",bannerHeader:"bannerHeader__1d97f"}},105095:function(e,t,n){e.exports={bannerIcon:"bannerIcon_cbe8c4",bannerContainer:"bannerContainer_cbe8c4",bannerHeader:"bannerHeader_cbe8c4"}},771371:function(e,t,n){e.exports={container:"container__65338",iconContainer:"iconContainer__65338",icon:"icon__65338",header:"header__65338",headerText:"headerText__65338",button:"button__65338"}},881053:function(e,t,n){e.exports={animationMiddle:"animationMiddle__8177b",animationContainer:"animationContainer__8177b",header:"header__8177b",manaContainer:"manaContainer__8177b"}},482722:function(e,t,n){e.exports={buttons:"buttons_bb2295"}},941057:function(e,t,n){e.exports={upsellPage:"upsellPage_d204dc",upsellContainer:"upsellContainer_d204dc",upsellContent:"upsellContent_d204dc",bodyText:"bodyText_d204dc"}},642175:function(e,t,n){e.exports={horizontalBounce:"horizontalBounce__3e795",container:"container__3e795",containerHide:"containerHide__3e795",notice:"notice__3e795",noticeArrow:"noticeArrow__3e795"}},245702:function(e,t,n){e.exports={carouselMaxWidth:"carouselMaxWidth_b8429c",scroller:"scroller_b8429c",tierPreviewsContainer:"tierPreviewsContainer_b8429c",tierPreviews:"tierPreviews_b8429c"}},200813:function(e,t,n){e.exports={pageContainer:"pageContainer__8893c",joinCtaTitle:"joinCtaTitle__8893c",joinCtaSubtitle:"joinCtaSubtitle__8893c"}},719188:function(e,t,n){e.exports={divider:"divider_cfc051",eventSchedule:"eventSchedule_cfc051",eventName:"eventName_cfc051"}},367390:function(e,t,n){e.exports={container:"container__6b38f",textContainer:"textContainer__6b38f",caret:"caret__6b38f",icon:"icon__6b38f",dot:"dot__6b38f",inline:"inline__6b38f",pulse:"pulse__6b38f","pulse-animation":"pulse-animation__6b38f"}},837815:function(e,t,n){e.exports={eventPrompt:"eventPrompt_a5e25b"}},92024:function(e,t,n){e.exports={draggable:"draggable__55bab",moreContainer:"moreContainer__55bab",audienceContainer:"audienceContainer__55bab",audienceContainerCollapsed:"audienceContainerCollapsed__55bab",audienceIconContainer:"audienceIconContainer__55bab",audienceIcon:"audienceIcon__55bab",userAvatar:"userAvatar__55bab"}},541675:function(e,t,n){e.exports={list:"list_c3cd7d",withGuildIcon:"withGuildIcon_c3cd7d",collapsed:"collapsed_c3cd7d"}},84709:function(e,t,n){e.exports={popoutWrapper:"popoutWrapper__7fe3a",mounted:"mounted__7fe3a",contentContainer:"contentContainer__7fe3a",statusGroup:"statusGroup__7fe3a",iconGroup:"iconGroup__7fe3a",statusIcon:"statusIcon__7fe3a",statusText:"statusText__7fe3a",avatarWrapper:"avatarWrapper__7fe3a statusIcon__7fe3a",avatar:"avatar__7fe3a statusIcon__7fe3a",outline:"outline__7fe3a statusIcon__7fe3a"}},805787:function(e,t,n){e.exports={container:"container__669b5",onboarding:"onboarding__669b5",title:"title__669b5",helpText:"helpText__669b5",iconGroup:"iconGroup__669b5",statusIcon:"statusIcon__669b5",avatarWrapper:"avatarWrapper__669b5 statusIcon__669b5",avatar:"avatar__669b5 statusIcon__669b5",outline:"outline__669b5 statusIcon__669b5",options:"options__669b5",iconsContainer:"iconsContainer__669b5",iconWidget:"iconWidget__669b5",selectedWidget:"selectedWidget__669b5",statusOptionContainer:"statusOptionContainer__669b5",emojiLockIconContainer:"emojiLockIconContainer__669b5",emojiLockIcon:"emojiLockIcon__669b5",optionButton:"optionButton__669b5",setCustomButton:"setCustomButton__669b5",icon:"icon__669b5",customIcon:"customIcon__669b5",divider:"divider__669b5",editIcon:"editIcon__669b5",editIconColor:"editIconColor__669b5"}},130370:function(e,t,n){e.exports={akaBadge:"akaBadge__488b1",nicknames:"nicknames__488b1",avatars:"avatars__488b1",avatar:"avatar__488b1",tooltip:"tooltip__488b1",spacer:"spacer__488b1",divider:"divider__488b1",moreAvatars:"moreAvatars__488b1",plusIcon:"plusIcon__488b1"}},782196:function(e,t,n){e.exports={hoverableContainer:"hoverableContainer__754bd",editIcon:"editIcon__754bd",gdmIcon:"gdmIcon__754bd"}},413140:function(e,t,n){e.exports={"text-sm/normal":"text-sm/normal__6ec1a",topic:"topic__6ec1a text-sm/normal__6ec1a",topicClickTarget:"topicClickTarget__6ec1a",expandable:"expandable__6ec1a"}},469407:function(e,t,n){e.exports={friendWrapper:"friendWrapper_bbd192",disabled:"disabled_bbd192",avatar:"avatar_bbd192",nickname:"nickname_bbd192",friend:"friend_bbd192",twoRows:"twoRows_bbd192",checkbox:"checkbox_bbd192",match:"match_bbd192",discordTag:"discordTag_bbd192",friendSelected:"friendSelected_bbd192"}},765476:function(e,t,n){e.exports={tooltip:"tooltip__54b48"}},918324:function(e,t,n){e.exports={popout:"popout_cba592",showAsModal:"showAsModal_cba592",showAsPopout:"showAsPopout_cba592",header:"header_cba592",closeButton:"closeButton_cba592",searchBar:"searchBar_cba592",searchBarComponent:"searchBarComponent_cba592",addButton:"addButton_cba592",customizationContainer:"customizationContainer_cba592",iconSelector:"iconSelector_cba592",channelNameLabel:"channelNameLabel_cba592",subtitleWarning:"subtitleWarning_cba592",scroller:"scroller_cba592",scrollerInner:"scrollerInner_cba592",mobileToolsContainer:"mobileToolsContainer_cba592",mobileToolsCloseIcon:"mobileToolsCloseIcon_cba592",errorState:"errorState_cba592",noResults:"noResults_cba592",errorStateIcon:"errorStateIcon_cba592",notFriends:"notFriends_cba592",noFriends:"noFriends_cba592",partyFull:"partyFull_cba592",footer:"footer_cba592",selectExistingFormHeader:"selectExistingFormHeader_cba592",confirmChannelItemContainer:"confirmChannelItemContainer_cba592",confirmChannelName:"confirmChannelName_cba592",lastActiveTimestamp:"lastActiveTimestamp_cba592",confirmInviteScroller:"confirmInviteScroller_cba592",subtitle:"subtitle_cba592",footerText:"footerText_cba592"}},807597:function(e,t,n){e.exports={tooltip:"tooltip_a877b3",tooltipContent:"tooltipContent_a877b3"}},573940:function(e,t,n){e.exports={root:"root_cd27c4",highFive:"highFive_cd27c4",waiting:"waiting_cd27c4",wave:"wave_cd27c4",complete:"complete_cd27c4",completeLeft:"completeLeft_cd27c4 complete_cd27c4",completeRight:"completeRight_cd27c4 complete_cd27c4"}},942889:function(e,t,n){e.exports={assetContainer:"assetContainer__99d56",closeIcon:"closeIcon__99d56"}},581857:function(e,t,n){e.exports={row:"row_d6271c",tile:"tile_d6271c",noVerticalMargin:"noVerticalMargin_d6271c",noHorizontalMargin:"noHorizontalMargin_d6271c",padColumn:"padColumn_d6271c",tileSizer:"tileSizer_d6271c"}},235391:function(e,t,n){e.exports={sharePromptContainer:"sharePromptContainer__56d6c",sharePromptContent:"sharePromptContent__56d6c",closeButton:"closeButton__56d6c"}},177119:function(e,t,n){e.exports={blockedEdit:"blockedEdit_b7ab2c",blockedSend:"blockedSend_b7ab2c",shieldIcon:"shieldIcon_b7ab2c",blockedNoticeIcon:"blockedNoticeIcon_b7ab2c",blockedNotice:"blockedNotice_b7ab2c",blockedNoticeContainer:"blockedNoticeContainer_b7ab2c",compact:"compact_b7ab2c",ephemeralAccessories:"ephemeralAccessories_b7ab2c",learnMore:"learnMore_b7ab2c"}},422499:function(e,t,n){e.exports={flash:"flash__03436"}},378661:function(e,t,n){e.exports={expanded:"expanded__7a70a",blockedSystemMessage:"blockedSystemMessage__7a70a",blockedIcon:"blockedIcon__7a70a",blockedMessageText:"blockedMessageText__7a70a",blockedAction:"blockedAction__7a70a"}},456645:function(e,t,n){e.exports={box:"box_ee23ac",textContainer:"textContainer_ee23ac",divider:"divider_ee23ac",animation:"animation_ee23ac"}},26896:function(e,t,n){e.exports={operations:"operations_bab751"}},458926:function(e,t,n){e.exports={spamBanner:"spamBanner_a2eac3",bannerTextContainer:"bannerTextContainer_a2eac3",bannerText:"bannerText_a2eac3",bannerIcon:"bannerIcon_a2eac3",bannerHeader:"bannerHeader_a2eac3",bannerSubtext:"bannerSubtext_a2eac3",actionButtons:"actionButtons_a2eac3"}},835025:function(e,t,n){e.exports={wrapper:"wrapper_d852db"}},315146:function(e,t,n){e.exports={containerExpanded:"containerExpanded__7ff28",stickerExpanded:"stickerExpanded__7ff28",containerCompact:"containerCompact__7ff28",compactButton:"compactButton__7ff28",compactButtonDisabled:"compactButtonDisabled__7ff28",text:"text__7ff28",error:"error__7ff28"}},785727:function(e,t,n){e.exports={container:"container__040f0",isHeader:"isHeader__040f0",isReply:"isReply__040f0",emojiTooltipText:"emojiTooltipText__040f0",emoji:"emoji__040f0"}},151227:function(e,t,n){e.exports={messagesWrapper:"messagesWrapper__36d07",scrollerContent:"scrollerContent__36d07",scroller:"scroller__36d07",scrollerSpacer:"scrollerSpacer__36d07",empty:"empty__36d07",emptyForum:"emptyForum__36d07",scrollerInner:"scrollerInner__36d07",scrollerAllowSticky:"scrollerAllowSticky__36d07",navigationDescription:"navigationDescription__36d07"}},561782:function(e,t,n){e.exports={wrapper:"wrapper_f563df",button:"button_f563df",focused:"focused_f563df",icon:"icon_f563df"}},121271:function(e,t,n){e.exports={interactionInfoMenuItem:"interactionInfoMenuItem_e1195d"}},576311:function(e,t,n){e.exports={emoji:"emoji_ab6c65"}},418087:function(e,t,n){e.exports={flagIcon:"flagIcon__45b6e"}},58102:function(e,t,n){e.exports={notice:"notice__51057",info:"info__51057"}},245995:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_dc83f5",chatHeaderBarText:"chatHeaderBarText_dc83f5",narrow:"narrow_dc83f5"}},469438:function(e,t,n){e.exports={gatedContent:"gatedContent__7184c",image:"image__7184c",title:"title__7184c",description:"description__7184c"}},617296:function(e,t,n){e.exports={container:"container__1fad5",progress:"progress__1fad5"}},23586:function(e,t,n){e.exports={combo:"combo__257af",comboValue:"comboValue__257af",comboNameplate:"comboNameplate__257af",comboMultiplier:"comboMultiplier__257af",comboSquare:"comboSquare__257af",left:"left__257af",right:"right__257af",confettiIcon:"confettiIcon__257af",tip:"tip__257af",messageComboScore:"messageComboScore__257af",comboScore:"comboScore__257af"}},874341:function(e,t,n){e.exports={emojiWrapper:"emojiWrapper__21d2d",emoji:"emoji__21d2d",left:"left__21d2d",shy:"shy__21d2d",right:"right__21d2d",center:"center__21d2d",confettiMode:"confettiMode__21d2d",swayLeft:"swayLeft__21d2d",swayRight:"swayRight__21d2d",swayCenter:"swayCenter__21d2d",hidden:"hidden__21d2d"}},916796:function(e,t,n){e.exports={popoutContainer:"popoutContainer__02e2b",image:"image__02e2b",infoContainerParent:"infoContainerParent__02e2b",infoContainer:"infoContainer__02e2b",infoText:"infoText__02e2b",closeButton:"closeButton__02e2b",closeIcon:"closeIcon__02e2b",hidden:"hidden__02e2b",poweredByNitroContainer:"poweredByNitroContainer__02e2b"}},541170:function(e,t,n){e.exports={bannerContainer:"bannerContainer__362cd",bannerHeader:"bannerHeader__362cd"}},405143:function(e,t,n){e.exports={root:"root__92958",activityList:"activityList__92958",activityRow:"activityRow__92958",activityRowContent:"activityRowContent__92958",disabledReason:"disabledReason__92958"}},262441:function(e,t,n){e.exports={cell:"cell_f70307",iconContainer:"iconContainer_f70307",icon:"icon_f70307",textContainer:"textContainer_f70307",number:"number_f70307",cellGroup:"cellGroup_f70307",content:"content_f70307",completedText:"completedText_f70307"}},582220:function(e,t,n){e.exports={safetyBanner:"safetyBanner__51e4d",safetyShieldIcon:"safetyShieldIcon__51e4d",buttons:"buttons__51e4d",shieldAndHeading:"shieldAndHeading__51e4d",closeButton:"closeButton__51e4d"}},753599:function(e,t,n){e.exports={row:"row__19fd1",rowMana:"rowMana__19fd1",noInset:"noInset__19fd1",iconContainer:"iconContainer__19fd1",icon:"icon__19fd1",textContainer:"textContainer__19fd1",number:"number__19fd1",tableRowGroup:"tableRowGroup__19fd1",content:"content__19fd1"}},206536:function(e,t,n){e.exports={closeButton:"closeButton_b6de96",header:"header_b6de96",doubleInput:"doubleInput_b6de96",column:"column_b6de96",cancelButton:"cancelButton_b6de96",footer:"footer_b6de96"}},865239:function(e,t,n){e.exports={searchHeader:"searchHeader_f3b986",searchHeaderWithSubtitle:"searchHeaderWithSubtitle_f3b986",searchModeAndFiltersContainer:"searchModeAndFiltersContainer_f3b986",searchModeSelect:"searchModeSelect_f3b986",searchHeaderTabList:"searchHeaderTabList_f3b986",searchHeaderTab:"searchHeaderTab_f3b986",helpdeskLink:"helpdeskLink_f3b986",totalResultsWrapper:"totalResultsWrapper_f3b986",totalResults:"totalResults_f3b986",totalResultsWithSubtitle:"totalResultsWithSubtitle_f3b986",spinnerWrapper:"spinnerWrapper_f3b986",spinner:"spinner_f3b986",spinnerPath:"spinnerPath_f3b986"}},669922:function(e,t,n){e.exports={searchResultsWrap:"searchResultsWrap_a9e706",scroller:"scroller_a9e706",emptyResultsWrap:"emptyResultsWrap_a9e706",emptyResultsContent:"emptyResultsContent_a9e706",emptyResultsText:"emptyResultsText_a9e706",stillIndexing:"stillIndexing_a9e706",noResultsImage:"noResultsImage_a9e706",errorImage:"errorImage_a9e706",errorMessage:"errorMessage_a9e706",noResults:"noResults_a9e706",alt:"alt_a9e706",helpMessageContainer:"helpMessageContainer_a9e706",paginationLimitTooltipText:"paginationLimitTooltipText_a9e706",paginationLimitTooltip:"paginationLimitTooltip_a9e706",paginationLimitHeader:"paginationLimitHeader_a9e706"}},62511:function(e,t,n){e.exports={container:"container__3379f",icons:"icons__3379f",iconContainer:"iconContainer__3379f",icon:"icon__3379f"}},806777:function(e,t,n){e.exports={sharedCanvas:"sharedCanvas_c4eba0"}},461918:function(e,t,n){e.exports={participants:"participants__9c309"}},383519:function(e,t,n){e.exports={tileBaseContainer:"tileBaseContainer__71eb2",tileContainer:"tileContainer__71eb2 tileBaseContainer__71eb2",textContainer:"textContainer__71eb2",avatarContainer:"avatarContainer__71eb2",avatar:"avatar__71eb2",faded:"faded__71eb2",text:"text__71eb2",singleIcon:"singleIcon__71eb2",doubleIcon:"doubleIcon__71eb2",boost:"boost__71eb2",blockedIcon:"blockedIcon__71eb2",icon:"icon__71eb2",invited:"invited__71eb2"}},441997:function(e,t,n){e.exports={spaceBetweenTiles:"spaceBetweenTiles_fa73d7",tileSizer:"tileSizer_fa73d7"}},773433:function(e,t,n){e.exports={container:"container__05cdc",sparkleIcon:"sparkleIcon__05cdc",sparkleTop:"sparkleTop__05cdc",sparkleBottom:"sparkleBottom__05cdc"}},318681:function(e,t,n){e.exports={container:"container_fdb9cf"}},353808:function(e,t,n){e.exports={background:"background__506d9",foreground:"foreground__506d9"}},6762:function(e,t,n){e.exports={raisedHandIcon:"raisedHandIcon__15cd2",raisedHandCount:"raisedHandCount__15cd2"}},112848:function(e,t,n){e.exports={container:"container__664ff",chatOpen:"chatOpen__664ff",headerContainer:"headerContainer__664ff",contentContainer:"contentContainer__664ff",buttonContainer:"buttonContainer__664ff",listTitle:"listTitle__664ff",participantRowContainer:"participantRowContainer__664ff",participantMemberContainer:"participantMemberContainer__664ff",participantTextContainer:"participantTextContainer__664ff",participantAvatar:"participantAvatar__664ff",participantName:"participantName__664ff",emptyStateContainer:"emptyStateContainer__664ff",emptyStateTitle:"emptyStateTitle__664ff",emptyStateBody:"emptyStateBody__664ff",toggle:"toggle__664ff"}},515074:function(e,t,n){e.exports={container:"container__722ff",callContainer:"callContainer__722ff",sidebarVisible:"sidebarVisible__722ff",sidebarOrChatVisible:"sidebarOrChatVisible__722ff",volumeSlider:"volumeSlider__722ff",chatToasts:"chatToasts__722ff",rtsSidebarOpen:"rtsSidebarOpen__722ff",channelChatWrapper:"channelChatWrapper__722ff"}},270479:function(e,t,n){e.exports={participants:"participants__4783a",icon:"icon__4783a",buttonIcon:"buttonIcon__4783a",channelName:"channelName__4783a",channelNameWrapper:"channelNameWrapper__4783a",divider:"divider__4783a",speakerCount:"speakerCount__4783a",button:"button__4783a",sidebarOpen:"sidebarOpen__4783a",boostUpsell:"boostUpsell__4783a",text:"text__4783a",buttons:"buttons__4783a"}},307139:function(e,t,n){e.exports={scroller:"scroller__56ccd",spacer:"spacer__56ccd",focusedRow:"focusedRow__56ccd",header:"header__56ccd"}},769265:function(e,t,n){e.exports={containerColumn:"containerColumn_fcb27c",container:"container_fcb27c",eventPrompts:"eventPrompts_fcb27c",separator:"separator_fcb27c",wrapper:"wrapper_fcb27c",buttonSection:"buttonSection_fcb27c"}},425462:function(e,t,n){e.exports={scrollerBase:"scrollerBase_c8b5c7",auto:"auto_c8b5c7 scrollerBase_c8b5c7",fade:"fade_c8b5c7"}},62219:function(e,t,n){e.exports={rowContainer:"rowContainer__8a920"}},982115:function(e,t,n){e.exports={container:"container__9aed4",micIcon:"micIcon__9aed4",downIcon:"downIcon__9aed4",upIcon:"upIcon__9aed4",text:"text__9aed4"}},374379:function(e,t,n){e.exports={summary:"summary__3af26",speakers:"speakers__3af26",avatar:"avatar__3af26"}},375767:function(e,t,n){e.exports={tile:"tile_fdc206"}},196979:function(e,t,n){e.exports={headerContainer:"headerContainer__0b34e",eventPrompt:"eventPrompt__0b34e",subtitle:"subtitle__0b34e",continueIcon:"continueIcon__0b34e",continueIconContainer:"continueIconContainer__0b34e",audienceSummary:"audienceSummary__0b34e",summaryItem:"summaryItem__0b34e",container:"container__0b34e",content:"content__0b34e"}},363350:function(e,t,n){e.exports={summaryDivider:"summaryDivider__3aab5",summaryDividerStart:"summaryDividerStart__3aab5",summaryDividerEnd:"summaryDividerEnd__3aab5",summaryStartContent:"summaryStartContent__3aab5",summaryEndContent:"summaryEndContent__3aab5",summaryStartIcon:"summaryStartIcon__3aab5",summaryEndIcon:"summaryEndIcon__3aab5",summaryFeedbackWrapper:"summaryFeedbackWrapper__3aab5",summaryFeedback:"summaryFeedback__3aab5",thumbIcon:"thumbIcon__3aab5"}},757212:function(e,t,n){e.exports={container:"container_fb64c9",chat:"chat_fb64c9",messagesWrapper:"messagesWrapper_fb64c9",scroller:"scroller_fb64c9",scrollerInner:"scrollerInner_fb64c9",formSection:"formSection_fb64c9",checkbox:"checkbox_fb64c9",privateThreadDescription:"privateThreadDescription_fb64c9",form:"form_fb64c9",channelTextArea:"channelTextArea_fb64c9",channelTextAreaInner:"channelTextAreaInner_fb64c9",channelTextAreaWithTypingIndicator:"channelTextAreaWithTypingIndicator_fb64c9",typingIndicator:"typingIndicator_fb64c9",channelTextAreaInnerError:"channelTextAreaInnerError_fb64c9",starterMessageError:"starterMessageError_fb64c9",privateThreadFormTitle:"privateThreadFormTitle_fb64c9",privateThreadFormTitleText:"privateThreadFormTitleText_fb64c9",submitContainer:"submitContainer_fb64c9",messagePreview:"messagePreview_fb64c9",threadNameInputWithAI:"threadNameInputWithAI_fb64c9",threadNameContainer:"threadNameContainer_fb64c9"}},715:function(e,t,n){e.exports={container:"container_d9c882",header:"header_d9c882",closeIcon:"closeIcon_d9c882",divider:"divider_d9c882",threadIcon:"threadIcon_d9c882",title:"title_d9c882",spacer:"spacer_d9c882",createButton:"createButton_d9c882"}},779696:function(e,t,n){e.exports={container:"container__1b24f",iconContainer:"iconContainer__1b24f",icon:"icon__1b24f",stars:"stars__1b24f",header:"header__1b24f",cta:"cta__1b24f"}},568592:function(e,t,n){e.exports={icon:"icon_d98031",browser:"browser_d98031"}},712335:function(e,t,n){e.exports={container:"container__6764b",left:"left__6764b",authorName:"authorName__6764b",messageContent:"messageContent__6764b",parentName:"parentName__6764b",startedByName:"startedByName__6764b",subtext:"subtext__6764b",threadName:"threadName__6764b",threadNameLine:"threadNameLine__6764b",facepile:"facepile__6764b",avatar:"avatar__6764b",noAvatarIcon:"noAvatarIcon__6764b",messageContentTrailingIcon:"messageContentTrailingIcon__6764b",messageContentLeadingIcon:"messageContentLeadingIcon__6764b",bullet:"bullet__6764b"}},836227:function(e,t,n){e.exports={list:"list_c441f0",activeThreadsList:"activeThreadsList_c441f0",sectionHeader:"sectionHeader_c441f0",spinner:"spinner_c441f0"}},856426:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_a5700d",narrow:"narrow_a5700d",chatHeaderBarText:"chatHeaderBarText_a5700d",chatHeaderBarButton:"chatHeaderBarButton_a5700d"}},952899:function(e,t,n){e.exports={chat:"chat_ee72fa"}},123305:function(e,t,n){e.exports={container:"container__5662e"}},302422:function(e,t,n){e.exports={container:"container__3f123"}},870515:function(e,t,n){e.exports={container:"container_ee658d",personAvatar:"personAvatar_ee658d",guildAvatar:"guildAvatar_ee658d",illustration:"illustration_ee658d",avatarSizeOverride:"avatarSizeOverride_ee658d"}},131257:function(e,t,n){e.exports={indicator:"indicator_ffc7aa",animationContainer:"animationContainer_ffc7aa",animating:"animating_ffc7aa",notAnimating:"notAnimating_ffc7aa",top:"top_ffc7aa","exclaim-loop":"exclaim-loop_ffc7aa","quick-fade-out":"quick-fade-out_ffc7aa",bottom:"bottom_ffc7aa","dot-loop":"dot-loop_ffc7aa",innerCircle:"innerCircle_ffc7aa","inner-circle-loop":"inner-circle-loop_ffc7aa",highPriority:"highPriority_ffc7aa","inner-circle-loop-high-priority":"inner-circle-loop-high-priority_ffc7aa",outerCircle:"outerCircle_ffc7aa","outer-circle-loop":"outer-circle-loop_ffc7aa","outer-circle-loop-high-priority":"outer-circle-loop-high-priority_ffc7aa"}},186903:function(e,t,n){e.exports={icon:"icon_dbd216",writingMessagesTitle:"writingMessagesTitle_dbd216",voiceChannelsTitle:"voiceChannelsTitle_dbd216",channelsTitle:"channelsTitle_dbd216"}},891628:function(e,t,n){e.exports={list:"list_c47777"}},131806:function(e,t,n){e.exports={memberSinceWrapper:"memberSinceWrapper_c4eb81",memberSince:"memberSince_c4eb81",guildIcon:"guildIcon_c4eb81",discordIcon:"discordIcon_c4eb81",divider:"divider_c4eb81"}},777267:function(e,t,n){e.exports={row:"row__89036",avatar:"avatar__89036",details:"details__89036",tag:"tag__89036",discriminator:"discriminator__89036"}},323759:function(e,t,n){e.exports={row:"row__0a95c",icon:"icon__0a95c",noIcon:"noIcon__0a95c",details:"details__0a95c",name:"name__0a95c",avatar:"avatar__0a95c",nick:"nick__0a95c"}},491010:function(e,t,n){e.exports={container:"container_a419e0",headerContainer:"headerContainer_a419e0",preview:"preview_a419e0",body:"body_a419e0"}},231688:function(e,t,n){e.exports={header:"header__7f9c0",footer:"footer__7f9c0",footerButton:"footerButton__7f9c0",banner:"banner__7f9c0",backdrop:"backdrop__7f9c0",toast:"toast__7f9c0",widgetBreadcrumb:"widgetBreadcrumb__7f9c0"}},892273:function(e,t,n){e.exports={body:"body_b32ca4",overlay:"overlay_b32ca4",card:"card_b32ca4"}},689315:function(e,t,n){e.exports={section:"section__1f6ca",header:"header__1f6ca",clickable:"clickable__1f6ca",list:"list__1f6ca"}},439178:function(e,t,n){e.exports={overlay:"overlay__3b260",divider:"divider__3b260",list:"list__3b260",loadingMutualFriend:"loadingMutualFriend__3b260"}},447661:function(e,t,n){e.exports={streamInfoContainer:"streamInfoContainer__0f85c",infoRow:"infoRow__0f85c"}},348130:function(e,t,n){e.exports={root:"root__4ad81",art:"art__4ad81",heading:"heading__4ad81",checkboxContainer:"checkboxContainer__4ad81",closeButton:"closeButton__4ad81",closeButtonContainer:"closeButtonContainer__4ad81",activitiesContainer:"activitiesContainer__4ad81",activitiesContainerSmol:"activitiesContainerSmol__4ad81",activitySuggestion:"activitySuggestion__4ad81",clickableTile:"clickableTile__4ad81",iconContainer:"iconContainer__4ad81",shelfButtonCloseButton:"shelfButtonCloseButton__4ad81",closeButtonIcon:"closeButtonIcon__4ad81",singleUserRoot:"singleUserRoot__4ad81"}},798242:function(e,t,n){e.exports={container:"container_ecf309",iframe:"iframe_ecf309",clickShield:"clickShield_ecf309",splashImage:"splashImage_ecf309",splash:"splash_ecf309",avatar:"avatar_ecf309",subheader:"subheader_ecf309",medium:"medium_ecf309",small:"small_ecf309",header:"header_ecf309",buttons:"buttons_ecf309",button:"button_ecf309"}},202738:function(e,t,n){e.exports={gradientBackground:"gradientBackground__41626",leftDarkEllipse:"leftDarkEllipse__41626",leftLightEllipse:"leftLightEllipse__41626",rightDarkEllipse:"rightDarkEllipse__41626",rightLightEllipse:"rightLightEllipse__41626",centerEllipse:"centerEllipse__41626"}},7504:function(e,t,n){e.exports={"outgoing-call-pulse":"outgoing-call-pulse__2f4f7",wrapper:"wrapper__2f4f7",ringing:"ringing__2f4f7",tile:"tile__2f4f7",idle:"idle__2f4f7",noInteraction:"noInteraction__2f4f7",tileChild:"tileChild__2f4f7",border:"border__2f4f7",voiceChannelEffect:"voiceChannelEffect__2f4f7",speaking:"speaking__2f4f7",noBorder:"noBorder__2f4f7",overlayContainer:"overlayContainer__2f4f7",compact:"compact__2f4f7",overlayTop:"overlayTop__2f4f7",overlayBottom:"overlayBottom__2f4f7",overlayTitle:"overlayTitle__2f4f7",experimentOverlayTitle:"experimentOverlayTitle__2f4f7",overlayTitleText:"overlayTitleText__2f4f7",overlayButton:"overlayButton__2f4f7",overlayButtonInner:"overlayButtonInner__2f4f7",overlayButtonContainer:"overlayButtonContainer__2f4f7",hideWhenInactive:"hideWhenInactive__2f4f7",experimentTitleIcon:"experimentTitleIcon__2f4f7",secureFramesIcon:"secureFramesIcon__2f4f7",status:"status__2f4f7",interactive:"interactive__2f4f7",videoDisabledTitle:"videoDisabledTitle__2f4f7",content:"content__2f4f7",streamPreview:"streamPreview__2f4f7",streamPreviewOpacity:"streamPreviewOpacity__2f4f7",indicators:"indicators__2f4f7",selectedScreen:"selectedScreen__2f4f7",selectedIcon:"selectedIcon__2f4f7",liveIndicator:"liveIndicator__2f4f7",addStreamIcon:"addStreamIcon__2f4f7",addCTA:"addCTA__2f4f7",absoluteFill:"absoluteFill__2f4f7",videoWrapper:"videoWrapper__2f4f7",blocked:"blocked__2f4f7",ignored:"ignored__2f4f7",blockedIcon:"blockedIcon__2f4f7",blockedAvatar:"blockedAvatar__2f4f7",small:"small__2f4f7",stopStreamIcon:"stopStreamIcon__2f4f7",darkCircle:"darkCircle__2f4f7",streamUnavailable:"streamUnavailable__2f4f7",streamUnavailableText:"streamUnavailableText__2f4f7",voiceChannelEffectsContainer:"voiceChannelEffectsContainer__2f4f7",stopStreamForeground:"stopStreamForeground__2f4f7"}},330831:function(e,t,n){e.exports={container:"container__2aff1",tileContainer:"tileContainer__2aff1",tile:"tile__2aff1"}},32312:function(e,t,n){e.exports={eventPromptsContainer:"eventPromptsContainer__1405b",controlButton:"controlButton__1405b",wrapper:"wrapper__1405b",buttonContainer:"buttonContainer__1405b",buttonSection:"buttonSection__1405b"}},394024:function(e,t,n){e.exports={voiceCallWrapper:"voiceCallWrapper_a21736",videoGridWrapper:"videoGridWrapper_a21736",flexCenter:"flexCenter_a21736",videoWrapperAnimated:"videoWrapperAnimated_a21736",videoGrid:"videoGrid_a21736",videoSizer:"videoSizer_a21736",focusedVideo:"focusedVideo_a21736"}},427538:function(e,t,n){e.exports={container:"container__5aa3a",tiles:"tiles__5aa3a",tile:"tile__5aa3a",participantsRow:"participantsRow__5aa3a",channelName:"channelName__5aa3a",joinButton:"joinButton__5aa3a",buttonContainer:"buttonContainer__5aa3a",content:"content__5aa3a"}},508773:function(e,t,n){e.exports={root:"root__6dcca",art:"art__6dcca",hidden:"hidden__6dcca",header:"header__6dcca"}},312439:function(e,t,n){e.exports={tile:"tile_eaee1d"}},105740:function(e,t,n){e.exports={root:"root_f555ee"}},597843:function(e,t,n){e.exports={root:"root__6981d",tileWrapper:"tileWrapper__6981d",videoFrame:"videoFrame__6981d",videoWrapper:"videoWrapper__6981d",actionRow:"actionRow__6981d",idle:"idle__6981d",participantsWrapperAnimated:"participantsWrapperAnimated__6981d"}},811130:function(e,t,n){e.exports={buttonColor:"buttonColor__7b3e8",textButton:"textButton__7b3e8",iconButton:"iconButton__7b3e8"}},70185:function(e,t,n){e.exports={pulseBackgroundDark:"pulseBackgroundDark__11664",pulseBackgroundLight:"pulseBackgroundLight__11664",pulseForegroundRing:"pulseForegroundRing__11664",pulseForeground:"pulseForeground__11664",pulseGradient:"pulseGradient__11664"}},565063:function(e,t,n){e.exports={hidden:"hidden_d2e74b",whiteFlash:"whiteFlash_d2e74b",movingImage:"movingImage_d2e74b"}},89019:function(e,t,n){e.exports={toastWrapper:"toastWrapper_d3c698",toast:"toast_d3c698",avatar:"avatar_d3c698",messageContentWrapper:"messageContentWrapper_d3c698",mentioned:"mentioned_d3c698",sticker:"sticker_d3c698",messageContent:"messageContent_d3c698",messageContentTrailingIcon:"messageContentTrailingIcon_d3c698",messageContentLeadingIcon:"messageContentLeadingIcon_d3c698"}},349364:function(e,t,n){e.exports={root:"root_bfe55a",idle:"idle_bfe55a",gradientContainer:"gradientContainer_bfe55a",topControls:"topControls_bfe55a controlSection_bfe55a",bottomControls:"bottomControls_bfe55a controlSection_bfe55a",videoControls:"videoControls_bfe55a",gradientTop:"gradientTop_bfe55a gradientContainer_bfe55a",gradientBottom:"gradientBottom_bfe55a gradientContainer_bfe55a",controlSection:"controlSection_bfe55a",edgeControls:"edgeControls_bfe55a"}},606630:function(e,t,n){e.exports={root:"root__14990",warningIcon:"warningIcon__14990",errorCodeMessage:"errorCodeMessage__14990"}},112589:function(e,t,n){e.exports={arrow:"arrow__6c50b",up:"up__6c50b"}},867506:function(e,t,n){e.exports={unreadCount:"unreadCount__23463",mention:"mention__23463"}},753797:function(e,t,n){e.exports={chatIcon:"chatIcon__233f8",badge:"badge__233f8"}},181201:function(e,t,n){e.exports={voiceChannelEffectEmojiContainer:"voiceChannelEffectEmojiContainer__66db8",voiceChannelEffectEmoji:"voiceChannelEffectEmoji__66db8"}},604729:function(e,t,n){e.exports={container:"container_f0df50",emoji:"emoji_f0df50",emoji1:"emoji1_f0df50","floating-animation-1":"floating-animation-1_f0df50",emoji2:"emoji2_f0df50","floating-animation-2":"floating-animation-2_f0df50",emoji3:"emoji3_f0df50","floating-animation-3":"floating-animation-3_f0df50",emoji4:"emoji4_f0df50","floating-animation-4":"floating-animation-4_f0df50"}},484334:function(e){e.exports=JSON.parse('{"v":"5.12.1","fr":60,"ip":0,"op":210,"w":100,"h":100,"nm":"entrypoint_anim","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":9,"ty":4,"nm":"Blur Mask","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[70,70,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.985,0.985,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":60,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.974,0.974,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.015,-0.015,0]},"t":90,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.954,0.954,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.026,-0.026,0]},"t":120,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.091,-0.091,0]},"t":150,"s":[95,95,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.009,-0.009,0]},"t":180,"s":[100,100,100]},{"t":210,"s":[70,70,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[600,600],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.5,1,1,1,0.75,1,1,1,1,1,1,1,0.5,1,0.75,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[30,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":3,"nm":"Rotate Null","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":210,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":210,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Green","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-25,25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.341,0.949,0.529,0.5,0.341,0.949,0.529,1,0.341,0.949,0.529,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Magenta","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25,-25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.922,0.271,0.62,0.5,0.922,0.271,0.62,1,0.922,0.271,0.62,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":1,"nm":"BG","tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[50,50,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"sw":100,"sh":100,"sc":"#5865f2","ip":0,"op":210,"st":0,"bm":0}],"markers":[{"tm":0,"cm":"all","dr":210}],"props":{}}')},158877:function(e){e.exports=JSON.parse('{"nm":"entrypoint_anim","ddd":0,"h":100,"w":100,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":3,"nm":"Trinkets Null","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"L2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":80},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":100},{"s":[0,0,100],"t":120}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-13.333,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[27.662],"t":80},{"s":[2.662],"t":120}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.352,-0.951],[0,0],[-0.274,-0.101],[0,0],[0.951,-0.352],[0,0],[0.101,-0.274],[0,0],[0.352,0.951],[0,0],[0.274,0.101],[0,0],[-0.951,0.352],[0,0],[-0.101,0.274]],"o":[[0.352,-0.951],[0,0],[0.101,0.274],[0,0],[0.951,0.352],[0,0],[-0.274,0.101],[0,0],[-0.352,0.951],[0,0],[-0.101,-0.274],[0,0],[-0.951,-0.352],[0,0],[0.274,-0.101],[0,0]],"v":[[-1.025,-3.786],[1.025,-3.786],[1.611,-2.202],[2.202,-1.611],[3.787,-1.025],[3.787,1.025],[2.202,1.611],[1.611,2.202],[1.025,3.786],[-1.025,3.786],[-1.611,2.202],[-2.202,1.611],[-3.787,1.025],[-3.787,-1.025],[-2.202,-1.611],[-1.611,-2.202]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.3451,0.3961,0.949],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2,"parent":1},{"ty":4,"nm":"R2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":40},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":60},{"s":[0,0,100],"t":80}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":15,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25.662],"t":40},{"s":[0.662],"t":80}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.39,-0.389],[0,0],[-0.224,-0.026],[0,0],[0.061,-0.548],[0,0],[-0.12,-0.191],[0,0],[0.466,-0.294],[0,0],[0.075,-0.213],[0,0],[0.52,0.181],[0,0],[0.213,-0.074],[0,0],[0.183,0.52],[0,0],[0.19,0.12],[0,0],[-0.292,0.467],[0,0],[0.025,0.224],[0,0],[-0.547,0.063],[0,0],[-0.16,0.159]],"o":[[0.39,-0.389],[0,0],[0.16,0.159],[0,0],[0.547,0.063],[0,0],[-0.025,0.224],[0,0],[0.292,0.467],[0,0],[-0.191,0.12],[0,0],[-0.183,0.52],[0,0],[-0.213,-0.074],[0,0],[-0.52,0.181],[0,0],[-0.075,-0.213],[0,0],[-0.466,-0.294],[0,0],[0.12,-0.191],[0,0],[-0.061,-0.548],[0,0],[0.224,-0.026],[0,0]],"v":[[-0.706,-4.594],[0.706,-4.594],[1.543,-3.76],[2.135,-3.475],[3.31,-3.34],[4.19,-2.237],[4.06,-1.061],[4.206,-0.421],[4.833,0.581],[4.519,1.958],[3.519,2.589],[3.11,3.102],[2.717,4.218],[1.445,4.83],[0.329,4.442],[-0.329,4.442],[-1.445,4.83],[-2.717,4.218],[-3.11,3.102],[-3.519,2.589],[-4.519,1.958],[-4.833,0.581],[-4.206,-0.421],[-4.06,-1.061],[-4.19,-2.237],[-3.31,-3.34],[-2.135,-3.475],[-1.543,-3.76]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9686,0.8,0.3961],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":4,"nm":"R1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":60},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":80},{"s":[0,0,100],"t":100}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":3.397,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":60},{"s":[-22.338],"t":100}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.073,1.165],[0,0],[-0.98,-0.722],[0,0],[1.057,-0.493]],"o":[[-1.057,0.493],[0,0],[0.076,-1.214],[0,0],[0.939,0.692],[0,0]],"v":[[-0.891,3.165],[-3.075,1.676],[-2.853,-1.869],[-0.407,-3.01],[2.453,-0.904],[2.191,1.727]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.5176,0.9333,0.5686],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4,"parent":1},{"ty":4,"nm":"L1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":72},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":92},{"s":[0,0,100],"t":112}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-15.264,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":72},{"s":[-22.338],"t":112}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-0.22,0.82],[0,0],[-0.82,-0.22],[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0]],"o":[[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0],[-0.22,0.82],[0,0],[-0.82,-0.22]],"v":[[-3.838,0.961],[-2.844,-2.751],[-0.961,-3.838],[2.751,-2.844],[3.838,-0.961],[2.844,2.751],[0.961,3.838],[-2.751,2.844]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.8235,0.5961,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5,"parent":1},{"ty":3,"nm":"Rotate Null","sr":1,"st":0,"op":210,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"s":[360],"t":210}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":6}],"v":"5.12.1","fr":60,"op":210,"ip":0,"assets":[]}')}}]);
//# sourceMappingURL=404b4b2ff68a027d.js.map