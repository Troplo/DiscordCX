"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["91488"],{720617:function(e){e.exports="/assets/2063fc2ef0c778bf.png"},272162:function(e){e.exports="/assets/f3cbcdad40b7140d.png"},632989:function(e){e.exports="/assets/65e38691f7c05321.png"},376252:function(e){e.exports="/assets/3f93966b676ef0fb.png"},273226:function(e){e.exports="/assets/3e4d5e236f62c4ba.png"},922026:function(e){e.exports="/assets/c385ef9dd294be87.png"},873180:function(e){e.exports="/assets/47b5cca448b07ece.png"},827926:function(e){e.exports="/assets/ec22204197211dc7.png"},977706:function(e){e.exports="/assets/a53fe63d4b568d70.svg"},389765:function(e){e.exports="/assets/03f95d2957fb9ed2.svg"},137492:function(e){e.exports="/assets/417c4def7a33b274.svg"},387661:function(e){e.exports="/assets/c8ae30e56eb87fdf.svg"},652430:function(e){e.exports="/assets/993e32de43e0d570.svg"},659953:function(e){e.exports="/assets/a67e28f364664918.svg"},319707:function(e){e.exports="/assets/89f880b6428b1aea.svg"},584914:function(e){e.exports="/assets/70750ced4a16e7ec.svg"},962575:function(e){e.exports="/assets/fe02228daf40c37f.svg"},334702:function(e){e.exports="/assets/1704496c3b4213df.svg"},333722:function(e){e.exports="/assets/f7d60ae597f16731.svg"},549931:function(e){e.exports="/assets/a7dd94c728c7093a.svg"},756688:function(e){e.exports="/assets/7f6a66c14402315f.svg"},886765:function(e){e.exports="/assets/4f3c39503b4b7fe4.svg"},178561:function(e){e.exports="/assets/5ef5055571515a96.svg"},39863:function(e){e.exports="/assets/0038fc958959af7c.svg"},130312:function(e){e.exports="/assets/21131df8cbb15b26.svg"},942570:function(e){e.exports="/assets/6cc7df94a1e18cbc.svg"},403756:function(e){e.exports="/assets/a8546d03debd645f.svg"},536404:function(e){e.exports="/assets/43a0c71f5cc76261.svg"},569347:function(e){e.exports="/assets/6c67a101e81dc0ad.svg"},332148:function(e,t,n){n.d(t,{Z:()=>d}),n(784620),n(973216);var r=n(544891),i=n(570140),l=n(346479),o=n(624453),a=n(668781),s=n(981631),c=n(388032);let u={async pinMessage(e,t){let{id:n,name:i}=e;await l.Z.unarchiveThreadIfNecessary(e.id),r.tn.put({url:s.ANM.PIN(n,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>{let t;t=e.isPrivate()?c.intl.formatToPlainString(c.t.Q89oQU,{maxPins:s.tG9}):c.intl.formatToPlainString(c.t.NnO1S0,{maxPins:s.tG9,channelName:i}),a.Z.show({title:c.intl.string(c.t.HI88Q0),body:t,confirmText:c.intl.string(c.t.BddRzc)})})},async unpinMessage(e,t){await l.Z.unarchiveThreadIfNecessary(e.id),r.tn.del({url:s.ANM.PIN(e.id,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>a.Z.show({title:c.intl.string(c.t.xFjBys),body:c.intl.string(c.t["0R/Toa"]),confirmText:c.intl.string(c.t["7NqTJi"]),cancelText:c.intl.string(c.t["ETE/oK"]),onConfirm:u.unpinMessage.bind(u,e,t)}))},ackPins(e){i.Z.dispatch({type:"CHANNEL_PINS_ACK",channelId:e})},fetchPins(e,t){var n,l;let a=null!=(n=null==t?void 0:t.reset)&&n,c=null!=(l=null==t?void 0:t.limit)?l:25,u=null==t?void 0:t.before;(a||function(e,t){let n=o.Z.getPins(e);if(null==n)return!0;switch(n.state){case o.M.FAILED:return!0;case o.M.LOADING:case o.M.LOADED_FINISHED:return!1;case o.M.LOADED_HAS_MORE:if(null==t)return 0===n.items.length;return n.items.at(-1).pinnedAt===t}}(e,u))&&(i.Z.dispatch({type:"LOAD_PINNED_MESSAGES",channelId:e,reset:a}),r.tn.get({url:s.ANM.PINS(e),query:{limit:c,before:null==u?void 0:u.toISOString()},retries:2,oldFormErrors:!0,rejectWithError:!0}).then(t=>{i.Z.dispatch({type:"LOAD_PINNED_MESSAGES_SUCCESS",pins:t.body.items,channelId:e,hasMore:t.body.has_more})},()=>{i.Z.dispatch({type:"LOAD_PINNED_MESSAGES_FAILURE",channelId:e})}))}},d=u},341382:function(e,t,n){n.d(t,{M:()=>i});var r=n(570140);function i(e){r.Z.dispatch({type:"PREMIUM_REQUIRED_MODAL_CLOSE",shouldContinue:e})}n(78839),n(355467)},831218:function(e,t,n){n.d(t,{Z:()=>V}),n(388685);var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(299608),c=n.n(s),u=n(91192),d=n(924826),p=n(442837),h=n(902704),f=n(481060),g=n(925549),m=n(607070),b=n(100527),O=n(367907),y=n(906732),_=n(453542),j=n(702321),v=n(46148),x=n(82295),C=n(313201),E=n(860144),S=n(214852),P=n(518311),I=n(355298),N=n(869404),w=n(333984),Z=n(984802),T=n(592125),A=n(158776),R=n(55589),D=n(981631),M=n(388032),L=n(777126);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let B=l.memo(function(){return(0,i.jsxs)("svg",{width:"184",height:"428",viewBox:"0 0 184 428",className:L.empty,children:[(0,i.jsx)("rect",{x:40,y:6,width:144,height:20,rx:10}),(0,i.jsx)("circle",{cx:16,cy:16,r:16}),(0,i.jsx)("rect",{x:40,y:50,width:144,height:20,rx:10,opacity:.9}),(0,i.jsx)("circle",{cx:16,cy:60,r:16,opacity:.9}),(0,i.jsx)("rect",{x:40,y:94,width:144,height:20,rx:10,opacity:.8}),(0,i.jsx)("circle",{cx:16,cy:104,r:16,opacity:.8}),(0,i.jsx)("rect",{x:40,y:138,width:144,height:20,rx:10,opacity:.7}),(0,i.jsx)("circle",{cx:16,cy:148,r:16,opacity:.7}),(0,i.jsx)("rect",{x:40,y:182,width:144,height:20,rx:10,opacity:.6}),(0,i.jsx)("circle",{cx:16,cy:192,r:16,opacity:.6}),(0,i.jsx)("rect",{x:40,y:226,width:144,height:20,rx:10,opacity:.5}),(0,i.jsx)("circle",{cx:16,cy:236,r:16,opacity:.5}),(0,i.jsx)("rect",{x:40,y:270,width:144,height:20,rx:10,opacity:.4}),(0,i.jsx)("circle",{cx:16,cy:280,r:16,opacity:.4}),(0,i.jsx)("rect",{x:40,y:314,width:144,height:20,rx:10,opacity:.3}),(0,i.jsx)("circle",{cx:16,cy:324,r:16,opacity:.3}),(0,i.jsx)("rect",{x:40,y:358,width:144,height:20,rx:10,opacity:.2}),(0,i.jsx)("circle",{cx:16,cy:368,r:16,opacity:.2}),(0,i.jsx)("rect",{x:40,y:402,width:144,height:20,rx:10,opacity:.1}),(0,i.jsx)("circle",{cx:16,cy:412,r:16,opacity:.1})]})});class F extends(r=l.Component){static getDerivedStateFromProps(e){let{children:t,privateChannelIds:n}=e;if(null==t)return{preRenderedChildren:0,nonNullChildren:[],totalRowCount:n.length};{let e=t.filter(e=>null!=e),r=e.length;return{preRenderedChildren:r,nonNullChildren:e,totalRowCount:r+n.length}}}componentDidMount(){let{selectedChannelId:e,homeLink:t}=this.props;null!=e&&null!=t&&t.indexOf(e)>=0&&this.scrollToChannel(e),this.reportAnalytics()}shouldComponentUpdate(e){return!(0,h.Z)(this.props,e,["children"])}componentDidUpdate(e){let{selectedChannelId:t,homeLink:n}=this.props;null!=t&&t!==e.selectedChannelId?this.scrollToChannel(t):null==t&&n!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()}scrollToChannel(e){if(null==this._list)return;let{padding:t}=this.props,{preRenderedChildren:n}=this.state,r=null!=e?this.props.privateChannelIds.indexOf(e):-1,i=0;r<0||null==e?this._list.scrollTo({to:i}):(i+=44*(r+n)+t,this._list.scrollIntoViewRect({start:Math.max(i-8,0),end:i+44+8}))}render(){let{privateChannelIds:e,padding:t}=this.props,{preRenderedChildren:n}=this.state;return(0,i.jsx)(u.SJ,{children:r=>{var{ref:l,role:o}=r,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,["ref","role"]);return(0,i.jsx)(f.Wdt,{children:r=>(0,i.jsx)(f.aVo,U({fade:!0,innerRole:o,innerAriaLabel:M.intl.string(M.t.YUU0RE),innerTag:"ul",ref:e=>{var t;this._list=e,this.props.listRef.current=e,l.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null},onScroll:this.handleScroll,className:L.scroller,sectionHeight:this.getSectionHeight,paddingTop:t,paddingBottom:8,rowHeight:this.getRowHeight,renderSection:this.renderSection,renderRow:this.renderRow,sections:[n,Math.max(e.length,1)]},a,r))})}})}constructor(...e){super(...e),k(this,"state",{initialized:!1,preRenderedChildren:0,totalRowCount:0,nonNullChildren:[]}),k(this,"_list",null),k(this,"hasReportedAnalytics",!1),k(this,"reportAnalytics",()=>{var e;if(this.hasReportedAnalytics)return;let t=null==(e=this._list)?void 0:e.getScrollerState();if(null==t)return;let{privateChannelIds:n,channels:r}=this.props;if(0===n.length)return;let i=l.Children.count(this.props.children);if(null==t)return;let o=Math.round((t.offsetHeight-44*i)/44),a=o>n.length?n.slice(0,o+1):n,s=a.map(e=>null!=r[e]?r[e].getRecipientId():null),c=n.some(e=>(0,j.Z)(e)),u={num_users_visible:a.length,num_users_visible_with_mobile_indicator:s.filter(e=>null!=e&&A.Z.isMobileOnline(e)).length};this.hasReportedAnalytics=!0,O.ZP.trackWithMetadata(D.rMx.DM_LIST_VIEWED,G(U({},u,(0,_.X)()),{visible_user_ids:s.filter(e=>null!=e),changelog_dm_visible:c}))}),k(this,"getSectionHeight",e=>{let{showDMHeader:t}=this.props;return 0===e?0:24*!!t}),k(this,"handleScroll",c()(()=>{if(null!=this._list){let e=this._list.getScrollerNode();null!=e&&g.Z.updateChannelListScroll(D.ME,e.scrollTop)}void 0!==this.props.onHandleScroll&&this.props.onHandleScroll()},100)),k(this,"renderDM",(e,t)=>{let{privateChannelIds:n,channels:r,selectedChannelId:l}=this.props,{totalRowCount:o,preRenderedChildren:a}=this.state,s=r[n[t]];return null==s?null:(0,i.jsx)(v.W,{channel:s,selected:s.id===l,"aria-posinset":a+t+1,"aria-setsize":o},s.id)}),k(this,"renderChild",e=>{let{nonNullChildren:t,totalRowCount:n}=this.state,r=t[e];return l.isValidElement(r)?l.cloneElement(r,{"aria-setsize":n,"aria-posinset":e+1}):r}),k(this,"renderRow",e=>{let{section:t,row:n}=e,{privateChannelIds:r}=this.props;return 0===t?this.renderChild(n):0===n&&0===r.length?(0,i.jsx)(B,{},"no-private-channels"):this.renderDM(t,n)}),k(this,"renderSection",e=>{let{section:t}=e,{showDMHeader:n,createDMCTAButtonVariant:r}=this.props;return 0!==t&&n?(0,i.jsxs)(x.Z,{className:a()(L.privateChannelsHeaderContainer,{[L.tall]:"side"===r}),children:[(0,i.jsx)("span",{className:L.headerText,children:M.intl.string(M.t.YUU0RE)}),null==r&&(0,i.jsx)(P.Z,{location:"PrivateChannelsList-CreateDMButton",tooltip:M.intl.string(M.t["6Urw1t"]),tooltipPosition:"top",popoutAlign:"left",className:L.privateChannelRecipientsInviteButtonIconContainer,iconClassName:L.privateChannelRecipientsInviteButtonIcon,icon:f.BRu,subscribeToGlobalHotkey:!0}),"side"===r&&(0,i.jsx)(P.l,{popoutAlign:"left",icon:f.kL_,text:M.intl.string(M.t["6Urw1t"]),size:"sm",subscribeToGlobalHotkey:!0})]},t):null}),k(this,"getRowHeight",(e,t)=>{let{privateChannelIds:n,density:r}=this.props,{nonNullChildren:i}=this.state,o=44;if(0===e){let e=i[t];if(l.isValidElement(e)){var a;o=(null==(a=e.key)?void 0:a.startsWith("section-divider"))?25:"dm-quick-launcher"===e.key?67:40}}else o="compact"===r?40:"default"===r?44:50;return 1===e&&0===t&&0===n.length?428:o})}}k(F,"defaultProps",{padding:8});let V=e=>{let{density:t}=(0,f.TCT)(),{version:n,theme:r,children:o,showDMHeader:a,listScrollerRef:s,createDMCTAButtonVariant:c}=e,h=l.Children.count(o),g=T.Z.getMutablePrivateChannels(),O=(0,N.k1)(g),_=(0,p.Wu)([R.Z,I.Z,w.Z],()=>{let e=R.Z.getPrivateChannelIds();return(0,N.tU)(e,[I.Z,w.Z])},[]);(0,S.z)(E.R);let{analyticsLocations:j}=(0,y.ZP)(b.Z.CONTACTS_LIST),v=(0,Z.Ll)(),{keyboardModeEnabled:x,version:P}=(0,p.cj)([m.Z,T.Z],()=>({keyboardModeEnabled:m.Z.keyboardModeEnabled,version:null!=n?"".concat(n,":").concat(T.Z.getPrivateChannelsVersion()):T.Z.getPrivateChannelsVersion()})),A=l.useRef(null),D=null!=s?s:A,M=l.useCallback(e=>{let t=D.current,n=document.querySelector(e);null!=t&&null!=n&&t.scrollIntoViewNode({node:n,callback:()=>{requestAnimationFrame(()=>{var t;return null==(t=document.querySelector(e))?void 0:t.focus({preventScroll:!0})})}})},[D]),L=l.useCallback(()=>new Promise(e=>{let t=D.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[D]),k=l.useCallback(()=>new Promise(e=>{let t=D.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[D]),B=(0,C.Dt)(),V=(0,d.ZP)({id:"private-channels-".concat(B),isEnabled:x,scrollToStart:L,scrollToEnd:k,defaultFocused:(h+ +!!a).toString(),setFocus:M});return(0,i.jsx)(y.Gt,{value:j,children:(0,i.jsx)(u.bG,{navigator:V,children:(0,i.jsx)(F,G(U({},e),{density:t,channels:O,privateChannelIds:_,listRef:D,theme:null!=v?v:r,version:P,createDMCTAButtonVariant:c}))})})}},353042:function(e,t,n){n.d(t,{Z:()=>s}),n(539854),n(583741),n(388685);var r,i=n(647438),l=n(846519);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends(r=i.Component){componentDidMount(){this.update(),this._interval.start(this.props.updateInterval,this.update)}componentWillUnmount(){this._interval.stop()}calculateInitialDeltaBytes(e){let{numUpdatesToShow:t,updateInterval:n,pointsToSmooth:r}=this.props,i=Date.now(),l=0,o=0,a=[],s=null!=e[0]?e[0].bytes:0;for(;l<t+r;l++){let t,r=i-(l+1)*n;for(;o<e.length;)if((t=e[o]).timestamp>r)o++;else break;if(o===e.length)break;null!=t&&(a.push(s-t.bytes),s=t.bytes)}for(;l<t+r;l++)a.push(0);return a.reverse(),a}smoothDeltaBytes(e){let{pointsToSmooth:t}=this.props,n=[];for(let r=0;r<e.length-t;r++){let i=0;for(let n=0;n<t;n++)i+=e[r+n];n.push(i/t)}return n}render(){let{numUpdatesToShow:e,updateInterval:t,children:n}=this.props;return n(this.state.smoothedDeltaBytes,t,e)}constructor(e){super(e),o(this,"_interval",new l.Xp),o(this,"update",()=>{let{onUpdate:e,numUpdatesToShow:t,pointsToSmooth:n,updateInterval:r}=this.props,i=this.props.getHistoricalTotalBytes(),l=null!=i[0]?i[0].bytes:0,o=[...this.state.deltaBytes.slice(1,t+n),l-this.state.lastTotalBytes];this.setState({deltaBytes:o,smoothedDeltaBytes:this.smoothDeltaBytes(o),lastTotalBytes:l},()=>null!=e&&e(r))});let t=this.props.getHistoricalTotalBytes(),n=this.calculateInitialDeltaBytes(t);this.state={deltaBytes:n,smoothedDeltaBytes:this.smoothDeltaBytes(n),lastTotalBytes:null!=t[0]?t[0].bytes:0}}}o(a,"defaultProps",{numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10});let s=a},339149:function(e,t,n){n.d(t,{E:()=>I,Z:()=>N}),n(388685),n(539854);var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(748780),c=n(442837),u=n(692547),d=n(215569),p=n(481060),h=n(812206),f=n(707409),g=n(703656),m=n(417363),b=n(941128),O=n(780570),y=n(353042),_=n(981631),j=n(388032),v=n(820093);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){x(e,t,n[t])})}return e}let E={[_.vxO.INSTALLING]:{[f.J6.NONE]:(e,t)=>j.intl.formatToPlainString(j.t["p+2sEx"],{name:e}),[f.J6.SECONDS]:(e,t)=>j.intl.formatToPlainString(j.t["/0NgPD"],{name:e,timeRemaining:t}),[f.J6.MINUTES]:(e,t)=>j.intl.formatToPlainString(j.t.ZIwMzs,{name:e,timeRemaining:t}),[f.J6.HOURS]:(e,t)=>j.intl.formatToPlainString(j.t["3IQDUl"],{name:e,timeRemaining:t})},[_.vxO.UPDATING]:{[f.J6.NONE]:(e,t)=>j.intl.formatToPlainString(j.t["6F9QzM"],{name:e}),[f.J6.SECONDS]:(e,t)=>j.intl.formatToPlainString(j.t["2OVgVl"],{name:e,timeRemaining:t}),[f.J6.MINUTES]:(e,t)=>j.intl.formatToPlainString(j.t.mgQg1N,{name:e,timeRemaining:t}),[f.J6.HOURS]:(e,t)=>j.intl.formatToPlainString(j.t["aTdq4+"],{name:e,timeRemaining:t})},[_.vxO.REPAIRING]:{[f.J6.NONE]:(e,t)=>j.intl.formatToPlainString(j.t["p+2sEx"],{name:e}),[f.J6.SECONDS]:(e,t)=>j.intl.formatToPlainString(j.t["/0NgPD"],{name:e,timeRemaining:t}),[f.J6.MINUTES]:(e,t)=>j.intl.formatToPlainString(j.t.ZIwMzs,{name:e,timeRemaining:t}),[f.J6.HOURS]:(e,t)=>j.intl.formatToPlainString(j.t["3IQDUl"],{name:e,timeRemaining:t})}};class S extends l.PureComponent{renderText(){let{state:e,isPaused:t}=this.props;if(e.type===_.vxO.UPDATING||e.type===_.vxO.REPAIRING||e.type===_.vxO.INSTALLING){if(t)return j.intl.string(j.t["5oxtFR"]);else if(e.stage===_.f07.PATCHING||e.stage===_.f07.REPAIRING)return(0,i.jsx)(y.Z,{getHistoricalTotalBytes:m.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressBody})}return null}render(){let e=this.renderText();return null!=e?e:j.intl.string(j.t.cw57am)}constructor(...e){super(...e),x(this,"renderProgressBody",(e,t)=>{let{state:n,application:r}=this.props,{stage:i,progress:l,total:o,type:a}=n;if(null==l||null==o||null==i)return null;let s=e[e.length-1]/t*1e3,c=0!==s?Math.max(1,(o-l)/s):null,u=E[a],d=null!=u?Object.keys(u):[],{unit:p,time:h}=(0,f.CI)(null!=c?c/60:null,d);if(null!=u&&null!=p){let e=u[p];return null!=e?e(r.name,h):null}return null})}}class P extends(r=l.PureComponent){componentWillAppear(e){this.state.animationScale.setValue(1),e()}componentWillEnter(e){s.Z.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)}componentWillLeave(e){s.Z.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)}getTooltipText(){let{firstApplication:e,firstState:t,isPaused:n}=this.props;return null==e||null==t?j.intl.string(j.t.cw57am):(0,i.jsx)(S,{application:e,state:t,isPaused:n})}render(){let{percent:e,isPaused:t,className:n}=this.props;return(0,i.jsx)(s.Z.div,{style:{transform:[{scale:this.state.animationScale}]},className:a()(n,v.progressContainer),onClick:this.handleOnClick,children:(0,i.jsx)(p.ua7,{text:this.getTooltipText(),position:"right","aria-label":!1,children:n=>{var r,l;return(0,i.jsx)("div",(r=C({},n),l=l={children:(0,i.jsx)(p._3P,{percent:e,colorOverride:t?u.Z.unsafe_rawColors.PRIMARY_500.css:null,children:(0,i.jsx)(p._8t,{size:"md",color:"currentColor",className:v.downloadIcon})})},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(l,e))}),r))}})})}constructor(...e){super(...e),x(this,"state",{animationScale:new s.Z.Value(0)}),x(this,"handleOnClick",e=>{let{onClick:t}=this.props;e.preventDefault(),e.stopPropagation(),null!=t&&t(e),(0,g.uL)(_.Z5c.APPLICATION_LIBRARY)})}}function I(e,t){return e.reduce((e,n)=>{let{applicationId:r,branchId:i}=n,l=t.getState(r,i);return null!=l&&e.push(l),e},[])}x(P,"defaultProps",{strokeSize:p._3P.StrokeSizes.MEDIUM});let N=c.ZP.connectStores([b.Z,m.Z,h.Z],()=>{let e=b.Z.activeItems,t=I(e,m.Z),{total:n,progress:r}=O.lK(t);return{percent:O.xI(r,n),isPaused:b.Z.paused,firstApplication:e.length>0?h.Z.getApplication(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(e=>{var{determineOwnVisibility:t=!0}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["determineOwnVisibility"]);return t?(0,i.jsx)(d.W,{component:l.Fragment,children:n.percent>0&&n.percent<100?(0,i.jsx)(P,C({},n)):null}):(0,i.jsx)(P,C({},n))})},170509:function(e,t,n){n.d(t,{default:()=>c});var r=n(951288);n(647438);var i=n(755721),l=n(481060),o=n(933557),a=n(388032),s=n(188319);function c(e){var t,n,{channel:c,category:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channel","category"]);let p=(0,o.ZP)(c,!0),h=(0,o.ZP)(u);return(0,r.jsx)(l.ConfirmModal,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({header:a.intl.string(a.t.YWMtRU),confirmText:a.intl.string(a.t.eW8Gy8),cancelText:a.intl.string(a.t.s4uM3d),confirmButtonColor:i.zx.Colors.BRAND},d),n=n={children:(0,r.jsx)(l.Text,{variant:"text-md/normal",className:s.message,selectable:!1,children:a.intl.format(a.t["iKW+jY"],{channelName:p,categoryName:h})})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},257559:function(e,t,n){n.d(t,{Z:()=>w}),n(997841),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(82659),s=n(755721),c=n(481060),u=n(332148),d=n(904245),p=n(933557),h=n(576855),f=n(372900),g=n(726521),m=n(294218),b=n(501517),O=n(699516),y=n(594174),_=n(630388),j=n(970257),v=n(981631),x=n(388032),C=n(764295),E=n(477425);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class N extends i.PureComponent{render(){let e,t,{report:n,resolveFlag:i}=this.state,l=this.props,{channel:o,message:s,showContextMenuHint:u,moderatorReportData:d}=l,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(l,["channel","message","showContextMenuHint","moderatorReportData"]),g=o.type===v.d4z.GUILD_ANNOUNCEMENT&&(0,_.yE)(s.flags,v.iLy.CROSSPOSTED);u&&(e=(0,r.jsx)(h.Z,{className:E.spacingTop,children:x.intl.format(x.t.IxY7Ex,{})})),(0,j.vc)(s)&&(t=(0,r.jsx)(c.j7V,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:E.spacingTop,children:x.intl.string(x.t.x0jzo6)}));let b=g?x.intl.string(x.t["2kHABQ"]):x.intl.string(x.t.AMvpS0),O=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:E.message,children:(0,r.jsx)(m.Z,{channel:o,message:s,disableInteraction:!0})}),t,e]});if((null==d?void 0:d.moderatorReportChannelId)!=null){let{isFlagResolved:e}=d;return(0,r.jsx)(f.Z.Provider,{value:o.guild_id,children:(0,r.jsxs)(c.Y0X,I(P({parentComponent:"DeleteModal"},p),{children:[(0,r.jsx)(c.xBx,{separator:!1,children:(0,r.jsxs)(c.Kqy,{direction:"vertical",justify:"space-between",children:[(0,r.jsx)(c.olH,{className:E.closeButton,onClick:p.onClose}),(0,r.jsx)(c.X6q,{variant:"heading-xl/bold",children:x.intl.string(x.t.MWMcg4)})]})}),(0,r.jsxs)(c.hzk,{children:[(0,r.jsx)(c.X6q,{variant:"heading-md/medium",className:E.spacing,children:b}),O]}),(0,r.jsxs)(c.mzw,{children:[(0,r.jsx)(c.zxk,{variant:"critical-primary",size:"sm",text:x.intl.string(x.t.oyYWHB),type:"submit",onClick:this.handleDelete}),!e&&(0,r.jsx)(c.XZJ,{value:i,onChange:(e,t)=>this.handleToggleResolveFlag(t),children:x.intl.string(C.default["8yIKen"])})]})]}))})}return(0,r.jsx)(f.Z.Provider,{value:o.guild_id,children:(0,r.jsx)(a.Modal,{title:g?x.intl.string(x.t.aIz1oa):x.intl.string(x.t.MWMcg4),subtitle:b,actions:[{text:x.intl.string(x.t["ETE/oK"]),onClick:p.onClose,variant:"secondary"},{text:x.intl.string(x.t.oyYWHB),onClick:this.handleDeleteMana,variant:"critical-primary"}],onClose:p.onClose,transitionState:p.transitionState,children:O})})}constructor(...e){super(...e),S(this,"state",{report:!1,resolveFlag:!1}),S(this,"handleDelete",()=>{let{report:e,resolveFlag:t}=this.state,{channel:n,message:r,moderatorReportData:i}=this.props,{moderatorReportChannelId:l,isFlagResolved:o}=null!=i?i:{};e?(0,g.ak)(r,"message_delete_alert",()=>d.Z.deleteMessage(n.id,r.id).then(()=>{if(null!=l){var e,n;t&&!o&&b.Z.resolveFlag(l),null==(e=(n=this.props).onClose)||e.call(n)}})):d.Z.deleteMessage(n.id,r.id).then(()=>{if(null!=l){var e,n;t&&!o&&b.Z.resolveFlag(l),null==(e=(n=this.props).onClose)||e.call(n)}})}),S(this,"handleDeleteMana",()=>{var e,t;this.handleDelete(),null==(e=(t=this.props).onClose)||e.call(t)}),S(this,"handleToggleReport",e=>{this.setState({report:e})}),S(this,"handleToggleResolveFlag",e=>{this.setState({resolveFlag:e})})}}let w={confirmPin:function(e,t){(0,c.h7j)(n=>{let i,l=(0,p.F6)(e,y.default,O.Z);return i=e.isPrivate()?x.intl.string(x.t.hMRngI):x.intl.formatToPlainString(x.t["3IRluL"],{channelName:l}),(0,r.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,r.jsxs)(c.ConfirmModal,I(P({header:x.intl.string(x.t.bKMaZW),confirmText:x.intl.string(x.t.rOQ5BQ),cancelText:x.intl.string(x.t["ETE/oK"]),confirmButtonColor:s.zx.Colors.BRAND,onConfirm:()=>u.Z.pinMessage(e,t.id)},n),{children:[(0,r.jsx)(c.Text,{variant:"text-md/normal",className:E.spacing,children:i}),(0,r.jsx)("div",{className:E.message,children:(0,r.jsx)(m.Z,{channel:e,message:t,animateAvatar:!1,disableInteraction:!0})})]}))})})},confirmUnpin:function(e,t){(0,c.h7j)(n=>(0,r.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,r.jsxs)(c.ConfirmModal,I(P({header:x.intl.string(x.t.CFF2vL),confirmText:x.intl.string(x.t.lAU5jI),cancelText:x.intl.string(x.t["ETE/oK"]),onConfirm:()=>u.Z.unpinMessage(e,t.id)},n),{children:[(0,r.jsx)(c.Text,{variant:"text-md/normal",className:E.spacing,children:x.intl.string(x.t.NjEPp6)}),(0,r.jsx)("div",{className:o()(E.message,E.spacing),children:(0,r.jsx)(m.Z,{channel:e,message:t,disableInteraction:!0})}),(0,r.jsx)(h.Z,{children:x.intl.format(x.t.oCVB3d,{})})]}))}))},confirmDelete:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,c.h7j)(l=>(0,r.jsx)(N,P({channel:e,message:t,showContextMenuHint:n,moderatorReportData:i},l)))},confirmEdit:function(e,t,n){(0,c.h7j)(i=>(0,r.jsx)(c.ConfirmModal,I(P({header:x.intl.string(x.t.aIz1oa),confirmText:x.intl.string(x.t["cY+Ooa"]),cancelText:x.intl.string(x.t["ETE/oK"]),confirmButtonColor:s.zx.Colors.BRAND,onConfirm:()=>d.Z.editMessage(e,t,n)},i),{children:(0,r.jsx)(c.Text,{variant:"text-md/normal",className:E.spacing,children:x.intl.string(x.t.grBcMz)})})))}}},146773:function(e,t,n){n.d(t,{B:()=>S});var r=n(951288);n(647438);var i=n(620632),l=n(692785),o=n(481060),a=n(749210),s=n(170509),c=n(740504),u=n(117984),d=n(437152),p=n(398758),h=n(680089),f=n(592125),g=n(324067),m=n(984933),b=n(430824),O=n(496675),y=n(914010),_=n(281029),j=n(700785),v=n(981631);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let C="DRAGGABLE_GUILD_CHANNEL";function E(e,t){var n,r;if(null==e||null==t)return null;if(e!==v.I_8)return f.Z.getChannel(t);let i=m.ZP.getChannels(e),l=null!=(r=null!=(n=i[m.sH].find(e=>e.channel.id===t))?n:i[m.Zb].find(e=>e.channel.id===t))?r:i[v.d4z.GUILD_CATEGORY].find(e=>e.channel.id===t);return null==l?void 0:l.channel}function S(e){return(0,i.G)(C,{drop(e,t){let n,i=y.Z.getGuildId(),l=t.getItem(),c=(0,_.if)(E(i,l.id),l.position,e.channel,e.position,l.channelList);if(null==c)return;let d=E(i,l.id);if(null==d)return;let p=g.Z.getCategories(i),h=b.Z.getGuild(i);if(null==h)return;let m=(0,_.Dn)(d,E(i,c.referenceId),c.parentId,p);if(0!==m.length){if(i===v.I_8)return void(0,u.s3)(m);if(m=m.filter(e=>{let{id:t}=e,n=f.Z.getChannel(t);if(null==n)return!1;let r=f.Z.getChannel(n.parent_id);return n.type===v.d4z.GUILD_CATEGORY||null==r?O.Z.can(v.Plq.MANAGE_CHANNELS,h):O.Z.can(v.Plq.MANAGE_CHANNELS,r)}),d.parent_id!==c.parentId&&m.find(e=>{if(e.id!==d.id)return!1;let t=f.Z.getChannel(e.parent_id);if(!(null!=t&&O.Z.can(v.Plq.MANAGE_ROLES,d)&&O.Z.can(v.Plq.MANAGE_ROLES,t)))return!0;let r=j.o4(d,t),i=j.o4(d,f.Z.getChannel(d.parent_id));return(null!=d.parent_id||r)&&(!i||r)||(n=e),!0}),null!=n){let e=f.Z.getChannel(n.parent_id);null!=e&&(0,o.h7j)(t=>{var l,o;return(0,r.jsx)(s.default,(l=x({},t),o=o={channel:d,category:e,onConfirm:()=>{null!=n&&(n.lock_permissions=!0,a.Z.batchChannelUpdate(i,m))},onCancel:()=>{null!=n&&a.Z.batchChannelUpdate(i,m)}},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))}),l))})}else a.Z.batchChannelUpdate(i,m)}},canDrop(e,t){let n=t.getItem(),r=f.Z.getChannel(n.id);if(null==r)return!1;let i=(0,_.if)(f.Z.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null==i)return!1;if(y.Z.getGuildId()===v.I_8)return!0;let l=b.Z.getGuild(n.guildId);if(null==l)return!1;let o=f.Z.getChannel(i.parentId),a=f.Z.getChannel(r.parent_id),s=O.Z.can(v.Plq.MANAGE_CHANNELS,l),c=null!=a?O.Z.can(v.Plq.MANAGE_CHANNELS,a):s,u=null!=o?O.Z.can(v.Plq.MANAGE_CHANNELS,o):s;return c&&u}},(e,t)=>{let n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parentId:null}})((0,l.E)(C,{canDrag(e){let{channel:t}=e;if(y.Z.getGuildId()===v.I_8)return!0;let i=b.Z.getGuild(t.getGuildId());if(null==i)return!1;if((0,p.r1)(i.id)&&O.Z.can(v.Plq.MANAGE_CHANNELS,i))return(0,d.N)()&&(0,o.ZDy)(async()=>{let{default:e}=await n.e("82560").then(n.bind(n,391312));return t=>(0,r.jsx)(e,x({},t))}),!1;if(t.type===v.d4z.GUILD_CATEGORY)return O.Z.can(v.Plq.MANAGE_CHANNELS,i)&&!(0,p.r1)(i.id);let l=f.Z.getChannel(t.parent_id);return null!=l&&O.Z.can(v.Plq.MANAGE_CHANNELS,l)||null==l&&O.Z.can(v.Plq.MANAGE_CHANNELS,i)},beginDrag(e){let{channel:{id:t,parent_id:n,guild_id:r,type:i},position:l}=e,o=y.Z.getGuildId(),a=g.Z.getCategories(o);return{isChannelDrag:!0,id:t,position:l,parentId:n,type:i,channelList:(0,c.Z)(a._categories,a,e=>{let{channel:t}=e;return t.type===v.d4z.GUILD_CATEGORY&&null!=a[t.id]&&0===a[t.id].length?o===v.I_8||O.Z.can(v.Plq.MANAGE_CHANNELS,t)&&O.Z.can(v.Plq.VIEW_CHANNEL,t):!h.Z.isCollapsed(t.parent_id)}),guildId:r}}},e=>({connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}))(e))}},733427:function(e,t,n){n.d(t,{Z:()=>i});var r=n(647438);let i=()=>{let e=r.useRef(!0);return r.useEffect(()=>()=>{e.current=!1},[]),r.useCallback(()=>e.current,[])}},167042:function(e,t,n){n.d(t,{$:()=>i});var r=n(51596);let i={binds:["mod+k","mod+t"],comboKeysBindGlobal:!0,action:()=>((0,r.$Z)("KEYBIND",""),!1)}},951483:function(e,t,n){n.d(t,{Sr:()=>x,Xq:()=>C,Zg:()=>E}),n(415506);var r=n(186070),i=n(185514),l=n(360038),o=n(175724),a=n(705371),s=n(138976),c=n(167042),u=n(239748),d=n(337482),p=n(679080),h=n(510761),f=n(189509),g=n(886077),m=n(280492),b=n(746887),O=n(721383),y=n(743810),_=n(981631),j=n(388032);function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>{let t=x[e];if(null==t)throw Error("getBindsFor(...): No bind for ".concat(t));return t.binds[0]})}let x={[_.EkH.SERVER_NEXT]:h.nq,[_.EkH.SERVER_PREV]:h.X3,[_.EkH.CHANNEL_NEXT]:i.tQ,[_.EkH.CHANNEL_PREV]:i.x5,[_.EkH.NAVIGATE_BACK]:i.Nx,[_.EkH.NAVIGATE_FORWARD]:i.On,[_.EkH.UNREAD_NEXT]:y.pd,[_.EkH.UNREAD_PREV]:y.wk,[_.EkH.MENTION_CHANNEL_NEXT]:y.Nv,[_.EkH.MENTION_CHANNEL_PREV]:y.uX,[_.EkH.TOGGLE_PREVIOUS_GUILD]:i.$c,[_.EkH.JUMP_TO_GUILD]:l.u,[_.EkH.SUBMIT]:f.z,[_.EkH.TEXTAREA_FOCUS]:g.U,[_.EkH.MARK_CHANNEL_READ]:o.f,[_.EkH.MARK_SERVER_READ]:a.l,[_.EkH.TOGGLE_MUTE]:m.iN,[_.EkH.TOGGLE_DEAFEN]:m.oV,[_.EkH.TOGGLE_CATEGORY_COLLAPSED]:b.u,[_.EkH.SCROLL_UP]:d.B2,[_.EkH.SCROLL_DOWN]:d.gN,[_.EkH.SEARCH_EMOJIS]:p.S,[_.EkH.TOGGLE_HOTKEYS]:O._,[_.EkH.JUMP_TO_FIRST_UNREAD]:s.O,[_.EkH.RETURN_TO_AUDIO_CHANNEL]:u.F,[_.EkH.CALL_ACCEPT]:r.IL,[_.EkH.CALL_START]:r.FI,[_.EkH.QUICKSWITCHER_SHOW]:c.$},C={[_.EkH.QUICKSWITCHER_SHOW]:c.$};function E(){return[{description:j.intl.string(j.t.bx4Uy8),binds:v(_.EkH.SERVER_PREV,_.EkH.SERVER_NEXT)},{description:j.intl.string(j.t["+Wem6u"]),binds:v(_.EkH.CHANNEL_PREV,_.EkH.CHANNEL_NEXT)},{description:j.intl.string(j.t["+2fcd3"]),binds:v(_.EkH.NAVIGATE_BACK,_.EkH.NAVIGATE_FORWARD)},{description:j.intl.string(j.t.eVmj1N),binds:v(_.EkH.UNREAD_PREV,_.EkH.UNREAD_NEXT)},{description:j.intl.string(j.t.EcqS7e),binds:v(_.EkH.MENTION_CHANNEL_PREV,_.EkH.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:j.intl.string(j.t["Bqss7+"]),binds:v(_.EkH.TOGGLE_PREVIOUS_GUILD)},{description:j.intl.string(j.t.UaXAPz),binds:v(_.EkH.MARK_SERVER_READ)},{description:j.intl.string(j.t["5X9vFh"]),binds:v(_.EkH.MARK_CHANNEL_READ)},{description:j.intl.string(j.t.JoxNnp),binds:v(_.EkH.SEARCH_EMOJIS),groupEnd:!0},{description:j.intl.string(j.t.tL6eVV),binds:v(_.EkH.TOGGLE_MUTE)},{description:j.intl.string(j.t["QXe/7e"]),binds:v(_.EkH.TOGGLE_DEAFEN)},{description:j.intl.string(j.t.d6UIio),binds:v(_.EkH.CALL_ACCEPT)},{description:j.intl.string(j.t.IcEW09),binds:v(_.EkH.MARK_CHANNEL_READ)},{description:j.intl.string(j.t.WN2dsb),binds:v(_.EkH.CALL_START),groupEnd:!0},{description:j.intl.string(j.t.L3RYYG),binds:v(_.EkH.SCROLL_UP,_.EkH.SCROLL_DOWN)},{description:j.intl.string(j.t["3HAurK"]),binds:v(_.EkH.JUMP_TO_FIRST_UNREAD)},{description:j.intl.string(j.t.rrYBEh),binds:v(_.EkH.TEXTAREA_FOCUS)},{description:j.intl.string(j.t.yYsRlJ),binds:v(_.EkH.QUICKSWITCHER_SHOW)}]}},134616:function(e,t,n){n.d(t,{u:()=>u});var r=n(374470),i=n(481060),l=n(40851),o=n(574254),a=n(585483),s=n(547420),c=n(981631);let u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({POP_LAYER:{binds:["esc"],comboKeysBindGlobal:!0,action(e){if((0,i.Vbw)())return!1;if(a.S.hasSubscribers(c.CkL.CALL_DECLINE))return a.S.dispatch(c.CkL.CALL_DECLINE),!1;if(o.Z.close())return!1;if((0,r.k)(e.target)){let t=(0,l.J5)(e.target);if(null==t?void 0:t.hasSubscribers(c.CkL.POPOUT_CLOSE))return t.dispatch(c.CkL.POPOUT_CLOSE),!1}if(a.S.hasSubscribers(c.CkL.MODAL_CLOSE))return a.S.dispatch(c.CkL.MODAL_CLOSE),!1;a.S.dispatch(c.CkL.LAYER_POP_ESCAPE_KEY)}}},s.ZP)},763520:function(e,t,n){n.d(t,{m:()=>f,o:()=>m}),n(388685);var r,i=n(379649),l=n(710845),o=n(314897),a=n(592125),s=n(866960),c=n(19780),u=n(979651),d=n(626135),p=n(981631);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=((r={}).SELF_VIDEO="self_video",r.SELF_STREAM="self_stream",r.REMOTE_VIDEO="remote_video",r.REMOTE_STREAM="remote_stream",r.CHANGE_VIDEO_BACKGROUND="change_video_background",r.REPLAY_VIDEO_STREAM="replay_video_stream",r);let g=new Map;class m{onSpinnerStarted(){null==this.spinnerVisibleStart&&(this.spinnerVisibleStart=(0,i.zO)())}trackSpinnerDuration(e,t,n){if(null==this.spinnerVisibleStart)return;let r=function(e){var t;let n=(null!=(t=g.get(e))?t:0)+1;return g.set(e,n),n}(n),l=(0,i.zO)()-this.spinnerVisibleStart;if(this.spinnerVisibleStart=null,l<0)return void this.logger.warn("spinner duration is negative: ".concat(l," ms\n        [").concat(e,", count for stream: ").concat(r,"]"));this.logger.info("spinner visible for ".concat(l," ms\n      [").concat(e,", count for stream: ").concat(r,"]"));let h=c.Z.getGuildId(),f=u.Z.getUserVoiceChannelId(h,o.default.getId()),m=function(e){if(null!=e){if(e.isGuildVoice())return"guild_voice";if(e.isGuildStageVoice())return"is_stage_channel";if(e.isDM())return"dm";if(e.isGroupDM())return"group_dm"}return null}(a.Z.getChannel(f));d.default.track(p.rMx.VIDEO_SPINNER_SHOWN_V2,{video_spinner_context:e,duration_video_spinner_visible_ms:l,rtc_connection_id:c.Z.getRTCConnectionId(),media_session_id:c.Z.getMediaSessionId(),event_count_for_stream:r,guild_id:h,channel_id:f,channel_type:m,spinning_user_id:t,connection_type:s.Z.getType(),effective_connection_speed:s.Z.getEffectiveConnectionSpeed(),service_provider:s.Z.getServiceProvider()})}constructor(e){h(this,"logger",void 0),h(this,"spinnerVisibleStart",null),this.logger=new l.Z(e)}}},379164:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(570140),i=n(447543),l=n(87051),o=n(18438),a=n(44609),s=n(731971),c=n(695346),u=n(626135),d=n(782605),p=n(621600),h=n(88658),f=n(981631);let g={acceptInvite(e){let t=i.ZP.getInviteContext("Desktop Invite Modal",e),n=(0,s.y)(),u=(0,s.h6)(),f=(0,s.U1)(),g=(0,s.yS)();i.ZP.acceptInvite({inviteKey:e.code,context:t,callback:e=>{null==e||null==e.guild||null==e.channel||__OVERLAY__||i.ZP.transitionToInvite(e)}}).then(()=>{if((0,a.gY)({location:"acceptInvite"})&&null!=e.guild){if(u){if(c.h2.getSetting().includes(e.guild.id)){let t=new Set((0,h.YK)());t.delete(e.guild.id),c.h2.updateSetting(Array.from(t))}}else{var t;let n=new Set((0,h.YK)());n.add(null==(t=e.guild)?void 0:t.id),c.h2.updateSetting(Array.from(n))}if(f){if(c.SE.getSetting().includes(e.guild.id)){let t=new Set((0,h._o)());t.delete(e.guild.id),c.SE.updateSetting(Array.from(t))}}else{let t=new Set((0,h._o)());t.add(e.guild.id),c.SE.updateSetting(Array.from(t))}null!=n&&n.length>0&&(0,o.iq)(e.guild.id,{nick:n}),(0,a.m4)({location:"acceptInvite"})&&l.Z.updateGuildNotificationSettings(e.guild.id,{muted:g},p.ZB.Muted)}this.close()},e=>{r.Z.dispatch({type:"INVITE_MODAL_ERROR",message:(0,d.O)(e.code)})})},close(){let e=(0,s.e7)(),t=(0,s._J)();if((0,a.gY)({location:"closeInvite"})&&(0,s.NQ)()){let n=(0,s.y)(),r=(0,s.h6)(),i=(0,s.U1)(),l=(0,s.yS)(),o=(0,s.aP)();u.default.track(f.rMx.INVITE_ACCEPT_JOIN_SETTINGS_SET,{invite_code:e,guild_id:t,nickname_present:null!=n&&n.length>0,dms_allowed:r,activity_status_shown:i,muted_server:l,changed_from_default:o})}(0,s.oE)(),r.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}}},185666:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(481060),l=n(570140),o=n(317770),a=n(731971),s=n(626135),c=n(379164),u=n(590965),d=n(981631);let p="INVITE_MODAL_KEY";class h extends o.Z{_initialize(){l.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal),l.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)}_terminate(){(0,i.Mr3)(p),l.Z.unsubscribe("INVITE_MODAL_OPEN",this.handleOpenModal),l.Z.unsubscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)}handleOpenModal(e){let{context:t}=e;u.Z.isOpen()&&!(0,i.nfh)(p)&&(0,i.ZDy)(async()=>{let{default:e}=await n.e("86872").then(n.bind(n,472365));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))},{modalKey:p,contextKey:(0,i.VnL)(t),onCloseRequest:()=>{let e=(0,a.e7)(),t=(0,a._J)();s.default.track(d.rMx.INVITE_ACCEPT_DISMISSED,{invite_code:e,guild_id:t}),c.Z.close()}})}handleCloseModal(){(0,i.Mr3)(p)}}let f=new h},590965:function(e,t,n){let r;n.d(t,{Z:()=>P}),n(388685),n(539854);var i,l=n(442837),o=n(570140),a=n(413605),s=n(703656),c=n(131704),u=n(592125),d=n(430824),p=n(701190),h=n(496675),f=n(594174),g=n(411198),m=n(998502),b=n(981631),O=n(176505);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}let j=b.IlC.APP,v=!1,x=!1,C=[];function E(){v=!0}class S extends(i=l.ZP.Store){initialize(){this.waitFor(d.Z,p.Z,f.default)}isOpen(){let e=__OVERLAY__?b.IlC.OVERLAY:b.IlC.APP;return!!(v&&C.length>0&&j===e)}getProps(){return{invite:C.length>0?C[0][0]:null,error:null!=r&&""!==r?r:null,submitting:x}}}y(S,"displayName","InviteModalStore");let P=new S(o.Z,{OVERLAY_INITIALIZE:E,CONNECTION_OPEN:E,CONNECTION_CLOSED:function(){v=!1},INVITE_MODAL_OPEN:function(e){let t=e.invite;if(null==t)return!1;if(t.state!==b.r2o.EXPIRED&&t.state!==b.r2o.BANNED&&t.state!==b.r2o.ERROR){let{channel:e,guild:n}=t;if(null==e)return!1;if((0,c.bc)(e.type)){if(null!=u.Z.getChannel(e.id))return(0,s.XU)(b.ME,e.id),m.ZP.focus(),!1}else{if(null==n)return!1;if(null!=d.Z.getGuild(n.id)&&!(0,a.TY)(t)){let e=function(e){if((0,a.W6)(e))return O.oC.ROLE_SUBSCRIPTIONS;let{channel:t}=e;if(null!=t){let e=u.Z.getChannel(t.id);if(h.Z.can(b.Plq.VIEW_CHANNEL,e))return t.id}return null}(t);return(0,s.XU)(n.id,e),m.ZP.focus(),!1}}}if(C.some(e=>{let[n]=e;return n.code===t.code}))return!1;j=e.context,x=!1;let n=function(e){let{approximate_member_count:t,approximate_presence_count:n,code:r,state:i,target_type:l,target_user:o,target_application:a,type:s,channel:c,guild:u,is_nickname_changeable:d}=e,p={code:r,state:i,approximate_member_count:t,approximate_presence_count:n,target_type:l,target_user:o,target_application:a,type:s,is_nickname_changeable:d};return null!=c&&(p.channel=_({},c)),null!=u&&(p.guild=(0,g.Qs)(u)),null!=e.inviter&&(p.inviter=_({},e.inviter)),p}(t);C.push([n,e.resolve])},INVITE_MODAL_CLOSE:function(){if(r=null,x=!1,C.length>0){let[,e]=C.shift();null!=e&&e()}},INVITE_ACCEPT:function(){x=!0},INVITE_MODAL_ERROR:function(e){let{message:t}=e;r=t,x=!1}})},889441:function(e,t,n){n.d(t,{Z:()=>r});function r(){return!1}},503737:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(82659),l=n(481060),o=n(570140),a=n(317770),s=n(981631),c=n(388032);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let d="ActivityInviteManager",p=()=>{o.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_CLOSE"})};class h extends a.Z{_initialize(){o.Z.subscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen),o.Z.subscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)}_terminate(){o.Z.unsubscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen),o.Z.unsubscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)}handleModalOpen(e){let{activity:t,isPrivate:o,context:a}=e,h=a===s.IlC.POPOUT?l.u1M:l.z1l;o?(0,l.h7j)(e=>{var n,o;return(0,r.jsx)(i.Modal,(n=u({title:c.intl.formatToPlainString(c.t["2tN7io"],{name:t.name}),actions:[{variant:"primary",text:c.intl.string(c.t.BddRzc),onClick:e.onClose,autoFocus:!0}]},e),o=o={children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:c.intl.string(c.t.MAxtkp)})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n))},{onCloseCallback:p,modalKey:d},h):(0,l.ZDy)(async()=>{let{default:e}=await n.e("79921").then(n.bind(n,699099));return t=>(0,r.jsx)(e,u({},t))},{onCloseCallback:p,modalKey:d,contextKey:h})}handleModalClose(e){(0,l.Mr3)(d)}}let f=new h},782896:function(e,t,n){n.d(t,{c:()=>m}),n(388685),n(290780);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(686546),s=n(430824),c=n(914010),u=n(797670),d=n(933554),p=n(388032),h=n(906530);function f(e){let{children:t}=e;return(0,r.jsx)(a.ZP,{className:h.facepileItemContainer,mask:a.ZP.Masks.SQUIRCLE,width:25,height:25,children:t})}function g(e){let{guilds:t,numTruncated:n}=e;return(0,r.jsxs)("div",{className:h.guildIconList,children:[t.map(e=>(0,r.jsxs)("div",{className:h.guildIconItem,children:[(0,r.jsx)("div",{children:(0,r.jsx)(u.V,{guild:e,size:20})}),(0,r.jsx)(o.Text,{className:h.guildIconItemText,variant:"text-xs/medium",children:e.name})]},e.id)),n>0&&(0,r.jsx)(o.Text,{variant:"text-xs/medium",color:"text-secondary",children:p.intl.format(d.default.bAzBIS,{numServers:n})})]})}function m(e){let{guildIds:t}=e,n=(0,l.e7)([c.Z],()=>c.Z.getGuildId()),a=(0,l.Wu)([s.Z],()=>t.map(e=>s.Z.getGuild(e)),[t]),m=(0,i.useMemo)(()=>a.filter(e=>null!=e),[a]),{visibleGuilds:b,numTruncated:O,visibleGuildsTooltip:y,numTruncatedTooltipGuilds:_}=(0,i.useMemo)(()=>{let e=[...m];if(null!=n){let t=m.findIndex(e=>e.id===n);-1!==t&&(e.splice(t,1),e.unshift(m[t]))}return 4===e.length?{visibleGuilds:e,numTruncated:0,visibleGuildsTooltip:e,numTruncatedTooltipGuilds:0}:{visibleGuilds:e.slice(0,3),numTruncated:e.length-3,visibleGuildsTooltip:e.slice(0,15),numTruncatedTooltipGuilds:e.length-15}},[m,n]);return(0,r.jsx)(o.DY3,{"aria-label":p.intl.string(d.default.TG0Qsb),text:(0,r.jsx)(g,{guilds:y,numTruncated:_}),position:"top",children:(0,r.jsxs)("div",{className:h.facepile,children:[b.map(e=>(0,r.jsx)(f,{children:(0,r.jsx)(u.V,{guild:e,size:20})},e.id)),O>0&&(0,r.jsx)(f,{children:(0,r.jsxs)(o.Text,{className:h.textItem,color:"text-secondary",variant:"text-xxs/semibold",children:["+",O]})})]})})}},40614:function(e,t,n){n.d(t,{V:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(550532),s=n(371991),c=n(561308),u=n(594190),d=n(695346),p=n(885110),h=n(316496),f=n(933554),g=n(388032),m=n(973543);function b(e){let{onClick:t}=e;return(0,r.jsx)(o.P3F,{className:m.container,onClick:t,children:(0,r.jsx)(o.Text,{className:m.textContent,variant:"text-xs/medium",color:"text-secondary",children:g.intl.string(g.t.jfrLLS)})})}function O(e){var t;let{onClick:n}=e,p=(0,l.e7)([a.Z],()=>a.Z.getFakeGameData()),h=(0,l.e7)([u.ZP],()=>u.ZP.getVisibleGame()),b=null!=(t=null==p?void 0:p.start)?t:null==h?void 0:h.start,O=d.SE.useSetting().length>0,{now:y}=(0,s.tS)(),_=(0,i.useMemo)(()=>null==b?null:(0,c.T_)({start:b},y),[b,y]);if(null==b)return null;let j=[...O?[g.intl.string(f.default.jfDsyM)]:[],g.intl.string(g.t.BMTj29),_];return(0,r.jsx)(o.P3F,{className:m.container,onClick:n,children:(0,r.jsx)(o.Text,{className:m.textContent,variant:"text-xs/medium",color:"text-feedback-positive",lineClamp:1,children:j.join(" \xb7 ")})})}function y(e){let{onClick:t}=e,{isEnabled:n,showActivitySharingIndicatorWhenSharing:i}=(0,h.D)("not sharing link"),a=d.G6.useSetting(),s=(0,l.e7)([p.Z],()=>p.Z.getStatus());return!n||__OVERLAY__?null:a&&s!==o.Skl.INVISIBLE?i?(0,r.jsx)(O,{onClick:t}):null:(0,r.jsx)(b,{onClick:t})}},223730:function(e,t,n){n.d(t,{K:()=>O,y:()=>b});var r=n(951288),i=n(442837),l=n(481060),o=n(230711),a=n(695346),s=n(771845),c=n(88658),u=n(782896),d=n(981631),p=n(933554),h=n(388032),f=n(95049);let g=()=>{o.Z.open(d.oAB.ACTIVITY_PRIVACY)};function m(e){let{children:t,onClick:n}=e;return(0,r.jsxs)(l.P3F,{className:f.chevronButton,onClick:n,children:[(0,r.jsx)("div",{className:f.chevronButtonContent,children:t}),(0,r.jsx)(l.Fbu,{color:l.TVs.colors.TEXT_SECONDARY,size:"xs"})]})}function b(e){let{onClosePopout:t}=e,n=a.G6.useSetting(),o=(0,i.e7)([s.ZP],()=>s.ZP.getFlattenedGuildIds()),d=(0,c._o)(),f=o.filter(e=>!d.has(e));return 0===o.length?null:(0,r.jsxs)(m,{onClick:()=>{t(),g()},children:[(0,r.jsx)(l.Text,{variant:"text-sm/semibold",children:h.intl.string(n?p.default["3GrhnJ"]:p.default["54ycKC"])}),(0,r.jsx)(u.c,{guildIds:f})]})}function O(e){let{onClosePopout:t}=e;return(0,r.jsx)(l.P3F,{className:f.customizeLink,onClick:()=>{t(),g()},children:(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"text-link",children:h.intl.string(h.t["ZrN+DQ"])})})}},736409:function(e,t,n){n.d(t,{j:()=>j}),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(704215),a=n(481060),s=n(266454),c=n(243778),u=n(7093),d=n(667105),p=n(695346),h=n(819640),f=n(885110),g=n(626135),m=n(316496),b=n(55185),O=n(981631),y=n(921944),_=n(46140);let j=e=>{let{children:t,isForceShowSharingPopout:n,setIsForceShowSharingPopout:j}=e,[v,x]=(0,i.useState)(!1),C=function(e){let{isForceShowSharingPopout:t}=e,{isEnabled:n,showActivitySharingIndicatorWhenSharing:r}=(0,m.D)("SharingPrivacyPopout"),i=(0,d.Ws)({location:_.dr.CONFLICT_CHECKS}),o=p.G6.useSetting(),a=(0,l.e7)([h.Z],()=>h.Z.getLayers().includes(O.S9g.USER_SETTINGS)),s=(0,l.e7)([f.Z],()=>f.Z.getStatus()),{isOpen:c}=(0,u.Z)();if((i||!i&&t)&&!a&&!c&&!__OVERLAY__&&n){if(r&&o&&s!==O.Skl.INVISIBLE)return t?b.N.Activity:null;if(!o&&s===O.Skl.INVISIBLE)return t?b.N.ActivityAndStatus:b.N.ActivityAndStatusNux;if(!o)return t?b.N.Activity:b.N.ActivityNux;if(s===O.Skl.INVISIBLE)return t?b.N.Status:b.N.StatusNux}return null}({isForceShowSharingPopout:n}),E=(0,i.useRef)(null);return((0,i.useEffect)(()=>{n&&g.default.track(O.rMx.OPEN_POPOUT,{type:"SharingPrivacyPopout"})},[n]),null!=C||v)?(0,r.jsx)(c.ZP,{contentTypes:n?[]:[o.z.SHARE_ACTIVITY_COACHMARK_V2],children:e=>{let{visibleContent:i}=e;if(i===o.z.SHARE_ACTIVITY_COACHMARK_V2||n){let e=()=>{(0,s.Q3)(o.z.SHARE_ACTIVITY_COACHMARK_V2,{dismissAction:y.L.USER_DISMISS}),j(!1),x(!1)};return(0,r.jsx)(a.yRy,{targetElementRef:E,shouldShow:!0,spacing:10,position:"top",align:"left",onRequestClose:e,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(b.I,{closePopout:t,onOpen:()=>x(!0),popoutState:C})},children:()=>(0,r.jsx)(a.P3F,{innerRef:E,onClick:e,children:t})})}return t}}):t}},55185:function(e,t,n){n.d(t,{I:()=>T,N:()=>Z}),n(388685);var r,i=n(951288),l=n(647438),o=n(793030),a=n(442837),s=n(381499),c=n(481060),u=n(695346),d=n(675478),p=n(885110),h=n(63063),f=n(316496),g=n(223730),m=n(981631),b=n(933554),O=n(388032),y=n(87587),_=n(354810);async function j(e){await d.hW.updateAsync("status",t=>{t.status=s.Gm.create({value:e}),t.statusExpiresAtMs="0"},d.fy.INFREQUENT_USER_ACTION)}function v(e){let{closePopout:t}=e;return(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:y.goOnlineButton,children:(0,i.jsx)(c.zxk,{variant:"primary",size:"sm",text:O.intl.string(b.default.Poezn5),onClick:()=>{t(),j(c.Skl.ONLINE)},fullWidth:!0})})}function x(e){let{showCurrentGame:t,shouldShowStatus:n=!1,shouldShowCustomizeLink:r=!1,closePopout:l}=e,o=(0,a.e7)([p.Z],()=>p.Z.getStatus()),{showLinkToSettings:s}=(0,f.D)("popout");return(0,i.jsxs)("div",{className:y.toggleContainer,children:[(0,i.jsxs)("div",{className:y.toggleContainerText,children:[(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"header-primary",children:O.intl.string(O.t.KY0ilp)}),n&&(0,i.jsxs)("div",{className:y.toggleContainerOnlineRow,children:[(0,i.jsx)(c.qbd,{status:c.Skl.ONLINE,size:8}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",children:o===c.Skl.INVISIBLE?O.intl.string(b.default.a3AofX):O.intl.string(O.t.WbGtnJ)})]}),r&&s&&(0,i.jsx)(g.K,{onClosePopout:l})]}),(0,i.jsx)(c.rsf,{onChange:e=>{u.G6.updateSetting(e),n&&j(e?c.Skl.ONLINE:c.Skl.INVISIBLE)},checked:t})]})}function C(e){let{children:t,closePopout:n}=e,r=(0,l.useRef)(null);(0,c.Tbt)(r);let s=u.G6.useSetting(),d=(0,a.e7)([p.Z],()=>p.Z.getStatus())===c.Skl.INVISIBLE&&s;return(0,i.jsxs)("div",{className:y.wrapper,ref:r,children:[null!=n&&(0,i.jsx)("div",{className:y.gradient}),(0,i.jsxs)("div",{className:y.content,children:[null!=n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{alt:"",src:_.Z,className:y.controllerImage}),(0,i.jsx)(o.X6,{variant:"heading-md/bold",color:"header-primary",className:y.nuxTitle,children:O.intl.string(d?b.default.MkgMBw:O.t.PRjSRk)})]}),t]}),null!=n&&(0,i.jsx)("div",{className:y.closeButton,children:(0,i.jsx)(c.hU,{icon:c.Dio,onClick:n,"aria-label":O.intl.string(O.t.cpT0Cg),variant:"icon-only",size:"sm"})})]})}function E(e){let{closePopout:t}=e,n=u.G6.useSetting();return(0,i.jsxs)(C,{closePopout:t,children:[(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",className:y.nuxContent,children:O.intl.format(b.default.nHDuwM,{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),(0,i.jsx)("div",{className:y.toggleContainerWrapper,children:(0,i.jsx)(x,{showCurrentGame:n,shouldShowCustomizeLink:!0,closePopout:t})})]})}function S(e){let{closePopout:t}=e;return(0,i.jsxs)(C,{closePopout:t,children:[(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",className:y.nuxContent,children:O.intl.format(b.default["vtp/IS"],{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),(0,i.jsx)(v,{closePopout:t})]})}function P(e){let{closePopout:t}=e,n=u.G6.useSetting();return(0,i.jsxs)(C,{closePopout:t,children:[(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",className:y.nuxContent,children:O.intl.format(b.default.nHDuwM,{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),(0,i.jsx)("div",{className:y.toggleContainerWrapper,children:(0,i.jsx)(x,{showCurrentGame:n,shouldShowStatus:!0,closePopout:t})})]})}function I(e){let{closePopout:t}=e,n=u.G6.useSetting(),{showLinkToSettings:r}=(0,f.D)("popout");return(0,i.jsxs)(C,{children:[(0,i.jsx)(x,{showCurrentGame:n,closePopout:t}),(0,i.jsx)(c.$i$,{className:y.divider}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",children:O.intl.format(b.default.nHDuwM,{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),r&&(0,i.jsx)(g.y,{onClosePopout:t})]})}function N(e){let{closePopout:t}=e;return(0,i.jsxs)(C,{children:[(0,i.jsx)(o.X6,{variant:"heading-sm/semibold",color:"header-primary",className:y.controlTitle,children:O.intl.string(b.default.MkgMBw)}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",children:O.intl.format(b.default["vtp/IS"],{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),(0,i.jsx)(v,{closePopout:t})]})}function w(e){let{closePopout:t}=e,n=u.G6.useSetting(),{showLinkToSettings:r}=(0,f.D)("popout");return(0,i.jsxs)(C,{children:[(0,i.jsx)(x,{showCurrentGame:n,shouldShowStatus:!0,closePopout:t}),(0,i.jsx)(c.$i$,{className:y.divider}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-secondary",children:O.intl.format(b.default.nHDuwM,{learnMoreLink:h.Z.getArticleURL(m.BhN.ACTIVITY_STATUS_SETTINGS)})}),r&&(0,i.jsx)(g.y,{onClosePopout:t})]})}var Z=((r={})[r.ActivityNux=0]="ActivityNux",r[r.StatusNux=1]="StatusNux",r[r.ActivityAndStatusNux=2]="ActivityAndStatusNux",r[r.Activity=3]="Activity",r[r.Status=4]="Status",r[r.ActivityAndStatus=5]="ActivityAndStatus",r);function T(e){let{popoutState:t,closePopout:n,onOpen:r}=e,[o]=(0,l.useState)(t);switch((0,l.useEffect)(()=>{r()},[r]),o){case 0:return(0,i.jsx)(E,{closePopout:n});case 1:return(0,i.jsx)(S,{closePopout:n});case 2:return(0,i.jsx)(P,{closePopout:n});case 3:return(0,i.jsx)(I,{closePopout:n});case 4:return(0,i.jsx)(N,{closePopout:n});case 5:return(0,i.jsx)(w,{closePopout:n});default:return null}}},12694:function(e,t,n){n.d(t,{V:()=>d});var r=n(647438),i=n(442837),l=n(481060),o=n(695346),a=n(885110),s=n(626135),c=n(316496),u=n(981631);function d(){let{variantName:e}=(0,c.D)("not sharing link"),t=o.G6.useSetting(),n=(0,i.e7)([a.Z],()=>a.Z.getStatus());(0,r.useEffect)(()=>{s.default.track(u.rMx.RUNNING_GAME_CARD_STATE_CHANGED,{show_current_game:t,status:n,rtc_popout_available:"treatment_2"===e||!t||n===l.Skl.INVISIBLE})},[t,n,e])}},864682:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(481060),o=n(550385),a=n(594174),s=n(74538),c=n(997945),u=n(630117),d=n(737604),p=n(441319);function h(){let[e,t]=(0,i.Wu)([a.default,d.Z],()=>[d.Z.getCurrentDesktopIcon(),s.ZP.isPremium(a.default.getCurrentUser())]),n=(0,o.oq)().activePanel===o.wh.APP_ICON,h=(0,p.aW)(e),f=e!==c.aH.DEFAULT&&(t||n),g=(0,r.jsx)(l.gw7,{size:"custom",color:"currentColor",width:24,height:24});return null!=h&&f?(0,r.jsx)(u.Z,{id:e,width:48}):g}},718589:function(e,t,n){n.d(t,{Z:()=>l});var r=n(981631),i=n(388032);function l(e){let{channel:t,embeddedApps:n}=e;if(t.type===r.d4z.GUILD_VOICE){if(null!=n&&n.length>0){let e=n.map(e=>e.application.name);return i.intl.formatToPlainString(i.t.LmYuHR,{activeActivities:e.join(", ")})}}}},873696:function(e,t,n){n.d(t,{D:()=>i});var r=n(388032);function i(e){if(null==e)return null;switch(e.type){case"embedded-activities":case"event":return{subtitle:e.name};case"go-live":return{subtitle:r.intl.string(r.t.Pa817u)}}return null}},566840:function(e,t,n){n.d(t,{Eg:()=>u,XL:()=>p});var r=n(647438),i=n(524825),l=n(131193),o=n(731965);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let c=(0,l.F)(e=>({upsellsByGuildId:{}}));function u(e){return c(t=>{var n;let r={};return null==e?r:null!=(n=t.upsellsByGuildId[e])?n:r},i.X)}function d(e){if(null==e)return!1;try{return window.getComputedStyle(e).overflow.includes("scroll")}catch(e){return!1}}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=r.useRef(null);return r.useLayoutEffect(()=>{let r=i.current,l=()=>{requestAnimationFrame(()=>{var r,l,u;let d=null!=(l=null==(r=i.current)?void 0:r.getBoundingClientRect())?l:null;u={name:t,guildId:e,disabled:n,boundingRect:null!=d?d:null},(0,o.j)(()=>{c.setState(e=>{var t,n;return{upsellsByGuildId:s(a({},null!=(t=e.upsellsByGuildId)?t:{}),{[u.guildId]:s(a({},null!=(n=e.upsellsByGuildId[u.guildId])?n:{}),{[u.name]:u})})}})})})};if(null==r)return l(),()=>{};let u=function(e){let t=e.parentNode;for(;null!=t&&t!==document.body&&!d(t);)t=t.parentNode;return d(t)?t:null}(r);return l(),null==u||u.addEventListener("scroll",l,{passive:!0}),()=>{null==u||u.removeEventListener("scroll",l)}},[e,t,n]),i}},18998:function(e,t,n){n.d(t,{Z:()=>y}),n(583741),n(388685),n(539854);var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(954955),c=n.n(s),u=n(748780),d=n(902704),p=n(481060),h=n(247060);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}let m={friction:10,tension:300};class b extends l.Component{shouldComponentUpdate(e,t){return!(0,d.Z)(this.props,e,["animate"])||!(0,d.Z)(this.state,t)}componentDidMount(){let{hide:e}=this.props;e?this.state.translateY.setValue(1):this.state.translateY.setValue(0)}componentDidUpdate(e){let{hide:t}=e,{hide:n}=this.props;n&&!t?this.animateOut():!n&&t&&this.animateIn()}componentWillUnmount(){null!=this._timeout&&clearTimeout(this._timeout)}animateIn(){let{translateY:e}=this.state;if(null!=this._timeout&&clearTimeout(this._timeout),!this.props.animate)return void e.setValue(0);this._timeout=setTimeout(()=>{u.Z.spring(e,g({toValue:0},m)).start()},100)}animateOut(){let{translateY:e}=this.state;if(null!=this._timeout&&clearTimeout(this._timeout),!this.props.animate)return void e.setValue(1);u.Z.spring(e,g({toValue:1},m)).start()}render(){let{className:e,text:t,hide:n,onClick:r}=this.props;return(0,i.jsx)(u.Z.div,{className:a()(h.bar,e,{[h.hidden]:n}),onClick:r,style:this.getAnimatedStyle(),"aria-hidden":n,children:(0,i.jsx)("span",{className:h.text,children:t})})}getAnimatedStyle(){let{translateY:e}=this.state,{reverse:t}=this.props;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}}constructor(e){super(e),f(this,"_timeout",void 0),this.state={translateY:new u.Z.Value,reduceMotion:!1}}}class O extends(r=l.PureComponent){componentDidMount(){this.calculateState()}componentDidUpdate(){this.calculateState()}componentWillUnmount(){this.calculateState.cancel()}render(){let{unread:e,mention:t}=this.state,{textMention:n,textUnread:r,reverse:l,className:o,barClassName:s,hide:c,animate:u}=this.props,{reducedMotion:d}=this.context;return(0,i.jsx)("div",{className:null!=o?o:void 0,children:(0,i.jsx)(b,{hide:!0===c||null==e&&null==t,className:a()(s,null!=t?h.mention:h.unread),text:null!=t?n:r,reverse:l,animate:u&&!d.enabled,onClick:this.handleClick})})}constructor(...e){super(...e),f(this,"state",{unread:null,mention:null}),f(this,"calculateState",c()(()=>{let{items:e,expandedFolders:t,isVisible:n,isUnread:r,isMentioned:i,reverse:l,onCalculate:o}=this.props,a=null,s=null,c=[];e.forEach(e=>{"string"==typeof e?c.push(e):"object"==typeof e&&null!=e.folderId?null!=t&&t.has(e.folderId)?(c.push("folder:".concat(e.folderId)),e.guildIds.forEach(e=>c.push(e))):c.push(e.guildIds):c.push(e.guildIds[0])});let u=e=>{null==a&&i(e,l,c)&&(a=e),null==s&&r(e,l,c)&&(s=e)},d=l?c.length-1:0,p=c[d];for(;null!=p;){if("string"==typeof p){if(n(p,l,c))break;u(p)}else{let e=!1;for(let t of p){if(n(t,l,c)){e=!0;break}u(t)}if(e)break}d+=l?-1:1,p=c[d]}null!=o&&o(a,s,l),this.setState({mention:a,unread:s})},200)),f(this,"handleClick",e=>{e.preventDefault(),e.stopPropagation();let{unread:t,mention:n}=this.state,{onJumpTo:r}=this.props,i=null!=n?n:t;null!=i&&r(i,[n,t])})}}f(O,"contextType",p.Sfi),f(O,"defaultProps",{className:h.container,reverse:!1,hide:!1,animate:!0});let y=O},46148:function(e,t,n){n.d(t,{W:()=>C}),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(704215),a=n(481060),s=n(515753),c=n(266454),u=n(243778),d=n(612659),p=n(819640),h=n(436952),f=n(54480),g=n(680783),m=n(13186),b=n(981631),O=n(921944),y=n(474936),_=n(388032),j=n(865696),v=n(777091);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let C=i.memo(function(e){let t=e.channel.id,n=e.selected,C=(0,c.Nj)(o.z.CHAT_WALLPAPERS_PICKER_COACHMARK),E=(0,l.e7)([p.Z],()=>p.Z.getLayers().includes(b.S9g.USER_SETTINGS)),{canAccessPicker:S,entryPoint:P}=(0,f.m)({location:"ChatWallpaperDMListCoachmark",channelId:t}),I=P===h.FN.CONTEXT_MENU,[N,w]=(0,u.US)(C&&I&&n&&S&&!E?[o.z.CHAT_WALLPAPERS_DM_LIST_COACHMARK]:[]),Z=(0,d.m)(y.p9.TIER_2),T=(0,g.Z)(t),A=N===o.z.CHAT_WALLPAPERS_DM_LIST_COACHMARK,R=(0,i.useRef)(null),D=(0,i.useRef)(null),M=(0,i.useRef)(null),[L,k]=(0,i.useState)(m.U.TOP);if((0,i.useLayoutEffect)(()=>{if(null===R.current)return;let e=()=>{var e,t,n;let r=null==(e=R.current)?void 0:e.getBoundingClientRect();if(null==r)return;let i=null!=(n=null==(t=M.current)?void 0:t.getBoundingClientRect().height)?n:0;window.innerHeight-r.bottom<i?k(m.U.BOTTOM):k(m.U.TOP)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[A]),!A)return(0,r.jsx)(s.ZP,x({},e));let U=()=>{w(O.L.USER_DISMISS)},G=((e,t)=>{let n=null!=t&&!t.isPreview;return e?e&&!n?"no-wallpaper-nitro":"has-wallpaper-nitro":"non-nitro"})(Z,null!=T?T:null),B="has-wallpaper-nitro"===G?_.intl.string(_.t.T9dXPj):_.intl.string(_.t.zyvzQ0),F=(e=>{switch(e){case"non-nitro":return _.intl.string(_.t.VU8fxM);case"no-wallpaper-nitro":return _.intl.string(_.t.BQBNjY);case"has-wallpaper-nitro":return _.intl.string(_.t.eZMxlZ)}})(G);return(0,r.jsx)("div",{ref:R,children:(0,r.jsx)(a.yRy,{targetElementRef:D,align:L,position:"right",shouldShow:A,onRequestClose:U,renderPopout:()=>(0,r.jsx)(m.Z,{ref:M,onClose:U,buttonText:_.intl.string(_.t["+IrDzM"]),header:B,art:(0,r.jsx)("img",{src:v.Z,alt:"",className:j.chatWallpaperDMListCoachmarkArt}),body:F,align:L}),children:t=>{var n,i;return(0,r.jsx)(s.ZP,(n=x({},e),i=i={ref:D},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})})})},13186:function(e,t,n){n.d(t,{U:()=>h,Z:()=>f});var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(990547),c=n(680018),u=n(481060),d=n(213609),p=n(452956),h=((r={}).TOP="top",r.BOTTOM="bottom",r);let f=l.forwardRef(function(e,t){let{body:n,header:r,artClassName:l,buttonText:o,onClose:h,art:f,align:g}=e;return(0,d.Z)({type:s.ImpressionTypes.POPOUT,name:s.ImpressionNames.CHAT_WALLPAPER_DM_LIST_COACHMARK}),(0,i.jsx)("div",{className:p.tooltip,ref:t,children:(0,i.jsxs)("div",{className:p.content,children:[(0,i.jsx)("div",{className:l,children:f}),(0,i.jsxs)("div",{className:p.body,children:[(0,i.jsx)(u.X6q,{className:p.header,variant:"heading-md/bold",color:"always-white",children:r}),null==n?null:"string"==typeof n?(0,i.jsx)(u.Text,{variant:"text-sm/normal",color:"always-white",children:n}):n]}),(0,i.jsx)("div",{className:p.buttonContainer,children:(0,i.jsx)(c.z,{variant:"primary",text:o,fullWidth:!0,onClick:e=>{null==h||h(e)}})}),(0,i.jsx)("div",{className:a()(p.pointer,{[p.pointerBottom]:"bottom"===g})})]})})})},311352:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(399606),o=n(704215),a=n(481060),s=n(239091),c=n(906732),u=n(522651),d=n(765585),p=n(870569),h=n(819640),f=n(556296),g=n(13140),m=n(924557),b=n(435064),O=n(39604),y=n(981631),_=n(388032),j=n(611372);function v(e){(0,s.jW)(e,async()=>{let{default:e}=await n.e("21960").then(n.bind(n,999466));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))})}let x=e=>{let{keybindString:t,children:n,targetElementRef:i}=e;return(0,r.jsx)(a.yRy,{targetElementRef:i,shouldShow:!1,position:"top",align:"center",renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(d.Z,{dismissibleContent:o.z.CLIPS_ONBOARDING_CLIP_BUTTON_COACHMARK,shouldUseHorizontalButtons:!0,inlineArt:!0,artClassName:j.clipsEducationArt,position:"top",header:(0,r.jsx)("div",{className:j.header,children:_.intl.format(_.t["o+srEx"],{keybind:t,keybindHook:()=>(0,r.jsx)("span",{className:j.keybindHintKeys,children:(0,r.jsx)(a.M2$,{className:j.keybindShortcut,shortcut:t})})})}),headerClassName:j.clipsEducationHeader,body:(0,r.jsx)(a.Text,{variant:"text-sm/normal",color:"always-white",className:j.bodyText,children:_.intl.format(_.t.DWeRm5,{keybindHook:()=>(0,r.jsx)("div",{className:j.keyCombo,children:t}),keybind:t})}),onClose:e=>{e.stopPropagation(),e.preventDefault(),null==n||n()}})},children:()=>n})},C=()=>{let e=i.useRef(null),{parentAnalyticsLocation:t}=(0,c.ZP)(),n=(0,l.e7)([h.Z],()=>h.Z.hasLayers()),o=(0,m.Go)(),{clipsEnabled:s,isAtMaxSavingClipsOperations:d}=(0,l.cj)([b.Z],()=>({clipsEnabled:b.Z.getSettings().clipsEnabled,isAtMaxSavingClipsOperations:b.Z.getIsAtMaxSaveClipOperations()})),j=(0,l.e7)([f.ZP],()=>f.ZP.getKeybindForAction(y.kg4.SAVE_CLIP));if(!(o&&s)||null==j||n)return null;let C=g.BB(j.shortcut,!0);return(0,r.jsx)(x,{keybindString:C,targetElementRef:e,children:(0,r.jsx)(p.Z,{ref:e,disabled:d,tooltipText:null!=j?_.intl.formatToPlainString(_.t.HIMcv7,{hotkey:g.BB(null==j?void 0:j.shortcut,!0)}):_.intl.string(_.t.s52pjo),onClick:()=>{(0,O.C1)(),(0,u.v)(t,u.d.CLIP)},onContextMenu:v,icon:a.AlX})})}},550532:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l=n(442837),o=n(570140),a=n(780106);let s="None";class c extends(i=l.ZP.Store){getFakeGameToShow(){return s}getFakeGameData(){return a.O[s]}}(r="displayName")in c?Object.defineProperty(c,r,{value:"ContentInventoryDevToolsStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="ContentInventoryDevToolsStore";let u=new c(o.Z,{CONTENT_INVENTORY_FORCE_SHOW_GAME_SHARING:function(e){let{gameToShow:t}=e;s=t}})},780106:function(e,t,n){n.d(t,{O:()=>o,h:()=>a});var r=n(593472),i=n(70956),l=n(981631);let o={None:void 0,Terraria:{id:"1402418344912752671",nativeProcessObserverId:34,name:"Terraria",processName:"Terraria",hidden:!1,elevated:!1,sandboxed:!1,lastFocused:0,exePath:"file:///users/wumpus/library/application support/steam/steamapps/common/terraria/terraria.app",exeName:"Terraria.app",cmdLine:"./Terraria.bin.osx",pid:1234,pidPath:[],windowHandle:"13229",fullscreenType:r.Jx.BORDERLESS_FULLSCREEN,isLauncher:!1,start:Date.now()-i.Z.Millis.HOUR,distributor:l.GQo.STEAM}},a=Object.keys(o)},14429:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2021-02_staff_qc_debugging",label:"Display QS scores in results. Not a real experiment",defaultConfig:{showScores:!1},treatments:[{id:1,label:"Show scores in QS results",config:{showScores:!0}}]})},885524:function(e,t,n){n.d(t,{Z:()=>d});var r=n(647438),i=n(46973),l=n(846519),o=n(763520),a=n(798681),s=n(70956),c=n(878001);let u=20*s.Z.Millis.SECOND;function d(e){let{streamId:t,userId:n,videoSpinnerContext:s,streamKey:d,loading:p,paused:h=!1}=e,f=r.useRef(new l.V7),g=s===o.m.SELF_STREAM||s===o.m.REMOTE_STREAM?i.Yn.STREAM:i.Yn.DEFAULT;return r.useEffect(()=>{if(!p||h||!a.w.isIncomingVideoEnabled())return;let e=f.current;return e.start(u,()=>{(0,c.K)(t,n,g,d)}),()=>{e.stop()}},[h,t,p,g,d,n]),{onReady:r.useCallback(()=>{f.current.stop(),(0,c.w)(g,n)},[n,g])}}},860144:function(e,t,n){n.d(t,{R:()=>a});var r=n(109213),i=n(91641),l=n(136885),o=n(987338);let a=new i.E([l.NR,l.ZI,l.Ob,l.uc,l.m1,r.G],o.$P.DM_GDM_LIST_RENDER,{location:"dm/gdm list rendered"})},136885:function(e,t,n){n.d(t,{NR:()=>l,Ob:()=>s,ZI:()=>o,m1:()=>c,uc:()=>a});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2024-08_ctp_dmgdm_list_render__vanilla_",label:"CTP DM/GDM List Render - A/A test - Vanilla",defaultConfig:{doSomething:!1},commonTriggerPoint:i.$P.DM_GDM_LIST_RENDER,treatments:[{id:1,label:"Treatment",config:{doSomething:!0}}]}),o=(0,r.Z)({kind:"user",id:"2024-08_ctp_dmgdm_list_render__filters",label:"CTP DM/GDM List Render - A/A test - Filters",defaultConfig:{doSomething:!1},commonTriggerPoint:i.$P.DM_GDM_LIST_RENDER,treatments:[{id:1,label:"Treatment",config:{doSomething:!0}}]}),a=(0,r.Z)({kind:"user",id:"2024-08_ctp_dmgdm_list_render__multiple_buckets",label:"CTP DM/GDM List Render - A/A test - Multiple buckets",defaultConfig:{doSomething:!1},commonTriggerPoint:i.$P.DM_GDM_LIST_RENDER,treatments:[{id:1,label:"Treatment 1",config:{doSomething:!0}},{id:2,label:"Treatment 2",config:{doSomething:!0}}]}),s=(0,r.Z)({kind:"user",id:"2024-08_ctp_dmgdm_list_render__everyone",label:"CTP DM/GDM List Render - A/A test - Everyone",defaultConfig:{doSomething:!1},commonTriggerPoint:i.$P.DM_GDM_LIST_RENDER,treatments:[{id:1,label:"Treatment",config:{doSomething:!0}}]}),c=(0,r.Z)({kind:"user",id:"2024-08_ctp_dmgdm_list_render__uneven_buckets",label:"CTP DM/GDM List Render - A/A test - Uneven buckets",defaultConfig:{doSomething:!1},commonTriggerPoint:i.$P.DM_GDM_LIST_RENDER,treatments:[{id:1,label:"Treatment",config:{doSomething:!0}}]})},919755:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(442837),i=n(592125),l=n(496675),o=n(306680),a=n(9156),s=n(709054),c=n(231338);function u(e){return(0,r.cj)([i.Z,o.ZP,a.ZP,l.Z],()=>s.default.keys(e).reduce((e,t)=>{let n=i.Z.getChannel(t),r=null==n?void 0:n.isGuildVocal();return e.badge=e.badge+o.ZP.getMentionCount(t),e.unread=e.unread||!r&&l.Z.can(c.Pl.VIEW_CHANNEL,n)&&o.ZP.hasUnread(t)&&!a.ZP.isChannelMuted(null==n?void 0:n.getGuildId(),t),e},{badge:0,unread:!1}))}},492162:function(e,t,n){n.d(t,{Z:()=>s});var r=n(442837),i=n(592125),l=n(938475),o=n(853856),a=n(981631);function s(e){return(0,r.cj)([l.ZP,i.Z,o.Z],()=>{if(e!==a.I_8)return l.ZP.getVoiceStates(e);let t=o.Z.getFavoriteChannels(),n={};for(let e in t){let t=i.Z.getChannel(e);null!=t&&(n[e]=l.ZP.getVoiceStatesForChannel(t))}return n},[e])}},110977:function(e,t,n){n.d(t,{S:()=>g});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(481060),s=n(593214),c=n(981631),u=n(388032),d=n(448213),p=n(132789),h=n(78480);function f(){return(0,r.jsx)("div",{className:o()(p.row,p.rowGuildName),children:(0,r.jsx)("span",{className:o()(p.guildNameText,p.guildNameTextLimitedSize,d.tooltipText),children:u.intl.string(u.t["4tSWQk"])})})}let g=i.memo(function(e){let{"aria-label":t=!1,children:n}=e,l=function(){let{favoriteAdded:e,clearFavoriteAdded:t}=(0,s.up)();return i.useEffect(()=>{if(e){let e=setTimeout(()=>{t()},1500);return()=>{t(),clearTimeout(e)}}},[e,t]),e}();return(0,r.jsx)(a.ua7,{forceOpen:l,color:a.FGA.GREEN,hideOnClick:!0,spacing:12,position:"right",align:"center",text:(0,r.jsx)(f,{}),"aria-label":t,tooltipClassName:h.listItemTooltip,children:e=>{var t,i;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={onMouseEnter:c.dG4,onMouseLeave:c.dG4,children:n},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t))}})})},940777:function(e,t,n){n.d(t,{Z:()=>R}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(91192),s=n(442837),c=n(481060),u=n(493683),d=n(239091),p=n(317381),h=n(16609),f=n(276952),g=n(682662),m=n(674552),b=n(593364),O=n(905423),y=n(199902),_=n(592125),j=n(944486),v=n(979651),x=n(709054),C=n(853856),E=n(593214),S=n(919755),P=n(110977),I=n(603274),N=n(981631),w=n(388032),Z=n(499951);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let A={analyticsSource:{page:N.ZY5.GUILD_CHANNEL,section:N.jXE.CHANNEL_LIST,object:N.qAy.CHANNEL}};function R(){var e,t;let l=(0,a.Ie)("favorites"),{favoriteAdded:R,clearFavoriteAdded:D}=(0,E.up)(),[M,L]=i.useState(!1),{favoriteServerMuted:k,favoriteChannels:U}=(0,s.cj)([C.Z],()=>({favoriteChannels:C.Z.getFavoriteChannels(),favoriteServerMuted:C.Z.favoriteServerMuted})),G=(0,s.e7)([j.Z],()=>j.Z.getChannelId(N.I_8)),B=(0,s.e7)([_.Z],()=>_.Z.getChannel(G)),F=(0,O.Z)(e=>e.guildId)===N.I_8,{badge:V,unread:H}=(0,S.Z)(U),z=function(e){let t=(0,s.e7)([j.Z],()=>j.Z.getVoiceChannelId()),n=null!=t&&null!=e[t],r=(0,s.e7)([y.Z],()=>{if(!n)return!1;let t=y.Z.getCurrentUserActiveStream();return null!=t&&null!=e[t.channelId]}),i=(0,s.e7)([y.Z],()=>y.Z.getAllApplicationStreams().some(t=>null!=e[t.channelId])),l=(0,s.e7)([v.Z],()=>n&&null!=t&&v.Z.hasVideo(t),[n,t]),o=(0,s.Wu)([p.ZP],()=>x.default.keys(e).reduce((e,t)=>(e.push(...p.ZP.getEmbeddedActivitiesForChannel(t)),e),[])),a=(0,s.e7)([p.ZP],()=>Array.from(p.ZP.getSelfEmbeddedActivities().values()).some(t=>{let{location:n}=t,r=(0,h.p)(n);return null!=r&&null!=e[r]})),c=o.length>0,u=!1,d=!1,f=!1,g=!1;return n?(u=!l,d=l,f=r,g=a):(f=i,g=c),(0,m.Or)({audio:u,video:d,screenshare:f,liveStage:!1,isCurrentUserConnected:n,activity:g})}(U),W=V>0?(0,b.N)(V):null,K=i.useCallback(()=>{D()},[D]);return(0,r.jsxs)(g.H,{children:[(0,r.jsx)(f.Z,{selected:F,hovered:M,unread:H&&!k,className:Z.pill}),(0,r.jsx)(I.Z,{onShow:K,children:(0,r.jsx)(P.S,{children:(0,r.jsx)(c.aRk,{selected:!0,upperBadge:z,lowerBadge:W,children:(0,r.jsx)(c.LYs,(e=T({},l),t=t={ariaLabel:w.intl.formatToPlainString(w.t["/uzRsr"],{guildName:w.intl.string(w.t.wMWycn),mentions:V}),"aria-selected":F,to:{pathname:N.Z5c.CHANNEL(N.I_8,G),state:A},selected:F||M,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),onMouseDown:function(){null!=B&&u.Z.preload(B.guild_id,B.id)},onContextMenu:function(e){(0,d.jW)(e,async()=>{let{default:e}=await n.e("3190").then(n.bind(n,631981));return t=>(0,r.jsx)(e,T({},t))})},children:(0,r.jsx)("div",{className:o()(Z.ring,{[Z.ringActive]:R}),children:(0,r.jsx)(c.r7p,{size:"custom",color:"currentColor",className:Z.favoriteIcon,width:20,height:20})})},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))})})})]})}},603274:function(e,t,n){n.d(t,{Z:()=>N}),n(388685),n(361932),n(187205),n(539854);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(392711),a=n.n(o),s=n(442837),c=n(481060),u=n(456100),d=n(317381),p=n(884338),h=n(565799),f=n(501655),g=n(199902),m=n(592125),b=n(594174),O=n(938475),y=n(823379),_=n(709054),j=n(853856),v=n(981631),x=n(388032),C=n(132789),E=n(78480);function S(e,t){return 0===t.length?null:(0,r.jsxs)("div",{className:C.row,children:[(0,r.jsx)(e,{className:C.activityIcon,color:"currentColor"}),(0,r.jsx)(p.ZP,{guildId:void 0,users:t,max:6})]})}function P(){let e=(0,s.Wu)([j.Z,m.Z],()=>_.default.keys(j.Z.getFavoriteChannels()).map(e=>m.Z.getChannel(e)).filter(y.lm)),t=e.map(e=>e.id),n=e.filter(e=>e.type===v.d4z.GUILD_VOICE),i=e.filter(e=>e.type===v.d4z.GUILD_STAGE_VOICE).map(e=>e.id),l=(0,s.Wu)([O.ZP],()=>a().flatMap(n,e=>O.ZP.getVoiceStatesForChannel(e).map(e=>{let{user:t}=e;return t})),[n]),o=(0,s.Wu)([h.Z],()=>a().flatMap(i,e=>h.Z.getMutableParticipants(e,f.pV.SPEAKER).filter(e=>e.type===f.Ui.VOICE).map(e=>{let{user:t}=e;return t}))),x=(0,s.e7)([h.Z],()=>{let e=0;for(let t of i)e+=h.Z.getParticipantCount(t,f.pV.AUDIENCE);return e}),E=(0,s.Wu)([g.Z],()=>g.Z.getAllApplicationStreams().filter(e=>t.includes(e.channelId)).map(e=>e.ownerId),[t]),P=(0,s.Wu)([d.ZP],()=>{let e=d.ZP.getEmbeddedActivitiesByChannel(),n=[];for(let l of t){var r,i;n.push(...null!=(i=null==(r=e.get(l))?void 0:r.flatMap(e=>Array.from(e.userIds)))?i:[])}return n},[t]),I=(0,s.Wu)([b.default],()=>P.map(e=>b.default.getUser(e)),[P]),N=(0,s.Wu)([b.default],()=>E.map(e=>b.default.getUser(e)),[E]),w=S(c.gj8,l.filter(e=>!E.includes(e.id)&&!P.includes(e.id))),Z=0===o.length?null:(0,r.jsxs)("div",{className:C.row,children:[(0,r.jsx)(c.ewx,{size:"lg",color:"currentColor",className:C.activityIcon}),(0,r.jsx)(p.ZP,{guildId:void 0,users:o,max:3}),(0,r.jsxs)("div",{className:C.stageListenerPill,children:[(0,r.jsx)(c.VWR,{size:"xs",color:"currentColor"}),(0,r.jsx)(c.Text,{className:C.stageListenerCount,color:"text-default",variant:"text-xs/medium",children:x})]})]}),T=S(c.hGI,N.filter(e=>null!=e&&!P.includes(e.id))),{enabled:A}=u.c.useExperiment({location:"FavoritesTooltip"},{autoTrackExposure:!0}),R=S(A?c.iWm:c.nG3,I);return(0,r.jsxs)(r.Fragment,{children:[Z,w,T,R]})}function I(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:l()(C.row,C.rowGuildName),children:(0,r.jsx)("span",{className:l()(C.guildNameText,C.guildNameTextLimitedSize),children:x.intl.string(x.t.wMWycn)})}),(0,r.jsx)(P,{})]})}function N(e){let{"aria-label":t=!1,onShow:n,children:i}=e;return(0,r.jsx)(c.ua7,{hideOnClick:!0,spacing:12,position:"right",text:(0,r.jsx)(I,{}),"aria-label":t,tooltipClassName:E.listItemTooltip,onTooltipShow:n,children:e=>{var t,n;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={children:i},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}},317632:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r,i=n(442837),l=n(570140),o=n(823379),a=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}let u=[],d={},p=null,h=0;function f(e){let t=null;try{t=JSON.parse(e.launch_parameters)}catch(e){return null}if(e.platform_type===a.ABu.XBOX){var n,r;let i=null==t?void 0:t.titleId,l=null==t?void 0:t.inviteToken;return null==i||null==l?null:(n=c({},e),r=r={parsed_launch_parameters:{titleId:i,inviteToken:l}},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)}return null}class g extends(r=i.ZP.Store){getInvites(){return u}getInviteStatuses(){return d}isInviteGameInstalled(e){var t;return null==(t=d[e.invite_id])?void 0:t.installed}isInviteJoinable(e){var t;return null==(t=d[e.invite_id])?void 0:t.joinable}getLastUnseenInvite(){return p}getUnseenInviteCount(){return h}}s(g,"displayName","GameInviteStore");let m=new g(l.Z,{CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{gameInvites:t}=e;u=t.map(f).filter(o.lm)},GAME_INVITE_CREATE:function(e){let{gameInvite:t}=e,n=f(t);null!=n&&(u=[n,...u],p=t,h+=1)},GAME_INVITE_DELETE:function(e){let{inviteId:t}=e;u=u.filter(e=>e.invite_id!==t)},GAME_INVITE_DELETE_MANY:function(e){let{inviteIds:t}=e;u=u.filter(e=>!t.includes(e.invite_id))},GAME_INVITE_UPDATE_STATUS:function(e){(d=c({},d))[e.inviteId]={installed:e.installed,joinable:e.joinable}},GAME_INVITE_CLEAR_UNSEEN:function(e){p=null,h=0}})},602478:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2023-11_xbox_game_invites",label:"Xbox Game Invites Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Xbox Game Invites UI Enabled",config:{enabled:!0}}]})},174767:function(e,t,n){n.d(t,{Br:()=>s,MH:()=>c,Ol:()=>u,TG:()=>h,UF:()=>p,sJ:()=>d}),n(415506);var r=n(544891),i=n(570140),l=n(439849),o=n(358085),a=n(981631);async function s(e){if(e.platform_type===a.ABu.XBOX){let t=e.parsed_launch_parameters.titleId,n=e.parsed_launch_parameters.inviteToken;if(!(0,o.isWindows)()||null==t||null==n)return;let r=await f(t,!1),l=await m(n);i.Z.dispatch({type:"GAME_INVITE_UPDATE_STATUS",inviteId:e.invite_id,installed:r,joinable:l})}else throw Error("Unsupported invite platform "+e.platform_type)}async function c(e){if(e.platform_type===a.ABu.XBOX){let t=e.parsed_launch_parameters.titleId;return!!(0,o.isWindows)()&&null!=t&&await g(t)}throw Error("Unsupported invite platform "+e.platform_type)}async function u(e){if(e.platform_type===a.ABu.XBOX){let t=e.parsed_launch_parameters.inviteToken;return!!(0,o.isWindows)()&&null!=t&&await b(t)}throw Error("Unsupported invite platform "+e.platform_type)}function d(){i.Z.dispatch({type:"GAME_INVITE_CLEAR_UNSEEN"})}async function p(e){await r.tn.del({url:a.ANM.GAME_INVITE(e.invite_id),rejectWithError:!1})}async function h(){await r.tn.del({url:a.ANM.GAME_INVITES,rejectWithError:!1})}async function f(e,t){if(!(0,o.isWindows)())return!1;let n=await (0,l.Z)();return new Promise((r,i)=>{if((null==n?void 0:n.xboxIsApplicationInstalled)==null)return void i(Error("Game utils module not loaded"));n.xboxIsApplicationInstalled(e,t,e=>{r(e)})})}async function g(e){if(!(0,o.isWindows)())return!1;let t=await (0,l.Z)();return new Promise((n,r)=>{if((null==t?void 0:t.xboxLaunchGame)==null)return void r(Error("Game utils module not loaded"));t.xboxLaunchGame(e,e=>{n(e)})})}async function m(e){if(!(0,o.isWindows)())return!1;let t=await (0,l.Z)();return new Promise((n,r)=>{if((null==t?void 0:t.xboxIsInviteTokenValid)==null)return void r(Error("Game utils module not loaded"));t.xboxIsInviteTokenValid(e,e=>{n(e)})})}async function b(e){if(!(0,o.isWindows)())return!1;let t=await (0,l.Z)();return new Promise((n,r)=>{if((null==t?void 0:t.xboxAcceptGameInvite)==null)return void r(Error("Game utils module not loaded"));t.xboxAcceptGameInvite(e,e=>{n(e)})})}},571457:function(e,t,n){n.d(t,{RI:()=>l,k5:()=>a,kR:()=>o});var r=n(626135),i=n(981631);function l(e){let{selectedTab:t}=e;r.default.track(i.rMx.GLOBAL_DISCOVERY_VIEWED,{selected_tab:t})}function o(e){let{selectedCategoryId:t}=e;r.default.track(i.rMx.GLOBAL_DISCOVERY_SERVERS_VIEWED,{selected_category_id:t})}function a(e){let{source:t}=e;r.default.track(i.rMx.GLOBAL_DISCOVERY_ENTRYPOINT_CLICKED,{source:t})}},668519:function(e,t,n){n.d(t,{a:()=>o,s:()=>a});var r=n(818083),i=n(984134);let l=(0,r.B)({kind:"user",id:"2025-01_go_live_modal_refresh",label:"Go Live Modal Refresh",defaultConfig:{showRefreshedGoLiveModal:!1,twoClickVariant:!1,skipModalForGame:!1,twoStepModal:!1,showSDHDUpsell:!1,footerSlideIn:!1},treatments:[{id:1,label:"Show refreshed go live modal",config:{showRefreshedGoLiveModal:!0,twoClickVariant:!1,skipModalForGame:!1,twoStepModal:!1,showSDHDUpsell:!0,footerSlideIn:!1}},{id:2,label:"Show refreshed go live modal, 2 click variant",config:{showRefreshedGoLiveModal:!0,twoClickVariant:!0,skipModalForGame:!1,twoStepModal:!1,showSDHDUpsell:!0,footerSlideIn:!0}},{id:3,label:"Show refreshed go live modal, 2 click variant, dont skip modal for game",config:{showRefreshedGoLiveModal:!0,twoClickVariant:!0,skipModalForGame:!1,twoStepModal:!1,showSDHDUpsell:!0,footerSlideIn:!0}},{id:4,label:"Show refreshed go live modal, 2 click variant, dont skip modal for game, use two step modal",config:{showRefreshedGoLiveModal:!0,twoClickVariant:!1,skipModalForGame:!1,twoStepModal:!0,showSDHDUpsell:!1,footerSlideIn:!1}}]});function o(e){let{location:t,autoTrackExposure:n=!0}=e,{isInHoldout:r}=i.Y.useExperiment({location:t},{autoTrackExposure:n});return l.useExperiment({location:t},{disable:r,autoTrackExposure:n})}function a(e){i.Y.getCurrentConfig({location:e}).isInHoldout||l.trackExposure({location:e})}},914923:function(e,t,n){n.d(t,{Z:()=>l}),n(704826),n(35282);var r=n(388032);let i=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g;function l(e){let t=r.intl.string(r.t.FeUKeH);return null!=e&&null!=e.sourceName&&e.sourceName.length>0&&(t=e.sourceName),{sanitizedTitle:t.replace(i,""),title:t}}},662304:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(866442),s=n(481060),c=n(686546),u=n(781293);let d=[1752220,3066993,3447003,0x9b59b6,0xe91e63,0xf1c40f];function p(e){return(0,a.Rf)(d[function(e){let t=5381,n=0;for(;n<e.length;)t=33*t^e.charCodeAt(n++);return t>>>0}(e)%d.length])}function h(e){var t;let{title:n,className:l,icon:a}=e,[d,h]=i.useState(p(n));return i.useEffect(()=>{h(p(n))},[n]),(0,r.jsxs)("div",{className:o()(u.wrapper,l),children:[(0,r.jsx)(c.ZP,{mask:c.ZP.Masks.STATUS_SCREENSHARE,width:32,height:32,children:null==a||0===a.length?(0,r.jsx)("div",{className:u.icon,style:{backgroundColor:d},children:null!=(t=n[0])?t:"?"}):(0,r.jsx)("img",{alt:"",src:a,className:u.icon})}),(0,r.jsx)(s.Odl,{size:"md",color:"currentColor",className:u.badge})]})}},989941:function(e,t,n){let r;n.d(t,{Z:()=>l});var i=n(145597);function l(e,t){if(__OVERLAY__){let e=t.getGame(),n=(0,i.getPID)();return null==e||null==n?null:(null==r?void 0:r.id)===e.id&&(null==r?void 0:r.pid)===n?r:r={id:e.id,pid:n,pidPath:[],nativeProcessObserverId:0,hidden:!1,elevated:!1,name:e.name,lastFocused:0,exePath:"",exeName:"",cmdLine:"",processName:"",distributor:null,windowHandle:null,fullscreenType:0}}return e.getVisibleGame()}},667815:function(e,t,n){n.d(t,{q:()=>l,v:()=>i});var r=n(570140);let i=(e,t)=>{r.Z.wait(()=>{r.Z.dispatch({type:"APPLIED_GUILD_BOOST_COUNT_UPDATE",guildId:e,premiumCount:t})})};function l(){r.Z.dispatch({type:"APPLIED_GUILD_BOOST_COUNT_RESET"})}},531572:function(e,t,n){n.d(t,{Z:()=>c});var r,i=n(442837),l=n(570140);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a={};class s extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&(a=e)}getState(){return a}getCountForGuild(e){return a[e]}}o(s,"displayName","GuildBoostingProgressBarPersistedStore"),o(s,"persistKey","PremiumGuildProgressBarPersistedStore");let c=new s(l.Z,{APPLIED_GUILD_BOOST_COUNT_UPDATE:e=>{var t,n;let{guildId:r,premiumCount:i}=e;t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},a),n=n={[r]:i},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),a=t},APPLIED_GUILD_BOOST_COUNT_RESET:function(){a={}}})},583962:function(e,t,n){n.d(t,{PD:()=>A,ZP:()=>M,aR:()=>R}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(91192),c=n(442837),u=n(704215),d=n(477690),p=n(481060),h=n(239091),f=n(100527),g=n(243778),m=n(538445),b=n(151494),O=n(496675),y=n(259580),_=n(267642),j=n(624138),v=n(667815),x=n(531572),C=n(18857),E=n(981631),S=n(921944),P=n(388032),I=n(989308),N=n(210418);function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function Z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T=(0,j.Mg)(d.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY_CONDITIONAL_BOTTOM_MARGIN),A=57,R=57+T,D={tension:180,friction:80},M=i.memo(e=>{let{guild:t,tooltipTypes:l,withMargin:d}=e,j=(0,_.Jh)(t.id),T=(0,b.Z)(t.id),A=(0,_.FZ)(j),R=null==A,M=null!=A?A:j,L=(0,c.e7)([x.Z],()=>{var e;return null!=(e=x.Z.getCountForGuild(t.id))?e:0}),k=(0,c.e7)([O.Z],()=>O.Z.can(E.Plq.MANAGE_GUILD,t));i.useEffect(()=>{L!==T&&(0,v.v)(t.id,T)},[t.id,L,T]);let U=R?"100%":"".concat(Math.min(100,T/E.oCV[M]*100),"%"),{current:G}=i.useRef(U),[B]=(0,p.q_F)(()=>({from:{width:L===T?G:"0%"},to:{width:U},config:D}),"respect-motion-settings",[L,T,G,U]),F=t.premiumTier<M&&L>=E.oCV[M],V=(0,C.Z)(t,f.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY),H=P.intl.formatToPlainString(P.t["2oNfMT"],{levelName:(0,_.e9)(M)}),z=P.intl.format(P.t.dhKnYm,{numBoosts:T,numTotal:E.oCV[M]});R&&(H=(0,_.e9)(M),z=P.intl.format(P.t.B2byER,{numBoosts:T})),H=H.toLocaleLowerCase();let W=(0,s.JA)("boosts-".concat(t.id)),K=i.useRef(null),[Y,q]=(0,g.US)(l),X=()=>Y===u.z.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK?(0,r.jsx)(m.Z,{guild:t,markAsDismissed:q}):null,Q=(e,i)=>(0,r.jsxs)(p.P3F,Z(w({},W,e,i),{"aria-label":void 0,role:"button",focusProps:{offset:{left:10,right:4}},onClick:()=>{var t,n;null==e||null==(t=e.onClick)||t.call(e),null==i||null==(n=i.onClick)||n.call(i),V()},className:o()(N.container,{[N.containerWithMargin]:d}),onContextMenu:e=>{k&&(0,h.jW)(e,async()=>{let{default:e}=await n.e("8570").then(n.bind(n,651138));return n=>(0,r.jsx)(e,Z(w({},n),{guild:t}))})},children:[(0,r.jsx)(p.nn4,{children:e["aria-label"]}),(0,r.jsxs)("div",{className:N.textArea,children:[(0,r.jsx)("div",{className:N.goalTextContainer,children:(0,r.jsx)(p.Text,{className:N.goalText,color:"none",variant:"text-sm/medium",lineClamp:1,children:H})}),(0,r.jsxs)("div",{className:N.progressFraction,children:[(0,r.jsx)(p.Text,{color:"none",variant:"text-sm/medium",className:N.progressText,lineClamp:1,children:z}),(0,r.jsx)(y.Z,{className:N.count,height:16,width:16,direction:y.Z.Directions.RIGHT})]})]}),(0,r.jsxs)("div",{className:o()(N.progressBarContainer,{[N.progressBarContainerComplete]:R}),children:[(0,r.jsx)(a.animated.div,{className:N.progressBar,style:B}),R?(0,r.jsx)("span",{"aria-label":P.intl.string(P.t["7iL1q6"]),role:"img",className:N.tadaIcon,children:"\uD83C\uDF89"}):null]})]}));return(0,r.jsx)("li",{children:(0,r.jsx)(p.ua7,{text:F?P.intl.formatToPlainString(I.default["9CtPjo"],{perk:(0,_.nW)(M)}):R?P.intl.string(P.t["Y+V9go"]):P.intl.formatToPlainString(P.t.UyDKl5,{levelName:(0,_.nW)(M)}),position:"top",delay:200,hideOnClick:!0,children:e=>null!=Y?(0,r.jsx)(p.yRy,{targetElementRef:K,renderPopout:X,position:"right",align:"top",shouldShow:!0,closeOnScroll:!0,onRequestClose:()=>q(S.L.INDIRECT_ACTION),animation:p.yRy.Animation.TRANSLATE,children:t=>(0,r.jsx)("div",{ref:K,children:Q(e,t)})}):Q(e)})})})},18857:function(e,t,n){n.d(t,{Z:()=>u});var r=n(647438),i=n(367907),l=n(906732),o=n(26323),a=n(30513),s=n(981631),c=n(388032);function u(e,t){let{analyticsLocations:n}=(0,l.ZP)(t);return r.useCallback(()=>{(0,i.yw)(s.rMx.PREMIUM_GUILD_PROMOTION_OPENED,{location:{source:t},guild_id:e.id,location_stack:n}),(0,o.Z)({analyticsLocations:n,analyticsSourceLocation:{page:s.ZY5.GUILD_CHANNEL,source:t,object:s.qAy.TOOLTIP},guild:e,perks:(0,a.VF)(),perkIntro:c.intl.string(c.t.ZhvSn5)})},[n,t,e])}},731971:function(e,t,n){n.d(t,{NQ:()=>b,U1:()=>_,XW:()=>d,_J:()=>m,aP:()=>f,e7:()=>g,h6:()=>O,oE:()=>h,pB:()=>p,y:()=>y,yS:()=>j,yr:()=>v}),n(781311);var r=n(879690),i=n(524437),l=n(695346),o=n(594174);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let c={nickname:void 0,dmsAllowed:!l.iG.getSetting(),mutedServer:!1};function u(e){let t=l.no.getSetting();return t!==i.GI.ACTIVITY_STATUS_ON&&(t!==i.GI.ACTIVITY_STATUS_ON_FOR_LARGE_GUILDS||null==e||!(e>200))}let d=(0,r.U)(e=>({nickname:c.nickname,dmsAllowed:c.dmsAllowed,showActivity:!0,mutedServer:c.mutedServer,inviteCode:void 0,guildId:void 0,touched:!1,setNickname:t=>e(e=>s(a({},e),{nickname:t,touched:!0})),setDmsAllowed:t=>e(e=>s(a({},e),{dmsAllowed:t,touched:!0})),setShowActivity:t=>e(e=>s(a({},e),{showActivity:t,touched:!0})),setMutedServer:t=>e(e=>s(a({},e),{mutedServer:t,touched:!0})),setInviteCode:t=>e(e=>s(a({},e),{inviteCode:t,touched:!0})),setGuildId:t=>e(e=>s(a({},e),{guildId:t,touched:!0})),initialize:(t,n,r)=>e(e=>s(a({},e),{guildSize:t,inviteCode:n,guildId:r,showActivity:u(t),dmsAllowed:!l.iG.getSetting(),touched:!1})),reset:()=>e(e=>({nickname:c.nickname,dmsAllowed:c.dmsAllowed,showActivity:u(e.guildSize),mutedServer:c.mutedServer,inviteCode:void 0,guildId:void 0,guildSize:e.guildSize,touched:!1}))})),p=(e,t,n)=>{d.getState().initialize(e,t,n)},h=()=>{d.getState().reset()},f=()=>{let e=d.getState();return e.nickname!==c.nickname||e.dmsAllowed!==c.dmsAllowed||e.showActivity!==u(e.guildSize)||e.mutedServer!==c.mutedServer},g=()=>d.getState().inviteCode,m=()=>d.getState().guildId,b=()=>d.getState().touched,O=()=>d.getState().dmsAllowed,y=()=>d.getState().nickname,_=()=>d.getState().showActivity,j=()=>d.getState().mutedServer,v=()=>{var e,t;let{nickname:n}=d();if(null!=n&&""!==n.trim())return n;let r=o.default.getCurrentUser();return null!=(t=null!=(e=null==r?void 0:r.globalName)?e:null==r?void 0:r.username)?t:""}},98493:function(e,t,n){n.d(t,{m:()=>d,p:()=>u}),n(388685);var r=n(647438),i=n(913527),l=n.n(i),o=n(881052),a=n(709054),s=n(693546),c=n(246364);let u=c.tB*c.hW;function d(e){let{guildId:t,guildJoinRequests:n}=e,i=r.useRef(!1),[d,p]=r.useState(null),h=r.useRef(null),f=r.useRef(!1);return{fetchNextPage:r.useCallback(async(e,r)=>{if(i.current)return;let g="".concat(e,"-").concat(r),m=!1;if(g!==h.current&&(h.current=g,f.current=!1,m=!0),f.current)return;null!=d&&p(null);let b=function(e,t,n,r){let i=n===c.wB.SUBMITTED;if(t===c.Nw.TIMESTAMP_DESC)if(r)return{before:a.default.fromTimestamp(new Date().getTime())};else{let t=e[e.length-1];return{before:i?t.joinRequestId:t.actionedAt}}if(r)return{after:a.default.fromTimestamp(l()().subtract(180,"days").valueOf())};{let t=e[e.length-1];return{after:i?t.joinRequestId:t.actionedAt}}}(n,e,r,m);try{i.current=!0;let e=await s.Z.fetchGuildJoinRequests(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({guildId:t,status:r,limit:u,force:!0},b));if(null!=e){let{guild_join_requests:t}=e.body;t.length<u&&(f.current=!0)}}catch(e){p(new o.Hx(e).getAnyErrorMessage())}finally{i.current=!1}},[d,t,n]),error:d}}},915885:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(442837),o=n(704215),a=n(481060),s=n(566840),c=n(693546),u=n(826581),d=n(246364),p=n(98493),h=n(434479),f=n(496675),g=n(527379),m=n(981631),b=n(388032);function O(e){let{guild:t,selected:n}=e,O=(0,l.e7)([f.Z],()=>f.Z.can(m.Plq.KICK_MEMBERS,t)),y=(0,l.e7)([u.Z],()=>u.Z.getSubmittedGuildJoinRequestTotal(t.id)),_=O&&null!=y?y:0;i.useEffect(()=>{O&&t.features.has(m.oNc.MEMBER_VERIFICATION_GATE_ENABLED)&&t.features.has(m.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL)&&c.Z.fetchGuildJoinRequests({guildId:t.id,status:d.wB.SUBMITTED,limit:p.p})},[O,t]);let j=i.useCallback(()=>{(0,g._X)(t.id)},[t.id]),v=(0,s.XL)(t.id,o.z.MEMBERS_LAUNCH_UPSELL);return(0,r.jsx)("div",{ref:v,children:(0,r.jsx)(h.m,{id:"members-".concat(t.id),renderIcon:e=>(0,r.jsx)(a.BFJ,{size:"md",color:"currentColor",className:e}),text:b.intl.string(b.t.oclz3d),selected:n,onClick:j,trailing:_>0?(0,r.jsx)(a.mAB,{count:_}):null})})}},396828:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(377171),l=n(325767);function o(e){var t,n,{width:o=24,height:a=24}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height"]);return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,l.Z)(s)),n=n={width:o,height:a,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M17.225 6.06504C17.3227 6.00866 17.4362 5.98608 17.548 6.00084C17.6598 6.0156 17.7637 6.06686 17.8434 6.14665C17.9232 6.22645 17.9744 6.33037 17.9892 6.44225C18.0039 6.55413 17.9813 6.66772 17.925 6.76548L15.65 10.2551L21.9875 11.581C21.9875 11.7185 21.9875 11.8562 21.9875 11.9937C21.9875 12.1313 21.9875 12.2689 21.9875 12.4065L15.65 13.7323L17.925 17.222C17.9939 17.3117 18.0313 17.4216 18.0313 17.5347C18.0313 17.6478 17.9939 17.7577 17.925 17.8474C17.8281 17.9424 17.6982 17.9962 17.5625 17.9975C17.466 17.996 17.3714 17.9702 17.2875 17.9224L13.8125 15.646L12.4125 22H11.5875L10.2625 15.6585L6.77501 17.935C6.69176 17.9843 6.59672 18.0102 6.49997 18.01C6.43455 18.0098 6.3699 17.9963 6.30977 17.9705C6.24964 17.9447 6.1953 17.9072 6.15001 17.8599C6.06977 17.7789 6.01879 17.6734 6.0052 17.5601C5.99162 17.4468 6.01621 17.3323 6.07501 17.2345L8.36253 13.7449L2 12.4065C2 12.2689 2 12.1313 2 11.9937C2 11.8562 2 11.7185 2 11.581L8.35002 10.2551L6.0625 6.76548C6.0037 6.66774 5.97918 6.55315 5.99277 6.43988C6.00635 6.32661 6.05726 6.22113 6.1375 6.14009C6.21731 6.05781 6.32295 6.00542 6.43672 5.99176C6.5505 5.97809 6.6655 6.00399 6.7625 6.06504L10.25 8.34148L11.575 2H12.4L13.7375 8.34148L17.225 6.06504Z",fill:"white"}),(0,r.jsx)("path",{d:"M22 12.4065C21.8956 14.9141 20.8533 17.2908 19.0798 19.0654C17.3062 20.8401 14.931 21.883 12.425 21.9875L13.7625 15.646L17.2375 17.9224C17.3214 17.9702 17.416 17.996 17.5125 17.9975C17.6481 17.9962 17.7781 17.9424 17.875 17.8474C17.9439 17.7577 17.9813 17.6478 17.9813 17.5347C17.9813 17.4216 17.9439 17.3117 17.875 17.222L15.6 13.7323L22 12.4065ZM13.7625 8.34148L17.2375 6.06504C17.3352 6.00866 17.4487 5.98608 17.5605 6.00084C17.6723 6.0156 17.7762 6.06686 17.8559 6.14665C17.9357 6.22645 17.9869 6.33037 18.0017 6.44225C18.0164 6.55413 17.9938 6.66772 17.9375 6.76548L15.6625 10.2551L22 11.581C21.8956 9.07342 20.8533 6.69669 19.0798 4.92206C17.3062 3.14742 14.931 2.10449 12.425 2L13.7625 8.34148ZM10.275 8.34148L11.6 2C9.09402 2.10449 6.71878 3.14742 4.94525 4.92206C3.17172 6.69669 2.12945 9.07342 2.02502 11.581L8.37497 10.2551L6.08752 6.76548C6.02873 6.66774 6.00413 6.55315 6.01772 6.43988C6.0313 6.32661 6.08228 6.22113 6.16252 6.14009C6.24233 6.05781 6.34797 6.00542 6.46175 5.99176C6.57552 5.97809 6.69052 6.00399 6.78752 6.06504L10.275 8.34148ZM6.16252 17.8474C6.08228 17.7663 6.0313 17.6609 6.01772 17.5476C6.00413 17.4343 6.02873 17.3197 6.08752 17.222L8.37497 13.7323L2 12.4065C2.10442 14.9141 3.1467 17.2908 4.92023 19.0654C6.69376 20.8401 9.06899 21.883 11.575 21.9875L10.25 15.646L6.7625 17.9224C6.67925 17.9718 6.58428 17.9977 6.48753 17.9975C6.35971 17.9937 6.23848 17.9398 6.15001 17.8474H6.16252Z",fill:"url(#paint0_linear_3793:27920)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_3793:27920",x1:"2",y1:"21.9875",x2:"21.9875",y2:"1.98749",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:i.Z.CREATOR_REVENUE_ICON_GRADIENT_START}),(0,r.jsx)("stop",{offset:"1",stopColor:i.Z.CREATOR_REVENUE_ICON_GRADIENT_END})]})})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},921711:function(e,t,n){n.d(t,{O:()=>u,Z:()=>d});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(377171),a=n(549631),s=n(373887),c=n(55940);function u(e){return e}function d(e){let{locked:t}=e;return(0,r.jsx)("div",{className:l()(c.iconItem,s.premiumChannelIcon),children:(0,r.jsx)(a.Z,{className:c.actionIcon,color:t?o.Z.CREATOR_REVENUE_LOCKED_CHANNEL_ICON:void 0})})}},518756:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(442837),i=n(357156),l=n(984933),o=n(430824),a=n(496675),s=n(981631);function c(e,t){return(0,r.e7)([o.Z,l.ZP,a.Z],()=>{let n=o.Z.getGuild(e);if(a.Z.can(s.Plq.ADMINISTRATOR,n)||a.Z.can(s.Plq.CREATE_EVENTS,n))return!0;for(let{channel:n}of l.ZP.getChannels(e)[l.Zb])if(null==t||n.type===t){let[e]=(0,i.Ob)(n);if(a.Z.can(e,n))return!0}return!1},[e,t])}},265418:function(e,t,n){n.d(t,{Z:()=>o});var r=n(724912),i=n(518756),l=n(554747);function o(e){let t=(0,i.Z)(e),n=(0,l.ZP)(e);return!(0,r.Z)(e)&&(t||n.length>0)}},330791:function(e,t,n){n.d(t,{bb:()=>l,lN:()=>o});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2024-09_browsechannelbuttonoptin",label:"Don't show guild Browse Channels when all channels are already visible",defaultConfig:{alwaysShowDirectory:!0},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Hide Browse Channels when all channels are visible",config:{alwaysShowDirectory:!1}}]});function o(e){let{alwaysShowDirectory:t}=l.useExperiment({location:"useShowBrowseChannelsExperiment"});return t||!e}},968847:function(e,t,n){n.d(t,{Z:()=>U,x:()=>x}),n(388685);var r,i,l,o=n(392711),a=n.n(o),s=n(442837),c=n(570140),u=n(220444),d=n(565799),p=n(501655),h=n(569471),f=n(592125),g=n(430824),m=n(306680),b=n(914010),O=n(9156),y=n(938475),_=n(823379),j=n(734307),v=n(981631),x=((i={}).HIDDEN="hidden",i.UNREAD="unread",i.MENTIONS="mentions",i.VOICE_CHANNELS="voice-channels",i);let C={mode:"hidden",mentionCount:0,targetChannelId:null},E={topBar:C,bottomBar:C},S={},P={};function I(e){let t=f.Z.getChannel(e);return!(null==t||null==t.getGuildId()||t.isGuildVocal())&&!(t.isThread()?h.Z.isMuted(t.id):O.ZP.isChannelMuted(t.getGuildId(),t.id))&&(0,u.d)(t)}function N(e){let t=f.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let r=O.ZP.isGuildCollapsed(n),i=O.ZP.isChannelMuted(n,t.id);return(!r||!i)&&m.ZP.getMentionCount(e)>0}function w(e){return!O.ZP.isChannelMuted(e.guild_id,e.id)&&(e.isGuildStageVoice()?d.Z.getMutableParticipants(e.id,p.pV.SPEAKER).length>0:y.ZP.getVoiceStatesForChannel(e).length>0)}function Z(e){var t,n,r;let{guildChannels:i}=j.Z.getGuildWithoutChangingGuildActionRows(e),l=i.getChannels(null!=(t=P[e])?t:[]);if(null==l||0===l.length)return!1;let o=null,s=null,c=null,u=null,d=!0,p=!0,h=!1,f=i.getCategoryFromSection(i.voiceChannelsSectionNumber),g=null!=(n=null==f?void 0:f.getShownChannelIds())?n:[],[b,O,y]=i.getSlicedChannels(l);for(let e=0;e<O.length;e++){let t=O[e];if((I(t.id)||a().some(t.threadIds,I))&&(p=!1),(N(t.id)||a().some(t.threadIds,N))&&(d=!1),g.includes(t.id)&&(h=!0),!p&&!d&&h)break}let _=0,v=!1,x=0,E=!1;if(p||d)for(let e=b.length-1;e>=0;e--){let t=b[e];(I(t.id)||a().some(t.threadIds,I))&&(null==s&&(s=t.id),v=!0),(N(t.id)||a().some(t.threadIds,N))&&(null==o&&(o=t.id),_+=m.ZP.getMentionCount(t.id),_+=a().sumBy(t.threadIds,m.ZP.getMentionCount))}if(p||d)for(let e=0;e<y.length;e++){let t=y[e];if(!p&&!d)break;(I(t.id)||a().some(t.threadIds,I))&&(null==u&&(u=t.id),E=!0),(N(t.id)||a().some(t.threadIds,N))&&(null==c&&(c=t.id),x+=m.ZP.getMentionCount(t.id),x+=a().sumBy(t.threadIds,m.ZP.getMentionCount))}let Z=null,T=null,A=null!=(r=null==f?void 0:f.getChannelRecords())?r:[];d&&x>0?Z={mode:"mentions",mentionCount:x,targetChannelId:c}:!h&&a().some(A,w)?Z={mode:"voice-channels",mentionCount:0,targetChannelId:null}:p&&E&&(Z={mode:"unread",mentionCount:0,targetChannelId:u}),d&&_>0?T={mode:"mentions",mentionCount:_,targetChannelId:o}:p&&v&&(T={mode:"unread",mentionCount:0,targetChannelId:s});let R=null!=T&&(null==Z||"mentions"!==Z.mode&&"mentions"===T.mode),D=null!=Z&&("mentions"===Z.mode||!R);return S[e]={topBar:R&&null!=T?T:C,bottomBar:D&&null!=Z?Z:C},!0}let T=a().throttle(Z,200);function A(e){let{guildId:t}=e,n=g.Z.getGuild(t);return null!=n&&!!n.features.has(v.oNc.COMMUNITY)&&T(t)}function R(e){let{id:t}=e,n=f.Z.getChannel(t);if(null==n)return!1;let r=g.Z.getGuild(n.guild_id);return null!=r&&!!r.features.has(v.oNc.COMMUNITY)&&T(n.guild_id)}function D(e){let{channel:t}=e,n=f.Z.getChannel(t.id);if(null==n)return!1;let r=g.Z.getGuild(t.guild_id);return null!=r&&!!r.features.has(v.oNc.COMMUNITY)&&T(n.guild_id)}function M(e){let{channelId:t}=e,n=f.Z.getChannel(t);if(null==n)return!1;let r=g.Z.getGuild(n.guild_id);return null!=r&&!!r.features.has(v.oNc.COMMUNITY)&&b.Z.getGuildId()===n.guild_id&&T(n.guild_id)}function L(e){let{guildId:t}=e;return null!=t&&T(t)}class k extends(r=s.ZP.Store){initialize(){this.waitFor(j.Z,m.ZP,O.ZP,h.Z,y.ZP,b.Z,g.Z)}getUnreadStateForGuildId(e){var t;return null!=(t=S[e])?t:E}}(l="displayName")in k?Object.defineProperty(k,l,{value:"ChannelListUnreadsStore",enumerable:!0,configurable:!0,writable:!0}):k[l]="ChannelListUnreadsStore";let U=new k(c.Z,{UPDATE_CHANNEL_LIST_DIMENSIONS:function(e){let{guildId:t,channelIds:n}=e,r=g.Z.getGuild(t);return null!=r&&!!r.features.has(v.oNc.COMMUNITY)&&null!=n&&!a().isEqual(P[t],n)&&(P[t]=n,Z(t))},BULK_ACK:function(e){let{channels:t}=e,n=!1;return a()(t).map(e=>{var t;let{channelId:n}=e;return null==(t=f.Z.getChannel(n))?void 0:t.guild_id}).filter(_.lm).uniq().forEach(e=>{let t=g.Z.getGuild(e);null!=t&&t.features.has(v.oNc.COMMUNITY)&&T(e)&&(n=!0)}),n},CHANNEL_ACK:M,CHANNEL_DELETE:D,CHANNEL_LOCAL_ACK:M,MESSAGE_ACK:M,MESSAGE_CREATE:M,MESSAGE_DELETE_BULK:M,MESSAGE_DELETE:M,PASSIVE_UPDATE_V2:function(e){let t=g.Z.getGuild(e.guildId);return!!(e.channels.length>0&&null!=t&&t.features.has(v.oNc.COMMUNITY))&&T(e.guildId)},RESORT_THREADS:M,THREAD_CREATE:D,THREAD_DELETE:D,THREAD_LIST_SYNC:A,THREAD_MEMBER_UPDATE:R,THREAD_MEMBERS_UPDATE:R,THREAD_UPDATE:D,BULK_CLEAR_RECENTS:A,CATEGORY_COLLAPSE_ALL:A,CATEGORY_EXPAND_ALL:A,VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e,n=b.Z.getGuildId();if(null==n||!new Set(t.map(e=>e.guildId)).has(n))return!1;let r=S[n];return null!=r&&"voice-channels"===r.bottomBar.mode&&T(n)},USER_GUILD_SETTINGS_CHANNEL_UPDATE:L,USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK:L,USER_GUILD_SETTINGS_FULL_UPDATE:function(e){let{userGuildSettings:t}=e;for(let e of t)null!=e.guild_id&&T(e.guild_id)},USER_GUILD_SETTINGS_GUILD_UPDATE:L,USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE:L})},700026:function(e,t,n){n.d(t,{V5:()=>c,ie:()=>s});var r=n(680089),i=n(496675),l=n(540126),o=n(443063),a=n(981631);function s(e,t,n){return{hasDivider:!function(e,t){if(t===l.wZ){let t=e.getGuildActionSection().getRows();return 1===t.length&&t[0]===o.z.GUILD_PREMIUM_PROGRESS_BAR||e.getGuildActionSection().isEmpty()}return 0===e.getSections(!1)[t]}(e,n)&&(n===l.wZ||!!t&&(n===l.p2||n!==l.wd&&(n===e.recentsSectionNumber||(e.voiceChannelsSectionNumber,!1)))),canHaveVoiceSummary:n!==l.wZ&&n!==l.p2&&n!==l.wd&&n!==e.recentsSectionNumber&&n!==e.voiceChannelsSectionNumber}}function c(e){let{category:t,voiceStates:n,selectedChannelId:l,selectedVoiceChannelId:o}=e;return function(e){let{category:t,voiceStates:n,selectedChannelId:l,selectedVoiceChannelId:o}=e;return!0!==r.Z.isCollapsed(t.record.id)?[]:t.getChannelRecords().filter(e=>{var t;if(!i.Z.can(a.Plq.VIEW_CHANNEL,e))return!1;let r=null!=(t=n[e.id])?t:[];return e.id!==o&&e.id!==l&&r.length>0})}({category:t,selectedChannelId:l,selectedVoiceChannelId:o,voiceStates:n}).length>0}},438144:function(e,t,n){n.d(t,{M:()=>l,s:()=>i});var r=n(570140);function i(e){r.Z.dispatch({type:"VOICE_CATEGORY_EXPAND",guildId:e,expand:!0})}function l(e){r.Z.dispatch({type:"VOICE_CATEGORY_COLLAPSE",guildId:e,expand:!1})}},598056:function(e,t,n){n.d(t,{Z:()=>i});var r=n(981631);function i(e){return e.features.has(r.oNc.COMMUNITY)&&e.features.has(r.oNc.DISCOVERABLE)}},790901:function(e,t,n){n.d(t,{u:()=>r});function r(e){return e.length>0}},714794:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return null!=e&&e>0}},761091:function(e,t,n){n.d(t,{Z:()=>O}),n(539854);var r=n(399606),i=n(897345);n(265153);var l=n(697379),o=n(241559),a=n(563534),s=n(655359),c=n(931261),u=n(460347),d=n(994592),p=n(265418),h=n(398758),f=n(639777),g=n(330791),m=n(443063),b=n(981631);function O(e){let t=(0,p.Z)(e.id),n=(0,l.W)(e.id),O=(0,d.j0)(e.id),y=(0,i.u)(e),_=(0,c.g)(e.id),j=(0,r.e7)([a.Z],()=>a.Z.getNewMemberActions(e.id),[e.id]),v=(0,u.Z)(e.id),x=(0,s.PE)(e.id),C=(0,o.n2)(e.id),E=[],S=e.features.has(b.oNc.HUB),P=e.features.has(b.oNc.COMMUNITY),I=(0,g.lN)(!(0,h.r1)(e.id)),N=e.features.has(b.oNc.ENABLED_MODERATION_EXPERIENCE_FOR_NON_COMMUNITY),w=(0,f.Z)(e.id);return S&&E.push(m.z.GUILD_HUB_HEADER_OPTIONS),!x&&_&&v&&null!=j&&j.length>0?E.push(m.z.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR):e.premiumProgressBarEnabled&&E.push(m.z.GUILD_PREMIUM_PROGRESS_BAR),!S&&_&&E.push(m.z.GUILD_HOME),t&&E.push(m.z.GUILD_SCHEDULED_EVENTS),!S&&P&&I&&E.push(m.z.CHANNELS_AND_ROLES),O&&E.push(m.z.GUILD_ROLE_SUBSCRIPTIONS),y&&E.push(m.z.GUILD_SHOP),(C&&(P||N)||n&&e.features.has(b.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL))&&E.push(m.z.GUILD_MOD_DASH_MEMBER_SAFETY),w&&E.push(m.z.GUILD_BOOSTS),E}},355363:function(e,t,n){n.d(t,{ZP:()=>l});var r=n(829750),i=n(981631);function l(e){let{channel:t,locked:n,video:l,selected:o}=e;return function(e){let{channel:t,video:n,considerMaxStageVoiceUserLimit:l=!0}=e,{limit:o}=(0,r.Z)(t),a=-1;return(t.userLimit>0&&(a=t.userLimit),n&&o>0&&(a=a>0?Math.min(a,o):o),l&&a===i.xGv)?0:a}({channel:t,video:l})>0&&!n&&!o}},109446:function(e,t,n){n.d(t,{Z:()=>x}),n(388685),n(642613),n(583741);var r=n(951288),i=n(647438),l=n(392711),o=n.n(l),a=n(442837),s=n(481060),c=n(99690),u=n(359110),d=n(601070),p=n(91159),h=n(488131),f=n(496675),g=n(306680),m=n(594174),b=n(768581),O=n(709054),y=n(981631),_=n(124368),j=n(388032),v=n(531198);function x(e){let{channel:t}=e,l=(0,a.Wu)([d.Z,g.ZP,f.Z],()=>{let e=d.Z.getActiveJoinedRelevantThreadsForParent(t.guild_id,t.id);return o()(d.Z.getActiveJoinedThreadsForParent(t.guild_id,t.id)).values().map(e=>e.channel).concat(o().values(d.Z.getActiveUnjoinedThreadsForParent(t.guild_id,t.id))).filter(t=>!(t.id in e)&&f.Z.can(y.Plq.VIEW_CHANNEL,t)).sort((e,t)=>{let n=g.ZP.lastMessageId(e.id),r=g.ZP.lastMessageId(t.id);return O.default.compare(n,r)}).reverse().value()}),c=t.isForumLikeChannel()?5:3;return i.useEffect(()=>{(0,p.q)()},[]),(0,r.jsxs)("div",{className:v.popout,children:[(0,r.jsx)(s.Text,{className:v.title,variant:"text-xs/bold",color:"header-secondary",children:t.isForumLikeChannel()?j.intl.string(j.t.ioVdOz):j.intl.string(j.t.VNYs2t)}),l.slice(0,t.isForumLikeChannel()?l.length:c).map(e=>(0,r.jsx)(C,{thread:e},e.id)).filter(e=>i.isValidElement(e)).slice(0,c),(0,r.jsx)(s.P3F,{className:v.more,onClick:()=>{t.isForumLikeChannel()?(0,u.Kh)(t.id):(0,s.ZDy)(async()=>{let{default:e}=await n.e("36970").then(n.bind(n,223901));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({channel:t},n))})},children:(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"none",children:j.intl.string(j.t["4qdZ9/"])})})]})}function C(e){let{thread:t}=e,n=(0,a.e7)([m.default],()=>m.default.getUser(t.ownerId)),i=(0,p.Ok)(t);return(0,r.jsxs)(s.P3F,{className:v.row,onClick:e=>{(0,h.ok)(t,t.isForumPost()?e.shiftKey:!e.shiftKey,_.on.POPOUT)},children:[null==n?(0,r.jsx)("img",{className:v.avatar,src:b.ZP.getDefaultAvatarURL(void 0,void 0),alt:""}):(0,r.jsx)(c.Z,{className:v.avatar,user:n,size:s.EFr.SIZE_16}),(0,r.jsx)(s.Text,{className:v.name,variant:"text-sm/normal",color:"none",children:t.name}),(0,r.jsxs)(s.Text,{className:v.timestamp,variant:"text-sm/normal",color:"none",children:[(0,r.jsx)("span",{className:v.bullet,children:""}),(0,p.Ye)(i)]})]})}},434479:function(e,t,n){n.d(t,{m:()=>f});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(91192),a=n(589440),s=n(481060),c=n(780462),u=n(55940),d=n(509612);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e){var t,{id:n,className:i,innerClassName:f,renderIcon:g,text:m,selected:b,trailing:O,background:y,showUnread:_=!1,ref:j}=e,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["id","className","innerClassName","renderIcon","text","selected","trailing","background","showUnread","ref"]);let x=(0,o.JA)(n),C=null!=(t=(0,a.qg)(m))?t:"";return(0,r.jsx)("li",{ref:j,children:(0,r.jsxs)(s.kL8,h(p({},v),{buttonProps:h(p({},x),{id:n,role:"button"}),tag:"div","aria-label":C,focusProps:{offset:{top:1,bottom:1,right:4}},onContextMenu:null!=v.onContextMenu?v.onContextMenu:e=>{e.stopPropagation()},className:l()(u.containerDefault,d.wrapper,{[d.modeSelected]:b},i),children:[y,_?(0,r.jsx)("div",{className:l()(d.unread,d.unreadImportant)}):null,(0,r.jsx)("div",{className:l()([d.link,d.basicChannelRowLink,f]),children:(0,r.jsxs)("div",{className:c.content,children:[(0,r.jsx)("div",{className:d.iconContainer,children:g(d.icon)}),(0,r.jsx)("div",{className:d.name,"aria-hidden":!0,children:m}),O]})})]}))})}},301342:function(e,t,n){n.d(t,{P:()=>w,Qo:()=>Z,ZP:()=>N,kw:()=>A,rj:()=>T});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(91192),s=n(442837),c=n(755721),u=n(481060),d=n(211739),p=n(239091),h=n(146773),f=n(82295),g=n(111028),m=n(680089),b=n(430824),O=n(496675),y=n(9156),_=n(203818),j=n(438144),v=n(981631),x=n(388032),C=n(84688);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function P(e){e.stopPropagation()}let I=i.memo(function(e){let t,{channel:l,connectChannelDragSource:h,connectChannelDropTarget:_,disableManageChannels:j,position:I,sortingPosition:N,hideIcon:w,children:Z}=e,T=(0,s.e7)([y.ZP],()=>y.ZP.isChannelMuted(l.getGuildId(),l.id)),A=(0,s.e7)([m.Z],()=>m.Z.isCollapsed(l.id)),R=(0,s.e7)([O.Z],()=>O.Z.can(v.Plq.MANAGE_CHANNELS,l));t=null!=N?I>N?C.containerDragAfter:C.containerDragBefore:C.containerDefault;let D=i.useCallback(()=>{A?(0,d.mJ)(l.id):(0,d.c4)(l.id)},[l.id,A]),M=i.useCallback(e=>{if("null"!==l.id){let t=b.Z.getGuild(l.getGuildId());null!=t&&(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("8965"),n.e("14280")]).then(n.bind(n,139035));return n=>(0,r.jsx)(e,S(E({},n),{channel:l,guild:t}))})}},[l]),L=i.useCallback(()=>{let e=l.type===v.d4z.GUILD_CATEGORY?null:l.type,t=l.getGuildId();null!=t&&(0,u.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("45094"),n.e("67133")]).then(n.bind(n,218613));return n=>(0,r.jsx)(i,S(E({},n),{channelType:e,guildId:t,categoryId:"null"!==l.id?l.id:null}))})},[l]),k=(0,a.JA)(l.id),{role:U,tabIndex:G}=k,B=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(k,["role","tabIndex"]),F=i.useRef(null),V=i.useRef(null),H=(0,r.jsxs)("li",{className:t,"data-dnd-name":l.name,children:[(0,r.jsx)(u.tEY,{focusTarget:F,ringTarget:V,offset:{left:4,right:4},children:(0,r.jsxs)("div",{ref:V,className:o()(C.iconVisibility,C.wrapper,{[C.collapsed]:A,[C.muted]:T,[C.clickable]:!0}),onContextMenu:M,children:[(0,r.jsxs)(u.P3F,S(E({innerRef:F,className:C.mainContent,tabIndex:G},B),{onClick:D,"aria-label":x.intl.formatToPlainString(x.t.y5l3Jy,{categoryName:l.name}),"aria-expanded":!A,focusProps:{enabled:!1},children:[(0,r.jsx)(f.Z,{className:C.name,children:(0,r.jsx)(g.Z,{children:l.name})}),w?null:(0,r.jsx)(u.CJ0,{size:"md",color:"currentColor",className:C.icon})]})),(0,r.jsx)("div",{onClick:P,className:C.children,children:R&&!j?(0,r.jsx)(u.ua7,{text:x.intl.string(x.t["fUYU+v"]),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,r.jsx)(c.zx,{"aria-label":x.intl.string(x.t["fUYU+v"]),look:c.zx.Looks.BLANK,size:c.zx.Sizes.NONE,className:o()(C.addButton,C.forceVisible),onClick:L,onMouseEnter:t,onMouseLeave:n,tabIndex:G,focusProps:{offset:{top:-3,right:-4,bottom:-3,left:-4}},children:(0,r.jsx)(u.BRu,{size:"xs",color:"currentColor",className:C.addButtonIcon})})}}):null})]})}),Z]});return null!=_&&null!=h?_(h(H)):H}),N=(0,h.B)(I),w=i.memo(function(e){let{name:t,onDismiss:n,className:i}=e;return(0,r.jsx)("li",{className:o()(i,C.containerDefault),children:(0,r.jsxs)("div",{className:o()(C.iconVisibility,C.wrapperStatic),children:[(0,r.jsx)("div",{className:C.mainContent,children:(0,r.jsx)(f.Z,{className:C.name,children:(0,r.jsx)(g.Z,{children:t})})}),null!=n?(0,r.jsx)(u.DY3,{text:x.intl.string(x.t["5qNmsb"]),className:C.dismissWrapper,children:(0,r.jsx)(u.P3F,{className:C.dismissButton,onClick:n,children:(0,r.jsx)(u.k$p,{size:"md",color:"currentColor",className:C.dismiss})})}):null]})})}),Z=i.memo(function(e){let{category:t}=e,n=(0,s.e7)([_.Z],()=>_.Z.isVoiceCategoryCollapsed(t.guild.id)),l=i.useCallback(()=>{n?(0,j.s)(t.guild.id):(0,j.M)(t.guild.id)},[t.guild.id,n]);return(0,r.jsxs)(c.zx,{look:c.zx.Looks.FILLED,color:c.zx.Colors.PRIMARY,className:C.refreshVoiceChannelsButton,innerClassName:C.refreshVoiceChannelsButtonInner,onClick:l,children:[(0,r.jsx)(u.gj8,{size:"xs",color:"currentColor",className:C.voiceChannelsToggleIcon}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",children:n?x.intl.string(x.t["/eB9Bg"]):x.intl.string(x.t.Q2gPWl)})]})}),T=i.memo(function(e){let{category:t,channel:n}=e,i=(0,s.e7)([_.Z],()=>_.Z.isVoiceCategoryCollapsed(t.guild.id));return i||null==n||n.record.type===v.d4z.GUILD_CATEGORY?i?(0,r.jsx)("li",{className:C.containerDefault,children:(0,r.jsx)("div",{className:o()(C.iconVisibility,C.wrapperStatic),children:(0,r.jsx)(f.Z,{className:C.name,children:(0,r.jsx)(g.Z,{children:x.intl.string(x.t["V/u9Dw"])})})})}):null:(0,r.jsx)("div",{style:{height:16}})}),A=i.memo(function(e){let{channel:t}=e;return(0,r.jsx)("li",{className:C.containerDefault,children:(0,r.jsx)("div",{className:o()(C.iconVisibility,C.wrapperStatic),children:(0,r.jsx)(f.Z,{className:C.name,children:(0,r.jsx)(g.Z,{children:t.name})})})})})},754231:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(503438),u=n(39628),d=n(884338),p=n(424678),h=n(594174),f=n(81063),g=n(768581),m=n(823379),b=n(51144),O=n(506914);let y=d.u8.SIZE_24;function _(e){var t,n;let{activity:l,user:o,embeddedApp:a,onOpenSpotifyAlbum:u}=e,d=null==l?void 0:l.assets,p=null==l?void 0:l.application_id;if(null==l||null==d||null==d.large_image&&null==d.small_image)if(null==a)return null;else{let e=g.ZP.getApplicationIconURL({id:a.application.id,icon:a.application.icon}),t=a.application.name;return(0,r.jsx)(s.ua7,{text:t,position:"top",children:()=>(0,r.jsx)("img",{alt:t,src:e,className:O.applicationLargeImage})})}let h=null!=(t=d.large_image)?t:d.small_image,m=(0,c.Z)(l),b=m?O.spotifyLargeImage:O.applicationLargeImage,y=null!=h?(0,r.jsx)("img",{alt:null!=(n=d.large_text)?n:"",src:(0,f.xF)(p,h,[128,128]),className:b}):null;return m&&null!=u?(y=(0,r.jsx)(s.P3F,{className:O.clickable,onClick:()=>{u(l,o.id)},children:y}),(0,r.jsx)(s.ua7,{text:null!=d.large_text?d.large_text:null,position:"top",children:e=>{let{onClick:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick"]);return null!=y?i.cloneElement(y,n):null}})):y}function j(e){let{activity:t,embeddedApp:n,onOpenSpotifyTrack:i}=e,l=null==t?void 0:t.details,o=null==t?void 0:t.name,a=o;if(null!=n)a=n.application.name;else{if(!(null!=t&&(0,c.Z)(t))||null==t.sync_id||null==l||null==i)return null;o=l,a=(0,r.jsx)(s.P3F,{className:O.headerLink,onClick:()=>{i(t)},children:l})}return(0,r.jsx)(s.X6q,{variant:"heading-sm/semibold",color:"header-primary",className:O.header,children:a})}function v(e){let{activity:t,user:n,onOpenSpotifyArtist:i}=e,l=null==t?void 0:t.details,a=null==t?void 0:t.state,s=l;return(null!=t&&(0,c.Z)(t)&&null!=a&&(s=[(0,r.jsx)(p.Z,{artists:a,linkClassName:O.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e=>{null==i||i(t,n.id,e)}},a)]),null==s||""===s)?null:(0,r.jsx)("div",{className:o()(O.ellipsisRow,O.colorHeaderSecondary,O.bodyTextSize),children:s})}function x(e){let{activity:t}=e,n=null==t?void 0:t.state;return null==n||""===n||(0,c.Z)(t)?null:(0,r.jsx)("div",{className:o()(O.ellipsisRow,O.colorHeaderSecondary,O.bodyTextSize,O.__invalid_activity),children:n})}function C(e){let{activity:t}=e;if(null==t||!(0,c.Z)(t))return null;let{timestamps:n}=t;if((null==n?void 0:n.start)==null||(null==n?void 0:n.end)==null)return null;let{start:i,end:l}=n;return(0,r.jsx)(u.Z,{start:i,end:l,className:O.timeBar,themed:!0,singleLine:!0})}function E(e){let{activity:t,embeddedApp:n,user:l,channel:o,sortedVoiceStates:u,onOpenSpotifyTrack:p,onOpenSpotifyArtist:f,onOpenSpotifyAlbum:g}=e,E=[];null!=n?E=Array.from(n.embeddedActivity.userIds):(0,c.Z)(t)&&null!=u&&(E=u.map(e=>e.user.id));let S=(0,a.Wu)([h.default],()=>E.map(e=>h.default.getUser(e)).filter(m.lm)),P=null!=n||(0,c.Z)(t),I=i.useMemo(()=>{let e=new Map;return P&&null!=u&&u.forEach(t=>{let n=t.member;null!=n&&e.set(t.user.id,n)}),e},[u,P]);return P?(0,r.jsxs)("div",{className:O.flexColumn,children:[(0,r.jsxs)("div",{className:O.flexRow,children:[(0,r.jsx)(_,{activity:t,user:l,embeddedApp:n,onOpenSpotifyAlbum:g}),(0,r.jsxs)("div",{className:O.detailsAndAvatarsContainer,children:[(0,r.jsx)(j,{activity:t,embeddedApp:n,onOpenSpotifyTrack:p}),(0,r.jsx)(v,{activity:t,user:l,onOpenSpotifyArtist:f}),(0,r.jsx)(x,{activity:t}),E.length>0&&(0,r.jsx)(d.ZP,{className:O.usersSummary,guildId:o.guild_id,users:S,size:y,max:7,renderUser:e=>{var t;if(null==e||e===d.ag)return null;let n=I.get(e.id),i=null!=(t=null==n?void 0:n.nick)?t:b.ZP.getName(e);return(0,r.jsx)(s.DY3,{text:i,position:"bottom",children:(0,r.jsx)("img",{src:e.getAvatarURL(o.guild_id,y),alt:i,className:O.avatar},e.id)},e.id)}})]})]}),(0,r.jsx)(C,{activity:t})]}):null}},449932:function(e,t,n){n.d(t,{Z:()=>x});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(442837),a=n(755721),s=n(481060),c=n(717881),u=n(503438),d=n(850827),p=n(952164),h=n(237583),f=n(131704),g=n(314897),m=n(594174),b=n(768581),O=n(51144),y=n(754231),_=n(342273);function j(e){let{guildId:t,member:n,className:i}=e,o=null!=n.member?(0,b.CA)(n.member):null;return(0,r.jsx)(s.ua7,{text:n.nick,position:"bottom",children:e=>{var a;return(0,r.jsx)(s.qEK,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({src:null!=o?o:n.user.getAvatarURL(t,16),size:s.EFr.SIZE_16,className:l()(i,_.partyAvatar),"aria-label":null!=(a=n.nick)?a:O.ZP.getName(n.user)},e))}})}function v(e){let{members:t,guildId:n}=e;return(0,r.jsx)(h.Z,{className:_.partyMembers,guildId:n,users:t,max:6,renderUser:(e,t,i)=>(0,r.jsx)(j,{guildId:n,member:e,className:t},i),renderMoreUsers:(e,t,n)=>(0,r.jsx)("div",{className:l()(_.morePartyMembers,t),children:e},n)})}let x=e=>{let{channel:t,presenceActivity:n,members:i,embeddedApp:l,onAction:s}=e,h=null!=l,b=h?Array.from(l.embeddedActivity.userIds):[],O=(0,o.e7)([m.default,g.default],()=>{if(h)return m.default.getUser(b[0]);if(null!=i){var e,t;return i.length<=0?null:null!=(t=null==(e=i.find(e=>e.user.id!==g.default.getId()))?void 0:e.user)?t:i[0].user}});if(null==O)return null;let j=h||(0,u.Z)(n),x=(0,f.vd)(t.type);return(0,r.jsxs)("div",{className:_.activity,children:[(0,r.jsx)("div",{className:_.channelActivityContainer,children:j?(0,r.jsx)(y.Z,{activity:n,embeddedApp:l,user:O,channel:t,sortedVoiceStates:i,onOpenSpotifyTrack:x?p.aG:void 0,onOpenSpotifyArtist:x?p.d$:void 0,onOpenSpotifyAlbum:x?p.Z5:void 0}):(0,r.jsx)(c.Z,{type:c.P.VOICE_CHANNEL,activity:n,user:O,guildId:t.getGuildId(),channelId:t.id,renderHeaderAccessory:null!=i?()=>(0,r.jsx)(v,{guildId:t.guild_id,members:i}):void 0})}),(0,r.jsx)("div",{className:_.activityActionsContainer,children:(0,r.jsx)(d.Z,{type:c.P.VOICE_CHANNEL,activity:n,embeddedActivity:null==l?void 0:l.embeddedActivity,user:O,guildId:t.getGuildId(),channelId:t.id,color:a.zx.Colors.PRIMARY,look:a.zx.Looks.FILLED,onAction:s})})]})}},98597:function(e,t,n){n.d(t,{CN:()=>N,ZP:()=>M,eP:()=>A,hR:()=>T,jo:()=>w});var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(442837),c=n(481060),u=n(787014),d=n(924301),p=n(340541),h=n(159300),f=n(152376),g=n(427679),m=n(155409),b=n(131704),O=n(199902),y=n(430824),_=n(496675),j=n(914010),v=n(281029),x=n(981631),C=n(388032),E=n(55940);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}function I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function N(e,t,n){return null!=t&&!!t&&!(0,v.ig)(n,e.type)}function w(e,t){return null==t?E.containerDefault:e>t?E.containerDragAfter:E.containerDragBefore}function Z(e){let{tabIndex:t,forceShowButtons:n,hasChannelInfo:r,onContextMenu:l}=e;return(0,i.jsx)(c.ua7,{text:C.intl.string(C.t.OBr7Cw),children:e=>{let{onMouseEnter:o,onMouseLeave:s,onFocus:u,onBlur:d}=e;return(0,i.jsx)(c.P3F,{className:a()(E.iconItem,n?E.alwaysShown:void 0,r?E.iconWithChannelInfo:E.iconNoChannelInfo),onClick:l,tabIndex:t,"aria-label":C.intl.string(C.t.OBr7Cw),onMouseEnter:o,onMouseLeave:s,onFocus:u,onBlur:d,children:(0,i.jsx)(c.xhG,{size:"xs",color:"currentColor",className:E.actionIcon})})}})}function T(e){let{channel:t,disableManageChannels:n,tabIndex:r,forceShowButtons:l,hasChannelInfo:o=!1}=e;if((0,s.e7)([_.Z,j.Z],()=>n||j.Z.getGuildId()===x.I_8||!_.Z.can(x.Plq.MANAGE_CHANNELS,t)&&!_.Z.can(x.Plq.MANAGE_ROLES,t)&&!_.Z.can(x.Plq.MANAGE_WEBHOOKS,t)||(0,b.r8)(t.type)&&!_.Z.can(x.Plq.VIEW_CHANNEL,t)||t.isGuildVocal()&&!_.Z.can(x.Plq.CONNECT,t)||!b.dF.has(t.type)||t.isModeratorReportChannel()))return null;function d(){u.ZP.open(t.id)}return(0,i.jsx)(c.ua7,{text:C.intl.string(C.t["3gUsJS"]),children:e=>{let{onMouseEnter:t,onMouseLeave:n,onFocus:s,onBlur:u}=e;return(0,i.jsx)(c.P3F,{className:a()(E.iconItem,l?E.alwaysShown:void 0,o?E.iconWithChannelInfo:E.iconNoChannelInfo),onClick:d,tabIndex:r,"aria-label":C.intl.string(C.t["3gUsJS"]),onMouseEnter:t,onMouseLeave:n,onFocus:s,onBlur:u,children:(0,i.jsx)(c.ewm,{size:"xs",color:"currentColor",className:E.actionIcon})})}})}function A(e){let{channel:t,isDefaultChannel:r=!1,locked:o,tabIndex:u,forceShowButtons:f,hasChannelInfo:b=!1}=e,{entrypoints:j}=(0,p._k)({location:"channel_base"}),v=(0,s.e7)([y.Z],()=>y.Z.getGuild(t.getGuildId())),S=(0,s.e7)([g.Z],()=>g.Z.getStageInstanceByChannel(t.id),[t.id]),N=(0,s.e7)([d.ZP],()=>d.ZP.getActiveEventByChannel(t.id),[t.id]),w=(0,s.e7)([_.Z],()=>(0,h.b)(_.Z,v,t,S)),Z=(0,s.e7)([_.Z],()=>_.Z.can(x.Plq.CREATE_INSTANT_INVITE,t)?C.intl.string(C.t.zJrgTE):C.intl.string(C.t.Sd8Ix8)),T=j?C.intl.string(C.t["EE+P0N"]):Z,A=l.useRef(null);if(o||!w||t.isModeratorReportChannel())return null;function R(){if(null!=v){let e=O.Z.getAllActiveStreams().filter(e=>e.state!==x.jm8.ENDED&&e.channelId===t.id);(0,c.ZDy)(async()=>{let{default:r}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,i.jsx)(r,I(P({},n),{guild:v,channel:t,streamUserId:1===e.length?e[0].ownerId:null,source:x.t4x.GUILD_CHANNELS,guildScheduledEvent:N}))})}}let D=j?c.oLu:c.ejJ,M=(0,i.jsx)(D,{size:"xs",className:E.actionIcon,"aria-hidden":!0,color:"currentColor"});return r&&(M=(0,i.jsx)(m.Z,{childRef:A,tutorialId:"instant-invite",position:"left",children:(0,i.jsx)("div",{ref:A,children:M})})),(0,i.jsx)(c.ua7,{text:T,children:e=>(0,i.jsx)(c.P3F,I(P({className:a()(E.iconItem,f?E.alwaysShown:void 0,b?E.iconWithChannelInfo:E.iconNoChannelInfo)},e),{onClick:R,tabIndex:u,"aria-label":T,children:M}))})}function R(e){let{channel:t}=e,n=()=>{(0,f._U)(t.guild_id,t.id)};return(0,i.jsx)(c.ua7,{text:C.intl.string(C.t.ROh4T0),children:e=>(0,i.jsx)(c.P3F,I(P({className:E.iconItem},e),{onClick:n,"aria-label":C.intl.string(C.t.ROh4T0),children:(0,i.jsx)(c.Dio,{size:"xs",color:"currentColor",className:E.actionIcon})}))})}function D(e){let{channel:t}=e,n=()=>{(0,f.dM)(t.guild_id,t.id,!0,{section:x.jXE.CHANNEL_LIST})};return(0,i.jsx)(c.ua7,{text:C.intl.string(C.t["N2c/Ul"]),children:e=>(0,i.jsx)(c.P3F,I(P({className:E.iconItem},e),{onClick:n,"aria-label":C.intl.string(C.t["N2c/Ul"]),children:(0,i.jsx)(c.dz2,{size:"xs",color:"currentColor",className:E.actionIcon})}))})}class M extends(r=l.PureComponent){renderOptionsButton(e){let{onContextMenu:t}=e;return(0,i.jsx)(Z,I(P({},this.props),{onContextMenu:t}))}renderEditButton(){return(0,i.jsx)(T,P({},this.props))}renderInviteButton(){return(0,i.jsx)(A,P({},this.props))}renderRemoveSuggestionButton(){return(0,i.jsx)(R,P({},this.props))}renderAcceptSuggestionButton(){return(0,i.jsx)(D,P({},this.props))}getClassName(){let{position:e,sortingPosition:t}=this.props;return w(e,t)}isDisabled(){let{channel:e,sorting:t,sortingType:n}=this.props;return N(e,t,n)}}S(M,"defaultProps",{isDefaultChannel:!1})},648501:function(e,t,n){n.d(t,{Z:()=>P});var r=n(951288);n(647438);var i=n(442837),l=n(692547),o=n(481060),a=n(619915),s=n(456269),c=n(921711),u=n(368442),d=n(601070),p=n(430824),h=n(496675),f=n(306680),g=n(979651),m=n(968358),b=n(790901),O=n(714794),y=n(355363),_=n(687352),j=n(876548),v=n(25601),x=n(981631),C=n(490897),E=n(388032),S=n(885525);function P(e){var t;let{channel:n,isChannelSelected:P,isChannelCollapsed:I,voiceStates:N,enableConnectedUserLimit:w,enableActivities:Z,isSubscriptionGated:T,needSubscriptionToAccess:A,isNewChannel:R,muted:D,resolvedUnreadSetting:M}=e,L=(0,i.e7)([f.ZP],()=>f.ZP.getMentionCount(n.id)),k=(0,i.e7)([f.ZP],()=>f.ZP.getIsMentionLowImportance(n.id)),U=(0,a.ZP)(n),G=(0,i.e7)([h.Z],()=>!h.Z.can(x.Plq.CONNECT,n)),B=(0,i.e7)([g.Z],()=>g.Z.hasVideo(n.id)),F=(0,u.PK)(n.id)&&n.isGuildStageVoice(),V=(0,y.ZP)({channel:n,locked:G,video:B||F,selected:P}),H=(0,i.e7)([d.Z],()=>d.Z.getNewThreadCount(n.guild_id,n.id)),z=(0,s.n2)(n.guild_id,n.id),W=(0,i.e7)([p.Z],()=>{var e,t;return null!=(t=null==(e=p.Z.getGuild(n.guild_id))?void 0:e.features.has(x.oNc.COMMUNITY))&&t});if((0,O.Z)(L))return(0,r.jsx)(v.Z,{mentionsCount:L,isMentionLowImportance:k});if((0,c.O)(T))return(0,r.jsx)(c.Z,{locked:A});if(R)return(0,r.jsx)(o.IGR,{text:E.intl.string(E.t.y2b7CA),color:l.Z.unsafe_rawColors.BRAND_260.css,className:S.newChannel});if(!D&&M===C.i.ALL_MESSAGES&&n.isForumLikeChannel()&&null!=H&&H>0)return(0,r.jsx)(o.Text,{variant:"text-xs/semibold",color:"text-brand",children:E.intl.format(E.t.GkAbqa,{count:(0,o.NGo)(H)})});if(!D&&n.isForumLikeChannel()&&null!=z&&z>0)return(0,r.jsx)(o.Text,{variant:"text-xs/semibold",color:"text-muted",children:(0,o.NGo)(z)});let K=null!=(t=null==N?void 0:N.length)?t:0;return null!=w&&w&&V?(0,r.jsx)(j.Z,{userCount:K,video:B||F,channel:n}):I&&(0,m.a)(N)&&W?(0,r.jsx)(o.IGR,{text:E.intl.string(E.t.dI3q4u),color:l.Z.unsafe_rawColors.RED_400.css}):null!=Z&&Z&&(0,b.u)(U)?(0,r.jsx)(_.Z,{embeddedApps:U,muted:D}):null}},687352:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(925329),s=n(675758);function c(e){let{className:t,embeddedApps:n,muted:i}=e;if(n.length<=0)return null;{if(1===n.length)return(0,r.jsx)("div",{className:l()(s.container,t,i&&s.modeMuted),children:(0,r.jsx)(a.Z,{game:n[0].application,className:s.icon20px})});let e=n.length-1;return(0,r.jsxs)("div",{className:l()(s.container,t,i&&s.modeMuted),children:[(0,r.jsx)(a.Z,{game:n[0].application,className:s.icon20px}),2===n.length?(0,r.jsx)(a.Z,{game:n[1].application,className:s.icon20px}):(0,r.jsx)(o.Text,{className:s.overflow,variant:"text-xs/bold",color:"interactive-active",children:"+".concat(e)})]})}}},373274:function(e,t,n){n.d(t,{E:()=>e_,j:()=>ey}),n(388685),n(539854),n(35282);var r,i=n(951288),l=n(647438),o=n(392711),a=n.n(o),s=n(91192),c=n(924826),u=n(442837),d=n(704215),p=n(481060),h=n(925549),f=n(260300),g=n(410575),m=n(607070),b=n(100527),O=n(906732),y=n(313201),_=n(362658),j=n(583962),v=n(915885),x=n(258871),C=n(216306),E=n(398758),S=n(742139),P=n(761700),I=n(486311),N=n(620304),w=n(220444),Z=n(31022),T=n(10401),A=n(131704),R=n(592125),D=n(796974),M=n(984933),L=n(914010),k=n(594174),U=n(540126),G=n(734307),B=n(854444),F=n(113544),V=n(761091),H=n(301342),z=n(906817),W=n(429122),K=n(285573),Y=n(995993),q=n(910595),X=n(120818),Q=n(61642),J=n(848442),$=n(53425),ee=n(424785),et=n(770202),en=n(437621),er=n(428127),ei=n(950969),el=n(233657),eo=n(831700),ea=n(443063),es=n(327530),ec=n(981631),eu=n(176505),ed=n(388032),ep=n(776677);function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eh(e,t,n[t])})}return e}function eg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function em(e){return p.TVs.modules.channels.NAME_LINE_HEIGHT.resolve({density:e})+2*p.TVs.space.SPACE_XXS.resolve({density:e})+2}class eb extends(r=l.PureComponent){componentDidMount(){this.setState({initialized:!0}),(0,F.Q5)(this.getVisibleChannels)}componentWillUnmount(){this.updateChannelListScroll.cancel()}componentDidUpdate(e,t){let{scrollToChannel:n,guildId:r,selectedChannelId:i}=this.props,{initialized:l}=this.state,{scrollTop:o}=D.Z.getGuildDimensions(r);null!=n?(this.scrollToChannel(n),h.Z.clearChannelListScrollTo(r)):r!==e.guildId?null!=o&&this.scrollTo(o):i!==e.selectedChannelId?this.scrollToChannel(i):!t.initialized&&l&&(null==o&&null!=i?this.scrollToChannel(i,!1,es.yE,this.handleListScroll):this.scrollTo(null!=o?o:0,this.handleListScroll)),this.testShouldSkipTutorial()}getSectionRowsFromChannel(e){return this.props.guildChannels.getSectionRowsFromChannel(e)}scrollTo(e,t){var n;null==(n=this._list)||n.scrollTo({to:e,animate:!1,callback:t})}scrollToChannel(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:es.yE,r=arguments.length>3?arguments[3]:void 0,i=this._list,l=this.getSectionRowsFromChannel(e)[0];if(null!=l&&null!=i)if(null!=l.threadOffset){let[e]=i.getScrollPosition(l.section,l.row),{density:o="default"}=this.props,a=l.threadOffset*em(o);i.scrollIntoViewRect({start:e+a,end:e+a+em(o),padding:n,animate:t,callback:r})}else i.scrollToIndex({section:l.section,row:l.row,animate:t,padding:n,callback:r});else null==r||r()}isUnreadVisible(){let{guildChannels:e}=this.props,t=this._list;return null!=t&&t.getItems().some(n=>{if("row"!==n.type)return!1;let{section:r,row:i}=n;if(r<U.wd||e.isPlaceholderRow(r,i))return!1;let l=e.getChannelFromSectionRow(r,i);if(null==l)return!1;let{channel:o,category:a}=l;return!!(0,A.vc)(o.record.type)&&(!a.isCollapsed||!a.isMuted)&&!o.isMuted&&!!t.isItemVisible(r,i,!0)&&(0,w.d)(o.record)})}renderTopUnread(){let{topMention:e,bottomUnread:t,bottomMention:n,isUnreadVisible:r}=this.state,{guildId:l,guildChannels:o,guildChannelsVersion:a}=this.props;return(0,i.jsx)("div",{className:ep.positionedContainer,children:(0,i.jsx)(ei.Z,{ref:this.unreadTopRef,textUnread:ed.intl.string(ed.t.FCRiT0),textMention:ed.intl.string(ed.t["8zH0LC"]),hide:null==e&&(r||null!=t||null!=n),className:ep.unreadTop,barClassName:ep.unreadBar,guildId:l,guildChannels:o,guildChannelsVersion:a,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})})}renderBottomUnread(){let{guildId:e,guildChannels:t,guildChannelsVersion:n}=this.props,{bottomMention:r,isUnreadVisible:l}=this.state;return(0,i.jsx)(ei.Z,{reverse:!0,ref:this.unreadBottomRef,textUnread:ed.intl.string(ed.t.FCRiT0),textMention:ed.intl.string(ed.t["8zH0LC"]),hide:null==r&&l,className:ep.unreadBottom,barClassName:ep.unreadBar,guildId:e,guildChannels:t,guildChannelsVersion:n,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})}renderList(){let{guildChannels:e,guildBanner:t,selectedGuildId:n,density:r}=this.props,l={};n===ec.I_8&&(l["data-favorites"]=!0);let o=this.context,{ref:a}=o,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(o,["ref"]),c=0;null!=t&&(c=es.Q0);let u="compact"===r?8:es.$k;return(0,i.jsx)(p.Wdt,{children:t=>(0,i.jsx)(p.aVo,ef({ref:this.setListRef,className:ep.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getSectionFooterHeight,rowHeight:this.getRowHeight,paddingTop:c,paddingBottom:u,renderSection:this.renderSection,renderFooter:this.renderSectionFooter,renderRow:this.renderRow,onScroll:this.handleListScroll,onResize:this.handleResize,onContentResize:this.handleResize,sections:e.getSections(!0),innerAriaLabel:ed.intl.string(ed.t.OGiMXF),innerTag:"ul",getAnchorId:this.getAnchorId},s,t,l),"guild-channels")})}render(){let{guildChannels:e,guildChannelsVersion:t,showNewUnreadsBar:n}=this.props;return(0,i.jsx)(y.FG,{children:r=>(0,i.jsx)(p.y5t,{component:(0,i.jsx)(p.nn4,{children:(0,i.jsx)(p.H,{id:r,children:ed.intl.string(ed.t.OGiMXF)})}),children:n?(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)("div",{className:ep.positionedContainer,children:(0,i.jsx)(er.Z,{position:"top",guildChannels:e,guildChannelsVersion:t,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})}),this.renderList(),(0,i.jsx)(er.Z,{position:"bottom",guildChannels:e,guildChannelsVersion:t,jumpToVoiceChannels:this.jumpToVoiceChannels,jumpToChannel:this.jumpToChannel})]}):(0,i.jsxs)(l.Fragment,{children:[this.renderTopUnread(),this.renderList(),this.renderBottomUnread()]})})})}constructor(...e){super(...e),eh(this,"_list",null),eh(this,"unreadTopRef",l.createRef()),eh(this,"unreadBottomRef",l.createRef()),eh(this,"state",{initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null}),eh(this,"setListRef",e=>{var t;let{ref:n}=this.context;n.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null,this._list=e}),eh(this,"jumpToVoiceChannels",()=>{var e,t,n,r;let{guildChannels:i,voiceStates:l}=this.props,o=0,a=null!=(n=null==(e=i.getCategoryFromSection(i.voiceChannelsSectionNumber))?void 0:e.getShownChannelIds())?n:[];for(let e=0;e<a.length-1;e++)if((null!=(r=l[a[e]])?r:[]).length>0){o=e+1;break}null==(t=this._list)||t.scrollToIndex({section:i.voiceChannelsSectionNumber,row:o,animate:!0,padding:es.yE})}),eh(this,"jumpToChannel",e=>this.scrollToChannel(e,!0,es.Q1)),eh(this,"jumpToChannelWithMentionsAndUnreads",(e,t)=>{let[n,r]=t;return this.scrollToChannel(e,!0,null!=n&&null!=r?es.Q1:es.yE)}),eh(this,"isChannelVisible",(e,t)=>{let n=this.getSectionRowsFromChannel(e),r=this._list;if(null==r)return!1;for(let{row:e,section:i}of n){let[n,l]=r.getScrollPosition(i,e),o=r.getScrollerState();if(t&&n+l<o.scrollTop+o.offsetHeight||!t&&n>o.scrollTop)return!0}return!1}),eh(this,"getVisibleChannels",()=>{let e=this._list;if(null==e)return[];let t=e.getItems(),n=e.getScrollerState(),r=[];for(var i=0;i<t.length;i++){let l=t[i];if((0,p.oZU)(l)&&l.section>=this.props.guildChannels.favoritesSectionNumber){let t=this.props.guildChannels.getChannelFromSectionRow(l.section,l.row),[i,o]=e.getScrollPosition(l.section,l.row);null!=t&&i+o<n.scrollTop+n.offsetHeight&&i>n.scrollTop&&r.push(t.channel.id)}}return r}),eh(this,"handleResize",()=>{var e,t;let{showNewUnreadsBar:n}=this.props,r=null!=(t=null==(e=this._list)?void 0:e.getScrollerState())?t:null;if(this.setState({isUnreadVisible:this.isUnreadVisible()}),n&&null!=r){let{scrollTop:e}=r;this.updateChannelListScroll(e)}}),eh(this,"handleListScroll",()=>{var e,t;let{onScroll:n}=this.props,r=null!=(t=null==(e=this._list)?void 0:e.getScrollerState())?t:null;if(null!=r){let{scrollTop:e}=r;null!=n&&n(r),this.updateChannelListScroll(e)}null!=this.unreadTopRef.current&&this.unreadTopRef.current.calculateState(),null!=this.unreadBottomRef.current&&this.unreadBottomRef.current.calculateState()}),eh(this,"handleUnreadCalculate",(e,t,n)=>{let r=this.isUnreadVisible();n?this.setState({isUnreadVisible:r,bottomUnread:t,bottomMention:e}):this.setState({isUnreadVisible:r,topUnread:t,topMention:e})}),eh(this,"updateChannelListScroll",a().throttle(e=>{h.Z.updateChannelListScroll(this.props.guildId,e,this.getVisibleChannels())},100)),eh(this,"getSectionHeight",e=>{let{guild:t,guildChannels:n,density:r}=this.props;return(0,z.EM)(e,t,n,r)}),eh(this,"getSectionFooterHeight",e=>{let{guildChannels:t,voiceStates:n,selectedVoiceChannelId:r,selectedChannelId:i,optInEnabled:l,guildChannelsVersion:o}=this.props;return(0,W.dt)({sectionIndex:e,guildChannels:t,guildChannelsVersion:o,voiceStates:n,selectedChannelId:i,selectedVoiceChannelId:r,optInEnabled:l,density:this.props.density})}),eh(this,"getRowHeight",(e,t)=>{let{guildChannels:n,voiceStates:r,stageChannelSpeakerVoiceStates:i,selectedVoiceChannelId:l,selectedGuildId:o,density:a="default"}=this.props,s=em(a);if(e===U.wZ){let e=n.getGuildActionSection();return e.isEmpty()?0:e.getRow(t)===ea.z.GUILD_PREMIUM_PROGRESS_BAR?e.getRows().length>1?j.aR:j.PD:s}if(n.isPlaceholderRow(e,t))return 0;let c=n.getChannelFromSectionRow(e,t);if(null==c)return 0;let{channel:u,category:d}=c;if(u.record.type===ec.d4z.GUILD_CATEGORY)return 40;let{isFavoritesPerk:h}=_.Z.getCurrentConfig({location:"channel_list"},{autoTrackExposure:!0});for(let e of(!h||o!==ec.I_8||u.record.isDM()||u.record.isGroupDM()||u.record.isGuildStageVoice()||(s=46),u.threadIds)){let{density:t="default"}=this.props;s+=em(t);let n=r[u.id];null!=n&&n.length>0&&(s+=l===e?32*n.length:32,s+=es.cx)}if(u.record.isGuildVoice()){let e=r[u.id];if(null!=e&&e.length>0){let t=32*e.length;(u.isCollapsed||d.isCollapsed)&&(t=32),s+=t+p.TVs.space.SPACE_XS.resolve({density:a})}u.id===this.props.rtcConnectedChannelId&&(s+=32*this.props.rtcDesyncedVoiceStatesCount)}if(null!=u.subtitle&&(s+=es.NY),u.record.isGuildStageVoice()){var f,g;let e=null!=(f=r[u.id])?f:[],t=null!=(g=i[u.id])?g:[];if(null!=e&&e.length>0){let e=32*t.length;u.isCollapsed||d.isCollapsed?e=Math.ceil(e/es.VE):e+=32,s+=e+es.cx}}return s}),eh(this,"dismissRecents",()=>{let{guild:e,guildChannels:t,selectedChannelId:n}=this.props,r=t.getCategoryFromSection(t.recentsSectionNumber);if(null==r)return;let i=null,l=r.getShownChannelAndThreadIds();null!=n&&l.includes(n)&&(i=(0,C.KY)(t)),(0,C.Uo)(e.id,l,i)}),eh(this,"renderSection",e=>{let{section:t}=e,{guildChannels:n,guildChannelsVersion:r,guild:l,selectedChannelId:o,disableManageChannels:a}=this.props;return(0,i.jsx)(z.ZP,{sectionIndex:t,guild:l,guildChannels:n,guildChannelsVersion:r,selectedChannelId:o,disableManageChannels:a},(0,z.WW)(t,n))}),eh(this,"renderRow",e=>{let{section:t,row:n}=e,{guild:r,selectedChannel:o,selectedChannelId:a,selectedVoiceChannel:s,selectedVoiceChannelId:c,guildChannels:u,voiceStates:p,disableManageChannels:h,stageChannelSpeakerVoiceStates:f,optInEnabled:g,withGuildIcon:m,isNewGuildPowerupsProgressBarEnabled:b,shouldRenderBoosterEnhancedRoleColorsCoachmark:O}=this.props;if(t===U.wZ){let e=u.getGuildActionSection(),t=e.getRow(n);if(null==t)return null;switch(t){case ea.z.GUILD_HUB_HEADER_OPTIONS:return(0,i.jsx)(x.Z,{guild:r,channel:M.ZP.getDefaultChannel(r.id)},ea.z.GUILD_HUB_HEADER_OPTIONS);case ea.z.GUILD_PREMIUM_PROGRESS_BAR:let l=e.getRows(),o=[];return O&&o.push(d.z.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK),b?(0,i.jsx)(N.Z,{guild:r,tooltipTypes:o,withMargin:l.length>1},ea.z.GUILD_PREMIUM_PROGRESS_BAR):(0,i.jsx)(j.ZP,{guild:r,tooltipTypes:o,withMargin:l.length>1},ea.z.GUILD_PREMIUM_PROGRESS_BAR);case ea.z.GUILD_HOME:return(0,i.jsx)(q.Z,{guild:r,selected:a===eu.oC.GUILD_HOME},ea.z.GUILD_HOME);case ea.z.GUILD_SCHEDULED_EVENTS:return(0,i.jsx)(el.Z,{guild:r,selected:a===ea.z.GUILD_SCHEDULED_EVENTS},ea.z.GUILD_SCHEDULED_EVENTS);case ea.z.GUILD_ROLE_SUBSCRIPTIONS:return(0,i.jsx)(Q.Z,{guild:r,selected:a===eu.oC.ROLE_SUBSCRIPTIONS},ea.z.GUILD_ROLE_SUBSCRIPTIONS);case ea.z.GUILD_SHOP:return(0,i.jsx)(J.Z,{guild:r,selected:a===eu.oC.GUILD_SHOP},ea.z.GUILD_SHOP);case ea.z.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR:return(0,i.jsx)(X.T,{guild:r});case ea.z.CHANNELS_AND_ROLES:return(0,i.jsx)(Y.m,{guild:r,selected:a===eu.oC.CHANNEL_BROWSER||a===eu.oC.CUSTOMIZE_COMMUNITY},ea.z.CHANNELS_AND_ROLES);case ea.z.GUILD_DIRECTORY:return(0,i.jsx)(K.Z,{guild:r,selectedChannelId:a,disableManageChannels:h},ea.z.GUILD_DIRECTORY);case ea.z.GUILD_MOD_DASH_MEMBER_SAFETY:return(0,i.jsx)(v.Z,{guild:r,selected:a===eu.oC.MEMBER_SAFETY},ea.z.GUILD_MOD_DASH_MEMBER_SAFETY);case ea.z.GUILD_BOOSTS:return(0,i.jsx)(I.Z,{guildId:r.id,selected:a===eu.oC.GUILD_BOOSTS},ea.z.GUILD_BOOSTS);default:return null}}if(u.isPlaceholderRow(t,n))return null;let y=u.getChannelFromSectionRow(t,n);if(null==y)return null;let{category:_,channel:C}=y,E=_ instanceof U.VR,S=C.record,P="".concat(t).concat(C.id);switch(S.type){case ec.d4z.GUILD_ANNOUNCEMENT:case ec.d4z.GUILD_TEXT:case ec.d4z.GUILD_FORUM:case ec.d4z.GUILD_MEDIA:case ec.d4z.DM:case ec.d4z.GROUP_DM:return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(en.Z,{channel:S,guild:r,position:C.position,selected:a===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:g&&t===u.recentsSectionNumber,isFavoriteCategory:E,withGuildIcon:m}),C.threadCount>0?(0,i.jsx)($.Z,{withGuildIcon:m,channel:S,sortedThreadIds:C.threadIds,selectedChannel:null!=o&&(o.id===C.id||o.parent_id===S.id)?o:null,selectedVoiceChannelId:(null==s?void 0:s.parent_id)===S.id?c:null}):null]},P);case ec.d4z.GUILD_STAGE_VOICE:var w,Z;return(0,i.jsx)(ee.Z,{channel:S,guild:r,position:C.position,selected:a===C.id,connected:c===C.id,collapsed:C.isCollapsed||_.isCollapsed,voiceStates:null!=(w=p[C.id])?w:[],speakerVoiceStates:null!=(Z=f[C.id])?Z:[],disableManageChannels:h,isFavoriteCategory:E},P);case ec.d4z.GUILD_VOICE:return(0,i.jsx)(eo.Z,{channel:S,guild:r,position:C.position,selected:a===C.id,connected:c===C.id,collapsed:C.isCollapsed||_.isCollapsed,voiceStates:p[C.id],subtitle:C.subtitle,disableManageChannels:h,showTutorial:C.isFirstVoiceChannel,isFavoriteCategory:E,withGuildIcon:m},P);case ec.d4z.GUILD_STORE:return(0,i.jsx)(et.Z,{channel:S,guild:r,position:C.position,selected:a===C.id},P);case ec.d4z.GUILD_CATEGORY:if(t!==u.voiceChannelsSectionNumber)return null;return(0,i.jsx)(H.kw,{channel:S},"readonly-".concat(S.id));case ec.d4z.PUBLIC_THREAD:case ec.d4z.PRIVATE_THREAD:return(0,i.jsx)(en.Z,{channel:S,guild:r,position:C.position,selected:a===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:!1,isFavoriteCategory:!1,forceTopLevelThread:!0},P);default:return null}}),eh(this,"renderSectionFooter",e=>{let{section:t}=e,{guildChannels:n,guildChannelsVersion:r,voiceStates:l,selectedChannelId:o,selectedVoiceChannelId:a,optInEnabled:s,guildId:c}=this.props;return(0,i.jsx)(W.ZP,{guildId:c,guildChannels:n,guildChannelsVersion:r,sectionIndex:t,voiceStates:l,selectedChannelId:o,selectedVoiceChannelId:a,optInEnabled:s},(0,W.eo)(t,n,s))}),eh(this,"getAnchorId",(e,t)=>{var n,r,i;let{guildChannels:l}=this.props;if(e!==U.wZ){if(null==t)return e===U.p2?"favorites-header":e===l.recentsSectionNumber?"recents-header":e===l.voiceChannelsSectionNumber?"voice-channels":e===U.wd?"uncategorized-header":null==(i=l.getNamedCategoryFromSection(e))?void 0:i.id;if(!l.isPlaceholderRow(e,t))return null==(r=l.getChannelFromSectionRow(e,t))||null==(n=r.channel)?void 0:n.id}}),eh(this,"testShouldSkipTutorial",()=>{if(!T.Z.shouldShow("voice-conversations"))return;let{guildChannels:e}=this.props,t=e.getFirstVoiceChannel();if(null==t)return void f.Z.dismiss("voice-conversations");let n=this._list;if(null!=n)for(let{section:e,row:r}of this.getSectionRowsFromChannel(t.id))n.isItemVisible(e,r)||f.Z.dismiss("voice-conversations")})}}eh(eb,"contextType",s.qB),eh(eb,"defaultProps",{density:"default"});let eO=e=>{let{guildId:t,guild:n,selectedChannelId:r,selectedVoiceChannelId:o}=e,a=(0,u.e7)([m.Z],()=>m.Z.keyboardModeEnabled),{analyticsLocations:d}=(0,O.ZP)(b.Z.GUILD_CHANNEL_LIST),p=(0,u.e7)([R.Z],()=>R.Z.getChannel(r)),h=(0,u.e7)([R.Z],()=>R.Z.getChannel(o)),f=(0,u.e7)([L.Z],()=>L.Z.getGuildId()),y=(0,E.DM)(t),_=l.useRef(null),j=l.useCallback((e,t)=>{let n=_.current;if(null!=n)if(ec.Xyh.test(t)||(0,eu.AB)(t))n.scrollToChannel(t,!1,2*es.yE,()=>{requestAnimationFrame(()=>{var t;return null==(t=document.querySelector(e))?void 0:t.focus()})});else{var r;null==(r=document.querySelector(e))||r.focus()}},[]),v=l.useCallback(()=>new Promise(e=>{let t=_.current;if(null==t)return e();t.scrollTo(0,()=>requestAnimationFrame(()=>e()))}),[]),x=l.useCallback(()=>new Promise(e=>{let t=_.current;if(null==t)return e();t.scrollTo(Number.MAX_SAFE_INTEGER,()=>requestAnimationFrame(()=>e()))}),[]),C=(0,c.ZP)({id:"channels",defaultFocused:null!=r?r:void 0,isEnabled:a,setFocus:j,scrollToStart:v,scrollToEnd:x}),I=C.setFocus;l.useEffect(()=>{null!=r&&I(r)},[r,I]);let N=(0,Z.Z)(t),w=(0,S.V)("NavigableChannels"),T=(0,u.e7)([k.default],()=>k.default.getCurrentUser()),A=(0,P.Z)(null==T?void 0:T.id,t)&&!0===n.premiumProgressBarEnabled;return(0,i.jsx)(O.Gt,{value:d,children:(0,i.jsx)(g.Z,{section:ec.jXE.GUILD_CHANNEL_LIST,children:(0,i.jsx)(s.bG,{navigator:C,children:(0,i.jsx)(eb,eg(ef({},e),{listNavigator:C,ref:_,selectedChannel:p,selectedVoiceChannel:h,stageChannelSpeakerVoiceStates:N,selectedGuildId:f,optInEnabled:y,isNewGuildPowerupsProgressBarEnabled:w,shouldRenderBoosterEnhancedRoleColorsCoachmark:A}))})})})};function ey(e){let t=(0,B.o)(),{isFavoritesPerk:n}=(0,_.z)("favorites-channel-list"),{density:r}=(0,p.TCT)();return(0,i.jsx)(eO,eg(ef({},e),{guildChannels:t,guildChannelsVersion:0,withGuildIcon:n,density:r}))}function e_(e){let t=(0,V.Z)(e.guild),n=(0,u.cj)([G.Z],()=>G.Z.getGuild(e.guildId,{guildActionRows:t})),{density:r}=(0,p.TCT)();return(0,i.jsx)(eO,eg(ef({},e,n),{density:r}))}},327530:function(e,t,n){n.d(t,{$k:()=>a,MF:()=>h,NY:()=>c,Pw:()=>l,Q0:()=>d,Q1:()=>i,QP:()=>o,VE:()=>p,Vf:()=>s,cx:()=>u,yE:()=>r});let r=8,i=32,l=40,o=12,a=12,s=34,c=16,u=8,d=84,p=5,h={origin:{x:-36,y:7},targetWidth:232,targetHeight:40,offset:{x:0,y:0}}},906817:function(e,t,n){n.d(t,{EM:()=>m,WW:()=>b,ZP:()=>O});var r=n(951288),i=n(647438),l=n(481060),o=n(997638),a=n(362658),s=n(216306),c=n(155409),u=n(540126),d=n(301342),p=n(327530),h=n(981631),f=n(388032),g=n(776677);function m(e,t,n,r){let i="compact"===r?8:p.$k;if(e===u.wZ)return i;if(e===u.wd)return t.features.has(h.oNc.HUB)?0:i;if(e===n.voiceChannelsSectionNumber){var l;let t=n.getCategoryFromSection(e);if(null==t||t.isEmpty())return 0;if(t.isCollapsed)return p.Pw+9;let r=null==(l=n.getChannelFromSectionRow(e,0))?void 0:l.channel;return null==r||r.record.type===h.d4z.GUILD_CATEGORY?9:25}return"compact"===r?32:p.Pw}function b(e,t){switch(e){case u.wZ:return"hoisted-spacer";case u.wd:return"uncategorized-spacer";case u.p2:return"favorites";case t.recentsSectionNumber:return"recents-header";case t.voiceChannelsSectionNumber:return"voice-channels-header";default:{let n=t.getNamedCategoryFromSection(e);if(null!=n)return"category-".concat(n.id);return"section-".concat(e)}}}let O=i.memo(function(e){let{sectionIndex:t,guild:n,guildChannels:m,guildChannelsVersion:b,selectedChannelId:O,disableManageChannels:y}=e,{isFavoritesPerk:_}=(0,a.z)("ChannelListSection"),j=i.useCallback(()=>{let e=m.getCategoryFromSection(m.recentsSectionNumber);if(null==e)return;let t=null,r=e.getShownChannelAndThreadIds();null!=O&&r.includes(O)&&(t=(0,s.KY)(m)),(0,s.Uo)(n.id,r,t)},[n.id,O,m,b]),{density:v}=(0,l.TCT)(),x="compact"===v?8:p.$k;switch(t){case u.wZ:return(0,r.jsx)("div",{style:{height:x}});case u.wd:if(n.features.has(h.oNc.HUB))return null;return(0,r.jsx)("div",{style:{height:x}});case u.p2:return(0,r.jsx)(d.P,{name:_?f.intl.string(f.t.mlPMCw):f.intl.string(f.t.k8fFjo)});case m.recentsSectionNumber:return(0,r.jsx)(d.P,{name:f.intl.string(f.t.gKcrqK),onDismiss:j});case m.voiceChannelsSectionNumber:{var C;let e=m.getCategoryFromSection(m.voiceChannelsSectionNumber);if(null==e||e.isEmpty())return null;let n=null==(C=m.getChannelFromSectionRow(t,0))?void 0:C.channel;return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("div",{className:g.sectionDivider}),(0,r.jsx)(d.rj,{category:e,channel:n})]})}case u.wF:{let e=m.getNamedCategoryFromSection(t);if(null==e)return null;return(0,r.jsx)(d.ZP,{channel:e.record,position:e.position,disableManageChannels:y,children:(0,r.jsx)(c.Z,{inlineSpecs:p.MF,arrowAlignment:o.cy.TOP,tutorialId:"organize-by-topic",position:"right"})})}default:{let e=m.getNamedCategoryFromSection(t);if(null==e)return null;return(0,r.jsx)(d.ZP,{channel:e.record,position:e.position,disableManageChannels:y})}}})},429122:function(e,t,n){n.d(t,{ZP:()=>O,dt:()=>m,eo:()=>b}),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(884338),a=n(398758),s=n(9156),c=n(934415),u=n(540126),d=n(700026),p=n(301342),h=n(327530),f=n(776677);let g=i.memo(function(e){let{guildChannels:t,guildChannelsVersion:n}=e,l=i.useMemo(()=>t.getCategoryFromSection(t.voiceChannelsSectionNumber),[t,n]);return null==l?null:(0,r.jsx)(p.Qo,{category:l})});function m(e){let{sectionIndex:t,guildChannels:n,voiceStates:r,selectedChannelId:i,selectedVoiceChannelId:l,optInEnabled:o,visualRefreshEnabled:a,density:s}=e;if(t===n.voiceChannelsSectionNumber)return 44;let{hasDivider:c,canHaveVoiceSummary:p}=(0,d.ie)(n,o,t),f=c?a?9:h.QP:0;if(!p||t===u.wZ)return f;let g=n.getNamedCategoryFromSection(t);return null==g?f:(0,d.V5)({category:g,selectedChannelId:i,selectedVoiceChannelId:l,voiceStates:r})?(a?"cozy"===s?42:34:h.Vf)+f:f}function b(e,t,n){if(e===t.voiceChannelsSectionNumber)return"voice-channels-button";let{hasDivider:r,canHaveVoiceSummary:i}=(0,d.ie)(t,n,e);return"section-footer-".concat(e).concat(r?"-divider":"").concat(i?"-voice-summary":"")}let O=i.memo(function(e){let{sectionIndex:t,guildChannels:n,guildChannelsVersion:p,voiceStates:h,guildId:m,selectedChannelId:b,selectedVoiceChannelId:O,optInEnabled:y}=e,{hasDivider:_,canHaveVoiceSummary:j}=i.useMemo(()=>(0,d.ie)(n,y,t),[n,y,t,p]),v=i.useMemo(()=>t===u.wZ?null:n.getCategoryFromSection(t),[n,t,p]),x=(0,a.DM)(m),C=(0,l.Wu)([s.ZP],()=>{if(null==v||!v.isCollapsed||!j)return[];let e=v.getChannelRecords(),t=[];for(let n of e){if(!n.isGuildVocal())continue;let e=s.ZP.isChannelOrParentOptedIn(m,n.id);(!x||e)&&t.push(n)}return t},[v,j,m,x]),E=i.useMemo(()=>(0,c.c4)({channels:C,selectedChannelId:b,selectedVoiceChannelId:O,voiceStates:h}),[C,b,O,h]);if(t===n.voiceChannelsSectionNumber)return(0,r.jsx)(g,{guildChannels:n,guildChannelsVersion:p});let S=_?(0,r.jsx)("div",{className:f.sectionDivider}):null;return j&&0!==E.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:f.voiceUserSummary,children:(0,r.jsx)(o.ZP,{renderIcon:!0,users:E,max:8,showUserPopout:!0,guildId:m})}),S]}):S})},561788:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(442837),l=n(481060),o=n(471445),a=n(430824),s=n(786994);function c(e){let{channel:t}=e,n=(0,i.e7)([a.Z],()=>a.Z.getGuild(t.guild_id)),c=(0,o.KS)(t,n);return null==c?null:(0,r.jsxs)("div",{className:s.popoutHeader,children:[(0,r.jsx)(c,{className:s.channelIcon}),(0,r.jsx)(l.Text,{variant:"text-md/semibold",color:"interactive-normal",className:s.channelName,children:t.name})]})}},876548:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(829750),l=n(280102);function o(e){let{channel:t,video:n,userCount:o}=e,{limit:a}=(0,i.Z)(t),s=-1,c=!1;return t.userLimit>0&&(s=t.userLimit),n&&a>0&&(c=s<0||a<s,s=s>0?Math.min(s,a):a),(0,r.jsx)(l.Z,{users:o,total:s,videoLimit:c})}},285573:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(239091),c=n(146773),u=n(592125),d=n(984933),p=n(496675),h=n(98597),f=n(473403),g=n(981631),m=n(490897),b=n(55940);let O=(0,c.B)(function(e){let{guild:t,selectedChannelId:l,position:c,disableManageChannels:O,sorting:y,sortingType:_,sortingPosition:j,connectChannelDragSource:v,connectChannelDropTarget:x,tabIndex:C}=e,E=(0,a.e7)([u.Z,d.ZP],()=>{let e=d.ZP.getDirectoryChannelIds(t.id);return 0===e.length?null:u.Z.getChannel(e[0])}),S=(0,a.e7)([u.Z],()=>u.Z.getChannel(null==E?void 0:E.parent_id)),P=l===(null==E?void 0:E.id),I=(0,a.e7)([p.Z],()=>null!=S?p.Z.can(g.Plq.MANAGE_CHANNELS,S):null!=t&&p.Z.can(g.Plq.MANAGE_CHANNELS,t)),N=i.useCallback(e=>{null!=E&&(0,s.jW)(e,async()=>{let{default:e}=await n.e("70623").then(n.bind(n,99334));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={channel:E},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})},[E]);if(null==E)return null;let w=(0,h.jo)(c,j),Z=(0,h.CN)(E,y,_),T=(0,r.jsx)("div",{className:o()(w,{[b.disabled]:Z,[b.selected]:P}),"data-dnd-name":E.name,children:(0,r.jsxs)(f.ZP,{className:b.iconVisibility,channel:E,guild:t,selected:P,onContextMenu:N,forceInteractable:!0,resolvedUnreadSetting:m.i.ONLY_MENTIONS,children:[(0,r.jsx)(h.eP,{channel:E,tabIndex:C}),(0,r.jsx)(h.hR,{channel:E,disableManageChannels:O,tabIndex:C})]})});return I&&(T=x(v(T))),T})},995993:function(e,t,n){n.d(t,{m:()=>C});var r=n(951288),i=n(647438),l=n(399606),o=n(704215),a=n(692547),s=n(481060),c=n(239091),u=n(266454),d=n(45966),p=n(31445),h=n(22082),f=n(703656),g=n(306680),m=n(709054),b=n(540126),O=n(434479),y=n(981631),_=n(176505),j=n(490897),v=n(388032),x=n(885525);function C(e){let{guild:t,selected:C}=e,E=(0,p.Z)(t),S=(0,u.Nj)(o.z.CHANNEL_BROWSER_NEW_BADGE_NUX),P=(0,l.Wu)([h.Z],()=>Array.from(h.Z.getNewChannelIds(t.id)).filter(e=>h.Z.shouldIndicateNewChannel(t.id,e))),I=(0,l.e7)([g.ZP],()=>g.ZP.hasUnread(t.id,j.W.GUILD_ONBOARDING_QUESTION)),N=P.length>b.Cb,w=(0,l.e7)([d.Z,g.ZP],()=>{let e=d.Z.lastFetchedAt(t.id),n=g.ZP.lastMessageId(t.id,j.W.GUILD_ONBOARDING_QUESTION);if(null==n)return!1;let r=m.default.extractTimestamp(n);return null!=e&&e>r}),Z=i.useCallback(()=>{(0,f.uL)(y.Z5c.CHANNEL(t.id,E?_.oC.CUSTOMIZE_COMMUNITY:_.oC.CHANNEL_BROWSER))},[t.id,E]),T=i.useCallback(e=>{(0,c.jW)(e,async()=>{let{default:e}=await n.e("8926").then(n.bind(n,156673));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[t]),A=null;return S&&!I&&!N||C||w||(A=(0,r.jsx)(s.IGR,{color:a.Z.colors.BADGE_BRAND_BG.css,text:v.intl.string(v.t.y2b7CA),className:x.newChannel})),(0,r.jsx)(O.m,{id:"channels-".concat(t.id),renderIcon:e=>(0,r.jsx)(s.H$4,{size:"md",color:"currentColor",className:e}),text:E?v.intl.string(v.t.h9mGOD):v.intl.string(v.t.et6wam),selected:C,onClick:Z,onContextMenu:T,trailing:A})}},315174:function(e,t,n){n.d(t,{ZP:()=>D,wD:()=>w}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(873546),c=n(442837),u=n(481060),d=n(666188),p=n(340541),h=n(159300),f=n(553984),g=n(210887),m=n(695346),b=n(496675),O=n(768581),y=n(598056),_=n(358555),j=n(981631),v=n(647086),x=n(388032),C=n(869786);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function P(e){var t;let{guild:n,controller:i,guildBanner:l,animate:c}=e,{value:u}=i.springs;return(0,r.jsx)(a.animated.div,{className:C.animatedContainer,style:{opacity:u,transform:u.to(e=>"translateY(-".concat((1-e)*90,"px)"))},children:(0,r.jsx)(a.animated.div,{className:o()(C.bannerImage,{[C.bannerImgFullWidth]:s.tq}),style:{transform:u.to(e=>"translateY(".concat((1-e)*90,"px)"))},children:(0,r.jsx)("img",{className:o()(C.bannerImg,{[C.bannerImgFullWidth]:s.tq}),src:null!=(t=O.ZP.getGuildBannerURL({id:n.id,banner:l},c))?t:"",alt:"","aria-hidden":!0})})})}function I(e){let{guild:t,controller:n,hasBanner:i,hasSubheader:l}=e,{value:s}=n.springs,c=t.features.has(j.oNc.DISCOVERABLE),d=(0,r.jsx)("div",{className:C.communityInfo,children:c&&(0,r.jsx)(u.ua7,{text:x.intl.string(x.t.O8lDIy),position:"right",children:e=>(0,r.jsxs)("div",S(E({className:C.communityInfoPill},e),{children:[(0,r.jsx)(u.enf,{size:"custom",color:"currentColor",width:12,height:12,className:C.communityIcon}),(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"none",children:x.intl.string(x.t["B/vjCg"])})]}))})});return l?(0,r.jsx)("div",{className:o()(C.communityInfoContainer,C.hasSubheader),children:d}):(0,r.jsx)(a.animated.div,{className:C.communityInfoContainer,style:i?{opacity:s}:{height:s.to(e=>"".concat(20*e,"px"))},children:d})}function N(){return(0,r.jsx)(u.r7p,{size:"custom",color:"currentColor",className:C.favoritesIcon,height:20,width:20})}let w=e=>{let{open:t}=e,n=t?u.u04:u.CJ0;return(0,r.jsx)(n,{size:"xs",color:"currentColor"})};function Z(e){let{guild:t}=e;return(0,r.jsx)(u.X6q,{variant:"text-md/semibold",lineClamp:1,className:C.name,children:t.name})}function T(e){var t;let{bannerVisible:n,guild:i,onClick:l,onContextMenu:o,ariaControls:a,ariaExpanded:s,guildHeaderRef:c,children:d}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{guild:i,isBannerVisible:n}),i.id===v._&&(0,r.jsx)(N,{}),(0,r.jsx)(Z,{guild:i}),null!=l&&(0,r.jsx)(u.P3F,{className:C.headerButton,onClick:l,onContextMenu:o,"aria-controls":a,"aria-expanded":s,focusProps:{ringTarget:c,offset:4},"aria-label":x.intl.formatToPlainString(x.t.xMXpl5,{guildName:null!=(t=null==i?void 0:i.name)?t:""})}),(0,r.jsx)("div",{className:C.headerChildren,children:d})]})}let A=[v._,j.STv];function R(e){let{bannerVisible:t,guild:l,onClick:o,onContextMenu:a,children:s}=e,d=i.useRef(null),p=(0,c.e7)([g.Z],()=>g.Z.theme),m=i.useCallback(async()=>{let{default:e}=await Promise.all([n.e("87154"),n.e("45141")]).then(n.bind(n,859432));return t=>{let{closePopout:n}=t;return(0,r.jsx)(u.f6W,{theme:p,children:t=>(0,r.jsx)("div",{className:t,children:(0,r.jsx)(e,{onClose:n,guild:l})})})}},[l,p]),O=(0,c.e7)([b.Z],()=>(0,h.b)(b.Z,l)),y=i.useCallback(()=>{O?(0,u.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return t=>(0,r.jsx)(e,S(E({},t),{guild:l,source:j.t4x.GUILD_HEADER}))}):(0,u.ZDy)(async()=>{let{default:e}=await n.e("88358").then(n.bind(n,598402));return t=>(0,r.jsx)(e,E({},t))})},[O,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.KeG,{targetElementRef:d,renderPopout:m,position:"bottom",align:"left",animation:u.yRy.Animation.SCALE,spacing:4,children:e=>{var n;return(0,r.jsxs)(u.P3F,S(E({innerRef:d,className:C.guildDropdown,"aria-label":x.intl.formatToPlainString(x.t.xMXpl5,{guildName:null!=(n=null==l?void 0:l.name)?n:""}),onContextMenu:a},e),{onClick:t=>{var n;null==e||null==(n=e.onClick)||n.call(e,t),null==o||o(t)},children:[(0,r.jsxs)("div",{className:C.guildBadgeAndName,children:[(0,r.jsx)(_.Z,{guild:l,isBannerVisible:t}),l.id===v._&&(0,r.jsx)(N,{}),(0,r.jsx)(Z,{guild:l})]}),(0,r.jsx)("div",{className:C.headerChildren,children:s})]}))}}),!A.includes(l.id)&&(0,r.jsx)(u.ua7,{text:x.intl.string(x.t.Sd8Ix8),position:"bottom",children:e=>(0,r.jsx)(u.P3F,S(E({className:C.inviteButton},e),{onClick:()=>{var t;null==(t=e.onClick)||t.call(e),y()},children:(0,r.jsx)(u.ejJ,{size:"refresh_sm",color:"currentColor"})}))}),l.id===j.STv&&(0,r.jsx)(f.p,{})]})}let D=i.memo(function(e){let{ref:t,bannerVisible:n,controller:l,className:a,onClick:c,onContextMenu:h,onMouseDown:f,disableBannerAnimation:g,"aria-expanded":b,"aria-controls":_,guild:v,guildBanner:x,animationOverlayHeight:N,children:w,headerClassName:Z,communityInfoVisible:A,hasSubheader:D}=e,L=v.features.has(j.oNc.ANIMATED_BANNER),k=(0,d.Z)(v),U=!k&&(0,y.Z)(v),G=!k&&A,B=(0,O.xR)(x)&&L&&!g,[F,V]=i.useState(!1),H=i.useRef(!1),z=i.useRef(null),W=null!=t?t:z,K=i.useRef(void 0),Y=m.QK.getSetting();i.useEffect(()=>{if(B&&n&&!H.current&&Y)return V(!0),K.current=setTimeout(()=>{V(!1)},5e3),()=>{clearTimeout(K.current)}},[B,n,Y]),i.useEffect(()=>{H.current=n},[n]);let q=()=>{let{renderBanner:t,guildBanner:n}=e;return null!=n&&!t},{entrypoints:X}=(0,p._k)({location:"guild_header"}),Q={bannerVisible:n,guild:v,onClick:c,onContextMenu:h,ariaControls:_,ariaExpanded:b,guildHeaderRef:W};return(0,r.jsx)(u.f6W,{theme:n?j.BRd.DARK:void 0,children:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{"data-has-banner":q(),"data-banner-visible":n,ref:W,className:o()(a,{[C.container]:!0,[C.clickable]:!X&&null!=c,[C.selected]:!X&&null!=c&&b,[C.hasBanner]:q(),[C.bannerVisible]:n,[e]:!1,[C.communityInfoVisible]:G||D&&U,[C.invitesRefresh]:X}),onMouseDown:f,onClick:X?void 0:c,onContextMenu:h,children:[(0,r.jsxs)("header",{className:o()(C.header,Z,{[C.themedHeaderMobile]:s.tq}),children:[(0,r.jsx)("div",{className:o()(C.headerContent,C.primaryInfo),children:X?(0,r.jsx)(R,S(E({},Q),{children:w})):(0,r.jsx)(T,S(E({},Q),{children:w}))}),U&&(0,r.jsx)(I,{guild:v,controller:l,hasBanner:null!=x,hasSubheader:null!=D&&D})]}),null!=x?(0,r.jsx)(P,{guild:v,controller:l,guildBanner:x,animate:F}):null,(0,r.jsx)(M,{controller:l})]}),B&&q()?(0,r.jsx)("div",{className:C.animatedBannerHoverLayer,onMouseEnter:()=>{V(!0),clearTimeout(K.current)},onMouseLeave:()=>V(!1),style:{height:N}}):null]})})});function M(e){let{controller:t}=e,{theme:n}=(0,u.TCT)(),i=t.springs.value;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.animated.div,{className:C.headerEllipseBackdrop,style:{opacity:i.to(e=>.5*e)}}),(0,r.jsx)(a.animated.div,{className:C.headerEllipseForeground,style:{opacity:i.to(e=>e)}}),(0,r.jsx)(a.animated.div,{className:C.headerGlass,style:{opacity:i.to(e=>(1-e)*6),filter:(0,u.apv)(n)?i.to(e=>"brightness(".concat(.75+.25*e,")")):void 0}})]})}},910595:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(703656),o=n(434479),a=n(981631),s=n(176505),c=n(388032);function u(e){let{guild:t,selected:n}=e;return(0,r.jsx)(o.m,{id:"home-tab-".concat(t.id),renderIcon:e=>(0,r.jsx)(i.Vy8,{size:"md",color:"currentColor",className:e}),text:c.intl.string(c.t.VbpLyc),selected:n,onClick:function(){(0,l.uL)(a.Z5c.CHANNEL(t.id,s.oC.GUILD_HOME))}})}},120818:function(e,t,n){n.d(t,{T:()=>O});var r=n(951288),i=n(647438),l=n(91192),o=n(442837),a=n(481060),s=n(44315),c=n(563534),u=n(846121),d=n(703656),p=n(259580),h=n(981631),f=n(176505),g=n(388032),m=n(46674);function b(e,t){return(0,r.jsx)(a.Text,{variant:"text-xs/bold",color:"text-default",children:e},t)}let O=i.memo(function(e){var t,n;let{guild:O}=e,y=(0,o.e7)([c.Z],()=>c.Z.getNewMemberActions(O.id),[O.id]),_=(0,o.e7)([u.Z],()=>u.Z.getCompletedActions(O.id)),j=i.useMemo(()=>{if(null==y||null==_)return 0;let e=0;return y.forEach(t=>{null!=_[t.channelId]&&e++}),e},[_,y]),v=null==y?0:y.length,x=(0,l.JA)("progress-bar-".concat(O.id));return(0,r.jsxs)("li",{children:[(0,r.jsxs)(a.P3F,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},x),n=n={role:"button",focusProps:{offset:{right:4}},className:m.progressBarContainer,onClick:function(){(0,d.uL)(h.Z5c.CHANNEL(O.id,f.oC.GUILD_HOME))},children:[(0,r.jsxs)("div",{className:m.progressBarText,children:[(0,r.jsx)(a.X6q,{variant:"heading-sm/bold",children:g.intl.string(g.t.SnrR39)}),(0,r.jsxs)("div",{className:m.rightContainer,children:[(0,r.jsx)(a.Text,{variant:"text-xs/medium",color:"text-muted",className:m.rightText,children:g.intl.format(g.t.eqZ1lZ,{numberHook:b,total:v.toString(),completed:j.toString()})}),(0,r.jsx)(p.Z,{className:m.arrow,width:16,height:16,direction:p.Z.Directions.RIGHT})]})]}),(0,r.jsx)(a.Exd,{className:m.progressBar,foregroundGradientColor:[(0,s.Lq)(h.Ilk.GREEN_300),(0,s.Lq)(h.Ilk.GREEN_230)],percent:j/v*100+3,animate:!0})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)),(0,r.jsx)("div",{role:"separator",className:m.divider})]})})},61642:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(239091),l=n(396828),o=n(703656),a=n(434479),s=n(981631),c=n(176505),u=n(388032);function d(e){let{guild:t,selected:d}=e;return(0,r.jsx)(a.m,{id:"subscriptions-".concat(t.id),renderIcon:e=>(0,r.jsx)(l.Z,{className:e}),text:u.intl.string(u.t["KzCF//"]),selected:d,onClick:()=>{(0,o.uL)(s.Z5c.CHANNEL(t.id,c.oC.ROLE_SUBSCRIPTIONS))},onContextMenu:e=>{null!=t&&(0,i.jW)(e,async()=>{let{default:e}=await n.e("28249").then(n.bind(n,613329));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}})}},848442:function(e,t,n){n.d(t,{Z:()=>Z});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(399606),a=n(704215),s=n(433517),c=n(481060),u=n(239091),d=n(607070),p=n(367907),h=n(357352),f=n(652515),g=n(550951),m=n(886176),b=n(266454),O=n(703656),y=n(984933),_=n(430824),j=n(626135),v=n(434479),x=n(981631),C=n(176505),E=n(629481),S=n(388032),P=n(296553);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function w(e){let{guildId:t,selected:n,handleClick:i}=e,u=(0,f.RF)(t,"guild_shop_channel_row"),g=(0,o.e7)([_.Z],()=>_.Z.getGuild(t)),C=(null==g?void 0:g.features.has(x.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!0,w="false"===s.K.get(E.tM,"false"),Z=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion);return(0,r.jsx)(v.m,{id:"shop-".concat(t),className:l()(P.previewChannelRow,{[P.selected]:n,[P.phantomPreview]:w}),innerClassName:P.previewChannelRowContent,renderIcon:e=>(0,r.jsx)(m.Z,{width:20,height:20,className:l()([e,P.shopIcon])}),text:S.intl.string(S.t.al5EXF),selected:n,onClick:i,trailing:(0,r.jsxs)("div",{className:P.gifSection,children:[Z?(0,r.jsx)(c.IGR,{color:c.TVs.unsafe_rawColors.BRAND_260.css,text:S.intl.string(S.t.y2b7CA),className:P.newBadge}):(0,r.jsx)("img",{src:(0,h.b)("server_products/storefront/money.gif"),className:P.money,alt:""}),n&&(0,r.jsx)(c.P3F,{className:P.closeButton,onClick:e=>{if(e.stopPropagation(),(0,b.Q3)(a.z.SERVER_SHOP_PHANTOM_PREVIEW),j.default.track(x.rMx.GUILD_SHOP_PREVIEW_CLICK,N(I({},(0,p.hH)(t)),{action_taken:E.mz.DISMISS_CHANNEL_ROW})),!u||!C){var n;(0,O.dL)(x.Z5c.CHANNEL(t,null==(n=y.ZP.getDefaultChannel(t))?void 0:n.id))}},"aria-label":S.intl.string(S.t.cpT0Cg),children:(0,r.jsx)(c.k$p,{size:"xs",color:"currentColor"})})]})})}function Z(e){let{guild:t,selected:i}=e,l=(0,g.g)(t,"guild_shop_channel_row"),o=()=>{s.K.set(E.tM,"true"),(0,O.uL)(x.Z5c.CHANNEL(t.id,C.oC.GUILD_SHOP))};return l?(0,r.jsx)(w,{guildId:t.id,selected:i,handleClick:o}):(0,r.jsx)(v.m,{id:"shop-".concat(t.id),renderIcon:e=>(0,r.jsx)(m.Z,{width:20,height:20,className:e}),text:S.intl.string(S.t.al5EXF),selected:i,onClick:o,onContextMenu:e=>{null!=t&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("66050").then(n.bind(n,376573));return n=>(0,r.jsx)(e,N(I({},n),{guild:t}))})}})}},53425:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(592125),u=n(938475),d=n(823379),p=n(734190),h=n(388032),f=n(113914);let g=i.memo(function(e){let{channel:t,selectedChannel:n,selectedVoiceChannelId:i,sortedThreadIds:l,withGuildIcon:g}=e,{density:m}=(0,s.TCT)(),b=(0,a.Wu)([c.Z],()=>l.map(e=>c.Z.getChannel(e)).filter(d.lm),[l]),O=(0,a.e7)([u.ZP],()=>{let e=b[b.length-1];if(null==e)return 0;let t=u.ZP.getVoiceStates(e.guild_id)[e.id];return null==t||0===t.length?0:i!==e.id?40:32*t.length+8});return(0,r.jsx)("li",{className:f.container,children:(0,r.jsxs)("ul",{role:"group","aria-label":h.intl.formatToPlainString(h.t.EiyIi4,{channelName:t.name}),children:[(0,r.jsx)("div",{className:o()(f.spineBorder,{[f.spineBorderWithGuildIcon]:g}),style:{bottom:("cozy"===m?28:24)+O}}),b.map((e,t)=>(0,r.jsx)(p.Z,{thread:e,isSelectedChannel:(null==n?void 0:n.id)===e.id,isSelectedVoice:i===e.id,isLast:t===b.length-1,withGuildIcon:g},e.id))]})})})},734190:function(e,t,n){n.d(t,{Z:()=>T});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(91192),s=n(442837),c=n(481060),u=n(493683),d=n(239091),p=n(111028),h=n(569471),f=n(488131),g=n(592125),m=n(306680),b=n(979651),O=n(938475),y=n(714794),_=n(876548),j=n(25601),v=n(207055),x=n(981631),C=n(124368),E=n(388032),S=n(55940),P=n(509612),I=n(113914);function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(e){let{style:t,withGuildIcon:n,inverted:i}=e,l={className:o()(I.spine,{[I.spineWithGuildIcon]:n},{[I.invertedSpine]:i}),style:t},{density:a}=(0,c.TCT)();switch(a){case"cozy":return(0,r.jsxs)("svg",w(N({},l),{width:"10",height:"20",viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0 15H2c0 1.6569 1.3432 3 3 3v2c-2.7614 0-5-2.2386-5-7ZM0 4H2V15H0V4ZM2 4H0C0 3.4477.4477 3 1 3c.5523 0 1 .4477 1 1Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M6 20V18H9v2H6Zm3 0V18s1 0 1 1-1 1-.989 1.004ZM6 18v2H5V18H6Z",fill:"currentColor"})]}));case"compact":return(0,r.jsxs)("svg",w(N({},l),{width:"10",height:"19",viewBox:"0 0 10 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0 11H2c0 1.6569 1.3432 3 3 3v2c-2.7614 0-5-2.2386-5-7ZM0 0H2V11H0V0ZM2 0H0C0-.5523.4477-1 1-1c.5523 0 1 .4477 1 1Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M6 16V14H9v2H6Zm3 0V14s1 0 1 1-1 1-.989 1.004ZM6 14v2H5V14H6Z",fill:"currentColor"})]}));default:return(0,r.jsxs)("svg",w(N({},l),{width:"10",height:"19",viewBox:"0 0 10 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0 13H2c0 1.6569 1.3432 3 3 3v2c-2.7614 0-5-2.2386-5-7ZM0 2H2V13H0V2ZM2 2H0C0 1.4477.4477 1 1 1c.5523 0 1 .4477 1 1Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M6 18V16H9v2H6Zm3 0V16s1 0 1 1-1 1-.989 1.004ZM6 16v2H5V16H6Z",fill:"currentColor"})]}))}}let T=i.memo(function(e){let{thread:t,isSelectedChannel:l,isSelectedVoice:I,isLast:T,withGuildIcon:A}=e,R=(0,s.e7)([O.ZP],()=>O.ZP.getVoiceStatesForChannel(t),[t]),D=(0,s.e7)([b.Z],()=>b.Z.hasVideo(t.id)),{unread:M,mentionCount:L,isMentionLowImportance:k}=(0,s.cj)([m.ZP],()=>({unread:m.ZP.hasUnread(t.id),mentionCount:m.ZP.getMentionCount(t.id),isMentionLowImportance:m.ZP.getIsMentionLowImportance(t.id)})),U=(0,s.e7)([h.Z],()=>h.Z.isMuted(t.id)),G=i.useCallback(e=>{(0,f.ok)(t,!e.shiftKey,C.on.CHANNEL_LIST)},[t]),B=i.useCallback(()=>{u.Z.preload(t.guild_id,t.id)},[t.guild_id,t.id]),F=i.useCallback(e=>{let i=g.Z.getChannel(t.id);null!=i&&(0,d.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,r.jsx)(e,w(N({},t),{channel:i}))})},[t.id]),V=null==R?0:R.length,H=(0,a.JA)(t.id),{role:z}=H,W=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(H,["role"]),K=i.useRef(null),Y=L>0?E.intl.formatToPlainString(E.t["ZL7+Iy"],{channelName:t.name,mentionCount:L}):M?E.intl.formatToPlainString(E.t.YlVvmZ,{channelName:t.name}):E.intl.formatToPlainString(E.t["0nZpiI"],{channelName:t.name});return(0,r.jsxs)("li",{role:z,className:o()(S.containerDefault,{[S.selected]:l}),children:[(0,r.jsx)(Z,{withGuildIcon:A}),T?null:(0,r.jsx)(Z,{withGuildIcon:A,inverted:!0,style:{transform:"rotateX(180deg) translateY(-9px)"}}),(0,r.jsx)(c.tEY,{focusTarget:K,ringTarget:K,offset:{top:2,bottom:2,right:4},children:(0,r.jsxs)("div",{className:o()(S.iconVisibility,P.wrapper,P.typeThread,{[P.modeSelected]:l,[P.modeMuted]:!l&&U,[P.modeUnreadImportant]:!U&&!l&&M,[P.withGuildIcon]:A}),onMouseDown:B,onContextMenu:F,children:[!M||U||l?null:(0,r.jsx)("div",{className:o()(P.unread,P.unreadImportant)}),(0,r.jsx)(c.P3F,w(N({},W),{innerRef:K,className:P.link,onClick:G,"aria-label":Y,focusProps:{enabled:!1},children:(0,r.jsxs)("div",{className:o()(P.linkTop,P.__invalid_threadMainContent),children:[(0,r.jsx)(p.Z,{className:P.name,"aria-hidden":!0,children:t.name}),(0,r.jsxs)("div",{className:P.children,children:[V>0&&t.userLimit>0?(0,r.jsx)(_.Z,{userCount:V,video:D,channel:t}):null,(0,y.Z)(L)?(0,r.jsx)(j.Z,{mentionsCount:L,isMentionLowImportance:k}):null]})]})}))]})}),(0,r.jsx)(v.Z,{channel:t,collapsed:!I,collapsedMax:6,voiceStates:R,location:x.Sbl.GUILD_CHANNEL_LIST})]})})},25601:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288);n(647438);var i=n(831209),l=n(481060),o=n(655645);function a(e){let{mentionsCount:t,isMentionLowImportance:n}=e;return(0,r.jsx)("div",{className:o.mentionsBadge,"aria-hidden":!0,children:(0,r.jsx)(l.mAB,{count:t,color:n?i.Z.BACKGROUND_ACCENT:i.Z.STATUS_DANGER})})}},591190:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(718269);let a=()=>(0,r.jsx)("div",{className:o.spacer}),s=()=>(0,r.jsx)("div",{className:o.category}),c=e=>{let{width:t}=e;return(0,r.jsxs)("div",{className:o.channel,children:[(0,r.jsx)("div",{className:o.channelIcon}),(0,r.jsx)("div",{className:o.channelName,style:{width:"".concat(t,"px")}})]})},u=e=>{let{withBannerPadding:t}=e;return(0,r.jsxs)("div",{className:l()(o.container,{[o.bannerPadding]:t}),children:[(0,r.jsx)(s,{}),(0,r.jsx)(c,{width:100}),(0,r.jsx)(c,{width:74}),(0,r.jsx)(c,{width:100}),(0,r.jsx)(c,{width:70}),(0,r.jsx)(c,{width:112}),(0,r.jsx)(c,{width:175}),(0,r.jsx)(a,{}),(0,r.jsx)(s,{}),(0,r.jsx)(c,{width:100}),(0,r.jsx)(c,{width:74}),(0,r.jsx)(c,{width:100}),(0,r.jsx)(c,{width:70}),(0,r.jsx)(c,{width:112}),(0,r.jsx)(c,{width:56})]})}},424785:function(e,t,n){n.d(t,{Z:()=>q}),n(388685),n(415506);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(475179),u=n(239091),d=n(146773),p=n(888651),h=n(201895),f=n(111028),g=n(305325),m=n(281956),b=n(66999),O=n(378844),y=n(359110),_=n(922482),j=n(431328),v=n(501655),x=n(427679),C=n(368442),E=n(201469),S=n(680089),P=n(592125),I=n(430824),N=n(607744),w=n(496675),Z=n(306680),T=n(9156),A=n(979651),R=n(934415),D=n(98597),M=n(648501),L=n(473403),k=n(207055),U=n(981631),G=n(647086),B=n(388032),F=n(55940),V=n(556295);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){H(e,t,n[t])})}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class K extends D.ZP{getVoiceStatesCount(){var e;let{voiceStates:t}=this.props;return null!=(e=null==t?void 0:t.length)?e:0}isFull(){let{channel:e}=this.props;return(0,R.rY)(e,A.Z,I.Z)}getModeClass(){let{position:e,sortingPosition:t,isUserOver:n}=this.props;if(n)return F.containerUserOver;if(null!=t)if(e>t)return F.containerDragAfter;else return F.containerDragBefore;return F.containerDefault}renderVoiceUsers(){let{channel:e,collapsed:t,tabIndex:n,speakerVoiceStates:i,numAudience:l}=this.props;return(0,r.jsx)(k.Z,{channel:e,voiceStates:i,collapsed:t,tabIndex:n,location:U.Sbl.GUILD_CHANNEL_LIST,numAudience:l})}renderChannelInfo(){return this.props.channelInfo}render(){let{channel:e,selected:t,connected:n,locked:i,connectChannelDropTarget:l,connectChannelDragSource:a,connectUserDropTarget:c,connectDragPreview:u,canReorderChannel:d,canMoveMembers:p,stageInstance:f,isSubscriptionGated:g,needSubscriptionToAccess:m,unread:b,resolvedUnreadSetting:O,mentionCount:y,isFavoriteSuggestion:_}=this.props,{shouldShowGuildVerificationPopout:j}=this.state,v=this.getVoiceStatesCount(),x=(0,r.jsxs)("li",{className:o()(this.getModeClass(),{[F.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:[(0,r.jsx)(s.yRy,{targetElementRef:this.channelItemRef,position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:j,children:()=>(0,r.jsx)(s.ua7,{text:this.getTooltipText(),children:l=>{var{onClick:a,onContextMenu:s}=l,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(l,["onClick","onContextMenu"]);return(0,r.jsxs)(L.ZP,W(z({ref:this.channelItemRef,className:F.iconVisibility,iconClassName:o()({[V.iconLive]:null!=f}),channel:e,selected:!_&&t,connected:n,unread:n?b:void 0,resolvedUnreadSetting:O,mentionCount:y,locked:i,onClick:()=>{this.handleClick(),null==a||a()},onContextMenu:e=>{this.handleContextMenu(e),null==s||s()},connectDragPreview:u,subtitle:this.renderSubtitle(),isFavoriteSuggestion:_,"aria-label":(0,h.ZP)({channel:e,unread:b,mentionCount:y,userCount:v,isSubscriptionGated:g,needSubscriptionToAccess:m})},c),{children:[_&&this.renderAcceptSuggestionButton(),_&&this.renderRemoveSuggestionButton(),!_&&this.renderOpenChatButton(),!_&&this.renderInviteButton(),!_&&this.renderEditButton(),!_&&this.renderChannelInfo()]}))}})}),this.renderVoiceUsers()]});return p&&(x=c(x)),d&&(x=l(a(x))),x}constructor(...e){super(...e),H(this,"channelItemRef",i.createRef()),H(this,"state",{shouldShowGuildVerificationPopout:!1}),H(this,"closeGuildVerificationPopout",()=>{this.setState({shouldShowGuildVerificationPopout:!1})}),H(this,"handleClick",()=>{let{channel:e,locked:t,connected:n,unverifiedAccount:r}=this.props,i=e.getGuildId();null!=i&&(0,m.n)(i)&&(0,g.hk)(i),r&&this.setState({shouldShowGuildVerificationPopout:!0}),t||n||e.isRoleSubscriptionTemplatePreviewChannel()||(0,_.Cq)(e),__OVERLAY__||(0,y.Kh)(e.id)}),H(this,"handleClickChat",()=>{let{channel:e,locked:t}=this.props;__OVERLAY__||t||(0,y.Kh)(e.id)}),H(this,"handleContextMenu",e=>{let{channel:t}=this.props,i=I.Z.getGuild(t.getGuildId());null!=i&&(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331"),n.e("81070")]).then(n.bind(n,213202));return n=>(0,r.jsx)(e,W(z({},n),{channel:t,guild:i}))})}),H(this,"renderPopout",()=>{let{channel:e}=this.props,{shouldShowGuildVerificationPopout:t}=this.state;if(t)return(0,r.jsx)(O.Z,{type:O.R.VOICE,guildId:e.guild_id,closePopout:this.closeGuildVerificationPopout});throw Error("VoiceChannel.renderPopout: There must always be something to render")}),H(this,"renderOpenChatButton",()=>{let{channel:e,locked:t,forceShowButtons:n}=this.props;if(!t)return(0,r.jsx)(s.ua7,{text:B.intl.string(B.t.ZXxLQk),children:t=>{let{onMouseEnter:i,onMouseLeave:l,onFocus:a,onBlur:u}=t;return(0,r.jsx)(s.P3F,{className:o()(F.iconItem,n?F.alwaysShown:null),onClick:()=>{c.Z.updateChatOpen(e.id,!0),this.handleClickChat()},"aria-label":B.intl.string(B.t.ZXxLQk),onMouseEnter:i,onMouseLeave:l,onFocus:a,onBlur:u,children:(0,r.jsx)(s.kBi,{size:"xs",color:"currentColor",className:F.actionIcon})})}})}),H(this,"getTooltipText",()=>{let{connected:e}=this.props;return this.isFull()&&!e?B.intl.string(B.t.rZfiNj):null}),H(this,"renderSubtitle",()=>{var e;let t=null==(e=this.props.stageInstance)?void 0:e.topic;return null==t?null:(0,r.jsx)(f.Z,{children:t})})}}let Y=(0,d.B)((0,p.Q)(K));function q(e){let{guild:t,channel:n,disableSorting:i,isFavoriteCategory:l,collapsed:o,voiceStates:s}=e,c=(0,a.cj)([Z.ZP],()=>({unread:Z.ZP.hasUnread(n.id),mentionCount:Z.ZP.getMentionCount(n.id)})),u=(0,a.e7)([T.ZP],()=>T.ZP.resolveUnreadSetting(n)),d=(0,a.cj)([P.Z,N.Z,w.Z],()=>{let e=P.Z.getChannel(n.parent_id),r=N.Z.getCheck(n.guild_id);return{canManageChannel:null!=t&&w.Z.can(U.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==i&&(t.id===G._||(null!=e?w.Z.can(U.Plq.MANAGE_CHANNELS,e):w.Z.can(U.Plq.MANAGE_CHANNELS,t))),canMoveMembers:w.Z.can(U.Plq.MOVE_MEMBERS,n),locked:!w.Z.can(U.Plq.CONNECT,n),bypassLimit:w.Z.can(U.Plq.MOVE_MEMBERS,n),unverifiedAccount:!r.canChat}}),p=(0,a.e7)([S.Z],()=>S.Z.isCollapsed(n.parent_id)),h=(0,E.ZP)(n.id),f=(0,a.e7)([x.Z],()=>x.Z.getStageInstanceByChannel(n.id),[n.id]),g=(0,j.Rk)(n.id,v.pV.AUDIENCE),{isSubscriptionGated:m,needSubscriptionToAccess:O}=(0,b.Z)(n.id),y=(0,a.e7)([T.ZP],()=>T.ZP.isFavorite(t.id,n.id)),_=(0,C.xJ)(n.id),I=(0,M.Z)({channel:n,isChannelSelected:!1,isChannelCollapsed:o,voiceStates:s,isSubscriptionGated:m,needSubscriptionToAccess:O,enableConnectedUserLimit:_||n.userLimit>0&&n.userLimit<U.xGv}),A=e.connected&&null==I;return(0,r.jsx)(Y,W(z({categoryCollapsed:p,connectAction:h,numAudience:g,stageInstance:f,isSubscriptionGated:m,needSubscriptionToAccess:O},c,d,e),{isFavoriteSuggestion:l&&!y,forceShowButtons:A,channelInfo:I,resolvedUnreadSetting:u}))}},770202:function(e,t,n){n.d(t,{Z:()=>S}),n(415506),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(493683),c=n(239091),u=n(146773),d=n(201895),p=n(703656),h=n(592125),f=n(430824),g=n(496675),m=n(98597),b=n(473403),O=n(981631),y=n(490897),_=n(55940);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function x(e,t){let n=t.getGuildId();if(null==n)throw Error("TextChannel, preloadChannel: Channel does not have a guildId");s.Z.preload(n,t.id)}class C extends m.ZP{render(){let{channel:e,selected:t,connectChannelDropTarget:n,connectChannelDragSource:i,connectDragPreview:l,canReorderChannel:a}=this.props,s=(0,r.jsx)("li",{className:o()(this.getClassName(),{[_.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:(0,r.jsxs)(b.ZP,{className:_.iconVisibility,channel:e,selected:t,onClick:this.handleClick,onMouseDown:x,onContextMenu:this.handleContextMenu,connectDragPreview:a?l:null,"aria-label":(0,d.ZP)({channel:e}),resolvedUnreadSetting:y.i.ONLY_MENTIONS,children:[this.renderInviteButton(),this.renderEditButton()]})});return a?n(i(s)):s}constructor(...e){super(...e),j(this,"handleContextMenu",e=>{let{channel:t}=this.props,i=f.Z.getGuild(t.getGuildId());null!=i&&(0,c.jW)(e,async()=>{let{default:e}=await n.e("99905").then(n.bind(n,649400));return n=>(0,r.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(v({},n),{channel:t,guild:i}))})}),j(this,"handleClick",e=>{!function(e){let t=e.getGuildId();if(null==t)throw Error("TextChannel, transitionTo: Channel does not have a guildId");(0,p.uL)(O.Z5c.CHANNEL(t,e.id),{state:{analyticsSource:{page:O.ZY5.GUILD_CHANNEL,section:O.jXE.CHANNEL_LIST,object:O.qAy.CHANNEL}}})}(e)})}}let E=(0,u.B)(C),S=i.memo(function(e){let{channel:t,guild:n,disableSorting:i}=e,l=(0,a.cj)([h.Z,g.Z],()=>{let e=h.Z.getChannel(t.parent_id);return{canManageChannel:g.Z.can(O.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==i&&null!=e?g.Z.can(O.Plq.MANAGE_CHANNELS,e):g.Z.can(O.Plq.MANAGE_CHANNELS,n)}});return(0,r.jsx)(E,v({},l,e))})},437621:function(e,t,n){n.d(t,{Z:()=>G}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(493683),u=n(239091),d=n(146773),p=n(595519),h=n(619915),f=n(622822),g=n(201895),m=n(873696),b=n(66999),O=n(340541),y=n(22082),_=n(665906),j=n(592125),v=n(430824),x=n(496675),C=n(306680),E=n(9156),S=n(594174),P=n(109446),I=n(98597),N=n(648501),w=n(473403),Z=n(304471),T=n(981631),A=n(647086),R=n(55940);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){D(e,t,n[t])})}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class k extends I.ZP{componentWillUnmount(){this.resetTextChannelPopoutTimers()}resetTextChannelPopoutTimers(){clearTimeout(this.enterTimer),clearTimeout(this.exitTimer)}renderChannelInfo(){let{channelInfo:e}=this.props;return null==e?null:(0,r.jsx)("div",{className:R.channelInfo,children:e})}render(){let{channel:e,guild:t,selected:n,muted:i,unread:l,hasActiveThreads:a,hasMoreActiveThreads:c,mentionCount:u,connectChannelDropTarget:d,connectChannelDragSource:p,connectDragPreview:h,canReorderChannel:f,isSubscriptionGated:b,isFavoriteSuggestion:y,subtitle:_,forceTopLevelThread:j,embeddedApps:v,resolvedUnreadSetting:x,withGuildIcon:C,enableActivities:E}=this.props,S=(0,O.jW)({location:"text_channel"}).entrypoints,P=E&&null!=v&&v.length>0,I=(0,m.D)(_),N=(0,r.jsx)("li",{className:o()(this.getClassName(),{[R.disabled]:this.isDisabled(),[R.selected]:n}),"data-dnd-name":e.name,onMouseEnter:c||P?this.handleMouseEnter:void 0,onMouseLeave:c||P?this.handleMouseLeave:void 0,children:(0,r.jsx)(s.yRy,{targetElementRef:this.channelItemRef,position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.handleClosePopout,shouldShow:c&&this.state.shouldShowThreadsPopout||P&&this.state.shouldShowActivities,children:()=>(0,r.jsxs)(w.ZP,{ref:this.channelItemRef,className:R.iconVisibility,channel:e,guild:t,selected:!y&&n,muted:i,unread:l,mentionCount:u,hasActiveThreads:a,subtitle:null==I?void 0:I.subtitle,subtitleColor:null==I?void 0:I.color,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,connectDragPreview:f?h:null,isFavoriteSuggestion:y,channelTypeOverride:j?T.d4z.GUILD_TEXT:void 0,resolvedUnreadSetting:x,withGuildIcon:C,"aria-label":(0,g.ZP)({channel:e,unread:l,mentionCount:u,isSubscriptionGated:b}),children:[y&&(0,r.jsxs)(r.Fragment,{children:[this.renderAcceptSuggestionButton(),this.renderRemoveSuggestionButton()]}),!y&&(0,r.jsxs)(r.Fragment,{children:[this.renderChannelInfo(),S&&this.renderOptionsButton({onContextMenu:this.handleContextMenu}),!S&&(0,r.jsxs)(r.Fragment,{children:[this.renderInviteButton(),this.renderEditButton()]})]})]})})});return f?d(p(N)):N}constructor(...e){super(...e),D(this,"state",{shouldShowThreadsPopout:!1,shouldShowActivities:!1}),D(this,"channelItemRef",i.createRef()),D(this,"enterTimer",0),D(this,"exitTimer",0),D(this,"handleMouseEnter",()=>{(this.props.canShowThreadPreviewForUser||null!=this.props.embeddedApps)&&(this.resetTextChannelPopoutTimers(),this.enterTimer=setTimeout(()=>{null!=this.props.embeddedApps&&this.props.embeddedApps.length>0?this.setState({shouldShowActivities:!0}):this.props.canShowThreadPreviewForUser&&this.setState({shouldShowThreadsPopout:!0})},200))}),D(this,"handleMouseLeave",()=>{this.resetTextChannelPopoutTimers(),this.exitTimer=setTimeout(()=>{this.state.shouldShowActivities&&this.setState({shouldShowActivities:!1}),this.state.shouldShowThreadsPopout&&this.setState({shouldShowThreadsPopout:!1})},250)}),D(this,"handleThreadsPopoutClose",()=>{this.resetTextChannelPopoutTimers(),this.setState({shouldShowThreadsPopout:!1})}),D(this,"handleActivitiesPopoutClose",()=>{this.resetTextChannelPopoutTimers(),this.setState({shouldShowActivities:!1})}),D(this,"handleClosePopout",()=>{this.state.shouldShowActivities&&this.handleActivitiesPopoutClose(),this.state.shouldShowThreadsPopout&&this.handleThreadsPopoutClose()}),D(this,"handleMouseDown",()=>{this.handleActivitiesPopoutClose(),this.handleThreadsPopoutClose();let{channel:e}=this.props,t=e.getGuildId();c.Z.preload(null!=t?t:T.ME,e.id)}),D(this,"renderPopout",e=>{let{channel:t,sorting:n,embeddedApps:i}=this.props,{shouldShowActivities:l}=this.state;return t.isModeratorReportChannel()||(0,f.aC)(t)&&(0,f.dl)()?null:null!=i&&i.length>0&&l&&!n?(0,r.jsx)(Z.Z,{onAction:this.handleActivitiesPopoutClose,channel:t}):(0,r.jsx)(P.Z,L(M({},e),{channel:this.props.channel}))}),D(this,"handleContextMenu",e=>{let{channel:t}=this.props;if(t.type===T.d4z.GROUP_DM)return void(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("57789"),n.e("81239")]).then(n.bind(n,354741));return n=>(0,r.jsx)(e,L(M({},n),{channel:t,selected:!0}))});if(t.type===T.d4z.DM){let i=S.default.getUser(t.getRecipientId());null!=i&&(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("57789"),n.e("56826"),n.e("69497")]).then(n.bind(n,131404));return n=>(0,r.jsx)(e,L(M({},n),{user:i,channel:t,showModalItems:!1}))});return}if(t.isModeratorReportChannel())return void(0,u.jW)(e,async()=>{let{default:e}=await n.e("86715").then(n.bind(n,466676));return n=>(0,r.jsx)(e,L(M({},n),{channel:t}))});let i=v.Z.getGuild(t.getGuildId());null!=i&&(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("44011")]).then(n.bind(n,373651));return n=>(0,r.jsx)(e,L(M({},n),{channel:t,guild:i}))})})}}let U=(0,d.B)(k);function G(e){let{channel:t,guild:n,disableSorting:i,isFavoriteCategory:l,muted:o,selected:s}=e,{hasActiveThreads:c,hasMoreActiveThreads:u}=(0,_.JQ)(t),d=(0,a.cj)([C.ZP],()=>({unread:C.ZP.hasUnread(t.id),ackMessageId:C.ZP.ackMessageId(t.id),isLowImportanceMention:C.ZP.getIsMentionLowImportance(t.id)})),g=(0,a.e7)([E.ZP],()=>E.ZP.resolveUnreadSetting(t)),m=(0,a.cj)([j.Z,x.Z],()=>{let e=j.Z.getChannel(t.parent_id);return{canManageChannel:x.Z.can(T.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==i&&(n.id===A._||(null!=e?x.Z.can(T.Plq.MANAGE_CHANNELS,e):x.Z.can(T.Plq.MANAGE_CHANNELS,n)))}}),O=(0,a.e7)([y.Z],()=>y.Z.shouldIndicateNewChannel(n.id,t.id)),{needSubscriptionToAccess:v,isSubscriptionGated:P}=(0,b.Z)(t.id),I=(0,a.e7)([E.ZP],()=>E.ZP.isFavorite(n.id,t.id)),w=(0,a.e7)([S.default],()=>{let e=S.default.getCurrentUser();return null!=e&&(!(0,f.aC)(t)||e.nsfwAllowed)},[t]),Z=(0,p.NX)(t.id),R=(0,N.Z)({channel:t,isChannelCollapsed:!1,isChannelSelected:s,isSubscriptionGated:P,needSubscriptionToAccess:v,isNewChannel:O,muted:o,enableActivities:Z,resolvedUnreadSetting:g}),D=(0,h.ZP)(t);return(0,r.jsx)(U,L(M({},d,m,e),{hasActiveThreads:c,hasMoreActiveThreads:u,isSubscriptionGated:P,needSubscriptionToAccess:v,isNewChannel:O&&e.canBeNewChannel,isFavoriteSuggestion:l&&!I,canShowThreadPreviewForUser:w,channelInfo:R,embeddedApps:D,resolvedUnreadSetting:g,hasChannelInfo:null!=R,enableActivities:Z}))}},304471:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(619915),o=n(449932),a=n(561788),s=n(413409);function c(e){let{channel:t,onAction:n}=e,c=(0,l.ZP)(t),u=Array.from((0,l.uF)(c).values());return 0===u.length?null:(0,r.jsxs)(i.Ttm,{className:s.container,children:[(0,r.jsx)("div",{className:s.popoutHeaderContainer,children:(0,r.jsx)(a.Z,{channel:t})}),(0,r.jsx)("div",{className:s.headerDivider}),u.map((e,i)=>{var l;return(0,r.jsx)(o.Z,{embeddedApp:e,presenceActivity:null!=(l=e.presenceActivity)?l:void 0,channel:t,onAction:n},i)})]})}},428127:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(442837),c=n(481060),u=n(492162),d=n(237583),p=n(451478),h=n(934415),f=n(968847),g=n(388032),m=n(74664);let b={friction:30,tension:300};function O(e){var t;let{guildChannels:n,jumpToVoiceChannels:l}=e,a=n.getCategoryFromSection(n.voiceChannelsSectionNumber),s=(0,u.Z)(n.id),p=i.useCallback(e=>{e.preventDefault(),e.stopPropagation(),l()},[l]),f=null!=(t=null==a?void 0:a.getChannelRecords())?t:[],b=(0,h.c4)({channels:f,selectedChannelId:null,selectedVoiceChannelId:null,voiceStates:s});return(0,r.jsxs)(c.P3F,{className:o()(m.bar,m.voiceBar),onClick:p,children:[(0,r.jsx)(c.gj8,{size:"custom",className:m.voiceChannelsIcon,width:14,height:14,color:"currentColor"}),(0,r.jsx)(c.Text,{variant:"text-xs/semibold",className:m.barText,children:g.intl.format(g.t["fDlr+P"],{count:b.length})}),(0,r.jsx)(d.Z,{guildId:n.id,className:m.voiceChannelsUsers,users:b.slice(0,4),renderMoreUsers:()=>null,max:4,size:c.EFr.SIZE_16})]})}function y(e){let{position:t,guildChannels:n,guildChannelsVersion:l,jumpToVoiceChannels:u,jumpToChannel:d}=e,{bottomBar:h,topBar:y}=(0,s.cj)([f.Z],()=>f.Z.getUnreadStateForGuildId(n.id)),_=(0,s.e7)([p.Z],()=>p.Z.isFocused()),{mode:j,mentionCount:v,targetChannelId:x}="bottom"===t?h:y,C=j===f.x.HIDDEN,E=(0,c.q_F)({to:{transform:C?"bottom"===t?"translateY(180%)":"translateY(-180%)":"translateY(0%)"},config:b},_?"respect-motion-settings":"animate-never"),S=i.useCallback(e=>{e.preventDefault(),e.stopPropagation(),null!=x&&d(x)},[d,x]);return(0,r.jsx)("div",{className:o()(m.container,{[m.top]:"top"===t,[m.bottom]:"bottom"===t}),children:(0,r.jsx)(a.animated.div,{className:m.containerPadding,style:E,"aria-hidden":C,children:j===f.x.HIDDEN?(0,r.jsx)("div",{className:o()(m.bar,m.emptyBar)}):j===f.x.UNREAD?(0,r.jsxs)(c.P3F,{className:m.bar,onClick:S,children:["bottom"===t?(0,r.jsx)(c.CJ0,{size:"custom",color:"currentColor",className:m.unreadIcon,height:14,width:14}):(0,r.jsx)(c.u04,{size:"custom",color:"currentColor",className:m.unreadIcon,height:14,width:14}),(0,r.jsx)(c.Text,{variant:"text-xs/semibold",color:"interactive-normal",className:m.barText,children:g.intl.string(g.t.FCRiT0)})]}):j===f.x.MENTIONS?(0,r.jsx)(c.P3F,{className:o()(m.bar,m.mentionsBar),onClick:S,children:(0,r.jsx)(c.Text,{variant:"text-xs/semibold",color:"status-danger-text",className:m.barText,children:g.intl.format(g.t.EQcLys,{count:v})})}):j===f.x.VOICE_CHANNELS?(0,r.jsx)(O,{jumpToVoiceChannels:u,guildChannels:n,guildChannelsVersion:l}):void 0})})}},950969:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(442837),o=n(358230),a=n(18998),s=n(220444),c=n(569471),u=n(592125),d=n(306680),p=n(9156),h=n(451478);function f(e){let t=u.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&!(t.isThread()?c.Z.isMuted(t.id):p.ZP.isChannelMuted(t.getGuildId(),t.id))&&(0,s.d)(t)}function g(e){let t=u.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let r=p.ZP.isGuildCollapsed(n),i=p.ZP.isChannelMuted(n,t.id);return(!r||!i)&&d.ZP.getMentionCount(e)>0}let m=i.forwardRef(function(e,t){var n,i,{guildId:s,guildChannels:c,guildChannelsVersion:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["guildId","guildChannels","guildChannelsVersion"]);let p=(0,o.T)(s,c,u,{withVoiceChannels:!1},{ignoreRecents:!0}),m=(0,l.e7)([h.Z],()=>h.Z.isFocused());return(0,r.jsx)(a.Z,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:t},d),i=i={isUnread:f,isMentioned:g,items:p,animate:m},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))})},233657:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288);n(647438);var i=n(442837),l=n(704215),o=n(481060),a=n(239091),s=n(266454),c=n(554747),u=n(306680),d=n(9156),p=n(434479),h=n(490897),f=n(388032),g=n(509612);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function O(e){let{guild:t,selected:O}=e,{hasUnread:y,mentionCount:_}=(0,i.cj)([u.ZP],()=>({hasUnread:u.ZP.hasUnread(t.id,h.W.GUILD_EVENT),mentionCount:u.ZP.getMentionCount(t.id,h.W.GUILD_EVENT)}),[t.id]),j=(0,i.e7)([d.ZP],()=>d.ZP.isMuteScheduledEventsEnabled(t.id));async function v(){await (0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("4096"),n.e("56236"),n.e("25688")]).then(n.bind(n,17671));return n=>(0,r.jsx)(e,b(m({},n),{guildId:t.id}))}),(0,s.Q3)(l.z.GUILD_HEADER_EVENT_UPSELL)}let x=(0,c.ZP)(t.id),C=x.length>0?f.intl.formatToPlainString(f.t.IBdqSk,{number:x.length}):f.intl.string(f.t.tlopTE);return(0,r.jsx)(p.m,{id:"upcoming-events-".concat(t.id),renderIcon:e=>(0,r.jsx)(o.Que,{size:"md",color:"currentColor",className:e}),text:C,selected:O,onClick:v,onContextMenu:e=>{(0,a.jW)(e,async()=>{let{default:e}=await n.e("95307").then(n.bind(n,867757));return n=>(0,r.jsx)(e,b(m({},n),{guildId:t.id}))})},showUnread:y&&!j,trailing:!j&&_>0?(0,r.jsx)(o.mAB,{className:g.numberBadge,disableColor:!0,count:_}):null})}},831700:function(e,t,n){n.d(t,{Z:()=>en}),n(388685),n(415506);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(846519),c=n(481060),u=n(475179),d=n(239091),p=n(146773),h=n(888651),f=n(619915),g=n(117358),m=n(201895),b=n(718589),O=n(933557),y=n(557135),_=n(873696),j=n(446226),v=n(305325),x=n(281956),C=n(66999),E=n(554747),S=n(378844),P=n(574176),I=n(340541),N=n(763624),w=n(359110),Z=n(155409),T=n(695346),A=n(592125),R=n(430824),D=n(607744),M=n(496675),L=n(306680),k=n(9156),U=n(979651),G=n(934415),B=n(98597),F=n(648501),V=n(473403),H=n(830993),z=n(653577),W=n(207055),K=n(981631),Y=n(647086),q=n(388032),X=n(55940);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Q(e,t,n[t])})}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class ee extends B.ZP{componentWillUnmount(){this.activitiesHideTimeout.stop()}getVoiceStatesCount(){var e;let{voiceStates:t}=this.props;return null!=(e=null==t?void 0:t.length)?e:0}isFull(){let{channel:e}=this.props;return(0,G.rY)(e,U.Z,R.Z)}getModeClass(){let{position:e,sortingPosition:t,isUserOver:n}=this.props;if(n)return X.containerUserOver;if(null!=t)if(e>t)return X.containerDragAfter;else return X.containerDragBefore;return X.containerDefault}renderSubtitle(){var e;let{channel:t,connected:n,enableHangStatus:i,allowChannelTopic:l}=this.props,o=null==(e=(0,_.D)(this.props.subtitle))?void 0:e.subtitle,{hovered:a}=this.state;return(0,r.jsx)(z.Z,{onClick:this.handleVoiceStatusClick,channel:t,connected:n,subtitle:o,hovered:a,enableHangStatus:i,allowChannelTopic:l})}renderVoiceUsers(){let{channel:e,voiceStates:t,collapsed:n,withGuildIcon:i,tabIndex:l}=this.props;return(0,r.jsx)(W.Z,{channel:e,collapsed:n,collapsedMax:6,voiceStates:t,withGuildIcon:i,tabIndex:l,location:K.Sbl.GUILD_CHANNEL_LIST})}renderChannelInfo(){let{channelInfo:e}=this.props;return null==e?null:(0,r.jsx)("div",{className:X.channelInfo,children:e})}render(){let{channel:e,selected:t,connected:n,unread:i,resolvedUnreadSetting:l,mentionCount:a,locked:s,sorting:u,isUserOver:d,connectChannelDropTarget:p,connectChannelDragSource:h,connectUserDropTarget:f,connectDragPreview:g,canReorderChannel:O,canMoveMembers:y,showTutorial:_,hasActiveEvent:j,embeddedApps:v,isSubscriptionGated:x,isFavoriteSuggestion:C,withGuildIcon:E}=this.props,{shouldShowActivities:S,shouldShowGuildVerificationPopout:P}=this.state,N=(0,I.jW)({location:"voice_channel"}).entrypoints,w=this.getVoiceStatesCount(),T=(0,r.jsxs)("li",{ref:this.ref,className:o()(this.getModeClass(),{[X.disabled]:this.isDisabled()}),"data-dnd-name":e.name,children:[(0,r.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,r.jsx)(c.yRy,{targetElementRef:this.channelItemRef,position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:S&&!u&&!d&&!P||P,children:()=>(0,r.jsx)(c.ua7,{text:this.getTooltipText(),children:c=>{var{onClick:u,onContextMenu:d}=c,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(c,["onClick","onContextMenu"]);return(0,r.jsxs)(V.ZP,$(J({ref:this.channelItemRef,className:X.iconVisibility,iconClassName:o()({[X.iconLive]:j}),hasActiveEvent:j,channel:e,selected:!C&&t,connected:n,unread:n?i:void 0,resolvedUnreadSetting:l,mentionCount:a,locked:s,subtitle:this.renderSubtitle(),onClick:()=>{this.handleClick(),null==u||u()},onContextMenu:e=>{this.handleContextMenu(e),null==d||d()},connectDragPreview:g,isFavoriteSuggestion:C,"aria-label":(0,m.ZP)({channel:e,unread:i,mentionCount:a,userCount:w,embeddedActivitiesCount:v.length,isSubscriptionGated:x}),"aria-describedby":(0,b.Z)({channel:e,embeddedApps:v}),withGuildIcon:E},p),{children:[C&&(0,r.jsxs)(r.Fragment,{children:[this.renderAcceptSuggestionButton(),this.renderRemoveSuggestionButton()]}),!C&&(0,r.jsxs)(r.Fragment,{children:[this.renderOpenChatButton(),this.renderInviteButton(),N?this.renderOptionsButton({onContextMenu:this.handleContextMenu}):this.renderEditButton(),this.renderChannelInfo()]})]}))}})})}),this.renderVoiceUsers()]});return y&&(T=f(T)),O&&(T=p(h(T))),_&&(T=(0,r.jsx)(Z.Z,{childRef:this.ref,tutorialId:"voice-conversations",position:"right",offsetX:-20,children:T})),T}constructor(...e){super(...e),Q(this,"state",{shouldShowActivities:!1,shouldShowGuildVerificationPopout:!1,hovered:!1}),Q(this,"ref",i.createRef()),Q(this,"channelItemRef",i.createRef()),Q(this,"activitiesHideTimeout",new s.V7),Q(this,"closeGuildVerificationPopout",()=>{this.setState({shouldShowGuildVerificationPopout:!1})}),Q(this,"handleVoiceConnect",()=>{let{locked:e,connected:t,channel:n,unverifiedAccount:r,needSubscriptionToAccess:i,enableOpenTIVForPing:l,mentionCount:o}=this.props;r&&this.setState({shouldShowGuildVerificationPopout:!0});let a=l&&o>0;a&&u.Z.updateChatOpen(n.id,!0),y.Z.handleVoiceConnect({channel:n,connected:t,needSubscriptionToAccess:i,routeDirectlyToChannel:a,locked:e})}),Q(this,"handleContextMenu",e=>{let{channel:t}=this.props,i=R.Z.getGuild(t.getGuildId());null!=i&&(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331"),n.e("81070")]).then(n.bind(n,213202));return n=>(0,r.jsx)(e,$(J({},n),{channel:t,guild:i}))})}),Q(this,"handleMouseEnter",()=>{this.activitiesHideTimeout.stop(),this.setState({shouldShowActivities:!0,hovered:!0})}),Q(this,"handleMouseLeave",()=>{this.activitiesHideTimeout.start(100,()=>this.setState({shouldShowActivities:!1,hovered:!1}))}),Q(this,"closePopout",()=>{this.activitiesHideTimeout.stop(),this.setState({shouldShowActivities:!1})}),Q(this,"handleClick",()=>{let{channel:e}=this.props,t=e.getGuildId();null!=t&&(0,x.n)(t)&&(0,v.hk)(t),this.handleVoiceConnect()}),Q(this,"handleVoiceStatusClick",e=>{let{connected:t,channel:n}=this.props;t&&(e.stopPropagation(),(0,g.Z)({channel:n}))}),Q(this,"renderPopout",()=>{let{channel:e,voiceStates:t,sorting:n,isUserOver:i,selected:l,guild:o}=this.props,{shouldShowActivities:a,shouldShowGuildVerificationPopout:s}=this.state;if(a&&!n&&!i&&!s){let n=T.SE.getSetting().includes(o.id);return(0,r.jsx)(H.Z,{onAction:this.closePopout,guild:o,channel:e,voiceStates:t,isChannelSelected:l,shouldShowSettingNudge:n})}if(s)return(0,r.jsx)(S.Z,{type:S.R.VOICE,guildId:e.guild_id,closePopout:this.closeGuildVerificationPopout});throw Error("VoiceChannel.renderPopout: There must always be something to render")}),Q(this,"renderOpenChatButton",()=>{let{channel:e,locked:t,forceShowButtons:n}=this.props;if(!t)return(0,r.jsx)(c.ua7,{text:q.intl.string(q.t.ZXxLQk),children:t=>{let{onMouseEnter:i,onMouseLeave:l,onFocus:a,onBlur:s}=t;return(0,r.jsx)(c.P3F,{className:o()(X.iconItem,n?X.alwaysShown:null),onClick:()=>{u.Z.updateChatOpen(e.id,!0),(0,w.Kh)(e.id)},"aria-label":q.intl.string(q.t.ZXxLQk),onMouseEnter:i,onMouseLeave:l,onFocus:a,onBlur:s,children:(0,r.jsx)(c.kBi,{size:"xs",color:"currentColor",className:X.actionIcon})})}})}),Q(this,"getTooltipText",()=>{let{connected:e}=this.props;return this.isFull()&&!e?q.intl.string(q.t.rZfiNj):null})}}let et=(0,p.B)((0,h.Q)(ee));function en(e){let{guild:t,channel:n,disableSorting:i,isFavoriteCategory:l,selected:o,collapsed:s,voiceStates:c}=e,u=(0,a.cj)([L.ZP],()=>({unread:L.ZP.hasUnread(n.id),mentionCount:L.ZP.getMentionCount(n.id)})),d=(0,a.e7)([k.ZP],()=>k.ZP.resolveUnreadSetting(n)),p=(0,a.cj)([A.Z,D.Z,M.Z],()=>{let e=A.Z.getChannel(n.parent_id),r=D.Z.getCheck(n.guild_id);return{canManageChannel:M.Z.can(K.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==i&&(t.id===Y._||(null!=e?M.Z.can(K.Plq.MANAGE_CHANNELS,e):M.Z.can(K.Plq.MANAGE_CHANNELS,t))),canMoveMembers:M.Z.can(K.Plq.MOVE_MEMBERS,n),locked:!M.Z.can(K.Plq.CONNECT,n),bypassLimit:M.Z.can(K.Plq.MOVE_MEMBERS,n),unverifiedAccount:!r.canChat}}),h=(0,a.e7)([U.Z],()=>U.Z.hasVideo(n.id)),g=(0,f.ZP)(n),m=(0,O.ZP)(n),b=(0,E.qY)(n.id),{isSubscriptionGated:y,needSubscriptionToAccess:_}=(0,C.Z)(n.id),v=(0,j.Z)(),x=(0,a.e7)([k.ZP],()=>k.ZP.isFavorite(t.id,n.id)),S=e.connected||(null==v?void 0:v.channelId)===n.id,{enableHangStatus:I,allowChannelTopic:w}=P.n.useExperiment({guildId:n.guild_id,location:"VoiceChannel"},{autoTrackExposure:!1}),{enableOpenTIVForPing:Z}=N.A.useExperiment({guildId:n.guild_id,location:"VoiceChannel"}),T=(0,F.Z)({channel:n,isChannelSelected:o,isChannelCollapsed:s,voiceStates:c,isSubscriptionGated:y,needSubscriptionToAccess:_,enableConnectedUserLimit:!0,enableActivities:!0}),R=S&&null==T;return(0,r.jsx)(et,$(J({channelName:m,embeddedApps:g,embeddedActivityType:K.IIU.PLAYING,video:h,hasActiveEvent:null!=b,isSubscriptionGated:y,needSubscriptionToAccess:_},u,p,e),{connected:S,isFavoriteSuggestion:l&&!x,forceShowButtons:R,channelInfo:T,resolvedUnreadSetting:d,enableHangStatus:I,allowChannelTopic:w,enableOpenTIVForPing:Z}))}},830993:function(e,t,n){n.d(t,{Z:()=>I}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(616780),u=n(619915),d=n(620662),p=n(841784),h=n(471445),f=n(430824),g=n(496675),m=n(158776),b=n(979651),O=n(823379),y=n(355363),_=n(449932),j=n(561788),v=n(876548),x=n(543432),C=n(981631),E=n(388032),S=n(413409),P=n(21265);function I(e){var t,l;let{channel:o,guild:h,onAction:f,voiceStates:g,isChannelSelected:b,shouldShowSettingNudge:y}=e,j=i.useMemo(()=>{var e;return null==g||g.length>50?{}:{[o.getGuildId()]:null!=(e=g.map(e=>{let{user:t}=e;return t.id}))?e:[]}},[o,g]);(0,c.$)(j);let v=(0,u.ZP)(o),x=Array.from((0,u.uF)(v).values()),P=null!=(t=null==g?void 0:g.filter(O.lm))?t:[],I=(0,a.e7)([m.Z],()=>{let e={};return P.forEach(t=>{let n=m.Z.findActivity(t.user.id,e=>[C.IIU.PLAYING,C.IIU.WATCHING].includes(e.type)&&(null!=e.assets||null!=e.state||null!=e.details||null!=e.party)&&(null==e.session_id||e.session_id===t.voiceState.sessionId)||e.type===C.IIU.LISTENING);if(null!=n&&!(0,p.Z)(n)){var r,i,l,o;let a="".concat(null!=(i=n.application_id)?i:"",":").concat(null!=(l=null==(r=n.party)?void 0:r.id)?l:t.user.id),s=null!=(o=e[a])?o:{members:[],activity:n};s.members.push(t),(0,d.Z)(s.activity,C.xjy.JOIN)||(s.activity=n),e[a]=s}}),Object.values(e)},[P],a.pF);return I.length+x.length===0?null:(0,r.jsxs)(s.Ttm,{className:S.container,children:[(0,r.jsx)(N,{channel:o,isChannelSelected:b,voiceStatesCount:null!=(l=null==g?void 0:g.length)?l:0}),(0,r.jsx)("div",{className:S.headerDivider}),x.map((e,t)=>{var n;return(0,r.jsx)(_.Z,{embeddedApp:e,presenceActivity:null!=(n=e.presenceActivity)?n:void 0,channel:o,onAction:f},t)}),I.map((e,t)=>{let{members:n,activity:i}=e;return(0,r.jsx)(_.Z,{presenceActivity:i,channel:o,members:n,onAction:f},t)}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:S.headerDivider}),(0,r.jsx)("div",{className:S.settingNudgeText,children:(0,r.jsx)(s.Text,{variant:"text-xs/normal",tag:"span",children:E.intl.format(E.t.ePyoY2,{onClick:()=>{(0,s.ZDy)(async()=>{let{default:e}=await n.e("59500").then(n.bind(n,241420));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={guild:h},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}})})})]})]})}function N(e){let{channel:t,isChannelSelected:n,voiceStatesCount:i}=e,l=(0,a.e7)([g.Z],()=>!g.Z.can(C.Plq.CONNECT,t)),s=(0,a.e7)([b.Z],()=>b.Z.hasVideo(t.id)),c=(0,y.ZP)({channel:t,locked:l,video:s,selected:n}),u=(0,a.e7)([f.Z],()=>f.Z.getGuild(t.guild_id));return null==(0,h.KS)(t,u)?null:(0,r.jsxs)("div",{className:o()(S.popoutHeaderContainer,P.popoutHeaderContainer),children:[(0,r.jsx)(j.Z,{channel:t}),c?(0,r.jsx)(v.Z,{userCount:i,video:s,channel:t}):(0,r.jsx)(x.Z,{userCount:i})]})}},653577:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(362721),u=n(12498),d=n(111028),p=n(454585),h=n(626135),f=n(981631),g=n(388032),m=n(158871),b=n(430864);function O(e){let{channel:t,connected:n,hovered:l,subtitle:O,onClick:y,enableHangStatus:_,allowChannelTopic:j}=e,v=(0,a.e7)([u.Z],()=>u.Z.getChannelStatus(t)),x=null!=v&&v.length>0,C=(0,c.ZP)(t,!0),E=(!_||!!j)&&C,S=null!=O&&O.length>0;if(i.useEffect(()=>{x&&h.default.track(f.rMx.VOICE_CHANNEL_TOPIC_VIEWED,{channel_id:t.id,guild_id:t.guild_id})},[x,t.id,t.guild_id]),null==t.guild_id)return null;let P=o()(m.statusDiv,n&&E?m.hoverable:null);return x?(0,r.jsx)(s.P3F,{className:P,onClick:E?y:void 0,children:(0,r.jsx)(s.Text,{variant:"text-xs/medium",className:o()(m.statusText,b.markup),children:(0,r.jsx)(d.Z,{children:p.Z.parseVoiceChannelStatus(v,!0,{channelId:t.id})})})}):n&&E&&(!S||l)?(0,r.jsxs)(s.P3F,{className:P,onClick:y,children:[(0,r.jsx)(s.Text,{variant:"text-xs/medium",className:m.statusText,children:g.intl.string(g.t.Mgpxi4)}),(0,r.jsx)(s.vdY,{color:"currentColor",className:m.pencilIcon,size:"xxs"})]}):S?(0,r.jsx)(d.Z,{children:O}):null}},280102:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(21265);function s(e){let{total:t,users:n,videoLimit:i}=e;return(0,r.jsxs)("div",{className:a.wrapper,children:[(0,r.jsxs)("span",{className:l()(a.users,{[a.video]:i,[a.extraLong]:n>=100}),children:[i?(0,r.jsx)(o.Odl,{size:"md",color:"currentColor",className:a.videoIcon}):null,n.toString().padStart(2,"0")]}),(0,r.jsx)("span",{className:l()(a.total,{[a.extraLong]:t>=100}),children:t.toString().padStart(2,"0")})]})}},543432:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(250549);function o(e){let{userCount:t}=e;return(0,r.jsxs)("div",{className:l.container,children:[(0,r.jsx)(i.BFJ,{size:"xxs",color:"currentColor",className:l.peopleIcon}),(0,r.jsx)(i.Text,{variant:"text-sm/normal",color:"header-secondary",className:l.userCountText,children:t})]})}},378844:function(e,t,n){n.d(t,{R:()=>y,Z:()=>_});var r,i=n(951288);n(647438);var l=n(442837),o=n(755721),a=n(481060),s=n(893776),c=n(391650),u=n(313201),d=n(144114),p=n(607744),h=n(594174),f=n(981631),g=n(815660),m=n(388032),b=n(36973);function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}var y=((r={})[r.VOICE=0]="VOICE",r);let _=e=>{let{type:t,guildId:r,closePopout:y}=e,_=(0,u.Dt)(),{notClaimed:j,notEmailVerified:v,notPhoneVerified:x,newAccount:C,newMember:E}=(0,l.e7)([p.Z],()=>p.Z.getCheck(r),[r]),S=0===t?m.intl.string(m.t["6zY8BA"]):null,P=null,I=null;return(0===t&&(j?(P=m.intl.string(m.t.IRxUlJ),I=m.intl.string(m.t.fiNVio)):x?(P=m.intl.string(m.t.vW8iUF),I=m.intl.string(m.t["50gfOj"])):v?(P=m.intl.string(m.t.vdSOp6),I=m.intl.string(m.t.lm1UKi)):E?(P=m.intl.formatToPlainString(m.t.v1ktYW,{min:f.YeM.MEMBER_AGE}),I=m.intl.string(m.t.BddRzc)):C&&(P=m.intl.formatToPlainString(m.t["sncw4+"],{min:f.YeM.ACCOUNT_AGE}),I=m.intl.string(m.t.BddRzc))),null==S||null==P)?null:(0,i.jsxs)(a.VqE,{className:b.container,"aria-labelledby":_,children:[(0,i.jsx)("img",{alt:"",className:b.image,src:n(64395)}),(0,i.jsxs)("div",{className:b.content,children:[(0,i.jsx)(a.X6q,{variant:"heading-md/semibold",id:_,children:S}),(0,i.jsx)(a.Text,{color:"header-secondary",variant:"text-sm/normal",children:P}),(0,i.jsxs)("div",{className:b.buttonContainer,children:[null!=I?(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:b.primaryButton,children:(0,i.jsx)(a.zxk,{variant:"primary",text:I,onClick:()=>{j?c.j():x?(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,607018));return t=>(0,i.jsx)(e,O({reason:d.L.GUILD_PHONE_REQUIRED},t))},{modalKey:g.M}):v&&(s.Z.verifyResend(),(0,a.h7j)(e=>{var t,n,r;return(0,i.jsx)(a.ConfirmModal,(n=O({header:m.intl.string(m.t.LykQYm),confirmText:m.intl.string(m.t.BddRzc),confirmButtonColor:o.zx.Colors.BRAND},e),r=r={children:(0,i.jsx)(a.Text,{variant:"text-md/normal",children:m.intl.format(m.t.azKEPz,{email:null==(t=h.default.getCurrentUser())?void 0:t.email})})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))})),y()}})}):null,j||x||v?(0,i.jsx)(o.zx,{onClick:y,look:o.zx.Looks.BLANK,className:b.cancel,children:m.intl.string(m.t.oEAioK)}):null]})]})]})}},209114:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(427164).le)({kind:"user",name:"2025-08-always-guild-media",defaultConfig:{enabled:!1},variations:{1:{enabled:!0}}})},289090:function(e,t,n){n.d(t,{S:()=>i});var r,i=((r={})[r.PENDING_JOIN_REQUESTS_FOLDER=1]="PENDING_JOIN_REQUESTS_FOLDER",r)},605951:function(e,t,n){n.d(t,{Z:()=>l});var r=n(647438),i=n(914010);function l(e){r.useEffect(()=>{let t=null;function n(){let n=i.Z.getGuildId();n!==t&&(t=null!=n?n:null,e(null!=n?n:null,!1))}return i.Z.addChangeListener(n),()=>{i.Z.removeChangeListener(n)}},[e])}},278464:function(e,t,n){n.d(t,{n:()=>a});var r=n(843611),i=n(370774),l=n(905423),o=n(981631);function a(){let e=(0,l.Z)(e=>e.guildId),{pathname:t}=(0,r.TH)(),n=t.startsWith(o.Z5c.GUILD_DISCOVERY)||t.startsWith(o.Z5c.GLOBAL_DISCOVERY),a=t.startsWith(o.Z5c.GUILD_MEMBER_VERIFICATION("")),s=t.startsWith(o.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")),c=(0,i.D)();return null==e&&!(n||a||s||c)}},61634:function(e,t,n){n.d(t,{Z:()=>S}),n(388685);var r=n(106351),i=n(442837),l=n(595519),o=n(317381),a=n(16609),s=n(470883),c=n(554747),u=n(146085),d=n(427679),p=n(131704),h=n(199902),f=n(314897),g=n(592125),m=n(430824),b=n(496675),O=n(699516),y=n(944486),_=n(9156),j=n(979651),v=n(709054),x=n(209114),C=n(981631);function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Z;return null!=e&&e.type!==r.d.GUILD_STAGE_VOICE&&t!==e.id&&n.canBasicChannel(C.S7T.VIEW_CHANNEL,e)}function S(e){var t;let n=(0,i.e7)([_.ZP],()=>_.ZP.isMuted(e)),r=x.Z.useConfig({location:"useGuildMediaState"}).enabled,C=n&&!r,S=(0,c.k5)(e),P=(0,i.Wu)([o.ZP,O.Z],()=>o.ZP.getEmbeddedActivitiesForGuild(e).filter(e=>!(0,s.BA)([...e.userIds],O.Z.getBlockedOrIgnoredIDs()))),I=(0,a.p)(null==(t=P[0])?void 0:t.location),N=(0,l.NX)(I),{guildHasVoice:w,guildHasVideo:Z,selectedVoiceChannelHasVideo:T}=(0,i.cj)([y.Z,j.Z,m.Z,b.Z,g.Z],()=>{var t;let n=y.Z.getVoiceChannelId(),r=null==(t=m.Z.getGuild(e))?void 0:t.afkChannelId,i=j.Z.getUsersWithVideo(e),l=(0,s.DX)(j.Z.getVoiceStates(e));return{guildHasVoice:(()=>{if(C)return!1;for(let e in l)if(E(g.Z.getBasicChannel(l[e].channelId),null!=r?r:void 0,b.Z))return!0;return!1})(),guildHasVideo:(()=>{if(C)return!1;for(let t of i){var e;if(E(g.Z.getBasicChannel(null==(e=l[t])?void 0:e.channelId),null!=r?r:void 0,b.Z))return!0}return!1})(),selectedVoiceChannelHasVideo:null!=n&&j.Z.hasVideo(n)}},[e,C]),A=f.default.getId();return(0,i.cj)([y.Z,g.Z,o.ZP,d.Z,h.Z,b.Z],()=>{var t,n,r;let i=y.Z.getVoiceChannelId(),l=(null==(t=g.Z.getChannel(i))?void 0:t.guild_id)===e,c=!1,f=!1,m=!1,O=!1,_=!1,j=!1;if(!l&&C)return{audio:c,video:O,screenshare:_,liveStage:m,activeEvent:f,activity:j,isCurrentUserConnected:!1};let x=v.default.keys(d.Z.getStageInstancesByGuild(e)).some(e=>{let t=g.Z.getChannel(e);return null!=t&&b.Z.can(u.gl,t)}),E=l&&null!=(r=null==(n=g.Z.getChannel(i))?void 0:n.isGuildStageVoice())&&r,I=!!l&&null!=h.Z.getActiveStreamForUser(A,e),R=(0,s.aK)(h.Z.getAllApplicationStreams()).some(t=>t.guildId===e),D=l&&T,M=(()=>{if(N)return P.length>0;for(let e of P){let t=g.Z.getChannel((0,a.p)(e.location));if(null!=t&&(0,p.vd)(t.type))return!0}return!1})(),L=o.ZP.getEmbeddedActivitiesForGuild(e).length>0;return l?(c=!0,f=(null==S?void 0:S.channel_id)===i,m=E,O=D,_=I,j=L):(c=w,f=null!=S,m=x,O=Z,_=R,j=M),{audio:c,video:O,screenshare:_,liveStage:m,activeEvent:f,activity:j,isCurrentUserConnected:l||E}},[e,C,T,A,N,P,S,w,Z])}},919436:function(e,t,n){n.d(t,{Z:()=>D}),n(415506),n(388685);var r,i=n(951288),l=n(647438),o=n(202841),a=n(91192),s=n(442837),c=n(481060),u=n(239091),d=n(358221),p=n(43267),h=n(933557),f=n(93687),g=n(266076),m=n(199902),b=n(19780),O=n(306680),y=n(944486),_=n(594174),j=n(451478),v=n(276952),x=n(682662),C=n(662146),E=n(674552),S=n(981631),P=n(388032),I=n(514483);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){N(e,t,n[t])})}return e}function Z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T={friction:28,tension:600};function A(e){switch(e){case"height":case"opacity":return w({duration:150},T);case"scale":return w({},T);default:throw Error("DirectMessage: getSpringConfigs() - Invalid spring ".concat(String(e)))}}class R extends(r=l.PureComponent){componentWillEnter(e){let{controller:t}=this.state;e(),t.update({immediate:!j.Z.isFocused(),height:1,opacity:1,scale:1,config:A}).start().then(()=>this.setState({animating:!1}))}componentWillAppear(e){let{controller:t}=this.state;t.update({immediate:!0,scale:1,opacity:1,height:1,config:A}).start().then(e)}componentWillLeave(e){let{controller:t}=this.state;this.setState({animating:!0},()=>t.update({immediate:!j.Z.isFocused(),height:0,opacity:0,scale:0,config:A}).start().then(e))}componentWillUnmount(){this.state.controller.dispose()}getAnimatedStyle(){let{size:e}=this.props,{controller:t}=this.state,{opacity:n,height:r,scale:i}=t.springs;return{opacity:n,height:r.to([0,1],[0,e]),transform:i.to([0,1],[.5,1]).to(e=>"scale(".concat(e,")"))}}getChannelIcon(){let{channel:e}=this.props,t=e.type===S.d4z.DM?_.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL(void 0,48,!1):(0,p.x)(e)}render(){let{channel:e,channelName:t,selected:n,badge:r,audio:l,video:a,stream:s,isCurrentUserInThisDMCall:u,unread:d,isGDMFacepileEnabled:p,treeItemProps:h}=this.props,{hovered:f,animating:m}=this.state,b=e.isMultiUserDM()&&null==e.icon&&p,O=()=>(0,i.jsx)(c.LYs,w({to:S.Z5c.CHANNEL(S.ME,e.id),onMouseEnter:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),selected:n||f,ariaLabel:null!=t?P.intl.formatToPlainString(P.t.hKarnZ,{mentions:r,name:t}):"",onContextMenu:this.handleContextMenu,icon:b?void 0:this.getChannelIcon(),backgroundStyle:b?"on-hover":"always",children:b?(0,i.jsx)(g.Z,{channel:e,size:c.EFr.SIZE_40,facepileSizeOverride:c.EFr.SIZE_32,experimentLocation:"unread_gdm","aria-hidden":!0}):void 0},h));return(0,i.jsx)(o.animated.div,{style:this.getAnimatedStyle(),children:(0,i.jsxs)(x.H,{children:[(0,i.jsx)(v.Z,{hovered:!m&&f,selected:!m&&n,unread:!m&&d,className:I.pill}),(0,i.jsx)(C.Z,{text:null!=t?t:"",selected:n,children:(0,i.jsx)(c.aRk,{rounded:!0,selected:!1,lowerBadge:r>0?(0,E.Ne)(r,void 0,!0):null,upperBadge:(0,E.Or)({audio:l,video:a,screenshare:s,isCurrentUserConnected:u}),lowerBadgeSize:{width:(0,c.OVM)(r)},children:O()})})]})})}constructor(...e){super(...e),N(this,"state",{hovered:!1,animating:!0,controller:new o.Controller({scale:0,height:0,opacity:0,config:A})}),N(this,"handleContextMenu",e=>{let{channel:t}=this.props,r=t.type===S.d4z.DM?_.default.getUser(t.getRecipientId()):null;null!=r?(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("57789"),n.e("56826"),n.e("69497")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,Z(w({},n),{channel:t,user:r}))}):(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("57789"),n.e("81239")]).then(n.bind(n,354741));return n=>(0,i.jsx)(e,Z(w({},n),{channel:t,selected:!1}))})})}}N(R,"defaultProps",{badge:0,audio:!1,video:!1,isCurrentUserInThisDMCall:!1});let D=l.forwardRef(function(e,t){let n=e.channel.id,r=(0,h.ZP)(e.channel),l=(0,a.Ie)(n,2),o=(0,s.e7)([b.Z],()=>b.Z.getChannelId(),[]),u=(0,s.e7)([d.Z],()=>null!=o?d.Z.getMode(o):S.WtW.VOICE,[o]),p=(0,s.e7)([m.Z],()=>m.Z.getAllApplicationStreamsForChannel(n).length>0),g=(0,s.e7)([y.Z],()=>y.Z.getChannelId(),[]),_=(0,s.e7)([O.ZP],()=>O.ZP.getMentionCount(n),[n]),{isFacepileEnabled:j}=f.Z.useExperiment({location:"unread_direct_message"},{autoTrackExposure:!1}),v=o===n,x=!1,C=!1;v&&(x=u===S.WtW.VOICE,C=u===S.WtW.VIDEO);let E=(0,c.dQu)(c.TVs.modules.guildbar.AVATAR_SIZE);return(0,i.jsx)(R,Z(w({},e),{ref:t,channelName:r,unread:_>0,selected:g===n,badge:_,audio:x,video:C,stream:p,isCurrentUserInThisDMCall:v,isGDMFacepileEnabled:j,size:E,treeItemProps:l}))})},199540:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(377171),u=n(565138),d=n(430824),p=n(674552),h=n(388032),f=n(106663);function g(e){let{guildId:t,animate:n}=e,i=(0,a.e7)([d.Z],()=>d.Z.getGuild(t),[t]),l=(0,s.dQu)(s.TVs.modules.guildbar.AVATAR_SIZE);return null==i?(0,r.jsx)("div",{className:o()(f.folderPreviewGuildIcon,f.folderPreviewGuildIconError),children:(0,r.jsx)(s.Mgn,{color:"currentColor"})}):(0,r.jsx)(u.Z,{guild:i,animate:n,size:u.Z.Sizes.MINI,iconSize:l,lossless:!0,className:f.folderPreviewGuildIcon,tabIndex:-1})}function m(e){let{folderNode:t,hovered:n,sorting:i}=e,{children:l}=t,a=n&&i,c=(0,r.jsx)("div",{className:f.folderIconWrapper,children:(0,r.jsx)("div",{className:f.folderIcon,children:(0,r.jsx)(s.ROc,{size:"sm",color:"currentColor"})})}),u=(0,r.jsx)("div",{className:f.folderPreviewWrapper,children:(0,r.jsx)("div",{className:f.folderPreview,children:l.slice(0,4).map(e=>(0,r.jsx)(g,{guildId:e.id,animate:n},e.id))})});return(0,r.jsxs)("div",{"aria-hidden":!0,className:o()({[f.folderDragPreview]:a,[f.folderButtonContent]:!a}),children:[!a&&c,u]})}function b(e){var t,n;let{folderNode:l,expanded:o,sorting:a,mediaState:u,mentionCount:d=0,isMentionLowImportance:g,tooltipName:b,folderGroupId:O,folderButtonContent:y,onClick:_,onContextMenu:j,onHoverChange:v,onKeyDown:x,treeItemProps:{onFocus:C},"aria-setsize":E,"aria-posinset":S}=e,P=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e.treeItemProps,["onFocus"]),[I,N]=i.useState(!1),w=i.useCallback(()=>{a||N(!0),null==v||v(!0)},[a,v]),Z=i.useCallback(()=>{a||N(!1),null==v||v(!1)},[a,v]),T=o||null==u?null:(0,p.Or)(u),A=!o&&d>0?(0,p.Ne)(d,g?c.Z.BACKGROUND_ACCENT:c.Z.STATUS_DANGER):null;return(0,r.jsx)(s.tEY,{children:(0,r.jsx)(s.P3F,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:f.folderButton,onClick:_,onContextMenu:j,onMouseEnter:w,onMouseLeave:Z,onKeyDown:x,onFocus:C,focusProps:{enabled:!1}},P),n=n={role:"treeitem","aria-setsize":E,"aria-posinset":S,"aria-expanded":o,"aria-owns":O,children:(0,r.jsxs)(s.aRk,{isFolder:!0,upperBadge:T,lowerBadge:A,lowerBadgeSize:{width:(0,s.OVM)(d)},children:[(0,r.jsx)(s.nn4,{children:h.intl.formatToPlainString(h.t["90/DwM"],{folderName:b,mentions:d})}),(0,r.jsx)("div",{className:f.folderButtonInner,children:null!=y?(0,r.jsx)("div",{className:f.folderIconWrapper,children:y}):(0,r.jsx)(m,{folderNode:l,hovered:I,sorting:a})})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}},249792:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(202841),a=n(692547),s=n(481060),c=n(565138),u=n(106663);function d(e){let{guild:t,show:n,active:i,onAnimationStart:d,onAnimationRest:p}=e,h={},f={};h.transform="translate3d(10px, 10px, 0) scale3d(3, 3, 1)",f.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)";let g=(0,s.dQu)(a.Z.unsafe_rawColors.BRAND_500).hex(),m=(0,s.dQu)(a.Z.unsafe_rawColors.PRIMARY_630).hex();i&&null==t.icon&&(h.backgroundColor=g,f.backgroundColor=m);let b=(0,s.Yzy)(n,{from:h,enter:f,leave:h,config:{duration:100},onStart:d,onRest:p});return(0,r.jsx)(r.Fragment,{children:b((e,n,i)=>n&&(0,r.jsx)("div",{className:u.folderGroup,children:(0,r.jsx)("div",{className:l()(u.folderHeader,u.folderHeaderSmall),style:{margin:0},children:(0,r.jsx)(o.animated.div,{className:u.folderDragPreview,style:e,children:(0,r.jsx)("div",{className:u.folderPreviewWrapper,children:(0,r.jsx)("div",{className:u.folderPreview,children:(0,r.jsx)(c.Z,{guild:t,size:c.Z.Sizes.SMOL,className:u.folderPreviewGuildIcon})})})})})},i.key))})}},40153:function(e,t,n){n.d(t,{OG:()=>x,ZP:()=>j,Zu:()=>v}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(512722),s=n.n(a),c=n(194630),u=n(749210),d=n(626135),p=n(727258),h=n(662146),f=n(981631),g=n(388032),m=n(606989);function b(e){let t=i.useRef(null),n=e.map(e=>e[0]);return i.useLayoutEffect(()=>{let n=requestAnimationFrame(()=>{let n=t.current;if(null!=n)for(let[t,r]of e)t?n.classList.add(r):n.classList.remove(r)});return()=>cancelAnimationFrame(n)},n),t}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s()(t.type!==p.eD.ROOT,"[GuildDropTarget] Tried using a root node as a drop target."),{accept:e,canDrop:e=>e.nodeId!==t.id&&(!r||e.type!==p.eD.FOLDER||t.type!==p.eD.FOLDER)&&(e.type!==p.eD.FOLDER||null==t.parentId),drop(e){let{nodeId:i}=e;r&&t.type!==p.eD.FOLDER&&d.default.track(f.rMx.GUILD_FOLDER_CREATED),u.Z.moveById(i,t.id,n,r)},collect:e=>({canDrop:e.canDrop(),isOver:e.isOver()})}}function y(e){let{name:t,targetNode:n,combine:l,below:o}=e,a=i.useMemo(()=>O([p.eD.GUILD,p.eD.FOLDER],n,o,l),[n,o,l]),[{canDrop:s,isOver:u},d]=(0,c.L)(a),h=b([[s,m.autoPointerEvents],[u,m.dragOver]]);return(0,r.jsx)("div",{ref:e=>{h.current=e,d(e)},"data-dnd-name":g.intl.formatToPlainString(g.t.A5aDw8,{itemName:t}),className:m.target})}function _(e){let{name:t,targetNode:n,onDragOverChanged:l}=e,[{canDrop:a,isOver:s},u]=(0,c.L)(()=>O([p.eD.GUILD],n,!0,!0));i.useEffect(()=>{null==l||l(s)},[l,s]);let d=b([[a,m.autoPointerEvents],[s,m.dragOver]]);return(0,r.jsx)(h.Z,{text:t,shouldShow:s,forceOpen:s,disableWrapper:!0,tooltipClass:m.centerTargetTooltip,children:(0,r.jsx)("div",{ref:e=>{d.current=e,u(e)},"data-dnd-name":g.intl.formatToPlainString(g.t.qiQ0QE,{itemName:t}),className:o()(m.centerTarget,{})})})}let j=i.memo(function(e){let{name:t,targetNode:n,noCombine:i=!1,below:l=!1,onDragOverChanged:o}=e,a=!i&&null==n.parentId;return(0,r.jsxs)("div",{className:m.wrapper,"aria-hidden":!0,children:[(0,r.jsx)(y,{name:t,targetNode:n,below:l}),a?(0,r.jsx)(_,{name:t,targetNode:n,onDragOverChanged:o}):null]})});function v(e){let{name:t,targetNode:n}=e,[{canDrop:i,isOver:l},o]=(0,c.L)(()=>O([p.eD.GUILD],n,!0,!0)),a=b([[l,m.wrapperOver]]),s=b([[l,m.dragOver],[i,m.autoPointerEvents]]);return(0,r.jsx)("div",{ref:a,className:m.folderEndWrapper,"aria-hidden":!0,children:(0,r.jsx)("div",{className:m.folderTarget,children:(0,r.jsx)("div",{ref:e=>{s.current=e,o(e)},"aria-label":"At end of ".concat(t),className:m.target})})})}function x(e){let{children:t}=e,[,n]=(0,c.L)({accept:[]});return(0,r.jsx)("div",{ref:e=>{n(e)},children:t})}},416568:function(e,t,n){n.d(t,{Z:()=>ec}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(392711),s=n.n(a),c=n(843611),u=n(91192),d=n(374470),p=n(442837),h=n(902704),f=n(846519),g=n(692547),m=n(481060),b=n(925549),O=n(493773),y=n(209613),_=n(100527),j=n(906732),v=n(358221),x=n(706590),C=n(940777),E=n(113544),S=n(41776),P=n(821020),I=n(770858),N=n(905423),w=n(796974),Z=n(478738),T=n(271383),A=n(430824),R=n(771845),D=n(358085),M=n(727258),L=n(605951),k=n(474109),U=n(741616),G=n(187835),B=n(118122),F=n(193154),V=n(602147),H=n(222059),z=n(751277),W=n(65721),K=n(843343),Y=n(654142),q=n(695301),X=n(836697),Q=n(921230),J=n(981631),$=n(388032),ee=n(933774);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){et(e,t,n[t])})}return e}let er=(0,D.isWindows)()?4:12*!(0,D.isMac)();function ei(e){return e.startsWith(J.Z5c.GUILD_DISCOVERY)||e.startsWith(J.Z5c.GLOBAL_DISCOVERY)}class el{setGuildsTree(e){this.guildsTree=e}constructor(e,t,n,r,l){et(this,"guildsTree",void 0),et(this,"setScrolling",void 0),et(this,"setIsScrolledToBottom",void 0),et(this,"onScroll",void 0),et(this,"sizes",void 0),et(this,"scrollerRef",void 0),et(this,"nodeRefs",void 0),et(this,"timeout",void 0),et(this,"observer",void 0),et(this,"setResizeObserver",void 0),et(this,"clearResizeObserver",void 0),et(this,"scrollToGuild",void 0),et(this,"handleJumpToGuild",void 0),et(this,"scrollTo",void 0),et(this,"scrollToBottom",void 0),et(this,"isItemVisible",void 0),et(this,"getVisibleGuildIds",void 0),et(this,"handleScroll",void 0),et(this,"_handleScrollDebounced",void 0),et(this,"_handleScrollThrottled",void 0),et(this,"setNodeRef",void 0),this.guildsTree=e,this.setScrolling=t,this.setIsScrolledToBottom=n,this.onScroll=r,this.sizes=l,this.scrollerRef=i.createRef(),this.nodeRefs={},this.timeout=new f.V7,this.setResizeObserver=()=>{var e;let t=null==(e=this.scrollerRef.current)?void 0:e.getScrollerNode();null!=t&&(this.observer=new ResizeObserver(this.handleScroll),this.observer.observe(t))},this.clearResizeObserver=()=>{var e;null==(e=this.observer)||e.disconnect(),this.observer=void 0},this.scrollToGuild=(e,t)=>{let n=this.scrollerRef.current;if(null==n||null==e&&ei(window.location.pathname)||e===J.x8Z.SERVER_DISCOVERY_BADGE||e===J.x8Z.E3_SERVER_DISCOVERY_BADGE)return;if(null==e)return void n.scrollTo({to:0,animate:t});let r=this.nodeRefs[e];for(;null==r;){let t=this.guildsTree.getNode(e);if((null==t?void 0:t.parentId)==null)break;r=this.nodeRefs[t.parentId]}null!=r&&(0,d.k)(r)?n.scrollIntoViewNode({node:r,animate:t,padding:8}):n.scrollTo({to:0,animate:t})},this.handleJumpToGuild=e=>{this.scrollToGuild(e,!0)},this.scrollTo=e=>{var t;null==(t=this.scrollerRef.current)||t.scrollTo(e)},this.scrollToBottom=()=>{var e;null==(e=this.scrollerRef.current)||e.scrollToBottom()},this.isItemVisible=(e,t,n)=>{let{iconTotalSize:r,badgeVisibleBuffer:i,heightBeforeIcons:l}=this.sizes,o=this.scrollerRef.current;if(null==o)return!1;let a=n.findIndex(t=>"string"==typeof t||null==t?t===e:t.includes(e));if(a<0)return!1;let s=r*a+l;t||(s+=i);let c=o.getScrollerState();return!t&&!!(s>=c.scrollTop)||!!t&&!!(s+r<=c.scrollTop+c.offsetHeight)},this.getVisibleGuildIds=()=>{var e;let t=this.scrollerRef.current;if(null==t)return[];let n=t.getScrollerState().offsetHeight,r=null==(e=t.getScrollerNode())?void 0:e.getBoundingClientRect().top;return void 0===r?[]:this.guildsTree.sortedGuildNodes().filter(e=>{var t;let i=null!=(t=e.parentId)?t:e.id,l=this.nodeRefs[i];if(null==l)return!1;let o=l.getBoundingClientRect(),a=o.top-r;return a+o.height>0&&a<n}).map(e=>{let{id:t}=e;return t})},this.handleScroll=()=>{this.setScrolling(!0),this.timeout.start(200,()=>this.setScrolling(!1)),this._handleScrollDebounced(),this._handleScrollThrottled()},this._handleScrollDebounced=s().debounce(()=>{let e=this.scrollerRef.current;if(null==e)return;let{scrollTop:t}=e.getScrollerState();b.Z.updateGuildListScrollTo(t),this.onScroll()},200),this._handleScrollThrottled=s().throttle(()=>{let e=this.scrollerRef.current;null!=e&&this.setIsScrolledToBottom(e.isScrolledToBottom())},100),this.setNodeRef=(e,t)=>{this.nodeRefs[e]=t},(0,E.zb)(this.getVisibleGuildIds)}}function eo(e){let{hideDms:t,scrollToTop:n,lurkingGuildIds:i}=e,l=(0,x.Z)(),{pathname:o}=(0,c.TH)(),a=o.startsWith(J.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")),s=(0,p.Wu)([A.Z,T.ZP],()=>A.Z.getGuildIds().filter(e=>T.ZP.isCurrentUserGuest(e))),u=i.concat(s),{entrypoint:d}=(0,P.pN)({location:"GuildsBar"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.u,{}),d===P.u3.SERVER_RAIL_TOP&&(0,r.jsx)(I.Z,{}),l?(0,r.jsx)(C.Z,{}):null,(0,r.jsx)(z.Z,{isOnHubVerificationRoute:a}),!t&&(0,r.jsx)(U.Z,{}),u.map(e=>(0,r.jsx)(Q.Z,{guildId:e},e)),(0,r.jsx)(X.Z,{onActivate:n})]})}function ea(e){let{guildDiscoveryButton:t,disableAppDownload:n,isOverlay:i,renderTreeNode:l,lurkingGuildIds:o}=e,[a]=(0,p.Wu)([R.ZP],()=>{let e=R.ZP.getGuildsTree();return[e,e.version]}),s=a.getRoots(),c=(0,p.Wu)([Z.Z],()=>Z.Z.getGeoRestrictedGuilds()).map(e=>(0,r.jsx)(F.Z,{id:e.id,name:e.name,icon:e.icon},e.id));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Kqy,{role:"group","aria-label":$.intl.string($.t["7hB4kp"]),gap:"xs",children:s.map((e,t)=>l(e,t,s.length))}),c,(0,r.jsx)(K.Z,{}),i?null:(0,r.jsx)(B.Z,{disableTooltip:o.length>0,lastTargetNode:s[s.length-1]}),i?null:t,n?null:(0,r.jsx)(G.Z,{})]})}function es(e){let{disableAppDownload:t=D.isPlatformEmbedded,isOverlay:n=!1,className:l,themeOverride:a}=e,[s]=(0,p.Wu)([R.ZP],()=>{let e=R.ZP.getGuildsTree();return[e,e.version]}),d=(0,p.e7)([S.Z],()=>S.Z.lurkingGuildIds()),h=i.useMemo(()=>n?[]:d,[d,n]),b=(0,p.e7)([v.Z],()=>v.Z.isFullscreenInContext()),[y,x]=i.useState(!1),C=i.useCallback(()=>x(!0),[]),E=i.useCallback(()=>x(!1),[]),Z=i.useRef(!1),[T]=i.useState(()=>new f.V7),A=i.useRef(null),U=i.useRef(null),G=(0,u.OP)(),{ref:B}=G,F=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(G,["ref"]),H=(0,m.mFp)(),[z,K]=i.useState(!1),X=(0,m.dQu)(g.Z.modules.guildbar.AVATAR_SIZE),Q=(0,m.dQu)(g.Z.space.SPACE_XS),et=i.useMemo(()=>{let e=function(e,t){let n=e+t,r=2+t;return{iconSize:e,iconTotalSize:n,badgeVisibleBuffer:n-16,separatorSize:r,heightBeforeIcons:er+r}}(X,Q);return new el(s,K,J.dG4,()=>{var e,t;null==(e=A.current)||e.calculateState(),null==(t=U.current)||t.calculateState()},e)},[X,Q,s]);i.useEffect(()=>(et.setResizeObserver(),()=>{et.clearResizeObserver()}),[et]);let{analyticsLocations:es}=(0,j.ZP)(_.Z.GUILDS_LIST),{pathname:ec}=(0,c.TH)(),eu=ei(ec);(0,O.Ng)(()=>{if(!Z.current&&0!==s.size){if(!eu){let{scrollTop:e}=w.Z.getGuildListDimensions();et.scrollTo({to:e,animate:!1})}return Z.current=!0,()=>T.stop()}}),i.useEffect(()=>{if(et.setGuildsTree(s),Z.current||0===s.size)return;let e=N.Z.getState().guildId;et.scrollToGuild(e,!1);let t=null;return N.Z.subscribe(e=>{let{guildId:n}=e;n!==t&&(t=n,et.scrollToGuild(t,!1))})},[s,et]);let ed=i.useCallback(()=>{et.scrollTo({to:0,animate:!1})},[et]);(0,L.Z)(et.scrollToGuild);let ep=i.useCallback(function e(t,n,i){switch(t.type){case M.eD.FOLDER:return(0,r.jsx)(Y.Z,{folderNode:t,setNodeRef:et.setNodeRef,draggable:!0,sorting:y,onDragStart:C,onDragEnd:E,renderChildNode:e,"aria-setsize":i,"aria-posinset":void 0!==n?n+1:void 0},t.id);case M.eD.GUILD:return(0,r.jsx)(q.Z,{guildNode:t,setRef:et.setNodeRef,draggable:!0,sorting:y,onDragStart:C,onDragEnd:E,"aria-setsize":i,"aria-posinset":void 0!==n?n+1:void 0},t.id);default:return null}},[C,E,y,et.setNodeRef]),eh=(0,r.jsx)(V.Z,{selected:eu,className:ee.discoveryIcon}),{entrypoint:ef}=(0,P.pN)({location:"GuildsBar"}),eg=ef===P.u3.SERVER_RAIL_BOTTOM;return(0,r.jsx)(j.Gt,{value:es,children:(0,r.jsx)(m.f6W,{theme:a,children:e=>{var i,a;return(0,r.jsxs)("nav",{className:o()(ee.wrapper,l,e,{[ee.hidden]:b}),"aria-label":$.intl.string($.t.PjnF2t),children:[(0,r.jsx)(k.Z,{ref:A,isVisible:et.isItemVisible,onJumpTo:et.handleJumpToGuild,className:ee.unreadMentionsIndicatorTop,barClassName:ee.unreadMentionsBar}),(0,r.jsx)("ul",(i=en({ref:B},F,H),a=a={role:"tree",className:ee.tree,children:(0,r.jsxs)("div",{className:ee.itemsContainer,children:[(0,r.jsxs)(m.xVE,{className:o()({[ee.scroller]:!0,[ee.scrolling]:z}),experimental_useStack:!0,gap:"xs",ref:et.scrollerRef,onScroll:et.handleScroll,children:[(0,r.jsx)(eo,{scrollToTop:ed,lurkingGuildIds:h}),(0,r.jsx)(W.Z,{}),(0,r.jsx)(ea,{guildDiscoveryButton:eh,disableAppDownload:t,isOverlay:n,renderTreeNode:ep,lurkingGuildIds:h})]}),eg&&(0,r.jsxs)("div",{children:[(0,r.jsx)(W.Z,{fullWidth:!0}),(0,r.jsx)("div",{className:ee.bottomRailNotifCenterButton,children:(0,r.jsx)(I.Z,{})})]})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i)),(0,r.jsx)(k.Z,{reverse:!0,ref:U,isVisible:et.isItemVisible,onJumpTo:et.handleJumpToGuild,className:o()(ee.unreadMentionsIndicatorBottom,{[ee.unreadMentionsFixedFooter]:!n&&!eg,[ee.unreadMentionsFixedFooterBottomNotifCenterEntrypoint]:!n&&eg}),barClassName:ee.unreadMentionsBar})]})}})})}let ec=i.memo(function(e){let t=(0,y.Z)("guildsnav");return(0,r.jsx)(u.bG,{navigator:t,children:(0,r.jsx)(es,en({},e))})},(e,t)=>!1===t.isVisible||(0,h.Z)(e,t))},252686:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(686546),s=n(559931);function c(e){let{className:t,isFolder:n}=e,i=(0,o.dQu)(o.TVs.modules.guildbar.AVATAR_SIZE);return(0,r.jsx)(a.ZP,{mask:a.ZP.Masks.SQUIRCLE,className:l()(t,s.placeholderMask,{[s.isFolder]:n}),width:i,height:i,children:(0,r.jsx)("div",{className:s.dragInner})})}},474109:function(e,t,n){n.d(t,{Z:()=>j}),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(18998),a=n(664915),s=n(888369),c=n(358652),u=n(771845),d=n(613060),p=n(451478),h=n(251625),f=n(981631),g=n(388032);let m="app-download-item",b="add-server-item";function O(){return!1}function y(e){var t;let n=s.default.getMutableGuildStates();return e===f.x8Z.SERVER_DISCOVERY_BADGE&&!d.Z.hasViewed(f.x8Z.SERVER_DISCOVERY_BADGE)||e!==m&&e!==b&&(null==(t=n[null!=e?e:"null"])?void 0:t.highImportanceMentionCount)>0}let _=(0,h.oH)((e,t,n)=>["null",...t,...e,b,f.x8Z.E3_SERVER_DISCOVERY_BADGE,m]),j=i.forwardRef(function(e,t){var n,i;let d=(0,l.Wu)([u.ZP,c.Z,s.default],()=>_(u.ZP.getGuildFolders(),c.Z.getUnreadPrivateChannelIds(),s.default.getStoreChangeSentinel())),h=(0,l.e7)([p.Z],()=>p.Z.isFocused()),f=(0,l.e7)([a.Z],()=>a.Z.getExpandedFolders());return(0,r.jsx)(o.Z,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={ref:t,items:d,isUnread:O,textUnread:g.intl.string(g.t.y2b7CA),textMention:g.intl.string(g.t.y2b7CA),isMentioned:y,animate:h,expandedFolders:f},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))})},741616:function(e,t,n){n.d(t,{Z:()=>h}),n(290780);var r=n(951288),i=n(647438),l=n(442837),o=n(215569),a=n(481060),s=n(592125),c=n(358652),u=n(19780),d=n(919436),p=n(388032);function h(){(0,l.e7)([s.Z],()=>s.Z.getPrivateChannelsVersion());let e=s.Z.getMutablePrivateChannels(),t=(0,l.Wu)([c.Z],()=>c.Z.getUnreadPrivateChannelIds()),{selectedVoiceGuildId:n,selectedVoiceChannelId:h}=(0,l.cj)([u.Z],()=>({selectedVoiceGuildId:u.Z.getGuildId(),selectedVoiceChannelId:u.Z.getChannelId()})),f=t.map(t=>{let n=e[t];return null==n||n.id===h?null:(0,r.jsx)(d.Z,{channel:n},n.id)}),g=null==n&&null!=h?e[h]:null;return null!=g&&f.unshift((0,r.jsx)(d.Z,{channel:g},g.id)),(0,r.jsx)(a.Kqy,{id:"guild-list-unread-dms",role:"group","aria-label":p.intl.string(p.t.YUU0RE),gap:"xs",hidden:f.length<1,children:(0,r.jsx)(o.W,{component:i.Fragment,children:f})})}},187835:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(603592),o=n(388032);let a="DOWNLOAD_APPS";function s(){let e=(0,i.s9z)(e=>(0,i.DEQ)(e,a));return(0,r.jsx)(l.Z,{id:"app-download-button",onClick:()=>{(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("32996"),n.e("74023")]).then(n.bind(n,431583));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({source:"Guilds"},t))},{modalKey:a})},selected:e,tooltip:o.intl.string(o.t.Z7jwrK),icon:i._8t})}},603592:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(91192),s=n(481060),c=n(276952),u=n(682662),d=n(662146),p=n(790952);let h=i.forwardRef(function(e,t){var n,l;let{id:h,onClick:f,onContextMenu:g,icon:m,selected:b,tooltip:O,upperBadge:y,lowerBadge:_,lowerBadgeSize:j,showPill:v=!0,className:x,"aria-label":C,children:E,onMouseEnter:S,onMouseLeave:P,onMouseDown:I}=e,N=(0,a.Ie)(h),[w,Z]=i.useState(!1);return(0,r.jsxs)(u.H,{children:[v?(0,r.jsx)("div",{className:p.pill,children:(0,r.jsx)(c.Z,{hovered:w,selected:b})}):null,(0,r.jsx)(d.Z,{text:O,selected:b,children:(0,r.jsx)(s.aRk,{selected:!0,upperBadge:y,lowerBadge:_,lowerBadgeSize:j,children:(0,r.jsx)(s.P3F,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({innerRef:t,onMouseEnter:()=>{null==S||S(),Z(!0)},onMouseLeave:()=>{null==P||P(),Z(!1)},onMouseDown:I,className:o()(p.circleIconButton,x,{[p.selected]:b||w}),onClick:f,"aria-label":"string"==typeof O&&null==C?O:C,"aria-selected":b,onContextMenu:g,focusProps:{enabled:!1}},N),l=l={children:null!=m&&(0,r.jsx)(m,{className:p.circleIcon,color:"currentColor"})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))})}),E]})})},118122:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(239091),s=n(906732),c=n(560067),u=n(451603),d=n(885714),p=n(155409),h=n(601964),f=n(430824),g=n(594174),m=n(40153),b=n(603592),O=n(981631),y=n(675999),_=n(388032),j=n(816827);let v={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function x(e){(0,a.jW)(e,async()=>{let{default:e}=await n.e("9606").then(n.bind(n,987578));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))})}function C(e){let{disableTooltip:t,lastTargetNode:n}=e,a=(0,l.Wu)([f.Z],()=>f.Z.getGuildsArray()),C=(0,l.e7)([g.default],()=>g.default.getCurrentUser()),E=i.useMemo(()=>a.some(e=>(0,h.eM)(e,C)),[a,C]),S=(0,o.s9z)(e=>(0,o.DEQ)(e,y.PU)),{analyticsLocations:P}=(0,s.ZP)(),I=(0,r.jsx)(b.Z,{showPill:!1,id:"create-join-button",onClick:()=>{(0,u.yU)()?(0,d.Z)({analyticsSource:{page:O.Sbl.CREATE_JOIN_GUILD_MODAL},analyticsLocation:{page:O.Sbl.CREATE_JOIN_GUILD_MODAL,section:O.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:P}):c.Z.openCreateGuildModal({location:"Guild List"})},selected:S,onContextMenu:x,tooltip:_.intl.string(_.t.l5WIbW),icon:o.oFk});return t?I:(0,r.jsx)("div",{className:j.tutorialContainer,children:(0,r.jsxs)(p.Z,{tutorialId:E?"create-more-servers":"create-first-server",inlineSpecs:v,position:"right",children:[I,null!=n&&(0,r.jsx)(m.ZP,{name:_.intl.string(_.t["45xjMz"]),targetNode:n,below:!0,noCombine:!0})]})})}},179809:function(e,t,n){n.d(t,{Z:()=>w}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(574981),s=n(202841),c=n(91192),u=n(866442),d=n(477690),p=n(481060),h=n(153867),f=n(591146),g=n(771845),m=n(624138),b=n(727258),O=n(276952),y=n(199540),_=n(40153),j=n(252686),v=n(682662),x=n(662146),C=n(981631),E=n(388032),S=n(106663),P=n(534175);let I=(0,m.Mg)(d.Z.FOLDER_ITEM_ANIMATION_DURATION),N=(0,s.animated)(p.Kqy),w=i.memo(function(e){let{folderNode:t,setNodeRef:n,selected:l,expanded:s,mediaState:d,mentionCount:m=0,isMentionLowImportance:w,unread:Z=!1,defaultFolderName:T,draggable:A=!1,sorting:R=!1,onDragStart:D,onDragEnd:M,onExpandCollapse:L,onContextMenu:k,renderChildNode:U,folderButtonSize:G,folderButtonContent:B,"aria-setsize":F,"aria-posinset":V}=e,{id:H,name:z,children:W}=t,[K,Y]=i.useState(!1),[q,X]=i.useState(!1),Q=K||q,J=(0,f.Ml)("FolderItem");i.useEffect(()=>{R&&Y(!1)},[R]);let[{dragging:$},ee]=(0,a.c)({type:b.eD.FOLDER,item:()=>(null==D||D(),{type:b.eD.FOLDER,nodeId:t.id}),end(){null==M||M(),(0,h.V1)(g.ZP.getCompatibleGuildFolders())},collect:e=>({dragging:e.isDragging()})}),et=i.useCallback(e=>{X(e)},[]),en=i.useCallback(e=>{("ArrowRight"===e.key&&!s||"ArrowLeft"===e.key&&s)&&L()},[L,s]),er=null!=z&&""!==z?z:null!=T&&""!==T?T:E.intl.string(E.t.xV9hVl),ei=(0,c.Ie)("".concat(H)),el="folder-items-".concat(H),eo=function(e){let t=(0,p.dQu)(p.TVs.modules.guildbar.FOLDER_SIZE),n=(0,p.dQu)(p.TVs.modules.guildbar.AVATAR_SIZE),r=(0,p.dQu)(p.TVs.space.SPACE_XS);return e*(n+r)-r+(r-(t-n)/2)+(0,p.dQu)(p.TVs.space.SPACE_4)}(W.length),ea=(0,p.Yzy)(!$&&s,{from:{height:0},enter:{height:1},leave:{height:0},config:{duration:I}}),es=i.useCallback(e=>null==n?void 0:n(H,e),[n,H]),ec=(0,r.jsxs)(v.H,{children:[(0,r.jsx)(O.Z,{disabled:$||s,hovered:K,selected:l,unread:Z,className:P.pill}),(0,r.jsx)(x.Z,{text:er,disabled:R,selected:l,disableWrapper:!0,children:(0,r.jsx)("div",{ref:A?e=>{ee(e)}:void 0,className:o()(S.folderHeader,{[S.folderHeaderSmall]:"icon"===G||J,[P.wobble]:!$&&q&&!s}),"data-dnd-name":er,children:$?(0,r.jsx)(j.Z,{isFolder:!0}):(0,r.jsx)(y.Z,{folderNode:t,expanded:s,sorting:R,mediaState:d,mentionCount:m,isMentionLowImportance:w,tooltipName:er,folderGroupId:el,onClick:L,onContextMenu:k,onHoverChange:Y,onKeyDown:en,treeItemProps:ei,folderButtonContent:B,"aria-setsize":F,"aria-posinset":V})})}),A?(0,r.jsx)(_.ZP,{name:er,targetNode:t,onDragOverChanged:et}):null]}),eu=null!=t.color?t.color:C.Wyy,ed=eu===C.Wyy?void 0:(0,u.Rf)(eu);return(0,r.jsxs)("div",{ref:es,className:o()(S.folderGroup,{[S.isExpanded]:s,[S.isHovering]:Q}),style:{"--custom-folder-color":null!=ed?ed:""},"data-drop-hovering":q,children:[!$&&s&&(0,r.jsx)("span",{className:S.folderGroupBackground}),ec,ea((e,n,i)=>{let{key:l}=i;return n&&(0,r.jsx)(N,{id:el,role:"group",as:"ul",gap:"xs",className:S.folderGuildsList,style:{height:e.height.to(e=>e*eo)},"aria-label":t.name,children:W.map((t,n)=>U(t,n,W.length,e.height))},l)}),A&&s?(0,r.jsx)(_.Zu,{name:er,targetNode:t}):null]})})},193154:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(91192),o=n(481060),a=n(460562),s=n(768581),c=n(682662),u=n(662146),d=n(961699);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e){let[t,h]=i.useState(!1),f=(0,l.Ie)("guild-".concat(e.id));return(0,r.jsx)(c.H,{children:(0,r.jsx)(u.Z,{text:e.name,children:(0,r.jsx)(o.aRk,{className:d.circleIconButton,selected:t,lowerBadge:(0,r.jsx)(o.G2e,{icon:(0,o.GSL)(a.Z),disableColor:!0,className:d.geoRestrictedBadge}),children:(0,r.jsx)(o.LYs,p({name:e.name,onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},onClick:()=>{(0,o.ZDy)(async()=>{let{default:t}=await n.e("42358").then(n.bind(n,210995));return n=>(0,r.jsx)(t,p({name:e.name,guildId:e.id},n))})},icon:null!=e.icon?s.ZP.getGuildIconURL({id:e.id,icon:e.icon,canAnimate:!1,size:42}):null},f))})})})}},602147:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(636977),o=n(481060),a=n(571457),s=n(836768),c=n(749681),u=n(258971),d=n(603592),p=n(49898),h=n(128449),f=n(46140),g=n(388032);let m=i.forwardRef(function(e,t){let{selected:n,onClick:m,questId:b,className:O}=e,y=i.useCallback(()=>{(0,a.k5)({source:p.GlobalDiscoveryAnalyticsLocations.GUILDS_BAR_ICON});let e=void 0!==b?p.GlobalDiscoveryTab.QUESTS:s.Z.getField("selectedTab");switch(e){case p.GlobalDiscoveryTab.QUESTS:return(0,c.transitionToGlobalDiscovery)({tab:p.GlobalDiscoveryTab.QUESTS,location:f.dr.DISCOVERY_COMPASS,questContent:l.j.DISCOVERY_COMPASS,questId:b});case p.GlobalDiscoveryTab.SERVERS:return(0,c.transitionToGlobalDiscovery)({tab:p.GlobalDiscoveryTab.SERVERS,entrypoint:h.Qq.GUILDS_BAR});case p.GlobalDiscoveryTab.APPS:return(0,c.transitionToGlobalDiscovery)({tab:p.GlobalDiscoveryTab.APPS,newSessionState:{entrypoint:{name:u.xF.GLOBAL_DISCOVERY_BUTTON},restorePreviousView:!0}});default:return(0,c.transitionToGlobalDiscovery)({tab:e})}},[b]);return(0,r.jsx)(d.Z,{id:"guild-discover-button",ref:t,className:O,onClick:()=>{y(),void 0!==m&&m()},selected:n,tooltip:g.intl.string(g.t["4nEZLi"]),icon:o.Jmo})})},325257:function(e,t,n){n.d(t,{Z:()=>k}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(574981),s=n(202841),c=n(91192),u=n(399606),d=n(846519),p=n(481060),h=n(493683),f=n(239091),g=n(153867),m=n(377171),b=n(35225),O=n(703656),y=n(769654),_=n(601964),j=n(271383),v=n(771845),x=n(727258),C=n(276952),E=n(249792),S=n(40153),P=n(593618),I=n(252686),N=n(682662),w=n(674552),Z=n(981631),T=n(388032),A=n(534175);function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function D(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let M={analyticsSource:{page:Z.ZY5.GUILD_CHANNEL,section:Z.jXE.CHANNEL_LIST,object:Z.qAy.CHANNEL}};function L(e,t){(0,f.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("1806"),n.e("36599"),n.e("60962"),n.e("58175"),n.e("7654"),n.e("44156"),n.e("47463"),n.e("6850"),n.e("58227"),n.e("54408"),n.e("42926"),n.e("20087"),n.e("6049"),n.e("56534"),n.e("87154"),n.e("33213"),n.e("35237")]).then(n.bind(n,545135));return n=>(0,r.jsx)(e,D(R({},n),{guild:t}))})}let k=i.memo(function(e){var t,n,l,f,k;let{guildNode:U,setRef:G,onDragStart:B,onDragEnd:F,route:V,guild:H,animatable:z,selected:W=!1,unread:K=!1,mediaState:Y,unavailable:q=!1,badge:X=0,isMentionLowImportance:Q,contextMenu:J=L,draggable:$=!1,sorting:ee=!1,preloadOnClick:et=!0,guildJoinRequestStatus:en,height:er,"aria-setsize":ei,"aria-posinset":el}=e,{id:eo,parentId:ea}=U,es=null!=(t=e.upperBadge)?t:q?(0,w.Ny)():null!=Y?(0,w.Or)(Y):void 0,ec=null!=(n=e.lowerBadge)?n:void 0;null==ec&&X>0?ec=null!=(l=(0,w.Ne)(X,Q?m.Z.BACKGROUND_ACCENT:m.Z.STATUS_DANGER))?l:void 0:null==ec&&null!=en&&(ec=null!=(f=(0,w.jt)({guildJoinRequestStatus:en}))?f:void 0);let eu=null!=(k=e.lowerBadgeSize)?k:{width:(0,p.OVM)(X)},[{dragging:ed},ep]=(0,a.c)({type:x.eD.GUILD,item:()=>(requestAnimationFrame(()=>{null==B||B()}),{type:U.type,nodeId:U.id}),end(){null==F||F(),(0,g.V1)(v.ZP.getCompatibleGuildFolders())},collect:e=>({dragging:e.isDragging()})}),eh=(0,c.Ie)(null!=eo?eo:Z.lds,null!=ea?2:1),[ef,eg]=i.useState(!1),em=!ee&&ef,[eb,eO]=i.useState(!1),[ey,e_]=i.useState(!1),[ej]=i.useState(()=>new d.sW(70,()=>e_(!0)));i.useEffect(()=>()=>ej.cancel(),[ej]);let ev=i.useCallback(()=>{if(null!=V)return void(0,O.uL)(V,{state:M});(0,y.X)(eo,{state:M})},[eo,V]),ex=i.useCallback(()=>{if(null!=V||null==H||q||!et)return;let e=(0,b.V)(H.id);null!=e&&h.Z.preload(H.id,e)},[V,H,q,et]),eC=(0,u.e7)([j.ZP],()=>j.ZP.isCurrentUserGuest(eo)),eE=i.useCallback(e=>{null==H||eC||J(e,H)},[H,J,eC]),eS=i.useCallback(e=>{if("ArrowLeft"===e.key&&null!=ea){var t;null==(t=document.querySelector("[aria-owns=folder-items-".concat(ea,"]")))||t.focus()}},[ea]),eP=i.useCallback(e=>{if(e)return void ej.delay();ej.cancel(),e_(!1)},[ej]),eI=i.useCallback(e=>{null==G||G(eo,e)},[eo,G]),eN=(0,p.dQu)(p.TVs.modules.guildbar.AVATAR_SIZE);if(null==H)return null;let ew=ey||eb?(0,r.jsx)(E.Z,{guild:H,show:ey,active:W,onAnimationStart:function(){eO(ey)},onAnimationRest:function(){ey||eO(!1)}}):(0,r.jsx)(p.LYs,D(R({ariaLabel:T.intl.formatToPlainString(T.t["/uzRsr"],{guildName:H.name,mentions:X}),name:H.name,onClick:ev,onMouseEnter:function(){ee||eg(!0)},onMouseLeave:function(){ee||eg(!1)},onMouseDown:ex,onContextMenu:eE,onKeyDown:eS,icon:(0,_.EB)(H,2*eN,em&&z,!0),selected:W||em},eh),{"aria-setsize":ei,"aria-posinset":el,"aria-selected":W})),eZ=ed?(0,r.jsx)(S.OG,{children:(0,r.jsx)(I.Z,{})}):(0,r.jsx)(s.animated.div,{ref:$?e=>{ep(e)}:void 0,"data-dnd-name":H.name,style:{scale:null==er?1:er},"data-drop-hovering":ey,className:o()(A.blobContainer,{[A.sorting]:ee,[A.wobble]:ey,[A.selected]:ey||W}),children:(0,r.jsx)(p.aRk,{selected:!0,upperBadge:es,lowerBadge:ec,lowerBadgeSize:eu,children:ew})});return(0,r.jsxs)(N.H,{ref:eI,children:[(0,r.jsx)(C.Z,{hovered:!ed&&em,selected:!ed&&W,unread:!ed&&K,className:A.pill}),(0,r.jsx)(P.Z,{guild:H,disabled:ee,isDragging:ed,children:eZ}),$?(0,r.jsx)(S.ZP,{name:H.name,targetNode:U,onDragOverChanged:eP}):null]})})},222059:function(e,t,n){n.d(t,{u:()=>D}),n(388685);var r=n(951288),i=n(647438),l=n(91192),o=n(442837),a=n(433517),s=n(481060),c=n(339149),u=n(864682),d=n(550385),p=n(899740),h=n(849862),f=n(460181),g=n(155409),m=n(944486),b=n(594174),O=n(431),y=n(774343),_=n(417363),j=n(941128),v=n(780570),x=n(278464),C=n(276952),E=n(682662),S=n(662146),P=n(674552),I=n(981631),N=n(474936),w=n(871465),Z=n(388032),T=n(815141);let A={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function R(e){var t,n;let{selected:o,user:p,badge:h,link:m,showProgressBadge:b}=e,[O,y]=i.useState(!1),[_,j]=i.useState(!1),[v,x]=i.useState(null),[N,R]=i.useState(0),D=(0,l.Ie)("home"),M=(0,d.oq)().activePanel===d.wh.APP_ICON,L=()=>{x(null),R(0),clearTimeout(v)};if(null==p)return null;let k=Z.intl.string(Z.t.YUU0RE);_&&(k=a.K.get(I.wli)?Z.intl.string(Z.t.nkq1l5):Z.intl.string(Z.t.Be8Q5O));let U=null;!o&&b&&(U=(0,r.jsx)(c.Z,{className:T.downloadProgress,determineOwnVisibility:!1}));let G=o||O||M,B=(0,r.jsx)(s.aRk,{selected:!0,lowerBadge:h>0?(0,P.Ne)(h):null,upperBadge:U,lowerBadgeSize:{width:(0,s.OVM)(h)},children:(0,r.jsx)(s.LYs,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onClick:()=>{if(!__OVERLAY__&&(null!=v&&clearTimeout(v),x(setTimeout(L,500)),R(N+1),15===N)){L();let e=!a.K.get(I.wli);a.K.set(I.wli,e),e&&a.K.set(w.O5,!0),e?(0,f.GN)("discodo"):(0,f.GN)("user_leave"),j(!0),setTimeout(()=>{j(!1)},1e3)}},selected:G,ariaLabel:Z.intl.string(Z.t.YUU0RE),"aria-owns":"guild-list-unread-dms","aria-selected":o},D),n=n={to:{pathname:m,state:{analyticsSource:{page:I.ZY5.GUILD_CHANNEL,section:I.jXE.NAVIGATION,object:I.qAy.BUTTON_HOME}}},children:(0,r.jsx)(u.Z,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))});return(0,r.jsx)("div",{className:T.tutorialContainer,children:(0,r.jsx)(g.Z,{inlineSpecs:A,tutorialId:"friends-list",position:"right",children:(0,r.jsxs)(E.H,{children:[(0,r.jsx)(C.Z,{selected:o,hovered:O,className:T.pill}),(0,r.jsx)(S.Z,{color:s.ua7.Colors.PRIMARY,hideOnClick:!0,text:k,selected:o,children:B})]})})})}function D(){let e=(0,x.n)(),t=(0,o.e7)([j.Z,_.Z],()=>{let e=(0,c.E)(j.Z.activeItems,_.Z),{total:t,progress:n}=v.lK(e),r=v.xI(n,t);return r>0&&r<100}),n=(0,h.If)(),i=Object.keys(N.nG),{unviewedTrialCount:l,unviewedDiscountCount:a}=(0,o.cj)([O.Z],()=>({unviewedTrialCount:O.Z.getUnacknowledgedOffers(i).length,unviewedDiscountCount:O.Z.getUnacknowledgedDiscountOffers().length})),s=l+a,u=(0,o.e7)([b.default],()=>b.default.getCurrentUser()),d=(0,p.q)(),f=n+s+d,g=f===s&&s>0&&n+d===0,C=y.Z.getHomeLink();return g&&(C=I.Z5c.APPLICATION_STORE),(0,r.jsx)(R,{selected:e,user:u,selectedChannelId:m.Z.getChannelId(I.ME),badge:f,link:C,showProgressBadge:t})}},751277:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(843611),l=n(442837),o=n(481060),a=n(893607),s=n(701190),c=n(411198),u=n(836040),d=n(603592),p=n(981631),h=n(388032);function f(e){var t;let{isOnHubVerificationRoute:n}=e,f=(0,i.LX)(null!=(t=window.location.pathname)?t:"",{path:p.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(a.Hw.guildId(),":inviteCode")}),g=(0,l.e7)([s.Z],()=>{if(null==f)return null;let{inviteCode:e}=f.params;return null!=e?s.Z.getInvite(e):null}),m=(null==g?void 0:g.guild)!=null?(0,c.Qs)(null==g?void 0:g.guild):null;return n?null!=m&&null!=g?(0,r.jsx)(u.Z,{guild:m,invite:g}):(0,r.jsx)(d.Z,{tooltip:h.intl.string(h.t.rn9HIS),id:"guild-hub-button",icon:o.aVH}):null}},682662:function(e,t,n){n.d(t,{H:()=>o});var r=n(951288),i=n(647438),l=n(816827);let o=i.forwardRef((e,t)=>{let{children:n}=e;return(0,r.jsx)("div",{className:l.listItem,ref:t,children:n})});o.displayName="ListItem"},662146:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(481060),s=n(657955);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function u(e){let{children:t,text:n,color:l,disableWrapper:u=!1,disabled:d=!1,hideOnClick:p=!0,shouldShow:h,forceOpen:f,selected:g=!1,tooltipClass:m,tooltipContentClass:b}=e;return(0,r.jsx)(a.ua7,{shouldShow:h,forceOpen:f,spacing:12,hideOnClick:p,text:d?null:n,position:"right",color:l,"aria-label":!1,tooltipClassName:o()(s.listItemTooltip,m),tooltipContentClassName:b,children:e=>{var n,l;return u?i.cloneElement(i.Children.only(t),c({},e)):(0,r.jsx)("div",(n=c({className:o()(s.listItemWrapper,{[s.selected]:g})},e),l=l={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))}})}},65721:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(682662),a=n(811270);function s(e){let{fullWidth:t}=e;return(0,r.jsx)(o.H,{children:(0,r.jsx)("div",{className:l()(a.guildSeparator,{[a.fullWidth]:t})})})}},843343:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(91192),l=n(442837),o=n(481060),a=n(299379),s=n(486472),c=n(430824),u=n(682662),d=n(662146),p=n(981631),h=n(388032),f=n(419619);function g(){var e,t;let n=(0,l.e7)([s.Z,c.Z],()=>s.Z.unavailableGuilds.filter(e=>null==c.Z.getGuild(e)).length),g=(0,i.Ie)("unavailable-guilds-button");return n<=0?null:(0,r.jsx)(u.H,{children:(0,r.jsx)(d.Z,{text:h.intl.format(h.t["TnH05+"],{count:n}),color:o.ua7.Colors.RED,children:(0,r.jsx)(o.eee,(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({href:(0,a.Z)(p.RK.TWITTER),target:"_blank",className:f.guildsError,"aria-label":h.intl.formatToPlainString(h.t["MEpX+/"],{count:n})},g),t=t={children:(0,r.jsx)(o.Mgn,{color:"currentColor","aria-hidden":!0})},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))})})}},674552:function(e,t,n){n.d(t,{Ne:()=>f,Ny:()=>g,Or:()=>b,jt:()=>O}),n(388685);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(456100),s=n(44315),c=n(246364),u=n(460562),d=n(981631),p=n(816827);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t,n){return(0,r.jsx)(o.mAB,{count:e,color:t,"aria-hidden":n})}function g(){return(0,r.jsx)(o.G2e,{icon:(0,o.GSL)(u.Z),disableColor:!0,className:p.unavailableBadge})}function m(e){let{enabled:t}=a.c.useExperiment({location:"renderMediaBadge"},{autoTrackExposure:!0}),n=t?o.iWm:o.nG3;return(0,r.jsx)(n,h({},e))}function b(e){let t,{audio:n,video:r,screenshare:i,isCurrentUserConnected:l,liveStage:a,activeEvent:s,activity:c}=e;if(s)t=o.Que;else if(a)t=o.ewx;else if(i)t=o.pzj;else if(r)t=o.Odl;else if(n)t=o.gj8;else{if(!c)return null;t=m}return y({icon:t,isCurrentUserConnected:l})}function O(e){let{guildJoinRequestStatus:t}=e,[n,r]=function(e){switch(e){case c.wB.SUBMITTED:return[void 0,o.T39];case c.wB.REJECTED:return[d.Ilk.RED_400,o.Dio];case c.wB.APPROVED:return[d.Ilk.GREEN_360,o.dz2];default:return[void 0,o.vdY]}}(t);return y({icon:r,color:n})}function y(e){let{icon:t,color:n,isCurrentUserConnected:i}=e,a=null==n?{disableColor:!0}:{color:(0,s.Lq)(n)};return(0,r.jsx)(o.G2e,h({icon:t,className:l()(p.iconBadge,{[p.isCurrentUserConnected]:i})},a))}},654142:function(e,t,n){n.d(t,{Z:()=>O}),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(239091),a=n(749210),s=n(905423),c=n(664915),u=n(888369),d=n(430824),p=n(823379),h=n(179809),f=n(652376),g=n(981631);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let O=i.memo(function(e){var{folderNode:t}=e,O=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["folderNode"]);let{id:y,name:_,color:j,children:v}=t,x=v.map(e=>e.id),C=(0,s.Z)(e=>e.guildId),E=(0,l.e7)([c.Z],()=>c.Z.isFolderExpanded(y)),S=function(e){let t=e.children.map(e=>{let t=e.id,n=d.Z.getGuild(t);return null!=n?n.name:null}).filter(p.lm),n=2*g.dYL,r=[];for(let e of t)(e.length<n||0===r.length)&&(r.push(e),n-=e.length);return"".concat(r.join(", ")).concat(r.length<t.length?", ...":"")}(t),P=(0,f.Z)(t),{mentionCount:I,isMentionLowImportance:N,unread:w}=(0,l.cj)([u.default],()=>({mentionCount:x.map(e=>u.default.getMentionCount(e)).reduce((e,t)=>e+t,0),isMentionLowImportance:x.every(e=>u.default.getIsMentionLowImportance(e)),unread:x.some(e=>u.default.hasUnread(e))})),Z=i.useCallback(()=>{a.Z.toggleGuildFolderExpand(y)},[y]),T=i.useCallback(e=>{(0,o.jW)(e,async()=>{let{default:e}=await n.e("52590").then(n.bind(n,205784));return t=>(0,r.jsx)(e,b(m({},t),{folderId:y,folderName:_,folderColor:j,unread:w||I>0}))})},[y,_,j,w,I]);return(0,r.jsx)(h.Z,b(m({},O),{folderNode:t,expanded:E,selected:null!=C&&x.includes(C),mentionCount:I,isMentionLowImportance:N,unread:w,mediaState:P,defaultFolderName:S,onExpandCollapse:Z,onContextMenu:T}))})},695301:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(746916),s=n(965638),c=n(905423),u=n(486472),d=n(888369),p=n(430824),h=n(451478),f=n(61634),g=n(325257),m=n(144618);let b=i.memo(function(e){var t,n;let{guildNode:b,lowerBadge:O}=e,y=b.id,_=(0,l.e7)([p.Z],()=>p.Z.getGuild(y)),j=(0,a.E)(_),v=(0,l.e7)([h.Z],()=>h.Z.isFocused()),x=(0,l.e7)([u.Z],()=>u.Z.isUnavailable(y)),C=(0,c.Z)(e=>e.guildId),E=(0,f.Z)(y),{badge:S,unread:P,isMentionLowImportance:I}=(0,l.cj)([d.default],()=>({badge:d.default.getMentionCount(y),isMentionLowImportance:d.default.getIsMentionLowImportance(y),unread:d.default.hasUnread(y)})),N=(0,s.Ij)(_)&&0===S,w=i.useMemo(()=>null!=O?O:N?(0,r.jsx)("div",{className:m.pauseBackground,children:(0,r.jsx)(o.fpf,{size:"custom",color:"currentColor",className:m.pause,width:10,height:10})}):null,[O,N]);return(0,r.jsx)(g.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={guild:_,unavailable:x,animatable:v,selected:C===y,badge:S,isMentionLowImportance:I,lowerBadge:w,unread:P,mediaState:E,guildJoinRequestStatus:j},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})},836040:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(647438),l=n(442837),o=n(451478),a=n(727258),s=n(325257),c=n(981631);function u(e){let{guild:t,invite:n}=e,u=i.useMemo(()=>(0,a.Mg)(t.id),[t.id]),d=(0,l.e7)([o.Z],()=>o.Z.isFocused());return null==t?null:(0,r.jsx)(s.Z,{guildNode:u,guild:t,animatable:d,draggable:!1,contextMenu:()=>{},selected:!0,route:c.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(t.id,n.code)})}},588275:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(442837),l=n(239091),o=n(246364),a=n(937111),s=n(914010),c=n(451478),u=n(325257),d=n(674552),p=n(981631);function h(e,t){(0,l.jW)(e,async()=>{let{default:e}=await n.e("6368").then(n.bind(n,987999));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}function f(e){let{guildNode:t}=e,n=t.id,l=(0,i.e7)([a.Z],()=>a.Z.getRequest(n)),f=(0,i.e7)([a.Z],()=>a.Z.getJoinRequestGuild(n),[n]),g=(0,i.e7)([c.Z],()=>c.Z.isFocused()),m=(0,i.e7)([s.Z],()=>s.Z.getGuildId());return null==f?null:(0,r.jsx)(u.Z,{guildNode:t,guild:f,animatable:g,draggable:!1,selected:n===m,preloadOnClick:!1,contextMenu:h,lowerBadge:(null==l?void 0:l.applicationStatus)===o.wB.REJECTED?(0,d.jt)({guildJoinRequestStatus:l.applicationStatus}):void 0,route:p.Z5c.GUILD_MEMBER_VERIFICATION(n)})}},836697:function(e,t,n){n.d(t,{Z:()=>_}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(110924),s=n(693546),c=n(863249),u=n(937111),d=n(914010),p=n(289090),h=n(727258),f=n(234383),g=n(179809),m=n(588275),b=n(388032),O=n(264096);function y(e){let{onActivate:t,children:n}=e,s=i.useRef(null),d=(0,l.e7)([u.Z],()=>u.Z.hasJoinRequestCoackmark()),p=i.useCallback(()=>{c.ZP.clearCoachmark()},[]),h=(0,a.Z)(d),f=i.useRef(null);return i.useEffect(()=>{if(d&&d!==h){var e,n,r,i,l;t(),null==(l=f.current)||null==(i=l.ref)||null==(r=i.current)||null==(n=r.layerRef)||null==(e=n.current)||e.updatePosition()}},[f,d,h,t]),(0,r.jsxs)("div",{className:O.container,children:[(0,r.jsx)(o.yRy,{ref:f,targetElementRef:s,shouldShow:d,renderPopout:()=>(0,r.jsxs)("div",{className:O.popoutContainer,children:[(0,r.jsxs)("div",{className:O.popoutContent,children:[(0,r.jsxs)("div",{className:O.coachmarkTextContainer,children:[(0,r.jsx)(o.X6q,{variant:"heading-md/medium",children:b.intl.string(b.t["0YV0YG"])}),(0,r.jsx)(o.Text,{variant:"text-xs/normal",color:"text-muted",children:b.intl.string(b.t["0UQVDA"])})]}),(0,r.jsx)(o.zxk,{variant:"primary",size:"sm",text:b.intl.string(b.t["4r+amZ"]),fullWidth:!0,onClick:p})]}),(0,r.jsx)("div",{className:O.popoutCaretLeft})]}),position:"right",animationPosition:"right",align:"top",spacing:16,children:e=>{var t,n;return(0,r.jsx)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={className:O.popoutAnchor,ref:s},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}}),n]})}function _(e){let{onActivate:t}=e,[n,_]=i.useState(!1),j=(0,l.e7)([d.Z],()=>d.Z.getGuildId()),v=(0,l.e7)([u.Z],()=>u.Z.hasFetchedRequestToJoinGuilds),x=(0,f.Z)(),C=(0,a.Z)(j),E=i.useMemo(()=>{let e=(0,h.qQ)({folderId:p.S.PENDING_JOIN_REQUESTS_FOLDER,folderName:b.intl.string(b.t["scsU+v"]),expanded:n,guildIds:[]});for(let t of x)e.children.push((0,h.Mg)(t,e.id));return e},[x,n]);i.useEffect(()=>{n&&!v&&s.Z.fetchRequestToJoinGuilds()},[n,v]);let S=null!=j&&x.includes(j);return(i.useEffect(()=>{!n&&S&&C!==j&&_(!0)},[n,S,C,j]),0===x.length)?null:(0,r.jsx)(y,{onActivate:t,children:(0,r.jsx)(g.Z,{folderNode:E,expanded:n,selected:S,draggable:!1,sorting:!1,onExpandCollapse:()=>{_(!n),c.ZP.clearCoachmark()},folderButtonSize:"icon",folderButtonContent:(0,r.jsx)("div",{className:O.pendingFolderButtonIcon,children:(0,r.jsx)(o.wGF,{size:"sm",color:"currentColor"})}),renderChildNode:function(e,t,n){return e.type!==h.eD.GUILD?null:(0,r.jsx)(m.Z,{guildNode:e,"aria-setsize":n,"aria-posinset":t},e.id)}})})}},921230:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(442837),o=n(905423),a=n(430824),s=n(451478),c=n(727258),u=n(61634),d=n(325257);function p(e){let{guildId:t}=e,n=i.useMemo(()=>(0,c.Mg)(t),[t]),p=(0,l.e7)([a.Z],()=>a.Z.getGuild(t)),h=(0,l.e7)([s.Z],()=>s.Z.isFocused()),f=t===(0,o.Z)(e=>{let{guildId:t}=e;return t}),g=(0,u.Z)(t);return null==p?null:(0,r.jsx)(d.Z,{guildNode:n,guild:p,animatable:h,selected:f,draggable:!1,mediaState:g})}},652376:function(e,t,n){n.d(t,{Z:()=>c});var r=n(647438),i=n(442837),l=n(623633),o=n(199902),a=n(19780),s=n(979651);function c(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.getGuildId()),c=e.children.map(e=>e.id),u=null!=n&&c.includes(n),d=!1,p=!1,h=!1,f=(0,i.e7)([a.Z],()=>a.Z.getChannelId()),g=null==(t=(0,l.Z)())?void 0:t.guild_id,m=null!=g&&c.includes(g),b=(0,i.e7)([s.Z],()=>null!=f&&s.Z.hasVideo(f),[f]),O=(0,i.e7)([o.Z],()=>o.Z.getCurrentUserActiveStream());return u&&(d=!b,p=b,h=null!=O&&null!=O.guildId&&c.includes(O.guildId)),r.useMemo(()=>({audio:d,video:p,screenshare:h,liveStage:m,isCurrentUserConnected:u}),[d,p,h,m,u])}},593364:function(e,t,n){n.d(t,{N:()=>l});var r=n(951288);n(647438);var i=n(481060);function l(e){return(0,r.jsx)(i.mAB,{count:e})}n(460562),n(78480)},688438:function(e,t,n){n.d(t,{t:()=>s});var r=n(442837),i=n(273387),l=n(975984),o=n(306680),a=n(709054);function s(e){return(0,r.e7)([i.Z,o.ZP],()=>{var t;if(null==e)return 0;let n=o.ZP.ackMessageId(e.id);if(null==n)return 0;let r=Object.values(null!=(t=i.Z.getDirectoryEntries(e.id))?t:{}).filter(e=>new Date(e.createdAt).getTime()>a.default.extractTimestamp(n));return Math.min(l._N,r.length)},[e])}},724912:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(430824),l=n(981631);function o(e){return(0,r.e7)([i.Z],()=>{var t;if(null==e)return!1;let n=i.Z.getGuild(e);return null!=(t=null==n?void 0:n.features.has(l.oNc.HUB))&&t},[e])}},258871:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(442837),l=n(481060),o=n(434479),a=n(593364),s=n(703656),c=n(944486),u=n(688438),d=n(981631),p=n(388032);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let g=[{key:"JOIN_SERVERS",renderIcon:e=>(0,r.jsx)(l.Jmo,{size:"md",color:"currentColor",className:e}),getName:()=>p.intl.string(p.t.K50GHR),handler:(e,t)=>(0,s.XU)(e.id,t.id)},{key:"ADD_SERVERS",renderIcon:e=>(0,r.jsx)(l.qJs,{size:"md",color:"currentColor",className:e}),getName:()=>p.intl.string(p.t.emRpdX),handler:(e,t)=>(0,l.ZDy)(async()=>{let{default:i}=await n.e("79764").then(n.bind(n,533202));return n=>(0,r.jsx)(i,f(h({},n),{directoryGuildName:e.name,directoryGuildId:e.id,directoryChannelId:t.id}))})},{key:"INVITE_MEMBERS",renderIcon:e=>(0,r.jsx)(l.ejJ,{className:e}),getName:()=>p.intl.string(p.t.MJQOuL),handler:(e,t)=>(0,l.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(i,f(h({},n),{guild:e,channel:t,source:d.t4x.HUB_SIDEBAR}))})}],m=e=>{let{guild:t,channel:n}=e,l=(0,i.e7)([c.Z],()=>null!=n&&c.Z.getChannelId()===n.id),s=(0,u.t)(n);return(0,r.jsx)(r.Fragment,{children:g.map(e=>{let{key:i,getName:c,handler:u,renderIcon:d}=e,p="".concat(i,"-").concat(t.id);return(0,r.jsx)(o.m,{id:p,renderIcon:d,text:c(),selected:l&&"JOIN_SERVERS"===i,onClick:null!=n?()=>u(t,n):void 0,trailing:"JOIN_SERVERS"===i&&s>0?(0,a.N)(s):null},p)})})}},175281:function(e,t,n){n.d(t,{Z:()=>A}),n(953529),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(512722),s=n.n(a),c=n(392711),u=n.n(c),d=n(748780),p=n(442837),h=n(215569),f=n(481060),g=n(612226),m=n(951483),b=n(714338),O=n(607070),y=n(460181),_=n(585483),j=n(264549),v=n(981631),x=n(388032),C=n(870525);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let S={UP:u().throttle(()=>(0,y.GN)("ddr-up"),100),DOWN:u().throttle(()=>(0,y.GN)("ddr-down"),100),LEFT:u().throttle(()=>(0,y.GN)("ddr-left"),100),RIGHT:u().throttle(()=>(0,y.GN)("ddr-right"),100)};function P(e){switch(e.keyCode){case v.yXg.ARROW_UP:return"UP";case v.yXg.ARROW_DOWN:return"DOWN";case v.yXg.ARROW_LEFT:return"LEFT";case v.yXg.ARROW_RIGHT:return"RIGHT";default:return null}}let I=[g.Q2.MESSAGE,g.Q2.NAVIGATION,g.Q2.VOICE_AND_VIDEO,g.Q2.CHAT,g.Q2.MISCELLANEOUS];function N(e){let{showBackdrop:t}=e;return(0,r.jsx)("div",{className:o()(C.backdrop,{[C.show]:t})})}function w(){let e=i.useMemo(()=>u()((0,g.Rv)()).groupBy(e=>e.group).value(),[]);return(0,r.jsx)("div",{className:C.keyboardShortcutList,children:I.map(t=>{let n=e[t],i=(0,g.UD)(t),l=(0,g.U6)(t);return(0,r.jsxs)("div",{className:C.keyboardShortcutSection,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(f.X6q,{variant:"heading-lg/semibold",children:i}),null!=l&&(0,r.jsx)(f.Text,{className:C.keybindGroupDescription,variant:"text-sm/normal",children:l})]}),(0,r.jsx)("div",{className:C.keyboardShortcutListGroup,children:n.map((e,t)=>{var n;return(null==(n=e.predicate)?void 0:n.call(e))===!1?null:(0,r.jsxs)("div",{className:C.keybindGroup,children:[(0,r.jsx)(f.Text,{variant:"text-sm/normal",children:e.description}),(0,r.jsx)("div",{className:"keybind-shortcuts",children:e.binds.map(e=>(0,r.jsx)(f.M2$,{className:C.keybindKey,shortcut:e},e))})]},t)})},t)]},t)})})}class Z extends i.PureComponent{componentDidMount(){this.lastInputedKeys=[],_.S.subscribe(v.CkL.SCROLL_PAGE_UP,this.scrollPageUp),_.S.subscribe(v.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),window.addEventListener("keydown",this.handleKeyDown,{capture:!0}),window.addEventListener("keyup",this.handleKeyUp,{capture:!0})}componentWillUnmount(){_.S.unsubscribe(v.CkL.SCROLL_PAGE_UP,this.scrollPageUp),_.S.unsubscribe(v.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),window.removeEventListener("keydown",this.handleKeyDown,{capture:!0}),window.removeEventListener("keyup",this.handleKeyUp,{capture:!0})}render(){let{UP:e,DOWN:t,LEFT:n,RIGHT:i}=this.state;return(0,r.jsxs)(d.Z.div,{className:C.keyboardShortcutsModal,style:this.getStyles(),children:[(0,r.jsxs)(f.H,{className:C.modalTitle,children:[(0,r.jsx)("div",{className:C.content,children:x.intl.string(x.t["1BdUt7"])}),(0,r.jsx)(f.M2$,{shortcut:"mod+/"})]}),(0,r.jsx)("div",{className:C.modalSubtitle,children:x.intl.string(x.t["2t19lZ"])}),(0,r.jsxs)("div",{className:C.ddrArrows,children:[(0,r.jsx)(T,{arrow:"LEFT",isActive:n,className:C.left,children:"left"}),(0,r.jsx)(T,{arrow:"DOWN",isActive:t,className:C.down,children:"down"}),(0,r.jsx)(T,{arrow:"UP",isActive:e,className:C.up,children:"up"}),(0,r.jsx)(T,{arrow:"RIGHT",isActive:i,className:C.right,children:"right"})]}),(0,r.jsx)(f.yWw,{ref:this.scrollerRef,fade:!0,children:(0,r.jsx)(f.y5t,{children:(0,r.jsx)(w,{})})})]})}constructor(...e){super(...e),E(this,"state",{UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new d.Z.Value(1),scaleX:new d.Z.Value(1),scaleY:new d.Z.Value(0),animating:!1}),E(this,"scrollerRef",i.createRef()),E(this,"lastInputedKeys",[]),E(this,"scrollPageUp",()=>{let e=this.scrollerRef.current;s()(null!=e,"Scroller is pagedUp when not mounted"),e.scrollPageUp({animate:!0})}),E(this,"scrollPageDown",()=>{let e=this.scrollerRef.current;s()(null!=e,"Scroller is pagedDown when not mounted"),e.scrollPageDown({animate:!0})}),E(this,"arrowUp",e=>{let{direction:t}=e;this.setState({[t]:!1})}),E(this,"arrowDown",e=>{let{direction:t}=e;S[t](),this.setState({[t]:!0})}),E(this,"componentWillLeave",e=>{this.setState({animating:!0}),this.state.opacity.setValue(1),this.state.scaleX.setValue(.5),this.state.scaleY.setValue(1),d.Z.sequence([d.Z.timing(this.state.opacity,{toValue:0,duration:800,easing:d.Z.Easing.cubic})]).start(e)}),E(this,"toggleOpacity",()=>{1===this.state.opacity._value?this.state.opacity.setValue(0):this.state.opacity.setValue(1)}),E(this,"getStyles",()=>({opacity:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:this.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:this.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]})),E(this,"handleKeyDown",e=>{if(this.lastInputedKeys.push(e.keyCode),this.lastInputedKeys=this.lastInputedKeys.slice(-5),this.lastInputedKeys[0]===v.yXg.H&&this.lastInputedKeys[1]===v.yXg.H&&this.lastInputedKeys[2]===v.yXg.ARROW_RIGHT&&this.lastInputedKeys[3]===v.yXg.N&&this.lastInputedKeys[4]===v.yXg.K&&this.props.activateRagingDemon(),this.props.keyboardModeEnabled)return;let t=P(e);null!==t&&(e.stopPropagation(),e.preventDefault(),this.arrowDown({direction:t}))}),E(this,"handleKeyUp",e=>{if(this.props.keyboardModeEnabled)return;let t=P(e);null!==t&&(e.stopPropagation(),e.preventDefault(),this.arrowUp({direction:t}))}),E(this,"onArrowClick",e=>{this.arrowDown({direction:e})})}}function T(e){let{isActive:t,arrow:n,className:l,children:a}=e,[s,c]=i.useState(t),u=i.useCallback(()=>{S[n](),c(!0)},[n]);return i.useEffect(()=>{if(s){let e=setTimeout(()=>c(!1),500);return()=>clearTimeout(e)}},[s]),(0,r.jsx)(f.P3F,{onClick:u,className:o()(C.arrow,l,{[C.active]:t||s}),children:a})}function A(e){let{transitionState:t,onClose:n}=e,[l,a]=i.useState(!1),[s,c]=i.useState(!1),u=i.useMemo(()=>__OVERLAY__?(0,m.Zg)():(0,g.Rv)(),[]),{keyboardModeEnabled:d,useReducedMotion:y}=(0,p.cj)([O.Z],()=>({keyboardModeEnabled:O.Z.keyboardModeEnabled,useReducedMotion:O.Z.useReducedMotion}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{showBackdrop:s}),(0,r.jsx)(f.Y0X,{className:o()(C.noBackground,{[C.noShadow]:l}),size:f.CgR.DYNAMIC,"aria-label":x.intl.string(x.t.T9DA2N),transitionState:t,parentComponent:"KeyboardShortcutsModal",children:(0,r.jsx)(h.W,{component:"div",children:l?(0,r.jsx)(j.Z,{handleDemonClose:function(){c(!1),setTimeout(n,500)}},"raging-demo"):(0,r.jsx)(Z,{content:u,keyboardModeEnabled:d,activateRagingDemon:function(){y||(b.Z.disable(),a(!0),c(!0))}},"modal")})})]})}},377400:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(570140),o=n(317770),a=n(175281),s=n(285371);class c extends o.Z{_initialize(){l.Z.subscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts),l.Z.subscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)}_terminate(){l.Z.unsubscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts),l.Z.unsubscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)}showKeyboardShortcuts(){(0,i.h7j)(e=>(0,r.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e)),{modalKey:s.J})}hideKeyboardShortcuts(){(0,i.Mr3)(s.J)}}let u=new c},264549:function(e,t,n){n.d(t,{Z:()=>b}),n(539854),n(388685),n(953529);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(392711),s=n.n(a),c=n(714338),u=n(585483),d=n(981631),p=n(24445);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=()=>(0,r.jsxs)("div",{className:p.symbol,children:[(0,r.jsx)("div",{className:p.symbolBackground}),(0,r.jsx)("img",{alt:"",src:n(977706)})]},"symbol");class g extends i.PureComponent{componentDidMount(){this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(()=>{this.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3)}componentDidUpdate(e,t){this.state.renderSecondary&&t.renderSecondary}componentWillUnmount(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)}renderPrimary(){return(0,r.jsxs)("div",{className:p.primaryExplosion,children:[(0,r.jsx)("img",{alt:"",className:p.circleInner,src:n(273226),width:70,height:69}),(0,r.jsx)("img",{alt:"",className:p.circleOuter,src:n(922026),width:96,height:95}),(0,r.jsx)("img",{alt:"",className:p.linesSecondary,src:n(827926),width:183,height:104}),(0,r.jsx)("img",{alt:"",className:p.linesMain,src:n(873180),width:69,height:180})]},"primary-explosion")}renderSecondary(e,t){return(0,r.jsxs)("div",{className:p.secondaryExplosion,style:{top:t,left:e},children:[(0,r.jsx)("img",{alt:"",className:p.circleInner,src:n(272162),width:61,height:58},"circle-inner"),(0,r.jsx)("img",{alt:"",className:p.circleOuter,src:n(632989),width:85,height:85},"circle-outer"),(0,r.jsx)("img",{alt:"",className:p.linesSecondary,src:n(376252),width:162,height:173},"lines-secondary"),(0,r.jsx)("img",{alt:"",className:p.linesMain,src:n(720617),width:156,height:306},"lines-main")]},"secondary-explosion")}render(){let{renderSecondary:e,offsetX:t,offsetY:n,animating:i,scale:l}=this.state,a=[this.renderPrimary()];return e&&a.push(this.renderSecondary(t,n)),(0,r.jsx)("div",{className:o()(p.container,{[p.animate]:i}),style:{top:this.props.top,left:this.props.left,transform:"scale(".concat(l,")")},children:a})}constructor(...e){super(...e),h(this,"_renderSecondaryTimeout",null),h(this,"_doneTimeout",null),h(this,"state",{animating:!1,renderSecondary:!1,scale:s().random(.6,1,!0),offsetX:s().random(0,140,!1)-70,offsetY:s().random(0,140,!1)-70}),h(this,"done",()=>{this.props.onAnimationComplete(this.props.componentId)})}}class m extends i.PureComponent{componentDidMount(){this.setTimeout(()=>{this.setState({visible:!0}),u.S.dispatch(d.CkL.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)}componentWillUnmount(){for(let e of(c.Z.enable(),this.children.length=0,this._timeouts))clearTimeout(e)}render(){return(0,r.jsx)("div",{className:o()(p.ragingDemon,{[p.visible]:this.state.visible}),children:this.children})}constructor(...e){super(...e),h(this,"_timeouts",[]),h(this,"children",[]),h(this,"state",{explosions:0,visible:!1}),h(this,"setTimeout",(e,t)=>{let n=setTimeout(e,t);return this._timeouts.push(n),n}),h(this,"removeExplosion",e=>{let t=this.children,n=t.findIndex(t=>{if(t.type!==g)return!1;let n=t.props;return null!=n.componentId&&n.componentId===e});n>=0&&t.splice(n,1),this.forceUpdate()}),h(this,"createExplosion",()=>{let e=this.children,t=window.innerWidth/2|0,n=window.innerHeight/2|0;if(this.state.explosions<8){let i="expl-".concat(this.state.explosions);e.push((0,r.jsx)(g,{componentId:i,top:s().random(n-100,n+100,!1),left:s().random(t-200,t+200,!1),onAnimationComplete:this.removeExplosion},i)),this.setTimeout(this.createExplosion,240),this.setState({explosions:this.state.explosions+1})}else this.setTimeout(this.addSymbol,750)}),h(this,"addSymbol",()=>{this.children=[(0,r.jsx)(f,{},"symbol")],this.forceUpdate(),this.setTimeout(this.delayedClose,3e3)}),h(this,"delayedClose",()=>{this.props.handleDemonClose()})}}let b=m},899740:function(e,t,n){n.d(t,{q:()=>l});var r=n(442837),i=n(355298);function l(){return(0,r.e7)([i.Z],()=>i.Z.getMessageRequestsCount())}},37772:function(e,t,n){n.d(t,{Z:()=>B});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(262777),u=n(628238),d=n(976853),p=n(977683),h=n(869765),f=n(695346),g=n(592125),m=n(699516),b=n(709054),O=n(594173),y=n(786761),_=n(493892),j=n(901461),v=n(739566),x=n(443877),C=n(492593),E=n(453687),S=n(938353),P=n(25015),I=n(689674),N=n(963550),w=n(845080),Z=n(295790),T=n(145807),A=n(56744),R=n(834129),D=n(981631),M=n(388032),L=n(378661),k=n(360514);function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function G(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let B=i.memo(function e(t){var n;let i,{channel:l,message:s,compact:R=!1,className:L,onContextMenu:B,onClick:V,disableInteraction:H=!1,hasThread:z,treatSpam:W}=t,K=D.OBS.has(s.type)?s.messageReference:void 0,Y=(0,a.e7)([h.Z],()=>h.Z.getMessageByReference(K)),q=(0,a.e7)([g.Z],()=>s.type===D.uaV.THREAD_STARTER_MESSAGE&&Y.state===h.Y.LOADED?g.Z.getChannel(Y.message.channel_id):null),X=f.x4.useSetting(),Q=f.RS.useSetting(),J=f.NA.useSetting(),$=f.QK.useSetting(),ee=(0,u.A)((null!=(n=s.editedTimestamp)?n:s.timestamp).valueOf()),et=(0,d.Z)(null==l?void 0:l.id),{disableReactionCreates:en}=(0,x.Z)(l),{content:er,hasSpoilerEmbeds:ei}=(0,P.Z)(s,{hideSimpleEmbedContent:Q&&J,allowList:ee,allowHeading:ee,allowLinks:!0,previewLinkTarget:!0}),el=(0,v.ZP)(s),eo=(0,a.e7)([g.Z],()=>s.hasFlag(D.iLy.HAS_THREAD)&&g.Z.getChannel(b.default.castMessageIdAsChannelId(s.id))),ea=s.type===D.uaV.THREAD_STARTER_MESSAGE&&Y.state===h.Y.LOADED&&null!=q,es=!ea&&void 0===i,ec=(0,I.Z)({message:s,channel:l,enabled:es}),eu=(0,c.v)(s),ed=(0,O.ro)(s.id,s.channel_id),ep=(0,p.Z)(s),eh=(0,E.iG)(s);return ea?(0,r.jsx)(e,G(U({},t),{message:Y.message,channel:q,hasThread:!1})):(m.Z.isBlockedForMessage(s)?i=M.t["+FcYMz"]:m.Z.isIgnoredForMessage(s)?i=M.t.VFWjc3:(0,_.DQ)(s)&&W&&(i=M.t.xfkfTE),void 0!==i)?(0,r.jsx)(F,{className:L,compact:R,count:1,collapsedReason:i}):(0,r.jsx)(C.Z,{compact:R,className:o()(L,{[k.ephemeral]:(0,y.Pv)(s),[k.disableInteraction]:H,[k.groupStart]:t.isGroupStart}),childrenRepliedMessage:(0,A.Z)(s,l,K,Y,R),childrenHeader:(0,w.Z)(G(U({},t),{author:el,guildId:l.guild_id})),childrenAccessories:(0,r.jsx)(S.BB,{channel:l,message:s,hasSpoilerEmbeds:ei,compact:R,canSuppressEmbeds:!1,canDeleteAttachments:!1,disableReactionReads:!1,disableReactionCreates:en,disableComponentInteractivity:!0,disableReactionUpdates:!1,renderThreadAccessory:z,inlineAttachmentMedia:X,inlineEmbedMedia:Q,renderEmbeds:J,gifAutoPlay:$,poll:ep,showListsAndHeaders:ee,showMaskedLinks:ee,shouldHideMediaOptions:et,enabledContentHarmTypeFlags:eu,ctaButtonType:ed}),childrenExecutedCommand:(0,T.Z)(s,l,R),childrenMessageContent:(0,N.Z)(t,er),childrenSystemMessage:(0,Z.Z)(t),onContextMenu:B,onClick:V,hasThread:!1!==z&&null!=eo&&s.hasFlag(D.iLy.HAS_THREAD),hasReply:s.type===D.uaV.REPLY,isSystemMessage:(0,j.Z)(s),messageRef:ec,author:el,"aria-labelledby":eh,"aria-roledescription":M.intl.string(M.t.BAB0yM)})});function F(e){let{className:t,count:n,compact:i,collapsedReason:l}=e;return(0,r.jsx)(C.Z,{className:t,compact:i,role:"group",childrenMessageContent:(0,r.jsx)(R.Z,{compact:i,className:L.blockedSystemMessage,iconNode:(0,r.jsx)(s.Dio,{size:"md",color:"currentColor",className:L.blockedIcon}),children:(0,r.jsx)("div",{className:L.blockedMessageText,children:M.intl.format(l,{count:n})})})})}},650473:function(e,t,n){n.d(t,{AZ:()=>i,Y9:()=>r,bj:()=>l});let r="#83DDC5",i="#F47FFF",l="#FFDE4D"},833592:function(e,t,n){n.d(t,{Vk:()=>p,g3:()=>b,jF:()=>h,jk:()=>f,wt:()=>g});var r=n(990547),i=n(544891),l=n(283693),o=n(570140),a=n(695346),s=n(573261),c=n(140155),u=n(178480),d=n(981631);function p(e){o.Z.dispatch({type:"NOTIFICATION_CENTER_SET_ACTIVE",active:e})}function h(){o.Z.dispatch({type:"RESET_NOTIFICATION_CENTER"})}async function f(e,t){if(c.Z.loading)return;await o.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS"});let n=Math.ceil(c.Z.items.length/e.limit);try{let i=await s.Z.get({url:d.ANM.NOTIF_CENTER_ITEMS(),trackedActionData:{event:r.NetworkActionNames.NOTIFICATION_CENTER_PAGE_FETCH,properties:e=>{var t;let r=((null==(t=e.body)?void 0:t.items)||[]).map(e=>e.type);return(0,l.iG)({page:n,items:r,item_count:r.length})}},query:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),rejectWithError:!0});null==t||t(),await o.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS",items:i.body.items,cursor:i.body.cursor,hasMore:i.body.has_more})}catch(e){null==t||t(),await o.Z.dispatch({type:"LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE"})}}function g(e){var t,n;null!=e.local_id?(t=[e.local_id],o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_LOCAL_ACK",localIds:t})):(0,u.RB)(e)?(n=e.id,o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[n]})):m(e.id)}async function m(e){try{o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK",optimistic:!0,ids:[e]}),await i.tn.post({url:d.ANM.NOTIF_CENTER_ITEMS_ACK(e),rejectWithError:!0})}catch(t){o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEMS_ACK_FAILURE",ids:[e]})}}async function b(e){let t=a.d$.getSetting();try{o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE",id:e.id}),await s.Z.delete({url:d.ANM.NOTIF_CENTER_ITEMS(e.id),body:{item_type:(0,u.RB)(e)?"mention":"regular"},trackedActionData:{event:r.NetworkActionNames.NOTIFICATION_CENTER_ITEM_DELETE,properties:{notification_center_id:e.id,acked:(0,u.r)(e,t),item_type:e.type}},rejectWithError:!1})}catch(t){throw o.Z.dispatch({type:"NOTIFICATION_CENTER_ITEM_DELETE_FAILURE",item:e}),t}}},774807:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r,i=n(442837),l=n(570140),o=n(455199),a=n(70956),s=n(709054),c=n(497089);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let h=90*a.Z.Millis.DAY,f={tab:null,localItemAcks:{},hasNewMentions:!1,isDataStale:!1,isRefreshing:!1};class g extends(r=i.ZP.PersistedStore){initialize(e){if(this.waitFor(o.ZP),null!=e){var t;(f=e).localItemAcks=function(e){let t={};for(let[n,r]of Object.entries(e))Date.now()-r<h&&(t[n]=r);return t}(null!=(t=f.localItemAcks)?t:{}),f.isDataStale=!0}}getState(){return f}getTab(){var e;return null!=(e=f.tab)?e:c.b1.ForYou}isLocalItemAcked(e){return null!=e.local_id&&(null!=f.localItemAcks[e.local_id]||s.default.age(e.id)>h)}hasNewMentions(){return f.hasNewMentions}isDataStale(){return f.isDataStale}isRefreshing(){return f.isRefreshing}shouldReload(){return f.hasNewMentions||f.isDataStale||f.isRefreshing}}function m(){f.hasNewMentions=!1,f.isDataStale=!1,f.isRefreshing=!1}u(g,"displayName","NotificationCenterStore"),u(g,"persistKey","NotificationCenterStore");let b=new g(l.Z,{MESSAGE_CREATE:function(e){let{message:t}=e},NOTIFICATION_CENTER_SET_TAB:function(e){f=p(d({},f),{tab:e.tab})},NOTIFICATION_CENTER_ITEMS_LOCAL_ACK:function(e){let{localIds:t}=e;t.forEach(e=>{f=p(d({},f),{localItemAcks:p(d({},f.localItemAcks),{[e]:Date.now()})})})},NOTIFICATION_CENTER_REFRESH:function(){f.isRefreshing=!0},LOAD_NOTIFICATION_CENTER_ITEMS_FAILURE:m,LOAD_NOTIFICATION_CENTER_ITEMS_SUCCESS:m})},418316:function(e,t,n){n.d(t,{Z:()=>g}),n(35282);var r=n(512722),i=n.n(r),l=n(924301),o=n(430824),a=n(699516),s=n(594174),c=n(624138),u=n(51144),d=n(497089),p=n(981631),h=n(388032);function f(e){let{username:t,applicationId:n,renderApplication:r,withApplication:i,withDefault:l}=e;return null!=n?h.intl.format(i,{username:t,applicationName:()=>r(n)}):h.intl.format(l,{username:t})}function g(e){var t,n,r,g,m,b,O,y,_,j,v,x,C,E,S;let{item:P,renderApplication:I}=e,N=null!=(r=null==(t=P.other_user)?void 0:t.id)?r:p.lds,w=u.ZP.getName(s.default.getUser(null==(n=P.other_user)?void 0:n.id)),Z=P.applicationId;switch(P.type){case d.O7.FRIEND_REQUESTS_GROUPED:let T=u.ZP.getName(s.default.getUser(null==(m=P.other_users)||null==(g=m[0])?void 0:g.id)),A=u.ZP.getName(s.default.getUser(null==(O=P.other_users)||null==(b=O[1])?void 0:b.id)),R=Math.max((null!=(_=null==(y=P.other_users)?void 0:y.length)?_:0)-2,0);return h.intl.format(h.t.g5xyIC,{user:T,user2:A,count:R});case d.O7.MOBILE_NATIVE_UPDATE_AVAILABLE:let D=null!=(v=null==(j=P.local_id)?void 0:j.split("_").pop())?v:"unknown";return"Update to build ".concat(D," available!");case d.DY.FRIEND_SUGGESTION_CREATED:return a.Z.getRelationshipType(N),p.OGo.PENDING_OUTGOING,null!=(x=P.body)?x:"";case d.DY.GUILD_SCHEDULED_EVENT_STARTED:let M=P.guild_scheduled_event_id,L=null!=M?l.ZP.getGuildScheduledEvent(M):null,k=null==L?void 0:L.name,U=null==(C=o.Z.getGuild(null==L?void 0:L.guild_id))?void 0:C.name,G=(0,l.Z2)(null!=L?L:void 0);return(0,c.Ew)(U)||(0,c.Ew)(k)||!G?null!=(E=P.body)?E:"":h.intl.format(h.t.AyvfXV,{event_name:k,guild_name:U});case d.O7.INCOMING_FRIEND_REQUESTS:return f({username:w,applicationId:Z,renderApplication:I,withApplication:h.t["9Dgf1N"],withDefault:h.t.uIomX1});case d.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED:return f({username:w,applicationId:Z,renderApplication:I,withApplication:h.t.nnC1q6,withDefault:h.t["5Uzkdn"]});case d.DY.FRIEND_REQUEST_ACCEPTED:return f({username:w,applicationId:Z,renderApplication:I,withApplication:h.t.jXlYiI,withDefault:h.t.McYRBg});case d.O7.INCOMING_GAME_FRIEND_REQUESTS_ACCEPTED:return i()(null!=Z,"Expected application id for ".concat(P.type)),h.intl.format(h.t["BB/0vr"],{username:w,applicationName:()=>I(Z)});case d.O7.INCOMING_GAME_FRIEND_REQUESTS:return i()(null!=Z,"Expected application id for ".concat(P.type)),h.intl.format(h.t["7cqOLC"],{username:w,applicationName:()=>I(Z)});case d.DY.GAME_FRIEND_REQUEST_ACCEPTED:if(null==Z)return P.body;return h.intl.format(h.t.Wi64vL,{username:w,applicationName:()=>I(Z)})}return null!=(S=P.body)?S:""}},382865:function(e,t,n){n.d(t,{c:()=>a}),n(388685),n(539854);var r=n(647438),i=n(835473),l=n(497089);let o=new Set([l.O7.INCOMING_GAME_FRIEND_REQUESTS,l.O7.INCOMING_GAME_FRIEND_REQUESTS_ACCEPTED,l.O7.INCOMING_FRIEND_REQUESTS,l.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED]);function a(e){let t=r.useMemo(()=>{let t=new Set,n=[];return e.forEach(e=>{let{applicationId:r,type:i}=e;o.has(i)&&(null==r||t.has(r)||(t.add(r),n.push(r)))}),n},[e]);return(0,i.Z)(t)}},526146:function(e,t,n){n.d(t,{I:()=>o});var r=n(442837),i=n(774807),l=n(178480);let o=(e,t)=>{let n=(0,r.e7)([i.Z],()=>i.Z.isLocalItemAcked(e));return!e.forceUnacked&&(n||(0,l.r)(e,t))}},11799:function(e,t,n){n.d(t,{y6:()=>p}),n(388685);var r=n(647438),i=n(442837),l=n(45114),o=n(733427),a=n(455199),s=n(833592),c=n(140155),u=n(774807),d=n(490897);let p=()=>{let{initialized:e,loading:t,items:n,hasMore:p,loadMore:h}=(e=>{let{isFocused:t,navigatedAway:n,isDesktop:p,withMentions:h=!1,initialPageSize:f}=e,g=(0,i.e7)([u.Z],()=>u.Z.shouldReload()),m=r.useRef(!1),[b,O]=r.useState(!1),{initialized:y,loading:_,items:j,hasMore:v,cursor:x,errored:C}=(0,i.cj)([c.Z],()=>({initialized:c.Z.initialized,loading:c.Z.loading,items:c.Z.items,hasMore:c.Z.hasMore,cursor:c.Z.cursor,errored:c.Z.errored})),{roleFilter:E,everyoneFilter:S}=(0,i.cj)([a.ZP],()=>({everyoneFilter:a.ZP.everyoneFilter,roleFilter:a.ZP.roleFilter}));r.useEffect(()=>((0,s.Vk)(!0),()=>(0,s.Vk)(!1)),[]),r.useEffect(()=>{y&&t&&(0,l.FT)(d.W.NOTIFICATION_CENTER)},[t,y]);let P=(0,o.Z)();r.useEffect(()=>()=>{p?!P()&&(C||j.length>100)&&(0,s.jF)():n&&j.length>100&&(0,s.jF)()},[n,j,p,P,C]),r.useEffect(()=>{let e=g&&t;(!y||e)&&(0,s.jk)({limit:null!=f?f:h?8:20,with_mentions:h,roles_filter:E,everyone_filter:S})},[y,g,t,h,E,S,f]);let I=r.useCallback(async e=>{!m.current&&y&&v&&null!=x&&(e||!C)&&(m.current=!0,O(!0),await (0,s.jk)({after:x,with_mentions:h,roles_filter:E,everyone_filter:S,limit:h?8:20},()=>{m.current=!1}),O(!1))},[y,v,x,C,h,E,S]);return{initialized:y,loading:_,items:j,hasMore:v,loadMore:I,loadingMore:b,setReadNotifItemToAcked:e=>{e.acked||(e.acked=!0)},errored:C}})({isFocused:!0,isDesktop:!0});return{initialized:e,loading:t,items:n.filter(e=>"notification-center-item"===e.kind),hasMore:p,loadMore:h}}},441358:function(e,t,n){n.d(t,{v:()=>a});var r=n(951288);n(647438);var i=n(388032),l=n(478394),o=n(652430);let a=()=>(0,r.jsxs)("div",{className:l.container,children:[(0,r.jsx)("img",{className:l.image,alt:"",src:o}),(0,r.jsx)("div",{className:l.title,children:i.intl.string(i.t.MwjTvr)}),(0,r.jsx)("div",{className:l.body,children:i.intl.string(i.t.AKBgPz)})]})},865112:function(e,t,n){n.d(t,{RB:()=>_,VH:()=>O,Vi:()=>j,Vu:()=>v,q7:()=>y});var r=n(692547),i=n(497089),l=n(650473),o=n(389765),a=n(137492),s=n(387661),c=n(659953),u=n(319707),d=n(584914),p=n(962575),h=n(334702),f=n(333722),g=n(549931),m=n(178561),b=n(39863);let O={MISSED_MESSAGES:f,FRIEND_REQUEST_REMINDER:d,SCHEDULED_GUILD_EVENT:c,TOP_MESSAGES:h,NOTIFICATION_CENTER:a,UPDATE_PROFILE:n(130312),FIND_FRIENDS:o,ADD_FRIEND:o,FIRST_MESSAGE:m},y=e=>{switch(e.type){case"lifecycle_item":switch(e.item_enum){case i.AM.ADD_FRIEND:return"ADD_FRIEND";case i.AM.FIND_FRIENDS:return"FIND_FRIENDS";case i.AM.FIRST_MESSAGE:return"FIRST_MESSAGE";case i.AM.UPDATE_PROFILE:return"UPDATE_PROFILE";default:return"NOTIFICATION_CENTER"}case"missed_messages":return"MISSED_MESSAGES";case"friend_request_reminder":return"FRIEND_REQUEST_REMINDER";case"scheduled_guild_event_started":return"SCHEDULED_GUILD_EVENT";case"top_messages":return"TOP_MESSAGES";default:return"NOTIFICATION_CENTER"}},_=e=>"icHighlight"===e?"TOP_MESSAGES":"NOTIFICATION_CENTER",j=e=>{switch(e){case i.DY.GO_LIVE_PUSH:return{icon:b,color:r.Z.colors.BACKGROUND_ACCENT};case i.DY.FRIEND_REQUEST_ACCEPTED:case i.DY.GAME_FRIEND_REQUEST_ACCEPTED:return{icon:s,color:r.Z.colors.STATUS_POSITIVE_BACKGROUND};case i.DY.FRIEND_REQUEST_PENDING:case i.DY.FRIEND_SUGGESTION_CREATED:return{icon:u,color:r.Z.colors.BACKGROUND_ACCENT};case i.DY.DM_FRIEND_NUDGE:return{icon:g,color:r.Z.colors.BACKGROUND_ACCENT};case i.O7.INCOMING_FRIEND_REQUESTS:case i.O7.INCOMING_FRIEND_REQUESTS_ACCEPTED:return{icon:u,color:r.Z.colors.BACKGROUND_ACCENT};case i.O7.INCOMING_GAME_FRIEND_REQUESTS:case i.O7.INCOMING_GAME_FRIEND_REQUESTS_ACCEPTED:return{icon:p,color:r.Z.colors.BACKGROUND_ACCENT};default:return null}},v=e=>{switch(e.item_enum){case i.AM.UPDATE_PROFILE:return l.Y9;case i.AM.ADD_FRIEND:case i.AM.FIND_FRIENDS:return l.AZ;case i.AM.FIRST_MESSAGE:return l.bj;default:return r.Z.unsafe_rawColors.BRAND_500.css}}},400565:function(e,t,n){n.d(t,{U:()=>p});var r=n(951288),i=n(647438),l=n(442837),o=n(686546),a=n(598077),s=n(430824),c=n(865112),u=n(121099);let d=e=>{let{mask:t}=e;return null==t?null:(0,r.jsx)("div",{className:u.maskBackground,style:{backgroundColor:t.color.css},children:(0,r.jsx)("img",{className:u.maskIcon,alt:"",src:t.icon})})},p=i.memo(function(e){var t,n;let{item:i}=e,p=null,h=!1,f=(0,l.e7)([s.Z],()=>s.Z.getGuild(i.guild_id));if(null!=i.icon_name)p=(0,r.jsx)("img",{alt:"",src:c.VH[(0,c.RB)(i.icon_name)]});else if(null!=i.other_user){let e=i.other_user instanceof a.Z?i.other_user:new a.Z(i.other_user),n=null!=(t=e.globalName)?t:e.username;p=(0,r.jsx)("img",{alt:n,className:u.image,src:e.getAvatarURL(void 0,40)}),h=!0}else p=null!=i.icon_url?(0,r.jsx)("img",{alt:null!=(n=null==f?void 0:f.name)?n:"",className:u.image,src:i.icon_url}):(0,r.jsx)("img",{alt:"",src:c.VH[(0,c.q7)(i)]});let g=(0,c.Vi)(i.type);return(0,r.jsxs)("div",{className:u.container,children:[(0,r.jsx)(o.ZP,{mask:null==g?o.QS.AVATAR_DEFAULT:o.QS.AVATAR_STATUS_ROUND_16,width:40,height:40,rightOverhang:3,bottomOverhang:3,className:u.mask,children:(0,r.jsx)("div",{className:u.imageContainer,style:h?void 0:{backgroundColor:(0,c.Vu)(i)},children:p})}),(0,r.jsx)(d,{mask:g})]})})},426521:function(e,t,n){n.d(t,{U:()=>G}),n(35282);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(596454),s=n(99690),c=n(906732),u=n(812206),d=n(336197),p=n(454585),h=n(833062),f=n(892001),g=n(695346),m=n(598077),b=n(594174),O=n(626135),y=n(709054),_=n(591759),j=n(833592),v=n(497089),x=n(178480),C=n(418316),E=n(382865),S=n(526146),P=n(400565),I=n(148789),N=n(11825),w=n(981631),Z=n(388032),T=n(231796),A=n(756688),R=n(886765);function D(e){var t,n,i,l,a;let{item:c}=e,u=null==(t=c.message)?void 0:t.content;if(null==u)return(0,r.jsx)("div",{});let d=null!=(a=b.default.getUser(null==(i=c.message)||null==(n=i.author)?void 0:n.id))?a:new m.Z(null==(l=c.message)?void 0:l.author),h=p.Z.parse(u);return(0,r.jsxs)("div",{className:T.messagePreviewContainer,children:[(0,r.jsx)(s.Z,{user:d,size:o.EFr.SIZE_24}),(0,r.jsx)(o.Text,{className:T.messagePreviewText,variant:"text-sm/normal",lineClamp:2,children:h})]})}function M(e){let{item:{callout:t}}=e;if(null==t)return null;let n=p.Z.parse(t);return(0,r.jsx)("div",{className:T.calloutContainer,children:(0,r.jsx)(o.Text,{variant:"text-sm/normal",lineClamp:2,children:n})})}function L(e){let{item:t}=e,n=R,i=Z.intl.string(Z.t.SJTHJS);return t.completed&&(n=A,i=Z.intl.string(Z.t.f6RTAA)),(0,r.jsxs)("div",{className:T.lifecycleContainer,children:[(0,r.jsx)("img",{className:T.checkbox,alt:"",src:n}),(0,r.jsx)(o.Text,{className:T.lifecycleText,variant:"text-xs/bold",color:"header-secondary",children:i})]})}function k(e){let{applicationId:t}=e,n=(0,l.e7)([u.Z],()=>u.Z.getApplication(t));return null==n?(0,r.jsx)("div",{}):(0,r.jsx)(h.Z,{application:n},n.id)}let U=i.memo(function(e){var t;let{item:l,ackedBeforeId:s}=e,{analyticsLocations:u}=(0,c.ZP)(),h=(0,S.I)(l,s),g=i.useCallback(async()=>{if(h||(0,j.wt)(l),null!=l.item_enum&&l.item_enum===v.AM.FIND_FRIENDS)return void(0,o.ZDy)(async()=>{let{default:e}=await n.e("6074").then(n.bind(n,443189));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({source:"Notification Center"},t))});if(null!=l.deeplink){let t=_.Z.safeParseWithQuery(l.deeplink);if(null==t)return;let n=t.hostname,r=t.path;if(null==n||null==r)return;if(_.Z.isDiscordHostname(n)){let t=r.match("^/users/(\\d+)");if(null!=t&&2===t.length){var e;(0,f.openUserProfileModal)({userId:t[1],messageId:null==(e=l.message)?void 0:e.id,sourceAnalyticsLocations:u})}else await (0,d.Z)(r)}O.default.track(w.rMx.NOTIFICATION_CENTER_ACTION,{action_type:v.ud.CLICKED,notification_center_id:l.id,item_type:l.type,acked:h})}},[l,h,u]),m=null;l.type===v.O7.INCOMING_FRIEND_REQUESTS&&null!=l.other_user?m=(0,r.jsx)(I.Z,{userId:l.other_user.id}):l.type===v.O7.INCOMING_GAME_FRIEND_REQUESTS&&null!=l.other_user&&(m=(0,r.jsx)(I.Z,{userId:l.other_user.id,applicationId:l.applicationId}));let b=null!=l.local_id,E=(0,C.Z)({item:l,renderApplication:e=>(0,r.jsx)(k,{applicationId:e})}),{emoji_id:Z,emoji_name:A}=l,R=null!=Z||null!=A?(0,r.jsx)(a.Z,{className:T.emoji,emojiId:Z,emojiName:A}):null;return(0,r.jsxs)("div",{className:T.row,children:[(0,r.jsxs)(o.kL8,{className:T.rowContent,focusProps:{offset:4},"aria-label":E,onClick:g,children:[h?null:(0,r.jsx)("div",{className:T.unread}),(0,r.jsx)(P.U,{item:l}),(0,r.jsxs)("div",{className:T.body,children:["lifecycle_item"===l.type&&null!=l.item_enum&&(0,r.jsx)(L,{item:l}),(0,r.jsxs)(o.Text,{variant:"text-md/normal",color:h?"text-muted":"text-default",children:["string"!=typeof E?E:p.Z.parse(E),R]}),(null==(t=l.message)?void 0:t.content)!=null?(0,r.jsx)(D,{item:l}):null,null!=l.callout?(0,r.jsx)(M,{item:l}):null,(0,r.jsx)(o.Text,{variant:"text-xs/medium",color:h?"text-muted":"header-secondary",children:(0,x.a3)(y.default.extractTimestamp(l.id))}),m]})]}),b?null:(0,r.jsx)(N.z,{item:l})]})}),G=i.memo(function(e){let{items:t}=e,n=g.d$.useSetting();return(0,E.c)(t),(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)(U,{item:e,ackedBeforeId:n},e.id))})})},148789:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(951288),i=n(647438),l=n(755721),o=n(298213),a=n(388032),s=n(231796);function c(e){let{userId:t,applicationId:n}=e,[c,u]=i.useState(!1),[d,p]=i.useState(!1),h=i.useCallback(async e=>{e.stopPropagation(),p(!0);try{await o.Z.cancelFriendRequest({userId:t,applicationId:n,location:"ActionButtonFriendRequest"})}finally{p(!1)}},[n,t]),f=i.useCallback(async e=>{e.stopPropagation(),u(!0);try{await o.Z.maybeConfirmFriendRequestAccept({userId:t,applicationId:n,location:"ActionButtonFriendRequest"})}finally{u(!1)}},[n,t]);return(0,r.jsxs)("div",{className:s.friendRequestContainer,children:[(0,r.jsx)(l.zx,{className:s.acceptButton,look:l.zx.Looks.FILLED,color:l.zx.Colors.GREEN,size:l.zx.Sizes.NONE,submitting:c,disabled:d,onClick:f,children:a.intl.string(a.t.ZcibdX)}),(0,r.jsx)(l.zx,{className:s.ignoreButton,look:l.zx.Looks.FILLED,color:l.zx.Colors.PRIMARY,size:l.zx.Sizes.NONE,submitting:d,disabled:c,onClick:h,children:a.intl.string(a.t.xuio0N)})]})}},11825:function(e,t,n){n.d(t,{z:()=>c});var r=n(951288),i=n(647438),l=n(481060),o=n(833592),a=n(388032);let s=e=>{let{item:t,closePopout:n}=e;return(0,r.jsx)(l.v2r,{navId:"notification-actions",onClose:n,onSelect:n,"aria-label":a.intl.string(a.t.ljs3OT),children:(0,r.jsx)(l.sNh,{id:"delete",label:a.intl.string(a.t.oyYWHB),icon:l.XHJ,action:async()=>{await (0,o.g3)(t)}})})},c=i.memo(function(e){let{item:t}=e,n=i.useRef(null);return(0,r.jsx)(l.yRy,{targetElementRef:n,renderPopout:e=>{var n,i;return(0,r.jsx)(s,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={item:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))},position:"bottom",align:"right",animation:l.yRy.Animation.NONE,children:e=>{let{onClick:t}=e;return(0,r.jsx)(l.M0o,{ref:n,tooltip:a.intl.string(a.t.UKOtz8),color:l.YX$.TERTIARY,icon:(0,r.jsx)(l.xhG,{size:"xs",color:"currentColor"}),onClick:e=>{e.stopPropagation(),t(e)},"aria-haspopup":"menu"})}})})},616032:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(990547),o=n(91192),a=n(481060),s=n(724757),c=n(213609),u=n(441358),d=n(426521),p=n(837284);function h(e){let{initialized:t,items:n,loading:h,loadMore:f}=e,g=i.useRef(null),m=(0,s.Z)("for-you",g);(0,c.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.NOTIFICATION_CENTER_LANDING,properties:{empty:0===n.length}},{disableTrack:!t},[t]);let b=()=>{var e;let t=null==(e=g.current)?void 0:e.getScrollerState();null!=t&&t.scrollHeight-t.scrollTop-t.offsetHeight<1500&&f()};return t?0===n.length?(0,r.jsx)(u.v,{}):(0,r.jsx)(o.bG,{navigator:m,children:(0,r.jsx)(o.SJ,{children:e=>{var t,i,{ref:l}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(a.Den,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:p.container,ref:e=>{var t;g.current=e,l.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null}},o),i=i={onScroll:b,children:[(0,r.jsx)(d.U,{items:n}),h?(0,r.jsx)(a.$jN,{className:p.spinner}):null]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t))}})}):(0,r.jsx)(a.$jN,{className:p.loadingPlaceholder})}},389160:function(e,t,n){n.d(t,{Z:()=>a});var r=n(879690),i=n(982183);let l={[i.KZ.UNREAD]:!0,[i.KZ.TODAY]:!0,[i.KZ.YESTERDAY]:!0,[i.KZ.OLDER]:!0},o={[i.KZ.UNREAD]:!0,[i.KZ.TODAY]:!1,[i.KZ.YESTERDAY]:!1,[i.KZ.OLDER]:!1},a=(0,r.U)((e,t)=>({messageCategoryOpenStates:l,getOpenState:e=>t().messageCategoryOpenStates[e],toggleOpenState:t=>{e(e=>{var n,r;return{messageCategoryOpenStates:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e.messageCategoryOpenStates),r=r={[t]:!e.messageCategoryOpenStates[t]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)}})},setOpenStateFromUnreads:t=>{e({messageCategoryOpenStates:t?o:l})}}))},736670:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(879690).U)(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t})}))},725739:function(e,t,n){n.d(t,{Z:()=>l});var r=n(879690),i=n(982183);let l=(0,r.U)(e=>({selectedFilter:i.V5.ALL,setSelectedFilter:t=>{e({selectedFilter:t})}}))},993609:function(e,t,n){function r(e,t){return"".concat(e,":").concat(t)}n.d(t,{z:()=>i}),n(388685);let i=(0,n(879690).U)((e,t)=>({openMenus:new Set,isMenuOpenForMessage:e=>Array.from(t().openMenus).some(t=>null!=e&&t.startsWith("".concat(e,":"))),openMenu:(t,n)=>{let i=r(t,n);e(e=>{let t=new Set(e.openMenus);return t.add(i),{openMenus:t}})},closeMenu:(t,n)=>{let i=r(t,n);e(e=>{let t=new Set(e.openMenus);return t.delete(i),{openMenus:t}})}}))},334426:function(e,t,n){n.d(t,{d:()=>l});var r=n(879690),i=n(731965);let l=(0,r.U)((e,t)=>({hasNoUnreads:!1,shouldHide:()=>!t().hasNoUnreads,setInboxReadState:n=>{n!==t().hasNoUnreads&&(0,i.j)(()=>{e({hasNoUnreads:n})})}}))},871301:function(e,t,n){n.d(t,{hh:()=>i,om:()=>l,zw:()=>r});let r=13,i=16,l=25},128008:function(e,t,n){n.d(t,{h6:()=>O,mv:()=>b});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(455199),u=n(821020),d=n(725739),p=n(370774),h=n(334426),f=n(982183),g=n(871301),m=n(888158);function b(){let{setSelectedFilter:e}=(0,d.Z)(),t=(0,h.d)(e=>e.setInboxReadState);return()=>{e(f.V5.ALL),t(!1)}}function O(e){let{isSelected:t}=e,{unreadRecentMentionsCount:n,unreadChannelIds:l}=(0,p.O4)(),d=function(){let e=function(){let{unreadRecentMentionsCount:e}=(0,p.O4)(),{hasMoreMentions:t,mentionsLoading:n}=(0,a.cj)([c.ZP],()=>({hasMoreMentions:c.ZP.hasMore,mentionsLoading:c.ZP.loading})),r=Math.min(e,g.om),i=e>r||t||n,l=(0,s.OVM)(r)+6*!!i;return{clampedCount:r,isEstimated:i,width:l}}(),t=i.useCallback(t=>e.isEstimated?"".concat(t,"+"):t,[e.isEstimated]),n=i.useMemo(()=>(function(e,t){let{clampedCount:n,width:i}=e;return(0,r.jsx)(s.mAB,{count:n,renderBadgeCount:t,style:{width:i},className:m.badgeTransition})})(e,t),[e,t]);return i.useMemo(()=>({badge:n,badgeType:"mentions",dimensions:{height:g.hh,width:e.width}}),[n,e.width])}(),{entrypoint:h}=(0,u.pN)({location:"useInboxBadgeInfo"});return i.useMemo(()=>{if(n>0)return d;let e=l.length;if(0===e)return{badge:null,badgeType:null};if(h===u.u3.SERVER_RAIL_TOP){let n=(0,s.OVM)(e)-3;return{badge:function(e,t){let n=(0,s.OVM)(e)-3;return(0,r.jsx)(s.mAB,{count:e,style:{width:n,lineHeight:g.zw,height:g.zw,minHeight:g.zw,minWidth:g.zw},className:o()(m.badgeTransition,m.grayBadge,{[m.selected]:t})})}(e,t),badgeType:"unread",dimensions:{height:g.zw,width:n}}}return h===u.u3.TITLE_BAR_LEFT?{badge:(0,r.jsx)(s.Text,{variant:"eyebrow",children:(0,s.NGo)(e)}),badgeType:"unread"}:{badge:null,badgeType:null}},[n,d,l.length,h,t])}},770858:function(e,t,n){n.d(t,{Z:()=>S}),n(388685);var r=n(951288),i=n(647438),l=n(91192),o=n(442837),a=n(481060),s=n(377171),c=n(276952),u=n(682662),d=n(178088),p=n(306680),h=n(944486),f=n(594174),g=n(821020),m=n(370774),b=n(128008),O=n(961040),y=n(932711),_=n(871301),j=n(981631),v=n(490897),x=n(888158);function C(){let e=(0,o.e7)([f.default],()=>f.default.getCurrentUser());return(0,o.e7)([p.ZP],()=>(null==e?void 0:e.id)!=null&&p.ZP.getMentionCount(e.id,v.W.NOTIFICATION_CENTER)>0)}function E(e){var t,n;let{onClick:d,selectedOverride:p=!1,popoutProps:f,ref:O}=e,v=(0,l.Ie)("notifications-inbox"),[E,S]=i.useState(!1),P=(0,m.D)(),I=p||P,{notificationCenterVariant:N}=(0,g.pN)({location:"NotificationsInboxButtonInner"}),{badge:w,badgeDimensions:Z,unreadChannelsCount:T}=function(e){let{notificationCenterVariant:t}=(0,g.pN)({location:"NotificationsInboxButtonInner"}),{unreadChannelIds:n}=(0,m.O4)(),i=C(),{badge:l,dimensions:o}=(0,b.h6)({isSelected:e});return t===g.jP.LEGACY?{badge:i?(0,r.jsx)(a.fWl,{style:{height:_.zw,width:_.zw,position:"relative"},color:s.Z.STATUS_DANGER}):null,unreadChannelsCount:0,badgeDimensions:{height:_.zw,width:_.zw}}:{badge:l,unreadChannelsCount:n.length,badgeDimensions:o}}(I),A=N===g.jP.LEGACY?a.xx7:a.Dkj,R=(0,o.e7)([h.Z],()=>h.Z.getChannelId()),D=i.useMemo(()=>{if(N===g.jP.SIDEBAR)return j.Z5c.CHANNEL(j.STv,R)},[N,R]);return(0,r.jsxs)(u.H,{ref:O,children:[(0,r.jsx)(c.Z,{selected:I&&N===g.jP.SIDEBAR,hovered:E&&N===g.jP.SIDEBAR,unread:T>0,className:x.pill,disabled:N===g.jP.LEGACY}),(0,r.jsx)(y.Z,{children:(0,r.jsx)(a.aRk,{selected:I||E,lowerBadge:w,lowerBadgeSize:Z,children:(0,r.jsx)(a.LYs,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},v,f),n=n={onClick:d,to:D,selected:I||E,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:(0,r.jsx)(A,{size:"custom",color:"currentColor",className:x.notificationsIcon,width:20,height:20})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})})]})}function S(){let e=i.useRef(null),{notificationCenterVariant:t}=(0,g.pN)({location:"NotificationsInboxButton"}),n=C(),l=(0,b.mv)();return t===g.jP.SIDEBAR?(0,r.jsx)(E,{onClick:l}):t===g.jP.POPOUT?(0,r.jsx)(O.Z,{targetElementRef:e,popoutPosition:"right",popoutAlign:"bottom",children:(t,n,i)=>(0,r.jsx)(E,{ref:e,selectedOverride:n,onClick:()=>{l(),t()},popoutProps:i})}):t===g.jP.LEGACY?(0,r.jsx)(d.k,{spacing:0,badgeState:{badgeForYou:n},targetElementRef:e,popoutPosition:"right",popoutAlign:"top",dialogClassName:x.positionLayer,children:(t,n,i)=>(0,r.jsx)(E,{ref:e,selectedOverride:n,onClick:()=>{l(),t()},popoutProps:i})}):null}},932711:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288),i=n(481060),l=n(821020),o=n(388032),a=n(78480);function s(e){let{children:t}=e,{notificationCenterVariant:n}=(0,l.pN)({location:"NotificationsInboxTooltip"}),s=n===l.jP.LEGACY?o.intl.string(o.t.GSmTKC):o.intl.string(o.t.HcoRu7);return(0,r.jsx)(i.ua7,{hideOnClick:!0,spacing:12,position:"right",text:s,tooltipClassName:a.listItemTooltip,children:e=>{var n,i;return(0,r.jsx)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},961040:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(481060),s=n(570140),c=n(493773),u=n(585483),d=n(821020),p=n(736670),h=n(82409),f=n(981631),g=n(388032),m=n(888831);function b(e){let{children:t,popoutPosition:n,popoutAlign:l,targetElementRef:h,spacing:b=0}=e,{isOpen:y,setIsOpen:_}=(0,p.Z)(),j=i.useCallback(()=>{_(!1)},[_]),v=i.useCallback(()=>{_(!y)},[y,_]);(0,c.ZP)(()=>{let e=()=>{_(!1)};return s.Z.subscribe("USER_SETTINGS_MODAL_OPEN",e),()=>s.Z.unsubscribe("USER_SETTINGS_MODAL_OPEN",e)}),i.useEffect(()=>(u.S.subscribe(f.CkL.TOGGLE_INBOX,v),()=>void u.S.unsubscribe(f.CkL.TOGGLE_INBOX,v)),[v]);let{entrypoint:x}=(0,d.pN)({location:"NotificationsInboxPopout"});return(0,r.jsx)(a.yRy,{targetElementRef:h,shouldShow:y,align:l,animation:x===d.u3.TITLE_BAR_LEFT?a.yRy.Animation.TRANSLATE:a.yRy.Animation.FADE,animationPosition:x===d.u3.TITLE_BAR_LEFT?"bottom":"left",position:n,onRequestClose:j,spacing:b,renderPopout:()=>(0,r.jsx)(a.VqE,{"aria-label":g.intl.string(g.t.GSmTKC),className:o()({[m.repositionLayerTitlebarPopout]:x===d.u3.TITLE_BAR_LEFT,[m.repositionLayerSidebarPopout]:x===d.u3.SERVER_RAIL_TOP}),children:(0,r.jsx)(O,{})}),children:(e,n)=>{let{isShown:r}=n;return t(v,r,e)}})}function O(){return(0,r.jsxs)("div",{className:m.container,children:[(0,r.jsx)("div",{className:m.backgroundContainer,children:(0,r.jsx)("span",{className:m.background})}),(0,r.jsx)(h.Z,{})]})}},987889:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(570140),s=n(45114),c=n(110255),u=n(268623),d=n(324701),p=n(768943),h=n(64247),f=n(804932),g=n(370774),m=n(993609),b=n(982183),O=n(981631),y=n(388032),_=n(361584);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let x={[b.ln.MENTION]:[b.r0.SETTINGS],[b.ln.REPLY]:[b.r0.SETTINGS],[b.ln.REACTION]:[b.r0.SETTINGS],[b.ln.ANNOUNCEMENT]:[b.r0.SETTINGS],[b.ln.MESSAGE]:[b.r0.SETTINGS]};function C(e){let{label:t,onClick:n,message:l,Icon:a,interactionType:s}=e,[c,u]=(0,i.useState)(!1),d=(0,f.fJ)();return(0,r.jsx)(o.ua7,{text:t,position:"top",spacing:4,onTooltipShow:()=>u(!0),onTooltipHide:()=>u(!1),children:e=>(0,r.jsx)(o.P3F,v(j({},e),{className:_.action,onClick:e=>{(0,f.Qz)({message:l,interactionType:s,viewId:d}),e.stopPropagation(),n(l)},children:(0,r.jsx)(a,{size:c?"sm":"xs",className:_.actionIcon})}))})}function E(e){let{channel:t,message:n,label:l,Icon:a,Menu:s,interactionType:c,actionType:u}=e,d=(0,f.fJ)(),[p,h]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),O=(0,i.useRef)(null),{openMenu:y,closeMenu:x}=(0,m.z)();return(0,r.jsx)(o.yRy,{shouldShow:g,animation:o.yRy.Animation.NONE,position:"right",align:"top",autoInvert:!1,targetElementRef:O,onRequestClose:()=>{b(!1),x(n.id,u)},renderPopout:e=>(0,r.jsx)(o.VqE,{onClick:e=>e.stopPropagation(),returnRef:O,children:(0,r.jsx)(s,{renderPopoutProps:e,channel:t,message:n})}),children:e=>(0,r.jsx)(o.ua7,{text:l,position:"top",spacing:4,onTooltipShow:()=>h(!0),onTooltipHide:()=>h(!1),children:t=>(0,r.jsx)(o.P3F,v(j({},t),{innerRef:O,className:_.action,onClick:e=>{(0,f.Qz)({message:n,interactionType:c,viewId:d}),e.stopPropagation();let t=!g;b(t),t?y(n.id,u):x(n.id,u)},children:(0,r.jsx)(a,v(j({},e),{message:n,"aria-label":l,className:_.actionIcon,size:p?"sm":"xs"}))}))})})}let S={[b.r0.ACK]:{type:"standard",Icon:o.dz2,label:y.intl.string(y.t.e6RscX),onClick:e=>{a.Z.dispatch({type:"NOTIFICATIONS_INBOX_ITEM_ACK",messageId:e.id,channelId:e.channel_id}),s.In(e.channel_id,{object:O.qAy.MARK_MESSAGE_AS_READ_BUTTON,objectType:O.Qqv.ACK_MANUAL},!0,void 0,e.id)},interactionType:f.s_.ACK},[b.r0.BOOKMARK]:{type:"menu",label:y.intl.string(y.t["9p3D9v"]),Icon:e=>null!=p.Z.getSavedMessage(e.message.channel_id,e.message.id)?(0,r.jsx)(o.plf,j({},e)):(0,r.jsx)(o.gt9,j({},e)),interactionType:f.s_.BOOKMARK,Menu:e=>{let{message:t,renderPopoutProps:n}=e,i=(0,l.e7)([p.Z],()=>p.Z.getSavedMessage(t.channel_id,t.id)),a=(0,u.x)({message:t,savedMessage:i});return(0,r.jsxs)(o.v2r,v(j({},n),{navId:"message-reminder-create","aria-label":y.intl.string(y.t.mJ3P0N),onClose:n.closePopout,onSelect:()=>null,children:[null!=i?(0,r.jsx)(o.sNh,{id:"remove-from-for-later",label:y.intl.string(y.t.SvXS1d),icon:o.plf,action:()=>(0,d.x)({channelId:t.channel_id,messageId:t.id,dueAt:i.saveData.dueAt,displayToast:!0})}):(0,r.jsx)(o.sNh,{id:"create-bookmark",label:y.intl.string(y.t["9p3D9v"]),icon:o.gt9,action:()=>(0,d.z)({channelId:t.channel_id,messageId:t.id,displayToast:!0})}),(0,r.jsx)(o.Clw,{}),a]}))}},[b.r0.SETTINGS]:{type:"menu",Icon:o.Dkj,label:y.intl.string(y.t.h850Sk),interactionType:f.s_.SETTINGS,Menu:e=>{let{channel:t,renderPopoutProps:n}=e;return t.isThread()?(0,r.jsx)(h.Z,v(j({},n),{channel:t,navId:"thread-context",label:y.intl.string(y.t["1NBjqa"])})):(0,r.jsx)(c.Z,v(j({},n),{channel:t,navId:"channel-context",label:y.intl.string(y.t.Xm41aW)}))}}};function P(e){let{message:t,channel:n,isUnread:l}=e,a=((e,t)=>{let n=(0,g.ux)();return(0,i.useMemo)(()=>{let e=b.ln.MENTION,r=new Set;return t&&r.add(b.r0.ACK),n&&r.add(b.r0.BOOKMARK),x[e].forEach(e=>r.add(e)),Array.from(r)},[e,t,n])})(t,l);return(0,r.jsx)(o.Kqy,{direction:"horizontal",gap:4,align:"center",justify:"center",className:_.actions,children:a.map(e=>{let i=S[e];switch(i.type){case"standard":return(0,r.jsx)(C,v(j({},i),{actionType:e,message:t}),e);case"menu":return(0,r.jsx)(E,v(j({},i),{actionType:e,channel:n,message:t}),e)}})})}},586694:function(e,t,n){n.d(t,{E:()=>b,q:()=>m}),n(415506);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(974674),s=n(481060),c=n(686546),u=n(419061),d=n(268685),p=n(536537);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function g(e){let{children:t,size:n,onClick:l,onMouseDown:a,onKeyDown:d,onContextMenu:h,onMouseEnter:f,onMouseLeave:g,className:m,ariaHidden:b,avatarDecoration:O,specs:_,cornerIconUrl:j,cornerIconOffsetX:v,cornerIconOffsetY:x,ariaLabel:C}=e,E={width:(0,s.pxk)(n),height:(0,s.pxk)(n)},S=(0,i.useId)(),P=_.size*u.hs,I=null!=O&&(0,r.jsxs)("svg",{width:P,height:P,viewBox:"0 0 ".concat(P," ").concat(P),className:p.avatarDecoration,"aria-hidden":!0,children:[(0,r.jsxs)("mask",{id:S,children:[(0,r.jsx)("rect",{x:0,y:0,width:P,height:P,fill:"white"}),null!=j&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,{height:l,width:o,x:a,y:s}=function(e,t,n,r){let{height:i,width:l,x:o,y:a}=y(e,n,r),s=(t-e.size)/2;return{width:l,height:i,x:o+s,y:a+s}}(e,t,n,i);return(0,r.jsx)("rect",{mask:"url(#".concat(c.QS.SQUIRCLE,")"),height:l,width:o,x:a,y:s,rx:e.stroke,fill:"black"})}(_,P,v,x)]}),(0,r.jsx)("foreignObject",{x:0,y:0,width:P,height:P,mask:"url(#".concat(S,")"),children:(0,r.jsx)("div",{className:p.avatarStack,children:(0,r.jsx)("img",{className:p.avatar,src:O,alt:" ","aria-hidden":!0})})})]});return null!=l||null!=a?(0,r.jsxs)(s.P3F,{className:o()(p.wrapper,p.pointer,m),style:E,onClick:l,onContextMenu:h,onMouseDown:a,onKeyDown:d,onMouseEnter:null!=f?f:void 0,onMouseLeave:null!=g?g:void 0,"aria-label":null!=C?C:void 0,"aria-hidden":b,children:[t,I]}):(0,r.jsxs)("div",{className:o()(p.wrapper,m),style:E,onContextMenu:null!=h?h:void 0,onMouseEnter:null!=f?f:void 0,onMouseLeave:null!=g?g:void 0,role:"img","aria-label":null!=C?C:void 0,"aria-hidden":b,children:[t,I]})}function m(e){let{src:t,size:n,"aria-hidden":l=!1,"aria-label":s,imageClassName:u,cornerIconUrl:m,cornerIconOffsetX:b=0,cornerIconOffsetY:_=0}=e,j=(0,d.UC)(n),v=j.size,x=(0,i.useId)();return(0,r.jsx)(g,f(h({},e),{ariaLabel:s,ariaHidden:l,specs:j,children:(0,r.jsxs)("svg",{width:v+b,height:v+_,viewBox:"0 0 ".concat(v+b," ").concat(v+_),className:o()(p.mask,p.svg),"aria-hidden":!0,children:[(0,r.jsxs)("mask",{id:x,children:[(0,r.jsx)("circle",{cx:j.size/2,cy:j.size/2,r:j.size/2,fill:"white"}),null!=m&&function(e,t,n){let{height:i,width:l,x:o,y:a}=y(e,t,n);return(0,r.jsx)("rect",{mask:"url(#".concat(c.QS.SQUIRCLE,")"),height:i,width:l,x:o,y:a,fill:"black"})}(j,b,_)]}),(0,r.jsx)("foreignObject",{x:0,y:0,width:j.size,height:j.size,mask:"url(#".concat(x,")"),children:(0,r.jsx)(a.qe,{src:t,className:u,isSpeaking:!1})}),null!=m&&(0,r.jsx)("foreignObject",f(h({},O(j,b,_)),{mask:"url(#".concat(c.QS.SQUIRCLE,")"),children:(0,r.jsx)("img",{src:m,height:16,width:16,alt:" "})}))]})}))}function b(e){let{src:t,size:n,"aria-hidden":l=!1,"aria-label":a,cornerIconUrl:s,cornerIconOffsetX:u=0,cornerIconOffsetY:m=0}=e,b=(0,i.useId)(),_=(0,i.useId)(),j=(0,d.UC)(n),v=j.size+u,x=j.size+m,C=y(j,u,m),E=O(j,u,m);return(0,r.jsx)(g,f(h({},e),{ariaLabel:a,ariaHidden:l,specs:j,children:(0,r.jsxs)("svg",{width:v,height:x,viewBox:"0 0 ".concat(v," ").concat(x),className:o()(p.mask,p.svg),"aria-hidden":!0,children:[(0,r.jsxs)("mask",{id:b,children:[(0,r.jsx)("rect",{x:0,y:0,width:j.size,height:j.size,fill:"white",mask:"url(#".concat(c.QS.SQUIRCLE,")")}),(0,r.jsx)("circle",{cx:C.x+C.width/2,cy:C.y+C.height/2,r:C.width/2,fill:"black"})]}),(0,r.jsx)("mask",{id:_,children:(0,r.jsx)("circle",{cx:E.x+E.width/2,cy:E.y+E.height/2,r:E.width/2,fill:"white"})}),(0,r.jsx)("foreignObject",{x:0,y:0,width:j.size,height:j.size,mask:"url(#".concat(b,")"),children:(0,r.jsx)("div",{className:p.avatarStack,children:(0,r.jsx)("img",{src:null!=t?t:void 0,alt:" ",className:p.avatar,"aria-hidden":!0})},t)}),null!=s&&(0,r.jsx)("foreignObject",f(h({},E),{mask:"url(#".concat(_,")"),children:(0,r.jsx)("img",{src:s,height:16,width:16,alt:" "})}))]})}))}function O(e,t,n){return{width:16,height:16,x:e.size-16-e.offset+t,y:e.size-16-e.offset+n}}function y(e,t,n){let r=O(e,t,n),i=r.x-2,l=r.y-2;return{width:r.height+4,height:r.width+4,x:i,y:l}}},207913:function(e,t,n){n.d(t,{Z:()=>K});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(392711),s=n(843611),c=n(442837),u=n(481060),d=n(239091),p=n(884338),h=n(933557),f=n(471445),g=n(111028),m=n(978003),b=n(245216),O=n(739566),y=n(930282),_=n(318713),j=n(47930),v=n(123145),x=n(25015),C=n(178480),E=n(518950),S=n(131704),P=n(601964),I=n(592125),N=n(720202),w=n(430824),Z=n(821020),T=n(948154),A=n(804932),R=n(993609),D=n(987889),M=n(586694),L=n(981631),k=n(677642),U=n(388032),G=n(361584);function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function F(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function V(e){let{message:t,channel:n,focusProps:l,isSelected:a,isUnread:s,groupedMessages:d}=e,p=n.type===L.d4z.UNKNOWN?u.VL1:(0,f.KS)(n,null),m=(0,h.ZP)(n,!1),b=(0,c.e7)([w.Z],()=>w.Z.getGuild(n.getGuildId())),{nick:y,colorString:_}=(0,O.ZP)(t),{avatarSrc:x,eventHandlers:C}=(0,E.Z)({userId:t.author.id,size:u.EFr.SIZE_32,guildId:null==b?void 0:b.id,animateOnHover:!0}),S=n.type!==L.d4z.GUILD_ANNOUNCEMENT||null==b,I=(0,j.x)({channel:n,message:t,user:t.author,compact:!0,isRepliedMessage:!0}),Z=(0,r.jsx)("div",{className:G.usernameTagContainer,inert:!0,children:(0,r.jsx)(v.Z,{channel:n,message:t,hideGuildTag:!0,hideSystemTag:!0,className:G.username})});return(0,i.useEffect)(()=>{null!=b&&N.Z.requestMember(b.id,t.author.id)},[b,t.author.id]),(0,r.jsx)(u.tEY,F(B({},l),{children:(0,r.jsxs)("div",{onMouseLeave:C.onMouseLeave,onMouseEnter:C.onMouseEnter,className:G.messageContainer,children:[s&&!a&&(0,r.jsx)("div",{className:G.unreadDot}),(0,r.jsx)(u.Kqy,{align:"start",style:{width:"fit-content",marginTop:"4px"},children:S?(0,r.jsx)(M.q,{"aria-label":"User Avatar",src:x,size:u.EFr.SIZE_32,cornerIconUrl:null!=b?(0,P.EB)(b,24):void 0,cornerIconOffsetX:4,cornerIconOffsetY:3}):(0,r.jsx)(M.E,{"aria-label":"Guild Icon",src:(0,P.EB)(b,32),size:u.EFr.SIZE_32,cornerIconUrl:t.author.getAvatarURL(b.id,24),cornerIconOffsetX:4,cornerIconOffsetY:3})}),(0,r.jsxs)(u.Kqy,{gap:0,style:{minWidth:0},children:[(0,r.jsxs)(u.Kqy,{direction:"horizontal",gap:4,style:{whiteSpace:"nowrap",minWidth:0,justifyContent:"space-between"},children:[S?(0,r.jsxs)("div",{className:G.usernameOuterContainer,children:[(0,r.jsx)("div",{className:G.username,style:{color:null!=_?_:void 0},children:(0,r.jsx)(g.Z,{children:Z})}),I]}):(0,r.jsx)(g.Z,{children:(0,r.jsx)(u.X6q,{variant:"text-md/semibold",style:{color:null!=_?_:void 0},className:G.username,children:b.name})}),(0,r.jsxs)(u.Kqy,{direction:"horizontal",gap:4,align:"center",style:{width:"fit-content"},children:[(0,r.jsx)(D.Z,{message:t,channel:n,isUnread:s}),t.mentioned&&s?(0,r.jsx)(u.mAB,{className:G.mentionBadge,count:1}):(0,r.jsx)(z,{message:t})]})]}),(0,r.jsxs)(u.Kqy,{direction:"horizontal",align:"center",gap:4,inert:!0,className:o()(G.channelName,{[G.unread]:s,[G.selected]:a}),children:[null!==p&&(0,r.jsx)(p,{size:"xxs",className:G.inlineIcon}),(0,r.jsxs)(u.Text,{variant:"text-sm/medium",lineClamp:1,className:o()(G.channelName,{[G.unread]:s,[G.selected]:a}),children:[m,!S&&" \xb7 ".concat(y)]})]}),(0,r.jsx)(W,{message:t,isUnread:s,isSelected:a,channel:n}),d.length>0&&(0,r.jsx)(u.Kqy,{gap:4,style:{minWidth:0,marginTop:4,marginBottom:4},children:(0,r.jsx)(H,{overflowMessages:d})})]})]})}))}function H(e){let{overflowMessages:t}=e,n=(0,a.uniqBy)(t.map(e=>e.author),e=>e.id).slice(0,3);return(0,r.jsxs)(u.Kqy,{direction:"horizontal",gap:4,inert:!0,children:[(0,r.jsx)(p.ZP,{users:n,useFallbackUserForPopout:!0,size:p.u8.SIZE_16}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",className:G.overflowText,children:U.intl.formatToPlainString(k.default.NzUuLC,{count:t.length})})]})}function z(e){let{message:t}=e,n=(0,C.a3)(t.timestamp.getTime());return(0,r.jsx)(_.Z,{timestamp:t.timestamp,className:G.timestamp,isEdited:t.isEdited(),isInline:!0,children:n})}function W(e){let{message:t,channel:n,isUnread:l,isSelected:a}=e,{previewContent:s,Icon:c}=function(e){let{message:t,isUnread:n,isSelected:l}=e,{content:a}=(0,x.Z)(t,{hideSimpleEmbedContent:!0,allowList:!1,allowHeading:!0,allowLinks:!0,previewLinkTarget:!1,formatInline:!0,noStyleAndInteraction:!0});return(0,i.useMemo)(()=>{let e=""===t.content,i=t.embeds.some(e=>e.type===L.hBH.GIFV),s=function(e){let t=e.embeds.some(e=>e.type===L.hBH.GIFV);return e.attachments.length+ +!!t}(t),c=(0,m.Z)(t),d=t.stickerItems.length>0,p=t.isPoll(),h=t.type===L.uaV.POLL_RESULT,f=t.hasFlag(L.iLy.IS_VOICE_MESSAGE),g=t.type===L.uaV.USER_JOIN,O=null;1===s?O=u.XBm:s>1?O=u.Ka2:c?O=b.Z:p||h?O=u.QDj:d?O=u.SlE:f&&(O=u.gj8);let _=!0,j=null;if(e)if(c)j=U.intl.string(U.t["9ddYKi"]);else if(p){var v;_=!1,j=null==(v=t.poll)?void 0:v.question.text}else j=h?U.intl.string(U.t.sad2PD):i?U.intl.string(U.t.p0oZm5):s>1?U.intl.formatToPlainString(U.t.rtfTKi,{count:s}):1===s?U.intl.string(U.t.tCcq5u):d?U.intl.format(U.t.zY4v1N,{stickerName:t.stickerItems[0].name}):f?U.intl.string(U.t.slFYgo):g?U.intl.string(U.t.Yvvfw8):U.intl.string(U.t.sDqZHB);else _=!1,j=(0,r.jsx)(y.ZP,{content:a,message:t,compact:!1,className:o()(G.message,{[G.unread]:n,[G.selected]:l})});return e&&(j=(0,r.jsx)("div",{className:o()(G.message,{[G.unread]:n,[G.selected]:l,[G.descriptionMessage]:_}),children:j})),{previewContent:j,Icon:O}},[t,a,n,l])}({message:t,channel:n,isUnread:l,isSelected:a});return(0,r.jsxs)(u.Kqy,{direction:"horizontal",gap:4,align:"center",inert:!0,children:[null!=c&&(0,r.jsx)(c,{size:"xxs",className:G.inlineIcon}),(0,r.jsx)(u.Text,{variant:"text-sm/normal",lineClamp:1,className:G.message,children:s})]})}let K=(0,i.memo)(function(e){var t;let{message:l,groupedMessages:a,isUnread:p}=e,h=l.message,f=(0,A.fJ)(),{params:g}=(0,s.$B)(),m=(0,c.e7)([I.Z],()=>{if(null==h)return null;let e=I.Z.getChannel(l.channelId);return null!=e?e:new S.nl({id:l.channelId,guild_id:l.guildId,type:L.d4z.UNKNOWN,name:U.intl.string(U.t.J90oLS)})}),b=(0,R.z)(e=>{var t;return e.isMenuOpenForMessage(null!=(t=null==h?void 0:h.id)?t:null)}),{notificationCenterVariant:O}=(0,Z.pN)({location:"NotificationsInboxMessageUnit"}),y=i.useMemo(()=>"".concat(null==h?void 0:h.author.username,": ").concat(null==m?void 0:m.name),[null==h?void 0:h.author.username,null==m?void 0:m.name]),_=null!=(t=null==a?void 0:a.map(e=>e.message).filter(e=>null!=e))?t:[];return null==h||null==m?null:(0,r.jsx)(u.kL8,{"aria-label":y,className:o()(G.messageClickableContainer,{[G.selected]:h.id===g.messageId,[G.actionMenuOpen]:b}),onClick:()=>{T.Z.inboxItemClick({message:h,channel:m,isUnread:p,isSidebar:O===Z.jP.SIDEBAR,viewId:f})},onContextMenu:e=>{e.preventDefault(),(0,A.Qz)({interactionType:A.s_.CONTEXT_MENU,message:h,viewId:f}),(0,d.jW)(e,async()=>{let{default:e}=await n.e("74922").then(n.bind(n,550265));return t=>(0,r.jsx)(e,F(B({},t),{channel:m}))},{disableClickTrap:!0})},children:(0,r.jsx)(V,{message:h,channel:m,isSelected:h.id===g.messageId,groupedMessages:_,isUnread:p})})},(e,t)=>{var n,r;return e.isUnread===t.isUnread&&e.message.id===t.message.id&&(null==(n=e.groupedMessages)?void 0:n.length)===(null==(r=t.groupedMessages)?void 0:r.length)})},82409:function(e,t,n){n.d(t,{Z:()=>B}),n(361932),n(187205),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(442837),c=n(481060),u=n(570140),d=n(45114),p=n(493773);n(100527),n(906732);var h=n(377171),f=n(315174),g=n(340541),m=n(768943),b=n(592125),O=n(430824),y=n(375954),_=n(306680),j=n(709054),v=n(821020),x=n(948154),C=n(804932),E=n(725739),S=n(787879),P=n(370774),I=n(334426),N=n(862149),w=n(207913),Z=n(553984),T=n(333834),A=n(982183),R=n(981631),D=n(388032),M=n(567133);function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let k=[],U={controller:new a.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:A.$J,hasGuildSubheader:!1,disableBannerAnimation:!0};function G(e){var t,n;let{includePanelSpacing:l}=e,a=(0,C.fJ)(),{selectedFilter:h}=(0,E.Z)(),I=(0,s.e7)([S.Z],()=>S.Z.oldestDisplayedMessageId),N=(0,s.Wu)([S.Z],()=>S.Z.getInboxMessages()),w=(0,s.Wu)([_.ZP,O.Z,S.Z],()=>N.filter(e=>!(0,P.YH)({messageId:e.id,channelId:e.channelId,guildId:e.guildId,ReadStateStore_:_.ZP,GuildStore_:O.Z})&&!(0,P.Tj)(e,S.Z.selectedItemInfo))),D=(0,s.Wu)([_.ZP,O.Z,S.Z],()=>N.filter(e=>(0,P.YH)({messageId:e.id,channelId:e.channelId,guildId:e.guildId,ReadStateStore_:_.ZP,GuildStore_:O.Z})||(0,P.Tj)(e,S.Z.selectedItemInfo))),G=i.useCallback(e=>{h!==A.V5.BOOKMARKS&&x.Z.loadMoreInbox({viewId:a,loadingTrigger:e})},[h,a]),{hasLoadedEver:B,canLoadMore:W}=(0,s.cj)([S.Z],()=>({hasLoadedEver:S.Z.hasLoadedEver,canLoadMore:S.Z.canLoadMore({})}));i.useEffect(()=>{W&&!B&&G(A.X.ON_OPEN)},[W,B,G]),function(e){let{unreadChannelIds:t}=(0,P.O4)();i.useEffect(()=>{null!=e&&t.forEach(e=>{var t;let n=y.Z.getMessages(e),r=null==(t=n.last())?void 0:t.id,i=_.ZP.ackMessageId(e),l=n.hasPresent()&&n.ready&&!n.cached;null!=r&&null!=i&&l&&j.default.compare(i,r)>=0&&d.In(e,{section:R.jXE.NOTIFICATIONS_INBOX,object:R.qAy.ACK_INBOX_CHANNEL_NO_MESSAGES,objectType:R.Qqv.ACK_AUTOMATIC},!0)})},[e,t])}(B?D:null);let K=(0,s.Wu)([m.Z],()=>m.Z.getSavedMessages()),Y=i.useMemo(()=>K.flatMap(e=>{var t;let{message:n}=e;return null==n?k:[{id:n.id,channelId:n.channel_id,guildId:null==(t=b.Z.getBasicChannel(n.channel_id))?void 0:t.guild_id,kind:A.fL.BOOKMARK,message:n}]}),[K]),q=F(w,h,I),X=F(D,h,null);(0,p.ZP)(()=>{var e;u.Z.dispatch({type:"NOTIFICATIONS_INBOX_OPEN"});let t=(0,v.Ag)({location:"NotificationsInboxSidebar"}).notificationCenterVariant,n=null==(e=S.Z.getDevOverrides().navOnClick)||e;if(t!==v.jP.SIDEBAR||!1===n)return;let{message:r,isUnread:i}=function(e,t){var n,r,i;let l=null==(n=e[e.length-1])?void 0:n.message,o=null==(r=t[t.length-1])?void 0:r.message,a=null!=o?o:l;if(null!=a)return{message:a,isUnread:null!=o};let s=S.Z.getNotifyingChannelIds();if(null==s||0===s.length)return{message:null,isUnread:!1};let c=s[0],u=_.ZP.getTrackedAckMessageId(c);return null==u?{message:null,isUnread:!1}:{message:{id:j.default.atNextMillisecond(u),channel_id:c},isUnread:null!=(i=_.ZP.hasUnread(c))&&i}}(q,X);null!=r&&x.Z.inboxItemClick({message:r,channel:{id:r.channel_id},isUnread:i,isSidebar:!0,track:!1,viewId:a})}),(0,p.zq)(()=>{u.Z.dispatch({type:"NOTIFICATIONS_INBOX_CLOSE"})});let{filterStyle:Q}=(0,v.pN)({location:"NotificationsInboxSidebar"}),{entrypoints:J}=(0,g._k)({location:"NotificationsInboxSidebar"}),$=Q===v.v8.DROPDOWN&&h!==A.V5.ALL,ee=(0,A.H_)(h);return(0,r.jsx)("nav",{className:o()(M.container,{[M.panelSpacing]:l}),children:(0,r.jsxs)(c.y5t,{forceLevel:1,component:(0,r.jsx)(f.ZP,(t=L({hasSubheader:!0,guild:ee},U),n=n={children:(0,r.jsx)(c.Kqy,{direction:"horizontal",gap:4,style:{marginRight:-4},children:Q===v.v8.DROPDOWN&&!J&&(0,r.jsx)(Z.p,{})})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)),children:[h===A.V5.ALL&&(0,r.jsx)(z,{hideBanner:!B||h!==A.V5.ALL}),$&&(0,r.jsx)(c.LZC,{size:8}),(0,r.jsx)(T.Z,{className:M.messageList,renderMessageGroup:H,messages:h===A.V5.BOOKMARKS?Y:q,unreadMessages:h===A.V5.BOOKMARKS?[]:X,listName:"notifications-inbox",renderLoadingState:V,ignoreGrouping:h===A.V5.BOOKMARKS,loadMore:G})]})})}function B(e){return(0,r.jsx)(C.HP,{children:(0,r.jsx)(G,L({},e))})}function F(e,t,n){return i.useMemo(()=>0===e.length||t===A.V5.BOOKMARKS?k:e.filter(e=>{let{id:r}=e;return!(j.default.age(r)>A.ib||null!=n&&0>=j.default.compare(r,n))&&t===A.V5.ALL}),[e,t,n])}function V(){return(0,r.jsx)(N.Z,{})}function H(e,t){return(0,r.jsx)(w.Z,{message:e[0],groupedMessages:e.slice(1),isUnread:t},e[0].id)}function z(e){let{hideBanner:t}=e,n=(0,I.d)(e=>e.shouldHide());return(0,r.jsx)("div",{className:o()(M.caughtUpContainer,{[M.hide]:n||t}),children:(0,r.jsxs)("div",{className:M.caughtUpContent,children:[(0,r.jsx)(c.Text,{variant:"text-sm/medium",color:"text-feedback-positive",className:M.caughtUpText,children:D.intl.string(D.t["6XMM+P"])}),(0,r.jsx)(c.W6s,{size:"sm",color:h.Z.TEXT_FEEDBACK_POSITIVE})]})})}},553984:function(e,t,n){n.d(t,{p:()=>g});var r=n(951288),i=n(120356),l=n.n(i),o=n(481060),a=n(377171),s=n(804932),c=n(725739),u=n(370774),d=n(334426),p=n(982183),h=n(388032),f=n(567843);function g(e){let{className:t}=e,n=(0,s.fJ)(),i=(0,u.ux)(),{selectedFilter:g,setSelectedFilter:m}=(0,c.Z)(),b=(0,d.d)(e=>e.setInboxReadState);if(!i)return null;let O=()=>{let e=g===p.V5.ALL?p.V5.BOOKMARKS:p.V5.ALL;m(e),e===p.V5.ALL&&b(!1),(0,s.RZ)({section:e,enabled:!0,viewId:n})},y=g===p.V5.ALL?h.intl.string(h.t["2pAkDA"]):h.intl.string(h.t.HcoRu7);return(0,r.jsx)(o.ua7,{position:"bottom",text:y,children:e=>{var n,i;return(0,r.jsx)(o.P3F,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={className:l()(t,f.headerButton,{[f.enabled]:g===p.V5.BOOKMARKS}),"aria-label":y,onClick:O,children:g===p.V5.BOOKMARKS?(0,r.jsx)(o.plf,{size:"xs",color:a.Z.ICON_DEFAULT}):(0,r.jsx)(o.gt9,{size:"xs",color:a.Z.ICON_TERTIARY})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},333834:function(e,t,n){n.d(t,{Z:()=>D}),n(539854),n(583741),n(388685),n(642613);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(392711),s=n.n(a),c=n(91192),u=n(442837),d=n(755721),p=n(481060),h=n(724757),f=n(100527),g=n(906732),m=n(306680),b=n(585483),O=n(709054),y=n(821020),_=n(804932),j=n(389160),v=n(787879),x=n(370774),C=n(334426),E=n(862149),S=n(982183),P=n(981631),I=n(677642),N=n(388032),w=n(809946);function Z(e){e.stopPropagation()}function T(e){let{group:t,isOpen:n,toggleOpenedState:i}=e;return(0,r.jsx)(p.P3F,{"aria-expanded":n,onClick:i,className:o()(w.messagesGroupHeaderWrap,{[w.collapsed]:!n}),children:(0,r.jsxs)(p.Kqy,{gap:4,direction:"horizontal",align:"center",children:[(0,r.jsx)(p.X6q,{variant:"text-sm/medium",color:"text-secondary",className:w.messagesGroupHeader,children:(0,a.capitalize)(N.intl.string(S.Vv[t]).toLowerCase())}),(0,r.jsx)(p.CJ0,{size:"xxs",className:w.chevron})]})})}let A=[S.KZ.UNREAD,S.KZ.TODAY,S.KZ.YESTERDAY,S.KZ.OLDER];function R(){let{analyticsLocations:e}=(0,g.ZP)(f.Z.NOTIFICATIONS_INBOX);return(0,r.jsx)("div",{className:w.emptyStateContainer,children:(0,r.jsxs)(p.Kqy,{gap:24,align:"center",children:[(0,r.jsxs)(p.Kqy,{gap:16,align:"center",children:[(0,r.jsx)(p.xx7,{size:"custom",height:40,width:40,color:p.TVs.colors.BACKGROUND_MOD_STRONG}),(0,r.jsx)(p.Text,{variant:"text-sm/medium",color:P.tPk.TEXT_MUTED,style:{textAlign:"center"},children:N.intl.string(I.default["O+racX"])})]}),(0,r.jsx)(d.zx,{onClick:()=>(0,x.j4)(e),color:d.zx.Colors.PRIMARY,style:{fontWeight:600},children:N.intl.string(I.default.klSpfn)})]})})}function D(e){let{messages:t,unreadMessages:n,loadMore:l,renderLoadingState:a,renderMessageGroup:d,scrollerClassName:f,className:g,listName:I,ignoreGrouping:N=!1}=e,D=(0,_.fJ)(),M=i.useRef(null),L=(0,h.Z)(I,M),{entrypoint:k,notificationCenterVariant:U}=(0,y.pN)({location:"NotificationsInboxSidebarList"}),{isLoading:G,isLoadingComplete:B,hasLoadedEver:F}=(0,u.cj)([v.Z],()=>({isLoading:v.Z.isLoading,isLoadingComplete:v.Z.isLoadingComplete,hasLoadedEver:v.Z.hasLoadedEver})),V=!F&&G,{messageCategoryOpenStates:H,toggleOpenState:z}=(0,j.Z)(),W=function(){let e=(0,u.Wu)([v.Z],()=>{var e;return null!=(e=v.Z.getNotifyingChannelIds())?e:[]});return(0,u.e7)([v.Z,m.ZP],()=>{let t=v.Z.getChannelInfoMap();for(let r of e){var n;let e=t[r];if((null==e||e.loadState===S.a7.UNLOADED)&&null!=(n=m.ZP.hasUnread(r))&&n)return!0}return!1},[e])}();i.useEffect(()=>{function e(){var e;null==(e=M.current)||e.scrollPageUp({animate:!0})}function t(){var e;null==(e=M.current)||e.scrollPageDown({animate:!0})}return b.S.subscribe(P.CkL.SCROLL_PAGE_DOWN,t),b.S.subscribe(P.CkL.SCROLL_PAGE_UP,e),()=>{b.S.unsubscribe(P.CkL.SCROLL_PAGE_DOWN,t),b.S.unsubscribe(P.CkL.SCROLL_PAGE_UP,e)}},[]);let K=i.useCallback(()=>{var e;let t=null==(e=M.current)?void 0:e.getScrollerState();if(null==t)return;let n=.5*t.offsetHeight;t.scrollHeight-(t.scrollTop+t.offsetHeight)<=n&&(null==l||l(S.X.USER_SCROLL))},[l]),Y=i.useMemo(()=>{let e={[S.KZ.UNREAD]:[],[S.KZ.TODAY]:[],[S.KZ.YESTERDAY]:[],[S.KZ.OLDER]:[]},r={[S.KZ.UNREAD]:[],[S.KZ.TODAY]:[],[S.KZ.YESTERDAY]:[],[S.KZ.OLDER]:[]},i={[S.KZ.UNREAD]:{},[S.KZ.TODAY]:{},[S.KZ.YESTERDAY]:{},[S.KZ.OLDER]:{}};return(t.length>0||n.length>0)&&(s().each(n,e=>{e.kind===S.fL.MENTION?r[S.KZ.UNREAD].push(e):e.channelId in i[S.KZ.UNREAD]?i[S.KZ.UNREAD][e.channelId].push(e):i[S.KZ.UNREAD][e.channelId]=[e]}),s().each(t,e=>{let t=(0,x.bl)(e);e.kind===S.fL.MENTION?r[t].push(e):e.channelId in i[t]?i[t][e.channelId].push(e):i[t][e.channelId]=[e]}),s().each(A,t=>{[...Object.values(i[t]).map(e=>e.reverse()),...r[t].map(e=>[e])].sort((e,t)=>O.default.compare(t[0].id,e[0].id)).forEach(n=>{e[t].push(n)})})),e},[t,n]),q=0===t.length&&0===n.length&&B,X=0===t.length&&0===n.length&&!F&&G,Q=i.useMemo(()=>{let e=[];return X?e.push(a()):q?e.push((0,r.jsx)(R,{},"empty-state")):N?(e.push(...n.map(e=>d([e],!0))),e.push(...t.map(e=>d([e],!1)))):s().each(A,t=>{0!==Y[t].length&&(e.push((0,r.jsx)(T,{group:t,isOpen:H[t],toggleOpenedState:()=>{let e=H[t];z(t),(0,_.RZ)({section:t,enabled:!e,viewId:D})}},t)),H[t]&&e.push(...Y[t].map(e=>d(e,t===S.KZ.UNREAD))))}),e},[t,n,a,H,z,Y,N,d,q,X,D]),J=Q[Q.length-1],$=i.isValidElement(J)&&J.type===T,ee=(0,C.d)(e=>e.setInboxReadState);i.useEffect(()=>{X||ee(0===Y.UNREAD.length)},[Y,X,ee]);let et=(t.length>0||n.length>0)&&null!=l&&G;!function(e){let{loadingInitial:t,messagesByCategory:n}=e,r=i.useRef(!1),l=n.UNREAD.length>0,{setOpenStateFromUnreads:o}=(0,j.Z)();i.useEffect(()=>{t||r.current||(o(l),r.current=!0)},[o,l,t])}({messagesByCategory:Y,loadingInitial:V});let en=i.useCallback(()=>{var e;let t=A.filter(e=>H[e]).reduce((e,t)=>e+Y[t].length,0),n=null==(e=M.current)?void 0:e.getScrollerState();return null==n?0:Math.max(0,Math.ceil(n.offsetHeight/64)-t)},[H,Y]);i.useEffect(()=>{X||G||0>=en()||(!$||W)&&(null==l||l(S.X.FILL_SCROLLER))},[en,l,X,G,$,W]);let er=i.useMemo(()=>{let e=Math.min(Math.max(2,en()),20);return(0,r.jsx)(E.Z,{withHeader:!1,size:e})},[en]);return(0,_.vU)({notificationCenterVariant:U,entrypoint:k,messages:t,unreadMessages:n,messagesByCategory:Y,viewId:D}),(0,r.jsx)("div",{className:o()(g,w.messagesPopoutWrap),onClick:Z,onDoubleClick:Z,"aria-label":e["aria-label"],children:(0,r.jsx)(c.bG,{navigator:L,children:(0,r.jsx)(c.SJ,{children:e=>{var t,n,{ref:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(p.Den,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{var t;M.current=e,i.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null},className:o()(w.messagesPopout,f),onScroll:K,fade:!0},l),n=n={children:[Q,et&&!$?er:null]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})})})}},862149:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(793030),a=n(442837),s=n(607070),c=n(495940);function u(e){let{withHeader:t=!0,size:n=15}=e,i=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion);return(0,r.jsxs)(o.Kq,{gap:4,children:[t&&(0,r.jsx)("div",{className:l()(c.wrapper,{[c.noAnimation]:i}),style:{paddingTop:8,paddingBottom:8},children:(0,r.jsx)(d,{className:l()(c.lineShort,c.loadingAnimation)})}),Array.from({length:n}).map((e,t)=>(0,r.jsx)(p,{},t))]})}function d(e){let{className:t}=e;return(0,r.jsx)("div",{className:l()(c.line,t)})}function p(){let e=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:12,padding:4},className:l()(c.wrapper,{[c.noAnimation]:e}),children:[(0,r.jsx)("div",{className:l()(c.avatar,c.loadingAnimation)}),(0,r.jsxs)("div",{className:c.lineContainer,children:[(0,r.jsx)(d,{className:l()(c.lineMedium,c.loadingAnimation)}),(0,r.jsx)(d,{className:l()(c.lineShort,c.loadingAnimation)}),(0,r.jsx)(d,{className:l()(c.lineLong,c.loadingAnimation)})]})]})}},437152:function(e,t,n){n.d(t,{E:()=>c,N:()=>u});var r=n(704215),i=n(433517),l=n(605236),o=n(70956),a=n(921944);let s="doNotShowReorderModal";function c(){(0,l.Ow)(r.z.CHANNEL_REORDER_MODAL_DISMISS_SETTING,{dismissAction:a.L.USER_DISMISS})}function u(){null!=i.K.get(s)&&i.K.remove(s);let{isDismissed:e}=(0,l.Fo)(r.z.CHANNEL_REORDER_MODAL_DISMISS_SETTING,{cooldownDurationMs:o.Z.Millis.WEEK});return!e}},339144:function(e,t,n){n.d(t,{J:()=>S,y:()=>E});var r=n(951288),i=n(647438),l=n(512722),o=n.n(l),a=n(481060),s=n(24124),c=n(636449),u=n(620662),d=n(513202),p=n(906732),h=n(522651),f=n(311352),g=n(668519),m=n(562224),b=n(803647),O=n(131704),y=n(944486),_=n(626135),j=n(870569),v=n(981631),x=n(388032),C=n(258628);function E(e,t,n){return null!=e&&(null!=n?n.applicationId===e.id:null!=t&&t.application_id===e.id&&t.type===v.IIU.PLAYING&&(0,u.Z)(t,v.xjy.JOIN))}let S=i.memo(function(e){let t,l,u,S,{stream:P,canGoLive:I,guildId:N,isStreaming:w,channel:Z,canStream:T,runningGame:A,embeddedActivity:R,activity:D,application:M,analyticsContext:L}=e,{skipModalForGame:k,showRefreshedGoLiveModal:U}=(0,g.a)({location:"Activity Panel",autoTrackExposure:!1}),{parentAnalyticsLocation:G}=(0,p.ZP)(),B=E(M,D,R),F=i.useCallback(()=>{o()(null!=D,"Received null activity"),(0,h.v)(G,h.d.INVITE),_.default.track(v.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:D.application_id,location:L.location}),(0,s.h7)(D,!1)},[D,L,G]),V=i.useCallback((e,t)=>()=>{(0,h.v)(G,h.d.LEAVE_ACTIVITY),d.Z.leaveActivity({location:t,applicationId:e,showFeedback:!0})},[G]),H=i.useCallback(()=>{(0,b.Z)(P)},[P]),z=i.useCallback(()=>{let e=null!=Z&&(0,O.vd)(Z.type)?Z:null,t=null!=e?e.getGuildId():N;if(k&&null!=A&&null!=y.Z.getVoiceChannelId()){(0,g.s)("Activity Panel"),(0,m.Z)(A.pid);return}(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("46746"),n.e("33641")]).then(n.bind(n,60594));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={sourcePID:null==A?void 0:A.pid,selectSource:!!U&&null!=y.Z.getVoiceChannelId(),guildId:t,analyticsLocation:v.Sbl.ACTIVITY_PANEL},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[Z,N,A,U,k]),W=(null!=A||null==R||(0,c.R)())&&(w||I)?(w?(t=!1,l=()=>{H(),(0,h.v)(G,h.d.STREAM,!1)},u=a.g5r,S=x.intl.string(x.t.S5anIS)):T?(t=!1,l=()=>{z(),(0,h.v)(G,h.d.STREAM,!0)},u=a.hGI,S=null!=A?x.intl.formatToPlainString(x.t.AB5gT0,{game:A.name}):x.intl.string(x.t.FeUKeH)):(t=!0,l=null,u=a.hGI,S=null!=Z&&(0,O.vd)(Z.type)?x.intl.string(x.t.uQn9Bw):null!=N?x.intl.string(x.t.fBXEoK):x.intl.string(x.t.n3feND)),(0,r.jsx)("div",{className:C.panelButtonContainer,children:(0,r.jsx)(j.Z,{tooltipText:S,disabled:t,onClick:l,icon:u})})):null,K=B&&null==R?(0,r.jsx)(j.Z,{tooltipText:x.intl.string(x.t["hC/Ze3"]),onClick:F,icon:a.ejJ}):null,Y=null==R?null:(0,r.jsx)(j.Z,{tooltipText:x.intl.string(x.t["R/FK4O"]),onClick:V(R.applicationId,R.location),icon:a.PBZ}),q=null==P?null:(0,r.jsx)(f.Z,{});return null==W&&null==K&&null==Y?null:(0,r.jsxs)("div",{className:C.actions,children:[W,K,null!=Y?Y:q]})})},840780:function(e,t,n){n.d(t,{Z:()=>eu}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(512722),s=n.n(a),c=n(442837),u=n(481060),d=n(570140),p=n(475179),h=n(925549),f=n(438139),g=n(730749),m=n(607070),b=n(636449),O=n(566620),y=n(317381),_=n(889441),j=n(736409),v=n(835473),x=n(413523),C=n(933557),E=n(194082),S=n(550532),P=n(436774),I=n(594190),N=n(925329),w=n(102172),Z=n(74299),T=n(914923),A=n(662304),R=n(989941),D=n(690221),M=n(522474),L=n(231664),k=n(759198),U=n(131704),G=n(199902),B=n(314897),F=n(592125),V=n(984933),H=n(430824),z=n(131951),W=n(496675),K=n(158776),Y=n(699516),q=n(944486),X=n(594174),Q=n(449224),J=n(358085),$=n(345243),ee=n(115530),et=n(339144),en=n(441248),er=n(981631),ei=n(918559),el=n(800339);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eo(e,t,n[t])})}return e}let es=(0,f.Z)(function(e){let{message:t}=e;return(0,r.jsx)($.Z,{children:t})});class ec extends i.PureComponent{renderSparkles(){let{useReducedMotion:e}=this.props;async function t(){let{default:e}=await n.e("5217").then(n.t.bind(n,801048,19));return e}return(0,r.jsx)("div",{className:el.sparkleContainer,children:(0,r.jsx)(u.Fmz,{importData:t,shouldAnimate:!e,className:el.sparkles})})}renderActions(){return(0,r.jsx)(et.J,ea({},this.props))}renderGame(){let{isStreaming:e,application:t,runningGame:n,isForceShowSharingPopout:i,setIsForceShowSharingPopout:l}=this.props;return(0,r.jsx)(en.k,{isStreaming:e,application:t,game:n,onClickNotSharing:()=>l(!0),isForceShowSharingPopout:i,setIsForceShowSharingPopout:l})}renderScreenshare(){let{isStreaming:e,streamMetadata:t,streamQualityIndicator:n}=this.props,{title:i,sanitizedTitle:l}=(0,T.Z)(t);return(0,r.jsxs)("div",{className:el.gameWrapper,children:[e?(0,r.jsx)(A.Z,{title:l,icon:null==t?void 0:t.sourceIcon}):(0,r.jsx)(E.ZP,{look:E.ZP.Looks.GRAY,size:E.ZP.Sizes.SMALL,className:el.liveIndicator}),(0,r.jsxs)("div",{className:el.info,children:[(0,r.jsx)(ee.Z,{children:i}),null!=n&&(0,r.jsxs)("div",{className:el.perksDemoContainer,children:[(0,r.jsx)(u.SrA,{size:"xxs",color:P.JX.PREMIUM_TIER_2}),(0,r.jsx)(k.Z,{className:el.perksDemoText,variant:"text-xxs/semibold",children:n})]})]})]})}renderEmbeddedActivity(){let e,{application:t,embeddedActivity:n,channel:i,channelName:l,guildForConnectedChannel:o,isForceShowSharingPopout:a,setIsForceShowSharingPopout:s}=this.props;if(null==n||null==t)return null;let c={start:n.connectedSince},u=l;null!=o&&null!=i?(e=er.Z5c.CHANNEL(o.id,i.id),u="".concat(u," / ").concat(o.name)):null!=i&&(e=er.Z5c.CHANNEL(er.ME,i.id));let d=(0,r.jsx)(D.Z,{href:e,onClick:this.handleChannelLinkClick,children:(0,r.jsx)($.Z,{className:el.channel,children:u})}),p=(0,r.jsx)(D.Z,{href:e,onClick:this.handleApplicationLinkClick,children:(0,r.jsx)(ee.Z,{className:el.underlineOnHover,children:t.name})}),h=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{className:el.gameIcon,game:t,size:N.Z.Sizes.SMALL}),(0,r.jsx)(j.j,{isForceShowSharingPopout:a,setIsForceShowSharingPopout:s,children:(0,r.jsxs)("div",{className:el.info,children:[p,null!=i&&(0,U.Qm)(i.type)?d:(0,r.jsx)(es,{timestamps:c})]})})]});return(0,r.jsx)("div",{className:el.gameWrapper,children:h})}render(){let{canGoLive:e,embeddedActivity:t,runningGame:n,isStreaming:i,streamMetadata:l,application:a,activity:s,className:c}=this.props;if(!i&&(!(0,et.y)(a,s,t)&&!e||null==n&&null==t))return null;let u=()=>null==n||i&&(null==l?void 0:l.pid)==null?null!=t?this.renderEmbeddedActivity():this.renderScreenshare():this.renderGame();return(0,r.jsx)("div",{className:o()(el.panel,c),children:(0,r.jsxs)("div",{className:el.body,children:[u(),this.renderActions()]})})}constructor(...e){super(...e),eo(this,"activityPopoutTargetRef",i.createRef()),eo(this,"handleApplicationLinkClick",()=>{let{isActivityPopoutOpen:e}=this.props;this.handleChannelLinkClick(),e&&d.Z.dispatch({type:"ACTIVITY_POPOUT_WINDOW_OPEN"})}),eo(this,"handleChannelLinkClick",()=>{var e;let{channel:t,embeddedActivity:n,isActivityPopoutOpen:r}=this.props;s()(null!=n,"Activity cannot be null during navigation click"),s()(null!=t,"Channel cannot be null during navigation click"),h.Z.channelListScrollTo(null!=(e=t.guild_id)?e:er.ME,t.id),!r&&((0,U.vd)(t.type)&&p.Z.selectParticipant(t.id,(0,x.gN)({applicationId:n.applicationId,instanceId:n.compositeInstanceId})),(0,U.Qm)(t.type)&&(0,O.tg)(ei.Ez.PANEL))})}}let eu=(0,g.Z)(function(e){var t,n,l,{guildId:o}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["guildId"]);let s=(0,c.e7)([B.default],()=>B.default.getId()),u=(0,c.e7)([I.ZP,Q.Z],()=>(0,R.Z)(I.ZP,Q.Z)),d=(0,c.e7)([q.Z,F.Z],()=>F.Z.getChannel(q.Z.getVoiceChannelId())),p=(0,c.e7)([y.ZP],()=>y.ZP.getConnectedActivityChannelId()),h=(0,c.e7)([F.Z],()=>F.Z.getChannel(p)),f=(0,c.e7)([H.Z],()=>H.Z.getGuild(null==h?void 0:h.guild_id)),[g,O]=(0,c.Wu)([G.Z],()=>[G.Z.getCurrentUserActiveStream(),G.Z.getStreamerActiveStreamMetadata()]),j=(0,c.e7)([m.Z],()=>m.Z.useReducedMotion),x=(0,c.e7)([y.ZP],()=>y.ZP.getCurrentEmbeddedActivity()),E=(0,c.e7)([H.Z,W.Z,V.ZP],()=>null!=d?w.JL(d,H.Z,W.Z,!1):null!=o&&w.h_(V.ZP.getChannels(o),H.Z,W.Z).length>0),[P]=(0,v.Z)([null!=(l=null!=O&&null!=O.id?O.id:null!=u&&null!=u.id?u.id:null!=x?x.applicationId:void 0)?l:""]),N=(0,c.e7)([S.Z],()=>S.Z.getFakeGameData()),T=(0,c.e7)([y.ZP],()=>y.ZP.getCurrentEmbeddedActivity()),A=(0,_.Z)()&&null!=T&&(0,b.R)(),D=(0,c.e7)([z.Z],()=>(0,Z.Z)(z.Z)&&(0,J.isWindows)()),k=(0,c.e7)([K.Z],()=>null!=s?K.Z.findActivity(s,e=>e.type===er.IIU.PLAYING):null),U=null!=g&&g.ownerId===s&&g.state!==er.jm8.ENDED,$=(0,c.e7)([X.default,Y.Z],()=>null!=h?(0,C.F6)(h,X.default,Y.Z):void 0),ee=(0,L.Z)(),[et,en]=i.useState(!1),ei=(0,c.e7)([M.Z],()=>M.Z.getWindowOpen(er.KJ3.ACTIVITY_POPOUT));return(0,r.jsx)(ec,(t=ea({},a),n=n={guildId:o,canGoLive:D||A||void 0!==N,activity:k,embeddedActivity:x,userId:s,runningGame:null!=N?N:u,application:P,useReducedMotion:j,isStreaming:U,channel:h,canStream:E,stream:g,streamMetadata:O,channelName:$,guildForConnectedChannel:f,streamQualityIndicator:ee,isForceShowSharingPopout:et,setIsForceShowSharingPopout:en,isActivityPopoutOpen:ei},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})},441248:function(e,t,n){n.d(t,{k:()=>b});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(40614),s=n(736409),c=n(12694),u=n(925329),d=n(810568),p=n(168524),h=n(115530),f=n(388032),g=n(48733);function m(e){let{name:t,applicationId:n}=e,i=(0,p.Z)({location:"ActivityPanelGameCard",applicationId:n,source:d.m1.RtcPanel,trackEntryPointImpression:!0});return(0,r.jsx)(o.P3F,{onClick:i,className:l()(null!=i&&g.clickableGameName),children:(0,r.jsx)(h.Z,{className:g.gameName,children:t})})}function b(e){let{isStreaming:t,application:n,game:i,onClickNotSharing:l,isForceShowSharingPopout:d,setIsForceShowSharingPopout:p}=e,h=null!=n?n.name:null!=i?i.name:f.intl.string(f.t["UQMV/P"]);return(0,c.V)(),(0,r.jsxs)("div",{className:g.gameWrapper,children:[(0,r.jsxs)("div",{className:g.gameIconWrapper,children:[(0,r.jsx)(u.Z,{className:g.gameIcon,game:n,pid:null==i?void 0:i.pid}),t?(0,r.jsx)(o.Odl,{size:"md",color:"currentColor",className:g.liveBadge}):null]}),(0,r.jsx)(s.j,{isForceShowSharingPopout:d,setIsForceShowSharingPopout:p,children:(0,r.jsxs)("div",{className:g.info,children:[null!=h?(0,r.jsx)(m,{name:h,applicationId:null==n?void 0:n.id}):null,(0,r.jsx)(a.V,{onClick:l})]})})]})}},849862:function(e,t,n){n.d(t,{If:()=>a,m$:()=>o}),n(388685);var r=n(442837),i=n(91896),l=n(699516);function o(e){let[t,n]=e;return t.getPendingCount()+n.getPendingIncomingCount()}function a(){return(0,r.e7)([l.Z,i.Z],()=>o([l.Z,i.Z]))}},970645:function(e,t,n){n.d(t,{o:()=>s});var r=n(544891),i=n(570140),l=n(355467),o=n(853872),a=n(981631);async function s(){try{i.Z.dispatch({type:"CHECKOUT_RECOVERY_STATUS_FETCH"});let{body:e}=await r.tn.get({url:a.ANM.CHECKOUT_RECOVERY,rejectWithError:!0}),t=(null==e?void 0:e.is_eligible)===!0;t&&!o.Z.hasFetchedPaymentSources&&await (0,l.tZ)(),i.Z.dispatch({type:"CHECKOUT_RECOVERY_STATUS_FETCH_SUCCESS",isTargeted:t})}catch(e){i.Z.dispatch({type:"CHECKOUT_RECOVERY_STATUS_FETCH_FAILURE"})}}},933843:function(e,t,n){n.d(t,{m:()=>i});var r=n(37113);function i(e,t){return e===r.LY.RESOLUTION_720&&t!==r.ws.FPS_60}},231664:function(e,t,n){n.d(t,{Z:()=>s});var r=n(442837),i=n(361291),l=n(557457),o=n(933843),a=n(37113);function s(){let{resolution:e,fps:t}=(0,r.cj)([i.Z],()=>i.Z.getState());if(!(0,o.m)(e,t))return"".concat((0,a.o6)(e)," ").concat((0,l.bp)(t))}},538445:function(e,t,n){n.d(t,{Z:()=>N});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(866442),s=n(399606),c=n(481060),u=n(100527),d=n(906732),p=n(204418),h=n(879892),f=n(742409),g=n(970731),m=n(485386),b=n(594174),O=n(5192),y=n(944888),_=n(234368),j=n(981631),v=n(921944),x=n(989308),C=n(388032),E=n(49777),S=n(842926),P=n(445648),I=n(128647);function N(e){let{guild:t,markAsDismissed:n}=e,l=(null==t?void 0:t.premiumProgressBarEnabled)===!0?g.DF.LEFT_TOP:g.DF.TOP_CENTER,N=l===g.DF.TOP_CENTER||l===g.DF.LEFT_TOP?E[l]:"",{analyticsLocations:w}=(0,d.ZP)(u.Z.GUILD_BOOSTING_ENHANCED_ROLE_COLOR_COACHMARK),Z=i.useCallback(()=>{(0,h.u)({analyticsLocation:{section:j.jXE.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK},numberOfBoostsToAdd:1,analyticsLocations:w,guild:t})},[t,w]),T=(0,s.e7)([b.default],()=>b.default.getCurrentUser()),A=function(e){let t=(0,s.e7)([m.Z],()=>m.Z.getSortedRoles(e).find(y.YB));return(null==t?void 0:t.colorStrings)!=null?t.colorStrings:{primaryColor:(0,a.Rf)(_.oC.primary_color),secondaryColor:(0,a.Rf)(_.oC.secondary_color),tertiaryColor:null}}(t.id),{gradientStyle:R,gradientClassname:D}=(0,c.Icv)({colorStrings:A,roleStyle:"username",includeConvenienceGlow:!0,animateGradient:!0});return(0,r.jsx)(g.ZP,{asset:(0,r.jsxs)("div",{className:E.imageContainer,children:[null!=T?(0,r.jsx)("div",{className:E.messageContainer,children:(0,r.jsx)(f.l,{avatar:(0,r.jsx)(p.Z,{user:T,guildId:t.id,avatarSize:c.EFr.SIZE_40,"aria-hidden":!0}),usernameStyle:R,usernameClassName:o()(D,S.animateGradient),username:O.ZP.getName(t.id,null,T),asset:(0,r.jsx)("img",{alt:"",src:P.Z})})}):(0,r.jsx)("img",{alt:"",src:I.Z,className:E.image}),(0,r.jsx)(c.olH,{className:E.close,innerClassName:E.innerClose,onClick:()=>null==n?void 0:n(v.L.USER_DISMISS)})]}),header:(0,r.jsx)(c.Text,{variant:"text-md/semibold",children:C.intl.string(x.default.bw76aG)}),content:(0,r.jsx)(c.Text,{variant:"text-sm/medium",color:"text-muted",children:C.intl.string(x.default["/DTbiY"])}),buttonCTA:C.intl.string(C.t["oPAx7+"]),onClick:Z,className:o()(E.container,N),caretPosition:l,markAsDismissed:n})}},608949:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r,i=n(442837),l=n(570140),o=n(430824),a=n(905128),s=n(19394);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={};class d extends(r=i.ZP.PersistedStore){getState(){return u}initialize(e){null!=e&&(u=e)}getNotificationStateForGuild(e){return u[e]}}c(d,"displayName","GuildPowerupsNotificationStore"),c(d,"persistKey","GuildPowerupsNotificationStore"),c(d,"migrations",[e=>(Object.entries(e).forEach(t=>{let[n,r]=t;e[n]=r}),e)]);let p=new d(l.Z,{GUILD_POWERUPS_ACK_NOTIFICATION:function(e){var t,n,r,i,l,d;let{guildId:p}=e,h=null!=(n=null==(t=o.Z.getGuild(p))?void 0:t.premiumSubscriberCount)?n:0,f=a.Z.getStateForGuild(p),g=(0,s.h)(null!=(r=null==f?void 0:f.unlockedPowerups)?r:{});l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({},u),d=d={[p]:{lastSeenWarningNotification:null!=(i=g[g.length-1])?i:Date.now(),lastBoostCount:h}},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(d)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(d,e))}),u=l},GUILD_POWERUPS_RESET_NOTIFICATIONS:function(){u={}}})},326660:function(e,t,n){n.d(t,{J:()=>l,d:()=>r}),n(647438);let r=216e5;var i,l=((i={})[i.LEVEL_REACHED=0]="LEVEL_REACHED",i[i.PERKS_PURCHASABLE=1]="PERKS_PURCHASABLE",i[i.PERKS_AVAILABLE=2]="PERKS_AVAILABLE",i[i.NEW_PERK_AVAILABLE=3]="NEW_PERK_AVAILABLE",i)},234368:function(e,t,n){n.d(t,{_k:()=>c,oC:()=>s,rm:()=>a});var r,i=n(989308),l=n(388032),o=n(128647),a=((r={}).ENHANCED_ROLE_COLORS="ENHANCED_ROLE_COLORS",r);let s={primary_color:0xf47fff,secondary_color:0xb44cff},c={ENHANCED_ROLE_COLORS:{assetUrl:o.Z,title:l.intl.string(i.default["6dwTi4"]),description:l.intl.string(i.default.lwfWIy),cta:l.intl.string(i.default.RDH5zc)}}},742139:function(e,t,n){n.d(t,{V:()=>o,Z:()=>a});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-06_skill_trees_progress_bar",commonTriggerPoint:i.$P.CONNECTION_OPEN,label:"Skill Trees New Progress Bar",defaultConfig:{enabled:!1},treatments:[{id:1,label:"enabled",config:{enabled:!0}}]});function o(e){return l.useExperiment({location:e},{autoTrackExposure:!1}).enabled}let a=l},10765:function(e,t,n){n.d(t,{Z:()=>l,e:()=>o});var r=n(494497),i=n(158638);function l(e,t,n){let l=(0,i.q8)(e,n);return t.skuId===r.A$&&l}function o(e,t,n){return t.skuId===r.A$&&(0,i.Mp)(e,n)}},761700:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(271383),l=n(819640),o=n(232062),a=n(981631),s=n(647086);function c(e,t){let n=null!=t&&t!==s._&&t!==a.I_8,c=function(e,t){let n=(0,r.e7)([i.ZP],()=>null!=e?i.ZP.getMember(t,e):void 0,[e,t]);return(null==n?void 0:n.premiumSince)==null}(e,t),u=(0,o.W)(t,"useShowErsForBoostersCoachmark"),d=(0,r.e7)([l.Z],()=>l.Z.hasLayers());return n&&c&&u&&!d}},495804:function(e,t,n){n.d(t,{Z:()=>a});var r=n(647438),i=n(901005),l=n(535396),o=n(981631);function a(e,t){let n=(0,i.i)(null==e?void 0:e.id,t);return(0,r.useMemo)(()=>{if(null==e)return 0;let t=(null==e?void 0:e.features.has(o.oNc.PREMIUM_TIER_3_OVERRIDE))===!0?0:o.oCV[o.Eu4.TIER_3];return Object.keys(l.Hk).filter(e=>!!n||e!==o.oNc.GUILD_TAGS_BADGE_PACK_PETS&&e!==o.oNc.GUILD_TAGS_BADGE_PACK_FLEX).forEach(e=>{let n=l.Hk[e];null!=n&&null==n.includedInLevel&&(t+=n.boostPrice)}),t},[e,n])}},19394:function(e,t,n){function r(e){return Object.values(e).filter(e=>null!=e.ends_at).sort((e,t)=>e.ends_at<t.ends_at?-1:1)}n.d(t,{h:()=>r}),n(642613)},834209:function(e,t,n){n.d(t,{Z:()=>i});var r=n(706454);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"numeric",day:"numeric"};return new Date(e).toLocaleDateString(r.default.locale,t)}},795338:function(e,t,n){n.d(t,{g:()=>d,m:()=>p});var r=n(951288),i=n(120356),l=n.n(i),o=n(494497),a=n(156732),s=n(535396),c=n(922434),u=n(942570);function d(e){let{className:t}=e;return(0,r.jsx)("img",{className:t,alt:"",src:u})}function p(e){let{className:t,powerup:n,isHovering:i}=e,u=(0,a.Z)(n,i);switch(n.type){case s.Us.LEVEL:return(0,r.jsx)(d,{});case s.Us.PERK:return(0,r.jsx)("img",{alt:"",src:u,className:l()(c.background,{[c.gradientRoleColorsImage]:n.skuId===o.If},t)})}}},486311:function(e,t,n){n.d(t,{Z:()=>x}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(100527),u=n(434479),d=n(819640),p=n(713081),h=n(326660),f=n(441536),g=n(933104),m=n(332538),b=n(921944),O=n(989308),y=n(388032),_=n(969649);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let v={animation:{BEG:0,END:75},LOOP:{BEG:76,END:376}},x=i.memo(function(e){let{guildId:t,selected:l}=e,x=(0,m.ZP)(t),C=i.useCallback(()=>{var e;(0,p.jd)(t),(0,f.Z)(t,c.Z.GUILD_POWERUPS_CHANNEL_LIST_ROW),null==x||null==(e=x.popout)||e.markAsDismissed(b.L.INDIRECT_ACTION)},[t,x]),E=i.useCallback(()=>{var e;switch(null==x||null==(e=x.popout)?void 0:e.type){case h.J.LEVEL_REACHED:return(0,r.jsx)(g.jG,j({guildId:t},x.popout));case h.J.PERKS_AVAILABLE:return(0,r.jsx)(g.$h,j({guildId:t},x.popout));case h.J.PERKS_PURCHASABLE:return(0,r.jsx)(g.yI,j({guildId:t},x.popout));case h.J.NEW_PERK_AVAILABLE:return(0,r.jsx)(g.cO,j({guildId:t},x.popout));default:return(0,r.jsx)("div",{})}},[t,null==x?void 0:x.popout]),S=(0,s.s9z)(s.JQI),P=(0,a.e7)([d.Z],()=>d.Z.hasLayers()),[I,N]=i.useState(null),w=null==I?"animation":"LOOP";i.useEffect(()=>{(null==x?void 0:x.popout)==null&&N(null)},[null==x?void 0:x.popout]);let Z=i.useCallback(e=>{N(e)},[]),T=i.useRef(null);return(0,r.jsx)(s.yRy,{targetElementRef:T,shouldShow:(null==x?void 0:x.popout)!=null&&!(S||P),nudgeAlignIntoViewport:!0,animationPosition:"bottom",position:"right",renderPopout:E,children:e=>{var i,a;return(0,r.jsx)(u.m,(i=j({},e),a=a={ref:T,className:_.container,id:"skill-trees-".concat(t),renderIcon:e=>(0,r.jsx)(s.$Eu,{size:"md",className:e,color:"currentColor"}),background:(null==x?void 0:x.popout)!=null&&(0,r.jsx)("div",{className:_.lottieContainer,children:(0,r.jsx)(s.kci,{nextScene:w,className:_.lottie,sceneSegments:v,importData:()=>n.e("50821").then(n.t.bind(n,548421,19)),onScenePlay:Z,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}})}),text:(0,r.jsx)("span",{className:o()({[_.textImportant]:(null==x?void 0:x.showUnread)===!0}),children:y.intl.string(O.default.yv3DJC)}),selected:l,onClick:C,showUnread:(null==x?void 0:x.showUnread)===!0,trailing:null==x?void 0:x.trailing},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})})},933104:function(e,t,n){n.d(t,{$h:()=>I,cO:()=>w,jG:()=>P,yI:()=>N});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(494497),a=n(793030),s=n(442837),c=n(481060),u=n(100527),d=n(623624),p=n(970731),h=n(430824),f=n(639777),g=n(441536),m=n(795338),b=n(279604),O=n(535396),y=n(981631),_=n(921944),j=n(989308),v=n(388032),x=n(428197),C=n(928381),E=n(283902),S=n(225375);function P(e){let{guildId:t,powerup:n,markAsDismissed:i}=e;return(0,r.jsx)(Z,{asset:(0,r.jsx)(m.g,{className:x.image}),header:v.intl.formatToPlainString(j.default["Zg/m9P"],{perkName:n.title}),content:v.intl.formatToPlainString(j.default["1EGXSE"],{perkName:n.title}),buttonCTA:v.intl.string(v.t.RzWDqa),onClick:()=>(0,g.Z)(t,u.Z.GUILD_POWERUPS_COACHMARK_LEVEL_UP,n.skuId),markAsDismissed:i})}function I(e){let{guildId:t,markAsDismissed:n}=e,i=(0,f.Z)(t);return(0,r.jsx)(Z,{asset:(0,r.jsx)("img",{alt:"",src:C.Z,className:l()(x.image,x.newPerksImage)}),header:v.intl.string(j.default.QpQBPT),content:i?v.intl.string(j.default["6hn0xM"]):v.intl.string(j.default.RDuvXl),buttonCTA:v.intl.string(v.t.RzWDqa),onClick:()=>i?(0,g.Z)(t,u.Z.GUILD_POWERUPS_COACHMARK_NEW_PERKS):(0,d.f)({guildId:t,location:{section:y.jXE.GUILD_POWERUPS_NEW_PERKS_COACHMARK}}),markAsDismissed:n,caretPosition:i?p.DF.LEFT_TOP:p.DF.TOP_CENTER})}function N(e){let{guildId:t,powerups:n,markAsDismissed:i}=e,l=(0,s.e7)([h.Z],()=>{var e;return null==(e=h.Z.getGuild(t))?void 0:e.name}),{onActivate:o}=(0,b.ZP)(t,n[0]);if(0===n.length)return;let a=n.length>=3?v.intl.formatToPlainString(j.default["6Sv+3N"],{perk:n[0].title,perk2:n[1].title,perk3:n[2].title}):2===n.length?v.intl.formatToPlainString(j.default.wcQOqK,{perks:"".concat(n[0].title," & ").concat(n[1].title)}):v.intl.formatToPlainString(j.default.ZF8NT0,{perk:n[0].title}),c=1===n.length;return(0,r.jsx)(Z,{asset:1===n.length?(0,r.jsx)(m.m,{className:x.image,powerup:n[0]}):(0,r.jsx)(m.g,{className:x.image}),header:v.intl.formatToPlainString(j.default.LmpChI,{guildName:l}),content:a,buttonCTA:c?v.intl.string(j.default.gSxlHR):v.intl.string(v.t.RzWDqa),onClick:e=>c?o(e):(0,g.Z)(t,u.Z.GUILD_POWERUPS_COACHMARK_PURCHASEABLE_PERKS),markAsDismissed:i})}function w(e){let{guildId:t,powerups:n,markAsDismissed:i}=e,l=n.find(e=>e.skuId===o.A$);if(null!=l)return(0,r.jsx)(Z,{header:v.intl.string(j.default.Ygpx4e),content:v.intl.string(j.default.mmNkUF),asset:(0,r.jsx)("img",{alt:"",src:S.Z,className:x.image}),onClick:()=>(0,g.Z)(t,u.Z.GUILD_POWERUPS_COACHMARK_NEW_PERK_AVAILABLE,l.skuId),markAsDismissed:i,buttonCTA:v.intl.string(v.t.RzWDqa)});let a=n.find(e=>O.NL.has(e.skuId));return null!=a?(0,r.jsx)(Z,{header:v.intl.string(j.default["kA2c+v"]),content:v.intl.string(j.default.TUilLi),asset:(0,r.jsx)("img",{alt:"",src:E.Z,className:x.image}),onClick:()=>(0,g.Z)(t,u.Z.GUILD_POWERUPS_COACHMARK_NEW_PERK_AVAILABLE,a.skuId),markAsDismissed:i,buttonCTA:v.intl.string(v.t.RzWDqa)}):null}function Z(e){var{asset:t,header:n,content:i,caretPosition:o,markAsDismissed:s}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["asset","header","content","caretPosition","markAsDismissed"]);let d=null!=o?o:p.DF.LEFT_TOP,h=d===p.DF.TOP_CENTER||d===p.DF.LEFT_TOP?x[d]:"";return(0,r.jsx)(p.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({asset:(0,r.jsxs)("div",{className:x.imageContainer,children:[t,(0,r.jsx)(c.olH,{className:x.close,onClick:()=>null==s?void 0:s(_.L.USER_DISMISS)})]}),header:(0,r.jsx)(a.xv,{variant:"text-md/semibold",children:n}),content:(0,r.jsx)(a.xv,{variant:"text-sm/medium",color:"text-muted",children:i}),className:l()(x.container,h),headerClassName:x.header,contentClassName:x.header,caretPosition:d,markAsDismissed:s},u))}},620304:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(793030),c=n(442837),u=n(704215),d=n(481060),p=n(239091),h=n(100527),f=n(243778),g=n(667815),m=n(531572),b=n(259580),O=n(538445),y=n(639777),_=n(495804),j=n(441536),v=n(921944),x=n(989308),C=n(388032),E=n(931942);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function I(e){let{guild:t,tooltipTypes:l,withMargin:I}=e,N=(0,_.Z)(t,"GuildPowerupsProgressBar"),w=(0,y.Z)(t.id),Z=i.useCallback(()=>{(0,j.Z)(t.id,h.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY)},[t.id]),T=(0,c.e7)([m.Z],()=>{var e;return null!=(e=m.Z.getCountForGuild(t.id))?e:0});i.useEffect(()=>{T!==t.premiumSubscriberCount&&(0,g.v)(t.id,t.premiumSubscriberCount)},[t.id,T,t.premiumSubscriberCount]);let A=Math.min(T/N*100,100),[R,D]=(0,d.q_F)(()=>({width:T===t.premiumSubscriberCount?"calc(".concat(A,"% - 4px)"):"0%",config:{tension:250,damping:5,mass:1}}),"respect-motion-settings",[T,t.premiumSubscriberCount]);i.useEffect(()=>{D({width:"calc(".concat(A,"% - 4px)")})},[A,D]);let M=T>=N,L=i.useRef(null),[k,U]=(0,f.US)(l),G=e=>(0,r.jsx)(d.P3F,P(S({},e),{"aria-label":void 0,role:"button",focusProps:{offset:{left:10,right:4}},onClick:()=>{var t;null==e||null==(t=e.onClick)||t.call(e),Z()},className:o()(E.container,{[E.containerWithMargin]:I}),onContextMenu:e=>{w&&(0,p.jW)(e,async()=>{let{default:e}=await n.e("8570").then(n.bind(n,651138));return n=>(0,r.jsx)(e,P(S({},n),{guild:t}))})},children:(0,r.jsxs)("div",{className:E.contentContainer,children:[(0,r.jsx)("div",{className:E.progressContainer}),(0,r.jsx)(a.animated.div,{className:o()(E.progress,{[E.progressLow]:A<=5}),style:R}),(0,r.jsxs)("div",{className:E.textContainer,children:[(0,r.jsxs)("div",{className:E.textContentContainer,children:[(0,r.jsx)(s.xv,{className:E.text,variant:"text-xs/semibold",children:C.intl.string(x.default.NI6IhY)}),t.premiumSubscriberCount>=N&&(0,r.jsx)(s.xv,{className:E.text,variant:"text-xs/semibold",children:"\uD83C\uDF89"})]}),(0,r.jsxs)("div",{className:E.textContentContainer,children:[(0,r.jsx)(s.xv,{className:o()(E.text,E.boostCountText),variant:"text-xs/semibold",children:M?C.intl.formatToPlainString(x.default["Ehpq+/"],{appliedBoostCount:T}):C.intl.formatToPlainString(x.default["/rbPDg"],{appliedBoostCount:T,maxBoostCount:N})}),(0,r.jsx)(b.Z,{width:12,height:12,direction:b.Z.Directions.RIGHT,className:o()(E.text,E.boostCountText)})]})]})]})}));return null!=k?(0,r.jsx)(d.yRy,{targetElementRef:L,renderPopout:()=>k===u.z.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK?(0,r.jsx)(O.Z,{guild:t,markAsDismissed:U}):null,position:"right",align:"top",shouldShow:!0,closeOnScroll:!0,onRequestClose:()=>U(v.L.INDIRECT_ACTION),animation:d.yRy.Animation.TRANSLATE,children:e=>(0,r.jsx)("div",{ref:L,children:G(e)})}):G()}function N(e){let{guild:t,tooltipTypes:n,withMargin:i}=e;return(0,r.jsx)(I,{guild:t,tooltipTypes:n,withMargin:i})}},279604:function(e,t,n){n.d(t,{KE:()=>O,KT:()=>b,ZP:()=>j,_C:()=>y}),n(388685),n(457542);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(906732),s=n(879892),c=n(343649),u=n(430824),d=n(823379),p=n(713081),h=n(905128),f=n(535396),g=n(981631);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e){i.useEffect(()=>{null!=e&&(0,o.showToast)((0,o.createToast)(e,o.ToastType.FAILURE))},[e])}function O(e,t){(0,o.ZDy)(async()=>{switch(t.type){case f.Us.LEVEL:let{default:i}=await n.e("99014").then(n.bind(n,271224));return n=>(0,r.jsx)(i,m({guildId:e,powerup:t},n));case f.Us.PERK:{let{default:i}=await Promise.all([n.e("42926"),n.e("97844"),n.e("52549")]).then(n.bind(n,326055));return n=>(0,r.jsx)(i,m({guildId:e,powerup:t},n))}}},{modalKey:f.H2})}function y(e,t){var p;let{analyticsLocations:b}=(0,a.ZP)(),{onToggle:O}=_(e,t),y=(0,l.e7)([h.Z],()=>{var t,n;return null!=(n=null==(t=h.Z.getStateForGuild(e))?void 0:t.appliedBoosts)?n:0}),j=(0,l.e7)([u.Z],()=>u.Z.getGuild(e)),v=(0,l.e7)([h.Z],()=>h.Z.getStateForGuild(e)),x=i.useMemo(()=>null!=t&&t.type===f.Us.LEVEL&&null!=v?function(e,t){let n=f.T1[e.skuId];return null==n?[]:Object.entries(f.Rx).filter(e=>{let[r,i]=e;return i===n&&null!=t.unlockedPowerups[r]}).map(e=>{let[n]=e;return t.allPowerups[n]}).filter(d.lm)}(t,v):[],[t,v]),C=null==x?void 0:x.reduce((e,t)=>e+t.cost,0),E=Math.max((null!=(p=null==j?void 0:j.premiumSubscriberCount)?p:0)-y+C,0);return{onActivate:i.useCallback(function(e){var i;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.stopPropagation();let{shouldCloseAllModals:a=!0}=l;if(null!=j&&null!=t)return E<t.cost?void(0,s.u)({analyticsLocation:{page:g.ZY5.GUILD_POWERUPS_OVERVIEW,section:g.jXE.GUILD_POWERUPS_OVERVIEW_CARD},numberOfBoostsToAdd:t.cost-E,analyticsLocations:b,guild:j,intent:t.type===f.Us.LEVEL?c.P.LEVEL:c.P.PERK,onSubscribeComplete:()=>{var e;return null==(e=O(!0))?void 0:e.then(()=>{a&&(0,o.pTH)(),(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("97844"),n.e("68203")]).then(n.bind(n,666083));return n=>(0,r.jsx)(e,m({guildId:j.id,powerup:t},n))})})}}):null==(i=O(!0))?void 0:i.then(()=>{a&&(0,o.pTH)(),(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("97844"),n.e("68203")]).then(n.bind(n,666083));return n=>(0,r.jsx)(e,m({guildId:j.id,powerup:t},n))})})},[O,t,E,b,j])}}function _(e,t){let[n,r]=i.useState(!1),[l,o]=i.useState(void 0);return{isLoading:n,error:l,onToggle:i.useCallback(n=>{if(null==t)return Promise.resolve();let i=n?p.H6:p.Th;return r(!0),o(void 0),i(e,t.skuId).catch(e=>{var t;throw o(null!=(t=e.body.message)?t:void 0),e}).finally(()=>{r(!1)})},[e,t])}}function j(e,t){let{isLoading:l,error:a,onToggle:s}=_(e,t),{onActivate:c}=y(e,t),u=i.useCallback(e=>(e.stopPropagation(),s(!1)),[s]);return{isLoading:l,error:a,onActivate:c,onDeactivate:u,onShowDeactivate:i.useCallback(i=>{i.stopPropagation(),(0,o.ZDy)(async()=>{let{default:i}=await n.e("31924").then(n.bind(n,625651));return n=>(0,r.jsx)(i,m({guildId:e,powerup:t},n))})},[e,t]),onShowMore:i.useCallback(()=>{O(e,t)},[e,t])}}},385902:function(e,t,n){n.d(t,{K:()=>O,_:()=>b});var r=n(647438),i=n(494497),l=n(442837),o=n(430824),a=n(819640),s=n(905128),c=n(158638),u=n(639777),d=n(973772),p=n(834209),h=n(279604),f=n(535396),g=n(989308),m=n(388032);function b(e,t){let n=(0,l.e7)([s.Z],()=>s.Z.getStateForGuild(e)),r=null==n?void 0:n.allPowerups[i.A$],o=(0,d.ZP)(e,r),a=(0,c.q8)(e,t),u=null==r?void 0:r.storeRemovalDate,h=a&&null!=u&&o.type!==f.A3.INACTIVE,b=h?{title:m.intl.formatToPlainString(g.default.mgoPkZ,{perkName:null==r?void 0:r.title}),description:m.intl.formatToPlainString(g.default.UT9pkJ,{dateString:(0,p.Z)(u)})}:null;return{shouldShow:h,notificationConfig:b}}function O(e,t){var n,d,f,b;let O=(0,l.e7)([o.Z],()=>o.Z.getGuild(e)),y=(0,l.e7)([a.Z],()=>a.Z.hasLayers()),_=null!=(b=(0,u.Z)(e))&&b,j=(0,c.q8)(e,t),v=(0,l.e7)([s.Z],()=>s.Z.getStateForGuild(e)),x=(null==v||null==(n=v.unlockedPowerups)?void 0:n[i.A$])!=null,C=null==v||null==(d=v.allPowerups)?void 0:d[i.A$],E=null==C?void 0:C.storeRemovalDate,S=null==v||null==(f=v.allPowerups)?void 0:f[i.XW],{onActivate:P}=(0,h._C)(e,S),I=!y&&_&&j&&x&&null!=C&&null!=E&&null!=S&&null!=O,N=r.useCallback(e=>{P(e)},[P]),w=r.useMemo(()=>{if(!I)return null;let e=(0,p.Z)(E);return{firstHeader:C.title,secondHeader:m.intl.formatToPlainString(g.default["8imxAg"],{dateString:e}),firstBody:m.intl.formatToPlainString(g.default["/bW9tb"],{serverName:O.name}),secondBody:m.intl.formatToPlainString(g.default.D09fdn,{dateString:e,boostCount:C.cost}),thirdBody:m.intl.string(g.default["+zvKPj"]),primaryButtonText:m.intl.string(g.default["0uo/LC"]),onPrimaryClick:N}},[I,C,E,O,N]);return{shouldShow:I,modalConfig:w}}},332538:function(e,t,n){n.d(t,{Wj:()=>w,ZP:()=>N}),n(388685),n(361932),n(187205);var r=n(951288),i=n(647438),l=n(494497),o=n(399606),a=n(704215),s=n(481060),c=n(377171),u=n(605236),d=n(243778),p=n(645041),h=n(430824),f=n(823379),g=n(267642),m=n(713081),b=n(608949),O=n(905128),y=n(326660),_=n(901005),j=n(158638),v=n(10765),x=n(317169),C=n(19394),E=n(385902),S=n(535396),P=n(981631),I=n(921944);function N(e){let t=(0,o.e7)([b.Z],()=>b.Z.getNotificationStateForGuild(e),[e]),n=(0,o.e7)([O.Z],()=>O.Z.getStateForGuild(e)),{trailing:m,showUnread:I}=function(e,t,n){let l=(0,x.Z)(e).available,{shouldShow:o}=(0,E._)(e,"useGuildPowerupsChannelListIndicators"),d=(0,u.OA)(a.z.VANITY_URL_POWERUP_ROLLBACK_NOTIFICATION,e),p=o&&!d;return i.useMemo(()=>{var e,i,o;if(null==t)return{trailing:void 0,showUnread:!1};let{unlockedPowerups:a}=t,u=(0,C.h)(a),d=null!=(i=null==n?void 0:n.lastSeenWarningNotification)?i:Date.now(),h=new Date(null==(e=u[u.length-1])?void 0:e.ends_at).getTime(),f=null!=(o=null==n?void 0:n.lastBoostCount)?o:0;return u.length>0&&d<h||p?{trailing:(0,r.jsx)(s.Mgn,{color:s.TVs.colors.STATUS_WARNING,size:"sm"}),showUnread:!0}:l!==f&&l-f>0?{trailing:(0,r.jsx)(s.mAB,{count:l-f,color:c.Z.BACKGROUND_ACCENT}),showUnread:!0}:{trailing:void 0,showUnread:!1}},[l,null==n?void 0:n.lastBoostCount,null==n?void 0:n.lastSeenWarningNotification,t,p])}(e,n,t),N=function(e,t){let[n,r]=(0,d.US)(null!=t?[a.z.GUILD_POWERUP_PERKS_COACHMARK]:[]),o=n===a.z.GUILD_POWERUP_PERKS_COACHMARK,{available:s}=(0,x.Z)(e),c=function(e,t){let n=(0,j.qI)(e,"GuildPowerupsChannelRow"),r=(0,_.i)(e,"GuildPowerupsChannelRow");return i.useMemo(()=>{if(r&&!Array.from(S.os[S.Du.GUILD_TAG_BADGE_PACKS_WAVE_ONE]).some(e=>{var n;return(null==t||null==(n=t.unlockedPowerups)?void 0:n[e])!=null}))return S.Du.GUILD_TAG_BADGE_PACKS_WAVE_ONE;if(n){var i;let n=l.A$,r=S.Rx[n],o=(null==t||null==(i=t.unlockedPowerups)?void 0:i[n])!=null;if(null==r&&!o)return S.Du.VANITY_URL;let a=(0,g.Jh)(e);if(null!=a&&null!=r&&a<r&&!o)return S.Du.VANITY_URL}return 0},[n,r,e,t])}(e,t),[u,m]=(0,d.XR)(null!=t&&!o&&c>0?a.z.GUILD_POWERUP_NEW_PERK_AVAILABLE_COACHMARK:null,c),b=u===a.z.GUILD_POWERUP_NEW_PERK_AVAILABLE_COACHMARK,O=i.useMemo(()=>{if(null==t||o||b)return;let n=function(e,t){let n=g.Oe.find(e=>{let n=S.Cp[e],r=null!=n?t.unlockedPowerups[n]:void 0;return null!=r&&r.user_id!==S.Fq});if(null==n)return;let r=S.Q1[n];if(null==r||(0,p.OY)(r,e))return;let i=S.Cp[n],l=null!=i?t.allPowerups[i]:void 0;if(null!=l)return{type:y.J.LEVEL_REACHED,powerup:l,markAsDismissed:t=>{(0,p.Qd)(r,e,!0,t)}}}(e,t);if(null!=n)return n;let r=function(e,t,n){var r,i;let l=null!=(i=null==(r=h.Z.getGuild(e))?void 0:r.premiumTier)?i:P.Eu4.NONE,o=Array.from(S.Tg.values()).flatMap(r=>r.length<=0||r.some(e=>{if(null!=t.unlockedPowerups[e])return!0;let n=S.Rx[e];return null!=n&&!!(l>=n)})?[]:r.map(r=>{let i=t.allPowerups[r];return null==i||n<i.cost||(0,v.e)(e,i,"maybeGetPerkPurchaseablePopoutDCF")?null:i})).filter(f.lm);if(0!==o.length){if(1===o.length&&!(0,p.OY)(a.C.GUILD_POWERUP_SINGLE_SKU_PURCHASE_COACHMARK,e))return{type:y.J.PERKS_PURCHASABLE,powerups:o,markAsDismissed:t=>{(0,p.Qd)(a.C.GUILD_POWERUP_SINGLE_SKU_PURCHASE_COACHMARK,e,!0,t)}};if(o.length>1&&!(0,p.OY)(a.C.GUILD_POWERUP_CHOICE_SKU_PURCHASE_COACHMARK,e))return{type:y.J.PERKS_PURCHASABLE,powerups:o,markAsDismissed:t=>{(0,p.Qd)(a.C.GUILD_POWERUP_CHOICE_SKU_PURCHASE_COACHMARK,e,!0,t)}}}}(e,t,s);if(null!=r)return r},[e,t,o,b,s]),[C,E]=(0,d.bf)(null!=O?a.z.GUILD_POWERUP_NOTIFICATION:null,{cooldownDurationMs:y.d});return i.useMemo(()=>{if(null!=t){if(o)return{type:y.J.PERKS_AVAILABLE,markAsDismissed:r};if(b){let e=S.os[c],n=Object.values(t.allPowerups).filter(t=>e.has(t.skuId));if(0===n.length)return;return{powerups:n,type:y.J.NEW_PERK_AVAILABLE,markAsDismissed:m}}if(C===a.z.GUILD_POWERUP_NOTIFICATION&&null!=O){var e,n;return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},O),n=n={markAsDismissed:e=>{E(e),O.markAsDismissed(e)}},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}}},[t,o,r,O,C,E,b,m,c])}(e,n);if(null!==n&&(null!=m||I||null!=N))return{trailing:m,showUnread:I,popout:N}}function w(e){let t=(0,o.e7)([O.Z],()=>O.Z.getStateForGuild(e)),n=N(e);i.useEffect(()=>{(0,m.jd)(e)},[e]),i.useEffect(()=>{var e;null==n||null==(e=n.popout)||e.markAsDismissed(I.L.AUTO_DISMISS)},[n]),i.useEffect(()=>{null!=t&&g.Oe.forEach(n=>{let r=S.Cp[n];if(null==r||null==t.unlockedPowerups[r])return;let i=S.Q1[n];null!=i&&(0,p.Qd)(i,e,!1,I.L.AUTO_DISMISS)})},[e,t])}},367207:function(e,t,n){n.d(t,{Z:()=>v}),n(415506),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(570140),o=n(317770),a=n(100527),s=n(963249),c=n(93127),u=n(594174),d=n(431),p=n(74538),h=n(970645),f=n(30684),g=n(937579),m=n(522558),b=n(11352);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class j extends o.Z{_initialize(){__OVERLAY__?l.Z.subscribe("PREMIUM_PAYMENT_MODAL_OPEN",this._handlePremiumPaymentModalOpen):(l.Z.subscribe("PREMIUM_PAYMENT_MODAL_CLOSE",this._handlePremiumPaymentModalClose),l.Z.subscribe("MESSAGE_LENGTH_UPSELL",this.handleMessageLengthUpsell),l.Z.subscribe("POST_CONNECTION_OPEN",this._maybeFetchPremiumOffer),l.Z.subscribe("POST_CONNECTION_OPEN",this._maybeFetchCheckoutRecovery),l.Z.subscribe("POST_CONNECTION_OPEN",this._maybeFetchUserAffinities),l.Z.subscribe("POST_CONNECTION_OPEN",this._trackCustomNotificationSoundsExposure))}_terminate(){__OVERLAY__?l.Z.unsubscribe("PREMIUM_PAYMENT_MODAL_OPEN",this._handlePremiumPaymentModalOpen):(l.Z.unsubscribe("PREMIUM_PAYMENT_MODAL_CLOSE",this._handlePremiumPaymentModalClose),l.Z.unsubscribe("MESSAGE_LENGTH_UPSELL",this.handleMessageLengthUpsell),l.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeFetchPremiumOffer),l.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeFetchCheckoutRecovery),l.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeFetchUserAffinities),l.Z.unsubscribe("POST_CONNECTION_OPEN",this._trackCustomNotificationSoundsExposure))}handleMessageLengthUpsell(e){let{channel:t,content:l}=e;(0,i.ZDy)(async()=>{let{default:e}=await n.e("33184").then(n.bind(n,465836));return n=>(0,r.jsx)(e,y({channel:t,content:l},n))})}openPremiumPaymentModalInApp(e){if(__OVERLAY__)throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");return new Promise((t,n)=>{(0,s.Z)(_(y({},e),{onClose:e=>{e?t():n()}}))})}openPremiumPaymentModalInOverlay(e){if(__OVERLAY__)throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");let{initialPlanId:t,subscriptionTier:n,followupSKUInfo:r,analyticsObject:i}=null!=e?e:{};return new Promise((e,o)=>{this._premiumPaymentModalCloseResolve=e,this._premiumPaymentModalCloseReject=o,l.Z.dispatch({type:"PREMIUM_PAYMENT_MODAL_OPEN",initialPlanId:t,subscriptionTier:n,followupSKUInfo:r,analyticsObject:i})})}constructor(...e){super(...e),O(this,"_premiumPaymentModalCloseResolve",null),O(this,"_premiumPaymentModalCloseReject",null),O(this,"_maybeFetchPremiumOffer",async()=>{let e=u.default.getCurrentUser();if(null!=e&&e.verified){let t=(d.Z.canFractionalPremiumUserUseOffer()||!(0,p.I5)(e))&&!d.Z.isFetchingOffer();await (0,g.Tf)("PremiumManager",t)}l.Z.dispatch({type:"PREMIUM_MARKETING_DATA_READY"})}),O(this,"_maybeFetchCheckoutRecovery",async()=>{let e=u.default.getCurrentUser();null!=e&&e.verified&&!(0,p.I5)(e)&&f.Z.shouldFetchCheckoutRecovery()&&await (0,h.o)()}),O(this,"_maybeFetchUserAffinities",()=>{let{enabled:e}=m.w.getCurrentConfig({location:"PremiumManager"},{autoTrackExposure:!1});e&&(0,c._)()}),O(this,"_trackCustomNotificationSoundsExposure",()=>{b.Y.trackExposure({location:"PremiumManager"})}),O(this,"_handlePremiumPaymentModalOpen",e=>{(0,s.Z)(_(y({},e),{analyticsLocations:[a.Z.OVERLAY],onClose:e=>{l.Z.dispatch({type:"PREMIUM_PAYMENT_MODAL_CLOSE",didSucceed:e})}}))}),O(this,"_handlePremiumPaymentModalClose",e=>{let{didSucceed:t}=e;t&&null!=this._premiumPaymentModalCloseResolve?this._premiumPaymentModalCloseResolve():null!=this._premiumPaymentModalCloseReject&&this._premiumPaymentModalCloseReject(),this._premiumPaymentModalCloseResolve=null,this._premiumPaymentModalCloseReject=null})}}let v=new j},759198:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(481060),a=n(977072);function s(e){var{className:t,color:n}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["className","color"]);return(0,r.jsx)(o.Text,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:l()({[a.text]:null==n},t),color:n},i))}},900085:function(e,t,n){n.d(t,{Z:()=>q}),n(415506),n(388685),n(35282),n(290780);var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(442837),c=n(257465),u=n(481060),d=n(239091),p=n(134616),h=n(714338),f=n(212819),g=n(815372),m=n(14429),b=n(576855),O=n(313201),y=n(991346),_=n(592125),j=n(888369),v=n(430824),x=n(306680),C=n(944486),E=n(938475),S=n(483360),P=n(585483),I=n(63063),N=n(51596),w=n(823385),Z=n(415795),T=n(670512),A=n(558631),R=n(981631),D=n(388032),M=n(712198);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}function U(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let G=()=>(0,i.jsxs)("div",{className:M.emptyState,children:[(0,i.jsx)("div",{className:M.emptyStateNote,children:D.intl.string(D.t.bpbATE)}),(0,i.jsx)("div",{className:M.emptyStateCTA,children:(0,i.jsx)(u.eee,{href:I.Z.getArticleURL(R.BhN.QUICK_SWITCHER_TUTORIAL),children:D.intl.string(D.t["4iPfEB"])})})]});class B extends(r=l.Component){render(){let e=v.Z.getGuild(this.props.channel.guild_id);return(0,i.jsx)(Z.$W,U(k({},this.props),{children:(0,i.jsx)("div",{className:M.miscContainer,children:null!=e?e.name:null})}))}}L(B,"defaultProps",{unread:!1});let F=s.ZP.connectStores([x.ZP,_.Z],e=>{let{channel:t}=e;return{unread:x.ZP.hasUnread(t.id),mentions:x.ZP.getMentionCount(t.id),isMentionLowImportance:x.ZP.getIsMentionLowImportance(t.id),category:_.Z.getChannel(t.parent_id)}})(B),V=s.ZP.connectStores([E.ZP],e=>{let{channel:t}=e;if(null==t.guild_id)throw Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:E.ZP.getVoiceStates(t.guild_id)[t.id]}})(B),H=s.ZP.connectStores([j.default],e=>{let{guild:t}=e;return{unread:j.default.hasUnread(t.id)}})(Z.ic),z=s.ZP.connectStores([x.ZP],e=>{let{channel:t}=e;return{mentions:x.ZP.getMentionCount(t.id)}})(Z.PZ),W=s.ZP.connectStores([_.Z,x.ZP],e=>{let{user:t}=e,n=_.Z.getDMFromUserId(t.id);return{mentions:null!=n?x.ZP.getMentionCount(n):0}})(Z.n5);function K(e,t,n){return(0,i.jsx)(u.ua7,{text:n,children:e=>(0,i.jsx)("span",U(k({},e),{className:M.autocompleteQuerySymbol,children:t}))},e)}class Y extends l.PureComponent{componentDidMount(){h.Z.disable(),h.Z.enableTemp(p.u)}componentWillUnmount(){h.Z.disableTemp(),h.Z.enable()}componentDidUpdate(e,t){let{mouseFocusDisabled:n,query:r}=this.state,{selectedIndex:i}=this.props,{current:l}=this.scrollerRef;null!=l&&(r!==t.query?l.scrollTo({to:0}):n&&i>=0&&l.scrollToIndex({section:0,row:i,padding:10}))}close(){(0,N.Cp)()}search(e){this.setState({query:e}),(0,N.yC)(e)}renderInput(){let{selectedIndex:e,results:t}=this.props,{query:n}=this.state,r=t.length>0&&""!==n;return(0,i.jsx)(u.tEY,{children:(0,i.jsx)("input",{className:M.input,"aria-label":D.intl.string(D.t.ZvKwYW),ref:this.inputRef,type:"text",role:"combobox","aria-controls":this._listId,"aria-expanded":r,"aria-activedescendant":r?this.getRowId(e):void 0,"aria-autocomplete":"list",placeholder:D.intl.string(D.t.Vtvewc),onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,value:this.state.query,spellCheck:!1,autoFocus:!0})})}renderSection(){return null}renderResults(){let e=()=>{let{query:e}=this.state,{results:t}=this.props;return 0===t.length&&e.length>0?(0,i.jsx)(G,{}):0===t.length?null:(0,i.jsx)(u._2F,{innerId:this._listId,innerRole:"listbox","aria-label":D.intl.string(D.t.Wef5Dg),ref:this.scrollerRef,sectionHeight:0,rowHeight:34,paddingBottom:10,sections:[t.length],className:M.scroller,renderRow:this.renderRow,renderSection:this.renderSection})};return(0,i.jsx)("div",{className:M.resultsArea,children:e()})}focusNode(e){P.S.dispatch(R.CkL.QUICKSWITCHER_RESULT_FOCUS,{node:e})}getRowId(e){return"quick-switcher-".concat(this._listId,"-item-").concat(e)}renderProtip(){return(0,i.jsx)(b.Z,{className:a()(M.protip,{[M.hasContent]:this.state.query.length>0}),type:b.Z.Types.INLINE,children:D.intl.format(D.t.wukqXV,{userSymbolHook:(e,t)=>K(t,f.xQ.USER,D.intl.string(D.t.GQRCGh)),textChannelSymbolHook:(e,t)=>K(t,f.xQ.TEXT_CHANNEL,D.intl.string(D.t.wrwhub)),voiceChannelSymbolHook:(e,t)=>K(t,f.xQ.VOICE_CHANNEL,D.intl.string(D.t["jz+hJi"])),guildSymbolHook:(e,t)=>K(t,f.xQ.GUILD,D.intl.string(D.t.WuwCWl)),helpdeskArticle:I.Z.getArticleURL(R.BhN.QUICK_SWITCHER_TUTORIAL)})})}renderTutorial(){let{query:e}=this.state,{seenTutorial:t,results:n}=this.props;return t?null:(0,i.jsx)(T.Z,{hasQuery:e.length>0&&n.length>0})}render(){return(0,i.jsx)(c.I,{"aria-label":D.intl.string(D.t.ZvKwYW),size:"lg",transitionState:this.props.transitionState,onClose:this.props.onClose,children:(0,i.jsxs)("div",{className:M.quickswitcher,onMouseMove:this.handleMouseMove,children:[this.renderInput(),this.renderResults(),this.renderProtip(),this.renderTutorial()]})})}constructor(...e){super(...e),L(this,"scrollerRef",l.createRef()),L(this,"inputRef",l.createRef()),L(this,"_listId",(0,O.hQ)()),L(this,"state",{query:this.props.query,mouseFocusDisabled:!0}),L(this,"handleInputChange",()=>{let{current:e}=this.inputRef;null!=e&&this.search(e.value)}),L(this,"handleMouseMove",()=>{let{mouseFocusDisabled:e}=this.state;!1!==e&&this.setState({mouseFocusDisabled:!1})}),L(this,"focusResult",e=>{this.state.mouseFocusDisabled||(0,N.tF)(this.props.results.indexOf(e))}),L(this,"selectResult",e=>{(0,N.Se)(e,this.props.queryMode===f.h8.TEXT_CHANNEL)}),L(this,"handleContextMenu",e=>{let t=this.props.results[this.props.selectedIndex];switch(t.type){case f.h8.GUILD:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("1806"),n.e("36599"),n.e("60962"),n.e("58175"),n.e("7654"),n.e("44156"),n.e("47463"),n.e("6850"),n.e("58227"),n.e("54408"),n.e("42926"),n.e("20087"),n.e("6049"),n.e("56534"),n.e("87154"),n.e("33213"),n.e("35237")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,U(k({},n),{guild:t.record,onSelect:N.Cp,hideSettings:!0}))});case f.h8.TEXT_CHANNEL:case f.h8.VOICE_CHANNEL:let r=t.record,l=v.Z.getGuild(r.getGuildId());if(null==l)return;switch(r.type){case R.d4z.GUILD_TEXT:case R.d4z.GUILD_ANNOUNCEMENT:case R.d4z.GUILD_FORUM:case R.d4z.GUILD_MEDIA:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("44011")]).then(n.bind(n,373651));return t=>(0,i.jsx)(e,U(k({},t),{channel:r,guild:l,onSelect:N.Cp}))});case R.d4z.GUILD_VOICE:case R.d4z.GUILD_STAGE_VOICE:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("18320"),n.e("83331"),n.e("81070")]).then(n.bind(n,213202));return t=>(0,i.jsx)(e,U(k({},t),{channel:r,guild:l,onSelect:N.Cp}))});case R.d4z.ANNOUNCEMENT_THREAD:case R.d4z.PUBLIC_THREAD:case R.d4z.PRIVATE_THREAD:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,U(k({},t),{channel:r,onSelect:N.Cp}))});case R.d4z.GUILD_STORE:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("99905").then(n.bind(n,649400));return t=>(0,i.jsx)(e,U(k({},t),{channel:r,guild:l,onSelect:N.Cp}))});case R.d4z.GUILD_DIRECTORY:return(0,d.jW)(e,async()=>{let{default:e}=await n.e("70623").then(n.bind(n,99334));return t=>(0,i.jsx)(e,U(k({},t),{channel:r}))})}break;case f.h8.GROUP_DM:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("57789"),n.e("81239")]).then(n.bind(n,354741));return n=>(0,i.jsx)(e,U(k({},n),{channel:t.record,selected:C.Z.getChannelId()===t.record.id,onSelect:N.Cp}))});case f.h8.USER:return(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,U(k({},n),{user:t.record,onSelect:N.Cp}))})}}),L(this,"handleKeyDown",e=>{let{mouseFocusDisabled:t,query:n}=this.state,{results:r}=this.props;!1===t&&this.setState({mouseFocusDisabled:!0});let i=e.key.toLowerCase(),{selectedIndex:l}=this.props;switch(i){case"escape":e.preventDefault(),e.stopPropagation(),n.length>0?this.search(""):(0,N.Cp)();return;case"k":(!0===e.ctrlKey||!0===e.metaKey)&&(e.preventDefault(),e.stopPropagation(),(0,N.Cp)());return;case"enter":{if(-1===l)return;if(e.preventDefault(),e.altKey)return this.handleContextMenu(e);let t=r[l];null!=t&&this.selectResult(t);return}case"arrowup":l=(0,f.gJ)(f.a8.UP,l,r);break;case"arrowdown":l=(0,f.gJ)(f.a8.DOWN,l,r);break;case"n":if(!e.ctrlKey)return;l=(0,f.gJ)(f.a8.DOWN,l,r);break;case"p":if(!e.ctrlKey)return;l=(0,f.gJ)(f.a8.UP,l,r);break;default:return}e.preventDefault(),(0,N.tF)(l)}),L(this,"renderRow",e=>{let{row:t}=e,n=this.props.results[t],{selectedIndex:r}=this.props,{showScores:l}=m.Z.getCurrentConfig({location:"62f4be_1"},{autoTrackExposure:!1});switch(n.type){case f.h8.HEADER:return(0,i.jsx)(Z.h4,{children:n.record.text},"".concat(n.type,"-").concat(n.record.id));case f.h8.TEXT_CHANNEL:return(0,i.jsx)(F,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:l?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case f.h8.VOICE_CHANNEL:return(0,i.jsx)(V,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:l?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case f.h8.GUILD:return(0,i.jsx)(H,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,guild:n.record,score:l?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case f.h8.USER:return(0,i.jsx)(W,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,user:n.record,comparator:n.comparator,score:l?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case f.h8.GROUP_DM:return(0,i.jsx)(z,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,channel:n.record,score:l?n.score:void 0},"".concat(n.type,"-").concat(n.record.id));case f.h8.APPLICATION:return(0,i.jsx)(Z.Mx,{id:this.getRowId(t),focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,application:n.record},"".concat(n.type,"-").concat(n.record.id));case f.h8.LINK:return(0,i.jsx)(Z.rU,{focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,link:n.record,score:l?n.score:void 0,id:this.getRowId(t)},"".concat(n.type,"-").concat(n.record.id));case f.h8.IN_APP_NAVIGATION:return(0,i.jsx)(Z.s8,{focused:r>=0&&t===r,onClick:()=>this.selectResult(n),onMouseEnter:()=>this.focusResult(n),onFocus:this.focusNode,onContextMenu:this.handleContextMenu,navigationRecord:n.record,score:l?n.score:void 0,id:this.getRowId(t),children:n.record.type===g.Ky.SETTINGS&&(0,i.jsx)("div",{className:M.miscContainer,children:D.intl.string(D.t["3D5yo6"])})},"".concat(n.type,"-").concat(n.record.id));default:return null}})}}function q(e){let t=(0,s.cj)([w.Z],()=>w.Z.getProps()),n=(0,y.Pt)(),r=A.Z.useExperiment({location:"QuickSwitcher"}).enabled,o=l.useMemo(()=>r?Object.values(n).filter(e=>null!=e.url).filter(e=>null==e.predicate||e.predicate()):[],[n,r]);return l.useLayoutEffect(()=>{if(!r)return;let e=o.map(e=>{var t;return{title:"string"==typeof e.label?e.label:"",searchableTitles:null!=(t=e.searchableTitles)?t:[],path:e.url}}).filter(e=>""!==e.title&&null!=e.path);e.unshift({title:D.intl.string(D.t["3D5yo6"]),searchableTitles:[D.intl.string(D.t["3D5yo6"])],path:R.Z5c.SETTINGS("account")}),(0,S.gF)(e)},[o,r]),(0,i.jsx)(Y,k({},t,e))}},329557:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),l=n(570140),o=n(317770),a=n(51596),s=n(823385),c=n(900085);let u="QUICK_SWITCHER_MODAL_KEY";class d extends o.Z{_initialize(){l.Z.subscribe("QUICKSWITCHER_SHOW",this.handleShow),l.Z.subscribe("QUICKSWITCHER_HIDE",this.handleHide)}_terminate(){l.Z.unsubscribe("QUICKSWITCHER_SHOW",this.handleShow),l.Z.unsubscribe("QUICKSWITCHER_HIDE",this.handleHide)}handleShow(){s.Z.isOpen()&&!(0,i.nfh)(u)&&(0,i.h7j)(e=>(0,r.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e)),{modalKey:u,instant:!0,onCloseCallback:a.Cp})}handleHide(){(0,i.Mr3)(u)}}let p=new d},670512:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r,i=n(951288),l=n(647438),o=n(120356),a=n.n(o),s=n(748780),c=n(846519),u=n(481060),d=n(585483),p=n(981631),h=n(388032),f=n(72235);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m={friction:15,tension:100};class b extends(r=l.PureComponent){componentDidMount(){this.setState({shown:!0}),d.S.subscribe(p.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)}componentWillUnmount(){this.focusTimeout.stop(),d.S.unsubscribe(p.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)}componentDidUpdate(){let{hasQuery:e}=this.props;e||this.springTo(0)}springTo(e){let{reducedMotion:t}=this.context;!0!==t.enabled&&s.Z.spring(this.state.translateY,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}({toValue:Math.min(e,250)},m)).start()}renderArrowGroup(e){return(0,i.jsxs)("div",{className:a()(f.arrowGroup,e),children:[(0,i.jsx)(s.Z.div,{className:a()(f.arrowContainer,f.horizontal),style:this.getStyle(),children:(0,i.jsx)("img",{alt:"",src:n(403756),className:f.arrowIcon})}),(0,i.jsx)("div",{className:a()(f.arrowContainer,f.diag1),children:(0,i.jsx)("img",{alt:"",src:n(536404),className:f.arrowIcon})}),(0,i.jsx)("div",{className:a()(f.arrowContainer,f.diag2),children:(0,i.jsx)("img",{alt:"",src:n(569347),className:f.arrowIcon})})]})}renderContent(){return(0,i.jsxs)("div",{className:f.tutorialMessages,children:[(0,i.jsx)("div",{className:f.searchMessage,children:h.intl.string(h.t.Mp0IGB)}),(0,i.jsx)("div",{className:f.selectMessage,children:h.intl.string(h.t["3CbpwM"])})]})}render(){let{hasQuery:e}=this.props,{shown:t}=this.state;return(0,i.jsxs)("div",{ref:this.rootRef,className:a()(f.tutorial,{[f.shown]:t,[f.hasQuery]:e}),children:[this.renderContent(),this.renderArrowGroup(f.__invalid_left),this.renderArrowGroup(f.right)]})}getStyle(){let{reducedMotion:e}=this.context;return!0===e.enabled?{}:{opacity:1,transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","".concat(250,"px")]})},{translateZ:0}]}}constructor(...e){super(...e),g(this,"state",{shown:!1,translateY:new s.Z.Value(0)}),g(this,"rootRef",l.createRef()),g(this,"focusTimeout",new c.V7),g(this,"handleResultFocus",e=>{let{node:t}=e;this.focusTimeout.start(1,()=>{if(this.props.hasQuery&&null!=t&&null!=this.rootRef.current){let{top:e}=this.rootRef.current.getBoundingClientRect(),{top:n}=t.getBoundingClientRect(),r=Math.abs(e-n);this.springTo(r-118+9)}else this.springTo(0)})})}}g(b,"contextType",u.Sfi);let O=b},558631:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-02_settings_search_in_quick_switcher",label:"Settings in Quick Switcher",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enable Settings search in Quick Switcher",config:{enabled:!0}}]})},288552:function(e,t,n){n.d(t,{a:()=>a});var r=n(951288);n(647438);var i=n(755721),l=n(481060),o=n(844517);let a=e=>{let{text:t,icon:n,onClick:a,ref:s}=e;return(0,r.jsxs)(i.zx,{className:o.button,innerClassName:o.buttonInner,onClick:a,buttonRef:s,children:[(0,r.jsx)(n,{color:"currentColor"}),(0,r.jsx)(l.Text,{variant:"text-md/semibold",color:"none",children:t})]})}},153209:function(e,t,n){n.d(t,{Gp:()=>_,ZP:()=>O}),n(388685),n(642613);var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(140155),s=n(497089),c=n(178480),u=n(11799),d=n(616032),p=n(695346),h=n(626135),f=n(709054),g=n(981631),m=n(388032),b=n(407067);function O(){let{initialized:e,items:t,loading:n,loadMore:i}=(0,u.y6)(),o=y(t,(0,l.e7)([a.Z],()=>a.Z.localItems));return(0,r.jsx)(d.Z,{initialized:e,items:o,loading:n,loadMore:i})}function y(e,t){return i.useMemo(()=>[...[...e,...t].sort((e,t)=>-1*f.default.compare(e.id,t.id))],[e,t])}function _(){let{items:e}=(0,u.y6)(),t=e.length>0?e[0]:null,n=y(e,(0,l.e7)([a.Z],()=>a.Z.localItems)),d=p.d$.useSetting();return i.useMemo(()=>{if(null!=t&&0>=f.default.compare(t.id,d))return!1;for(let e of n){if(0>=f.default.compare(e.id,d))break;if(!(0,c.r)(e,d))return!0}return!1},[t,d,n])?(0,r.jsx)(o.M0o,{tooltip:m.intl.string(m.t["8k+6QU"]),color:o.YX$.TERTIARY,icon:(0,r.jsx)(o.W6s,{size:"xs",color:"currentColor"}),className:b.controlButton,onClick:()=>{null!=t&&(p.d$.updateSetting(t.id),h.default.track(g.rMx.NOTIFICATION_CENTER_ACTION,{action_type:s.ud.MARK_ALL_READ}))}}):null}},818186:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(481060),l=n(529103),o=n(377171),a=n(497089),s=n(849862),c=n(626135),u=n(981631),d=n(388032),p=n(658235);function h(e){let{closePopout:t}=e,n=(0,s.If)();return(0,r.jsx)(i.DY3,{text:d.intl.string(d.t["lMR96+"]),children:(0,r.jsxs)(i.P3F,{"aria-label":"".concat(d.intl.string(d.t["lMR96+"]),", ").concat(n),className:p.friendRequestsButton,onClick:()=>{c.default.track(u.rMx.NOTIFICATION_CENTER_ACTION,{action_type:a.ud.FRIEND_REQUESTS_BUTTON_CLICK}),l.Z.transitionToSection(u.pJs.PENDING,{explicit:!0}),t()},children:[(0,r.jsx)(i.iFz,{size:"xs",color:"currentColor"}),(0,r.jsx)(i.mAB,{count:n,color:o.Z.BACKGROUND_ACCENT})]})})}},655354:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(481060),s=n(388032),c=n(59777);function u(e){let{className:t,onJump:n}=e,[l,u]=i.useState(!1);return(0,r.jsx)(a.P3F,{className:o()(c.jumpButton,t),onClick:e=>{u(!0),n(e)},children:l?(0,r.jsx)(a.$jN,{type:a.$jN.Type.PULSING_ELLIPSIS}):(0,r.jsx)(a.Text,{variant:"text-xs/medium",className:c.text,children:s.intl.string(s.t.k5WiPT)})})}},143316:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(755721),o=n(481060),a=n(626135),s=n(288552),c=n(981631),u=n(388032),d=n(407067);function p(e){let{type:t,onClick:n}=e,[l,p]=i.useState(!1),f=()=>{n(),a.default.track(c.rMx.INBOX_CHANNEL_ACKED,{marked_all_channels_as_read:!0,num_unread_channels_remaining:0})},g=e=>{e.shiftKey?f():p(!0)};return(0,r.jsxs)(r.Fragment,{children:[l?(0,r.jsx)(h,{confirm:f,cancel:()=>p(!1)}):null,"bottom-floating"===t?(0,r.jsx)(s.a,{text:u.intl.string(u.t["8k+6QU"]),icon:o.W6s,onClick:g}):(0,r.jsx)(o.M0o,{tooltip:u.intl.string(u.t["8k+6QU"]),color:o.YX$.TERTIARY,icon:(0,r.jsx)(o.W6s,{size:"xs",color:"currentColor"}),className:d.controlButton,onClick:g})]})}function h(e){let{cancel:t,confirm:n}=e;return(0,r.jsx)(o.sYh,{dismissable:!0,header:u.intl.string(u.t.h4bVZ2),confirmText:u.intl.string(u.t.e6RscX),cancelText:u.intl.string(u.t["ETE/oK"]),confirmButtonColor:l.zx.Colors.BRAND,onCancel:t,onConfirm:n,children:(0,r.jsx)(o.Text,{color:"text-default",variant:"text-sm/normal",children:u.intl.string(u.t["0MQ0BQ"])})})}},617379:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(481060),o=n(110255),a=n(64247),s=n(981631),c=n(388032);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function p(e){let{channel:t}=e,n=i.useRef(null);return(0,r.jsx)(l.yRy,{targetElementRef:n,align:"right",animation:l.yRy.Animation.NONE,position:"bottom",renderPopout:e=>t.isThread()?(0,r.jsx)(a.Z,d(u({},e),{channel:t,navId:"recents-thread-notifications",label:c.intl.string(c.t.ljs3OT)})):(0,r.jsx)(o.Z,d(u({},e),{channel:t,navId:"recents-notifications",label:c.intl.string(c.t.ljs3OT),location:{section:s.jXE.INBOX},includeGuildMute:!0})),children:e=>{let{onClick:t}=e;return(0,r.jsx)(l.M0o,{ref:n,tooltip:c.intl.string(c.t.h850Sk),color:l.YX$.TERTIARY,icon:(0,r.jsx)(l.Dkj,{size:"xs",color:"currentColor"}),onClick:t})}})}},903672:function(e,t,n){n.d(t,{Z:()=>T});var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(481060),c=n(235820),u=n(494404),d=n(493773),p=n(110924),h=n(81643),f=n(974814),g=n(622822),m=n(198620),b=n(294218),O=n(216789),y=n(695346),_=n(592125),j=n(731290),v=n(944486),x=n(455199),C=n(655354),E=n(324081),S=n(240126),P=n(981631),I=n(388032),N=n(889833);let w={offset:{left:4,right:-12}};function Z(e,t,n){let r=t?x.ZP.guildFilter:null,i=t?x.ZP.roleFilter:null,l=t?x.ZP.everyoneFilter:null,o=null;null!=e&&null!=r&&(o=r===P.NgX.ALL_SERVERS?null:e.getGuildId()),c.Z.fetchRecentMentions({before:n,limit:P.DJj,guildId:o,roles:i,everyone:l})}function T(e){let{onJump:t}=e,n=(0,a.e7)([_.Z,v.Z],()=>_.Z.getChannel(v.Z.getChannelId())),{messages:l,hasMore:s,loading:h,guildFilter:f,roleFilter:g,everyoneFilter:b}=(0,a.cj)([x.ZP],()=>({messages:x.ZP.getMentions(),hasMore:x.ZP.hasMore,loading:x.ZP.loading,guildFilter:x.ZP.guildFilter,roleFilter:x.ZP.roleFilter,everyoneFilter:x.ZP.everyoneFilter})),y=(0,O.Us)({location:"RecentMentions"}),j=(0,p.Z)(f),C=(0,p.Z)(g),E=(0,p.Z)(b);i.useEffect(()=>{if(!x.ZP.hasLoadedEver)return void Z(n,!0);(null!=j&&f!==j||null!=C&&g!==C||null!=E&&b!==E)&&Z(n,!0)},[j,f,C,g,E,b,n,!0]),(0,d.ZP)(()=>{(null==l?void 0:l.some(m.k5))&&(c.Z.clearMentions(),Z(n,!0))}),i.useEffect(()=>()=>{c.Z.truncateMentions(P.DJj)},[]);let S=i.useCallback(()=>null,[]);return(0,r.jsx)(u.ZP,{className:o()(N.recentMentionsPopout,{[N.widerInbox]:y}),scrollerClassName:N.scroller,onFetch:()=>null,onJump:t,onCloseMessage:function(e){c.Z.deleteRecentMention(e.id)},channel:n,messages:l,loading:h,hasMore:s,analyticsName:"Recent Mentions",loadMore:function(){Z(n,!0,null!=l&&l.length>0?l[l.length-1].id:null)},canCloseAllMessages:!0,renderHeader:S,renderEmptyState:D,renderMessage:A,"aria-label":I.intl.string(I.t.jbV6MD),listName:"recents"})}function A(e,t){return[(0,r.jsx)(R,{message:e,gotoMessage:t,dismissible:!0},e.id)]}function R(e){let{message:t,gotoMessage:n,dismissible:i}=e,l=(0,f.s8)({location:"recent-mentions"});if(null==t)return null;let o=_.Z.getChannel(t.channel_id);if(null==o||(0,g.aC)(o)&&l&&(0,h.sf)())return null;let a=j.Z.didAgree(o.getGuildId()),u=!!(0,g.aC)(o)&&!a;return(0,r.jsxs)("div",{className:N.container,children:[(0,r.jsx)(E.Z,{channel:o,gotoChannel:n,children:null!=i?(0,r.jsx)(s.M0o,{className:N.closeButton,tooltip:I.intl.string(I.t.cpT0Cg),color:s.YX$.TERTIARY,icon:(0,r.jsx)(s.Dio,{size:"xs",color:"currentColor"}),onClick:()=>c.Z.deleteRecentMention(t.id)}):null}),(0,r.jsxs)("div",{className:N.messageContainer,children:[(0,r.jsx)(C.Z,{className:N.jumpMessageButton,onJump:n}),(0,r.jsx)(b.Z,{message:t,channel:o,className:N.message,hideAccessories:u,compact:y.jU.getSetting(),animateAvatar:!1,focusProps:w,trackAnnouncementViews:!0},t.id)]})]})}function D(){return(0,r.jsx)(S.Z,{Icon:s.lOy,header:I.intl.string(I.t["bgDz7+"]),tip:I.intl.string(I.t.NS15vr)})}},999671:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288),i=n(647438),l=n(442837),o=n(481060),a=n(235820),s=n(592125),c=n(944486),u=n(455199);n(288552);var d=n(981631),p=n(388032),h=n(407067);function f(e){let{closePopout:t,onSelect:n}=e,i=(0,l.e7)([s.Z,c.Z],()=>s.Z.getChannel(c.Z.getChannelId())),{everyoneFilter:h,roleFilter:f,guildFilter:g}=(0,l.cj)([u.ZP],()=>{let{everyoneFilter:e,roleFilter:t,guildFilter:n}=u.ZP;return{everyoneFilter:e,roleFilter:t,guildFilter:n}});return(0,r.jsxs)(o.v2r,{navId:"mentions-filter","aria-label":p.intl.string(p.t.pEasFR),onClose:t,onSelect:n,children:[(0,r.jsx)(o.S89,{id:"Everyone",label:p.intl.string(p.t.cdyUsb),action:function(){a.Z.setGuildFilter({everyoneFilter:!h})},checked:h}),(0,r.jsx)(o.S89,{id:"Roles",label:p.intl.string(p.t.lZejCg),action:function(){a.Z.setGuildFilter({roleFilter:!f})},checked:f}),null==i||i.isPrivate()?null:(0,r.jsx)(o.S89,{id:"All Servers",label:p.intl.string(p.t.GWMA6u),action:function(){a.Z.setGuildFilter({guildFilter:g===d.NgX.THIS_SERVER?d.NgX.ALL_SERVERS:d.NgX.THIS_SERVER})},checked:g===d.NgX.ALL_SERVERS})]})}function g(){let e=i.useRef(null);return(0,r.jsx)(o.yRy,{targetElementRef:e,align:"right",animation:o.yRy.Animation.NONE,position:"bottom",renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(f,{closePopout:t})},children:t=>{let{onClick:n}=t;return(0,r.jsx)(o.M0o,{ref:e,tooltip:p.intl.string(p.t.pEasFR),color:o.YX$.TERTIARY,icon:(0,r.jsx)(o.gXV,{size:"xs",color:"currentColor"}),className:h.controlButton,onClick:n})}})}},324081:function(e,t,n){n.d(t,{Z:()=>I});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),o=n(91192),a=n(442837),s=n(481060),c=n(468363),u=n(326255),d=n(956221),p=n(771173),h=n(43267),f=n(933557),g=n(471445),m=n(377171),b=n(313201),O=n(565138),y=n(199902),_=n(592125),j=n(430824),v=n(158776),x=n(306680),C=n(594174),E=n(388032),S=n(888097);let P={top:8,bottom:8,left:-4,right:-4};function I(e){var t,n;let{channel:i,children:l,gotoChannel:a,mentionCount:c,channelState:u,toggleCollapsed:d}=e,p=(0,o.JA)("recents-header-".concat(i.id,"-").concat((0,b.Dt)()));return(0,r.jsx)(s.tEY,{offset:P,children:(0,r.jsxs)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:S.channelHeader},p),n=n={tabIndex:0,"data-recents-channel":i.id,onKeyDown:function(e){null!=d&&null!=u&&("ArrowRight"===e.key&&u.collapsed||"ArrowLeft"===e.key&&!u.collapsed)&&(null==d||d(u))},children:[(0,r.jsx)(N,{channel:i,gotoChannel:a}),(0,r.jsx)(T,{channel:i,gotoChannel:a,mentionCount:c}),l]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}function N(e){let{channel:t,gotoChannel:n}=e;return t.isPrivate()?(0,r.jsx)(w,{channel:t,gotoChannel:n}):(0,r.jsx)(Z,{channel:t,gotoChannel:n})}function w(e){let{channel:t,gotoChannel:n}=e,i=(0,a.e7)([C.default],()=>t.isDM()?C.default.getUser(t.getRecipientId()):null),l=null==i?(0,h.x)(t):i.getAvatarURL(void 0,40);return(0,r.jsx)(s.P3F,{onClick:n,tabIndex:-1,children:(0,r.jsx)("img",{className:S.dmIcon,src:l,alt:"","aria-hidden":!0})})}function Z(e){let{channel:t,gotoChannel:n}=e,i=(0,a.e7)([j.Z],()=>j.Z.getGuild(t.guild_id));return null==i?null:(0,r.jsx)(O.Z,{"aria-hidden":!0,className:S.guildIcon,guild:i,size:O.Z.Sizes.MEDIUM,active:!0,onClick:n,tabIndex:-1})}function T(e){let{channel:t,gotoChannel:n,mentionCount:i}=e,o=(0,a.e7)([j.Z],()=>j.Z.getGuild(t.guild_id)),c=(0,a.e7)([_.Z],()=>_.Z.getChannel(t.parent_id)),u=(0,a.e7)([x.ZP],()=>x.ZP.getIsMentionLowImportance(t.id)),d=(0,g.KS)(t,o),p=(0,f.ZP)(t,!1),h=null==c?null==o?void 0:o.name:"".concat(null==o?void 0:o.name,"  ").concat(c.name),b=t.isMultiUserDM()?E.intl.formatToPlainString(E.t.CxSA5O,{members:t.recipients.length+1}):t.isPrivate()?(0,r.jsx)(A,{channel:t}):(0,r.jsx)(s.P3F,{className:l()(S.subtext,S.guildName),onClick:n,children:h});return(0,r.jsxs)("div",{className:S.channelNameSection,children:[(0,r.jsx)(s.X6q,{variant:"heading-md/semibold",className:S.channelNameHeader,children:(0,r.jsxs)(s.P3F,{className:S.channelName,onClick:n,children:[t.isThread()||t.isGroupDM()||null==d?null:(0,r.jsx)(d,{className:t.isForumLikeChannel()?S.forumIcon:void 0,width:18,height:18,size:"custom",color:"currentColor"}),(0,r.jsx)("span",{className:S.channelNameSpan,children:p}),null!=i&&i>0?(0,r.jsx)("div",{className:S.badge,children:(0,r.jsx)(s.mAB,{count:i,color:u?m.Z.BACKGROUND_ACCENT:m.Z.STATUS_DANGER})}):null]})}),(0,r.jsx)(s.Text,{color:"header-secondary",variant:"text-xs/normal",className:S.subtextContainer,children:b})]})}function A(e){let{channel:t}=e,{user:n,status:i,activities:l,applicationStream:o}=(0,a.cj)([C.default,v.Z,y.Z],()=>{let e=C.default.getUser(t.getRecipientId());return{user:e,status:null!=e?v.Z.getStatus(e.id):null,activities:null!=e?v.Z.getActivities(e.id):null,applicationStream:null!=e?y.Z.getAnyStreamForUser(e.id):null}}),{voiceActivityStatusEnabled:s}=(0,c.U)({location:"RecentsChannelHeader"}),{voiceChannel:h}=(0,d.Z)({userId:null==n?void 0:n.id}),f=s?h:void 0;return(0,u.Z)({activities:l,status:i,applicationStream:o,voiceChannel:f})?(0,r.jsx)(p.Z,{location:"RecentsChannelHeader",user:n,activities:l,applicationStream:o,voiceChannel:f,hideTooltip:!0}):null}},240126:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(499033),o=n(388032),a=n(818398);function s(e){let{Icon:t,header:n,tip:s,disableStars:c}=e;return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsxs)("div",{className:a.iconContainer,children:[(0,r.jsx)(t,{color:"currentColor",size:"custom",className:a.icon,width:36,height:36}),c?null:(0,r.jsx)(l.Z,{className:a.stars})]}),(0,r.jsx)(i.X6q,{className:a.header,variant:"heading-xl/semibold",children:n}),(0,r.jsxs)(i.Text,{color:"header-secondary",variant:"text-xs/normal",children:[c?null:(0,r.jsxs)(i.Text,{tag:"span",className:a.protip,variant:"text-xs/bold",color:"text-feedback-positive",children:[o.intl.string(o.t["8tvIiI"]),":"," "]}),s]})]})}},791914:function(e,t,n){n.d(t,{Z:()=>j});var r=n(951288);n(647438);var i=n(399606),l=n(524437),o=n(481060),a=n(494404),s=n(377171),c=n(317632),u=n(602478),d=n(2818),p=n(768943),h=n(216789),f=n(153209),g=n(818186),m=n(999671),b=n(946443),O=n(264233),y=n(388032),_=n(407067);function j(e){let{tab:t,setTab:n,badgeState:f,closePopout:m}=e,{enabled:b,inInbox:O}=d.Z.useExperiment({location:"RecentsPopout"}),j=(0,h.Us)({location:"RecentsHeader"}),{enabled:x}=u.Z.useExperiment({location:"RecentsHeader"}),C=(0,i.e7)([c.Z],()=>c.Z.getUnseenInviteCount()),E=(0,i.e7)([p.Z],()=>p.Z.getOverdueMessageReminderCount());return(0,r.jsxs)(a.h4,{className:_.header,children:[(0,r.jsxs)("div",{className:_.headerTitle,children:[(0,r.jsx)(o.xx7,{size:"md",color:"currentColor",className:_.inboxIcon}),(0,r.jsx)(o.X6q,{className:_.inboxTitle,variant:"text-lg/semibold",color:"interactive-active",children:y.intl.string(y.t.GSmTKC)}),(0,r.jsxs)(o.kL8,{className:_.controls,onClick:e=>e.stopPropagation(),focusProps:{enabled:!1},"aria-label":y.intl.string(y.t["8k+6QU"]),children:[(0,r.jsx)(v,{tab:t}),(0,r.jsx)(g.Z,{closePopout:m})]})]}),(0,r.jsx)("div",{className:_.headerTabs,children:(0,r.jsxs)(o.njP,{selectedItem:t,type:"top",look:"brand",onItemSelect:n,className:_.tabBar,children:[(0,r.jsxs)(o.njP.Item,{id:l.X.FOR_YOU,"aria-label":y.intl.string(y.t["En+D+v"]),className:_.tab,children:[y.intl.string(y.t["En+D+v"]),(null==f?void 0:f.badgeForYou)?(0,r.jsx)(o.fWl,{color:s.Z.STATUS_DANGER,className:_.iconBadge}):null]}),(0,r.jsx)(o.njP.Item,{id:l.X.UNREADS,className:_.tab,children:y.intl.string(y.t.sRUdBw)}),(0,r.jsx)(o.njP.Item,{"aria-label":y.intl.string(y.t["GRZF9/"]),id:l.X.MENTIONS,className:_.tab,children:y.intl.string(y.t["GRZF9/"])}),x?(0,r.jsxs)(o.njP.Item,{"aria-label":"game_invites",id:l.X.GAME_INVITES,className:_.tab,children:[y.intl.string(y.t.apq3cX),C>0?(0,r.jsx)(o.fWl,{color:s.Z.STATUS_DANGER,className:_.iconBadge}):null]}):null,b&&O?(0,r.jsx)(o.njP.Item,{"aria-label":y.intl.string(y.t["2pAkDA"]),id:l.X.BOOKMARKS,className:_.tab,children:0===E?y.intl.string(y.t["2pAkDA"]):y.intl.formatToPlainString(y.t.I4fryM,{count:E})}):null,j?(0,r.jsx)(o.njP.Item,{"aria-label":"scheduled",id:l.X.SCHEDULED,className:_.tab,children:y.intl.string(y.t.Fn6Odn)}):null]})})]})}function v(e){let{tab:t}=e;return t===l.X.FOR_YOU?(0,r.jsx)(f.Gp,{}):t===l.X.UNREADS?(0,r.jsx)(b.QP,{}):t===l.X.MENTIONS?(0,r.jsx)(m.Z,{}):t===l.X.GAME_INVITES?(0,r.jsx)(O.S,{}):null}},178088:function(e,t,n){n.d(t,{k:()=>w}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(595697),s=n(442837),c=n(524437),u=n(481060),d=n(100527),p=n(906732),h=n(602478),f=n(2818),g=n(768943),m=n(453473),b=n(216789),O=n(675478),y=n(581883),_=n(585483),j=n(153209),v=n(903672),x=n(791914),C=n(711165),E=n(946443),S=n(264233),P=n(981631),I=n(388032),N=n(253107);function w(e){let{onOpen:t,onClose:n,children:l,badgeState:w,popoutPosition:Z,popoutAlign:T,targetElementRef:A,spacing:R,dialogClassName:D}=e,{analyticsLocations:M}=(0,p.ZP)(d.Z.NOTIFICATION_CENTER),[L,k]=i.useState(!1),[U,G]=[(0,s.e7)([y.Z],()=>{var e,t;return null!=(t=null==(e=y.Z.settings.inbox)?void 0:e.currentTab)?t:c.X.UNREADS}),i.useCallback(e=>{O.hW.updateAsync("inbox",t=>{if(t.currentTab===e)return!1;t.currentTab=e},O.fy.FREQUENT_USER_ACTION)},[])],{showTutorial:B,setSeenTutorial:F}=function(e){let t=(0,s.e7)([y.Z],()=>{var e,t;return null!=(t=null==(e=y.Z.settings.inbox)?void 0:e.viewedTutorial)&&t}),n=i.useCallback(()=>{O.hW.updateAsync("inbox",e=>{e.viewedTutorial=!0},O.fy.INFREQUENT_USER_ACTION)},[]);return{showTutorial:!t&&e===c.X.UNREADS,setSeenTutorial:n}}(U),V=i.useCallback(()=>{k(!1),L&&(null==n||n())},[n,L]),H=i.useCallback(()=>{k(!L),L?null==n||n():null==t||t()},[n,t,L]);i.useEffect(()=>(_.S.subscribe(P.CkL.TOGGLE_INBOX,H),()=>void _.S.unsubscribe(P.CkL.TOGGLE_INBOX,H)),[H]);let{enabled:z,inInbox:W}=f.Z.useExperiment({location:"RecentsPopout"}),K=(0,s.e7)([g.Z],()=>g.Z.hasOverdueReminder(),[])&&z&&W,{enabled:Y}=h.Z.useExperiment({location:"RecentsPopout"});i.useEffect(()=>{U!==c.X.BOOKMARKS||z||W||G(c.X.MENTIONS)});let q=i.useCallback(e=>{e.shiftKey||V()},[V]),X=(0,b.Us)({location:"ForYou"});return(0,r.jsx)(p.Gt,{value:M,children:(0,r.jsx)(u.yRy,{targetElementRef:A,animation:u.yRy.Animation.NONE,position:Z,align:T,autoInvert:!1,shouldShow:L,onRequestClose:V,renderPopout:function(){return(0,r.jsx)(u.VqE,{"aria-label":I.intl.string(I.t.GSmTKC),className:D,children:(0,r.jsx)("div",{className:o()(N.container,{[N.widerInbox]:X}),children:(0,r.jsx)(u.y5t,{component:(0,r.jsx)(x.Z,{tab:U,setTab:G,badgeState:w,closePopout:V}),children:U===c.X.FOR_YOU?(0,r.jsx)(j.ZP,{}):U===c.X.MENTIONS?(0,r.jsx)(v.Z,{onJump:q}):Y&&U===c.X.GAME_INVITES?(0,r.jsx)(S.Z,{}):z&&W&&U===c.X.BOOKMARKS?(0,r.jsx)(m.K,{closePopout:V}):U===c.X.SCHEDULED?(0,r.jsx)(C._,{}):(0,r.jsx)(a.SV,{fallback:(0,r.jsx)(E.h6,{}),children:(0,r.jsx)(E.ZP,{onJump:q,showTutorial:B,setSeenTutorial:F,closePopout:V})})})})})},ignoreModalClicks:!0,spacing:R,clickTrap:!0,children:(e,t)=>{let{isShown:n}=t;return l(H,n,e,K)}})})}},711165:function(e,t,n){n.d(t,{_:()=>w}),n(642613),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(913527),s=n.n(a),c=n(91192),u=n(442837),d=n(481060),p=n(724757),h=n(294218),f=n(703656),g=n(45251),m=n(156012),b=n(74365),O=n(618857),y=n(695346),_=n(23750),j=n(592125),v=n(594174),x=n(823379),C=n(324081),E=n(240126),S=n(981631),P=n(388032),I=n(909136);let N={offset:{left:4,right:-12}};function w(){return i.useEffect(()=>{(0,g.kg)()},[]),(0,r.jsx)(Z,{})}function Z(){let e=(0,u.e7)([m.Z],()=>m.Z.getScheduledMessagesForInbox(),[]),t=i.useMemo(()=>Object.values(e).sort((e,t)=>new Date(e.sendAtTimestamp)>new Date(t.sendAtTimestamp)?-1:1),[e]),n=(0,u.e7)([m.Z],()=>m.Z.loading,[]),l=i.useRef(null),o=(0,p.Z)("scheduled-messages",l);return n?(0,r.jsx)(d.$jN,{className:I.loadingPlaceholder}):0===t.length?(0,r.jsx)(E.Z,{Icon:d.T39,header:P.intl.string(P.t.aJQZfX),tip:P.intl.string(P.t.rCN4pK)}):(0,r.jsx)(c.bG,{navigator:o,children:(0,r.jsx)(c.SJ,{children:e=>{var n,i,{ref:o}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsx)(d.Den,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{var t;l.current=e,o.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null}},a),i=i={children:(0,r.jsx)(T,{scheduledMessages:t})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})})}function T(e){let{scheduledMessages:t}=e,n=i.useMemo(()=>t.reduce((e,t)=>{var n,r;let i=j.Z.getChannel(t.scheduledMessage.channelId);return null==i||(e[i.id]={channel:i,scheduledMessages:[...null!=(r=null==(n=e[i.id])?void 0:n.scheduledMessages)?r:[],t]}),e},{}),[t]),l=(0,u.e7)([m.Z],()=>m.Z.getMessagesPendingDeletion(),[]);return(0,r.jsx)(r.Fragment,{children:Object.entries(n).map(e=>{let[t,{channel:n,scheduledMessages:i}]=e;return(0,r.jsxs)("div",{className:I.channelRow,children:[(0,r.jsx)(C.Z,{channel:n,gotoChannel:()=>(0,f.uL)(S.Z5c.CHANNEL(n.getGuildId(),n.id)),children:null}),i.map(e=>{let t=l.has(e.scheduledMessageId);return(0,r.jsx)(A,{scheduledMessage:e,channel:n,isPendingDeletion:t},e.scheduledMessageId)})]},t)})})}let A=i.memo(function(e){let{scheduledMessage:t,channel:n,isPendingDeletion:l}=e,a=new _.ZP({id:t.scheduledMessageId,content:t.scheduledMessage.content,author:v.default.getUser(t.userId),timestamp:s()(t.sendAtTimestamp).toDate(),channel_id:t.scheduledMessage.channelId}),{isError:c,stateMessage:u}=function(e){switch(e){case b._.SCHEDULED:return{isError:!1,stateMessage:P.intl.string(P.t.Fn6Odn)};case b._.ERROR_CHANNEL_NOT_FOUND:return{isError:!0,stateMessage:P.intl.string(P.t.v5O2dH)};case b._.ERROR_USER_NOT_FOUND:return{isError:!0,stateMessage:P.intl.string(P.t.j8uIfH)};case b._.ERROR_USER_CANNOT_USE_SCHEDULED_MESSAGES:return{isError:!0,stateMessage:P.intl.string(P.t.w6zHX1)};case b._.ERROR_SEND_FAILED:return{isError:!0,stateMessage:P.intl.string(P.t["pflV7+"])};case b._.ERROR_SCHEDULED_MESSAGES_DISABLED:return{isError:!0,stateMessage:P.intl.string(P.t.j8uIfH)};default:(0,x.vE)(e)}}(t.state),p=i.useCallback(()=>{(0,g.gD)(t.scheduledMessageId).then(()=>{(0,O.C$)()}).catch(e=>{(0,O.wW)(e.message)})},[t.scheduledMessageId]);return(0,r.jsx)("div",{className:o()(I.messageContainer,{[I.messageSendError]:c,[I.messageSendScheduled]:!c}),children:l?(0,r.jsx)(d.$jN,{className:I.messageSpinner}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Text,{variant:"text-xs/semibold",color:c?"text-danger":"text-feedback-positive",className:I.messageState,children:u}),(0,r.jsxs)("div",{className:I.channelMessageAndCancelButton,children:[(0,r.jsx)(h.Z,{message:a,channel:n,className:I.message,compact:y.jU.getSetting(),animateAvatar:!1,focusProps:N},a.id),(0,r.jsx)(d.P3F,{className:I.cancelMessageButton,onClick:p,children:(0,r.jsx)(d.k$p,{})})]})]})},a.id)})},289481:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(202841),s=n(893999),c=n(442837),u=n(481060),d=n(570140),p=n(45114),h=n(367907),f=n(703656),g=n(592125),m=n(259580),b=n(617379),O=n(324081),y=n(305248),_=n(520116),j=n(981631),v=n(388032),x=n(550116);function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let E=i.memo(function(e){let{channel:t,deleteChannel:n}=e,l=i.useRef(null),[[o,s],c]=i.useState([0,0]),d=t.deleted&&o>0;if(t.deleted&&0===o&&null!=l.current){let e=l.current.offsetHeight,t=l.current.offsetTop,n=l.current.parentElement.scrollTop,r=n>t?e-(n-t):e;c([e,e-r])}let{opacity:p,size:h}=(0,u.q_F)({config:{clamp:!0,friction:18,tension:200},opacity:+!d,size:+!d,onRest:()=>{n(t.channelId)}},"animate-always"),f={opacity:p,height:h.to(e=>{var t,n;return d?(t=o,(n=s)+(t-n)*e):"auto"})};return(0,r.jsx)(a.animated.div,{ref:l,style:f,children:(0,r.jsx)(S,C({},e))})}),S=i.memo(function(e){let{channel:t,onJump:n,deleteChannel:l,toggle:o}=e,a=(0,c.e7)([g.Z],()=>g.Z.getChannel(t.channelId));if(i.useEffect(()=>{null==a||!t.isFullyLoaded||t.hasError||t.collapsed||"messages"!==t.type||0!==t.messages.length||d.Z.wait(()=>{(0,p.In)(t.channelId,{section:j.jXE.INBOX,object:j.qAy.ACK_INBOX_CHANNEL_NO_MESSAGES,objectType:j.Qqv.ACK_AUTOMATIC},!0),l(t.channelId)})}),null==a||!t.hasLoadedAnything)return null;let s=(e,r)=>{(0,h.yw)(j.rMx.INBOX_CHANNEL_CLICKED,{channel_id:t.channelId,guild_id:t.guildId});let i=null!=r?r:t.oldestUnreadMessageId;(0,f.uL)(j.Z5c.CHANNEL(t.guildId,t.channelId,"forum"===t.type?null:i)),n(e)};return(0,r.jsx)("div",{className:x.channel,children:(0,r.jsx)(u.y5t,{component:(0,r.jsxs)(O.Z,{channel:a,gotoChannel:s,mentionCount:t.mentionCount,toggleCollapsed:o,channelState:t,children:[(0,r.jsx)(b.Z,{channel:a}),(0,r.jsx)(P,C({},e)),"nsfw"===t.type?null:(0,r.jsx)(I,C({},e))]}),children:t.collapsed?null:"messages"===t.type?(0,r.jsx)(_.Z,{channel:t,channelRecord:a,gotoChannel:s}):"forum"===t.type?(0,r.jsx)(y.Z,{channel:t,channelRecord:a,deleteChannel:l}):null})})});function P(e){let{channel:t,markChannelRead:n,markGuildRead:i,getNumUnreadChannels:l}=e,o=(0,s.Z)()&&null!=t.guildId;return(0,r.jsx)(u.M0o,{className:x.markReadButton,tooltip:o?v.intl.string(v.t["5lLMhI"]):v.intl.string(v.t.e6RscX),color:u.YX$.TERTIARY,icon:o?(0,r.jsx)(u.W6s,{size:"xs",color:"currentColor"}):(0,r.jsx)(u.dz2,{size:"xs",color:"currentColor"}),onClick:function(){o&&null!=t.guildId?i(t.guildId):n(t),(0,h.yw)(j.rMx.INBOX_CHANNEL_ACKED,{channel_id:t.channelId,guild_id:t.guildId,marked_all_channels_as_read:!1,num_unread_channels_remaining:l()-1})}})}function I(e){let{channel:t,toggle:n,getNumUnreadChannels:i}=e;function l(){n(t),(0,h.yw)(j.rMx.INBOX_CHANNEL_COLLAPSED,{channel_id:t.channelId,guild_id:t.guildId,num_unread_channels_remaining:i(),is_now_collapsed:!t.collapsed})}return(0,r.jsx)(u.ua7,{text:v.intl.string(v.t.iTcumZ),children:e=>{var n,i;return(0,r.jsx)(u.P3F,(n=C({},e),i=i={className:o()(x.collapseButton,{[x.collapsed]:t.collapsed}),onClick:l,children:(0,r.jsx)(m.Z,{width:16,height:16})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},305248:function(e,t,n){n.d(t,{Z:()=>_}),n(388685),n(642613);var r=n(951288),i=n(647438),l=n(392711),o=n.n(l),a=n(442837),s=n(570140),c=n(45114),u=n(404616),d=n(470623),p=n(344185),h=n(488131),f=n(592125),g=n(823379),m=n(709054),b=n(981631),O=n(124368),y=n(479014);function _(e){let{channel:t,channelRecord:n,deleteChannel:l}=e,_=(0,a.Wu)([p.Z,f.Z],()=>o()(p.Z.getThreadsForParent(n.guild_id,n.id)).values().filter(e=>{let{id:n}=e;return m.default.compare(n,t.oldestReadMessageId)>0}).map(e=>{let{id:t}=e;return f.Z.getChannel(t)}).filter(g.lm).sort((e,t)=>m.default.compare(e.id,t.id)).value(),[t.oldestReadMessageId,n.guild_id,n.id]),j=i.useCallback((e,t)=>{(0,h.ok)(e,t,O.on.INBOX)},[]);return i.useEffect(()=>{null==n||!t.isFullyLoaded||t.hasError||t.collapsed||0!==_.length||s.Z.wait(()=>{(0,c.In)(t.channelId,{section:b.jXE.INBOX,object:b.qAy.ACK_INBOX_FORUM_NO_POSTS,objectType:b.Qqv.ACK_AUTOMATIC},!0),l(t.channelId)})}),(0,r.jsx)("div",{className:y.container,children:_.map(e=>(0,r.jsx)(d.oL,{channel:n,children:(0,r.jsx)(u.ZP,{className:y.forumPost,threadId:e.id,goToThread:j})},e.id))})}},520116:function(e,t,n){n.d(t,{Z:()=>S}),n(539854);var r=n(951288),i=n(647438),l=n(913527),o=n.n(l),a=n(91192),s=n(755721),c=n(481060),u=n(135938),d=n(554838),p=n(493892),h=n(661824),f=n(37772),g=n(695346),m=n(314897),b=n(594174),O=n(55935),y=n(655354),_=n(809780),j=n(981631),v=n(388032),x=n(557047);let C={left:4,right:-12};function E(e){var t,n,l;let{channel:o,message:s,compact:u,isGroupStart:d,treatSpam:p,gotoChannel:h}=e,g=(0,a.JA)(null!=(t=s.id)?t:""),m=i.useCallback(e=>{if("ArrowLeft"===e.key){var t;null==(t=document.querySelector('[data-recents-channel="'.concat(o.id,'"]')))||t.focus()}},[o.id]);return(0,r.jsx)(c.tEY,{offset:C,children:(0,r.jsxs)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:x.messageContainer,onKeyDown:m},g),l=l={children:[(0,r.jsx)(y.Z,{className:x.jumpButton,onJump:e=>h(e,s.id)}),(0,r.jsx)(f.Z,{id:s.id,message:s,channel:o,className:x.message,compact:u,animateAvatar:!1,isGroupStart:d,onKeyDown:m,treatSpam:p})]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n),s.id)})}function S(e){var t,n;let{channel:i,channelRecord:l,gotoChannel:a}=e,{enabled:f}=u.Z.useExperiment({location:"20e3b0_1"},{autoTrackExposure:!1}),y=g.jU.useSetting(),C=(0,p.P1)(l),S=!1,P=0===i.messages.length||o()(i.messages[0].timestamp).isSame(o()(),"day"),I=null!=(n=null==(t=b.default.getUser(m.default.getId()))?void 0:t.hasFlag(j.xW$.SPAMMER))&&n,N=[];if(!i.collapsed){let e=null,t=null,n=i.messages.slice(0,_.hC);n.forEach(n=>{if(!P&&(null==e||!e.isSame(n.timestamp,"day"))){let t=(0,O.vc)(n.timestamp,"LL");N.push((0,r.jsx)(h.Z,{className:x.divider,children:t},t)),e=o()(n.timestamp)}let i=null==t||(0,d.Z)(l,t,n);t=n,S=S||(0,p.DQ)(n),N.push((0,r.jsx)(E,{channel:l,message:n,compact:y,isGroupStart:i,treatSpam:!I&&f&&(0,p.DQ)(n)&&C,gotoChannel:a},n.id))}),i.messages.length>=_.hC&&N.push((0,r.jsxs)(s.zx,{color:s.zx.Colors.LINK,look:s.zx.Looks.LINK,onClick:e=>a(e,n[n.length-1].id),children:[v.intl.string(v.t["9OB9ho"])," "]},"view-all")),0===N.length&&(N=[(0,r.jsx)(c.$jN,{},"spinner")])}return S&&C&&u.Z.trackExposure({location:"20e3b0_2"}),(0,r.jsx)("div",{className:x.messages,children:N})}},147522:function(e,t,n){n.d(t,{Z:()=>d}),n(361932),n(187205),n(539854);var r=n(951288);n(647438);var i=n(392711),l=n.n(i),o=n(661824),a=n(289481),s=n(809780),c=n(388032),u=n(803205);function d(e,t,n){let{markChannelRead:i,markGuildRead:d,deleteChannel:p,toggle:h,getNumUnreadChannels:f}=t,g=null;return l().flatMap(e,e=>{let t=e.sortOrder!==g;g=e.sortOrder;let l=[];return t&&(e.hasLoadedAnything&&e.sortOrder===s.As.ReallyOldChannel?l.push((0,r.jsx)(o.Z,{className:u.divider,contentClassName:u.dividerContent,children:c.intl.string(c.t.roBMzs)},"old-divider")):e.hasLoadedAnything&&e.sortOrder===s.As.NoNotifications&&l.push((0,r.jsx)(o.Z,{className:u.divider,contentClassName:u.dividerContent,children:c.intl.string(c.t["2Ys7np"])},"disabled-divider"))),l.push((0,r.jsx)(a.Z,{channel:e,markChannelRead:i,markGuildRead:d,toggle:h,deleteChannel:p,onJump:n,getNumUnreadChannels:f},e.channelId)),l})}},946443:function(e,t,n){n.d(t,{QP:()=>N,ZP:()=>S,h6:()=>I}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(525654),s=n.n(a),c=n(91192),u=n(442837),d=n(481060),p=n(570140),h=n(493773),f=n(607070),g=n(724757),m=n(626135),b=n(585483),O=n(358085),y=n(143316),_=n(240126),j=n(147522),v=n(809780),x=n(981631),C=n(388032),E=n(915087);function S(e){var t,n,l,a,y,S,I;let{onJump:N,showTutorial:w,setSeenTutorial:Z,closePopout:T}=e,A=i.useRef(null),[R,D]=(0,v.ZP)(A),{loadState:M,channels:L}=R,{maybeLoadMore:k}=D,U=(0,u.e7)([f.Z],()=>f.Z.messageGroupSpacing);t=A,n=R,l=D,i.useLayoutEffect(()=>{var e;let{scrollToChannelIndex:r}=n;l.clearScrollToChannelIndex();let{current:i}=t;if(null==i||null==r)return;let o=null==(e=i.getScrollerNode())?void 0:e.children;if(null==o)return;let a=o[r];if(null==a)return;let{scrollTop:s,offsetHeight:c}=i.getScrollerState();(a.offsetTop<s||a.offsetTop>s+c)&&i.scrollTo({to:a.offsetTop})}),a=R,y=D,i.useEffect(()=>{let e=()=>{let e=a.channels.find(e=>!e.collapsed);null!=e&&y.markChannelRead(e)};return b.S.subscribe(x.CkL.MARK_TOP_INBOX_CHANNEL_READ,e),()=>{b.S.unsubscribe(x.CkL.MARK_TOP_INBOX_CHANNEL_READ,e)}},[y,a.channels]),S=D,i.useEffect(()=>{let e=e=>{((0,O.isMac)()||(0,O.isMacWeb)()?e.metaKey:e.ctrlKey)&&!e.shiftKey&&!e.altKey&&"z"===e.key&&S.undoMarkChannelRead()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[S]),i.useEffect(()=>{m.default.track(x.rMx.OPEN_POPOUT,{type:"Inbox"})},[]),i.useEffect(()=>(p.Z.subscribe("CONNECTION_OPEN",T),()=>{p.Z.unsubscribe("CONNECTION_OPEN",T)}),[T]),(0,h.ZP)(()=>(b.S.subscribe(x.CkL.INBOX_MARK_ALL_UNREADS_READ,D.markAllRead),()=>{b.S.unsubscribe(x.CkL.INBOX_MARK_ALL_UNREADS_READ,D.markAllRead)}));let G=(0,g.Z)("unreads",A);if(0===L.length){return(0,r.jsx)(_.Z,{Icon:d.xx7,header:C.intl.string(C.t["6XMM+P"]),tip:(null==(I=s().os)?void 0:I.family)==="OS X"?C.intl.string(C.t.w9uDOT):C.intl.string(C.t.BiUJCw)})}return(0,r.jsx)(c.bG,{navigator:G,children:(0,r.jsx)(c.SJ,{children:e=>{var t,n,{ref:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(d.h21,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{var t;A.current=e,i.current=null!=(t=null==e?void 0:e.getScrollerNode())?t:null}},l),n=n={onScroll:M===v.jd.Done?void 0:k,className:o()(E.scroller,"group-spacing-".concat(U)),children:[w?(0,r.jsx)(P,{setSeenTutorial:Z}):null,(0,j.Z)(L,D,N),M===v.jd.Done?null:(0,r.jsx)(d.$jN,{className:E.spinner})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})})}function P(e){let{setSeenTutorial:t}=e;return(0,r.jsxs)("div",{className:E.tutorial,children:[(0,r.jsx)("div",{className:E.tutorialIcon,children:(0,r.jsx)(d.xx7,{size:"md",color:"currentColor"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.X6q,{className:E.__invalid_tutorialHeader,variant:"heading-md/semibold",children:C.intl.string(C.t.vZPktL)}),(0,r.jsx)(d.Text,{color:"header-secondary",variant:"text-sm/normal",children:C.intl.string(C.t.vWkIIC)}),(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:E.tutorialButton,children:(0,r.jsx)(d.zxk,{variant:"primary",size:"sm",text:C.intl.string(C.t["+IrDzM"]),onClick:t})})]})]})}function I(){return(0,r.jsx)(_.Z,{Icon:d.xx7,disableStars:!0,header:C.intl.string(C.t["KG/ynZ"]),tip:C.intl.string(C.t.cvcKzc)})}let N=()=>(0,r.jsx)(y.Z,{onClick:()=>b.S.dispatch(x.CkL.INBOX_MARK_ALL_UNREADS_READ),type:"top-header"})},809780:function(e,t,n){n.d(t,{As:()=>z,ZP:()=>ee,hC:()=>K,jd:()=>W}),n(539854),n(388685);var r,i,l=n(647438),o=n(836560),a=n(512722),s=n.n(a),c=n(392711),u=n.n(c),d=n(570140),p=n(904245),h=n(45114),f=n(607070),g=n(81643),m=n(974814),b=n(622822),O=n(853856),y=n(181945),_=n(220444),j=n(601070),v=n(344185),x=n(569471),C=n(723170),E=n(675478),S=n(581883),P=n(131704),I=n(592125),N=n(984933),w=n(731290),Z=n(430824),T=n(375954),A=n(496675),R=n(306680),D=n(771845),M=n(9156),L=n(70956),k=n(823379),U=n(709054),G=n(981631),B=n(124368);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}function H(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var z=((r={})[r.Favorite=0]="Favorite",r[r.PrivateChannel=1]="PrivateChannel",r[r.HighImportanceMentioned=2]="HighImportanceMentioned",r[r.LowImportanceMentioned=3]="LowImportanceMentioned",r[r.AllMessagesNotifications=4]="AllMessagesNotifications",r[r.GuildChannel=5]="GuildChannel",r[r.OldChannel=6]="OldChannel",r[r.NoNotifications=7]="NoNotifications",r[r.ReallyOldChannel=8]="ReallyOldChannel",r),W=((i={}).Loading="loading",i.Loaded="loaded",i.Done="done",i);let K=25;class Y extends o.EventEmitter{loadMore(){let{loadState:e,channels:t}=this.state;if("loaded"!==e)return;let n=!1,r=t.map(e=>{if(e.isFullyLoaded||e.deleted||n)return e;if(e.collapsed)if(!e.hasLoadedAnything)return H(V({},e),{hasLoadedAnything:!0});else return e;return(e=this.populateInitialStateFromStore(e)).isFullyLoaded||(s()("nsfw"!==e.type,"this channel should already be loaded"),"messages"===e.type&&this.loadChannelMessages(e)&&(n=!0)),e});(!n||r.some((e,n)=>e!==t[n]))&&this.setState({channels:r,loadState:n?this.state.loadState:"done"})}populateInitialStateFromStore(e){if("messages"===e.type)return q(e,!1);if("nsfw"===e.type)return H(V({},e),{isFullyLoaded:!0,hasLoadedAnything:!0});if("forum"===e.type){let t=v.Z.hasLoaded(e.guildId);return H(V({},e),{isFullyLoaded:t,hasLoadedAnything:!0})}(0,k.vE)(e)}clearScrollToChannelIndex(){this.setState({scrollToChannelIndex:null})}loadChannelMessages(e){p.Z.clearChannel(e.channelId);let t=p.Z.fetchMessages({channelId:e.channelId,limit:G.AQB,jump:{messageId:e.oldestReadMessageId,flash:!0}});return null!=t&&!1!==t&&(this.setState({loadState:"loading"}),t.then(t=>{this.setState({loadState:"loaded",channels:this.updateChannel(e.channelId,e=>{s()("messages"===e.type,"channel cannot change type");let n=q(e,!0);return(0===n.messages.length||n.messages.length===e.messages.length)&&(n=H(V({},n),{hasLoadedAnything:!0,isFullyLoaded:!0,hasError:!t})),n})})},()=>{this.setState({loadState:"loaded",channels:this.updateChannel(e.channelId,e=>{var t;return s()("messages"===e.type,"channel cannot change type"),H(V({},q(e,!0)),{isFullyLoaded:!0,hasError:!0,hasLoadedAnything:!0,newestUnreadMessageId:null==(t=e.messages[e.messages.length-1])?void 0:t.id})})})}),!0)}updateChannel(e,t){return this.state.channels.map(n=>n.channelId===e?t(n):n)}setState(e){for(let t in e)if(e[t]!==this.state[t]){this.state=V({},this.state,e),this.emit("change",this.state);return}}constructor(e,t){super(),F(this,"state",void 0),F(this,"scrollerRef",void 0),F(this,"undoStack",void 0),F(this,"maybeLoadMore",void 0),F(this,"reloadMessages",void 0),F(this,"getNumUnreadChannels",void 0),F(this,"markChannelRead",void 0),F(this,"undoMarkChannelRead",void 0),F(this,"markGuildRead",void 0),F(this,"deleteChannel",void 0),F(this,"markAllRead",void 0),F(this,"toggle",void 0),F(this,"handleUserGuildSettingsStoreChange",void 0),F(this,"handleJoinedThreadsStoreChange",void 0),F(this,"handleActiveThreadsStoreChange",void 0),this.state=e,this.scrollerRef=t,this.undoStack=[],this.maybeLoadMore=()=>{var e;let t=null==(e=this.scrollerRef.current)?void 0:e.getScrollerState();null!=t&&t.scrollHeight-t.scrollTop-t.offsetHeight<2e3&&this.loadMore()},this.reloadMessages=()=>{this.setState({channels:this.state.channels.map(e=>"messages"===e.type&&e.hasLoadedAnything?q(e,!1,!0):e)})},this.getNumUnreadChannels=()=>this.state.channels.length,this.markChannelRead=e=>{let{channelId:t,newestUnreadMessageId:n}=e;d.Z.wait(()=>h.In(t,{section:G.jXE.INBOX,object:G.qAy.ACK_INBOX_NEWEST_UNREAD_MESSAGE,objectType:G.Qqv.ACK_AUTOMATIC},!0,void 0,n));let r=this.state.channels.find(e=>e.channelId===t);if(null!=r&&this.undoStack.push(r),1===this.state.channels.length)return void this.deleteChannel(t);this.setState({channels:this.updateChannel(t,e=>H(V({},e),{deleted:!0}))}),f.Z.useReducedMotion&&this.deleteChannel(t),this.maybeLoadMore()},this.undoMarkChannelRead=()=>{if(0===this.undoStack.length)return;let e=this.undoStack.pop();if(null==e)return;h.In(e.channelId,{section:G.jXE.INBOX,object:G.qAy.UNDO_MARK_AS_READ,objectType:G.Qqv.ACK_MANUAL},!0,void 0,e.oldestReadMessageId);let t=this.state.channels.findIndex(t=>t.order>e.order),n=[...this.state.channels];t<0?n.push(e):n.splice(t,0,e),this.setState({scrollToChannelIndex:t,channels:n})},this.markGuildRead=e=>{d.Z.wait(()=>(0,y.Z)([e],G.jXE.INBOX)),this.setState({channels:this.state.channels.filter(t=>t.guildId!==e)}),this.maybeLoadMore()},this.deleteChannel=e=>{this.setState({scrollToChannelIndex:u().findIndex(this.state.channels,t=>t.channelId===e),channels:this.state.channels.filter(t=>t.channelId!==e)}),this.maybeLoadMore()},this.markAllRead=()=>{h.y5(this.state.channels.map(e=>({channelId:e.channelId,messageId:e.newestUnreadMessageId}))),this.setState({channels:[]})},this.toggle=e=>{let{channelId:t,guildId:n}=e,{channels:r,collapsedChannels:i,loadState:l}=this.state,o=u().findIndex(r,e=>e.channelId===t),a=r[o],s=!a.collapsed;i[t]=s,(0,E.BU)(n,t,e=>{e.collapsedInInbox=s},E.fy.FREQUENT_USER_ACTION),this.setState({scrollToChannelIndex:o,collapsedChannels:i,loadState:"done"!==l||s||a.isFullyLoaded?l:"loaded",channels:this.updateChannel(t,e=>H(V({},e),{collapsed:s}))}),a.collapsed?a.isFullyLoaded||this.loadMore():this.maybeLoadMore()},this.handleUserGuildSettingsStoreChange=()=>{let e=this.state.channels.filter(e=>!M.ZP.isGuildOrCategoryOrChannelMuted(e.guildId,e.channelId));e.length!==this.state.channels.length&&this.setState({channels:e})},this.handleJoinedThreadsStoreChange=()=>{let e=this.state.channels.filter(e=>!x.Z.isMuted(e.channelId));e.length!==this.state.channels.length&&this.setState({channels:e})},this.handleActiveThreadsStoreChange=()=>{let e=this.state.channels.map(e=>{if("forum"!==e.type)return e;{if(!e.hasLoadedAnything)return e;let t=v.Z.hasLoaded(e.guildId);return H(V({},e),{isFullyLoaded:t,hasLoadedAnything:!0})}});this.setState({channels:e})};for(let t=0;t<e.channels.length;t++)e.channels[t].order=t}}function q(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=T.Z.getMessages(e.channelId),l=i.toArray().filter(t=>U.default.compare(t.id,e.oldestReadMessageId)>0&&0>=U.default.compare(t.id,e.newestUnreadMessageId));if(l.length===e.messages.length&&l.every((t,n)=>e.messages[n]===t)&&r)return e;let o=null!=i.getAfter(e.oldestReadMessageId)||(null==(n=l[0])?void 0:n.id)===e.oldestUnreadMessageId,a=l[l.length-1],s=U.default.compare(null==a?void 0:a.id,e.newestUnreadMessageId)>=0||l.length>=K;return H(V({},e),{messages:l,hasLoadedAnything:e.hasLoadedAnything||o||t,hasLoadedFirst:e.hasLoadedFirst||o||t,isFullyLoaded:e.isFullyLoaded||o&&s||t&&!i.hasMoreAfter})}function X(){let e=function(){var e,t;let n={},r=null!=(t=null==(e=S.Z.settings.guilds)?void 0:e.guilds)?t:{};for(let e in r)for(let t in r[e].channels){let i=I.Z.getChannel(t);t in n&&(null==i?void 0:i.guild_id)!==e||(n[t]=r[e].channels[t].collapsedInInbox)}return n}(),t=function(e){let t=[];return I.Z.getSortedPrivateChannels().forEach(n=>Q(e,t,null,n.id)),D.ZP.getFlattenedGuildIds().forEach(n=>{if(null==n)return;let r=N.ZP.getSelectableChannelIds(n),i=j.Z.getActiveJoinedUnreadThreadsForGuild(n);r.forEach(r=>{var l;Q(e,t,n,r);let o=null!=(l=i[r])?l:{};for(let r in o)Q(e,t,n,r)})}),u().sortBy(t,e=>e.sortOrder)}(e),n=u().uniq(t.map(e=>e.guildId)).filter(k.lm);return d.Z.dispatch({type:"INBOX_OPEN",guildIds:n}),{collapsedChannels:e,loadState:"loaded",channels:t,scrollToChannelIndex:null}}function Q(e,t,n,r){if(null==r)return;let i=I.Z.getChannel(r);if(null==i||!P.Ec.has(i.type)&&M.ZP.isGuildOrCategoryOrChannelMuted(n,i.id))return;if(i.isPrivate()){if(0===R.ZP.getMentionCount(r))return}else if(!(0,_.d)(i)&&0===R.ZP.getMentionCount(r))return;if(!i.isPrivate()&&!A.Z.can(G.Plq.READ_MESSAGE_HISTORY,i)||(0,b.aC)(i)&&(0,m.H1)({location:"unreads-loader"})&&(0,g.sf)())return;let l=R.ZP.ackMessageId(r);if(null==l){let e=Z.Z.getGuild(i.guild_id);if(null==e||null==e.joinedAt)return;l=U.default.fromTimestamp(e.joinedAt.getTime())}let o=R.ZP.getOldestUnreadMessageId(r),a=R.ZP.lastMessageId(r),s=R.ZP.getMentionCount(r),c=s>0||i.isPrivate();if(null==a||U.default.compare(l,a)>=0)return;let u={guildId:n,channelId:r,oldestReadMessageId:l,oldestUnreadMessageId:o,newestUnreadMessageId:a,collapsed:!0===e[r],hasLoadedAnything:!1,hasLoadedFirst:!1,isFullyLoaded:!1,hasError:!1,hasMentionsOrUnreads:c,mentionCount:s,sortOrder:function(e,t,n){let r=I.Z.getChannel(t);if(O.Z.isFavorite(t))return 0;if(r.isPrivate())return 1;if(R.ZP.getMentionCount(t)>0)return R.ZP.getIsMentionLowImportance(t)?3:2;if(null!=n){let e=U.default.extractTimestamp(n);if(Date.now()-e>$)return 8;if(Date.now()-e>J)return 6}if(r.isThread()){let e=(0,C.J)(r);return e===B.iN.ALL_MESSAGES?4:e===B.iN.NO_MESSAGES?7:5}{let n=M.ZP.getChannelMessageNotifications(e,t),r=n===G.bL.NULL?M.ZP.getMessageNotifications(e):n;return r===G.bL.ALL_MESSAGES?4:r===G.bL.NO_MESSAGES?7:5}}(n,r,a),order:0};(0,b.aC)(i)&&!w.Z.didAgree(i.guild_id)?t.push(H(V({},u),{type:"nsfw"})):i.isForumLikeChannel()?t.push(H(V({},u),{type:"forum"})):t.push(H(V({},u),{type:"messages",messages:[]}))}let J=2*L.Z.Millis.DAY,$=10*L.Z.Millis.DAY;function ee(e){let[t,n]=l.useState(()=>new Y(X(),e)),[r,i]=l.useState(!1),o=l.useRef(Date.now()),[a,s]=l.useState(()=>X());l.useEffect(()=>{let e=e=>s(e);return t.on("change",e),s(t.state),()=>{t.off("change",e)}},[t]),l.useEffect(()=>{if(null==a||a.channels.length>0||r)return;let t=Date.now(),l=X();0===l.channels.length||t-o.current<10*L.Z.Millis.SECOND?i(!0):(o.current=Date.now(),n(new Y(l,e)))},[a,r,e]);let c=l.useRef(t);return l.useLayoutEffect(()=>{c.current=t}),l.useLayoutEffect(()=>{null==a||a.channels,null==a||a.loadState,c.current.maybeLoadMore()},[null==a?void 0:a.channels,null==a?void 0:a.loadState]),l.useEffect(()=>(T.Z.addChangeListener(t.reloadMessages),()=>T.Z.removeChangeListener(t.reloadMessages)),[t.reloadMessages]),l.useEffect(()=>(M.ZP.addChangeListener(t.handleUserGuildSettingsStoreChange),()=>M.ZP.removeChangeListener(t.handleUserGuildSettingsStoreChange)),[t]),l.useEffect(()=>(x.Z.addChangeListener(t.handleJoinedThreadsStoreChange),()=>x.Z.removeChangeListener(t.handleJoinedThreadsStoreChange)),[t]),l.useEffect(()=>(v.Z.addChangeListener(t.handleActiveThreadsStoreChange),()=>v.Z.removeChangeListener(t.handleActiveThreadsStoreChange)),[t]),[a,t]}},326838:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(951288),i=n(647438),l=n(913527),o=n.n(l),a=n(442837),s=n(755721),c=n(481060),u=n(727637),d=n(782568),p=n(317632),h=n(174767),f=n(594174),g=n(55935),m=n(388032),b=n(313227);function O(e){let{invite:t,expired:n}=e,l=(0,a.e7)([f.default],()=>{var e,n;return null!=(n=null==(e=f.default.getUser(t.inviter_id))?void 0:e.username)?n:""}),s=(0,g.vc)(o()(t.created_at),"LT"),d=i.useRef(null),p=(0,u.Z)(d);return i.useEffect(()=>{n||(0,h.Br)(t)},[t,n]),(0,r.jsxs)("div",{className:b.container,ref:d,children:[(0,r.jsxs)("div",{className:b.primaryRow,children:[(0,r.jsx)("img",{className:b.inviteImage,src:t.application_asset,alt:"Game Invite"}),(0,r.jsx)(c.Text,{className:b.title,variant:"text-md/semibold",color:"interactive-active",children:m.intl.format(m.t.vtUO3d,{username:l})}),(0,r.jsxs)("div",{className:b.buttonContainer,children:[(0,r.jsx)(y,{expired:n,invite:t,isHoveringInvite:p}),(0,r.jsx)(c.M0o,{className:b.deleteButton,tooltip:m.intl.string(m.t.oyYWHB),color:c.YX$.SECONDARY,icon:(0,r.jsx)(c.XHJ,{size:"xs"}),onClick:()=>{(0,h.UF)(t)}})]})]}),(0,r.jsx)("div",{className:b.divider}),(0,r.jsxs)("div",{className:b.secondaryRow,children:[(0,r.jsxs)(c.Text,{variant:"text-xs/medium",className:b.subtitle,color:"text-muted",children:[t.application_name," \xb7 ",s]}),n&&(0,r.jsx)("div",{className:b.metaContainer,children:(0,r.jsx)(c.Text,{variant:"text-xxs/semibold",className:b.__invalid_metaText,color:"text-muted",children:m.intl.string(m.t["//8Uqa"])})})]})]})}function y(e){let{expired:t,invite:n,isHoveringInvite:l}=e,o=(0,a.e7)([p.Z],()=>p.Z.isInviteGameInstalled(n)),u=(0,a.e7)([p.Z],()=>p.Z.isInviteJoinable(n)),[f,g]=i.useState(!1),O=i.useCallback(async()=>{g(!0);try{await (0,h.MH)(n)}catch(e){}g(!1)},[n]),y=i.useCallback(async()=>{g(!0);try{await (0,h.Ol)(n)}catch(e){}g(!1)},[n]);if(t)if(o&&l)return(0,r.jsx)(s.zx,{className:b.primaryButton,color:s.Tt.TRANSPARENT,disabled:f,size:s.Ph.SMALL,onClick:O,children:m.intl.string(m.t["s+J8Dg"])});else return null;return o&&u?(0,r.jsx)(s.zx,{className:b.primaryButton,color:s.Tt.GREEN,disabled:f,size:s.Ph.SMALL,onClick:y,children:m.intl.string(m.t["/loN9/"])}):null!=n.fallback_url?(0,r.jsx)(s.zx,{className:b.primaryButton,disabled:f,size:s.Ph.SMALL,color:s.Tt.TRANSPARENT,onClick:()=>(0,d.Z)(n.fallback_url),children:m.intl.string(m.t["27y8KC"])}):(0,r.jsx)(c.ua7,{text:m.intl.formatToPlainString(m.t.issFLC,{gameTitle:n.application_name}),children:e=>{var t,i;return(0,r.jsx)(s.zx,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={className:b.primaryButton,disabled:!0,size:s.Ph.SMALL,color:s.Tt.TRANSPARENT,onClick:()=>(0,d.Z)(n.fallback_url),children:(0,r.jsxs)("div",{className:b.launchToJoinContainer,children:[(0,r.jsx)(c.Text,{variant:"text-xxs/medium",className:b.launchToJoinText,color:"text-muted",children:m.intl.string(m.t.dai1Oz)}),(0,r.jsx)(c.d3s,{size:"xxs",color:c.TVs.colors.TEXT_MUTED.css})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t))}})}},264233:function(e,t,n){n.d(t,{S:()=>O,Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(392711),o=n.n(l),a=n(442837),s=n(481060),c=n(317632),u=n(174767),d=n(240126),p=n(326838),h=n(388032),f=n(201848);function g(){let e=(0,a.Wu)([c.Z],()=>c.Z.getInvites()),t=(0,a.e7)([c.Z],()=>c.Z.getInviteStatuses()),[n,l]=i.useMemo(()=>o().partition(e,e=>{var n;return(null==(n=t[e.invite_id])?void 0:n.joinable)!==!1&&(Date.now()-new Date(e.created_at).getTime())/1e3<e.ttl}),[e,t]);return(i.useEffect(()=>{(0,u.sJ)()}),0===e.length)?(0,r.jsx)("div",{className:f.__invalid_emptyStateContainer,children:(0,r.jsx)(d.Z,{Icon:s.iWm,header:h.intl.string(h.t.PbSPWV),tip:h.intl.string(h.t.BxNbS0)})}):(0,r.jsx)(s.h21,{children:(0,r.jsxs)("div",{className:f.invitesContainer,children:[n.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{title:h.intl.string(h.t.yflAJS)}),n.map(e=>(0,r.jsx)(p.Z,{invite:e,expired:!1},e.invite_id))]}),l.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{title:h.intl.string(h.t.f0Ia4e)}),l.map(e=>(0,r.jsx)(p.Z,{invite:e,expired:!0},e.invite_id))]})]})})}function m(e){let{title:t}=e;return(0,r.jsxs)("div",{className:f.headerContainer,children:[(0,r.jsx)(s.Text,{className:f.headerTitle,variant:"text-xs/semibold",color:"interactive-normal",children:t}),(0,r.jsx)("div",{className:f.headerDivider})]})}function b(){(0,s.ZDy)(async()=>{let{default:e}=await n.e("13111").then(n.bind(n,93756));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={onDelete:async()=>{await t.onClose()}},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}function O(){return 0===(0,a.Wu)([c.Z],()=>c.Z.getInvites()).length?null:(0,r.jsx)(s.M0o,{tooltip:h.intl.string(h.t.Zy3MR0),color:s.YX$.SECONDARY,icon:(0,r.jsx)(s.XHJ,{size:"xs"}),onClick:b})}},277642:function(e,t,n){n.d(t,{r:()=>c,t:()=>s});var r=n(442837),i=n(314897),l=n(19780),o=n(959457);function a(e,t){return 0===e.size||1===e.size&&e.has(t)}function s(e){return(0,r.e7)([o.Z,i.default],()=>{if(null==e)return!0;let t=o.Z.getUserIds(e);return null==t||a(t,i.default.getId())})}function c(){return(0,r.e7)([l.Z,i.default],()=>{let e=l.Z.getUserIds();return null==e||a(e,i.default.getId())})}},74365:function(e,t,n){n.d(t,{_:()=>i});var r,i=((r={})[r.SCHEDULED=0]="SCHEDULED",r[r.ERROR_SCHEDULED_MESSAGES_DISABLED=1]="ERROR_SCHEDULED_MESSAGES_DISABLED",r[r.ERROR_USER_NOT_FOUND=2]="ERROR_USER_NOT_FOUND",r[r.ERROR_USER_CANNOT_USE_SCHEDULED_MESSAGES=3]="ERROR_USER_CANNOT_USE_SCHEDULED_MESSAGES",r[r.ERROR_CHANNEL_NOT_FOUND=4]="ERROR_CHANNEL_NOT_FOUND",r[r.ERROR_SEND_FAILED=5]="ERROR_SEND_FAILED",r)},833845:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(314897),l=n(88751);function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.cj)([l.ZP,i.default],()=>{let n=i.default.getId();return l.ZP.getPermissionsForUser(n,e,t)},[e,t])}},201469:function(e,t,n){n.d(t,{ZP:()=>l});var r=n(833845),i=n(643632);function l(e){let t=(0,i.Z)(e),n=(0,r.Z)(e,!0).moderator;return!t&&n?1:0}},31022:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(442837),i=n(853856),l=n(592125),o=n(938475),a=n(823379),s=n(136015),c=n(709054),u=n(565799),d=n(501655),p=n(981631);function h(e){let{voiceState:t,userNick:n,user:r}=e,i=(0,o.sQ)(t,n);return{user:r,voiceState:t,nick:n,comparator:i}}function f(e){let[t]=(0,r.e7)([u.Z,l.Z,i.Z],()=>{let t;return[(t=e===p.I_8?c.default.keys(i.Z.getFavoriteChannels()).map(e=>l.Z.getChannel(e)).filter(a.lm).filter(e=>e.isGuildStageVoice()):u.Z.getChannels(e)).reduce((e,t)=>{let n=u.Z.getMutableParticipants(t.id,d.pV.SPEAKER);return e[t.id]=n.filter(e=>e.type===d.Ui.VOICE).map(h),e},{}),t.reduce((e,t)=>{let{id:n}=t;return e+u.Z.getParticipantsVersion(n)},0)]},[e],s.Q);return t}},38755:function(e,t,n){n.d(t,{Z:()=>l}),n(388685);var r=n(647438),i=n(763520);function l(e){let{location:t,videoSpinnerContext:n,userId:l,streamId:o,loading:a,paused:s=!1}=e,[c]=r.useState(()=>new i.o(t));r.useEffect(()=>{s||(a?c.onSpinnerStarted():null!=o&&c.trackSpinnerDuration(n,l,o))},[a,s,o,c,n,l])}},27457:function(e,t,n){n.d(t,{BP:()=>eo,ZP:()=>ea}),n(388685);var r=n(951288),i=n(647438),l=n(120356),o=n.n(l),a=n(442837),s=n(692547),c=n(755721),u=n(481060),d=n(846027),p=n(410575),h=n(812206),f=n(835473),g=n(414910),m=n(415635),b=n(7284),O=n(649739),y=n(37091),_=n(6572),j=n(352978),v=n(936847),x=n(512384),C=n(210975),E=n(763296),S=n(695346),P=n(937995),I=n(456631),N=n(274459),w=n(314897),Z=n(857192),T=n(77498),A=n(131951),R=n(158776),D=n(979651),M=n(574254),L=n(374129),k=n(639351),U=n(584729),G=n(334374),B=n(849171),F=n(607187),V=n(833519),H=n(462061),z=n(623825),W=n(839662),K=n(981631),Y=n(354459),q=n(524484),X=n(65154),Q=n(388032),J=n(7504);function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let et=[Y.fO.ACTIVITY],en=i.memo(e=>{var t,n,l,s,c;let{participant:b,onDoubleClick:M,onContextMenu:L,onClick:k,onMouseDown:z,onKeyDown:en,className:er,style:ei,containerStyle:eo,channel:ea,width:es,inPopout:ec,onVideoResize:eu,inCall:ed=!1,selected:ep=!1,noBorder:eh=!1,noVideoRender:ef=!1,focused:eg=!1,blocked:em=!1,ignored:eb=!1,fit:eO=j.L.CONTAIN,paused:ey=!1,pulseSpeakingIndicator:e_=!1,forceIdle:ej=!1,inOverlayPopout:ev=!1}=e,ex=i.useContext(P.h9)||ej,[eC,eE]=i.useState(!1),eS=S.Sb.useSetting(),eP=(0,a.e7)([Z.default],()=>Z.default.isStreamInfoOverlayEnabled),[eI,eN]=i.useState(!1),ew=(0,a.e7)([w.default],()=>w.default.getId()),eZ=b.type===Y.fO.ACTIVITY?null:b.user,eT=null!=(l=null==eZ?void 0:eZ.id)?l:null,[eA]=(0,f.Z)(b.type===Y.fO.ACTIVITY?[b.applicationId]:[]),eR=(0,a.e7)([y.Z],()=>y.Z.getEnabled()),eD=(0,a.e7)([A.Z],()=>null!=eT&&A.Z.isLocalVideoDisabled(eT,(0,g.Z)(b.type)),[eT,b.type]),eM=(0,a.e7)([A.Z],()=>null!=eT?A.Z.getVideoToggleState(eT,(0,g.Z)(b.type)):K.ZUi.NONE,[eT,b.type]),eL=eM===K.ZUi.AUTO_PROBING,{speaking:ek,ringing:eU,hasVideo:eG}=(0,W.Z)(b,ew),eB=(0,a.e7)([E.Z],()=>null!==eT&&E.Z.isUserPlayingSounds(eT),[eT]),eF=function(e,t,n){var r,i,l,o;let s=t.type!==Y.fO.ACTIVITY?t.user.id:t.applicationId,c=(0,a.cj)([D.Z],()=>{var e,t,r;let i=D.Z.getVoiceState(n,s);return{muted:null!=(e=null==i?void 0:i.mute)&&e,deafened:null!=(t=null==i?void 0:i.deaf)&&t,suppressed:null!=(r=null==i?void 0:i.suppress)&&r,voiceChannelId:null==i?void 0:i.channelId}}),u=(0,a.cj)([A.Z],()=>{let n=(0,g.Z)(t.type);return e===s?{muted:!1,deafened:!1}:{muted:A.Z.isLocalMute(s,n),localVideoDisabled:A.Z.isLocalVideoDisabled(s,n),localVideoAutoDisabled:A.Z.isLocalVideoAutoDisabled(s,n)}},[e,t.type,s]);return{serverMuted:c.muted,serverDeafened:c.deafened,suppressed:c.suppressed,localMuted:u.muted,muted:null!=(l=t.type===Y.fO.USER&&(null==(r=t.voiceState)?void 0:r.isVoiceMuted()))&&l,deafened:null!=(o=t.type===Y.fO.USER&&(null==(i=t.voiceState)?void 0:i.isVoiceDeafened()))&&o}}(ew,b,ea.getGuildId()),eV=b.type===Y.fO.STREAM&&eT===ew,eH=(0,a.e7)([I.Z],()=>b.type===Y.fO.USER&&null!=eT?I.Z.getEffectForUserId(eT):null),ez=(0,a.e7)([D.Z],()=>D.Z.getVoicePlatformForChannel(ea.id,null!=eT?eT:K.lds)),{showGameIcon:eW}=O.ZP.useExperiment({location:"voice_users"},{autoTrackExposure:!1}),eK=(0,a.e7)([R.Z],()=>eW&&null!=eT?R.Z.findActivity(eT,e=>null!=e.application_id&&e.type===K.IIU.PLAYING):null,[eW,eT]),eY=(0,a.e7)([T.Z],()=>(null==eK?void 0:eK.application_id)!=null?T.Z.getDetectableGame(eK.application_id):null),eq=(0,a.e7)([h.Z],()=>null!=eY&&(null==eK?void 0:eK.application_id)!=null?h.Z.getApplication(null==eK?void 0:eK.application_id):void 0),eX=(0,C.wV)({userId:eT,channelId:ea.id}),eQ=(0,C.zU)({streamKey:b.type===Y.fO.STREAM?b.id:null,channelId:ea.id}),eJ=i.useMemo(()=>b.type===Y.fO.STREAM?null!=eQ&&eQ:b.type===Y.fO.USER&&null!=eX&&eX,[eQ,eX,b.type]);i.useEffect(()=>{eE(eg)},[eg]);let e$=i.useCallback(()=>{null!=eT&&d.Z.toggleLocalMute(eT,X.Yn.STREAM)},[eT]),e0=i.useCallback(e=>{null==k||k(b,e)},[k,b]),e1=i.useCallback(e=>{null==M||M(b,e)},[M,b]),e4=i.useCallback((e,t,n)=>{null==L||L(b,e,t,n)},[L,b]),e8=null,e6=null,e3="";switch(b.type){case Y.fO.STREAM:e8=(0,r.jsx)(V.Z,{participant:b,selected:ep,width:es,fit:eO,onVideoResize:eu,paused:ey,inPopout:ec,focused:eg,inOverlayPopout:ev}),e6=(0,r.jsx)(V._,{participant:b,selected:ep,width:es,focused:eg,idle:ex,premiumIndicator:!1}),e3=Q.intl.formatToPlainString(Q.t.gHPz3d,{streamerName:b.user.username});break;case Y.fO.USER:e8=(0,r.jsx)(H.Z,{channel:ea,inCall:ed,participant:b,fit:eO,onVideoResize:eu,paused:ey,selected:ep,width:es,blocked:em,ignored:eb,noVideoRender:ef||eL,pulseSpeakingIndicator:e_,inOverlayPopout:ev}),e6=(0,r.jsx)(H.T,{participant:b,channelId:ea.id}),e3=Q.intl.formatToPlainString(Q.t["iC/x/f"],{username:b.user.username});break;case Y.fO.ACTIVITY:e8=(0,r.jsx)(B.ZP,{interactible:eg,participant:b,selected:ep,channel:ea,width:es}),e3=Q.intl.formatToPlainString(Q.t.YCvOsL,{activityName:null==eA?void 0:eA.name});break;case Y.fO.HIDDEN_STREAM:e8=(0,r.jsx)(V.Z,{participant:b,selected:ep,width:es,fit:eO,onVideoResize:eu,paused:ey,inPopout:ec,focused:eg,inOverlayPopout:ev})}let e7=i.useRef(null),e5=b.type===Y.fO.STREAM?u.pzj:u.Odl;return(0,r.jsx)(p.Z,{section:K.jXE.VOICE_CHANNEL_TILE,children:(0,r.jsx)("div",{className:o()(J.wrapper,{[J.ringing]:eU},er),style:eo,onMouseEnter:()=>{eN(!0)},onMouseLeave:()=>{eN(!1)},children:(0,r.jsxs)(x.Z,{shakeLocation:q.oZ.VOICE_USER,isShaking:ek,className:J.tile,children:[(0,r.jsx)(F.Z,{ref:e7,className:o()(J.tile,{[J.noBorder]:eh,[J.noInteraction]:null==k,[J.idle]:ex}),noBorder:eh,style:ei,participantUserId:eT,children:(0,r.jsxs)(u.kL8,{"aria-label":e3,className:J.tileChild,onDoubleClick:e1,onContextMenu:e=>e4(e,b.type===Y.fO.STREAM),onClick:e0,onMouseDown:z,onKeyDown:en,focusProps:{offset:1},children:[null!=eH&&null!=eT?(0,r.jsx)(N.Z,{voiceChannelEffect:eH,onComplete:()=>(0,I.H)(eT),userId:eT}):null,b.type===Y.fO.USER?(0,r.jsx)("div",{className:J.voiceChannelEffectsContainer,children:(0,r.jsx)(m.Z,{userId:eT,channelId:ea.id,guildId:ea.getGuildId(),containerDimensions:{width:null!=(s=null==e7||null==(t=e7.current)?void 0:t.clientWidth)?s:0,height:null!=(c=null==e7||null==(n=e7.current)?void 0:n.clientHeight)?c:0}})}):null,e8,eh?null:(0,r.jsx)("div",{className:J.indicators,children:e6}),ep?(0,r.jsx)("div",{className:J.selectedScreen,children:(0,r.jsx)(e5,{size:"md",color:"currentColor",className:J.selectedIcon})}):null,et.includes(b.type)?null:(0,r.jsx)(el,ee($({focused:eg,width:es,inCall:ed,participantType:b.type,hasVideo:null!=eG&&eG},eF),{idle:ex,platform:ez,title:(0,U.Z)(ea,b),blocked:em,ignored:eb,localVideoDisabled:eD,videoToggleState:eM,hideAudioIcon:eV,onContextMenu:e4,onToggleMute:e$,participantUserId:eT,participantDisplayNameStyles:null==eZ?void 0:eZ.displayNameStyles,application:eq,secureFramesVerified:eJ,isHovered:eI})),b.type===Y.fO.USER&&eR?(0,r.jsx)(_.Z,{userId:b.id,channelId:ea.id}):null,ed&&!eh?(0,r.jsx)("div",{className:o()(J.border,{[J.voiceChannelEffect]:!eg&&(eB||null!=eH),[J.speaking]:ek&&!eg&&!eB})}):null]})}),eS&&eP&&eI&&(0,r.jsx)(G.Z,{currentUserId:ew,participant:b}),(0,r.jsx)(v.Z,{isFiring:eC,callTileRef:e7.current})]})})})});function er(e){let{participantType:t,platform:n,className:i}=e;if(t===Y.fO.STREAM)return n===Y.wR.XBOX?(0,r.jsx)(k.Z,{className:i}):(0,r.jsx)(u.pzj,{size:"md",color:"currentColor",className:i});switch(n){case Y.wR.MOBILE:return(0,r.jsx)(u.AtH,{size:"xs",color:"currentColor",className:i});case Y.wR.XBOX:return(0,r.jsx)(k.Z,{className:i});case Y.wR.PLAYSTATION:return(0,r.jsx)(L.Z,{className:i});default:return null}}function ei(e){let{icon:t,tooltipText:n,hideWhenInactive:i,onClick:l,compact:a}=e;return(0,r.jsx)(u.ua7,{text:n,children:e=>{var{onClick:n}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["onClick"]);return(0,r.jsx)(c.zx,ee($({},s),{onClick:e=>{e.stopPropagation(),null==n||n(),l(e)},onMouseDown:e=>e.preventDefault(),color:c.Tt.CUSTOM,size:c.Ph.ICON,className:o()(J.overlayButton,{[J.hideWhenInactive]:i,[J.compact]:a}),innerClassName:J.overlayButtonInner,children:(0,r.jsx)(t,{size:a?"xs":"refresh_sm",color:"currentColor"})}))}})}en.displayName="CallTile";let el=i.memo(e=>{let{idle:t,title:n,width:l,focused:c,videoToggleState:d,blocked:p,ignored:h,participantType:f,participantUserId:m,participantDisplayNameStyles:O,platform:y,secureFramesVerified:_,onContextMenu:j,muted:v,deafened:x,localMuted:C,serverMuted:E,serverDeafened:S,hasVideo:P,hideAudioIcon:I,onToggleMute:N}=e,w=(0,a.e7)([A.Z],()=>null!=m&&A.Z.isLocalVideoAutoDisabled(m,(0,g.Z)(f)),[m,f]),Z=(0,b.j)({displayNameStyles:O}),T=(0,z.N)(l),R=(0,z.K)(l),[D,L]=i.useState(!1);i.useEffect(()=>{let e=!1,t=()=>{e!==M.Z.isOpen()&&((e=M.Z.isOpen())||L(!1))};return M.Z.addChangeListener(t),()=>M.Z.removeChangeListener(t)},[]);let k=!I&&f===Y.fO.STREAM&&P&&(!R||C),U=function(e){let{localMuted:t,serverMuted:n,serverDeafened:r,deafened:i,muted:l}=e;return r?u.Vm4:n?u.v0G:i?u.wE8:t?u.v0G:l?u.nRN:null}({localMuted:C,serverMuted:E,serverDeafened:S,deafened:x,muted:v});return(0,r.jsxs)("div",{className:o()(J.overlayContainer,{[J.compact]:R}),children:[(0,r.jsx)("div",{className:o()(J.overlayTop,{[J.small]:l<195}),children:w||d===K.ZUi.AUTO_PROBING?t?(0,r.jsx)("div",{className:J.status,children:(0,r.jsx)(u.Amn,{size:"md",color:"currentColor"})}):(0,r.jsxs)("div",{className:o()(J.overlayTitle,J.videoDisabledTitle),children:[(0,r.jsx)("div",{className:J.status,children:(0,r.jsx)(u.Amn,{size:"md",color:"currentColor"})}),(0,r.jsx)(u.Text,{variant:"text-sm/normal",className:J.overlayTitleText,children:Q.intl.string(Q.t.m2Hyj4)})]}):null}),!T&&(0,r.jsxs)("div",{className:o()(J.overlayBottom,{[J.small]:l<195}),children:[(0,r.jsxs)(u.Text,{className:o()(J.experimentOverlayTitle,{[J.compact]:R}),color:"none",variant:R?"text-sm/normal":"text-md/normal",children:[null!=U&&f===Y.fO.USER&&(0,r.jsx)(U,{className:o()(J.experimentTitleIcon,{[J.compact]:R}),size:"xs",color:"currentColor"}),p?(0,r.jsx)("div",{className:J.blocked,children:(0,r.jsx)(u.t6m,{size:"lg",className:J.blockedIcon,color:s.Z.unsafe_rawColors.RED_400.css})}):null,h?(0,r.jsx)("div",{className:J.ignored,children:(0,r.jsx)(u.kZF,{size:"lg",className:J.blockedIcon})}):null,t?null:(0,r.jsx)(er,{participantType:f,platform:y,className:o()(J.experimentTitleIcon,{[J.compact]:R})}),null==n||""===n||t?null:(0,r.jsx)("span",{className:o()(J.overlayTitleText,Z),children:n}),_&&(0,r.jsx)(u.ua7,{text:Q.intl.string(Q.t.ZEem6O),children:e=>(0,r.jsx)(u.tQf,ee($({},e),{className:J.secureFramesIcon,size:"xs",color:s.Z.colors.HEADER_PRIMARY,"aria-label":Q.intl.string(Q.t.mR9cf3)}))})]}),!c&&(0,r.jsxs)("div",{className:J.overlayButtonContainer,children:[(0,r.jsx)(ei,{onClick:e=>{e.stopPropagation(),L(!0),j(e,!0,Y.A5.THREE_DOT)},tooltipText:Q.intl.string(Q.t["+1H47u"]),icon:u.xhG,hideWhenInactive:!D,compact:R}),k&&(0,r.jsx)(ei,{onClick:N,tooltipText:C?Q.intl.string(Q.t.YqAjX1):Q.intl.string(Q.t["w4m94+"]),icon:C?u.OyP:u.gj8,hideWhenInactive:!C&&!D,compact:R})]})]})]})});el.displayName="CallTileOverlay";let eo=j.L,ea=en},478738:function(e,t,n){n.d(t,{Z:()=>c}),n(539854);var r,i,l=n(442837),o=n(570140);let a=[];class s extends(r=l.ZP.Store){getGeoRestrictedGuilds(){return a}}(i="displayName")in s?Object.defineProperty(s,i,{value:"GeoRestrictedGuildStore",enumerable:!0,configurable:!0,writable:!0}):s[i]="GeoRestrictedGuildStore";let c=new s(o.Z,{CONNECTION_OPEN:function(e){a=e.geoRestrictedGuilds},GUILD_DELETE:function(e){let{guild:t}=e;if(-1===a.findIndex(e=>e.id===t.id))return!1;a=a.filter(e=>e.id!==t.id)},GUILD_GEO_RESTRICTED:function(e){let t=a.filter(t=>t.id!==e.guildId);t.push({id:e.guildId,name:e.name,icon:e.icon,unavailable:!0,geo_restricted:!0}),a=t}})},358652:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r,i,l=n(442837),o=n(570140),a=n(131704),s=n(251625),c=n(592125),u=n(306680),d=n(944486),p=n(55589);let h=[],f=new Set;function g(){let e=p.Z.getPrivateChannelIds().filter(e=>u.ZP.getMentionCount(e)>0);return e.length>20&&(e.length=20),!(0,s.EF)(e,h)&&(h=e,f=new Set(e),!0)}function m(){return g()}function b(e){let{channelId:t}=e,n=c.Z.getChannel(t);return null!=n&&!!(0,a.hv)(n.type)&&g()}class O extends(r=l.ZP.Store){initialize(){this.waitFor(p.Z,c.Z,d.Z,u.ZP)}getUnreadPrivateChannelIds(){return h}}(i="displayName")in O?Object.defineProperty(O,i,{value:"PrivateChannelReadStateStore",enumerable:!0,configurable:!0,writable:!0}):O[i]="PrivateChannelReadStateStore";let y=new O(o.Z,{CONNECTION_OPEN:m,OVERLAY_INITIALIZE:m,MESSAGE_CREATE:b,MESSAGE_ACK:b,CHANNEL_SELECT:function(e){let{channelId:t}=e,n=c.Z.getChannel(t);return null!=n&&!!(0,a.hv)(n.type)&&g()},CHANNEL_DELETE:function(e){let{channel:{id:t}}=e;return!!f.has(t)&&g()},WINDOW_FOCUS:function(){let e=c.Z.getChannel(d.Z.getChannelId());return null!=e&&!!(0,a.hv)(e.type)&&g()},CHANNEL_CREATE:function(e){let{channel:{id:t}}=e,n=c.Z.getChannel(t);return null!=n&&!!(0,a.hv)(n.type)&&g()},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let{id:e}of t){let t=c.Z.getChannel(e);null!=t&&(0,a.hv)(t.type)&&(n=!0)}return!!n&&g()}})},613060:function(e,t,n){n.d(t,{Z:()=>c});var r,i=n(442837),l=n(570140);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a={};class s extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&Object.keys(e).forEach(t=>{"number"==typeof e[t]&&(a[t]=e[t])})}getState(){return a}hasViewed(e){return null!=a[e]}}o(s,"displayName","ViewHistoryStore"),o(s,"persistKey","ViewHistoryStore");let c=new s(l.Z,{VIEW_HISTORY_MARK_VIEW:function(e){let{key:t}=e;a[t]=Date.now()}})},241890:function(e,t,n){let r,i;n.d(t,{Z:()=>p});var l=n(951288);n(647438);var o=n(481060),a=n(570140),s=n(341382),c=n(981631);let u=null;function d(e){null!=r&&e?r():null!=i&&i(),r=null,i=null}let p={init(){a.Z.subscribe("PREMIUM_REQUIRED_MODAL_OPEN",e=>{let t;d(!1),u=e.context,r=e.resolve,i=e.reject,c.e3s===e.context&&(t=!1,(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("58067"),n.e("88470"),n.e("76235"),n.e("29393")]).then(n.bind(n,134817));return n=>{var r,i,{onClose:o}=n,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["onClose"]);return(0,l.jsx)(e,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a),i=i={onClose:e=>{t=e,o()}},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r))}},{onCloseCallback:()=>{(0,s.M)(t)}}))}),a.Z.subscribe("PREMIUM_REQUIRED_MODAL_CLOSE",e=>{let{shouldContinue:t}=e;u=null,d(t)}),a.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",e=>{let{locked:t}=e;t&&null!=u&&(u=null,d(!1))})}}},281029:function(e,t,n){n.d(t,{Dn:()=>p,if:()=>d,ig:()=>a}),n(388685),n(290780),n(539854);var r=n(740504),i=n(131704),l=n(990492),o=n(981631);function a(e,t){return null!=e&&null!=t&&(e===t||(0,i.r8)(e)&&(0,i.r8)(t)||(0,i.bw)(e)&&(0,i.bw)(t))}function s(e,t,n,r){let i=-1;if(r.find((e,n)=>{let{channel:r}=e;return r.id===t&&(i=n,!0)}),i<0)return null;for(let t=i;t>=0&&t<r.length;t+=e){let e=r[t];if(a(e.channel.type,n))return e}return null}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;let r=null;return t.filter(t=>{let{channel:{type:r}}=t;return null!=e&&(n||a(e.type,r))}).find((t,n)=>{let{channel:{id:i}}=t;return null!=e&&i===e.id&&(r=n,!0)}),r}function u(e){return{referenceId:e.id,parentId:e.parent_id}}function d(e,t,n,r,l){var d,p,h,f,g;if(null==e||null==n)return null;let{GUILD_CATEGORY:m}=o.d4z;if(e.type===m){if(r===t||r<t&&e.type===n.type)return u(n);if(r>t){let{GUILD_CATEGORY:t}=o.d4z,r=l[(null!=(p=c(n,l,!0))?p:0)+1],i=s(-1,n.id,e.type,l);return null==i||i.channel.id===e.id?null:null==r||r.channel.type===t?{referenceId:i.channel.id,parentId:null}:null}return null}if(a(e.type,n.type))return u(n);if(r<t){if(n.type===m){let t=l[(null!=(f=c(n,l,!0))?f:0)-1],r=s(1,n.id,e.type,l);if(null==t)return{referenceId:null,parentId:null};if(null!=r){if(a(t.channel.type,e.type)||e.isGuildVocal()&&(0,i.r8)(t.channel.type))return{referenceId:r.channel.id,parentId:t.channel.parent_id};if(t.channel.isCategory())return{referenceId:r.channel.id,parentId:t.channel.id}}return null}let t=l[(null!=(h=c(n,l,!0))?h:0)-1],r=s(1,n.id,e.type,l);return null!=t||e.isGuildVocal()?(0,i.r8)(e.type)&&null!=r&&((0,i.r8)(t.channel.type)||t.channel.isCategory())?{referenceId:r.channel.id,parentId:n.parent_id}:null:{referenceId:null!=r?r.channel.id:null,parentId:null}}if(n.type===m){let t=l[(null!=(g=c(n,l,!0))?g:0)+1],r=s(-1,n.id,e.type,l);if(null!=r){if(null==t)return{referenceId:r.channel.id,parentId:n.id};if(a(t.channel.type,e.type)||(0,i.r8)(e.type)&&t.channel.isGuildVocal())return{referenceId:r.channel.id,parentId:t.channel.parent_id};if(t.channel.isCategory())return{referenceId:r.channel.id,parentId:n.id}}return null}let b=l[(null!=(d=c(n,l,!0))?d:0)+1],O=s(-1,n.id,e.type,l);if(null==O)return null;if(e.isGuildVocal()){if(null==b||b.channel.isCategory())return{referenceId:O.channel.id,parentId:n.parent_id};if(b.channel.isGuildVocal())return{referenceId:O.channel.id,parentId:b.channel.parent_id}}return e.isCategory()&&(null==b||b.channel.isCategory())?{referenceId:O.channel.id,parentId:null}:null}function p(e,t,n,o){let a,s,u=[],d=[],p=o._categories,h=t=>{var n,r;let i;return i=null==a||null==s||(n=a,r=s,+(null==n||null==r||null==t[n]||t[n].channel!==e||null==t[r]))?[...t]:l.ZP.moveItemFromTo(t,a,s),u=u.concat(l.ZP.calculatePositionDeltas({oldOrdering:t,newOrdering:i,idGetter:e=>{let{channel:t}=e;return t.id},existingPositionGetter:e=>{let{channel:t}=e;return t.position}})),i};if(e.isCategory()){let n=[...p].slice(1);a=c(e,n),s=c(t,n),(d=h(n)).unshift(p[0])}if((0,i.r8)(e.type)||e.isCategory()){let n=(0,r.Z)(d.length>0?d:p,o,e=>{let{channel:{type:t}}=e;return(0,i.r8)(t)});a=c(e,n),s=c(t,n),h(n)}if(e.isGuildVocal()||e.isCategory()){let n=(0,r.Z)(d.length>0?d:p,o,e=>{let{channel:t}=e;return t.isGuildVocal()});a=c(e,n),s=c(t,n),h(n)}if(e.parent_id!==n){let t=!1;u.find(r=>r.id===e.id&&(r.parent_id=n,t=!0)),t||u.push({id:e.id,parent_id:n})}return u}},677642:function(e,t,n){n.r(t),n.d(t,{default:()=>o,messagesLoader:()=>i});let{createLoader:r}=n(631562),i=r({bg:()=>n.e("6027").then(n.t.bind(n,505440,19)),cs:()=>n.e("29066").then(n.t.bind(n,767842,19)),da:()=>n.e("27181").then(n.t.bind(n,738775,19)),de:()=>n.e("12055").then(n.t.bind(n,443084,19)),el:()=>n.e("40474").then(n.t.bind(n,74950,19)),"en-GB":()=>n.e("83230").then(n.t.bind(n,999940,19)),"es-419":()=>n.e("11493").then(n.t.bind(n,408623,19)),"es-ES":()=>n.e("17589").then(n.t.bind(n,675432,19)),fi:()=>n.e("66425").then(n.t.bind(n,351264,19)),fr:()=>n.e("8133").then(n.t.bind(n,612656,19)),hi:()=>n.e("40903").then(n.t.bind(n,289629,19)),hr:()=>n.e("78793").then(n.t.bind(n,447725,19)),hu:()=>n.e("92940").then(n.t.bind(n,864390,19)),it:()=>n.e("76000").then(n.t.bind(n,878278,19)),ja:()=>n.e("45327").then(n.t.bind(n,769300,19)),ko:()=>n.e("23390").then(n.t.bind(n,960875,19)),lt:()=>n.e("8396").then(n.t.bind(n,591217,19)),nl:()=>n.e("55611").then(n.t.bind(n,676978,19)),no:()=>n.e("22984").then(n.t.bind(n,85492,19)),pl:()=>n.e("52057").then(n.t.bind(n,731403,19)),"pt-BR":()=>n.e("57158").then(n.t.bind(n,668214,19)),ro:()=>n.e("35147").then(n.t.bind(n,761301,19)),ru:()=>n.e("31207").then(n.t.bind(n,428014,19)),"sv-SE":()=>n.e("56194").then(n.t.bind(n,262907,19)),th:()=>n.e("7706").then(n.t.bind(n,241545,19)),tr:()=>n.e("24531").then(n.t.bind(n,406065,19)),uk:()=>n.e("64534").then(n.t.bind(n,524629,19)),vi:()=>n.e("43179").then(n.t.bind(n,705834,19)),"zh-CN":()=>n.e("35027").then(n.t.bind(n,778575,19)),"zh-TW":()=>n.e("73889").then(n.t.bind(n,461379,19)),"en-US":()=>n.e("46957").then(n.bind(n,76733))},"en-US"),{makeMessagesProxy:l}=n(631562),o=l(i)},777126:function(e,t,n){e.exports={empty:"empty__99e7c",headerText:"headerText__99e7c",privateChannelsHeaderContainer:"privateChannelsHeaderContainer__99e7c",tall:"tall__99e7c",privateChannelRecipientsInviteButtonIcon:"privateChannelRecipientsInviteButtonIcon__99e7c",privateChannelRecipientsInviteButtonIconContainer:"privateChannelRecipientsInviteButtonIconContainer__99e7c",scroller:"scroller__99e7c"}},820093:function(e,t,n){e.exports={progressContainer:"progressContainer__81ae5",downloadIcon:"downloadIcon__81ae5"}},188319:function(e,t,n){e.exports={message:"message_dae006"}},906530:function(e,t,n){e.exports={facepile:"facepile_aaa08b",facepileItemContainer:"facepileItemContainer_aaa08b",textItem:"textItem_aaa08b",guildIconList:"guildIconList_aaa08b",guildIconItem:"guildIconItem_aaa08b",guildIconItemText:"guildIconItemText_aaa08b"}},973543:function(e,t,n){e.exports={container:"container__2ee44",textContent:"textContent__2ee44"}},95049:function(e,t,n){e.exports={chevronButton:"chevronButton__5ae61",chevronButtonContent:"chevronButtonContent__5ae61",customizeLink:"customizeLink__5ae61"}},87587:function(e,t,n){e.exports={wrapper:"wrapper_fa8995",gradient:"gradient_fa8995",content:"content_fa8995",closeButton:"closeButton_fa8995",controllerImage:"controllerImage_fa8995",nuxTitle:"nuxTitle_fa8995",nuxContent:"nuxContent_fa8995",controlTitle:"controlTitle_fa8995",toggleContainerWrapper:"toggleContainerWrapper_fa8995",toggleContainer:"toggleContainer_fa8995",toggleContainerOnlineRow:"toggleContainerOnlineRow_fa8995",toggleContainerText:"toggleContainerText_fa8995",goOnlineButton:"goOnlineButton_fa8995",divider:"divider_fa8995"}},247060:function(e,t,n){e.exports={container:"container__3b95d",bar:"bar__3b95d",hidden:"hidden__3b95d",active:"active__3b95d",unread:"unread__3b95d active__3b95d",mention:"mention__3b95d active__3b95d",text:"text__3b95d"}},865696:function(e,t,n){e.exports={chatWallpaperDMListCoachmarkArt:"chatWallpaperDMListCoachmarkArt_f36944"}},452956:function(e,t,n){e.exports={tooltip:"tooltip_e12757",body:"body_e12757",header:"header_e12757",buttonContainer:"buttonContainer_e12757",content:"content_e12757",pointer:"pointer_e12757",pointerBottom:"pointerBottom_e12757"}},611372:function(e,t,n){e.exports={clipsEducationHeader:"clipsEducationHeader__384ad",clipsEducationArt:"clipsEducationArt__384ad",keyCombo:"keyCombo__384ad",bodyText:"bodyText__384ad",keybindHintKeys:"keybindHintKeys__384ad",keybindShortcut:"keybindShortcut__384ad",header:"header__384ad"}},448213:function(e,t,n){e.exports={tooltipText:"tooltipText__45896"}},499951:function(e,t,n){e.exports={pill:"pill_c9fddf",favoriteIcon:"favoriteIcon_c9fddf",ring:"ring_c9fddf",ringActive:"ringActive_c9fddf"}},836956:function(e,t,n){e.exports={obscuredIcon:"obscuredIcon__43090"}},586301:function(e,t,n){e.exports={container:"container_faa96b",dots:"dots_faa96b",isOpen:"isOpen_faa96b",focusTarget:"focusTarget_faa96b",left:"left_faa96b",body:"body_faa96b",messageFocusBlock:"messageFocusBlock_faa96b",message:"message_faa96b",messageContent:"messageContent_faa96b",messageContentTrailingIcon:"messageContentTrailingIcon_faa96b",messageContentLeadingIcon:"messageContentLeadingIcon_faa96b",bodyMedia:"bodyMedia_faa96b",obscuredTag:"obscuredTag_faa96b",thumbnailContainer:"thumbnailContainer_faa96b",thumbnailOverride:"thumbnailOverride_faa96b",obscured:"obscured_faa96b",obscuredThumbnailPlaceholder:"obscuredThumbnailPlaceholder_faa96b",header:"header_faa96b",footer:"footer_faa96b",bullet:"bullet_faa96b",headerText:"headerText_faa96b",postTitleText:"postTitleText_faa96b",newBadgeWrapper:"newBadgeWrapper_faa96b",newBadge:"newBadge_faa96b",inTagsRow:"inTagsRow_faa96b",typing:"typing_faa96b",typingUsers:"typingUsers_faa96b",messageCountBox:"messageCountBox_faa96b",messageCountIcon:"messageCountIcon_faa96b",hasRead:"hasRead_faa96b",messageCountText:"messageCountText_faa96b",newMessageCount:"newMessageCount_faa96b",updateReactionButton:"updateReactionButton_faa96b",timestampTooltip:"timestampTooltip_faa96b",blockedMessage:"blockedMessage_faa96b",withNewBadgeOverflow:"withNewBadgeOverflow_faa96b"}},423046:function(e,t,n){e.exports={author:"author_d3eee8",hasUnreads:"hasUnreads_d3eee8"}},240778:function(e,t,n){e.exports={tags:"tags__08166",pinIcon:"pinIcon__08166",tagFiltered:"tagFiltered__08166"}},781293:function(e,t,n){e.exports={wrapper:"wrapper_a629d4",icon:"icon_a629d4",badge:"badge_a629d4"}},210418:function(e,t,n){e.exports={progressPulse:"progressPulse_eff079",container:"container_eff079",progressBar:"progressBar_eff079 bar_eff079",containerWithMargin:"containerWithMargin_eff079",textArea:"textArea_eff079",goalTextContainer:"goalTextContainer_eff079",bar:"bar_eff079",progressBarContainer:"progressBarContainer_eff079 bar_eff079",progressBarContainerComplete:"progressBarContainerComplete_eff079",progressFraction:"progressFraction_eff079",tadaIcon:"tadaIcon_eff079",count:"count_eff079",goalText:"goalText_eff079",progressText:"progressText_eff079"}},290136:function(e,t,n){e.exports={planSelectStep:"planSelectStep__65b48",externalErrorBlock:"externalErrorBlock__65b48",footerRight:"footerRight__65b48",backStep:"backStep__65b48",copy:"copy__65b48",loadingWrapper:"loadingWrapper__65b48"}},22706:function(e,t,n){e.exports={content:"content__3bf54",closeButton:"closeButton__3bf54",upsellImage:"upsellImage__3bf54",upsellImageWithTrialOffer:"upsellImageWithTrialOffer__3bf54",premiumTrialBadge:"premiumTrialBadge__3bf54",bodyText:"bodyText__3bf54",perksList:"perksList__3bf54",perkIconGuild:"perkIconGuild__3bf54",perkIconUpload:"perkIconUpload__3bf54",perkIconStream:"perkIconStream__3bf54",perkIconChatPerks:"perkIconChatPerks__3bf54",backStep:"backStep__3bf54",footerRight:"footerRight__3bf54"}},373887:function(e,t,n){e.exports={premiumChannelIcon:"premiumChannelIcon__15e7f"}},531198:function(e,t,n){e.exports={popout:"popout__76f04",more:"more__76f04",row:"row__76f04",title:"title__76f04",timestamp:"timestamp__76f04",avatar:"avatar__76f04",bullet:"bullet__76f04",name:"name__76f04"}},780462:function(e,t,n){e.exports={content:"content__65844"}},84688:function(e,t,n){e.exports={containerDefault:"containerDefault__29444",containerDragAfter:"containerDragAfter__29444",containerDragBefore:"containerDragBefore__29444",addButton:"addButton__29444",forceVisible:"forceVisible__29444",iconVisibility:"iconVisibility__29444",addButtonIcon:"addButtonIcon__29444",wrapperCommon:"wrapperCommon__29444",mainContent:"mainContent__29444",name:"name__29444",icon:"icon__29444",wrapper:"wrapper__29444 wrapperCommon__29444",wrapperStatic:"wrapperStatic__29444 wrapperCommon__29444",clickable:"clickable__29444",children:"children__29444",collapsed:"collapsed__29444",muted:"muted__29444",dismissWrapper:"dismissWrapper__29444",dismissButton:"dismissButton__29444",dismiss:"dismiss__29444",voiceChannelsToggleIcon:"voiceChannelsToggleIcon__29444",refreshVoiceChannelsButton:"refreshVoiceChannelsButton__29444",refreshVoiceChannelsButtonInner:"refreshVoiceChannelsButtonInner__29444"}},413409:function(e,t,n){e.exports={container:"container__4e30a",popoutHeaderContainer:"popoutHeaderContainer__4e30a",headerDivider:"headerDivider__4e30a",settingNudgeText:"settingNudgeText__4e30a"}},506914:function(e,t,n){e.exports={flexColumn:"flexColumn__16b66",flexRow:"flexRow__16b66",assetsLargeImage:"assetsLargeImage__16b66",applicationLargeImage:"applicationLargeImage__16b66 assetsLargeImage__16b66",spotifyLargeImage:"spotifyLargeImage__16b66 assetsLargeImage__16b66",headerTextSize:"headerTextSize__16b66",bodyTextSize:"bodyTextSize__16b66",ellipsisRow:"ellipsisRow__16b66",header:"header__16b66 ellipsisRow__16b66 headerTextSize__16b66",colorHeaderSecondary:"colorHeaderSecondary__16b66",link:"link__16b66",clickable:"clickable__16b66",headerLink:"headerLink__16b66 link__16b66 headerTextSize__16b66 clickable__16b66 ellipsisRow__16b66",bodyLink:"bodyLink__16b66 link__16b66 ellipsisRow__16b66 bodyTextSize__16b66",usersSummary:"usersSummary__16b66",timeBar:"timeBar__16b66",detailsAndAvatarsContainer:"detailsAndAvatarsContainer__16b66",avatar:"avatar__16b66"}},342273:function(e,t,n){e.exports={activity:"activity__7ba6e",partyMembers:"partyMembers__7ba6e",partyAvatar:"partyAvatar__7ba6e",morePartyMembers:"morePartyMembers__7ba6e",channelActivityContainer:"channelActivityContainer__7ba6e",activityActionsContainer:"activityActionsContainer__7ba6e"}},55940:function(e,t,n){e.exports={containerDefault:"containerDefault_c69b6d",containerDragAfter:"containerDragAfter_c69b6d",containerDragBefore:"containerDragBefore_c69b6d",containerUserOver:"containerUserOver_c69b6d",iconBase:"iconBase_c69b6d",iconItem:"iconItem_c69b6d iconBase_c69b6d",alwaysShown:"alwaysShown_c69b6d",selected:"selected_c69b6d",iconNoChannelInfo:"iconNoChannelInfo_c69b6d",iconVisibility:"iconVisibility_c69b6d",iconWithChannelInfo:"iconWithChannelInfo_c69b6d",disabled:"disabled_c69b6d",actionIcon:"actionIcon_c69b6d",channelInfo:"channelInfo_c69b6d",iconLive:"iconLive_c69b6d",selectedChannel:"selectedChannel_c69b6d"}},885525:function(e,t,n){e.exports={newChannel:"newChannel__599fa"}},675758:function(e,t,n){e.exports={icon20px:"icon20px__69362",container:"container__69362",overflow:"overflow__69362",modeMuted:"modeMuted__69362"}},776677:function(e,t,n){e.exports={scroller:"scroller__629e4",unread:"unread__629e4 "+n(247060).container,unreadBar:"unreadBar__629e4",unreadBottom:"unreadBottom__629e4 unread__629e4 "+n(247060).container,positionedContainer:"positionedContainer__629e4",unreadTop:"unreadTop__629e4 unread__629e4 "+n(247060).container,voiceUserSummary:"voiceUserSummary__629e4",sectionDivider:"sectionDivider__629e4"}},786994:function(e,t,n){e.exports={popoutHeader:"popoutHeader__628e6",channelIcon:"channelIcon__628e6",channelName:"channelName__628e6"}},869786:function(e,t,n){e.exports={container:"container_f37cb1",clickable:"clickable_f37cb1",animatedBannerHoverLayer:"animatedBannerHoverLayer_f37cb1",animatedContainer:"animatedContainer_f37cb1",bannerImage:"bannerImage_f37cb1",bannerImg:"bannerImg_f37cb1",bannerImgFullWidth:"bannerImgFullWidth_f37cb1",header:"header_f37cb1",headerContent:"headerContent_f37cb1",primaryInfo:"primaryInfo_f37cb1",headerButton:"headerButton_f37cb1",headerChildren:"headerChildren_f37cb1",communityInfoContainer:"communityInfoContainer_f37cb1",hasSubheader:"hasSubheader_f37cb1",communityInfoVisible:"communityInfoVisible_f37cb1",communityInfo:"communityInfo_f37cb1",communityInfoPill:"communityInfoPill_f37cb1",communityIcon:"communityIcon_f37cb1",bannerVisible:"bannerVisible_f37cb1",selected:"selected_f37cb1",hasBanner:"hasBanner_f37cb1",name:"name_f37cb1",favoritesIcon:"favoritesIcon_f37cb1",themedHeaderMobile:"themedHeaderMobile_f37cb1",headerEllipseForeground:"headerEllipseForeground_f37cb1",headerEllipseBackdrop:"headerEllipseBackdrop_f37cb1",headerGlass:"headerGlass_f37cb1",invitesRefresh:"invitesRefresh_f37cb1",guildDropdown:"guildDropdown_f37cb1",guildBadgeAndName:"guildBadgeAndName_f37cb1",inviteButton:"inviteButton_f37cb1"}},46674:function(e,t,n){e.exports={progressBarContainer:"progressBarContainer_baf530",progressBarText:"progressBarText_baf530",progressBar:"progressBar_baf530",rightContainer:"rightContainer_baf530",rightText:"rightText_baf530",arrow:"arrow_baf530",divider:"divider_baf530"}},296553:function(e,t,n){e.exports={previewChannelRow:"previewChannelRow_d59199",selected:"selected_d59199",closeButton:"closeButton_d59199",money:"money_d59199",newBadge:"newBadge_d59199",phantomPreview:"phantomPreview_d59199",shopIcon:"shopIcon_d59199",previewChannelRowContent:"previewChannelRowContent_d59199",gifSection:"gifSection_d59199"}},113914:function(e,t,n){e.exports={container:"container__5b40b",spine:"spine__5b40b",spineBorder:"spineBorder__5b40b",spineWithGuildIcon:"spineWithGuildIcon__5b40b spine__5b40b",spineBorderWithGuildIcon:"spineBorderWithGuildIcon__5b40b spineBorder__5b40b",invertedSpine:"invertedSpine__5b40b"}},655645:function(e,t,n){e.exports={iconBase:"iconBase__933a1",mentionsBadge:"mentionsBadge__933a1 iconBase__933a1"}},718269:function(e,t,n){e.exports={pulse:"pulse__3b43f",container:"container__3b43f",bannerPadding:"bannerPadding__3b43f",category:"category__3b43f",spacer:"spacer__3b43f",channel:"channel__3b43f",channelIcon:"channelIcon__3b43f",channelName:"channelName__3b43f"}},556295:function(e,t,n){e.exports={iconLive:"iconLive__46869"}},74664:function(e,t,n){e.exports={container:"container__7aaec",containerPadding:"containerPadding__7aaec",bottom:"bottom__7aaec",top:"top__7aaec",bar:"bar__7aaec",emptyBar:"emptyBar__7aaec",mentionsBar:"mentionsBar__7aaec",unreadIcon:"unreadIcon__7aaec",voiceChannelsIcon:"voiceChannelsIcon__7aaec",barText:"barText__7aaec",voiceBar:"voiceBar__7aaec",voiceChannelsUsers:"voiceChannelsUsers__7aaec"}},158871:function(e,t,n){e.exports={statusDiv:"statusDiv__5cda9",hoverable:"hoverable__5cda9",pencilIcon:"pencilIcon__5cda9",statusText:"statusText__5cda9"}},21265:function(e,t,n){e.exports={wrapper:"wrapper__260e1",total:"total__260e1",users:"users__260e1",video:"video__260e1",extraLong:"extraLong__260e1",videoIcon:"videoIcon__260e1",popoutHeaderContainer:"popoutHeaderContainer__260e1"}},250549:function(e,t,n){e.exports={container:"container_b1bfd4",peopleIcon:"peopleIcon_b1bfd4",userCountText:"userCountText_b1bfd4"}},36973:function(e,t,n){e.exports={container:"container__349bd",content:"content__349bd",buttonContainer:"buttonContainer__349bd",primaryButton:"primaryButton__349bd",cancel:"cancel__349bd",image:"image__349bd"}},514483:function(e,t,n){e.exports={pill:"pill_ed9a5f"}},606989:function(e,t,n){e.exports={wrapper:"wrapper_d144f8",target:"target_d144f8",dragOver:"dragOver_d144f8",centerTarget:"centerTarget_d144f8",centerTargetTooltip:"centerTargetTooltip_d144f8",autoPointerEvents:"autoPointerEvents_d144f8",folderEndWrapper:"folderEndWrapper_d144f8",wrapperOver:"wrapperOver_d144f8",folderTarget:"folderTarget_d144f8"}},933774:function(e,t,n){e.exports={wrapper:"wrapper_ef3116",hidden:"hidden_ef3116",scroller:"scroller_ef3116",unreadMentionsFixedFooter:"unreadMentionsFixedFooter_ef3116",unreadMentionsIndicatorBottom:"unreadMentionsIndicatorBottom_ef3116",unreadMentionsFixedFooterBottomNotifCenterEntrypoint:"unreadMentionsFixedFooterBottomNotifCenterEntrypoint_ef3116",tree:"tree_ef3116",itemsContainer:"itemsContainer_ef3116",scrolling:"scrolling_ef3116",unreadMentionsIndicatorTop:"unreadMentionsIndicatorTop_ef3116",unreadMentionsBar:"unreadMentionsBar_ef3116",discoveryIcon:"discoveryIcon_ef3116",bottomRailNotifCenterButton:"bottomRailNotifCenterButton_ef3116"}},559931:function(e,t,n){e.exports={dragInner:"dragInner__87847",placeholderMask:"placeholderMask__87847",isFolder:"isFolder__87847"}},790952:function(e,t,n){e.exports={circleIconButton:"circleIconButton__5bc7e",selected:"selected__5bc7e",circleIcon:"circleIcon__5bc7e",pill:"pill__5bc7e"}},106663:function(e,t,n){e.exports={folderGroup:"folderGroup__48112",folderGroupBackground:"folderGroupBackground__48112",isExpanded:"isExpanded__48112",folderHeader:"folderHeader__48112",folderButton:"folderButton__48112",folderButtonInner:"folderButtonInner__48112",folderButtonContent:"folderButtonContent__48112",folderDragPreview:"folderDragPreview__48112",folderIconWrapper:"folderIconWrapper__48112",folderIcon:"folderIcon__48112",folderPreviewWrapper:"folderPreviewWrapper__48112",folderPreview:"folderPreview__48112",folderPreviewGuildIcon:"folderPreviewGuildIcon__48112",folderPreviewGuildIconError:"folderPreviewGuildIconError__48112",folderGuildsList:"folderGuildsList__48112",folderHeaderSmall:"folderHeaderSmall__48112",isHovering:"isHovering__48112"}},961699:function(e,t,n){e.exports={circleIconButton:"circleIconButton_a2be55",geoRestrictedBadge:"geoRestrictedBadge_a2be55"}},534175:function(e,t,n){e.exports={blobContainer:"blobContainer_e5445c",pill:"pill_e5445c",sorting:"sorting_e5445c",wobble:"wobble_e5445c",selected:"selected_e5445c"}},815141:function(e,t,n){e.exports={pill:"pill__1f388",downloadProgress:"downloadProgress__1f388",tutorialContainer:"tutorialContainer__1f388"}},657955:function(e,t,n){e.exports={listItemWrapper:"listItemWrapper__91816",listItemTooltip:"listItemTooltip__91816",selected:"selected__91816"}},816827:function(e,t,n){e.exports={listItem:"listItem__650eb",unavailableBadge:"unavailableBadge__650eb",iconBadge:"iconBadge__650eb",isCurrentUserConnected:"isCurrentUserConnected__650eb",tutorialContainer:"tutorialContainer__650eb"}},811270:function(e,t,n){e.exports={guildSeparator:"guildSeparator__252b6",fullWidth:"fullWidth__252b6"}},419619:function(e,t,n){e.exports={guildsError:"guildsError_e8d03f"}},144618:function(e,t,n){e.exports={pauseBackground:"pauseBackground_d70e0d",pause:"pause_d70e0d"}},264096:function(e,t,n){e.exports={pendingFolderButtonIcon:"pendingFolderButtonIcon__93fc9",container:"container__93fc9",popoutAnchor:"popoutAnchor__93fc9",popoutContainer:"popoutContainer__93fc9",popoutCaretLeft:"popoutCaretLeft__93fc9",popoutContent:"popoutContent__93fc9",coachmarkTextContainer:"coachmarkTextContainer__93fc9"}},870525:function(e,t,n){e.exports={keyboardShortcutsModal:"keyboardShortcutsModal_f061f6",noBackground:"noBackground_f061f6",noShadow:"noShadow_f061f6",backdrop:"backdrop_f061f6",show:"show_f061f6",modalTitle:"modalTitle_f061f6",content:"content_f061f6",modalSubtitle:"modalSubtitle_f061f6",ddrArrows:"ddrArrows_f061f6",arrow:"arrow_f061f6",active:"active_f061f6",left:"left_f061f6",down:"down_f061f6",up:"up_f061f6",right:"right_f061f6",keybindGroupDescription:"keybindGroupDescription_f061f6",keyboardShortcutList:"keyboardShortcutList_f061f6",keybindGroup:"keybindGroup_f061f6",keybindKey:"keybindKey_f061f6",keyboardShortcutSection:"keyboardShortcutSection_f061f6",keyboardShortcutListGroup:"keyboardShortcutListGroup_f061f6"}},24445:function(e,t,n){e.exports={ragingDemon:"ragingDemon_ac6454",visible:"visible_ac6454",symbol:"symbol_ac6454",symbolFadeIn:"symbolFadeIn_ac6454",symbolBackground:"symbolBackground_ac6454",symbolBgFadeInOut:"symbolBgFadeInOut_ac6454",container:"container_ac6454",explosion:"explosion_ac6454",animate:"animate_ac6454",circleInner:"circleInner_ac6454",explCircleInner:"explCircleInner_ac6454",circleOuter:"circleOuter_ac6454",explCircleOuter:"explCircleOuter_ac6454",linesSecondary:"linesSecondary_ac6454",explLinesSecondary:"explLinesSecondary_ac6454",linesMain:"linesMain_ac6454",explLinesMain:"explLinesMain_ac6454",primaryExplosion:"primaryExplosion_ac6454 explosion_ac6454",secondaryExplosion:"secondaryExplosion_ac6454 explosion_ac6454"}},412418:function(e,t,n){n.r(e.exports={wrapper:"wrapper__48b20",video:"video__48b20",videoCover:"videoCover__48b20",videoContain:"videoContain__48b20",mirror:"mirror__48b20",previewWrapper:"previewWrapper__48b20 video__48b20",loading:"loading__48b20",previewImage:"previewImage__48b20",emptyPreviewWrapper:"emptyPreviewWrapper__48b20",emptyPreview:"emptyPreview__48b20",spinner:"spinner__48b20"})},478394:function(e,t,n){e.exports={container:"container_a54d1d",image:"image_a54d1d",title:"title_a54d1d",body:"body_a54d1d"}},121099:function(e,t,n){e.exports={container:"container_db811b",mask:"mask_db811b",image:"image_db811b",imageContainer:"imageContainer_db811b",maskBackground:"maskBackground_db811b",maskIcon:"maskIcon_db811b"}},231796:function(e,t,n){e.exports={row:"row__6fddf",rowContent:"rowContent__6fddf",body:"body__6fddf",messagePreviewContainer:"messagePreviewContainer__6fddf",messagePreviewText:"messagePreviewText__6fddf",calloutContainer:"calloutContainer__6fddf",unread:"unread__6fddf",friendRequestContainer:"friendRequestContainer__6fddf",button:"button__6fddf",acceptButton:"acceptButton__6fddf button__6fddf",ignoreButton:"ignoreButton__6fddf button__6fddf",lifecycleContainer:"lifecycleContainer__6fddf",lifecycleText:"lifecycleText__6fddf",checkbox:"checkbox__6fddf",emoji:"emoji__6fddf"}},837284:function(e,t,n){e.exports={container:"container__0f711",spinner:"spinner__0f711",loadingPlaceholder:"loadingPlaceholder__0f711"}},888158:function(e,t,n){e.exports={pill:"pill__4f4b6",notificationsIcon:"notificationsIcon__4f4b6",positionLayer:"positionLayer__4f4b6",badgeTransition:"badgeTransition__4f4b6",grayBadge:"grayBadge__4f4b6",selected:"selected__4f4b6"}},888831:function(e,t,n){e.exports={repositionLayerSidebarPopout:"repositionLayerSidebarPopout_fc71d3",repositionLayerTitlebarPopout:"repositionLayerTitlebarPopout_fc71d3",container:"container_fc71d3",backgroundContainer:"backgroundContainer_fc71d3",background:"background_fc71d3"}},361584:function(e,t,n){e.exports={channelName:"channelName_cb862a",unread:"unread_cb862a",inlineIcon:"inlineIcon_cb862a",messageContainer:"messageContainer_cb862a",messageClickableContainer:"messageClickableContainer_cb862a",message:"message_cb862a",actionMenuOpen:"actionMenuOpen_cb862a",timestamp:"timestamp_cb862a",mentionBadge:"mentionBadge_cb862a",actions:"actions_cb862a",selected:"selected_cb862a",descriptionMessage:"descriptionMessage_cb862a",username:"username_cb862a",usernameTagContainer:"usernameTagContainer_cb862a",usernameOuterContainer:"usernameOuterContainer_cb862a",unreadDot:"unreadDot_cb862a",actionIcon:"actionIcon_cb862a",action:"action_cb862a",overflowText:"overflowText_cb862a"}},567133:function(e,t,n){e.exports={container:"container_ea5470",panelSpacing:"panelSpacing_ea5470",messageList:"messageList_ea5470",caughtUpContainer:"caughtUpContainer_ea5470",hide:"hide_ea5470",caughtUpContent:"caughtUpContent_ea5470",caughtUpText:"caughtUpText_ea5470"}},567843:function(e,t,n){e.exports={headerButton:"headerButton_c485a2",enabled:"enabled_c485a2"}},809946:function(e,t,n){e.exports={messagesPopoutWrap:"messagesPopoutWrap__0aee3",messagesPopout:"messagesPopout__0aee3",messagesGroupHeaderWrap:"messagesGroupHeaderWrap__0aee3",messagesGroupHeader:"messagesGroupHeader__0aee3",chevron:"chevron__0aee3",collapsed:"collapsed__0aee3",emptyStateContainer:"emptyStateContainer__0aee3"}},495940:function(e,t,n){e.exports={lineContainer:"lineContainer__9897f",avatar:"avatar__9897f",wrapper:"wrapper__9897f",loadingAnimation:"loadingAnimation__9897f",shimmer:"shimmer__9897f",noAnimation:"noAnimation__9897f",line:"line__9897f",lineShort:"lineShort__9897f",lineMedium:"lineMedium__9897f",lineLong:"lineLong__9897f"}},258628:function(e,t,n){e.exports={actions:"actions__4cd01",panelButtonContainer:"panelButtonContainer__4cd01"}},800339:function(e,t,n){e.exports={panel:"panel__5dec7",body:"body__5dec7",gameWrapper:"gameWrapper__5dec7",liveIndicator:"liveIndicator__5dec7",gameIcon:"gameIcon__5dec7",info:"info__5dec7",sparkleContainer:"sparkleContainer__5dec7",sparkles:"sparkles__5dec7",underlineOnHover:"underlineOnHover__5dec7",channel:"channel__5dec7",perksDemoContainer:"perksDemoContainer__5dec7",perksDemoText:"perksDemoText__5dec7"}},890332:function(e,t,n){e.exports={container:"container_e131a9",wrapper:"wrapper_e131a9",inner:"inner_e131a9",connection:"connection_e131a9",channel:"channel_e131a9",noiseCancellationPopout:"noiseCancellationPopout_e131a9",noiseCancellationTooltip:"noiseCancellationTooltip_e131a9",krispLogo:"krispLogo_e131a9",krispLink:"krispLink_e131a9",micTestButton:"micTestButton_e131a9",voiceUsers:"voiceUsers_e131a9",actionButtons:"actionButtons_e131a9",button:"button_e131a9",buttonColor:"buttonColor_e131a9",greyButtonActive:"greyButtonActive_e131a9",fauxDisabled:"fauxDisabled_e131a9",buttonActive:"buttonActive_e131a9",buttonContents:"buttonContents_e131a9",buttonIcon:"buttonIcon_e131a9",withText:"withText_e131a9",voicePanelIntroductionHeader:"voicePanelIntroductionHeader_e131a9",voicePanelIntroductionText:"voicePanelIntroductionText_e131a9",voicePanelIntroductionButton:"voicePanelIntroductionButton_e131a9",voicePanelIntroductionWrapper:"voicePanelIntroductionWrapper_e131a9",viewAsRolesWarning:"viewAsRolesWarning_e131a9",viewAsRolesWarningText:"viewAsRolesWarningText_e131a9",viewAsRolesWarningButton:"viewAsRolesWarningButton_e131a9",disabled:"disabled_e131a9",voiceButtonsContainer:"voiceButtonsContainer_e131a9"}},48733:function(e,t,n){e.exports={gameName:"gameName__8c6c2",clickableGameName:"clickableGameName__8c6c2",gameWrapper:"gameWrapper__8c6c2",gameIconWrapper:"gameIconWrapper__8c6c2",gameIcon:"gameIcon__8c6c2",info:"info__8c6c2",liveBadge:"liveBadge__8c6c2"}},49777:function(e,t,n){n.r(e.exports={container:"container__53b23",caretLeftTop:"caretLeftTop__53b23",caretTopCenter:"caretTopCenter__53b23",imageContainer:"imageContainer__53b23",image:"image__53b23",messageContainer:"messageContainer__53b23",close:"close__53b23",innerClose:"innerClose__53b23"})},922434:function(e,t,n){e.exports={background:"background__6343b",gradientRoleColorsImage:"gradientRoleColorsImage__6343b"}},969649:function(e,t,n){e.exports={container:"container__877f0",lottieContainer:"lottieContainer__877f0",lottie:"lottie__877f0",textImportant:"textImportant__877f0"}},428197:function(e,t,n){n.r(e.exports={container:"container_a1bfef",caretLeftTop:"caretLeftTop_a1bfef",caretTopCenter:"caretTopCenter_a1bfef",imageContainer:"imageContainer_a1bfef",image:"image_a1bfef",newPerksImage:"newPerksImage_a1bfef",close:"close_a1bfef",header:"header_a1bfef",description:"description_a1bfef"})},931942:function(e,t,n){e.exports={container:"container__0d0f9",progressContainer:"progressContainer__0d0f9",progress:"progress__0d0f9",boostCountText:"boostCountText__0d0f9",containerWithMargin:"containerWithMargin__0d0f9",contentContainer:"contentContainer__0d0f9",textContainer:"textContainer__0d0f9",textContentContainer:"textContentContainer__0d0f9",text:"text__0d0f9",progressLow:"progressLow__0d0f9"}},977072:function(e,t,n){e.exports={text:"text__87e56"}},56589:function(e,t,n){e.exports={perkRow:"perkRow_c609c8",perkIconContainer:"perkIconContainer_c609c8",perkIcon:"perkIcon_c609c8",perkDescription:"perkDescription_c609c8"}},712198:function(e,t,n){e.exports={quickswitcher:"quickswitcher_ac6cb0",input:"input_ac6cb0",autocompleteQuerySymbol:"autocompleteQuerySymbol_ac6cb0",scroller:"scroller_ac6cb0",protip:"protip_ac6cb0",hasContent:"hasContent_ac6cb0",resultsArea:"resultsArea_ac6cb0",emptyState:"emptyState_ac6cb0",emptyStateNote:"emptyStateNote_ac6cb0",emptyStateCTA:"emptyStateCTA_ac6cb0",miscContainer:"miscContainer_ac6cb0"}},72235:function(e,t,n){e.exports={tutorial:"tutorial__73f2a",shown:"shown__73f2a",arrowGroup:"arrowGroup__73f2a",right:"right__73f2a",arrowContainer:"arrowContainer__73f2a",horizontal:"horizontal__73f2a",diag1:"diag1__73f2a",diag2:"diag2__73f2a",arrowIcon:"arrowIcon__73f2a","arrow-pulse":"arrow-pulse__73f2a",tutorialMessages:"tutorialMessages__73f2a",message:"message__73f2a",searchMessage:"searchMessage__73f2a message__73f2a",selectMessage:"selectMessage__73f2a message__73f2a",hasQuery:"hasQuery__73f2a"}},844517:function(e,t,n){e.exports={button:"button_c2f8c3",buttonInner:"buttonInner_c2f8c3"}},253107:function(e,t,n){e.exports={container:"container_fc561d "+n(889833).recentMentionsPopout,widerInbox:"widerInbox_fc561d "+n(889833).widerInbox}},658235:function(e,t,n){e.exports={friendRequestsButton:"friendRequestsButton__523aa"}},59777:function(e,t,n){e.exports={jumpButton:"jumpButton_ed0c8c",text:"text_ed0c8c"}},889833:function(e,t,n){e.exports={recentMentionsPopout:"recentMentionsPopout__95796",widerInbox:"widerInbox__95796",scroller:"scroller__95796",container:"container__95796",closeButton:"closeButton__95796",messageContainer:"messageContainer__95796",jumpMessageButton:"jumpMessageButton__95796 "+n(59777).jumpButton,message:"message__95796"}},888097:function(e,t,n){e.exports={channelHeader:"channelHeader__35a7e",dmIcon:"dmIcon__35a7e",guildIcon:"guildIcon__35a7e",channelNameSection:"channelNameSection__35a7e",badge:"badge__35a7e",channelName:"channelName__35a7e",subtext:"subtext__35a7e",guildName:"guildName__35a7e",channelNameSpan:"channelNameSpan__35a7e",forumIcon:"forumIcon__35a7e",channelNameHeader:"channelNameHeader__35a7e",subtextContainer:"subtextContainer__35a7e"}},818398:function(e,t,n){e.exports={container:"container_d404a3",iconContainer:"iconContainer_d404a3",icon:"icon_d404a3",stars:"stars_d404a3",header:"header_d404a3",protip:"protip_d404a3"}},407067:function(e,t,n){e.exports={header:"header_ab6641",headerTitle:"headerTitle_ab6641",headerTabs:"headerTabs_ab6641",tabBar:"tabBar_ab6641",tab:"tab_ab6641",inboxIcon:"inboxIcon_ab6641",inboxTitle:"inboxTitle_ab6641",controls:"controls_ab6641",controlButton:"controlButton_ab6641",iconBadge:"iconBadge_ab6641"}},909136:function(e,t,n){e.exports={messageContainer:"messageContainer_f6bd5f",messageSpinner:"messageSpinner_f6bd5f",channelMessageAndCancelButton:"channelMessageAndCancelButton_f6bd5f",messageSendScheduled:"messageSendScheduled_f6bd5f",messageSendError:"messageSendError_f6bd5f",messageState:"messageState_f6bd5f",cancelMessageButton:"cancelMessageButton_f6bd5f",message:"message_f6bd5f",channelRow:"channelRow_f6bd5f",loadingPlaceholder:"loadingPlaceholder_f6bd5f"}},550116:function(e,t,n){e.exports={channel:"channel__427f0",collapseButton:"collapseButton__427f0",markReadButton:"markReadButton__427f0",collapsed:"collapsed__427f0"}},479014:function(e,t,n){e.exports={forumPost:"forumPost__7d15e",container:"container__7d15e"}},557047:function(e,t,n){e.exports={messages:"messages__1ccd1",messageContainer:"messageContainer__1ccd1",jumpButton:"jumpButton__1ccd1",message:"message__1ccd1",divider:"divider__1ccd1"}},803205:function(e,t,n){e.exports={divider:"divider__27703",dividerContent:"dividerContent__27703"}},915087:function(e,t,n){e.exports={spinner:"spinner__2692d",tutorial:"tutorial__2692d",tutorialIcon:"tutorialIcon__2692d",tutorialButton:"tutorialButton__2692d",scroller:"scroller__2692d"}},313227:function(e,t,n){e.exports={container:"container__5519a",primaryRow:"primaryRow__5519a",title:"title__5519a",subtitle:"subtitle__5519a",metaContainer:"metaContainer__5519a",divider:"divider__5519a",inviteImage:"inviteImage__5519a",secondaryRow:"secondaryRow__5519a",buttonContainer:"buttonContainer__5519a",primaryButton:"primaryButton__5519a",deleteButton:"deleteButton__5519a",launchToJoinContainer:"launchToJoinContainer__5519a",launchToJoinText:"launchToJoinText__5519a"}},201848:function(e,t,n){e.exports={invitesContainer:"invitesContainer__03885",headerContainer:"headerContainer__03885",headerTitle:"headerTitle__03885",headerDivider:"headerDivider__03885"}},827297:function(e,t,n){e.exports={graphContainer:"graphContainer_effb26",separator:"separator_effb26",popoutText:"popoutText_effb26",popoutTextDetails:"popoutTextDetails_effb26",popoutBottom:"popoutBottom_effb26",debugButton:"debugButton_effb26",copyStatsButton:"copyStatsButton_effb26",textWithIcon:"textWithIcon_effb26",secured:"secured_effb26"}},756105:function(e,t,n){e.exports={container:"container__50387",tabs:"tabs__50387",title:"title__50387",tabBarItem:"tabBarItem__50387",debugPanelStandalone:"debugPanelStandalone__50387",debugPanelSection:"debugPanelSection__50387"}},445233:function(e,t,n){e.exports={ping:"ping__06d62",largePing:"largePing__06d62",rtcConnectionStatus:"rtcConnectionStatus__06d62",rtcConnectionStatusLabel:"rtcConnectionStatusLabel__06d62",rtcConnectionStatusConnected:"rtcConnectionStatusConnected__06d62 rtcConnectionStatusLabel__06d62",rtcConnectionStatusConnecting:"rtcConnectionStatusConnecting__06d62 rtcConnectionStatusLabel__06d62",rtcConnectionStatusError:"rtcConnectionStatusError__06d62 rtcConnectionStatusLabel__06d62",rtcConnectionQualityFine:"rtcConnectionQualityFine__06d62",rtcConnectionQualityAverage:"rtcConnectionQualityAverage__06d62",rtcConnectionQualityBad:"rtcConnectionQualityBad__06d62",labelWrapper:"labelWrapper__06d62",rtcConnectionStatusWrapper:"rtcConnectionStatusWrapper__06d62"}},980941:function(e,t,n){e.exports={hoverableStatus:"hoverableStatus_cdcd10"}},506317:function(e,t,n){e.exports={container:"container__9351a",tag:"tag__9351a",header:"header__9351a",code:"code__9351a"}},840937:function(e,t,n){e.exports={code:"code__1a1f5",chunk:"chunk__1a1f5",divider:"divider__1a1f5",codeText:"codeText__1a1f5",loading:"loading__1a1f5"}},198473:function(e,t,n){e.exports={container:"container_e03deb"}},504964:function(e,t,n){e.exports={chatWheelMouseInput:"chatWheelMouseInput_adfa30",chatWheel:"chatWheel_adfa30",chatWheelBackground:"chatWheelBackground_adfa30",chatWheelDeadZone:"chatWheelDeadZone_adfa30",chatWheelCenter:"chatWheelCenter_adfa30",innerContent:"innerContent_adfa30",chatWheelDeadZoneIcon:"chatWheelDeadZoneIcon_adfa30",paginationHint:"paginationHint_adfa30",chatWheelItem:"chatWheelItem_adfa30"}},649093:function(e,t,n){e.exports={soundButton:"soundButton_d9cf5f"}},699966:function(e,t,n){e.exports={tile:"tile_ba65b0",tileSizer:"tileSizer_ba65b0",root:"root_ba65b0"}},354810:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/355f009edf130bbd113eb59339cf96fbf3ec337388a7da2dd296fb3b6e7b4b7c.png"},777091:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/e38f31edac53d903881f56780b31412d31564b57965e52db63cf9c1badc134d1.png"},445648:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/d4286b5e33156d3cea19a881c599e6a5501c8352b73f5b08dbc1e852d9a61b92.svg"},928381:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/094febe9a0df224872c62e2b511d78d18107d8a9699b49b1e35d360c119b303e.gif"},283902:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/477c3ad9764f37e0991cbcd8a222b8270988e9dd81e5bb3a88f47944fd5e1c4d.gif"},225375:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/6ffaa21345f63322cf7ff8725e4e087b8c32968b8b7ba55822f0c369d7f0c03b.gif"},128647:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/0d36d314d92b0e5827100e5acd3a3e4bacd6c6fb8732c159bff27109d8d1407d.png"}}]);
//# sourceMappingURL=ae771703d076b2eb.js.map