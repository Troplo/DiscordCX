"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["22173"],{824578:function(e,t,n){n.d(t,{Q:()=>i}),n(539854);var r=n(442837),a=n(699516),s=n(111583),l=n(594174);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return(0,r.Wu)([l.default,s.Z,a.Z],()=>{var n;let r=null==(n=l.default.getCurrentUser())?void 0:n.id,i=s.Z.getTypingUsers(e),o=[];for(let e in i){if(o.length>=t)break;let n=l.default.getUser(e);null!=n&&n.id!==r&&(a.Z.isBlockedOrIgnored(n.id)||o.push(n.id))}return o},[e,t])}},360004:function(e,t,n){n.d(t,{d:()=>l});var r=n(818083),a=n(987338);let s=(0,r.B)({kind:"guild",id:"2025-06_thread_search_partial_name_match",label:"Partial search term matching for thread titles",defaultConfig:{enabled:!1},commonTriggerPoint:a.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Partial search term matching for thread titles",config:{enabled:!0}}]});function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{enabled:r}=s.useExperiment({guildId:e,location:t},{autoTrackExposure:n});return r}},73315:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var a=n(120356),s=n.n(a),l=n(481060),i=n(936141),o=n(836956);let c=e=>{let{obscureReason:t,iconClassname:n}=e;switch(t){case i.wk.EXPLICIT_CONTENT:case i.wk.GORE_CONTENT:return(0,r.jsx)(l.fFY,{className:s()(n,o.obscuredIcon),color:"white"});case i.wk.SPOILER:return(0,r.jsx)(l.tEF,{size:"md",color:"currentColor",className:n});default:return null}}},404616:function(e,t,n){n.d(t,{Lp:()=>ei,NN:()=>ed,TJ:()=>eo,ZP:()=>ec,au:()=>eb,kZ:()=>ef,m9:()=>eg,og:()=>ej}),n(388685);var r=n(951288),a=n(647438),s=n(120356),l=n.n(s),i=n(512722),o=n.n(i),c=n(913527),u=n.n(c),d=n(524825),m=n(91192),h=n(442837),g=n(692547),f=n(481060),b=n(738619),p=n(393238),j=n(963374),x=n(884338),v=n(168107),O=n(480916),y=n(446489),P=n(824578),N=n(95398),C=n(247206),w=n(406432),Z=n(169525),S=n(566006),_=n(255269),T=n(937889),k=n(443877),M=n(524444),E=n(287151),I=n(267128),R=n(695346),A=n(433355),L=n(592125),B=n(496675),D=n(699516),F=n(451478),z=n(55935),U=n(109434),W=n(360004),H=n(456269),G=n(109590),Q=n(660189),J=n(208970),X=n(73315),q=n(470623),K=n(196255),V=n(858543),Y=n(265641),$=n(627896),ee=n(883728),et=n(981631),en=n(217702),er=n(388032),ea=n(586301),es=n(430864);function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let ei=72,eo=72,ec=a.memo(function(e){let{threadId:t,goToThread:n,observePostVisibilityAnalytics:s,overrideMedia:i,className:c,containerWidth:u}=e,{channel:g,isOpen:b,messageCount:j,firstMessage:x,content:v,media:O}=function(e){let{threadId:t,overrideMedia:n}=e,r=(0,h.e7)([L.Z],()=>L.Z.getChannel(t));o()(null!=r,"the thread should not be null here, a store must have missed an update");let a=(0,h.e7)([A.ZP],()=>A.ZP.getCurrentSidebarChannelId(r.parent_id)===r.id),{firstMessage:s}=(0,G.cl)(r),{content:l,firstMedia:i}=(0,H.mX)({firstMessage:s}),{messageCountText:c}=(0,H.nP)(r);return{channel:r,isOpen:a,messageCount:c,firstMessage:s,content:l,media:null!=n?n:i}}({threadId:t,overrideMedia:i}),{ref:y,height:P}=(0,p.ZP)(),N=(0,q.xH)(e=>e.setCardHeight,d.X);a.useEffect(()=>{null!=P&&N(t,P)},[P,N,t]),a.useEffect(()=>{null==s||s(y.current,t)},[y,s,t]);let C=a.useRef(null),{handleLeftClick:w,handleRightClick:Z}=(0,ee.Z)({facepileRef:C,goToThread:n,channel:g}),S=(0,m.JA)(t),{role:_,onFocus:T}=S,k=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(S,["role","onFocus"]),{isFocused:M,handleFocus:E,handleBlur:I}=(0,Y.Z)(T);return(0,r.jsxs)("div",{ref:y,"data-item-id":t,onClick:w,onContextMenu:Z,className:l()(ea.container,c,{[ea.isOpen]:b}),children:[(0,r.jsx)(f.P3F,el({onClick:w,focusProps:{ringTarget:y},onContextMenu:Z,"aria-label":er.intl.formatToPlainString(er.t.pgYN6e,{title:g.name,count:j}),className:ea.focusTarget,onFocus:E,onBlur:I},k)),(0,r.jsxs)("div",{className:ea.left,children:[(0,r.jsx)(f.y5t,{children:(0,r.jsx)(eu,{channel:g,firstMessage:x,content:v,hasMediaAttachment:null!=O,containerWidth:u})}),(0,r.jsx)(f.Rny,{enabled:!M,children:(0,r.jsx)(eh,{channel:g,firstMessage:x,facepileRef:C})})]}),(null==x?void 0:x.blocked)||null==O?null:(0,r.jsx)(ev,{channel:g,firstMedia:O})]})});function eu(e){let{channel:t,firstMessage:n,content:a,hasMediaAttachment:s,containerWidth:i}=e,{isNew:o,hasUnreads:c}=(0,H.J$)(t),u=ed(t),{postTitleRef:d,isNewBadgeOverflow:m}=(0,$.x)(o,24,i);return(0,r.jsxs)("div",{className:ea.body,children:[(0,r.jsx)(V.ZP,{channel:t}),(0,r.jsx)("div",{className:l()(ea.header,{[ea.withNewBadgeOverflow]:m}),children:(0,r.jsxs)("div",{className:ea.headerText,children:[(0,r.jsx)(f.X6q,{variant:"heading-lg/semibold",color:c?"header-primary":"text-muted",lineClamp:2,className:ea.postTitleText,children:(0,r.jsxs)("span",{ref:d,children:[u,o&&(0,r.jsx)("span",{className:ea.newBadgeWrapper,children:(0,r.jsx)(f.IGR,{className:ea.newBadge,color:g.Z.unsafe_rawColors.BRAND_260.css,text:er.intl.string(er.t.y2b7CA)})})]})}),o&&m&&(0,r.jsx)(f.IGR,{className:ea.newBadge,color:g.Z.unsafe_rawColors.BRAND_260.css,text:er.intl.string(er.t.y2b7CA)})]})}),(0,r.jsx)("div",{className:ea.message,children:(0,r.jsx)(em,{channel:t,message:n,content:a,hasMediaAttachment:s,hasUnreads:c})})]})}function ed(e){let t=(0,h.e7)([J.Z],()=>J.Z.getHasSearchResults(e.parent_id)),n=(0,h.e7)([J.Z],()=>J.Z.getSearchQuery(e.parent_id)),r=(0,W.d)(e.guild_id,"forum_post_use_highlighted_channel_name"),s=a.useMemo(()=>(0,j.nC)(t&&null!=n?n:"",r),[t,n,r]);return a.useMemo(()=>(0,T.ZP)({content:e.name,embeds:[]},{postProcessor:s}).content,[e.name,s])}let em=a.memo(function(e){let{message:t,channel:n,content:a,hasMediaAttachment:s,hasUnreads:i}=e,{isBlocked:o,isIgnored:c}=(0,h.cj)([D.Z],()=>({isBlocked:null!=t&&D.Z.isBlockedForMessage(t),isIgnored:null!=t&&D.Z.isIgnoredForMessage(t)})),u=(0,h.e7)([Q.Z],()=>Q.Z.isLoading(n.id)),d=(0,h.e7)([B.Z],()=>B.Z.can(et.Plq.MANAGE_MESSAGES,n)),m=R.cC.useSetting(),g=null;if(o)g=(0,r.jsx)(f.Text,{className:ea.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:er.intl.string(er.t.Lkp2fH)});else if(c)g=(0,r.jsx)(f.Text,{className:ea.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:er.intl.string(er.t.yWK7ZG)});else{let{contentPlaceholder:e,renderedContent:n}=null==t?{contentPlaceholder:null,renderedContent:null}:(0,I.f)(t,a,o,c,l()(ea.messageContent,es.inlineFormat,es.__invalid_smallFontSize),{leadingIconClass:ea.messageContentLeadingIcon,trailingIconClass:ea.messageContentTrailingIcon,iconSize:en.WW});g=null!=n?(0,r.jsx)(f.Text,{variant:"text-sm/semibold",color:i?"header-secondary":"text-muted",children:n}):s?null:(0,r.jsx)(f.Text,{tag:"span",variant:"text-sm/medium",color:i?"header-secondary":"text-muted",className:ea.messageContent,children:null==t?u?null:er.intl.string(er.t.mE3KJC):e})}return(0,r.jsxs)(N.aQ.Provider,{value:(0,_.Z)(m,d),children:[!o&&(0,r.jsx)(K.Z,{channel:n,message:t,renderColon:null!=g,hasUnreads:i}),(0,r.jsx)(f.Rny,{className:ea.messageFocusBlock,children:g})]})});function eh(e){let{channel:t,facepileRef:n,firstMessage:a}=e,s=(0,P.Q)(t.id),l=(null==a?void 0:a.reactions)!=null&&a.reactions.length>0;return(0,r.jsxs)("div",{className:ea.footer,children:[l||null==a?null:(0,r.jsx)(ef,{firstMessage:a,channel:t}),null==a?null:(0,r.jsx)(eb,{firstMessage:a,channel:t}),(0,r.jsx)(eg,{channel:t,iconSize:14}),(0,r.jsx)("span",{className:ea.bullet,children:"â€¢"}),s.length>0?(0,r.jsxs)("div",{className:ea.typing,children:[(0,r.jsx)(ej,{channel:t,userIds:s,facepileRef:n}),(0,r.jsx)("div",{className:ea.dots,children:(0,r.jsx)(f.bbz,{themed:!0,dotRadius:2})}),(0,r.jsx)(b.ZP,{channel:t,className:ea.typingUsers,renderDots:!1})]}):(0,r.jsx)(ep,{channel:t})]})}function eg(e){let{channel:t,iconSize:n,showReadState:a=!1}=e,{messageCountText:s,unreadCount:i}=(0,H.nP)(t);return(0,r.jsxs)("div",{className:l()(ea.messageCountBox,{[ea.hasRead]:a&&null==i}),children:[(0,r.jsx)("span",{className:ea.messageCountIcon,children:(0,r.jsx)(f.kBi,{size:"custom",color:"currentColor",width:n,height:n})}),"number"==typeof s?(0,r.jsx)(y.Z,{value:s,digitWidth:9,className:ea.messageCountText}):(0,r.jsx)("div",{className:ea.messageCountText,children:s}),null==i?null:(0,r.jsxs)(f.Text,{className:ea.newMessageCount,variant:"text-sm/semibold",color:"text-brand",children:["(",er.intl.format(er.t.z3PEtr,{count:i}),")"]})]})}function ef(e){let{firstMessage:t,channel:n}=e,a=(0,h.e7)([L.Z],()=>L.Z.getChannel(n.parent_id)),s=(0,H.Bs)(a),{disableReactionCreates:l,isLurking:i,isPendingMember:o}=(0,k.Z)(n);return null==s||l?null:(0,r.jsx)(E.le,{className:ea.updateReactionButton,message:t,readOnly:n.isArchivedLockedThread(),useChatFontScaling:!1,isLurking:i,isPendingMember:o,emoji:s,hideCount:!0,count:0,burst_count:0,me:!1,me_burst:!1,type:S.O.NORMAL,emojiSize:"reaction",emojiSizeTooltip:"reaction"})}function eb(e){var t;let{firstMessage:n,channel:a}=e,s=(0,H.IN)(n),{disableReactionUpdates:l,isLurking:i,isPendingMember:o}=(0,k.Z)(a);return null==s?null:(0,r.jsx)(E.le,el({className:ea.updateReactionButton,message:n,readOnly:l||a.isArchivedLockedThread(),isLurking:i,isPendingMember:o,useChatFontScaling:!1,type:s.burst_count>=s.count?S.O.BURST:S.O.NORMAL,emojiSize:"reaction",emojiSizeTooltip:"reaction"},s),"".concat(null!=(t=s.emoji.id)?t:0,":").concat(s.emoji.name))}function ep(e){var t;let{channel:n}=e,{sortOrder:a}=(0,U.H)(n.parent_id),s=(0,H.xw)(n,a),l=null==(t=n.threadMetadata)?void 0:t.createTimestamp,i=null==l?null:er.intl.formatToPlainString(er.t["13euCQ"],{timestamp:(0,z.vc)(u()(l),"LLLL")});return(0,r.jsx)(f.ua7,{text:i,tooltipClassName:ea.timestampTooltip,children:e=>{var t,n;return(0,r.jsx)(f.Text,(t=el({className:ea.__invalid_activityText,variant:"text-sm/normal",color:"header-secondary"},e),n=n={children:s},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}function ej(e){let{channel:t,userIds:n,facepileRef:a}=e,s=(0,H.iM)(t,n);return(0,r.jsx)("div",{ref:a,children:(0,r.jsx)(x.ZP,{className:ea.__invalid_facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:s,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0})})}function ex(e){let{firstMedia:t,shouldObscure:n,obscureReason:a,shouldShowAgeVerification:s}=e,i=(0,h.e7)([F.Z],()=>F.Z.isFocused()),o=(0,w.d$)(t.src),c=R.QK.useSetting(),u=(0,Z.MC)(a),{src:d,width:m,height:g,alt:b}=t;if(s){var p;return(0,r.jsx)("div",{"aria-label":null!=(p=null!=u?u:b)?p:er.intl.string(er.t.hqwnc3),className:l()(ea.thumbnailContainer,ea.obscuredThumbnailPlaceholder),style:{maxWidth:eo,maxHeight:ei,height:g,width:m}})}return d.startsWith("data:")?(0,r.jsx)(f.Eep,{src:d,width:m,height:g,minWidth:eo,minHeight:ei,alt:null!=b&&n?u:b,className:ea.thumbnailContainer,imageClassName:l()(ea.thumbnailOverride,{[ea.obscured]:n})}):(0,M.Yi)({src:d,width:m,height:g,minWidth:eo,minHeight:ei,alt:null!=b&&n?u:b,autoPlay:c,animated:o&&!n&&i,srcIsAnimated:t.srcIsAnimated,containerClassName:ea.thumbnailContainer,imageClassName:l()(ea.thumbnailOverride,{[ea.obscured]:n}),analyticsSource:"ForumPostMediaPreview"})}function ev(e){let{channel:t,firstMedia:n}=e,[a,s]=(0,Z.hL)({media:n,channel:t}),l=(0,C.JO)(s);return(0,r.jsx)(f.Rny,{enabled:!0,children:(0,r.jsxs)("div",{className:ea.bodyMedia,onClick:function(e){e.stopPropagation(),l&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),v.Z.showAgeVerificationGetStartedModal(O.cU.FORUM_POST_MEDIA_PREVIEW))},children:[(0,r.jsx)(ex,{firstMedia:n,shouldObscure:a,obscureReason:s,shouldShowAgeVerification:l}),a&&(0,r.jsx)(X.Z,{iconClassname:ea.obscuredTag,obscureReason:s})]})})}},196255:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var a=n(120356),s=n.n(a),l=n(481060),i=n(942951),o=n(456269),c=n(388032),u=n(423046);let d=e=>{var t,n;let{message:a,channel:d,renderColon:m,hasUnreads:h}=e,{user:g,author:f}=(0,o.AJ)(d),b=null!=(n=null!=(t=null==f?void 0:f.nick)?t:null==g?void 0:g.username)?n:"",p=(0,i.l)({user:null==a?void 0:a.author,channelId:d.id,guildId:d.guild_id,messageId:null==a?void 0:a.id,stopPropagation:!0,ariaLabel:c.intl.formatToPlainString(c.t.CSIeU1,{name:b})})(null!=f?f:void 0)(b,d.id);return(0,r.jsxs)(l.Text,{tag:"span",className:s()(u.author,{[u.hasUnreads]:h}),variant:"text-sm/semibold",children:[p,!0===m?": ":null]})}},858543:function(e,t,n){n.d(t,{DM:()=>f,ZP:()=>b});var r=n(951288);n(647438);var a=n(120356),s=n.n(a),l=n(692547),i=n(481060),o=n(109434),c=n(456269),u=n(479099),d=n(176505),m=n(388032),h=n(586301),g=n(240778);function f(e){let{channel:t,isNew:n}=e,r=(0,c.eV)(t),a=r.slice(void 0,3),s=r.slice(3),l=r.length>3?r.length-3:0,i=t.hasFlag(d.zZ.PINNED),o=a.length>0||i||n;return{shownTags:a,remainingTags:s,moreTagsCount:l,isPinned:i,shouldRenderTagsRow:o,forumPostContainsTags:r.length>0}}function b(e){let{channel:t,isNew:n,tagsClassName:a,className:c}=e,{shownTags:d,remainingTags:b,moreTagsCount:p,isPinned:j,shouldRenderTagsRow:x}=f({channel:t,isNew:n}),{tagFilter:v}=(0,o.H)(t.id);return x?(0,r.jsxs)("div",{className:s()(g.tags,c),children:[n?(0,r.jsx)(i.IGR,{className:s()(h.newBadge,h.inTagsRow),color:l.Z.unsafe_rawColors.BRAND_260.css,text:m.intl.string(m.t.y2b7CA)}):null,j&&(0,r.jsx)("div",{className:g.pinIcon,children:(0,r.jsx)(i.ua7,{text:m.intl.string(m.t["1QLRYW"]),children:e=>{var t,n;return(0,r.jsx)(i.qQX,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({size:"custom"},e),n=n={width:16,height:16,color:"white"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}),d.map(e=>(0,r.jsx)(u.Z,{tag:e,size:u.Z.Sizes.SMALL,className:s()(a,{[g.tagFiltered]:v.has(e.id)})},e.id)),p>0?(0,r.jsx)(u.f,{tags:b,count:p,size:u.Z.Sizes.SMALL}):null]}):null}},265641:function(e,t,n){n.d(t,{Z:()=>a}),n(388685);var r=n(647438);let a=e=>{let[t,n]=r.useState(!1);return{isFocused:t,handleFocus:r.useCallback(t=>{e(t),n(!0)},[e,n]),handleBlur:()=>{n(!1)}}}},627896:function(e,t,n){n.d(t,{x:()=>a}),n(388685);var r=n(647438);function a(e,t,n){let a=r.useRef(null),[s,l]=r.useState(!1),i=r.useCallback(()=>{if(e&&null!==a.current){var n;l((null==(n=a.current)?void 0:n.offsetHeight)>2.5*t)}},[l,e,t]);return r.useLayoutEffect(()=>{i()},[i,e,n]),{postTitleRef:a,isNewBadgeOverflow:s}}},883728:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var a=n(374470),s=n(239091);let l=e=>{let{facepileRef:t,goToThread:l,channel:i}=e;return{handleLeftClick:e=>{var n;(0,a.k)(e.target)&&(null==(n=t.current)?void 0:n.contains(e.target))||l(i,e.shiftKey)},handleRightClick:e=>(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("99534"),n.e("38007")]).then(n.bind(n,422200));return t=>{var n,a;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),a=a={channel:i},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n))}})}}}}]);
//# sourceMappingURL=976f2d0f233a711c.js.map