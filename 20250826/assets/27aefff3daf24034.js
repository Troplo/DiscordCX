"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["56236"],{146768:function(e,n,t){t.d(n,{Z:()=>s});var r=t(442837),i=t(431328),l=t(501655),c=t(427679),a=t(592125),o=t(430824);function s(e){let{id:n,data:{guild:t,instance:s,speakers:u,participantCount:d},context:g}=e,p=(0,r.e7)([o.Z,a.Z],()=>{var e;return o.Z.getGuild(null==(e=a.Z.getChannel(n))?void 0:e.getGuildId())},[n]),h=(0,r.e7)([c.Z],()=>c.Z.getStageInstanceByChannel(n),[n]),m=(0,i.w8)(n,l.pV.SPEAKER),v=(0,i.Rk)(n),j=null!=h?m:u,f=(null!=h?v:d)-j.length;return{channelId:n,guild:null!=p?p:t,stage:null!=h?h:s,speakers:j,audienceCount:f,context:g}}},710679:function(e,n,t){t.d(n,{Z:()=>Z}),t(953529);var r=t(951288);t(647438);var i=t(442837),l=t(41776),c=t(501655),a=t(427679),o=t(592125),s=t(430824),u=t(496675),d=t(19780),g=t(594174),p=t(15274),h=t(924301),m=t(951539),v=t(146768),j=t(236373),f=t(230900),b=t(954313),x=t(405613),O=t(460838),y=t(462179),C=t(981631);function Z(e){var n,t,Z;let{guildEvent:k,truncate:N,onActionTaken:P,className:E,isNew:w}=e,{id:I,guild_id:S,channel_id:D,creator_id:T,name:L,description:_,entity_type:G,image:M,recurrence_rule:R}=k,z=(0,b.DK)(k),A=(0,i.e7)([h.ZP],()=>h.ZP.isInterestedInEventRecurrence(I,z),[I,z]),U=(0,i.e7)([l.Z],()=>l.Z.isLurking(S),[S]),J=(0,i.e7)([a.Z],()=>a.Z.getStageInstanceByChannel(D),[D]),B=(0,i.e7)([s.Z],()=>s.Z.getGuild(S),[S]),q=(0,i.e7)([o.Z],()=>o.Z.getChannel(D),[D]),K=(0,i.e7)([g.default],()=>g.default.getUser(T),[T]),{speakers:W}=(0,v.Z)({id:D,data:{guild:null,instance:J,speakers:[],participantCount:0},context:{guildId:S,instance:J}}),X=(0,i.e7)([d.Z],()=>d.Z.getChannelId()),F=(0,h.xt)(k),H=X===D&&null!=X&&F,V=W.filter(e=>e.type===c.Ui.VOICE),Q=V.length,Y=(0,i.e7)([u.Z],()=>u.Z.can(C.Plq.CONNECT,q),[q]),$=(0,m.ZP)(k),ee=null!=B,en=(0,y.Z)({guild:B,channel:q,guildScheduledEvent:k,isActive:F,recurrenceId:z,onActionTaken:P}),et=U?void 0:e=>(0,p.bO)({eventId:I,recurrenceId:e});return(0,r.jsx)(O.Z,(t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r;r=t[n],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return e}({guild:B,channel:q,creator:K,name:L,entityType:G,description:null!=_?_:void 0,location:null!=(n=(0,f.cS)(k))?n:void 0,imageSource:null!=M?(0,x.Z)(k):void 0,imageLocation:O.Q.THUMBNAIL,isActive:F,isUserLurking:U,isJoined:H,isMember:ee,speakers:V,canConnect:Y,speakerCount:Q,rsvped:A,canInvite:$},en),Z=Z={className:E,onClick:et,truncate:N,isNew:w,guildEvent:k,recurrenceRule:(0,j.KV)(R),recurrenceId:z},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(Z)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(Z)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(Z,e))}),t))}},460838:function(e,n,t){t.d(n,{Q:()=>E,Z:()=>D}),t(953529);var r,i=t(951288),l=t(647438),c=t(120356),a=t.n(c),o=t(442837),s=t(481060),u=t(447003),d=t(471445),g=t(357156),p=t(496675),h=t(725436),m=t(274311),v=t(954313),j=t(285784),f=t(95291),b=t(742593),x=t(810561),O=t(131154),y=t(765305),C=t(981631),Z=t(388032),k=t(187881);function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r;r=t[n],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return e}function P(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}var E=((r={})[r.BANNER=0]="BANNER",r[r.THUMBNAIL=1]="THUMBNAIL",r);function w(e){let{channel:n,onClick:t}=e,{canManageAllEvents:r}=(0,g.XJ)(n),c=(0,o.e7)([p.Z],()=>!n.isGuildVocal()||p.Z.can(C.Plq.CONNECT,n),[n]),h=l.useMemo(()=>(0,u.Z)(n),[n]),m=(0,d.KS)(n);return(0,i.jsx)(s.ua7,{text:Z.intl.string(Z.t.nHjY9P),shouldShow:!c&&null!=t,children:e=>(0,i.jsxs)(s.P3F,P(N({},e),{className:a()(k.inline,k.channelContainer,{[k.channelContainerEnabled]:c&&null!=t,[k.channelContainerDisabled]:!c&&null!=t}),onClick:t,children:[(0,i.jsx)(s.ua7,{text:Z.intl.string(Z.t["48WXaW"]),shouldShow:r&&h&&c&&null!=t,children:e=>null!=m?(0,i.jsx)(m,P(N({},e),{color:"currentColor",size:"custom",width:20,height:20,className:k.icon})):null}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"none",className:k.channelLocation,children:n.name})]}))})}function I(e){let{channel:n,onJoinClick:t,handleLocationClick:r,location:l,isExternal:c}=e;return null!=n?(0,i.jsx)(w,{channel:n,onClick:t}):(0,i.jsxs)(s.P3F,{className:k.inline,onClick:r,children:[(0,i.jsx)(s._tJ,{size:"custom",color:"currentColor",height:20,width:20,className:a()(k.channelContainer,k.icon)}),(0,i.jsx)(s.Text,{className:c?k.externalLocation:k.channelLocation,variant:"text-sm/normal",children:(0,h.m)(l,!0)})]})}function S(e){let{channel:n,entityType:t,isJoined:r,isActive:l,isUserLurking:c,rsvped:a,canInvite:o,onContextMenu:u,onJoinClick:d,onRsvpClick:g,onStartClick:p,onInviteClick:h,onEndClick:v,onJoinGuildClick:f}=e,b=(0,m.Q)(n,t),x=(0,j.Zs)({entityType:t,isJoined:r,isActive:l,isUserLurking:c,rsvped:a,canInvite:o,isChannelPublic:b,onJoinClick:d,onRsvpClick:g,onStartClick:p,onInviteClick:h,onEndClick:v,onJoinGuildClick:f});return(0,i.jsxs)(s.hE2,{fullWidth:!1,size:"sm",children:[null!=u?(0,i.jsx)(j.b5,{onClick:u}):null,null==x?void 0:x.map((e,n)=>(0,i.jsx)(s.zxk,N({},e),n))]})}function D(e){let{className:n,guild:t,channel:r,creator:l,name:c,entityType:o,description:u,imageLocation:d=0,imageSource:g,isActive:p,isUserLurking:h,isJoined:m=!1,isMember:j=!1,speakers:C,speakerCount:Z,rsvped:N,canInvite:P,location:E,truncate:w,onContextMenu:D,onJoinClick:T,onJoinGuildClick:L,onRsvpClick:_,onStartClick:G,onInviteClick:M,onEndClick:R,onClick:z,isNew:A,guildEvent:U,eventPreview:J,recurrenceRule:B,recurrenceId:q}=e,K=o===y.WX.EXTERNAL,W=K?e=>e.stopPropagation():void 0,X=[];if(null!=B&&null!=event){let e=(0,v.Ho)(B);X=(0,v.PJ)(4,e,new Date(U.scheduled_start_time))}let F=X.length>0;return(0,i.jsxs)(s.kL8,{"aria-label":c,onClick:()=>null==z?void 0:z(q),onContextMenu:D,className:a()(k.card,{[k.joined]:m,[k.lurking]:h},n),children:[(0,i.jsxs)("div",{className:a()(k.padding,{[k.isRecurring]:F}),children:[0===d&&(0,i.jsx)(f.Z,{source:g}),(0,i.jsx)(b.ZP,{creator:l,name:c,description:u,imageSource:1===d?g:null,truncate:w,guildId:null==t?void 0:t.id,isNew:A,guildEvent:U,eventPreview:J,recurrenceId:q}),p&&null!=t&&null!=C&&Z>0&&(0,i.jsx)(O.Z,{guild:t,speakers:C,speakerCount:Z,className:k.spacing}),(0,i.jsx)("hr",{className:k.divider}),(0,i.jsxs)("div",{className:a()(k.inline,k.footer),children:[(0,i.jsx)(I,{channel:r,onJoinClick:T,handleLocationClick:W,location:E,isExternal:K}),(0,i.jsx)("div",{children:(0,i.jsx)(S,{channel:r,entityType:o,isActive:p,isJoined:m,isUserLurking:h,isMember:j,rsvped:N,canInvite:P,onContextMenu:D,onRsvpClick:_,onJoinGuildClick:L,onInviteClick:M,onJoinClick:T,onStartClick:G,onEndClick:R})})]}),F&&(0,i.jsx)("hr",{className:k.divider})]}),F&&(0,i.jsx)(x.Z,{guildId:null==t?void 0:t.id,recurrenceRule:B,guildEventId:U.id,onRecurrenceClick:z})]})}},17671:function(e,n,t){t.d(n,{default:()=>w});var r=t(951288),i=t(647438),l=t(392711),c=t.n(l),a=t(442837),o=t(481060),s=t(45114),u=t(493773),d=t(313201),g=t(720202),p=t(430824),h=t(306680),m=t(626135),v=t(823379);t(981888);var j=t(709054),f=t(897285),b=t(518756),x=t(554747),O=t(710679),y=t(74562),C=t(576749),Z=t(765305),k=t(981631),N=t(490897),P=t(388032),E=t(520698);function w(e){let{transitionState:n,onClose:l,guildId:w}=e,I=(0,d.Dt)(),S=(0,a.e7)([p.Z],()=>p.Z.getGuild(w)),D=(0,b.Z)(null==S?void 0:S.id),T=(0,x.ZP)(w),L=i.useRef(h.ZP.ackMessageId(w,N.W.GUILD_EVENT)),_=(0,C.Z)();return i.useEffect(()=>{T.forEach(e=>f.Z.getGuildEventUserCounts(w,e.id,[])),f.Z.getGuildEventsForCurrentUser(w)},[T,w]),(0,u.ZP)(()=>{m.default.track(k.rMx.OPEN_MODAL,{type:Z.zw,guild_id:w,guild_events_count:T.length})}),i.useEffect(()=>{c()(T).map(e=>e.creator_id).filter(v.lm).uniq().forEach(e=>{g.Z.requestMember(w,e)})},[w,T]),i.useEffect(()=>{null!=w&&(0,s.Ju)(w,N.W.GUILD_EVENT)},[w]),(0,r.jsxs)(o.Y0X,{size:o.CgR.MEDIUM,transitionState:n,"aria-labelledby":I,parentComponent:"GuildEventsModal","data-migration-pending":!0,children:[(0,r.jsxs)(o.xBx,{className:E.header,"data-migration-pending":!0,children:[(0,r.jsx)(o.Que,{size:"md",color:"currentColor",className:E.icon}),(0,r.jsx)(o.X6q,{id:I,variant:"heading-md/semibold",children:T.length>0?P.intl.formatToPlainString(P.t.IBdqSk,{number:T.length}):P.intl.string(P.t.tlopTE)}),D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:E.divider,children:"|"}),(0,r.jsx)(o.zxk,{variant:"primary",size:"sm",onClick:()=>{(0,o.ZDy)(async()=>{let{default:e}=await Promise.all([t.e("36599"),t.e("60962"),t.e("49049"),t.e("82758"),t.e("61"),t.e("72946")]).then(t.bind(t,779250));return n=>{var t,i;return(0,r.jsx)(e,(t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){var r;r=t[n],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return e}({},n),i=i={guildId:w},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t))}},_)},text:P.intl.string(P.t["60lJ0N"])})]}),(0,r.jsx)(o.P3F,{onClick:l,className:E.iconButton,"aria-label":P.intl.string(P.t.cpT0Cg),children:(0,r.jsx)(o.Dio,{size:"md",color:"currentColor",className:E.icon})})]}),(0,r.jsx)(o.hzk,{className:E.content,"data-migration-pending":!0,children:T.length>0?T.map(e=>(0,r.jsx)(O.Z,{guildEvent:e,onActionTaken:l,isNew:null!=L.current&&j.default.compare(e.id,L.current)>0},e.id)):(0,r.jsx)(y.Z,{guildId:w,onClose:l})})]})}},74562:function(e,n,t){t.d(n,{Z:()=>p});var r=t(951288);t(647438);var i=t(442837),l=t(481060),c=t(434404),a=t(939863),o=t(430824),s=t(496675),u=t(981631),d=t(388032),g=t(776873);function p(e){let{guildId:n,onClose:t}=e,p=(0,i.e7)([o.Z,s.Z],()=>{let e=o.Z.getGuild(n);return s.Z.can(u.Plq.MANAGE_ROLES,e)},[n]);return(0,r.jsxs)("div",{className:g.container,children:[(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:g.circle,children:(0,r.jsx)(l.Que,{size:"custom",color:"currentColor",height:40,width:40,className:g.icon})})}),(0,r.jsx)(l.X6q,{color:"header-primary",variant:"heading-xl/semibold",className:g.title,children:d.intl.string(d.t["WgZ+3N"])}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:g.subtitle,children:d.intl.string(d.t["v/S/PD"])}),p&&(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:g.roleTip,children:d.intl.format(d.t["K+DH2t"],{onClick:()=>{c.Z.open(n,u.pNK.ROLES),t()}})})]})}},131154:function(e,n,t){t.d(n,{Z:()=>s});var r=t(951288);t(647438);var i=t(120356),l=t.n(i),c=t(481060),a=t(388032),o=t(140764);function s(e){let{guild:n,speakers:t,speakerCount:i,className:s}=e,u=t.slice(0,5),d=u.map(e=>{var t,i;return(0,r.jsxs)("div",{className:o.speakerContainer,children:[(0,r.jsx)(c.qEK,{src:null==e||null==(t=e.user)?void 0:t.getAvatarURL(n.id,20),size:c.EFr.SIZE_20,className:o.avatar,"aria-label":"".concat(null==e?void 0:e.userNick,"-avatar")}),(0,r.jsx)("div",{className:o.textInGridContainer,children:(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",className:o.textInGrid,children:null==e?void 0:e.userNick})})]},null==e||null==(i=e.user)?void 0:i.id)}),g=i-u.length;return(0,r.jsxs)("div",{className:l()(o.grid,s),children:[d,g>0&&(0,r.jsxs)("div",{className:o.speakerContainer,children:[(0,r.jsx)("div",{className:o.iconMicrophone,children:(0,r.jsx)(c.S6n,{size:"custom",color:"currentColor",height:12})}),(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",className:o.textInGrid,children:a.intl.format(a.t["185ggI"],{count:g})})]})]})}}}]);
//# sourceMappingURL=27aefff3daf24034.js.map