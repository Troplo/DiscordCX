"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["1272"],{863181:function(e){e.exports="/assets/30a680768c7a9813.svg"},466389:function(e){e.exports="/assets/eaaec668caed688e.svg"},943935:function(e){e.exports="/assets/ab63b30e9bc8855c.svg"},356634:function(e){e.exports="/assets/5800882047a89a6a.svg"},459505:function(e){e.exports="/assets/1db388f3c58dbb7d.svg"},67764:function(e){e.exports="/assets/d44b0727db0c5052.svg"},900933:function(e){e.exports="/assets/d7b6acd15c57ef27.svg"},917847:function(e){e.exports="/assets/390f0abb99b8c8a1.svg"},55346:function(e){e.exports="/assets/f81f7017b15478cc.svg"},138715:function(e){e.exports="/assets/4e11cf8e80a816c6.svg"},979770:function(e){e.exports="/assets/a09cfd7678b20f8c.svg"},349181:function(e){e.exports="/assets/25c27c1328c986f6.svg"},755386:function(e){e.exports="/assets/c47298d5d6eac3b2.svg"},589148:function(e){e.exports="/assets/f59ed15bef9f5c18.svg"},511189:function(e){e.exports="/assets/5cc728db4badfc0e.svg"},510342:function(e){e.exports="/assets/74690dbe995fcda0.svg"},211827:function(e){e.exports="/assets/58188da2d047938e.svg"},497726:function(e){e.exports="/assets/9f7360ed1fb65a5a.svg"},241626:function(e){e.exports="/assets/9b7fadd75ade640d.svg"},932478:function(e){e.exports="/assets/1b763dab67be227b.svg"},157476:function(e){e.exports="/assets/061504eb3d226883.png"},420569:function(e){e.exports="/assets/f7ead7c3a969ed19.png"},837753:function(e){e.exports="/assets/6b450d698584e501.svg"},217110:function(e){e.exports="/assets/c4cc60770e7dcef2.svg"},930128:function(e){e.exports="/assets/d611c6cf03ca4eff.svg"},882977:function(e){e.exports="/assets/0b9061ca8185c832.svg"},869305:function(e){e.exports="/assets/1c06c72a2764bb71.png"},297806:function(e){e.exports="/assets/5ff66aff7c573955.svg"},146714:function(e){e.exports="/assets/2c647a351877be20.svg"},659429:function(e,t,n){n.d(t,{$:()=>o});var r=n(544891),i=n(570140),l=n(34756),a=n(981631);async function o(e){i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_START",applicationId:e});try{let t=(await r.tn.get({url:a.ANM.APPLICATION_ACTIVITY_STATISTICS(e),oldFormErrors:!0,rejectWithError:!1})).body;return i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t,applicationId:e}),t}catch(t){throw i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL",applicationId:e}),new l.Z(t)}}},930118:function(e,t,n){n.d(t,{Y:()=>i});var r=n(570140);function i(e){r.Z.wait(()=>r.Z.dispatch({type:"APPLICATION_STORE_LOCATION_CHANGE",location:e}))}},120960:function(e,t,n){n.d(t,{N:()=>i});var r=n(570140);function i(e,t){r.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}},949389:function(e,t,n){n.d(t,{K:()=>i,x:()=>l});var r=n(570140);function i(e){r.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})}function l(e){r.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}},943094:function(e,t,n){n.d(t,{W:()=>o});var r=n(481060),i=n(812206),l=n(710845),a=n(51025);function o(e,t,o){!function(e,t){let a=i.Z.getApplication(e);if(null==a)return new l.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e));(0,r.ZDy)(async()=>{let{default:e}=await n.e("70061").then(n.bind(n,764998));return n=>e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({game:a,onConfirmUninstall:t},n))})}(e,()=>(0,a.pC)(e,t,o))}},287259:function(e,t,n){n.d(t,{JZ:()=>l,fS:()=>i,wX:()=>a});var r=n(570140);function i(e,t){r.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}function l(e){r.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}},325432:function(e,t,n){n.d(t,{RY:()=>l,Tb:()=>o,ec:()=>s,iD:()=>a}),n(388685);var r=n(570140),i=n(830168);function l(e){i.Z.queryDirectory(e,(t,n)=>{null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})})}function a(e){r.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function o(e,t){let{label:n,isDefault:i}=t;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:i})}function s(e){let t={},n=0;for(let l of e)null!=l&&"string"==typeof l&&i.Z.queryDirectory(l,(i,a)=>{++n,null==i&&null!=a&&(t[l]=a),n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})})}},115849:function(e,t,n){n.d(t,{Z:()=>T}),n(388685),n(781311),n(35282);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(755721),u=n(481060),d=n(194359),p=n(313201),f=n(657682),h=n(981631),g=n(420212),m=n(388032),b=n(470840),_=n(197571);function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let y=n(349181),v={canSend:!1,hint:null,success:null,error:null},I=(0,p.hQ)(),C="".concat(I,"-decription"),S="".concat(I,"-error");function N(e,t){switch(t.type){case"RESET":return v;case"SUCCESS":return E(O({},v),{success:t.text});case"HINT":return E(O({},v),{canSend:!0,hint:t.text});case"ERROR":return E(O({},e),{canSend:!0,error:t.text})}}function T(e){let{placeholder:t=m.intl.string(m.t["Rn/sLi"])}=e,n=i.useRef(null),l=i.useRef(null),[o,p]=i.useReducer(N,v),{canSend:O,hint:E,success:T,error:P}=o;return i.useEffect(()=>{null!=T&&(s()(null!=n.current,"Input is submitting when not mounted"),n.current.value="",n.current.focus())},[T,n]),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s()(null!=n.current,"Input is submitted when not mounted");let t=n.current.value.trim();!t.includes("#")&&t.startsWith("@")&&(t=t.substring(1));let r=(0,f.Zy)(t);if(null!=r)return void p({type:"ERROR",text:r});d.Z.sendRequest({discordTag:t,context:{location:"Add Friend"}}).then(()=>p({type:"SUCCESS",text:m.intl.format(m.t.Rtl1Eh,{discordTag:t})}),e=>{var n;return p({type:"ERROR",text:(0,f.NF)(null==(n=e.body)?void 0:n.code,t)})})},autoComplete:"off",children:[(0,r.jsxs)("div",{className:b.addFriendWumpusWrapper,children:[(0,r.jsx)(u.R94,{id:C,type:u.R94.Types.DESCRIPTION,children:(0,r.jsx)(u.Text,{tag:"div",variant:"heading-md/normal",children:m.intl.string(m.t["Rn/sLi"])})}),(0,r.jsx)("img",{src:y,alt:"Wumpus Waving"})]}),(0,r.jsx)(u.tEY,{focusTarget:n,ringTarget:l,ringClassName:b.ring,children:(0,r.jsxs)("div",{ref:l,className:a()(b.addFriendInputWrapper,{[b.success]:T,[b.error]:P}),children:[(0,r.jsx)(c.Is,{id:I,inputRef:n,className:b.addFriendInput,inputClassName:b.input,onKeyPress:e=>{let t=e.currentTarget.value;if(e.key!==g.mR.Enter&&t.includes("#")){s()(null!=n.current,"Input is handling keypress when not mounted");let r=t.indexOf("#"),i=n.current.selectionStart,l=e.key===g.mR.Backspace||e.key===g.mR.ArrowRight||e.key===g.mR.ArrowLeft,a=e.which>=48&&e.which<=57;null!=i&&i>r&&/^(.+?#\d{4})$/.test(t)&&!l?e.preventDefault():null==i||!(i>r)||a||l||e.preventDefault()}},onChange:e=>{if(e.length<=0)return void p({type:"RESET"});let t="",[,n]=e.split("#");null!=n&&(t=e+h.LYt.slice(null!=n?n.length+1:0)),p({type:"HINT",text:t})},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-form-type":"other","data-lpignore":!0,"data-1p-ignore":!0,placeholder:t,"aria-label":t,"aria-invalid":null!=P||void 0,"aria-describedby":null!=P?S:C}),null!=E&&(0,r.jsx)("div",{className:b.addFriendHint,"aria-hidden":!0,children:E}),(0,r.jsx)(u.zxk,{variant:"primary",size:"sm",text:m.intl.string(m.t["PMsq/f"]),disabled:!O,type:"submit"})]})}),null!=P&&(0,r.jsx)(u.R94,{role:"alert",id:S,type:u.R94.Types.ERROR,className:_.marginTop8,children:P}),null!=T&&(0,r.jsx)(u.R94,{role:"status",type:u.R94.Types.SUCCESS,className:_.marginTop8,children:T})]})}},374005:function(e,t,n){n.d(t,{b:()=>y});var r=n(951288),i=n(647438),l=n(67136),a=n(393238),o=n(100527),s=n(906732),c=n(720734),u=n(840780),d=n(235555),p=n(746508),f=n(210724),h=n(905423),g=n(316173),m=n(410575),b=n(981631),_=n(388032),O=n(981028);function E(e){var t,n;let{analyticsLocations:i}=(0,s.ZP)(o.Z.ACTIVITY_PANEL),l=(0,h.Z)(e=>{let{guildId:t}=e;return t});return(0,r.jsx)(s.Gt,{value:i,children:(0,r.jsx)(u.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={guildId:l},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}let y=i.memo(function(){let e=i.useRef(null);return(0,a.PM)(e,e=>{let{height:t}=e;document.body.style.setProperty("--custom-app-panels-height","".concat(t,"px"))},[]),(0,r.jsx)("section",{ref:e,className:O.panels,"aria-label":_.intl.string(_.t.StREWF),children:(0,r.jsxs)(l.Jc,{containerRef:e,children:[(0,r.jsx)(g.Z,{}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(m.Z,{section:b.jXE.ACTIVITY_PANEL,children:(0,r.jsx)(E,{className:O.activityPanel})}),(0,r.jsx)(m.Z,{section:b.jXE.RTC_CONNECTION_PANEL,children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(m.Z,{section:b.jXE.ACCOUNT_PANEL,children:(0,r.jsx)(c.Z,{})})]})})})},176299:function(e,t,n){n.d(t,{Z:()=>e5}),n(35282),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(593473),s=n(843611),c=n(990547),u=n(608787),d=n(873546),p=n(442837),f=n(433517),h=n(481060),g=n(904245),m=n(773244),b=n(711237),_=n(532835),O=n(347469),E=n(169382),y=n(290297),v=n(244317),I=n(765717),C=n(358221),S=n(823748),N=n(626421),T=n(118379),P=n(267161),j=n(652515),x=n(544978),A=n(540059),Z=n(591472),w=n(351051),L=n(724383),R=n(135864),D=n(372900),k=n(6039),M=n(637853),U=n(326145),G=n(269675),B=n(242601),V=n(416568),H=n(613609),F=n(160404),z=n(225675),W=n(927723),Y=n(745052),K=n(285865),q=n(659971),Q=n(821020),X=n(147341),J=n(82409),$=n(179742),ee=n(270759),et=n(509212),en=n(982168),er=n(893908),ei=n(905423),el=n(304445),ea=n(893607),eo=n(703656),es=n(984802),ec=n(592125),eu=n(896797),ed=n(271383),ep=n(430824),ef=n(944486),eh=n(933429),eg=n(626135),em=n(823379),eb=n(709054),e_=n(374005),eO=n(409292),eE=n(256638),ey=n(663701),ev=n(697309),eI=n(425369),eC=n(715702),eS=n(981631),eN=n(176505),eT=n(215023),eP=n(290511),ej=n(186901),ex=n(981028);function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let eZ=(0,u.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,267161)),webpackId:267161}),ew=()=>(0,r.jsx)("div",{className:ex.loader,children:(0,r.jsx)(h.$jN,{})}),eL=(0,u.Un)({createPromise:()=>n.e("78431").then(n.bind(n,650788)),webpackId:650788,name:"GuildShopPage",renderLoader:ew}),eR=(0,u.Un)({createPromise:()=>n.e("55942").then(n.bind(n,464760)),webpackId:464760,name:"ServerMonetizationOnboardingForwarder",renderLoader:ew}),eD=(0,u.Un)({createPromise:()=>n.e("12009").then(n.bind(n,231588)),webpackId:231588,name:"GuildHomePage",renderLoader:ew}),ek=(0,u.Un)({createPromise:()=>Promise.all([n.e("58175"),n.e("6850"),n.e("9924")]).then(n.bind(n,545918)),webpackId:545918,name:"MemberSafetyPage",renderLoader:ew}),eM=(0,u.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("58227"),n.e("58121")]).then(n.bind(n,603072)),webpackId:603072,name:"ChannelsAndRolesPage",renderLoader:ew}),eU=(0,u.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("37709")]).then(n.bind(n,599263)),webpackId:599263,name:"GuildOnboardingPage",renderLoader:ew}),eG=(0,u.Un)({createPromise:()=>Promise.all([n.e("97844"),n.e("44799")]).then(n.bind(n,393357)),webpackId:393357,name:"GuildPowerupsPage",renderLoader:ew}),eB=e=>{let{match:t}=e,n=(0,E.l)(),i=(0,p.e7)([ec.Z,ef.Z],()=>{let e=ef.Z.getChannelId();return ec.Z.getChannel(e)}),{guildId:l,channelId:a,messageId:o,threadId:c}=t.params,u=(0,p.e7)([ep.Z],()=>ep.Z.getGuild(l)),d=(0,p.e7)([ed.ZP],()=>null==l?null:ed.ZP.getSelfMember(l)),f=(0,p.e7)([F.Z],()=>{if(null==l)return;let e=F.Z.getData(l);if((null==e?void 0:e.type)===z.z.SERVER_SHOP)switch(e.initialTab){case"role_subscriptions":return x.y.GUILD_ROLE_SUBSCRIPTIONS;case"guild_products":return x.y.GUILD_PRODUCTS;default:return}});(0,en.WF)(a)&&(0,en.WF)(c)||(null!=u&&(0,eo.uL)(eS.Z5c.CHANNEL(u.id,(0,er.Z)(u))),(0,W.V)());let h=(0,j.C4)(l,"channel_renderer");if(null!=l&&null!=a&&(0,eN.AB)(a))switch(a){case eN.oC.ROLE_SUBSCRIPTIONS:return h?(0,r.jsx)(eL,{guildId:l,initialTab:x.y.GUILD_ROLE_SUBSCRIPTIONS}):(0,r.jsx)(G.Z,{guildId:l});case eN.oC.SERVER_MONETIZATION_ONBOARDING:return(0,r.jsx)(eR,{guildId:l});case eN.oC.GUILD_SHOP:return(0,r.jsx)(eL,{guildId:l,productId:o,initialTab:f});case eN.oC.MEMBER_APPLICATIONS:return(0,r.jsx)(s.l_,{to:eS.Z5c.CHANNEL(l,eN.oC.MEMBER_SAFETY)});case eN.oC.GUILD_HOME:return(0,r.jsx)(eD,{guildId:l});case eN.oC.CHANNEL_BROWSER:return(0,r.jsx)(eM,{guildId:l,selectedSection:eP.l7.BROWSE});case eN.oC.GUILD_ONBOARDING:return(0,r.jsx)(eU,{guildId:l});case eN.oC.CUSTOMIZE_COMMUNITY:return(0,r.jsx)(eM,{guildId:l,selectedSection:eP.l7.CUSTOMIZE});case eN.oC.MEMBER_SAFETY:return(0,r.jsx)(ek,{guildId:l});case eN.oC.GUILD_BOOSTS:var g;return(0,r.jsx)(eG,{guildId:l,powerupListingId:null!=(g=n.get("powerupId"))?g:n.get("powerupSkuId")});case eN.oC.REPORT_TO_MOD:return(0,r.jsx)(S.Z,{});default:(0,em.vE)(a)}if((0,M.p3)(u,d))return(0,r.jsx)(U.Z,{guildId:l,channelId:a});if((null==i?void 0:i.type)===eS.d4z.GUILD_STORE){let e=eb.default.cast(t.params.messageId);return(0,r.jsx)(eO.Z,{channel:i,inputSkuId:e},i.id)}return(0,r.jsx)(S.Z,{})},eV=i.memo(function(){let{guildId:e,channelId:t}=(0,ei.Z)(),{notificationCenterVariant:n}=(0,Q.pN)({location:"Sidebar"}),i=(0,p.e7)([ef.Z],()=>null!=t?t:ef.Z.getChannelId(e));return window.location.pathname.startsWith(eS.Z5c.CHANNEL(eS.STv))?("sidebar"!==n&&(0,eo.dL)(eu.Z.defaultRoute),(0,r.jsx)(J.Z,{includePanelSpacing:!0})):window.location.pathname.startsWith(eS.Z5c.GLOBAL_DISCOVERY)||window.location.pathname.startsWith(eS.Z5c.GUILD_DISCOVERY)||(0,et.OG)()?(0,r.jsx)(R.Z,{}):null!=e?(0,r.jsx)(B.Z,{selectedChannelId:i,guildId:e},e):(0,r.jsx)(ey.Z,{})}),eH=e=>(0,r.jsx)(eB,eA({},e)),eF=()=>(0,r.jsx)(L.Z,{}),ez=e=>(0,r.jsx)(eW,eA({},e)),eW=e=>{let{channelId:t,messageId:n}=e.match.params;return(i.useEffect(()=>{null!=t&&null!=n&&g.Z.jumpToMessage({channelId:t,messageId:n,flash:!0,context:"notification_center_navigation"})},[t,n]),null==t)?(0,r.jsx)(X.Z,{}):eH(e)},eY=e=>{let{match:t}=e;return null!=t.params.guildId?(0,r.jsx)(k.Z,{guildId:t.params.guildId}):null},eK=e=>{let{match:t}=e;return null!=t.params.guildId?(0,r.jsx)(H.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},eq=()=>(0,r.jsx)(eI.Z,{}),eQ=()=>(0,r.jsx)(eC.Z,{}),eX=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){let{tab:n}=(0,o.parse)(t.location.search);return Object.values(eT.AW).includes(n)?(0,r.jsx)(T.Z,eA({isFullScreen:e,tab:n},t)):(0,r.jsx)(T.Z,eA({isFullScreen:e},t))}},eJ=e=>(0,r.jsx)(v.Z,eA({},e)),e$=()=>(0,r.jsx)(ee.Z,{}),e0=()=>(0,r.jsx)(Y.Z,{}),e1=()=>(0,r.jsx)($.Z,{}),e8=e=>{let t=e.location.pathname;return(0,r.jsx)(m.Z,{deepLinkType:ej.jE.FEATURES,path:t,children:(e=>{let{match:t}=e;switch(t.params.feature){case"friends":return(0,r.jsx)(ee.Z,{initialSection:eS.pJs.ONLINE});case"addFriends":return(0,r.jsx)(ee.Z,{initialSection:eS.pJs.ADD_FRIEND});case"pendingFriends":return(0,r.jsx)(ee.Z,{initialSection:eS.pJs.PENDING});case"sessionManagement":return(0,r.jsx)(s.l_,{to:eS.Z5c.SETTINGS("sessions")});case"connections":return(0,r.jsx)(s.l_,{to:{pathname:eS.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,r.jsx)(s.l_,{to:eS.Z5c.FAMILY_CENTER});case"account-standing":return(0,r.jsx)(s.l_,{to:eS.Z5c.SETTINGS("account","account-standing")});case"authorized-apps":return(0,r.jsx)(s.l_,{to:eS.Z5c.SETTINGS("authorized-apps")});case"open-shop":return(0,r.jsx)(s.l_,{to:eS.Z5c.COLLECTIBLES_SHOP_FULLSCREEN});case"editProfile":return(0,r.jsx)(s.l_,{to:{pathname:eS.Z5c.SETTINGS("profile-customization")}});case"gift":case"store":return(0,r.jsx)(s.l_,{to:{pathname:eS.Z5c.NITRO_HOME}});case"connected-games":return(0,r.jsx)(s.l_,{to:eS.Z5c.SETTINGS("content-and-social","connected-games")});case"boost":let n=t.params.guildId;return(0,r.jsx)(s.l_,{to:eS.Z5c.POWERUP_STORE(n)});case"boost-settings":return(0,r.jsx)(s.l_,{to:eS.Z5c.SETTINGS("guild-boosting")});default:return(0,r.jsx)(s.l_,{to:eS.Z5c.ME})}})(e)})};function e4(e){document.body.style.setProperty("--custom-guild-sidebar-width","".concat(e,"px"))}function e3(e){let{hasNotice:t,sidebarTheme:n,hideSidebar:l,hideChannelList:o,isSidebarOpen:s,isOnFullScreenCollectiblesShopRoute:c}=e;(0,_.t)(!0);let u="app view user trigger debugging";b.R6.useExperiment({location:u},{autoTrackExposure:!1}),b.R6.trackExposure({location:u});let g=(0,p.e7)([C.Z],()=>C.Z.isFullscreenInContext()),m=(0,A.T)("ChannelSidebar"),E=(0,P.useAppSidebarState)(e=>!e.isOpen)&&m;i.useLayoutEffect(()=>{if(m){var e;let t=parseInt(null!=(e=f.K.get(ev.nT))?e:"");Number.isNaN(t)&&(t=ev.qO),t=Math.min(Math.max(t,ev.li),ev.zx),!m&&t<=ev.p8&&(t=ev.qO),e4(t);let n=e=>{e.metaKey&&"b"===e.key&&P.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}}},[m]),i.useLayoutEffect(()=>{if(E)e4(ev.p8);else{var e;let t=parseInt(null!=(e=f.K.get(ev.nT))?e:"");Number.isNaN(t)&&(t=ev.qO),e4(t)}},[E]);let y=i.useRef(null),v=i.useCallback((e,t)=>{var n;e4(e);let r=t<ev.li/3;t<=ev.li?document.body.classList.add(ex.draggingMin):document.body.classList.remove(ex.draggingMin),t>=ev.zx?document.body.classList.add(ex.draggingMax):document.body.classList.remove(ex.draggingMax);let i=t-e;null==(n=y.current)||n.style.setProperty("--custom-overdrag","".concat(1+Math.min(Math.abs(i/ev.p8),.25))),m&&(P.useAppSidebarState.setState({isOpen:!r}),r&&e4(ev.p8))},[m]),I=i.useCallback(()=>{document.body.classList.add(ex.dragging)},[]),S=i.useCallback(e=>{var t;document.body.classList.remove(ex.dragging),document.body.classList.remove(ex.draggingMin),document.body.classList.remove(ex.draggingMax),document.body.classList.remove(ex.collapsing),null==(t=y.current)||t.style.setProperty("--custom-overdrag","0px"),f.K.set(ev.nT,e),eg.default.track(eS.rMx.CHANNEL_SIDEBAR_RESIZED,{width:e})},[]),N=(0,O.Z)({minDimension:ev.li,maxDimension:ev.zx,resizableDomNodeRef:y,onElementResize:v,onElementResizeStart:I,onElementResizeEnd:S,orientation:O.y.HORIZONTAL_RIGHT,throttleDuration:0}),T=i.useCallback(()=>{P.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))},[]);if(i.useLayoutEffect(()=>{E&&e4(ev.p8)},[E]),l)return null;let j={className:a()(ex.sidebarList,{[ex.sidebarListRounded]:!t})};return(0,r.jsx)(h.f6W,{theme:n,children:e=>{var t,i;return(0,r.jsxs)("div",{ref:y,"data-collapsed":E,className:a()(ex.sidebar,e,{[ex.fullWidth]:d.tq,[ex.hidden]:g,[ex.channelListHidden]:o}),children:[s&&!c&&(0,r.jsx)(V.Z,{className:ex.guilds,themeOverride:n}),!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",(t=eA({},j),i=i={children:(0,r.jsx)(eV,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t)),(0,r.jsx)(h.P3F,{onClick:T,"aria-label":"Resize Sidebar",className:ex.sidebarResizeHandle,onMouseDown:N}),(0,r.jsx)(e_.b,{})]})]})}})}function e5(){var e;let t=(0,p.e7)([eh.ZP],()=>eh.ZP.hasNotice()),n=(0,es.Ll)(),l=function(){let[e,t]=i.useState(()=>window.location.pathname.startsWith(eS.Z5c.GUILD_MEMBER_VERIFICATION("")));return i.useEffect(()=>el.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eS.Z5c.GUILD_MEMBER_VERIFICATION("")))}),[]),e}(),a=function(){let[e,t]=i.useState(()=>window.location.pathname.startsWith(eS.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")));return i.useEffect(()=>el.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eS.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}),[]),e}(),o=function(){var e;let t=(0,s.TH)();return(null==(e=(0,s.LX)(t.pathname,eS.Z5c.GUILD_BOOSTING_MARKETING(ea.Hw.guildId())))?void 0:e.isExact)===!0}(),u=function(){var e;let t=(0,s.TH)();return(null==(e=(0,s.LX)(t.pathname,eS.Z5c.COLLECTIBLES_SHOP_FULLSCREEN))?void 0:e.isExact)===!0}(),f=(0,p.e7)([q.Z],()=>q.Z.getIsOpen()),{notificationCenterVariant:h}=(0,Q.pN)({location:"Sidebar"}),g=(0,s.$B)([eS.Z5c.CHANNEL(eS.ME,ea.Hw.channelId()),eS.Z5c.CHANNEL(ea.Hw.guildId(),ea.Hw.channelId({optional:!0}),":messageId?")]),m=(null==g||null==(e=g.params)?void 0:e.channelId)===eN.oC.GUILD_ONBOARDING,b=l||a||o||u||m,_=i.useCallback(()=>K.Z.openSidebar(),[]),O=(0,A.T)("AppView"),E=(0,P.useAppSidebarState)(e=>!e.isOpen),v=(0,p.e7)([C.Z],()=>C.Z.isFullscreenInContext()),S=(0,p.e7)([Z.Z],()=>Z.Z.isFrameActive());return(0,r.jsx)("div",{className:ex.container,children:(0,r.jsx)(D.Z.Provider,{value:(null==g?void 0:g.params.guildId)===eS.ME||null==g?void 0:g.params.guildId,children:(0,r.jsxs)("div",{className:ex.base,"data-fullscreen":v,children:[!v&&(0,r.jsx)(eZ,{}),d.tq?null:(0,r.jsx)(eE.Z,{}),(0,r.jsxs)("div",{className:ex.content,children:[(0,r.jsx)(N.Z,{}),(0,r.jsx)(e3,{isOnFullScreenCollectiblesShopRoute:u,isSidebarOpen:f,hasNotice:t,sidebarTheme:n,hideChannelList:b,hideSidebar:!f||u}),(0,r.jsx)("div",{className:ex.page,"data-collapsed":!!O&&E,children:(0,r.jsxs)(y.Z.Provider,{value:_,children:[(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(I.Z,{path:eS.Z5c.ACTIVITY,disableTrack:!0,children:(0,r.jsx)(s.l_,{to:eS.Z5c.ME})}),(0,r.jsx)(I.Z,{path:eS.Z5c.ACTIVITY_DETAILS(":applicationId"),render:eJ,impressionName:c.ImpressionNames.ACTIVITY_DETAILS,impressionProperties:e=>{let{computedMatch:t}=e;return{application_id:t.params.applicationId}}}),(0,r.jsx)(I.Z,{path:eS.Z5c.APPLICATION_LIBRARY,render:eq,impressionName:c.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.APPLICATION_STORE,render:eQ,impressionName:c.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,render:eX(!0),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.COLLECTIBLES_SHOP_WITH_TAB(":tab"),render:eX(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.COLLECTIBLES_SHOP,render:eX(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),render:eX(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.MESSAGE_REQUESTS,render:e0,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.FAMILY_CENTER,render:e1,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.ME,exact:!0,render:e$,impressionName:c.ImpressionNames.FRIENDS,disableTrack:!0}),h===Q.jP.SIDEBAR&&(0,r.jsx)(I.Z,{path:eS.Z5c.CHANNEL(eS.STv,ea.Hw.channelId({optional:!0}),":messageId?"),render:ez,disableTrack:!0}),(0,r.jsx)(I.Z,{path:[eS.Z5c.CHANNEL_THREAD_VIEW(ea.Hw.guildId(),ea.Hw.channelId(),":threadId",":messageId?"),eS.Z5c.CHANNEL(eS.ME,ea.Hw.channelId()),eS.Z5c.CHANNEL(ea.Hw.guildId(),ea.Hw.channelId({optional:!0}),":messageId?")],render:eH,impressionName:c.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GLOBAL_DISCOVERY,render:eF,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0,exact:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GLOBAL_DISCOVERY_SERVERS,render:eF,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GLOBAL_DISCOVERY_APPS,render:eF,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY_APPS,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.QUEST_HOME,render:eF,impressionName:c.ImpressionNames.QUEST_HOME,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GUILD_DISCOVERY,render:eF,impressionName:c.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GUILD_MEMBER_VERIFICATION(ea.Hw.guildId()),render:eY,impressionName:c.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(ea.Hw.guildId(),":inviteCode?"),render:eK,impressionName:c.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:e=>{let{computedMatch:t}=e;return{has_invite:void 0!==t.params.inviteCode}}}),(0,r.jsx)(I.Z,{path:eS.Z5c.GUILD_FEATURE(":feature",ea.Hw.guildId()),exact:!0,render:e8,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eS.Z5c.FEATURE(":feature"),exact:!0,render:e8,disableTrack:!0})]}),S&&(0,r.jsx)(w.Z,{})]})})]})]})})})}},409292:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(951288),i=n(647438),l=n(843611),a=n(442837),o=n(493683),s=n(112724),c=n(108427),u=n(184107),d=n(410575),p=n(613311),f=n(601564),h=n(981631),g=n(430355);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{componentDidMount(){this.fetchStoreListing(),(0,c.e)("channel_store_listing")}render(){return null!=this.props.skuId?(0,r.jsx)(d.Z,{page:h.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,r.jsx)("div",{className:g.applicationStore,children:(0,r.jsx)(l.AW,{path:"*",render:this.renderApplicationListing})})}):null}constructor(...e){super(...e),m(this,"fetchStoreListing",e=>{let{channel:t,inputSkuId:n}=this.props;return null!=e?o.Z.fetchChannelStoreListing(t.id,e):null!=n?o.Z.fetchChannelStoreListing(t.id,n):o.Z.fetchChannelStoreListing(t.id)}),m(this,"renderApplicationListing",e=>{let{location:t}=e,{channel:n,skuId:i,width:l}=this.props;return(0,r.jsx)(p.Z,{channel:n,inputSkuId:i,fetchStoreListing:this.fetchStoreListing,location:t,pageSize:(0,f.getPageSize)(l)})})}}let _=(0,s.Z)(a.ZP.connectStores([u.Z],e=>{let{channel:t,inputSkuId:n}=e;return{skuId:null!=n?n:u.Z.getSkuIdForChannel(t.id)}})(b))},316173:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(433517),c=n(481060),u=n(304761),d=n(865427),p=n(820254),f=n(388032),h=n(36398);let g="isHideDevBanner",m=()=>{var e;let[t,n]=(0,i.useState)((null==(e=s.K.get(g,"false"))?void 0:e.toString())==="true"),l=(0,o.e7)([u.C],()=>{var e;return(0,d.fD)()?null==(e=u.C.getCurrentBuildOverride().overrides)?void 0:e.discord_web:null});if(t)return null;let m=()=>{s.K.set(g,!0),n(!0)},b=()=>(0,r.jsx)(c.P3F,{onClick:m,className:h.closeButton,"aria-label":f.intl.string(f.t.WAI6xs),children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:h.closeIcon})});return null!=l?(0,r.jsxs)("div",{className:a()(h.devBanner,h.buildOverride),children:[(0,r.jsx)(p.Z,{className:h.icon}),f.intl.string(f.t.Wj3LW1),(0,r.jsx)(b,{})]}):"staging"===window.GLOBAL_ENV.RELEASE_CHANNEL?(0,r.jsxs)("div",{className:a()(h.devBanner,h.staging),children:[(0,r.jsx)(p.Z,{className:h.icon}),f.intl.format(f.t.uyrfYG,{buildNumber:"436414"}),(0,r.jsx)(b,{})]}):null}},663701:function(e,t,n){n.d(t,{Z:()=>ey}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(524825),s=n(990547),c=n(91192),u=n(873546),d=n(442837),p=n(704215),f=n(952265),h=n(755721),g=n(481060),m=n(493683),b=n(529103),_=n(607070),O=n(557968),E=n(213609),y=n(463119),v=n(377171),I=n(243778),C=n(882579),S=n(518311),N=n(488634),T=n(899740),P=n(28476),j=n(880257),x=n(631885),A=n(849862),Z=n(522558),w=n(870041),L=n(795448),R=n(441623),D=n(93237),k=n(138176),M=n(457396),U=n(108989),G=n(51596),B=n(905423),V=n(155409),H=n(210887),F=n(695346),z=n(283595),W=n(923834),Y=n(55563),K=n(774343),q=n(974042),Q=n(626135),X=n(814225),J=n(515753),$=n(831218),ee=n(339149),et=n(981631),en=n(675654),er=n(474936),ei=n(388032),el=n(345909),ea=n(686918);function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function es(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ec(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let eu=e=>{var{selected:t}=e,n=ec(e,["selected"]);let l=(0,c.JA)("friends"),a=(0,A.If)(),o=(0,d.e7)([R.Z],()=>R.Z.canShowFriendsTabBadge()),u=(0,d.e7)([_.Z],()=>_.Z.useReducedMotion),{enabled:p}=Z.w.useExperiment({location:"Friends Tab"},{autoTrackExposure:!1}),f=o&&p;i.useEffect(()=>{f&&(0,E.h)({name:s.ImpressionNames.GIFT_INTENT_BADGE,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:er.hX.FRIEND_ANNIVERSARY}})},[f]);let[h,m]=i.useState(!1);return(0,r.jsxs)("div",{className:ea.friendsButtonContainer,children:[(0,r.jsx)(J.Qj,es(eo({onClick:()=>{let e;f?(Q.default.track(et.rMx.GIFT_INTENT_BADGE_CLICKED,{gift_intent_type:er.hX.FRIEND_ANNIVERSARY}),e=et.pJs.ALL,b.Z.setSection(et.pJs.ALL),(0,L.Gk)()):e=q.ZP.getState().section,(0,O.Z)({tab_opened:e})},interactiveClassName:f?ea.friendsBadge:void 0,selected:t,route:et.Z5c.FRIENDS,icon:g.iFz,text:ei.intl.string(ei.t.TdEu5e),onMouseEnter:()=>{m(!0)},onMouseLeave:()=>{m(!1)}},n,l),{children:a>0?(0,r.jsx)(g.mAB,{count:a}):null})),f&&!u&&(0,r.jsx)(U.Z,{className:ea.confetti,wind:0,sprites:en.CA,spriteColors:en.Br,firing:h,confettiConfig:{opacity:{type:"static",value:1},dragCoefficient:{type:"static",value:{x:100,y:100}}}})]})},ed=e=>{var{selected:t,hideGameUpdateProgressIndicator:n}=e,i=ec(e,["selected","hideGameUpdateProgressIndicator"]);let l=(0,c.JA)("library");return(0,r.jsx)(J.Qj,es(eo({selected:t,route:et.Z5c.APPLICATION_LIBRARY,icon:g.vqy,text:ei.intl.string(ei.t.cw57am)},i,l),{children:(0,r.jsx)(ee.Z,{className:a()(ea.downloadProgressCircle,{[ea.hideGameUpdateProgressIndicator]:n})})}))},ep=()=>(0,r.jsx)("li",{className:ea.createDMButtonContainer,children:(0,r.jsx)(S.l,{fullWidth:!0,text:ei.intl.string(ei.t["6Urw1t"]),icon:g.kL_,size:"sm",subscribeToGlobalHotkey:!0})}),ef=()=>{let e=(0,T.q)();return e>0?(0,r.jsx)(g.mAB,{count:e}):null},eh=e=>{let{selected:t}=e,n=(0,c.JA)("messageRequests"),{channelId:i}=(0,N._)();if(!(0,P.a)())return null;let l=null==i?void 0:()=>m.Z.preload(et.ME,i);return(0,r.jsx)(J.Qj,es(eo({selected:t,route:et.Z5c.MESSAGE_REQUESTS,icon:g._XJ,text:ei.intl.string(ei.t.e7GWjY),onClick:l},n),{children:(0,r.jsx)(ef,{})}))},eg=e=>{let{selected:t}=e,n=ei.intl.string(el.default.Rkdixs),l=(0,c.JA)("family-center"),[a,o]=i.useState(!0);return(0,r.jsx)(J.Qj,es(eo({selected:t,route:et.Z5c.FAMILY_CENTER,icon:g.BFJ,text:n,onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},interactiveClassName:ea.familyCenterLinkButton},l),{children:(0,r.jsx)(em,{isParentHovered:a})}))},em=e=>{let{isParentHovered:t}=e,i=(0,x.gU)();return t?(0,r.jsx)("div",{className:ea.familyCenterButtonContainer,children:(0,r.jsx)(J.bU,{onClick:()=>{(0,f.ZD)(async()=>{let{default:e}=await n.e("44153").then(n.bind(n,760949));return t=>(0,r.jsx)(e,eo({},t))})},"aria-label":ei.intl.string(ei.t.cpT0Cg),icon:g.Dio})}):i>0?(0,r.jsx)("div",{className:a()(ea.familyCenterButtonContainer,ea.withPadding),children:(0,r.jsx)(g.mAB,{count:i})}):(0,r.jsx)("div",{className:ea.familyCenterButtonContainer,children:(0,r.jsx)(I.ZP,{contentTypes:[p.z.FAMILY_CENTER_NEW_BADGE],children:e=>{let{visibleContent:t}=e;return t===p.z.FAMILY_CENTER_NEW_BADGE?(0,r.jsx)(g.IGR,{text:ei.intl.string(ei.t.y2b7CA),color:v.Z.BG_BRAND}):null}})})},eb=()=>(0,G.$Z)("DM_SEARCH");function e_(e){switch(e){case et.Z5c.APPLICATION_LIBRARY:return et.ZY5.LIBRARY;case et.Z5c.FRIENDS:return et.ZY5.FRIENDS_LIST;case et.Z5c.COLLECTIBLES_SHOP:return et.ZY5.COLLECTIBLES_SHOP}return e.startsWith(et.Z5c.APPLICATION_STORE)?e===et.Z5c.APPLICATION_STORE?et.ZY5.STORE_DIRECTORY_HOME:e.startsWith(et.Z5c.APPLICATION_STORE)?et.ZY5.STORE_DIRECTORY_BROWSE:et.ZY5.STORE_LISTING:et.ZY5.DM_CHANNEL}let eO=i.memo(function(e){let{showLibrary:t,hasLibraryApplication:n,homeLink:l,premiumTabSelected:o,shouldShowNitroTab:s,isReferralProgramPopoverShowable:c,shouldShowMessageRequestsRow:d,shouldShowFamilyCenterRow:p,createDMButtonVariant:f,selectedChannelId:g,path:m}=e,b=i.useRef(null),_=i.useRef(null),O=i.useRef(null),E=i.useRef(null),v=w.ZP.useExperiment({location:"NitroTabButton"});return(0,r.jsxs)("nav",{className:ea.privateChannels,"aria-label":ei.intl.string(ei.t.ZH9aPz),children:[(0,r.jsx)(V.Z,{childRef:b,tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,r.jsx)("div",{ref:b,className:a()(ea.searchBar,{[ea.themedHeaderMobile]:u.tq}),children:(0,r.jsx)(h.zx,{grow:!0,color:h.zx.Colors.PRIMARY,size:h.zx.Sizes.SMALL,fullWidth:!0,onClick:eb,children:ei.intl.string(ei.t.LzcpeX)})})}),(0,r.jsxs)($.Z,es(eo({},e),{version:m,selectedChannelId:g,showDMHeader:!0,listScrollerRef:O,createDMCTAButtonVariant:f,children:[(0,r.jsx)(eu,{selected:null!=m?m===et.Z5c.FRIENDS:l===et.Z5c.FRIENDS},"friends"),n&&t?(0,r.jsx)(ed,{selected:null==m?null!=l&&l.startsWith(et.Z5c.APPLICATION_LIBRARY):m.startsWith(et.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:l===et.Z5c.APPLICATION_LIBRARY},"library"):null,d?(0,r.jsx)(eh,{selected:null==m?null!=l&&l.startsWith(et.Z5c.MESSAGE_REQUESTS):m===et.Z5c.MESSAGE_REQUESTS},"message-requests"):null,s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.g,{nitroTabButtonRef:E,selected:null==m?o:m.startsWith(et.Z5c.APPLICATION_STORE),route:et.Z5c.APPLICATION_STORE,locationState:{analyticsSource:{page:e_(l),section:et.jXE.NAVIGATION,object:et.qAy.NAVIGATION_LINK}}},"premium"),c&&v.cohort===w.xI.Interactive&&(0,r.jsx)(k.F,{targetElementRef:E})]}):null,(0,r.jsx)(y.i,{selected:m===et.Z5c.COLLECTIBLES_SHOP||(null==l?void 0:l.startsWith(et.Z5c.COLLECTIBLES_SHOP)),listItemRef:_,locationState:{analyticsSource:{page:e_(l),section:et.jXE.NAVIGATION,object:et.qAy.NAVIGATION_LINK}}},"discord-shop"),p?(0,r.jsx)(eg,{selected:null!=l&&l.startsWith(et.Z5c.FAMILY_CENTER)||null!=m&&m.startsWith(et.Z5c.FAMILY_CENTER)},"family-center"):null,(0,r.jsx)(eE,{},"section-divider-top"),"full-width"===f&&(0,r.jsx)(ep,{},"create-dm")]}))]})});function eE(){return(0,r.jsx)("div",{className:ea.sectionDivider})}function ey(){let e=(0,d.e7)([K.Z],()=>K.Z.getHomeLink()),t=(0,d.e7)([Y.Z],()=>{if(e===et.Z5c.APPLICATION_STORE)return!0;let t=(0,X.ZK)(e);if(null!=t){var n,r;return null!=(r=null==(n=Y.Z.get(t))?void 0:n.premium)&&r}return!1},[e]),n=!F.bm.useSetting(),{theme:i}=(0,d.cj)([H.Z],()=>({theme:H.Z.theme})),l=(0,d.e7)([z.Z],()=>z.Z.hasLibraryApplication()),a=(0,d.e7)([W.Z],()=>W.Z.getCurrentPath()),[s,c]=(0,B.Z)(e=>{let{channelId:t,path:n}=e;return[t,n]},o.X),u=(0,M.i)({selected:null==c?t:c.startsWith(et.Z5c.APPLICATION_STORE)}),p=(0,D.eW)(),f=(0,P.a)(),h=function(){let e=F.Ex.useSetting(),t=(0,j.Z)();return!0===e&&!0===t}(),g=(0,C.U)("PrivateChannels",{autoTrackExposure:!0});return(0,r.jsx)(eO,{theme:i,showLibrary:n,hasLibraryApplication:l,storeLink:a,homeLink:e,premiumTabSelected:t,shouldShowNitroTab:u,isReferralProgramPopoverShowable:p,shouldShowMessageRequestsRow:f,shouldShowFamilyCenterRow:h,createDMButtonVariant:g,selectedChannelId:s,path:c})}},457094:function(e,t,n){n.r(t),n.d(t,{default:()=>tu}),n(35282),n(388685);var r=n(951288),i=n(647438),l=n(593473),a=n(843611),o=n(442837),s=n(481060),c=n(893776),u=n(943094),d=n(749210),p=n(287734),f=n(401430),h=n(230711),g=n(773244),m=n(951752),b=n(607070),_=n(627845),O=n(185666),E=n(503737),y=n(513202),v=n(318891),I=n(687751),C=n(64514),S=n(912471),N=n(100527),T=n(77987),P=n(679891),j=n(491575),x=n(954709),A=n(644679),Z=n(403763),w=n(314533),L=n(9029),R=n(935347),D=n(560067),k=n(823169),M=n(845767),U=n(620360),G=n(891304),B=n(96051),V=n(750995),H=n(610278),F=n(696287),z=n(657030),W=n(408026),Y=n(763916),K=n(306721),q=n(531551),Q=n(38618),X=n(972830),J=n(684572),$=n(584233),ee=n(15274),et=n(434404),en=n(543842),er=n(879064),ei=n(315964),el=n(495784),ea=n(975533),eo=n(377400),es=n(285865),ec=n(659971),eu=n(929809),ed=n(122333),ep=n(960275),ef=n(818765),eh=n(678492),eg=n(269089),em=n(380570),eb=n(837689),e_=n(367207),eO=n(489977),eE=n(329557),ey=n(304445),ev=n(893607),eI=n(703656),eC=n(298969),eS=n(719256),eN=n(6025),eT=n(897473),eP=n(377368),ej=n(262702),ex=n(639033),eA=n(479313),eZ=n(911560),ew=n(703016),eL=n(892001),eR=n(497805),eD=n(332754),ek=n(507468),eM=n(722589),eU=n(282506),eG=n(444961),eB=n(314897),eV=n(433355),eH=n(592125),eF=n(896797),ez=n(430824),eW=n(819640),eY=n(283595),eK=n(944486),eq=n(914010),eQ=n(695103),eX=n(241890),eJ=n(417363),e$=n(900974),e0=n(358085),e1=n(998502),e8=n(346329),e4=n(981631),e3=n(176505),e5=n(701476),e2=n(186901);function e6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){e6(e,t,n[t])})}return e}n(117240),n(801077),n(967368),n(272053),n(974180),n(574254),n(551428),n(55563),n(882029),n(959457),n(653255),n(663389),n(25990),n(778825),n(999382),n(388610),n(533947),n(277053),n(371398),n(141233),n(471073),n(606206);let e9=!1;(0,S.DL)(),o.ZP.initialize(),eC.Z.loadServer(),e0.isPlatformEmbedded&&(e1.ZP.on("USER_SETTINGS_OPEN",(e,t)=>{eW.Z.getLayers().includes(e4.S9g.USER_SETTINGS)||h.Z.open(null!=t?t:e4.oAB.ACCOUNT)}),e1.ZP.on("LAUNCH_APPLICATION",(e,t)=>{let n=eY.Z.getActiveLibraryApplication(t);e8.playApplication(t,n,{analyticsParams:{location:{page:e4.ZY5.DIRECT,object:e4.qAy.WEB_URL}}})}));let te=(0,m.l)(e=>{let{location:t}=e,n=(0,eM.default)(t.pathname);return null!=n&&(0,X.h)(()=>h.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})),(0,r.jsx)(g.Z,{deepLinkType:e2.jE.USER_SETTINGS,path:t.pathname,paramsBuilder:function(e,t){let[,,n,r]=e.split("/");return{path:e,section:n,subsection:r,fingerprint:t}},children:(0,r.jsx)(a.l_,{to:eF.Z.defaultRoute})})}),tt=o.ZP.connectStores([Q.Z,eF.Z,eB.default],()=>({isConnected:Q.Z.isConnected(),defaultRoute:eF.Z.defaultRoute,defaultRouteFallback:eF.Z.fallbackRoute,token:eB.default.getToken()}))(class extends i.Component{componentDidMount(){let{match:e}=this.props;null!=e&&null!=e.params.inviteCode&&(0,$.x)({code:e.params.inviteCode})}render(){let{isConnected:e,defaultRoute:t,token:n,defaultRouteFallback:i}=this.props;if(null==n)return(0,r.jsx)(a.l_,{to:e4.Z5c.DEFAULT_LOGGED_OUT});if(e){let e=to(t);return null==e||(e.params.guildId===e4.ME||null!=ez.Z.getGuild(e.params.guildId))&&null!=eH.Z.getChannel(e.params.channelId)?(0,r.jsx)(a.l_,{to:t}):(0,r.jsx)(a.l_,{to:i})}return null}}),tn=(0,m.l)((0,T.e)(j.Z,null,{passProps:!1})),tr=(0,T.e)(J.default,null,{passProps:!1}),ti=[e4.Z5c.GUILD_BOOSTING_MARKETING(ev.Hw.guildId()),...Array.from(e3.Vg).map(e=>e4.Z5c.CHANNEL(ev.Hw.guildId(),e))];function tl(e){let{guildId:t,channelId:n=null,messageId:r=null,threadId:i=null}=e.params;return{guildId:null!=t?t:e4.ME,channelId:n,messageId:r,threadId:i}}let ta=[{path:[e4.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render(e){let{match:t}=e;return(0,r.jsx)(tt,{match:t})},isSessionRequired:!0},{path:[e4.Z5c.APP],render:()=>(0,r.jsx)(tt,{}),isSessionRequired:!0},{path:[e4.Z5c.USERS(":id")],render:function(e){let{match:t}=e,{id:n}=t.params;return(0,X.h)(()=>(0,eL.openUserProfileModal)({userId:n,sourceAnalyticsLocations:[N.Z.URI_SCHEME]})),(0,r.jsx)(a.l_,{to:eF.Z.defaultRoute})}},{path:[e4.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){let{match:t}=e,{gameId:n,action:i}=t.params;return eJ.Z.whenInitialized(()=>{eY.Z.whenInitialized(()=>{switch(i){case"launch":{let e=eY.Z.getActiveLibraryApplication(n);if(null==e)return;e8.playApplication(e.id,e,{analyticsParams:{location:{page:e4.ZY5.DIRECT,object:e4.qAy.WEB_URL}}});break}case"test-mode":eQ.Z.whenInitialized(()=>f.Wt(n));break;case"uninstall":{let e=eY.Z.getActiveLibraryApplication(n);if(null==e)return;(0,u.W)(e.id,e.branchId,e4.Sbl.URI_SCHEME)}}})}),(0,r.jsx)(a.l_,{to:e4.Z5c.APPLICATION_LIBRARY})}},{path:[e4.Z5c.GUILD_CREATE],render:function(){return(0,X.h)(()=>D.Z.openCreateGuildModal({location:"External link"})),(0,r.jsx)(a.l_,{to:eF.Z.defaultRoute})}},{path:[e4.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){let{match:t}=e,{section:n,subsection:i}=t.params,o=(0,l.parse)(location.search).feature;return(0,X.h)(()=>er.v({section:(0,en.Z)(e4.pNK,n),subsection:(0,en.Z)(e4.KsC,i),feature:o})),(0,r.jsx)(a.l_,{to:eF.Z.defaultRoute})},isSessionRequired:!0},{path:[e4.Z5c.SETTINGS(":section",":subsection?")],render:te,isSessionRequired:!0},{path:[e4.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(ev.Hw.guildId())],render:function(e){let{match:t}=e,{guildId:i}=t.params;return(0,X.h)(()=>{(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("15076"),n.e("39672")]).then(n.bind(n,907941));return t=>{var n,l;return(0,r.jsx)(e,(n=e7({},t),l=l={guildId:i},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))}})}),(0,r.jsx)(a.l_,{to:e4.Z5c.CHANNEL(i)})},isSessionRequired:!0},{path:[e4.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){return(0,X.h)(()=>h.Z.open(e4.oAB.INVENTORY)),(0,r.jsx)(a.l_,{to:eF.Z.defaultRoute})},isSessionRequired:!0},{path:[e4.Z5c.WELCOME(ev.Hw.guildId({optional:!0}),ev.Hw.channelId({optional:!0}))],render:function(e){let{match:t}=e,{guildId:n,channelId:i}=t.params;(0,eu.c)(e5.M5.MARKETING_UNCLAIMED);let l=e4.Z5c.CHANNEL(n,i);return(0,r.jsx)(a.l_,{to:l})},isSessionRequired:!0},{path:[e4.Z5c.GUILD_EVENT_DETAILS(ev.Hw.guildId({optional:!0}),":guildEventId")],render:function(e){let{match:t}=e,{guildId:n,guildEventId:i}=t.params;return(0,X.h)(()=>{(0,ee.bO)({eventId:i})}),(0,r.jsx)(a.l_,{to:e4.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[e4.Z5c.GUILD_SETTINGS(ev.Hw.guildId(),":section?",":subsection?")],render:function(e){let{match:t}=e,{guildId:n,section:i,subsection:l}=t.params;return(0,X.h)(()=>{et.Z.open(n,(0,en.Z)(e4.pNK,i),void 0,(0,en.Z)(e4.KsC,l))}),(0,r.jsx)(a.l_,{to:e4.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[e4.Z5c.CHANNEL_THREAD_VIEW(ev.Hw.guildId(),ev.Hw.channelId(),":threadId",":messageId?"),e4.Z5c.CHANNEL(ev.Hw.guildId(),ev.Hw.channelId({optional:!0}),":messageId?"),e4.Z5c.ACTIVITY,e4.Z5c.ACTIVITIES,e4.Z5c.ACTIVITIES_HAPPENING_NOW,e4.Z5c.ACTIVITY_DETAILS(":applicationId"),e4.Z5c.APPLICATION_LIBRARY,e4.Z5c.APPLICATION_STORE,e4.Z5c.MESSAGE_REQUESTS,e4.Z5c.COLLECTIBLES_SHOP,e4.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,e4.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),e4.Z5c.GUILD_DISCOVERY,e4.Z5c.QUEST_HOME,e4.Z5c.GLOBAL_DISCOVERY,e4.Z5c.GUILD_MEMBER_VERIFICATION(ev.Hw.guildId()),e4.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(ev.Hw.guildId(),":inviteCode?"),e4.Z5c.GUILD_BOOSTING_MARKETING(ev.Hw.guildId()),e4.Z5c.GUILD_FEATURE(":feature",ev.Hw.guildId()),e4.Z5c.FEATURE(":feature"),e4.Z5c.FAMILY_CENTER],render:tn,isSessionRequired:!0,isChatRoute:!0},{path:[e4.Z5c.APPLICATION_DIRECTORY],render:tr,isSessionRequired:!0}];function to(e){for(let{path:t,isChatRoute:n}of ta){if(!n)continue;let r=(0,a.LX)(e,{path:t});if(null!=r)return r}return null}function ts(e){let{channelId:t,guildId:n,pathname:r}=e;if(!Q.Z.isConnected())return;let{location:i}=(0,eI.s1)();i.pathname===r&&(null==eH.Z.getChannel(t)?(0,eI.dL)(e4.Z5c.CHANNEL(n)):(0,eI.dL)(r))}class tc extends i.PureComponent{componentDidMount(){e1.ZP.setZoomFactor(b.Z.zoom),eC.Z.init(),P.Z.initialize(),em.Z.initialize(),W.Z.initialize(),eG.Z.initialize(),Y.Z.initialize(),e_.Z.initialize(),M.Z.initialize(),ea.Z.initialize(),_.Z.init(),q.Z.init(),K.Z.init(),ed.Z.initialize(),I.Z.initialize(),V.Z.initialize(),eO.Z.initialize(),v.ZP.initialize(),H.ZP.initialize(),eU.Z.initialize(),eg.Z.initialize(),y.Z.initialize(),ei.Z.init(),Z.Z.init(),e$.Z.init(),E.Z.initialize(),ew.Z.init(),eX.Z.init(),eD.Z.init(),ej.Z.initialize(),ex.Z.initialize(),eR.Z.initialize(),ek.Z.init(),B.Z.initialize(),O.Z.initialize(),eS.Z.initialize(),eP.Z.initialize(),ef.Z.initialize(),ep.Z.initialize(),eh.Z.initialize(),w.Z.initialize(),L.Z.initialize(),z.Z.initialize(),el.Z.init({hasModalOpen:s.$sL,openModal:()=>(0,s.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,e7({},t))})}),U.Z.init(),eo.Z.initialize(),eE.Z.initialize(),eb.Z.initialize(),k.Z.initialize(),x.Z.initialize(),A.Z.initialize(),C.Z.initialize(),this.rewriterUnlisten=ey.Z.addRouteRewriter(this.ensureChannelMatchesGuild),this.historyUnlisten=ey.Z.addRouteChangeListener(this.handleHistoryChange)}componentWillUnmount(){eC.Z.terminate(),eG.Z.terminate(),e_.Z.terminate(),em.Z.terminate(),P.Z.terminate(),v.ZP.terminate(),H.ZP.terminate(),eU.Z.terminate(),y.Z.terminate(),eO.Z.terminate(),eg.Z.terminate(),eR.Z.terminate(),E.Z.terminate(),B.Z.terminate(),eo.Z.terminate(),O.Z.terminate(),eE.Z.terminate(),eS.Z.terminate(),eP.Z.terminate(),ef.Z.terminate(),ep.Z.terminate(),eh.Z.terminate(),w.Z.terminate(),L.Z.terminate(),eb.Z.terminate(),k.Z.terminate(),F.Z.terminate(),x.Z.terminate(),A.Z.terminate(),C.Z.terminate(),z.Z.terminate(),this.historyUnlisten(),this.rewriterUnlisten()}handleHistoryChange(e,t){let{pathname:n,search:r,key:i}=e;!function(e){if(Q.Z.isConnected()||Q.Z.isTryingToConnect())return;let t=eB.default.getToken();null!=t&&null!=function(e){for(let{path:t,isSessionRequired:n}of ta){if(!n)continue;let r=(0,a.LX)(e,{path:t});if(null!=r)return r}return null}(e)&&c.Z.startSession(t)}(n),function(e,t){let n=to(e);if(null==n)return;let{guildId:r,channelId:i,messageId:o,threadId:s}=tl(n),c=(0,ev.Ss)(r),u=(0,ev.cq)(i),f=(0,ev.cq)(s),h=eq.Z.getGuildId(),g=h!==r;if(c&&g&&d.Z.selectGuild(r),c&&u){let n=eK.Z.getChannelId(h),a=n!==i;if(!e9||g||a||null!=o){e9=!0,p.default.selectChannel({guildId:r,channelId:i,messageId:o});let{summaryId:e}=(0,l.parse)(t);null!=e&&eA.ZP.setSelectedSummary(i,e)}if(null!=s&&f){let e=eV.ZP.getCurrentSidebarChannelId(n)!==s,t=null!=eV.ZP.getGuildSidebarState(r);if(null!=i&&null!=s&&e)if(t)(0,eI.dL)(e4.Z5c.CHANNEL(r,s,o));else{let e={type:eT.Ff.THREAD};null!=o&&(e.initialMessageId=o),eN.Z.openThreadAsSidebar({guildId:r,baseChannelId:i,channelId:s,details:e})}}else null==i||a||eN.Z.closeChannelSidebar(i);let c=ec.Z.getIsOpen();if(i===e3.oC.ROLE_SUBSCRIPTIONS)es.Z.closeSidebar();else if(g&&c){let t=null==h&&r===e4.ME,n=e===e4.Z5c.GUILD_DISCOVERY;t||n?es.Z.closeSidebar():es.Z.openSidebar()}else(a&&c||!g&&!a)&&es.Z.closeSidebar()}else ti.some(t=>{var n;return(null==(n=(0,a.LX)(e,t))?void 0:n.isExact)===!0})||(0,eI.dL)(eF.Z.fallbackRoute)}(n,r),(0,G.pN)(n,i,"REPLACE"===t)}ensureChannelMatchesGuild(e){if(!Q.Z.isConnected())return null;let{pathname:t}=e,n=to(t);if(null==n)return null;let{guildId:r,channelId:i,threadId:l}=tl(n),a=(0,ev.Ss)(r)&&r!==e4.ME&&r!==e4.I_8;if(null!=i&&(0,ev.cq)(i)&&!(0,e3.AB)(i)&&a){let n=eH.Z.getChannel(i);if(null==n)eZ.Z.loadThread(i).then(()=>ts({channelId:i,guildId:r,pathname:t}));else if(n.guild_id!==r&&r!==e4.STv)return{path:e4.Z5c.CHANNEL(r),state:e.state};if(null!=l){if(!((0,ev.cq)(l)&&!(0,e3.AB)(i)))return null;let n=eH.Z.getChannel(l);if(null==n)eZ.Z.loadThread(l).then(()=>ts({channelId:l,guildId:r,pathname:t}));else if((null==n?void 0:n.parent_id)!==i)return eN.Z.closeChannelSidebar(i),{path:e4.Z5c.CHANNEL(r,i),state:e.state}}}return null}render(){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),ta.map(e=>{let{path:t,render:n}=e;return(0,r.jsx)(a.AW,{path:t,render:n},t[0])}),(0,r.jsx)(a.l_,{to:"/"})]}),(0,r.jsx)(R.Z,{})]})}constructor(...e){super(...e),e6(this,"historyUnlisten",()=>{}),e6(this,"rewriterUnlisten",()=>{})}}let tu=tc},224336:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(351864);function l(){return(0,r.jsx)("div",{className:i.divider})}},237919:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(570140),u=n(287259),d=n(819640),p=n(490983),f=n(799777),h=n(5967),g=n(346329),m=n(981631),b=n(388032),_=n(108201);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){c.Z.wait(()=>u.wX(null)),document.removeEventListener("keydown",this.handleKeyDown)}reset(){u.wX(null),u.JZ("")}focusInput(){let{searchBarRef:e}=this;null!=e&&e.focus()}updateActiveRow(e){let{applicationViewItems:t,activeRowKey:n}=this.props,r=t.findIndex(e=>e.key===n),i=0;r>=0&&(i=(r+e)%t.length)<0&&(i=t.length-1);let l=t[i];u.wX(null!=l?l.key:null,!0)}render(){let{filterQuery:e}=this.props,{focused:t}=this.state;return(0,r.jsx)("div",{className:a()({[_.libraryFilter]:!0,[_.focused]:t}),children:(0,r.jsx)(s.E1j,{className:_.searchBar,ref:this.setRef,onChange:u.JZ,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),name:"filter",onClear:()=>{this.reset(),this.focusInput()},maxLength:100,query:e,placeholder:b.intl.string(b.t.aSxWSk)})})}constructor(...e){super(...e),O(this,"searchBarRef",null),O(this,"state",{focused:!1}),O(this,"setRef",e=>{this.searchBarRef=e}),O(this,"handleKeyDown",e=>{var t;let{activeRowKey:n,hasModalOpen:r,applicationViewItems:i}=this.props,{searchBarRef:l}=this;if(r||e.ctrlKey||e.altKey||e.metaKey||null==l)return;let a=null==(t=(0,h.uB)(e))?void 0:t.activeElement;if(!(a!==l.inputRef.current&&(0,h.VG)(a)))switch(e.which){case m.yXg.ESCAPE:e.target!==l.inputRef.current?this.reset():null!=l.inputRef.current&&l.blur();break;case m.yXg.ENTER:if(null!=n){e.preventDefault();let t=i.find(e=>e.key===n);if(null==t)return;let r=t.libraryApplication;g.performDefaultLibraryApplicationAction(r,{analyticsParams:{source:m.Sbl.APPLICATION_LIBRARY,location:{page:m.ZY5.LIBRARY,section:m.jXE.LIBRARY_APPLICATION_LIST,object:m.qAy.BUTTON_CTA}}})}break;case m.yXg.ARROW_DOWN:case m.yXg.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.updateActiveRow(e.which===m.yXg.ARROW_DOWN?1:-1);break;default:null!=l.inputRef.current&&e.target!==l.inputRef.current&&l.focus()}})}}function y(){let e=(0,o.e7)([d.Z],()=>d.Z.hasLayers()),t=(0,s.s9z)(s.JQI);return(0,r.jsx)(E,{activeRowKey:(0,o.e7)([f.Z],()=>f.Z.activeRowKey),hasModalOpen:t||e,filterQuery:(0,o.e7)([p.Z],()=>p.Z.applicationFilterQuery),applicationViewItems:(0,o.e7)([p.Z],()=>p.Z.sortedFilteredLibraryApplicationViewItems)})}},957657:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(481060),a=n(984370),o=n(703656),s=n(626135),c=n(804739),u=n(981631),d=n(388032),p=n(923656);let f=(0,c.Q)()||!1,h=i.memo(function(e){let{currentRoute:t,renderToolbar:n}=e,c=i.useContext(s.AnalyticsContext),h=f||t===u.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,r.jsxs)(a.Z,{className:p.libraryHeader,toolbar:null==n?void 0:n(),children:[(0,r.jsx)(a.Z.Icon,{icon:l.vqy,"aria-hidden":!0}),(0,r.jsx)(a.Z.Title,{children:d.intl.string(d.t.cw57am)}),(0,r.jsx)(a.Z.Divider,{}),(0,r.jsxs)(l.njP,{type:"top-pill",selectedItem:t,onItemSelect:function(e){var n,r;e!==t&&(0,o.uL)(e,{state:{analyticsSource:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c.location),r=r={section:u.jXE.TABS,object:u.qAy.NAVIGATION_LINK},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)}})},children:[(0,r.jsx)(l.njP.Item,{id:u.Z5c.APPLICATION_LIBRARY,children:d.intl.string(d.t.p7ARTE)}),h?(0,r.jsx)(l.njP.Item,{id:u.Z5c.APPLICATION_LIBRARY_SETTINGS,children:d.intl.string(d.t["3D5yo6"])}):null]})]})})},425369:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(843611),a=n(410575),o=n(765717),s=n(252618),c=n(108427),u=n(895991),d=n(993977),p=n(981631),f=n(388032),h=n(50089);function g(){return(0,r.jsxs)(l.rs,{children:[(0,r.jsx)(o.Z,{path:p.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,r.jsxs)(a.Z,{page:p.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,r.jsx)(s.yY,{subsection:f.intl.string(f.t["3D5yo6"])}),(0,r.jsx)(d.Z,{})]})}),(0,r.jsx)(o.Z,{path:p.Z5c.APPLICATION_LIBRARY,children:(0,r.jsxs)(a.Z,{page:p.ZY5.LIBRARY,root:!0,children:[(0,r.jsx)(s.yY,{subsection:f.intl.string(f.t.p7ARTE)}),(0,r.jsx)(u.Z,{})]})})]})}let m=i.memo(function(){return i.useEffect(()=>{(0,c.e)("application_library")},[]),(0,r.jsxs)("div",{className:h.container,children:[(0,r.jsx)(s.yY,{location:f.intl.string(f.t.cw57am)}),(0,r.jsx)(g,{})]})})},645818:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(846519),o=n(481060),s=n(293245),c=n(863969),u=n(563593),d=n(981631),p=n(388032);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=(0,o.GSL)(c.Z),g=(0,o.GSL)(u.Z),m=new Set([d.TzF.PUSHING,d.TzF.PULLING]),b=Object.freeze({[d.TzF.DONE]:h,[d.TzF.PLANNING]:h,[d.TzF.PREPARING]:h,[d.TzF.PUSHING]:o.rG2,[d.TzF.PULLING]:o._8t,[d.TzF.CONFLICT]:h,[d.TzF.ERROR]:h});class _ extends i.PureComponent{componentDidMount(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()}componentDidUpdate(e){null!=this.props.cloudSyncState&&this.props.cloudSyncState.type===d.TzF.DONE&&null!=this.props.cloudSyncState.timestamp&&(null==e.cloudSyncState||null==e.cloudSyncState.timestamp)&&this.setRecentlySyncedTimeout()}componentWillUnmount(){this._doneTimer.stop()}setRecentlySyncedTimeout(){this._doneTimer.start(2e3,()=>this.forceUpdate())}getIsRecentlySynced(){let{cloudSyncState:e}=this.props;if(null!=e&&e.type===d.TzF.DONE){let t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1}getStop(e,t){if(t)return 1;if(e.type===d.TzF.PUSHING||e.type===d.TzF.PULLING){let{progress:t,total:n}=e;return t/n}return 0}getTooltip(e,t){switch(e.type){case d.TzF.DONE:if(t)return p.intl.string(p.t.atpo0d);return p.intl.string(p.t.ZCw6zs);case d.TzF.CONFLICT:case d.TzF.ERROR:return p.intl.string(p.t.ZCw6zs);case d.TzF.PLANNING:return p.intl.string(p.t.ERQ0VF);case d.TzF.PREPARING:return p.intl.string(p.t.n5feu7);case d.TzF.PUSHING:return p.intl.string(p.t.oCBh0N);case d.TzF.PULLING:return p.intl.string(p.t.RTLNqK);default:return null}}render(){let{cloudSyncState:e,libraryApplication:t,className:n}=this.props,i=null==e?{type:d.TzF.DONE}:e,l=this.getIsRecentlySynced(),a={};(m.has(i.type)||l)&&(a.gradientConfig={id:t.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,l)});let s=l?g:b[i.type];return(0,r.jsx)(o.ua7,{text:this.getTooltip(i,l),children:e=>(0,r.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({className:n},a,e))})}constructor(...e){super(...e),f(this,"_doneTimer",new a.V7)}}let O=l.ZP.connectStores([s.Z],e=>{let{libraryApplication:t}=e;return{cloudSyncState:s.Z.getState(t.id,t.branchId)}})(_)},34305:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(325432),s=n(570928),c=n(600164),u=n(579022),d=n(391690),p=n(424218),f=n(358085),h=n(998502),g=n(388032),m=n(499126),b=n(197571);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{renderDiskUsageCircle(){let{metadata:e}=this.props;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,r.jsx)(u.Z,{total:e.totalKB,used:e.totalKB-e.availableKB}):null}renderViewing(){let e,t,{path:n,label:i,editingPath:l,isDefault:o,metadata:u}=this.props;return null!=u&&(e=null!=u.availableKB?(0,p.BU)(u.availableKB,{useKibibytes:!0}):null,t=null!=u.totalKB?(0,p.BU)(u.totalKB,{useKibibytes:!0}):null),(0,r.jsxs)(c.Z,{className:m.installationPath,align:c.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,r.jsxs)(c.Z,{direction:c.Z.Direction.VERTICAL,className:m.__invalid_descriptionWrapper,children:[(0,r.jsxs)(c.Z,{align:c.Z.Align.CENTER,children:[(0,r.jsx)(a.X6q,{className:m.rowTitle,variant:"heading-md/semibold",children:null!=i?i:d.Z.getLabelFromPath(n)}),o?(0,r.jsx)("span",{className:m.defaultIndicator,children:g.intl.string(g.t.bBvAEB)}):null]}),null!=u&&null!=e&&null!=t?(0,r.jsx)(s.Z,{className:m.rowBody,hoverText:g.intl.formatToPlainString(g.t.Fxo9e3,{available:e,total:t}),children:n}):(0,r.jsx)(a.Text,{className:m.rowBody,variant:"text-xs/normal",children:n})]}),(0,r.jsx)(a.zxk,{variant:"secondary",size:"sm",text:g.intl.string(g.t.bt75u7),disabled:null!=l,onClick:this.handleStartEditing})]})}renderEditing(){let{path:e,hasGamesInstalledInPath:t}=this.props,{label:n,isDefault:i}=this.state;return(0,r.jsx)(a.Zbd,{editable:!0,className:m.installationPathEditing,children:(0,r.jsxs)(c.Z,{children:[this.renderDiskUsageCircle(),(0,r.jsxs)(c.Z.Child,{children:[(0,r.jsx)(a.xJW,{title:g.intl.string(g.t.AJkKCA),children:(0,r.jsx)(a.oil,{value:n,placeholder:d.Z.getLabelFromPath(e),onChange:this.handleLabelChange})}),(0,r.jsx)(a.xJW,{title:g.intl.string(g.t.lnUCwc),className:b.marginTop20,children:(0,r.jsx)(a.oil,{disabled:!0,value:e})}),(0,r.jsx)(a.XZJ,{type:a.XZJ.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:m.defaultLocationCheckbox,onChange:this.handleToggleDefault,children:g.intl.string(g.t.Z2MWuL)}),(0,r.jsx)(a.$i$,{className:m.separator}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(a.zxk,{variant:"critical-secondary",size:"sm",text:g.intl.string(g.t.iBUzS0),disabled:t||this.props.isDefault,onClick:this.handleRemoveLocation}),(0,r.jsx)(c.Z,{justify:c.Z.Justify.END,children:(0,r.jsxs)(a.hE2,{children:[(0,r.jsx)(a.zxk,{variant:"secondary",size:"sm",text:g.intl.string(g.t["ETE/oK"]),onClick:this.handleStopEditing}),(0,r.jsx)(a.zxk,{variant:"active",size:"sm",text:g.intl.string(g.t.R3BPHx),disabled:e===this.props.path&&n===this.props.label&&i===this.props.isDefault,onClick:this.handleSaveChanges})]})})]})]})]})})}render(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()}constructor(...e){super(...e),_(this,"state",{label:void 0,isDefault:null}),_(this,"handleStartEditing",()=>{let{path:e,label:t,isDefault:n,onToggleEditing:r}=this.props;r(e),this.setState({label:t,isDefault:n})}),_(this,"handleStopEditing",()=>{let{onToggleEditing:e}=this.props;e(null),this.setState({label:void 0,isDefault:null})}),_(this,"handleRemoveLocation",()=>{(0,a.h7j)(e=>(0,r.jsx)(a.ConfirmModal,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},e),{header:g.intl.string(g.t.iBUzS0),confirmText:g.intl.string(g.t.iBUzS0),cancelText:g.intl.string(g.t["ETE/oK"]),onConfirm:()=>{this.handleStopEditing(),(0,o.iD)(this.props.path)},children:(0,r.jsx)(a.Text,{variant:"text-md/normal",children:g.intl.string(g.t["1XqeW1"])})})))}),_(this,"handleSaveChanges",()=>{(0,o.Tb)(this.props.path,{label:null!=this.state.label?this.state.label:this.props.label,isDefault:null!=this.state.isDefault?this.state.isDefault:this.props.isDefault}),this.handleStopEditing()}),_(this,"handleLabelChange",e=>{this.setState({label:e})}),_(this,"handleToggleDefault",()=>{this.setState({isDefault:!this.state.isDefault})})}}class E extends i.PureComponent{componentDidMount(){(0,o.ec)(this.props.installationPaths.map(e=>{let{path:t}=e;return t}))}render(){let{installationPaths:e,installationPathsMetadata:t,defaultInstallationPath:n}=this.props,{editingPath:i}=this.state;return(0,r.jsxs)(a.hjN,{className:m.wrapper,title:g.intl.string(g.t.aLszkJ),children:[e.map(e=>{let{path:l,label:a}=e;return(0,r.jsx)(O,{path:l,label:a,metadata:t[l],isDefault:n===l,editingPath:i,hasGamesInstalledInPath:d.Z.hasGamesInstalledInPath(l),onToggleEditing:this.handleToggleEditing},l)}),(0,r.jsx)("div",{className:m.buttonRowWrapper,children:(0,r.jsx)(a.zxk,{variant:"primary",size:"sm",text:g.intl.string(g.t.pnZ2ur),disabled:!f.isPlatformEmbedded,onClick:this.handleAddInstallationLocation})})]})}constructor(...e){super(...e),_(this,"state",{editingPath:null}),_(this,"handleAddInstallationLocation",()=>{h.ZP.showOpenDialog(["openDirectory"]).then(e=>{null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,o.RY)(e[0])})}),_(this,"handleToggleEditing",e=>{this.setState({editingPath:e})})}}let y=l.ZP.connectStores([d.Z],()=>({installationPaths:d.Z.installationPaths,installationPathsMetadata:d.Z.installationPathsMetadata,defaultInstallationPath:d.Z.defaultInstallationPath}))(E)},895991:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(570140),c=n(150063),u=n(274616),d=n(827837),p=n(410575),f=n(3570),h=n(237919),g=n(957657),m=n(665307),b=n(530151),_=n(981631),O=n(186901),E=n(115654);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.PureComponent{componentDidMount(){c.Y(_.Z5c.APPLICATION_LIBRARY),(0,f.T)(O.jE.LIBRARY),s.Z.wait(()=>(0,u.o)()),(0,d.N)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)}renderToolbar(){return(0,r.jsx)(h.Z,{})}render(){let{includeUpdatesInScroller:e}=this.state,t=(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{section:_.jXE.LIBRARY_INSTALL_MODULE,children:(0,r.jsx)(b.Z,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(g.Z,{currentRoute:_.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,r.jsxs)(o.yWw,{className:a()(E.container,E.scroller),ref:this._scrollerRef,children:[e?t:null,(0,r.jsx)(p.Z,{section:_.jXE.LIBRARY_APPLICATION_LIST,children:(0,r.jsx)(m.Z,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})}constructor(...e){super(...e),y(this,"_scrollerRef",i.createRef()),y(this,"_scrollToOnMount",void 0),y(this,"_scrollToPadding",0),y(this,"state",{includeUpdatesInScroller:!1}),y(this,"handleHeightTallerThanHalfViewportChange",e=>{this.setState({includeUpdatesInScroller:e})}),y(this,"scrollToRow",(e,t)=>{let n=this._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoViewRect({start:t,end:t}),this._scrollToOnMount=null):(this._scrollToOnMount=e,this._scrollToPadding=t)})}}},993977:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(58642),s=n(600164),c=n(695346),u=n(490983),d=n(626135),p=n(630388),f=n(804739),h=n(957657),g=n(34305),m=n(981631),b=n(388032),_=n(77839);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function y(e){let{applicationViewItems:t,restoreApplication:n}=e;if(0===t.length)return null;let i=t.map(e=>{let t=e.libraryApplication.getDistributor();return(0,r.jsxs)("div",{className:_.hiddenLibraryApplication,children:[(0,r.jsxs)(s.Z,{direction:s.Z.Direction.VERTICAL,className:_.hiddenLibraryApplicationContent,children:[(0,r.jsx)("div",{className:_.applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,r.jsx)("div",{className:_.applicationSubText,children:m.EOG[t]}):null]}),(0,r.jsx)(a.P3F,{className:_.restoreButton,onClick:()=>n(e.libraryApplication),children:(0,r.jsx)(a.Dio,{size:"md",color:"currentColor",className:_.restoreIcon})})]},e.key)});return(0,r.jsxs)(a.hjN,{className:_.hiddenLibraryApplications,children:[(0,r.jsx)(a.vwX,{className:_.hiddenLibraryApplicationsTitle,children:b.intl.string(b.t["5PJtrK"])}),i]})}class v extends i.PureComponent{handleToggleShortcutDesktop(e){c.Xc.updateSetting(e)}handleToggleShortcutStartMenu(e){c.Pe.updateSetting(e)}trackRestoreApplication(e,t){d.default.track(m.rMx.APPLICATION_SETTINGS_UPDATED,E({hidden_enabled:t},e.getAnalyticsData()))}renderBody(){let{hiddenLibraryApplicationViewItems:e,installShortcutDesktop:t,installShortcutStartMenu:n}=this.props;return(0,r.jsxs)("div",{className:_.body,children:[(0,f.Q)()?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a.j7V,{value:t,onChange:this.handleToggleShortcutDesktop,note:b.intl.string(b.t.vT61Nz),children:b.intl.string(b.t["9ID+Ki"])}),(0,r.jsx)(a.j7V,{value:n,onChange:this.handleToggleShortcutStartMenu,note:b.intl.string(b.t.cpYp0N),children:b.intl.string(b.t.vNpUMz)}),(0,r.jsx)(g.Z,{})]}):null,(0,r.jsx)(y,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:e})]})}render(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{currentRoute:m.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,r.jsx)(a.w0Z,{className:_.scroller,children:this.renderBody()})]})}constructor(...e){super(...e),O(this,"handleRestoreHiddenLibraryApplication",e=>{let t=p.x9(e.getFlags(),m.eHb.HIDDEN);o.h(e.id,e.branchId,t),this.trackRestoreApplication(e,p.yE(t,m.eHb.HIDDEN))})}}function I(){let e={installShortcutDesktop:c.Xc.useSetting(),installShortcutStartMenu:c.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,l.e7)([u.Z],()=>u.Z.hiddenLibraryApplicationViewItems)};return(0,r.jsx)(v,E({},e))}},665307:function(e,t,n){n.d(t,{Z:()=>B}),n(415506),n(388685);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(843611),c=n(442837),u=n(846519),d=n(477690),p=n(755721),f=n(481060),h=n(570140),g=n(239091),m=n(287259),b=n(785547),_=n(600164),O=n(167533),E=n(925329),y=n(707409),v=n(490983),I=n(799777),C=n(626135),S=n(780570),N=n(624138),T=n(645818),P=n(981631),j=n(388032),x=n(117554);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){A(e,t,n[t])})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let L=(0,N.Mg)(d.Z.GAME_LIST_ROW_MIN_HEIGHT),R=(0,N.Mg)(d.Z.GAME_LIST_LINKED_TO_GLOW_DURATION),D=Object.freeze({[P.iEv.PLATFORM]:"Platform",[P.iEv.LAST_PLAYED]:"Last Played",[P.iEv.NAME]:"Name"}),k=e=>{let{flag:t,icon:n,item:r,tooltip:l}=e,a=r.libraryApplication.hasFlag(t);return(0,i.jsx)(f.ua7,{text:l,children:e=>(0,i.jsx)(n,Z({className:o()(x.settingIcon,{[x.hidden]:!a})},e))})},M=[{key:P.iEv.NAME,renderHeader:()=>j.intl.string(j.t.dBfWfX),sort:!0,cellClassName:x.nameCell,bodyCellClassName:x.nameBodyCell,render:e=>(0,i.jsxs)(_.Z,{align:_.Z.Align.CENTER,children:[(0,i.jsx)(E.Z,{game:e.application,size:E.Z.Sizes.SMALL,className:x.gameIcon}),(0,i.jsxs)("div",{className:x.nameCellInfo,children:[(0,i.jsx)("div",{className:x.nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(P.eHb.PREMIUM)?(0,i.jsx)(f.ua7,{text:j.intl.string(j.t.tG2SzM),children:e=>(0,i.jsx)(f.SrA,Z({size:"md",color:"currentColor",className:x.nitroIcon},e))}):null]})]})},{key:P.iEv.PLATFORM,renderHeader:()=>j.intl.string(j.t.YR4cHB),sort:!0,cellClassName:x.platformCell,bodyCellClassName:x.textCell,render(e){let t=e.libraryApplication.getDistributor();return(0,i.jsx)(_.Z,{align:_.Z.Align.CENTER,children:null!=t?P.EOG[t]:j.intl.string(j.t["F+l3Ji"])})}},{key:P.iEv.LAST_PLAYED,renderHeader:()=>j.intl.string(j.t.FDDyjY),sort:!0,cellClassName:x.lastPlayedCell,bodyCellClassName:x.textCell,render(e){let t;return t=e.isRunning?j.intl.string(j.t.Md326u):e.isNew?j.intl.string(j.t["+F0Tho"]):0!==e.lastPlayed?(0,i.jsx)(y.ZP,{end:e.lastPlayed,location:y.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):j.intl.string(j.t.EoWLrq),(0,i.jsx)(_.Z,{align:_.Z.Align.CENTER,className:o()({[x.lastPlayedCellNew]:e.isNew}),children:t})}},{key:P.iEv.ACTIONS,renderHeader:()=>null,cellClassName:x.actionsCell,render(e,t,n){var r,a;if(null==t)throw Error("No cell props defined.");let s=e.key===t.activeRowKey;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:x.settingIcons,children:[(0,i.jsx)(k,{flag:P.eHb.PRIVATE,item:e,icon:f.kZF,tooltip:j.intl.string(j.t.NozAoq)}),(0,i.jsx)(k,{flag:P.eHb.OVERLAY_DISABLED,item:e,icon:f.o8v,tooltip:j.intl.string(j.t.Az9eqq)}),(0,i.jsx)(T.Z,{className:o()(x.settingIcon,{[x.hidden]:!e.supportsCloudSync}),libraryApplication:e.libraryApplication})]}),(0,S.Je)(e.libraryApplication)?(0,i.jsx)(b.Z,{analyticsListSort:(r=t.sortKey,a=t.sortDirection,"".concat(D[r]," ").concat(a===P.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:P.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?p.zx.Colors.GREEN:p.zx.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===P.apO.PLAY,size:x.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:()=>null!=t&&t.setActiveRowKey(e),onDropdownClose:()=>null!=t&&t.clearActiveRowKey()}):(0,i.jsx)("div",{children:"deprecated!"})]})}}],U=e=>{var{item:t,activeRowKey:n,highlightedApplicationKey:r,onMouseEnter:l,onMouseLeave:a,onContextMenu:s,setRef:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]);let d=t.key===n,p=t.key===r;return(0,i.jsx)("div",{className:o()({[x.rowWrapperActive]:d&&!p,[x.rowWrapperGlow]:p,[x.rowWrapper]:!d&&!p,[x.rowWrapperDim]:!d&&!t.isLaunchable}),ref:e=>{c(e,t.key)},onMouseEnter:()=>l(t),onMouseLeave:a,onContextMenu:e=>s(e,t),children:(0,i.jsx)("div",Z({},u))})};class G extends(r=l.PureComponent){componentDidMount(){let{fetched:e}=this.props;e&&(this.handleHighlightedApplicationKey(),this.trackViewed())}componentWillUnmount(){this._didUnmount=!0}componentDidUpdate(e){!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());let t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){let e=this._rowRefs[t];null!=e&&(h.Z.wait(g.Zy),this.props.scrollToRow(e,L))}}handleHighlightedApplicationKey(){let{highlightedApplicationKey:e}=this.state;null!=e&&null!=this._rowRefs[e]&&(this.props.scrollToRow(this._rowRefs[e],L),new u.V7().start(R,()=>{this._didUnmount||this.setState({highlightedApplicationKey:null})}))}trackViewed(){let e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},{analyticsContext:t,applicationViewItems:n}=this.props;for(let t of n){switch(t.libraryApplication.getDistributor()){case P.GQo.DISCORD:e.num_applications_discord++;break;case P.GQo.STEAM:e.num_applications_steam++;break;case P.GQo.BATTLENET:e.num_applications_battlenet++;break;case P.GQo.TWITCH:e.num_applications_twitch++;break;case P.GQo.UPLAY:e.num_applications_uplay++;break;case P.GQo.ORIGIN:e.num_applications_origin++;break;case P.GQo.GOG:e.num_applications_gog++;break;case P.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}C.default.track(P.rMx.LIBRARY_VIEWED,w(Z({},e),{load_id:t.loadId}))}handleSort(e,t){m.fS(e,t)}renderImportHelp(){let e,{applicationViewItems:t,filterQuery:n}=this.props,r=t.length>0;return r?null:(e=""!==n?j.intl.format(j.t["4Q1TAg"],{query:n}):j.intl.string(j.t["0Y+0PT"]),(0,i.jsxs)("div",{className:r?x.emptyStateSmall:x.emptyStateLarge,children:[(0,i.jsx)("div",{className:x.emptyWumpus}),(0,i.jsx)(_.Z,{grow:0,shrink:+!!r,direction:_.Z.Direction.VERTICAL,children:(0,i.jsxs)("div",{className:x.emptyStateText,children:[(0,i.jsx)("div",{className:x.emptyStateHeader,children:j.intl.string(j.t.Lw8X2t)}),(0,i.jsx)("div",{className:x.emptyStateDescription,children:e})]})})]}))}render(){let{sortKey:e,sortDirection:t,applicationViewItems:n,activeRowKey:r,stickyHeader:a}=this.props,{overflowMenuRowKey:o,highlightedApplicationKey:s}=this.state;return(0,i.jsxs)(l.Fragment,{children:[n.length>0?(0,i.jsx)(O.Z,{columns:M,data:n,sortData:!1,rowComponent:U,className:x.table,headerClassName:a?x.stickyHeader:x.header,headerCellClassName:x.headerCell,sortedHeaderCellClassName:x.headerCellSorted,bodyCellClassName:x.bodyCell,rowClassName:x.row,sortKey:e,sortDirection:t,stickyHeader:a,rowProps:{activeRowKey:null!=o?o:r,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=o?o:r,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:e,sortDirection:t},onSort:this.handleSort}):null,this.renderImportHelp()]})}constructor(...e){super(...e),A(this,"_didUnmount",!1),A(this,"_rowRefs",{}),A(this,"state",{overflowMenuRowKey:null,highlightedApplicationKey:null!=this.props.location.state?this.props.location.state.applicationId:null}),A(this,"setActiveRowKey",e=>{this.setState({overflowMenuRowKey:e.key})}),A(this,"clearActiveRowKey",()=>{this._didUnmount||this.setState({overflowMenuRowKey:null})}),A(this,"handleRowMouseEnter",e=>{this.props.isNavigatingByKeyboard||m.wX(e.key)}),A(this,"handleRowMouseLeave",()=>{this.props.isNavigatingByKeyboard||m.wX(null)}),A(this,"setRowRef",(e,t)=>{this._rowRefs[t]=e}),A(this,"handleApplicationContextMenu",(e,t)=>{this.setActiveRowKey(t);let{analyticsContext:r}=this.props;(0,g.jW)(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,i.jsx)(e,w(Z({},n),{applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:r}))},{onClose:this.clearActiveRowKey})})}}function B(e){let t=l.useContext(C.AnalyticsContext),n=(0,s.TH)(),{applicationViewItems:r,filterQuery:a,fetched:o}=(0,c.cj)([v.Z],()=>({applicationViewItems:v.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:v.Z.applicationFilterQuery,fetched:v.Z.hasFetchedApplications})),{sortKey:u,sortDirection:d,activeRowKey:p,isNavigatingByKeyboard:f}=(0,c.cj)([I.Z],()=>({sortKey:I.Z.sortKey,sortDirection:I.Z.sortDirection,activeRowKey:I.Z.activeRowKey,isNavigatingByKeyboard:I.Z.isNavigatingByKeyboard}));return(0,i.jsx)(G,w(Z({},e),{analyticsContext:t,location:n,applicationViewItems:r,filterQuery:a,fetched:o,sortKey:u,sortDirection:d,activeRowKey:p,isNavigatingByKeyboard:f}))}A(G,"defaultProps",{stickyHeader:!1})},86826:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(44315),o=n(600164),s=n(120998),c=n(353042),u=n(388032),d=n(496034);let p=function(e){var t;let{title:n,className:i,color:p,animate:f,gradientStopColor:h,getHistoricalTotalBytes:g}=e,m=(0,a.Sl)(p).hex,b=null==(t=(0,a.Sl)(h))?void 0:t.hex;return(0,r.jsx)(c.Z,{getHistoricalTotalBytes:g,children:(e,t,a)=>{var c;return(0,r.jsx)("div",{className:l()(d.monitor,i),children:(0,r.jsxs)(o.Z,{align:o.Z.Align.CENTER,children:[(0,r.jsxs)(o.Z,{className:d.text,direction:o.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:d.title,children:n}),(0,r.jsx)("div",{className:d.rate,children:(c=e[e.length-1]/t*1e3)>1e3?u.intl.formatToPlainString(u.t["WU+gTU"],{size:Math.round(c/1e3)}):u.intl.formatToPlainString(u.t.wnF6TE,{size:Math.round(c)})})]}),(0,r.jsx)("div",{className:d.overflowContainer,children:(0,r.jsx)(s.Z,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.sparkChart,updateInterval:t,color:m,gradientStopColor:b,numUpdatesToShow:a,animate:f,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})})}})}},530151:function(e,t,n){n.d(t,{Z:()=>ee}),n(415506),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(692547),d=n(780384),p=n(755721),f=n(481060),h=n(570140),g=n(239091),m=n(51025),b=n(785547),_=n(730749),O=n(112724),E=n(812206),y=n(44315),v=n(600164),I=n(167533),C=n(925329),S=n(707409),N=n(210887),T=n(283595),P=n(417363),j=n(941128),x=n(451478),A=n(424218),Z=n(780570),w=n(353042),L=n(86826),R=n(981631),D=n(388032),k=n(248241);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let U=e=>{let{className:t,children:n,onContextMenu:i,item:l}=e;return(0,r.jsx)("div",{className:t,onContextMenu:e=>i(e,l),children:n})},G=[u.Z.unsafe_rawColors.BLUE_345.css,u.Z.colors.INTERACTIVE_NORMAL.css],B=e=>{let{tooltip:t,onClick:n,icon:i}=e;return(0,r.jsx)(f.ua7,{text:t,children:e=>{let{onMouseEnter:l,onMouseLeave:a}=e;return(0,r.jsx)(p.zx,{"aria-label":t,className:k.actionButton,innerClassName:k.actionButtonContents,color:p.zx.Colors.PRIMARY,size:p.zx.Sizes.ICON,onClick:n,onMouseEnter:l,onMouseLeave:a,children:(0,r.jsx)(i,{className:k.actionIcon})})}})};function V(e,t){switch(t){case R.f07.POST_INSTALL_SCRIPTS:case R.f07.PLANNING:case R.f07.FINALIZING:case R.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,A.BU)(e,{useKibibytes:!0})}}let H={[R.vxO.INSTALLING]:{[S.J6.NONE]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.MINUTES]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.HOURS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:r})},[R.vxO.UPDATING]:{[S.J6.NONE]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.JsqXXF,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t["3BvVeX"],{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.MINUTES]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.rwULn5,{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.HOURS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.adcitL,{percent:e,progress:t,total:n,timeRemaining:r})},[R.vxO.REPAIRING]:{[S.J6.NONE]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[S.J6.SECONDS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.MINUTES]:(e,t,n,r)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:r}),[S.J6.HOURS]:(e,t,n,r)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:r})}};function F(e,t,n,r,i){let l=H[t],a=null!=l?Object.keys(l):[],{unit:o,time:s}=(0,S.CI)(null!=e?e/60:null,a);if(null!=l&&null!=o){let e=l[o];return null!=e?e(n,r,i,s):null}return null}function z(e){let{type:t,stage:n,percent:r,progress:i,total:l,secondsRemaining:a}=e,o=V(l,n),s=V(i,n);switch(n){case R.f07.QUEUED:if(0===i)return D.intl.string(D.t.RpfBqa);return D.intl.formatToPlainString(D.t.uNjCXV,{percent:r,progress:s,total:o});case R.f07.PLANNING:return D.intl.formatToPlainString(D.t.sfuCUV,{percent:r});case R.f07.ALLOCATING_DISK:return D.intl.formatToPlainString(D.t.XigoJy,{percent:r});case R.f07.PATCHING:return F(a,t,r,s,o);case R.f07.FINALIZING:return D.intl.formatToPlainString(D.t["6PHDUF"],{percent:r});case R.f07.PAUSING:return D.intl.formatToPlainString(D.t.vjxhWl,{percent:r,progress:s,total:o});case R.f07.VERIFYING:return D.intl.formatToPlainString(D.t.bbilvr,{percent:r,progress:s,total:o});case R.f07.POST_INSTALL_SCRIPTS:return D.intl.formatToPlainString(D.t.c5vRUl,{percent:r,progress:s,total:o});case R.f07.REPAIRING:if(t===R.vxO.REPAIRING)return F(a,t,r,s,o);return D.intl.formatToPlainString(D.t.OCzETU,{percent:r,progress:s,total:o})}throw Error("Invalid Dispatch stage")}class W extends i.PureComponent{get isFocused(){let{cellProps:e}=this.props;return null!=e&&e.isFocused}renderBody(e){let{percent:t,foregroundColor:n,foregroundGradientColor:i,message:l}=e;return(0,r.jsxs)(v.Z,{direction:v.Z.Direction.VERTICAL,children:[(0,r.jsx)(f.Exd,{percent:t,size:f.Exd.Sizes.SMALL,foregroundColor:(0,y.Lq)(n),foregroundGradientColor:null!=i?[(0,y.Lq)(i[0]),(0,y.Lq)(i[1])]:void 0,animate:this.isFocused}),(0,r.jsx)("div",{className:k.progressCellText,children:null!=l?l:""})]})}renderStackedProgress(e){let{percents:t,message:n}=e;return(0,r.jsxs)(v.Z,{direction:v.Z.Direction.VERTICAL,children:[(0,r.jsx)(f.yGy,{percents:t,size:f.yGy.Sizes.SMALL,foregroundColors:G,animate:this.isFocused}),(0,r.jsx)("div",{className:k.progressCellText,children:null!=n?n:""})]})}renderFinished(){let{item:e}=this.props;return this.renderBody({message:D.intl.format(D.t.z1oxGB,{remove:()=>m.wi(e.applicationId,e.branchId)}),foregroundColor:(0,d.ap)(e.theme)?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,percent:100})}renderQueued(){let e,t,{item:{state:n,theme:r}}=this.props;if(null!=n){let{progress:r,total:i,stage:l}=n;if(null!=r&&null!=i){let n=V(i,l),a=V(r,l),o=Math.floor(t=Z.xI(r,i));e=l===R.f07.PAUSING?D.intl.formatToPlainString(D.t.vjxhWl,{percent:o,progress:a,total:n}):D.intl.formatToPlainString(D.t.voT3Bg,{percent:o,progress:a,total:n})}}return(null==t||null==e)&&(t=0,e=D.intl.string(D.t["qS+iKS"])),this.renderBody({percent:t,foregroundColor:(0,d.ap)(r)?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,message:e})}renderPaused(){let{item:{state:e,theme:t}}=this.props;if(null==e)return null;let{progress:n,total:r}=e;if(null==n||null==r)return null;let i=Z.xI(n,r),l=Math.floor(i),a=0===n&&1===r?D.intl.string(D.t["+pfsFR"]):D.intl.formatToPlainString(D.t["+feX8f"],{percent:l,progress:(0,A.BU)(n),total:(0,A.BU)(r)});return this.renderBody({message:a,foregroundColor:(0,d.ap)(t)?R.Ilk.PRIMARY_300:R.Ilk.PRIMARY_500,percent:i})}renderProgressPatching(){return(0,r.jsx)(w.Z,{getHistoricalTotalBytes:P.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})}renderProgressDefault(){let{state:e}=this.props.item;if(null==e)return null;let{total:t,progress:n,stage:r,type:i}=e;if(null==t||null==n||null==r)return null;let l=Z.xI(n,t),a=Math.floor(l);return this.renderBody({percent:l,message:z({type:i,stage:r,percent:a,progress:n,total:t}),foregroundColor:R.Ilk.BLUE_345})}renderProgress(){let{state:e}=this.props.item;switch(null!=e?e.stage:null){case R.f07.PATCHING:case R.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}}render(){let{item:e,cellProps:t}=this.props;if(e.finished)return this.renderFinished();if(e.index>0)return this.renderQueued();if(null!=e.state&&(e.state.type===R.vxO.UPDATING||e.state.type===R.vxO.REPAIRING||e.state.type===R.vxO.INSTALLING))if(null!=t&&t.paused)return this.renderPaused();else return this.renderProgress();return null}constructor(...e){super(...e),M(this,"renderProgressPatchingBody",(e,t)=>{let{item:{state:n}}=this.props;if(null==n)return null;let{stage:r,progress:i,total:l,type:a,readerProgress:o}=n;if(null==i||null==l||null==r)return null;let s=Z.xI(i,l),c=Z.xI(null!=o?o:0,l),u=e[e.length-1]/t*1e3,d=l-i,p=z({type:a,stage:r,percent:Math.floor(s),progress:i,total:l,secondsRemaining:0!==u?Math.max(1,d/u):null});return this.renderStackedProgress({percents:[s,c],message:p})})}}let Y=()=>(0,r.jsx)(B,{icon:f.o1U,tooltip:D.intl.string(D.t.YGm6SU),onClick:()=>m.v4()}),K=()=>(0,r.jsx)(B,{icon:f.fpf,tooltip:D.intl.string(D.t.TVAd5O),onClick:()=>m.wO()}),q=e=>{let{item:t}=e;return(0,r.jsx)(B,{icon:f.wj7,tooltip:D.intl.string(D.t["Eqb+LC"]),onClick:()=>m.A1(t.applicationId,t.branchId)})},Q=e=>{let{item:t}=e;return(0,r.jsx)(B,{icon:f.Dio,tooltip:D.intl.string(D.t["0lFmCw"]),onClick:()=>m.al(t.applicationId,t.branchId)})},X=[{key:"name",cellClassName:k.nameCell,render:e=>(0,r.jsxs)(v.Z,{align:v.Z.Align.CENTER,children:[(0,r.jsx)(C.Z,{game:e.application,className:k.__invalid_gameIcon,size:C.Z.Sizes.SMALL}),(0,r.jsx)("div",{className:k.nameCellText,children:e.application.name})]})},{key:"progress",cellClassName:k.progressCell,headerCellClassName:k.progressCellHeader,bodyCellClassName:k.progressCellBody,render:(e,t)=>(0,r.jsx)(W,{item:e,cellProps:t})},{key:"actions",cellClassName:k.actionsCell,render(e,t){let n,i;return e.finished?n=null!=e.libraryApplication?(0,r.jsx)(b.Z,{libraryApplication:e.libraryApplication,size:p.zx.Sizes.SMALL,className:k.gameActionButton,source:R.Sbl.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==R.vxO.UP_TO_DATE&&(n=e.index>0?(0,r.jsx)(q,{item:e}):null!=t&&t.paused?(0,r.jsx)(Y,{}):(0,r.jsx)(K,{item:e}),i=(0,r.jsx)(Q,{item:e})):i=(0,r.jsx)(Q,{item:e}),(0,r.jsxs)(v.Z,{justify:v.Z.Justify.END,children:[n,i]})}}];class J extends i.PureComponent{componentDidMount(){window.addEventListener("resize",this.throttledUpdateHeight)}componentDidUpdate(e){this.props.height!==e.height&&this.throttledUpdateHeight()}componentWillUnmount(){let{applications:e}=this.props;e.forEach(e=>{e.finished&&h.Z.wait(()=>{m.wi(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0}render(){let{applications:e,paused:t,isFocused:i,theme:l,analyticsContext:o}=this.props;return 0===e.length?null:(0,r.jsxs)("div",{className:k.gameUpdates,children:[(0,r.jsxs)("div",{className:k.headerRow,children:[(0,r.jsx)(L.Z,{className:a()(k.headerCell,k.networkProgress),title:D.intl.string(D.t.ytoXKi),getHistoricalTotalBytes:P.Z.getHistoricalTotalBytesDownloaded,color:R.Ilk.GREEN_360,animate:i}),(0,r.jsx)(L.Z,{className:a()(k.headerCell,k.diskProgress),title:D.intl.string(D.t.SjohhI),getHistoricalTotalBytes:P.Z.getHistoricalTotalBytesWritten,color:R.Ilk.BLUE_345,animate:i})]}),(0,r.jsx)(I.Z,{hasHeader:!1,columns:X,data:e,className:k.table,rowClassName:k.row,rowComponent:U,cellProps:{paused:t,isFocused:i,theme:l},rowProps:{onContextMenu:(e,t)=>{g.jW(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){M(e,t,n[t])})}return e}({},n),l=l={applicationId:t.applicationId,branchId:t.branchId,analyticsContext:o},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},bodyCellClassName:k.cell})]})}constructor(...e){super(...e),M(this,"isUnmounted",!1),M(this,"isTallerThanHalfViewport",!1),M(this,"throttledUpdateHeight",s().throttle(()=>{if(this.isUnmounted)return;let{height:e,onHeightTallerThanHalfViewportChange:t}=this.props,n=e>window.innerHeight/2;this.isTallerThanHalfViewport!==n&&(this.isTallerThanHalfViewport=n,t(n))},1e3))}}function $(e,t,n,r){return e.reduce((e,i,l)=>{let{applicationId:a,branchId:o}=i,s=n.getApplication(a),c=r.getState(a,o);return null!=s&&e.push({key:"".concat(a,":").concat(o),applicationId:a,branchId:o,state:c,application:s,libraryApplication:T.Z.getLibraryApplication(a,o),finished:t,index:l}),e},[])}let ee=(0,O.Z)(c.ZP.connectStores([E.Z,P.Z,j.Z,N.Z,x.Z],()=>({applications:[...$(j.Z.activeItems,!1,E.Z,P.Z),...$(j.Z.finishedItems,!0,E.Z,P.Z)],paused:j.Z.paused,isFocused:x.Z.isFocused(),theme:N.Z.theme}))((0,_.Z)(J)))},689796:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(77878),a=n(770146),o=n(600164),s=n(981631),c=n(388032),u=n(315208);class d extends i.PureComponent{renderContentRatingImage(){let{contentRating:e,contentRatingAgency:t}=this.props.sku;return null==e||null==t?null:(0,r.jsx)(l.Z,{className:u.rating,agency:t,rating:e.rating})}render(){let{sku:{contentRating:e,contentRatingAgency:t},className:n}=this.props;if(null==e||null==t)return null;let i={[s.aIt.ESRB]:{1:c.intl.string(c.t.ErVezc),2:c.intl.string(c.t.xLyerK),3:c.intl.string(c.t.UmB6j4),4:c.intl.string(c.t.NHOQIy),5:c.intl.string(c.t.U6xTOz),6:c.intl.string(c.t["51xJIy"]),7:c.intl.string(c.t.uayp6u),8:c.intl.string(c.t.c1GtKi),9:c.intl.string(c.t.Hz8vra),10:c.intl.string(c.t.qSyzdX),11:c.intl.string(c.t.K68q8f),12:c.intl.string(c.t.Yb0n6O),13:c.intl.string(c.t.IIFZqq),14:c.intl.string(c.t["NZ/JGR"]),15:c.intl.string(c.t["5qETTU"]),16:c.intl.string(c.t.kJGLz8),17:c.intl.string(c.t.cB2QRE),18:c.intl.string(c.t.g9SiEx),19:c.intl.string(c.t["Xe0T5+"]),20:c.intl.string(c.t["4k6sY2"]),21:c.intl.string(c.t.cxFiDA),22:c.intl.string(c.t.YvpQKy),23:c.intl.string(c.t.i2gbpa),24:c.intl.string(c.t["LooT/f"]),25:c.intl.string(c.t["/AIXho"]),26:c.intl.string(c.t.oo09Hx),27:c.intl.string(c.t.XCUBe3),28:c.intl.string(c.t.g6dipa),29:c.intl.string(c.t.YYGUqq),30:c.intl.string(c.t.WsqFnJ),31:c.intl.string(c.t.zePEoq),32:c.intl.string(c.t.bGErw8),33:c.intl.string(c.t["imoY9/"]),34:c.intl.string(c.t["Z+VBdn"]),35:c.intl.string(c.t.eBgo0N),36:c.intl.string(c.t["6SVTt7"]),37:c.intl.string(c.t["8Lme6e"]),38:c.intl.string(c.t.ettX4O),39:c.intl.string(c.t.nnVZFx),40:c.intl.string(c.t.TWlbXl),41:c.intl.string(c.t.CAGgEx),42:c.intl.string(c.t["jRZf+f"]),43:c.intl.string(c.t["4Vg0mp"])},[s.aIt.PEGI]:{1:c.intl.string(c.t.VcO2U1),2:c.intl.string(c.t["wt264+"]),3:c.intl.string(c.t["5yzEJS"]),4:c.intl.string(c.t.NBQZX1),5:c.intl.string(c.t["4UG90d"]),6:c.intl.string(c.t.Cf5CtL),7:c.intl.string(c.t.ai9C3d)}},l=e.descriptors.map(e=>i[t][e]).join(", ");return(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)(a.Z,{children:c.intl.string(c.t.q9Zqgo)}),(0,r.jsxs)(o.Z,{className:u.content,children:[this.renderContentRatingImage(),(0,r.jsx)("div",{className:u.__invalid_info,children:l})]})]})}}let p=d},506648:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(481060),a=n(770146),o=n(863969),s=n(38761),c=n(6074),u=n(39377),d=n(981631),p=n(388032),f=n(126373);let h=[{feature:d.Qa3.SINGLE_PLAYER,getText:()=>p.intl.string(p.t["V+/FjI"]),getTooltip:()=>p.intl.string(p.t["w+X9sb"]),IconComponent:l.tBG},{feature:d.Qa3.LOCAL_MULTIPLAYER,getText:()=>p.intl.string(p.t.srnWrq),getTooltip:()=>p.intl.string(p.t.sDdLWF),IconComponent:l.BFJ},{feature:d.Qa3.ONLINE_MULTIPLAYER,getText:()=>p.intl.string(p.t.xPHbgI),getTooltip:()=>p.intl.string(p.t.g6kR4O),IconComponent:l.BFJ},{feature:d.Qa3.PVP,getText:()=>p.intl.string(p.t.qhgwx8),getTooltip:()=>p.intl.string(p.t["5jGrhI"]),IconComponent:l.HI3},{feature:d.Qa3.LOCAL_COOP,getText:()=>p.intl.string(p.t.FqbalJ),getTooltip:()=>p.intl.string(p.t.vIgDgY),IconComponent:l.BFJ},{feature:d.Qa3.ONLINE_COOP,getText:()=>p.intl.string(p.t.lDHO4e),getTooltip:()=>p.intl.string(p.t.VXDpho),IconComponent:l.BFJ},{feature:d.Qa3.CROSS_PLATFORM,getText:()=>p.intl.string(p.t.SWo2HR),getTooltip:()=>p.intl.string(p.t.ll2wzc),IconComponent:l.DuK},{feature:d.Qa3.RICH_PRESENCE,getText:()=>p.intl.string(p.t.PVSVtL),getTooltip:()=>p.intl.string(p.t.O6Yp4e),IconComponent:c.Z},{feature:d.Qa3.DISCORD_GAME_INVITES,getText:()=>p.intl.string(p.t.agm68P),getTooltip:()=>p.intl.string(p.t.kS2vFB),IconComponent:s.Z},{feature:d.Qa3.SPECTATOR_MODE,getText:()=>p.intl.string(p.t["ZtiU7+"]),getTooltip:()=>p.intl.string(p.t.kUtiKS),IconComponent:l.Odl},{feature:d.Qa3.CONTROLLER_SUPPORT,getText:()=>p.intl.string(p.t.UlBQ8P),getTooltip:()=>p.intl.string(p.t.iG00jI),IconComponent:l.xoD},{feature:d.Qa3.CLOUD_SAVES,getText:()=>p.intl.string(p.t.rOcNrK),getTooltip:()=>p.intl.string(p.t.kvw18P),IconComponent:o.Z},{feature:d.Qa3.SECURE_NETWORKING,getText:()=>p.intl.string(p.t.GKFWLy),getTooltip:()=>p.intl.string(p.t.VudViI),IconComponent:u.Z}],g=e=>{let{IconComponent:t,text:n,tooltip:i}=e;return(0,r.jsxs)("div",{className:f.row,children:[(0,r.jsx)(l.ua7,{text:i,children:e=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:f.featureIcon},e))}),(0,r.jsx)("span",{className:f.featureText,children:n}),(0,r.jsx)(l.dz2,{size:"md",color:"currentColor",className:f.checkmarkIcon})]})};class m extends i.PureComponent{render(){let{sku:e}=this.props,t=h.filter(t=>{let{feature:n}=t;return e.features.has(n)}).map(e=>{let{feature:t,IconComponent:n,getText:i,getTooltip:l}=e;return(0,r.jsx)(g,{IconComponent:n,text:i(),tooltip:l()},t)});return 0===t.length?null:(0,r.jsxs)("div",{className:f.features,children:[(0,r.jsx)(a.Z,{children:p.intl.string(p.t.XXENra)}),t]})}}let b=m},449275:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288),i=n(647438),l=n(770146),a=n(388032),o=n(419295);class s extends i.PureComponent{render(){let{className:e,sku:t}=this.props;return null==t.legalNotice?null:(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)(l.Z,{children:a.intl.string(a.t.m8OiMj)}),(0,r.jsx)("div",{className:o.content,children:t.legalNotice})]})}}let c=s},733789:function(e,t,n){n.d(t,{Z:()=>E}),n(953529),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(100527),c=n(707409),u=n(670188),d=n(237583),p=n(51144),f=n(981631),h=n(388032),g=n(157684);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}let _={[f.AzA.NOW_PLAYING]:{single:(e,t)=>h.intl.format(h.t.NEckzc,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>h.intl.format(h.t["6uWulZ"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>h.intl.format(h.t["8fMgRU"],{count:e})},[f.AzA.RECENTLY_PLAYED]:{single:(e,t)=>h.intl.format(h.t["nB/JND"],{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>h.intl.format(h.t.AZCcHR,{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>h.intl.format(h.t.yNuaTU,{count:e})},[f.AzA.EVER_PLAYED]:{single:(e,t)=>h.intl.format(h.t.Fecf3N,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>h.intl.format(h.t["0LiGbG"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>h.intl.format(h.t.Yx1rjY,{count:e})}};class O extends i.PureComponent{renderDescription(e,t){let n=_[e];return 1===t.length?n.single(t[0].user,e=>this.renderActivityDiscordTag(e)):2===t.length?n.double(t[0].user,t[1].user,e=>this.renderActivityDiscordTag(e)):n.other(t.length)}renderActivityDiscordTag(e){return(0,r.jsx)(u.Z,{targetElementRef:this.activityDiscordTagRef,user:e,newAnalyticsLocations:[s.Z.USERNAME],clickTrap:!0,children:t=>{var n,i;return(0,r.jsx)("span",(n=b({ref:this.activityDiscordTagRef,className:g.username},t),i=i={children:e.username},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},e.id)}render(){let{reason:e,className:t}=this.props,{type:n,userInfo:i}=e;return 0===i.length?null:(0,r.jsxs)("div",{className:a()(g.recommendationActivity,t),children:[(0,r.jsx)(d.Z,{className:g.players,users:i.map(e=>{let{user:t}=e;return t}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),(0,r.jsx)("div",{className:g.description,children:this.renderDescription(n,i)})]})}constructor(...e){super(...e),m(this,"activityDiscordTagRef",i.createRef()),m(this,"playerAvatarRef",i.createRef()),m(this,"renderUserTooltip",(e,t,n)=>(0,r.jsxs)("div",{className:g.tooltip,children:[(0,r.jsx)("div",{children:p.ZP.getUserTag(e)}),(0,r.jsx)(c.ZP,{className:g.tooltipTimestamp,start:t,end:n,location:c.ZP.Locations.ACTIVITY_FEED})]})),m(this,"renderPlayer",(e,t,n,i)=>{if(null==e)return null;let l=this.props.reason.userInfo.find(t=>t.user===e);return null==l?null:(0,r.jsx)(u.Z,{targetElementRef:this.playerAvatarRef,user:e,newAnalyticsLocations:[s.Z.AVATAR],clickTrap:!0,children:t=>(0,r.jsx)(o.ua7,{text:this.renderUserTooltip(e,l.startTime,l.endTime),"aria-label":(0,p.W5)(e,{decoration:"never"}),children:n=>(0,r.jsx)(o.qEK,b({ref:this.playerAvatarRef,className:a()(g.playerAvatar,{[g.avatarMasked]:!i}),src:e.getAvatarURL(void 0,32),"aria-label":e.username,size:o.EFr.SIZE_32},n,t))})},e.id)}),m(this,"renderPlayerOverflow",(e,t,n)=>(0,r.jsx)("div",{className:g.playerOverflow,children:e},n))}}let E=O},4962:function(e,t,n){n.d(t,{Z:()=>m}),n(415506);var r,i=n(951288);n(647438);var l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(700582),u=n(451478),d=n(388032),p=n(113520),f=((r=f||{})[r.STAFF_NOTES=1]="STAFF_NOTES",r);let h=o.ZP.connectStores([u.Z],()=>({animate:u.Z.isFocused()}))(e=>{let{user:t,className:n,animate:r}=e;return(0,i.jsxs)("div",{className:a()(p.staffReviewHeader,n),children:[(0,i.jsx)(c.Z,{size:s.EFr.SIZE_32,user:t,animate:r}),(0,i.jsxs)("div",{className:p.headerText,children:[(0,i.jsx)("div",{className:p.label,children:d.intl.string(d.t.vmzMZG)}),(0,i.jsx)("div",{className:p.username,children:t.username})]})]})}),g=e=>{let{data:t,className:n}=e;if(1===t.type){if(null==t.staffNotes)return null;let{user:e,content:r}=t.staffNotes;return null==e?null:(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(h,{user:e,className:p.header}),(0,i.jsx)("div",{className:p.notes,children:r})]})}throw Error("Unknown type")};g.Types=f;let m=g},911314:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(843611),l=n(730749),a=n(928207),o=n(981631);let s=(0,l.Z)(function(){return(0,r.jsxs)(i.rs,{children:[(0,r.jsx)(i.AW,{path:o.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,r.jsx)(a.Z,{})}),(0,r.jsx)(i.l_,{to:o.Z5c.APP})]})})},928207:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288);n(647438);var i=n(843611),l=n(442837),a=n(481060),o=n(730749),s=n(666743),c=n(100527),u=n(906732),d=n(600164),p=n(299657),f=n(594174),h=n(632257),g=n(981631),m=n(474936),b=n(125321);let _=l.ZP.connectStores([f.default],()=>({user:f.default.getCurrentUser()}))((0,s.Z)((0,o.Z)(e=>{let{isAuthenticated:t,user:n}=e,{analyticsLocations:l}=(0,u.ZP)(c.Z.HOME_PAGE_PREMIUM_TAB);return t?(0,r.jsxs)("div",{className:b.homeWrapperNormal,children:[null==n&&(0,r.jsx)(h.Z,{}),(0,r.jsx)(u.Gt,{value:l,children:null==n?(0,r.jsx)(d.Z,{align:d.Z.Align.CENTER,justify:d.Z.Justify.CENTER,children:(0,r.jsx)(a.$jN,{className:b.spinner})}):(0,r.jsx)(p.Z,{entrypoint:m.EZ.ApplicationStoreHome})})]}):(0,r.jsx)(i.l_,{to:g.Z5c.LOGIN})})))},613311:function(e,t,n){n.d(t,{Z:()=>ef}),n(415506),n(953529),n(539854),n(290780),n(388685),n(997841);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(846519),c=n(780384),u=n(755721),d=n(481060),p=n(570140),f=n(659429),h=n(496929),g=n(558381),m=n(410575),b=n(224336),_=n(730749),O=n(666743),E=n(115130),y=n(812206),v=n(770146),I=n(600164),C=n(606081),S=n(252618),N=n(100159),T=n(646288),P=n(984370),j=n(706454),x=n(210887),A=n(430824),Z=n(496675),w=n(525395),L=n(558314),R=n(580130),D=n(55563),k=n(551428),M=n(695103),U=n(451478),G=n(626135),B=n(572004),V=n(630388),H=n(937615),F=n(73346),z=n(3570),W=n(689796),Y=n(15470),K=n(506648),q=n(449275),Q=n(445986),X=n(119520),J=n(450233),$=n(726581),ee=n(74153),et=n(125930),en=n(178071),er=n(176055),ei=n(843445),el=n(981631),ea=n(186901),eo=n(388032),es=n(980678);function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ec(e,t,n[t])})}return e}function ed(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class ep extends i.PureComponent{get isChannelType(){return null!=this.props.channel}componentDidMount(){let{sku:e,storeListing:t,isFetchingEntitlements:n,shouldFetchStatistics:r,didFetchEntitlements:i,location:l,fetchStoreListing:a}=this.props;if(null!=l.state){let{analyticsSource:e,analyticsProperties:t}=l.state;this._analyticsSource=e,this._extraAnalyticsProperties=t}else this._analyticsSource=el.SaU;(null==t||t.isSlimDirectoryVersion())&&a(),null!=e&&(n||i||(0,h.yD)(e.applicationId),r&&p.Z.wait(()=>(0,f.$)(e.applicationId))),this.trackViewed(),this.replaceUrlWithSlug()}componentDidUpdate(e){let{locale:t,sku:n,shouldFetchStatistics:r,skuId:i,storeListingId:l,slug:a,storeListing:o,fetchStoreListing:s}=this.props;if(o!==e.storeListing&&null!=o&&(0,z.s)(ea.jE.STORE_LISTING,{skuId:i,slug:a}),(t!==e.locale||i!==e.skuId)&&s(),r&&!e.shouldFetchStatistics){if(null==n)throw Error("Unexpected missing sku");p.Z.wait(()=>(0,f.$)(n.applicationId))}(i!==e.skuId||l!==e.storeListingId)&&(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()}componentWillUnmount(){this.showCopyLinkTextTimeout.stop();let{analyticsContext:{loadId:e,loadDate:t}}=this.props;null!=t&&G.default.track(el.rMx.STORE_LISTING_EXITED,{load_id:e,duration_ms:Date.now()-t})}replaceUrlWithSlug(){}trackViewed(){let{sku:e,storeListing:t,hasFetchedNews:n,analyticsContext:r}=this.props;if(this._trackedViewed||null==e||null==t||null==t.description||!(this.isChannelType||n))return;let i=t.carouselItems.reduce((e,t)=>(null!=t.assetId?e.images++:e.videos++,e),{images:0,videos:0});G.default.track(el.rMx.STORE_LISTING_VIEWED,eu(ed(eu({},this._extraAnalyticsProperties),{load_id:r.loadId,has_description:null!=t.description&&t.description.length>0,has_staff_review:null!=t.staffNotes,carousel_image_count:i.images,carousel_video_count:i.videos,location:r.location.page,source:this._analyticsSource}),(0,N.Z)(e,!0))),this._trackedViewed=!0}renderHeader(e,t){let{channel:n,isAuthenticated:l}=this.props;return(0,r.jsx)(P.Z,{isAuthenticated:l,toolbar:this.renderHeaderToolbar(e,t),children:null!=n?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(P.Z.Icon,{icon:d.lO_,"aria-label":eo.intl.string(eo.t["P1/Erq"])}),(0,r.jsx)(P.Z.Title,{children:n.name})]}):null!=t&&t.premium?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(P.Z.Icon,{icon:d.SrA,"aria-label":eo.intl.string(eo.t.Ipxkoq)}),(0,r.jsx)(ee.Z,{sku:t})]}):null!=t?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(P.Z.Icon,{icon:d.lO_,"aria-label":eo.intl.string(eo.t["P1/Erq"])}),(0,r.jsx)(P.Z.Title,{children:t.name})]}):null})}parseMediaItems(e,t,n){let{assetId:r,youtubeVideoId:i}=t;if(null!=r){let t=n.find(e=>e.id===r);if(null!=t){let{width:n,height:r}=t;if(null==n||null==r)throw Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return t.mimeType.startsWith("video/")?{type:el.s9s.VIDEO,thumbnailSrc:(0,F._W)(e.id,t,1024,"webp"),src:(0,F._W)(e.id,t),height:r,width:n}:{type:el.s9s.IMG,src:(0,F._W)(e.id,t,1024),height:r,width:n}}}if(null!=i)return{type:el.s9s.YOUTUBE_VIDEO,youtubeVideoId:i};throw Error("Store carousel item must have one of assetId or youtubeVideoId")}renderHeaderAssets(e,t,n){let{theme:i}=this.props,l=t.headerBackground,a=(0,c.ap)(i)?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==l||null==a?(0,r.jsx)("div",{className:es.noHeaderSpacer}):(0,r.jsxs)("div",{className:es.headerAssets,children:[(0,r.jsx)("div",{className:es.headerBackground,style:{backgroundImage:"url(".concat((0,F._W)(e.id,l,1024,"png"),")")}}),(0,r.jsx)("img",{className:es.headerLogo,src:(0,F._W)(e.id,a,1024,"png"),alt:n.name})]})}renderWhyYouMightLikeThis(e,t){return(0,r.jsx)($.Z,{sku:e,storeListing:t,className:es.whyYouMightLikeIt})}renderVerifiedGuildInvite(e,t){if(null==e.guild)return null;let{channel:n,pageSize:i}=this.props;return(0,r.jsx)(er.Z,{skuId:t.id,guild:e.guild,className:es.guildInvite,inChannel:null!=n,pageSize:i})}renderFeatures(e){return(0,r.jsx)(K.Z,{sku:e})}renderSystemRequirements(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:(0,r.jsx)(et.Z,{className:es.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})}renderDescription(e,t,n){let{description:l}=t;if(null==l)throw Error("Rendering ApplicationStoreListing without description");return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(v.Z,{tag:"h1",children:eo.intl.format(eo.t.tluX4O,{name:n.name})}),(0,r.jsx)(b.Z,{}),(0,r.jsx)(Y.Z,{applicationId:e.id,blurb:t.summary,description:l,className:es.description,assets:t.assets})]})}renderApplicationContentRating(e){return(0,r.jsx)(W.Z,{sku:e,className:es.contentRating})}renderApplicationLegalInfo(e){return(0,r.jsx)(q.Z,{sku:e,className:es.legalInfo})}renderJsonLD(){let{sku:e,storeListing:t,application:n}=this.props;if(null==e||null==t||null==n)return null;let i=[],l=n.getSplashURL(1024);null!=l&&i.push(l),null!=t.headerLogoLightTheme&&i.unshift((0,F._W)(n.id,t.headerLogoLightTheme,1024,"jpg"));let a=C.Z.Product({name:e.name,description:null!=e.summary&&""!==e.summary?e.summary:t.tagline,image:C.Z.Product.Image(i),sku:e.id}),o=e.getPrice();if(null!=o){let{amount:e,currency:t}=o;a.offers=C.Z.Offer({priceCurrency:t.toUpperCase(),price:(0,H.T4)(e,t,{style:"decimal"})})}let s=C.Z.ItemPage({mainEntity:a});return(0,r.jsx)(C.Z,{data:s})}renderSmall(e,t,n){return(0,r.jsxs)("div",{className:a()(es.listing,es.listingSmall),children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]})}renderLarge(e,t,n){return(0,r.jsxs)("div",{className:es.listing,children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),(0,r.jsx)("div",{className:es.listingLarge,children:(0,r.jsxs)("div",{className:es.body,children:[(0,r.jsxs)("div",{className:es.leftColumn,children:[this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]}),(0,r.jsxs)("div",{className:es.rightColumn,children:[this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)]})]})})]})}render(){let{application:e,sku:t,storeListing:n,matureAgree:l,isAuthenticated:a}=this.props;if(null==e||null==t||null==n||n.isSlimDirectoryVersion())return(0,r.jsxs)(i.Fragment,{children:[this.renderHeader(e,t),(0,r.jsx)(I.Z,{align:I.Z.Align.CENTER,justify:I.Z.Justify.CENTER,children:(0,r.jsx)(d.$jN,{className:es.spinner})})]});if(!l&&t.showAgeGate){let n=a?null:(0,r.jsx)("div",{className:es.gatedListing,children:this.renderListing()});return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),(0,r.jsx)(X.Z,{game:e}),n]})}return a?(0,r.jsxs)("div",{className:es.listingWrapper,children:[(0,r.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),(0,r.jsx)(m.Z,{section:el.jXE.NAVIGATION,children:this.renderHeader(e,t)}),(0,r.jsx)(m.Z,{section:el.jXE.BODY,children:this.renderListing()})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(S.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),this.renderListing()]})}constructor(...e){super(...e),ec(this,"showCopyLinkTextTimeout",new s.V7),ec(this,"_trackedViewed",!1),ec(this,"_analyticsSource",null),ec(this,"_extraAnalyticsProperties",null),ec(this,"state",{showHeaderPurchaseUnit:!1,showLinkCopied:!1}),ec(this,"trackCarouselScroll",(e,t,n)=>{let{sku:r}=this.props;null!=r&&G.default.track(el.rMx.STORE_LISTING_MEDIA_SCROLLED,ed(eu({},(0,N.Z)(r)),{card_index:n,card_type:e.type===el.s9s.IMG?"image":"video"}))}),ec(this,"copyCurrentUrl",()=>{var e;let{location:t}=this.props,n=(e=t.pathname,"".concat(location.protocol,"//").concat(location.host).concat(e));(0,B.JG)(n,()=>this.setState({showLinkCopied:!0},()=>{this.showCopyLinkTextTimeout.start(1500,()=>{this.setState({showLinkCopied:!1})})}))}),ec(this,"handleCreateInstantInvite",()=>{let{channel:e,guild:t}=this.props;null!=e&&null!=t&&(0,d.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(i,ed(eu({},n),{guild:t,channel:e,source:el.t4x.GUILD_CHANNELS}))})}),ec(this,"renderInviteLink",()=>{let{channel:e,guild:t}=this.props;return null!=e&&null!=t&&(Z.Z.can(el.Plq.CREATE_INSTANT_INVITE,t)||null!=t.vanityURLCode)?(0,r.jsx)(u.zx,{"aria-label":eo.intl.string(eo.t.zJrgTE),look:u.zx.Looks.BLANK,size:u.zx.Sizes.NONE,onClick:this.handleCreateInstantInvite,className:es.link,children:(0,r.jsx)(d.xPt,{size:"md",color:"currentColor",className:es.linkIcon})}):null}),ec(this,"renderCopyLink",()=>{let{showLinkCopied:e}=this.state;return this.isChannelType?this.renderInviteLink():(0,r.jsx)(d.ua7,{text:e?eo.intl.string(eo.t.uvTCOT):null,position:"left",forceOpen:e,children:t=>{let{onMouseEnter:n,onMouseLeave:i}=t;return(0,r.jsx)(u.zx,{"aria-label":e?eo.intl.string(eo.t.uvTCOT):eo.intl.string(eo.t.WqhZsr),look:u.zx.Looks.BLANK,size:u.zx.Sizes.NONE,onClick:this.copyCurrentUrl,onMouseEnter:n,onMouseLeave:i,className:es.link,children:(0,r.jsx)(d.xPt,{size:"md",color:"currentColor",className:es.linkIcon})})}})}),ec(this,"renderHeaderToolbar",(e,t)=>{let{isInTestMode:n,slug:i,storeListing:l,analyticsContext:{location:o}}=this.props,{showHeaderPurchaseUnit:s}=this.state;return(0,r.jsxs)("div",{className:es.headerBarListing,children:[(0,r.jsx)("div",{className:es.headerSection,children:n&&null!=t?(0,r.jsx)(en.Z,{size:en.y.Sizes.MIN,dropdownSize:en.y.DropdownSizes.MEDIUM,look:en.y.Looks.OUTLINED,color:en.y.Colors.RED,skuId:t.id,className:es.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:e=>{null!=t&&(0,g.yt)(t.id,{slug:i,analyticsSource:{page:o.page,section:el.jXE.NAVIGATION,object:null},storeListingId:e.id})}}):null}),(0,r.jsx)("div",{className:es.headerSection,children:(0,r.jsxs)("div",{className:a()(es.headerPurchase,{[es.active]:s}),children:[null!=t?(0,T.Z)(t):null,null!=e&&null!=t?(0,r.jsx)("div",{children:"deprecated!"}):null,(0,r.jsx)(J.Z,{messageStyle:J.G.SHORT,className:es.purchaseError})]})}),this.renderCopyLink()]})}),ec(this,"renderCarousel",(e,t)=>{if(0===t.carouselItems.length)return null;let{pageSize:n,isFocused:i}=this.props;return(0,r.jsx)(m.Z,{section:el.jXE.HERO,children:(0,r.jsx)(Q.Z,{pageSize:n,items:t.carouselItems.map(n=>this.parseMediaItems(e,n,t.assets)),autoplayInterval:8e3,paused:!i,onIntentionalChange:this.trackCarouselScroll})})}),ec(this,"renderListing",()=>{let{application:e,storeListing:t,sku:n,pageSize:i}=this.props;return null==e||null==n||null==t||t.isSlimDirectoryVersion()?(0,r.jsx)(I.Z,{align:I.Z.Align.CENTER,justify:I.Z.Justify.CENTER,children:(0,r.jsx)(d.$jN,{})}):i===ei.b.SMALL?this.renderSmall(e,t,n):this.renderLarge(e,t,n)})}}let ef=(0,_.Z)((0,O.Z)(o.ZP.connectStores([L.Z,x.Z,j.default,U.Z,k.Z,D.Z,M.Z,E.Z,y.Z,w.Z,A.Z,R.Z],e=>{let t,n,r,{inputSkuId:i,applicationId:l,storeListingId:a,isAuthenticated:o,channel:s}=e;if(null==l){if(null==i)throw Error("Needs applicationId or skuId");t=i,null!=(l=null!=(n=D.Z.get(i))?n.applicationId:null)&&(r=y.Z.getApplication(l))}else if(null==i){if(null==l)throw Error("Needs applicationId or skuId");null!=(r=y.Z.getApplication(l))&&(t=r.destinationSkuId),n=null!=t?D.Z.get(t):null}(null==n?void 0:n.flags)!=null&&(0,V.yE)(n.flags,el.l4R.STICKER)&&(n=null);let c=null!=l&&(M.Z.inTestModeForApplication(l)||E.Z.inDevModeForApplication(l));return{skuId:t,application:null!=l?y.Z.getApplication(l):null,isFetchingEntitlements:null!=l&&R.Z.applicationIdsFetching.has(l),didFetchEntitlements:null!=l&&R.Z.applicationIdsFetched.has(l),shouldFetchStatistics:o&&null!=l&&w.Z.shouldFetchStatisticsForApplication(l),sku:n,isFocused:U.Z.isFocused(),storeListing:k.Z.getStoreListing({storeListingId:a,skuId:t,channelId:null!=s?s.id:null,isTestMode:c}),isInTestMode:null!=l&&c,matureAgree:L.Z.didMatureAgree,theme:x.Z.theme,locale:j.default.locale,guild:null!=s?A.Z.getGuild(s.getGuildId()):null}})(ep)))},119520:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(558381),a=n(480916),o=n(986035),s=n(388032),c=n(624066);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{render(){let{game:{name:e}}=this.props;return(0,r.jsx)("div",{className:c.matureListing,children:(0,r.jsx)(o.Z,{modalType:a.it.NSFW_APP_LISTING,onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:s.intl.formatToPlainString(s.t.n5PGER,{name:e}),description:s.intl.string(s.t["bJx/aG"]),agreement:s.intl.string(s.t.odZq8f),disagreement:s.intl.string(s.t.hieTsL)})})}constructor(...e){super(...e),u(this,"handleDisagree",()=>{(0,l.M9)()}),u(this,"handleAgree",()=>{(0,l.cj)()})}}let p=d},450233:function(e,t,n){n.d(t,{G:()=>h,Z:()=>m});var r,i,l,a,o=n(951288),s=n(647438),c=n(442837),u=n(570140),d=n(16084),p=n(855775),f=n(388032),h=((r={}).SHORT="SHORT",r.LONG="LONG",r);class g extends(a=s.PureComponent){getText(e,t){if(429===e.status)switch(t){case"SHORT":return f.intl.string(f.t.T15lqq);case"LONG":return f.intl.string(f.t.XFShdH)}switch(t){case"SHORT":return f.intl.string(f.t["+XstBw"]);case"LONG":return f.intl.string(f.t.epyCur)}}componentWillUnmount(){null!=this.props.purchaseError&&u.Z.wait(()=>d.pB())}render(){let{className:e,purchaseError:t,messageStyle:n}=this.props;return null==t?null:(0,o.jsx)("div",{className:e,children:this.getText(t,n)})}}l={messageStyle:"LONG"},(i="defaultProps")in g?Object.defineProperty(g,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):g[i]=l;let m=c.ZP.connectStores([p.Z],()=>({purchaseError:p.Z.error}))(g)},601564:function(e,t,n){n.r(t),n.d(t,{default:()=>x,getPageSize:()=>P}),n(388685),n(35282);var r=n(951288),i=n(647438),l=n(593473),a=n(843611),o=n(442837),s=n(930118),c=n(355467),u=n(410575),d=n(666743),p=n(112724),f=n(447269),h=n(612226),g=n(714338),m=n(663993),b=n(628123),_=n(703656),O=n(108427),E=n(911314),y=n(429899),v=n(843445),I=n(981631),C=n(388032),S=n(430355);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=(0,m.Un)({createPromise:()=>Promise.all([n.e("68264"),n.e("87626")]).then(n.bind(n,496691)),webpackId:496691});function P(e){return e<v.x?v.b.SMALL:v.b.LARGE}o.ZP.initialize();class j extends i.PureComponent{componentDidMount(){(0,s.Y)(this.props.location),this.stopListeningToHistory=(0,_.s1)().listen(e=>{e.pathname.startsWith(I.Z5c.APPLICATION_STORE)&&(0,s.Y)(e)}),this.props.isAuthenticated&&(0,c.tZ)(),g.Z.disable(),g.Z.setLayout(f.r),g.Z.enable(),(0,O.e)("application_store")}componentWillUnmount(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),g.Z.disable(),g.Z.setLayout(h.oT),g.Z.enable()}renderCustomErrorMessage(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:C.intl.string(C.t["1PZdFx"])}),(0,r.jsx)("p",{children:C.intl.string(C.t.CvQlAA)})]})}render(){let{isAuthenticated:e,location:t}=this.props,n=e?(0,r.jsx)("div",{className:S.applicationStore,children:this.renderContent()}):(0,r.jsx)(T,{className:S.applicationStore,location:t,render:this.renderContent});return(0,r.jsx)(b.Z,{renderCustomMessage:this.renderCustomErrorMessage,children:n})}constructor(...e){super(...e),N(this,"stopListeningToHistory",void 0),N(this,"renderStoreListing",e=>{let{match:{params:{skuId:t,applicationId:n,slug:i}},location:a}=e,{width:o}=this.props,s=(0,l.parse)(a.search);return(0,r.jsx)(u.Z,{page:I.ZY5.STORE_LISTING,root:!0,children:(0,r.jsx)(y.Z,{skuId:t,applicationId:n,slug:i,location:a,storeListingId:s.store_listing_id,pageSize:P(o)})})}),N(this,"renderContent",()=>(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.AW,{path:I.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,r.jsx)(u.Z,{page:I.ZY5.STORE_DIRECTORY_HOME,root:!0,children:(0,r.jsx)(E.Z,{})})}),(0,r.jsx)(a.AW,{path:I.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:I.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:I.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:I.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderStoreListing}),(0,r.jsx)(a.l_,{to:I.Z5c.APP})]}))}}let x=(0,a.EN)((0,d.Z)((0,p.Z)(j)))},726581:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(304106),c=n(649974),u=n(246946),d=n(594174),p=n(525395),f=n(55563),h=n(551428),g=n(73346),m=n(733789),b=n(4962),_=n(388032),O=n(796787);class E extends i.Component{renderReasons(e,t,n){return 0===e.length&&0===t.length?null:(0,r.jsx)("div",{className:O.section,children:(0,r.jsxs)("div",{className:O.sectionContent,children:[e.map(e=>(0,r.jsx)("div",{className:O.unit,children:(0,r.jsx)(m.Z,{reason:e,hidePersonalInformation:n})},e.type)),t.map(e=>(0,r.jsx)("div",{className:O.unit,children:(0,r.jsx)(s.Z,{reason:e})},e.type))]})})}getReviewToRender(){let{storeListing:e}=this.props;return null!=e.staffNotes?{type:b.Z.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null}render(){let{socialReasons:e,nonSocialReasons:t,storeListing:n,hidePersonalInformation:i,className:l}=this.props;if(0===e.length&&0===t.length&&null==n.staffNotes)return null;let o=this.getReviewToRender();return(0,r.jsxs)("div",{className:a()(O.root,l),children:[(0,r.jsx)("div",{className:O.header,children:_.intl.string(_.t.qABFpa)}),this.renderReasons(e,t,i),null!=o?(0,r.jsx)(b.Z,{data:o,className:O.review}):null]})}}let y=o.ZP.connectStores([f.Z,d.default,h.Z,c.Z,p.Z,u.Z],e=>{let{sku:t}=e;return{socialReasons:(0,g.Gg)(t.id,f.Z,d.default,c.Z,p.Z),nonSocialReasons:(0,g.Ww)(t.id,f.Z,h.Z),hidePersonalInformation:u.Z.hidePersonalInformation}})(E)},74153:function(e,t,n){n.d(t,{Z:()=>b}),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(16084),s=n(730749),c=n(812206),u=n(984370),d=n(703656),p=n(55563),f=n(981631),h=n(883307);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{componentDidMount(){let{sku:e,primarySkuId:t,isFetchingPrimarySku:n}=this.props;null==t||n||null==e||(0,o.$N)(e.applicationId,t)}render(){let{sku:e,primarySku:t}=this.props,n=[],i=null;if(null!=e){let r=f.Z5c.APPLICATION_STORE_LISTING_SKU(e.id,e.slug);i=r,null!=t&&n.push({id:f.Z5c.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),label:t.name}),n.push({id:r,label:e.name})}return(0,r.jsx)(a.OoM,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:n,activeId:i})}constructor(...e){super(...e),g(this,"handleClick",e=>{let{sku:t}=this.props;(0,d.uL)(e.id,{state:{analyticsSource:{object:f.qAy.NAVIGATION_LINK,section:f.jXE.NAVIGATION,page:null==t?f.ZY5.STORE_DIRECTORY_BROWSE:f.ZY5.STORE_LISTING}}})}),g(this,"renderCustomBreadcrumb",(e,t)=>(0,r.jsx)(u.Z.Title,{className:t?null:h.breadcrumb,muted:!t,children:e.label}))}}let b=(0,s.Z)(l.ZP.connectStores([c.Z,p.Z],e=>{let{sku:t}=e,n=null!=t?c.Z.getApplication(t.applicationId):null,r=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:r,isFetchingPrimarySku:null!=r&&p.Z.isFetching(r),primarySku:null!=r?p.Z.get(r):null}})(m))},429899:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(951288),i=n(647438),l=n(558381),a=n(613311);class o extends i.Component{componentDidMount(){this.fetchStoreListing()}render(){let{skuId:e,applicationId:t,slug:n,storeListingId:i,pageSize:l,location:o}=this.props;return(0,r.jsx)(a.Z,{inputSkuId:e,applicationId:t,fetchStoreListing:this.fetchStoreListing,slug:n,storeListingId:i,location:o,pageSize:l})}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"fetchStoreListing",e=>{let{storeListingId:t,skuId:n,applicationId:r}=this.props,i=null!=e?e:n;return null!=t?(0,l.rV)(t):null!=i?(0,l.km)(i):null!=r?(0,l.Hq)(r):void 0})}}let s=o},715702:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(663993).Un)({createPromise:()=>Promise.resolve().then(n.bind(n,601564)),webpackId:601564})},125930:function(e,t,n){n.d(t,{Z:()=>E}),n(781311),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(755721),s=n(770146),c=n(600164),u=n(424218),d=n(823379),p=n(358085),f=n(843445),h=n(981631),g=n(388032),m=n(688510);let b={[h.TaA.WINDOWS]:p.PlatformTypes.WINDOWS,[h.TaA.MACOS]:p.PlatformTypes.OSX,[h.TaA.LINUX]:p.PlatformTypes.LINUX};class _ extends i.PureComponent{render(){let{active:e,children:t,pageSize:n,onClick:i}=this.props,l=n===f.b.LARGE;return(0,r.jsx)(o.zx,{size:l?o.zx.Sizes.MIN:o.zx.Sizes.LARGE,fullWidth:!l,color:e?m.tabSelectedColor:m.tabNotSelectedColor,className:a()({[m.tabPageLarge]:l,[m.tabPageSmall]:!l,[m.tabSelected]:e,[m.tabNotSelected]:!e}),onClick:i,children:t})}}class O extends i.PureComponent{static getDerivedStateFromProps(e,t){let{systemRequirements:n}=e,{selectedOperatingSystem:r}=t,i=Object.keys(n);return i.includes(r)?null:{selectedOperatingSystem:i[0]}}renderTabs(){let{pageSize:e,systemRequirements:t}=this.props,{selectedOperatingSystem:n}=this.state,i=Object.keys(t);return 1===i.length?null:(0,r.jsxs)(c.Z,{className:m.tabs,children:[(0,r.jsx)("div",{className:m.separator}),i.map(t=>(0,r.jsx)(_,{active:t===n,onClick:()=>this.handleSelectOperatingSystem(t),pageSize:e,children:function(e){switch(e){case h.TaA.WINDOWS:return g.intl.string(g.t["0/xHFB"]);case h.TaA.MACOS:return g.intl.string(g.t.E4u4n5);case h.TaA.LINUX:return g.intl.string(g.t.tcawo6)}}(t)},t))]})}renderRequirementsSection(e,t){if(null==e)return null;let n=[{key:g.intl.string(g.t["0TcHzs"]),value:e.operating_system_version},{key:g.intl.string(g.t.eOX6Hh),value:e.cpu},{key:g.intl.string(g.t["+WJ5XV"]),value:null!=e.ram?g.intl.formatToPlainString(g.t.RNRSl5,{size:(0,u.BU)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:g.intl.string(g.t["+3s/V1"]),value:e.gpu},{key:g.intl.string(g.t["L+x5wM"]),value:null!=e.disk?(0,u.BU)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:g.intl.string(g.t["Ghp2/P"]),value:e.sound_card},{key:g.intl.string(g.t["+w6nJi"]),value:e.network},{key:g.intl.string(g.t.Au3Vbm),value:e.notes}].map((e,t)=>{let n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:(0,r.jsxs)("div",{className:m.requirement,children:[(0,r.jsxs)("span",{className:m.requirementKey,children:[e.key,":"]}),n]},t)}).filter(d.lm);return(0,r.jsxs)("div",{className:m.requirements,children:[(0,r.jsx)(s.Z,{tag:"h4",children:t}),n]})}renderBody(){let{minimum:e,recommended:t}=this.props.systemRequirements[this.state.selectedOperatingSystem];return(0,r.jsxs)("div",{className:m.requirementsContainer,children:[this.renderRequirementsSection(e,g.intl.string(g.t.QCCMXF)),this.renderRequirementsSection(t,g.intl.string(g.t.He39ws))]})}render(){return(0,r.jsxs)("div",{className:this.props.className,children:[(0,r.jsx)(s.Z,{children:g.intl.string(g.t.IkOAoq)}),this.renderTabs(),this.renderBody()]})}constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleSelectOperatingSystem",e=>{this.setState({selectedOperatingSystem:e})});let t=(0,p.getPlatform)(),n=Object.keys(e.systemRequirements),r=n[0];for(let e of n)b[e]===t&&(r=e);this.state={selectedOperatingSystem:r}}}let E=O},178071:function(e,t,n){n.d(t,{Z:()=>h,y:()=>p}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(239091),s=n(585237),c=n(551428),u=n(388032);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={DropdownSizes:s.Z.DropdownSizes,Sizes:s.Z.Sizes,Colors:s.Z.Colors,Looks:s.Z.Looks};class f extends i.PureComponent{render(){var e,t;let n=this.props,{storeListings:i,primaryStoreListing:l,skuId:a,onStoreListingSelect:o,currentStoreListingId:c}=n,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"]),f=+(null!=l);return(f+=i.length)<2?null:(0,r.jsx)(s.Z,(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},p),t=t={children:u.intl.string(u.t.hElye3)},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}constructor(...e){super(...e),d(this,"renderContextMenu",()=>{let{storeListings:e,onStoreListingSelect:t,currentStoreListingId:n,onMenuSelect:i}=this.props,l=e.map(e=>e.id!==n?(0,r.jsx)(a.sNh,{id:"".concat(e.id),label:e.id,action:()=>{o.Zy(),null==t||t(e)}}):null);return(0,r.jsx)(a.v2r,{onSelect:i,navId:"test-store-listing","aria-label":u.intl.string(u.t.ogxXGh),onClose:o.Zy,children:l})}),d(this,"handleContextMenu",e=>{e.stopPropagation(),o.vq(e,this.renderContextMenu)})}}let h=l.ZP.connectStores([c.Z],e=>{let{skuId:t}=e;return{storeListings:c.Z.getUnpublishedForSKU(t),primaryStoreListing:c.Z.getForSKU(t)}})(f)},176055:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(593473),s=n(442837),c=n(755721),u=n(481060),d=n(749210),p=n(558381),f=n(666743),h=n(770146),g=n(600164),m=n(565138),b=n(41776),_=n(703656),O=n(769654),E=n(430824),y=n(411198),v=n(843445),I=n(981631),C=n(388032),S=n(295265);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.PureComponent{renderMemberInfo(){let{approximateMemberCount:e,approximatePresenceCount:t}=this.props.guild;return null==e||null==t?null:(0,r.jsxs)(g.Z,{className:S.memberInfo,align:g.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:S.dotOnline}),(0,r.jsx)("span",{className:S.memberText,children:C.intl.format(C.t["LC+S+v"],{membersOnline:t})}),(0,r.jsx)("div",{className:S.dotOffline}),(0,r.jsx)("span",{className:S.memberText,children:C.intl.format(C.t.zRl6XV,{count:e})})]})}render(){let{guild:e,inChannel:t,isInGuild:n,isLurking:i,isAuthenticated:l,className:o,pageSize:s}=this.props;if(t&&n)return null;let d=(0,y.B3)(e),p=C.intl.string(C.t.pxwdrK),f=this.handleJoinOrView,b=c.zx.Looks.FILLED,_=c.zx.Colors.PRIMARY;return l?n?(b=c.zx.Looks.OUTLINED,_=S.buttonColorInGuild,p=(0,r.jsxs)(g.Z,{align:g.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:C.intl.string(C.t.cEnaW1)}),(0,r.jsx)(u.dz2,{size:"md",color:"currentColor",className:S.joinedCheckmark})]})):i&&t&&(p=C.intl.string(C.t.XpeFYm)):(p=C.intl.string(C.t.dKhVQE),f=this.handleLogin),(0,r.jsxs)("div",{className:a()(o,s===v.b.SMALL?S.inviteSmall:S.inviteLarge),children:[(0,r.jsx)(h.Z,{children:C.intl.string(C.t.s1KcLi)}),(0,r.jsxs)("div",{className:S.content,children:[(0,r.jsxs)("div",{className:S.info,children:[(0,r.jsx)(m.Z,{guild:d,active:!0,size:m.Z.Sizes.LARGE,className:S.guildIcon}),(0,r.jsxs)("div",{className:S.infoText,children:[(0,r.jsx)("div",{className:S.name,children:e.name}),this.renderMemberInfo()]})]}),(0,r.jsx)(c.zx,{size:c.zx.Sizes.SMALL,className:S.actionButton,fullWidth:!0,color:_,look:b,onClick:f,children:p})]})]})}constructor(...e){super(...e),N(this,"handleJoinOrView",async()=>{let{guild:e,skuId:t,isInGuild:n,isLurking:r}=this.props,i=()=>(0,O.X)(e.id);if(r)(0,p.Oj)(t).then(i);else if(n)i();else try{await d.Z.joinGuild(e.id,{lurker:!0,source:I.vtS.APPLICATION_STORE}),i()}catch(e){}}),N(this,"handleLogin",()=>{let e={redirect_to:I.Z5c.APPLICATION_STORE_LISTING_SKU(this.props.skuId)};(0,_.uL)(I.Z5c.LOGIN,{search:(0,o.stringify)(e),source:"verified_guild_invite"})})}}let P=(0,f.Z)(s.ZP.connectStores([E.Z,b.Z],e=>{let{guild:t}=e,n=b.Z.isLurking(t.id);return{isInGuild:null!=E.Z.getGuild(t.id)&&!n,isLurking:n}})(T))},476669:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(481060),a=n(239091),o=n(129861),s=n(600164),c=n(646551);class u extends i.PureComponent{handleContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={user:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}renderUser(e){return null==e?null:(0,r.jsxs)(s.Z,{className:c.user,align:s.Z.Align.CENTER,onContextMenu:t=>{null!=e&&this.handleContextMenu(t,e)},children:[(0,r.jsx)(l.qEK,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.EFr.SIZE_24,className:c.avatar}),(0,r.jsx)(o.Z,{user:e,className:c.tag,usernameClass:c.username,discriminatorClass:c.discriminator})]},e.id)}render(){let{party:e,header:t}=this.props,n=e.map(e=>this.renderUser(e));return(0,r.jsxs)("div",{className:c.userList,children:[(0,r.jsx)("div",{className:c.header,children:t}),(0,r.jsx)(l.zJl,{className:c.content,fade:!0,children:n})]})}}let d=u},512847:function(e,t,n){n.d(t,{Z:()=>V});var r=n(951288),i=n(647438),l=n(392711),a=n(442837),o=n(317381),s=n(16609),c=n(258609),u=n(569545),d=n(106301),p=n(460181),f=n(979283),h=n(590415),g=n(131704),m=n(199902),b=n(314897),_=n(592125),O=n(430824),E=n(131951),y=n(292959),v=n(19780),I=n(944486),C=n(606304),S=n(979651),N=n(938475),T=n(823379),P=n(981631);function j(e,t,n,r){i.useEffect(()=>{let i=t(),l=new a.Fh(e,()=>{let e=t(),l=n(i,e);null==l||y.Z.isSoundDisabled(l)||(0,p.GN)(l,null!=r?r:.4),i=e});return l.attach("useSound"),()=>l.detach()})}function x(){return j([E.Z,I.Z],()=>({inVoiceChannel:null!=I.Z.getVoiceChannelId(),selfMute:E.Z.isSelfMute(),selfDeaf:E.Z.isSelfDeaf(),audioPermissionReady:E.Z.isNativeAudioPermissionReady(),shouldSkipMuteUnmuteSound:E.Z.shouldSkipMuteUnmuteSound()}),(e,t)=>{let{inVoiceChannel:n,selfMute:r,selfDeaf:i,audioPermissionReady:l,shouldSkipMuteUnmuteSound:a}=t;if(e.selfDeaf!==i)return i?"deafen":"undeafen";if(l&&(n||e.audioPermissionReady)&&e.selfMute!==r)return a?void E.Z.notifyMuteUnmuteSoundWasSkipped():r?"mute":"unmute"}),null}function A(){return j([E.Z,I.Z],()=>({videoEnabled:E.Z.isVideoEnabled(),inVoiceChannel:null!=I.Z.getVoiceChannelId()}),(e,t)=>{let{videoEnabled:n,inVoiceChannel:r}=t;if(!(0,f.O)())return;let{videoEnabled:i,inVoiceChannel:l}=e;if(i!==n&&l&&r)return n?"camera_on":"camera_off"}),null}function Z(){return j([_.Z,v.Z,I.Z,c.Z],()=>{let e=_.Z.getChannel(I.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=null==e?void 0:e.getGuildId(),r=v.Z.getWasEverRtcConnected(),i=v.Z.getState();return{channelType:t,guildId:n,connected:i===P.hes.RTC_CONNECTED,connectHasStarted:!r&&i!==P.hes.DISCONNECTED||i===P.hes.RTC_CONNECTED,awaitingRemote:null!=c.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=c.Z.getRemoteSessionId()}},(e,t)=>{let{channelType:n,connected:r,connectHasStarted:i,awaitingRemote:l,connectedRemote:a}=t,o=e.channelType,s=e.connectedRemote,c=e.connected;if(!e.connectHasStarted&&i||a&&!s){if(null!=n&&g.Lr.has(n))return;return"user_join"}if(c&&!r){if(l||a||null!=o&&g.Lr.has(o))return;return"disconnect"}}),null}function w(){return j([C.Z],()=>C.Z.isCurrentUserSpeaking(),(e,t)=>{if(e!==t){let e=E.Z.isSelfMute();if(E.Z.getMode()===P.pM4.PUSH_TO_TALK&&!e)return t?"ptt_start":"ptt_stop"}}),null}function L(){return j([E.Z],()=>E.Z.getActiveVoiceFilter(),(e,t)=>{if(e!==t)if(null!=t)return null!=e?"voice_filter_swap":"voice_filter_on";else return"voice_filter_off"}),null}function R(){return j([E.Z],()=>E.Z.isSelfMutedTemporarily(),(e,t)=>{if(e!==t){let e=E.Z.isSelfMute();if(E.Z.getMode()===P.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_stop":"ptt_start"}}),null}function D(){return j([C.Z],()=>C.Z.isCurrentUserPrioritySpeaker(),(e,t)=>{if(e!==t){let e=E.Z.isSelfMute();if(E.Z.getMode()===P.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_start":"ptt_stop"}}),null}function k(){return j([S.Z],()=>S.Z.userHasBeenMovedVersion,(e,t)=>{if(e!==t)return"user_moved"}),null}function M(){return j([I.Z,S.Z],()=>{let e=I.Z.getVoiceChannelId();if(null==e)return h.xO.NONE;let t=S.Z.getVoiceStateForChannel(e);return(0,h.gf)(t)},(e,t)=>{if(e!==t&&t===h.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}),null}function U(){return j([I.Z,m.Z,b.default,S.Z,_.Z],()=>{let e,t,n=I.Z.getVoiceChannelId(),r=b.default.getId(),i=[],l=null,a=0,o=m.Z.getAllActiveStreams();if(null!=n){let r=_.Z.getChannel(n);null!=r&&(e=r.type,t=N.ZP.countVoiceStatesForChannel(r.id)-!!S.Z.isInChannel(r.id),i=m.Z.getAllApplicationStreamsForChannel(r.id).map(e=>e.ownerId))}let s=null;return(null==(s=1===o.length?o[0]:m.Z.getCurrentUserActiveStream())?void 0:s.state)===P.jm8.CONNECTING&&(s=null),null!=s&&(l=(0,u.V9)(s),a=m.Z.getViewerIds(l).filter(e=>e!==r).length),{channelType:e,voiceChannelId:n,voiceChannelUserCount:t,streamingUserIds:i,singleActiveStreamKey:l,singleActiveStreamViewerCount:a,currentUserId:r,allActiveStreams:o}},(e,t)=>{let{channelType:n,voiceChannelId:r,voiceChannelUserCount:i,streamingUserIds:l,singleActiveStreamKey:a,singleActiveStreamViewerCount:o,currentUserId:s}=t;if(e.voiceChannelId!==r||null==r||function(e){let t=_.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let r=O.Z.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&g.Lr.has(n))return;let c=null!=a&&e.singleActiveStreamKey===a,u=l.some(t=>!e.streamingUserIds.includes(t)),d=e.allActiveStreams.map(e=>e.ownerId),p=e.streamingUserIds.some(e=>!l.includes(e)&&(e===s||d.includes(e)));if(u)return"stream_started";if(p)return"stream_ended";if(e.singleActiveStreamViewerCount<=25&&c&&o>e.singleActiveStreamViewerCount)return"stream_user_joined";if(null!=e.voiceChannelUserCount&&null!=i&&e.voiceChannelUserCount<=25&&i>e.voiceChannelUserCount)return"user_join";if(null!=e.voiceChannelUserCount&&null!=i&&e.voiceChannelUserCount<=25&&i<e.voiceChannelUserCount)return"user_leave";else if(e.singleActiveStreamViewerCount<=25&&c&&o<e.singleActiveStreamViewerCount)return"stream_user_left"}),null}function G(){return j([I.Z,o.ZP,b.default],()=>{let e=I.Z.getVoiceChannelId(),t=I.Z.getChannelId(),n=o.ZP.getConnectedActivityLocation(),r=(0,s.p)(n),i=b.default.getId(),l=(0,T.lm)(t)?o.ZP.getEmbeddedActivitiesForChannel(t):o.i6,a=(0,T.lm)(e)?o.ZP.getEmbeddedActivitiesForChannel(e):o.i6,c=(0,T.lm)(r)?o.ZP.getEmbeddedActivitiesForChannel(r):o.i6,u=(0,T.lm)(n)?o.ZP.getSelfEmbeddedActivityForLocation(n):null;return{connectedActivityLocation:n,voiceChannelId:e,currentUserId:i,channelActivities:l,connectedChannelActivities:c,userConnectedActivity:u,voiceChannelActivities:a}},(e,t)=>{let n,{connectedActivityLocation:r,voiceChannelId:i,currentUserId:l,channelActivities:a,connectedChannelActivities:o,userConnectedActivity:s,voiceChannelActivities:c}=t,u=c.some(e=>e.applicationId===(null==s?void 0:s.applicationId)&&e.launchId===s.launchId);if((0,T.lm)(i)){let t=e.voiceChannelActivities.find(e=>e.userIds.has(l)),r=c.find(e=>e.userIds.has(l));e.voiceChannelActivities.length<c.length&&(0,T.lm)(e.voiceChannelId)&&(n="activity_launch"),void 0===r&&(0,T.lm)(t)&&(n="activity_end"),void 0===t&&(0,T.lm)(r)&&r.userIds.size>1&&(n="activity_user_join"),(0,T.lm)(r)&&(0,T.lm)(t)&&(r.userIds.size>t.userIds.size&&(n="activity_user_join"),r.userIds.size<t.userIds.size&&(n="activity_user_left"))}if(!u){e.connectedChannelActivities.length<o.length&&e.channelActivities.length<a.length&&(n="activity_launch");let t=e.userConnectedActivity;null==s&&(0,T.lm)(t)&&(n="activity_end"),(0,T.lm)(s)&&(0,T.lm)(t)&&(s.userIds.size>t.userIds.size&&(n="activity_user_join"),s.userIds.size<t.userIds.size&&(n="activity_user_left"))}return null==n&&(null!=e.connectedActivityLocation||null!=r)&&(null==e.connectedActivityLocation&&null!=r?n="activity_launch":null!=e.connectedActivityLocation&&null==r?n="activity_end":null!=s&&null!=e.userConnectedActivity&&(e.userConnectedActivity.userIds.size<s.userIds.size?n="activity_user_join":e.userConnectedActivity.userIds.size>s.userIds.size&&(n="activity_user_leave"))),n}),null}function B(){return j([d.Z,I.Z],()=>({hangStatus:d.Z.getCurrentHangStatus(),customHangStatus:d.Z.getCustomHangStatus(),inVoice:null!=I.Z.getVoiceChannelId()}),(e,t)=>{var n,r;let{hangStatus:i,customHangStatus:a}=t;if(e.inVoice&&(null!=i&&i!==e.hangStatus||null!=a&&(a.status!==(null==(n=e.customHangStatus)?void 0:n.status)||!(0,l.isEqual)(a.emoji,null==(r=e.customHangStatus)?void 0:r.emoji))))return"hang_status_select"},.15),null}function V(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{}),(0,r.jsx)(A,{}),(0,r.jsx)(Z,{}),(0,r.jsx)(w,{}),(0,r.jsx)(R,{}),(0,r.jsx)(k,{}),(0,r.jsx)(U,{}),(0,r.jsx)(M,{}),(0,r.jsx)(G,{}),(0,r.jsx)(L,{}),(0,r.jsx)(D,{}),(0,r.jsx)(B,{})]})}},382600:function(e,t,n){n.d(t,{P:()=>o});var r=n(951288),i=n(647438),l=n(709014);let a={disable:{name:"disable",start:0,duration:70},enable:{name:"enable",start:100,duration:70},hover_enabled:{name:"hover_enabled",start:200,duration:70},hover_disabled:{name:"hover_disabled",start:300,duration:70}},o=e=>{let t=i.useRef(null),o=i.useRef(e);o.current=e;let s=i.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=i.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.play(n)},[e]),u=i.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.stopIfPlaying(n)},[e]),d=i.useCallback(e=>{var i,s;return(0,r.jsx)(l.L,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),s=s={src:()=>n.e("7584").then(n.t.bind(n,883488,19)),ref:t,initialAnimation:o.current,markers:a},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(s,e))}),i))},[]);return{events:{onClick:s,onMouseEnter:c,onMouseLeave:u},play:s,getDuration:i.useCallback(()=>{var e;return null==(e=t.current)?void 0:e.getDuration()},[]),getCurrentFrame:i.useCallback(()=>{var e,n;return null!=(n=null==(e=t.current)?void 0:e.getCurrentFrame())?n:null},[]),Component:d}}},773244:function(e,t,n){n.d(t,{Z:()=>d}),n(35282);var r=n(647438),i=n(873546),l=n(442837),a=n(625128),o=n(362762),s=n(314897),c=n(981631);let u=i.tq||i.Em;function d(e){let{children:t,deepLinkType:n,path:i,paramsBuilder:d,search:p}=e,f=(0,l.e7)([s.default],()=>{var e;return null!=(e=s.default.getFingerprint())?e:s.default.getId()}),h=(0,l.e7)([o.Z],()=>o.Z.getState(i),[i]),g=r.useMemo(()=>null==d?{path:i,fingerprint:f,search:p}:d(i,f,p),[i,d,f,p]);return r.useEffect(()=>{u||null==h&&a.Z.openNativeAppModal(i,c.Etm.DEEP_LINK,{type:n,params:g})},[h,i,g,n]),t}},951752:function(e,t,n){n.d(t,{l:()=>f});var r=n(951288);n(647438);var i=n(442837),l=n(388905),a=n(362762),o=n(358085),s=n(981631),c=n(388032),u=n(307907);let d=n(575703);function p(e){let{children:t}=e,n=(0,i.e7)([a.Z],()=>a.Z.getHighestState());return(0,o.isDesktop)()||n!==s.kEZ.OPENING?(0,o.isDesktop)()||n!==s.kEZ.OPEN?t:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:u.backgroundArtwork,src:d,alt:""}),(0,r.jsx)("div",{className:u.container,children:(0,r.jsxs)(l.ZP,{children:[(0,r.jsx)(l.Dx,{className:u.appOpenedTitle,children:c.intl.string(c.t.csrAMD)}),(0,r.jsx)(l.DK,{children:c.intl.string(c.t.ghBJz8)})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:u.backgroundArtwork,src:d,alt:""}),(0,r.jsx)("div",{className:u.container,children:(0,r.jsxs)(l.ZP,{children:[(0,r.jsx)(l.Dx,{children:c.intl.string(c.t["Z+hCVV"])}),(0,r.jsx)(l.Hh,{})]})})]})}function f(e){var t,n;function i(t){return(0,r.jsx)(p,{children:(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),"deeplink-wrapper")})}return i.displayName="Deeplink(".concat(null!=(n=null!=(t=e.displayName)?t:e.name)?n:"<Unknown>",")"),i}},785697:function(e,t,n){n.d(t,{D2:()=>s,SE:()=>c});var r=n(442837),i=n(818083),l=n(496675),a=n(981631);let o=(0,i.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(e){return o.useExperiment({guildId:e,location:"dd4beb_1"},{autoTrackExposure:!0})}function c(e){var t;let n=(0,r.e7)([l.Z],()=>l.Z.can(a.Plq.MANAGE_GUILD,e)),{enabled:i}=o.useExperiment({guildId:null!=(t=null==e?void 0:e.id)?t:a.lds,location:"dd4beb_3"},{autoTrackExposure:!0});if(null==e)return!1;let s=e.features.has(a.oNc.COMMUNITY);return n&&s&&i}},711237:function(e,t,n){n.d(t,{J_:()=>o,R6:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:i.fL,label:"Trigger Debugging User AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),a=(0,r.B)({kind:"guild",id:i.nz,label:"Trigger Debugging Guild AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),o=e=>{let t="guild trigger debug",n="user trigger debug";a.useExperiment({location:t,guildId:e},{autoTrackExposure:!1}),a.trackExposure({location:t,guildId:e}),l.useExperiment({location:n},{autoTrackExposure:!1}),l.trackExposure({location:n})}},532835:function(e,t,n){n.d(t,{t:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]});function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.useExperiment({location:"a9e81b_1"},{autoTrackExposure:e})}},183126:function(e,t,n){n.d(t,{N:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function i(){return r.useExperiment({location:"c10bec_1"},{autoTrackExposure:!0}).enabled}},169382:function(e,t,n){n.d(t,{l:()=>l}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282);var r=n(647438),i=n(843611);function l(){let e=(0,i.TH)();return r.useMemo(()=>new URLSearchParams(e.search),[e.search])}},479837:function(e,t,n){n.d(t,{r:()=>b});var r=n(846027),i=n(365023),l=n(565799),a=n(501655),o=n(368442),s=n(829750),c=n(560688),u=n(173507),d=n(592125),p=n(131951),f=n(19780),h=n(594174),g=n(981631),m=n(65154);function b(){var e,t;if(!(0,i.l)())return;let n=p.Z.isVideoEnabled(),b=Object.values(p.Z.getVideoDevices())[0],_=!1===(null==(t=null==b?void 0:b.disabled)||t),O=p.Z.supportsInApp(m.AN.VIDEO)&&p.Z.supportsInApp(m.AN.DESKTOP_CAPTURE),E=d.Z.getChannel(f.Z.getChannelId()),y=null==(e=h.default.getCurrentUser())?void 0:e.id;if(null==E||null==y)return;let{reachedLimit:v}=(0,s.t)(E);if(!v){if(E.isGuildStageVoice()){let e=l.Z.getMutableParticipants(E.id,a.pV.SPEAKER),t=null==e?void 0:e.find(e=>{let{user:t}=e;return t.id===y});if(!(0,o.tu)(E.guild_id)||!O||null==t||t.voiceState.suppress)return}return n?r.Z.setVideoEnabled(!1):!n&&_?(0,u.Z)(()=>{r.Z.setVideoEnabled(!0)},g.IlC.APP,!0):_||(0,c.Z)(),!1}}},447269:function(e,t,n){n.d(t,{r:()=>s});var r,i,l=n(817718),a=n(612226),o=n(981631);let s=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a.oT),i=i={[o.EkH.CAROUSEL_NEXT]:l.lI,[o.EkH.CAROUSEL_PREV]:l.hd},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)},380249:function(e,t,n){n.d(t,{m:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-04_rich_presence_activity_invite_redesign",label:"Rich Presence Activity Invite Redesign Experiment",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Rich Presence Activity Invite Redesign",config:{enabled:!0}}]})},611577:function(e,t,n){n.d(t,{z:()=>l});var r=n(481060),i=n(531826);function l(e){let{application:t,channelId:n}=e;return null!=(0,i.ZP)({application:t,channelId:n})?r.u1M:r.z1l}},840074:function(e,t,n){n.d(t,{_:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(812206),a=n(531826);function o(e){let{applicationId:t,customId:o,linkId:s,message:c,onShare:u}=e,d=l.Z.getApplication(t);if(null==d)return void u(!1,!1);let p=null!=(0,a.jA)({applicationId:d.id})?i.u1M:i.z1l,f=!1;function h(e){u(e,f)}function g(){f=!0}(0,i.ZDy)(async()=>{let{default:e}=await n.e("83098").then(n.bind(n,137021));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,customId:o,linkId:s,message:c,onCopyLink:g,onShare:h},n))},{modalKey:"activity-share-moment-modal",contextKey:p,onCloseCallback:()=>{u(!1,f)}})}},596223:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}},74433:function(e,t,n){n.d(t,{Z:()=>d}),n(781311),n(388685);var r=n(833858),i=n(657305),l=n(841784),a=n(420660),o=n(981631),s=n(388032);function c(e){return{[o.IIU.STREAMING]:e?s.t["4CQq9f"]:s.t["0wJXSk"],[o.IIU.LISTENING]:e?s.t["b+lA5+"]:s.t.Vnuxub,[o.IIU.WATCHING]:e?s.t.mqdfDQ:s.t.pW3Ip6,[o.IIU.COMPETING]:e?s.t.oHF7Cg:s.t.QQ2wVF}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0;if(null!=e&&e.type===o.IIU.CUSTOM_STATUS)return null!=e.state?e.state.trim():null;if(null!=t)return null==e||e.type!==o.IIU.PLAYING?s.intl.string(s.t.eXan7O):s.intl.format(c(n)[o.IIU.STREAMING],{name:e.name});if(u&&(null==e?void 0:e.type)===o.IIU.HANG_STATUS)return(0,r.O8)(e);if(null==e||null==e.name)return null;if((0,a.Z)(e)){let t=null!=e.details&&""!==e.details?e.details:e.name;return s.intl.format(c(n)[o.IIU.STREAMING],{name:t})}return(0,l.Z)(e)?(0,i.Z)(e.name):function(e,t,n){let r=c(n);switch(e){case o.IIU.LISTENING:case o.IIU.WATCHING:case o.IIU.COMPETING:return s.intl.format(r[e],{name:t});case o.IIU.CUSTOM_STATUS:case o.IIU.HANG_STATUS:return null;case o.IIU.PLAYING:default:return n?s.intl.formatToPlainString(s.t.Sq9xJy,{game:t}):s.intl.format(s.t.lFApm5,{game:t})}}(e.type,e.name,n)}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;if(Array.isArray(e)){let i=e;null!=t&&!1!==t.discoverable&&(i=[...i,null]);let l=null;for(let e of i){let i=u(e,t,n,r);if(null!=i)return{activity:e,activityText:i};(null==e?void 0:e.type)===o.IIU.CUSTOM_STATUS&&null!=e.emoji&&(l=e)}return(null==l?void 0:l.emoji)!=null?{activity:l,activityText:null}:null}return u(e,t,n,r)}},258220:function(e,t,n){n.d(t,{default:()=>h,r:()=>f}),n(388685);var r=n(951288),i=n(647438),l=n(82659),a=n(481060),o=n(153867),s=n(835473),c=n(626135),u=n(998502),d=n(981631),p=n(388032);let f="Activity Encourages Hardware Acceleration";function h(e){var t;let{applicationId:n,transitionState:h,onClose:g}=e,[m,b]=i.useState(!1),[_]=(0,s.Z)([n]),O=null!=(t=null==_?void 0:_.name)?t:"This Activity";i.useEffect(()=>{c.default.track(d.rMx.OPEN_MODAL,{type:f})},[]);let E=async()=>{let e="temporary";m&&(e="permanent",o.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})),c.default.track(d.rMx.MODAL_DISMISSED,{type:f,dismiss_type:e}),await g()},y=async()=>{c.default.track(d.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n}),u.ZP.setEnableHardwareAcceleration(!0),await E()};return(0,r.jsx)(l.Modal,{size:"md",transitionState:h,onClose:E,"aria-label":p.intl.string(p.t.NQkK4u),title:p.intl.string(p.t.NQkK4u),actionBarInput:(0,r.jsx)(a.XZJ,{type:a.XZJ.Types.INVERTED,size:18,value:m,onChange:()=>b(!m),children:(0,r.jsx)(a.Text,{variant:"text-sm/normal",children:p.intl.string(p.t["5E9SBw"])})}),actions:[{variant:"secondary",text:p.intl.string(p.t["Ibf5/v"]),onClick:E},{variant:"primary",text:p.intl.string(p.t["/wlDqq"]),onClick:y}],children:(0,r.jsx)(a.Text,{variant:"text-md/normal",children:p.intl.format(p.t.B9eiaG,{applicationName:O})})})}},244317:function(e,t,n){n.d(t,{Z:()=>h}),n(35282),n(388685);var r=n(951288),i=n(647438),l=n(873546),a=n(680018),o=n(481060),s=n(358085),c=n(289341),u=n(981631),d=n(186901),p=n(388032),f=n(87805);function h(e){let{applicationId:t}=e.match.params,[h,g]=i.useState(!1),m=i.useRef(!1),[b,_]=i.useState(null),O=!s.isPlatformEmbedded&&!l.tq&&!h;return(i.useEffect(()=>{O&&!0!==m.current&&(Promise.resolve().then(n.bind(n,536285)).then(e=>{let{default:n}=e;n.request(u.Etm.DEEP_LINK,{type:d.jE.ACTIVITIES,params:{applicationId:t,url:location.href}}).then(e=>{_(null!=e&&e)}).catch(()=>_(!1)).then(()=>n.disconnect())}),m.current=!0)},[t,O]),O&&!1!==b)?!0===b?(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)(o.X6q,{variant:"heading-xxl/bold",children:p.intl.string(p.t.csrAMD)}),(0,r.jsx)(o.Text,{variant:"text-xs/semibold",children:p.intl.string(p.t["m1+IBg"])}),(0,r.jsx)(a.z,{variant:"primary",text:p.intl.string(p.t.fIv16O),onClick:()=>g(!0)})]}):(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)(o.X6q,{variant:"heading-xxl/bold",children:p.intl.string(p.t["Z+hCVV"])}),(0,r.jsx)(o.$jN,{})]}):(0,r.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}},289341:function(e,t,n){n.d(t,{Z:()=>g}),n(35282),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(647438),i=n(442837),l=n(668781),a=n(493683),o=n(100527),s=n(906732),c=n(835473),u=n(703656),d=n(594174),p=n(122613),f=n(649256),h=n(388032);function g(e){var t,n;let{match:g}=e,m=null!=(n=(0,u.DR)())?n:[],{analyticsLocations:b}=(0,s.ZP)([...m,o.Z.ACTIVITY_DETAIL_PAGE]),{applicationId:_}=g.params,[O]=(0,c.Z)([_]),E=null==O||null==(t=O.bot)?void 0:t.id,y=(0,i.e7)([d.default],()=>d.default.getCurrentUser());return r.useEffect(()=>{null!=E&&null!=y&&(async()=>{try{var e;let t=new URL(location.href),n=await a.Z.openPrivateChannel({recipientIds:E}),r=null!=(e=t.searchParams.get("referrer_id"))?e:void 0,{customId:i}=await (0,f.ur)(_,t.searchParams.get("link_id"),t.searchParams.get("custom_id"));await (0,p.Z)({targetApplicationId:_,channelId:n,analyticsLocations:b,customId:i,referrerId:r})}catch(e){}})()},[b,_,E,y]),r.useEffect(()=>{let e=setTimeout(()=>{null==E&&l.Z.show({title:h.intl.string(h.t.PtobXV),body:h.intl.string(h.t["IOy+Iy"])})},5e3);return()=>{clearTimeout(e)}},[E]),null}},230487:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(481060),l=n(740492),a=n(626135),o=n(358085),s=n(998502),c=n(258220),u=n(981631);let d="activity-hardware-acceleration-modal";function p(e){l.ZP.disableActivityHardwareAccelerationPrompt||!o.isPlatformEmbedded||s.ZP.getEnableHardwareAcceleration()||(0,i.ZDy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,258220));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:e},n))},{modalKey:d,onCloseRequest:()=>{a.default.track(u.rMx.MODAL_DISMISSED,{type:c.r}),(0,i.Mr3)(d)}})}},838195:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(812206),a=n(531826);function o(e){let{applicationId:t,channelId:o,mediaUrl:s}=e,c=l.Z.getApplication(t),u=null!=(0,a.ZP)({application:c,channelId:o})?i.u1M:i.z1l;(0,i.ZDy)(async()=>{let{default:e}=await n.e("4530").then(n.bind(n,899201));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,mediaUrl:s},n))},{modalKey:"activity-share-moment-modal",contextKey:u})}},687751:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(317770),o=n(944486),s=n(914010),c=n(622822),u=n(920644),d=n(208381),p=n(723359),f=n(981631);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}class g extends a.Z{_initialize(){l.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure),l.Z.subscribe("GUILD_UPDATE",this.handleGuildUpdate)}_terminate(){l.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure),l.Z.unsubscribe("GUILD_UPDATE",this.handleGuildUpdate)}handleChannelSelect(e){let{guildId:t,channelId:n}=e;(0,c.T5)()&&(0,c.I8)(t,n,p.L0.NSFW_CHANNEL)}handleConnectionOpen(){let e=s.Z.getGuildId(),t=o.Z.getChannelId();(0,c.T5)()&&(0,c.I8)(e,t)}handleAgeGateModalOpen(e){let{source:t}=e;(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("71172"),n.e("1337"),n.e("15317")]).then(n.bind(n,746882));return n=>(0,r.jsx)(e,h({source:t},n))},{modalKey:p.dG,onCloseRequest:f.dG4,backdropStyle:t===p.L0.NSFW_SERVER?i.fCB.LIGHTBOX:void 0})}handleAgeGateSuccess(){(0,i.oav)(p.dG,e=>(0,r.jsx)(d.Z,h({},e)))}handleAgeGateFailure(e){let{underageMessage:t}=e;(0,i.oav)(p.dG,e=>(0,r.jsx)(u.Z,h({underageMessage:t},e)))}handleAgeGateModalClose(){(0,i.Mr3)(p.dG)}handleGuildUpdate(e){let{guild:t}=e,n=s.Z.getGuildId();if(null!=n&&t.id===n&&t.nsfw_level===f.V_K.AGE_RESTRICTED)return void(0,c.I8)(t.id,null)}}let m=new g},920644:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(990547),l=n(481060),a=n(313201),o=n(703656),s=n(63063),c=n(758119),u=n(981631),d=n(388032),p=n(754912);function f(){(0,c.qV)(),(0,o.uL)(u.Z5c.LOGIN,{source:"existing_user_age_gate_underage"})}function h(e){let{underageMessage:t,transitionState:o}=e,c=(0,a.Dt)();return(0,r.jsxs)(l.Y0X,{transitionState:o,size:l.CgR.SMALL,"aria-labelledby":c,impression:{impressionName:i.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},parentComponent:"ExistingUserAgeGateUnderage",children:[(0,r.jsx)(l.hzk,{children:(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)("img",{alt:"",src:n(231443),className:p.img}),(0,r.jsx)(l.X6q,{variant:"heading-xl/semibold",className:p.title,id:c,children:d.intl.string(d.t["NR/zrK"])}),(0,r.jsx)(l.Text,{color:"header-secondary",className:p.subtitle,variant:"text-sm/normal",children:d.intl.format(d.t.b0QzXV,{underageMessage:null!=t?t:d.intl.string(d.t.WqEH4O),helpURL:s.Z.getArticleURL(u.BhN.AGE_GATE)})}),(0,r.jsx)(l.Text,{color:"header-secondary",className:p.subtitle,variant:"text-sm/normal",children:d.intl.format(d.t["3axQdH"],{days:30})})]})}),(0,r.jsx)(l.mzw,{children:(0,r.jsx)(l.zxk,{variant:"primary",size:"sm",text:d.intl.string(d.t.szzQ6O),fullWidth:!0,onClick:f})})]})}},208381:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(990547),l=n(481060),a=n(313201),o=n(758119),s=n(388032),c=n(329114);function u(e){let{transitionState:t}=e,u=(0,a.Dt)();return(0,r.jsxs)(l.Y0X,{transitionState:t,size:l.CgR.SMALL,"aria-labelledby":u,impression:{impressionName:i.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},parentComponent:"ExistingUserAgeGateVerified",children:[(0,r.jsx)(l.hzk,{children:(0,r.jsxs)("div",{className:c.container,children:[(0,r.jsx)("img",{alt:"",src:n(863181),className:c.img}),(0,r.jsx)(l.X6q,{variant:"heading-xl/semibold",className:c.title,id:u,children:s.intl.string(s.t.gUiIGR)}),(0,r.jsx)(l.Text,{color:"header-secondary",className:c.subtitle,variant:"text-sm/normal",children:s.intl.string(s.t.susqq6)})]})}),(0,r.jsx)(l.mzw,{children:(0,r.jsx)(l.zxk,{variant:"primary",size:"sm",text:s.intl.string(s.t.cpT0Cg),fullWidth:!0,onClick:function(){(0,o.qV)()},autoFocus:!0})})]})}},64514:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(846519),i=n(570140),l=n(317770),a=n(626135),o=n(70956),s=n(960048),c=n(930446),u=n(127438),d=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends l.Z{_initialize(){this.focusedOrForegrounded=(0,u.H)(),i.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus),i.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate),i.Z.subscribe("QUESTS_ENROLL_SUCCESS",this.handleEnrollmentSuccess),i.Z.subscribe("LOGIN_SUCCESS",this.handleLogin),i.Z.subscribe("LOGOUT",this.handleLogout),this.scheduleHeartbeatTracking()}_terminate(){this.stopAnalyticHeartbeat(),i.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus),i.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate),i.Z.unsubscribe("QUESTS_ENROLL_SUCCESS",this.handleEnrollmentSuccess),i.Z.unsubscribe("LOGIN_SUCCESS",this.handleLogin),i.Z.unsubscribe("LOGOUT",this.handleLogout)}constructor(...e){var t;super(...e),t=this,p(this,"focusedOrForegrounded",(0,u.H)()),p(this,"heartbeatInterval",new r.Xp),p(this,"schedulerStarted",!1),p(this,"lastHeartbeatTimestamp",0),p(this,"maybeStartHeartbeat",()=>{this.heartbeatInterval.isStarted()||(this.trackHeartbeat(),this.heartbeatInterval.start(5*o.Z.Millis.MINUTE,this.trackHeartbeat))}),p(this,"startAnalyticHeartbeat",()=>{this.schedulerStarted||(this.schedulerStarted=!0,s.Z.addBreadcrumb({category:"ad",message:"Starting ad session heartbeat"}),this.maybeStartHeartbeat())}),p(this,"trackHeartbeat",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t.schedulerStarted&&!e){s.Z.addBreadcrumb({category:"ad",message:"Ad heartbeat called but scheduler not started"}),t.heartbeatInterval.stop();return}let n=performance.now(),r=n-t.lastHeartbeatTimestamp,i=5*o.Z.Millis.MINUTE;if(!e&&t.lastHeartbeatTimestamp>0&&r<i)return;let l=(0,c.Gy)();a.default.track(d.rMx.CLIENT_AD_HEARTBEAT,{client_ad_session_id:l.uuid,client_heartbeat_initialization_timestamp:l.createdAtTimestamp,client_heartbeat_version:2}),t.lastHeartbeatTimestamp=n}),p(this,"stopAnalyticHeartbeat",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";t.schedulerStarted&&(t.schedulerStarted=!1,t.lastHeartbeatTimestamp=0,s.Z.addBreadcrumb({category:"ad",message:"Stopping ad session heartbeat: ".concat(e)}),t.heartbeatInterval.stop())}),p(this,"scheduleHeartbeatTracking",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";if(t.focusedOrForegrounded)try{t.startAnalyticHeartbeat()}catch(e){s.Z.captureException(e)}else t.stopAnalyticHeartbeat(e)}),p(this,"handleLogin",()=>{this.scheduleHeartbeatTracking(),this.trackHeartbeat(!0)}),p(this,"handleLogout",()=>{this.stopAnalyticHeartbeat("USER_LOGOUT"),(0,c.GG)()}),p(this,"handleEnrollmentSuccess",()=>{(0,c.Gy)(!0)}),p(this,"handleWindowFocus",e=>{let{focused:t}=e;this.focusedOrForegrounded=t,this.scheduleHeartbeatTracking("WINDOW_FOCUS")}),p(this,"handleAppStateUpdate",e=>{let{state:t}=e;this.focusedOrForegrounded=t===d.$7l.ACTIVE,this.scheduleHeartbeatTracking("APP_STATE_UPDATE")})}}let h=new f},176881:function(e,t,n){n.d(t,{Z:()=>o});var r=n(626135),i=n(188471),l=n(360347),a=n(981631);function o(e){var t,n,o;let{tab_opened:s,source:c}=e,u=(0,l.Z)();r.default.track(a.rMx.FRIENDS_LIST_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({tab_opened:s,source:c},u)),(0,i.a)(a.rMx.FRIENDS_LIST_VIEWED_CLICKSTREAM,{tab_opened:null!=s?s:"tabless",num_friends:null!=(t=u.num_friends)?t:0,now_playing_visible:null!=(n=u.now_playing_visible)&&n,now_playing_num_cards:null!=(o=u.now_playing_num_cards)?o:0})}},141233:function(e,t,n){n(40455),n(430198),n(514361),n(353926),n(893966),n(734307),n(803141),n(355298),n(333984),n(914788),n(869765),n(621853),n(706454),n(210887),n(581883),n(592125),n(324067),n(984933),n(271383),n(93093),n(888369),n(485386),n(430824),n(375954),n(496675),n(306680),n(771845),n(9156),n(594174),n(55589)},371398:function(e,t,n){n(590965),n(317381),n(761781),n(40455),n(458772),n(368321),n(541099),n(174212),n(213459),n(998698),n(812206),n(344532),n(758182),n(358221),n(501809),n(12498),n(430198),n(514361),n(719247),n(353647),n(146282),n(281320),n(339085),n(353926),n(934401),n(633289),n(735020),n(774863),n(238349),n(660189),n(682474),n(581036),n(208970),n(5254),n(317632),n(893642),n(91896),n(972830),n(331114),n(537883),n(356164),n(487419),n(223606),n(580079),n(937111),n(893966),n(45966),n(819553),n(240864),n(408042),n(289393),n(687476),n(924301),n(734307),n(803141),n(994752),n(41776),n(487554),n(48929),n(584731),n(748902),n(355298),n(333984),n(726745),n(140155),n(109497),n(601992),n(390289),n(787879),n(371651),n(46145),n(541692),n(502087),n(441623),n(360787),n(823385),n(455199),n(432496),n(807092),n(869765),n(98369),n(729303),n(768943),n(156012),n(171900),n(719801),n(518944),n(359119),n(452369),n(768419),n(565799),n(88751),n(742738),n(427679),n(926491),n(765104),n(601070),n(344185),n(920303),n(569471),n(159299),n(260483),n(144140),n(10401),n(432835),n(575356),n(151662),n(706454),n(210887),n(581883),n(243852),n(450795),n(543882),n(199902),n(314897),n(523746),n(680089),n(606956),n(439170),n(624453),n(184107),n(592125),n(58468),n(553795),n(480294),n(906467),n(857192),n(703558),n(831506),n(478738),n(82142),n(165630),n(486472),n(324067),n(984933),n(650774),n(720202),n(271383),n(93093),n(888369),n(485386),n(430824),n(797316),n(607744),n(674985),n(341165),n(325067),n(131951),n(542578),n(375954),n(649974),n(209590),n(496675),n(571474),n(158776),n(358652),n(544610),n(878884),n(19780),n(306680),n(699516),n(944486),n(914010),n(885110),n(797258),n(771845),n(606304),n(215427),n(959457),n(558724),n(111583),n(62817),n(9156),n(23434),n(594174),n(33039),n(979651),n(351402),n(192513),n(456065),n(230307),n(173747),n(55589),n(938475),n(974042),n(417363),n(941128),n(556296),n(974180),n(808506),n(237997)},333861:function(e,t,n){n.d(t,{M:()=>a,s:()=>l});var r=n(951288);n(647438);var i=n(481060);let l="command-share-modal";function a(e){let{applicationId:t,channel:a,command:o,previewMessage:s,requireLaunchChannel:c,contextKey:u,onShareResult:d}=e;(0,i.ZDy)(async()=>{let{ApplicationCommandShareModal:e}=await n.e("53682").then(n.bind(n,683958));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,channel:a,command:o,previewMessage:s,onShareResult:d,requireLaunchChannel:c},n))},{modalKey:l,contextKey:u,onCloseCallback:()=>{d(!1)}})}},857458:function(e,t,n){n.d(t,{M:()=>s,Z:()=>c}),n(35282);var r=n(951288);n(647438);var i=n(843611),l=n(860911),a=n(981631),o=n(188785);function s(){let e=location.pathname+location.search;return o.a?a.Z5c.REGISTER:(0,l.Ui)(e,!1)}let c=function(){return(0,r.jsx)(i.l_,{to:s()})}},77987:function(e,t,n){n.d(t,{e:()=>s});var r=n(951288);n(647438);var i=n(314897),l=n(449934),a=n(857458),o=n(981631);function s(e,t){var n,s;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function u(n){return!(0,l.$8)()&&i.default.getLoginStatus()!==o.u34.LOGGING_IN&&i.default.allowLogoutRedirect()?null!=t?(0,r.jsx)(t,{renderRedirect:(0,r.jsx)(a.Z,{})}):(0,r.jsx)(a.Z,{}):(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c.passProps?n:null))}return u.displayName="Authenticated(".concat(null!=(s=null!=(n=e.displayName)?n:e.name)?s:"<Unknown>",")"),u}},549388:function(e,t,n){n.d(t,{Q:()=>i});var r=n(570140);function i(){r.Z.dispatch({type:"AUTO_UPDATER_QUIT_AND_INSTALL"})}},174556:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2024-09_bug_reporter",label:"Bug Reporter",defaultConfig:{hasBugReporterAccess:!1},treatments:[{id:1,label:"\uD83D\uDC1B",config:{hasBugReporterAccess:!0}}]})},679891:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(570140),i=n(846027),l=n(317770),a=n(594190),o=n(928518),s=n(131951),c=n(451478),u=n(981631),d=n(65154);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=new Set,h=new Set,g=null;function m(){for(let e of f)i.Z.setDisableLocalVideo(e,u.ZUi.MANUAL_ENABLED,d.Yn.DEFAULT,!1);h.clear(),f.clear()}class b extends l.Z{_initialize(){r.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),r.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),r.Z.subscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),r.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.addChangeListener(this.handlePopoutChange)}_terminate(){r.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),r.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),r.Z.unsubscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),r.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.removeChangeListener(this.handlePopoutChange),m(),g=null}handleIncomingVideo(e){let{userId:t,context:n,streamId:r}=e;if(n!==d.Yn.DEFAULT||null==r)return;let l=null!=a.ZP.getVisibleGame(),p=c.Z.isVisible(),g=o.Z.getWindowVisible(u.KJ3.CHANNEL_CALL_POPOUT),m=s.Z.isLocalVideoDisabled(t,n),b=h.has(t);!l||p||g||m||b||(f.add(t),i.Z.setDisableLocalVideo(t,u.ZUi.DISABLED,n,!1))}handleManualLocalVideoToggle(e){let{userId:t,persist:n}=e;n&&(h.add(t),f.delete(t))}constructor(...e){super(...e),p(this,"handleWindowVisibilityChange",e=>{let{visible:t}=e;t&&m()}),p(this,"handleVoiceChannelSelect",e=>{let{channelId:t}=e;t!==g&&(m(),g=t)}),p(this,"handlePopoutChange",()=>{o.Z.getWindowVisible(u.KJ3.CHANNEL_CALL_POPOUT)&&m()})}}let _=new b},501809:function(e,t,n){n(388685);var r,i=n(442837),l=n(570140),a=n(38618),o=n(592125),s=n(709054);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=Object.freeze({online:null,total:null}),d={},p={},f=null;class h extends(r=i.ZP.PersistedStore){initialize(e){this.waitFor(a.Z,o.Z),p=null!=e?e:d}getState(){return p}getMemberCount(e){var t;return null!=(t=p[e])?t:u}requestCount(e,t){f={guildId:e,channelId:t},a.Z.getSocket().requestChannelMemberCount(e,t)}}c(h,"displayName","ChannelMemberCountStore"),c(h,"persistKey","channelMemberCounts"),new h(l.Z,{CONNECTION_OPEN:function(){null!=f&&a.Z.getSocket().requestChannelMemberCount(f.guildId,f.channelId),s.default.keys(p).forEach(e=>{null==o.Z.getChannel(e)&&delete p[e]})},CHANNEL_MEMBER_COUNT_UPDATE:function(e){let{channelId:t,online:n,total:r}=e;return(null!=n||null!=r)&&(p[t]={online:n,total:r}),!0}})},320149:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288),i=n(647438),l=n(442837),a=n(755721),o=n(481060),s=n(541716),c=n(665149),u=n(910611),d=n(355298),p=n(333984),f=n(26373),h=n(486622),g=n(718538),m=n(359110),b=n(6025),_=n(433355),O=n(933557),E=n(287746),y=n(388032),v=n(10832),I=n(419246);function C(e){let{channel:t,baseChannelId:n}=e,C=(0,O.ZP)(t),S=(0,f.K)(),N=(0,f.V)(),T=(0,l.e7)([d.Z],()=>d.Z.isMessageRequest(t.id)),P=(0,l.e7)([p.Z],()=>p.Z.isSpam(t.id)),j=(0,g.V)(t.id,t.getRecipientId()),x=i.useCallback(()=>{b.Z.closeChannelSidebar(_.uZ),T&&S&&(0,m.Kh)(t.id),P&&N&&(0,m.Kh)(t.id)},[t.id,P,N,T,S]),A=i.useCallback(()=>{(0,o.showToast)((0,o.createToast)(y.intl.string(y.t.pIQ3h4),o.ToastType.FAILURE))},[]),{markAsNotSpam:Z}=(0,h.m)({onAcceptSuccess:x,onError:A});if(null==t||!t.isDM())return null;let w=[(0,r.jsx)(c.ZP.Icon,{icon:o.Dio,tooltip:y.intl.string(y.t.cpT0Cg),onClick:()=>b.Z.closeChannelSidebar(n)},"close")];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.ZP,{toolbar:w,"aria-label":y.intl.string(y.t.BIYAqa),children:(0,u.ud)({channel:t,channelName:C,inSidebar:!0})}),P&&(0,r.jsxs)("div",{className:I.hamBanner,children:[(0,r.jsx)(o.Text,{className:I.__invalid_hamBannerText,variant:"text-sm/normal",children:y.intl.string(y.t.XVOKgo)}),(0,r.jsx)(a.zx,{className:I.hamBannerButton,size:a.Ph.SMALL,onClick:()=>Z(t,j),children:y.intl.string(y.t.koqL3d)})]}),(0,r.jsx)("div",{className:v.chat,children:(0,r.jsx)(E.Z,{channel:t,guild:null,chatInputType:s.Ie.SIDEBAR},t.id)})]})}},626421:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(399606),s=n(243778),c=n(914010),u=n(566840),d=n(921944),p=n(475915);let f=i.memo(function(e){let{state:t,markAsDismissed:n}=e,{name:l,guildId:o,boundingRect:s}=t,c=i.useMemo(()=>null,[l,o,n]);return null==c?null:(0,r.jsx)("div",{className:a()(p.upsell,(null==s||s.y<0)&&p.hidden),style:null==s?{}:{top:s.top,left:s.right-s.x},children:c})});function h(){let e=(0,o.e7)([c.Z],()=>c.Z.getGuildId()),t=(0,u.Eg)(e),[n,i]=(0,s.US)(Object.values(t).filter(e=>{let{disabled:t}=e;return!t}).map(e=>{let{name:t}=e;return t}),d.R.SIDEBAR);if(null==n)return null;let l=t[n];return null==l?null:(0,r.jsx)("div",{className:p.container,children:(0,r.jsx)(f,{state:l,markAsDismissed:i})})}},986332:function(e,t,n){n.d(t,{o:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}=r.useExperiment({location:"c0d6eb_1"},{autoTrackExposure:e});return{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}}},428695:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(755721),c=n(481060),u=n(367907),d=n(626135),p=n(981631),f=n(388032),h=n(454703);let g=(0,o.debounce)(u.ZP.trackWithMetadata,500),m=function(e){let{guild:t,title:n,message:l,image:o,type:m,imageStyles:b,imageMarginX:_,imageMarginTop:O,trackingSource:E,undismissable:y,onDismissed:v,onClick:I,cta:C,ctaColor:S,centerText:N,className:T}=e;i.useEffect(()=>{g(p.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:m,guild_id:t.id})},[t.id,m]);let P=null;"function"==typeof C?P=C():null!=C&&(P=(0,r.jsx)(s.zx,{className:h.button,size:s.zx.Sizes.SMALL,onClick:()=>{null!=m&&d.default.track(p.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:E,guild_id:t.id,notice_type:m}),null==I||I()},fullWidth:!0,color:S,children:C}));let j=null;"function"==typeof n?j=n():null!=n&&(j=(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",className:a()(h.title,{[h.noImageTitle]:null==o},{[h.center]:N}),children:n}));let x=null;"function"==typeof l?x=l():null!=l&&(x=(0,r.jsx)(c.Text,{className:a()({[h.center]:N}),variant:"text-sm/normal",color:"text-muted",children:l}));let A=null!=_?"".concat(_,"px"):"16px";return(0,r.jsxs)("div",{className:a()(h.container,T),children:[!0===y?null:(0,r.jsx)(c.P3F,{onClick:()=>{u.ZP.trackWithMetadata(p.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:m}),null==v||v()},className:h.close,"aria-label":f.intl.string(f.t.WAI6xs),children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:h.closeIcon})}),null!=o&&(0,r.jsx)("div",{className:h.imageContainer,style:{marginTop:"".concat(O,"px"),marginLeft:A,marginRight:A},children:(0,r.jsx)("img",{className:h.image,style:b,src:o,alt:""})}),(0,r.jsxs)("div",{className:h.message,children:[j,x,P]})]})}},122611:function(e,t,n){n.d(t,{Z:()=>j}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(704215),o=n(433517),s=n(705348),c=n(243778),u=n(377743),d=n(834743),p=n(862099),f=n(704631),h=n(819792),g=n(919285),m=n(118470),b=n(413307),_=n(374023),O=n(661599),E=n(617899),y=n(8521),v=n(760326),I=n(785203),C=n(652785),S=n(921944);let N=new Set([a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION,a.z.CHANNEL_NOTICE_GUILD_BANNER]);function T(e){e.stopPropagation()}function P(e){var t;let{guild:n}=e,[p,h]=i.useState(null!=(t=o.K.get(C.Iv))?t:0),g=(0,l.Wu)(C.HG,()=>C.XN.filter(e=>{let{dismissibleContentType:t,store:r}=e;return!0===(null==r?void 0:r.channelNoticePredicate(n,p))&&!N.has(t)}).map(e=>e.dismissibleContentType),[n,p]);return(0,r.jsx)(c.ZP,{contentTypes:g,groupName:S.R.CHANNEL_NOTICES,children:e=>{let{visibleContent:t,markAsDismissed:i}=e,l=()=>{var e;e=Date.now(),o.K.set(C.Iv,e),h(e),i(S.L.UNKNOWN)},c=(()=>{switch(t){case a.z.CHANNEL_NOTICE_HUBLINK:return(0,r.jsx)(f.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_INVITE:return(0,r.jsx)(E.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,r.jsx)(d.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_QUICKSWITCHER:return(0,r.jsx)(v.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_GUILD_BANNER:return(0,r.jsx)(u.Z,{guild:n,markAsDismissed:l});case a.z.LINKED_ROLE_ADMIN_GUILD:return(0,r.jsx)(s.Z,{guild:n,markAsDismissed:()=>i(S.L.UNKNOWN)});default:return null}})();return null==c?null:(0,r.jsx)("div",{onContextMenu:T,children:c})}})}let j=e=>{let{guild:t}=e;switch((0,I.Z)(t)){case I.R.ENABLE_PUBLIC_GUILD:return(0,r.jsx)(b.Z,{guild:t});case I.R.MAX_MEMBER_COUNT:return(0,r.jsx)(y.Z,{guild:t});case I.R.GUILD_LIVE_CHANNEL:return(0,r.jsx)(p.ZP,{guild:t});case I.R.GUILD_MFA_WARNING:return(0,r.jsx)(O.Z,{guild:t});case I.R.COMMANDS_MIGRATION:return(0,r.jsx)(g.Z,{guild:t});case I.R.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,r.jsx)(m.Z,{guild:t});case I.R.HUB_STUDY_ROOM:return(0,r.jsx)(h.Z,{guild:t})}return _.s.isDisallowPopupsSet()?null:(0,r.jsx)(P,{guild:e.guild})}},652785:function(e,t,n){n.d(t,{HG:()=>f,Iv:()=>d,XN:()=>p});var r=n(704215),i=n(823385),l=n(327689),a=n(421176),o=n(456065),s=n(683743),c=n(823379),u=n(981631);let d="lastHiddenChannelNotice",p=[{type:u.vID.CLAN_ADMIN_UPSELL,dismissibleContentType:r.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL},{type:u.vID.GUILD_BOOSTING,store:a.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:u.vID.GUILD_BANNER,store:l.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_GUILD_BANNER},{type:u.vID.INVITE,store:s.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_INVITE},{type:u.vID.HUB_LINK,store:o.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_HUBLINK},{type:u.vID.QUICKSWITCHER,store:i.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_QUICKSWITCHER},{type:u.vID.LINKED_ROLES_ADMIN,dismissibleContentType:r.z.LINKED_ROLE_ADMIN_GUILD}],f=p.map(e=>e.store).filter(c.lm)},661599:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(230711),a=n(82950),o=n(981631),s=n(388032),c=n(510342);class u extends i.PureComponent{render(){return(0,r.jsx)(a.Z,{guild:this.props.guild,onClick:()=>l.Z.open(o.oAB.ACCOUNT),message:s.intl.format(s.t["oCd+am"],{}),cta:s.intl.string(s.t["8dCrV1"]),trackingSource:o.PsQ.GUILD_MFA_WARNING,type:o.vID.MFA_WARNING,image:c,imageMarginX:54,undismissable:!0})}}let d=u},617899:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(904245),o=n(340541),s=n(944486),c=n(82950),u=n(981631),d=n(921944),p=n(388032),f=n(589148);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.PureComponent{getInviteText(){return(0,o.jW)({location:"invite_notice"}).entrypoints?p.intl.string(p.t.Sd8Ix8):p.intl.string(p.t.BN75l5)}render(){let e="".concat(p.intl.string(p.t.VWqWZW),"\n").concat(p.intl.string(p.t["0Lgb/P"])),t=this.getInviteText();return(0,r.jsx)(c.Z,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:t,trackingSource:u.PsQ.INVITE_NOTICE,type:u.vID.INVITE,image:f,imageMarginX:46})}constructor(...e){super(...e),h(this,"handleInvite",()=>{let{guild:e}=this.props;(0,l.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return n=>(0,r.jsx)(t,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({},n),{guild:e,source:u.t4x.INVITE_NOTICE}))})}),h(this,"handleClose",()=>{let e=s.Z.getChannelId(),t=p.intl.formatToPlainString(p.t.DEn7np,{invitePeople:this.getInviteText()});this.props.markAsDismissed(d.L.UNKNOWN),null!=e&&a.Z.sendBotMessage(e,t)})}}let m=g},662842:function(e,t,n){n.d(t,{Z:()=>D}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(692547),c=n(481060),u=n(232567),d=n(100527),p=n(471445),f=n(15274),h=n(924301),g=n(504160),m=n(151864),b=n(725436),_=n(497656),O=n(554747),E=n(230900),y=n(954313),v=n(703656),I=n(922482),C=n(565799),S=n(501655),N=n(427679),T=n(448206),P=n(670188),j=n(496675),x=n(594174),A=n(662868),Z=n(981631),w=n(765305),L=n(388032),R=n(454703);function D(e){let{guild:t,isStudyRoomNotice:n=!1}=e,l=(0,_.y)(t.id),d=(0,O.k5)(t.id),P=(0,o.e7)([N.Z],()=>N.Z.getStageInstanceByChannel(null==l?void 0:l.id),[l]),{isStageNoticeHidden:D,isEventNoticeHidden:M}=(0,o.cj)([m.Z],()=>({isStageNoticeHidden:m.Z.isLiveChannelNoticeHidden({stageId:null==P?void 0:P.id}),isEventNoticeHidden:m.Z.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}),[P,d]),U=null==l?void 0:l.id,G=(0,o.Wu)([C.Z],()=>[...new Set(C.Z.getMutableParticipants(U,S.pV.SPEAKER).map(e=>e.user))],[U]),B=(0,o.e7)([C.Z],()=>null!=U?C.Z.getParticipantCount(U,S.pV.AUDIENCE):0,[U]),V=(0,o.e7)([j.Z],()=>j.Z.can(Z.Plq.CONNECT,l)),H=(0,T.Z)(null==l?void 0:l.id),F=null==d?void 0:d.creator_id,z=(0,o.e7)([x.default],()=>x.default.getUser(F),[F]);i.useEffect(()=>{null!=F&&(0,u.PR)(F)},[F]);let{noticeType:W,title:Y,location:K,locationIcon:q,canListenIn:Q,buttonText:X,users:J,overflowUsers:$,onClose:ee}=i.useMemo(()=>(function(e){let{guildEvent:t,stageInstance:n,activeChannel:i,canConnect:l,myRole:a,eventCreator:o,speakers:s,listenerCount:u,isEventNoticeHidden:d,isStageNoticeHidden:f,isStudyRoomNotice:m}=e,_=null!=n&&null!=i&&!f,O=null!=t?(0,y.DK)(t):null;if(m&&null!=i){let e=(0,p.KS)(i);return{noticeType:3,title:"\uD83D\uDCDA ".concat(i.name),location:L.intl.string(L.t.LZA6NT),locationIcon:null!=e?(0,r.jsx)(e,{size:"xs",color:"currentColor",className:R.locationIcon}):null,canListenIn:l,buttonText:L.intl.string(L.t.wBoE6O),users:[],overflowUsers:null}}if(null==t||d){if(_){let e=L.intl.string(L.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=L.intl.string(L.t["/cnSFR"]):null!=a&&(e=L.intl.string(L.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,r.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:l,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:u})]})}}}else if(t.entity_type===w.WX.STAGE_INSTANCE&&_){let e=L.intl.string(L.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=L.intl.string(L.t["/cnSFR"]):null!=a&&(e=L.intl.string(L.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,r.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:l,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:u})]})}}else if(t.entity_type===w.WX.EXTERNAL){let e=(0,E.cS)(t);if(null==e)return{noticeType:null};let n=h.ZP.getUserCount(t.id,O);return{noticeType:1,title:t.name,location:(0,b.m)(e,!0),locationIcon:(0,r.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:!1,buttonText:L.intl.string(L.t.iW6Xur),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:n})]})}}else if(t.entity_type===w.WX.VOICE&&null!=i){let e=(0,p.KS)(i),n=h.ZP.getUserCount(t.id,O);return{noticeType:2,title:t.name,location:i.name,locationIcon:null!=e?(0,r.jsx)(e,{size:"xs",color:"currentColor",className:R.locationIcon}):null,canListenIn:l,buttonText:L.intl.string(L.t.nxUtoa),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:n})]})}}return{noticeType:null}})({guildEvent:d,stageInstance:P,activeChannel:l,canConnect:V,myRole:H,eventCreator:z,speakers:G,listenerCount:B,isEventNoticeHidden:M,isStageNoticeHidden:D,isStudyRoomNotice:n}),[d,P,l,V,H,z,G,B,M,D,n]);return null==W?null:(0,r.jsxs)("div",{className:R.container,children:[null!=ee?(0,r.jsx)(c.P3F,{onClick:ee,className:R.close,"aria-label":L.intl.string(L.t.WAI6xs),children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:R.closeIcon})}):null,(0,r.jsxs)("div",{className:R.header,children:[(0,r.jsx)(A.Z,{color:s.Z.unsafe_rawColors.GREEN_230.css,width:16,height:16}),(0,r.jsx)(c.Text,{variant:"text-xs/semibold",color:"text-feedback-positive",children:L.intl.string(L.t.dI3q4u)})]}),(J.length>0||null!=$)&&(0,r.jsxs)("div",{className:R.participants,children:[J.map(e=>(0,r.jsx)(k,{user:e,guildId:t.id},e.id)),$]}),(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",className:a()(R.title,R.live),children:Y}),(0,r.jsxs)("div",{className:R.locationContainer,children:[q,(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"text-muted",className:R.location,children:K})]}),Q||1===W?(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:R.button,children:(0,r.jsx)(c.zxk,{variant:"active",size:"sm",text:X,onClick:()=>{if(Q)null!=l&&null!=l.getGuildId()&&((0,I.Cq)(l),(0,v.XU)(l.getGuildId(),l.id));else{if(null==d)return;(0,f.bO)({eventId:d.id})}},fullWidth:!0})}):null]})}function k(e){let{user:t,guildId:n}=e,l=i.useRef(null);return(0,r.jsx)(P.Z,{targetElementRef:l,user:t,guildId:n,newAnalyticsLocations:[d.Z.AVATAR],clickTrap:!0,children:e=>{var i,a;return(0,r.jsx)(c.qEK,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),a=a={ref:l,src:t.getAvatarURL(n,24),"aria-label":t.username,size:c.EFr.SIZE_24,className:R.avatar},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})}},8521:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(949389),a=n(63063),o=n(82950),s=n(981631),c=n(388032),u=n(511189);let d=e=>{let{guild:t}=e,n=i.useCallback(()=>{(0,l.x)(t.id)},[t.id]);return(0,r.jsx)(o.Z,{guild:t,onDismissed:n,message:c.intl.format(c.t["+QqO3d"],{maxMemberCount:t.maxMembers,maxMembersUrl:a.Z.getArticleURL(s.BhN.MAX_MEMBERS)}),type:s.vID.MAX_MEMBER_COUNT,image:u,imageMarginX:61})}},82950:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(755721),s=n(481060),c=n(367907),u=n(626135),d=n(986332),p=n(428695),f=n(981631),h=n(388032),g=n(449824);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let b=a().debounce(c.ZP.trackWithMetadata,500),_=e=>{let{guild:t,title:n,message:l,image:a,type:d,imageMarginX:p,imageMarginTop:m,trackingSource:_,undismissable:O,onDismissed:E,onClick:y,cta:v,ctaColor:I}=e;i.useEffect(()=>{b(f.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:d,guild_id:t.id})},[t.id,d]);let C=null;"function"==typeof v?C=v():null!=v&&(C=(0,r.jsx)(o.zx,{className:g.btn,size:o.zx.Sizes.SMALL,onClick:()=>{null!=d&&u.default.track(f.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:_,guild_id:t.id,notice_type:d}),null==y||y()},fullWidth:!0,color:I,children:v}));let S=null!=p?"".concat(p,"px"):"16px";return(0,r.jsxs)("div",{className:g.channelNotice,children:[!0===O?null:(0,r.jsx)(s.P3F,{onClick:()=>{c.ZP.trackWithMetadata(f.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:d}),null==E||E()},className:g.close,"aria-label":h.intl.string(h.t.WAI6xs),children:(0,r.jsx)(s.Dio,{size:"md",color:"currentColor",className:g.closeIcon})}),(0,r.jsx)("div",{className:g.imageContainer,style:{marginTop:"".concat(m,"px"),marginLeft:S,marginRight:S},children:(0,r.jsx)("img",{className:g.image,src:a,alt:""})}),(0,r.jsxs)("div",{className:g.message,children:[null!=n?(0,r.jsx)(s.X6q,{variant:"heading-md/semibold",className:g.title,children:n}):null,(0,r.jsx)(s.Text,{variant:"text-sm/normal",children:l}),C]})]})},O=function(e){let{showRedesignedChannelNotice:t}=(0,d.o)(!0);return t?(0,r.jsx)(p.Z,m({},e)):(0,r.jsx)(_,m({},e))}},760326:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288);n(647438);var i=n(481060),l=n(561716),a=n(51596),o=n(82950),s=n(981631),c=n(921944),u=n(388032),d=n(454703),p=n(932478);let f=e=>{let t=(0,r.jsx)(i.M2$,{shortcut:l.$.binds["0"],keyClassName:d.key});return(0,r.jsx)(o.Z,{guild:e.guild,onDismissed:()=>e.markAsDismissed(c.L.UNKNOWN),onClick:()=>(0,a.$Z)("CHANNEL_NOTICE"),message:u.intl.string(u.t.Qhk8cn),cta:t,trackingSource:s.PsQ.QUICK_SWITCHER_NOTICE,type:s.vID.QUICKSWITCHER,image:p,imageMarginX:50})}},785203:function(e,t,n){n.d(t,{R:()=>m,Z:()=>b});var r,i=n(647438),l=n(442837),a=n(897285),o=n(300213),s=n(554747),c=n(499137),u=n(929507),d=n(270144),p=n(400271),f=n(192513),h=n(255791),g=n(981631),m=((r={})[r.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD",r[r.MAX_MEMBER_COUNT=1]="MAX_MEMBER_COUNT",r[r.GUILD_LIVE_CHANNEL=2]="GUILD_LIVE_CHANNEL",r[r.GUILD_MFA_WARNING=3]="GUILD_MFA_WARNING",r[r.COMMANDS_MIGRATION=4]="COMMANDS_MIGRATION",r[r.APPLICATION_SUBSCRIPTION_EXPIRATION=5]="APPLICATION_SUBSCRIPTION_EXPIRATION",r[r.HUB_STUDY_ROOM=6]="HUB_STUDY_ROOM",r[r.CLAN_UPSELL=7]="CLAN_UPSELL",r);function b(e){var t;let n=null!=(t=null==e?void 0:e.id)?t:g.lds,r=(0,l.e7)([p.Z],()=>p.Z.isVisible(e)),m=(0,l.e7)([h.Z],()=>h.Z.isVisible(e)),b=(0,o.m)(n),_=(0,l.e7)([f.Z],()=>f.Z.isVisible(e)),O=u.Z.useShouldShowChannelNotice(n),E=(0,d.h6)(e),{enableStudyGroup:y}=(0,c.s)(e),v=E.length>0,I=y&&!(null==e?void 0:e.features.has(g.oNc.HUB)),C=(0,s.Vm)(n);if(i.useEffect(()=>{a.Z.getGuildEventsForCurrentUser(n)},[n]),r)return 0;if(m)return 1;if(b||null!=C)return 2;if(_)return 3;if(O)return 4;else if(v)return 5;else if(I)return 6;return null}},491575:function(e,t,n){n.d(t,{Z:()=>v});var r=n(951288),i=n(647438),l=n(512722),a=n.n(l),o=n(481060),s=n(176299),c=n(512847),u=n(612226),d=n(714338),p=n(607070),f=n(317858),h=n(635395),g=n(5560),m=n(451478),b=n(585483),_=n(145604),O=n(718813),E=n(981631),y=n(3484);let v=i.memo(function(){let e=i.useRef(null),t=i.useCallback(t=>{let{duration:n,intensity:r}=t;if(p.Z.useReducedMotion||!m.Z.isFocused())return;let{current:i}=e;a()(null!=i,"Shakeable is shaken when not mounted"),i.shake(n,r)},[]);return i.useEffect(()=>(d.Z.setLayout(u.ZP),d.Z.enable(),()=>d.Z.disable()),[]),i.useEffect(()=>(b.S.subscribe(E.CkL.SHAKE_APP,t),()=>{b.S.unsubscribe(E.CkL.SHAKE_APP,t)}),[t]),(0,f.Z)(),(0,r.jsxs)(o.F0h,{ref:e,className:y.app,children:[(0,r.jsx)(O.Z,{className:y.layers,children:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(h.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(_.Z,{}),(0,r.jsx)(g.Z,{}),(0,r.jsx)(o.c43,{})]})})},145604:function(e,t,n){n.d(t,{Z:()=>en}),n(583741),n(997841),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(224706),c=n(593472),u=n(941033),d=n(367907),p=n(731429),f=n(188471),h=n(176881),g=n(318885),m=n(358221),b=n(710845),_=n(581567),O=n(594190),E=n(38618),y=n(489745),v=n(924301),I=n(734307),C=n(355298),S=n(454991),N=n(837268),T=n(32300),P=n(371651),j=n(829907),x=n(509003),A=n(427679),Z=n(695346),w=n(592125),L=n(77498),R=n(271383),D=n(430824),k=n(131951),M=n(375954),U=n(19780),G=n(944486),B=n(914010),V=n(885110),H=n(9156),F=n(594174),z=n(774343),W=n(974042),Y=n(237997),K=n(626135),q=n(630388),Q=n(823379),X=n(981631);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}async function ee(e){var t;let{runningGame:n,game:r,detectionMethod:i,overlayStatus:l,overlayMethod:a,sharedGuildIds:o,voiceChannelId:s,voiceChannelType:u,voiceChannelBitrate:d,voiceChannelGuildId:p}=e,f=await (0,j.hj)(n.pid),{gameName:h,gameId:g,exe:m,distributor:b}=(0,_.G8)(n),E=(0,T.NW)("ChatAutoAnalytics",!1),y=l.enabledLegacy||E&&l.enabledOOP,v=S.v.legacyEnabled||E&&S.v.oopEnabled,I=l.source;K.default.track(X.rMx.LAUNCH_GAME,{game:h,game_id:g,verified:null!=r&&(0,_.vp)(m,null==r?void 0:r.executables),elevated:n.elevated,is_launcher:null!=(t=null==n?void 0:n.isLauncher)&&t,game_platform:X.M7m.DESKTOP,detection_method:i,distributor:b,is_overlay_enabled:v,is_overlay_game_enabled:y,is_overlay_game_source:I,fullscreen_type:null!=f?c.Jx[f]:c.Jx.UNKNOWN.toString(),overlay_method:N.gl[a],activity_status_enabled:Z.G6.getSetting(),activity_status_shared_guilds:o,current_user_status:V.Z.getStatus(),game_detection_enabled:(0,O.ik)(n),executable_path:m,voice_channel_id:s,voice_channel_type:u,voice_channel_bitrate:d,voice_channel_guild_id:p,distributor_game_id:n.sku,hidden_by_distributor:n.hidden,game_metadata:(0,x.sD)(n)}),null!=m&&O.ZP.addExecutableTrackedByAnalytics(m)}class et extends i.PureComponent{componentDidUpdate(e){var t,n,r,i,l,a;let{voiceChannelId:o,voiceChannelGuildId:c,voiceChannelType:u,voiceChannelBitrate:p,videoEnabled:h,isScreenSharing:_,runningGame:E,runningGamePid:y,selectedChannelId:I,selectedGuildId:C,connected:S}=this.props;if(e.voiceChannelId!==o&&null!=e.voiceChannelId){let t=O.ZP.getCurrentGameForAnalytics(),n=null!=t?t.name:"",r=A.Z.getStageInstanceByChannel(e.voiceChannelId),i=v.ZP.getActiveEventByChannel(e.voiceChannelId);K.default.track(X.rMx.LEAVE_VOICE_CHANNEL,$({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:U.Z.getRTCConnectionId(),game_name:n,duration:U.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:U.Z.getMediaSessionId(),stage_instance_id:null==r?void 0:r.id,guild_scheduled_event_id:null==i?void 0:i.id},(0,d.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),U.Z.getVoiceStateStats(),m.Z.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelId!==o&&null!=o){let e=O.ZP.getCurrentGameForAnalytics(),t=null!=e?e.name:"",n=A.Z.getStageInstanceByChannel(o),r=v.ZP.getActiveEventByChannel(o);(0,d.yw)(X.rMx.CHANNEL_OPENED,$({},(0,d.$H)(o))),(0,f.a)(X.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:o});let i=null,l=Y.default.getFocusedPID();null!=l&&P.default.getOverlayMethod(l)!==N.gl.Disabled&&(Y.default.isInstanceLocked()?i=X.ADE.OVERLAY_LOCKED_ACTIVATED:Y.default.isInstanceLocked()||(i=Y.default.isPinned(X.Odu.TEXT)?X.ADE.OVERLAY_UNLOCKED_PINNED:X.ADE.OVERLAY_UNLOCKED)),K.default.track(X.rMx.JOIN_VOICE_CHANNEL,$({location:i,channel_id:o,channel_type:u,channel_bitrate:p,guild_id:c,game_name:t,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==n?void 0:n.id,guild_scheduled_event_id:null==r?void 0:r.id,was_moved:U.Z.getWasMoved(),join_voice_id:U.Z.getJoinVoiceId()},(0,d.oG)(c,o),(0,d.kO)(c,o,h)))}let T=null!=E&&null!=E.distributor&&null!=E.sku&&null!=e.runningGame&&e.runningGame.distributor===E.distributor&&E.sku===e.runningGame.sku&&E.name===e.runningGame.name,j=null!=e.runningGame&&null!=E&&e.runningGame.isLauncher!==E.isLauncher;if(e.runningGame!==E&&null!=E&&!E.isLauncher&&(!T||j)){let e=L.Z.getGameByName(E.name),a=O.ZP.getOverrideForGame(E),d=D.Z.getGuildIds(),f=Z.SE.getSetting(),h=d.filter(e=>!f.includes(e)).slice(0,200),g=null;g=null!=a?"custom_override":null!=e?"verified_game":"launcher";let m=P.default.getTrackedGameByPid(E.pid),_=(0,O.b6)(E),v={enabledOOP:null!=(t=null==m?void 0:m.oopEnabled)?t:_.enabledOOP,enabledLegacy:null!=(n=null==m?void 0:m.legacyEnabled)?n:_.enabledLegacy,overlayMethod:null!=(r=null==m?void 0:m.overlayMethod)?r:_.overlayMethod,source:null!=(i=null==m?void 0:m.source)?i:_.source},I=null!=(l=P.default.getOverlayMethod(E.pid))?l:v.overlayMethod;if(setTimeout(()=>{(E.distributor===X.GQo.ROBLOX?this.debouncedRobloxAnalytics:ee)({runningGame:E,game:e,detectionMethod:g,overlayStatus:v,overlayMethod:I,sharedGuildIds:h,voiceChannelId:o,voiceChannelType:u,voiceChannelBitrate:p,voiceChannelGuildId:c})},1e4),null!=E.name&&null!=y&&L.Z.shouldReport(E.name)){let e=E.name;s.Z.identifyGame(y,e).then(e=>s.Z.reportUnverifiedGame(e)).catch(e=>new b.Z("AutoAnalytics").error("Cannot identify game",e))}}if((e.videoEnabled!==h||e.isScreenSharing!==_)&&null!=o){let e="none",t=[_?"screen":null,h?"camera":null].filter(Q.lm),n=null;_?(e="screen",n=(0,g.t)()):h&&(e="camera"),K.default.track(X.rMx.VIDEO_INPUT_TOGGLED,$({video_input_type:e,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:t,preview_enabled:Z.qF.getSetting()},n,this.getGameMetadata(),(0,d.AB)(o)))}if(S&&null!=I&&(!e.connected||I!==e.selectedChannelId||C!==e.selectedGuildId)){let t=e.selectedChannelId,n=w.Z.getChannel(t),r=D.Z.getGuild(null==n?void 0:n.getGuildId());if(null!=t&&null!=n&&null!=r&&r.publicUpdatesChannelId===t){let e=M.Z.getMessages(t),i=e.toArray().reverse().find(e=>{var t;return(0,q.yE)(e.flags,X.iLy.IS_CROSSPOST)&&(null==(t=e.messageReference)?void 0:t.guild_id)==="667560445975986187"});K.default.track(X.rMx.ACK_COMMUNITY_MESSAGES,$({last_message_id:null==i?void 0:i.id,last_message_reference_message_id:null==i||null==(a=i.messageReference)?void 0:a.message_id,messages_loaded:e.hasFetched},(0,d.v_)(n),(0,d.hH)(r.id)))}}}getGameMetadata(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}}render(){return null}constructor(...e){super(...e),J(this,"isMessageRequestsInitialized",!1),J(this,"debouncedRobloxAnalytics",a().debounce(ee,5e3))}}function en(){let[e,t]=(0,o.Wu)([G.Z],()=>[G.Z.getVoiceChannelId(),G.Z.getChannelId()],[]),n=(0,o.e7)([w.Z],()=>w.Z.getChannel(t),[t]),l=(0,o.e7)([m.Z],()=>(null==n?void 0:n.id)!=null&&m.Z.getChatOpen(n.id),[n]),a=null==n?void 0:n.nsfw,s=(0,o.e7)([w.Z],()=>w.Z.getChannel(e),[e]),c=(0,o.e7)([B.Z],()=>B.Z.getGuildId(),[]),g=(0,o.e7)([D.Z],()=>D.Z.getGuild(c),[c]),b=(0,o.e7)([F.default],()=>F.default.getCurrentUser(),[]),_=(0,o.e7)([R.ZP],()=>{var e,t;return null!=b&&null!=c&&null!=(t=null==(e=R.ZP.getMember(c,b.id))?void 0:e.isPending)&&t},[b,c]),v=(0,o.e7)([W.ZP],()=>W.ZP.getState().section,[]),S=(0,o.e7)([z.Z],()=>z.Z.getHomeLink(),[]),N=(0,o.e7)([E.Z],()=>E.Z.isConnected(),[]),[T,P]=(0,o.Wu)([k.Z],()=>[k.Z.isVideoEnabled(),k.Z.isScreenSharing()],[]),j=(0,o.e7)([V.Z],()=>V.Z.getPrimaryActivity(),[]),x=(0,o.e7)([O.ZP],()=>O.ZP.getCurrentGameForAnalytics(),[]),A=(0,y.Z)(c),Z=(0,o.e7)([C.Z],()=>C.Z.getMessageRequestsCount(),[]),L={selectedChannelId:t,isNSFWChannel:a,selectedGuildId:c,friendsTabSection:v,homeLink:S,connected:N,videoEnabled:T,isScreenSharing:P,voiceChannelId:null==s?void 0:s.id,voiceChannelGuildId:null==s?void 0:s.getGuildId(),voiceChannelType:null==s?void 0:s.type,voiceChannelBitrate:null==s?void 0:s.bitrate,runningGame:x,runningGamePid:null!=x?x.pid:null,gamePlatform:(0,u.Z)(j),gameName:null!=j?j.name:null,gameId:null!=j?j.application_id:null,gameExeName:null!=x?x.exeName:null,hasPreviewEnabled:null==g?void 0:g.features.has(X.oNc.PREVIEW_ENABLED),isMemberPending:_,postableChannelCount:A,isTextInVoice:l,numMessageRequests:Z},M=i.useRef(L);i.useEffect(()=>{M.current=L},[L]);let{connected:U,friendsTabSection:Y,homeLink:q,isMemberPending:Q,selectedChannelId:J,selectedGuildId:ee}=L;i.useEffect(()=>{if(U&&null!=J){let e=(0,p.K)(w.Z.getChannel(J),!0);(0,d.yw)(X.rMx.CHANNEL_OPENED,$({},e,(0,d.$H)(J))),(0,f.a)(X.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:J}),M.current.isTextInVoice&&(0,d.yw)(X.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:M.current.isNSFWChannel})}},[U,J]),i.useEffect(()=>{U&&null==ee&&q===X.Z5c.FRIENDS&&(0,h.Z)({tab_opened:Y})},[U,Y,q,ee]),i.useEffect(()=>{if(U&&null!=ee){var e,t,n,r;let i=(n=$({},Q?{is_pending:Q,preview_enabled:M.current.hasPreviewEnabled}:{}),r=r={postable_channels:M.current.postableChannelCount,premium_progress_bar_enabled:null!=(t=null==(e=D.Z.getGuild(B.Z.getGuildId()))?void 0:e.premiumProgressBarEnabled)&&t,viewing_all_channels:!H.ZP.isOptInEnabled(ee),num_recent_channels:I.Z.recentsChannelCount(ee)},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n);(0,d.yw)(X.rMx.GUILD_VIEWED,i),(0,f.a)(X.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:ee})}},[U,ee,Q]);let en=i.useRef(!1);return i.useEffect(()=>{U&&null==ee&&q===X.Z5c.MESSAGE_REQUESTS&&!en.current&&(en.current=!0,K.default.track(X.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:M.current.numMessageRequests}))},[U,ee,q]),(0,r.jsx)(et,$({},L))}},718813:function(e,t,n){n.d(t,{Z:()=>U}),n(539854);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(748780),c=n(442837),u=n(215569),d=n(481060),p=n(37234),f=n(134616),h=n(714338),g=n(663993),m=n(84615),b=n(984802),_=n(526665),O=n(819640),E=n(585483),y=n(981631),v=n(256076);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let N=(0,g.Un)({createPromise:()=>n.e("69470").then(n.bind(n,989804)),webpackId:989804,name:"UserSettings"}),T=(0,g.Un)({createPromise:()=>n.e("79835").then(n.bind(n,72493)),webpackId:72493}),P=(0,g.Un)({createPromise:()=>n.e("36878").then(n.bind(n,604960)),webpackId:604960,name:"UserSettingsV2"}),j=(0,g.Un)({createPromise:()=>Promise.all([n.e("36599"),n.e("58175"),n.e("7654"),n.e("47463"),n.e("86915")]).then(n.bind(n,869779)),webpackId:869779,name:"ChannelSettings"}),x=(0,g.Un)({createPromise:()=>n.e("45620").then(n.bind(n,838819)),webpackId:838819,name:"CollectiblesShop"}),A=(0,g.Un)({createPromise:()=>Promise.all([n.e("1806"),n.e("36599"),n.e("60962"),n.e("58175"),n.e("7654"),n.e("44156"),n.e("47463"),n.e("6850"),n.e("58227"),n.e("54408"),n.e("42926"),n.e("20087"),n.e("6049"),n.e("95140")]).then(n.bind(n,994763)),webpackId:994763,name:"GuildSettings"}),Z={[y.S9g.USER_SETTINGS]:()=>(0,_.yP)("Layers")?(0,i.jsx)(P,{}):(0,i.jsx)(N,{}),[y.S9g.CHANNEL_SETTINGS]:()=>(0,i.jsx)(j,{}),[y.S9g.GUILD_SETTINGS]:()=>(0,i.jsx)(A,{}),[y.S9g.COLLECTIBLES_SHOP]:()=>(0,i.jsx)(x,{}),[y.S9g.MANA_PLAYGROUND]:()=>(0,i.jsx)(T,{})},w="SHOWN",L="HIDDEN",R={friction:10,tension:100};function D(){return l.useEffect(()=>(h.Z.enable(),h.Z.enableTemp(f.u),()=>h.Z.disableTemp()),[]),null}class k extends(r=l.PureComponent){static getDerivedStateFromProps(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null}componentDidUpdate(e){let{mode:t}=this.props,{mode:n}=e;if(t!==n){if(t===w&&n===L)return this.animateIn();if(t===L&&n===w)return this.animateUnder()}}componentWillEnter(e){let{opacity:t,scale:n}=this.state;n.setValue(1.1),t.setValue(0),e(),this.setState({animating:!0},()=>this.animateIn())}componentWillLeave(e){this.setState({animating:!0},()=>this.animateOut(e))}animateIn(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;s.Z.parallel([s.Z.spring(t,C({toValue:1},R)),s.Z.spring(n,C({toValue:1},R))]).start(()=>this.animateComplete(e))}animateOut(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;E.S.dispatch(y.CkL.LAYER_POP_START),s.Z.parallel([s.Z.spring(t,C({toValue:0},R)),s.Z.spring(n,C({toValue:1.1},R))]).start(()=>{e(),E.S.dispatch(y.CkL.LAYER_POP_COMPLETE)})}animateUnder(){c.ZP.Emitter.pause(500);let{opacity:e,scale:t}=this.state;s.Z.parallel([s.Z.spring(e,C({toValue:0},R)),s.Z.spring(t,C({toValue:.93},R))]).start(()=>this.animateComplete())}animateComplete(e){this.setState({animating:!1},e)}render(){let{animating:e}=this.state,t=this.props,{name:n,mode:r,children:l,baseLayer:a}=t,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["name","mode","children","baseLayer"]),u=e||r===L?this.getAnimatedStyle():null,p=(0,i.jsx)(s.Z.div,S(C({ref:e=>this.containerRef.current=null!=e?e.componentRef:void 0,"data-layer":null!=n?n:"base","aria-hidden":r===L,className:o()(v.layer,{[v.baseLayer]:a,[v.animating]:e,"stop-animations":r===L}),style:u},c),{children:l}));return a?p:(0,i.jsx)(d.EqS,{containerRef:this.containerRef,children:p})}getAnimatedStyle(){let{baseLayer:e}=this.props,{opacity:t,scale:n}=this.state,{reducedMotion:r}=this.context;return{opacity:t,transform:r.enabled||e?void 0:[{scale:n},{translateZ:0}]}}constructor(e){super(e),I(this,"containerRef",l.createRef());let t=1,n=1;e.mode===L&&(t=.93,n=0),this.state={animating:!1,scale:new s.Z.Value(t),opacity:new s.Z.Value(n),mode:e.mode}}}I(k,"defaultProps",{baseLayer:!1}),I(k,"contextType",d.Sfi);class M extends l.PureComponent{componentDidMount(){E.S.subscribe(y.CkL.LAYER_POP_ESCAPE_KEY,p.xf)}componentWillUnmount(){E.S.unsubscribe(y.CkL.LAYER_POP_ESCAPE_KEY,p.xf)}renderLayers(){let{children:e,layers:t,hasFullScreenLayer:n}=this.props,{length:r}=t,l=[];return l.push((0,i.jsx)(k,{mode:0!==r||n?L:w,baseLayer:!0,children:e},"layer-base")),t.forEach((e,t)=>l.push(this.renderComponent(e,t,r))),l}renderComponent(e,t,n){let r;return r="string"==typeof e?Z[e]():(0,i.jsx)(e,{}),(0,i.jsxs)(k,{name:"string"==typeof e?e:void 0,mode:t===n-1?w:L,children:[(0,i.jsx)(D,{}),r]},"layer-".concat(t))}renderArtisanalHack(){return(0,i.jsx)(d.f6W,{theme:this.props.sidebarTheme,children:e=>(0,i.jsx)("div",{className:o()(v.bg,e)})})}render(){return(0,i.jsxs)(i.Fragment,{children:[this.renderArtisanalHack(),(0,i.jsx)(u.W,{component:"div",className:o()(v.layers,this.props.className),children:this.renderLayers()})]})}}function U(e){let t=(0,b.Ll)(),n=(0,c.e7)([O.Z],()=>O.Z.getLayers()),r=(0,m.QP)(e=>e.fullScreenLayers.length>0);return(0,i.jsx)(M,S(C({},e),{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}},479661:function(e,t,n){n.d(t,{n:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({id:"2025-08_custom_theme_share_send",kind:"user",label:"Custom Theme Share Send",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Enables sharing functionality for custom client themes",config:{enabled:!0}}]})},320007:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(665149),s=n(618158),c=n(819640),u=n(131951),d=n(924557),p=n(435064),f=n(779618),h=n(175470),g=n(203259),m=n(356659),b=n(388032);function _(e){let{canShowReminder:t=!1,className:_}=e,O=(0,f.Z)(u.Z),{showClipsHeaderEntrypoint:E}=d.NV.useExperiment({location:"ClipsButton"},{autoTrackExposure:!1}),{hasClips:y,hasNewClips:v,lastClipsSession:I,remindersEnabled:C,hasAnyClipAnimations:S}=(0,l.cj)([p.Z],()=>({hasClips:p.Z.hasClips(),hasNewClips:p.Z.getNewClipIds().length>0,lastClipsSession:p.Z.getLastClipsSession(),remindersEnabled:p.Z.getSettings().remindersEnabled,hasAnyClipAnimations:p.Z.hasAnyClipAnimations()})),N=null!=I&&I.newClipIds.length>0,T=(0,h.n)(e=>e.clipsButtonRef),P=(0,h.n)(e=>e.setClipsButtonRef),j=(0,l.e7)([c.Z],()=>c.Z.hasLayers()),{preventIdle:x,allowIdle:A}=(0,s.Y)("animation");function Z(){(0,a.ZDy)(async()=>{let{default:e}=await n.e("57478").then(n.bind(n,542055));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))},{modalKey:m.Qr})}return(i.useEffect(()=>(S?x():A(),()=>A()),[S,x,A]),E&&O&&y)?(0,r.jsxs)(r.Fragment,{children:[null!=T&&t&&C&&N&&!(0,a.$sL)()&&!j&&(0,r.jsx)(g.Z,{clipIconRef:T,lastClipsSession:I,onOpenClipsGallery:Z}),(0,r.jsx)("div",{ref:P,children:(0,r.jsx)(o.JO,{className:_,icon:a.AlX,showBadge:v,tooltip:b.intl.string(b.t.MXaLEB),onClick:Z})})]}):null}},203259:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(755721),l=n(481060),a=n(39604),o=n(176127),s=n(388032),c=n(703849);function u(e){let{onOpenClipsGallery:t,clipIconRef:n,lastClipsSession:u}=e;return(0,r.jsxs)(l.Cys,{tooltipClassName:c.reminderTooltip,tooltipContentClassName:c.tooltipContent,targetElementRef:{current:n},position:"bottom",color:l.FGA.PRIMARY,children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(l.X6q,{variant:"heading-md/extrabold",children:s.intl.format(s.t["+qxkzM"],{count:u.newClipIds.length})}),(0,r.jsxs)("div",{className:c.buttonContainer,children:[(0,r.jsx)(i.zx,{color:i.zx.Colors.TRANSPARENT,onClick:a.eL,children:s.intl.string(s.t.WAI6xs)}),(0,r.jsx)(l.zxk,{variant:"primary",text:s.intl.string(s.t.tQPBmp),onClick:t})]})]})}},362762:function(e,t,n){n.d(t,{Z:()=>d});var r,i,l=n(442837),a=n(570140),o=n(981631);let s=null,c={};class u extends(i=l.ZP.Store){getState(e){return c[e]}getHighestState(){return s}}(r="displayName")in u?Object.defineProperty(u,r,{value:"CodedLinkNativeAppStateStore",enumerable:!0,configurable:!0,writable:!0}):u[r]="CodedLinkNativeAppStateStore";let d=new u(a.Z,{NATIVE_APP_MODAL_OPENING:function(e){let{code:t}=e;c[t]=o.kEZ.OPENING,null===s&&(s=o.kEZ.OPENING)},NATIVE_APP_MODAL_OPENED:function(e){let{code:t}=e;c[t]=o.kEZ.OPEN,s=o.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){let{code:t}=e;c[t]=o.kEZ.OPEN_FAIL,(null===s||s===o.kEZ.OPENING)&&(s=o.kEZ.OPEN_FAIL)}})},954709:function(e,t,n){n.d(t,{Z:()=>c});var r=n(664081),i=n(570140),l=n(317770),a=n(863750),o=n(335131);class s extends l.Z{_initialize(){i.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){i.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}handlePostConnectionOpen(){let e=a.Z.get("shop_include_unpublished");(0,o.R2)({release:e?r.P.BETA:r.P.PROD})}}let c=new s},14401:function(e,t,n){n.d(t,{B:()=>a,p:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-07_shop_summer_sale_cohort_1",label:"Shop Summer Sale Cohort 1",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{},treatments:[{id:1,label:"Bucket 1",config:{}},{id:2,label:"Bucket 2",config:{}}]}),a=(0,r.B)({kind:"user",id:"2025-07_shop_summer_sale_cohort_2",label:"Shop Summer Sale Cohort 2",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{},treatments:[{id:1,label:"Bucket 1",config:{}},{id:2,label:"Bucket 2",config:{}}]})},447988:function(e,t,n){n.d(t,{J:()=>l}),n(388685);var r=n(647438),i=n(685816);let l=(e,t,n)=>{let[i,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let r=a(e);if(t||n||null==r)return void l(!1);let i=r-Date.now();if(i<=0)return void l(!0);l(!1);let o=setTimeout(()=>{l(!0)},Math.min(0x7fffffff,i));return()=>clearTimeout(o)},[t,n,e]),i},a=e=>{let t=null;return e.forEach(e=>{let n=null;e.type===i.z.IMMERSIVE_BANNER?n=null!=e.endTime?e.endTime.getTime():null:e.type===i.z.COUNTDOWN_TIMER&&(n=e.endTime.getTime()),(null==t||null!=n&&n<t)&&(t=n)}),t}},364111:function(e,t,n){n.d(t,{E:()=>f}),n(388685);var r=n(647438),i=n(311570),l=n(442837),a=n(353926),o=n(358085),s=n(335131),c=n(597688),u=n(52030),d=n(447988);let p=i.v.VARIANTS_GROUP;function f(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=(0,l.e7)([a.Z],()=>a.Z.hasLoadedExperiments),h=(0,l.e7)([c.Z],()=>c.Z.skipNumCategories),g=(0,o.isDesktop)()||(0,o.isWeb)(),[m,b,_,O,E,y,v,I]=(0,l.Wu)([u.Z],()=>{var t,n;return[u.Z.getShopBlocks(e),null!=(t=u.Z.getLastSuccessfulFetch(e))?t:0,null!=(n=u.Z.getLastErrorTimestamp(e))?n:0,u.Z.getLastFetchOptions(e),u.Z.getFetchShopHomeError(e),u.Z.getIsFetchingShopHome(e),u.Z.getHasKnownStaleData(e),u.Z.getShopHomeConfigOverride()]}),C=(0,r.useMemo)(()=>{var e,n;return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),n=n={variantsReturnStyle:p,includeBundles:g,includePopularPicks:!0,includeDynamicBlocks:!0,shopHomeConfig:I,skipNumCategories:h},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e},[t,g,I,h]),S=(0,r.useMemo)(()=>!(0,s.oc)(O,C),[O,C]),N=(0,d.J)(m,null!=y&&y,i),T=(0,r.useMemo)(()=>!N&&Date.now()-b<6e5,[b,N]);return(0,r.useEffect)(()=>{if(!f||y)return;let t=Date.now()-_<6e5;(null==E||!t)&&(S||!T||v)&&(0,s.Ov)(e,C,n)},[f,y,E,_,T,v,S,C,e,n]),{isFetchingShopHome:y,fetchShopHomeError:E,shopBlocks:m,refreshShopHome:(0,r.useCallback)(()=>{(0,s.Ov)(e,C,n)},[e,C,n])}}},644679:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(481060),l=n(570140),a=n(317770),o=n(19780),s=n(594174),c=n(960048),u=n(981631);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p="CollectiblesExpiryModal";class f extends a.Z{_initialize(){l.Z.subscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal)}_terminate(){l.Z.unsubscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.unsubscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal),null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}constructor(...e){super(...e),d(this,"timeout",null),d(this,"handleMaybeOpenModal",()=>{var e;let t=s.default.getCurrentUser(),n=null==t||null==(e=t.avatarDecoration)?void 0:e.expiresAt;null!=n&&(this.maybeOpenModal()||(null!=this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.maybeOpenModal,1e3*n-Date.now()+1e3)))}),d(this,"maybeOpenModal",()=>{var e,t;let l=s.default.getCurrentUser(),a=o.Z.getState(),f=null==l||null==(e=l.avatarDecoration)?void 0:e.skuId,h=null==l||null==(t=l.avatarDecoration)?void 0:t.expiresAt;return null!=l&&!!(null!=h&&1e3*h<Date.now())&&a!==u.hes.RTC_CONNECTED&&((0,i.Mr3)(p),(0,i.ZDy)(async()=>{let{default:e}=await n.e("77370").then(n.bind(n,83950));return t=>(0,r.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},t),{skuId:f}))},{modalKey:p}),c.Z.captureMessage("Collectible expiry modal shown"),!0)})}}let h=new f},463119:function(e,t,n){n.d(t,{i:()=>B}),n(388685);var r=n(951288),i=n(647438),l=n(91192),a=n(442837),o=n(780384),s=n(481060),c=n(596454),u=n(515753),d=n(410030),p=n(607070),f=n(100527),h=n(906732),g=n(821982),m=n(377171),b=n(633302),_=n(153066),O=n(335131),E=n(364111),y=n(729700),v=n(681435),I=n(81136),C=n(302800),S=n(215023),N=n(981631),T=n(921944),P=n(388032),j=n(677372);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let w=e=>{let{color:t}=e;return(0,r.jsx)(s.IGR,{className:j.newBadge,color:null!=t?t:m.Z.STATUS_DANGER_BACKGROUND,text:P.intl.string(P.t.y2b7CA)})},L=()=>{let{noCache:e,includeUnpublished:t}=(0,I.Z)();return(0,E.E)(S.AW.HOME,{noCache:e,includeUnpublished:t,includeBundles:!0},void 0,!0),null},R=e=>{var{selected:t,locationState:n,icon:a,onClick:o,collectibleShopTab:c,onMouseEnter:d,onMouseLeave:p,children:g}=e,m=Z(e,["selected","locationState","icon","onClick","collectibleShopTab","onMouseEnter","onMouseLeave","children"]);let b=(0,l.JA)("shop"),_=f.Z.HOME_PAGE_SHOP_TAB,{analyticsLocations:E}=(0,h.ZP)(_),[y,v]=i.useState(!1),I=i.useCallback(()=>{void 0!==o&&o(),void 0!==c&&(0,O.mK)({openInLayer:!1,tab:c,analyticsLocations:E,analyticsSource:_}),v(!0),(0,O.Sm)({analyticsSource:_,analyticsLocations:E})},[_,E,o,v,c]),C=N.Z5c.COLLECTIBLES_SHOP;return(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)(L,{}),(0,r.jsx)(u.Qj,A(x({selected:t,route:C,icon:null!=a?a:s.EOn,text:P.intl.string(P.t.pWG4zc),locationState:n},b,m),{onMouseEnter:d,onMouseLeave:p,onClick:I,children:g}))]})},D=e=>(0,r.jsx)(R,A(x({},e),{children:(0,r.jsx)(w,{})})),k=i.memo(function(e){var t;let{displayOptions:n,assetId:i,reducedMotion:l=!1}=e,a=null!=i?(0,g.Z)(i,s.EFr.SIZE_80,!l):void 0,o=n.title(),c=null==(t=n.body)?void 0:t.call(n),u=null==c||""===c;return(0,r.jsxs)("div",{className:j.shopMarketingTooltipContent,children:[(0,r.jsx)("div",{className:j.avatarContainer,children:(0,r.jsx)(s.qEK,{className:j.avatar,src:n.imageSrc,avatarDecoration:a,size:s.EFr.SIZE_80,"aria-hidden":!0})}),(0,r.jsxs)("div",{className:j.shopMarketingTooltipText,children:[(0,r.jsx)(s.X6q,{variant:u?"heading-sm/medium":"heading-sm/bold",children:o}),!u&&(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:j.marketingBadgeTooltipContent,children:c})]})]})}),M=e=>{let t,n;var l,c,u,f,h,g,m,b,O,E,y,v,{displayOptions:I}=e,C=Z(e,["displayOptions"]);let S=(0,a.e7)([p.Z],()=>p.Z.useReducedMotion),[N,T]=i.useState(0),[L,D]=i.useState(!1),M=(0,d.ZP)(),U=(0,o.wj)(M);L?U?(t=null==(l=I.entryPointBackgroundAssets)?void 0:l.srcDarkHovered,n=null==(u=I.entrypointBackgroundStyle)||null==(c=u.hovered)?void 0:c.dark):(t=null==(f=I.entryPointBackgroundAssets)?void 0:f.srcLightHovered,n=null==(g=I.entrypointBackgroundStyle)||null==(h=g.hovered)?void 0:h.light):U?(t=null==(m=I.entryPointBackgroundAssets)?void 0:m.srcDark,n=null==(O=I.entrypointBackgroundStyle)||null==(b=O.resting)?void 0:b.dark):(t=null==(E=I.entryPointBackgroundAssets)?void 0:E.srcLight,n=null==(v=I.entrypointBackgroundStyle)||null==(y=v.resting)?void 0:y.light);let G=i.useCallback(e=>{I.assetIds.length>0&&T(e=>(e+1)%I.assetIds.length),D(!0),null==e||e()},[I.assetIds.length]),B=i.useCallback(e=>{D(!1),null==e||e()},[]),V=I.title();return(0,r.jsx)(s.ua7,{text:(0,r.jsx)(k,{displayOptions:I,assetId:I.assetIds[N],reducedMotion:S}),tooltipClassName:j.marketingBadgeTooltip,position:"right",delay:100,allowOverflow:!0,hideOnClick:!1,"aria-label":"string"==typeof V?V:P.intl.string(P.t.rSXaxc),children:e=>(0,r.jsxs)(R,A(x(A(x({className:null!=I.entryPointClassName?(0,_.l)(j,I.entryPointClassName):void 0},C),{icon:I.entryPointIcon}),e),{onMouseEnter:()=>G(e.onMouseEnter),onMouseLeave:()=>B(e.onMouseLeave),children:[(0,r.jsx)("div",{className:j.marketingButtonBackground,style:{background:n},children:null!=t&&(0,r.jsx)("img",{src:t,className:j.marketingButtonBackgroundImage,alt:"","aria-hidden":!0})}),(0,r.jsx)(w,{color:I.badgeColor})]}))})},U=e=>{var{displayOptions:t}=e,n=Z(e,["displayOptions"]);let l=i.useMemo(()=>{var e;let n=null!=t.emojiName?null==(e=b.ZP.getByName(t.emojiName))?void 0:e.surrogates:null;return(0,r.jsxs)(s.Text,{variant:"text-sm/medium",className:j.marketingBadgeTooltipContent,children:[null!=n&&(0,r.jsx)(c.Z,{emojiName:n}),t.title()]})},[t]);return(0,r.jsx)(s.ua7,{text:l,tooltipClassName:j.marketingBadgeTooltip,position:"right",delay:100,hideOnClick:!1,"aria-label":t.title(),children:e=>(0,r.jsx)(R,A(x({},n,e),{children:(0,r.jsx)(w,{color:t.badgeColor})}))})},G=e=>{var t,n,{displayOptions:l,dismissContent:a}=e,s=Z(e,["displayOptions","dismissContent"]);let c=i.useRef(null),u=(0,d.ZP)(),p=(0,o.wj)(u),f=l.entryPointBackgroundAssets,h=l.entrypointBackgroundStyle,g=p?null==f?void 0:f.srcDarkHovered:null==f?void 0:f.srcLightHovered,m=p?null==h||null==(t=h.hovered)?void 0:t.dark:null==h||null==(n=h.hovered)?void 0:n.light;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(R,A(x({},s),{onClick:()=>a(T.L.TAKE_ACTION),listItemRef:c,children:[(0,r.jsx)("div",{className:j.marketingButtonBackground,style:null!=m?{background:m}:void 0,children:null!=g&&(0,r.jsx)("img",{src:g,className:j.marketingButtonBackgroundImage,alt:"","aria-hidden":!0})}),(0,r.jsx)(w,{})]})),(0,r.jsx)(y.Z,{displayOptions:l,targetElementRef:c,onClick:()=>a(T.L.TAKE_ACTION),onRequestClose:()=>a(T.L.USER_DISMISS)})]})},B=e=>{let{selected:t,onClick:n,locationState:i,listItemRef:l}=e,{shopButtonDisplayOptions:a,dismissShopButtonDC:o}=(0,v.Z)(),s={selected:t,locationState:i,onClick:()=>{o(),null==n||n()},listItemRef:l};if(null!=a)switch(a.type){case C.k2.TOOLTIP:return(0,r.jsx)(U,A(x({},s),{displayOptions:a}));case C.k2.COACHTIP:return(0,r.jsx)(M,A(x({},s),{displayOptions:a}));case C.k2.BADGE:return(0,r.jsx)(D,x({},s));case C.k2.COACHMARK:return(0,r.jsx)(G,A(x({dismissContent:o},s),{displayOptions:a}))}return(0,r.jsx)(R,x({},s))}},219778:function(e,t,n){n.d(t,{n:()=>o});var r=n(647438),i=n(180650);let l={[i.T.AESPA]:{responsive:!0,backgroundStyle:"linear-gradient(0deg,rgba(40, 8, 120, 1) 0%,rgba(13, 8, 111, 1) 15%,rgba(11, 2, 60, 1) 50%,rgba(6, 1, 21, 1) 100%)"},[i.T.ORB]:{responsive:!0,backgroundStyle:"linear-gradient(180deg, rgba(39, 30, 173, 0.3), transparent)",hideSideShadow:!0}},a={responsive:void 0,backgroundStyle:void 0,hideSideShadow:!1},o=e=>(0,r.useMemo)(()=>{let t=null!=e?l[e]:null;return null!=t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a,t):a},[e])},118379:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(663993).Un)({createPromise:()=>n.e("45620").then(n.bind(n,838819)),webpackId:838819})},729700:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(907862),a=n(780384),o=n(410030),s=n(100527),c=n(906732),u=n(703656),d=n(335131),p=n(981631),f=n(388032);let h=e=>{let{displayOptions:t,targetElementRef:n,onRequestClose:h,onClick:g}=e,{analyticsLocations:m}=(0,c.ZP)(s.Z.HOME_PAGE_SHOP_TAB),b=(0,o.ZP)(),_=(0,a.wj)(b)?t.assetDark:t.assetLight,O=i.useRef(h);return O.current=h,i.useEffect(()=>()=>{var e;null==(e=O.current)||e.call(O)},[]),(0,r.jsx)(l.J2,{targetElementRef:n,position:"right",align:"top",size:"md",caretConfig:{position:"left",align:"start"},title:t.title(),body:t.body(),graphic:{type:"image",src:_},actions:[{text:f.intl.string(f.t.fYfGgI),variant:"primary",onClick:()=>{null==g||g(),(0,u.uL)(p.Z5c.COLLECTIBLES_SHOP),(0,d.mK)({openInLayer:!1,analyticsLocations:m,analyticsSource:s.Z.HOME_PAGE_SHOP_TAB})}}],onRequestClose:h})}},794324:function(e,t,n){n.d(t,{Oi:()=>p,YG:()=>d,hr:()=>u,kc:()=>h,mB:()=>g,t0:()=>f});var r=n(647438),i=n(264181),l=n(884697),a=n(219778),o=n(619899),s=n(281598),c=n(215023);let u=e=>{let t=(0,o.zL)(s.jE.HERO_LOGO),n=(0,o.zL)(s.jE.HERO_BANNER_STATIC),i=(0,o.zL)(s.jE.HERO_BANNER_ANIMATED),l=(0,a.n)(null==e?void 0:e.categorySkuId);return r.useMemo(()=>{var r,a,o,s,u,d;let p=(0,c.ZS)(e.categorySkuId),f=null!=n||null!=i,h=null!=n&&null==i;return{bannerOverrides:p,bannerStyleOverrides:f?void 0:null!=(s=e.bannerConfig)?s:l,logoStyleOverrides:f?void 0:e.logoConfig,heroLogo:null!=t?t:e.logoUrl,heroBannerStatic:null!=(u=null!=n?n:null==(r=e.bannerAsset)?void 0:r.static)?u:e.fallbackBannerUrl,heroBannerAnimated:h?void 0:null!=(d=null!=i?i:null==p||null==(a=p.heroBanner)?void 0:a.animationSource)?d:null==(o=e.bannerAsset)?void 0:o.animated}},[t,n,i,e,l])},d=(e,t)=>{var n;let r=(0,o.zL)(s.jE.FEATURED_BLOCK),i=(0,l.uV)(null==e?void 0:e.featuredBlock,{size:c.J0,format:"png"});return null!=(n=null!=r?r:null==t?void 0:t.bannerUrl)?n:i},p=e=>{var t,n;let r=(0,o.zL)(s.jE.CATALOG_BANNER_STATIC),i=(0,o.zL)(s.jE.CATALOG_BANNER_ANIMATED);return{catalogBannerStatic:null!=r?r:null==(t=e.catalogBannerAsset)?void 0:t.static,catalogBannerAnimated:null!=i?i:null==(n=e.catalogBannerAsset)?void 0:n.animated}},f=e=>{let t=(0,o.zL)(s.jE.SHOP_ALL_BANNER_STATIC),n=(0,o.zL)(s.jE.SHOP_ALL_BANNER_ANIMATED);return r.useMemo(()=>{var r,i,l,a,o,s;let u=(0,c.ZS)(e.skuId);return{bannerOverrides:u,shopAllBannerStatic:null!=(a=null!=(l=null!=t?t:n)?l:null==(r=e.bannerAsset)?void 0:r.static)?a:e.banner,shopAllBannerAnimated:null!=(s=null!=(o=null!=n?n:t)?o:null==u?void 0:u.animatedBanner)?s:null==(i=e.bannerAsset)?void 0:i.animated}},[t,n,e])},h=e=>{let t=(0,o.zL)(s.jE.PDP_BACKGROUND);return null!=t?t:e.pdpBg},g=e=>{let t=(0,o.zL)(s.jE.SHOP_BUTTON_BG_HOVER),n=(0,o.zL)(s.jE.SHOP_BUTTON_BG_HOVER_DARK),l=(0,o.zL)(s.jE.SHOP_BUTTON_BG_HOVER_LIGHT),a=(0,o.zL)(s.jE.SHOP_BUTTON_BG_RESTING),c=(0,o.zL)(s.jE.SHOP_BUTTON_BG_RESTING_DARK),u=(0,o.zL)(s.jE.SHOP_BUTTON_BG_RESTING_LIGHT),d=(0,o.zL)(s.jE.COACHTIP_AVATAR);return r.useMemo(()=>{var r,o,s,p,f;let h=[t,n,l,a,c,u,d].some(e=>null!=e);if((null==e?void 0:e.type)===i.Z.COACHMARK)return{hasPreviewAssets:!1};let g=null==e||null==(r=e.refTargetBackground)?void 0:r.asset,m=null==g?void 0:g.resting,b=null==g?void 0:g.hovered;return{hasPreviewAssets:h,buttonBGHoverDark:null!=(o=null!=n?n:t)?o:null==b?void 0:b.dark,buttonBGHoverLight:null!=(s=null!=l?l:t)?s:null==b?void 0:b.light,buttonBGRestingDark:null!=(p=null!=c?c:a)?p:null==m?void 0:m.dark,buttonBGRestingLight:null!=(f=null!=u?u:a)?f:null==m?void 0:m.light,coachtipAvatar:null!=d?d:null==e?void 0:e.avatar}},[t,n,l,a,c,u,d,e])}},681435:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(647438),i=n(115434),l=n(264181),a=n(442837),o=n(704215),s=n(481060),c=n(243778),u=n(874703),d=n(794324),p=n(302800),f=n(921944);let h=()=>{var e;let t=(0,a.e7)([u.Z],()=>u.Z.getMarketingBySurface(i.K.DESKTOP_SHOP_BUTTON)),n=!(0,s.$sL)(),[h,g]=(0,c.XR)(n?o.z.COLLECTIBLES_SHOP_ENTRY_MARKETING:null,null!=(e=null==t?void 0:t.version)?e:0,void 0,!0),m=(0,d.mB)(t),b=null!=h?((e,t)=>{var n,r,i,a,o,s,c,u;if((null==t?void 0:t.type)===l.Z.COACHTIP||e.hasPreviewAssets){let i=null!=t?{title:()=>t.title,body:()=>t.body,assetIds:t.decorations,entrypointBackgroundStyle:null==(n=t.refTargetBackground)?void 0:n.style}:{title:()=>"",assetIds:[]};return c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:p.k2.COACHTIP},i),u=u={imageSrc:null!=(r=e.coachtipAvatar)?r:"",entryPointBackgroundAssets:{srcDark:e.buttonBGRestingDark,srcLight:e.buttonBGRestingLight,srcDarkHovered:e.buttonBGHoverDark,srcLightHovered:e.buttonBGHoverLight}},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(u)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(u,e))}),c}if((null==t?void 0:t.type)===l.Z.COACHMARK){let e=t.refTargetBackground;return{type:p.k2.COACHMARK,title:()=>t.title,body:()=>t.body,assetDark:t.assetDark,assetLight:t.assetLight,entrypointBackgroundStyle:null==e?void 0:e.style,entryPointBackgroundAssets:{srcDarkHovered:null==e||null==(a=e.asset)||null==(i=a.hovered)?void 0:i.dark,srcLightHovered:null==e||null==(s=e.asset)||null==(o=s.hovered)?void 0:o.light}}}return null})(m,t):null,_=r.useCallback(()=>{null!=b&&g(f.L.AUTO)},[b,g]);return{shopButtonDisplayOptions:b,dismissShopButtonDC:_}}},81136:function(e,t,n){n.d(t,{Z:()=>i});var r=n(580747);let i=()=>({noCache:(0,r.Z)("shop_disable_cache"),includeUnpublished:(0,r.Z)("shop_include_unpublished")})},998730:function(e,t,n){n.d(t,{N:()=>o}),n(388685);var r=n(647438),i=n(302221),l=n(956664);async function a(e){return(await new Promise((t,n)=>{let r=new Image;r.crossOrigin="Anonymous",r.onerror=e=>{n(e),null!=r&&(r.onerror=null,r.onload=null),r=null},r.onload=()=>{null!=r?(t((0,l.XN)(r,2,10)),r.onerror=null,r.onload=null,r=null):n("image is null")},r.src=e})).map(e=>{let[t,n,r]=e;return(0,i.vq)(t,n,r)})}function o(e){let[t,n]=r.useState(),i=r.useRef(!1);return null==e||null!=t||i.current||(i.current=!0,a(e).then(e=>{n(e[0])})),t}},403763:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288);n(647438);var i=n(392711),l=n.n(i),a=n(481060),o=n(463395),s=n(131951),c=n(34828),u=n(65154);let d=new Set(["DisplayPort"]),p="connected-device-modal";function f(){let e;if((0,a.nfh)(p))return;let t=s.Z.getInputDeviceId(),i=s.Z.getOutputDeviceId();if(c.Z.getState().neverShowModal||l().isEmpty(c.Z.lastDeviceConnected))return;let f=(0,c.X)(s.Z.getInputDevices()[t]),h=(0,c.X)(s.Z.getOutputDevices()[i]);if(l().some(c.Z.lastDeviceConnected,e=>d.has(e.displayName)||e.displayName===f||e.displayName===h))return;let g=l().some(c.Z.lastDeviceConnected,e=>o.Z.isCertified(c.Z.inputDevices[e.displayName])||o.Z.isCertified(c.Z.outputDevices[e.displayName]));if((t===u.w5&&c.Z.lastInputSystemDevice.justChanged||i===u.w5&&c.Z.lastOutputSystemDevice.justChanged)&&!g)return;let m=l().first(Object.keys(c.Z.lastDeviceConnected)),b=null!=m&&""!==m?c.Z.lastDeviceConnected[m]:null;null!=b&&(c.Z.getState().ignoredDevices[b.displayName]||(c.Z.initialized&&null!=m&&(o.Z.isCertified(c.Z.inputDevices[m])?e=o.Z.getCertifiedDevice(c.Z.inputDevices[m]):o.Z.isCertified(c.Z.outputDevices[m])&&(e=o.Z.getCertifiedDevice(c.Z.outputDevices[m]))),(0,a.ZDy)(async()=>{let{default:t}=await n.e("30042").then(n.bind(n,30575));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(t,{device:b,certifiedDeviceMetadata:e,transitionState:i,onClose:l})}},{modalKey:p})))}let h={init(){c.Z.addChangeListener(f)}}},34828:function(e,t,n){n.d(t,{X:()=>C,Z:()=>T}),n(35282);var r,i=n(392711),l=n.n(i),a=n(442837),o=n(570140),s=n(846027),c=n(581883),u=n(131951),d=n(358085),p=n(533583),f=n(65154);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g={ignoredDevices:{}},m=g,b=!1,_={},O={},E={},y={id:null,justChanged:!1},v={id:null,justChanged:!1},I=/\(([^)]+)\)/;function C(e){if((0,d.getPlatform)()===d.PlatformTypes.WINDOWS){let t=e.name.match(I);if(null!=t)return t[1]}return e.name}function S(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===p.Q.INPUT&&n===p.Q.OUTPUT||e.type===p.Q.OUTPUT&&n===p.Q.INPUT?{displayName:t,type:p.Q.INPUT_AND_OUTPUT}:e}class N extends(r=a.ZP.DeviceSettingsStore){initialize(e){this.waitFor(u.Z,c.Z),m=null!=e?e:g}getUserAgnosticState(){return m}get initialized(){return b}get lastDeviceConnected(){return E}get inputDevices(){return _}get lastInputSystemDevice(){return y}get outputDevices(){return O}get lastOutputSystemDevice(){return v}}h(N,"displayName","ConnectedDeviceStore"),h(N,"persistKey","ConnectedDeviceStore"),h(N,"migrations",[e=>{if(null==e.ignoredDevices){var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({},e),n=n={ignoredDevices:{}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}return e}]);let T=new N(o.Z,{MEDIA_ENGINE_DEVICES:function(e){let{inputDevices:t,outputDevices:n}=e,r={};y.justChanged=!1,t.forEach(e=>{if(r[C(e)]=e.id,e.id===f.w5){var t;let n=null!=(t=e.originalId)?t:e.originalName;n!==y.id&&(y.justChanged=!0),y.id=n}});let i={};if(v.justChanged=!1,n.forEach(e=>{if(i[C(e)]=e.id,e.id===f.w5){var t;let n=null!=(t=e.originalId)?t:e.originalName;n!==v.id&&(v.justChanged=!0),v.id=n}}),!b){_=r,O=i,b=!0;return}let a=Object.keys(_),o=Object.keys(r),s=Object.keys(O),c=Object.keys(i),u=l().difference(a,o),d=l().difference(s,c);return u.length>0||d.length>0?E={}:(l().difference(o,a).forEach(e=>{E[e]=S(E[e],e,p.Q.INPUT)}),l().difference(c,s).forEach(e=>{E[e]=S(E[e],e,p.Q.OUTPUT)})),!(l().isEqual(a,o)&&l().isEqual(s,c))&&(_=r,O=i,!0)},CONNECTED_DEVICE_SWITCH:function(e){let{displayName:t,connectedDevicePreference:n,location:r}=e;if(n===p.a.INPUT||n===p.a.INPUT_AND_OUTPUT){let e=_[t];null!=e&&o.Z.wait(()=>s.Z.setInputDevice(e,{location:r}))}if(n===p.a.OUTPUT||n===p.a.INPUT_AND_OUTPUT){let e=O[t];o.Z.wait(()=>s.Z.setOutputDevice(e,{location:r}))}delete E[t]},CONNECTED_DEVICE_DONT_SWITCH:function(e){let{displayName:t}=e;delete E[t]},CONNECTED_DEVICE_IGNORE:function(e){let{displayName:t}=e;m.ignoredDevices[t]=!0,delete E[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){E={},m.neverShowModal=!0}})},533583:function(e,t,n){n.d(t,{Q:()=>l,a:()=>a});var r,i,l=((r={}).INPUT="INPUT",r.OUTPUT="OUTPUT",r.INPUT_AND_OUTPUT="INPUT_AND_OUTPUT",r),a=((i={}).INPUT="INPUT",i.OUTPUT="OUTPUT",i.INPUT_AND_OUTPUT="INPUT_AND_OUTPUT",i)},314533:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(317770);let o="CONNECTIONS_GRID_MODAL_KEY";class s extends a.Z{_initialize(){l.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}_terminate(){l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}handleShow(e){let{onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c}=e;(0,i.nfh)(o)||(0,i.ZDy)(async()=>{let{default:e}=await n.e("28538").then(n.bind(n,51299));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c},n))})}handleHide(){(0,i.Mr3)(o)}}let c=new s},507294:function(e,t,n){n.d(t,{default:()=>Z,g:()=>A}),n(388685),n(472816),n(794429),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(435935),s=n(442837),c=n(780384),u=n(481060),d=n(239091),p=n(749210),f=n(410030),h=n(726542),g=n(884338),m=n(367907),b=n(313201),_=n(598077),O=n(314897),E=n(271383),y=n(485386),v=n(626135),I=n(63063),C=n(134433),S=n(225104),N=n(981631),T=n(388032),P=n(375563),j=n(245141);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){(0,u.ZDy)(async()=>{let{default:i}=await n.e("38413").then(n.bind(n,107807));return n=>(0,r.jsx)(i,x({role:e,guildId:t},n))})}let Z=function(e){let{guildId:t,transitionState:l,onClose:Z}=e,w=(0,s.e7)([y.Z],()=>y.Z.getSortedRoles(t)),L=(0,s.e7)([O.default],()=>O.default.getId()),R=(0,s.e7)([E.ZP],()=>E.ZP.getMember(t,L)),[D,k]=i.useState([]),M=(0,f.ZP)(),U=(0,b.Dt)();if(i.useEffect(()=>{0!==D.length&&v.default.track(N.rMx.PASSPORT_ENTRY_VIEWED,x({role_ids:D.map(e=>{let{role_id:t}=e;return t})},(0,m.hH)(t)))},[t,D]),i.useEffect(()=>{p.Z.getGuildRoleConnectionsConfigurations(t).then(e=>k(e))},[t]),null==R)return null;let G=w.filter(e=>null===e.tags.guild_connections);return(0,r.jsxs)(u.Y0X,{transitionState:l,"aria-labelledby":U,className:P.modal,parentComponent:"GuildRoleConnectionsModal",children:[(0,r.jsxs)(u.xBx,{separator:!1,justify:o.k.Justify.BETWEEN,children:[(0,r.jsxs)("div",{className:P.header,children:[(0,r.jsx)(C.Z,{className:P.headerIcon,size:24}),(0,r.jsx)(u.X6q,{variant:"text-lg/semibold",children:T.intl.string(T.t.ghtnsr)})]}),(0,r.jsx)(u.olH,{onClick:Z})]}),(0,r.jsxs)(u.hzk,{className:P.container,children:[(0,r.jsx)(u.X6q,{variant:"heading-md/medium",children:T.intl.format(T.t["Y+TsER"],{helpdeskArticleUrl:I.Z.getArticleURL(N.BhN.CONNECTION_DETAILS)})}),(0,r.jsx)("div",{className:P.verifiedRoles,children:G.map(e=>{let l=R.roles.includes(e.id),o=function(e){let n=D.find(t=>{let{role_id:n}=t;return n===e});if(null==n)return[];let i={};for(let e of n.rules.flat()){let o;if(null!=e.application_id){var l;let i=null==(l=n.applications)?void 0:l[e.application_id];o=(null==i?void 0:i.bot)!=null?(0,r.jsx)("img",{src:new _.Z(i.bot).getAvatarURL(t,24),alt:"",className:a()(P.botAvatar,j.avatar)}):null}else{let t=h.Z.get(e.connection_type);o=(0,r.jsx)("img",{src:(0,c.ap)(M)?t.icon.lightSVG:t.icon.darkSVG,alt:"",className:j.avatar})}null!=o&&(i["".concat(e.connection_type,":").concat(e.application_id)]=o)}return Object.values(i)}(e.id);return(0,r.jsxs)(u.P3F,{className:a()(P.verifiedRole,l?P.verifiedRoleHasRole:null),onClick:l?void 0:()=>A(e,t),onContextMenu:l?i=>{var l;return l=e.id,void(0,d.jW)(i,async()=>{let{default:e}=await n.e("60079").then(n.bind(n,850902));return n=>{var i,a;return(0,r.jsx)(e,(i=x({},n),a=a={roleId:l,onLeaveRole:()=>p.Z.unassignGuildRoleConnection(t,l)},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})}:void 0,children:[l?(0,r.jsx)("div",{className:P.roleCheckmark,children:(0,r.jsx)(u.kmB,{size:"xs",color:"currentColor"})}):null,(0,r.jsx)(S.Z,{guildId:t,role:e,size:24}),(0,r.jsxs)("div",{className:P.verifiedRoleNameDescriptionContainer,children:[(0,r.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:P.verifiedRoleName,children:e.name}),void 0!==e.description?(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"header-secondary",className:P.verifiedRoleDescription,children:e.description}):null]}),(0,r.jsx)(g.ZP,{showUserPopout:!1,guildId:t,users:o.map(()=>null),renderUser:(e,t,n)=>(0,r.jsx)(i.Fragment,{children:o[n]},n),max:3})]},e.id)})})]})]})}},9029:function(e,t,n){n.d(t,{Z:()=>c});var r=n(481060),i=n(570140),l=n(317770),a=n(507294),o=n(458034);class s extends l.Z{_initialize(){i.Z.subscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}_terminate(){i.Z.unsubscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}handleShow(e){let{role:t,guildId:n}=e;if(!(0,r.nfh)("GUILD_ROLE_CONNECTIONS_MODAL_KEY")){var i;null!=t&&(null==(i=t.tags)?void 0:i.guild_connections)===null?(0,a.g)(t,n):(0,o.Am)(n)}}}let c=new s},705348:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(82950),l=n(63063),a=n(981631),o=n(921944),s=n(388032),c=n(157476);function u(e){let{guild:t,markAsDismissed:n}=e;return(0,r.jsx)(i.Z,{image:c,guild:t,onDismissed:()=>n(o.L.UNKNOWN),onClick:()=>{open(l.Z.getArticleURL(a.BhN.CONNECTION_DETAILS)),n(o.L.UNKNOWN)},title:s.intl.string(s.t.YMgaJi),message:s.intl.string(s.t["AV/9eX"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.LINKED_ROLES_ADMIN_NUX,type:a.vID.LINKED_ROLES_ADMIN})}},225104:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(91218),l=n(518738),a=n(134433);function o(e){let{guildId:t,role:n,size:o,className:s}=e,c=(0,l.p9)({guildId:t,roleId:n.id,size:o});return null!=c?(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:s},c)):(0,r.jsx)(a.Z,{color:n.colorString,className:s,size:o})}},77878:function(e,t,n){n.d(t,{Z:()=>E});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(981631),o=n(365778);let s="1",c="2",u="3",d="4",p="5",f="6",h="1",g="2",m="3",b="4",_="5",O={[a.aIt.ESRB]:{[s]:o.esrbEveryone,[c]:o.esrbEveryoneTenPlus,[u]:o.esrbTeen,[d]:o.esrbMature,[p]:o.esrbAdult,[f]:o.esrbRatingPending},[a.aIt.PEGI]:{[h]:o.pegiThree,[g]:o.pegiSeven,[m]:o.pegiTwelve,[b]:o.pegiSixteen,[_]:o.pegiEighteen}},E=e=>{let{agency:t,rating:n,className:i}=e,a=O[t][n];return null==a?null:(0,r.jsx)("div",{className:l()(o.contentRating,a,i)})}},317858:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(647438),i=n(166516),l=n.n(i),a=n(525654),o=n.n(a),s=n(442837),c=n(91896),u=n(849862),d=n(888369),p=n(292959),f=n(699516),h=n(340895),g=n(358085),m=n(998502),b=n(252618),_=n(981631),O=n(388032);let E=new Set(["Blink","Gecko","WebKit"]),y=_.dG4;if(g.isPlatformEmbedded)y=e=>m.ZP.setBadge(e);else if(E.has(o().layout)){let e=new(l())({animation:"none"});y=t=>{try{(0,b.PR)(t),e.badge(-1===t?"":t)}catch(e){}}}function v(){let e=(0,s.e7)([h.Z],()=>h.Z.hasIncomingCalls()),t=(0,s.e7)([d.default,f.Z,p.Z,c.Z],()=>{let e=d.default.getTotalMentionCount(),t=(0,u.m$)([f.Z,c.Z]),n=d.default.hasAnyUnread(),r=p.Z.getDisableUnreadBadge(),i=e+t;return 0===i&&n&&!r&&(i=-1),i});r.useEffect(()=>{if(!e)return;let t=m.ZP.bounceDock("critical"),n=(0,b.EM)({messages:[O.intl.string(O.t["fk1/bW"])],count:50});return()=>{null==t||t(),n()}},[e]),r.useEffect(()=>{y(t)},[t]),r.useEffect(()=>()=>y(0),[])}},267161:function(e,t,n){n.r(t),n.d(t,{default:()=>ei,useAppSidebarState:()=>ee});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(843611),s=n(879690),c=n(442837),u=n(481060),d=n(230711),p=n(812206),f=n(174556),h=n(320007),g=n(540059),m=n(336219),b=n(609174),_=n(257966),O=n(916069),E=n(591472),y=n(111666),v=n(565138),I=n(300986),C=n(314451),S=n(35583),N=n(821020),T=n(370774),P=n(340137),j=n(522474),x=n(51596),A=n(141321),Z=n(819439),w=n(296241),L=n(165017),R=n(984802),D=n(592125),k=n(430824),M=n(944486),U=n(914010),G=n(451478),B=n(768581),V=n(998502),H=n(228488),F=n(950796),z=n(981631),W=n(176505),Y=n(741764),K=n(408491),q=n(388032),Q=n(345909),X=n(82504);function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let ee=(0,s.U)(()=>({isOpen:!0}));function et(e){let t,{selectedChannelId:n,withFastTravel:l,focusSectionProps:s}=e,d=(0,o.TH)(),f=(0,c.e7)([U.Z],()=>U.Z.getGuildId()),h=(0,c.e7)([D.Z],()=>D.Z.getChannel(n),[n]),g=null!=f?f:null==h?void 0:h.guild_id,m=(0,c.e7)([k.Z],()=>k.Z.getGuild(g),[g]),b=(0,O.Z)(),_=(0,T.D)(),{application:y,isFrameInFocusedMode:I}=(0,c.cj)([p.Z,E.Z],()=>{let e=E.Z.getConnectedFrame();return{application:p.Z.getApplication(null==e?void 0:e.applicationId),isFrameInFocusedMode:E.Z.getFrameLayoutMode()===K.U.FOCUSED}}),C=null!=y?B.ZP.getApplicationIconURL({id:y.id,icon:y.icon,bot:y.bot}):void 0,S=null;null!=y&&I?(t=y.name,S=(0,r.jsx)("img",{className:X.appIcon,alt:q.intl.string(q.t.X4IxWF),src:C,"aria-hidden":!0,draggable:!1})):_?(t=q.intl.string(q.t.HcoRu7),S=(0,r.jsx)(u.Dkj,{size:"xs"})):null!=m?(S=b?(0,r.jsx)(u.r7p,{size:"xs"}):(0,r.jsx)(v.Z,{guild:m,size:v.Z.Sizes.MINI,active:!0,className:X.guildIcon}),t=m.name):null!=h&&(h.isDM()||h.isGroupDM())?(t=q.intl.string(q.t.YUU0RE),S=(0,r.jsx)(u.gw7,{size:"xs"})):d.pathname.startsWith(z.Z5c.GLOBAL_DISCOVERY)?(t=q.intl.string(q.t["4nEZLi"]),S=(0,r.jsx)(u.Jmo,{size:"xs"})):d.pathname.startsWith(z.Z5c.NITRO_HOME)?(t=q.intl.string(q.t.Ipxkoq),S=(0,r.jsx)(u.SrA,{size:"xs"})):d.pathname.startsWith(z.Z5c.COLLECTIBLES_SHOP)?(t=q.intl.string(q.t.pWG4zc),S=(0,r.jsx)(u.EOn,{size:"xs"})):d.pathname.startsWith(z.Z5c.FRIENDS)?(t=q.intl.string(q.t.TdEu5e),S=(0,r.jsx)(u.iFz,{size:"xs"})):d.pathname.startsWith(z.Z5c.FAMILY_CENTER)&&(t=q.intl.string(Q.default.RZqaJi),S=(0,r.jsx)(u.BFJ,{size:"xs"}));let N=i.useCallback(e=>{(0,x.ZN)("fast-travel")},[]);return null==t||""===t?null:(0,r.jsx)(u.ua7,{shouldShow:l,"aria-label":q.intl.string(q.t["7P/+q6"]),tooltipContentClassName:X.navigationTooltip,text:(0,r.jsxs)(r.Fragment,{children:[q.intl.string(q.t["7P/+q6"]),(0,r.jsx)(u.M2$,{shortcut:["mod","k"]})]}),children:e=>(0,r.jsxs)(u.P3F,$(J({className:a()(X.title,{[X.fastTravel]:l})},e,s),{onClick:l?N:void 0,children:[S,(0,r.jsx)(u.Text,{variant:"text-sm/medium",lineClamp:1,children:t}),l&&(0,r.jsx)(u.Fbu,{size:"xs"})]}))})}function en(e){let{selectedChannelId:t,withFastTravel:n,focusSectionProps:i}=e,l=(0,c.e7)([U.Z,D.Z],()=>{let e=U.Z.getGuildId(),n=D.Z.getChannel(t);return null!=e?e:null==n?void 0:n.guild_id}),a=(0,L.H)({guildId:l,channelId:t});return null==a?(0,r.jsx)(et,{selectedChannelId:t,withFastTravel:n,focusSectionProps:i}):(0,r.jsx)(w.Z,{searchContext:a,focusSectionProps:i})}function er(e){let{withFastTravel:t,quickSwitcherInsteadOfTitle:n,focusSectionProps:i}=e,l=(0,c.e7)([M.Z],()=>M.Z.getChannelId()),a=(0,Z.$)({location:"TitleText"}),o=(0,c.e7)([D.Z],()=>{let e=D.Z.getChannel(l);return null!=e&&!e.isDirectory()&&!e.isGuildVocal()});return a&&null!=l&&!(0,W.AB)(l)&&o?(0,r.jsx)(en,{selectedChannelId:l,withFastTravel:t,focusSectionProps:i}):n?(0,r.jsx)(_.R,{focusSectionProps:i}):(0,r.jsx)(et,{selectedChannelId:l,withFastTravel:t,focusSectionProps:i})}let ei=i.memo(function(){i.useLayoutEffect(()=>{V.ZP.setMinimumSize(Y.J,Y.N)},[]);let e=(0,g.T)("AppTitleBar"),t=ee(e=>e.isOpen),{notificationCenterVariant:n,entrypoint:l}=(0,N.pN)({location:"AppTitleBar"}),{backForwardButtons:a,titlebarFastTravel:o,quickSwitcherInsteadOfTitle:s}=(0,m.t)({location:"AppTitleBar"}),{hasBugReporterAccess:p}=f.Z.useExperiment({location:"HeaderBar"},{autoTrackExposure:!1}),_=!t&&e,O=null!==n&&l===N.u3.TITLE_BAR_LEFT,E=null===n;i.useLayoutEffect(()=>{V.ZP.setMinimumSize(Y.J,Y.N)},[]);let v=(0,R.Ll)(),T=(0,c.e7)([G.Z,j.Z],()=>(0,H.rB)()),x=function(e){let{showBackForwardButtons:t,showCollapsedSidebarIcons:n,showNotificationsInbox:r,titlebarFastTravel:l,showRecentsButton:a}=e;return i.useMemo(()=>t?"BACK_FORWARD_NAVIGATION":n?"SIDEBAR":r?"NOTIFICATIONS_INBOX":l?"TITLEBAR_FAST_TRAVEL":a?"RECENTS":"HELP",[t,n,r,l,a])}({showBackForwardButtons:a,showCollapsedSidebarIcons:_,showNotificationsInbox:O,titlebarFastTravel:o,showRecentsButton:E});return T?null:(0,r.jsx)(u.Wdt,{children:e=>(0,r.jsx)(u.f6W,{theme:v,children:t=>(0,r.jsx)(F.TF,{className:t,leading:(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(b.Z,{firstElementFocusJumpSectionProps:"BACK_FORWARD_NAVIGATION"===x?e:void 0}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.P3F,$(J({},"SIDEBAR"===x?e:{}),{className:X.button,onClick:()=>{ee.setState({isOpen:!ee.getState().isOpen})},children:(0,r.jsx)(el,{})})),(0,r.jsx)(u.P3F,{className:X.button,onClick:()=>{d.Z.open(z.oAB.ACCOUNT)},children:(0,r.jsx)(u.ewm,{size:"xs",color:"currentColor"})})]}),O&&(0,r.jsx)(P.Z,{focusSectionProps:"NOTIFICATIONS_INBOX"===x?e:void 0})]}),title:(0,r.jsx)(er,{withFastTravel:o,quickSwitcherInsteadOfTitle:s,focusSectionProps:"TITLEBAR_FAST_TRAVEL"===x?e:void 0}),trailing:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{className:X.button}),(0,r.jsx)(h.Z,{canShowReminder:!0,className:X.button}),E&&(0,r.jsx)(A.Z,$(J({},"RECENTS"===x?e:{}),{className:X.button})),p?(0,r.jsx)(C.Z,{focusSectionProps:"HELP"===x?e:void 0,className:X.button}):(0,r.jsx)(I.Z,{focusSectionProps:"HELP"===x?e:void 0,className:X.button}),(0,r.jsx)(S.Z,{className:X.button})]})})})})});function el(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:X.icon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,r.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,r.jsx)("path",{d:"M9 3v18"})]})}},635395:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(647438),i=n(442837),l=n(846027),a=n(230711),o=n(91896),s=n(849862),c=n(888369),u=n(131951),d=n(292959),p=n(19780),f=n(699516),h=n(606304),g=n(358085),m=n(998502),b=n(981631);let _=(0,g.isMac)()?null:"DEFAULT";class O extends r.PureComponent{componentDidMount(){m.ZP.setSystemTrayIcon(this.getIcon())}componentDidUpdate(){m.ZP.setSystemTrayIcon(this.getIcon())}componentWillUnmount(){m.ZP.setSystemTrayIcon(_)}render(){return null}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getIcon",()=>{let{deafened:e,muted:t,speaking:n,connected:r,unread:i}=this.props,l=_;return(0,g.isMac)()&&!r?l:(0,g.isLinux)()||!r?(i&&(l="UNREAD"),l):l=e?"DEAFENED":t?"MUTED":n?"SPEAKING":"CONNECTED"})}}let E=()=>null;g.isPlatformEmbedded&&(m.ZP.on("SYSTEM_TRAY_TOGGLE_MUTE",()=>l.Z.toggleSelfMute({location:"System Tray"})),m.ZP.on("SYSTEM_TRAY_TOGGLE_DEAFEN",()=>l.Z.toggleSelfDeaf()),m.ZP.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",()=>{a.Z.open(b.oAB.VOICE)}),E=i.ZP.connectStores([p.Z,u.Z,h.Z,c.default,f.Z,d.Z,o.Z],()=>{let e=c.default.getTotalMentionCount(),t=c.default.hasAnyUnread(),n=(0,s.m$)([f.Z,o.Z]),r=!d.Z.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:p.Z.isConnected(),speaking:h.Z.isCurrentUserSpeaking(),muted:u.Z.isSelfMute()||u.Z.isSelfMutedTemporarily(),deafened:u.Z.isSelfDeaf(),unread:r}})(O));let y=E},264165:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(612597);let o=e=>{let{aspectRatio:t,style:n,className:i,children:o}=e;return(0,r.jsx)("div",{className:l()(a.outer,i),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({paddingTop:"".concat(1/t*100,"%")},n),children:(0,r.jsx)("div",{className:a.inner,children:o})})}},935347:function(e,t,n){n.d(t,{Z:()=>j}),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(433517),d=n(481060),p=n(205355),f=n(607070),h=n(38618),g=n(197344),m=n(460181),b=n(474873),_=n(706454),O=n(215427),E=n(820254),y=n(358085),v=n(998502),I=n(905656),C=n(981631),S=n(388032),N=n(744749);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.PureComponent{createSound(){let{soundpack:e}=this.props,t=(0,m.uk)("discodo",e);return t.volume=1,t}componentDidMount(){this.setProblemsTimeout()}componentDidUpdate(e,t){let{ready:n,hide:r,problems:i}=this.state,{connected:l,soundpack:a}=this.props,o=l&&n&&!r&&!i;e.soundpack!==a&&(this._connectedSound=this.createSound()),e.connected!==l||o?(l&&null!=this.videoRef&&u.K.get(C.wli)&&this._connectedSound.play(),this.setState({problems:!1,hide:l})):t.hide!==r?(r?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),setTimeout(()=>this.setState({shouldRender:!r}),200)):t.problems!==i&&i&&p.Z.checkIncidents()}componentWillUnmount(){this.clearProblemsTimeout()}render(){let{connected:e,incident:t}=this.props,{hide:n}=this.state;if(!this.state.shouldRender)return null;{let i=this._loadingText,l=null;return null!=this._eventLoadingText&&(i=this._eventLoadingText),null!=t&&(i=t.name,l=t.incident_updates[0].body),(0,r.jsxs)("div",{className:N.container,"data-fade":n,style:{"--connecting-container-fade-duration":"".concat(200,"ms"),"--connecting-content-fade-duration":"".concat(150,"ms")},children:[(0,r.jsxs)("div",{className:N.content,children:[(0,r.jsx)(I.Z,{autoPlay:!0,loop:!e,setRef:this.setVideoRef,onReady:this.handleReady,className:a()(N.spinner,this.state.ready?N.ready:"")}),(0,r.jsxs)("div",{className:N.text,children:[null!=t?null:(0,r.jsx)("div",{className:N.tipTitle,children:S.intl.string(S.t.v0R1Li)}),(0,r.jsx)("div",{className:null!=t?N.title:N.tip,children:i}),(0,r.jsx)("div",{className:N.body,children:l})]})]}),(0,r.jsxs)("div",{className:a()(N.problems,{[N.slideIn]:this.state.problems}),children:[(0,r.jsx)("div",{className:N.problemsText,children:S.intl.string(S.t.AG2zPD)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.eee,{className:N.twitterLink,href:C.yXt.TWITTER_SUPPORT,target:"_blank",children:[(0,r.jsx)(d.TAi,{size:"xs",color:"currentColor",className:N.icon}),S.intl.string(S.t.KlyTbm)]}),(0,r.jsxs)(d.eee,{className:N.statusLink,href:C.yXt.STATUS,target:"_blank",children:[(0,r.jsx)(E.Z,{className:N.icon}),S.intl.string(S.t.AgXXy8)]})]})]})]})}}constructor(e){super(e),T(this,"videoRef",null),T(this,"_noProblemsTimeout",null),T(this,"_problemsTimeout",null),T(this,"_connectedSound",this.createSound()),T(this,"_loadingText",function(){let e=[S.intl.string(S.t.Ex79Ky),S.intl.string(S.t["+v5zsb"]),S.intl.string(S.t["RLx6+f"]),S.intl.string(S.t.Q1PZkJ),S.intl.string(S.t.x7sfVl),S.intl.format(S.t.PHuQsb,{tabHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"tab",className:N.keybind},t)}),S.intl.string(S.t.UorX4e),S.intl.string(S.t["il/GZm"]),S.intl.string(S.t.HKBJv7),S.intl.format(S.t["FVVp7+"],{F6Hook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"f6",className:N.keybind},t),tabHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"tab",className:N.keybind},t)}),S.intl.string(S.t["7Y1hFB"]),S.intl.string(S.t["UcCW7+"]),S.intl.string(S.t.E5GhfX),S.intl.string(S.t.bANqo6),S.intl.string(S.t.yOEVDg),S.intl.string(S.t["u0Ra/P"]),S.intl.string(S.t.un4cQ0),S.intl.string(S.t["2cyYx8"]),S.intl.string(S.t.KCmze3),S.intl.string(S.t["C+hUc3"]),S.intl.string(S.t.I98MEB),S.intl.format(S.t.c0YCIy,{}),S.intl.string(S.t.z8AvIC),S.intl.string(S.t.IjX3Pz),S.intl.string(S.t.lg3CkZ),S.intl.string(S.t["4GaLhY"]),S.intl.string(S.t.qHKbU1),S.intl.string(S.t.mJxKDw),S.intl.string(S.t.iiQBXF),S.intl.string(S.t.YPD46e),S.intl.string(S.t.O8BpgY),S.intl.string(S.t.xzFwfn),S.intl.string(S.t["4G3fsb"]),S.intl.string(S.t["/jPyKC"]),S.intl.string(S.t["8x7D5e"]),S.intl.string(S.t.G6Q8Hx),S.intl.string(S.t["9Cx+xM"]),S.intl.string(S.t.WsZ8dX),S.intl.string(S.t.btoe7O),S.intl.string(S.t.E6Y0j4),S.intl.string(S.t["7KZ819"]),S.intl.string(S.t.hm7OKi),S.intl.string(S.t.H535i4),S.intl.string(S.t["08WJUV"]),S.intl.string(S.t.hhtfys),S.intl.string(S.t.on980d),S.intl.string(S.t.AL6c09),S.intl.string(S.t.iLTeFx),S.intl.string(S.t.b3vSu7),S.intl.string(S.t["f8ao5+"]),S.intl.format(S.t["1v1h8v"],{asterisks:"**"}),S.intl.format(S.t.MUlAVV,{quickSwitcherHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"mod+k",className:N.keybind},t)}),S.intl.format(S.t.aes5VF,{markUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"alt+click",className:N.keybind},t)}),S.intl.format(S.t.md9Svr,{markServerUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+esc",className:N.keybind},t)}),S.intl.format(S.t["X0Tu+v"],{navigateUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+alt+up",className:N.keybind},t),downHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"down",className:N.keybind},t)}),S.intl.format(S.t.AkoeIS,{keyboardShortcutsHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"mod+/",className:N.keybind},t)}),S.intl.format(S.t.P9sfAA,{messageNewlineHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+return",className:N.keybind},t)}),S.intl.format(S.t["3Ox33d"],{shiftHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift",className:N.keybind},t)}),S.intl.format(S.t.enCV6e,{upHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"up",className:N.keybind},t)})];return _.default.locale.startsWith("en-")&&e.push(S.intl.string(S.t.dQ9Wqq)),e[s().random(e.length-1)]}()),T(this,"_eventLoadingText",function(){let e=g.Z.getLoadingTips();if(null!=e&&e.length>0)return e[s().random(e.length-1)]}()),T(this,"handleReady",()=>{this.setState({ready:!0}),(0,y.isDesktop)()&&(v.ZP.send("UPDATED_QUOTES",["Hold Tight  Loading Discord"]),v.ZP.send("UPDATE_OPEN_ON_STARTUP"))}),T(this,"setVideoRef",e=>{this.videoRef=e}),T(this,"setProblemsTimeout",()=>{null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(()=>this.setState({problems:!0}),1e4))}),T(this,"clearProblemsTimeout",()=>{clearTimeout(this._problemsTimeout),this._problemsTimeout=null});let{connected:t}=e;this.state={ready:t,hide:t,problems:!1,shouldRender:!t},this._connectedSound.volume=1}}let j=c.ZP.connectStores([h.Z,O.Z,b.Z,f.Z],()=>({isTryingToConnect:h.Z.isTryingToConnect(),connected:h.Z.isConnected(),incident:O.Z.getIncident(),soundpack:b.Z.getSoundpack(),reducedMotion:f.Z.useReducedMotion}))(e=>{let{isTryingToConnect:t,connected:n,incident:i,soundpack:l,reducedMotion:a}=e;return t?(0,r.jsx)(P,{reducedMotion:a,soundpack:l,connected:n,incident:i}):null})},606081:function(e,t,n){n.d(t,{Z:()=>E}),n(49124),n(415506);var r,i,l,a,o=n(951288),s=n(647438);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function d(e,t){return u({"@type":e},function e(t){return Object.keys(t).forEach(n=>{null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw Error("[JSONLD] Invalid object format")}return t}(t)))}function p(e){return d("Thing",e)}function f(e){return d("Product",e)}f.Image=function(e){if(null==e)return null;let t=e.filter(e=>null!=e&&""!==e);return 0===t.length?null:1===t.length?t[0]:t};var h=((i=h||{}).DAMAGED="http://schema.org/DamagedCondition",i.NEW="http://schema.org/NewCondition",i.REFURBISHED="http://schema.org/RefurbishedCondition",i.USED="http://schema.org/UsedCondition",i),g=((l=g||{}).DISCONTINUED="http://schema.org/Discontinued",l.IN_STOCK="http://schema.org/InStock",l.IN_STORE_ONLY="http://schema.org/InStoreOnly",l.LIMITED_AVAILABILITY="http://schema.org/LimitedAvailability",l.ONLINE_ONLY="http://schema.org/OnlineOnly",l.OUT_OF_STOCK="http://schema.org/OutOfStock",l.PREORDER="http://schema.org/PreOrder",l.PRESALE="http://schema.org/PreSale",l.SOLD_OUT="http://schema.org/SoldOut",l);function m(e){return d("Offer",e)}m.ItemConditions=h,m.ItemAvailability=g;var b=((a=b||{}).YEARLY="ANN",a.MONTHLY="MON",a);function _(e){return d("QuantitativeValue",e)}_.UnitCodes=b;class O extends(r=s.Component){render(){let{debug:e,data:t}=this.props,n=JSON.stringify(u({"@context":"http://schema.org"},t));return(0,o.jsx)("script",{type:"application/ld+json",children:n})}}c(O,"Thing",p),c(O,"Brand",p),c(O,"Person",function(e){return d("Person",e)}),c(O,"Organization",function(e){return d("Organization",e)}),c(O,"ItemPage",function(e){return d("ItemPage",e)}),c(O,"Product",f),c(O,"Offer",m),c(O,"Rating",function(e){return d("Rating",e)}),c(O,"AggregateRating",function(e){return d("AggregateRating",e)}),c(O,"AggregateOffer",function(e){return d("AggregateOffer",e)}),c(O,"QuantitativeValue",_),c(O,"UnitPriceSpecification",function(e){return d("UnitPriceSpecification",e)});let E=O},548816:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(890333);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function u(e){var{padded:t=!0,inset:n=!1,active:i=!1,className:u,children:d,onClick:p,ref:f}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["padded","inset","active","className","children","onClick","ref"]);return null!=p?(0,r.jsx)(a.P3F,c(s({innerRef:f,onClick:p,tabIndex:null!=p?0:-1,className:l()(u,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:i,[o.interactive]:null!=p})},h),{children:d})):(0,r.jsx)("div",c(s({ref:f,className:l()(u,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:i})},h),{children:d}))}},120998:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r,i=n(951288),l=n(647438),a=n(392711),o=n.n(a),s=n(302221),c=n(781176);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends(r=l.PureComponent){onDataUpdate(e,t){let{maxValue:n,data:r,animate:i}=this.props,l=null==e||e.data!==t.data&&!o().isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=n?n:Math.max(...r)),l||null==e||!e.animate&&i||e.color!==this.props.color){let e=s.oo(this.props.color);this.fillColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", 0.5)"),window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}}componentDidMount(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)}componentDidUpdate(e){this.onDataUpdate(e,this.props)}componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0}render(){let{className:e,pixelWidth:t,pixelHeight:n}=this.props;return(0,i.jsx)("div",{className:e,children:(0,i.jsx)("canvas",{ref:this.canvas,className:c.canvas,width:t,height:n})})}constructor(...e){super(...e),u(this,"dataChangedAt",void 0),u(this,"fillColor",void 0),u(this,"maxValue",void 0),u(this,"canvas",l.createRef()),u(this,"animationFrameRequestId",void 0),u(this,"updateAnimation",e=>{let t,n,r=this.canvas.current;if(null==r)return;let{data:i,updateInterval:l,color:a,numUpdatesToShow:o,lineWidth:c,animate:u,gradientStopColor:d}=this.props;if(i.length<2)return;let p=Math.max(Math.min((e-this.dataChangedAt)/l,1),0),f=r.getContext("2d"),h=this.maxValue;f.strokeStyle=a,f.lineWidth=c;let g=r.height-f.lineWidth,m=f.createLinearGradient(0,0,0,g);if(null!=d)m.addColorStop(0,d);else{let{r:e,g:t,b:n}=s.oo(a);m.addColorStop(0,"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0)"))}m.addColorStop(1,this.fillColor),f.fillStyle=m;let b=i.length>=o?o:i.length;f.setTransform(1,0,0,-1,0,r.height),f.clearRect(0,0,r.width,r.height),f.translate(0,.5*f.lineWidth);let _=Math.floor(r.width/(b-3)),O=.5*_;f.translate(_-_*p,0),f.beginPath();let E=-_;i.forEach((e,r)=>{t={x:E,y:g*e/h},0===r?f.moveTo(t.x,t.y):f.bezierCurveTo(n.x+O,n.y,t.x-O,t.y,t.x,t.y),n=t,E+=_}),f.stroke(),f.lineTo(E-_,0),f.lineTo(0,0),f.fill(),u&&p<1&&(this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation))})}}u(d,"defaultProps",{animate:!0});let p=d},43169:function(e,t,n){n.d(t,{jX:()=>a,kF:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-08_cpfc_holdout",label:"CPFC Holdout",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{inHoldout:!1},treatments:[{id:1,label:"In Holdout",config:{inHoldout:!0}}]});function a(e){let{inHoldout:t}=l.useExperiment({location:e},{autoTrackExposure:!1});return t}},423e3:function(e,t,n){n.d(t,{M:()=>c});var r=n(927723),i=n(703656),l=n(896797),a=n(984933),o=n(944486),s=n(981631);function c(e,t){if((0,r.k)({kind:"channel"}),o.Z.getChannelId(e)===t){var n;(0,i.dL)(s.Z5c.CHANNEL(e,null==(n=a.ZP.getDefaultChannel(e))?void 0:n.id))}else(0,i.dL)(l.Z.defaultRoute)}},823169:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(570140),i=n(317770),l=n(601964),a=n(430824),o=n(594174),s=n(358085),c=n(53365),u=n(981631);class d extends i.Z{_initialize(){r.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}_terminate(){r.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"maybeFetchEligiblity",async()=>{if((0,s.isDesktop)()||(0,s.isWeb)()){let e=a.Z.getGuildsArray(),t=o.default.getCurrentUser(),n=e.filter(e=>(0,l.eM)(e,t)&&!e.features.has(u.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.features.has(u.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.features.has(u.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.features.has(u.oNc.CREATOR_MONETIZABLE)||e.features.has(u.oNc.CREATOR_MONETIZABLE_PROVISIONAL)));n.length>0&&await (0,c.av)(n.map(e=>e.id))}})}}let p=new d},741764:function(e,t,n){n.d(t,{J:()=>r,N:()=>i});let r=800,i=500},540059:function(e,t,n){n.d(t,{T:()=>r});function r(e){return!1}},845767:function(e,t,n){n.d(t,{Z:()=>o});var r=n(570140),i=n(317770),l=n(594174);class a extends i.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),r.Z.subscribe("LOGOUT",this._maybeStopDevSession)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),r.Z.unsubscribe("LOGOUT",this._maybeStopDevSession)}_maybeStartDevSession(){if(null==window.DiscordDevSession||!0!==window.__METICULOUS_ENABLED)return;let e="production"===window.GLOBAL_ENV.PROJECT_ENV,t=l.default.getCurrentUser();if(!((null==t?void 0:t.email)==null||e&&t.isStaff()))t.username.startsWith("mtcls")||!e?window.DiscordDevSession.start():window.DiscordDevSession.stop()}_maybeStopDevSession(){null!=window.DiscordDevSession&&window.DiscordDevSession.started&&window.DiscordDevSession.stop()}}let o=new a},107105:function(e,t,n){n.d(t,{bG:()=>a,bY:()=>o});var r,i=n(358085),l=n(75060),a=((r={})[r.UNHANDLED=-1]="UNHANDLED",r[r.NOMINAL=0]="NOMINAL",r[r.FAIR=1]="FAIR",r[r.SERIOUS=2]="SERIOUS",r[r.CRITICAL=3]="CRITICAL",r);function o(){var e=l.Z.getRawThermalState();if(null==e)return -1;if((0,i.isIOS)())return e;if(!(0,i.isAndroid)())return -1;switch(e){case 0:return 0;case 1:case 2:return 1;case 3:return 2;case 4:case 5:case 6:return 3;default:return -1}}},620360:function(e,t,n){n.d(t,{Z:()=>l});var r=n(570140),i=n(211644);let l={init(){r.Z.subscribe("CONNECTION_OPEN",()=>{(0,i.mc)()}),r.Z.subscribe("LOGOUT",()=>{(0,i.mc)()})}}},12161:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-08_double_tap_to_react",label:"Double Tap To React",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},431583:function(e,t,n){n.r(t),n.d(t,{default:()=>T}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(525654),s=n.n(o),c=n(873546),u=n(213919),d=n(442837),p=n(755721),f=n(481060),h=n(391650),g=n(313201),m=n(314897),b=n(594174),_=n(626135),O=n(361207),E=n(981631),y=n(388032),v=n(394369);let I=[{getOs:()=>y.intl.string(y.t.NK5ySE),icon:v.apple,url:()=>(0,O.w4)("osx",!1),platformKey:0},{getOs:()=>y.intl.string(y.t.OvKGEx),icon:v.windows,url:()=>(0,O.w4)("win",!1),platformKey:1},{getOs:()=>y.intl.string(y.t.dJB4PD),icon:v.linux,url:[{url:()=>(0,O.w4)("linux",!1,"deb"),getText:()=>y.intl.string(y.t.Sodsur)},{url:()=>(0,O.w4)("linux",!1,"tar.gz"),getText:()=>y.intl.string(y.t.G3U6IS)}],platformKey:2}],C=[{getOs:()=>y.intl.string(y.t.wCVyNT),icon:v.ios,url:()=>E.fzT.IOS,platformKey:3},{getOs:()=>y.intl.string(y.t.wuQpJC),icon:v.android,url:()=>E.fzT.ANDROID,platformKey:4}],S=e=>{let{url:t,text:n,onClick:i}=e,l=(0,p.nY)({grow:!0});return(0,r.jsx)(f.eee,{useDefaultUnderlineStyles:!1,href:t,className:a()(l,v.refreshDownloadButton),onClick:i,children:n})},N=e=>{let t,{platform:n,onClick:i,onMouseEnter:l,isActive:o,claimed:s}=e,{getOs:c,icon:u,url:d,platformKey:p}=n,h=c(),g=a()(v.icon,u);if(Array.isArray(d))t=d.map((e,t)=>{let n=s?e.url():"";return(0,r.jsx)(S,{url:n,onClick:()=>i(h),text:e.getText()},"".concat(n,"-").concat(t))});else{let e=s?d():void 0;t=(0,r.jsx)(S,{url:e,onClick:()=>i(h),text:y.intl.string(y.t["1WjMbG"])})}return(0,r.jsx)("li",{className:a()(v.platform,{[v.active]:o}),onMouseEnter:()=>l(p),children:(0,r.jsxs)("div",{className:v.contentWrapper,children:[(0,r.jsxs)("div",{className:v.iconWrap,children:[(0,r.jsx)("div",{className:g}),(0,r.jsx)("div",{className:a()(v.active,g)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f.X6q,{className:v.platformName,variant:"heading-lg/semibold",children:h}),(0,r.jsx)("div",{className:a()(v.downloadButtons,{[v.list]:Array.isArray(t)}),children:t})]})]})})};function T(e){let{source:t,onClose:n,transitionState:l}=e,a=(0,d.e7)([b.default],()=>b.default.getCurrentUser()),o=(0,d.e7)([m.default],()=>m.default.getFingerprint()),p=null==a||a.isClaimed(),[O,S]=i.useState(function(){var e;switch(null==(e=s().os)?void 0:e.family){case"OS X":return 0;case"Windows":return 1;case"Ubuntu":case"Debian":case"Fedora":case"Red Hat":case"SuSE":case"Linux":return 2;case"iOS":return 3;case"Android":return 4;default:return}}());function T(e){(null!=u.getToken()||null!=o)&&_.default.track(E.rMx.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:p,referring_location:t,qr_code:!1}),p||(n(),h.j())}function P(e){S(e)}i.useEffect(()=>{_.default.track(E.rMx.OPEN_MODAL,{type:"Download App",source:{location:t}})},[t]);let j=(0,g.Dt)();return(0,r.jsxs)(f.Y0X,{className:v.downloadApps,transitionState:l,"aria-labelledby":j,parentComponent:"DownloadAppsModal",children:[(0,r.jsx)(f.olH,{onClick:n,className:v.modalCloseButton}),(0,r.jsxs)(f.hzk,{className:v.inner,children:[(0,r.jsx)(f.nn4,{children:(0,r.jsx)(f.H,{id:j,children:y.intl.string(y.t.BK8LKy)})}),!c.tq&&(0,r.jsxs)("div",{className:v.platformsWrap,children:[(0,r.jsx)(f.X6q,{variant:"heading-lg/semibold",className:v.header,children:y.intl.string(y.t["0KK0bG"])}),(0,r.jsx)("ul",{className:v.platforms,children:I.map(e=>(0,r.jsx)(N,{isActive:O===e.platformKey,platform:e,onClick:T,onMouseEnter:P,claimed:p},e.platformKey))})]}),(0,r.jsxs)("div",{className:v.platformsWrap,children:[!c.tq&&(0,r.jsx)(f.X6q,{variant:"heading-lg/semibold",className:v.header,children:y.intl.string(y.t.RdSNWV)}),(0,r.jsx)("ul",{className:v.platforms,children:C.map(e=>(0,r.jsx)(N,{isActive:O===e.platformKey,platform:e,onClick:T,onMouseEnter:P,claimed:p},e.platformKey))})]})]}),(0,r.jsx)(f.mzw,{className:v.footer,children:(0,r.jsx)(f.Text,{variant:"text-sm/normal",children:y.intl.format(y.t["RJS+1N"],{})})})]})}},934401:function(e,t,n){var r,i,l=n(442837),a=n(570140),o=n(353926),s=n(633289),c=n(160462);function u(){c.W.trigger()}class d extends(i=l.ZP.Store){initialize(){this.waitFor(o.Z,s.Z)}constructor(){super(a.Z,{CONNECTION_OPEN:u},a.c.Early)}}(r="displayName")in d?Object.defineProperty(d,r,{value:"ExperimentTriggerPointStore",enumerable:!0,configurable:!0,writable:!0}):d[r]="ExperimentTriggerPointStore",new d},625414:function(e,t,n){n.d(t,{l:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_badges_existing_users",label:"Test Badges Existing Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},66154:function(e,t,n){n.d(t,{y:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_badges_new_users",label:"Test Badges New Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},256023:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_first_bucket_allocation",label:"Test First Bucket Allocation Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},590894:function(e,t,n){n.d(t,{q:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_large_bucket_second",label:"Test Large Bucket Second Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},3968:function(e,t,n){n.d(t,{w:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_large_bucket_third",label:"Test Large Bucket Third Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},149252:function(e,t,n){n.d(t,{_:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_third_bucket_allocation",label:"Test Third Bucket Allocation Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},682233:function(e,t,n){n.d(t,{n:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_tile_existing_users",label:"Test Tile Existing Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},712610:function(e,t,n){n.d(t,{V:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_tile_new_users",label:"Test Tile New Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},431253:function(e,t,n){n.d(t,{u:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_anniversaries",label:"Test User Auth Apply Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},664344:function(e,t,n){n.d(t,{Z:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_badges",label:"Test User Auth Apply Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},662479:function(e,t,n){n.d(t,{z:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter",label:"Test User Auth Apply Filter",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},565908:function(e,t,n){n.d(t,{L:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_install",label:"Test User Auth Apply Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},743001:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_marketing",label:"Test User Auth Apply Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},387155:function(e,t,n){n.d(t,{T:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_overlay",label:"Test User Auth Apply Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},641892:function(e,t,n){n.d(t,{g:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_soundmoji",label:"Test User Auth Apply Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},740399:function(e,t,n){n.d(t,{u:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_viewer",label:"Test User Auth Apply Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},955523:function(e,t,n){n.d(t,{s:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_anniversaries",label:"Test User Auth Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},782095:function(e,t,n){n.d(t,{R:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_badges",label:"Test User Auth Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},717895:function(e,t,n){n.d(t,{I:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter",label:"Test User Auth Filter",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},63639:function(e,t,n){n.d(t,{b:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_install",label:"Test User Auth Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},587077:function(e,t,n){n.d(t,{S:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_marketing",label:"Test User Auth Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},573555:function(e,t,n){n.d(t,{D:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_overlay",label:"Test User Auth Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},970071:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_soundmoji",label:"Test User Auth Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},17535:function(e,t,n){n.d(t,{r:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_viewer",label:"Test User Auth Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},160462:function(e,t,n){n.d(t,{W:()=>eR});var r=n(456100),i=n(380249),l=n(162685),a=n(338390),o=n(436952),s=n(803038),c=n(629452),u=n(479661),d=n(893712),p=n(526503),f=n(14401),h=n(162461),g=n(43169),m=n(203311),b=n(594928),_=n(12161),O=n(482798),E=n(539746),y=n(500496),v=n(330791),I=n(340541),C=n(490569),S=n(585360),N=n(621012),T=n(32300),P=n(277537),j=n(111810),x=n(66683),A=n(475580),Z=n(522558),w=n(507985),L=n(140447),R=n(532245),D=n(96320),k=n(163684),M=n(47280),U=n(998076),G=n(504692),B=n(623879),V=n(870041),H=n(885145),F=n(434878),z=n(963590),W=n(227862),Y=n(107756),K=n(643061),q=n(10207),Q=n(742139),X=n(722932),J=n(125900),$=n(920828),ee=n(362738),et=n(592546),en=n(388081),er=n(36927),ei=n(792481),el=n(326272),ea=n(483942),eo=n(625414),es=n(66154),ec=n(256023),eu=n(590894),ed=n(3968),ep=n(149252),ef=n(682233),eh=n(712610),eg=n(431253),em=n(664344),eb=n(662479),e_=n(565908),eO=n(743001),eE=n(387155),ey=n(641892),ev=n(740399),eI=n(955523),eC=n(782095),eS=n(717895),eN=n(63639),eT=n(587077),eP=n(573555),ej=n(970071),ex=n(17535),eA=n(91641),eZ=n(598984),ew=n(987338);let eL=[eZ.NR,eZ.ZI,eZ.Ob,eZ.uc,eZ.m1,eo.l,es.y,ec.p,eu.q,ed.w,ep._,ef.n,eh.V,eg.u,em.Z,eb.z,e_.L,eO.p,eE.T,ey.g,ev.u,eI.s,eC.R,eS.I,eN.b,eT.S,eP.D,ej.p,ex.r,ea.l2,ea.mq,ea.L$,ea.J9,ea.f5,ea.De,C.S,E.J$,v.bb,k.g,Z.w,N.m,S.m,J.J2,X.zv,Q.Z,q.Z,Y.Ys,j.HZ,K.U,T.OV,T.dj,T.Se,T.mB,T.qA,O.Ht,h.zO,F.Z,o.ld,o.rr,o.qM,r.c,I.ZP,et.Z,l.w,h.me,er.J,ei.X,s.Mc,u.n,c.j,en.C,m.p1,z.E,y.cE,w.a,M.jk,b.J,b.f,R.p1,R.pd,W.YK,i.m,V.ZP,H.Z,B.ZP,G.ZP,a.i,$.R,ee.Z,el.O,U.f,A.D,D.b,L.R,g.kF,x.S,P.yI,f.p,f.B,p.p,_.Z,d.L],eR=new eA.E(eL,ew.$P.CONNECTION_OPEN,{location:"app open"})},609174:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(481060),s=n(185514),c=n(365355),u=n(891304),d=n(388032),p=n(861265);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let g=s.Nx.binds["0"],m=s.On.binds["0"],b=e=>{let{firstElementFocusJumpSectionProps:t={}}=e,n=(0,a.e7)([c.Z],()=>c.Z.canGoBack),i=(0,a.e7)([c.Z],()=>c.Z.canGoForward);return(0,r.jsxs)("div",{className:p.backForwardButtons,children:[(0,r.jsx)(o.ua7,{"aria-label":d.intl.string(d.t.B9vzIC),tooltipContentClassName:p.navigationTooltip,shouldShow:n,text:(0,r.jsxs)(r.Fragment,{children:[d.intl.string(d.t.B9vzIC),(0,r.jsx)(o.M2$,{shortcut:g})]}),children:e=>(0,r.jsx)(o.P3F,h(f(h(f({},e),{"aria-disabled":!n,className:l()(p.button,p.back,{[p.disabled]:!n}),onClick:()=>(0,u.Hm)("arrow")}),t),{children:(0,r.jsx)(o.whL,{size:"sm",color:"currentColor"})}))}),(0,r.jsx)(o.ua7,{"aria-label":d.intl.string(d.t["9KJ29f"]),tooltipContentClassName:p.navigationTooltip,shouldShow:i,text:(0,r.jsxs)(r.Fragment,{children:[d.intl.string(d.t["9KJ29f"]),(0,r.jsx)(o.M2$,{shortcut:m})]}),children:e=>(0,r.jsx)(o.P3F,h(f({},e),{"aria-disabled":!i,className:l()(p.button,p.forward,{[p.disabled]:!i}),onClick:()=>(0,u.TL)("arrow"),children:(0,r.jsx)(o.ZSh,{size:"sm",color:"currentColor"})}))})]})}},257966:function(e,t,n){n.d(t,{R:()=>c});var r=n(951288),i=n(647438),l=n(481060),a=n(51596),o=n(388032),s=n(886190);function c(e){let{focusSectionProps:t}=e,n=i.useCallback(e=>{(0,a.ZN)("fast-travel")},[]);return(0,r.jsx)(l.ua7,{"aria-label":o.intl.string(o.t["7P/+q6"]),tooltipContentClassName:s.navigationTooltip,text:(0,r.jsxs)(r.Fragment,{children:[o.intl.string(o.t["7P/+q6"]),(0,r.jsx)(l.M2$,{shortcut:["mod","k"]})]}),children:e=>{var i,a;return(0,r.jsxs)(l.P3F,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:s.fastTravelButton},e,t),a=a={onClick:n,children:[(0,r.jsx)(l.acy,{size:"xs"}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",lineClamp:1,children:o.intl.string(o.t.ZvKwYW)})]},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})}},96051:function(e,t,n){n.d(t,{Z:()=>s});var r=n(570140),i=n(317770),l=n(117984);function a(e){let{channel:{id:t}}=e;(0,l.oC)(t)}class o extends i.Z{_initialize(){r.Z.subscribe("CHANNEL_DELETE",a)}_terminate(){r.Z.unsubscribe("CHANNEL_DELETE",a)}}let s=new o},750995:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(704215),l=n(481060),a=n(570140),o=n(317770),s=n(266454),c=n(605236),u=n(650774),d=n(430824),p=n(496675),f=n(228392),h=n(981631),g=n(921944);class m extends o.Z{_initialize(){a.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)}_terminate(){a.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)}handleChannelSelect(e){let{guildId:t}=e;if(null==t||!(e=>{var t;let n=d.Z.getGuild(e),r=!!(null==n?void 0:n.features.has(h.oNc.COMMUNITY)),l=p.Z.can(h.Plq.MANAGE_CHANNELS,n),a=(0,s.zu)(i.z.FORUM_CHANNEL_UPSELL_MODAL),o=null!=(t=u.Z.getMemberCount(e))?t:0;return r&&l&&!a&&o>=200})(t))return;(0,f.qz)(),(0,c.kk)(i.z.FORUM_CHANNEL_UPSELL_MODAL);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.L.DISMISS;(0,s.Q3)(i.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,l.ZDy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={onClose:e=>{a(e),n.onClose()},guildId:t,shouldUpsellCreation:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}},{onCloseCallback:()=>(0,s.Q3)(i.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:g.L.DISMISS}),onCloseRequest:h.VqG})}}let b=new m},214143:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(442837),a=n(570140),o=n(523238),s=n(585483),c=n(591472),u=n(408491),d=n(981631);let p=(e,t)=>{a.Z.wait(()=>{(0,o.Cz)(e,t)})};function f(e){let{embedId:t,className:n,style:a}=e,o=(0,l.e7)([c.Z],()=>c.Z.getConnectedFrame()),f=((0,l.e7)([c.Z],()=>c.Z.getFrameLayoutMode()),null!=o&&u.U.FOCUSED,window),h=i.useRef(null),g=i.useCallback(()=>{null!=h.current&&p(t,h.current.getBoundingClientRect())},[t]);i.useLayoutEffect(()=>{g()});let m=i.useMemo(()=>new ResizeObserver(()=>{g()}),[g]);return i.useLayoutEffect(()=>{let e=h.current;if(null!=e)return m.observe(e),()=>m.unobserve(e)},[m]),i.useLayoutEffect(()=>{let e=()=>g(),t=()=>g();return f.addEventListener("scroll",e,!0),f.addEventListener("resize",t),()=>{f.removeEventListener("scroll",e,!0),f.removeEventListener("resize",t)}},[g,f]),i.useLayoutEffect(()=>(s.S.subscribe(d.CkL.MANUAL_IFRAME_RESIZING,g),()=>{s.S.unsubscribe(d.CkL.MANUAL_IFRAME_RESIZING,g)}),[g]),i.useLayoutEffect(()=>()=>{p(t,null)},[t]),(0,r.jsx)("div",{ref:h,className:n,style:a})}},262734:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(755721),s=n(481060),c=n(350810),u=n(988980),d=n(835473),p=n(871499),f=n(786915),h=n(510839),g=n(214143),m=n(610278),b=n(408491),_=n(981631),O=n(918559),E=n(388032),y=n(909357);let v={[O.MI.NO_CHAT]:y.noChat,[O.MI.RESIZABLE]:y.resizable};function I(e){let{frame:t}=e,n=(0,d.q)(t.applicationId),l=(0,c.Z)(),I=i.useRef(null),C=i.useRef(null),[S,N]=i.useState({width:0,height:0}),T=i.useCallback(()=>{(0,h.eU)({applicationId:t.applicationId,layoutMode:b.U.PIP})},[t.applicationId]),P=i.useCallback(()=>{(0,h.xT)({applicationId:t.applicationId})},[t.applicationId]);i.useLayoutEffect(()=>{if(null==C.current)return;let e=new ResizeObserver(()=>{var e,t,n,r;N({width:null!=(n=null==(e=C.current)?void 0:e.clientWidth)?n:0,height:null!=(r=null==(t=C.current)?void 0:t.clientHeight)?r:0})});return e.observe(C.current),()=>e.disconnect()},[]),i.useEffect(()=>{let e=e=>{null==I.current||I.current.contains(e.target)||l||(0,h.eU)({applicationId:t.applicationId,layoutMode:b.U.PIP})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t.applicationId,l]);let j=S.width/Math.max(S.height,1)<O.I0,x=0,A=0,Z=(0,u.Z)(null==n?void 0:n.id);if(!Z){let e=S.width,t=S.height;j?((t=S.width/O.I0)>S.height&&(e=(t=S.height)*O.I0),A=(S.height-t)/2):((e=Math.min(S.height*O.I0))>S.width&&(t=(e=S.width)/O.I0),x=(S.width-e)/2)}let w=O.MI.NO_CHAT;if(null==n)return null;let L=(0,m.ro)(t);return(0,r.jsx)(s.f6W,{theme:_.BRd.DARK,children:e=>(0,r.jsxs)("div",{className:a()(y.wrapper,v[w],e),ref:I,style:{},children:[(0,r.jsx)("div",{className:y.contextlessHeader,children:(0,r.jsxs)("div",{className:y.buttonSection,children:[(0,r.jsx)(p.d,{isTrayButton:!0,label:E.intl.string(E.t.brPQ5e),onClick:T,iconComponent:s.dOc,themeable:!0}),(0,r.jsx)(f.Z,{appContext:_.IlC.APP,applicationId:n.id,shouldPrioritizeGroupPlusIcon:!0,iconClassName:y.contextlessInviteButtonIcon,isRichPresenceInvite:!0,size:o.zx.Sizes.SMALL,look:o.zx.Looks.FILLED,buttonText:E.intl.string(E.t["6F9ivr"]),color:o.zx.Colors.PRIMARY}),(0,r.jsx)(p.d,{isTrayButton:!0,label:E.intl.string(E.t.cpT0Cg),onClick:P,iconComponent:s.Dio,themeable:!0})]})}),(0,r.jsx)("div",{className:y.activityPanelContainer,children:(0,r.jsx)("div",{className:a()(y.activityContainer,{[y.activityContainerNoMargin]:Z}),style:{paddingLeft:x,paddingRight:x,paddingTop:A,paddingBottom:A},ref:C,children:(0,r.jsx)(g.Z,{className:y.iframe,embedId:L})})})]})})}},351051:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(442837),l=n(591472),a=n(262734),o=n(408491);function s(){let e=(0,i.e7)([l.Z],()=>l.Z.getConnectedFrame());return(0,i.e7)([l.Z],()=>l.Z.getFrameLayoutMode())!==o.U.FOCUSED||null==e?null:(0,r.jsx)(a.Z,{frame:e})}},610278:function(e,t,n){n.d(t,{ZP:()=>b,ro:()=>f});var r=n(570140),i=n(523238),l=n(317770),a=n(958185),o=n(928518),s=n(819640),c=n(366050),u=n(591472),d=n(981631);let p=null;function f(e){return"framepip:".concat(e.applicationId)}function h(){let e=u.Z.getConnectedFrame();if(null==e){let e=p;null!=e&&c.Z.isOpen(e)&&(r.Z.wait(()=>i.xv(e)),p=null);return}var t=f(e);if(c.Z.isOpen(t))return!1;if(null!=p){let e=p;r.Z.wait(()=>i.xv(e))}return r.Z.wait(()=>i.bA(t,d.NYg.FRAME,{})),void(p=t)}function g(){if((0,a.Z)({LayerStore:s.Z,PopoutWindowStore:o.Z})){let e=p;null!=e&&c.Z.isOpen(e)&&r.Z.wait(()=>i.Cp(e));return}let e=p;null!=e&&c.Z.isOpen(e)&&r.Z.wait(()=>i.$Z(e))}class m extends l.Z{_initialize(){u.Z.addChangeListener(h),s.Z.addChangeListener(g)}_terminate(){u.Z.removeChangeListener(h),s.Z.removeChangeListener(g)}}let b=new m},111666:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var r=n(951288),i=n(647438),l=n(202841),a=n(442837),o=n(481060),s=n(570140),c=n(868781),u=n(122943),d=n(665149),p=n(670188),f=n(592125),h=n(158776),g=n(699516),m=n(594174),b=n(482798),_=n(167762),O=n(151459),E=n(981631),y=n(388032),v=n(10058);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function S(e){let{className:t}=e,n=(0,a.e7)([g.Z],()=>g.Z.getPendingCount()>0),b=(0,o.dQu)(o.TVs.modules.chat.INPUT_ICON_SIZE),S=function(){let[e,t]=i.useState(null),{showActivityTicker:n}=(0,O.Z)(),r=i.useRef({}),l=i.useRef(null);return i.useEffect(()=>{if(!n){t(null),null!=l.current&&(window.clearTimeout(l.current),l.current=null);return}let e=(e,t,n)=>{null==r.current[e]&&(r.current[e]={}),null==n?delete r.current[e][t]:r.current[e][t]=n,0===Object.keys(r.current[e]).length&&delete r.current[e]},i=(n,i,a)=>{var o,s,c,u,d,p,h,b,_;if(!g.Z.isFriend(n))return!1;let O=m.default.getUser(n);if(null==O)return!1;let y=!1,v=null;if(null!=i){let t=i.type;if(null!=t&&function(e){let t=e.type;return t===E.IIU.PLAYING&&null!=e.application_id||t===E.IIU.LISTENING||t===E.IIU.WATCHING}(i)){let l=t===E.IIU.WATCHING||t===E.IIU.LISTENING?"".concat(t,"-").concat(null!=(u=i.name)?u:"","-").concat(null!=(d=i.state)?d:"","-").concat(null!=(p=i.details)?p:""):"".concat(t,"-").concat(null!=(h=i.name)?h:"");(null==(c=r.current[n])?void 0:c.presence)!==l&&(y=!0,e(n,"presence",l),v={user:O,activity:i})}else(null==(s=r.current[n])?void 0:s.presence)!=null&&(y=!0,e(n,"presence",null))}if(null!=a){let t=f.Z.getChannel(a);if(null!=t){let i="voice-".concat(t.id);(null==(b=r.current[n])?void 0:b.voice)!==i&&(y=!0,e(n,"voice",i),v={user:O,voiceChannel:t})}}else(null==(o=r.current[n])?void 0:o.voice)!=null&&(y=!0,e(n,"voice",null));return y&&null!=v&&(_=v,null!=l.current&&(window.clearTimeout(l.current),l.current=null),t(_),l.current=window.setTimeout(()=>{t(null),l.current=null},1e4)),y},a=e=>{for(let t of e.updates){let e=t.user.id,n=h.Z.getPrimaryActivity(e);if(i(e,n))break}},o=e=>{for(let t of e.voiceStates)if(i(t.userId,void 0,t.channelId))break};return s.Z.subscribe("PRESENCE_UPDATES",a),s.Z.subscribe("VOICE_STATE_UPDATES",o),()=>{s.Z.unsubscribe("PRESENCE_UPDATES",a),s.Z.unsubscribe("VOICE_STATE_UPDATES",o),null!=l.current&&(window.clearTimeout(l.current),l.current=null)}},[n]),e}(),N=i.useRef(null),T=(0,o.Yzy)(S,{keys:e=>{var t,n,r;return null!=e?null!=e.voiceChannel?"".concat(e.user.id,"-voice-").concat(e.voiceChannel.id):"".concat(e.user.id,"-").concat(null==(t=e.activity)?void 0:t.state,":").concat(null==(n=e.activity)?void 0:n.details,":").concat(null==(r=e.activity)?void 0:r.name):"none"},from:{opacity:0,transform:"translateY(32px)"},enter:{opacity:1,transform:"translateY(0px)"},leave:{opacity:0,transform:"translateY(-32px)"},config:{tension:300,friction:30}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:v.container,children:T((e,t)=>null==t?null:(0,r.jsx)(p.Z,{targetElementRef:N,position:"bottom",align:"left",userId:t.user.id,children:n=>{var i;return(0,r.jsxs)(l.animated.div,C(I({ref:N,className:v.activityWrapper,style:e},n),{children:[(0,r.jsx)(o.Text,{variant:"text-xs/semibold",children:null!=(i=t.user.globalName)?i:t.user.username}),null!=t.voiceChannel?(0,r.jsx)(u.Z,{channel:t.voiceChannel,textVariant:"text-xs/medium",textClassName:v.statusText}):(0,r.jsx)(c.Z,{activity:t.activity,textVariant:"text-xs/medium",textClassName:v.statusText})]}))}}))}),(0,r.jsx)(_.Or,{popoutPosition:"bottom",popoutAlign:"left",children:(e,i,l,a)=>(0,r.jsx)(d.JO,C(I({},l),{ref:a,className:t,onClick:e,icon:o.iFz,iconSize:b,"aria-label":y.intl.string(y.t.TdEu5e),tooltip:i?null:y.intl.string(y.t.TdEu5e),selected:i,showBadge:n}))})]})}function N(e){let{className:t}=e,{enableTopNavButton:n}=(0,b.Cq)({location:"friends-button"});return n?(0,r.jsx)(S,{className:t}):null}},935261:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(481060),s=n(797258),c=n(374129),u=n(639351),d=n(565473),p=n(927923),f=n(388032),h=n(971108);function g(e){let{platform:t}=e;return t===p.YE.XBOX?(0,r.jsx)(u.Z,{className:h.icon}):t===p.YE.PLAYSTATION?(0,r.jsx)(c.Z,{className:h.icon}):null}function m(e){let{voiceState:t,awaitingRemoteSessionInfo:n}=e,i=null!=n?(0,d.y)(n.type):null,c=(0,a.e7)([s.Z],()=>{var e,n;return null==(e=s.Z.getSessionById(null!=(n=null==t?void 0:t.sessionId)?n:""))?void 0:e.clientInfo.os}),u=null!=i?i:c;if(null==u||!p.al.has(u))return null;let m=null!=n,b=m?u===p.YE.XBOX?f.intl.string(f.t.UjA4HR):f.intl.string(f.t.QCw1oa):u===p.YE.XBOX?f.intl.format(f.t["ynEs/f"],{}):f.intl.format(f.t.TZ17Bg,{});return(0,r.jsxs)("div",{className:l()(h.root,m?h.connecting:h.connected),children:[(0,r.jsx)(g,{platform:u}),(0,r.jsx)(o.Text,{color:m?"header-primary":"always-white",variant:"text-xs/medium",children:b})]})}},657030:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(570140),i=n(317770),l=n(728345),a=n(91896),o=n(981631);class s extends i.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}destroy(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handlePostConnectionOpen",()=>{let e=a.Z.getGameRelationships(),t=new Set;e.values().forEach(e=>{e.type===o.OGo.PENDING_INCOMING&&t.add(e.applicationId)}),l.ZP.fetchApplications(Array.from(t))})}}let c=new s},408026:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(570140),i=n(224706),l=n(710845),a=n(77498);let o={};function s(e){let{name:t,hash:n,missingData:r}=e;for(let e of(a.Z.markGameReported(t),r))if("icon"===e){let e=o[t];null!=e&&i.Z.uploadIcon(t,n,e);return}else new l.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(e))}function c(e){let{gameName:t,icon:n}=e;o[t]=n}let u={initialize(){r.Z.subscribe("UNVERIFIED_GAME_UPDATE",s),r.Z.subscribe("GAME_ICON_UPDATE",c)}}},763916:function(e,t,n){n.d(t,{Z:()=>s});var r=n(570140),i=n(812206),l=n(877481),a=n(592745);function o(e){let{gameId:t}=e;var n=t;let o=a.Z.launchableGames[n],s=i.Z.getApplication(n);(null!=s?l.Z.isLaunchable(s):l.Z.isGameLaunchable(n)).then(e=>{e!==o&&r.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:n,isLaunchable:e})})}let s={initialize(){r.Z.subscribe("CHECK_LAUNCHABLE_GAME",o)}}},306721:function(e,t,n){n.d(t,{Z:()=>a});var r=n(401430),i=n(283595),l=n(695103);let a={init(){i.Z.whenInitialized(()=>{null!=l.Z.testModeApplicationId&&(0,r.Wt)(l.Z.testModeApplicationId,l.Z.testModeOriginURL)})}}},531551:function(e,t,n){n.d(t,{Z:()=>c}),n(415506);var r=n(570140),i=n(51025),l=n(314897),a=n(804739);function o(){if(!(0,a.Q)())return;let e=l.default.getToken(),t=l.default.getId();if(null==e)throw Error("missing user token");i.S1(e,t)}function s(){i.ob()}let c={init(){r.Z.subscribe("CONNECTION_OPEN",o),r.Z.subscribe("LOGOUT",s)}}},304106:function(e,t,n){n.d(t,{Z:()=>h}),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(55935),c=n(981631),u=n(388032),d=n(529368);let p=e=>{let{IconComponent:t,className:n}=e;return(0,r.jsx)("div",{className:a()(d.iconCircle,n),children:(0,r.jsx)(t,{className:d.icon,color:"currentColor"})})},f=e=>{let{circle:t,smallHeader:n,text:i,className:l}=e;return(0,r.jsxs)("div",{className:a()(d.recommendationReason,l),children:[t,(0,r.jsxs)("div",{className:d.description,children:[null!=n?(0,r.jsx)("div",{className:d.smallHeader,children:n}):null,(0,r.jsx)("div",{className:d.text,children:i})]})]})};class h extends i.Component{render(){let{reason:e,className:t}=this.props;if(e.type===c.AzA.RECENT_RELEASE_DATE)return(0,r.jsx)(f,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.Que}),smallHeader:u.intl.string(u.t.u81aYW),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.RELEASE_DATE)return(0,r.jsx)(f,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.Que}),smallHeader:u.intl.string(u.t.qpwaNT),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.EARLY_ACCESS)if(null!=e.releaseDate)return(0,r.jsx)(f,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.d$P,className:d.earlyAccess}),smallHeader:u.intl.string(u.t.HYys0t),text:(0,s.vc)(e.releaseDate,"LL")});else return(0,r.jsx)(f,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.d$P,className:d.earlyAccess}),text:u.intl.string(u.t.HYys0t)});return e.type===c.AzA.FLAVOR_TEXT?(0,r.jsx)(f,{circle:(0,r.jsx)(p,{IconComponent:o.dz2}),text:e.flavorText,className:t}):e.type===c.AzA.HAS_FREE_PREMIUM_CONTENT?(0,r.jsx)(f,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.SrA,className:d.premiumCircle}),text:u.intl.string(u.t.R9SwVl)}):null}}},766219:function(e,t,n){n.d(t,{I:()=>o,s:()=>a});var r=n(823379),i=n(49898),l=n(388032);function a(e){switch(e){case i.GlobalDiscoveryTab.SERVERS:return l.intl.string(l.t["+Anbp6"]);case i.GlobalDiscoveryTab.APPS:return l.intl.string(l.t.bGwCoa);case i.GlobalDiscoveryTab.QUESTS:return l.intl.string(l.t.EcaD4e);default:(0,r.vE)(e)}}function o(e){if(e.startsWith("/discovery/applications"))return i.GlobalDiscoveryTab.APPS;switch(e){case"/discovery/quests":return i.GlobalDiscoveryTab.QUESTS;case"/discovery/servers":return i.GlobalDiscoveryTab.SERVERS;default:return i.GLOBAL_DISCOVERY_DEFAULT_TAB}}},724383:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288),i=n(647438),l=n(843611),a=n(442837),o=n(252618),s=n(353926),c=n(319443),u=n(106075),d=n(121711),p=n(823379),f=n(571457),h=n(836768),g=n(766219),m=n(49898),b=n(775491);let _=function(){let e=(0,a.e7)([s.Z],()=>s.Z.hasLoadedExperiments),t=h.Z.useField("selectedTab"),n=function(e){switch(e){case m.GlobalDiscoveryTab.SERVERS:return(0,r.jsx)(u.Z,{});case m.GlobalDiscoveryTab.APPS:return(0,r.jsx)(c.default,{});case m.GlobalDiscoveryTab.QUESTS:return(0,r.jsx)(d.Z,{});default:(0,p.vE)(e)}}(t),_=(0,l.TH)();return i.useEffect(()=>{let e=_.pathname,t=(0,g.I)(e);t!==h.Z.getField("selectedTab")&&h.Z.setState({selectedTab:t})},[_.pathname]),i.useEffect(()=>{e&&(0,f.RI)({selectedTab:t})},[t,e]),(0,r.jsxs)("section",{className:b.container,children:[(0,r.jsx)(o.yY,{location:(0,g.s)(t)}),(0,r.jsx)("div",{className:b.dragRegion}),n]})}},135864:function(e,t,n){n.d(t,{Z:()=>N});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(636977),s=n(481060),c=n(456100),u=n(930446),d=n(31569),p=n(258971),f=n(164991),h=n(859921),g=n(220068),m=n(626135),b=n(836768),_=n(766219),O=n(749681),E=n(49898),y=n(981631),v=n(46140),I=n(388032),C=n(990999);function S(e){let{tab:t}=e,{enabled:n}=c.c.useExperiment({location:"GlobalDiscoverySidebar"},{autoTrackExposure:!0}),l=b.Z.useField("selectedTab"),I=i.useMemo(()=>(function(e,t){switch(e){case E.GlobalDiscoveryTab.SERVERS:return(0,r.jsx)(s.QTo,{color:"currentColor"});case E.GlobalDiscoveryTab.APPS:return t?(0,r.jsx)(s.iWm,{color:"currentColor"}):(0,r.jsx)(s.jje,{color:"currentColor"});case E.GlobalDiscoveryTab.QUESTS:return(0,r.jsx)(s.qDn,{color:"currentColor"})}})(t,n),[t,n]),S=i.useMemo(()=>(0,_.s)(t),[t]),N=l===t,T=i.useCallback(()=>{switch(t){case E.GlobalDiscoveryTab.QUESTS:return N&&g.Z.resetState(),m.default.track(y.rMx.DISCOVERY_QUEST_TAB_CLICKED,{client_ad_session_id:(0,u.Gy)().uuid}),(0,O.transitionToGlobalDiscovery)({tab:E.GlobalDiscoveryTab.QUESTS,location:v.dr.DISCOVERY_SIDEBAR,questContent:o.j.DISCOVERY_SIDEBAR});case E.GlobalDiscoveryTab.APPS:if(!N)return(0,O.transitionToGlobalDiscovery)({tab:t,newSessionState:{entrypoint:{name:p.xF.GLOBAL_DISCOVERY_SIDEBAR},restorePreviousView:!0}});d.Z.resetState(),(0,O.transitionToGlobalDiscovery)({tab:t});return;case E.GlobalDiscoveryTab.SERVERS:if(!N)return(0,O.transitionToGlobalDiscovery)({tab:t});f.Z.resetState(),h.Z.resetState();return;default:return(0,O.transitionToGlobalDiscovery)({tab:t})}},[t,N]);return(0,r.jsxs)(s.P3F,{onClick:T,className:a()(C.navItem,{[C.selected]:N}),children:[(0,r.jsx)("div",{className:C.navItemIcon,children:I}),(0,r.jsx)(s.Text,{variant:"text-md/medium",color:"none",children:S})]})}let N=function(){return(0,r.jsxs)("div",{className:C.container,children:[(0,r.jsx)("div",{className:C.header,children:(0,r.jsx)(s.X6q,{variant:"text-lg/semibold",children:I.intl.string(I.t["1KqYnp"])})}),(0,r.jsx)("nav",{className:C.nav,children:E.GLOBAL_DISCOVERY_TABS.map(e=>(0,r.jsx)(S,{tab:e},e))})]})}},782738:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(514482);let s=i.memo(function(e){let{className:t}=e;return(0,r.jsx)("div",{className:a()(t,o.cardPlaceholder)})})},371260:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(202841),a=n(442837),o=n(481060),s=n(607070),c=n(514482);let u={mass:1,tension:600,friction:60,clamp:!0},d=function(e){let{animate:t,state:n,cleanUp:d,children:p}=e,f=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion),h=i.useMemo(()=>!1===t||f?{opacity:1}:n===o.pJH.ENTERED||n===o.pJH.MOUNTED?{from:{opacity:0},to:{opacity:1},config:u}:{from:{opacity:1},to:{opacity:0},config:u,onRest:()=>{d()}},[t,d,f,n]),g=(0,o.q_F)(h);return(0,r.jsx)(l.animated.div,{style:g,className:c.transitionItem,children:p})}},684572:function(e,t,n){n.r(t),n.d(t,{default:()=>o});var r=n(951288);n(647438);var i=n(843611),l=n(8991),a=n(981631);function o(){return(0,r.jsx)(i.AW,{path:a.Z5c.APPLICATION_DIRECTORY,component:l.E})}},8991:function(e,t,n){n.d(t,{E:()=>s}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282);var r=n(951288);n(647438);var i=n(843611),l=n(979007),a=n(688357),o=n(981631);function s(){let e=new URLSearchParams(location.search),t=e.get("q"),n=e.get("category_id");return e.delete("page"),(0,r.jsxs)(i.rs,{children:[null!=n&&null==t?(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(o.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY("".concat(n)))}):(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(o.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,"?").concat(e.toString())}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_STORE_SKU(":applicationId",":skuId"),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",a.c.STORE),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",l.GlobalDiscoveryAppsSections.STORE)}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",a.c.PREMIUM_DEPRECATED),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",l.GlobalDiscoveryAppsSections.STORE)}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId"),to:{pathname:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),search:location.search}}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY,to:o.Z5c.GLOBAL_DISCOVERY_APPS})]})}},762692:function(e,t,n){n.d(t,{Z:()=>u}),n(539854);var r=n(544891),i=n(343817),l=n(570140),a=n(900849),o=n(726115),s=n(128449),c=n(981631);let u={fetchSearchResults:async function e(e,t){let{categoryId:n,languageCode:u,offset:d,limit:p,withCounts:f}=t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_START",query:e,categoryId:n,languageCode:u});try{let t=await r.tn.get({url:c.ANM.GUILD_DISCOVERY_SEARCH,query:{query:e,category_id:n===s.Hk?null:n,offset:d,limit:p,language_code:u,with_counts:f},oldFormErrors:!0,rejectWithError:!1}),i=t.body.guilds.map(o.Iv),a=t.body.total_count;if(f){var h;let n=[];null==(h=t.body.categories)||h.slice(0,8).forEach(e=>{let{id:t,count:r}=e;n.push([Number(t),r])}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:n})}l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_SUCCESS",query:e,categoryId:n,languageCode:u,guilds:i,total:a})}catch(r){let t=new i.Hx(r);a.m9({categoryId:n,error:t,willRequestRetry:!1,isRequestRetry:!1}),f&&l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:[]}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_FAILURE",query:e,categoryId:n,languageCode:u,error:r})}},clearSearchResults:function(e){var t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR",ignoreQueries:null!=(t=null==e?void 0:e.ignoreQueries)?t:[]})},resetSearchLayout:function(){l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET"})}}},331114:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r,i=n(442837),l=n(570140),a=n(881052);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=new Map;class c{handleSearchCountStart(){this.error=null,this.isFetching=!0}handleSearchCountSuccess(e){this.counts=e,this.isFetching=!1,this.isInitialFetchComplete=!0}handleSearchCountFailure(e){this.error=new a.Hx(e),this.isFetching=!1}constructor(){o(this,"isInitialFetchComplete",!1),o(this,"isFetching",!1),o(this,"error",null),o(this,"counts",null)}}function u(e){var t;let n=null!=(t=s.get(e))?t:new c;return s.set(e,n),n}function d(e,t){let n=s.get(e);return null!=n?t(n):null}class p extends(r=i.ZP.Store){getIsInitialFetchComplete(e){return d(e,e=>e.isInitialFetchComplete)}getIsFetchingCounts(e){return d(e,e=>e.isFetching)}getCounts(e){return d(e,e=>e.counts)}}o(p,"displayName","GlobalDiscoveryServersSearchCountStore");let f=new p(l.Z,{CONNECTION_OPEN:function(){s.clear()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_START:function(e){let{query:t}=e;u(t).handleSearchCountStart()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t,categoryCounts:n}=e;u(t).handleSearchCountSuccess(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_FAILURE:function(e){let{query:t,error:n}=e;u(t).handleSearchCountFailure(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR:function(e){let{ignoreQueries:t}=e,n=new Set(t);s.forEach((e,t)=>{n.has(t)||s.delete(t)})}})},537883:function(e,t,n){n.d(t,{Z:()=>p});var r,i,l=n(442837),a=n(570140),o=n(331114),s=n(356164);let c=[];function u(){c=[]}class d extends(i=l.ZP.Store){initialize(){this.waitFor(o.Z,s.Z)}getVisibleTabs(){return c}}(r="displayName")in d?Object.defineProperty(d,r,{value:"GlobalDiscoveryServersSearchLayoutStore",enumerable:!0,configurable:!0,writable:!0}):d[r]="GlobalDiscoveryServersSearchLayoutStore";let p=new d(a.Z,{CONNECTION_OPEN:u,GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET:u,GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t}=e,n=o.Z.getCounts(t);if(null==n)return!1;c=n}})},959165:function(e,t,n){n.d(t,{Z:()=>u}),n(388685),n(781311);var r=n(900849),i=n(762692),l=n(331114),a=n(356164),o=n(164991);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{}let u=new class extends c{constructor(...e){super(...e),s(this,"loadMoreCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l,offset:o}=e;!a.Z.getIsFetching({query:t,categoryId:n,languageCode:l})&&a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l})&&(r.qn({withCounts:!1,offset:o}),await i.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:o,limit:12,withCounts:!1}))}),s(this,"loadCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l}=e,o=a.Z.getIsFetching({query:t,categoryId:n,languageCode:l}),s=a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l});o||s||(r.qn({withCounts:!1,offset:0}),await i.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:0,limit:12,withCounts:!1}))}),s(this,"loadCategoryResultsAndCounts",async e=>{let{query:t,loadId:n,categoryId:a,languageCode:s}=e;if(""===t.trim())return;let c=l.Z.getIsFetchingCounts(t),u=l.Z.getIsFetchingCounts(t);c||u||(o.Z.setState({fetchedQuery:t,resultsQuery:""}),r.tI(n,a),r.qn({withCounts:!0,offset:0}),await i.Z.fetchSearchResults(t,{categoryId:a,languageCode:s,offset:0,limit:12,withCounts:!0}),o.Z.setState({resultsQuery:t}))})}}},164991:function(e,t,n){n.d(t,{Z:()=>l});var r=n(972959);let i=Object.freeze({query:"",languageCode:null,categoryId:n(128449).Hk,fetchedQuery:"",resultsQuery:"",resultsInitialCategoryId:null,scrollPosition:null}),l=(0,r.H)(()=>i)},444324:function(e,t,n){n.d(t,{Z:()=>l}),n(388685);var r=n(900849);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{markAsSeen(e,t,n){this.categoryId!==e&&(this.categoryId=e,this.flushSeenGuilds(n)),this.guildIds.add(t)}flushSeenGuilds(e){this.guildIds.size>0&&(r.Az(e,Array.from(this.guildIds)),this.guildIds.clear())}constructor(e){i(this,"guildIds",new Set),i(this,"categoryId",void 0),this.categoryId=e}}},783393:function(e,t,n){n.d(t,{E:()=>o}),n(388685);var r=n(442837),i=n(526429),l=n(128449),a=n(388032);function o(e){let{categoryId:t}=e;return(0,r.e7)([i.Z],()=>(function(e){let[t]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[i.Z];return e===l.Hk?a.intl.string(a.t.Omu0fX):t.getCategoryName(e)})(t,[i.Z]))}},294330:function(e,t,n){n.d(t,{Eo:()=>j,VD:()=>T,ZP:()=>x}),n(388685),n(953529);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(622535),c=n(481060),u=n(239091),d=n(410030),p=n(686546),f=n(66637),h=n(782738),g=n(371260),m=n(372769),b=n(134432),_=n(768581),O=n(356164),E=n(826946),y=n(981631),v=n(388032),I=n(972725),C=n(129512),S=n(330065),N=n(755386);function T(e){let{guild:t,onClick:l,onView:o}=e,[h,g]=i.useState(!1),[O,T]=i.useState(!1),[P,j]=i.useState(!1),x=i.useRef(null),A=i.useCallback(async()=>{T(!0);try{await l(t.id)}finally{T(!1)}},[t.id,l]),Z=i.useCallback(e=>{e&&!h&&(g(!0),null==o||o(t.id))},[t.id,h,o]),w=i.useCallback(e=>{(0,u.jW)(e,async()=>{let{default:e}=await n.e("88560").then(n.bind(n,858523));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[t]),L=(0,d.ZP)(),R=t.features.has(y.oNc.HUB),D=i.useMemo(()=>{let e=_.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discoverySplash,size:300*(0,b.x_)()});if(null!=e)return e;if(R)return N;switch(L){case y.BRd.DARK:return C;case y.BRd.LIGHT:return S}},[t.discoverySplash,t.id,R,L]),k=i.useMemo(()=>_.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:48}),[t.icon,t.id]);return(0,r.jsxs)("div",{className:I.container,children:[O&&(0,r.jsx)("div",{className:I.spinnerContainer,children:(0,r.jsx)(c.$jN,{type:c.$jN.Type.PULSING_ELLIPSIS,className:I.spinner})}),(0,r.jsx)(s.$,{innerRef:x,onChange:Z,active:!h,threshold:.55,children:(0,r.jsxs)(f.Z,{ref:x,className:I.card,onClick:A,disabled:O,onContextMenu:w,"aria-label":v.intl.string(v.t["M9wQ+f"]),children:[(0,r.jsxs)("div",{className:I.header,children:[(0,r.jsx)("div",{className:a()(I.banner,{[I.loaded]:P}),children:(0,r.jsx)("img",{src:D,alt:"",className:I.bannerImage,onLoad:()=>j(!0)})}),(0,r.jsx)(E.Z,{className:I.maximizeIcon,guildId:t.id}),(0,r.jsx)("div",{className:I.icon,children:(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:56,height:56,children:(0,r.jsx)("div",{className:I.iconMask,children:(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("img",{src:k,alt:"",className:I.avatar})})})})})]}),(0,r.jsxs)("div",{className:I.guildDetails,children:[(0,r.jsxs)("div",{className:I.title,children:[(0,r.jsx)(m.Z,{className:I.guildBadge,guild:t,tooltipColor:c.ua7.Colors.PRIMARY}),(0,r.jsx)(c.X6q,{variant:"heading-md/semibold",className:I.guildName,children:t.name})]}),(0,r.jsx)(c.Text,{className:I.description,variant:"text-sm/normal",color:"header-secondary",children:t.description}),(0,r.jsxs)("div",{className:I.memberDetails,children:[null!=t.presenceCount&&(0,r.jsxs)("div",{className:I.memberDetailsCount,children:[(0,r.jsx)("div",{className:I.presenceCountDot}),(0,r.jsx)(c.Text,{className:I.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:v.intl.format(v.t["LC+S+v"],{membersOnline:t.presenceCount})})]}),null!=t.memberCount&&(0,r.jsxs)("div",{className:I.memberDetailsCount,children:[(0,r.jsx)("div",{className:I.memberCountDot}),(0,r.jsx)(c.Text,{className:I.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:v.intl.format(v.t.zRl6XV,{count:t.memberCount})})]})]})]})]})})]})}function P(e){let{guildId:t,onClick:n,onView:i}=e,l=(0,o.e7)([O.Z],()=>O.Z.getGuild(t));return null==l?null:(0,r.jsx)(T,{guild:l,onClick:n,onView:i})}function j(e){let{guildId:t,index:n,onClick:l,onView:a}=e,o=i.useRef(null==t),s=i.useCallback((e,t,n,i)=>null==t.guildId?(0,r.jsx)(g.Z,{state:n,cleanUp:i,children:(0,r.jsx)(h.Z,{className:I.placeholder})},e):(0,r.jsx)(g.Z,{state:n,cleanUp:i,animate:o.current,children:(0,r.jsx)(P,{guildId:t.guildId,onClick:l,onView:a})},e),[l,a]),u=i.useCallback(e=>{var t;return null!=(t=e.guildId)?t:"".concat(e.index)},[]),d=i.useMemo(()=>[{guildId:t,index:n}],[t,n]);return(0,r.jsx)("div",{className:I.transitionGroup,children:(0,r.jsx)(c.W3x,{items:d,renderItem:s,getItemKey:u})})}let x=i.memo(P)},590771:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(442837),a=n(571457),o=n(823379),s=n(275131),c=n(356164),u=n(726115),d=n(962486),p=n(149788),f=n(128449);function h(e){let{onScroll:t,onGuildCardSeen:n,onGuildCardClick:a}=e,o=(0,l.e7)([c.Z],()=>{var e;return null!=(e=c.Z.getGuildIds({categoryId:f.Hk}))?e:f.q5}),u=(0,l.e7)([c.Z],()=>{var e;return null==(e=c.Z.getIsFetching({categoryId:f.Hk}))||e});return i.useEffect(()=>{s.Z.fetchFeaturedGuilds()},[]),(0,r.jsx)(d.Z,{tab:f.vf.FEATURED,guildIds:o,loading:u,onScroll:t,onGuildCardSeen:n,onGuildCardClick:a})}function g(e){let{tab:t,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o}=e,p=(0,u.lg)(t),h=(0,l.e7)([c.Z],()=>{var e;return null!=(e=c.Z.getGuildIds({categoryId:p}))?e:f.q5}),g=(0,l.e7)([c.Z],()=>{var e;return null==(e=c.Z.getIsFetching({categoryId:p}))||e});return i.useEffect(()=>{s.Z.fetchCategoryFeaturedGuilds({categoryId:p})},[p]),(0,r.jsx)(d.Z,{tab:t,guildIds:h,loading:g,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o})}function m(e){let{selectedTab:t,onScroll:n,onGuildCardSeen:l,onGuildCardClick:s}=e;switch(i.useEffect(()=>{let e=(0,u.lg)(t);(0,a.kR)({selectedCategoryId:e})},[t]),t){case f.vf.FEATURED:return(0,r.jsx)(h,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l});case f.vf.GAMING:case f.vf.MUSIC:case f.vf.ENTERTAINMENT:case f.vf.TECH:case f.vf.EDUCATION:return(0,r.jsx)(g,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l},t);case f.vf.HUBS:return(0,r.jsx)(p.Z,{onScroll:n});default:(0,o.vE)(t)}}},106075:function(e,t,n){n.d(t,{Z:()=>C}),n(781311);var r=n(951288),i=n(647438),l=n(481060),a=n(979233),o=n(88693),s=n(611928),c=(n(763433),n(922122)),u=n(680180),d=n(164991),p=n(444324),f=n(726115),h=n(859921),g=n(750910),m=n(28494),b=n(29086),_=n(590771),O=n(273596),E=n(128449),y=n(49898),v=n(388032),I=n(301578);function C(){let e=i.useRef((0,f.PM)()),{onScroll:t,scrollPosition:n,resetScrollPosition:C}=(0,a.M)(),{tabs:S,selectedTab:N,setSelectedTab:T}=(0,b.Y)(),P=(0,f.lg)(N),j=!E.MU.has(N),{searchQuery:x,onSearchTextChange:A,onClearSearch:Z,onSearchSubmit:w,isSearchVisible:L}=(0,m.H)({loadId:e.current}),R=h.Z.useField("searchBarState"),{onTabsAvailableWidthChange:D,onCollapsedSearchBarClick:k,onSearchBarBlur:M,tabsClassName:U}=(0,o.U)({isSearchBarVisible:j,isSearchBarEmpty:""===x.trim(),searchBarState:R,setSearchBarState:e=>h.Z.setState({searchBarState:e})}),G=d.Z.useField("fetchedQuery"),B=i.useCallback(e=>{T(e),L&&Z()},[L,Z,T]),V=i.useMemo(()=>L?S.filter(e=>{let{id:t}=e;return!E.MU.has(t)}):S,[S,L]),H=i.useRef(new p.Z(P)),{onGuildCardSeen:F,onGuildCardClick:z}=(0,g.H)({guildDiscoveryCardSeenManager:H.current,loadId:e.current});return i.useEffect(()=>{H.current.flushSeenGuilds(e.current)},[P]),i.useEffect(()=>{C()},[N,C]),i.useEffect(()=>{L||d.Z.setState({scrollPosition:null})},[L]),(0,r.jsxs)("div",{className:I.container,children:[(0,r.jsxs)(s.ZP,{variant:L?s._6.RELATIVE:s._6.OVERLAY,children:[!L&&(0,r.jsx)(s.z6,{scrollPosition:n}),L?(0,r.jsx)(s.Cm,{icon:l.j9r,onClick:Z}):(0,r.jsx)(s.aV,{icon:l.QTo}),!L&&(0,r.jsx)(c.Z,{className:U,tabs:V,selectedTab:L?null:N,onTabSelect:B,onAvailableWidthChange:D}),L&&(0,r.jsx)(l.X6q,{variant:"heading-lg/semibold",color:"header-primary",className:I.searchResultsHeader,children:v.intl.format(v.t.zHdzqa,{query:G})}),j&&(0,r.jsx)(u.Z,{query:x,placeholder:v.intl.string(v.t["5h0QOD"]),onTextChange:A,onClear:Z,onSubmit:w,onCollapsedClick:k,state:L?y.GlobalDiscoverySearchBarState.DEFAULT:R,onBlur:M})]}),L?(0,r.jsx)(O.Z,{loadId:e.current,onGuildCardClick:z,onGuildCardSeen:F}):(0,r.jsx)(_.Z,{selectedTab:N,onScroll:t,onGuildCardClick:z,onGuildCardSeen:F})]})}},826946:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288),i=n(647438),l=n(481060),a=n(857395),o=n(19887);let s=function(e){let{className:t,guildId:n}=e,s=i.useRef(null),c=i.useCallback((e,t)=>{e.stopPropagation(),t.onClick(e)},[]);return(0,r.jsx)(a.Z,{guildId:n,position:"left",targetElementRef:s,children:e=>{var n,i;return(0,r.jsx)(l.P3F,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={innerRef:s,className:t,onClick:t=>c(t,e),children:(0,r.jsx)("div",{className:o.icon,children:(0,r.jsx)(l.bJT,{size:"xs",color:"currentColor"})})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},273596:function(e,t,n){n.d(t,{Z:()=>j}),n(388685),n(415506);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(481060),u=n(393903),d=n(626135),p=n(823379),f=n(900849),h=n(356164),g=n(164991),m=n(726115),b=n(28494),_=n(746728),O=n(140700),E=n(665807),y=n(188493),v=n(294330),I=n(981631),C=n(857847);let S=Object.freeze({top:0,bottom:0,left:32,right:202}),N=Object.freeze({top:0,bottom:0,left:32,right:32}),T={page:I.ZY5.GUILD_DISCOVERY,object:I.qAy.CARD,section:I.jXE.DISCOVER_SEARCH},P=s().throttle(f.c6,1e3,{leading:!1,trailing:!0});function j(e){let{loadId:t,onGuildCardSeen:n,onGuildCardClick:l}=e,{guildIds:s,loading:f,searchResultsQuery:I,loadMore:j,searchCategoryId:x}=(0,b.f)({loadId:t}),A=0===s.length&&!f,Z=i.useContext(d.AnalyticsContext),[w,L]=i.useState((0,m.PM)()),[R,D]=i.useState(!0),k=i.useRef(R),[M,U]=i.useState(3),G=i.useRef(M),B=i.useRef(null),V=i.useCallback(e=>{if(null!=e&&!A&&!f)336*(s.length/M)<=e.height&&j()},[A,f,s.length,M,j]),H=i.useCallback(e=>{let t=e.contentRect;if(null==t)return;let n=t.width;n<1024&&k.current?(k.current=!1,D(!1)):n>1024&&!k.current&&(k.current=!0,D(!0));let r=1;for(n-=450*!!R,n-=280;n>0;)n-=264,r+=1;r!==G.current&&(G.current=r,U(r)),V(t)},[R,V]),F=(0,u.y)(H,[R,V]);i.useEffect(()=>{L((0,m.PM)())},[I]),i.useEffect(()=>{P({loadId:t,searchId:w,query:I,guildResults:s.map(h.Z.getGuild).filter(p.lm),analyticsContext:Z,categoryId:x})},[Z,s,t,x,w,I]);let z=i.useCallback(e=>n(e,x),[n,x]),W=i.useMemo(()=>f?[s.length,0]:[s.length],[s.length,f]),Y=i.useCallback((e,n,i)=>{switch(e){case 0:return(0,r.jsxs)("div",{style:{paddingLeft:n.left,width:n.width-16},className:a()(C.heading,{[C.headingTopbar]:!R}),children:[!R&&(0,r.jsxs)("div",{className:C.headingFilters,children:[(0,r.jsx)(O.Z,{loadId:t}),(0,r.jsx)(y.Z,{loadId:t})]}),A&&(0,r.jsx)(E.Z,{loadId:t})]},i);case 1:return(0,r.jsx)(c.$jN,{className:a()(C.spinner,{[C.spinnerWithSidebar]:R})},i)}},[A,R,t]),K=i.useCallback(e=>{switch(e){case 0:let t=R?16:50;return A?t+448:t;case 1:return 120;default:throw Error("[getSectionHeight] Failed for section: ".concat(e))}},[A,R]),q=i.useCallback((e,t)=>{switch(e){case 0:return s[t];case 1:return"loading";default:throw Error("[getItemKey] Failed for section: ".concat(e))}},[s]),Q=i.useCallback(e=>{switch(e){case 0:return 320;case 1:return 0;default:throw Error("[getItemHeight] Failed for section: ".concat(e))}},[]),X=i.useCallback(async(e,t,n,r)=>{var i,a;await l(e,t,n,r);let o=null==(a=B.current)||null==(i=a.getScrollerState())?void 0:i.scrollTop;null!=o&&g.Z.setState({scrollPosition:o})},[l]),J=i.useCallback((e,t,n,i)=>{if(0!==e)return null;{let e=s[t];return(0,r.jsx)("div",{style:n,children:(0,r.jsx)(v.ZP,{guildId:e,onClick:async e=>await X(e,t,x,T),onView:e=>z(e)})},i)}},[s,X,z,x]);i.useEffect(()=>{let e=B.current;return()=>{var t;let n=null==e||null==(t=e.getScrollerState())?void 0:t.scrollTop;null!=n&&g.Z.setState({scrollPosition:n})}},[]),i.useLayoutEffect(()=>{let e=g.Z.getField("scrollPosition");null!=e&&setTimeout(()=>{var t;null==(t=B.current)||t.scrollTo({to:e,animate:!1,callback:()=>{g.Z.setState({scrollPosition:null})}})})},[]);let $=i.useMemo(()=>(0,o.debounce)(()=>{var e;let t=null==(e=B.current)?void 0:e.getScrollerState();if(null==t)return;let n=t.scrollTop+t.offsetHeight;t.scrollHeight-n<240&&j()},100,{leading:!0}),[j]),ee=R?S:N;return(0,r.jsx)("div",{className:C.container,ref:F,children:(0,r.jsx)(c.GMG,{ref:B,className:C.masonryList,sections:W,columns:M,itemGutter:16,padding:ee,renderItem:J,renderSection:Y,getSectionHeight:K,getItemKey:q,getItemHeight:Q,chunkSize:24,onScroll:$,renderAccessory:e=>R?(0,r.jsx)("div",{className:C.sidebar,style:{height:e},children:(0,r.jsxs)("div",{className:C.sidebarContent,children:[(0,r.jsx)("div",{className:C.sidebarLanguageSelect,children:(0,r.jsx)(y.Z,{loadId:t})}),(0,r.jsx)(_.Z,{loadId:t})]})}):null})})}},750910:function(e,t,n){n.d(t,{H:()=>l});var r=n(647438),i=n(726115);function l(e){let{guildDiscoveryCardSeenManager:t,loadId:n}=e,l=r.useCallback((e,r)=>{t.markAsSeen(r,e,n)},[t,n]),a=r.useCallback((e,t,r,l)=>(0,i.vL)({loadId:n,guildId:e,index:t,categoryId:r,analyticsLocation:l}),[n]);return r.useMemo(()=>({onGuildCardSeen:l,onGuildCardClick:a}),[a,l])}},28494:function(e,t,n){n.d(t,{H:()=>h,f:()=>f}),n(781311);var r=n(647438),i=n(442837),l=n(900849),a=n(762692),o=n(959165),s=n(356164),c=n(164991),u=n(456268),d=n(859921),p=n(128449);function f(e){let{loadId:t}=e,n=c.Z.useField("fetchedQuery"),l=c.Z.useField("categoryId"),a=c.Z.useField("languageCode"),u=r.useMemo(()=>({categoryId:l,query:n,languageCode:a}),[l,a,n]),d=(0,i.e7)([s.Z],()=>{var e;return null!=(e=s.Z.getGuildIds(u))?e:p.q5}),f=(0,i.e7)([s.Z],()=>{var e;return null!=(e=s.Z.getIsFetching(u))&&e}),h=c.Z.useField("resultsQuery"),g=h!==n,m=r.useCallback(()=>{let e=s.Z.getGuildIds(u),n=s.Z.getTotal(u);if(null==e||null==n)return;let r=s.Z.getIsFetching(u),i=s.Z.getIsInitialFetchComplete(u);r||!i||e.length>=n||o.Z.loadMoreCategoryResults({loadId:t,offset:e.length,categoryId:c.Z.getField("categoryId"),query:c.Z.getField("fetchedQuery"),languageCode:c.Z.getField("languageCode")})},[t,u]);return r.useMemo(()=>({guildIds:d,loading:g||f,searchResultsQuery:h,loadMore:m,searchCategoryId:l}),[d,g,f,h,m,l])}function h(e){let{loadId:t}=e,n=d.Z.useField("isSearchVisible"),i=c.Z.useField("query");r.useEffect(()=>{(0,u.le)()},[]);let s=r.useCallback(e=>{c.Z.setState({query:e})},[]);return{searchQuery:i,onSearchTextChange:s,onClearSearch:r.useCallback(()=>{l.IZ(t),a.Z.clearSearchResults(),a.Z.resetSearchLayout(),c.Z.setState({query:"",fetchedQuery:"",resultsQuery:"",categoryId:p.Hk,resultsInitialCategoryId:null,scrollPosition:null}),d.Z.setState({isSearchVisible:!1})},[t]),onSearchSubmit:r.useCallback(()=>{let e=c.Z.getField("query"),n=c.Z.getField("fetchedQuery");if(""===e.trim()||e===n)return;a.Z.clearSearchResults();let r=c.Z.getField("languageCode"),i=c.Z.getField("categoryId");c.Z.setState({resultsInitialCategoryId:i}),d.Z.setState({isSearchVisible:!0}),o.Z.loadCategoryResultsAndCounts({loadId:t,categoryId:i,query:e,languageCode:r})},[t]),isSearchVisible:n}}},112471:function(e,t,n){n.d(t,{q:()=>c}),n(388685),n(539854),n(290780);var r=n(647438),i=n(442837),l=n(537883),a=n(356164),o=n(164991),s=n(128449);function c(){let e=o.Z.useField("fetchedQuery"),t=o.Z.useField("resultsInitialCategoryId"),n=o.Z.useField("languageCode"),c=(0,i.e7)([a.Z],()=>{if(null==t)return 0;let r=a.Z.getTotal({categoryId:t,query:e,languageCode:n});return null!=r?r:0}),u=(0,i.e7)([a.Z],()=>{let t=a.Z.getTotal({categoryId:s.Hk,query:e,languageCode:n});return null!=t?t:0}),d=(0,i.e7)([l.Z],()=>l.Z.getVisibleTabs());return r.useMemo(()=>{if(null==d)return null;if(null==t)return d;let e=[],n=new Set;for(let[t,r]of d)n.add(t),e.push([t,r]);let r=!1;return n.has(s.Hk)||(n.add(s.Hk),e.unshift([s.Hk,u]),r=!0),n.has(t)||(n.add(t),e.push([t,c]),r=!0),r?e:d},[d,t,u,c])}},29086:function(e,t,n){n.d(t,{Y:()=>o});var r=n(647438),i=n(726115),l=n(859921),a=n(128449);function o(){let e=l.Z.useField("selectedTab"),t=r.useMemo(()=>[a.vf.FEATURED,a.vf.GAMING,a.vf.MUSIC,a.vf.ENTERTAINMENT,a.vf.TECH,a.vf.EDUCATION,a.vf.HUBS].map(e=>({id:e,label:(0,i.vb)(e)})),[]),n=r.useCallback(e=>{l.Z.setState({selectedTab:e})},[]);return r.useEffect(()=>{null!=e&&t.some(t=>t.id===e)||n(t[0].id)},[e,t,n]),{tabs:t,selectedTab:null!=e?e:t[0].id,setSelectedTab:n}}},746728:function(e,t,n){n.d(t,{I:()=>h,Z:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(706454),c=n(959165),u=n(164991),d=n(783393),p=n(112471),f=n(803638);function h(e){let{categoryId:t,loadId:n}=e;u.Z.setState({categoryId:t}),c.Z.loadCategoryResults({loadId:n,categoryId:t,query:u.Z.getField("fetchedQuery"),languageCode:u.Z.getField("languageCode")})}function g(e){let{loadId:t,categoryId:n,count:l}=e,c=i.useCallback(()=>{h({categoryId:n,loadId:t})},[n,t]),p=u.Z.useField("categoryId")===n,g=l.toLocaleString(s.default.locale),m=(0,d.E)({categoryId:n});return(0,r.jsxs)(o.P3F,{onClick:c,className:a()(f.category,{[f.selected]:p}),children:[(0,r.jsx)(o.Text,{className:f.name,variant:"text-sm/medium",color:"header-primary",children:m}),(0,r.jsx)(o.Text,{className:f.count,variant:"text-sm/normal",color:"text-muted",children:g})]})}let m=function(e){let{loadId:t}=e,n=(0,p.q)();return null==n?null:(0,r.jsx)("div",{className:f.categories,children:n.map(e=>{let[n,i]=e;return(0,r.jsx)(g,{loadId:t,categoryId:n,count:i},n)})})}},140700:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(89182),o=n(164991),s=n(783393),c=n(112471),u=n(746728),d=n(388032),p=n(656535);function f(e){let{count:t,categoryId:n}=e,i=(0,s.E)({categoryId:n});return(0,r.jsx)(a.iG,{count:t,name:i})}function h(e){let{loadId:t}=e,n=o.Z.useField("categoryId"),h=(0,c.q)(),g=(0,s.E)({categoryId:n}),m=i.useCallback(e=>{(0,u.I)({loadId:t,categoryId:Number(e)})},[t]),b=i.useMemo(()=>null==h?[]:h.map(e=>{let[t,n]=e;return{id:"".concat(t),label:(0,r.jsx)(f,{categoryId:t,count:n})}}),[h]);return null==h?null:(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-secondary",children:d.intl.string(d.t.f09BQE)}),(0,r.jsx)(a.ZP,{items:b,title:g,onSelect:m,selected:"".concat(n),"aria-label":d.intl.string(d.t.Ng5cTE),variant:a.PA.FILLED})]})}},665807:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(959165),s=n(164991),c=n(526429),u=n(128449),d=n(388032),p=n(394843),f=n(882008);let h=function(e){let{loadId:t}=e,n=s.Z.useField("categoryId"),h=(0,l.e7)([c.Z],()=>c.Z.getCategoryName(n)),g=i.useCallback(()=>{s.Z.setState({categoryId:u.Hk}),o.Z.loadCategoryResults({loadId:t,categoryId:u.Hk,query:s.Z.getField("fetchedQuery"),languageCode:s.Z.getField("languageCode")})},[t]),m=n===u.Hk?d.intl.string(d.t.Ivw1Ii):d.intl.formatToPlainString(d.t["+1WAFR"],{categoryName:h}),b=n===u.Hk?d.intl.string(d.t.aXvEjY):d.intl.format(d.t.XLioqq,{onClick:g});return(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)("img",{alt:"",src:f,className:p.image}),(0,r.jsx)(a.X6q,{variant:"heading-xl/semibold",className:p.header,children:m}),(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",children:b})]})}},188493:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(442837),a=n(89182),o=n(706454),s=n(762692),c=n(959165),u=n(164991),d=n(726115),p=n(128449),f=n(388032);function h(e){let{loadId:t}=e,n=(0,l.e7)([o.default],()=>(0,d.Xp)([o.default])),h=u.Z.useField("languageCode"),g=null!=h?h:n,m=i.useCallback(e=>{u.Z.setState({languageCode:e});let n=u.Z.getField("fetchedQuery");s.Z.clearSearchResults({ignoreQueries:[n]}),c.Z.loadCategoryResults({loadId:t,categoryId:u.Z.getField("categoryId"),query:n,languageCode:e})},[t]),b=i.useMemo(()=>(0,p.Cf)().map(e=>({id:e.code,label:e.name})),[]),_=i.useMemo(()=>{var e;let t=(0,p.Cf)().find(e=>e.code===g);return null!=(e=null==t?void 0:t.name)?e:f.intl.string(f.t.LQLMGB)},[g]);return(0,r.jsx)(a.ZP,{items:b,title:_,onSelect:m,selected:g,"aria-label":f.intl.string(f.t.Ng5cTE)})}},962486:function(e,t,n){n.d(t,{Z:()=>g}),n(539854);var r=n(951288),i=n(647438),l=n(481060),a=n(322665),o=n(17845),s=n(374939),c=n(283293),u=n(726115),d=n(294330),p=n(981631),f=n(663448);let h={page:p.ZY5.GUILD_DISCOVERY,object:p.qAy.CARD,section:p.jXE.DISCOVER_POPULAR};function g(e){let{tab:t,guildIds:n,loading:p,onScroll:g,onGuildCardClick:m,onGuildCardSeen:b}=e,_=(0,u.Mf)(t),O=(0,u.a$)(t),E=(0,u.QW)(t),y=(0,u.lg)(t),v=i.useMemo(()=>{let e=p?30:n.length,t=[];for(let a=0;a<e;a++){var i,l;t.push((0,r.jsx)(d.Eo,{guildId:null!=(i=n[a])?i:null,index:a,onClick:e=>m(e,a,y,h),onView:e=>b(e,y)},null!=(l=n[a])?l:a))}return t},[y,n,p,m,b]);return(0,r.jsxs)(c.Z,{onScroll:g,children:[(0,r.jsx)(o.Z,{title:_,description:O,children:(0,r.jsx)(a.Z,{})}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(l.X6q,{className:f.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:E}),(0,r.jsx)("div",{className:f.content,children:v})]})]})}},149788:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(481060),a=n(749210),o=n(322665),s=n(17845),c=n(374939),u=n(283293),d=n(469988),p=n(526383),f=n(294330),h=n(388032),g=n(663448),m=n(988050);let b=function(e){let{onScroll:t}=e,n=(0,p.Z)(),b=i.useMemo(()=>n.map(e=>{var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}),[n]);return(0,r.jsxs)(u.Z,{onScroll:t,children:[(0,r.jsx)(s.Z,{title:h.intl.string(h.t.X5xPlZ),description:h.intl.string(h.t["F/IQCA"]),children:(0,r.jsx)(o.Z,{})}),(0,r.jsxs)(c.Z,{children:[n.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.X6q,{className:g.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:h.intl.string(h.t["2DfZIS"])}),(0,r.jsxs)("div",{className:g.content,children:[b.map(e=>(0,r.jsx)(f.VD,{guild:e,onClick:()=>a.Z.transitionToGuildSync(e.id)},e.id)),(0,r.jsx)(d.Z,{hasHub:!0})]})]}):(0,r.jsx)("div",{className:g.content,children:(0,r.jsx)(d.Z,{hasHub:!1})}),(0,r.jsx)("div",{className:m.divider}),(0,r.jsxs)("div",{className:m.disclaimer,children:[(0,r.jsxs)(l.Text,{className:m.text,variant:"text-sm/medium",color:"header-secondary",children:[h.intl.string(h.t.O1k9XV)," "]}),(0,r.jsx)(l.Text,{className:m.text,variant:"text-sm/medium",color:"header-secondary",children:h.intl.string(h.t.FV5dvr)})]})]})]})}},869614:function(e,t,n){n.d(t,{Z:()=>i}),n(388685);let r=new Set(["nvidia"]);function i(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&r.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(209739),i=n.n(r),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let r=e[n],l=t[n];if(null==r||null==l||null!=r.error)continue;let a=function(e){var t,n;return"".concat(null!=(t=e.major)?t:0,".").concat(null!=(n=e.minor)?n:0,".0")}(r);if(!i().satisfies(a,l))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(209739),i=n.n(r),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let r=e[n],l=t[n];if(null==r||null==l||null!=r.error)continue;let a=function(e){var t,n;return"".concat(null!=(t=e.major)?t:0,".").concat(null!=(n=e.minor)?n:0,".0")}(r);if(!i().satisfies(a,l))return!0}return!1}},653255:function(e,t,n){n.d(t,{Z:()=>m});var r,i,l=n(442837),a=n(570140),o=n(358085),s=n(998502),c=n(869614),u=n(281083),d=n(672598);let p=!1,f=!0,h=!1;class g extends(i=l.ZP.Store){initialize(){!o.isPlatformEmbedded||__OVERLAY__||s.ZP.getGPUDriverVersions().then(e=>{p=(0,d.Z)(e),f=(0,c.Z)(e),h=(0,u.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return p}get canUseHardwareAcceleration(){return f}get problematicGPUDriver(){return h}getState(){return{GPUDriversOutdated:p,canUseHardwareAcceleration:f,problematicGPUDriver:h}}}(r="displayName")in g?Object.defineProperty(g,r,{value:"StreamingCapabilitiesStore",enumerable:!0,configurable:!0,writable:!0}):g[r]="StreamingCapabilitiesStore";let m=new g(a.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;p=t.GPUDriversOutdated,f=t.canUseHardwareAcceleration}})},722835:function(e,t,n){n.d(t,{Z:()=>y});var r=n(209739),i=n.n(r),l=n(872810),a=n(579806),o=n(594190),s=n(199902),c=n(592125),u=n(430824),d=n(131951),p=n(496675),f=n(944486),h=n(449224),g=n(358085),m=n(102172),b=n(74299),_=n(299570),O=n(989941),E=n(70722);function y(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(0,b.Z)(d.Z)||null!=s.Z.getCurrentUserActiveStream())return!1;let n=f.Z.getVoiceChannelId(),r=c.Z.getChannel(n);if(null==r)return!1;let y=r.getGuildId();if(!(0,m.JL)(r,u.Z,p.Z,!1))return!1;if(d.Z.getUseSystemScreensharePicker())(0,g.isMac)()&&i().satisfies(null===a.Z||void 0===a.Z?void 0:a.Z.os.release,E.jR)?(0,_.T)():(0,_.T)("window");else{let n=(0,O.Z)(o.ZP,h.Z);if(null==n||n.isLauncher&&!e)return!1;(0,l.WH)(y,r.id,{pid:n.pid,analyticsLocations:t})}return!0}},882579:function(e,t,n){n.d(t,{U:()=>l});var r=n(43169);let i=(0,n(818083).B)({kind:"user",id:"2025-08_create_dm_cta_desktop",label:"Create DM CTA (Desktop)",defaultConfig:{buttonVariant:null},treatments:[{id:1,label:"Side button",config:{buttonVariant:"side"}},{id:2,label:"Full width button",config:{buttonVariant:"full-width"}}]});function l(e,t){var n,l,a;let o=(0,r.jX)(e),{buttonVariant:s}=i.useExperiment({location:e},(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),a=a={disable:o||null!=(n=t.disable)&&n,autoTrackExposure:t.autoTrackExposure},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))}),l));return s}},43740:function(e,t,n){n.d(t,{l:()=>o,y:()=>s});var r=n(879690),i=n(731965);let l=Object.freeze({isPopoutOpen:!1}),a=(0,r.U)(e=>l),o=e=>{(0,i.j)(()=>{a.setState(()=>({isPopoutOpen:e}))})},s=a},489745:function(e,t,n){n.d(t,{Z:()=>s});var r=n(149765),i=n(442837),l=n(984933),a=n(496675),o=n(981631);function s(e){let t=(0,i.e7)([l.ZP],()=>{var t;return null!=(t=l.ZP.getChannels(e)[l.sH])?t:[]},[e]);return 0===t.length?0:t.filter(e=>{let{channel:t}=e;return a.Z.can(r.$e(o.Plq.SEND_MESSAGES,o.Plq.VIEW_CHANNEL),t)}).length}},377743:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(100527),l=n(906732),a=n(82950),o=n(26323),s=n(267642),c=n(981631),u=n(921944),d=n(30513),p=n(388032),f=n(420569);function h(e){let{guild:t,markAsDismissed:n}=e,h=(0,s.KK)(t,c.Eu4.TIER_2),{analyticsLocations:g}=(0,l.ZP)(i.Z.GUILD_BANNER_NOTICE);return(0,r.jsx)(a.Z,{guild:t,onDismissed:()=>n(u.L.UNKNOWN),cta:p.intl.string(p.t["oPAx7+"]),message:p.intl.format(p.t.AcaNY2,{boostsNeeded:h}),type:c.vID.GUILD_BANNER,image:f,onClick:()=>(0,o.Z)({analyticsLocations:g,analyticsSourceLocation:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,d.XO)()}),imageMarginTop:15,imageMarginX:22})}},834743:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(82950),o=n(623624),s=n(650774),c=n(981631),u=n(921944),d=n(388032),p=n(241626);class f extends i.PureComponent{render(){let{guild:e,memberCount:t,markAsDismissed:n}=this.props;return(0,r.jsx)(a.Z,{guild:e,onDismissed:()=>n(u.L.UNKNOWN),onClick:this.handleButtonClick,message:null==t||t<30?d.intl.string(d.t.hlitVV):d.intl.string(d.t.XHtaDA),cta:d.intl.string(d.t["vqb+Hx"]),trackingSource:c.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:c.vID.GUILD_BOOSTING,image:p,imageMarginX:26})}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleButtonClick",()=>{let{guild:e}=this.props;(0,o.f)({guildId:e.id,location:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_STATUS_CTA}})})}}let h=l.ZP.connectStores([s.Z],e=>{let{guild:t}=e;return{memberCount:s.Z.getMemberCount(t.id)}})(f)},596557:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288),i=n(647438),l=n(704215),a=n(481060),o=n(785697),s=n(626135),c=n(700785),u=n(645041),d=n(981631),p=n(921944),f=n(647086),h=n(135899);function g(e){var t;let g=(0,o.SE)(e),m=h.$X.some(t=>(null==e?void 0:e.id)!==f._&&c.oz(t,e)),b=(null==e?void 0:e.defaultMessageNotifications)===d.bL.ALL_MESSAGES,_=(0,u.FT)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!=(t=null==e?void 0:e.id)?t:d.lds),O=g&&(m||b)&&!_,E=i.useCallback(()=>{var t;(0,u.Qd)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!=(t=null==e?void 0:e.id)?t:d.lds,!0,p.L.DISMISS)},[e]),y=i.useRef(!1);i.useEffect(()=>{if(O&&!y.current){var t;(0,a.ZDy)(async()=>{let{default:t}=await n.e("23353").then(n.bind(n,29022));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({guild:e,canEveryoneModerate:m,isDefaultNotificationsAllMessages:b},n))},{onCloseCallback:E}),s.default.track(d.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:l.C[l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!=(t=null==e?void 0:e.id)?t:d.lds}),y.current=!0}},[m,e,E,b,O])}},580079:function(e,t,n){n(539854),n(388685);var r,i,l,a,o=n(392711),s=n.n(o),c=n(442837),u=n(570140),d=n(592125);n(914010);var p=n(709054),f=n(176505);let h={},g={},m={},b={};function _(e){let t=g[e];if(null==t)return;let n=p.default.fromTimestamp(Date.now()-9e5),r=s().findIndex(t,e=>p.default.compare(e.id,n)>0);if(-1===r)g[e]=[];else{let n=Math.max(r,t.length-26);g[e]=s().slice(t,n)}m[e]=Date.now()}function O(e,t,n,r){h[e].add(t);let i=m[t];(null==i||i+3e5>Date.now())&&_(t),null==g[t]&&(g[t]=[]),g[t].push({id:n,userId:r})}function E(e){let{channel:t}=e;delete g[t.id],delete m[t.id]}class y extends(a=c.ZP.Store){getActiveChannelsFetchStatus(e){return b[e]}getActiveChannelIds(e){return h[e]}getChannelMessageData(e){return g[e]}shouldFetch(e){var t;return null==h[e]&&!(null==(t=b[e])?void 0:t.loading)}}l="ActiveChannelsStore",(i="displayName")in(r=y)?Object.defineProperty(r,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[i]=l,new y(u.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(!(0,f.ME)(t)||null==n)return!1;let r=h[n];if(null==r)return!1;r.forEach(e=>{var t;_(e),(null==(t=g[e])?void 0:t.length)===0&&delete g[e]});let i=s().chain(Array.from(r)).filter(e=>e in g).sortBy(e=>{var t,n;return-(null!=(n=null==(t=g[e])?void 0:t.length)?n:0)}).value();h[n]=new Set(i)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:r,optimistic:i,isPushNotification:l}=e;if(i||l)return!1;let a=d.Z.getChannel(n);if(null==a)return!1;let o=a.guild_id;if(null==o||null==h[o])return!1;O(o,n,r.id,null==(t=r.author)?void 0:t.id)},GUILD_DELETE:function(e){let{guild:t}=e;delete h[t.id]},CHANNEL_DELETE:E,THREAD_DELETE:E,ACTIVE_CHANNELS_FETCH_START:function(e){let{guildId:t}=e;b[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){let{guildId:t,channels:n}=e;b[t]={loading:!1,error:null,fetchedAt:Date.now()},h[t]=new Set,n.forEach(e=>{let{channel_id:n,messages:r}=e;r.forEach(e=>{O(t,n,e.message_id,e.user_id)})})},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){let{guildId:t,error:n}=e;b[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}})},381416:function(e,t,n){n.d(t,{s:()=>o});var r=n(951288);n(647438);var i=n(481060),l=n(388032),a=n(394121);function o(e){let{onDiscardApplication:t,onContinueApplication:n,guild:o}=e;return(0,r.jsxs)("div",{className:a.confirmation,children:[(0,r.jsx)("div",{className:a.iconWrapper,children:(0,r.jsx)(i.Gzi,{size:"md",color:i.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsx)(i.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:null!=o?l.intl.formatToPlainString(l.t.f5Jaw8,{guildName:o.name}):l.intl.string(l.t["0sTyER"])}),(0,r.jsxs)("div",{className:a.incompleteButtonsContainer,children:[(0,r.jsx)(i.zxk,{fullWidth:!0,onClick:n,variant:"secondary",size:"md",text:l.intl.string(l.t.h3aGmp)}),(0,r.jsx)(i.zxk,{fullWidth:!0,onClick:t,variant:"critical-primary",size:"md",text:l.intl.string(l.t.OQFlFB)})]})]})}},523924:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(693546),s=n(937111),c=n(388032),u=n(394121);let d=e=>{let{headerId:t,reapplyText:n,onReapply:d,confirmText:p,onWithdrawApplication:f,rejectionReason:h=null,guild:g=null}=e,m=(0,l.e7)([s.Z],()=>{var e;return s.Z.getCooldown(null!=(e=null==g?void 0:g.id)?e:"0")});i.useEffect(()=>{null==m&&null!=g&&o.Z.fetchJoinRequestCooldown(g.id)},[m,g]);let b=(null!=m?m:0)>0,_=b&&null!=m?Math.ceil((1e3*m-Date.now())/864e5):0;return(0,r.jsxs)("div",{className:u.confirmation,children:[(0,r.jsx)("div",{className:u.iconWrapper,children:(0,r.jsx)(a.P$X,{size:"md",color:a.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsxs)("div",{className:u.statusTextContainer,children:[(0,r.jsx)(a.X6q,{id:t,variant:"heading-lg/semibold",color:"header-primary",children:(null==g?void 0:g.name)!=null?c.intl.formatToPlainString(c.t["P+/gzM"],{guildName:g.name}):c.intl.string(c.t.gBPcuL)}),null!=h&&""!==h?(0,r.jsxs)(a.Text,{variant:"text-md/medium",color:"header-secondary",children:[(0,r.jsx)("span",{className:u.rejectionReasonLabel,children:c.intl.string(c.t.cf1psb)}),(0,r.jsx)("span",{children:h})]}):null]}),(0,r.jsxs)("div",{className:u.confirmationButtonRow,children:[(0,r.jsx)(a.DY3,{className:u.confirmationButton,text:b?c.intl.formatToPlainString(c.t.A0f0Pz,{days:_}):null,"aria-label":b?c.intl.formatToPlainString(c.t.A0f0Pz,{days:_}):void 0,children:(0,r.jsx)(a.zxk,{onClick:d,variant:"secondary",size:"md",loading:null==m,disabled:b,text:n,fullWidth:!0})}),(0,r.jsx)(a.zxk,{onClick:f,variant:"critical-primary",size:"md",text:p,fullWidth:!0})]})]})}},390500:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288),i=n(647438),l=n(481060),a=n(926526),o=n(388032),s=n(394121);let c=function(e){let{onWithdrawApplication:t,guild:n=null}=e,c=null==n?void 0:n.id;return i.useEffect(()=>{null!=c&&(0,a.Pq)(c)},[c]),(0,r.jsxs)("div",{className:s.confirmation,children:[(0,r.jsx)("div",{className:s.iconWrapper,children:(0,r.jsx)(l.wGF,{size:"md",color:l.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsxs)("div",{className:s.statusTextContainer,children:[(0,r.jsx)(l.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:(null==n?void 0:n.name)!=null?o.intl.formatToPlainString(o.t["0Qlu//"],{guildName:n.name}):o.intl.string(o.t["5iLvS0"])}),(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-secondary",children:o.intl.string(o.t.FdsK4u)})]}),(0,r.jsx)(l.zxk,{fullWidth:!0,onClick:t,variant:"critical-primary",size:"md",text:o.intl.string(o.t.g9tK0t)})]})}},6039:function(e,t,n){n.d(t,{Z:()=>T}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(755721),o=n(481060),s=n(393238),c=n(877604),u=n(998730),d=n(703656),p=n(430824),f=n(768581),h=n(302221),g=n(693546),m=n(305325),b=n(246364),_=n(937111),O=n(381416),E=n(523924),y=n(390500),v=n(981631),I=n(898625),C=n(388032),S=n(555562);function N(e){let{guild:t,width:n,height:l}=e,a=i.useMemo(()=>(null==t?void 0:t.splash)!=null?f.ZP.getGuildSplashURL({id:null==t?void 0:t.id,splash:null==t?void 0:t.splash}):null,[null==t?void 0:t.splash,null==t?void 0:t.id]),o=(0,u.N)(a);return null==a?(0,r.jsx)("div",{className:S.defaultGradient}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:S.splash,src:a,imageClassName:S.cover,width:n,height:l}),null!=o&&(0,r.jsx)("div",{className:S.splashGradient,style:{background:"linear-gradient(180deg, ".concat((0,h.aD)(o,.16)," 0%, ").concat((0,h.aD)(o,1)," 100%)")}}),(0,r.jsx)("div",{className:S.splashGradient})]})}let T=e=>{let{guildId:t}=e,{ref:n,width:c,height:u}=(0,s.ZP)(),[f,h]=i.useState(I.hO.INITIAL),T=(0,l.e7)([_.Z],()=>_.Z.getRequest(t)),P=(0,l.e7)([p.Z],()=>p.Z.getGuild(t)),{hasFetchedRequestToJoinGuilds:j,guildPreviewDisabled:x}=(0,l.cj)([_.Z],()=>({hasFetchedRequestToJoinGuilds:_.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:_.Z.getJoinRequestGuild(t)}));i.useEffect(()=>{null!=P&&(0,d.uL)(v.Z5c.CHANNEL(t))},[P,t]),i.useEffect(()=>{j||g.Z.fetchRequestToJoinGuilds()},[j]);let A=i.useCallback(()=>{h(Math.max(f,I.hO.FILLING)),g.Z.removeGuildJoinRequest(t),(0,d.uL)(v.Z5c.ME)},[t,f]),Z=(e,t)=>()=>{(0,o.h7j)(n=>{var i,l;return(0,r.jsx)(o.ConfirmModal,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({header:C.intl.string(C.t.y0CVen),cancelText:C.intl.string(C.t.oEAioK),onConfirm:t,confirmText:C.intl.string(C.t.p89ACg),confirmButtonColor:a.zx.Colors.RED},n),l=l={children:(0,r.jsx)(o.Text,{variant:"text-sm/normal",color:"header-secondary",children:e})},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))})},w=async()=>{await g.Z.resetGuildJoinRequest(t),(0,m.hk)(t)},L=Z(C.intl.format(C.t["9ZezpK"],{name:null==x?void 0:x.name}),A),R=Z(C.intl.format(C.t.fJwWVl,{name:null==x?void 0:x.name}),A);return(0,r.jsxs)("div",{className:S.page,ref:n,children:[(0,r.jsx)(N,{guild:x,height:u,width:c}),(0,r.jsx)("div",{className:S.contentWrapper,children:(()=>{if(null==T)return null;switch(T.applicationStatus){case b.wB.SUBMITTED:return(0,r.jsx)(y.Z,{onWithdrawApplication:L,guild:x});case b.wB.REJECTED:return(0,r.jsx)(E.Z,{reapplyText:C.intl.string(C.t.I1LYVl),onReapply:w,confirmText:C.intl.string(C.t.g9tK0t),onWithdrawApplication:L,rejectionReason:T.rejectionReason,guild:x});default:return(0,r.jsx)(O.s,{onDiscardApplication:R,onContinueApplication:()=>(0,m.hk)(t),guild:x})}})()}),(0,r.jsx)("div",{className:S.dragRegion})]})}},584233:function(e,t,n){n.d(t,{x:()=>o});var r=n(447543),i=n(38618),l=n(652898),a=n(430824);async function o(e){let{code:t}=e,o=(await (0,l.Z)(t)).invite;if(null==o||null==o.guild||(await new Promise(e=>{i.Z.addChangeListener(()=>!i.Z.isConnected()||(e(),!1))}),null==a.Z.getGuild(o.guild.id)))return;let{default:s}=await Promise.resolve().then(n.bind(n,17181));await s({guildId:o.guild.id}),r.ZP.transitionToInvite(o,void 0,!0)}},326145:function(e,t,n){n.d(t,{Z:()=>y});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(393238),u=n(877604),d=n(998730),p=n(546247),f=n(430824),h=n(768581),g=n(302221),m=n(745752),b=n(17181),_=n(388032),O=n(76531),E=n(718215);function y(e){let{guildId:t,channelId:n}=e,{ref:l,width:y,height:v}=(0,c.ZP)(),I=i.useCallback(()=>{null!=t&&null!=n&&((0,m.I1)(t),(0,b.default)({guildId:t,returnChannelId:n}))},[t,n]),C=(0,o.e7)([f.Z],()=>f.Z.getGuild(t)),S=i.useMemo(()=>null==C?null:h.ZP.getGuildSplashURL({id:C.id,splash:C.splash}),[C]),N=(0,d.N)(S);return(0,r.jsxs)("div",{className:a()(O.outerWrapping,E.main,{[E.fullBorderWithGradient]:null==S}),ref:l,children:[null!=S?(0,r.jsx)(u.Z,{className:E.artwork,src:S,width:y,height:v,imageClassName:E.cover}):(0,r.jsx)(p.Z,{}),null!=N&&null!=S&&(0,r.jsx)("div",{className:E.gradient,style:{background:"linear-gradient(180deg, ".concat((0,g.aD)(N,.16)," 0%, ").concat((0,g.aD)(N,1)," 100%)")}}),null!=S&&(0,r.jsx)("div",{className:E.gradient}),(0,r.jsxs)("div",{className:a()(O.explainerContainer,O.transparentBackground),children:[(0,r.jsxs)("div",{className:O.header,children:[(0,r.jsx)(s.X6q,{variant:"heading-xxl/normal",color:"always-white",children:_.intl.string(_.t.CCmhpK)}),(0,r.jsx)(s.Text,{variant:"text-lg/normal",color:"always-white",children:_.intl.string(_.t.gRAHcX)})]}),(0,r.jsx)(s.zxk,{variant:"overlay-primary",size:"md",text:_.intl.string(_.t.VVFjAA),onClick:I})]})]})}},408042:function(e,t,n){n(388685),n(539854),n(953529);var r,i=n(442837),l=n(570140),a=n(314897),o=n(592125),s=n(430824),c=n(709054),u=n(231873);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={};function f(e,t){let n=p[e];return!(null==n||n.has(t))&&(p[e]=new Set(n.add(t)),!0)}class h extends(r=i.ZP.PersistedStore){initialize(e){this.waitFor(a.default,s.Z),p={},null!=e&&c.default.keys(e).forEach(t=>{let n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(p[t]=new Set(n))})}getProgress(e){return p[e]}hasProgress(e){let t=p[e];return null!=t&&!t.has(u.Rg.DISMISSED)}getState(){return p}}d(h,"displayName","GuildProgressStore"),d(h,"persistKey","GuildProgressStore"),new h(l.Z,{CONNECTION_OPEN:function(){let e=[];c.default.keys(p).forEach(t=>{p[t].has(u.Rg.COMPLETED)&&e.push(t)}),e.forEach(e=>f(e,u.Rg.DISMISSED))},GUILD_PROGRESS_INITIALIZE:function(e){let{guildId:t}=e;null==p[t]&&(p[t]=new Set),p[t].has(u.Rg.COMPLETED)||p[t].delete(u.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){let{guildId:t}=e;if(null==p[t])return!1;p[t]=new Set(p[t].add(u.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){let{guildId:t}=e;return f(t,u.Rg.DISMISSED)},GUILD_CREATE:function(e){let{guild:{id:t,member_count:n}}=e,r=s.Z.getGuild(t);if(null==r)return!1;r.ownerId===a.default.getId()&&null!=p[r.id]&&(null!=r.icon&&p[r.id].add(u.Rg.AVATAR),n>1&&p[r.id].add(u.Rg.INVITE))},CHANNEL_CREATE:function(e){let{channel:t}=e;return null!=t&&null!=t.guild_id&&null!=p[t.guild_id]&&f(t.guild_id,u.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let e of t)null!=e&&null!=e.guild_id&&null!=p[e.guild_id]&&!1!==f(e.guild_id,u.Rg.CHANNEL)&&(n=!0);return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){let{guild:t}=e;return null!=t&&null!=t.id&&null!=p[t.id]&&null!=t.icon&&f(t.id,u.Rg.AVATAR)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:r}=e,i=o.Z.getChannel(n);return(null==(t=r.author)?void 0:t.id)===a.default.getId()&&null!=i&&null!=p[i.guild_id]&&f(i.guild_id,u.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,memberCount:n}=e;return null!=p[t]&&n>1&&f(t,u.Rg.INVITE)}})},817520:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(430824),l=n(644542),a=n(923726),o=n(144507),s=n(981631);function c(e){let t=(0,r.e7)([i.Z],()=>i.Z.getGuild(e)),n=(0,a.ss)(e),c=(0,a.Gp)(),u=(null==t?void 0:t.features.has(s.oNc.ROLE_SUBSCRIPTIONS_ENABLED))===!0&&(null==t?void 0:t.features.has(s.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!1,d=(0,o.H2)(t);return u&&c&&d&&l.jJ.trackExposure({guildId:e,location:"ca30d9_1"}),u&&c&&d&&n}},999309:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(223892),l=n(601964),a=n(430824),o=n(594174),s=n(981631);function c(e){var t;let n=(0,r.e7)([a.Z],()=>a.Z.getGuild(e)),c=(0,r.e7)([o.default],()=>o.default.getCurrentUser()),u=null!=n&&(0,l.eM)(n,c),d=(0,i.Sd)();return u&&null!=(t=null==n?void 0:n.features.has(s.oNc.COMMUNITY))&&t&&d&&!((null==n?void 0:n.features.has(s.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.features.has(s.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.features.has(s.oNc.CREATOR_MONETIZABLE_DISABLED)))}},433280:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288);n(647438);var i=n(990547),l=n(399606),a=n(213609),o=n(434404),s=n(970731),c=n(601964),u=n(430824),d=n(594174),p=n(981631),f=n(388032),h=n(813249),g=n(217110);function m(e){let{guildId:t,markAsDismissed:n}=e,m=(0,l.e7)([u.Z,d.default],()=>{let e=d.default.getCurrentUser(),n=u.Z.getGuild(t);return null!=n&&(0,c.eM)(n,e)});return(0,a.Z)({type:i.ImpressionTypes.POPOUT,name:i.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:m}}),(0,r.jsx)("div",{className:h.container,children:(0,r.jsx)(s.ZP,{header:f.intl.string(f.t.C0m4ra),content:f.intl.string(f.t.zOHfER),asset:(0,r.jsx)("div",{className:h.image,children:(0,r.jsx)("img",{alt:f.intl.string(f.t.xad4wc),src:g,className:h.image})}),buttonCTA:f.intl.string(f.t.OgQQbG),onClick:()=>{o.Z.open(t,p.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:f.intl.string(f.t.WAI6xs),markAsDismissed:n})})}},34131:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(70097),l=n(434404),a=n(970731),o=n(981631),s=n(388032),c=n(766958);function u(e){let{guildId:t,markAsDismissed:n}=e;return(0,r.jsx)("div",{className:c.container,children:(0,r.jsx)(a.ZP,{header:s.intl.string(s.t.gCgirq),content:s.intl.string(s.t.fLMZFx),asset:(0,r.jsx)(i.Z,{className:c.video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:s.intl.string(s.t.BQq86u),onClick:()=>{l.Z.open(t,o.pNK.ROLE_SUBSCRIPTIONS,void 0,o.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:s.intl.string(s.t.WAI6xs),markAsDismissed:n})})}},939225:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(230711),a=n(931547),o=n(981631),s=n(526761),c=n(388032);function u(e){let{subscription:t}=e;return null==t?null:t.status===o.O0b.PAST_DUE?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.LZC,{size:16}),(0,r.jsx)(a.Z,{message:c.intl.string(c.t.eSuJEx),ctaMessage:c.intl.string(c.t.RXsxqa),onClick:()=>{l.Z.open(o.oAB.SUBSCRIPTIONS,s.cP)}})]}):null}},293423:function(e,t,n){n.d(t,{Z:()=>b}),n(953529);var r=n(951288);n(647438);var i=n(481060),l=n(584825),a=n(290348),o=n(934826),s=n(660196),c=n(330181),u=n(939225),d=n(36246),p=n(305342),f=n(726324),h=n(981631),g=n(388032),m=n(851418);let b=e=>{var t,n;let{guild:b}=e,_=(0,l.GG)(b.id)[0];(0,s.Z)({guildId:b.id,groupListingId:null==_?void 0:_.id,location:h.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==_?void 0:_.subscription_listings_ids});let{activeSubscription:O}=(0,o.Z)(null==_?void 0:_.id),E=(0,l.YB)(b.id),y=null==E?void 0:E.description,{editStateIds:v}=a.B7(null!=(t=null==_?void 0:_.id)?t:null,b.id);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.Z,{title:g.intl.format(g.t["rm+ojI"],{serverName:b.name}),description:null!=y?y:null,coverImageAsset:null!=(n=null==E?void 0:E.cover_image_asset)?n:null,guild:b,children:[null!=_?(0,r.jsx)(c.Z,{className:m.pendingPlanChangeNotice,groupListingId:_.id,subscription:O}):null,(0,r.jsx)(u.Z,{subscription:O})]}),(0,r.jsx)(i.y5t,{children:(0,r.jsx)(d.Z,{guildId:b.id,children:v.map(e=>{var t;return(0,r.jsx)(p.Z,{guildId:b.id,groupListingId:null!=(t=null==_?void 0:_.id)?t:"",listingId:e,analyticsLocation:h.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)})})})]})}},20967:function(e,t,n){n.d(t,{J:()=>d,z:()=>p});var r,i=n(951288);n(647438);var l=n(990547),a=n(481060),o=n(213609),s=n(388032),c=n(495760),u=n(837753),d=((r={}).GUILD_NOT_ELIGIBLE="guild_not_eligible",r.NOT_GUILD_MEMBER="not_guild_member",r);let p=e=>{let{errorType:t}=e;return(0,o.Z)({type:l.ImpressionTypes.PAGE,name:l.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}}),(0,i.jsx)("div",{className:c.errorPageContainer,children:(0,i.jsxs)("div",{className:c.errorPageContent,children:[(0,i.jsx)("img",{src:u,alt:"",className:c.errorPageIllo}),(0,i.jsx)(a.X6q,{variant:"heading-xl/extrabold",className:c.errorPageTitle,children:"guild_not_eligible"===t?s.intl.string(s.t.atZQVV):s.intl.string(s.t.gAdWBg)}),(0,i.jsx)(a.Text,{variant:"text-md/normal",className:c.errorPagSubtitle,children:"guild_not_eligible"===t?s.intl.string(s.t.teWe5O):s.intl.string(s.t["X/yMrK"])})]})})}},269675:function(e,t,n){n.d(t,{Z:()=>j});var r=n(951288),i=n(647438),l=n(873546),a=n(442837),o=n(481060),s=n(355467),c=n(270237),u=n(252618),d=n(423e3),p=n(200876),f=n(674180),h=n(38618),g=n(984370),m=n(430824),b=n(351402),_=n(730647),O=n(772021),E=n(396828),y=n(293423),v=n(20967),I=n(504762),C=n(807152),S=n(176505),N=n(388032),T=n(183261);function P(e){let{guildId:t}=e,n=(0,a.e7)([m.Z],()=>m.Z.getGuild(t),[t]),P=(0,a.e7)([h.Z],()=>h.Z.isConnected()),j=(0,p.Z)(t),x=(0,O.Z)(t),A=(0,a.e7)([b.Z],()=>b.Z.isSubscriptionFetching),Z=(0,_.f)(),{shouldHideGuildPurchaseEntryPoints:w,restrictionsLoading:L}=(0,f.uP)(t),R=null==n||!Z||A||L;(0,u.Tt)({subsection:N.intl.string(N.t["KzCF//"]),location:null==n?void 0:n.name}),(0,c.Z)(l.tq?"role-subscriptions-overview":void 0);let D=P&&(null==n||!(j||x)||w&&!L);if(i.useEffect(()=>{s.jg()},[]),i.useEffect(()=>{D&&!l.tq&&(0,d.M)(t,S.oC.ROLE_SUBSCRIPTIONS)},[t,D]),l.tq&&D){let e=null==n?v.J.NOT_GUILD_MEMBER:v.J.GUILD_NOT_ELIGIBLE;return(0,r.jsx)(v.z,{errorType:e})}return(0,r.jsxs)("div",{className:T.container,children:[(0,r.jsxs)(g.Z,{toolbar:(0,r.jsx)(i.Fragment,{}),className:T.headerBar,children:[(0,r.jsx)(g.Z.Icon,{icon:(0,o.GSL)(E.Z),"aria-hidden":!0}),(0,r.jsx)(g.Z.Title,{children:N.intl.string(N.t["KzCF//"])})]}),(0,r.jsx)("div",{id:C.v}),(0,r.jsx)("div",{className:T.content,children:j?(0,r.jsx)(o.u2D,{className:T.scroller,children:(0,r.jsx)("div",{className:T.scrollerContent,children:R?(0,r.jsx)(o.$jN,{}):(0,r.jsx)(y.Z,{guild:n})})}):(0,r.jsx)(I.Z,{})})]})}function j(e){let{guildId:t}=e;return(0,r.jsx)(_.l,{guildId:t,refetchOnMount:!0,children:(0,r.jsx)(P,{guildId:t})})}},504762:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(388032),a=n(926440),o=n(217110);function s(){return(0,r.jsx)("div",{className:a.container,children:(0,r.jsxs)("div",{className:a.content,children:[(0,r.jsx)("img",{src:o,alt:l.intl.string(l.t.MvLOqq)}),(0,r.jsx)(i.LZC,{size:12}),(0,r.jsx)(i.X6q,{className:a.header,variant:"heading-lg/semibold",children:l.intl.string(l.t.t18lFh)}),(0,r.jsx)(i.LZC,{size:8}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",children:l.intl.string(l.t.TvGJgo)})]})})}},807152:function(e,t,n){n.d(t,{v:()=>r});let r="guild-role-subscription-overview-notice"},726324:function(e,t,n){n.d(t,{Z:()=>u}),n(953529),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(565138),a=n(695346),o=n(506071),s=n(353254),c=n(696118);function u(e){let{coverImageAsset:t,title:n,guild:u,description:d,children:p}=e,f=a.QK.useSetting(),h=(0,o.n)(),[g,m]=(0,s.Z)(t,h&&f);return(0,r.jsxs)("div",{className:c.container,children:[(0,r.jsx)("div",{ref:g,className:c.coverImageContainer,children:null!=m&&(0,r.jsx)("img",{src:m,alt:"",className:c.coverImage})}),(0,r.jsx)("div",{className:c.guildIconContainer,children:(0,r.jsx)(l.Z,{guild:u,size:l.Z.Sizes.XLARGE})}),(0,r.jsx)(i.X6q,{variant:"heading-xl/semibold",className:c.ctaTitle,children:n}),(0,r.jsx)(i.Text,{className:c.ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:d}),p]})}},504160:function(e,t,n){n.d(t,{L_:()=>l,_6:()=>a,ji:()=>i});var r=n(570140);function i(e){let{eventId:t,stageId:n}=e;(null!=t||null!=n)&&r.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}function l(e){r.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_HIDE",eventId:e})}function a(e){r.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_SEEN",guildEventId:e})}},151864:function(e,t,n){n.d(t,{Z:()=>u}),n(539854);var r,i=n(442837),l=n(570140),a=n(765305);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={hiddenEventsAndStages:[]};class c extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&null!=e.hiddenEventsAndStages&&(s=e)}isLiveChannelNoticeHidden(e){let{eventId:t,stageId:n}=e;return!!(null!=n&&s.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&s.hiddenEventsAndStages.includes("event-".concat(t))}getState(){return s}}o(c,"displayName","LiveChannelNoticesStore"),o(c,"persistKey","liveChannelNotices_v2");let u=new c(l.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){let{eventId:t,stageId:n}=e;null!=t?s.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&s.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(t.status===a.p1.CANCELED||t.status===a.p1.COMPLETED)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},STAGE_INSTANCE_DELETE:function(e){let{instance:t}=e,n="stage-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))}})},497656:function(e,t,n){n.d(t,{y:()=>a});var r=n(517334),i=n(592125),l=n(554747);function a(e){var t;let n=(0,l.eF)(e),a=(0,r.ZP)(e),o=i.Z.getChannel(null==(t=a[0])?void 0:t.id);return null!=n?n:o}},300213:function(e,t,n){n.d(t,{m:()=>c}),n(647438);var r=n(442837);n(565799),n(431328),n(501655);var i=n(427679),l=n(517334);n(199902);var a=n(592125);n(496675),n(938475);var o=n(151864);n(497656);var s=n(554747);function c(e){var t;let n=(0,l.ZP)(e),c=a.Z.getChannel(null==(t=n[0])?void 0:t.id),u=(0,r.e7)([i.Z],()=>i.Z.getStageInstanceByChannel(null==c?void 0:c.id),[c]),d=(0,s.k5)(e),{isStageNoticeHidden:p,isEventNoticeHidden:f}=(0,r.cj)([o.Z],()=>({isStageNoticeHidden:o.Z.isLiveChannelNoticeHidden({stageId:null==u?void 0:u.id}),isEventNoticeHidden:o.Z.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}),[u,d]);if(null!=d)if(null!=u)return!p;else return!f;return null!=u&&!p}n(765305),n(231338)},862099:function(e,t,n){n.d(t,{Co:()=>Q,ZP:()=>X,bZ:()=>q,gt:()=>B}),n(388685);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(442837),c=n(481060),u=n(884338),d=n(471445),p=n(986332),f=n(662842),h=n(703656),g=n(922482),m=n(565799),b=n(501655),_=n(192079),O=n(427679),E=n(448206),y=n(496675),v=n(938475),I=n(626135),C=n(823379),S=n(15274),N=n(924301),T=n(504160),P=n(151864),j=n(835184),x=n(725436),A=n(497656),Z=n(79874),w=n(554747),L=n(230900),R=n(954313),D=n(139712),k=n(765305),M=n(981631),U=n(388032),G=n(507795);let B=l.memo(function(e){let{heading:t,location:n,locationIcon:r,details:l,detailsIcon:a,topic:s,onClickCloseIcon:u,children:d}=e;return(0,i.jsxs)("div",{className:G.channelNotice,children:[(0,i.jsxs)("div",{className:o()(G.textBlock,G.singleLine),children:[(0,i.jsx)("div",{className:G.liveIndicator}),(0,i.jsx)(c.Text,{color:"text-feedback-positive",variant:"text-xs/semibold",className:G.liveNowText,children:t}),null!=u&&(0,i.jsx)(c.P3F,{onClick:u,className:G.closeIcon,"aria-label":U.intl.string(U.t.cpT0Cg),children:(0,i.jsx)(c.Dio,{size:"xs",color:"currentColor"})})]}),(0,i.jsx)(c.X6q,{color:"header-primary",variant:"heading-md/semibold",className:G.eventName,children:s}),(0,i.jsxs)("div",{className:o()(G.textBlock,G.singleLine),children:[r,(0,i.jsx)(c.Text,{color:"none",variant:"text-xs/normal",className:G.channelName,children:n}),null!=l&&null!=a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:G.dotDivider,color:"none",variant:"text-xs/normal",children:""}),a,(0,i.jsx)(c.Text,{color:"none",variant:"text-xs/normal",className:G.details,children:l})]})]}),d]})});function V(e){let{guildEvent:t,channel:n}=e,r=(0,s.Wu)([v.ZP],()=>v.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),l=(0,d.KS)(n);return(0,i.jsx)(B,{onClickCloseIcon:()=>(0,T.ji)({eventId:null==t?void 0:t.id}),heading:U.intl.string(U.t["X2K3//"]),topic:t.name,location:n.name,locationIcon:null!=l?(0,i.jsx)(l,{size:"xs",color:"currentColor",className:G.stageIcon}):null,children:(0,i.jsx)(Q,{channel:n,speakers:r,voiceType:1})})}function H(e){let{guildEvent:t,noticeType:n}=e,r=(0,R.DK)(t),l=(0,s.e7)([N.ZP],()=>N.ZP.isInterestedInEventRecurrence(t.id,r),[t.id,r]),a=(0,s.e7)([j.Z],()=>j.Z.getUpcomingNoticeSeenTime(t.id),[t.id]);return l||null!=a||(0,T._6)(t.id),(0,i.jsx)(c.zxk,{onClick:function(){(0,D.Z)(t.id,null,t.guild_id,()=>setTimeout(()=>(0,T.L_)(t.id),1e3)),I.default.track(M.rMx.CHANNEL_NOTICE_CTA_CLICKED,{guild_id:t.guild_id,notice_type:n})},text:U.intl.string(U.t.DlcqlZ),icon:l?c.dz2:c.Dkj,variant:l?"secondary":"primary",size:"sm",fullWidth:!0})}function F(e){var t;let{guildEvent:n,noticeType:r}=e,a=(0,L.cS)(n),s=null!=a?(0,x.m)(a,!0):null,u=(0,L.nE)(n),p=(0,d.KS)(u),{startTime:f,endTime:h}=(0,Z.ZP)(n),{startDateTimeString:g,upcomingEvent:m,diffMinutes:b}=(0,R.ub)(f.toISOString(),null==h?void 0:h.toISOString()),_=m?b>0?U.intl.formatToPlainString(U.t.PQlCWl,{minutes:b}):U.intl.string(U.t.WINqKS):U.intl.formatToPlainString(U.t.DC6h3N,{date:g});return l.useEffect(()=>{I.default.track(M.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:r,guild_id:n.guild_id})},[n,r]),(0,i.jsxs)("div",{className:G.channelNotice,children:[(0,i.jsxs)("div",{className:G.textBlock,children:[(0,i.jsx)(c.P3F,{onClick:()=>(0,S.bO)({eventId:n.id}),className:G.eventNameClickable,children:(0,i.jsx)(c.Text,{color:"header-primary",variant:"text-md/semibold",className:G.eventName,children:n.name})}),(0,i.jsx)(c.P3F,{onClick:()=>{I.default.track(M.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:r,guild_id:n.guild_id}),(0,T.L_)(n.id)},className:G.closeIcon,"aria-label":U.intl.string(U.t.cpT0Cg),children:(0,i.jsx)(c.Dio,{size:"xs",color:"currentColor"})})]}),(0,i.jsxs)("div",{className:o()(G.textBlock,G.singleLine),children:[(0,i.jsx)(c.Que,{size:"custom",color:"currentColor",className:G.stageIcon,width:16,height:16}),(0,i.jsx)(c.Text,{color:"header-secondary",variant:"text-xs/normal",className:G.startTime,children:_})]}),(0,i.jsxs)("div",{className:o()(G.textBlock,G.singleLine),children:[null!=p?(0,i.jsx)(p,{size:"xs",color:"currentColor",className:G.stageIcon}):(0,i.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:G.stageIcon}),(0,i.jsx)(c.Text,{color:"none",variant:"text-xs/normal",className:G.channelName,children:null!=(t=null==u?void 0:u.name)?t:s})]}),(0,i.jsx)(H,{guildEvent:n,noticeType:r})]})}function z(e){let{guildEvent:t}=e,n=(0,L.cS)(t);return null==n?null:(0,i.jsx)(B,{onClickCloseIcon:()=>(0,T.ji)({eventId:null==t?void 0:t.id}),heading:U.intl.string(U.t["1+boPj"]),topic:t.name,location:(0,x.m)(n,!0),locationIcon:(0,i.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:G.stageIcon}),children:(0,i.jsx)(W,{guildEvent:t})})}function W(e){let{guildEvent:t}=e,n=l.useCallback(()=>{(0,S.bO)({eventId:t.id})},[t]);return(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:G.joinButton,children:(0,i.jsx)(c.zxk,{variant:"active",size:"sm",text:U.intl.string(U.t.z4FcDg),fullWidth:!0,onClick:n})})}function Y(e){let{channel:t,label:n}=e;return(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:G.joinButton,children:(0,i.jsx)(c.zxk,{variant:"active",size:"sm",text:n,fullWidth:!0,onClick:()=>{null!=t&&null!=t.getGuildId()&&((0,g.Cq)(t),(0,h.XU)(t.getGuildId(),t.id))}})})}function K(e){let{stageInstance:t,channel:n}=e,r=(0,s.Wu)([m.Z],()=>[...new Set(m.Z.getMutableParticipants(n.id,b.pV.SPEAKER).map(e=>e.user))],[n.id]),l=(0,s.e7)([m.Z],()=>m.Z.getParticipantCount(n.id,b.pV.AUDIENCE),[n.id]),a=U.intl.formatToPlainString(U.t["+v2pNz"],{count:"".concat(l)});return(0,i.jsx)(B,{onClickCloseIcon:()=>(0,T.ji)({stageId:null==t?void 0:t.id}),heading:U.intl.string(U.t["X2K3//"]),location:n.name,details:a,detailsIcon:(0,i.jsx)(c.VWR,{size:"custom",color:"currentColor",width:14,height:14,className:G.stageIcon}),locationIcon:(0,i.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:G.stageIcon}),topic:t.topic,children:(0,i.jsx)(Q,{channel:n,speakers:r,voiceType:2})})}var q=((r={})[r.VOICE=1]="VOICE",r[r.STAGE=2]="STAGE",r[r.STUDY_ROOM=3]="STUDY_ROOM",r);function Q(e){let{channel:t,speakers:n,voiceType:r}=e,a=t.getGuildId(),d=l.useMemo(()=>n.slice(0,3),[n]),p=(0,s.e7)([y.Z],()=>y.Z.can(M.Plq.CONNECT,t)),f=(0,E.Z)(t.id),h=U.intl.string(U.t.VJlc0d);switch(r){case 1:h=U.intl.string(U.t.VJlc0d);break;case 2:h=U.intl.string(U.t.ZYO5OD),(null==f?void 0:f.speaker)?h=U.intl.string(U.t["/cnSFR"]):null!=f&&(h=U.intl.string(U.t.btSGOj));break;case 3:h=U.intl.string(U.t.wBoE6O);break;default:(0,C.vE)(r)}return null==a?null:(0,i.jsxs)(i.Fragment,{children:[d.length>0?(0,i.jsxs)("div",{className:o()(G.textBlock,G.singleLine),children:[(0,i.jsx)(u.ZP,{guildId:a,users:d,showUserPopout:!0,size:u.u8.SIZE_16}),(0,i.jsx)(c.Text,{color:"none",variant:"text-xs/normal",className:G.userNames,children:(0,_.ER)(a,d,null==t?void 0:t.id,n.length)})]}):null,p&&null==f&&(0,i.jsx)(Y,{channel:t,label:h})]})}let X=l.memo(function(e){let{guild:t}=e,{showRedesignedLiveChannelNotice:n}=(0,p.o)(!0),r=(0,A.y)(t.id),l=(0,w.k5)(t.id),a=(0,w.Vm)(t.id),o=(0,s.e7)([O.Z],()=>O.Z.getStageInstanceByChannel(null==r?void 0:r.id),[r]),{isStageNoticeHidden:c,isEventNoticeHidden:u}=(0,s.cj)([P.Z],()=>({isStageNoticeHidden:P.Z.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:P.Z.isLiveChannelNoticeHidden({eventId:null==l?void 0:l.id})}),[o,l]),d=null,h=null!=o&&null!=r&&!c;if(n)return(0,i.jsx)(f.Z,{guild:t});null==l||u?h&&(d=(0,i.jsx)(K,{stageInstance:o,channel:r})):l.entity_type===k.WX.STAGE_INSTANCE&&h?d=(0,i.jsx)(K,{stageInstance:o,channel:r}):l.entity_type===k.WX.EXTERNAL?d=(0,i.jsx)(z,{guildEvent:l}):l.entity_type===k.WX.VOICE&&null!=r&&(d=(0,i.jsx)(V,{guildEvent:l,channel:r}));let g=t.features.has(M.oNc.COMMUNITY);if(null==d&&null!=a&&!g){let{upcomingEvent:e,noticeType:t}=a;d=(0,i.jsx)(F,{guildEvent:e,noticeType:t})}return d})},879064:function(e,t,n){n.d(t,{v:()=>l});var r=n(951288);n(647438);var i=n(481060);function l(e){(0,i.ZDy)(async()=>{let{default:t}=await n.e("8102").then(n.bind(n,674189));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n,e))},{modalKey:"Guild Settings Picker Modal"})}},337721:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(434404),l=n(970731),a=n(981631),o=n(388032),s=n(501130),c=n(930128);function u(e){let{guild:t,markAsDismissed:n}=e;return(0,r.jsx)(l.ZP,{header:o.intl.string(o.t.Hgd22t),content:o.intl.string(o.t.SorTPD),asset:(0,r.jsx)("div",{className:s.image,children:(0,r.jsx)("img",{alt:"",src:c})}),buttonCTA:o.intl.string(o.t["9l+df3"]),onClick:e=>{i.Z.open(t.id,a.pNK.DISCOVERY_LANDING_PAGE)},secondaryButtonCTA:o.intl.string(o.t.duVdqq),onSecondaryClick:()=>{},markAsDismissed:n})}},577718:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288),i=n(647438),l=n(704215),a=n(481060),o=n(906732),s=n(243778),c=n(433280),u=n(34131),d=n(567458),p=n(230421),f=n(782959),h=n(538445),g=n(511342),m=n(933104),b=n(355251),_=n(337721),O=n(921944);function E(e){let{renderPopout:t,renderGuildHeaderDropdownButton:n}=e,l=i.useRef(null);return(0,r.jsx)(a.yRy,{targetElementRef:l,renderPopout:()=>(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),children:"function"==typeof t?t(l):t}),position:"bottom",align:"center",animation:a.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>(0,r.jsx)("div",{ref:l,children:n()})})}let y=i.memo(function(e){let{contentTypes:t,guild:n,renderGuildHeaderDropdownButton:i}=e,{analyticsLocations:a}=(0,o.ZP)(),[y,v]=(0,s.US)(t,O.R.GUILD_HEADER_TOOLTIPS);return(0,r.jsx)(r.Fragment,{children:(()=>{switch(y){case l.z.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(h.Z,{guild:n,markAsDismissed:v}),renderGuildHeaderDropdownButton:i});case l.z.GUILD_POWERUP_PERKS_COACHMARK:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(m.$h,{guildId:n.id,markAsDismissed:v}),renderGuildHeaderDropdownButton:i});case l.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK:return(0,r.jsx)(E,{renderPopout:e=>(0,r.jsx)(b.Z,{guildId:n.id,markAsDismissed:v,targetElementRef:e}),renderGuildHeaderDropdownButton:i});case l.z.GUILD_HEADER_BOOST_PROGRESS_BAR_UPSELL:return(0,r.jsx)(g.Z,{guild:n,markAsDismissed:v,renderTargetElement:i});case l.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(c.Z,{guildId:n.id,markAsDismissed:v}),renderGuildHeaderDropdownButton:i});case l.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(_.Z,{guild:n,markAsDismissed:v}),renderGuildHeaderDropdownButton:i});case l.z.GUILD_HEADER_INVITE_SPLASH:return(0,r.jsx)(E,{renderPopout:e=>(0,r.jsx)(p.Z,{elementRef:e,guild:n,markAsDismissed:v,analyticsLocations:a}),renderGuildHeaderDropdownButton:i});case l.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(d.Z,{markAsDismissed:v}),renderGuildHeaderDropdownButton:i});case l.z.MEDIA_CHANNEL_UPSELL:return(0,r.jsx)(f.Z,{guildId:n.id,markAsDismissed:v,renderTargetElement:i});case l.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,r.jsx)(E,{renderPopout:(0,r.jsx)(u.Z,{guildId:n.id,markAsDismissed:v}),renderGuildHeaderDropdownButton:i});default:return i()}})()})})},242601:function(e,t,n){n.d(t,{Z:()=>eE}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(202841),s=n(524825),c=n(442837),u=n(704215),d=n(846519),p=n(481060),f=n(570140),h=n(239091),g=n(269128),m=n(711237),b=n(110924),_=n(100527),O=n(906732),E=n(211242),y=n(785203),v=n(211644),I=n(266454),C=n(492162),S=n(43740),N=n(596557),T=n(817520),P=n(999309),j=n(408987),x=n(130734),A=n(499137),Z=n(258871),w=n(340541),L=n(972264),R=n(691698),D=n(639777),k=n(761700),M=n(11352),U=n(304445),G=n(155409),B=n(10401),V=n(970731),H=n(592125),F=n(796974),z=n(486472),W=n(984933),Y=n(430824),K=n(819640),q=n(496675),Q=n(878884),X=n(19780),J=n(594174),$=n(74538),ee=n(374023),et=n(598056),en=n(373274),er=n(315174),ei=n(577718),el=n(156978),ea=n(591190),eo=n(981631),es=n(652785),ec=n(921944),eu=n(647086),ed=n(388032),ep=n(971606);function ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ef(e,t,n[t])})}return e}function eg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function em(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let eb="server-settings",e_={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}};class eO extends i.PureComponent{static getDerivedStateFromProps(e){let{guild:t,hasChannelNotice:n}=e;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){var e;this.setAnimatedValue(0),f.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices),this.historyUnlisten=U.Z.addRouteChangeListener(this.handleHistoryChange);let{location:t}=U.Z.getHistory();(null==(e=t.state)?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}componentWillUnmount(){this.showTimeout.stop(),this.state.controller.dispose(),this.historyUnlisten(),f.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)}getGuildBannerHash(){let{guild:e,hasChannelNotice:t}=this.props;return null==e||t?null:e.banner}renderGuildHeaderNotices(e){let{showGuildTemplateDirtyTooltip:t,showGuildHeaderTutorial:n,anyLayerOpen:i}=this.props,{shouldShowSubscribeTooltip:l}=this.state;return n?(0,r.jsx)("div",{onClick:t=>e?null:t.stopPropagation(),children:(0,r.jsx)(G.Z,{tutorialId:eb,position:"bottom",inlineSpecs:e_,children:this.renderGuildHeaderDropdownButton(e)})}):t?(0,r.jsx)(p.ua7,{forceOpen:!0,color:p.FGA.BRAND,position:"bottom",shouldShow:!e&&!i,text:ed.intl.string(ed.t.sFSrFB),"aria-label":ed.intl.string(ed.t.sFSrFB),children:()=>this.renderGuildHeaderDropdownButton(e)}):i||e?this.renderGuildHeaderDropdownButton(e):l?(0,r.jsx)(p.yRy,{targetElementRef:this.guildHeaderDropdownButtonRef,renderPopout:()=>(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,r.jsx)(V.ZP,{header:ed.intl.string(ed.t["Q3qa4+"]),content:ed.intl.string(ed.t.UyHD4O),buttonCTA:ed.intl.string(ed.t.U9PrMz),onClick:this.handleCloseSubscribeTooltip})}),position:"bottom",align:"center",animation:p.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>this.renderGuildHeaderDropdownButton(e)}):this.renderGuildHeaderUpsellPopout(e)}renderGuildHeader(e){let{guild:t,isHeaderPopoutOpen:n,showGuildHeaderTutorial:i,showGuildTemplateDirtyTooltip:l,isGuildHeaderDismissibleTooltipShown:a,headerAnalyticsLocations:o}=this.props,{controller:s,renderBanner:c,bannerVisible:u,bannerVisibleHeight:d,communityInfoVisible:f}=this.state,h=i||l||a;return null==t?null:(0,w.jW)({location:"guild_sidebar"}).entrypoints?(0,r.jsx)(O.Gt,{value:o,children:(0,r.jsx)(er.ZP,{guild:t,controller:s,renderBanner:c,hasSubheader:e,bannerVisible:u,communityInfoVisible:f,guildBanner:this.getGuildBannerHash(),onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:h,animationOverlayHeight:d,children:this.renderGuildHeaderNotices(n)})}):(0,r.jsx)(O.Gt,{value:o,children:(0,r.jsx)(p.KeG,{targetElementRef:this.guildHeaderRef,renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:p.yRy.Animation.SCALE,shouldShow:n,onRequestClose:()=>{(0,S.l)(!1)},spacing:4,children:i=>{var{onClick:l}=i,a=em(i,["onClick"]);return(0,r.jsx)(er.ZP,eg(eh({ref:this.guildHeaderRef,guild:t,controller:s,renderBanner:c,hasSubheader:e,bannerVisible:u,communityInfoVisible:f,guildBanner:this.getGuildBannerHash(),onClick:this.handleHeaderMenuToggle,onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:h,animationOverlayHeight:d},a),{children:this.renderGuildHeaderNotices(n)}))}})})}setAnimatedValue(e){let{guild:t}=this.props,n=null!=this.getGuildBannerHash(),r=null!=t&&(0,et.Z)(t);null!=t&&(n||r)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))}setAnimatedValueForGuildInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&(t=!t),t!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}renderChannelList(){let e=this.props,{isUnavailable:t,guild:n,selectedChannel:i,enableStudyGroup:l}=e,a=em(e,["isUnavailable","guild","selectedChannel","enableStudyGroup"]);if(t||null==n)return(0,r.jsx)(ea.Z,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});{if(n.features.has(eo.oNc.HUB)&&!l)return(0,r.jsx)("div",{className:ep.hubContainer,children:(0,r.jsx)(Z.Z,{guild:n,channel:null!=i?i:W.ZP.getDefaultChannel(n.id)})});let e=n.id===eu._?en.j:en.E;return(0,r.jsx)(e,eg(eh({guild:n},a),{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=n&&(null!=this.getGuildBannerHash()||(0,et.Z)(n))?this.pinBannerOrGuildInfo:null}))}}render(){var e;let{guild:t}=this.props;return(0,r.jsxs)("nav",{className:ep.container,onContextMenu:this.handleContextMenu,"aria-label":ed.intl.formatToPlainString(ed.t.nj5gAQ,{guildName:null!=(e=null==t?void 0:t.name)?e:""}),children:[null!=t&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=t&&(0,r.jsx)(el.Z,{guild:t,setHasSubheader:e=>this.setState({hasGuildSubheader:e})}),this.renderChannelList()]})}constructor(...e){super(...e),ef(this,"historyUnlisten",()=>{}),ef(this,"guildHeaderRef",i.createRef()),ef(this,"guildHeaderDropdownButtonRef",i.createRef()),ef(this,"showTimeout",new d.V7),ef(this,"state",{controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:88,hasGuildSubheader:!1}),ef(this,"handleHistoryChange",e=>{null!=e.state&&e.state.shouldShowSubscribeTooltip&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}),ef(this,"handleHeaderMenuToggle",e=>{let{isHeaderPopoutOpen:t}=this.props;e.stopPropagation(),(0,S.l)(!t),this.closeAllHeaderNotices()}),ef(this,"handleContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,h.jW)(e,async()=>{let{default:e}=await n.e("92795").then(n.bind(n,652171));return n=>(0,r.jsx)(e,eg(eh({},n),{guild:t}))})}),ef(this,"handleHeaderContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("1806"),n.e("36599"),n.e("60962"),n.e("58175"),n.e("7654"),n.e("44156"),n.e("47463"),n.e("6850"),n.e("58227"),n.e("54408"),n.e("42926"),n.e("20087"),n.e("6049"),n.e("87154"),n.e("33213"),n.e("23744")]).then(n.bind(n,545135));return n=>(0,r.jsx)(e,eg(eh({},n),{guild:t}))})}),ef(this,"closeAllHeaderNotices",()=>{this.handleCloseSubscribeTooltip(),this.handleCloseTemplateDirtyTooltip(),this.handleCloseStudentHubPrivacySettingsTooltip()}),ef(this,"handleCloseStudentHubPrivacySettingsTooltip",()=>{var e;let t=(0,I.zu)(u.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),n=null==(e=this.props.guild)?void 0:e.features.has(eo.oNc.HUB);!t&&n&&(0,I.Q3)(u.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:ec.L.AUTO})}),ef(this,"handleCloseSubscribeTooltip",()=>{this.showTimeout.stop(),this.state.shouldShowSubscribeTooltip&&this.setState({shouldShowSubscribeTooltip:!1})}),ef(this,"handleCloseTemplateDirtyTooltip",()=>{let{guild:e,showGuildTemplateDirtyTooltip:t}=this.props;null!=e&&t&&j.Z.hideGuildTemplateDirtyTooltip(e.id)}),ef(this,"renderMenuPopout",async()=>{let{default:e}=await Promise.all([n.e("87154"),n.e("45141")]).then(n.bind(n,859432));return t=>{let{closePopout:n}=t,{guild:i}=this.props;return null!=i&&(0,r.jsx)(e,{onClose:n,guild:i})}}),ef(this,"renderGuildHeaderUpsellPopout",e=>{let{showGuildPowerupProgressBarUpsell:t,showRoleSubscriptionUpsell:n,showInviteSplashUpsell:i,showDiscoveryLandingPageSettingsUpsell:l,showHubPrivacySettingsTooltip:a,showMediaChannelUpsell:o,showTierTemplatesUpsell:s,shouldRenderCustomNotificationSoundsCoachmark:c,shouldRenderGuildPowerupPerkCoachmark:d,shouldRenderBoosterEnhancedRoleColorsCoachmark:p,guild:f}=this.props;if(null==f)return this.renderGuildHeaderDropdownButton(e);let h=[];return(a&&h.push(u.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),t&&h.push(u.z.GUILD_HEADER_BOOST_PROGRESS_BAR_UPSELL),n&&h.push(u.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL),i&&h.push(u.z.GUILD_HEADER_INVITE_SPLASH),l&&h.push(u.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL),d&&h.push(u.z.GUILD_POWERUP_PERKS_COACHMARK),p&&h.push(u.z.BOOSTER_ENHANCED_ROLE_COLORS_COACHMARK),0===h.length)?this.renderGuildHeaderDropdownButton(e):(o&&h.push(u.z.MEDIA_CHANNEL_UPSELL),s&&h.push(u.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL),c&&h.push(u.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK),(0,r.jsx)(ei.Z,{contentTypes:h,guild:f,renderGuildHeaderDropdownButton:()=>this.renderGuildHeaderDropdownButton(e)}))}),ef(this,"renderGuildHeaderDropdownButton",e=>(0,w.jW)({location:"guild_sidebar"}).entrypoints?(0,r.jsx)(er.wD,{open:e}):(0,r.jsx)(g.Z,{open:e,className:a()(ep.dropdownButton,{[ep.dropdownButtonBannerVisible]:this.state.bannerVisible}),ref:this.guildHeaderDropdownButtonRef})),ef(this,"setAnimatedValueForBanner",e=>{let{renderBanner:t,communityInfoVisible:n,bannerVisible:r,bannerVisibleHeight:i,controller:l}=this.state;(e>=88&&r||e<88&&!r)&&(r=!r),(e>=88&&!t||e<88&&t)&&(t=!t),i=Math.max(88-e,0),n=r,(t!==this.state.renderBanner||r!==this.state.bannerVisible||i!==this.state.bannerVisibleHeight||n!==this.state.communityInfoVisible)&&this.setState({renderBanner:t,bannerVisible:r,bannerVisibleHeight:i,communityInfoVisible:n}),l.update({value:Math.min(1,Math.max(0,1-e/88)),immediate:!0}).start()}),ef(this,"pinBannerOrGuildInfo",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function eE(e){var t;let{guildId:n,hideSelectedChannel:l,selectedChannelId:a}=e,o=(0,c.e7)([Y.Z],()=>Y.Z.getGuild(n));(0,m.J_)(n);let d=(0,C.Z)(n),f=(0,c.e7)([F.Z],()=>F.Z.getGuildDimensions(n).scrollTo),h=(0,c.e7)([X.Z],()=>X.Z.getChannelId()),g=(0,c.e7)([q.Z],()=>q.Z.can(eo.Plq.MANAGE_GUILD,o)),j=(0,c.e7)([z.Z],()=>z.Z.isUnavailable(n)),Z=(0,c.e7)([J.default],()=>J.default.getCurrentUser()),{enableStudyGroup:w}=(0,A.s)(o),U=(0,v.ZP)(e=>e.currentlyShown.has(u.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)),[G,V]=i.useState(!U),W=(0,b.Z)(n),{analyticsLocations:et}=(0,O.ZP)(_.Z.GUILD_HEADER);i.useEffect(()=>{n!==W&&V(!U)},[n,W,U]);let[en,er]=(0,v.ZP)(e=>[es.XN.some(t=>e.currentlyShown.has(t.dismissibleContentType)),e.currentlyShownGroup.has(ec.R.GUILD_HEADER_TOOLTIPS)],s.X),ei=(0,y.Z)(o),el=(0,p.s9z)(p.JQI),ea=(0,c.e7)([K.Z],()=>K.Z.hasLayers()),eu=(0,c.e7)([B.Z],()=>B.Z.shouldShow(eb)),ed=(0,R.cT)(n,"GuildSidebar")&&g&&(null==o?void 0:o.premiumProgressBarEnabled)===!1&&!ee.s.isDisallowPopupsSet(),ep=(0,P.Z)(n),ef=(null==o?void 0:o.features.has(eo.oNc.HUB))===!0,eh=g&&(null==o?void 0:o.features.has(eo.oNc.DISCOVERABLE))===!0,eg=(0,E.Q)(),em=(g||(null==o?void 0:o.premiumTier)===eo.Eu4.NONE)&&!ee.s.isDisallowPopupsSet()&&!eg,e_=(0,c.e7)([x.Z,K.Z],()=>null!=o&&null!=Z&&g&&!K.Z.hasLayers()&&x.Z.shouldShowGuildTemplateDirtyTooltip(n)),eE=(0,c.e7)([H.Z],()=>H.Z.getChannel(a)),{isPopoutOpen:ey}=(0,S.y)(),ev=null!=(t=null==o?void 0:o.features.has(eo.oNc.COMMUNITY))&&t,eI=$.ZP.isNewUser(Z),eC=G&&!eI;(0,N.Z)(o);let eS=(0,I.Nj)(u.z.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),eN=(0,L.Z)(n),eT=(0,T.Z)(n),eP=(0,c.e7)([X.Z],()=>X.Z.getChannelId()),ej=(0,c.e7)([Q.Z],()=>Q.Z.desyncedVoiceStatesCount),ex=M.Y.useExperiment({location:"GuildSidebar"},{autoTrackExposure:!0}).enabled,eA=(0,D.Z)(n),eZ=(0,k.Z)(null==Z?void 0:Z.id,n)&&(null==o?void 0:o.premiumProgressBarEnabled)===!1;return(0,r.jsx)(eO,{guildId:n,hideSelectedChannel:l,guild:o,scrollToChannel:f,selectedChannelId:l?null:a,selectedChannel:eE,selectedVoiceChannelId:h,voiceStates:d,rtcConnectedChannelId:eP,rtcDesyncedVoiceStatesCount:ej,isUnavailable:j,user:Z,hasChannelNotice:null!=ei||en,anyLayerOpen:el||ea,showGuildPowerupProgressBarUpsell:ed,showInviteSplashUpsell:em,showDiscoveryLandingPageSettingsUpsell:eh,showGuildHeaderTutorial:eu,showGuildTemplateDirtyTooltip:e_,showRoleSubscriptionUpsell:ep,showHubPrivacySettingsTooltip:ef,showNewUnreadsBar:ev,showMediaChannelUpsell:eN,showTierTemplatesUpsell:eT,isHeaderPopoutOpen:ey,enableStudyGroup:w,isGuildHeaderDismissibleTooltipShown:er,canShowCoachMarkAtBottom:G,headerAnalyticsLocations:et,isTutorialHighlightDismissed:eS,shouldRenderBurstCoachmark:eC,shouldRenderCustomNotificationSoundsCoachmark:ex,shouldRenderGuildPowerupPerkCoachmark:!1===eA,shouldRenderBoosterEnhancedRoleColorsCoachmark:eZ})}},156978:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288),i=n(647438),l=n(122611),a=n(619224);function o(e){let{guild:t,setHasSubheader:n}=e,o=i.useRef(null);return i.useLayoutEffect(()=>{let e=o.current;null!=e&&n(e.childNodes.length>0)}),(0,r.jsx)("div",{className:a.container,ref:o,children:(0,r.jsx)(l.Z,{guild:t})})}},130734:function(e,t,n){n.d(t,{Z:()=>g});var r,i=n(442837),l=n(433517),a=n(570140);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let u="hasSeenGuildTemplatePromotionTooltip",d={},p=!0===l.K.get(u);function f(e){let{guildId:t}=e;d=c(s({},d),{[t]:!1})}class h extends(r=i.ZP.Store){shouldShowGuildTemplateDirtyTooltip(e){var t;return null!=(t=d[e])&&t}shouldShowGuildTemplatePromotionTooltip(){return!p}}o(h,"displayName","GuildTemplateTooltipStore");let g=new h(a.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){let{guildTemplate:t}=e;d=c(s({},d),{[t.source_guild_id]:t.is_dirty||!1})},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){l.K.set(u,!0),p=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){d=c(s({},d),{[e.guildTemplate.source_guild_id]:!1})},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:f,GUILD_TEMPLATE_DELETE_SUCCESS:f})},962220:function(e,t,n){n.d(t,{Z:()=>h});var r,i,l=n(39612),a=n(271579),o=n(756647),s=n(625128),c=n(626135),u=n(954824),d=n(751189),p=n(981631);let f="template",h=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},d.Z),i=i={openNativeAppModal(e){s.Z.openNativeAppModal(e,p.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(e,t){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=e?(0,l.Oh)(e):(0,l.Gk)(),r=(0,a.WS)(),i=(0,a.ZP)(n,{utmSource:f,fingerprint:t,attemptId:r});c.default.track(p.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,o.K)(t),attempt_id:r,source:f,guild_template_code:e}),u.Z.launch(i,()=>{})}},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)},300986:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288);n(647438);var i=n(442837),l=n(692547),a=n(481060),o=n(706454),s=n(594174),c=n(626135),u=n(63063),d=n(51144),p=n(665149),f=n(981631),h=n(388032);let g=new Set(["ko","ja"]);function m(e){let{className:t,focusSectionProps:n}=e,m=(0,i.e7)([s.default],()=>s.default.getCurrentUser()),b=(0,i.e7)([o.default],()=>o.default.locale),_=(0,d.EO)(m);return(0,r.jsx)(a.eee,{href:u.w,target:"_blank",tabIndex:-1,children:(0,r.jsx)(p.JO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({color:_?l.Z.unsafe_rawColors.GREEN_360.css:"currentColor",className:t,onClick:()=>c.default.track(f.rMx.HELP_CLICKED,{highlighted:_}),icon:a.idN,tooltipPosition:g.has(b)?"left":void 0,tooltip:h.intl.string(h.t.cqEoj4)},n))})}},314451:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(782568),s=n(31336),c=n(906467),u=n(63063),d=n(665149),p=n(388032);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let h=()=>(0,a.ZDy)(async()=>{let{default:e}=await n.e("83051").then(n.bind(n,115072));return t=>(0,r.jsx)(e,f({},t))});function g(e){let{className:t,focusSectionProps:n}=e,g=(0,l.e7)([c.Z],()=>c.Z.isDeveloper),[m,b]=i.useState(!1),[_,O]=i.useState(0),E=i.useRef(null),y=e=>{clearTimeout(_),O(setTimeout(()=>{b(e)},100))};return(0,r.jsx)("div",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:(0,r.jsx)(a.yRy,{targetElementRef:E,shouldShow:m,animation:a.yRy.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestOpen:()=>b(!0),onRequestClose:()=>b(!1),renderPopout:()=>(function(e){let{onClose:t,isDiscordDeveloper:n}=e;return(0,r.jsx)(a.v2r,{onSelect:()=>{},navId:"staff-help-popout",variant:"fixed",onClose:t,"aria-label":p.intl.string(p.t.HpQykZ),children:(0,r.jsxs)(a.kSQ,{children:[(0,r.jsx)(a.sNh,{id:"staff-help-bug-reporter",label:p.intl.string(p.t["5Lqopa"]),icon:a.nnZ,action:h}),n&&(0,r.jsx)(a.sNh,{id:"staff-devtools",label:"Toggle DevTools",icon:a.Ymb,action:()=>(0,s.SO)()}),(0,r.jsx)(a.sNh,{id:"staff-help-center",label:"Go to Help Center",icon:a.rgF,action:()=>(0,o.Z)(u.w)})]})})})({onClose:()=>b(!1),isDiscordDeveloper:g}),children:(e,i)=>{let{isShown:l}=i;return(0,r.jsx)(d.JO,f({ref:E,onClick:h,icon:a.nnZ,"aria-label":p.intl.string(p.t.cqEoj4),selected:l,className:t},n))}})})}},35583:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(668781),s=n(549388),c=n(431583),u=n(91372),d=n(19780),p=n(665149),f=n(388032),h=n(979905);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{static getDerivedStateFromProps(e,t){return e.mode!==t.memoizedMode?{memoizedMode:e.mode,clicked:!1}:null}handleDownloadApps(){(0,a.h7j)(e=>(0,r.jsx)(c.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}({source:"Links"},e)))}render(){switch(this.props.mode){case"UPDATE_AVAILABLE":return(0,r.jsx)(p.JO,{hideOnClick:!1,tooltip:f.intl.string(f.t["zp9d//"]),foreground:h.downloadArrow,background:h.cloud,icon:a._8t,className:this.props.className});case"UPDATE_MANUALLY":case"UPDATE_DOWNLOADED":return(0,r.jsx)(p.JO,{tooltip:f.intl.string(f.t.u18OXF),foreground:h.updateIconForeground,onClick:this.handleInstallDownload,icon:a._8t,className:this.props.className});default:return null}}constructor(...e){super(...e),g(this,"state",{memoizedMode:this.props.mode,clicked:!1}),g(this,"handleInstallDownload",()=>{d.Z.isConnected()?o.Z.show({title:f.intl.string(f.t.tiu1l5),body:f.intl.string(f.t["zK+lqa"]),onConfirm:this.doUpdate,cancelText:f.intl.string(f.t["ETE/oK"]),confirmText:f.intl.string(f.t["QDX/qq"]),confirmVariant:"critical-primary"}):this.doUpdate()}),g(this,"doUpdate",()=>{this.state.clicked||(this.setState({clicked:!0}),(0,s.Q)())})}}let b=l.ZP.connectStores([u.Z],()=>({mode:u.Z.getState()}))(m)},315964:function(e,t,n){n.d(t,{Z:()=>a});var r=n(570140),i=n(142497),l=n(190378);let a={init(){r.Z.subscribe("VOICE_CHANNEL_SELECT",e=>{let{channelId:t}=e;null==t&&i.Kw(l.v.VOICE_PANEL_INTRODUCTION)})}}},499137:function(e,t,n){n.d(t,{s:()=>o});var r=n(647438),i=n(818083),l=n(981631);let a=(0,i.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),o=e=>{var t;return r.useEffect(()=>{null!=e&&e.features.has(l.oNc.HUB)&&a.trackExposure({guildId:e.id,location:"467c32_1"})},[e]),a.useExperiment({guildId:null!=(t=null==e?void 0:e.id)?t:l.lds,location:"467c32_2"},{autoTrackExposure:!1,disable:null==e||!e.features.has(l.oNc.HUB)})}},469988:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(755721),l=n(481060),a=n(388032),o=n(808709);let s=e=>{let{hasHub:t}=e;return(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsx)("div",{className:o.iconContainer,children:(0,r.jsx)(l.aVH,{size:"md",color:l.TVs.colors.WHITE.css})}),(0,r.jsx)(l.Text,{color:"header-primary",variant:"text-lg/semibold",className:o.header,children:t?a.intl.string(a.t.hsSHh4):a.intl.string(a.t.Wf6iio)}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:o.__invalid_description,children:t?a.intl.string(a.t.FZ2J3d):a.intl.string(a.t.TvHcv7)}),(0,r.jsx)("div",{className:o.gap}),(0,r.jsx)(i.zx,{size:i.zx.Sizes.LARGE,color:t?i.zx.Colors.PRIMARY:i.zx.Colors.GREEN,onClick:()=>(0,l.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))}),children:(0,r.jsx)(l.Text,{variant:"text-sm/semibold",className:o.addButton,color:"none",children:t?a.intl.string(a.t.IyjHDw):a.intl.string(a.t["KU/aNz"])})})]})}},613609:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(457542);var r=n(951288),i=n(647438),l=n(442837),a=n(447543),o=n(568154),s=n(703656),c=n(430824),u=n(701190),d=n(449934),p=n(650233),f=n(981631),h=n(898625),g=n(242517);let m=e=>{let{guildId:t,inviteCode:n}=e,[m,b]=i.useState(h.hO.INITIAL),[_,O]=i.useState(null!=n);i.useEffect(()=>{null!=n&&a.ZP.resolveInvite(n,"Hub").finally(()=>O(!1))},[n]);let E=(0,l.e7)([u.Z],()=>null!=n?u.Z.getInvite(n):null),y=(0,l.e7)([c.Z],()=>c.Z.getGuild(t));i.useEffect(()=>{null!=y&&(0,s.uL)(f.Z5c.CHANNEL(t))},[y,t]);let v=i.useCallback(e=>{b(t=>Math.max(t,e))},[]),I=(0,d.gK)();return(0,r.jsx)("div",{className:g.page,children:(0,r.jsxs)(o.Z,{embedded:!0,splash:I,waveState:m,showLogo:!1,updateWaveState:v,children:[(0,r.jsx)("div",{className:g.dragRegion}),(0,r.jsx)("div",{className:g.contentWrapper,children:!_&&(0,r.jsx)(p.H,{invite:E})})]})})}},704631:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(481060),l=n(82950),a=n(981631),o=n(921944),s=n(388032),c=n(524094);function u(e){let{guild:t,markAsDismissed:u}=e;return(0,r.jsx)(l.Z,{guild:t,onDismissed:()=>u(o.L.UNKNOWN),onClick:function(){(0,i.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))})},message:s.intl.string(s.t["1+hiPz"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.HUB_LINK_NOTICE,type:a.vID.HUB_LINK,image:c})}},567458:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(921944),a=n(388032),o=n(46456);function s(e){let{markAsDismissed:t}=e;return(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsx)("div",{className:o.pointer}),(0,r.jsx)(i.Text,{variant:"text-sm/normal",className:o.content,children:a.intl.string(a.t.rdzeVF)}),(0,r.jsx)(i.zxk,{variant:"overlay-primary",text:a.intl.string(a.t["NX+WJC"]),fullWidth:!0,onClick:()=>{t(l.L.AUTO)}})]})}},526383:function(e,t,n){n.d(t,{Z:()=>a});var r=n(442837),i=n(430824),l=n(981631);function a(){return(0,r.Wu)([i.Z],()=>i.Z.getGuildsArray().filter(e=>e.features.has(l.oNc.HUB)))}},819792:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(202841),l=n(442837),a=n(481060),o=n(536442),s=n(984933),c=n(496675),u=n(51382),d=n(91326),p=n(503856),f=n(981631);function h(e){let{channel:t,guild:n}=e,s=(0,l.e7)([o.qc],()=>o.qc.hasHotspot(o.v6.HUB_STUDY_ROOM_NOTICE)),c=(0,p.r)(t.guild_id),f=(0,a.q_F)({maxHeight:300*!c,overflow:"hidden",delay:400});return(0,r.jsx)(i.animated.div,{style:f,children:s?(0,r.jsx)(u.Z,{channel:t,guild:n}):(0,r.jsx)(d.Z,{name:"\uD83D\uDCDA ".concat(t.name),channel:t})})}let g=function(e){let{guild:t}=e,n=(0,l.e7)([s.ZP],()=>s.ZP.getChannels(t.id)[s.Zb][0]),i=(0,l.e7)([c.Z],()=>null!=n&&c.Z.can(f.Plq.CONNECT,n.channel));return t.features.has(f.oNc.HUB)&&null!=n&&i?(0,r.jsx)(h,{channel:n.channel,guild:t}):null}},51382:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(82950),l=n(536442),a=n(703656),o=n(922482),s=n(981631),c=n(388032),u=n(882977);let d=e=>{let{channel:t,guild:n}=e;return(0,r.jsx)(i.Z,{guild:n,onDismissed:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE)},onClick:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE),null!=t&&null!=t.getGuildId()&&((0,o.Cq)(t),(0,a.XU)(t.getGuildId(),t.id))},title:c.intl.string(c.t["4Y2AS0"]),message:c.intl.string(c.t.wTsxTU),cta:c.intl.string(c.t.wBoE6O),image:u,type:s.vID.HUB_STUDY_ROOM})}},91326:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(442837),l=n(471445),a=n(862099),o=n(938475),s=n(388032),c=n(561223);let u=function(e){let{name:t,channel:n}=e,u=(0,i.Wu)([o.ZP],()=>o.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),d=(0,l.KS)(n);return(0,r.jsx)(a.gt,{heading:s.intl.string(s.t["X2K3//"]),topic:t,location:s.intl.string(s.t.LZA6NT),locationIcon:null!=d?(0,r.jsx)(d,{size:"xs",color:"currentColor",className:c.icon}):null,children:(0,r.jsx)(a.Co,{channel:n,speakers:u,voiceType:a.bZ.STUDY_ROOM})})}},230421:function(e,t,n){n.d(t,{Z:()=>m});var r=n(951288),i=n(647438),l=n(907862),a=n(26323),o=n(434404),s=n(626135),c=n(267642),u=n(981631),d=n(921944),p=n(30513),f=n(474936),h=n(388032),g=n(869305);function m(e){let{elementRef:t,guild:n,markAsDismissed:m,analyticsLocations:b}=e,_=(0,c.f2)(n,u.Eu4.TIER_1)?h.intl.string(h.t["57kzen"]):h.intl.formatToPlainString(h.t.pMftkJ,{boostCount:(0,c.KK)(n,u.Eu4.TIER_1)}),O=(0,c.f2)(n,u.Eu4.TIER_1)?h.intl.string(h.t.rOFcBg):h.intl.string(h.t.hvVgAQ);return i.useEffect(()=>{s.default.track(u.rMx.PREMIUM_UPSELL_VIEWED,{type:f.cd.INVITE_SPLASH_UPSELL,location:{page:u.ZY5.GUILD_CHANNEL},location_stack:b})},[b]),(0,r.jsx)(l.J2,{targetElementRef:t,graphic:{type:"image",src:g},size:"lg",title:h.intl.string(h.t["36wK8/"]),body:_,onRequestClose:()=>m(d.L.DISMISS),caretConfig:{position:"top",align:"center"},actions:[{text:O,onClick:()=>{(0,c.f2)(n,u.Eu4.TIER_1)?o.Z.open(n.id,u.pNK.BOOST_PERKS,{section:u.jXE.PREMIUM_GUILD_INVITE_SPLASH}):(0,a.Z)({analyticsLocations:b,analyticsSourceLocation:u.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:n,perks:(0,p.o9)()}),m(d.L.PRIMARY)}}]})}},919285:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(82950),l=n(434404),a=n(929507),o=n(981631),s=n(388032),c=n(943935);function u(e){let{guild:t}=e,n=()=>a.Z.dismissNotice(t.id);return(0,r.jsx)(i.Z,{guild:t,onDismissed:n,cta:s.intl.string(s.t.RzWDqa),message:s.intl.format(s.t["kQ/MDg"],{}),type:o.vID.COMMANDS_MIGRATION,image:c,onClick:()=>{n(),l.Z.open(t.id,o.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}},975533:function(e,t,n){n.d(t,{Z:()=>U}),n(388685);var r=n(570140),i=n(846027),l=n(13245),a=n(287734),o=n(872810),s=n(223245),c=n(479837),u=n(317770),d=n(100527),p=n(924557),f=n(39604),h=n(891304),g=n(569545),m=n(722835),b=n(352527),_=n(641015),O=n(183584),E=n(383451),y=n(199902),v=n(131951),I=n(246946),C=n(556296),S=n(808506),N=n(237997),T=n(626135),P=n(554174),j=n(577153),x=n(981631),A=n(345655),Z=n(65154);let w=new Map;function L(e,t,n){var r;let i=performance.now(),l=null!=(r=n.context)?r:Z.Yn.DEFAULT;if(e)n.pressedTime=i;else if(null!=n.pressedTime&&(0,E.f)({location:"doPTT",autoTrackExposure:!1}).enableLatching){let e=A._M,{pttLatchingEnabled:t=!1}=v.Z.getModeOptions(l);if(!n.latched&&!0===t&&i<n.pressedTime+e){n.latched=!0;return}n.latched=!1}let a=w.get(l);null==a&&(a=new Map,w.set(l,a));let o=a.get(t);null==o&&(o=new Set,a.set(t,o)),e?o.add(n.id):o.delete(n.id);let s=o.size>0;v.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(s,t),l)}let R={[x.kg4.TOGGLE_PRIORITY_SPEAKER]:{onTrigger(){},keyEvents:{}},[x.kg4.UNASSIGNED]:{onTrigger(){},keyEvents:{}},[x.kg4.PUSH_TO_TALK]:{onTrigger(e,t){v.Z.getMode(t.context)===x.pM4.PUSH_TO_TALK&&(R[x.kg4.PUSH_TO_TALK].isPressed=e,L(e,!1,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[x.kg4.PUSH_TO_TALK_PRIORITY]:{onTrigger(e,t){(v.Z.getMode()===x.pM4.PUSH_TO_TALK||j.Z.getCurrentConfig({location:"keybinds"}).onPTTKeybind)&&(R[x.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e,L(e,!0,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[x.kg4.VAD_PRIORITY]:{onTrigger(e,t){v.Z.getMode()===x.pM4.VOICE_ACTIVITY&&j.Z.getCurrentConfig({location:"keybinds"}).separateKeybind&&(R[x.kg4.VAD_PRIORITY].isPressed=e,L(e,!0,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[x.kg4.PUSH_TO_MUTE]:{onTrigger(e){v.Z.getMode()===x.pM4.VOICE_ACTIVITY&&(R[x.kg4.PUSH_TO_MUTE].isPressed=e,i.Z.setTemporarySelfMute(e))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[x.kg4.TOGGLE_MUTE]:{onTrigger:()=>i.Z.toggleSelfMute({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_DEAFEN]:{onTrigger:()=>i.Z.toggleSelfDeaf({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_CAMERA]:{onTrigger:()=>(0,c.r)(),keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_VOICE_MODE]:{onTrigger(){let e=v.Z.getMode()===x.pM4.PUSH_TO_TALK?x.pM4.VOICE_ACTIVITY:x.pM4.PUSH_TO_TALK;i.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_OVERLAY]:{onTrigger(){},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_OVERLAY_INPUT_LOCK]:{onTrigger(e,t){if(!(0,C.I1)(t.shortcut))return;let n=(0,P.Z)();null!=n&&l.Z.setInputLocked(!N.default.isLocked(n),n)},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]:{onTrigger(){let e=S.default.getFocusedPID(),t=null!=e;null!=e&&t&&N.default.isPinned(x.Odu.TEXT)&&N.default.isLocked(e)&&S.default.isReady(e)&&l.Z.activateRegion(x.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_GO_LIVE_STREAMING]:{onTrigger(){let e=y.Z.getCurrentUserActiveStream();if(null!=e)return(0,o.g)((0,g.V9)(e));(0,m.Z)(!0,[d.Z.GO_LIVE_KEYBIND])},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.TOGGLE_STREAMER_MODE]:{onTrigger(){s.Z.setEnabled(!I.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.NAVIGATE_BACK]:{onTrigger:()=>(0,h.Hm)("global_keybind"),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[x.kg4.NAVIGATE_FORWARD]:{onTrigger:()=>(0,h.TL)("global_keybind"),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[x.kg4.SOUNDBOARD]:{onTrigger:()=>{let e=(0,P.Z)();if(null!=e)if(b.Z.enabled)(0,O.oZ)(e);else{if(!(0,_.D)())return;(0,O.IN)(!0,e)}},keyEvents:{keyup:!0,keydown:!1}},[x.kg4.SOUNDBOARD_HOLD]:{onTrigger:e=>{let t=(0,P.Z)();if(null!=t){if(e){if(!(0,_.D)())return;(0,O.IN)(!1,t)}else(0,O.oZ)(t);return}},keyEvents:{keyup:!0,keydown:!0}},[x.kg4.SAVE_CLIP]:{onTrigger:()=>{(0,p.ln)()&&(T.default.track(x.rMx.CLIP_SAVE_KEYBIND_PRESSED),(0,f.C1)())},keyEvents:{keyup:!1,keydown:!0}},[x.kg4.SWITCH_TO_VOICE_CHANNEL]:{onTrigger(e,t){let{params:{channelId:n}}=t;null!=n&&a.default.selectVoiceChannel(n)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}},[x.kg4.DISCONNECT_FROM_VOICE_CHANNEL]:{onTrigger(){a.default.selectVoiceChannel(null)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}}},D=null;function k(){w.clear(),v.Z.getMediaEngine().eachConnection(e=>{e.setForceAudioInput(!1,!1),e.setForceAudioInput(!1,!0)},Z.Yn.DEFAULT)}class M extends u.Z{_initialize(){r.Z.wait(()=>r.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:R})),r.Z.subscribe("AUDIO_SET_MODE",k),r.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect)}_terminate(){r.Z.unsubscribe("AUDIO_SET_MODE",k),r.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect)}handleVoiceChannelSelect(e){let{currentVoiceChannelId:t}=e;t!==D&&k(),D=t}}let U=new M},972264:function(e,t,n){n.d(t,{Z:()=>s});var r=n(442837),i=n(430824),l=n(496675),a=n(312146),o=n(981631);function s(e){let t=(0,r.e7)([i.Z],()=>i.Z.getGuild(e)),n=(0,a.Ui)(t),s=l.Z.can(o.Plq.MANAGE_CHANNELS,t);return n&&s}},782959:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288),i=n(647438),l=n(907862),a=n(481060),o=n(367907),s=n(626135),c=n(63063),u=n(981631),d=n(921944),p=n(388032);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e){let{guildId:t,markAsDismissed:h,renderTargetElement:g}=e,m={text:p.intl.string(p.t.JzJpg4),onClick:()=>{s.default.track(u.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,f({},(0,o.hH)(t))),h(d.L.PRIMARY),(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("45094"),n.e("67133")]).then(n.bind(n,218613));return n=>{var i,l;return(0,r.jsx)(e,(i=f({},n),l=l={channelType:u.d4z.GUILD_MEDIA,guildId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},variant:"primary"},b=i.useRef(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:b,children:g()}),(0,r.jsx)(l.Mb,{title:p.intl.string(p.t.fW7UqK),body:p.intl.string(p.t["yQ0X+f"]),caretConfig:{position:"top",align:"center"},assetUrl:"https://cdn.discordapp.com/assets/media_channel/media_channel_upsell_demo.mp4",action:m,textLink:{link:c.Z.getCreatorSupportArticleURL(u.BhN.MEDIA_CHANNEL),text:p.intl.string(p.t.w4DutL)},targetElementRef:b,onRequestClose:()=>h(d.L.DISMISS)})]})}},584731:function(e,t,n){n(388685);var r=n(442837),i=n(570140),l=n(513418),a=n(710845),o=n(592125),s=n(375954),c=n(625236);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=-1/0,p=new a.Z("MessagePreviewStore");class f extends r.ZP.Store{isLatest(e,t){var n;let r=this.guilds.get(null!=e?e:null);return null!=(n=null==r?void 0:r.isLatest(t,this.generation))&&n}isLocalFetchNeeded(e){var t,n;return null==(n=null==(t=this.guilds.get(e))?void 0:t.localNeeded)||n}message(e,t){var n,r;return null!=(r=null==(n=this.guilds.get(e))?void 0:n.messageRecord(t))?r:null}data(e){return this.guilds.has(e)||this.guilds.set(e,new c.B),this.guilds.get(e)}handleOneGuildCreate(e){var t,n;let r=this.data(e.id);r.putMany(null!=(t=e.lastMessages)?t:[],this.generation),r.putMany(null!=(n=e.threadMessages)?n:[],this.generation),null!=e.lastMessages&&(r.localNeeded=!1)}handleConnectionOpen(e){for(let t of(this.generation+=1,e.guilds))this.handleOneGuildCreate(t)}handleGuildCreate(e){this.handleOneGuildCreate(e.guild)}handleGuildDelete(e){this.guilds.delete(e.guild.id)}handleMessageCreate(e){var t;if(e.optimistic||e.isPushNotification)return!1;this.data(null!=(t=e.guildId)?t:null).put(e.message.channel_id,e.message,this.generation)}handleMessageDelete(e){var t,n;let r=null!=(n=e.guildId)?n:null;if((null==(t=this.data(r))?void 0:t.messageId(e.channelId))===e.id){let t=s.Z.getMessages(e.channelId),n=t.hasMoreAfter?null:t.last();null!=n?this.data(r).put(e.channelId,n,this.generation):this.data(r).delete(e.channelId)}}handleMessageUpdate(e){var t;let n=null!=(t=e.guildId)?t:null,r=e.message.channel_id,i=e.message.id;if(null==r||null==i)return!1;let l=this.data(n);if((null==l?void 0:l.messageId(r))!==i)return!1;null==l||l.update(e.message)}handleThreadListSync(e){var t;this.data(e.guildId).putMany(null!=(t=e.mostRecentMessages)?t:[],this.generation)}handleLoadMessagesSuccess(e){var t,n;let r=o.Z.getBasicChannel(e.channelId);if(null==r)return!1;(0,l.Z)(e.messages),e.isAfter||e.isBefore||e.hasMoreAfter?this.data(r.guild_id).putNew(e.channelId,null!=(n=e.messages[0])?n:null,this.generation):this.data(r.guild_id).put(e.channelId,null!=(t=e.messages[0])?t:null,this.generation)}handleLocalMessagesLoaded(e){let t=o.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,l.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!=(n=e.messages[0])?n:null,d)}}handleMessagePreviewsLoaded(e){p.verbose("adding remote previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let n of e.messages)t.isLatest(n.channel_id,this.generation)||t.put(n.channel_id,n,this.generation)}handleMessagePreviewsLocallyLoaded(e){p.verbose("adding local previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let[n,r]of e.messages)t.has(n)||t.put(n,r,d);t.localNeeded=!1}handleLogout(e){this.guilds.clear()}constructor(){super(i.Z,{CONNECTION_OPEN:e=>this.handleConnectionOpen(e),GUILD_CREATE:e=>this.handleGuildCreate(e),GUILD_DELETE:e=>this.handleGuildDelete(e),LOAD_MESSAGES_SUCCESS:e=>this.handleLoadMessagesSuccess(e),LOCAL_MESSAGES_LOADED:e=>this.handleLocalMessagesLoaded(e),LOGOUT:e=>this.handleLogout(e),MESSAGE_CREATE:e=>this.handleMessageCreate(e),MESSAGE_DELETE:e=>this.handleMessageDelete(e),MESSAGE_PREVIEWS_LOADED:e=>this.handleMessagePreviewsLoaded(e),MESSAGE_PREVIEWS_LOCALLY_LOADED:e=>this.handleMessagePreviewsLocallyLoaded(e),MESSAGE_UPDATE:e=>this.handleMessageUpdate(e),THREAD_LIST_SYNC:e=>this.handleThreadListSync(e)}),u(this,"guilds",new Map),u(this,"generation",0)}}new f},625236:function(e,t,n){n.d(t,{B:()=>u}),n(388685);var r=n(786761),i=n(23750),l=n(306680),a=n(709054);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class u{isLatest(e,t){return this.messageGeneration(e,t)===t}messageGeneration(e,t){let n=this.messages.get(e);return null==n?-1/0:n.generation!==t&&null!=n.message&&n.message.id===l.ZP.lastMessageId(e)?(this.messages.set(e,c(s({},n),{generation:t})),t):n.generation}messageId(e){var t,n;let r=this.messages.get(e);return null!=(n=null==r||null==(t=r.message)?void 0:t.id)?n:null}messageRecord(e){var t;let n=this.messages.get(e);return null==n||null==n.message||n.message instanceof i.ZP||(n.message=(0,r.e5)(n.message)),null!=(t=null==n?void 0:n.message)?t:null}has(e){return this.messages.has(e)}put(e,t,n){this.messages.set(e,{message:t,generation:n})}putNew(e,t,n){var r,i,l;let o=this.messages.get(e);null!=t&&(i=t.id,null==(l=null==o||null==(r=o.message)?void 0:r.id)||a.default.compare(i,l)>0)&&this.put(e,t,n)}putMany(e,t){for(let n of e)this.put(n.channel_id,n,t)}update(e){var t;if(null==e.id||null==e.channel_id)return;let n=e.channel_id,l=this.messages.get(n);if((null==l||null==(t=l.message)?void 0:t.id)!==e.id)return;let a=l.message instanceof i.ZP?(0,r.wi)(l.message,e):(0,r.gx)(l.message,e);this.messages.set(n,c(s({},l),{message:a}))}delete(e){this.messages.delete(e)}constructor(){o(this,"localNeeded",!0),o(this,"messages",new Map)}}},900255:function(e,t,n){n.d(t,{x:()=>i}),n(642613),n(583741);var r=n(709054);function i(e){return e.sort((e,t)=>r.default.compare(e.lastMessageId,t.lastMessageId)).reverse()}},647090:function(e,t,n){n.d(t,{J:()=>a});var r=n(442837),i=n(375954),l=n(594174);let a=e=>(0,r.e7)([i.Z,l.default],()=>{if(null==e)return!1;let t=l.default.getCurrentUser();return null!=i.Z.getMessages(e).findNewest(e=>e.author.id===(null==t?void 0:t.id))})},26373:function(e,t,n){n.d(t,{K:()=>u,V:()=>d});var r=n(647438),i=n(442837),l=n(990169),a=n(355298),o=n(333984),s=n(899740),c=n(355350);function u(){let e=(0,s.q)(),t=r.useRef(e),n=(0,i.e7)([a.Z],()=>a.Z.isReady()),o=r.useRef(n);return r.useEffect(()=>{n&&!o.current&&(o.current=!0,t.current=e)},[n,e]),1>=(0,l.Z)(t)&&1===e}function d(){let e=(0,c.w)(),t=r.useRef(e),n=(0,i.e7)([o.Z],()=>o.Z.isReady()),a=r.useRef(n);return r.useEffect(()=>{n&&!a.current&&(a.current=!0,t.current=e)},[n,e]),1>=(0,l.Z)(t)&&1===e}},620924:function(e,t,n){n.d(t,{c:()=>s}),n(913527);var r=n(442837),i=n(91159),l=n(306680),a=n(709054),o=n(868807);function s(e){let t=(0,o.a)(e),n=function(e){let{lastMessageId:t,message:n,loaded:r}=e;return r&&null!=n?a.default.extractTimestamp(n.id):null!=t?a.default.extractTimestamp(t):null}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({lastMessageId:(0,r.e7)([l.ZP],()=>l.ZP.lastMessageId(e.id))},t));return null==n?"":(0,i.Ye)(n)}},332712:function(e,t,n){n.d(t,{O:()=>c});var r=n(647438),i=n(442837),l=n(570140),a=n(621853),o=n(484459),s=n(594174);function c(e){let t=(0,i.e7)([s.default],()=>s.default.getUser(e)),n=(0,i.Wu)([a.Z],()=>{var t,n;return null!=(n=null==(t=a.Z.getMutualGuilds(e))?void 0:t.map(e=>e.guild))?n:[]});return r.useEffect(()=>{0===n.length&&null!=t&&null==a.Z.getMutualGuilds(e)&&l.Z.wait(()=>(0,o.Z)(e,void 0,{withMutualGuilds:!0}))},[n,t,e]),n}},28476:function(e,t,n){n.d(t,{a:()=>o});var r=n(442837),i=n(355298),l=n(869404),a=n(333984);function o(){return(0,r.e7)([i.Z,a.Z],()=>(0,l.IO)([i.Z,a.Z]))}},177033:function(e,t,n){n.d(t,{Z:()=>c});var r=n(647438),i=n(442837),l=n(592125),a=n(594174),o=n(355298),s=n(900255);function c(){let e=(0,i.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,i.Wu)([l.Z,o.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(o.Z.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,s.x)(t)},[e]),n=(0,i.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return r.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},727813:function(e,t,n){n.d(t,{Z:()=>c});var r=n(647438),i=n(442837),l=n(592125),a=n(594174),o=n(900255),s=n(333984);function c(){let e=(0,i.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,i.Wu)([l.Z,s.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(s.Z.getSpamChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,o.x)(t)},[e]),n=(0,i.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return r.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},355350:function(e,t,n){n.d(t,{w:()=>l});var r=n(442837),i=n(333984);function l(){return(0,r.e7)([i.Z],()=>i.Z.getSpamChannelsCount())}},545724:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),u=n(239091),d=n(687683),p=n(978070);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let g=function(e){let{index:t,children:l,user:g,channel:m,onClick:b,isFocused:_,isActive:O,onOtherHover:E,className:y}=e,[v,I]=i.useState(!1),[C,S]=i.useState(!1),N=()=>{I(!0),!_||O||C||null==E||E()},T=()=>{I(!1)};return(0,r.jsx)(s.mh,{id:m.id,children:e=>(0,r.jsx)(c.tEY,{offset:{left:-8,right:-8},children:(0,r.jsx)(o.Z.div,h(f({className:a()(p.messageRequestItem,y,{[p.active]:O||C,[p.firstItem]:0===t}),onContextMenu:e=>{null!=g&&(S(!0),(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return t=>(0,r.jsx)(e,h(f({},t),{user:g}))},{onClose:()=>{S(!1)}}))},onMouseEnter:N,onMouseLeave:T,onClick:null!=b?b:void 0,style:{LIST_ROW_HEIGHT:d.WN,opacity:1}},e),{children:l(v||O||C)}))})})}},745052:function(e,t,n){n.d(t,{Z:()=>eo}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(442837),u=n(704215),d=n(907862),p=n(481060),f=n(150063),h=n(230711),g=n(112724),m=n(183126),b=n(493773),_=n(209613),O=n(325708),E=n(320149),y=n(82295),v=n(252618),I=n(605236),C=n(243778),S=n(984370),N=n(797614),T=n(359110),P=n(6025),j=n(897473),x=n(108427),A=n(210887),Z=n(433355),w=n(592125),L=n(819640),R=n(626135),D=n(647090),k=n(385956),M=n(610697),U=n(26373),G=n(486622),B=n(488634),V=n(899740),H=n(177033),F=n(355350),z=n(307947),W=n(96479),Y=n(480874),K=n(687683),q=n(981631),Q=n(921944),X=n(526761),J=n(388032),$=n(803882),ee=n(97009);function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function en(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function er(){let e=i.useRef(null),t=(0,V.q)(),n=(0,H.Z)(),l=(0,U.K)(),c=(0,m.N)(),u=i.useCallback(()=>{(0,p.showToast)((0,p.createToast)(J.intl.string(J.t.EDYbS0),p.ToastType.FAILURE))},[]),{rejectAll:d}=(0,G.m)({onError:u}),f=(0,_.Z)("message-requests-list"),{channelId:h}=(0,B._)(),g=i.useCallback(()=>{d(n.map(e=>e.channel.id))},[n,d]),b=i.useCallback(e=>{var t,i;let{row:o}=e,s=n[o],c=null==(i=n[o+1])||null==(t=i.channel)?void 0:t.id,u=s.channel.id;return(0,r.jsx)(W.Z,{index:o,className:a()({[$.selected]:null!=h&&h===u,[$.siblingSelected]:null!=h&&h===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},u)},[l,n,h]),O=i.useCallback(()=>(0,r.jsxs)(y.Z,{className:$.sectionTitle,children:[t>0?J.intl.formatToPlainString(J.t.rA4iWV,{count:t}):J.intl.string(J.t.flPU6u),c&&t>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Text,{className:$.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,r.jsx)(p.Avr,{onClick:g,textVariant:"text-sm/normal",text:J.intl.string(J.t.p6t7RE),"aria-label":J.intl.string(J.t.p6t7RE)})]}):null]},"title"),[t,g,c]);return(n.length!==t&&N.Z.increment({name:s.V.MESSAGE_REQUEST_COUNT_DRIFT}),0===n.length)?(0,r.jsx)(z.Z,{section:K.pS.REQUESTS}):(0,r.jsx)(o.bG,{navigator:f,children:(0,r.jsx)(o.SJ,{children:t=>{var{ref:i,role:l}=t,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["ref","role"]);return(0,r.jsx)(p.aVo,et({className:$.list,innerRole:l,innerAriaLabel:J.intl.string(J.t.e7GWjY),ref:t=>{var n;e.current=t,i.current=null!=(n=null==t?void 0:t.getScrollerNode())?n:null},paddingTop:24,paddingBottom:24,sectionHeight:K.oi,rowHeight:K.WN,renderSection:O,renderRow:b,sections:[n.length],chunkSize:30,fade:!0},a),"message-requests-list")}})})}function ei(e){let{pageWidth:t,onSidebarResize:n}=e,i=(0,c.e7)([Z.ZP],()=>Z.ZP.getSidebarState(Z.uZ)),l=(0,c.e7)([w.Z],()=>w.Z.getChannel(null==i?void 0:i.channelId));if(null==i||i.type!==j.tI.VIEW_MESSAGE_REQUEST||null==l||!l.isPrivate())return null;let a=t-q.R7I;return(0,r.jsx)(O.Z,{sidebarType:O.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,r.jsx)(E.Z,{channel:l,baseChannelId:Z.uZ})})}let el=e=>{let t=(0,M.Z)();return(i.useEffect(()=>{(0,I.kk)(u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)},[]),null==e.targetElementRef.current||L.Z.hasLayers()||(0,p.$sL)())?e.children:(0,r.jsx)(C.ZP,{contentTypes:[u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:n=>{let{visibleContent:i,markAsDismissed:l}=n,a={position:"bottom",caretConfig:{position:"top",align:"center"},shouldShow:!0,onRequestClose:()=>l(Q.L.USER_DISMISS),targetElementRef:e.targetElementRef};return i===u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,r.jsxs)(r.Fragment,{children:[e.children,t?(0,r.jsx)(d.J2,en(et({},a),{title:J.intl.string(J.t.hRT8tb),body:J.intl.string(J.t.apPgJC),actions:[{text:J.intl.string(J.t.LNoAQU),onClick:()=>l(Q.L.TAKE_ACTION)}]})):(0,r.jsx)(d.J2,en(et({},a),{title:J.intl.string(J.t.hRT8tb),body:J.intl.string(J.t["8JWodn"]),actions:[{text:J.intl.string(J.t.JN6EOD),onClick:e=>{e.stopPropagation(),h.Z.open(q.oAB.CONTENT_AND_SOCIAL,null,{scrollPosition:X.FY.MESSAGE_REQUESTS_V2}),l(Q.L.TAKE_ACTION)}},{text:J.intl.string(J.t.LNoAQU),onClick:()=>l(Q.L.USER_DISMISS),variant:"secondary"}]}))]}):e.children}})};function ea(e){let{section:t}=e;return t===K.pS.SPAM?(0,r.jsx)(Y.Z,{}):(0,r.jsx)(er,{})}let eo=(0,g.Z)(function(e){let{width:t}=e,n=(0,V.q)();(0,b.ZP)(()=>{f.Y(q.Z5c.MESSAGE_REQUESTS),(0,x.e)("message-requests"),R.default.track(q.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n}),N.Z.increment({name:s.V.MESSAGE_REQUEST_VIEW})});let l=(0,c.e7)([A.Z],()=>A.Z.theme),o=(0,F.w)(),[u,d]=i.useState(!1),h=(0,c.e7)([Z.ZP],()=>{let e=Z.ZP.getSidebarState(Z.uZ);return null!=e&&e.type===j.tI.VIEW_MESSAGE_REQUEST?e:null}),g=null==h?void 0:h.channelId,m=null!=h,_=(0,k.T)(g),O=(0,D.J)(g),E=i.useRef(null);i.useEffect(()=>{null!=g&&!_&&O&&m&&((0,T.Kh)(g),P.Z.closeChannelSidebar(Z.uZ))},[g,O,m,_]);let[y,I]=i.useState(K.pS.REQUESTS),C=e=>{I(e)};return(0,v.Tt)({location:J.intl.string(J.t.e7GWjY)}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(ee.chat,$.container,{[ee.threadSidebarOpen]:m,[ee.threadSidebarFloating]:m&&u}),children:[(0,r.jsx)(p.f6W,{theme:l,children:e=>(0,r.jsxs)(S.Z,{className:e,toolbar:!0,children:[(0,r.jsx)(S.Z.Icon,{icon:p._XJ,"aria-hidden":!0}),(0,r.jsx)(el,{targetElementRef:E,children:(0,r.jsx)(S.Z.Title,{ref:E,children:J.intl.string(J.t.e7GWjY)})}),(0,r.jsx)(S.Z.Divider,{}),(0,r.jsxs)(p.njP,{"aria-label":J.intl.string(J.t.e7GWjY),selectedItem:y,type:"top-pill",onItemSelect:C,children:[(0,r.jsx)(p.njP.Item,{id:K.pS.REQUESTS,className:$.item,children:J.intl.string(J.t["7RFcXV"])}),(0,r.jsx)(p.njP.Item,{id:K.pS.SPAM,className:$.item,children:0===o?J.intl.string(J.t.ulKXHh):J.intl.formatToPlainString(J.t["5jtrlZ"],{count:o})})]})]})}),(0,r.jsx)("div",{className:ee.content,children:(0,r.jsx)(ea,{section:y})})]}),m&&(0,r.jsx)(ei,{pageWidth:t,onSidebarResize:(e,t)=>{d(t)}})]})})},81471:function(e,t,n){n.d(t,{Z:()=>I});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(95398),u=n(905405),d=n(255269),p=n(937889),f=n(267128),h=n(695346),g=n(496675),m=n(699516),b=n(868807),_=n(981631),O=n(217702),E=n(388032),y=n(161414),v=n(430864);let I=i.memo(function(e){let{channel:t}=e,{loaded:n,error:l,message:I}=(0,b.a)(t),C=(0,u.p)(),{isBlocked:S,isIgnored:N}=(0,o.cj)([m.Z],()=>({isBlocked:null!=I&&m.Z.isBlockedForMessage(I),isIgnored:null!=I&&m.Z.isIgnoredForMessage(I)}),[I]),T=(0,o.e7)([g.Z],()=>g.Z.can(_.Plq.MANAGE_MESSAGES,t)),P=h.cC.useSetting(),{content:j}=i.useMemo(()=>(null==I?void 0:I.content)!=null&&""!==I.content?(0,p.ZP)(I,{formatInline:!0,noStyleAndInteraction:!0,shouldFilterKeywords:C}):{content:null},[I,C]),x=null;if(l)x=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:E.intl.string(E.t.BZHld3)});else if(n)if(null!=I&&S)x=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:E.intl.string(E.t["WPe+xM"])});else if(null!=I&&N)x=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:E.intl.string(E.t.uxrh1N)});else if(null!=I){let{contentPlaceholder:e,renderedContent:t}=(0,f.f)(I,j,S,N,a()(y.messageContent,v.inlineFormat),{leadingIconClass:y.messageContentIcon,trailingIconClass:y.messageContentIcon,iconSize:O.WW});x=null!=t?(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"text-muted",className:y.messageContent,children:t}):(0,r.jsx)(s.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:y.messageReplacement,children:e})}else x=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:E.intl.string(E.t["0KfDxM"])});else x=null;return(0,r.jsx)(c.aQ.Provider,{value:(0,d.Z)(P,T),children:(0,r.jsx)(s.Rny,{className:y.messageFocusBlock,children:x})})})},376191:function(e,t,n){n.d(t,{Z:()=>C});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(129861),o=n(607070),s=n(570928),c=n(388905),u=n(1585),d=n(125988),p=n(43267),f=n(522289),h=n(699516),g=n(51144),m=n(998502),b=n(620924),_=n(332712),O=n(81471),E=n(388032),y=n(79072);let v=e=>{let{userId:t}=e,n=(0,_.O)(t);return null==n||0===n.length?(0,r.jsx)(l.Text,{className:y.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:E.intl.string(E.t.jpY0X1)}):(0,r.jsxs)("div",{className:y.mutualGuildsContainer,children:[(0,r.jsx)(f.Z,{guilds:n,maxGuilds:3,size:c.Vj.Sizes.SMOL,hideOverflowCount:!0}),(0,r.jsx)(l.Text,{className:y.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:E.intl.format(E.t.eE3oen,{count:n.length})})]})},I=m.ZP.getEnableHardwareAcceleration()?l.Xo$:l.qEK;function C(e){var t;let{channel:n,otherUser:c,active:f}=e,m=(0,i.e7)([o.Z],()=>o.Z.useReducedMotion),_=(0,i.e7)([h.Z],()=>null==c?null:h.Z.getNickname(c.id)),C=!m&&f,S=(0,b.c)(n),{avatarDecorationSrc:N}=(0,d.Z)({user:c,size:(0,u.y9)(l.EFr.SIZE_40),onlyAnimateOnHover:!0});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I,{className:y.avatar,src:(0,p.x)(n,40,C),avatarDecoration:N,size:l.EFr.SIZE_40,"aria-label":null!=(t=null==c?void 0:c.username)?t:E.intl.string(E.t["30mdIy"])}),(0,r.jsxs)("div",{className:y.userPreview,children:[(0,r.jsxs)("div",{className:y.userContainerWithPreview,children:[(0,r.jsx)(a.Z,{nick:_,user:c,showAccountIdentifier:!0,className:y.tagContainer,usernameClass:y.username,discriminatorClass:null!=g.ZP.getGlobalName(c)?y.globalName:y.discriminator}),(0,r.jsx)(l.Text,{className:y.timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:S})]}),(0,r.jsx)(s.Z,{hoverText:(0,r.jsx)(O.Z,{channel:n}),forceHover:f,children:(0,r.jsx)(v,{userId:c.id})})]})]})}},307947:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(210887),o=n(687683),s=n(388032),c=n(669850),u=n(138715),d=n(979770);function p(e){let{section:t}=e,n=(0,i.e7)([a.Z],()=>a.Z.theme);return(0,r.jsxs)(l.ubH,{theme:n,className:c.emptyStateContainer,children:[(0,r.jsx)(l.oxh,{width:415,height:200,lightSrc:d,darkSrc:u}),(0,r.jsx)(l.OZU,{note:t===o.pS.SPAM?s.intl.string(s.t.hasFPT):s.intl.string(s.t.SXrqTU)})]})}},96479:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288);n(647438);var i=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(488634),c=n(545724),u=n(749405),d=n(981631);function p(e){let{index:t,className:n,channel:p,user:f,hasSingleMessageRequest:h}=e,{channelId:g}=(0,s._)();return(0,r.jsx)(c.Z,{index:t,className:n,isFocused:g===p.id,channel:p,user:f,onClick:e=>{e.stopPropagation(),i.Z.openPrivateChannelAsSidebar({channelId:p.id,baseChannelId:l.uZ,hasSingleMessageRequest:h}),a.default.track(d.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!1,channel_id:p.id,other_user_id:f.id}),setTimeout(()=>{o.S.dispatch(d.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:p.id})},0)},children:e=>(0,r.jsx)(u.C,{active:e,user:f,channel:p})})}},749405:function(e,t,n){n.d(t,{C:()=>h});var r=n(951288),i=n(647438),l=n(481060),a=n(359110),o=n(6025),s=n(433355),c=n(26373),u=n(486622),d=n(376191),p=n(388032),f=n(513245);function h(e){let{active:t,user:n,channel:h}=e,g=(0,c.K)(),m=i.useCallback(()=>{(0,l.showToast)((0,l.createToast)(p.intl.string(p.t.EDYbS0),l.ToastType.FAILURE))},[]),b=i.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ)},[]),_=i.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ),g&&(0,a.Kh)(h.id)},[h.id,g]),{acceptMessageRequest:O,rejectMessageRequest:E,isAcceptLoading:y,isRejectLoading:v,isUserProfileLoading:I,isOptimisticAccepted:C,isOptimisticRejected:S}=(0,u.m)({user:n,onAcceptSuccess:_,onRejectSuccess:b,onError:m}),N=y||v||I||C||S;return(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)(d.Z,{channel:h,otherUser:n,active:t}),(0,r.jsxs)("div",{className:f.actions,children:[(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:f.button,children:(0,r.jsx)(l.zxk,{variant:"secondary",size:"sm",text:p.intl.string(p.t.B2nygY),onClick:e=>{e.stopPropagation(),E(h.id)},disabled:N,loading:v||S})}),(0,r.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:f.button,children:(0,r.jsx)(l.zxk,{variant:"primary",size:"sm",text:p.intl.string(p.t.Kz8Pws),onClick:e=>{e.stopPropagation(),O(h.id)},disabled:N,loading:y||I||C})})]})]})}},125855:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(545724),c=n(426051),u=n(981631);function d(e){let{index:t,className:n,channel:d,user:p,hasSingleMessageRequest:f}=e;return(0,r.jsx)(s.Z,{index:t,className:n,isFocused:!1,channel:d,user:p,onClick:e=>{e.stopPropagation(),i.Z.openPrivateChannelAsSidebar({channelId:d.id,baseChannelId:l.uZ,hasSingleMessageRequest:f}),a.default.track(u.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!0,channel_id:d.id,other_user_id:p.id}),setTimeout(()=>{o.S.dispatch(u.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:d.id})},0)},children:e=>(0,r.jsx)(c.Z,{active:e,user:p,channel:d})})}},480874:function(e,t,n){n.d(t,{Z:()=>T});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(481060),u=n(183126),d=n(493773),p=n(209613),f=n(82295),h=n(797614),g=n(626135),m=n(26373),b=n(486622),_=n(488634),O=n(727813),E=n(355350),y=n(307947),v=n(125855),I=n(687683),C=n(981631),S=n(388032),N=n(393272);function T(){let e=i.useRef(null),t=(0,O.Z)(),n=(0,E.w)(),l=(0,m.V)(),T=(0,u.N)(),P=(0,p.Z)("message-requests-spam-list"),{channelId:j}=(0,_._)(),x=i.useCallback(()=>{(0,c.showToast)((0,c.createToast)(S.intl.string(S.t.EDYbS0),c.ToastType.FAILURE))},[]),{rejectAll:A}=(0,b.m)({onError:x}),Z=i.useCallback(()=>{A(t.map(e=>e.channel.id))},[t,A]);(0,d.ZP)(()=>{g.default.track(C.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n}),h.Z.increment({name:s.V.SPAM_MESSAGE_REQUEST_VIEW})});let w=i.useCallback(e=>{var n,i;let{row:o}=e,s=t[o],c=null==(i=t[o+1])||null==(n=i.channel)?void 0:n.id,u=s.channel.id;return(0,r.jsx)(v.Z,{index:o,className:a()({[N.selected]:null!=j&&j===u,[N.siblingSelected]:null!=j&&j===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},u)},[t,l,j]),L=i.useCallback(()=>(0,r.jsxs)(f.Z,{className:N.sectionTitle,children:[S.intl.format(S.t.C79Edn,{count:n}),T&&n>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Text,{className:N.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,r.jsx)(c.Avr,{textVariant:"text-sm/normal",text:S.intl.string(S.t.p6t7RE),onClick:Z,"aria-label":S.intl.string(S.t.p6t7RE)})]}):null]},"message-requests-spam-title"),[n,Z,T]);return 0===t.length?(0,r.jsx)(y.Z,{section:I.pS.SPAM}):(0,r.jsx)(o.bG,{navigator:P,children:(0,r.jsx)(o.SJ,{children:n=>{var{ref:i,role:l}=n,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["ref","role"]);return(0,r.jsx)(c.aVo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:N.list,innerRole:l,innerAriaLabel:S.intl.string(S.t.e7GWjY),ref:t=>{var n;e.current=t,i.current=null!=(n=null==t?void 0:t.getScrollerNode())?n:null},paddingTop:24,paddingBottom:24,sectionHeight:I.oi,rowHeight:I.WN,renderSection:L,renderRow:w,sections:[t.length],chunkSize:30,fade:!0},a),"message-requests-spam-list")}})})}},426051:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288),i=n(647438),l=n(286379),a=n(481060),o=n(797614),s=n(359110),c=n(6025),u=n(433355),d=n(26373),p=n(486622),f=n(376191),h=n(86203),g=n(388032),m=n(539410);function b(e){let{active:t,user:n,channel:b}=e,_=(0,d.V)(),O=i.useCallback(()=>{(0,a.showToast)((0,a.createToast)(g.intl.string(g.t.pIQ3h4),a.ToastType.FAILURE)),o.Z.increment({name:l.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})},[]),E=i.useCallback(()=>{c.Z.closeChannelSidebar(u.uZ)},[]),y=i.useCallback(()=>{c.Z.closeChannelSidebar(u.uZ),_&&(0,s.Kh)(b.id)},[b.id,_]),{acceptMessageRequest:v,isAcceptLoading:I,isUserProfileLoading:C,isOptimisticAccepted:S}=(0,p.m)({user:n,onAcceptSuccess:y,onRejectSuccess:E,onError:O}),N=I||C,T=N||S;return(0,r.jsxs)("div",{className:m.container,children:[(0,r.jsx)(f.Z,{otherUser:n,channel:b,active:t}),(0,r.jsxs)("div",{className:m.actions,children:[(0,r.jsx)(a.zxk,{variant:"secondary",size:"sm",text:g.intl.string(g.t.vicfl5),onClick:e=>{v(b.id),e.stopPropagation()},disabled:T,loading:N}),(0,r.jsx)(h.Z,{channel:b})]})]})}},285865:function(e,t,n){n.d(t,{Z:()=>i});var r=n(570140);let i={closeSidebar(){r.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar(){r.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}}},659971:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l=n(873546),a=n(442837),o=n(570140);let s=!1;class c extends(i=a.ZP.Store){getIsOpen(){return!l.tq||s}}(r="displayName")in c?Object.defineProperty(c,r,{value:"MobileWebSidebarStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="MobileWebSidebarStore";let u=new c(o.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){s=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){s=!1}})},109497:function(e,t,n){n(539854);var r,i=n(442837),l=n(570140),a=n(695346),o=n(885110),s=n(70956),c=n(981631);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=[],p=!1;function f(){return d.length>=4&&d.some(e=>e<Date.now()-3*s.Z.Millis.DAY)}class h extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&Array.isArray(e.sessionStartsWithDND)&&(d=e.sessionStartsWithDND)}showNagBar(){return p}getState(){return{sessionStartsWithDND:d}}getTemp(){return{x:a.Cr.getSetting()}}}u(h,"displayName","HabitualDNDStore"),u(h,"persistKey","habitualDND"),new h(l.Z,{POST_CONNECTION_OPEN:function(){o.Z.getStatus()===c.Skl.DND&&"0"===a.Cr.getSetting()?(d.push(Date.now()),d=d.filter(e=>e>Date.now()-5*s.Z.Millis.DAY),f()&&setTimeout(()=>{l.Z.dispatch({type:"HABITUAL_DND_CLEAR"})},15*s.Z.Millis.SECOND)):d=[]},HABITUAL_DND_CLEAR:function(){p=!!f(),d=[]}})},147341:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(677642),a=n(388032),o=n(46693);function s(){return(0,r.jsx)("div",{className:o.wrapper,children:(0,r.jsxs)(i.Kqy,{className:o.textContainer,gap:16,padding:32,children:[(0,r.jsx)(i.X6q,{variant:"heading-xxl/normal",color:"header-primary",className:o.heading,children:a.intl.string(l.default["VAK+h4"])}),(0,r.jsx)(i.Text,{variant:"text-lg/normal",color:"text-tertiary",className:o.text,children:a.intl.string(l.default.dcpdhI)})]})})}},340137:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(948789),s=n(442837),c=n(481060),u=n(686546),d=n(336219),p=n(264783),f=n(944486),h=n(358085),g=n(821020),m=n(370774),b=n(128008),_=n(961040),O=n(981631),E=n(388032),y=n(445202);let v={cozy:6,default:4,compact:2},I={cozy:36,default:24,compact:14},C={cozy:95,default:84,compact:72};function S(e){let{onClick:t,selectedOverride:n=!1,popoutProps:l,ref:o,focusSectionProps:s}=e,[f,g]=i.useState(!1),_=(0,m.D)(),O=n||_,S=n||O,N=(0,r.jsx)(c.Dkj,{className:y.icon,color:f||S?c.TVs.colors.ICON_PRIMARY:c.TVs.colors.ICON_TERTIARY,size:"custom",height:20,width:20}),{badge:T,badgeType:P}=(0,b.h6)({isSelected:O}),{backForwardButtons:j}=(0,d.t)({location:"AppTitleBar"}),x=(0,h.isDesktop)()&&j,A=(0,p.A)(),Z=(0,h.isMac)()?v[A]:x?I[A]:C[A];return(0,r.jsxs)(c.Kqy,{gap:0,direction:"horizontal",children:[(0,r.jsx)(c.LZC,{size:Z,horizontal:!0}),(0,r.jsx)(c.ua7,{shouldShow:!S,text:E.intl.string(E.t.HcoRu7),children:e=>{var n,i;return(0,r.jsxs)(c.P3F,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({innerRef:o,className:y.clickableContainer},s,e,l),i=i={onMouseEnter:()=>{var t;g(!0),null==(t=e.onMouseEnter)||t.call(e)},onMouseLeave:()=>{var t;g(!1),null==(t=e.onMouseLeave)||t.call(e)},onClick:()=>{var n,r;null==t||t(),null==l||null==(n=l.onClick)||n.call(l),null==(r=e.onClick)||r.call(e)},children:[(0,r.jsx)("div",{className:a()(y.iconWrapper,null),children:"unread"===P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.ZP,{width:20,height:20,mask:u.ZP.Masks.HEADER_BAR_BADGE_BOTTOM,children:N}),(0,r.jsx)("div",{className:y.unreadDot})]}):N}),T]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})]})}function N(){let{focusSectionProps:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.useRef(null),{notificationCenterVariant:n}=(0,g.pN)({location:"NotificationsInboxButton"}),l=(0,s.e7)([f.Z],()=>f.Z.getChannelId()),a=i.useMemo(()=>O.Z5c.CHANNEL(O.STv,null!=l?l:void 0),[l]),c=(0,b.mv)();return n===g.jP.SIDEBAR?(0,r.jsx)(S,{onClick:()=>{c(),(0,o.uL)(a)},focusSectionProps:e}):n===g.jP.POPOUT?(0,r.jsx)(_.Z,{targetElementRef:t,popoutPosition:"bottom",popoutAlign:"left",spacing:2,children:(n,i,l)=>(0,r.jsx)(S,{ref:t,selectedOverride:i,onClick:()=>{c(),n()},popoutProps:l,focusSectionProps:e})}):null}},791359:function(e,t,n){n.d(t,{Z:()=>w}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(954955),s=n.n(o),c=n(442837),u=n(481060),d=n(570140),p=n(509212),f=n(569984),h=n(93127),g=n(752048),m=n(594174),b=n(801077),_=n(626135),O=n(70956),E=n(225559),y=n(910436),v=n(203028),I=n(358924),C=n(292140),S=n(525296),N=n(981631),T=n(46140),P=n(388032),j=n(559909);let x=15*O.Z.Millis.MINUTE,A=(0,S.Z)(function(e){let{party:t,onUserContextMenu:n,onChannelContextMenu:l,quest:a}=e,o=i.useRef(null),c=(0,r.jsx)(v.Z,{party:t,onUserContextMenu:n}),d=(0,r.jsx)(y.Z,{party:t,onChannelContextMenu:l,quest:a}),{partiedMembers:p,applicationStreams:f,currentActivities:h,voiceChannels:g}=t,m=p.length,b=f.length,O=h.length,E=g.length>0,S=i.useCallback(()=>{let e=h.filter(e=>{var t,n;return(null==(t=e.game)?void 0:t.name)!=null&&(0,_.isGameApplicationType)(null==(n=e.game)?void 0:n.type)}).map(e=>e.game.name);_.default.track(N.rMx.NOW_PLAYING_CARD_HOVERED,{num_users:m,num_streams:b,num_activities:O,in_voice_channel:E,games_detected:e})},[m,b,O,E,h]),T=s()(S,x);return null!=c||null!=d?(0,r.jsx)(u.yRy,{targetElementRef:o,position:"left",renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(C.Z,{party:t,close:n})},spacing:8,children:(e,t)=>{var n,i;let{isShown:l}=t;return(0,r.jsx)(I.Z,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={ref:o,onMouseEnter:T,"aria-haspopup":"menu",className:j.itemCard,active:l,children:(0,r.jsxs)("div",{children:[c,d]})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}}):null}),Z=a().throttle(()=>h._(),3e5);function w(){let{nowPlayingCards:e,loaded:t,needsRefresh:n,fetching:l,currentUser:a}=(0,c.cj)([b.Z,g.Z,m.default],()=>({nowPlayingCards:b.Z.nowPlayingCards,loaded:b.Z.loaded,needsRefresh:g.Z.shouldFetch(),fetching:g.Z.isFetching(),currentUser:m.default.getCurrentUser()})),o=(0,c.e7)([f.Z],()=>f.Z.quests);i.useEffect(()=>(d.Z.wait(()=>E.L()),()=>d.Z.wait(()=>E.v())),[null==a?void 0:a.id]),i.useEffect(()=>{n&&!l&&Z()},[n,l]);let s=i.useMemo(()=>{let t=new Map,n=new Set,r=(0,p.MM)(o,T.l$);for(let i of e)i.party.currentActivities.forEach(e=>{let{activity:l}=e;if(null==l)return;let a=(0,p.ZZ)(r,l);null==a||n.has(a.id)||(t.set(i.party.id,a),n.add(a.id))});return t},[e,o]),h=null;return t?h=e.length>0?e.map(e=>{let{party:t}=e;return(0,r.jsx)(A,{party:t,quest:s.get(t.id)},t.id)}):(0,r.jsxs)("div",{className:j.emptyCard,children:[(0,r.jsx)(u.X6q,{variant:"heading-md/semibold",className:j.emptyHeader,children:P.intl.string(P.t["ngJ/5u"])}),(0,r.jsx)(u.Text,{color:"none",className:j.emptyText,variant:"text-sm/normal",children:P.intl.string(P.t["99ZWxc"])})]}):(0,r.jsx)("div",{className:j.emptyCard,children:(0,r.jsx)(u.$jN,{})})}},910436:function(e,t,n){n.d(t,{Z:()=>E}),n(539854),n(388685);var r=n(951288);n(647438);var i=n(287734),l=n(872810),a=n(122810),o=n(841784),s=n(503438),c=n(802856),u=n(420660),d=n(509212),p=n(497505),f=n(23404),h=n(81063),g=n(761282),m=n(358924),b=n(868854),_=n(817915),O=n(981631);function E(e){let{party:t,onChannelContextMenu:n,quest:E}=e,y=(0,b.L)(),{voiceChannels:v,currentActivities:I,partiedMembers:C,applicationStreams:S,guildContext:N}=t,T=[],P=e=>{let{length:t}=T;if(0===t)return void T.push(e);T.push(e)};for(let{activity:e}of(v.length>0&&v.forEach(e=>{let{members:t,channel:i,guild:l}=e;P((0,r.jsx)(m.Z.VoiceSection,{guild:l,channel:i,members:t,partySize:function(e,t){let n=e.length;return{knownSize:n,unknownSize:0,totalSize:n+0}}(t),onChannelContextMenu:n},"voice-".concat(i.id)))}),t.currentActivities))if(null!=e){let t=g.ct(e);if(null!=t){P(t);break}}return S.length>0&&y&&S.forEach(e=>{let{stream:t,streamUser:n,activity:a}=e;P((0,r.jsx)(m.Z.ApplicationStreamingSection,{guildId:null==N?void 0:N.id,user:n,activity:a,applicationStream:t,onPreviewClick:()=>{i.default.selectVoiceChannel(t.channelId),(0,l.iV)(t)}},"application-stream-".concat(t.ownerId)))}),I.forEach((e,t)=>{var n,i,l,g,b,y,S,T,j;let{activity:x,game:A,playingMembers:Z,activityUser:w}=e;if(null==x||null==x.type)return null;if(I.length>1&&x.type===O.IIU.PLAYING&&!(0,a.Z)(x)&&null!=A)P((0,r.jsx)(m.Z.GameSection,{icon:A.getIconURL(_.Z),name:A.name,partySize:{knownSize:Z.length,unknownSize:0,totalSize:Z.length},members:Z},"game-".concat(null!=(n=x.session_id)?n:t,"-").concat(null!=(i=x.application_id)?i:t)));else if((0,o.Z)(x)){let e=new Set(Z.map(e=>e.id)),t=null==(l=v.find(e=>null!=e))?void 0:l.channel;null!=t&&P((0,r.jsx)(m.Z.EmbeddedActivitySection,{activity:x,participants:e,channel:t,guildId:t.guild_id},"embedded-activity-".concat(x.application_id)))}else if((null!=x.assets||(0,a.Z)(x))&&x.type===O.IIU.PLAYING)P((0,r.jsx)(m.Z.RichPresenceSection,{activity:x,getAssetImage:h.xF},"rich-presence-".concat(null!=(g=x.session_id)?g:t,"-").concat(w.id)));else if((0,u.Z)(x)){let e=v.length>0&&v[0].members.length>1,n=Z.length>1;P((0,r.jsx)(m.Z.TwitchSection,{guildId:null==N?void 0:N.id,activity:x,user:e||n?w:null,getAssetImage:h.xF},"streaming-".concat(null!=(b=x.session_id)?b:t)))}else(0,s.Z)(x)?P((0,r.jsx)(m.Z.SpotifySection,{activity:x,isSolo:1===C.length,partySize:{knownSize:Z.length,unknownSize:0,totalSize:Z.length},getAssetImage:h.xF,members:Z},"spotify-".concat(null!=(y=x.session_id)?y:t,"-").concat(w.id))):(null!=x.assets||(0,a.Z)(x))&&x.type===O.IIU.LISTENING?P((0,r.jsx)(m.Z.RichPresenceSection,{activity:x,getAssetImage:h.xF},"rich-presence-".concat(null!=(S=x.session_id)?S:t,"-").concat(w.id))):(0,c.Z)(x)&&P((0,r.jsx)(m.Z.XboxSection,{title:A.name},"xbox-".concat(null!=(T=x.session_id)?T:t)));null!=E&&null!=A&&(0,d._D)(x,E)&&(null==E.userStatus||!(0,d.zE)(E.userStatus,p.jn.ACTIVITY_PANEL))&&P((0,r.jsx)(f.Z,{quest:E},"quest-".concat(E.id,"-").concat(null!=(j=x.session_id)?j:t)))}),T.length>0?(0,r.jsx)(m.Z.Body,{children:T}):null}},203028:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(951288);n(647438);var i=n(512722),l=n.n(i),a=n(841784),o=n(503438),s=n(802856),c=n(810568),u=n(168524),d=n(707409),p=n(51144),f=n(761282),h=n(358924),g=n(817915),m=n(981631),b=n(388032);function _(e){var t,i;let{party:_,onUserContextMenu:O}=e,{priorityMembers:E,guildContext:y}=_,v=E[0],I=function(e){let{priorityMembers:t,partiedMembers:n}=e,r=new Set(t.map(e=>{let{user:t}=e;return t.id})),i=n.filter(e=>!r.has(e.id)),l=p.ZP.getName(t[0].user),a=null!=t[1]?p.ZP.getName(t[1].user):null!=i[0]?p.ZP.getName(i[0]):null;switch(n.length){case 1:return l;case 2:return b.intl.format(b.t.t1DyCw,{user1:l,user2:a});default:return b.intl.format(b.t["5CSEcH"],{user1:l,user2:a,extras:n.length-2})}}(_),{subtitle:C,icon:S}=function(e){var t;let{priorityMembers:i,partiedMembers:c,voiceChannels:u,currentActivities:p}=e,_=i.length,O=c.length-_,E=p[0],y=null==E?void 0:E.activity,v=null==E?void 0:E.startedPlayingTime,I={name:null!=(t=null==y?void 0:y.name)?t:""};if((0,a.Z)(y)&&null!=y)return{subtitle:(0,r.jsx)(d.ZP,{start:v,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:I}),icon:null};if(_+O===1&&null!=E){let{game:e}=E;if(null==y)return{subtitle:null,icon:null};let t=f.dc(y);if(null!=t)return t;switch(y.type){case m.IIU.PLAYING:if((0,s.Z)(y))return{subtitle:b.intl.string(b.t.tO8wOz),icon:(0,r.jsx)(h.Z.Header.Icon,{src:h.Z.Header.Icon.Src.XBOX})};return{subtitle:(0,r.jsx)(d.ZP,{start:v,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:I}),icon:null!=e?(0,r.jsx)(h.Z.Header.Icon,{src:null!=e.getIconURL(g.Z)?e.getIconURL(g.Z):n(211827)}):null};case m.IIU.STREAMING:return{subtitle:b.intl.string(b.t.HyGHj4),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,r.jsx)(h.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};case m.IIU.LISTENING:let i;return i=(0,o.Z)(y)?(0,r.jsx)(h.Z.Header.Icon,{src:h.Z.Header.Icon.Src.SPOTIFY}):null!=e.getIconURL(g.Z)?(0,r.jsx)(h.Z.Header.Icon,{src:e.getIconURL(g.Z)}):(0,r.jsx)(h.Z.Header.Icon,{src:n(211827)}),{subtitle:b.intl.formatToPlainString(b.t.NF5xoq,{name:y.name}),icon:i};case m.IIU.WATCHING:return{subtitle:b.intl.formatToPlainString(b.t.pW3Ip6,{name:y.name}),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,r.jsx)(h.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};default:return{subtitle:b.intl.string(b.t.grGyaW),icon:null}}}if(0===p.length){if(u.length>0)return{subtitle:b.intl.string(b.t.grGyaW),icon:null};let e=p[0];if(null!=e){let{activity:t}=e;if(null!=t){let e=f.dc(t);if(null!=e)return e}if(null!=t&&t.type===m.IIU.LISTENING)return{subtitle:b.intl.string(b.t.rmnkz8),icon:(0,r.jsx)(h.Z.Header.Icon,{src:h.Z.Header.Icon.Src.SPOTIFY})}}}else if(1===p.length){let e=p.find(e=>null!=e.activity);if(null==e)return{subtitle:null,icon:null};let{activity:t,game:n,startedPlayingTime:i}=e;return l()(null!=t,"Activity was null somehow"),{subtitle:(0,r.jsx)(d.ZP,{start:i,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:I}),icon:null!=n&&null!=n.getIconURL(g.Z)?(0,r.jsx)(h.Z.Header.Icon,{src:n.getIconURL(g.Z)}):null}}return{subtitle:b.intl.string(b.t.sau5tr),icon:(0,r.jsx)(h.Z.Header.Icon,{src:h.Z.Header.Icon.Src.MULTIPLE})}}(_),N=(0,u.Z)({applicationId:null==(i=_.currentActivities[0])||null==(t=i.activity)?void 0:t.application_id,location:"FriendsActivityFeed",source:c.m1.FriendsActivityFeed});return(0,r.jsx)(h.Z.Header,{priorityUser:v,guildId:null==y?void 0:y.id,title:I,subtitle:C,icon:S,onSubtitleClick:N,onIconClick:N,onContextMenu:e=>O(e,v.user)})}},358924:function(e,t,n){n.d(t,{Z:()=>ei}),n(388685);var r,i=n(951288),l=n(647438),a=n(120356),o=n.n(a),s=n(442837),c=n(692547),u=n(481060),d=n(287734),p=n(438139),f=n(2052),h=n(726542),g=n(638880),m=n(655922),b=n(122810),_=n(833664),O=n(503438),E=n(420660),y=n(74433),v=n(906732),I=n(812206),C=n(933557),S=n(194082),N=n(264165),T=n(548816),P=n(925329),j=n(102172),x=n(871118),A=n(707409),Z=n(359110),w=n(769654),L=n(849171),R=n(601964),D=n(314897),k=n(592125),M=n(594174),U=n(395361),G=n(639351),B=n(81063),V=n(823379),H=n(51144),F=n(599706),z=n(981631),W=n(388032),Y=n(84822);let K=[14,14,12,12,10,8,6],q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.jsx)(u.Text,{className:o()(Y.textContent,t),variant:"text-sm/semibold",children:e})},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.jsx)(u.Text,{className:o()(Y.textContent,t),variant:"text-xs/normal",children:e})},X=(0,p.Z)(e=>{let{message:t}=e;return(0,i.jsx)("div",{className:Y.__invalid_timestamp,children:t})}),J=e=>{let{children:t}=e;return(0,i.jsx)("section",{className:Y.section,children:t})};class $ extends l.Component{renderTimePlayed(){let{activity:e}=this.props,{timestamps:t}=e;return null==t||!(0,_.Z)(e)||(0,O.Z)(e)?null:Q((0,b.Z)(e)?(0,i.jsx)(X,{timestamps:t}):(0,i.jsx)(A.ZP,{start:t.start,end:t.end,location:A.ZP.Locations.USER_ACTIVITY,className:Y.__invalid_playTime}))}render(){var e,t;let{activity:{assets:r,details:l,state:a,application_id:s},getAssetImage:c}=this.props;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:Y.activitySection,children:[null!=r&&0!==Object.keys(r).length?(0,i.jsxs)("div",{className:Y.activitySectionAssets,children:[(0,i.jsx)("img",{alt:null!=(e=r.large_text)?e:"",src:c(s,r.large_image,[160,160]),className:o()(Y.largeImage,{[Y.largeImageMask]:null!=r.small_image})}),null!=r.small_image?(0,i.jsx)("img",{alt:null!=(t=r.small_text)?t:"",src:c(s,r.small_image,[64,64]),className:Y.smallImage}):null]}):(0,i.jsx)("div",{className:Y.activitySectionAssets,children:(0,i.jsx)("img",{alt:"",src:n(211827),className:Y.largeImage})}),(0,i.jsxs)("div",{children:[q(null!=l&&""!==l?l:W.intl.string(W.t["2TbM/P"])),null!=a?Q(a):null,this.renderTimePlayed()]})]})})}}var ee=((r=ee||{}).XBOX="XBOX",r.SPOTIFY="SPOTIFY",r.MULTIPLE="MULTIPLE",r);let et=e=>{let t,{src:n,onClick:r,onContextMenu:l}=e;switch(n){case"XBOX":t=(0,i.jsx)(G.Z,{className:Y.headerIcon,color:c.Z.unsafe_rawColors.PRIMARY_300.css});break;case"SPOTIFY":t=(0,i.jsx)(U.Z,{className:Y.headerIcon,color:c.Z.unsafe_rawColors.SPOTIFY.css});break;case"MULTIPLE":t=(0,i.jsx)("div",{className:Y.multipleIconWrapper,children:(0,i.jsx)(u.iWm,{size:"md",className:o()(Y.headerIcon,Y.multipleIcon),color:c.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,i.jsx)("img",{src:null!=n?n:void 0,alt:"",className:Y.headerIcon})}return null!=r||null!=l?(0,i.jsx)(u.P3F,{onClick:r,className:o()(null!=r?Y.clickable:""),onContextMenu:l,children:t}):t};et.Src=ee;let en=e=>{let{priorityUser:t,title:n,subtitle:r,icon:l,onSubtitleClick:a,onIconClick:o,onContextMenu:s,guildId:c}=e,d=(0,i.jsx)(u.Text,{color:"header-secondary",className:Y.textContent,variant:"text-sm/normal",children:r});return(0,i.jsxs)("header",{className:null!=l?Y.headerFull:Y.headerSimple,children:[(0,i.jsx)(u.qEK,{src:t.user.getAvatarURL(c,32),"aria-label":t.user.username,size:u.EFr.SIZE_32,className:Y.headerAvatar,status:t.status,onContextMenu:s}),(0,i.jsxs)("div",{className:Y.__invalid_headerDetails,children:[(0,i.jsx)(u.Text,{className:Y.textContent,variant:"text-md/semibold",children:n}),null!=a?(0,i.jsx)(u.P3F,{className:Y.clickable,onClick:a,children:d}):d]}),null!=l&&null!=o?(0,i.jsx)(u.P3F,{className:Y.clickable,onClick:o,children:l}):l]})};en.Icon=et;let er=e=>{var t,n,{children:r,className:l}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","className"]);return(0,i.jsx)(u.tEY,{children:(0,i.jsx)(T.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:o()(l,Y.wrapper),padded:!0},a),n=n={children:r},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})};er.Header=en,er.Body=e=>{let{children:t}=e;return(0,i.jsx)(T.Z,{inset:!0,padded:!1,className:Y.body,children:t})},er.Separator=e=>{let{inset:t,className:n}=e;return(0,i.jsx)("div",{className:o()(Y.separator,{[Y.inset]:t},n)})},er.VoiceSection=e=>{var t;let{guild:n,channel:r,partySize:a,members:s,onChannelContextMenu:c}=e,p=l.useRef(null),f=(0,C.ZP)(r,!0),h=(0,R.EB)(n,32),g=(0,R.gM)(n);return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:Y.voiceSection,ref:p,onContextMenu:e=>c(e,r),children:[(0,i.jsx)(u.P3F,{onClick:()=>(0,w.X)(n.id),"aria-hidden":!0,tabIndex:-1,children:(0,i.jsxs)("div",{className:Y.voiceSectionAssets,children:[null!=h?(0,i.jsx)("img",{alt:"",src:h,className:o()(Y.voiceSectionGuildImage,Y.largeImageMask)}):(0,i.jsx)("div",{className:Y.voiceSectionNoGuildImageWrapper,children:(0,i.jsx)("div",{className:Y.voiceSectionNoGuildImage,style:{fontSize:null!=(t=K[g.length])?t:K[K.length-1]},children:g})}),(0,i.jsx)("div",{className:Y.voiceSectionIconWrapper,children:(0,i.jsx)(u.gj8,{size:"md",color:"currentColor",className:Y.voiceSectionIcon})})]})}),(0,i.jsx)(u.P3F,{onClick:()=>{d.default.selectVoiceChannel(r.id),(0,Z.Kh)(r.id)},focusProps:{ringTarget:p},children:(0,i.jsxs)("div",{className:Y.voiceSectionDetails,children:[q(n.name,Y.voiceSectionText),Q(f,Y.voiceSectionText)]})}),(0,i.jsx)(F.Z,{partySize:a,members:s,guildId:n.id})]})})},er.GameSection=e=>{let{icon:t,name:n,partySize:r,members:l}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:Y.gameSection,children:[null!=t?(0,i.jsx)("img",{alt:"",src:t,className:Y.gameSectionIcon}):null,(0,i.jsxs)("div",{children:[q(n),Q(W.intl.formatToPlainString(W.t.C4WXvb,{memberCount:r.totalSize}))]}),(0,i.jsx)(F.Z,{partySize:r,members:l})]})})},er.RichPresenceSection=$,er.XboxSection=e=>{let{title:t}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:Y.xboxSection,children:[(0,i.jsx)(G.Z,{className:Y.xboxSectionIcon}),(0,i.jsxs)("div",{className:Y.__invalid_xboxSectionDetails,children:[q(t),Q(W.intl.string(W.t["JG9r+/"]))]})]})})},er.SpotifySection=e=>{var t;let{activity:{assets:n,details:r,state:l,application_id:a},partySize:s,members:u,isSolo:d,getAssetImage:p}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:Y.spotifySection,children:[null!=n?(0,i.jsxs)("div",{className:Y.activitySectionAssets,children:[(0,i.jsx)("img",{alt:null!=(t=n.large_text)?t:"",src:p(a,n.large_image,[160,160]),className:o()(Y.largeImage,Y.borderRadius0,{[Y.largeImageMask]:null!=n.small_image})}),d?null:(0,i.jsx)(U.Z,{className:Y.smallImage,color:c.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,i.jsx)("div",{}),(0,i.jsxs)("div",{children:[null!=r?q(r):null,null!=l?Q(l):null]}),(0,i.jsx)(F.Z,{minAvatarsShown:d?2:1,partySize:s,members:u})]})})},er.TwitchSection=e=>{let t,{activity:r,user:l,getAssetImage:a,guildId:s}=e,{name:c,details:d,assets:p,application_id:f}=r;if(null!=p&&(0,E.Z)(r)){var g;t=(0,i.jsx)(N.Z,{className:Y.twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,i.jsxs)(u.P3F,{href:(0,m.Z)(r),tag:"a",target:"_blank",children:[(0,i.jsx)("img",{alt:null!=(g=p.large_text)?g:"",src:a(f,p.large_image,[900,500]),className:Y.twitchSectionPreview}),(0,i.jsx)("img",{src:n(497726),className:Y.twitchSectionPlayButton,alt:""})]})})}return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:o()({[Y.twitchSectionSimple]:null==l,[Y.twitchSectionFull]:null!=l}),children:[(0,i.jsx)("img",{alt:"",src:h.Z.get(z.ABu.TWITCH).icon.lightSVG,className:Y.twitchSectionIcon}),(0,i.jsxs)("div",{children:[q(c),null!=d?Q(d):null]}),null!=l?(0,i.jsx)(u.qEK,{src:l.getAvatarURL(s,24),"aria-label":l.username,className:Y.twitchSectionAvatar,size:u.EFr.SIZE_24}):null]}),t]})},er.ApplicationStreamingSection=e=>{var t,n;let{activity:r,user:l,applicationStream:a,onPreviewClick:o,guildId:c}=e,d=(0,s.e7)([k.Z],()=>k.Z.getChannel(a.channelId)),[p,f]=(0,j.wq)(d),h=(0,i.jsxs)(u.P3F,{onClick:p?o:void 0,className:Y.applicationStreamingPreviewWrapper,children:[(0,i.jsx)(x.Z,{stream:a,className:Y.applicationStreamingPreviewSize}),(0,i.jsx)(u.Text,{className:Y.applicationStreamingHoverText,variant:"text-sm/medium",color:"always-white",children:(0,j.P9)(f)})]}),g=null!=(n=null==(t=(0,y.Z)(r,a))?void 0:t.activityText)?n:W.intl.string(W.t.eXan7O);return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:Y.applicationStreamingSection,children:[(0,i.jsx)(u.qEK,{size:u.EFr.SIZE_32,src:l.getAvatarURL(c,32),"aria-label":l.username,className:Y.applicationStreamingAvatar}),(0,i.jsxs)("div",{children:[q(H.ZP.getName(l)),Q(g)]}),(0,i.jsx)(S.ZP,{size:S.ZP.Sizes.SMALL})]}),h]})},er.EmbeddedActivitySection=e=>{let{activity:t,channel:n,guildId:r,participants:a}=e,[o,c]=l.useState(null),d=t.application_id;l.useEffect(()=>{null!=d&&(0,B.hR)(d,["embedded_background"]).then(e=>{let[t]=e;return c(t)})},[d]);let p=(0,s.Wu)([M.default,D.default],()=>Array.from(a).map(e=>D.default.getId()===e?null:M.default.getUser(e)).filter(V.lm)),h=(0,f.O)(),{analyticsLocations:m}=(0,v.ZP)();if(null==d)return null;let b=I.Z.getApplication(d);if(null==b)return null;let _=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,O=(0,B.xF)(b.id,o,300);return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:Y.embeddedActivityTopRow,children:[(0,i.jsx)(P.Z,{game:b,size:P.Z.Sizes.XSMALL,className:Y.embeddedActivityIcon}),(0,i.jsx)("div",{className:Y.embeddedActivityName,children:(0,i.jsx)(u.Text,{variant:"text-sm/semibold",children:b.name})}),null!=_?(0,i.jsx)("div",{className:Y.embeddedActivityTimeElapsed,children:(0,i.jsx)(u.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,i.jsx)(X,{timestamps:_})})}):null]}),(0,i.jsxs)("div",{className:Y.embeddedActivityPlayerContainer,children:[null!=O?(0,i.jsx)("img",{src:O,alt:b.name,className:Y.embeddedActivityImage}):null,(0,i.jsxs)("div",{className:Y.embeddedActivityImageOverlay,children:[(0,i.jsx)(L.OV,{users:p,guildId:r,channelId:n.id}),(0,i.jsx)("div",{className:Y.embeddedActivityJoinWrapper,children:(0,i.jsx)(u.zxk,{variant:"primary",size:"sm",text:W.intl.string(W.t.VJlc0d),onClick:e=>{e.stopPropagation(),(0,g.Z)({applicationId:d,activityChannelId:n.id,locationObject:h.location,analyticsLocations:m})}})})]})]})]})};let ei=er},199104:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288);n(647438);var i=n(442837),l=n(704215),a=n(481060),o=n(410575),s=n(100527),c=n(906732),u=n(313201),d=n(243778),p=n(352455),f=n(480294),h=n(791359),g=n(981631),m=n(388032),b=n(708567);function _(){let{analyticsLocations:e}=(0,c.ZP)(s.Z.ACTIVE_NOW_COLUMN),t=(0,i.e7)([f.Z],()=>f.Z.hasConsented(g.pjP.PERSONALIZATION))?[]:[l.z.NOW_PLAYING_CONSENT_CARD],n=(0,u.Dt)();return(0,r.jsx)(c.Gt,{value:e,children:(0,r.jsx)(o.Z,{section:g.jXE.ACTIVE_NOW_COLUMN,children:(0,r.jsx)("aside",{className:b.container,"aria-labelledby":n,children:(0,r.jsxs)(a.Ttm,{className:b.scroller,children:[(0,r.jsx)(a.X6q,{variant:"heading-lg/semibold",className:b.header,id:n,children:m.intl.string(m.t.F4Zgg4)}),(0,r.jsx)(d.ZP,{contentTypes:t,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===l.z.NOW_PLAYING_CONSENT_CARD)return(0,r.jsx)(p.Z,{className:b.__invalid_consentCard,markAsDismissed:n})}}),(0,r.jsx)(h.Z,{})]})})})})}},599706:function(e,t,n){n.d(t,{Z:()=>h}),n(539854);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(481060),s=n(100527),c=n(670188),u=n(463618),d=n(823379),p=n(550619);let f=e=>{let{member:t,empty:n,guildId:l}=e,a=i.useRef(null);return n?(0,r.jsx)("div",{className:p.partyMemberEmpty}):null==t?(0,r.jsx)("div",{className:p.partyMemberUnknown,children:(0,r.jsx)(u.Z,{className:p.partyMemberUnknownIcon})}):(0,r.jsx)("div",{className:p.partyMemberKnown,children:(0,r.jsx)(c.Z,{targetElementRef:a,userId:t.id,guildId:l,newAnalyticsLocations:[s.Z.AVATAR],position:"left",clickTrap:!0,children:e=>{var n,i;return(0,r.jsx)(o.qEK,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={ref:a,src:t.getAvatarURL(l,24),"aria-label":t.username,size:o.EFr.SIZE_24,className:p.partyMember},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})})},h=e=>{let{partySize:t,members:n,minAvatarsShown:i=1,maxAvatarsShown:l=2,guildId:o}=e,{unknownSize:s,totalSize:c,knownSize:u}=t;if(c<i)return null;let h=a()(n).filter(d.lm).take(l).map(e=>(0,r.jsx)(f,{member:e,guildId:o},e.id)).value();for(let e=0;e<s&&h.length<l;e++)h.push((0,r.jsx)(f,{guildId:o},"unknown-member-".concat(e)));let g=c-u-s;for(let e=0;e<g&&h.length<l;e++)h.push((0,r.jsx)(f,{empty:!0,guildId:o},"empty-member-".concat(e)));let m=Math.max(Math.min(c-h.length,99),0);if(1===m){let e=n[l];h.push((0,r.jsx)(f,{member:e,guildId:o},e.id))}return(0,r.jsx)("div",{className:p.wrapper,children:(0,r.jsxs)("div",{className:p.partyMembers,children:[h,m>1?(0,r.jsxs)("div",{className:p.partyMemberOverflow,children:["+",m]}):null]})})}},292140:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(481060),l=n(493773),a=n(626135),o=n(144145),s=n(555927),c=n(738762),u=n(244080),d=n(247530),p=n(260889),f=n(981631),h=n(388032);function g(e){let{party:t,close:n,onSelect:g}=e,m=(0,c.Z)(t),b=(0,p.Z)(t),_=(0,d.Z)(t),O=(0,u.Z)(t),E=(0,o.Z)(t),y=(0,s.Z)(t);return(0,l.ZP)(()=>{let e=t.currentActivities.filter(e=>{var t,n;return(null==(t=e.game)?void 0:t.name)!=null&&(0,a.isGameApplicationType)(null==(n=e.game)?void 0:n.type)}).map(e=>e.game.name);a.default.track(f.rMx.OPEN_POPOUT,{type:"Now Playing Card Popout",games_detected:e})}),(0,r.jsxs)(i.v2r,{navId:"now-playing-menu",onClose:n,"aria-label":h.intl.string(h.t.ogxXGh),onSelect:g,children:[m,(0,r.jsxs)(i.kSQ,{children:[b,_]}),(0,r.jsx)(i.kSQ,{children:O}),(0,r.jsx)(i.kSQ,{children:E}),y]})}},841710:function(e,t,n){n.d(t,{Y:()=>u,Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(129861),s=n(961275);function c(e){let{user:t,status:n,isFocused:i,guildId:l}=e;return(0,r.jsxs)("div",{className:s.memberItem,children:[(0,r.jsx)(a.qEK,{src:t.getAvatarURL(l,24),className:s.avatar,"aria-label":t.username,size:a.EFr.SIZE_24,status:n,statusColor:i?"currentColor":void 0}),(0,r.jsx)(o.Z,{user:t,hideDiscriminator:!0})]})}function u(e){let{label:t}=e;return(0,r.jsxs)("div",{className:s.memberItem,children:[(0,r.jsx)("div",{className:l()(s.avatar,s.unknown)}),(0,r.jsx)("div",{children:t})]})}},144145:function(e,t,n){n.d(t,{Z:()=>P}),n(539854),n(388685);var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(278323),s=n(287734),c=n(230711),u=n(726542),d=n(620662),p=n(841784),f=n(802856),h=n(594190),g=n(592745),m=n(553795),b=n(757266),_=n(283595),O=n(417363),E=n(626135),y=n(804739),v=n(346329),I=n(981631),C=n(388032);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T=u.Z.get(I.ABu.XBOX).name;function P(e){let{currentActivities:t}=e,n=t.length>1,P=function(e){let{currentActivities:t}=e,n=(0,l.e7)([m.Z],()=>m.Z.getAccounts().some(e=>e.type===u.Z.get(I.ABu.XBOX).type)),i=t.some(e=>{let{activity:t}=e;return(0,f.Z)(t)});return n||!i?null:(0,r.jsx)(a.sNh,{id:"xbox-connect",action:()=>c.Z.open(I.oAB.CONNECTIONS),label:C.intl.formatToPlainString(C.t.XWSHTU,{platform:T})})}(e),j=function(e){let{currentActivities:t}=e,n=i.useContext(E.AnalyticsContext);return(0,l.Wu)([h.ZP,_.Z,g.Z,O.Z,b.Z],()=>t.filter(e=>!(0,p.Z)(e.activity)).map(e=>{let{activity:t,game:r}=e,i=_.Z.getActiveLibraryApplication(r.id);return N(S({},e),{libraryApplication:i,canJoin:null!=t&&(0,d.Z)(t,I.xjy.JOIN)&&t.type===I.IIU.PLAYING,canPlay:(0,y.t)({LibraryApplicationStore:_.Z,LaunchableGameStore:g.Z,DispatchApplicationStore:O.Z,ConnectedAppsStore:b.Z,applicationId:r.id,branchId:null!=i?i.branchId:null}),isLaunching:g.Z.launchingGames.has(r.id),isRunning:h.ZP.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}),[n.location,t])}(e),x=[];for(let e of j){let{activity:t}=e;null!=t&&null!=t.type&&x.push(function(e,t){let{canJoin:n,activity:i,activityUser:l}=e;if(!n||null==i)return null;async function c(){if(null==i)return;let e=await o.Z.sendActivityInviteUser({type:I.mFx.JOIN_REQUEST,userId:l.id,activity:i,location:I.Sbl.USER_ACTIVITY_ACTIONS});null!=e&&s.default.selectPrivateChannel(e.id)}return(0,r.jsx)(a.sNh,{id:"join-".concat(i.session_id),label:t?C.intl.formatToPlainString(C.t.wFAvxM,{name:l.toString()}):C.intl.string(C.t.OKsSCQ),action:c})}(e,n),function(e,t){let{activity:n,game:i,libraryApplication:l,location:o,canPlay:s,isRunning:c,isLaunching:u}=e;if(!s||null==n)return null;let d=c?C.intl.formatToPlainString(C.t["gBme//"],{name:i.name}):u?C.intl.formatToPlainString(C.t.WtSQwM,{name:i.name}):void 0;return(0,r.jsx)(a.sNh,{id:"play-".concat(n.session_id),action:function(){(0,v.playApplication)(i.id,l,{analyticsParams:{location:N(S({},o),{object:I.qAy.LIST_ITEM})}})},label:t?C.intl.formatToPlainString(C.t.ZDZEJC,{name:i.name}):C.intl.string(C.t.XKUw8v),subtext:d})}(e,n))}return[P,...x]}},555927:function(e,t,n){n.d(t,{Z:()=>f}),n(539854),n(388685),n(361932),n(187205);var r=n(951288),i=n(647438),l=n(481060),a=n(906732),o=n(892001),s=n(841710),c=n(388032);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function p(e){let{priorityMembers:t,otherMembers:n,totalMembers:i,activity:a,guildId:p,sourceAnalyticsLocations:f}=e,h=[];for(let{user:e,status:n}of t)h.push((0,r.jsx)(l.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,r.jsx)(s.Z,d(u({},t),{user:e,status:n,guildId:p})),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:p,sourceAnalyticsLocations:f})}));for(let e of n)h.push((0,r.jsx)(l.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,r.jsx)(s.Z,d(u({},t),{user:e,guildId:p})),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:p,sourceAnalyticsLocations:f})}));let g=i-h.length;return g>0&&h.push((0,r.jsx)(l.sNh,{id:"unknown-members-".concat(null==a?void 0:a.session_id),render:e=>(0,r.jsx)(s.Y,d(u({},e),{label:c.intl.formatToPlainString(c.t["6Kqn9P"],{count:g})}))})),h}function f(e){let{priorityMembers:t,partiedMembers:n,currentActivities:o,guildContext:s}=e,u=new Set(t.map(e=>{let{user:t}=e;return t.id})),d=n.filter(e=>!u.has(e.id)),{analyticsLocations:f}=(0,a.ZP)(),h=i.useMemo(()=>{let e=o.flatMap(e=>{let{playingMembers:t}=e;return t}).map(e=>e.id);return n.filter(t=>!e.includes(t.id))},[n,o]);if(o.length<=1&&0===h.length){var g,m;return(0,r.jsx)(l.kSQ,{label:n.length>1?c.intl.formatToPlainString(c.t.C4WXvb,{memberCount:n.length}):void 0,children:p({priorityMembers:t,otherMembers:d,totalMembers:n.length,activity:null!=(m=null==(g=o[0])?void 0:g.activity)?m:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:f})})}let b=o.map((e,n)=>{let{playingMembers:i,game:a,activity:o}=e,c=new Set(i.map(e=>e.id));return(0,r.jsx)(l.kSQ,{label:"".concat(a.name," - ").concat(i.length),children:p({priorityMembers:t.filter(e=>{let{user:t}=e;return c.has(t.id)}),otherMembers:i.filter(e=>!u.has(e.id)),totalMembers:i.length,activity:null!=o?o:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:f})},n)}),_=h.map(e=>e.id);return[...b,(0,r.jsx)(l.kSQ,{label:"".concat(c.intl.string(c.t["mIx+gI"])," - ").concat(h.length),children:p({priorityMembers:t.filter(e=>{let{user:t}=e;return _.includes(t.id)}),otherMembers:h.filter(e=>!u.has(e.id)),totalMembers:h.length,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:f})})]}},738762:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(481060),a=n(493683),o=n(367907),s=n(205129),c=n(626135),u=n(981631),d=n(388032);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{priorityMembers:n,partiedMembers:f}=e,h=i.useContext(c.AnalyticsContext),g=n.map(e=>{let{user:t}=e;return t.id}),m=1===f.length&&1===n.length,b=n.length-f.length>0;return(m||t)&&!b&&0!==g.length?(0,r.jsx)(l.sNh,{id:"message",action:function(){a.Z.openPrivateChannel({recipientIds:g}).then(t=>{var n,r;return o.ZP.trackWithMetadata(u.rMx.ACTIVITY_FEED_DM_VISITED,p({source:(n=p({},h.location),r=r={object:u.qAy.LIST_ITEM},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n),channel_id:t,recipient_id:"string"==typeof g?g:g[0],af_recently_played:!1},(0,s.y)(e)))})},label:d.intl.string(d.t["g33r/P"])}):null}},244080:function(e,t,n){n.d(t,{Z:()=>i});var r=n(380349);function i(e){let{currentActivities:t,isSpotifyActivity:n}=e,i=t[0],l=(0,r.Z)(null==i?void 0:i.activity,null==i?void 0:i.activityUser);return n?l:null}},247530:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(481060),l=n(287734),a=n(872810),o=n(51144),s=n(388032);function c(e){let{applicationStreams:t}=e;return t.map(e=>{let{stream:t,streamUser:n}=e;return(0,r.jsx)(i.sNh,{id:"spectate-".concat(t.ownerId),action:()=>{l.default.selectVoiceChannel(t.channelId),(0,a.iV)(t)},label:s.intl.formatToPlainString(s.t.m09d0d,{streamerName:o.ZP.getName(n)})},"spectate-".concat(t.ownerId))})}},260889:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(287734),s=n(367907),c=n(359110),u=n(769654),d=n(496675),p=n(205129),f=n(626135),h=n(981631),g=n(388032);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function _(e){let t=i.useContext(f.AnalyticsContext),n=e.voiceChannels[0],_=(0,l.e7)([d.Z],()=>null!=n&&d.Z.can(h.Plq.CONNECT,n.channel));return null==n?null:[(0,r.jsx)(a.sNh,{id:"join-voice",action:function(){(0,c.Kh)(n.channel.id),o.default.selectVoiceChannel(n.channel.id),s.ZP.trackWithMetadata(h.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,m({source:b(m({},t.location),{object:h.qAy.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,p.y)(e)))},label:g.intl.string(g.t["8yOlh4"]),disabled:!_},"join-voice"),(0,r.jsx)(a.sNh,{id:"goto-server",action:function(){(0,u.X)(n.guild.id),s.ZP.trackWithMetadata(h.rMx.ACTIVITY_FEED_GUILD_VISITED,m({source:b(m({},t.location),{object:h.qAy.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,p.y)(e)))},label:g.intl.string(g.t.RGgqm5)},"goto-server")]}},525296:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(493683),a=n(239091),o=n(730749),s=n(430824);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function d(e){return(0,o.Z)(class extends i.Component{render(){return(0,r.jsx)(e,u(c({},this.props),{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))}handleMessageUser(e,t){return l.Z.openPrivateChannel({recipientIds:t.id})}handleUserContextMenu(e,t,i){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,u(c({},n),{user:t}))},{onClose:i})}handleGuildContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("1806"),n.e("36599"),n.e("60962"),n.e("58175"),n.e("7654"),n.e("44156"),n.e("47463"),n.e("6850"),n.e("58227"),n.e("54408"),n.e("42926"),n.e("20087"),n.e("6049"),n.e("87154"),n.e("33213"),n.e("23744")]).then(n.bind(n,545135));return n=>(0,r.jsx)(e,u(c({},n),{guild:t}))})}handleChannelContextMenu(e,t){let i=s.Z.getGuild(t.getGuildId());if(null==i)return null;(0,a.jW)(e,async()=>{let{default:e}=await n.e("40283").then(n.bind(n,428108));return n=>(0,r.jsx)(e,u(c({},n),{channel:t,guild:i}))})}})}},929809:function(e,t,n){n.d(t,{H:()=>l,c:()=>i});var r=n(570140);function i(e){r.Z.wait(()=>r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e}))}function l(){r.Z.wait(()=>r.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(e,t,n){n.d(t,{M5:()=>i});var r,i=((r={})[r.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",r[r.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",r[r.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",r[r.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE",r)},785997:function(e,t,n){n.d(t,{F:()=>i});var r,i=((r={}).AGE_GATE="age-gate",r.CHOOSE_TEMPLATE="choose-template",r.CUSTOMIZE_GUILD="customize-server",r.CHANNEL_PROMPT="channel-prompt",r.JOIN_GUILD="join-server",r.CREATION_INTENT="creation-intent",r.COMPLETE="complete",r)},122333:function(e,t,n){let r;n.d(t,{Z:()=>w}),n(388685),n(583741);var i=n(951288);n(647438);var l=n(481060),a=n(570140),o=n(317770),s=n(622822),c=n(391650),u=n(305325),d=n(983736),p=n(341298),f=n(390885),h=n(524329),g=n(995532),m=n(486472),b=n(430824),_=n(914010),O=n(594174),E=n(823379),y=n(358085),v=n(929809),I=n(179645),C=n(701476),S=n(785997),N=n(981631),T=n(188785),P=n(630724);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function A(){null!=r&&(0,l.Mr3)(r)}class Z extends o.Z{_initialize(){a.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.subscribe("LOGOUT",A)}_terminate(){a.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.unsubscribe("LOGOUT",A)}handleConnectionOpen(){var e;let t,a=I.Z.getType();if(null==a)return;switch(a){case C.M5.INVITE_UNCLAIMED:f.Z.flowStart(P.MK.INVITE,P.EW.NUF_STARTED);break;case C.M5.ORGANIC_REGISTERED:f.Z.flowStart(P.MK.ORGANIC,P.EW.NUF_STARTED);break;case C.M5.MARKETING_UNCLAIMED:f.Z.flowStart(P.MK.ORGANIC_MARKETING,P.EW.NUF_STARTED)}let o=!1,A=_.Z.getGuildId();if(a===C.M5.INVITE_UNCLAIMED){let e=b.Z.getGuild(A);null!=e&&(0,d.Dc)(e)&&(o=!0,(0,h.RM)(e.id))}let Z=()=>0===m.Z.totalGuilds&&!y.isPlatformEmbedded,w=s.bN();e=[{key:"Unified NUF Modal",open:async function(e){let t=e=>{switch(e){case S.F.AGE_GATE:f.Z.flowStep(P.MK.ANY,P.EW.AGE_GATE);break;case S.F.CHOOSE_TEMPLATE:f.Z.flowStep(P.MK.ANY,P.X2.GUILD_TEMPLATES);break;case S.F.CUSTOMIZE_GUILD:f.Z.flowStep(P.MK.ANY,P.X2.GUILD_CREATE);break;case S.F.CHANNEL_PROMPT:f.Z.flowStep(P.MK.ANY,P.X2.CHANNEL_PROMPT);break;case S.F.JOIN_GUILD:f.Z.flowStep(P.MK.ANY,P.X2.JOIN_GUILD);break;case S.F.CREATION_INTENT:f.Z.flowStep(P.MK.ANY,P.X2.CREATION_INTENT);break;case S.F.COMPLETE:f.Z.flowStep(P.MK.ANY,P.X2.SUCCESS);break;case null:break;default:E.vE(e)}};r=await (0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("71172"),n.e("1337"),n.e("42483"),n.e("63359")]).then(n.bind(n,599219));return n=>(0,i.jsx)(e,x(j({},n),{onSlideChange:t}))},{onCloseRequest:N.dG4,onCloseCallback:e,modalKey:r})},predicate:()=>Z()&&!T.a},{key:"New User Age Gate",open:c.i,predicate:()=>w&&!Z()&&!T.a},{key:"Claim Account Modal",open:e=>c.j(y.isPlatformEmbedded,e),predicate:()=>{var e;return!o&&null!=O.default.getCurrentUser()&&!(null==(e=O.default.getCurrentUser())?void 0:e.isClaimed())&&!T.a&&!(0,p.g)("new_user_manager")}},{key:"Verification Gate with Claim Account",open:e=>(0,u.hk)(A,null!=e?e:void 0),predicate:()=>{var e;return o&&!(null==(e=O.default.getCurrentUser())?void 0:e.isClaimed())&&!T.a}},{key:"Guild Welcome Modal",open:e=>(0,l.ZDy)(async()=>{let{default:e}=await n.e("90542").then(n.bind(n,184782));return t=>(0,i.jsx)(e,x(j({},t),{guildId:A}))},{onCloseCallback:e}),predicate:()=>null!=A&&null!=g.Z.get(A)&&g.Z.get(A)!==g.a}],t=()=>{v.H(),f.Z.flowStep(P.MK.ANY,P.EW.NUF_COMPLETE,!0)},[...e].reverse().forEach(e=>{let n=t;t=()=>{e.predicate()?e.open(n):n()}}),t()}}let w=new Z},824138:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(481060),s=n(100527),c=n(600164),u=n(670188),d=n(237583),p=n(63063),f=n(870569),h=n(345243),g=n(115530),m=n(981631),b=n(388032),_=n(79822);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class v extends i.PureComponent{isHost(){let{currentUser:e,host:t}=this.props;return e.id===(null==t?void 0:t.id)}renderTitle(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(g.Z,{children:this.isHost()?b.intl.formatToPlainString(b.t["6UJ7mp"],{count:this.props.party.length}):b.intl.string(b.t.RZufbG)}),(0,r.jsx)(h.Z,{children:b.intl.string(b.t["0ZHLIi"])})]})}renderStopListeningButton(){let{onStopListening:e}=this.props;return this.isHost()?null:(0,r.jsx)(f.Z,{tooltipText:b.intl.string(b.t.LeZSp6),onClick:e,icon:o.Dio})}renderHelpIcon(){return this.isHost()?(0,r.jsx)(f.Z,{tooltipText:b.intl.string(b.t.U7N2Hh),onClick:()=>{window.open(p.Z.getArticleURL(m.BhN.SPOTIFY_CONNECTION),"_blank")},icon:o.d3s}):null}render(){return(0,r.jsxs)("div",{className:_.listeningAlong,children:[this.renderTitle(),(0,r.jsx)(c.Z,{justify:c.Z.Justify.END,className:_.party,children:(0,r.jsx)(d.Z,{users:this.props.party,max:this.isHost()?5:4,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,r.jsxs)("div",{className:_.icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}constructor(...e){super(...e),O(this,"partyMemberAvatarRef",i.createRef()),O(this,"partyMemberOverflowRef",i.createRef()),O(this,"renderPartyMember",(e,t)=>{let n;if(null==e)return null;let{host:l,onUserContextMenu:c}=this.props;return n=(null==l?void 0:l.id)===e.id?b.intl.string(b.t.N9bqDw):b.intl.string(b.t.Z2Y4c3),(0,r.jsx)(u.Z,{targetElementRef:this.partyMemberAvatarRef,user:e,newAnalyticsLocations:[s.Z.AVATAR],position:"top",align:"center",clickTrap:!0,children:l=>(0,r.jsx)(o.ua7,{text:n,children:n=>{let{onMouseEnter:r,onMouseLeave:s}=n;return(0,i.createElement)(o.qEK,y(E({},l),{key:e.id,src:e.getAvatarURL(void 0,24),size:o.EFr.SIZE_24,className:a()(_.avatar,t),"aria-label":e.username,onMouseEnter:r,onMouseLeave:s,onContextMenu:t=>void(null!=e&&(null==c||c(t,e))),avatarContentRef:this.partyMemberAvatarRef}))}})},e.id)}),O(this,"renderPartyMemberOverflow",(e,t,n)=>{let{renderOverflowPopout:i}=this.props;return(0,r.jsx)(o.yRy,{renderPopout:i,targetElementRef:this.partyMemberOverflowRef,children:n=>(0,r.jsx)(o.ua7,{text:b.intl.string(b.t.Zf4NPT),children:i=>(0,r.jsx)("div",y(E({ref:this.partyMemberOverflowRef,className:a()(_.overflow,t)},i,n),{children:e}))})},n)})}}let I=v},235555:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(239091),c=n(476669),u=n(524331),d=n(768419),p=n(831506),f=n(699516),h=n(594174),g=n(823379),m=n(824138),b=n(388032);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{hasParty(e){return e.length>1}handleStopListening(){(0,u.Z)()}render(){let{currentUser:e,host:t,party:n}=this.props;return this.hasParty(n)&&null!=e?(0,r.jsx)(m.Z,{currentUser:e,host:t,party:n,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null}constructor(...e){super(...e),_(this,"handleUserContextMenu",(e,t)=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},n),{user:t}))})}),_(this,"renderOverflowPopout",()=>{let{party:e}=this.props;return(0,r.jsx)(c.Z,{party:e,header:b.intl.formatToPlainString(b.t.I9et19,{count:e.length})})})}}let E=o.ZP.connectStores([d.Z,h.default,f.Z,p.Z],()=>{let e,t,n=d.Z.getSyncingWith(),r=d.Z.getActivity(),i=h.default.getCurrentUser(),l=[];if(null!=n?(e=h.default.getUser(n.userId),t=n.partyId):null!=r&&null!=r.party&&null!=r.party.id&&(e=i,t=r.party.id),null!=t){var o;l=a()(Array.from(null!=(o=p.Z.getParty(t))?o:[])).map(e=>h.default.getUser(e)).filter(g.lm).orderBy([t=>null==e||e.id===t.id,e=>f.Z.isFriend(e.id)],["desc","desc"]).value()}return{currentUser:i,host:e,party:l}})(O)},746508:function(e,t,n){n.d(t,{Z:()=>e1}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(799899),u=n(442837),d=n(704215),p=n(864094),f=n(75735),h=n(382600),g=n(755721),m=n(481060),b=n(846027),_=n(239091),O=n(925549),E=n(284056),y=n(730749),v=n(911969),I=n(40851),C=n(317381),S=n(596040),N=n(314490),T=n(374065),P=n(451576),j=n(119315),x=n(100527),A=n(906732),Z=n(397698),w=n(562129),L=n(793865),R=n(522651),D=n(795318),k=n(933557),M=n(338390),U=n(600164),G=n(243778),B=n(258609),V=n(446226),H=n(935261),F=n(74299),z=n(803647),W=n(142497),Y=n(810788),K=n(160404),q=n(703656),Q=n(917405),X=n(641015),J=n(848543),$=n(565799),ee=n(501655),et=n(368442),en=n(600518),er=n(485287),ei=n(754277),el=n(590415),ea=n(695346),eo=n(923973),es=n(829750),ec=n(189771),eu=n(544384),ed=n(560688),ep=n(127608),ef=n(76021),eh=n(173507),eg=n(25827),em=n(199902),eb=n(314897),e_=n(592125),eO=n(430824),eE=n(819640),ey=n(131951),ev=n(496675),eI=n(19780),eC=n(699516),eS=n(594174),eN=n(979651),eT=n(938475),eP=n(626135),ej=n(63063),ex=n(51144),eA=n(870569),eZ=n(345243),ew=n(594117),eL=n(226323),eR=n(981631),eD=n(354459),ek=n(921944),eM=n(190378),eU=n(388032),eG=n(890332),eB=n(197571);function eV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eV(e,t,n[t])})}return e}function eF(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ez(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let eW={offset:{left:-1,top:-1,right:1,bottom:1}};function eY(e){let t=e.currentTarget;eP.default.track(eR.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:eR.jXE.NOISE_CANCELLATION_POPOUT}})}function eK(){let e=i.useRef(null);(0,m.Tbt)(e),i.useEffect(()=>{eP.default.track(eR.rMx.OPEN_POPOUT,{type:eR.jXE.NOISE_CANCELLATION_POPOUT})},[]);let t=(0,u.e7)([ey.Z],()=>ey.Z.getNoiseCancellation());return(0,r.jsxs)("div",{ref:e,className:eG.noiseCancellationPopout,children:[(0,r.jsx)(m.j7V,{hideBorder:!0,className:eB.marginBottom4,value:t,onChange:()=>b.Z.setNoiseCancellation(!t,{section:eR.jXE.NOISE_CANCELLATION_POPOUT}),note:eU.intl.string(eU.t.uKdWn5),children:eU.intl.string(eU.t.WGWHv7)}),(0,r.jsx)(E.Z,{title:eU.intl.string(eU.t.JdUas7),notchBackground:E._.BLACK,buttonTest:eU.intl.string(eU.t["sG+MGh"]),buttonStop:eU.intl.string(eU.t.Yp3SbG),buttonClassName:eG.micTestButton,buttonColor:g.zx.Colors.PRIMARY,location:{section:eR.jXE.NOISE_CANCELLATION_POPOUT}}),(0,r.jsx)(m.vwX,{tag:m.RB0.H5,className:a()(eB.marginBottom8,eB.marginTop20),children:eU.intl.string(eU.t.k6h1Fx)}),(0,r.jsxs)(U.Z,{justify:U.Z.Justify.BETWEEN,className:eG.__invalid_footer,children:[(0,r.jsx)(m.eee,{href:eR.EYA.KRISP,onClick:e=>eY(e),children:(0,r.jsx)("div",{className:eG.krispLogo})}),(0,r.jsx)(m.eee,{href:ej.Z.getArticleURL(eR.BhN.NOISE_SUPPRESSION),className:eG.krispLink,onClick:e=>eY(e),children:eU.intl.string(eU.t.hvVgAQ)})]})]})}function eq(){let{parentAnalyticsLocation:e}=(0,A.ZP)(),t=(0,u.e7)([ei.Z],()=>ei.Z.isMuted()),n=t?eU.intl.string(eU.t.ScHlfn):eU.intl.string(eU.t.zqxfra);return(0,r.jsx)(eA.Z,{"aria-label":n,tooltipText:n,icon:t?m.xjP:m.RZG,onClick:()=>{(0,R.v)(e,R.d.STAGE_MUSIC,t),(0,en.v)(!t)}})}function eQ(e){let{channel:t,enableActivities:n,disabled:l}=e,o=i.useRef(null),{parentAnalyticsLocation:s}=(0,A.ZP)(),c=(0,eo.Z)(),d=(0,ec.Z)(t),p=(0,u.e7)([C.ZP],()=>null!=C.ZP.getSelfEmbeddedActivityForLocation(C.ZP.getConnectedActivityLocation())),h=(0,X.Z)(t),{reachedLimit:_,limit:O}=(0,es.Z)(t),E=i.useCallback(()=>{(0,ed.Z)()},[]),y=(0,I.bp)(),v=i.useCallback(e=>{if(ey.Z.isVideoEnabled()===e)return;let n=()=>{var n;b.Z.setVideoEnabled(e),e&&(0,q.uL)(eR.Z5c.CHANNEL(null!=(n=t.getGuildId())?n:eR.ME,t.id))};(0,R.v)(s,R.d.CAMERA,e),e?(0,eh.Z)(n,y):n()},[t,y,s]),S=p||n||h,{Component:N,play:T,events:P}=(0,f.o)(c.enabled?"disable":"enable");return i.useEffect(()=>()=>T(),[c.enabled,T]),(0,r.jsx)(eg.Z,eF(eH({onChange:v,onCameraUnavailable:E,hasPermission:d,channelLimit:O,channelLimitReached:_},c),{enabled:!l&&c.enabled,children:e=>{var{unavailable:t,isActive:n,label:i,iconComponent:l,iconColor:c}=e,u=ez(e,["unavailable","isActive","label","iconComponent","iconColor"]);let d=(0,r.jsx)(N,{size:"md",className:a()(eG.buttonIcon,{[eG.withText]:!S}),color:"currentColor"});return(0,r.jsx)(m.yRy,{targetElementRef:o,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(L.Z,{onClose:t,minimal:!0,onInteraction:(0,D.u)("VideoDeviceMenu",s)})},position:"top",align:"center",animation:m.yRy.Animation.FADE,children:(e,l)=>{var{onClick:s}=e,c=ez(e,["onClick"]),{isShown:p}=l;return(0,r.jsx)(m.ua7,{text:i,children:e=>(0,r.jsx)(g.zx,eF(eH({"data-migration-pending":!0,buttonRef:o},u,e,c),{onClick:t=>{var n;u.onClick(t),null==(n=e.onClick)||n.call(e),p&&s(t)},onMouseEnter:()=>{var t,n;null==(t=e.onMouseEnter)||t.call(e),null==(n=c.onMouseEnter)||n.call(c),P.onMouseEnter()},onMouseLeave:()=>{var t;null==(t=e.onMouseLeave)||t.call(e),P.onMouseLeave()},onContextMenu:t=>{var n;s(t),null==(n=e.onContextMenu)||n.call(e)},size:g.zx.Sizes.MEDIUM,className:a()(eG.button,eG.buttonColor,{[eG.buttonActive]:n,[eG.fauxDisabled]:t,[eG.disabled]:u.disabled}),innerClassName:eG.buttonContents,wrapperClassName:eG.button,fullWidth:!0,focusProps:eW,children:S?d:(0,r.jsxs)(U.Z,{align:U.Z.Align.CENTER,children:[d,eU.intl.string(eU.t.FlNoSU)]})}))})}})}}))}function eX(e){let{channel:t,enableActivities:n}=e,i=(0,I.bp)(),{parentAnalyticsLocation:l,newestAnalyticsLocation:o}=(0,A.ZP)(),s=i===eR.IlC.POPOUT,c=(0,T.KF)(t.id),p=(0,T.g5)(c),{userInActivity:f}=(0,u.cj)([C.ZP],()=>({userInActivity:null!=C.ZP.getSelfEmbeddedActivityForChannel(t.id)})),h=(0,N.p)({surface:v.eR.VOICE_LAUNCHER,skipFetchingShelf:!0}),b=c!==T.jy.CAN_LAUNCH,{Component:_,events:O,play:E}=(0,w.Z)("RTCConnection");return n?(0,r.jsx)(m.ua7,{text:p,children:e=>(0,r.jsx)(G.Xf,{contentType:d.z.ACTIVITIES_VOICE_LAUNCHER_BADGE,latestVersion:h,children:n=>{let{visibleContent:i,markAsDismissed:c}=n;return(0,r.jsxs)(g.zx,eF(eH(eF(eH({"data-migration-pending":!0},e),{fullWidth:!0,size:g.zx.Sizes.MEDIUM}),O),{onClick:()=>{var n;E(),(0,Z.Z)({context:null!=t?{type:"channel",channel:t}:{type:"contextless"},openInPopout:s,analyticsLocation:o}),null==(n=e.onClick)||n.call(e),(0,R.v)(l,R.d.ACTIVITY),i===d.z.ACTIVITIES_VOICE_LAUNCHER_BADGE&&c(ek.L.TAKE_ACTION)},onMouseEnter:()=>{var t;O.onMouseEnter(),null==e||null==(t=e.onMouseEnter)||t.call(e)},onMouseLeave:()=>{var t;O.onMouseLeave(),null==e||null==(t=e.onMouseLeave)||t.call(e)},disabled:b,className:a()(eG.button,eG.buttonColor,{[eG.buttonActive]:f,[eG.disabled]:b}),innerClassName:eG.buttonContents,wrapperClassName:eG.button,focusProps:eW,children:[i===d.z.ACTIVITIES_VOICE_LAUNCHER_BADGE&&(0,r.jsx)(j.r,{top:-1,right:-1}),(0,r.jsx)(_,{size:"md",color:"currentColor",className:eG.buttonIcon})]}))}})}):null}function eJ(e){let t,{channel:n,canGoLive:l,enableActivities:o,disabled:s}=e,c=i.useRef(null),{parentAnalyticsLocation:d,analyticsLocations:f}=(0,A.ZP)(),h=(0,u.e7)([eS.default],()=>eS.default.getCurrentUser()),b=(0,u.Wu)([em.Z],()=>em.Z.getAllActiveStreams()),_=(0,ec.Z)(n),O=n.getGuildId(),E=(0,u.cj)([C.ZP],()=>null!=C.ZP.getSelfEmbeddedActivityForChannel(n.id)),y=(0,X.Z)(n),v=i.useCallback(()=>{(0,ef.Z)(O,n.id,f)},[O,n.id,f]),I=b.find(e=>e.ownerId===(null==h?void 0:h.id)),S=(0,eu.E)(n,h,b);t=null==I?l?v:ep.Z:()=>(0,z.Z)(I);let N=null!=I||S.length>0,T=_?eU.intl.string(eU.t.fjBNo6):eU.intl.string(eU.t.uQn9Bw),P=E||o||y,j=null!=I,{Component:x,events:Z,play:w}=(0,p.P)(j?"disable":"enable");i.useEffect(()=>()=>w(),[w,j]);let L=(0,r.jsx)(x,{size:"md",color:"currentColor",className:a()(eG.buttonIcon,{[eG.withText]:!P})});return(0,r.jsx)(m.yRy,{targetElementRef:c,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(eu.Z,{channel:n,currentUser:h,activeStreams:b,onClose:t,handleGoLive:l?v:ep.Z,onInteraction:(0,D.u)("ManageStreamsMenu",d,{entrypoint:eD.A5.OTHER_BUTTON})})},position:"top",align:"center",animation:m.yRy.Animation.FADE,children:e=>{var{onClick:n,onMouseEnter:i}=e,l=ez(e,["onClick","onMouseEnter"]);return(0,r.jsx)(m.ua7,{text:T,children:e=>(0,r.jsx)(g.zx,eF(eH(eF(eH({"data-migration-pending":!0},e),{buttonRef:c,size:g.zx.Sizes.MEDIUM,onClick:r=>{var i;(0,R.v)(d,R.d.STREAM,null==I),N?n(r):t(),null==(i=e.onClick)||i.call(e)},disabled:!_||s,className:a()(eG.button,eG.buttonColor,{[eG.buttonActive]:null!=I,[eG.disabled]:!_||s})}),N?l:null),{onMouseEnter:()=>{var t;null==i||i(),null==(t=e.onMouseEnter)||t.call(e),Z.onMouseEnter()},onMouseLeave:()=>{var t;null==(t=e.onMouseLeave)||t.call(e),Z.onMouseLeave()},innerClassName:eG.buttonContents,wrapperClassName:eG.button,focusProps:eW,children:P?L:(0,r.jsxs)(U.Z,{align:U.Z.Align.CENTER,children:[L,eU.intl.string(eU.t["r0/+v7"])]})}))})}})}class e$ extends i.PureComponent{renderConnectionStatus(){let e,{channel:t,guild:n,rtcConnectionQuality:i,rtcConnectionState:l,rtcConnectionLastPing:a,hasVideo:o,matchAccountText:s}=this.props;if(null==t)return null;let u=(0,k.F6)(t,eS.default,eC.Z);return null!=n?(e=eR.Z5c.CHANNEL(n.id,t.id),u="".concat(u," / ").concat(n.name)):e=eR.Z5c.CHANNEL(eR.ME,t.id),(0,r.jsx)(Q.Z,{channelId:t.id,quality:i,state:l,lastPing:a,hasVideo:o,connectionStatusTextVariant:s?"text-md/medium":void 0,childrenAsSubtitle:s,children:(0,r.jsx)(m.tEY,{children:(0,r.jsx)(c.rU,{to:e,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,r.jsx)(eZ.Z,{className:eG.channel,children:(0,r.jsx)(m.Text,{variant:s?"text-xs/medium":"text-sm/medium",color:"text-secondary",lineClamp:1,children:u})})})})})}renderNoiseCancellation(){let{noiseCancellationActive:e,noiseCancellationError:t,hasLayers:n,remoteVoiceState:i,channel:l,voiceStates:a}=this.props;return null!=i?null:(null==l?void 0:l.isGuildStageVoice())&&null==a.find(e=>e.user.id===eb.default.getId()&&(0,el.gf)(e.voiceState)===el.xO.ON_STAGE)&&(0,er.U5)(l.id)?(0,r.jsx)(eq,{}):!n&&t?(0,r.jsx)(m.ua7,{text:eU.intl.string(eU.t["i+SO/f"]),tooltipClassName:eG.noiseCancellationTooltip,forceOpen:!0,children:e=>{let{"aria-label":t}=e;return(0,r.jsx)(eA.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:m.oIc})}}):(0,r.jsx)(m.yRy,{targetElementRef:this.krispButtonRef,position:"top",align:"center",renderPopout:()=>(0,r.jsx)(eK,{}),children:(t,n)=>{let{isShown:i}=n;return(0,r.jsx)(e0,{popoutProps:t,isShown:i,noiseCancellationActive:e,ref:this.krispButtonRef})}},"krisp-popout")}renderVoiceStates(){let{channel:e,voiceStates:t,showVoiceStates:n}=this.props;return null!=e&&n&&0!==t.length?(0,r.jsx)(eL.Z,{voiceStates:t,channel:e,className:eG.voiceUsers}):null}renderChannelButtons(){let{channel:e,canGoLive:t,remoteVoiceState:n,enableActivities:i,voiceStates:l,selfStream:a,isPrivateChannelWithEnabledActivities:o}=this.props;if(null==e||null!=n)return null;let s=eb.default.getId();if(e.isGuildStageVoice()){if(!(0,et.tu)(e.guild_id)||!t)return null;let n=l.find(e=>e.user.id===s);if(null==n||n.voiceState.suppress)return null}let c=(e.isGuildVoice()||o)&&i,{reachedLimit:u}=(0,es.t)(e),d=(0,et.xJ)(e.id);return(0,r.jsxs)("div",{className:eG.actionButtons,children:[(0,r.jsx)(eQ,{channel:e,enableActivities:c,disabled:!d&&u}),(0,r.jsx)(eJ,{channel:e,canGoLive:t,enableActivities:c,disabled:e.isGuildStageVoice()&&(d&&null==a||!d&&u)}),c?(0,r.jsx)(eX,{channel:e,enableActivities:i}):null,(0,X.Z)(e)?(0,r.jsx)(J.Z,{channel:e,focusProps:eW}):null]})}render(){let{channel:e,noiseCancellationSupported:t,shouldShowVoicePanelIntroduction:n}=this.props;return null==e?null:(0,r.jsx)(m.yRy,{targetElementRef:this.ref,renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:m.yRy.Animation.TRANSLATE,shouldShow:n,children:()=>(0,r.jsxs)("div",{ref:this.ref,className:eG.container,children:[(0,r.jsxs)(U.Z,{className:eG.connection,align:U.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:eG.inner,children:this.renderConnectionStatus()}),(0,r.jsxs)(U.Z,{grow:0,shrink:0,className:eG.voiceButtonsContainer,children:[t?this.renderNoiseCancellation():null,(0,r.jsx)(ew.Z,{channel:e})]})]}),this.renderVoiceStates(),this.renderChannelButtons()]})})}constructor(...e){super(...e),eV(this,"ref",i.createRef()),eV(this,"krispButtonRef",i.createRef()),eV(this,"handleChannelLinkClick",e=>{var t;let{guild:n,channel:r}=this.props;s()(null!=r,"Channel is null during navigation click"),e.stopPropagation(),O.Z.channelListScrollTo(null!=(t=null==n?void 0:n.id)?t:eR.ME,r.id),(0,R.v)(x.Z.RTC_PANEL,R.d.CHANNEL_LINK)}),eV(this,"handleChannelLinkContextMenu",e=>{let{channel:t,analyticsLocations:i}=this.props;(0,_.jW)(e,async()=>{let{default:e}=await n.e("56944").then(n.bind(n,600830));return n=>(0,r.jsx)(A.Gt,{value:i,children:(0,r.jsx)(e,eF(eH({},n),{channel:t,onInteraction:(0,D.u)("RTCConnectionMenu",x.Z.RTC_PANEL)}))})})}),eV(this,"handleCloseVoicePanelIntroduction",()=>{W.Kw(eM.v.VOICE_PANEL_INTRODUCTION)}),eV(this,"renderVoicePanelIntroduction",()=>(0,r.jsxs)("div",{className:a()(eG.voicePanelIntroductionWrapper,"theme-light"),children:[(0,r.jsx)(m.X6q,{className:eG.voicePanelIntroductionHeader,variant:"heading-md/semibold",children:eU.intl.string(eU.t["ba/rLy"])}),(0,r.jsx)(m.Text,{className:eG.voicePanelIntroductionText,variant:"text-sm/normal",children:eU.intl.string(eU.t.Ne1Ee3)}),(0,r.jsx)(g.zx,{className:eG.voicePanelIntroductionButton,color:g.zx.Colors.BRAND,onClick:this.handleCloseVoicePanelIntroduction,focusProps:eW,children:eU.intl.string(eU.t.shaBeH)})]}))}}function e0(e){let{popoutProps:t,isShown:n,noiseCancellationActive:l,ref:a}=e,{parentAnalyticsLocation:o}=(0,A.ZP)(),{play:s,Component:c,events:u}=(0,h.P)(l?"disable":"enable");return i.useEffect(()=>()=>s(),[l,s]),(0,r.jsx)(eA.Z,eF(eH({},t),{ref:a,onClick:e=>{(0,R.v)(o,R.d.KRISP,!l),t.onClick(e)},onMouseEnter:()=>{var e;null==(e=t.onMouseEnter)||e.call(t),u.onMouseEnter()},onMouseLeave:()=>{u.onMouseLeave()},tooltipClassName:eG.noiseCancellationTooltip,tooltipText:n?null:eU.intl.string(eU.t.vFiCS0),icon:(0,r.jsx)(c,{size:"refresh_sm"})}))}let e1=(0,y.Z)(function(e){let t=(0,V.Z)(),n=(0,u.e7)([B.Z],()=>B.Z.getAwaitingRemoteSessionInfo()),l=(0,u.e7)([eS.default],()=>eS.default.getCurrentUser()),a=(0,u.cj)([eI.Z],()=>null!=t?{channelId:t.channelId,rtcConnectionQuality:eR.IE4.FINE,rtcConnectionState:eR.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:eI.Z.getChannelId(),rtcConnectionQuality:eI.Z.getQuality(),rtcConnectionState:eI.Z.getState(),rtcConnectionLastPing:eI.Z.getLastPing()}),{channelId:o}=a,s=ez(a,["channelId"]),c=(0,u.e7)([e_.Z],()=>e_.Z.getChannel(o),[o]),d=null==c?void 0:c.getGuildId(),p=(0,u.e7)([eO.Z],()=>eO.Z.getGuild(d),[d]),f=(0,u.cj)([ey.Z],()=>({noiseCancellationSupported:ey.Z.isNoiseCancellationSupported(),noiseCancellationActive:ey.Z.getNoiseCancellation(),noiseCancellationError:ey.Z.isNoiseCancellationError(),canGoLive:(0,F.Z)(ey.Z)})),h=(0,u.e7)([ey.Z,Y.Z],()=>Y.Z.hasHotspot(eM.v.VOICE_PANEL_INTRODUCTION)&&(0,ex.EO)(l)&&!ey.Z.isInteractionRequired()&&!(null==c?void 0:c.isGuildStageVoice())),b=(0,u.e7)([eN.Z],()=>null!=o&&eN.Z.hasVideo(o),[o]),_=(0,u.e7)([em.Z],()=>em.Z.getCurrentUserActiveStream()),O=(0,u.e7)([eE.Z],()=>eE.Z.hasLayers()),E=(0,u.e7)([K.Z],()=>K.Z.isViewingRoles(d)),y=(0,u.e7)([ev.Z],()=>E&&!ev.Z.can(eR.Plq.VIEW_CHANNEL,c),[E,c]),v=ea.Fg.useSetting(),[I,C,N]=(0,u.Wu)([eT.ZP,$.Z],()=>(null==c?void 0:c.isGuildStageVoice())?[$.Z.getMutableParticipants(c.id,ee.pV.SPEAKER),$.Z.getParticipantsVersion(c.id),null]:[null,null,null!=c?eT.ZP.getVoiceStatesForChannel(c):null],[c]),T=i.useMemo(()=>{var e,t;return null!=(t=null!=(e=null==I?void 0:I.map(e=>{let{user:t,userNick:n,voiceState:r}=e;return{user:t,nick:n,voiceState:r}}))?e:N)?t:[]},[I,C,N]),[j,Z]=i.useState(!1),w=(0,M.Z)("RTCConnection");i.useEffect(()=>{(E||y)&&Z(!1)},[E,y,Z]);let{analyticsLocations:L}=(0,A.ZP)(x.Z.RTC_PANEL),R=(0,S.Z)(null!=d?d:eR.lds,null==c?void 0:c.id),D=(0,P.Z)(null==c?void 0:c.id);return(0,r.jsx)(A.Gt,{value:L,children:(0,r.jsxs)("div",{className:eG.wrapper,children:[null!=t||null!=n?(0,r.jsx)(H.Z,{voiceState:t,awaitingRemoteSessionInfo:n}):null,(0,r.jsx)(e$,eF(eH({},e,f,s),{enableActivities:R,remoteVoiceState:t,guild:p,channel:c,hasVideo:b,selfStream:_,hasLayers:O,voiceStates:T,showVoiceStates:v,shouldShowVoicePanelIntroduction:h,isPrivateChannelWithEnabledActivities:D,analyticsLocations:L,matchAccountText:w})),!j&&E&&null!=d?(0,r.jsxs)("div",{className:eG.viewAsRolesWarning,children:[(0,r.jsx)(m.Text,{variant:"text-sm/normal",className:eG.viewAsRolesWarningText,children:y?eU.intl.string(eU.t.efjuQE):eU.intl.string(eU.t.br8H2N)}),(0,r.jsx)(g.zx,{className:eG.viewAsRolesWarningButton,size:g.zx.Sizes.MIN,onClick:()=>{Z(!0)},focusProps:eW,children:eU.intl.string(eU.t.WAI6xs)})]}):null]})})})},594117:function(e,t,n){n.d(t,{Z:()=>b});var r=n(951288);n(647438);var i=n(685072),l=n(287734),a=n(906732),o=n(522651),s=n(15274),c=n(389303),u=n(881824),d=n(719100),p=n(870569),f=n(388032);function h(e){var t,n;let{tooltipText:l,onClick:s}=e,{parentAnalyticsLocation:c}=(0,a.ZP)(),{events:u,Component:d}=(0,i.K)();return(0,r.jsx)(p.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({tooltipText:l,onClick:()=>{(0,o.v)(c,o.d.DISCONNECT),s()}},u),n=n={icon:(0,r.jsx)(d,{size:"refresh_sm"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}function g(e){let{channel:t}=e;return(0,r.jsx)(h,{tooltipText:f.intl.string(f.t.SMKyio),onClick:()=>{if((0,d.Z)(t))return void(0,u.Us)(t);l.default.disconnect()}})}function m(e){let{channel:t}=e;return(0,r.jsx)(h,{tooltipText:f.intl.string(f.t["6vrfgo"]),onClick:()=>{if((0,c.Z)(t))return void(0,s.lC)(t);l.default.disconnect()}})}function b(e){let{channel:t}=e;return t.isGuildStageVoice()?(0,r.jsx)(g,{channel:t}):(0,r.jsx)(m,{channel:t})}},226323:function(e,t,n){n.d(t,{Z:()=>x}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(239091),u=n(586902),d=n(393903),p=n(448986),f=n(100527),h=n(906732),g=n(522651),m=n(795318),b=n(512384),_=n(670188),O=n(314897),E=n(131951),y=n(51144),v=n(524484),I=n(388032),C=n(720711);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T={offset:2},P={serverDeaf:{icon:s.Vm4,colorize:!0,getStatus:()=>I.intl.string(I.t.btxSdH)},serverMute:{icon:s.v0G,colorize:!0,getStatus:()=>I.intl.string(I.t.uLddbW)},deaf:{icon:s.wE8,colorize:!1,getStatus:()=>I.intl.string(I.t.NjmiOD)},mute:{icon:s.nRN,colorize:!1,getStatus:()=>I.intl.string(I.t.tjtv3N)},localMute:{icon:s.v0G,colorize:!1,getStatus:()=>I.intl.string(I.t["9F+xJS"])}};function j(e){var t,l;let d=i.useRef(null),{parentAnalyticsLocation:p}=(0,h.ZP)(),{channel:O,user:j,nick:x,mute:A,deaf:Z,serverMute:w,serverDeaf:L}=e,R=(0,o.e7)([E.Z],()=>E.Z.isLocalMute(j.id)),D=(0,u.Z)({userId:j.id,checkSoundSharing:!0}),k=null!=(t=O.getGuildId())?t:void 0,M=j.getAvatarURL(O.guild_id,24),U=null!=x?x:y.ZP.getName(j),{icon:G,colorize:B,getStatus:V}=null!=(l=function(e){let{serverDeaf:t,deaf:n,serverMute:r,mute:i,localMute:l}=e;if(t)return P.serverDeaf;if(n)return P.deaf;if(r)return P.serverMute;if(l)return P.localMute;if(i)return P.mute}({serverDeaf:L,deaf:Z,serverMute:w,mute:A,localMute:R}))?l:{},H=null!=V?I.intl.formatToPlainString(I.t["1+MVBA"],{userName:U,status:V()}):U;function F(e){null!=k?(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("8982"),n.e("7717"),n.e("52021")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,N(S({},t),{user:j,guildId:k,channel:O,showMediaItems:!0,onInteraction:(0,m.u)("GuildChannelUserContextMenu",f.Z.RTC_PANEL,{targetUserId:j.id})}))}):(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return t=>(0,r.jsx)(e,N(S({},t),{user:j,showMediaItems:!0,onInteraction:(0,m.u)("UserGenericContextMenu",f.Z.RTC_PANEL,{targetUserId:j.id})}))})}return(0,r.jsx)(_.Z,{targetElementRef:d,user:j,guildId:k,channelId:O.id,position:"top",clickTrap:!0,children:e=>(0,r.jsx)(s.ua7,{text:H,children:t=>(0,r.jsx)(s.P3F,N(S({},t,e),{innerRef:d,onClick:t=>{e.onClick(t),(0,g.v)(p,g.d.VOICE_USER)},className:C.avatarContainer,onContextMenu:F,focusProps:T,children:(0,r.jsx)(b.Z,{shakeLocation:v.oZ.VOICE_USER,isShaking:D,children:(0,r.jsx)("div",{className:a()(C.avatar,{[C.speaking]:D}),style:{backgroundImage:"url(".concat(M,")")},children:null!=G?(0,r.jsx)(G,{className:a()(C.avatarIconOverlay,{[C.avatarIconRed]:B}),color:"currentColor",size:"xs"}):null})})}))})})}function x(e){let{voiceStates:t,channel:n,className:l}=e,[c,u]=i.useState(!1),f=(0,o.e7)([O.default],()=>O.default.getId()),{containerRef:h,maxVisibleAvatars:g}=function(e){let[t,n]=i.useState(7),r=(0,p.Z)(()=>{let t=null==l?void 0:l.current;if(null==t)return;let r=Math.floor((t.offsetWidth+4)/28);n(Math.max(1,e>r?r-1:r))}),l=(0,d.y)(r,[e],{fireOnMount:!0,fireOnDepsChange:!0});return{containerRef:l,maxVisibleAvatars:t}}(t.length-1),[m,b]=function(e,t,n){let r=[];for(let i of e)if(i.user.id!==t&&!r.some(e=>e.user.id===i.user.id)){if(r.length>=n)return[r,!0];r.push(i)}return[r,!1]}(t,f,g),_=c?s.V_R:s.qJs,E=(0,r.jsx)(s.M0o,{onClick:()=>u(!c),color:s.YX$.PRIMARY,size:s.tT7.SIZE_24,tooltip:c?I.intl.string(I.t["Z/Tya2"]):I.intl.string(I.t.XR5BAQ),icon:(0,r.jsx)(_,{size:"xs",color:"currentColor"}),focusProps:T}),y=b&&c?t:m;return y.length<=0?null:(0,r.jsx)(s.zJl,{className:a()(C.scroller,l),fade:!0,children:(0,r.jsxs)("div",{ref:h,className:a()(C.voiceUsers,!c&&C.collapsed),role:"group","aria-label":I.intl.string(I.t["/ZgaVV"]),children:[y.map(e=>{let{user:t,nick:i,voiceState:l}=e;return t.id!==f?(0,r.jsx)(j,{channel:n,user:t,nick:i,mute:l.isVoiceMuted(),deaf:l.isVoiceDeafened(),video:l.selfVideo,serverMute:l.mute,serverDeaf:l.deaf},t.id):null}),b?E:null]})})}},179742:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(843611),l=n(880257),a=n(106939),o=n(981631);function s(){return!1===(0,l.Z)()?(0,r.jsx)(i.l_,{to:o.Z5c.SETTINGS("family-center")}):(0,r.jsx)(a.Z,{})}},321488:function(e,t,n){n.d(t,{Z:()=>d});var r,i=n(951288);n(647438);var l=n(120356),a=n.n(l),o=n(481060),s=n(286389),c=((r=c||{})[r.ACCEPT=0]="ACCEPT",r[r.DENY=1]="DENY",r[r.DEFAULT=2]="DEFAULT",r);function u(e){let{icon:t,tooltip:n,onClick:r,actionType:l=2,shouldHighlight:c}=e;return(0,i.jsx)(o.ua7,{text:n,children:e=>{var u,d;return(0,i.jsx)(o.P3F,(u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),d=d={"aria-label":n,onClick:r,className:a()(s.actionButton,{[s.actionAccept]:0===l,[s.actionDeny]:1===l,[s.highlight]:c}),children:(0,i.jsx)(t,{className:s.icon,color:"currentColor"})},Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(d)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(d)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(d,e))}),u))}})}u.ActionTypes=c;let d=u},666286:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(481060),a=n(115849),o=n(645792),s=n(787642),c=n(388032),u=n(979493);function d(){return(0,r.jsxs)("header",{className:u.header,children:[(0,r.jsx)(l.vwX,{tag:"h1",className:u.title,children:c.intl.string(c.t.w5uwoK)}),(0,r.jsx)(a.Z,{})]})}let p=function(){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(d,{}),(0,o.b)()&&(0,r.jsx)(s.Z,{})]})}},787642:function(e,t,n){n.d(t,{Z:()=>O});var r=n(951288),i=n(647438),l=n(481060),a=n(313201),o=n(703656),s=n(769654),c=n(430824),u=n(626135),d=n(768581),p=n(125631),f=n(981631),h=n(388032),g=n(184904);let m=(0,a.hQ)(),b="".concat(m,"-decription");function _(e,t,n){return(0,r.jsxs)("button",{className:g.container,onClick:n,children:["function"==typeof e?(0,r.jsx)("div",{className:g.icon,children:(0,r.jsx)(e,{className:g.__invalid_iconInner,color:l.TVs.colors.WHITE.css})}):(0,r.jsx)("img",{className:g.icon,alt:"",src:e}),(0,r.jsx)(l.Text,{className:g.text,variant:"text-md/medium",children:t}),(0,r.jsx)(p.Z,{className:g.arrow})]},t)}function O(){let e=c.Z.getGuildsArray().filter(e=>e.features.has(f.oNc.HUB));return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)("header",{className:g.header,children:[(0,r.jsx)(l.vwX,{tag:"h1",className:g.title,children:h.intl.string(h.t.IuMx1d)}),(0,r.jsx)(l.R94,{id:b,type:l.R94.Types.DESCRIPTION,children:(0,r.jsx)(l.Text,{tag:"div",variant:"heading-md/normal",children:h.intl.string(h.t.DwevPj)})})]}),(0,r.jsxs)("div",{className:g.grid,children:[e.map(e=>_(d.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,()=>{var t;t=e.id,u.default.track(f.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:t}),(0,s.X)(t)})),_(l.Jmo,h.intl.string(h.t.AhKnz8),()=>{u.default.track(f.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED),(0,o.uL)(f.Z5c.GUILD_DISCOVERY)})]})]})}},125631:function(e,t,n){n.d(t,{Z:()=>i});var r=n(951288);function i(e){var t,n,{color:i="currentColor"}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},l),n=n={fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:i,fillRule:"evenodd"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}n(647438)},352455:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(924628),s=n(230711),c=n(548816),u=n(981631),d=n(921944),p=n(388032),f=n(466653);function h(e){let{className:t,markAsDismissed:n}=e;return(0,r.jsxs)(c.Z,{className:l()(f.card,t),children:[(0,r.jsx)(a.X6q,{variant:"heading-md/semibold",className:f.header,children:p.intl.string(p.t.HcbnMD)}),(0,r.jsx)(a.Text,{variant:"text-sm/normal",children:p.intl.format(p.t.NkFrzM,{onPrivacyClick:()=>{s.Z.open(u.oAB.DATA_AND_PRIVACY)}})}),(0,r.jsxs)("div",{className:f.buttonContainer,children:[(0,r.jsx)(a.zxk,{variant:"primary",size:"sm",fullWidth:!0,text:p.intl.string(p.t.ebojgI),onClick:()=>(0,o.g)([u.pjP.PERSONALIZATION],[])}),(0,r.jsx)(a.zxk,{variant:"secondary",size:"sm",fullWidth:!0,text:p.intl.string(p.t.f3Pet7),onClick:()=>n(d.L.DISMISS)})]})]})}},701861:function(e,t,n){n.d(t,{Z:()=>x}),n(388685);var r=n(951288),i=n(647438),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(668781),u=n(493683),d=n(239091),p=n(443589),f=n(703656),h=n(592125),g=n(131951),m=n(699516),b=n(51144),_=n(298213),O=n(321488),E=n(417183),y=n(825682),v=n(170245),I=n(981631),C=n(65154),S=n(388032),N=n(934422);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){let{user:t,applicationId:n,isGameRelationship:l,onSelect:a}=e,p=i.useCallback(()=>{u.Z.openPrivateChannel({recipientIds:t.id,joinCall:!0})},[t.id]),f=i.useCallback(()=>{u.Z.openPrivateChannel({recipientIds:t.id,joinCall:!0,joinCallVideo:!0})},[t.id]),h=i.useCallback(()=>{_.Z.removeFriend({userId:t.id,applicationId:l?n:null,location:"Friends"})},[n,l,t.id]),m=i.useCallback(()=>{let e=l?S.intl.string(S.t["RLcE6+"]):S.intl.string(S.t.cvSt1N);c.Z.show({title:S.intl.formatToPlainString(S.t.fPLvZW,{name:b.ZP.getName(t)}),body:S.intl.formatToPlainString(S.t.l5FFq6,{name:b.ZP.getName(t)}),confirmText:e,confirmVariant:"critical-primary",cancelText:S.intl.string(S.t["ETE/oK"]),onConfirm:h})},[h,l,t]),O=(0,o.e7)([g.Z],()=>g.Z.supports(C.AN.VIDEO)),E=t.isProvisional,y=l?S.intl.string(S.t["RLcE6+"]):S.intl.string(S.t.cvSt1N);return(0,r.jsxs)(s.v2r,{navId:"friend-row","aria-label":S.intl.string(S.t.liqwPD),onClose:d.Zy,onSelect:a,children:[!E&&O?(0,r.jsx)(s.sNh,{id:"start-video-call",label:S.intl.string(S.t.oCqlGB),action:f}):null,!E&&(0,r.jsx)(s.sNh,{id:"start-voice-call",label:S.intl.string(S.t.focH1t),action:p}),(0,r.jsx)(s.sNh,{id:"remove-friend",label:y,action:m,color:"danger"})]})}class j extends i.PureComponent{componentWillLeave(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)}componentWillEnter(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}render(){let{user:e,isFocused:t,activities:n,applicationStream:i,status:l,isMobile:a,isGameRelationship:o,giftIntentType:c}=this.props,{isActiveRow:u}=this.state;return(0,r.jsx)(E.Z,{ref:this.peopleListItemRef,isFocused:t,isActive:u,user:e,onOtherHover:()=>u?null:(0,d.Zy)(),onClick:this.handleOpenPrivateChannel,children:t=>(0,r.jsxs)("div",{className:N.listItemContents,children:[(0,r.jsx)(v.Z,{user:e,status:l,isMobile:a,subText:(0,r.jsx)(y.Z,{hovered:t,activities:n,applicationStream:i,status:l,user:e,userIgnored:m.Z.isIgnored(e.id)}),hovered:t,showAccountIdentifier:!o&&!e.isProvisional}),(0,r.jsxs)("div",{className:N.actions,children:[null!=c&&(0,r.jsx)(p.Z,{recipientUser:e,giftIntentType:c,analyticsPage:I.ZY5.FRIENDS_LIST,shouldHighlight:t}),(0,r.jsx)(O.Z,{icon:s.kBi,tooltip:S.intl.string(S.t["g33r/P"]),onClick:this.handleOpenPrivateChannel,shouldHighlight:t}),(0,r.jsx)(O.Z,{icon:s.Huf,tooltip:S.intl.string(S.t.UKOtz8),onClick:this.handleOpenActionsMenu,shouldHighlight:t})]})]})})}constructor(...e){super(...e),T(this,"peopleListItemRef",i.createRef()),T(this,"state",{isActiveRow:!1}),T(this,"handleOpenPrivateChannel",e=>{let{user:t}=this.props;e.stopPropagation();let n=a().find(h.Z.getMutablePrivateChannels(),e=>e.type===I.d4z.DM&&e.getRecipientId()===t.id);null!=n?(0,f.uL)(I.Z5c.CHANNEL(I.ME,n.id)):u.Z.openPrivateChannel({recipientIds:t.id})}),T(this,"handleOpenActionsMenu",e=>{let{user:t,isGameRelationship:n,applicationId:i}=this.props;(0,d.vq)(e,e=>(0,r.jsx)(P,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){T(e,t,n[t])})}return e}({},e),{user:t,applicationId:i,isGameRelationship:n})),{onClose:()=>{this.setState({isActiveRow:!1})}}),this.setState({isActiveRow:!0})})}}let x=j},437314:function(e,t,n){n.d(t,{Z:()=>O,j:()=>g}),n(415506),n(388685);var r,i=n(951288),l=n(647438),a=n(748780),o=n(442837),s=n(755721),c=n(481060),u=n(210887),d=n(981631),p=n(388032),f=n(755429);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=((r={}).SECTION_NO_RESULTS="SECTION_NO_RESULTS",r);let m=Object.freeze({SECTION_ALL:{lightSrc:n(900933),darkSrc:n(67764),width:376,height:162,renderContent:e=>(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(c.OZU,{note:p.intl.string(p.t.Y4vMY2)}),(0,i.jsx)("div",{"data-button-hoisted-classname-wrapper":!0,className:f.button,children:(0,i.jsx)(c.zxk,{variant:"primary",text:p.intl.string(p.t.w5uwoK),onClick:e})})]})},SECTION_ONLINE:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,i.jsx)(c.OZU,{note:p.intl.string(p.t.v7HbiY)})},SECTION_BLOCKED:{lightSrc:n(459505),darkSrc:n(356634),width:433,height:232,renderContent:()=>(0,i.jsx)(c.OZU,{note:p.intl.string(p.t["9xdyWF"])})},SECTION_PENDING:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:(e,t)=>(0,i.jsxs)("div",{className:f.emptyStateContainer,children:[(0,i.jsx)(c.OZU,{note:p.intl.string(p.t["aCYQ+P"])}),null!=e&&(0,i.jsx)(s.zx,{color:s.zx.Colors.PRIMARY,look:s.zx.Looks.OUTLINED,size:s.zx.Sizes.TINY,onClick:e,className:f.spamButton,children:(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"text-muted",children:t?p.intl.string(p.t.R40bU1):p.intl.string(p.t.rXl8fn)})})]})},SECTION_SUGGESTIONS:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,i.jsx)(c.OZU,{note:p.intl.string(p.t["vgI/EB"])})},SECTION_NO_RESULTS:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,i.jsx)(c.OZU,{note:p.intl.string(p.t["7sW4h4"])})}}),b=e=>{let{theme:t}=e,n=p.intl.string(p.t["oi+B4u"]);return(0,i.jsx)(c.ubH,{theme:t,children:(0,i.jsx)(c.OZU,{note:n})})};class _ extends l.PureComponent{render(){let{type:e,onClick:t,theme:n}=this.props,r={opacity:this.state.opacity},l=function(e){switch(e){case d.pJs.ADD_FRIEND:case d.pJs.ALL:return m.SECTION_ALL;case d.pJs.ONLINE:return m.SECTION_ONLINE;case d.pJs.PENDING:return m.SECTION_PENDING;case d.pJs.SUGGESTIONS:return m.SECTION_SUGGESTIONS;case"SECTION_NO_RESULTS":return m.SECTION_NO_RESULTS;default:throw Error("FriendsEmptyState: Invalid empty state")}}(e);return e===d.pJs.ADD_FRIEND?(0,i.jsx)(a.Z.div,{className:f.friendsEmpty,style:r,children:(0,i.jsx)(b,{theme:n})}):(0,i.jsx)(a.Z.div,{className:f.friendsEmpty,style:r,children:(0,i.jsx)(c.ubH,{theme:n,children:l.renderContent(t)})})}constructor(...e){super(...e),h(this,"state",{opacity:new a.Z.Value(1)}),h(this,"componentWillEnter",e=>{this.state.opacity.setValue(0),a.Z.timing(this.state.opacity,{toValue:1,duration:250}).start(e)}),h(this,"componentWillLeave",e=>{a.Z.timing(this.state.opacity,{toValue:0,duration:250}).start(e)})}}let O=o.ZP.connectStores([u.Z],()=>({theme:u.Z.theme}),{forwardRef:!0})(_)},696577:function(e,t,n){n.d(t,{Z:()=>N});var r=n(951288),i=n(647438),l=n(442837),a=n(692547),o=n(481060),s=n(906732),c=n(812206),u=n(925329),d=n(79712),p=n(892001),f=n(594174),h=n(51144),g=n(743056),m=n(321488),b=n(417183),_=n(170245),O=n(981631),E=n(388032),y=n(507694);function v(e){var t;let{user:n,applicationId:l,isGameRelationship:s,active:c}=e,u=(null==(t=f.default.getCurrentUser())?void 0:t.isStaff())&&(null==n?void 0:n.isStaff()),{acceptFriendRequest:d,cancelFriendRequest:p}=(0,g.u)({userId:n.id,applicationId:l,isGameRelationship:s,location:"Friends"}),h=i.useCallback(e=>{e.stopPropagation(),d()},[d]),b=i.useCallback(e=>{e.stopPropagation(),p()},[p]);return(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)("div",{className:y.staffIndicator,children:(0,r.jsx)(o.IGR,{color:a.Z.unsafe_rawColors.BRAND_500.css,text:E.intl.string(E.t.oMx98P)})}),(0,r.jsx)(m.Z,{icon:o.dz2,actionType:m.Z.ActionTypes.ACCEPT,tooltip:E.intl.string(E.t.ZcibdX),onClick:h,shouldHighlight:c}),(0,r.jsx)(m.Z,{icon:o.Dio,actionType:m.Z.ActionTypes.DENY,tooltip:E.intl.string(E.t.xuio0N),onClick:b,shouldHighlight:c})]})}function I(e){let{userId:t,applicationId:n,isGameRelationship:l,active:a}=e,{cancelFriendRequest:s}=(0,g.u)({userId:t,applicationId:n,isGameRelationship:l,location:"Friends"}),c=i.useCallback(e=>{e.stopPropagation(),s()},[s]);return(0,r.jsx)(m.Z,{icon:o.Dio,actionType:m.Z.ActionTypes.DENY,tooltip:E.intl.string(E.t.eaq81d),onClick:c,shouldHighlight:a})}function C(e){let{isGameRelationship:t,applicationId:n,userTag:a,isProvisional:s}=e,p=i.useMemo(()=>t?E.intl.string(E.t["Uv/eT0"]):a,[t,a]),f=(0,l.e7)([c.Z],()=>null!=n?c.Z.getApplication(n):null);return(0,r.jsxs)("div",{className:y.applicationSublabel,children:[!s&&(0,r.jsx)(o.Text,{variant:"text-sm/medium",color:"text-secondary",children:p}),null!=f&&(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsx)(d.Z,{height:2,width:2}),(0,r.jsx)(u.Z,{game:f,size:u.Z.Sizes.XXSMALL}),(0,r.jsx)(o.Text,{variant:"text-sm/medium",color:"text-secondary",children:f.name})]})]})}function S(e){let{user:t,hovered:n,status:i,isGameRelationship:l,applicationId:a}=e,o=h.ZP.useUserTag(t);return(0,r.jsx)(_.Z,{user:t,hovered:n,status:i,showAccountIdentifier:!l&&!t.isProvisional,subText:(0,r.jsx)(C,{isGameRelationship:l,isProvisional:t.isProvisional,applicationId:a,userTag:o})})}function N(e){let{user:t,type:n,status:l,isFocused:a,applicationId:o,isGameRelationship:c}=e,{analyticsLocations:u}=(0,s.ZP)(),d=l===O.Skl.OFFLINE?O.Skl.UNKNOWN:l,f=i.useCallback(()=>(0,p.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:u}),[u,t.id]);return(0,r.jsx)(b.Z,{isFocused:a,user:t,onClick:f,children:e=>(0,r.jsxs)("div",{className:y.listItemContents,children:[(0,r.jsx)(S,{user:t,hovered:e,status:d,isGameRelationship:c,applicationId:o}),(0,r.jsx)("div",{className:y.actions,children:n===O.OGo.PENDING_INCOMING?(0,r.jsx)(v,{user:t,applicationId:o,isGameRelationship:c,active:e}):(0,r.jsx)(I,{userId:t.id,applicationId:o,isGameRelationship:c,active:e})})]})})}},596957:function(e,t,n){n.d(t,{Z:()=>k}),n(415506),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(529103),d=n(194359),p=n(410575),f=n(100527),h=n(906732),g=n(835473),m=n(795448),b=n(699516),_=n(974042),O=n(451478),E=n(701861),y=n(437314),v=n(696577),I=n(163417),C=n(830880),S=n(492347),N=n(42575),T=n(617015),P=n(981631),j=n(388032),x=n(983703);function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function Z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let w=[];function L(){u.Z.transitionToSection(P.pJs.ADD_FRIEND,{explicit:!0})}function R(){(0,c.ZDy)(async()=>{let{default:e}=await n.e("36312").then(n.bind(n,153932));return t=>(0,r.jsx)(e,A({},t))})}function D(e){let{section:t,showSpamCta:n}=e,l=i.useMemo(()=>n?R:t!==P.pJs.PENDING?L:void 0,[n,t]);return(0,r.jsx)("div",{className:x.emptyStateContainer,children:(0,r.jsx)(y.Z,{type:t,onClick:l},t)})}let k=function(e){let{titleId:t}=e,{analyticsLocations:n}=(0,h.ZP)(f.Z.FRIENDS_LIST),{rows:l,section:u}=(0,o.cj)([_.ZP],()=>_.ZP.getState()),L=(0,o.e7)([O.Z],()=>O.Z.isFocused()),{relationshipCount:k,hasBlockedOrIgnored:M}=(0,o.cj)([b.Z],()=>({relationshipCount:b.Z.getRelationshipCount(),hasBlockedOrIgnored:b.Z.getBlockedOrIgnoredIDs().length>0})),[U,G]=i.useState(()=>{let e={};for(let t of Object.values(P.pJs))e[t]="";return e}),B=i.useCallback(e=>{let{key:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["key"]);switch(u){case P.pJs.PENDING:return(0,r.jsx)(v.Z,Z(A({},n),{isFocused:L}),t);case P.pJs.SUGGESTIONS:return(0,r.jsx)(N.Z,Z(A({},n),{isFocused:L}),t);case P.pJs.ONLINE:case P.pJs.ALL:default:return(0,r.jsx)(E.Z,Z(A({},n),{isFocused:L}),t)}},[L,u]),V=i.useCallback(e=>{G(Z(A({},U),{[u]:e}))},[U,u]),H=i.useCallback(()=>{G(Z(A({},U),{[u]:""}))},[U,u]),F=i.useMemo(()=>u===P.pJs.PENDING&&(l.filter(P.pJs.SPAM).length>0||l.filter(P.pJs.PENDING_IGNORED).length>0),[l,u]),z=i.useMemo(()=>l.filter(u,U[u]),[l,U,u]),W=u===P.pJs.PENDING,Y=i.useMemo(()=>{if(!W)return w;let e=[];return z.forEach(t=>{let{applicationId:n}=t;null!=n&&e.push(n)}),e},[W,z]);(0,g.Z)(Y,W);let K=i.useMemo(()=>{if(u!==P.pJs.PENDING)return[z];{let e=[],t=[];return z.forEach(n=>{n.type===P.OGo.PENDING_INCOMING?e.push(n):n.type===P.OGo.PENDING_OUTGOING&&t.push(n)}),[e,t]}},[z,u]),q=i.useMemo(()=>z.filter(e=>e.type===P.OGo.PENDING_INCOMING).length,[z]),Q=u===P.pJs.PENDING&&q>0&&q>=T.yf,X=i.useCallback(e=>{e.stopPropagation(),d.Z.confirmClearPendingRelationships(q)},[q]),J=i.useCallback(e=>{let n=function(e,t,n){switch(e){case P.pJs.ONLINE:return j.intl.formatToPlainString(j.t.BagU2d,{online:t.toString()});case P.pJs.PENDING:if(0===n)return j.intl.formatToPlainString(j.t["g+3FIS"],{count:t.toString()});if(1===n)return j.intl.formatToPlainString(j.t.npJsRk,{count:t.toString()});throw Error("Unexpected pending friend requests section index: ".concat(n));case P.pJs.SUGGESTIONS:return j.intl.formatToPlainString(j.t["DYMZ/v"],{count:t.toString()});default:return j.intl.formatToPlainString(j.t.rHRrhI,{count:t.toString()})}}(u,K[e].length,e);return u===P.pJs.PENDING&&0===e?(0,r.jsxs)("div",{className:x.sectionTitle,children:[(0,r.jsx)(S.Z,{id:t,title:n}),Q&&(0,r.jsx)(s.zx,{look:s.iL.LINK,color:s.Tt.LINK,className:x.clearButton,size:s.zx.Sizes.TINY,onClick:X,"aria-label":j.intl.string(j.t.O8k7Oz),children:j.intl.string(j.t.O8k7Oz)})]},n):(0,r.jsx)("div",{className:x.sectionTitle,children:(0,r.jsx)(S.Z,{id:t,title:n})},n)},[K,u,t,Q,X]);if(i.useEffect(()=>{u===P.pJs.ALL&&(0,m.d$)()},[u]),0===z.length&&""===U[u])return(0,r.jsx)(D,{section:u,showSpamCta:F});let $=""!==U[u],ee=0===z.length&&$;return(0,r.jsx)(h.Gt,{value:n,children:(0,r.jsxs)(p.Z,{section:P.jXE.FRIENDS_LIST,children:[M&&(0,r.jsx)(C.R,{}),(0,r.jsx)(c.E1j,{className:a()(x.searchBar,ee?x.searchEmptyState:null),query:U[u],onChange:V,onClear:H}),(0,r.jsx)(I.Z,{rows:K,renderRow:B,renderSection:J,sectionFilter:u,isVirtualizedList:k>=T.nG,hasSearchQuery:$,footer:F&&!ee?(0,r.jsx)(s.zx,{look:s.zx.Looks.LINK,color:x.viewSpamButtonColor,className:x.viewSpamButton,onClick:R,size:s.Ph.TINY,children:(0,r.jsx)(c.Text,{variant:"text-xs/medium",children:j.intl.string(j.t.R40bU1)})}):null}),ee&&(0,r.jsx)("div",{className:x.emptyStateContainer,children:(0,r.jsx)(y.Z,{type:y.j.SECTION_NO_RESULTS},u)})]})})}},417183:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),u=n(239091),d=n(617015),p=n(67165);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class m extends i.PureComponent{componentWillLeave(e){o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:0,duration:200}),o.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)}componentWillEnter(e){this.state.opacity.setValue(0),this.state.height.setValue(0),o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:1,duration:200}),o.Z.timing(this.state.height,{toValue:d.NV,duration:200})]).start(e)}render(){let{height:e,opacity:t,hovered:n,isContextMenuActive:i}=this.state,{children:l,user:u,onClick:d,isActive:f,className:m,activeClassName:b}=this.props;return(0,r.jsx)(s.mh,{id:u.id,children:s=>(0,r.jsx)(c.tEY,{offset:{left:-8,right:-8},children:(0,r.jsx)(o.Z.div,g(h({className:a()(m,p.peopleListItem,null!=b?{[b]:f||i}:null,{[p.active]:f||i}),onContextMenu:e=>this.handleContextMenu(e,u),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:null!=d?d:void 0,style:{height:e,opacity:t}},s),{children:l(n||f||i)}))})})}constructor(...e){super(...e),f(this,"state",{height:new o.Z.Value(d.NV),opacity:new o.Z.Value(1),hovered:!1,isContextMenuActive:!1}),f(this,"handleMouseEnter",()=>{let{isFocused:e,isActive:t,onOtherHover:n}=this.props,{isContextMenuActive:r}=this.state;this.setState({hovered:e}),!e||t||r||null==n||n()}),f(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),f(this,"handleContextMenu",(e,t)=>{this.setState({isContextMenuActive:!0}),(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,g(h({},n),{user:t}))},{onClose:()=>{this.setState({isContextMenuActive:!1})}})})}}let b=m},163417:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288);n(647438);var i=n(145641),l=n(322701);function a(e){let{rows:t,renderRow:n,renderSection:a,isVirtualizedList:o,hasSearchQuery:s,sectionFilter:c,footer:u}=e;return o?(0,r.jsx)(i.Z,{rows:t,renderRow:n,renderSection:a,footer:u}):(0,r.jsx)(l.Z,{rows:t,renderRow:n,renderSection:a,sectionFilter:c,hasSearchQuery:s,footer:u})}},145641:function(e,t,n){n.d(t,{Z:()=>p});var r=n(951288),i=n(647438),l=n(924826),a=n(91192),o=n(442837),s=n(481060),c=n(607070),u=n(617015),d=n(983703);let p=function(e){let{rows:t,renderRow:n,renderSection:p,footer:f}=e,h=e=>{let{section:r,row:i}=e,l=t[r];if(null==l||null==i)return null;let a=l[i];return null==a?null:n(a)},g=i.useCallback(e=>{let{section:t}=e;return p(t)},[p]),m=(0,o.e7)([c.Z],()=>c.Z.keyboardModeEnabled),b=i.useRef(null),_=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),O=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToBottom({callback:()=>requestAnimationFrame(()=>e())})}),[]),E=i.useCallback(e=>{let t=document.querySelector(e),n=b.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:()=>null==t?void 0:t.focus()})},[]),y=(0,l.ZP)({id:"people-list",isEnabled:m,scrollToStart:_,scrollToEnd:O,setFocus:E}),v=i.useMemo(()=>t.map(e=>e.length),[t]);return(0,r.jsx)(a.bG,{navigator:y,children:(0,r.jsx)(a.SJ,{children:e=>{var{ref:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s._2F,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{var n;b.current=e,t.current=null!=(n=null==e?void 0:e.getScrollerNode())?n:null},renderRow:h,rowHeight:u.NV,renderSection:g,sectionHeight:u.aS,sections:v,className:d.peopleList},n)),f]})}})})}},322701:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(924826),a=n(91192),o=n(442837),s=n(215569),c=n(481060),u=n(607070),d=n(981631),p=n(983703);let f=function(e){let{rows:t,renderRow:n,renderSection:f,hasSearchQuery:h,sectionFilter:g,footer:m}=e,b=(0,o.e7)([u.Z],()=>u.Z.keyboardModeEnabled),_=(0,o.e7)([u.Z],()=>u.Z.useReducedMotion),O=(0,l.ZP)({id:"people",isEnabled:b,async scrollToStart(){},async scrollToEnd(){}}),E=g!==d.pJs.ONLINE&&g!==d.pJs.ALL,y=_||h||E,v=i.useMemo(()=>t.map((e,t)=>0===e.length?null:y?(0,r.jsxs)("div",{children:[f(t),e.map(n)]},t):(0,r.jsxs)(s.W,{transitionAppear:!1,component:"div",children:[f(t),e.map(n)]},t)),[n,f,t,y]);return(0,r.jsx)(a.bG,{navigator:O,children:(0,r.jsx)(a.SJ,{children:e=>{var t,n,{ref:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(c.w0Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:i,className:p.peopleList},l),n=n={children:[v,m]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})})}},270759:function(e,t,n){n.d(t,{Z:()=>x}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282),n(704826);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(843611),s=n(442837),c=n(481060),u=n(570140),d=n(150063),p=n(529103),f=n(252618),h=n(313201),g=n(5254),m=n(984370),b=n(518311),_=n(199104),O=n(108427),E=n(210887),y=n(974042),v=n(849862),I=n(666286),C=n(596957),S=n(981631),N=n(723359),T=n(388032),P=n(236202);function j(){return(0,r.jsx)("div",{className:P.inviteToolbar,children:(0,r.jsx)(b.Z,{tooltip:T.intl.string(T.t.HfOgAw),location:"PeoplePageHeaderToolbar-CreateDMButton"})})}let x=function(e){let{initialSection:t}=e,n=(0,o.TH)(),l=(0,o.k6)();i.useEffect(()=>{"true"===new URLSearchParams(n.search).get("confirm-age")&&u.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:N.L0.DEEP_LINK_PROMPT}).then(()=>{l.replace(S.Z5c.ME)})},[l,n]),i.useEffect(()=>{d.Y(S.Z5c.FRIENDS),(0,O.e)("friends")},[]);let b=(0,s.e7)([E.Z],()=>E.Z.theme),x=(0,v.If)(),{section:A,rows:Z}=(0,s.cj)([y.ZP],()=>y.ZP.getState()),w=(0,s.e7)([g.Z],()=>g.Z.getSuggestionCount()),L=i.useMemo(()=>Z.getRelationshipCounts(),[Z]);i.useEffect(()=>{null!=t&&p.Z.setInitialSection(t),0===L[S.OGo.FRIEND]&&0===L[S.OGo.PENDING_INCOMING]&&0===L[S.OGo.PENDING_OUTGOING]&&0===L[S.OGo.BLOCKED]&&p.Z.transitionToSection(S.pJs.ADD_FRIEND)},[t,L]);let R=e=>{p.Z.transitionToSection(e,{explicit:!0})},D=(0,h.Dt)(),k=(0,h.Dt)(),M=[{id:S.pJs.ONLINE,show:Z.filter(S.pJs.ONLINE).length>0,content:T.intl.string(T.t.b9w3bG),className:P.item},{id:S.pJs.ALL,show:L[S.OGo.FRIEND]>0,content:T.intl.string(T.t.PfjFjY),className:P.item},{id:S.pJs.PENDING,show:Z.filter(S.pJs.PENDING).length>0,content:(0,r.jsxs)(r.Fragment,{children:[T.intl.string(T.t.p6IHGB),x>0&&(0,r.jsx)(c.mAB,{count:x,className:P.badge})]}),ariaLabel:T.intl.formatToPlainString(T.t.OAC0Z2,{count:x.toString()}),className:P.item},{id:S.pJs.SUGGESTIONS,show:w>0,content:(0,r.jsxs)(r.Fragment,{children:[T.intl.string(T.t["8rSi19"]),(0,r.jsx)(c.mAB,{count:w,className:P.badge})]}),ariaLabel:T.intl.formatToPlainString(T.t.AbMQp6,{count:w.toString()}),className:P.item},{id:S.pJs.ADD_FRIEND,show:!0,content:(0,r.jsx)("span",{children:T.intl.string(T.t.j0wbEx)}),ariaLabel:T.intl.string(T.t.j0wbEx),className:a()(P.item,P.addFriend)}];return(0,r.jsxs)("main",{className:P.container,"aria-label":T.intl.string(T.t.TdEu5e),children:[(0,r.jsx)(f.yY,{location:T.intl.string(T.t.TdEu5e)}),(0,r.jsx)(c.f6W,{theme:b,children:e=>(0,r.jsxs)(m.Z,{className:e,toolbar:(0,r.jsx)(j,{}),role:"navigation","aria-labelledby":D,scrollable:!0,children:[(0,r.jsx)(m.Z.Icon,{icon:c.iFz,"aria-hidden":!0}),(0,r.jsx)(m.Z.Title,{id:D,children:T.intl.string(T.t.TdEu5e)}),(0,r.jsx)(m.Z.Divider,{}),(0,r.jsx)(c.njP,{"aria-label":T.intl.string(T.t.TdEu5e),selectedItem:A,type:"top-pill",onItemSelect:R,className:P.tabBar,children:M.filter(e=>e.show).map(e=>(0,r.jsx)(c.njP.Item,{id:e.id,className:e.className,"aria-label":e.ariaLabel,children:e.content},e.id))})]})}),(0,r.jsxs)("div",{className:P.tabBody,children:[(0,r.jsx)(c.njP.Panel,{id:A,className:P.peopleColumn,"aria-labelledby":k,children:A===S.pJs.ADD_FRIEND?(0,r.jsx)(I.Z,{}):(0,r.jsx)(C.Z,{titleId:k})}),(0,r.jsx)("div",{className:P.nowPlayingColumn,children:(0,r.jsx)(_.Z,{})})]})]})}},830880:function(e,t,n){n.d(t,{R:()=>m}),n(388685);var r=n(951288),i=n(647438),l=n(704215),a=n(230711),o=n(243778),s=n(907995),c=n(981631),u=n(921944),d=n(484710),p=n(526761),f=n(726985),h=n(388032),g=n(252319);function m(){let[e,t]=(0,o.US)([l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE]);return i.useMemo(()=>e===l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE,[e])?(0,r.jsx)(s.f,{label:h.t.zqv4nZ,labelHook:()=>{a.Z.open(c.oAB.CONTENT_AND_SOCIAL,f.s6.RESTRICTED_USERS,{scrollPosition:p.FY.RESTRICTED_ACCOUNTS})},dismissNotice:()=>t(u.L.USER_DISMISS),className:g.blockedIgnoredSettingsNotice,noticeType:d.nq.RESTRICTED_ACCOUNTS_SETTING_NOTICE}):null}},492347:function(e,t,n){n.d(t,{Z:()=>a});var r=n(951288);n(647438);var i=n(82295),l=n(349598);function a(e){let{title:t,id:n}=e;return(0,r.jsx)(i.Z,{className:l.title,id:n,children:t})}},825682:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(468363),l=n(326255),a=n(956221),o=n(771173),s=n(51144),c=n(388032),u=n(599685);let d=function(e){let{hovered:t,activities:n,applicationStream:d,status:p,user:f,userIgnored:h}=e,{voiceActivityStatusEnabled:g}=(0,i.U)({location:"StatusText"}),{voiceChannel:m}=(0,a.Z)({userId:null==f?void 0:f.id}),b=g?m:void 0;return h?(0,r.jsx)("div",{className:u.text,children:c.intl.string(c.t.tFY5ZW)}):(0,l.Z)({activities:n,status:p,applicationStream:d,voiceChannel:b})?(0,r.jsx)(o.Z,{location:"StatusText",textClassName:u.statusText,activities:n,applicationStream:d,voiceChannel:b,animateEmoji:t,user:f,textSize:"sm"}):(0,r.jsx)("div",{className:u.text,children:(0,s.u5)(p)})}},42575:function(e,t,n){n.d(t,{Z:()=>g});var r=n(951288);n(647438);var i=n(481060),l=n(194359),a=n(906732),o=n(388380),s=n(892001),c=n(321488),u=n(417183),d=n(170245),p=n(981631),f=n(388032),h=n(475823);function g(e){let{user:t,nickname:n,status:g,isFocused:m}=e,{analyticsLocations:b}=(0,a.ZP)(),_=e=>{null==e||e.stopPropagation(),l.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,fromFriendSuggestion:!0})},O=e=>{null==e||e.stopPropagation(),o.Z.ignore(t.id)},E=g===p.Skl.OFFLINE?p.Skl.UNKNOWN:g;return(0,r.jsx)(u.Z,{isFocused:m,user:t,onClick:()=>(0,s.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:b}),children:e=>{let l=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{icon:i.dz2,actionType:c.Z.ActionTypes.ACCEPT,tooltip:f.intl.string(f.t.ZcibdX),onClick:_,shouldHighlight:e}),(0,r.jsx)(c.Z,{icon:i.Dio,actionType:c.Z.ActionTypes.DENY,tooltip:f.intl.string(f.t.xuio0N),onClick:O,shouldHighlight:e})]});return(0,r.jsxs)("div",{className:h.listItemContents,children:[(0,r.jsx)(d.Z,{user:t,hovered:e,status:E,subText:n,className:h.__invalid_userInfo}),(0,r.jsx)("div",{className:h.actions,children:l})]})}})}},170245:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(442837),o=n(129861),s=n(700582),c=n(699516);n(51144);var u=n(913139);let d=function(e){let{user:t,hovered:n,subText:i,showAccountIdentifier:d,status:p,isMobile:f,className:h}=e,g=(0,a.e7)([c.Z],()=>c.Z.getNickname(t.id));return(0,r.jsxs)("div",{className:l()(u.userInfo,h,{[u.hovered]:n}),children:[(0,r.jsx)(s.Z,{user:t,className:u.avatar,animate:n,status:p,isMobile:f}),(0,r.jsxs)("div",{className:u.text,children:[(0,r.jsx)(o.Z,{user:t,nick:g,botClass:u.botTag,className:l()(u.discordTag,{[u.alignPomelo]:t.hasUniqueUsername()}),usernameClass:u.username,discriminatorClass:u.discriminator,showAccountIdentifier:d}),(0,r.jsx)("div",{className:u.subtext,children:i})]})]})}},541692:function(e,t,n){let r;n.d(t,{Z:()=>p});var i,l=n(442837),a=n(570140),o=n(133080);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(0,o.K4)();function u(e){var t;let{countryCode:n}=e;null!=n&&(c=null!=(t=(0,o.Zz)(n))?t:(0,o.K4)())}class d extends(i=l.ZP.DeviceSettingsStore){initialize(e){null!=e&&(r=e.selectedCountryCode)}getUserAgnosticState(){return{selectedCountryCode:r}}getCountryCode(){return null!=r?r:c}}s(d,"displayName","PhoneStore"),s(d,"persistKey","PhoneStore");let p=new d(a.Z,{PHONE_SET_COUNTRY_CODE:function(e){let{countryCode:t}=e;r=t},CONNECTION_OPEN:u,SET_LOCATION_METADATA:u})},960275:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(570140),i=n(317770),l=n(314897),a=n(57562),o=n(882029),s=n(955204),c=n(351780),u=n(843693);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p=new Set;class f extends i.Z{_initialize(){r.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate),r.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}_terminate(){r.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate),r.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}constructor(...e){super(...e),d(this,"handleSettingsUpdate",e=>{let{settings:t}=e;t.enabled?(0,a.T)(s.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,a.T)(s.hn.DISABLE_POGGERMODE),Object.keys(t).some(e=>e.startsWith("confetti"))&&(0,a.T)(s.hn.CUSTOMIZE_CONFETTI)}),d(this,"handleMessageCreate",e=>{var t;let{channelId:n,message:{author:r,nonce:i,mentions:d}}=e;if(!c.Z.isEnabled())return!1;let f=l.default.getId();if((null==d?void 0:d.find(e=>e.id===f))!=null?(0,a.T)(s.hn.PING_ME):(null!=(t=null==d?void 0:d.length)?t:0)>0&&(null==r?void 0:r.id)===f&&(0,a.T)(s.hn.PING_SOMEONE),!(0,u.wU)(null==r?void 0:r.id,f,i,p))return!1;let h=u.ZP.getMostRecentMessageCombo(n),{combo:g}=null!=h?h:{};if(null==g)return!1;Object.values(s.hn).forEach(e=>{if(null!=o.Z.getUnlocked(e))return;let t=(0,s.oX)(e),n=null==t?void 0:t.checkUnlock;null!=n&&!1!==n(g)&&(0,a.T)(e)})})}}let h=new f},678492:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288);n(647438);var i=n(755721),l=n(481060),a=n(570140),o=n(317770),s=n(388032);class c extends o.Z{_initialize(){a.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}_terminate(){a.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}handlePoggermodeTemporarilyDisabled(){(0,l.h7j)(e=>{var t,n;return(0,r.jsx)(l.ConfirmModal,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={header:s.intl.string(s.t.wDQgnZ),confirmText:s.intl.string(s.t["cY+Ooa"]),confirmButtonColor:i.zx.Colors.GREEN,children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:s.intl.string(s.t.OJklbW)})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}}let u=new c},269089:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(570140),l=n(765250),a=n(317770),o=n(663993),s=n(355863),c=n(788983),u=n(981631),d=n(757744);n(966117);let p=(0,o.Un)({createPromise:()=>n.e("80960").then(n.bind(n,223455)),webpackId:223455,name:"PopoutWindowChannelCall"}),f=(0,o.Un)({createPromise:()=>n.e("20176").then(n.bind(n,432472)),webpackId:432472,name:"PopoutWindowStageChannelCall"}),h=(0,o.Un)({createPromise:()=>n.e("80960").then(n.bind(n,945778)),webpackId:945778,name:"PopoutWindowRTCDebug"}),g=(0,o.Un)({createPromise:()=>Promise.all([n.e("92922"),n.e("46290"),n.e("27278")]).then(n.bind(n,748623)),webpackId:748623,name:"PopoutWindowActivity"});class m extends a.Z{_initialize(){i.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),i.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),i.Z.subscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.initializeStyleSheetObserver()}_terminate(){i.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),i.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),i.Z.unsubscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.terminateStyleSheetObserver()}handleOpenChannelCallPopout(e){let{channel:t}=e;c.bA(u.KJ3.CHANNEL_CALL_POPOUT,e=>t.isGuildStageVoice()?(0,r.jsx)(f,{windowKey:e,channelId:t.id}):(0,r.jsx)(p,{windowKey:e,channelId:t.id}),{defaultWidth:854,defaultHeight:480})}initializeStyleSheetObserver(){this._observer=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&"LINK"===e.tagName&&"stylesheet"===e.rel){let t=e.href,n=e.integrity;c.YS(t,n)}}}),this._observer.observe(document.head,{childList:!0})}terminateStyleSheetObserver(){null!=this._observer&&(this._observer.disconnect(),this._observer=null)}handleOpenRTCDebugPopout(){c.bA(u.KJ3.RTC_DEBUG_POPOUT,e=>(0,r.jsx)(h,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}handleOpenActivityPopout(){(0,l.te)(d.$S,s.Z.getDefaultLayout(d.$S,d.HN),d.HN),c.bA(u.KJ3.ACTIVITY_POPOUT,e=>(0,r.jsx)(g,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[t]=null}(this,"_observer",null)}}let b=new m},380570:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(748780),i=n(570140),l=n(317770),a=n(716578),o=n(928518);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{_initialize(){o.Z.addChangeListener(this.handlePopoutWindowChange),i.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)}_terminate(){o.Z.removeChangeListener(this.handlePopoutWindowChange),i.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus),this.injectWindowAnimationFrame(window)}injectWindowAnimationFrame(e){let t=t=>e.requestAnimationFrame(t),n=t=>e.cancelAnimationFrame(t);r.Z.inject.RequestAnimationFrame(t),r.Z.inject.CancelAnimationFrame(n),a.f.setRAF(t,n)}constructor(...e){super(...e),s(this,"handleMainWindowFocus",e=>{e.focused&&e.windowId===window.__DISCORD_WINDOW_ID&&this.injectWindowAnimationFrame(window)}),s(this,"handlePopoutWindowChange",()=>{let e=o.Z.getWindowKeys().find(e=>o.Z.getWindowFocused(e));if(null==e)return this.injectWindowAnimationFrame(window);let t=o.Z.getWindow(e);if(null==t||t.closed)return this.injectWindowAnimationFrame(window);this.injectWindowAnimationFrame(t)})}}let u=new c},837689:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288);n(647438);var i=n(873546),l=n(704215),a=n(481060),o=n(570140),s=n(317770),c=n(266454),u=n(594174),d=n(431),p=n(74538),f=n(374023),h=n(367074),g=n(775412),m=n(695349),b=n(913976),_=n(434878),O=n(104494),E=n(29920),y=n(346497),v=n(727310),I=n(318199),C=n(474936);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let N="PremiumServerDriveAnnouncementModal";class T extends s.Z{_initialize(){o.Z.subscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.subscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}_terminate(){o.Z.unsubscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.unsubscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}constructor(...e){super(...e),S(this,"maybeOpenServerDriveAnnouncementModal",async(e,t)=>{let i=(0,I.r)({content:e,isPreview:t});if(null!=i)return(!1!==t||(null==i?void 0:i.contentIdentifier)!=="summer_bogo_content"||!!await (0,y.k)())&&((0,a.Mr3)(N),(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,318199));return t=>(0,r.jsx)(e,{renderModalProps:t,properties:i})},{modalKey:N}),!0);return!1}),S(this,"handlePreview",e=>{let{properties:t}=e;this.maybeOpenServerDriveAnnouncementModal(t,!0)}),S(this,"getOfferFromStore",()=>{let e=u.default.getCurrentUser();if((0,p.I5)(e))return{};let t=[C.hs,C.RU,C.rB,C.ih].map(e=>d.Z.getUserDiscountOffer(e)).filter(e=>null!=e&&!(0,O.kA)(e)).shift();if(null!=t)return{userDiscountOffer:t};let n=(0,g.J0)();return null!=n?{userTrialOffer:n}:{}}),S(this,"mayShowAnnouncementModal",async()=>{if(await (0,h.l2)(),f.s.isDisallowPopupsSet())return;let e=this.getOfferFromStore(),t=_.Z.getCurrentConfig({location:"announcementManager"},{autoTrackExposure:!1}).enabled,n=(0,c.zu)(l.z.Q2_2025_MARKETING_MOMENT_FOLLOW_UP_MODAL),r=u.default.getCurrentUser();if(!t||n||(0,a.$sL)()||(0,p.I5)(r)||await (0,m.G)(e.userTrialOffer)&&(0,v.Z)({upsellType:C.cd.REVERSE_TRIAL_FOLLOWUP_UPSELL}),(null==r||r.verified)&&!(0,a.$sL)()&&b.Z.getCurrentConfig({location:"OfferAnnouncementManager"}).enabled&&!i.tq){for(let t of(await (0,E.He)(e)))if(await this.maybeOpenServerDriveAnnouncementModal(t,!1))break}})}}let P=new T},318199:function(e,t,n){n.d(t,{default:()=>m,r:()=>g}),n(781311);var r=n(951288);n(647438);var i=n(581282),l=n(8853),a=n(481060),o=n(2052),s=n(410030),c=n(100527),u=n(906732),d=n(266454),p=n(960048),f=n(276792),h=n(290347);function g(e){let{content:t,isPreview:n}=e,r=l.t.fromBinary((0,i.c)(t));return"announcementModalVariant1"!==r.properties.oneofKind||!n&&(0===r.properties.announcementModalVariant1.dismissKey.trim().length||(0,d.zu)(Number(r.properties.announcementModalVariant1.dismissKey)))?null:(n&&(r.properties.announcementModalVariant1.dismissKey=""),r)}function m(e){let{renderModalProps:t,properties:n}=e,{location:i}=(0,o.O)(),{analyticsLocations:l}=(0,u.ZP)(c.Z.PREMIUM_MARKETING_ANNOUNCEMENT_MODAL),d=(0,s.ZP)(),g=(0,a.apv)(d);if("announcementModalVariant1"===n.properties.oneofKind){let e=(0,f.N)({content:n.properties.announcementModalVariant1,renderModalProps:t,analyticsLocations:l,analyticsLocation:i,isLightTheme:g});return(0,r.jsx)(h.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}return p.Z.captureMessage("Property type ".concat(n.properties.oneofKind," is not supported to render ServerDriveAnnouncementModal")),null}},507985:function(e,t,n){n.d(t,{a:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-06_google_play_price_change_notice_ks",commonTriggerPoint:i.$P.CONNECTION_OPEN,label:"Google Play Price Change Notice Killswitch",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Force disable Google Play price change notice DC",config:{enabled:!0}}]})},913976:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2023-12_marketing_automation_experiment",label:"Marketing Automation",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Ask server for marketing content for rendering",config:{enabled:!0}}]})},140447:function(e,t,n){n.d(t,{P:()=>a,R:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({id:"2025-08_nitro_rebrand_churn_modal_preview_invoice_step",kind:"user",label:"Nitro Rebrand Churn Modal Preview Invoice Step",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Enables preview invoice step in rebranded churn modal",config:{enabled:!0}}]}),a=e=>{let{location:t}=e;return l.useExperiment({location:t})}},532245:function(e,t,n){n.d(t,{CF:()=>d,Rx:()=>o,VL:()=>c,p1:()=>s,pd:()=>u});var r,i=n(818083),l=n(427164),a=n(987338),o=((r={})[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.GET_NITRO=1]="GET_NITRO",r[r.JOIN_NITRO=2]="JOIN_NITRO",r[r.TRY_NITRO=3]="TRY_NITRO",r);let s=(0,i.B)({kind:"user",id:"2025-07_nitro_tab_title_non_sub",commonTriggerPoint:a.$P.CONNECTION_OPEN,label:"Nitro Tab Title (non-sub)",defaultConfig:{enabled:!1,variant:0},treatments:[{id:1,label:"Get Nitro",config:{enabled:!0,variant:1}},{id:2,label:"Join Nitro",config:{enabled:!0,variant:2}},{id:3,label:"Try Nitro",config:{enabled:!0,variant:3}}]}),c=(0,l.le)({name:"2025-07-nitro-tab-title-non-sub",kind:"user",defaultConfig:{enabled:!1,variant:0},variations:{1:{enabled:!0,variant:1},2:{enabled:!0,variant:2},3:{enabled:!0,variant:3}}}),u=(0,i.B)({kind:"user",id:"2025-07_nitro_tab_title_sub",commonTriggerPoint:a.$P.CONNECTION_OPEN,label:"Nitro Tab Title (sub)",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Nitro Home",config:{enabled:!0}}]}),d=(0,l.le)({name:"2025-07-nitro-tab-title-sub",kind:"user",defaultConfig:{enabled:!1},variations:{1:{enabled:!0}}})},434878:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-05_reverse_trial_promotion",label:"Reverse Trials",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Users receives reverse trial + 1 week follow-up offer",config:{enabled:!0}}]})},767870:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(704215),o=n(927359),s=n(706140),c=n(325767),u=n(382791),d=n(966677);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let f="premium_tier_gradient",h="smaller_sparkle_gradient";function g(e){var t,n,{width:i=14,height:l=15,color:a="white",foreground:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",(t=p({},(0,c.Z)(p({},s))),n=n={preserveAspectRatio:"none",width:i,height:l,viewBox:"0 0 14 15",className:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:f,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#8547C6"}),(0,r.jsx)("stop",{offset:"50%",stopColor:"#B845C1"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#AB5D8A"})]})}),(0,r.jsxs)("linearGradient",{id:h,x1:"-4.95474",y1:"5.44067",x2:"11.2384",y2:"8.58386",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#8547C6"}),(0,r.jsx)("stop",{offset:"0.52899",stopColor:"#B845C1"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#AB5D8A"})]}),(0,r.jsx)("path",{d:"M8.59403 1.52779C8.04647 0.0480288 5.95353 0.0480288 5.40597 1.52779L4.56476 3.8011C4.36219 4.34854 3.93057 4.78016 3.38313 4.98273L1.10982 5.82394C-0.36994 6.3715 -0.36994 8.46444 1.10982 9.012L3.38313 9.8532C3.93057 10.0558 4.36219 10.4874 4.56476 11.0348L5.40597 13.3081C5.95353 14.7879 8.04647 14.7879 8.59403 13.3081L9.43524 11.0348C9.63781 10.4874 10.0694 10.0558 10.6169 9.8532L12.8902 9.012C14.3699 8.46444 14.3699 6.3715 12.8902 5.82394L10.6169 4.98273C10.0694 4.78016 9.63781 4.34854 9.43524 3.8011L8.59403 1.52779Z",fill:a})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}function m(e){let{className:t,startsAt:n,endsAt:i,messageStyle:c,upperCase:p,showSparkles:m}=e,[b]=(0,s.Tt)(a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL,{showAfterTimestamp:n.valueOf(),cooldownDurationMs:0}),_=(0,o.ZP)(i,c);return""===_?null:(p&&(_=_.toUpperCase()),(0,r.jsxs)("div",{className:l()(t,d.countDown),children:[m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{foreground:d.sparkleStar1,color:"url(#".concat(h,")")}),(0,r.jsx)(g,{foreground:d.sparkleStar2,color:"url(#".concat(f,")")})]}):null,(0,r.jsx)(u.mn,{text:_,colorOptions:b===a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL?u.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:u.VE.PREMIUM_TIER_2_GREY_FILL})]}))}},643061:function(e,t,n){n.d(t,{U:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({id:"2025-05_summer_2025_gifting",label:"Summer 2025 Gifting",kind:"user",defaultConfig:{enableGiftingFlow:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Show Summer 2025 Gifting Flow",config:{enableGiftingFlow:!0}}]})},443589:function(e,t,n){n.d(t,{Z:()=>T});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(202841),s=n(990547),c=n(755721),u=n(481060),d=n(906732),p=n(213609),f=n(963249),h=n(579185),g=n(752048),m=n(626135),b=n(479446),_=n(522558),O=n(441623),E=n(317271),y=n(674701),v=n(474936),I=n(981631),C=n(388032),S=n(427954),N=n(286389);function T(e){let{recipientUser:t,giftIntentType:n,analyticsPage:l,shouldHighlight:T}=e,{analyticsLocations:P}=(0,d.ZP)(),{isHovered:j,setIsHovered:x,onMouseEnter:A,onMouseLeave:Z}=(0,h.Z)(200,300),{enableEmojiCTA:w}=_.w.useExperiment({location:"GiftIntentActionButton"},{autoTrackExposure:!1});i.useEffect(()=>{let e=g.Z.getUserAffinity(t.id);(0,p.h)({name:s.ImpressionNames.GIFT_INTENT_ACTION_BUTTON,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:n,affinity:null==e?void 0:e.communicationProbability}})},[t,n]);let L=i.useCallback(e=>{"focus"!==e.type&&A()},[A]),R=e=>{e.stopPropagation();let r=g.Z.getUserAffinity(t.id);m.default.track(I.rMx.GIFT_INTENT_ACTION_BUTTON_CLICKED,{gift_intent_type:n,affinity:null==r?void 0:r.communicationProbability}),(0,f.Z)({isGift:!0,initialPlanId:null,giftRecipient:t,analyticsLocation:(0,E.F)(n).actionButton,analyticsLocations:P,analyticsObject:{page:l,section:I.jXE.FRIENDS_LIST_FRIEND_ROW,object:I.qAy.BUTTON_CTA,objectType:I.Qqv.GIFT},giftMessage:D()})},D=()=>n===v.hX.FRIEND_ANNIVERSARY?C.intl.formatToPlainString(C.t["L2s/Nz"],{numberOfYears:O.Z.getFriendAnniversaryYears(t.id)}):(0,b.Ou)(n),k=()=>n===v.hX.FRIEND_ANNIVERSARY?C.intl.string(C.t["4LohBA"]):(0,b.Ou)(n),M=i.useRef(null);return(0,r.jsx)(u.yRy,{targetElementRef:M,animation:u.yRy.Animation.FADE,nudgeAlignIntoViewport:!1,closeOnScroll:!0,shouldShow:j,position:"right",align:"top",spacing:9,onRequestClose:()=>{x(!1)},renderPopout:e=>(0,r.jsx)(y.Z,{giftIntentType:n,premiumGiftIntentCardType:y.U.COACHMARK,recipientUser:t,onMouseEnter:A,onMouseLeave:Z,popoutPosition:e.position,analyticsPage:l,analyticsSection:I.jXE.FRIENDS_LIST_FRIEND_ROW_GIFT_POPOUT,giftIntentSecondaryAction:v.X2.SEND_MESSAGE,glow:!0}),children:()=>w?(0,r.jsx)(u.P3F,{innerRef:M,"aria-label":k(),onClick:R,className:a()(N.actionButton,S.popoutButton,{[N.highlight]:T}),onMouseEnter:L,onMouseLeave:Z,children:(0,r.jsx)(o.animated.div,{className:S.spriteContainer,children:(0,r.jsx)("div",{className:S.sprite})})}):(0,r.jsx)(c.zx,{buttonRef:M,onClick:R,onMouseEnter:L,onMouseLeave:Z,children:(0,r.jsxs)("div",{className:S.pillContentContainer,children:[(0,r.jsx)(u.OgN,{size:"custom",width:14,height:14,color:"currentColor"}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",color:"always-white",className:S.pillButtonText,children:k()})]})})})}},691698:function(e,t,n){n.d(t,{cT:()=>i});let r=(0,n(818083).B)({kind:"guild",id:"2025-08_boost_progress_bar_cta",label:"Boost Progress Bar CTA",defaultConfig:{enabled:!1},treatments:[{id:1,label:"enabled",config:{enabled:!0}}]});function i(e,t){return r.useExperiment({guildId:e,location:t},{autoTrackExposure:!0}).enabled}},10207:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-07_mobile_ers_editing",commonTriggerPoint:i.$P.CONNECTION_OPEN,label:"ERS Mobile Editing",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable mobile editing",config:{enabled:!0}}]})},511342:function(e,t,n){n.d(t,{Z:()=>f});var r=n(951288),i=n(647438),l=n(907862),a=n(100527),o=n(434404),s=n(981631),c=n(921944),u=n(989308),d=n(388032),p=n(437329);function f(e){let{guild:t,markAsDismissed:n,renderTargetElement:f}=e,h=i.useRef(null),g={text:d.intl.string(u.default.Xnghq6),onClick:()=>{o.Z.open(t.id,s.pNK.BOOST_PERKS,{section:a.Z.GUILD_BOOSTING_PROGRESS_BAR}),n(c.L.TAKE_ACTION)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:h,children:f()}),(0,r.jsx)(l.Mb,{targetElementRef:h,title:d.intl.string(u.default.UuwXRU),body:d.intl.string(u.default.MIwlcX),caretConfig:{position:"top",align:"center"},assetUrl:p.Z,action:g,onRequestClose:()=>n(c.L.USER_DISMISS)})]})}},29920:function(e,t,n){n.d(t,{He:()=>a});var r=n(544891);n(570140);var i=n(960048),l=n(981631);async function a(e){let{userTrialOffer:t,userDiscount:n,userDiscountOffer:a}=e;try{let e=await r.tn.post({url:l.ANM.PREMIUM_MARKETING,body:{user_trial_offer:t,user_discount:n,user_discount_offer:a},rejectWithError:!0});if(e.ok)return e.body;return i.Z.captureMessage("fetchPremiumMarketingContentWithUserOffer failed"),[]}catch(e){return[]}}},276792:function(e,t,n){n.d(t,{N:()=>E});var r=n(951288);n(647438);var i=n(657707),l=n(704215),a=n(740111),o=n(680018),s=n(481060),c=n(963249),u=n(703656),d=n(626135),p=n(63063),f=n(382791),h=n(474936),g=n(981631),m=n(388032),b=n(605548);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function E(e){var t,n,E,y;let v,{content:I,renderModalProps:C,analyticsLocations:S,analyticsLocation:N,isLightTheme:T}=e,P="AnnouncementModalVariant1_".concat(l.z[Number(I.dismissKey)]),{onClose:j}=C,x=null!=(y=null==(t=I.button)?void 0:t.copy)?y:m.intl.string(m.t.YScQSE),A=(null==(n=I.button)?void 0:n.buttonAction)===a.Wc.OPEN_MARKETING_PAGE?"jump_to_mkt_button":"get_nitro_button";switch(null==(E=I.button)?void 0:E.buttonAction){case a.Wc.OPEN_MARKETING_PAGE:v=()=>{(0,u.uL)(g.Z5c.APPLICATION_STORE),j()};break;case a.Wc.OPEN_TIER_1_PAYMENT_MODAL:v=()=>(0,c.Z)({subscriptionTier:h.Si.TIER_1,analyticsLocations:S,analyticsObject:O(_({},N),{object:g.qAy.BUTTON_CTA,objectType:g.Qqv.TIER_1}),onClose:e=>{e&&j()}});break;case a.Wc.OPEN_TIER_2_PAYMENT_MODAL:case a.Wc.OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER:default:v=()=>(0,c.Z)({subscriptionTier:h.Si.TIER_2,analyticsLocations:S,analyticsObject:O(_({},N),{object:g.qAy.BUTTON_CTA,objectType:g.Qqv.TIER_2}),onClose:e=>{e&&j()}})}let Z=""!==I.helpArticleId?()=>(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(s.eee,{className:b.termsApplyAnchor,href:p.Z.getArticleURL(I.helpArticleId),children:m.intl.string(m.t["sBp+u7"])})]}):void 0,w={type:"video",src:T?I.heroArtVideoLinkLightTheme:I.videoLink};null!=I.heroArtVideoSubtitles&&(w.subtitles=I.heroArtVideoSubtitles.map(e=>({locale:e.locale,src:e.link,isDefault:!1}))),(""!==I.heroArtImageLinkDarkTheme||""!==I.heroArtImageLinkLightTheme)&&(w={type:"image",src:T?I.heroArtImageLinkLightTheme:I.heroArtImageLinkDarkTheme});let L=""!==I.modalTopPill?()=>(0,r.jsx)(f.mn,{text:I.modalTopPill,className:b.modalTopPill}):void 0;return{renderModalProps:C,header:I.header,modalTopExtra:L,subHeader:I.subheader,subHeaderExtra:Z,body:I.body,heroArt:w,featureCards:I.featureCards.map(e=>({header:e.header,subHeader:e.body,imageSrc:T?e.imageLinkLightTheme:e.imageLink,tagText:""!==e.pill?e.pill:void 0})),changeLogId:P,button:()=>{let e=Date.now();return(0,r.jsx)(o.z,{variant:"expressive",size:"md",onClick:()=>{d.default.track(g.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:P,cta_type:A,seconds_open:Math.round((Date.now()-e)/1e3),target:P}),v()},text:x,icon:i.SrA})},modalDismissibleContent:""!==I.dismissKey?Number(I.dismissKey):void 0}}},138176:function(e,t,n){n.d(t,{F:()=>g,X:()=>m});var r=n(951288);n(647438);var i=n(907862),l=n(481060),a=n(100527),o=n(626135),s=n(93237),c=n(981631),u=n(388032),d=n(20456),p=n(712793),f=n(295234);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let g=e=>{let{targetElementRef:t}=e,d=(0,s.eW)(),p=()=>{(0,s.ZL)()};return(0,r.jsx)(i.J2,{targetElementRef:t,title:u.intl.string(u.t.K2DyeX),body:u.intl.string(u.t["JICo+/"]),graphic:{type:"image",src:f.Z},size:"md",shouldShow:d,align:"top",position:"right",gradientColor:"nitro-pink",caretConfig:{position:"left",align:"start"},actions:[{text:u.intl.string(u.t.t2N819),onClick:()=>{o.default.track(c.rMx.REFERRAL_PROGRAM_SHARE_MODAL_CTA_CLICKED,{location_stack:[a.Z.HOME_PAGE_PREMIUM_TAB]}),p(),(0,l.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,656139));return t=>(0,r.jsx)(e,h({},t))})}}],onRequestClose:p})},m=e=>{let{children:t}=e,n=(0,r.jsxs)("div",{className:d.flatContainer,children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:p.Z,alt:"",className:d.flatImage})}),(0,r.jsxs)("div",{className:d.flatContent,children:[(0,r.jsx)(l.X6q,{variant:"heading-md/semibold",children:u.intl.string(u.t.K2DyeX)}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-secondary",children:u.intl.string(u.t["JICo+/"])})]})]});return(0,r.jsx)(l.ua7,{tooltipClassName:d.flatContainerTooltip,tooltipContentClassName:d.flatContainerTooltipContent,text:n,position:"right","aria-label":u.intl.string(u.t.t2N819),allowOverflow:!0,children:e=>{var n,i;return(0,r.jsx)("div",(n=h({},e),i=i={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},355251:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288),i=n(647438),l=n(907862),a=n(481060),o=n(921944),s=n(388032);function c(e){let{guildId:t,markAsDismissed:c,targetElementRef:u}=e,d=i.useCallback(()=>{c(o.L.TAKE_ACTION),(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("15076"),n.e("39672")]).then(n.bind(n,907941));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guildId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[t,c]),p=i.useCallback(()=>{c(o.L.USER_DISMISS)},[c]);return(0,r.jsx)(l.J2,{targetElementRef:u,shouldShow:!0,title:s.intl.string(s.t["2l9beX"]),body:s.intl.string(s.t.gdqdND),graphic:{type:"image",src:n(297806),aspectRatio:"6/4"},size:"lg",caretConfig:{position:"top",align:"center"},actions:[{text:s.intl.string(s.t.RzWDqa),variant:"primary",onClick:d},{text:s.intl.string(s.t.TulDPj),variant:"secondary",onClick:p}],onRequestClose:p})}},474486:function(e,t,n){n.d(t,{C:()=>u,l:()=>d});var r=n(951288),i=n(647438),l=n(481060),a=n(119269),o=n(227140),s=n(388032),c=n(820562);let u=e=>{let{children:t}=e,n=(0,r.jsxs)("div",{className:c.coachTipContainer,children:[(0,r.jsx)("div",{className:c.iconContainer,children:(0,r.jsx)(a.ZP,{staticPercentage:100,iconClassName:c.icon,showAnimations:!0,progressCircleVariation:a.Qo.NITRO_LOGO,ellipseOpacity:1,customAnimationClassName:c.customCircleAnimation,circleColor:"url(#purple-gradient)"})}),(0,r.jsxs)("div",{className:c.coachtipContent,children:[(0,r.jsx)(l.X6q,{variant:"heading-sm/bold",children:s.intl.string(s.t.USo4s7)}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",children:s.intl.format(s.t.AGKQq6,{numReferrals:3})})]})]});return(0,r.jsx)(l.ua7,{text:n,position:"right","aria-label":s.intl.string(s.t.USo4s7),tooltipClassName:c.marketingBadgeTooltip,allowOverflow:!0,tooltipContentClassName:c.tooltipContent,children:e=>{var n,i;return(0,r.jsx)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})},d=e=>{let{isSelected:t,onSelect:n}=e;return i.useEffect(()=>{t&&n()},[t,n]),(0,r.jsx)(o.Z,{copy:s.intl.string(s.t.y2b7CA)})}},497334:function(e,t,n){n.d(t,{S:()=>f});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(704215),o=n(481060),s=n(927359),c=n(266454),u=n(227140),d=n(388032),p=n(941744);function f(e){let{expiresAt:t}=e,n=(0,s.ZP)(t,s.aj.SHORT_TIME),i=(0,c.zu)(a.z.Q2_2025_MARKETING_MOMENT_NITRO_TAB_BADGE_V2);return""===n?null:(n=n.toUpperCase(),i)?(0,r.jsxs)("div",{className:l()(p.premiumTrialBadge,p.premiumTrialAcknowledgedBadge,{}),children:[(0,r.jsx)(o.T39,{size:"custom",width:14,height:14,color:"currentColor",className:p.reverseTrialBadgeIcon}),(0,r.jsx)(o.Text,{variant:"eyebrow",color:"text-secondary",children:n})]}):(0,r.jsx)(u.Z,{copy:d.intl.string(d.t["B66Z+f"]),showStars:!1})}},679768:function(e,t,n){n.d(t,{Z:()=>i});var r=n(951288);function i(e){var t,n;return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n=n={children:[(0,r.jsx)("path",{d:"M8.59403 1.10982C8.04647 -0.36994 5.95353 -0.36994 5.40597 1.10982L4.56476 3.38313C4.36219 3.93057 3.93057 4.36219 3.38313 4.56476L1.10982 5.40597C-0.36994 5.95353 -0.36994 8.04647 1.10982 8.59403L3.38313 9.43524C3.93057 9.63781 4.36219 10.0694 4.56476 10.6169L5.40597 12.8902C5.95353 14.3699 8.04647 14.3699 8.59403 12.8902L9.43524 10.6169C9.63781 10.0694 10.0694 9.63781 10.6169 9.43524L12.8902 8.59403C14.3699 8.04647 14.3699 5.95353 12.8902 5.40597L10.6169 4.56476C10.0694 4.36219 9.63781 3.93057 9.43524 3.38313L8.59403 1.10982Z",fill:"#4E5058"}),(0,r.jsx)("path",{d:"M8.59403 1.10982C8.04647 -0.36994 5.95353 -0.36994 5.40597 1.10982L4.56476 3.38313C4.36219 3.93057 3.93057 4.36219 3.38313 4.56476L1.10982 5.40597C-0.36994 5.95353 -0.36994 8.04647 1.10982 8.59403L3.38313 9.43524C3.93057 9.63781 4.36219 10.0694 4.56476 10.6169L5.40597 12.8902C5.95353 14.3699 8.04647 14.3699 8.59403 12.8902L9.43524 10.6169C9.63781 10.0694 10.0694 9.63781 10.6169 9.43524L12.8902 8.59403C14.3699 8.04647 14.3699 5.95353 12.8902 5.40597L10.6169 4.56476C10.0694 4.36219 9.63781 3.93057 9.43524 3.38313L8.59403 1.10982Z",fill:"url(#paint0_linear_3010_1362)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_3010_1362",x1:"5.04494",y1:"-0.975697",x2:"21.2381",y2:"2.1675",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#8547C6"}),(0,r.jsx)("stop",{offset:"0.52899","stop-color":"#B845C1"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#AB5D8A"})]})})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}n(647438)},457396:function(e,t,n){n.d(t,{g:()=>H,i:()=>V}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(91192),a=n(442837),o=n(704215),s=n(481060),c=n(515753),u=n(927359),d=n(975298),p=n(803038),f=n(211644),h=n(266454),g=n(243778),m=n(594174),b=n(78839),_=n(626135),O=n(74538),E=n(502087),y=n(367074),v=n(695349),I=n(532245),C=n(870041),S=n(963590),N=n(767870),T=n(104494),P=n(639119),j=n(655525),x=n(93237),A=n(138176),Z=n(924540),w=n(474486),L=n(497334),R=n(119850),D=n(938736),k=n(227140),M=n(474936),U=n(981631),G=n(921944),B=n(388032);let V=e=>{let{selected:t}=e,n=(0,a.e7)([m.default],()=>m.default.getCurrentUser()),r=(0,a.e7)([b.Z],()=>b.Z.getPremiumTypeSubscription()),i=(0,P.N)(),l=(0,T.Ng)(),o=(0,y.Vi)(),s=(0,R.V)(),c=(0,O.Qo)(n,r),u=(0,a.e7)([E.Z],()=>E.Z.getCreatedAtOverride()),d=t||null!=i||null!=l||o||null!=s||c,p=null!=u?u:null==n?void 0:n.createdAt;return d||null!=n&&null!=p&&Date.now()-p.getTime()>12096e5},H=e=>{let t,n,E;var H,F,{selected:z,nitroTabButtonRef:W,route:Y,locationState:K}=e,q=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["selected","nitroTabButtonRef","route","locationState"]);let Q=(0,a.e7)([m.default],()=>m.default.getCurrentUser()),X=(0,a.e7)([b.Z],()=>b.Z.getPremiumTypeSubscription()),J=(0,O.Qo)(Q,X),{enabled:$,variant:ee}=I.p1.useExperiment({location:"NitroTabButton"}),{enabled:et}=I.pd.useExperiment({location:"NitroTabButton"});I.VL.useConfig({location:"NitroTabButton"}),I.CF.useConfig({location:"NitroTabButton"});let en=(0,l.JA)("nitro"),er=(0,P.N)(),ei=(0,T.Ng)(),el=(0,v.W)(),ea=(0,y.Vi)(),eo=(0,x.HI)({trialOffer:er}),es=(0,R.V)(),ec=(0,x.eW)(),eu=C.ZP.useExperiment({location:"NitroTabButton"}),ed=(0,D.Kn)("NitroTabButton")&&eu.cohort===C.xI.Control,{fractionalState:ep,startsAt:ef,endsAt:eh}=(0,d.Z)({forceFetch:!0}),[eg,em]=(0,g.bf)(ep!==M.a$.NONE?o.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL:null,{showAfterTimestamp:ef.valueOf(),cooldownDurationMs:0}),eb=(0,S.Z)({location:"NitroTabButton"}),e_=(null==er?void 0:er.trial_id)===M.a7,eO=p.Mc.useExperiment({location:"NitroTabButton"}).v2EditorEnabled,eE=[];(0,f.Kl)()&&(ea&&eE.push(o.z.BOGO_2025_NITRO_TAB_BADGE),eb&&eE.push(o.z.VOICE_FILTER_EARLY_ACCESS_PREMIUM_TAB_BADGE),el&&eE.push(o.z.Q2_2025_MARKETING_MOMENT_NITRO_TAB_BADGE_V2),eO&&eE.push(o.z.CUSTOM_THEMES_PREMIUM_TAB_BADGE));let[ey,ev]=(0,g.US)(eE,void 0,!0);if(i.useEffect(()=>{!0===z&&null!=ey&&ev(G.L.AUTO_DISMISS)},[ev,z,ey]),!V({selected:z}))return null;let eI=()=>{eg===o.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL&&em(G.L.TAKE_ACTION),_.default.track(U.rMx.NITRO_TAB_VISITED,{badge_decorator:E,has_premium:J}),null!=ey&&ev(G.L.USER_DISMISS)};if(ep===M.a$.NONE||el||(E=7,n=(0,r.jsx)(N.Z,{className:"",startsAt:ef,endsAt:eh,messageStyle:u.aj.SHORT_TIME,upperCase:!0})),ea)n=(0,r.jsx)(j.Z,{}),E=0;else if(eo){let e=(0,x.$q)();n=(0,r.jsx)(Z._y,{isTabSelected:z,badgeCopy:B.intl.string(B.t.OS9KPj),offerExpiresAt:!0===e?null==er?void 0:er.expires_at:null}),E=4}else ey===o.z.VOICE_FILTER_EARLY_ACCESS_PREMIUM_TAB_BADGE||ey===o.z.CUSTOM_THEMES_PREMIUM_TAB_BADGE?(n=(0,r.jsx)(Z._y,{isTabSelected:z,badgeCopy:B.intl.string(B.t.y2b7CA),offerExpiresAt:null}),E=2):el?(n=(0,r.jsx)(L.S,{expiresAt:eh}),E=4):null!=es?(n=(0,r.jsx)(k.Z,{copy:es,showStars:!1}),E=1):null!=ei?(n=(0,r.jsx)(Z.GN,{userDiscount:ei,isTabSelected:z,includesAmountOff:!1}),E=3):null==er||e_?ed&&(n=(0,r.jsx)(w.l,{isSelected:z,onSelect:()=>(0,h.Q3)(o.z.REFERRAL_PROGRAM_PREMIUM_TAB_BADGE,{dismissAction:G.L.TAKE_ACTION})}),E=6):(n=(0,r.jsx)(Z.$H,{trialOffer:er,isTabSelected:z}),E=4);let eC=B.intl.string(B.t.Ipxkoq);J&&et&&(eC=B.intl.string(B.t["4gwVVl"])),!J&&$&&(ee===I.Rx.TRY_NITRO&&null!=er?eC=B.intl.string(B.t["3O6A4e"]):ee===I.Rx.JOIN_NITRO?eC=B.intl.string(B.t.brBiOz):ee===I.Rx.GET_NITRO&&(eC=B.intl.string(B.t.GayC1t))),ec&&eu.cohort!==C.xI.Control&&(n=(0,r.jsx)(Z._y,{isTabSelected:z,badgeCopy:B.intl.string(B.t.RDE0SU),offerExpiresAt:null}),E=4,eI=()=>{_.default.track(U.rMx.NITRO_TAB_VISITED,{badge_decorator:E,has_premium:J}),(0,x.ZL)()});let eS=(0,r.jsx)(c.Qj,(H=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({listItemRef:W,selected:z,route:Y,icon:s.SrA,text:eC,locationState:K,onClick:eI},q,en),F=F={className:t,children:n},Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(F)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(F)).forEach(function(e){Object.defineProperty(H,e,Object.getOwnPropertyDescriptor(F,e))}),H));return ec&&eu.cohort===C.xI.Static?(0,r.jsx)(A.X,{children:eS}):ed?(0,r.jsx)(w.C,{children:eS}):eS}},290347:function(e,t,n){n.d(t,{Z:()=>x}),n(388685),n(415506),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(146187),c=n(304789),u=n(481060),d=n(607070),p=n(446411),f=n(468846),h=n(313201),g=n(70097),m=n(266454),b=n(605236),_=n(524444),O=n(626135),E=n(960048),y=n(981631),v=n(921944),I=n(388032),C=n(188784);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T=[],P=e=>{let{tagText:t,className:n}=e;return(0,r.jsx)(u.IGR,{className:a()(C.tag,n),text:t})},j=e=>{let{header:t,subHeader:n,imageSrc:i,tagText:l,wideStyle:o}=e;return(0,r.jsxs)("div",{className:a()(C.featureCard,{[C.wideStyle]:o}),children:[null!=l?(0,r.jsx)(P,{tagText:l,className:C.featureCardTag}):null,(0,r.jsx)("img",{alt:"",className:a()(C.featureCardImg,{[C.wideStyle]:o}),src:i}),(0,r.jsxs)("div",{className:C.featureCardTextGroup,children:[(0,r.jsx)(u.X6q,{variant:"heading-md/bold",className:C.featureCardTextHeader,children:t}),(0,r.jsx)(u.Text,{variant:"text-md/normal",color:"text-secondary",children:n})]})]})};function x(e){let{className:t,renderModalProps:n,heroArt:l,heroArtClassName:P,modalDismissibleContent:x,modalTopExtra:A,header:Z,headerClassName:w,subHeader:L,subHeaderExtra:R,featureCards:D,changeLogId:k,button:M,body:U}=e,{onClose:G,transitionState:B}=n,V=(0,h.Dt)(),H=D.length%2==0,F=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),[z,W]=i.useState(Date.now()),[Y,K]=i.useState(0),[q,Q]=i.useState(0),[X,J]=i.useState(!1),[$,ee]=i.useState(!0),et=i.useRef(z),en=i.useRef(Y),er=i.useRef(q),ei=i.useRef(X),el=i.useRef($),[ea,eo]=i.useState(T),es=i.useRef(!1);function ec(){let e=Date.now(),t=e-et.current,n=en.current,r=er.current;return ei.current&&(K(n+=t),el.current||Q(r+=t)),W(e),[n,r]}return i.useEffect(()=>{let e=async()=>{try{var e;if("video"!==l.type||null==l.subtitles)return;let t=null==(e=l.subtitles)?void 0:e.map(async e=>{let t=await fetch(e.src);if(!t.ok)throw Error("Failed to fetch the subtitle file ".concat(e.src));let n=await t.text(),r=new Blob([n],{type:"text/vtt"}),i=URL.createObjectURL(r);return N(S({},e),{src:i})});eo(await Promise.all(t))}catch(e){E.Z.captureException(e),eo(T)}};!0!==es.current&&e(),es.current=!0},[l,ea]),i.useEffect(()=>()=>{null!=ea&&ea.forEach(e=>{URL.revokeObjectURL(e.src)})},[ea]),i.useEffect(()=>{et.current=z,en.current=Y,er.current=q,ei.current=X,el.current=$},[z,Y,q,X,$]),i.useEffect(()=>()=>{if("video"===l.type||"embed"===l.type){let[e,t]=ec();O.default.track(y.rMx.CHANGE_LOG_VIDEO_PLAYED,{change_log_id:k,seconds_played:Math.round(e/1e3)}),O.default.track(y.rMx.CHANGE_LOG_VIDEO_UNMUTE,{change_log_id:k,seconds_unmuted:Math.round(t/1e3)})}},[k,l.type]),i.useEffect(()=>{null!=x&&(0,b.kk)(x);let e=Date.now();return O.default.track(y.rMx.CHANGE_LOG_OPENED,{change_log_id:k}),()=>{O.default.track(y.rMx.CHANGE_LOG_CLOSED,{change_log_id:k,seconds_open:Math.round((Date.now()-e)/1e3)}),null!=x&&(0,m.Q3)(x,{dismissAction:v.L.DISMISS})}},[x,k]),(0,r.jsx)(u.Y0X,{"data-migration-pending":!0,className:a()(C.root,C.largeBorderRadius,t),transitionState:B,"aria-labelledby":V,parentComponent:"PremiumAnnouncementModalVariant1",children:(0,r.jsxs)(c.$,{color:"nitro-pink",children:[(0,r.jsx)("div",{className:C.closeButtonContainer,children:(0,r.jsx)(s.P,{"data-migration-pending":!0,onClick:async()=>await G()})}),null==A?void 0:A(),(0,r.jsxs)(u.hzk,{"data-migration-pending":!0,className:C.content,children:[(0,r.jsx)(u.X6q,{variant:"display-md",className:a()(C.headerText,w),children:Z}),"video"===l.type?(0,r.jsx)(g.Z,{className:a()(C.video,P),autoPlay:!F,loop:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate",src:l.src,poster:l.poster,onPlay:e=>{O.default.track(y.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:k}),W(Date.now()),J(!0),ee(e.currentTarget.muted)},onEnded:e=>{ec(),ee(e.currentTarget.muted),J(!1)},onVolumeChange:e=>{ec(),ee(e.currentTarget.muted)},onPause:e=>{ec(),ee(e.currentTarget.muted),J(!1)},disablePictureInPicture:!0,children:null==ea?void 0:ea.map(e=>{let t=(0,I.getLanguages)().find(t=>t.code===e.locale);return null==t?null:(0,r.jsx)("track",{label:t.englishName,kind:"captions",srcLang:t.code,src:e.src,default:e.isDefault},e.locale)})}):"embed"===l.type?(0,r.jsx)(p.BC,{className:a()(C.video,P),allowFullScreen:!1,href:l.href,thumbnail:l.thumbnail,video:l.embed,provider:f.pn.YOUTUBE,maxWidth:l.embed.width,maxHeight:l.embed.height,renderVideoComponent:_.lV,renderImageComponent:_.Yi,renderLinkComponent:_.iT,onPlay:()=>{O.default.track(y.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:k})}}):"image"===l.type?(0,r.jsx)("img",{alt:"",className:a()(C.video,P),src:l.src}):null,(0,r.jsxs)(u.Text,{variant:"text-md/normal",color:"text-secondary",className:C.subHeader,children:[L,null==R?void 0:R()]}),null!=U&&""!==U&&(0,r.jsx)(u.X6q,{variant:"heading-lg/semibold",className:C.bodyText,children:U}),D.length>0&&(0,r.jsx)("div",{className:a()(C.featureCardGroup,{[C.wideStyle]:H}),children:D.map((e,t)=>(0,r.jsx)(j,N(S({},e),{wideStyle:H}),"".concat(e.header,"_").concat(t)))}),(0,r.jsx)("div",{className:C.buttonContainer,children:M()})]})]})})}},227140:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(481060),o=n(679768),s=n(387016);function c(e){let{copy:t,showStars:n=!0,className:i}=e;return(0,r.jsxs)("div",{className:l()(s.badgeContainer,i),children:[n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:l()(s.star,s.starLeft),children:(0,r.jsx)(o.Z,{width:"10",height:"10"})}),(0,r.jsx)("span",{className:l()(s.star,s.starRight),children:(0,r.jsx)(o.Z,{width:"14",height:"14"})})]}),(0,r.jsx)(a.Text,{variant:"eyebrow",className:s.newBadge,children:t})]})}},108989:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(951288),i=n(647438),l=n(238651);let a=[n(123353)],o=["#FFFFFF"],s=1e3/60,c={velocity:{type:"static-random",minValue:{x:0,y:1},maxValue:{x:3,y:3}},rotation:{type:"linear-random",minValue:{x:0,y:0,z:0},maxValue:{x:0,y:0,z:360},minAddValue:{x:0,y:0,z:-5},maxAddValue:{x:0,y:0,z:5}},size:{type:"static-random",minValue:2,maxValue:6},dragCoefficient:{type:"static",value:830},opacity:{type:"static",value:.3}};function u(e){let{className:t,firing:n=!0,wind:u=2,sprites:d=a,spriteColors:p=o,confettiConfig:f}=e,[h,g]=i.useState(null),[m,b]=i.useState(null),_=(0,l.uR)(m,h),O=i.useMemo(()=>new l.qA({wind:u}),[u]),E=i.useCallback(()=>{var e,t;let n=null==m?void 0:m.getCanvas();if(null==n)return;let r=n.getBoundingClientRect();_.createConfetti((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c,f),t=t={position:{type:"static-random",minValue:{x:-r.width/2,y:-6},maxValue:{x:r.width,y:-6}}},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))},[_,m,f]);return i.useEffect(()=>{let e=n?setInterval(E,s):null;return()=>clearInterval(e)},[n,E]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.O_,{ref:b,className:t,environment:O}),(0,r.jsx)(l.Ji,{ref:g,colors:p,sprites:d,spriteWidth:6,spriteHeight:6})]})}},727310:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(481060);function l(e){let{upsellType:t}=e;(0,i.ZDy)(async()=>{let{default:e}=await n.e("51816").then(n.bind(n,415788));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={upsellType:t,"aria-labelledby":"reverse-trial-upsell-modal"},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},118470:function(e,t,n){n.d(t,{Z:()=>h}),n(388685),n(539854);var r=n(951288),i=n(647438),l=n(442837),a=n(812206),o=n(82950),s=n(434404),c=n(106976),u=n(270144),d=n(981631),p=n(388032),f=n(466389);function h(e){let t,{guild:n}=e,h=(0,u.h6)(n),g=()=>(0,c.sB)(n.id),m=i.useMemo(()=>new Set(h.map(e=>e.applicationId)),[h]),b=(0,l.Wu)([a.Z],()=>{let e=[];for(let t of m){let n=a.Z.getApplication(t);null!=n&&e.push(n)}return e},[m]);return 0===b.length?null:(t=1===b.length?p.intl.formatToPlainString(p.t["Egq+Gx"],{a:b[0].name}):2===b.length?p.intl.formatToPlainString(p.t.LxU9R0,{a:b[0].name,b:b[1].name}):3===b.length?p.intl.formatToPlainString(p.t.crKXMD,{a:b[0].name,b:b[1].name,c:b[2].name}):p.intl.string(p.t.MvfowM),(0,r.jsx)(o.Z,{guild:n,onDismissed:g,message:t,type:d.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:f,onClick:()=>{g(),s.Z.open(n.id,d.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:p.intl.string(p.t.Rr3MAQ)}))}},489977:function(e,t,n){n.d(t,{Z:()=>h});var r=n(570140),i=n(809206),l=n(317770),a=n(18438),o=n(378879),s=n(643879),c=n(350327),u=n(594174),d=n(74538),p=n(486324);class f extends l.Z{_initialize(){r.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}_terminate(){r.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}maybeOpenProfilePreviewModal(e){return e.uploadType===p.pC.AVATAR?(e=>{let{image:t,file:n,guildId:r,analyticsSource:l,isTryItOutFlow:f}=e;if(f)return void(0,c.c_)(t);let h=u.default.getCurrentUser(),g=null!=r?a.I5:i.I5,m=d.ZP.canUseAnimatedAvatar(h);if(m||"image/gif"!==n.type)return void g(t);if(null==h)return;let b=(0,s.SD)({userId:h.id,image:t});if(!m)return void(0,o.s)({uploadType:p.pC.AVATAR,imageSrc:b,analyticsSource:l})})(e):e.uploadType===p.pC.BANNER?(e=>{let{image:t,guildId:n,analyticsSource:r,isTryItOutFlow:i}=e,l=t.imageUri;if(i)return void(0,c.f4)(l);let s=u.default.getCurrentUser(),f=null!=n?a.g_:c.g_,h=d.ZP.canUsePremiumProfileCustomization(s);return d.ZP.canUsePremiumProfileCustomization(s)?void f(l):null==s||h?void 0:void(0,o.s)({uploadType:p.pC.BANNER,imageSrc:l,analyticsSource:r})})(e):void 0}}let h=new f},400271:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r,i,l=n(442837),a=n(433517),o=n(570140),s=n(650774),c=n(430824),u=n(496675),d=n(135899),p=n(981631);let f="publicUpsellChannelNoticeGuilds",h=new Set;class g extends(r=l.ZP.Store){initialize(){var e;this.waitFor(u.Z,c.Z,s.Z),this.syncWith([u.Z,c.Z,s.Z],p.dG4),h=(e=new Set(a.K.get(f)),e)}isVisible(e){if(null==e)return;let t=s.Z.getMemberCount(e.id);return!h.has(e.id)&&null!=t&&t>=d.U3&&u.Z.can(p.Plq.ADMINISTRATOR,e)&&!e.features.has(p.oNc.COMMUNITY)}}(i="displayName")in g?Object.defineProperty(g,i,{value:"EnablePublicGuildUpsellNoticeStore",enumerable:!0,configurable:!0,writable:!0}):g[i]="EnablePublicGuildUpsellNoticeStore";let m=new g(o.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){let t=e.guildId;if(!h.has(t))return h.add(t),a.K.set(f,h),!0}})},413307:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(949389),a=n(82950),o=n(434404),s=n(981631),c=n(388032),u=n(438825);let d=e=>{let{guild:t}=e,n=i.useCallback(()=>{(0,l.K)(t.id)},[t.id]);return(0,r.jsx)(a.Z,{guild:t,onDismissed:n,onClick:()=>o.Z.open(t.id,s.pNK.COMMUNITY),message:c.intl.string(c.t["2klD0d"]),trackingSource:s.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:s.vID.PUBLIC_UPSELL,image:u,cta:c.intl.string(c.t.hvVgAQ)})}},362738:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-07_att_exposure_aa",label:"ATT exposure experiment",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{enabled:!0},treatments:[{id:1,label:"T1",config:{enabled:!0}},{id:2,label:"T2",config:{enabled:!0}}]})},833435:function(e,t,n){n.d(t,{_:()=>i});let r=(0,n(818083).B)({id:"2024-09_quests_trophy_case",kind:"user",label:"Trophy Case",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]}),i=e=>{let{location:t,autoTrackExposure:n=!1}=e;return r.useExperiment({location:t},{autoTrackExposure:n}).enabled}},220068:function(e,t,n){n.d(t,{Z:()=>l});var r=n(972959);let i=Object.freeze({tab:n(113434).e5.ALL}),l=(0,r.H)(()=>i)},558652:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(626135),o=n(113434),s=n(937797),c=n(264282),u=n(78606),d=n(710914),p=n(46140),f=n(981631),h=n(388032),g=n(872058);let m=new Set;function b(){let{enabled:e}=s.$d.useConfig({location:p.dr.QUEST_HOME_DESKTOP}),[t,n]=i.useState(p._v.SUGGESTED),[b,_]=i.useState(m),{quests:O,isFetchingCurrentQuests:E}=(0,o.bA)(o.e5.ALL,i.useMemo(()=>({sortMethod:t,filters:b}),[t,b])),y=i.useCallback(()=>{_(m)},[]);return i.useEffect(()=>{e&&a.default.track(f.rMx.QUEST_HOME_SORT_METHOD_CHANGED,{sort_method:t})},[t,e]),i.useEffect(()=>{e&&a.default.track(f.rMx.QUEST_HOME_FILTERS_CHANGED,{filters:Array.from(b),num_quests_visible:O.length})},[b,e,O.length]),(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsxs)("div",{className:g.headingWrapper,children:[(0,r.jsx)(l.X6q,{variant:"heading-lg/medium",children:h.intl.string(h.t.giYD09)}),(0,r.jsxs)("div",{className:g.headingControls,children:[(0,r.jsx)(u.Z,{onChange:n,optionClassName:g.filterSortOption,selectedSortMethod:t}),(0,r.jsx)(c.Z,{onChange:_,optionClassName:g.filterSortOption,selectedFilters:b})]})]}),(0,r.jsx)(d.Z,{quests:O,isFetching:E,hasFiltersApplied:b.size>0,onClearFilters:y})]})}},264282:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(951288),i=n(647438),l=n(481060),a=n(670362),o=n(46140),s=n(388032),c=n(477813);let u=function(e){let{onChange:t,optionClassName:n,selectedFilters:u}=e,d=i.useMemo(()=>[{heading:s.intl.string(s.t.vjLqAQ),options:[o.j5.REWARD_VIRTUAL_CURRENCY,o.j5.REWARD_COLLECTIBLE,o.j5.REWARD_IN_GAME]},{heading:s.intl.string(s.t.Hufmsr),options:[o.j5.QUEST_TYPE_VIDEO,o.j5.QUEST_TYPE_PLAY]}],[]);return(0,r.jsx)(a.Z,{renderPopout:(e,i)=>{let{closePopout:p}=e;return(0,r.jsxs)("div",{children:[d.map((e,d)=>(0,r.jsxs)("div",{className:c.filterOptionGroup,children:[(0,r.jsx)(a.g,{id:i,children:e.heading}),e.options.map((e,i)=>(0,r.jsx)(l.XZJ,{className:n,innerClassName:c.checkboxInput,onChange:n=>{let r=new Set(u);n.currentTarget.checked?r.add(e):r.delete(e),t(r)},reverse:!0,type:l.XZJ.Types.INVERTED,value:u.has(e),children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:function(e){switch(e){case o.j5.REWARD_VIRTUAL_CURRENCY:return s.intl.string(s.t.ElYQFR);case o.j5.REWARD_COLLECTIBLE:return s.intl.string(s.t.Jg17Ul);case o.j5.REWARD_IN_GAME:return s.intl.string(s.t["O/J2kp"]);case o.j5.QUEST_TYPE_VIDEO:return s.intl.string(s.t.e0iISE);case o.j5.QUEST_TYPE_PLAY:return s.intl.string(s.t["1nJR4u"])}}(e)})},i))]},d)),(0,r.jsx)("div",{className:c.filterOptionGroup,children:(0,r.jsx)(l.zxk,{fullWidth:!0,onClick:()=>{t(new Set),p()},size:"sm",text:s.intl.string(s.t.VkKicX),variant:"secondary"})})]})},children:(e,t)=>{var n,i;return(0,r.jsx)(l.zxk,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={buttonRef:t,size:"sm",text:s.intl.formatToPlainString(s.t.CEfkXl,{numSelectedFilters:u.size}),icon:l.gXV,iconPosition:"end",variant:"secondary"},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},670362:function(e,t,n){n.d(t,{Z:()=>c,g:()=>s});var r=n(951288),i=n(647438),l=n(481060),a=n(313201),o=n(491873);function s(e){let{children:t,id:n}=e;return(0,r.jsx)(l.Text,{className:o.popoutHeading,color:"text-secondary",id:n,variant:"text-sm/semibold",children:t})}let c=function(e){let{children:t,renderPopout:n}=e,s=(0,a.Dt)(),c=i.useRef(null);return(0,r.jsx)(l.yRy,{align:"right",position:"bottom",renderPopout:e=>(0,r.jsx)(l.VqE,{className:o.popout,"aria-labelledby":s,children:n(e,s)}),targetElementRef:c,children:e=>t(e,c)})}},78606:function(e,t,n){n.d(t,{Z:()=>d});var r=n(951288),i=n(647438),l=n(481060),a=n(670362),o=n(46140),s=n(388032),c=n(836859);function u(e){switch(e){case o._v.SUGGESTED:return s.intl.string(s.t.gBfXPT);case o._v.MOST_RECENT:return s.intl.string(s.t.K6oEu7);case o._v.EXPIRING_SOON:return s.intl.string(s.t.IB22n5);case o._v.RECENTLY_ENROLLED:return s.intl.string(s.t["BB+2tb"])}}let d=function(e){let{onChange:t,optionClassName:n,selectedSortMethod:d}=e,p=i.useCallback(e=>{t(e.value)},[t]),f=i.useMemo(()=>Object.keys(o._v).map(e=>({name:u(o._v[e]),value:o._v[e],radioBarClassName:n})),[n]);return(0,r.jsx)(a.Z,{renderPopout:(e,t)=>{let{closePopout:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.g,{id:t,children:s.intl.string(s.t.tZXJIS)}),(0,r.jsx)(l.FXm,{className:c.radioGroup,itemTitleClassName:c.radioItemTitle,options:f,onChange:e=>{n(),p(e)},radioItemClassName:c.radioItem,radioPosition:"right",value:d,withTransparentBackground:!0})]})},children:(e,t)=>{var n,i;return(0,r.jsx)(l.zxk,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={buttonRef:t,size:"sm",text:u(d),icon:l.hic,iconPosition:"end",variant:"secondary"},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},786089:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(979554),s=n(887003),c=n(442837),u=n(780384),d=n(481060),p=n(393238),f=n(410030),h=n(204418),g=n(70097),m=n(594174),b=n(626135),_=n(617136),O=n(113434),E=n(497505),y=n(475595),v=n(352084),I=n(125011),C=n(685613),S=n(981631),N=n(388032),T=n(199679);let P=(0,i.memo)(function(e){var t,n,l,P,j,x;let{quest:A}=e,[Z,w]=(0,i.useState)(!1),[L,R]=(0,i.useState)(24),[D,k]=(0,i.useState)(!1),M=(0,i.useRef)(null),U=(0,i.useRef)(null),G=(0,i.useRef)(null),B=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),{ref:V,height:H=0}=(0,p.ZP)(),F=(0,f.ZP)(),z=(0,O.B6)(null==(t=A.userStatus)?void 0:t.claimedAt,{month:"numeric",day:"numeric"}),W=null!=(j=null==(n=A.userStatus)?void 0:n.claimedTier)?j:0,Y=A.config.rewards[W],K=(null==Y?void 0:Y.type)===s.w.FRACTIONAL_PREMIUM,q=(null==Y?void 0:Y.type)===s.w.COLLECTIBLE,Q=(null==Y?void 0:Y.type)===s.w.VIRTUAL_CURRENCY,X=null==Y||null==(P=Y.collectibleProduct)||null==(l=P.items)?void 0:l[0],J=(null==X?void 0:X.type)===o.Z.AVATAR_DECORATION?X:null;(0,p.PM)(M,e=>{let{height:t}=e;if(!q||null==t||null==U.current||null==M.current||null==G.current)return;let n=M.current.getBoundingClientRect(),r=U.current.getBoundingClientRect(),i=G.current.getBoundingClientRect();R((r.top-n.top-i.height)/2)});let $=(0,u.wj)(F),ee=(0,i.useMemo)(()=>null!=A.config.cosponsorMetadata,[A]),et=(0,i.useMemo)(()=>(0,y.fh)(A,y.eC.REWARD),[A]),en=Z?H+8:0,er=(0,_.mH)(E.jn.TROPHY_CASE_CARD),{content_position:ei,row_index:el}=er,ea=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(er,["content_position","row_index"]),eo=()=>{w(!0),b.default.track(S.rMx.QUEST_HOVER,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({quest_id:A.id},ea))},es=()=>w(!1),ec=e=>{k(!0),b.default.track(S.rMx.QUEST_ASSET_LOADING_FAILURE,{source:e,asset_id:e,quest_id:A.id})};return null==Y||D?null:(0,r.jsx)(d.tEY,{children:(0,r.jsxs)("div",{ref:M,tabIndex:0,onFocus:eo,onBlur:es,onMouseEnter:eo,onMouseLeave:es,className:a()(T.container,{[T.hovered]:Z}),children:[null!=B&&q&&null!=J&&(0,r.jsx)("div",{ref:G,className:T.decoWrapper,style:{top:L},children:(0,r.jsx)(h.Z,{avatarDecorationOverride:J,user:B,guildId:null})}),K?(0,r.jsx)(v.Z,{className:T.image}):Q?(0,r.jsx)(I.Z,{className:T.image}):et.isAnimated?(0,r.jsx)(g.Z,{className:T.assetBlurred,autoPlay:!1,children:(0,r.jsx)("source",{src:et.url,type:null!=(x=et.mimetype)?x:void 0,onError:()=>ec(et.url)})}):(0,r.jsx)("img",{className:T.image,src:et.url,alt:A.config.messages.questName,onError:()=>ec(et.url)}),(0,r.jsx)("div",{className:a()(T.overlay,{[T.darkThemeGradient]:$,[T.lightThemeGradient]:!$})}),(0,r.jsx)("div",{ref:U,className:T.logoContainer,style:{transform:"translateY(-".concat(en,"px)")},children:(0,r.jsx)(C.ZP,{logotypeClassName:a()(T.logo,{[T.logoWithCosponsor]:ee}),quest:A,withGameTile:!1})}),(0,r.jsxs)("div",{ref:V,className:T.details,children:[(0,r.jsx)(d.X6q,{className:T.title,variant:"heading-md/semibold",color:"always-white",children:N.intl.format(N.t.EAYZAg,{questName:A.config.messages.questName})}),(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:$?"text-muted":"always-white",style:{opacity:$?1:.75},children:N.intl.format(N.t.kXVcV1,{reward:Y.name,claimedDate:z})})]})]})})})},383747:function(e,t,n){n.d(t,{Z:()=>o});var r=n(951288),i=n(481060),l=n(410030),a=n(388032);function o(e){let{onClick:t}=e,o=(0,l.ZP)();return(0,r.jsxs)(i.ubH,{theme:o,children:[(0,r.jsx)(i.oxh,{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200}),(0,r.jsx)(i.OZU,{note:a.intl.format(a.t.Pv8u2t,{onClick:t})})]})}},736683:function(e,t,n){n.d(t,{Z:()=>u,j:()=>d});var r=n(951288);n(647438);var i=n(481060),l=n(113434),a=n(786089),o=n(383747),s=n(710914),c=n(16167);function u(e){let{onSelectTab:t}=e,{claimedQuests:n,isFetchingClaimedQuests:s}=(0,l.eN)();return s&&0===n.length?(0,r.jsx)(i.$jN,{className:c.spinner}):0===n.length?(0,r.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,r.jsx)("div",{className:c.gridContainer,children:n.map(e=>(0,r.jsx)(a.Z,{quest:e},e.id))})}function d(e){let{onSelectTab:t}=e,{quests:n,isFetchingCurrentQuests:a}=(0,l.bA)(l.e5.CLAIMED);return a&&0===n.length?(0,r.jsx)(i.$jN,{className:c.spinner}):0===n.length?(0,r.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,r.jsx)(s.Z,{quests:n,isFetching:a})}},879438:function(e,t,n){n.d(t,{z:()=>s});var r=n(879690),i=n(731965),l=n(5881),a=n(46140),o=n(231338);let s=(0,r.U)((e,t)=>({startTime:performance.now(),elapsed:0,lastOutputLogTime:-5e3,logger:null,registerAssetLoad:()=>{var n;let r=null!=(n=t().logger)?n:(0,l.T)({location:a.dr.QUEST_HOME_DESKTOP});if(r.info===o.dG||t().elapsed>=6e4)return;let s=performance.now()-t().startTime;s>6e4&&(s=6e4);let c={elapsed:s};s-t().lastOutputLogTime>1e3&&(r.info("QuestHome asset loading duration so far: ".concat(s,"ms")),c.lastOutputLogTime=s),null==t().logger&&(c.logger=r),(0,i.j)(()=>e(c))}}))},121711:function(e,t,n){n.d(t,{Z:()=>Q});var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(990547),s=n(442837),c=n(755721),u=n(481060),d=n(607070),p=n(100527),f=n(213609),h=n(335131),g=n(252618),m=n(70097),b=n(979233),_=n(17845),O=n(374939),E=n(233374),y=n(611928),v=n(763433),I=n(283293),C=n(507808),S=n(794231),N=n(822857),T=n(775451),P=n(451478),j=n(526167),x=n(63063),A=n(113434),Z=n(833435),w=n(150560),L=n(672188),R=n(558652),D=n(736683),k=n(879438),M=n(251360),U=n(466962),G=n(452081),B=n(46140),V=n(981631),H=n(215023),F=n(388032),z=n(728963),W=n(13299),Y=n(606199),K=n(164792);function q(e){let{onLoadComplete:t}=e,{enabled:n}=(0,N.WX)({location:B.dr.QUEST_HOME_DESKTOP}),l=(0,s.e7)([d.Z],()=>d.Z.useReducedMotion),o=(0,s.e7)([P.Z],()=>P.Z.isFocused()),{ref:c,inViewport:u}=(0,L.a)(),p=i.useRef(null);if(i.useEffect(()=>{(null==p?void 0:p.current)!=null&&(p.current.paused||o&&u&&!l?p.current.paused&&!l&&u&&o&&p.current.play():p.current.pause())},[l,u,o]),n){let e=(0,j.rO)();return(0,r.jsx)(m.Z,{ref:e=>{p.current=e,c.current=e},loop:!0,muted:!0,playsInline:!0,className:a()(z.bannerAsset,z.orbsBannerAsset),onProgress:t,"data-mtctest-ignore":"true",controls:!1,children:(0,r.jsx)("source",{src:e?Y.Z:K.Z,type:e?"video/mp4":"video/webm"})})}return(0,r.jsx)("img",{src:W.ZP,className:a()(z.bannerAsset,z.oversizedImg),alt:"",onLoad:t})}let Q=function(){let{selectedTab:e,onSelectTab:t,tabs:n}=(0,G.z)(),{onScroll:l,scrollPosition:s}=(0,b.M)(),d=w.Z.getState().getUtmCurrentContext(),m=(0,Z._)({location:B.dr.QUEST_HOME_DESKTOP})?D.Z:D.j,P=(0,k.z)(e=>e.registerAssetLoad),j=i.useRef(d);i.useEffect(()=>{j.current=d}),i.useEffect(()=>{let{current:t}=j;(0,f.h)({name:o.ImpressionNames.QUEST_HOME,type:o.ImpressionTypes.VIEW,properties:{utm_source_current:t.utmSourceCurrent,utm_medium_current:t.utmMediumCurrent,utm_campaign_current:t.utmCampaignCurrent,utm_content_current:t.utmContentCurrent,tab:e}})},[e]);let{enabled:L}=(0,N.WX)({location:B.dr.QUEST_HOME_DESKTOP}),{showBetaTag:W}=S.Z.useExperiment({location:B.dr.QUEST_HOME_DESKTOP}),Y=i.useCallback(()=>{if(L)return void window.open(V.EYA.PAID_TERMS_ORBS);window.open(x.Z.getArticleURL(V.BhN.QUESTS_LEARN_MORE))},[L]);(0,g.Tt)({location:F.intl.string(F.t.JALI2N)});let K=L?F.intl.format(F.t.BCBIlp,{}):F.intl.format(F.t.lmMBf3,{}),Q=L?F.intl.format(F.t.U9FY0N,{}):F.intl.string(F.t.oWCrBg),X=i.useRef(null),J=i.useCallback(()=>{(0,C.Y)({pageType:V.ZY5.GLOBAL_DISCOVERY_QUESTS,sectionType:V.jXE.ORBS_BALANCE_MENU,ctaObject:V.qAy.CTA_TO_ORBS_SHOP}),(0,h.mK)({openInLayer:!1,tab:H.AW.ORBS,analyticsLocations:[],analyticsSource:p.Z.ORBS_BALANCE_MENU})},[]);return(0,r.jsx)(M.k.Provider,{value:{onAssetLoadComplete:P},children:(0,r.jsx)("div",{className:z.container,children:L?(0,r.jsx)(U.t.Provider,{value:X,children:(0,r.jsxs)(I.Z,{onScroll:l,ref:X,children:[(0,r.jsx)(v.a,{selectedTabId:e,handleTransition:t,tabs:n,icon:u.qDn,children:(0,r.jsx)(T.V9,{analyticsPage:V.ZY5.GLOBAL_DISCOVERY_QUESTS,cardAlignment:T.ek.END,ctaText:F.intl.string(F.t["J+vlIS"]),ctaOnClick:J})}),(0,r.jsxs)(_.Z,{title:K,description:Q,betaTag:L&&W,button:L?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.zxk,{variant:"overlay-primary",text:F.intl.string(F.t["1Wm129"]),onClick:()=>(0,h.mK)({openInLayer:!1,tab:H.AW.ORBS,analyticsLocations:[],analyticsSource:p.Z.INTRO_TO_ORBS_QUEST_BANNER})}),(0,r.jsx)(c.zx,{look:c.iL.LINK,color:c.Tt.CUSTOM,className:z.orbsTermsButton,onClick:Y,children:F.intl.string(F.t["7kTAgI"])})]}):(0,r.jsx)(u.zxk,{variant:"overlay-primary",text:F.intl.string(F.t.hvVgAQ),onClick:Y,icon:u.Gr1,iconPosition:"end"}),className:a()(z.bannerContainer,{[z.orbsContainer]:L}),children:[(0,r.jsx)("div",{className:a()(z.bannerGradient,{[z.orbsGradient]:L})}),(0,r.jsx)(q,{onLoadComplete:P})]}),(0,r.jsx)(O.Z,{children:e===A.e5.CLAIMED?(0,r.jsx)(m,{onSelectTab:t}):(0,r.jsx)(R.Z,{})})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.ZP,{variant:y._6.OVERLAY,children:[(0,r.jsx)("div",{className:z.dragRegion}),(0,r.jsx)(y.z6,{scrollPosition:s}),(0,r.jsx)(y.aV,{icon:u.qDn})]}),(0,r.jsx)(U.t.Provider,{value:X,children:(0,r.jsxs)(I.Z,{onScroll:l,ref:X,children:[(0,r.jsxs)(_.Z,{title:K,description:Q,button:(0,r.jsx)(u.zxk,{variant:"overlay-primary",text:F.intl.string(F.t.hvVgAQ),onClick:Y,icon:u.Gr1,iconPosition:"end"}),className:a()(z.bannerContainer,{[z.orbsContainer]:L}),children:[(0,r.jsx)("div",{className:a()(z.bannerGradient,{[z.orbsGradient]:L})}),(0,r.jsx)(q,{onLoadComplete:P})]}),(0,r.jsxs)(O.Z,{children:[(0,r.jsx)("div",{className:z.tabs,children:(0,r.jsx)(E.Z,{tabs:n,selectedTab:e,onTabSelect:t})}),e===A.e5.CLAIMED?(0,r.jsx)(m,{onSelectTab:t}):(0,r.jsx)(R.Z,{})]})]})})]})})})}},710914:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(392711),s=n(481060),c=n(497505),u=n(415104),d=n(388032),p=n(334525);function f(e){let{quests:t,isFetching:n,hasFiltersApplied:l=!1,onClearFilters:f}=e,h=null;if(window.location.hash.length>0){let e=window.location.hash.slice(1);for(let n of t)if(n.id===e){h=e;break}}i.useEffect(()=>{for(let e of t)if(e.id===h){let e=document.getElementById("quest-tile-".concat(h));null==e||e.scrollIntoView({behavior:"smooth",block:"center"});break}},[t,h]);let g=null!=h,[m,b]=i.useState(window.innerWidth);i.useEffect(()=>{let e=(0,o.debounce)(()=>{b(window.innerWidth)},250);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let _=m>=1610?3:m>=1340?2:1;return n&&0===t.length?(0,r.jsx)(s.$jN,{className:p.spinner}):0===t.length?(0,r.jsxs)("div",{className:p.emptyStateContainer,children:[(0,r.jsx)(s.X6q,{variant:"heading-xl/semibold",children:d.intl.string(l?d.t.PBfFn5:d.t["NqFP6+"])}),(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"text-secondary",children:l?d.intl.format(d.t.LdYS1N,{onClick:f}):d.intl.string(d.t.LhD4yM)})]}):(0,r.jsx)("div",{className:p.container,children:t.map((e,t)=>{let n=Math.floor(t/_);return(0,r.jsx)(u.Z,{quest:e,questContent:c.jn.QUEST_HOME_DESKTOP,contentPosition:t,rowIndex:n,className:a()(p.questTile,{[p.selected]:g&&e.id===h,[p.unselected]:g&&e.id!==h}),sourceQuestContent:c.jn.QUEST_HOME_DESKTOP},e.id)})},h)}},452081:function(e,t,n){n.d(t,{z:()=>s});var r=n(647438),i=n(703656),l=n(113434),a=n(220068),o=n(388032);function s(){let e=a.Z.useField("tab"),t=r.useCallback(e=>{(0,i.dL)("#"),a.Z.setState({tab:e})},[]);return{tabs:r.useMemo(()=>[{id:l.e5.ALL,label:o.intl.string(o.t["0SzXmp"])},{id:l.e5.CLAIMED,label:o.intl.string(o.t.zyNYND)}],[]),selectedTab:e,onSelectTab:t}}},125011:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(120356),l=n.n(i),a=n(70097),o=n(883079),s=n(201284);let c=e=>{let{className:t}=e;return(0,r.jsx)("div",{className:l()(o.container,t),children:(0,r.jsx)(a.Z,{className:o.asset,playsInline:!0,controls:!1,children:(0,r.jsx)("source",{src:s.Z,type:"video/webm"})})})}},23404:function(e,t,n){n.d(t,{Z:()=>w}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(442837),s=n(755721),c=n(481060),u=n(210887),d=n(617136),p=n(509212),f=n(272008),h=n(113434),g=n(569984),m=n(497505),b=n(373370),_=n(475595),O=n(566078),E=n(602667),y=n(611855),v=n(110560),I=n(670638),C=n(667105),S=n(860151),N=n(46140),T=n(981631),P=n(388032),j=n(408228);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e){var t;let{quest:n}=e,i=(0,h.B6)(n.config.expiresAt),l=(0,h.B6)(O.r.build(n.config).rewardsExpireAt),a=(0,o.e7)([u.Z],()=>u.Z.getState().theme),s=(0,c.wjy)(a)?T.BRd.DARK:T.BRd.LIGHT,d=(null==(t=n.userStatus)?void 0:t.completedAt)!=null;return(0,r.jsxs)("div",{className:j.heading,children:[(0,r.jsx)("img",{className:j.headingGameTile,alt:"",src:(0,_.fh)(n,_.eC.GAME_TILE,s).url}),(0,r.jsxs)("div",{className:j.headingCopy,children:[(0,r.jsx)(c.X6q,{variant:"heading-md/semibold",color:"header-primary",children:d?P.intl.string(P.t.XBboAA):P.intl.formatToPlainString(P.t.EQa7oq,{questName:n.config.messages.questName})}),(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:d?P.intl.formatToPlainString(P.t.APddvL,{expirationDate:l}):P.intl.formatToPlainString(P.t["pX+fmp"],{expirationDate:i})})]})]})}function Z(e){var t,n,l,u;let{nodeRef:_,quest:O}=e,E=(0,d.O5)(),T=(0,o.e7)([g.Z],()=>g.Z.isEnrolling(O.id),[O]),Z=(0,o.e7)([g.Z],()=>null!=g.Z.questEnrollmentBlockedUntil,[]),[w,L]=i.useState(!1),R=i.useCallback(()=>L(!0),[]),D=i.useCallback(()=>L(!1),[]),k=i.useCallback(e=>{e.stopPropagation()},[]),M=i.useCallback(()=>{(0,f.AH)(O.id,{questContent:m.jn.ACTIVITY_PANEL,questContentCTA:d.jZ.ACCEPT_QUEST,sourceQuestContent:m.jn.ACTIVITY_PANEL})},[O]),U=i.useCallback(()=>{null!=O&&(E({questId:O.id,questContent:m.jn.ACTIVITY_PANEL,questContentCTA:d.jZ.TRACK_PROGRESS,sourceQuestContent:m.jn.ACTIVITY_PANEL}),(0,v.navigateToQuestHome)({fromContent:m.jn.ACTIVITY_PANEL,questId:O.id}))},[O,E]),G=i.useCallback(()=>{E({questId:O.id,questContent:m.jn.ACTIVITY_PANEL,questContentCTA:d.jZ.LEARN_MORE,sourceQuestContent:m.jn.ACTIVITY_PANEL}),(0,v.navigateToQuestHome)({fromContent:m.jn.ACTIVITY_PANEL,questId:O.id})},[O.id,E]),B=(0,C.hf)({quest:O,questContent:m.jn.ACTIVITY_PANEL,sourceQuestContent:m.jn.ACTIVITY_PANEL}),V=(0,h.tP)(O),H=(null==(t=O.userStatus)?void 0:t.enrolledAt)!=null,F=(null==(n=O.userStatus)?void 0:n.completedAt)!=null,z=(null==(l=O.userStatus)?void 0:l.claimedAt)!=null,W=(null==O?void 0:O.userStatus)!=null&&(0,p.zE)(O.userStatus,m.jn.ACTIVITY_PANEL),Y=(0,h.Rf)(O),K=(0,b.DD)({quest:O,taskDetails:Y,location:N.dr.ACTIVITY_PANEL,questContent:m.jn.ACTIVITY_PANEL,sourceQuestContent:m.jn.ACTIVITY_PANEL});return W||V||z||Z?null:(0,r.jsxs)("div",{ref:e=>{_.current=e},className:a()(j.wrapper,{[j.wrapperQuestAccepted]:H}),onClick:k,onKeyPress:k,onFocus:R,onMouseEnter:R,onBlur:D,onMouseLeave:D,children:[(0,r.jsxs)("div",{className:j.utils,children:[H?(0,r.jsx)(A,{quest:O}):(0,r.jsx)(y.Z,{}),(0,r.jsx)(I.r,{quest:O,questContent:m.jn.ACTIVITY_PANEL,shouldShowDisclosure:(null==(u=O.userStatus)?void 0:u.enrolledAt)==null,showShareLink:!0,sourceQuestContent:m.jn.ACTIVITY_PANEL,children:e=>{var t,n;return(0,r.jsx)(c.P3F,(t=x({},e),n=n={"aria-label":P.intl.string(P.t.DEoVWV),children:(0,r.jsx)(c.xhG,{size:"md",color:"currentColor",className:j.submenuIcon})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})]}),!H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{quest:O}),(0,r.jsx)("div",{className:j.instructions,children:(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"text-default",children:K})})]}),H&&!F&&(0,r.jsx)(S.Z,{autoplay:w,className:j.rewardTileWithInstructions,quest:O,questContent:m.jn.ACTIVITY_PANEL,location:N.dr.ACTIVITY_PANEL,taskDetails:Y,sourceQuestContent:m.jn.ACTIVITY_PANEL}),(0,r.jsxs)("div",{className:j.ctas,children:[!H&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zx,{className:j.cta,color:s.zx.Colors.PRIMARY,fullWidth:!0,size:s.zx.Sizes.SMALL,onClick:G,children:P.intl.string(P.t.LLLLPD)}),(0,r.jsx)(s.zx,{className:j.cta,color:s.zx.Colors.BRAND,fullWidth:!0,onClick:M,size:s.zx.Sizes.SMALL,submitting:T,children:P.intl.string(P.t.l7E81t)})]}),H&&!F&&(0,r.jsx)(s.zx,{className:j.cta,color:s.zx.Colors.BRAND,fullWidth:!0,onClick:U,size:s.zx.Sizes.SMALL,children:P.intl.string(P.t.VN1Ajo)}),F&&(0,r.jsx)(s.zx,{className:j.cta,color:s.zx.Colors.BRAND,fullWidth:!0,onClick:B,size:s.zx.Sizes.SMALL,children:P.intl.string(P.t.cfY4PD)})]})]})}let w=function(e){return(0,r.jsx)(E.A,{questOrQuests:e.quest,questContent:m.jn.ACTIVITY_PANEL,sourceQuestContent:m.jn.ACTIVITY_PANEL,children:t=>(0,r.jsx)(Z,x({nodeRef:t},e))})}},141321:function(e,t,n){n.d(t,{Z:()=>_});var r=n(951288),i=n(647438),l=n(442837),a=n(481060),o=n(317632),s=n(602478),c=n(665149),u=n(388035),d=n(306680),p=n(594174),f=n(178088),h=n(222940),g=n(490897),m=n(388032),b=n(741047);function _(e){let{onOpen:t,onClose:n,className:_,"data-jump-section":O}=e,E=i.useRef(null),y=(0,l.e7)([p.default],()=>p.default.getCurrentUser()),v=i.useRef(null),I=(0,l.e7)([d.ZP],()=>(null==y?void 0:y.id)!=null&&d.ZP.getMentionCount(y.id,g.W.NOTIFICATION_CENTER)>0),{enabled:C}=s.Z.useExperiment({location:"RecentsButton"},{autoTrackExposure:!1}),S=(0,l.e7)([o.Z],()=>C&&o.Z.getUnseenInviteCount()>0),N=(0,a.dQu)(a.TVs.modules.chat.INPUT_ICON_SIZE);return(0,r.jsx)(f.k,{targetElementRef:v,onOpen:t,onClose:n,badgeState:{badgeForYou:I},popoutPosition:"bottom",popoutAlign:"right",children:(e,t,n,i)=>{var l,o;return(0,r.jsxs)("div",{ref:v,className:b.recentsIcon,children:[C&&(0,r.jsx)(h.Z,{inboxIconRef:v,recentsPopoutShown:t}),(0,r.jsx)(u.U,{location:"inbox-button",targetElementRef:E,children:(0,r.jsx)(c.JO,(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),o=o={ref:E,className:_,onClick:e,icon:a.xx7,iconSize:N,"aria-label":m.intl.string(m.t.GSmTKC),tooltip:t?null:m.intl.string(m.t.GSmTKC),selected:t,showBadge:I||S||i,"data-jump-section":O},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))}),l))})]})}})}},222940:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(951288),i=n(647438),l=n(399606),a=n(846519),o=n(481060),s=n(317632),c=n(174767),u=n(594174),d=n(388032),p=n(261385);function f(e){let{inboxIconRef:t,recentsPopoutShown:n}=e,[f,h]=i.useState(!1),g=(0,l.e7)([s.Z],()=>s.Z.getLastUnseenInvite()),m=(0,l.e7)([u.default],()=>null!=g?u.default.getUser(g.inviter_id):null);return(i.useEffect(()=>{n&&h(!1)},[n]),i.useEffect(()=>{if(null==g)return void h(!1);(0,c.Br)(g),h(!0);let e=new a.V7;return e.start(5e3,()=>{h(!1)}),()=>{e.stop()}},[g]),f&&null!=g&&null!=m)?(0,r.jsxs)(o.Cys,{tooltipClassName:p.tooltip,tooltipContentClassName:p.tooltipContent,targetElementRef:t,position:"bottom",color:o.FGA.PRIMARY,children:[(0,r.jsxs)("div",{className:p.iconContainer,children:[(0,r.jsx)("img",{className:p.inviteImage,src:g.application_asset,alt:"Game Invite"}),(0,r.jsx)("div",{className:p.offsetAvatarContainer,children:(0,r.jsx)(o.qEK,{"aria-label":"Inviter",className:p.inviterImage,src:m.getAvatarURL(null,24),size:o.EFr.SIZE_24})})]}),(0,r.jsxs)("div",{className:p.titleContainer,children:[(0,r.jsx)(o.Text,{className:p.__invalid_title,variant:"text-xs/semibold",children:d.intl.format(d.t["8gTZ8v"],{username:m.username})}),(0,r.jsx)(o.Text,{className:p.__invalid_subtitle,variant:"text-xxs/medium",children:g.application_name})]})]}):null}},432496:function(e,t,n){n.d(t,{Z:()=>d});var r=n(442837),i=n(570140),l=n(749210);let a={},o=0;function s(e){var t,n;return null!=(n=null==(t=a[e])?void 0:t.fetchState)?n:0}function c(){a={}}class u extends r.ZP.Store{isFetchingFriendsForGuild(e){return 1===s(e)}fetchFriendMembersIfNotFetched(e,t){0===s(e)&&(a[e]={fetchState:1,foundMembers:0,notFoundMembers:0},o=t.length,l.Z.requestMembersById(e,t,!1))}}let d=new u(i.Z,{CONNECTION_OPEN:c,LOGOUT:c,RELATIONSHIP_ADD:c,RELATIONSHIP_REMOVE:c,GUILD_MEMBERS_CHUNK_BATCH:function(e){var t,n;let r=e.chunks[0],{guildId:i}=r;1===s(i)&&(a[i].foundMembers+=r.members.length,a[i].notFoundMembers+=null!=(n=null==(t=r.notFound)?void 0:t.length)?n:0,a[i].foundMembers+a[i].notFoundMembers>=o&&(a[i].fetchState=2))}})},592546:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"guild",id:"2025-04_report_to_mod",label:"Report to moderator",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1},treatments:[{id:1,label:"report to moderator triggering",config:{enabled:!0}}]})},914946:function(e,t,n){n.d(t,{FJ:()=>en,RE:()=>G,T5:()=>V,Xb:()=>H,YK:()=>ee,YS:()=>J,_J:()=>z,_f:()=>ei,aE:()=>F,bu:()=>er,kb:()=>W,s9:()=>Y,t9:()=>Q,tr:()=>et,vv:()=>$,zM:()=>K,zy:()=>q}),n(35282),n(413496),n(433524),n(388685),n(539854),n(415506),n(704826),n(997841),n(642613),n(392711);var r,i,l=n(729594),a=n(243814),o=n(544891),s=n(63023),c=n(904245),u=n(155268),d=n(812206),p=n(454585),f=n(739566),h=n(973616),g=n(131704),m=n(598077),b=n(592125),_=n(430824),O=n(131951),E=n(375954),y=n(158776),v=n(594174),I=n(979651),C=n(70956),S=n(5192),N=n(226951),T=n(591759),P=n(996106),j=n(863141),x=n(186901),A=n(981631);function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let L=null!=(i=null==(r=T.Z.toURLSafe(window.GLOBAL_ENV.API_ENDPOINT))?void 0:r.host)?i:"localhost",R=function(){let e=L.split(":")[0];if(!e.includes("."))return e;let t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),D=new RegExp("^".concat(N.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(N.Z.escape(R),"|discordapp.com|discord.com)$")),k=+C.Z.Millis.MINUTE,M={};function U(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=G(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(U)),e}function G(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function V(e,t){let n=[],r=e.getGuildId();return[A.d4z.GUILD_CATEGORY,...g.tx].includes(e.type)||n.push(new Promise(t=>{E.Z.whenReady(e.id,()=>t()),c.Z.fetchMessages({channelId:e.id,limit:A.AQB})})),Promise.all(n).then(()=>{var n;let i=(!e.isNSFW()||(null==(n=v.default.getCurrentUser())?void 0:n.nsfwAllowed)===!0)&&t?E.Z.getMessages(e.id).toArray().map(H):[],l=Object.values(I.Z.getVoiceStatesForChannel(e.id)).map(t=>F(r,e.id,t));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:i,voice_states:l}})}function H(e){let t=p.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(U),n=b.Z.getChannel(e.channel_id),r=null!=e.author?new m.Z(e.author):void 0,i=null!=e.author?(0,f.ij)(r,n):void 0;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:null==i?void 0:i.nick,author_color:null==i?void 0:i.colorString,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:null!=r?(0,j.Z)(r):void 0,pinned:e.pinned,type:e.type}}function F(e,t,n){let{mute:r,deaf:i,selfMute:l,selfDeaf:a,suppress:o,userId:s}=n,c=v.default.getUser(s);if(null==c)throw Error("Invalid user id: ".concat(s));return{nick:S.ZP.getName(e,t,c),mute:O.Z.isLocalMute(c.id),volume:O.Z.getLocalVolume(c.id),pan:O.Z.getLocalPan(c.id),voice_state:{mute:r,deaf:i,self_mute:l,self_deaf:a,suppress:o},user:(0,j.Z)(c)}}function z(e,t){return{type:e,user:(0,j.Z)(t),presence:{status:y.Z.getStatus(t.id,null),activity:null}}}function W(e,t){var n;return null==t?e:w(Z({},e),{presence:w(Z({},e.presence),{activity:null!=(n=y.Z.getApplicationActivity(e.user.id,t))?n:null})})}function Y(e){let t;if(null==e)return!1;let n=window.location.origin;if(e===n)return!0;try{t=l.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!!(D.test(e)&&D.test(n))}function K(e,t,n){let r=_.Z.getGuild(e.getGuildId());return(null!=r?r.application_id:e.getApplicationId())===t||n.indexOf(a.x.MESSAGES_READ)>-1}function q(e){switch(e){case A.hes.RTC_CONNECTED:case A.hes.RTC_CONNECTING:case A.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function Q(e,t,n){return e===A.mFx.JOIN&&null!=t&&null!=t.id&&null!=n.join}function X(e){return o.tn.get({url:A.ANM.APPLICATION_RPC(e),oldFormErrors:!0,retries:3,rejectWithError:!0}).then(e=>{let{body:t}=e;return t},()=>{throw new P.Z({closeCode:A.$VG.INVALID_CLIENTID},"Invalid Client ID")})}async function J(e,t,n){let r=d.Z.getApplication(t);if("string"==typeof n)if(e.transport===x.He.POST_MESSAGE){let e=(0,u.ZP)(t);if(null==e||!B(n,[e]))throw new P.Z({closeCode:A.$VG.INVALID_ORIGIN},"Invalid Origin")}else{let e=await X(t);if(r=h.ZP.createFromServer(e),!B(n,e.rpc_origins))throw new P.Z({closeCode:A.$VG.INVALID_ORIGIN},"Invalid Origin")}null==r&&(r=h.ZP.createFromServer(await X(t)));let{id:i,name:l,icon:a,coverImage:o,flags:s}=r;e.application={id:i,name:l,icon:a,coverImage:o,flags:s}}async function $(e,t){let n=M[e];null==n&&(n=new s.Z(t?2:60,k),M[e]=n),await n.process()}function ee(e,t){null==t&&(e.authorization.scopes=[x.lH])}function et(e){let t=O.Z.getSettings(),n=e=>Object.values(e).sort((e,t)=>e.index-t.index).map(e=>({id:e.id,name:e.name})),r=e(t);return{input:{available_devices:n(O.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(O.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function en(e,t){let n=O.Z.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function er(e){if(e!==x.He.POST_MESSAGE)throw new P.Z({errorCode:A.lTL.INVALID_COMMAND},'command not available from "'.concat(e," transport"))}function ei(e){if(null==e.id)throw new P.Z({errorCode:A.lTL.INVALID_COMMAND},"Invalid application");return e.id}},238679:function(e,t,n){n.d(t,{KW:()=>f,dO:()=>p,gQ:()=>h});var r=n(392711),i=n.n(r),l=n(317381),a=n(16609),o=n(594174),s=n(823379),c=n(5192),u=n(863141),d=n(186901);function p(){let e=l.ZP.getCurrentEmbeddedActivity();if(null==e)return{participants:[]};let t=(0,a.j)(e.location),n=(0,a.p)(e.location);return{participants:Array.from(e.userIds,e=>{var r,i;let l=o.default.getUser(e);if(null==l)return;let a=(0,c.y)(t,n,l);return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,u.Z)(l)),i=i={nickname:null!=a?a:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r}).filter(s.lm)}}let f={[d.Gp.ANY]:[d.wE]},h={scope:f,handler:()=>e=>{let{prevState:t,dispatch:n}=e,r=p();return i().isEqual(r,t)||n(r),r}}},452426:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return e.object().unknown(!0)}},561205:function(e,t,n){n.d(t,{Z:()=>l});var r=n(317381),i=n(592125);function l(){let e=r.ZP.getConnectedActivityChannelId();return i.Z.getChannel(e)}},901077:function(e,t,n){n.d(t,{Z:()=>o});var r=n(981631);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let a="<removed>";function o(e){var t,n;let o=i({},e);return"object"==typeof(t=o).args&&"string"==typeof t.cmd&&(o=function(e){switch(e.cmd){case r.Etm.AUTHENTICATE:case r.Etm.GET_PROVIDER_ACCESS_TOKEN:return l(i({},e),{args:l(i({},e.args),{access_token:a})});default:return i({},e)}}(o)),"object"==typeof(n=o).data&&"string"==typeof n.cmd&&(o=function(e){switch(e.cmd){case r.Etm.AUTHENTICATE:case r.Etm.GET_PROVIDER_ACCESS_TOKEN:return l(i({},e),{data:l(i({},e.data),{access_token:a})});default:return i({},e)}}(o)),o}},295424:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}},222263:function(e,t,n){n.d(t,{Z:()=>i});var r=n(864106);function i(e){let{userId:t,nick:n,guildId:i,avatar:l,avatarDecoration:a,banner:o,bio:s,pronouns:c,colorString:u}=e;return{user_id:t,nick:n,guild_id:i,avatar:l,avatar_decoration_data:(0,r.FG)(a),banner:o,bio:s,pronouns:c,color_string:u}}},408841:function(e,t,n){n.d(t,{n:()=>l});var r=n(996106),i=n(981631);let l={handler(e){throw new r.Z({errorCode:i.lTL.INVALID_COMMAND},"Deprecated command: ".concat(e.cmd))}}},600027:function(e,t,n){n.d(t,{T:()=>u});var r=n(591472),i=n(159300),l=n(430824),a=n(496675),o=n(996106),s=n(561205),c=n(981631);function u(){let e=r.Z.getConnectedFrame();if(null!=e)return{frame:e,channel:void 0,guild:void 0};let t=(0,s.Z)();if(null==t)throw new o.Z({errorCode:c.lTL.INVALID_CHANNEL},"Invalid channel");let n=l.Z.getGuild(t.getGuildId());if(null==n)throw new o.Z({errorCode:c.lTL.INVALID_CHANNEL},"Invalid guild ".concat(t.getGuildId()));if(!(0,i.b)(a.Z,n,t))throw new o.Z({errorCode:c.lTL.INVALID_PERMISSIONS},"No invite permissions for ".concat(t.id));return{frame:void 0,channel:t,guild:n}}},334288:function(e,t,n){n.d(t,{f:()=>a});var r=n(996106),i=n(186901),l=n(981631);function a(e){if(i.He.IPC!==e&&i.He.POST_MESSAGE!==e)throw new r.Z({errorCode:l.lTL.INVALID_COMMAND},"Invalid transport.")}},606271:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(442837),i=n(570140),l=n(107105),a=n(569984),o=n(592125),s=n(271383),c=n(430824),u=n(131951),d=n(158776),p=n(19780),f=n(699516),h=n(944486),g=n(594174),m=n(979651),b=n(626135),_=n(823379),O=n(358085),E=n(914946),y=n(238679),v=n(863141),I=n(981631),C=n(701488),S=n(408491),N=n(65154);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P{loadServer(){for(let e of(O.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform(),this.transports))this.rpcServer.registerTransport(e);for(let[e,t]of Object.entries(this.rpcCommandHandlers))this.rpcServer.setCommandHandler(e,t);for(let[e,t]of Object.entries(this.rpcEventHandlers))this.rpcServer.setEventHandler(e,t)}init(){this.rpcServer.getCurrentUser=()=>g.default.getCurrentUser(),this.rpcServer.onConnect=e=>{i.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application}),b.default.track(I.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})},this.rpcServer.onDisconnect=(e,t)=>{i.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};let e=[o.Z,s.ZP,d.Z,m.Z,u.Z,p.Z];new r.Fh(e.concat(this.stores),()=>this.rpcServer.updateSubscriptions()).attach("RPCServerManager"),i.Z.subscribe("MESSAGE_CREATE",this.handleMessage),i.Z.subscribe("MESSAGE_UPDATE",this.handleMessage),i.Z.subscribe("MESSAGE_DELETE",this.handleMessage),i.Z.subscribe("SPEAKING",this.handleSpeaking),i.Z.subscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),i.Z.subscribe("GUILD_CREATE",this.handleGuildCreate),i.Z.subscribe("CHANNEL_CREATE",this.handleChannelCreate),i.Z.subscribe("LOGOUT",this.handleLogout),i.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),i.Z.subscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),i.Z.subscribe("ACTIVITY_JOIN",this.handleActivityJoin),i.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),i.Z.subscribe("FRAME_UPDATE_LAYOUT_MODE",this.handleFrameUpdateLayoutMode),i.Z.subscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),i.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),i.Z.subscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),i.Z.subscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),i.Z.subscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),i.Z.subscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),i.Z.subscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),i.Z.subscribe("PRESENCES_REPLACE",this.handlePresencesReplace),i.Z.subscribe("USER_UPDATE",this.handleUserUpdate),i.Z.subscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),i.Z.subscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete),i.Z.subscribe("QUESTS_ENROLL_SUCCESS",this.handleQuestEnrollSuccess)}terminate(){i.Z.unsubscribe("MESSAGE_CREATE",this.handleMessage),i.Z.unsubscribe("MESSAGE_UPDATE",this.handleMessage),i.Z.unsubscribe("MESSAGE_DELETE",this.handleMessage),i.Z.unsubscribe("SPEAKING",this.handleSpeaking),i.Z.unsubscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),i.Z.unsubscribe("GUILD_CREATE",this.handleGuildCreate),i.Z.unsubscribe("CHANNEL_CREATE",this.handleChannelCreate),i.Z.unsubscribe("LOGOUT",this.handleLogout),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),i.Z.unsubscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),i.Z.unsubscribe("ACTIVITY_JOIN",this.handleActivityJoin),i.Z.unsubscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),i.Z.unsubscribe("FRAME_UPDATE_LAYOUT_MODE",this.handleFrameUpdateLayoutMode),i.Z.unsubscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),i.Z.unsubscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),i.Z.unsubscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),i.Z.unsubscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),i.Z.unsubscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),i.Z.unsubscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),i.Z.unsubscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),i.Z.unsubscribe("PRESENCES_REPLACE",this.handlePresencesReplace),i.Z.unsubscribe("USER_UPDATE",this.handleUserUpdate),i.Z.unsubscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),i.Z.unsubscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete),i.Z.unsubscribe("QUESTS_ENROLL_SUCCESS",this.handleQuestEnrollSuccess)}constructor(e){T(this,"rpcServer",void 0),T(this,"transports",void 0),T(this,"rpcCommandHandlers",void 0),T(this,"rpcEventHandlers",void 0),T(this,"stores",void 0),T(this,"registerTransportsForEmbeddedPlatform",void 0),T(this,"handleMessage",e=>{let t,n,r;if(0===this.rpcServer.subscriptions.length)return;"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);let i=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=I.zMe.MESSAGE_CREATE,n=e.channelId,r=e.message,i="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=I.zMe.MESSAGE_UPDATE,n=e.message.channel_id,r=e.message;break;case"MESSAGE_DELETE":t=I.zMe.MESSAGE_DELETE,n=e.channelId,r={id:e.id},i="".concat(t).concat(e.id);break;default:return(0,_.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,E.Xb)(r)},i)}),T(this,"handleSpeaking",e=>{if(0===this.rpcServer.subscriptions.length)return;let t=0!==e.speakingFlags?I.zMe.SPEAKING_START:I.zMe.SPEAKING_STOP;if(e.context===N.Yn.DEFAULT){let n=h.Z.getVoiceChannelId();if(null!=n){let r=o.Z.getChannel(n);if(null==r)return;let i=m.Z.getVoiceState(r.getGuildId(),e.userId);if(null==i)return;this.rpcServer.dispatchToSubscriptions(t,{channel_id:i.channelId},{channel_id:i.channelId,user_id:e.userId})}}}),T(this,"handleVoiceChannelSelect",e=>{let{guildId:t,channelId:n}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})}),T(this,"handleNotificationCreate",e=>{let{channelId:t,message:n,icon:r,title:i,body:l}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,E.Xb)(n),icon_url:null!=r?(0,E.RE)(r):null,title:i,body:l})}),T(this,"handleActivityJoin",e=>{let{applicationId:t,secret:n,intent:r,embedded:i}=e;if(0===this.rpcServer.subscriptions.length)return;let l={secret:n};i&&(l.intent=r),this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_JOIN,e=>e.socket.application.id===t,l),this.rpcServer.dispatchToSubscriptions(I.zMe.GAME_JOIN,e=>e.socket.application.id===t,l)}),T(this,"handleActivityLayoutModeUpdate",e=>{let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let r=n!==C.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:r}),this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:n})}),T(this,"handleFrameUpdateLayoutMode",e=>{let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let r=n===S.U.PIP?C.cE.PIP:C.cE.FOCUSED,i=r!==C.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:i}),this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:r})}),T(this,"handleThermalStateChange",e=>{let{applicationId:t}=e;if(0===this.rpcServer.subscriptions.length||null==t)return;let n={thermal_state:(0,l.bY)()};this.rpcServer.dispatchToSubscriptions(I.zMe.THERMAL_STATE_UPDATE,e=>e.socket.application.id===t,n)}),T(this,"handleScreenOrientationUpdate",e=>{let{screenOrientation:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.ORIENTATION_UPDATE,{},{screen_orientation:t})}),T(this,"handleEmbeddedActivityUpdate",()=>{if(0===this.rpcServer.subscriptions.length)return;let e=(0,y.dO)();this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE,{},e)}),T(this,"handleActivityMessage",e=>{var t;let{channelId:n,message:r}=e;if(0===this.rpcServer.subscriptions.length)return;let{application:i,activity:l}=r;if(null==i||null==l||null==l.party_id)return;let a=g.default.getUser(null==(t=r.author)?void 0:t.id);if(null==a)return;let o=g.default.getCurrentUser();if(null==o||a.id===o.id)return;let s=l.type===I.mFx.JOIN_REQUEST?d.Z.getApplicationActivity(o.id,i.id):d.Z.getApplicationActivity(a.id,i.id);if(null==s||null==s.party||s.party.id!==l.party_id)return;let c=s.application_id;switch(l.type){case I.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_INVITE,e=>e.socket.application.id===c,{user:(0,v.Z)(a),activity:s,type:l.type,channel_id:n,message_id:r.id});break;case I.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(I.zMe.ACTIVITY_JOIN_REQUEST,e=>e.socket.application.id===c,{user:(0,v.Z)(a),activity:s,type:l.type,channel_id:n,message_id:r.id})}}),T(this,"handleOAuth2TokenRevoke",e=>{let{accessToken:t}=e;this.rpcServer.sockets.forEach(e=>{e.authorization.accessToken===t&&e.close(I.$VG.TOKEN_REVOKED,"Token revoked")})}),T(this,"handleGuildCreate",e=>{let{guild:{id:t}}=e,n=c.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(I.zMe.GUILD_CREATE,{},{id:t,name:n.name})}),T(this,"handleChannelCreate",e=>{let{channel:{id:t,name:n,type:r}}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.CHANNEL_CREATE,{},{id:t,name:n,type:r})}),T(this,"handleLogout",()=>{this.rpcServer.sockets.forEach(e=>e.close(I.$VG.CLOSE_NORMAL,"User logout"))}),T(this,"handleRelationshipAdd",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let r=g.default.getUser(t);if(null==r)return;let i=(0,E._J)(n,r);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(i,e.socket.application.id))}),T(this,"handleRelationshipUpdate",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let r=g.default.getUser(t);if(null==r)return;let i=(0,E._J)(n,r);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(i,e.socket.application.id))}),T(this,"handleRelationshipRemove",e=>{let{relationship:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=g.default.getUser(t);if(null==n)return;let r=(0,E._J)(I.OGo.NONE,n);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(r,e.socket.application.id))}),T(this,"handlePresenceUpdates",e=>{let{updates:t}=e;if(0!==this.rpcServer.subscriptions.length)for(let e of new Set(t.map(e=>{let{user:t}=e;return t.id})).values()){let t=f.Z.getRelationshipType(e);if(t===I.OGo.NONE)continue;let n=g.default.getUser(e);if(null==n)continue;let r=(0,E._J)(t,n);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(r,e.socket.application.id))}}),T(this,"handlePresencesReplace",()=>{if(0!==this.rpcServer.subscriptions.length)for(let[e,t]of f.Z.getMutableRelationships().entries()){if(t===I.OGo.NONE)continue;let n=g.default.getUser(e);if(null==n)continue;let r=(0,E._J)(t,n);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(r,e.socket.application.id))}}),T(this,"handleUserUpdate",e=>{let{user:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=f.Z.getRelationshipType(t);if(n===I.OGo.NONE)return;let r=g.default.getUser(t);if(null==r)return;let i=(0,E._J)(n,r);this.rpcServer.dispatchToSubscriptions(I.zMe.RELATIONSHIP_UPDATE,{},e=>(0,E.kb)(i,e.socket.application.id))}),T(this,"handleEntitlementCreate",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.ENTITLEMENT_CREATE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),T(this,"handleEntitlementDelete",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(I.zMe.ENTITLEMENT_DELETE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),T(this,"handleQuestEnrollSuccess",e=>{let{enrolledQuestUserStatus:t}=e;if(0===this.rpcServer.subscriptions.length)return;let n=t.questId,r=a.Z.getQuest(n);null!=r&&this.rpcServer.dispatchToSubscriptions(I.zMe.QUEST_ENROLLMENT_STATUS_UPDATE,e=>{var t;return e.socket.application.id===r.config.application.id&&(null==(t=e.args)?void 0:t.quest_id)===n},{quest_id:n,is_enrolled:null!=t.enrolledAt,enrolled_at:t.enrolledAt})}),this.rpcServer=e.server,this.transports=e.transports,this.rpcCommandHandlers=e.commands,this.rpcEventHandlers=e.events,this.stores=e.stores,this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}}},703912:function(e,t,n){n.d(t,{Z:()=>P}),n(35282),n(997841),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(664751),i=n(373793),l=n(243814),a=n(149765),o=n(544891),s=n(45792),c=n(433517),u=n(570140),d=n(812206),p=n(979200),f=n(489863),h=n(166148),g=n(307643),m=n(973616),b=n(594174),_=n(630388),O=n(700785),E=n(996106),y=n(186901),v=n(981631);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let S="CachedTokens";async function N(e,t,n){let r,l,o,s,c,{client_id:u,response_type:y="code",redirect_uri:I,code_challenge:C,code_challenge_method:S,state:N,nonce:T,scope:P,permissions:j,guild_id:x,channel_id:A,prompt:Z,disable_guild_select:w,integration_type:L,pid:R,signal:D,isSocketRpcPrivateScope:k}=e;if(null==D?void 0:D.aborted)throw new E.Z({errorCode:v.lTL.UNKNOWN_ERROR},"Request aborted");if(null==u)throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"No Client ID provided");if(!k&&null!=I)throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let M=[];if("string"==typeof P?M=P.split(" ").filter(e=>e.length>0):Array.isArray(P)&&(M=P),null==b.default.getCurrentUser())throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"Client is not logged in");if(null!=L)l=Number(L);else{let e=e=>{var t;return null!=e&&(0,_.yE)(e.flags,v.udG.EMBEDDED)&&(null==(t=e.integrationTypesConfig)?void 0:t[i.Y.USER_INSTALL])!=null},t=d.Z.getApplication(u);l=e(t)||e(t=m.ZP.createFromServer(await (0,g.UM)(u,D)))?i.Y.USER_INSTALL:i.Y.GUILD_INSTALL}try{[o,{disclosures:s,allAcked:c}]=await Promise.all([(0,f.Ww)({clientId:u,scopes:M,responseType:y,redirectUri:I,codeChallenge:C,codeChallengeMethod:S,state:N,integrationType:l,signal:D}),(0,p.de)(u)])}catch(t){let{body:e}=t;throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}if(Z===h.s.NONE&&null!=o&&o.authorized&&c)try{return(await (0,f.Iq)({authorize:!0,clientId:u,scopes:M,responseType:y,redirectUri:I,codeChallenge:C,codeChallengeMethod:S,state:N,nonce:T,integrationType:l})).location}catch(t){let{body:e}=t;throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}null==n||n(o.application,A,R);let U=O.Hn;try{U=a.vB(null!=j?j:0)}catch(e){}return null!=o.integration_type&&Object.values(i.Y).includes(o.integration_type)&&(r=new Map).set(o.integration_type,o),t({clientId:u,authorizations:r,scopes:M,parsedPermissions:U,responseType:y,redirectUri:I,codeChallenge:C,codeChallengeMethod:S,state:N,guildId:x,channelId:A,prompt:Z,disableGuildSelect:w,disclosures:s,integrationType:l,pid:R,signal:D})}function T(e,t){if(e.authorization.accessToken)throw new E.Z({errorCode:v.lTL.INVALID_COMMAND},"Already authenticated");if(e.authorization.authing)throw new E.Z({errorCode:v.lTL.INVALID_COMMAND},"Already authenticating");return e.authorization.authing=!0,o.tn.get({url:v.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0,rejectWithError:!1}).then(n=>{e.authorization.authing=!1;let{application:r,user:i,scopes:l,expires:a}=n.body;if(e.application.id!==r.id)throw new E.Z({errorCode:v.lTL.INVALID_CLIENTID},"Application does not match the connection's");let o=b.default.getCurrentUser();if(null==o||!i||o.id!==i.id)throw new E.Z({errorCode:v.lTL.INVALID_TOKEN},"Token does not match current user");return e.authorization.scopes=[...e.authorization.scopes,...l,y.wE],e.authorization.accessToken=t,e.authorization.expires=new Date(a),u.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application}),C(I({},n.body),{access_token:t})},()=>{throw new E.Z({errorCode:v.lTL.INVALID_TOKEN},"Invalid access token: ".concat(t))}).catch(t=>{throw e.authorization.authing=!1,t})}function P(e,t){return{[v.Etm.AUTHENTICATE]:(0,s.S)(v.Etm.AUTHENTICATE,{handler(n){let{socket:i,signal:a,args:{access_token:o}}=n;if(null==o&&i.transport===y.He.IPC){let n=i.application.id;if(null==n)throw new E.Z({errorCode:v.lTL.INVALID_COMMAND},"No application.");let s=l.x.IDENTIFY,u=()=>N({client_id:n,scope:s,response_type:"token",signal:a,isSocketRpcPrivateScope:!1},e,t).then(e=>{if(null==e)throw new E.Z({errorCode:v.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=e.split(/#|\?/),l=r.parse(t[t.length-1]);if(null!=l.error){var a;throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(l.error,": ").concat(null!=(a=l.error_description)?a:"unknown error"))}return!function(e,t,n,r){var i;let l=null!=(i=c.K.get(S))?i:{};l[e]={accessToken:t,scope:n,expires:Date.now()+r},c.K.set(S,l)}(n,l.access_token,l.scope,l.expires_in),T(i,l.access_token)});return null!=(o=function(e,t){let n=c.K.get(S);if(null!=n&&null!=n[e]){let r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e],c.K.set(S,n)}}(n,s))?T(i,o).catch(()=>{var e;let t=null!=(e=c.K.get(S))?e:{};return delete t[n],c.K.set(S,t),u()}):u()}if(null==o)throw new E.Z({errorCode:v.lTL.INVALID_TOKEN},"No access token provided");return T(i,o)}}),[v.Etm.AUTHORIZE]:{handler(n){let{socket:r,signal:i,args:l}=n,a=l.client_id;if(!a)throw new E.Z({errorCode:v.lTL.INVALID_CLIENTID},"No client id provided");if(null!=r.authorization.accessToken)throw new E.Z({errorCode:v.lTL.INVALID_COMMAND},"Already authenticated");if(r.authorization.authing)throw new E.Z({errorCode:v.lTL.INVALID_COMMAND},"Already authing");if(r.authorization.authing=!0,"token"===l.response_type)throw r.authorization.authing=!1,new E.Z({errorCode:v.lTL.INVALID_COMMAND},'Authorization response_type "token" is not supported');let o=r.authorization.scopes.includes(y.cE);if(!o&&r.application.id!==a)throw r.authorization.authing=!1,new E.Z({errorCode:v.lTL.INVALID_CLIENTID},"Application does not match the connection's");let s=l.scopes||l.scope;return delete l.scopes,N(C(I({},l),{scope:s,signal:i,isSocketRpcPrivateScope:o}),e,t).then(e=>{if(r.authorization.authing=!1,null==e)throw new E.Z({errorCode:v.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=new URL(e),n=t.searchParams.get("code");if(o)return{code:n,location:e};let i=t.searchParams.get("error");if(null!=i&&""!==i){var l;let e=null!=(l=t.searchParams.get("error_description"))?l:"unknown error";throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(i,": ").concat(e))}if(null==n)throw new E.Z({errorCode:v.lTL.OAUTH2_ERROR},"OAuth2 Error: Unable to find auth code");return{code:n}}).catch(e=>{throw r.authorization.authing=!1,e})}}}}},894959:function(e,t,n){n.d(t,{Z:()=>o});var r=n(45792),i=n(914946),l=n(238679),a=n(981631);let o={[a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:(0,r.S)(a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS,{scope:l.KW,handler(e){let{socket:t}=e;return(0,i.bu)(t.transport),(0,l.dO)()}})}},624714:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(997841);var r=n(544891),i=n(115130),l=n(287545),a=n(812206),o=n(695103),s=n(626135),c=n(630388),u=n(996106),d=n(914946),p=n(452426),f=n(561205),h=n(186901),g=n(981631);let m={[g.Etm.SEND_ANALYTICS_EVENT]:{validation:e=>(0,p.Z)(e).required().keys({event_name:e.string().required(),event_properties:(0,p.Z)(e).required()}),handler(e){var t;let{socket:n,args:{event_name:r,event_properties:i}}=e;(0,d.bu)(n.transport),(0,d._f)(n.application);let o=n.application.id,p=(0,f.Z)(),h=null==p?void 0:p.getGuildId(),m=a.Z.getApplication(o);if(!(0,c.yE)(null!=(t=null==m?void 0:m.flags)?t:0,g.udG.EMBEDDED_FIRST_PARTY))throw new u.Z({errorCode:g.lTL.INVALID_COMMAND},"This application cannot access this API");let b=(0,l.U)(o),_={activity_application_id:o,activity_channel_type:null==p?void 0:p.type,activity_guild_id:h,activity_user_session_id:null==b?void 0:b.activityUserSessionId};s.default.track(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},_,i))}},[g.Etm.GET_APPLICATION_TICKET]:{scope:h.lH,handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new u.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return r.tn.post({url:g.ANM.APPLICATION_TICKET(n),body:{test_mode:o.Z.inTestModeForApplication(n)||i.Z.inDevModeForApplication(n)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t})}}}},906228:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(243814),i=n(120960),l=n(996106),a=n(452426),o=n(186901),s=n(981631),c=n(65154);let u={[s.Etm.SET_CERTIFIED_DEVICES]:{scope:{[o.Gp.ANY]:[r.x.RPC,o.lH]},validation:e=>(0,a.Z)(e).required().keys({devices:e.array().items((0,a.Z)(e).keys({type:e.string().required().valid([c.h7.AUDIO_INPUT,c.h7.AUDIO_OUTPUT,c.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),model:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))}),handler(e){let{socket:t,args:{devices:n}}=e;if(null==t.application.id)throw new l.Z({errorCode:s.lTL.INVALID_COMMAND},"No application.");(0,i.N)(t.application.id,n.map(e=>({type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter(e=>n.some(t=>t.id===e)),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute})))}}}},491327:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(392711),i=n.n(r),l=n(243814),a=n(447543),o=n(287734),s=n(703656),c=n(131704),u=n(592125),d=n(430824),p=n(496675),f=n(944486),h=n(979651),g=n(934415),m=n(996106),b=n(914946),_=n(452426),O=n(561205),E=n(186901),y=n(981631);let v={[y.Etm.GET_CHANNEL]:{scope:{[E.Gp.ANY]:[l.x.RPC,l.x.GUILDS,l.x.GUILDS_CHANNELS_READ]},handler(e){let{args:{channel_id:t},socket:n}=e,r=u.Z.getChannel(t);if(null==r)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));if(r.isPrivate()){let e=n.authorization.scopes;if(!e.includes(l.x.RPC)&&!e.includes(l.x.DM_CHANNELS_READ))throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Invalid scope")}return(0,b.T5)(r,(0,b.zM)(r,n.application.id,n.authorization.scopes))}},[y.Etm.GET_CHANNELS]:{scope:l.x.RPC,handler(e){let{args:{guild_id:t}}=e,n=i().values(u.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){let e=d.Z.getGuild(t);if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));n=n.filter(t=>{let{guild_id:n}=t;return n===e.id})}return{channels:n.filter(e=>p.Z.can(y.Plq.VIEW_CHANNEL,e)).map(e=>{let{id:t,name:n,type:r}=e;return{id:t,name:n,type:r}})}}},[y.Etm.GET_CHANNEL_PERMISSIONS]:{scope:{[E.Gp.ANY]:[l.x.GUILDS_MEMBERS_READ,l.x.GUILDS_CHANNELS_READ]},handler(e){let t=(0,O.Z)();if(null==t)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel");return{permissions:p.Z.computePermissions(t)}}},[y.Etm.SELECT_VOICE_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,_.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean(),navigate:e.boolean()}),handler(e){let{server:t,socket:n,args:{channel_id:r,timeout:i=0,force:l=!1,navigate:a=!1}}=e;if(!r)return o.default.selectVoiceChannel(null),null;let _=f.Z.getVoiceChannelId();if(null!=_&&_!==r&&!1===l)throw new m.Z({errorCode:y.lTL.SELECT_VOICE_FORCE_REQUIRED},"User is already joined to a voice channel.");return t.storeWait(n,()=>u.Z.getChannel(r),i).catch(()=>{throw new m.Z({errorCode:y.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select voice channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(r));if(!(0,c.vd)(e.type))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,b.T5)(e,(0,b.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id){if((0,g.rY)(t,h.Z,d.Z))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is full");if(!p.Z.can(y.Plq.CONNECT,t))throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Connect permission required to join channel")}return o.default.selectVoiceChannel(t.id),a&&(0,s.dL)(y.Z5c.CHANNEL(t.guild_id,t.id)),n})}},[y.Etm.GET_SELECTED_VOICE_CHANNEL]:{scope:{[E.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler(e){let{socket:t}=e,n=f.Z.getVoiceChannelId(),r=null!=n?u.Z.getChannel(n):null;return null!=r?(0,b.T5)(r,(0,b.zM)(r,t.application.id,t.authorization.scopes)):null}},[y.Etm.SELECT_TEXT_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,_.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)}),handler(e){let{server:t,socket:n,args:{channel_id:r,timeout:i=0}}=e;return r?t.storeWait(n,()=>u.Z.getChannel(r),i).catch(()=>{throw new m.Z({errorCode:y.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select text channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(r));if(!(0,c.Qm)(e.type))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,b.T5)(e,(0,b.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id&&!p.Z.can(y.Plq.VIEW_CHANNEL,t))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"No permission to see channel");return n.guild_id?(0,s.dL)(y.Z5c.CHANNEL(n.guild_id,t.id)):o.default.selectPrivateChannel(t.id),n}):((0,s.uL)(y.Z5c.ME),null)}},[y.Etm.CREATE_CHANNEL_INVITE]:{scope:l.x.RPC,handler(e){var{args:{channel_id:t}}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e.args,["channel_id"]);return a.ZP.createInvite(t,n,"RPC").catch(()=>{throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))})}}}},934993:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(996106),l=n(452426),a=n(186901),o=n(981631);let s={[o.Etm.SET_CONFIG]:{scope:a.wE,validation:e=>(0,l.Z)(e).required().keys({use_interactive_pip:e.boolean()}),handler(e){let{socket:t,args:{use_interactive_pip:n}}=e;if(t.transport!==a.He.POST_MESSAGE)throw new i.Z({errorCode:o.lTL.INVALID_COMMAND},'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new i.Z({errorCode:o.lTL.INVALID_COMMAND},"invalid application");return r.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}}),Promise.resolve({use_interactive_pip:n})}}}},576027:function(e,t,n){n.d(t,{A:()=>C});var r=n(894959),i=n(624714),l=n(906228),a=n(491327),o=n(934993),s=n(793839),c=n(758177),u=n(97375),d=n(853678),p=n(378410),f=n(468136),h=n(64974),g=n(83567),m=n(906911),b=n(647656),_=n(562018),O=n(265067),E=n(881393),y=n(905534),v=n(273487),I=n(543815);let C=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},i.Z,l.Z,a.Z,o.Z,s.Z,c.Z,u.Z,d.Z,p.Z,f.Z,g.Z,m.Z,b.Z,_.Z,E.Z,y.Z,I.Z,v.Z,h.Z,O.Z,r.Z)},793839:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(243814),i=n(601964),l=n(430824),a=n(996106),o=n(452426),s=n(981631);let c={[s.Etm.GET_GUILD]:{scope:r.x.RPC,validation:e=>(0,o.Z)(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)}),handler(e){let{socket:t,server:n,args:{guild_id:r,timeout:o=0}}=e;return n.storeWait(t,()=>l.Z.getGuild(r),o).catch(()=>{throw new a.Z({errorCode:s.lTL.GET_GUILD_TIMED_OUT},"Request to get guild timed out.")}).then(e=>{var t;if(null==e)throw new a.Z({errorCode:s.lTL.INVALID_GUILD},"Invalid guild id: ".concat(r));return{id:e.id,name:e.name,icon_url:null!=(t=(0,i.EB)(e,128))?t:null,members:[],vanity_url_code:e.vanityURLCode}})}},[s.Etm.GET_GUILDS]:{scope:r.x.RPC,handler:()=>({guilds:l.Z.getGuildsArray().map(e=>{var t;return{id:e.id,name:e.name,icon_url:null!=(t=(0,i.EB)(e,128))?t:null}})})}}},758177:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(594174),i=n(768581),l=n(956664),a=n(996106),o=n(452426),s=n(186901),c=n(981631);let u={[c.Etm.GET_IMAGE]:{scope:s.lH,validation:e=>(0,o.Z)(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])}),handler(e){let t,{args:{type:n,id:o,format:s="png",size:u=128}}=e;if("user"===n){let e=r.default.getUser(o);if(null!=e){t=i.ZP.getUserAvatarURL(e,!1,u,s);let n=window.GLOBAL_ENV.CDN_HOST;null!=n&&-1!==t.indexOf(n)&&(t+="&_=")}else throw new a.Z({errorCode:c.lTL.INVALID_USER},"Invalid user id: ".concat(o))}if(null==t)throw new a.Z({errorCode:c.lTL.INVALID_COMMAND},"No valid type.");return fetch(t).then(e=>e.blob()).then(e=>(0,l.fD)(e)).then(e=>({data_url:e}))}}}},97375:function(e,t,n){n.d(t,{Z:()=>h});var r=n(24917),i=n(106351),l=n(252258),a=n(243814),o=n(45792),s=n(566620),c=n(317381),u=n(592125),d=n(600027),p=n(186901),f=n(231338);let h={[f.Et.INVITE_USER_EMBEDDED]:(0,o.S)(f.Et.INVITE_USER_EMBEDDED,{scope:{[p.Gp.ANY]:[a.x.RELATIONSHIPS_READ]},async handler(e){let t,{socket:n,args:{user_id:a,content:o}}=e,p=n.application.id;if(null==p)throw new r.O({errorCode:f.lT.INVALID_COMMAND},"No application.");let h=c.ZP.getConnectedActivityLocation();if(null==h)throw new r.O({errorCode:f.lT.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity was set using setActivity.");switch(h.kind){case l.E.GUILD_CHANNEL:case l.E.GUILD_CHANNEL_MESSAGE:t=(0,d.T)().channel;break;case l.E.PRIVATE_CHANNEL:case l.E.PRIVATE_CHANNEL_MESSAGE:let g=u.Z.getChannel(h.channel_id);if(null==g)throw new r.O({errorCode:f.lT.INVALID_CHANNEL},"Invalid channel");if(g.type===i.d.DM)throw new r.O({errorCode:f.lT.INVALID_CHANNEL},"Cannot send invite to a DM");t=g;break;default:throw new r.O({errorCode:f.lT.NO_ELIGIBLE_ACTIVITY},"Unsupported activity location")}try{await (0,s.pu)({channelId:t.id,applicationId:p,userId:a,prefixedContent:o,location:"RPC_ACTIVITY_INVITE_USER"})}catch(e){throw new r.O({errorCode:f.lT.UNKNOWN_ERROR},"Failed to invite user")}}})}},853678:function(e,t,n){n.d(t,{Z:()=>T}),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(997841);var r=n(45792),i=n(230711),l=n(782568),a=n(636449),o=n(317381),s=n(611577),c=n(840074),u=n(16609),d=n(812206),p=n(626135),f=n(12647),h=n(630388),g=n(49012),m=n(358085),b=n(996106),_=n(914946),O=n(452426),E=n(186901),y=n(981631),v=n(701488),I=n(674563);let C=new Set([v.Fu,v.JT]),S=new Set(["www.nytimes.com","apps.apple.com","play.google.com"]),N=new Map([[I.Vt,{trustedHosts:S,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}],[I.fd,{trustedHosts:S,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}],[I.He,{trustedHosts:S,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}]]),T={[y.Etm.OPEN_EXTERNAL_LINK]:{scope:{[E.Gp.ANY]:[E.wE,E.b_]},validation:e=>(0,O.Z)(e).required().keys({url:e.string().required()}),handler(e){let{socket:t,args:{url:n}}=e;(0,_.bu)(t.transport);let r=o.ZP.getCurrentEmbeddedActivity();try{var i,c;let e=new URL(n),o=e.toString();if(m.isPlatformEmbedded){let e=(0,a.R)()?y.KJ3.ACTIVITY_POPOUT:null;f.Z.focus(e,!0)}let h=d.Z.getApplication(null==(i=t.application)?void 0:i.id),b=(0,u.p)(null==r?void 0:r.location),_=(null==h?void 0:h.id)!==void 0?N.get(h.id):void 0;if(void 0!==_&&_.trustedUntilEpochMs>=Date.now()&&_.trustedHosts.has(e.host))return(0,l.Z)(o),p.default.track(y.rMx.RPC_OPEN_EXTERNAL_LINK_CALLED,{application_id:null==(c=t.application)?void 0:c.id,url:o,opened:!0}),Promise.resolve({opened:!0});return new Promise(e=>(0,g.q)({href:o,shouldConfirm:!0,onConfirm:()=>{var n;(0,l.Z)(o),p.default.track(y.rMx.RPC_OPEN_EXTERNAL_LINK_CALLED,{application_id:null==(n=t.application)?void 0:n.id,url:o,opened:!0}),e({opened:!0})},onCancel:()=>{var n;p.default.track(y.rMx.RPC_OPEN_EXTERNAL_LINK_CALLED,{application_id:null==(n=t.application)?void 0:n.id,url:o,opened:!1}),e({opened:!1})}},void 0,void 0,(0,s.z)({application:h,channelId:b})))}catch(e){throw new b.Z({errorCode:y.lTL.INVALID_COMMAND},"Invalid URL: ".concat(n))}}},[y.Etm.NAVIGATE_TO_CONNECTIONS]:{validation:e=>(0,O.Z)(e),scope:{[E.Gp.ANY]:[E.wE]},handler(e){let{socket:t}=e;(0,_.bu)(t.transport);let n=(0,_._f)(t.application);if(!C.has(n))throw new b.Z({errorCode:y.lTL.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");i.Z.open(y.oAB.CONNECTIONS)}},[y.Etm.SHARE_LINK]:(0,r.S)(y.Etm.SHARE_LINK,{scope:{[E.Gp.ANY]:[E.wE]},handler(e){var t;let{socket:n,args:{custom_id:r,message:i,link_id:l}}=e;(0,_.bu)(n.transport);let a=(0,_._f)(n.application);if(null==a)throw new b.Z({errorCode:y.lTL.INVALID_COMMAND},"No application.");if(!(0,h.yE)(null!=(t=n.application.flags)?t:0,y.udG.EMBEDDED))throw new b.Z({errorCode:y.lTL.INVALID_COMMAND},"This application cannot access this API");return new Promise(e=>{(0,c._)({applicationId:a,customId:r,linkId:l,message:i,onShare:(t,n)=>{e({success:n||t,didCopyLink:n,didSendMessage:t})}})})}})}},378410:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(710845),i=n(914946),l=n(452426),a=n(981631);let o=new r.Z(a.BZL),s={[a.Etm.CAPTURE_LOG]:{validation:e=>(0,l.Z)(e).required().keys({level:e.string().max(10).required(),message:e.string().max(1e3).required()}),handler(e){let{socket:t,args:{level:n,message:r}}=e;(0,i.bu)(t.transport);let l=t.application.id,a="".concat(l," - ").concat(r);switch(n){case"log":o.log(a);break;case"warn":o.warn(a);break;case"debug":o.verbose(a);break;case"info":o.info(a);break;case"error":o.error(a)}}}}},468136:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(544891),i=n(626135),l=n(186901),a=n(981631);let o={[a.Etm.GET_NETWORKING_CONFIG]:{scope:l.lH,handler:()=>Promise.all([r.tn.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3,rejectWithError:!1}).then(e=>{let{body:{address:t}}=e;return t}),r.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:{token:t}}=e;return t})]).then(e=>{let[t,n]=e;return{address:t,token:n}})},[a.Etm.NETWORKING_SYSTEM_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,i.default.track(a.rMx.NETWORKING_SYSTEM_METRICS,n)}},[a.Etm.NETWORKING_PEER_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,i.default.track(a.rMx.NETWORKING_PEER_METRICS,n)}},[a.Etm.NETWORKING_CREATE_TOKEN]:{scope:l.lH,handler:()=>r.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0,rejectWithError:!1}).then(e=>e.body)}}},64974:function(e,t,n){n.d(t,{Z:()=>r});let r={[n(231338).Et.GET_PLATFORM_BEHAVIORS]:{handler:()=>({iosKeyboardResizesView:!0})}}},83567:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(570140),i=n(457330),l=n(726542),a=n(231757),o=n(553795),s=n(585483),c=n(996106),u=n(914946),d=n(452426),p=n(186901),f=n(981631),h=n(701488),g=n(231338);let m=new Set([h.Fu,h.JT]),b={[g.Et.GET_PROVIDER_ACCESS_TOKEN]:{scope:{[p.Gp.ANY]:[p.wE]},validation:e=>(0,d.Z)(e).required().keys({provider:e.string().required(),connection_redirect:e.string()}),handler:e=>{let{socket:t,args:{provider:n,connection_redirect:d}}=e;(0,u.bu)(t.transport);let p=(0,u._f)(t.application),h=l.Z.get(n);if(null==h)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===f.ABu.AMAZON_MUSIC){if(!m.has(p))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");return new Promise(async(e,t)=>{let l=o.Z.getAccount(null,n);if(null==l){function u(t){var n;if(null==h)return;let r=(null!=(n=t.accounts)?n:[]).find(e=>e.type===h.type);null!=r&&(e({access_token:r.access_token}),m())}function p(){t(new c.Z({errorCode:g.lT.OAUTH2_ERROR},'OAuth2 setup for "'.concat(n,'" failed'))),m()}function m(){r.Z.unsubscribe("USER_CONNECTIONS_UPDATE",u),s.S.unsubscribe(f.CkL.CONNECTIONS_CALLBACK_ERROR,p)}r.Z.subscribe("USER_CONNECTIONS_UPDATE",u),s.S.subscribe(f.CkL.CONNECTIONS_CALLBACK_ERROR,p),(0,a.Z)({platformType:h.type,location:f.Sbl.ACTIVITY_RPC,successRedirect:d})}else try{let t=await i.Z.refreshAccessToken(h.type,l.id);if(null==t)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");e({access_token:t})}catch(e){t(e)}})}},[g.Et.MAYBE_GET_PROVIDER_ACCESS_TOKEN]:{scope:{[p.Gp.ANY]:[p.wE]},validation:e=>(0,d.Z)(e).required().keys({provider:e.string().required()}),handler:async e=>{let{socket:t,args:{provider:n}}=e;(0,u.bu)(t.transport);let r=(0,u._f)(t.application),a=l.Z.get(n);if(null==a)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===f.ABu.AMAZON_MUSIC){if(!m.has(r))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");let s=o.Z.getAccount(null,n);if(null==s)throw new c.Z({errorCode:g.lT.NO_CONNECTION_FOUND},"No connection found");let d=await i.Z.refreshAccessToken(a.type,s.id);if(null==d)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");return{access_token:d}}}}},906911:function(e,t,n){n.d(t,{Z:()=>p}),n(997841),n(388685),n(539854);var r=n(243814),i=n(149765),l=n(45792),a=n(699516),o=n(594174),s=n(996106),c=n(914946),u=n(186901),d=n(981631);let p={[d.Etm.GET_RELATIONSHIPS]:(0,l.S)(d.Etm.GET_RELATIONSHIPS,{scope:{[u.Gp.ANY]:[r.x.RELATIONSHIPS_READ]},handler(e){var t;if(i.e$(i.vB(null!=(t=e.socket.application.flags)?t:0),i.vB(d.udG.DISABLE_RELATIONSHIPS_ACCESS)))throw new s.Z({errorCode:d.lTL.INVALID_PERMISSIONS},"Missing Permissions");let n=[];for(let[t,r]of a.Z.getMutableRelationships().entries()){if(r===d.OGo.NONE)continue;let i=o.default.getUser(t);if(null==i)continue;let l=(0,c._J)(r,i);n.push((0,c.kb)(l,e.socket.application.id))}return{relationships:n}}})}},647656:function(e,t,n){n.d(t,{Z:()=>O}),n(388685),n(997841),n(415506),n(35282);var r=n(392711),i=n.n(r),l=n(243814),a=n(734959),o=n(570140),s=n(212517),c=n(812206),u=n(813370),d=n(626135),p=n(81063),f=n(70956),h=n(996106),g=n(452426),m=n(186901),b=n(981631);let _=["1402418171662569542"],O={[b.Etm.SET_ACTIVITY]:{scope:{[m.Gp.ANY]:[l.x.RPC,l.x.RPC_ACTIVITIES_WRITE,m.lH]},validation:e=>(0,g.Z)(e).required().keys({pid:e.number().min(0),activity:(0,g.Z)(e).keys({state:e.string().min(2).max(128),state_url:e.string().uri().min(1).max(256),details:e.string().min(2).max(128),details_url:e.string().uri().min(1).max(256),timestamps:(0,g.Z)(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:(0,g.Z)(e).keys({large_image:e.string().min(1).max(300),large_text:e.string().min(2).max(128),large_url:e.string().uri().min(1).max(256),small_image:e.string().min(1).max(300),small_text:e.string().min(2).max(128),small_url:e.string().uri().min(1).max(256)}),party:(0,g.Z)(e).keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(0)).length(2),privacy:e.number().default(b.RYY.PRIVATE).valid([b.RYY.PRIVATE,b.RYY.PUBLIC])}),secrets:(0,g.Z)(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items((0,g.Z)(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(10),type:e.number().default(b.IIU.PLAYING).valid(b.IIU.PLAYING,b.IIU.LISTENING,b.IIU.WATCHING,b.IIU.COMPETING),status_display_type:e.number().optional().valid(a.D.NAME,a.D.STATE,a.D.DETAILS)}).allow(null)}),handler(e){var t;let n,{socket:r,args:{pid:l,activity:a},isSocketConnected:g}=e;if(![m.He.IPC,m.He.WEBSOCKET,m.He.POST_MESSAGE].includes(r.transport))throw new h.Z({errorCode:b.lTL.INVALID_COMMAND},'command not available from "'.concat(r.transport,'" transport'));if(null==l&&m.He.IPC===r.transport)throw new h.Z({errorCode:b.lTL.INVALID_COMMAND},"nonzero pid required");if(null==a)return o.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:r.id,pid:l,activity:a}),Promise.resolve(a);let O={};a.name=r.application.name;let E=r.application.id;a.application_id=E;let y=r.transport===m.He.POST_MESSAGE;a.platform=y?b.M7m.EMBEDDED:b.M7m.DESKTOP;let v=c.Z.getApplication(null!=E?E:void 0),I=0;null!=v&&(0,u.g)(v)&&y&&(I|=(0,s.ZW)(I));let C=(0,s.S5)(a,y);C>0&&(a.flags=C|I),delete a.instance,null==(t=a.party)||delete t.privacy;let{assets:S,party:N,secrets:T,timestamps:P,buttons:j,type:x}=a;if(null==x&&(a.type=b.IIU.PLAYING),null!=T){let e=i().values(T).filter(e=>!!e);if(null!=N&&i().intersection(e,[N.id]).length>0&&!_.includes(r.application.id))throw new h.Z({errorCode:b.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot match the party id");if(i().uniq(e).length<e.length)throw new h.Z({errorCode:b.lTL.INVALID_ACTIVITY_SECRET},"secrets must be unique");if(null!=j)throw new h.Z({errorCode:b.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot currently be sent with buttons")}if(null!=j&&(O.button_urls=j.map(e=>e.url),a.buttons=j.map(e=>e.label)),a.metadata=O,null!=P)for(let e of Object.keys(P))Date.now().toString().length-P[e].toString().length>2&&(P[e]=Math.floor(P[e]*f.Z.Millis.SECOND));if(null==S)n=Promise.resolve([]);else{if(null==r.application||null==r.application.id)throw Error();n=(0,p.hR)(r.application.id,[S.large_image,S.small_image])}return n.then(e=>{var t,n,i,s;let[c,u]=e;if(null!=S&&(null!=c?S.large_image=c:delete S.large_image,null!=u?S.small_image=u:delete S.small_image),!g())return;o.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:r.id,pid:l,activity:a});let{secrets:p,party:f}=a,h={application_id:r.application.id,type:a.type,name:a.name,status_display_type:a.status_display_type,details:null!=(i=a.details)?i:"",state:null!=(s=a.state)?s:"",has_urls:null!=a.state_url||null!=a.details_url||(null==(t=a.assets)?void 0:t.large_url)!=null||(null==(n=a.assets)?void 0:n.small_url)!=null};return null!=p&&(h.has_match_secret=!!p.match,h.has_join_secret=!!p.join),null!=S&&(h.has_images=!!(S.large_image||S.small_image)),null!=f&&(h.party_max=null!=f.size&&f.size[1]>0?f.size[1]:void 0,h.party_id=f.id),d.default.track(b.rMx.ACTIVITY_UPDATED,h),a})}}}},562018:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(996106),l=n(452426),a=n(701488),o=n(231338);let s={[o.Et.SET_ORIENTATION_LOCK_STATE]:{validation:e=>(0,l.Z)(e).required().keys({lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional()}),handler(e){let{socket:t,args:{lock_state:n,picture_in_picture_lock_state:l,grid_lock_state:a}}=e,s=t.application.id;if(null!=s)r.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:s,lockState:n,pictureInPictureLockState:l,gridLockState:a});else throw new i.Z({errorCode:o.lT.INVALID_COMMAND},"No application.")}}}},265067:function(e,t,n){n.d(t,{Z:()=>m}),n(539854),n(388685);var r=n(243814),i=n(100527),l=n(208049),a=n(763296),o=n(697426),s=n(242291),c=n(641015),u=n(594174),d=n(996106),p=n(452426),f=n(736045),h=n(186901),g=n(231338);let m={[g.Et.GET_SOUNDBOARD_SOUNDS]:{scope:{[h.Gp.ANY]:[r.x.RPC,h.lH]},async handler(){await (0,l.w)();let e=a.Z.getSounds(),t=[];return e.forEach(e=>e.forEach(e=>t.push((0,o.QL)(e)))),t}},[g.Et.PLAY_SOUNDBOARD_SOUND]:{scope:{[h.Gp.ALL]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,p.Z)(e).required().keys({guild_id:e.string(),sound_id:e.string()}),async handler(e){let{args:{guild_id:t,sound_id:n}}=e;await (0,l.w)();let r=u.default.getCurrentUser(),o=a.Z.getSound(t,n),p=(0,f.Z)(),h=null!=o&&null!=r&&(0,s.Nq)(r,o,p);if(null==p)throw new d.Z({errorCode:g.lT.INVALID_CHANNEL},"Invalid Channel.");if(h)if((0,c.Z)(p))null!=o&&(0,s.GN)(o,p.id,[i.Z.RPC]);else throw new d.Z({errorCode:g.lT.INVALID_PERMISSIONS},"Invalid Permissions.");else throw new d.Z({errorCode:g.lT.INVALID_SOUND},"Invalid Sound.")}}}},881393:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(539854);var r=n(496929),i=n(16084),l=n(558381),a=n(115130),o=n(106976),s=n(695103),c=n(996106),u=n(334288),d=n(186901),p=n(981631);async function f(e,t){let n=t.filter(e=>e.type===p.epS.SUBSCRIPTION_GROUP),r=await Promise.all(n.map(async t=>await (0,o.rx)(e,t.id))),i=[];return r.forEach(e=>{if(null==e)return null;let n=e.subscription_listings;if(null==n)return null;let r=[];n.forEach(e=>{e.subscription_plans.forEach(n=>{var i;let l=null==n?void 0:n.price,a=t.find(e=>e.id===n.sku_id);if(null==a)return;let o={id:n.sku_id,name:a.name,type:a.type,price:{amount:l,currency:p.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!=(i=a.release_date)?i:null};r.push(o)})}),r.filter(e=>(null==e?void 0:e.price)!=null).forEach(e=>i.push(e))}),i}async function h(e){let{socket:t}=e;(0,u.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");if(s.Z.inTestModeForApplication(n)||a.Z.inDevModeForApplication(n)){let e=await i.uE(n,!1),t=await f(n,e);return[...e.filter(e=>null!=e.price),...t]}let r=await l.oJ(n);return[...r.filter(e=>e.sku.type!==p.epS.SUBSCRIPTION_GROUP).map(e=>e.sku).filter(e=>null!=e.price),...await f(n,r.map(e=>e.sku))]}function g(e){let{socket:t}=e;(0,u.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");return r.yD(n)}let m={[p.Etm.GET_SKUS]:{[d.Gp.ANY]:[d.wE,d.lH],handler:h},[p.Etm.GET_ENTITLEMENTS]:{[d.Gp.ANY]:[d.wE,d.lH],handler:g},[p.Etm.GET_SKUS_EMBEDDED]:{[d.Gp.ANY]:[d.wE,d.lH],handler:async e=>({skus:await h(e)})},[p.Etm.GET_ENTITLEMENTS_EMBEDDED]:{[d.Gp.ANY]:[d.wE,d.lH],handler:async e=>({entitlements:await g(e)})}}},905534:function(e,t,n){n.d(t,{Z:()=>s}),n(49124),n(358797);var r=n(626135),i=n(996106),l=n(34954),a=n(986768),o=n(981631);let s={[o.Etm.SUBSCRIBE]:{async handler(e){let{server:t,socket:n,evt:s,args:c}=e,u=t.events[s];if(null==u)throw new i.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(s));if(!(0,l.Z)(n.authorization.scopes,u.scope))throw new i.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"Not authenticated or invalid scope");if(r.default.track(o.rMx.RPC_SUBSCRIPTION_REQUESTED,{event:s,scope:"object"==typeof u.scope?JSON.stringify(u.scope):u.scope,application_id:n.application.id,socket_scope:n.authorization.scopes.toString()}),null!=u.validation){let e=await t.getJoi();if(null!=e.validate(c,u.validation(e),{convert:!1}).error)throw new i.Z({errorCode:o.lTL.INVALID_PAYLOAD},"Invalid subscription parameters provided")}let d=u.handler({args:c,socket:n}),p=(0,a.V)(n,s,c);return new Promise(e=>{setImmediate(()=>{t.addSubscription(n,s,c,d),null!=p&&t.dispatchToSubscriptions(s,e=>e.socket.id===n.id,p)}),e({evt:s})})}},[o.Etm.UNSUBSCRIBE]:{handler(e){let{server:t,socket:n,evt:r,args:l}=e;if(null==t.events[r])throw new i.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(r));return t.removeSubscription(n,r,l),{evt:r}}}}},273487:function(e,t,n){n.d(t,{Z:()=>l});var r=n(243814),i=n(706454);let l={[n(981631).Etm.USER_SETTINGS_GET_LOCALE]:{scope:r.x.IDENTIFY,handler:()=>({locale:i.default.locale})}}},543815:function(e,t,n){n.d(t,{Z:()=>s});var r=n(45792),i=n(594174),l=n(863141),a=n(186901),o=n(981631);let s={[o.Etm.GET_USER]:(0,r.S)(o.Etm.GET_USER,{scope:{[a.Gp.ANY]:[a.b_,a.lH]},handler(e){let{args:{id:t}}=e,n=i.default.getUser(t);return null==n?null:(0,l.Z)(n)}})}},845752:function(e,t,n){n.d(t,{Z:()=>s});var r=n(392711),i=n.n(r),l=n(243814),a=n(186901),o=n(981631);function s(e,t){return{[o.zMe.VOICE_SETTINGS_UPDATE]:{scope:{[a.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>t=>{let{prevState:n,dispatch:r}=t,l=e();return i().isEqual(l,n)||r(l),l}},[o.zMe.VOICE_SETTINGS_UPDATE_2]:{scope:a.lH,handler(e){let{socket:n}=e;return e=>{let{prevState:r,dispatch:l}=e;if(null==n.application.id)return r;let a=t(n.application.id);return i().isEqual(a,r)||l(a),a}}}}}},13838:function(e,t,n){n.d(t,{Z:()=>w}),n(388685),n(997841);var r=n(392711),i=n.n(r),l=n(243814),a=n(149765),o=n(902704),s=n(622822),c=n(812206),u=n(594190),d=n(601964),p=n(199902),f=n(592125),h=n(271383),g=n(430824),m=n(131951),b=n(19780),_=n(594174),O=n(979651),E=n(996106),y=n(914946),v=n(238679),I=n(452426),C=n(295424),S=n(222263),N=n(863141),T=n(186901),P=n(981631);let j=e=>(0,I.Z)(e).required().keys({channel_id:e.string().required()});function x(e){var t;let{args:{channel_id:n},socket:r}=e,i=f.Z.getChannel(n);if(null==i||!(0,y.zM)(i,r.application.id,r.authorization.scopes))throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(n));if((0,s.aC)(i)&&(null==(t=_.default.getCurrentUser())?void 0:t.nsfwAllowed)!==!0)throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid nsfw channel id: ".concat(i.id))}let A=e=>(0,I.Z)(e).keys({channel_id:e.string().allow(null)});function Z(e){let{args:{channel_id:t}}=e;if(null!=t&&null==f.Z.getChannel(t))throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t))}let w={[P.zMe.GUILD_STATUS]:{scope:l.x.RPC,validation:e=>(0,I.Z)(e).required().keys({guild_id:e.string().required()}),handler(e){let{args:{guild_id:t}}=e;if(null==g.Z.getGuild(t))throw new E.Z({errorCode:P.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));return e=>{var n;let{prevState:r,dispatch:l}=e,a=g.Z.getGuild(t);if(null==a)return;let o={guild:{id:a.id,name:a.name,icon_url:null!=(n=(0,d.EB)(a,128))?n:null},online:0};return i().isEqual(r,o)||l(o),o}}},[P.zMe.VOICE_STATE_CREATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,I.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==f.Z.getChannel(t))throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=f.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(O.Z.getVoiceStatesForChannel(l.id));return n&&i().differenceBy(o,n,e=>{let{userId:t}=e;return t}).forEach(e=>r((0,y.aE)(a,l.id,e))),o}}},[P.zMe.VOICE_STATE_DELETE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,I.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==f.Z.getChannel(t))throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=f.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(O.Z.getVoiceStatesForChannel(l.id));return i().differenceBy(n,o,e=>{let{userId:t}=e;return t}).forEach(e=>r((0,y.aE)(a,l.id,e))),o}}},[P.zMe.VOICE_STATE_UPDATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,I.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==f.Z.getChannel(t))throw new E.Z({errorCode:P.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=f.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(O.Z.getVoiceStatesForChannel(l.id)).map(e=>(0,y.aE)(a,l.id,e));return i().differenceWith(o,n,i().isEqual).forEach(e=>r(e)),o}}},[P.zMe.VOICE_CONNECTION_STATUS]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={state:(0,y.zy)(b.Z.getState()),hostname:b.Z.getHostname(),pings:b.Z.getPings(),average_ping:b.Z.getAveragePing(),last_ping:b.Z.getLastPing()};return i().isEqual(r,t)||n(r),r}},[P.zMe.MESSAGE_CREATE]:{scope:l.x.RPC,validation:j,handler:x},[P.zMe.MESSAGE_UPDATE]:{scope:l.x.RPC,validation:j,handler:x},[P.zMe.MESSAGE_DELETE]:{scope:l.x.RPC,validation:j,handler:x},[P.zMe.SPEAKING_START]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,T.lH]},validation:A,handler:Z},[P.zMe.SPEAKING_STOP]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,T.lH]},validation:A,handler:Z},[P.zMe.GUILD_CREATE]:{scope:l.x.RPC,handler(){}},[P.zMe.CHANNEL_CREATE]:{scope:l.x.RPC,handler(){}},[P.zMe.GAME_JOIN]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[P.zMe.GAME_SPECTATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[P.zMe.ACTIVITY_JOIN]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[P.zMe.ACTIVITY_JOIN_REQUEST]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[P.zMe.ACTIVITY_SPECTATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[P.zMe.ACTIVITY_INVITE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[P.zMe.ACTIVITY_PIP_MODE_UPDATE]:{scope:void 0,handler(){}},[P.zMe.ACTIVITY_LAYOUT_MODE_UPDATE]:{scope:void 0,handler(){}},[P.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:v.gQ,[P.zMe.THERMAL_STATE_UPDATE]:{scope:{[T.Gp.ANY]:[T.wE]},handler(){}},[P.zMe.ORIENTATION_UPDATE]:{scope:{[T.Gp.ANY]:[T.wE]},handler(){}},[P.zMe.VOICE_CHANNEL_SELECT]:{scope:l.x.RPC,handler(){}},[P.zMe.NOTIFICATION_CREATE]:{scope:{[T.Gp.ALL]:[l.x.RPC,l.x.RPC_NOTIFICATIONS_READ]},handler(){}},[P.zMe.RELATIONSHIP_UPDATE]:{scope:l.x.RELATIONSHIPS_READ,handler(e){var t;let{socket:n}=e;if(a.e$(a.vB(null!=(t=n.application.flags)?t:0),a.vB(P.udG.DISABLE_RELATIONSHIPS_ACCESS)))throw new E.Z({errorCode:P.lTL.INVALID_PERMISSIONS},"Missing Permissions")}},[P.zMe.CURRENT_USER_UPDATE]:{scope:{[T.Gp.ANY]:[T.lH,l.x.IDENTIFY]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={currentUser:_.default.getCurrentUser()};return null==r.currentUser||null!=t&&(0,o.Z)(r,t)||n((0,N.Z)(r.currentUser)),r}},[P.zMe.CURRENT_GUILD_MEMBER_UPDATE]:{scope:{[T.Gp.ALL]:[l.x.IDENTIFY,l.x.GUILDS_MEMBERS_READ]},handler(e){let{args:{guild_id:t}}=e;return e=>{let{prevState:n,dispatch:r}=e,i={currentGuildMember:h.ZP.getSelfMember(t)};return null==i.currentGuildMember||null!=n&&(0,o.Z)(i,n)||r((0,S.Z)(i.currentGuildMember)),i}}},[P.zMe.ENTITLEMENT_CREATE]:{scope:{[T.Gp.ANY]:[T.lH,T.wE]},handler(){}},[P.zMe.ENTITLEMENT_DELETE]:{scope:{[T.Gp.ANY]:[T.lH,T.wE]},handler(){}},[P.zMe.SCREENSHARE_STATE_UPDATE]:{scope:{[T.Gp.ALL]:[T.lH,l.x.RPC_SCREENSHARE_READ]},handler:()=>e=>{var t;let{prevState:n,dispatch:r}=e,l=p.Z.getStreamerActiveStreamMetadata(),a=(null==l?void 0:l.pid)!=null?u.ZP.getGameForPID(l.pid):null,o=(null==a?void 0:a.id)!=null?c.Z.getApplication(a.id):null,s=null!=o?(0,C.Z)(o):null,d=null==l?void 0:l.sourceName,f={active:null!=l,pid:null!=(t=null==l?void 0:l.pid)?t:null,application:null!=s?{name:d}:null};return i().isEqual(f,n)||r(f),f}},[P.zMe.VIDEO_STATE_UPDATE]:{scope:{[T.Gp.ALL]:[T.lH,l.x.RPC_VIDEO_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={active:m.Z.isVideoEnabled()};return i().isEqual(r,t)||n(r),r}}}},986768:function(e,t,n){n.d(t,{V:()=>c});var r=n(317381),i=n(107105),l=n(569984);n(817938);var a=n(238679),o=n(981631),s=n(701488);function c(e,t,n){var c,u,d,p,f,h;switch(t){case o.zMe.ACTIVITY_PIP_MODE_UPDATE:{let t=null==(c=e.application)?void 0:c.id,n=null!=t?r.ZP.getLayoutModeForApp(t):null;return null!=n?{is_pip_mode:n!==s.cE.FOCUSED}:null}case o.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:{let t=null==(u=e.application)?void 0:u.id,n=null!=t?r.ZP.getLayoutModeForApp(t):null;return null!=n?{layout_mode:n}:null}case o.zMe.THERMAL_STATE_UPDATE:{let e=(0,i.bY)();if(e===i.bG.UNHANDLED)return null;return{thermal_state:e}}case o.zMe.ORIENTATION_UPDATE:return null;case o.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE:return(0,a.dO)();case o.zMe.QUEST_ENROLLMENT_STATUS_UPDATE:{let{quest_id:t}=n;if(!t)return null;let r=l.Z.getQuest(t);if(null==r||r.config.application.id!==(null==(d=e.application)?void 0:d.id))return null;return{quest_id:t,is_enrolled:(null==(p=r.userStatus)?void 0:p.enrolledAt)!=null,enrolled_at:null!=(h=null==(f=r.userStatus)?void 0:f.enrolledAt)?h:null}}default:return null}}},76238:function(e,t,n){n.d(t,{Z:()=>s});var r=n(392711),i=n.n(r),l=n(996106),a=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{checkRpcVersion(e){if(null==e||e>a.X6Q||e<1)throw new l.Z({closeCode:a.$VG.INVALID_VERSION},"Invalid Version: ".concat(e))}constructor(e,t,n){o(this,"transport",void 0),o(this,"version",void 0),o(this,"encoding",void 0),o(this,"id",void 0),o(this,"authorization",void 0),o(this,"application",void 0),o(this,"abortController",void 0),this.transport=e,this.version=t,this.encoding=n,this.id=i().uniqueId(),this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)},this.application={id:null,name:null,icon:null},this.abortController=new AbortController,this.checkRpcVersion(t)}}},915357:function(e,t,n){n.d(t,{Z:()=>c});var r=n(996106),i=n(631467),l=n(76238),a=n(186901),o=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{send(e){var t;null==(t=this.onSendingToRPCClient)||t.call(this,e,this.id),this.postMessageToRPCClient([i.Z.FRAME,e],this.origin)}close(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient),this.closed=!0}constructor({origin:e,postMessageToRPCClient:t,frameId:n,version:i,encoding:l,logger:c,postClose:u,onSendingToRPCClient:d}){if(super(a.He.POST_MESSAGE,i,l),s(this,"origin",void 0),s(this,"frameId",void 0),s(this,"postMessageToRPCClient",void 0),s(this,"logger",void 0),s(this,"postClose",void 0),s(this,"onSendingToRPCClient",void 0),s(this,"closed",void 0),-1===["etf","json"].indexOf(l))throw new r.Z({closeCode:o.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(l));if("etf"===l)throw new r.Z({closeCode:o.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this.origin=e,this.postMessageToRPCClient=t,this.frameId=n,this.logger=c,this.postClose=u,this.onSendingToRPCClient=d,this.closed=!1}}},46832:function(e,t,n){n.d(t,{Z:()=>O}),n(388685),n(539854);var r=n(836560),i=n(317381),l=n(16609),a=n(626135),o=n(585483),s=n(70956),c=n(996106),u=n(631467),d=n(452426),p=n(186901),f=n(981631);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=10*s.Z.Millis.SECOND,m=new Map,b=new Set,_=(e,t,n)=>{n([u.Z.CLOSE,t],e)};class O extends r.EventEmitter{routeEvent(e,t,n,r){if(!Array.isArray(n))return void console.warn("[PostMessageTransport] Protocol error: event data should be an Array!");let[i,l]=n;switch(i){case u.Z.HANDSHAKE:if(null!=e)throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Already connected");return this.handleHandshake(t,l,r);case u.Z.FRAME:if(null==e)throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleFrame(t,e,l);case u.Z.CLOSE:if(null==e)throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleClose(e,l);default:throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Invalid opcode")}}constructor(e,t,r,s){var u;super(),u=this,h(this,"validateSocketClient",void 0),h(this,"logger",void 0),h(this,"createPostMessageProxySocket",void 0),h(this,"onFrameHandled",void 0),h(this,"handshakeFailureTimeoutId",void 0),h(this,"disconnectSocket",function(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.emit("disconnect",e,i?void 0:t),e.close(t.code,null!=(n=t.message)?n:"Unknown");let[l]=null!=(r=Array.from(m.entries()).find(t=>{let[n,r]=t;return r===e}))?r:[null,null];null!=l&&m.delete(l)}),h(this,"handleIFrameMount",e=>{let{id:t}=e;b.add(t),this.handshakeFailureTimeoutId=setTimeout(()=>{Array.from(i.ZP.getSelfEmbeddedActivities().entries()).forEach(e=>{let[t,n]=e;a.default.track(f.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:t,channel_id:(0,l.p)(n.location),guild_id:(0,l.j)(n.location),timeout_ms:g})})},g)}),h(this,"handleIFrameUnmount",e=>{var t;let{id:n}=e;b.delete(n);let[r,i]=null!=(t=Array.from(m.entries()).find(e=>{let[t,r]=e;return r.frameId===n}))?t:[null,null];null!=i&&null!=r&&(this.disconnectSocket(i,{code:f.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0),m.delete(r))}),h(this,"handleMessage",(e,t,n)=>{let r=m.get(t);try{this.routeEvent(r,t,e,n)}catch(e){if(e instanceof c.Z&&e.errorCode===f.lTL.INVALID_PAYLOAD)throw e;null!=r?this.disconnectSocket(r,{code:e.code,message:e.message},!0):_(t,{code:e.code,message:e.message},n)}}),h(this,"handleFrame",(e,t,n)=>{var r;let i;if(e!==t.origin)throw new c.Z({closeCode:f.$VG.INVALID_ORIGIN},"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Payload not recognized encoding")}null==(r=this.onFrameHandled)||r.call(this,i,this.logger,t),this.emit("request",t,i)}),h(this,"handleHandshake",async(e,t,r)=>{let i;null!=this.handshakeFailureTimeoutId&&clearTimeout(this.handshakeFailureTimeoutId);let l=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{l.assert(t,(0,d.Z)(l).required().keys({v:l.number().min(1).max(1).required(),encoding:l.string().equal("json").optional(),client_id:l.string().required(),frame_id:l.string().required(),sdk_version:l.string().optional()}))}catch(e){throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},e.message)}let o=t.frame_id;if(!b.has(o))throw this.logger.error("Unrecognized frame ID ".concat(o)),new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));null!=t.sdk_version&&a.default.track(f.rMx.ACTIVITY_HANDSHAKE,{application_id:t.client_id,sdk_version:t.sdk_version});try{var s;i=this.createPostMessageProxySocket({origin:e,postMessageToRPCClient:r,frameId:o,version:Number(t.v),logger:this.logger,postClose:_,encoding:null!=(s=t.encoding)?s:"json"})}catch(e){throw this.logger.error("Error opening window socket ".concat(e)),e}this.logger.info("Socket Opened: ".concat(i.id));try{if(await this.validateSocketClient(i,e,t.client_id),!b.has(o))throw this.logger.error("Frame ID ".concat(o," no longer exists")),new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));m.set(e,i),b.delete(o),i.authorization.scopes.push(p.b_),this.emit("connect",i),this.logger.info("Socket Validated: ".concat(i.id))}catch(e){throw this.logger.info("Socket Closed: ".concat(i.id,", ").concat(e.message)),e}}),h(this,"handleClose",async(e,t)=>{let r=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{r.assert(t,(0,d.Z)(r).required().keys({code:r.number().valid(Object.values(f.$VG)).required(),message:r.string().optional()}))}catch(e){throw new c.Z({closeCode:f.$VG.CLOSE_UNSUPPORTED},e.message)}this.disconnectSocket(e,t)}),o.S.subscribe(f.CkL.IFRAME_MOUNT,this.handleIFrameMount),o.S.subscribe(f.CkL.IFRAME_UNMOUNT,this.handleIFrameUnmount),this.validateSocketClient=e,this.logger=t,this.createPostMessageProxySocket=r,this.onFrameHandled=s}}},30643:function(e,t,n){n.d(t,{Z:()=>x}),n(388685);var r=n(237997),i=n(998502),l=n(576027),a=n(13838),o=n(812967),s=n(350085),c=n(943687),u=n(910484),d=n(443952),p=n(266572),f=n(177698),h=n(121826),g=n(109815),m=n(753335),b=n(567481),_=n(498164),O=n(705444),E=n(885381),y=n(111097),v=n(908711),I=n(197941),C=n(462414),S=n(662194),N=n(188861);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let P=T({},l.A,d.Z,p.Z,h.Z,m.Z,g.Z,b.Z,_.Z,O.Z,E.Z,y.Z,I.Z,S.Z,C.Z,f.Z,v.Z),j=T({},a.Z,s.M,c.f,u.n),x={server:o.Z,commands:P,events:j,stores:[r.default],transports:[N.Z],registerTransportsForEmbeddedPlatform:function(){i.ZP.ensureModule("discord_rpc").then(()=>{for(let e of[n(178318).Z,n(967351).Z])o.Z.registerTransport(e)})}}},350085:function(e,t,n){n.d(t,{M:()=>d});var r=n(392711),i=n.n(r),l=n(283595),a=n(808506),o=n(237997),s=n(996106),c=n(186901),u=n(981631);let d={[u.zMe.OVERLAY_UPDATE]:{scope:c.lH,handler(e){let{args:{pid:t},socket:n}=e;if("number"!=typeof t||t<10)throw new s.Z({errorCode:u.lTL.INVALID_EVENT},"Invalid pid");return e=>{let{prevState:r,dispatch:s}=e,c=a.default.enabled,u=!0,d=n.application.id;if(null!=d){let e=l.Z.getActiveLibraryApplication(d);null!=e&&(c=c&&e.isOverlayEnabled()),u=o.default.isLocked(t)}let p={enabled:c,locked:u};return i().isEqual(p,r)||s(p),p}}}}},943687:function(e,t,n){n.d(t,{f:()=>s}),n(388685);var r=n(243814),i=n(569984),l=n(996106),a=n(452426),o=n(981631);let s={[o.zMe.QUEST_ENROLLMENT_STATUS_UPDATE]:{scope:r.x.IDENTIFY,validation:e=>(0,a.Z)(e).required().keys({quest_id:e.string().required()}),handler:function(e){let{args:{quest_id:t},socket:n}=e,r=i.Z.getQuest(t);if(null==r||r.config.application.id!==n.application.id)throw new l.Z({errorCode:o.lTL.INVALID_COMMAND},"Quest not found: ".concat(t))}}}},910484:function(e,t,n){n.d(t,{n:()=>l});var r=n(845752),i=n(852926);let l=(0,r.Z)(i._X,i.GC)},852926:function(e,t,n){n.d(t,{GC:()=>_,_X:()=>b,br:()=>h,em:()=>m,jU:()=>g});var r=n(13245),i=n(837268),l=n(371651),a=n(610394),o=n(998502),s=n(13140),c=n(996106),u=n(914946),d=n(186901),p=n(981631);let f=["207646673902501888"];function h(e){return null!=e&&l.default.isOverlayOOPEnabledForPid(e)&&a.ZP.isReady(e)&&a.ZP.getOverlayState(e)===i.mM.OVERLAY_RENDERING}function g(e){return null==e?{lock:p.VqG,context:p.IlC.APP}:h(e)?(r.Z.setInputLocked(!1,e),{lock(){r.Z.setInputLocked(!0,e)},context:p.IlC.POPOUT}):(o.ZP.focus(null,!0),{lock(){o.ZP.setForegroundProcess(e)},context:p.IlC.APP})}let m=async(e,t,n)=>{if((0,u.YK)(e,t),(null==n||""===n)&&(0,u.s9)(t))return e.authorization.scopes=[d.cE,d.CN],Promise.resolve();if(null==n||""===n)return Promise.reject(new c.Z({closeCode:p.$VG.INVALID_CLIENTID},"No Client ID Specified"));let r=o.ZP.releaseChannel!==p.R5N.CANARY&&!f.includes(n)&&e.transport!==d.He.POST_MESSAGE;return await (0,u.vv)(n,r),(0,u.YS)(e,n,t)},b=()=>(0,u.tr)(e=>{let t=[];return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=e.modeOptions.shortcut.map(e=>{var t;return{type:e[0],code:e[1],name:null!=(t=(0,s.H9)(e))?t:"unknown"}})),t}),_=e=>(0,u.FJ)(e,e=>{let t="";return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,s.BB)(e.modeOptions.shortcut)),t})},298969:function(e,t,n){n.d(t,{Z:()=>l});var r=n(606271),i=n(30643);let l=new r.Z(i.Z)},443952:function(e,t,n){n.d(t,{Z:()=>G}),n(388685),n(415506),n(997841);var r=n(951288);n(647438);var i=n(243814),l=n(45792),a=n(481060),o=n(278323),s=n(24124),c=n(224706),u=n(45114),d=n(479531),p=n(40851),f=n(636449),h=n(566620),g=n(531826),m=n(596223),b=n(838195),_=n(333861),O=n(928518),E=n(23750),y=n(592125),v=n(293273),I=n(885110),C=n(451478),S=n(630388),N=n(823379),T=n(709054),P=n(591759),j=n(228488),x=n(996106),A=n(914946),Z=n(452426),w=n(561205),L=n(600027),R=n(852926),D=n(186901),k=n(981631),M=n(701488);async function U(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=v.Z.getApplicationActivity(t);if(null==l||null==l.secrets||!(0,A.t9)(r,l.party,l.secrets))throw new x.Z({errorCode:k.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let a=(0,m.Z)(l,I.Z);if(a){let{lock:t}=(0,R.jU)(e);return(0,s.h7)(l,a).then(()=>{throw t(),new x.Z({errorCode:k.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}await o.Z.sendActivityInviteUser({userId:n,type:r,activity:l,content:i,location:"In-Game Invite"})}let G={[k.Etm.SEND_ACTIVITY_JOIN_INVITE]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},handler(e){let{socket:t,args:{user_id:n,pid:r}}=e,i=t.application.id;if(null==i)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");return U(r,i,n,k.mFx.JOIN)}},[k.Etm.CLOSE_ACTIVITY_JOIN_REQUEST]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},handler(e){let{args:{user_id:t}}=e,n=y.Z.getDMFromUserId(t);null!=n&&(0,u.In)(n,{section:k.jXE.CLOSE_ACTIVITY_JOIN_REQUEST_RPC_COMMAND,object:k.qAy.ACK_DECLINE_REQUEST_TO_JOIN,objectType:k.Qqv.ACK_SEMI_AUTOMATIC},!0,!0)}},[k.Etm.ACTIVITY_INVITE_USER]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},validation:e=>(0,Z.Z)(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([k.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,user_id:r,content:i,pid:l}}=e,a=t.application.id;if(null==a)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");return U(l,a,r,n,i)}},[k.Etm.ACCEPT_ACTIVITY_INVITE]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},validation:e=>(0,Z.Z)(e).required().keys({type:e.number().required().valid([k.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required(),application_id:e.string().optional()}),handler(e){let{socket:t,args:{type:n,user_id:r,session_id:i,channel_id:l,message_id:a,application_id:o}}=e,s=t.transport===D.He.IPC&&null!=o?o:t.application.id;if(null==s)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let u=Promise.resolve(!1);return n===k.mFx.JOIN&&(u=c.Z.join({userId:r,sessionId:i,applicationId:s,channelId:l,messageId:a})),u.then(e=>{if(!e)throw new x.Z({errorCode:k.lTL.INVALID_INVITE},"Invite is expired or invalid.")})}},[k.Etm.OPEN_INVITE_DIALOG]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH,D.wE]},handler(e){let{socket:t}=e,i=t.application;if(null==i.id)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let{channel:l,guild:o,frame:c}=(0,L.T)(),u=(0,g.ZP)({application:t.application,channelId:null==l?void 0:l.id}),d=null!=u?O.Z.getWindow(u):void 0;(null==d?void 0:d.closed)&&(d=void 0);let p=null!=d?k.IlC.POPOUT:k.IlC.APP;if((0,j.Pr)({},null==d?void 0:d.document),null!=c){if(c.applicationId!==i.id)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"Application is not currently mounted.");let e=v.Z.getApplicationActivity(i.id);if(null!=e)(0,s.h7)(e,!1,p);else throw new x.Z({errorCode:k.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity was set using setActivity.")}else(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("62292")]).then(n.bind(n,560114));return t=>{var n,a;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),a=a={guild:o,channel:l,applicationId:i.id,analyticsLocation:k.Sbl.ACTIVITY_RPC,source:k.t4x.ACTIVITY_INVITE},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n))}},{contextKey:p===k.IlC.POPOUT?a.u1M:a.z1l})}},[k.Etm.INITIATE_IMAGE_UPLOAD]:(0,l.S)(k.Etm.INITIATE_IMAGE_UPLOAD,{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH,D.wE]},handler(e){var t;let{socket:n}=e,r=n.application.id;if(null==r)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let i=null==(t=(0,w.Z)())?void 0:t.id;return new Promise((e,t)=>{!function(e,t){let n;if((0,f.R)())n=O.Z.getWindow(k.KJ3.ACTIVITY_POPOUT);else{var r;let e=C.Z.getLastFocusedWindowId();n=null==e?null:null==(r=(0,p.g0)(e))?void 0:r.renderWindow}if(null==n)throw new x.Z({errorCode:k.lTL.UNKNOWN_ERROR},"No valid window found");let i=n.document.createElement("input");i.style.display="none",i.type="file",i.accept="image/jpeg, image/jpg, image/png, image/gif";let l=()=>{(null==i.files||0===i.files.length)&&t(),n.document.body.removeEventListener("focus",l,!0),setTimeout(()=>{n.document.body.removeChild(i)},1e3)};i.addEventListener("change",()=>{(0,N.lm)(i.files)&&e(i.files[0]),l()}),i.addEventListener("cancel",()=>{l()}),n.document.body.addEventListener("focus",l,!0),n.document.body.appendChild(i),i.click()}(async n=>{let l=await (0,h.kv)(r,i,n);(0,N.lm)(l)&&(0,N.lm)(l.url)&&!(l instanceof d.Z)?e({image_url:l.url}):t(l)},()=>t(Error("Upload canceled")))}).catch(e=>{var t;throw new x.Z({errorCode:k.lTL.UNKNOWN_ERROR},null!=(t=null==e?void 0:e.message)?t:"Failed to upload image")})}}),[k.Etm.OPEN_SHARE_MOMENT_DIALOG]:(0,l.S)(k.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let{socket:n,args:{mediaUrl:r}}=e;(0,A.bu)(n.transport);let i=n.application.id;if(null==i)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");if(!(0,S.yE)(null!=(t=n.application.flags)?t:0,k.udG.EMBEDDED))throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"This application cannot access this API");let l=(0,w.Z)();if(!P.Z.isDiscordCdnUrl(r))throw new x.Z({errorCode:k.lTL.INVALID_PAYLOAD},"mediaUrl must be a Discord CDN url");(0,b.Z)({applicationId:i,channelId:null==l?void 0:l.id,mediaUrl:r})}}),[k.Etm.SHARE_INTERACTION]:(0,l.S)(k.Etm.SHARE_INTERACTION,{scope:{[D.Gp.ANY]:[D.wE,D.lH]},handler(e){var t;let n,{socket:r,args:{command:i,preview_image:l,components:o,require_launch_channel:s,content:c,options:u,pid:d}}=e,p=r.application.id;if(null==p)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");if(!M.Cr.includes(p))throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"Unsupported application.");if(!(0,S.yE)(null!=(t=r.application.flags)?t:0,k.udG.EMBEDDED))throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"This application cannot access this API");let f=(0,w.Z)();if(null==f&&s)throw new x.Z({errorCode:k.lTL.INVALID_COMMAND},"No channel found");if(null!==l||null!==o||null!==c){let e=[];void 0!==l&&(e=[{id:T.default.cast(T.default.fromTimestamp(Date.now())),size:0,proxy_url:l.url,filename:"preview",url:l.url,height:l.height,width:l.width}]),n=new E.ZP({id:T.default.cast(T.default.fromTimestamp(Date.now())),applicationId:p,content:c,components:o,attachments:e})}return new Promise(e=>{let t=!1,r=(0,R.jU)(d),l=a.z1l;(O.Z.getWindowOpen(k.KJ3.ACTIVITY_POPOUT)||r.context===k.IlC.POPOUT)&&(l=a.u1M),(0,_.M)({applicationId:p,channel:f,command:{name:i,options:u},requireLaunchChannel:!0===s,onShareResult:n=>{t||(t=n),r.lock(),e({success:t})},previewMessage:n,contextKey:l})})}})}},266572:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(951288);n(647438);var i=n(544891),l=n(846519),a=n(481060),o=n(496929),s=n(115130),c=n(812206),u=n(594174),d=n(580130),p=n(695103),f=n(70956),h=n(998502),g=n(996106),m=n(186901),b=n(981631);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let E=10*f.Z.Millis.SECOND,y={[b.Etm.VALIDATE_APPLICATION]:{scope:m.lH,handler(e){let{socket:t}=e,i=t.application.id;try{if(null==i)throw new g.Z({errorCode:b.lTL.INVALID_COMMAND},"No application.");let e=c.Z.getApplication(i);if(null==e)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");let t=e.primarySkuId;if(null==t)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");return Promise.race([(function(e,t){let n=d.Z.isEntitledToSku(u.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,o.yD)(t).then(()=>!0===d.Z.isEntitledToSku(u.default.getCurrentUser(),e,t))})(t,e.id).then(e=>{if(!e)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"User does not have entitlement.")}),(0,l.GR)(E).then(()=>{throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"Timed out fetching entitlement.")})])}catch(e){throw e.code===b.lTL.INVALID_ENTITLEMENT&&(h.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,r.jsx)(e,O(_({},t),{applicationId:i}))})),e}}},[b.Etm.GET_ENTITLEMENT_TICKET]:{scope:m.lH,handler(e){let{socket:t}=e,l=t.application.id;if(null==l)throw new g.Z({errorCode:b.lTL.INVALID_COMMAND},"No application.");return i.tn.post({url:b.ANM.ENTITLEMENT_TICKET(l),body:{test_mode:p.Z.inTestModeForApplication(l)||s.Z.inDevModeForApplication(l)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t}).catch(e=>{throw h.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,r.jsx)(e,O(_({},t),{applicationId:l}))}),e})}}}},177698:function(e,t,n){n.d(t,{Z:()=>O}),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(531826),a=n(812206),o=n(69580),s=n(787025),c=n(397394),u=n(358085),d=n(998502),p=n(996106),f=n(703912),h=n(852926),g=n(981631),m=n(388032);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let O=(0,f.Z)(e=>{var t;let{clientId:n,authorizations:u,scopes:d,parsedPermissions:f,responseType:O,redirectUri:E,codeChallenge:y,codeChallengeMethod:v,state:I,guildId:C,channelId:S,prompt:N,disableGuildSelect:T,disclosures:P,integrationType:j,pid:x,signal:A}=e,Z="OAuth2Authorize_".concat(n,"_").concat(C,"_").concat(S),w=null!=j?null==u?void 0:u.get(j):void 0,L=null!=(t=null==w?void 0:w.application)?t:a.Z.getApplication(n);return new Promise((e,t)=>{let a=(0,h.jU)(x),w=i.z1l;null!=L&&null!=(0,l.ZP)({application:L,channelId:S})?w=i.u1M:a.context===g.IlC.POPOUT&&(w=i.u1M);let R=!1,D=l=>{let{clientId:o,location:s}=l;if(null==o||o===n){if(R=!0,null==s){t(new p.Z({errorCode:g.lTL.OAUTH2_ERROR},"OAuth2 Error: No location provided")),a.lock();return}if(e(s),null==E||null==L)return void a.lock();null==new URL(s).searchParams.get("error")?(0,i.h7j)(e=>(0,r.jsx)(c.$0,b({application:L},e)),{onCloseCallback:()=>{a.lock()}},w):(0,i.h7j)(e=>(0,r.jsx)(c.ks,b({},e)),{onCloseCallback:()=>{a.lock()}},w)}},{cleanup:k}=function(e,t){function n(){(0,i.Mr3)(e)&&(0,i.h7j)(e=>(0,r.jsx)(s.j,_(b({},e),{title:m.intl.string(m.t.j2d6Ki),subtitle:m.intl.string(m.t["4LKmNz"]),actions:[{text:m.intl.string(m.t.cpT0Cg),onClick:e.onClose}]})))}return null==t||t.addEventListener("abort",n),{cleanup:function(){null==t||t.removeEventListener("abort",n)}}}(Z,A);(0,i.h7j)(e=>(0,r.jsx)(o.OAuth2AuthorizeModal,_(b({},e),{authorizations:u,clientId:n,scopes:null!=d?d:[],disclosures:null!=P?P:[],callback:D,responseType:O,redirectUri:E,codeChallenge:y,codeChallengeMethod:v,state:I,permissions:f,guildId:C,channelId:S,prompt:N,disableGuildSelect:"boolean"==typeof T?T:"true"===T,integrationType:j,cancelCompletesFlow:!0})),{modalKey:Z,onCloseCallback:()=>{k(),R||(t(new p.Z({errorCode:g.lTL.OAUTH2_ERROR},"User cancelled authorization")),a.lock())}},w)})},function(e,t,n){if((0,h.br)(n)||!u.isPlatformEmbedded)return;let r=(0,l.ZP)({application:e,channelId:t});(0,u.isWindows)()?d.ZP.minimize(r):d.ZP.restore(r),d.ZP.focus(r)})},121826:function(e,t,n){n.d(t,{Z:()=>o});var r=n(230487),i=n(998502),l=n(914946),a=n(452426);let o={[n(981631).Etm.ENCOURAGE_HW_ACCELERATION]:{validation:e=>(0,a.Z)(e),handler(e){let{socket:t}=e;(0,l.bu)(t.transport);let n=t.application.id;if(null!=n)return(0,r.Z)(n),{enabled:i.ZP.getEnableHardwareAcceleration()}}}}},109815:function(e,t,n){n.d(t,{T:()=>d,Z:()=>p});var r=n(570140),i=n(447543),l=n(703656),a=n(314897),o=n(998502),s=n(996106),c=n(186901),u=n(981631);async function d(e,t){let{invite:n}=await i.ZP.resolveInvite(e,t);if(null==n)throw new s.Z({errorCode:u.lTL.INVALID_INVITE},"Invalid invite id: ".concat(e));return a.default.isAuthenticated()?r.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:n,code:e,context:u.IlC.APP}):(0,l.dL)(u.Z5c.INVITE(e)),o.ZP.focus(),{invite:n,code:e}}let p={[u.Etm.OPEN_INVITE]:{scope:c.lH,async handler(e){let{args:{code:t}}=e;await d(t,"RPC OPEN_INVITE Handler")}}}},753335:function(e,t,n){n.d(t,{Z:()=>c});var r=n(570140),i=n(703656),l=n(998502),a=n(852926),o=n(186901),s=n(981631);let c={[s.Etm.OPEN_MESSAGE]:{scope:o.lH,handler(e){let{args:{guild_id:t,channel_id:n,message_id:o,pid:c}}=e;if((0,a.jU)(c).context===s.IlC.OVERLAY)return void r.Z.dispatch({type:"OVERLAY_OPEN_MESSAGE",guildId:t,channelId:n,messageId:o});(0,i.dL)({pathname:s.Z5c.CHANNEL(t,n,o)}),l.ZP.focus()}}}},567481:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(24124),o=n(447543),s=n(13245),c=n(596223),u=n(710845),d=n(293273),p=n(885110),f=n(996106),h=n(914946),g=n(452426),m=n(852926),b=n(186901),_=n(981631);let O=new u.Z("RPCCommandsOverlay"),E={[_.Etm.SET_OVERLAY_LOCKED]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()}),handler(e){let{args:{locked:t,pid:n},socket:{application:r}}=e;if(O.verbose("RPCCommands.SET_OVERLAY_LOCKED",{locked:t,pid:n}),null==r.id)throw new f.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");s.Z.setInputLocked(t,n)}},[_.Etm.OPEN_OVERLAY_ACTIVITY_INVITE]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({type:e.number().required().valid([_.mFx.JOIN]),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,pid:r}}=e,i=t.application.id;if(null==i)throw new f.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let l=d.Z.getApplicationActivity(i);if(null==l||null==l.secrets||!(0,h.t9)(n,l.party,l.secrets))throw new f.Z({errorCode:_.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let{lock:o,context:s}=(0,m.jU)(r),u=(0,c.Z)(l,p.Z);return(0,a.h7)(l,u,s).then(()=>{if(o(),u)throw new f.Z({errorCode:_.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}},[_.Etm.OPEN_OVERLAY_GUILD_INVITE]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()}),handler(e){let{args:{code:t,pid:n},socket:r}=e;if(null==r.application.id)throw new f.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");return o.ZP.resolveInvite(t,"Game SDK").then(e=>{let{invite:t,code:r}=e;if(null==t)throw new f.Z({errorCode:_.lTL.INVALID_INVITE},"Invalid invite id: ".concat(r));let{context:i,lock:a}=(0,m.jU)(n);return new Promise(e=>{l.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:r,context:i,resolve:e})}).then(a)})}},[_.Etm.OPEN_OVERLAY_VOICE_SETTINGS]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({pid:e.number().min(0).required()}),handler(e){let{args:{pid:t},socket:l}=e,a=l.application.id;if(null==a)throw new f.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let{lock:o,context:s}=(0,m.jU)(t);return new Promise(e=>{(0,i.ZDy)(async()=>{let{default:e}=await n.e("66063").then(n.bind(n,344516));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={mediaEngineContext:a,title:l.application.name,onClose:()=>{t.onClose()}},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},{contextKey:s===_.IlC.POPOUT?i.u1M:i.z1l,onCloseCallback:()=>{o(),e()}})})}}}},498164:function(e,t,n){n.d(t,{Z:()=>Z}),n(35282),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(388685);var r=n(951288);n(647438);var i=n(756647),l=n(481060),a=n(570140),o=n(355467),s=n(899742),c=n(493683),u=n(457330),d=n(533307),p=n(317381),f=n(122613),h=n(649256),g=n(100527),m=n(728345),b=n(962220),_=n(69580),O=n(703656),E=n(553795),y=n(594174),v=n(626135),I=n(585483),C=n(591759),S=n(998502),N=n(996106),T=n(109815),P=n(186901),j=n(981631);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){null!=e&&v.default.track(j.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,i.s)(e),link_type:t})}let Z={[j.Etm.INVITE_BROWSER]:{scope:P.cE,async handler(e){let{args:{code:t}}=e;return await (0,T.T)(t,"Desktop Modal")}},[j.Etm.GUILD_TEMPLATE_BROWSER]:{scope:P.cE,async handler(e){let{args:{code:t}}=e;if(null==y.default.getCurrentUser())return;let{guildTemplate:i}=await b.Z.resolveGuildTemplate(t);if(null==i)throw new N.Z({errorCode:j.lTL.INVALID_GUILD_TEMPLATE},"Invalid guild template id: ".concat(t));return S.ZP.focus(),(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("86015")]).then(n.bind(n,766775));return t=>{var n,l;return(0,r.jsx)(e,(n=x({},t),l=l={guildTemplate:i},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))}}),{guildTemplate:i,code:t}}},[j.Etm.GIFT_CODE_BROWSER]:{scope:P.cE,handler(e){let{args:{code:t}}=e;return new Promise((e,i)=>{a.Z.wait(()=>{d.Z.resolveGiftCode(t,!0,!0).then(i=>{let{giftCode:a}=i;S.ZP.focus(),v.default.track(j.rMx.OPEN_MODAL,{type:"gift_accept",location:j.SaU}),(0,l.ZDy)(async()=>{let{default:e}=await n.e("38029").then(n.bind(n,409858));return n=>(0,r.jsx)(e,x({code:t},n))}),e({giftCode:a})}).catch(()=>i(new N.Z({errorCode:j.lTL.INVALID_GIFT_CODE},"Invalid gift code: ".concat(t))))})})}},[j.Etm.DEEP_LINK]:{scope:{[P.Gp.ANY]:[P.cE,P.lH]},handler(e){let{args:{type:t,params:n}}=e;switch(S.ZP.focus(),t){case P.jE.USER_SETTINGS:null!=n&&((0,O.dL)(j.Z5c.SETTINGS(n.section,n.subsection)),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.CHANGELOG:null!=n&&((0,O.dL)(C.Z.formatPathWithQuery(j.Z5c.CHANGELOGS(n.date),n.query)),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.LIBRARY:(0,O.dL)(j.Z5c.APPLICATION_LIBRARY),null!=n&&A(n.fingerprint,(0,P.O)(t));break;case P.jE.STORE_HOME:(0,O.dL)(j.Z5c.APPLICATION_STORE),null!=n&&A(n.fingerprint,(0,P.O)(t));break;case P.jE.STORE_LISTING:null!=n&&((0,O.dL)(j.Z5c.APPLICATION_STORE_LISTING_SKU(n.skuId,n.slug)),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.PICK_GUILD_SETTINGS:null!=n&&((0,O.dL)({pathname:j.Z5c.PICK_GUILD_SETTINGS(n.section,n.subsection),search:n.search}),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.CHANNEL:null!=n&&((0,O.dL)({pathname:j.Z5c.CHANNEL(n.guildId,n.channelId,n.messageId),search:n.search}),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.QUEST_HOME:null!=n?((0,O.dL)({pathname:j.Z5c.QUEST_HOME,hash:n.questId}),A(n.fingerprint,(0,P.O)(t))):(0,O.dL)(j.Z5c.QUEST_HOME);break;case P.jE.DISCOVERY_GAME_RESULTS:null!=n&&((0,O.dL)({pathname:j.Z5c.GLOBAL_DISCOVERY_SERVERS,search:"?game=".concat(n.gameId)}),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.OAUTH2:let r=new URL(j.Z5c.OAUTH2_AUTHORIZE,window.location.origin);r.search=n.search;let i=(0,_.getOAuth2AuthorizeProps)(r.toString());if(null!=i)return(0,_.openOAuth2ModalWithCreateGuildModal)(i),!0;return!1;case P.jE.SHOP:null!=n&&((0,O.dL)({pathname:j.Z5c.COLLECTIBLES_SHOP,search:n.search}),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.FEATURES:case P.jE.SHOP:(null==n?void 0:n.path)!=null&&((0,O.dL)({pathname:n.path}),A(n.fingerprint,(0,P.O)(t)));break;case P.jE.ACTIVITIES:if(null!=n)return async function(e,t){var r,i;let l=p.ZP.getCurrentEmbeddedActivity();if((null==l?void 0:l.applicationId)===e)return;let a=await m.ZP.fetchApplication(n.applicationId),o=null==a||null==(r=a.bot)?void 0:r.id;if(null==o)return;let s=await c.Z.openPrivateChannel({recipientIds:o}),u=new URL(t),d=null!=(i=u.searchParams.get("referrer_id"))?i:void 0,{customId:b}=await (0,h.ur)(e,u.searchParams.get("link_id"),u.searchParams.get("custom_id"));await (0,f.Z)({targetApplicationId:e,channelId:s,analyticsLocations:[g.Z.DEEPLINK],customId:b,referrerId:d})}(n.applicationId,n.url),A(n.fingerprint,(0,P.O)(t)),!0;return!1}}},[j.Etm.BROWSER_HANDOFF]:{scope:P.CN,handler(e){let{args:{handoffToken:t,fingerprint:n}}=e;S.ZP.focus(null,!0),(0,s.lx)(t,n)}},[j.Etm.CONNECTIONS_CALLBACK]:{scope:P.cE,handler:async e=>{let{args:{providerType:t,code:n,openid_params:r,iss:i,state:l}}=e;if(!E.Z.hasPendingAuthorizedState(l))throw new N.Z({errorCode:j.lTL.INVALID_CONNECTION_CALLBACK_STATE},"Provider authorization did not originate from this discord client");try{return E.Z.deletePendingAuthorizedState(l),await u.Z.callback(t,{code:n,openid_params:r,iss:i,state:l})}catch(e){if((null==e?void 0:e.status)===400)throw new N.Z({errorCode:j.lTL.BAD_REQUEST_FOR_PROVIDER},"Bad request for provider");throw I.S.dispatch(j.CkL.CONNECTIONS_CALLBACK_ERROR),e}}},[j.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK]:{scope:P.cE,handler(e){let{args:{state:t,path:n,query:r}}=e;return(0,o.rt)({paymentSourceType:j.HeQ.PAYPAL,state:t,path:n,query:r})}},[j.Etm.BILLING_POPUP_BRIDGE_CALLBACK]:{scope:P.cE,handler(e){let{args:{state:t,path:n,query:r,payment_source_type:i}}=e;return(0,o.rt)({paymentSourceType:i,state:t,path:n,query:r})}}}},705444:function(e,t,n){n.d(t,{Z:()=>c});var r=n(243814),i=n(570140),l=n(569984),a=n(996106),o=n(914946),s=n(981631);let c={[s.Etm.GET_QUEST_ENROLLMENT_STATUS]:{scope:r.x.IDENTIFY,handler(e){var t,n,r;let{socket:i,args:{quest_id:c}}=e;(0,o.bu)(i.transport);let u=(0,o._f)(i.application),d=l.Z.getQuest(c);if(null==d||d.config.application.id!==u)throw new a.Z({errorCode:s.lTL.INVALID_COMMAND},"Quest not found: ".concat(c));return{quest_id:c,is_enrolled:(null==(t=d.userStatus)?void 0:t.enrolledAt)!=null,enrolled_at:null!=(r=null==(n=d.userStatus)?void 0:n.enrolledAt)?r:null}}},[s.Etm.QUEST_START_TIMER]:{scope:r.x.IDENTIFY,handler(e){var t;let{socket:n,args:{quest_id:r}}=e;(0,o.bu)(n.transport);let c=(0,o._f)(n.application),u=l.Z.getQuest(r);if(null==u||u.config.application.id!==c)throw new a.Z({errorCode:s.lTL.INVALID_COMMAND},"Quest not found: ".concat(r));if((null==(t=u.userStatus)?void 0:t.enrolledAt)==null)throw new a.Z({errorCode:s.lTL.INVALID_COMMAND},"User is not enrolled in quest");return i.Z.dispatch({type:"QUEST_APPLICATION_START_TIMER",questId:r,applicationId:c}),{success:!0}}}}},885381:function(e,t,n){n.d(t,{Z:()=>l});var r=n(570140),i=n(186901);let l={[n(981631).Etm.SET_SUPPRESS_NOTIFICATIONS]:{scope:i.lH,handler(e){let{socket:t,args:{suppress_notifications:n,target_user_id:i}}=e;r.Z.dispatch({type:"SET_RPC_NOTIFICATION_SETTINGS",socketId:t.id,suppressNotifications:n,targetUserId:i})}}}},111097:function(e,t,n){n.d(t,{Z:()=>m}),n(415506),n(388685),n(49124);var r=n(72924),i=n(100527),l=n(367207),a=n(996106),o=n(452426),s=n(561205),c=n(334288),u=n(852926),d=n(186901),p=n(981631),f=n(474936);let h=[i.Z.RPC];function g(e,t){let n={subscriptionTier:f.Si.TIER_2,analyticsLocations:h,analyticsObject:t};switch(e){case p.IlC.APP:return l.Z.openPremiumPaymentModalInApp(n);case p.IlC.OVERLAY:return l.Z.openPremiumPaymentModalInOverlay(n);default:throw Error("Unexpected app context: ".concat(e))}}let m={[p.Etm.START_PURCHASE]:{[d.Gp.ANY]:[d.wE,d.lH],validation:e=>(0,o.Z)(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)}),handler(e){let{socket:t,args:{sku_id:n,pid:i}}=e;(0,c.f)(t.transport);let l=t.application.id;if(null==l)throw new a.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");let{lock:o,context:f}=(0,u.jU)(t.transport!==d.He.POST_MESSAGE?i:null);if(null==(0,s.Z)())throw new a.Z({errorCode:p.lTL.INVALID_CHANNEL},"Invalid channel");let m={page:p.ZY5.IN_APP};return(async()=>{try{let e=await (0,r.S)({applicationId:l,skuId:n,openPremiumPaymentModal:()=>g(f,m),analyticsLocations:h,analyticsLocationObject:m,context:f});return o(),e}catch(e){if(o(),null!=e){let t="";throw t="object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e),new a.Z({errorCode:p.lTL.PURCHASE_ERROR},t)}throw new a.Z({errorCode:p.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")}})()}},[p.Etm.START_PREMIUM_PURCHASE]:{[d.Gp.ANY]:[d.wE,d.lH],validation:e=>(0,o.Z)(e).keys({pid:e.number().min(0)}),handler(e){let{socket:t,args:{pid:n}}=e;if((0,c.f)(t.transport),null==t.application.id)throw new a.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");let{lock:r,context:i}=(0,u.jU)(t.transport!==d.He.POST_MESSAGE?n:null);return g(i,{page:p.ZY5.IN_APP}).then(()=>{r()},e=>{if(r(),null!=e)throw new a.Z({errorCode:p.lTL.PURCHASE_ERROR},e);throw new a.Z({errorCode:p.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")})}}}},908711:function(e,t,n){n.d(t,{Z:()=>i});var r=n(408841);let i={[n(981631).Etm.SEND_GENERIC_EVENT]:r.n}},197941:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(951288);n(647438);var i=n(243814),l=n(481060),a=n(846027),o=n(872810),s=n(594190),c=n(989941),u=n(173507),d=n(199902),p=n(131951),f=n(449224),h=n(358085),g=n(452426),m=n(736045),b=n(186901),_=n(981631);let O={[_.Etm.TOGGLE_VIDEO]:{scope:{[b.Gp.ALL]:[i.x.RPC,i.x.RPC_VIDEO_WRITE]},handler(){let e=p.Z.isVideoEnabled();null!=(0,m.Z)()&&(e?a.Z.setVideoEnabled(!1):(0,u.Z)(()=>a.Z.setVideoEnabled(!0),_.IlC.APP))}},[_.Etm.TOGGLE_SCREENSHARE]:{scope:{[b.Gp.ALL]:[i.x.RPC,i.x.RPC_SCREENSHARE_WRITE]},validation:e=>(0,g.Z)(e).optional().keys({pid:e.number().optional().min(0)}),handler(e){let{args:{pid:t}}=e,i=d.Z.getCurrentUserActiveStream(),a=d.Z.getStreamerActiveStreamMetadata(),u=(0,c.Z)(s.ZP,f.Z),p=(0,m.Z)();null!=p&&(null!=t&&null!=a&&a.pid!==t&&(0,h.isWindows)()?(0,o.WH)(p.guild_id,p.id,{pid:t}):null!=i?(0,o.L6)(!1):null!=t&&(0,h.isWindows)()?(0,o.WH)(p.guild_id,p.id,{pid:t}):null!=u?(0,o.WH)(p.guild_id,p.id,{pid:u.pid}):(0,l.ZDy)(async()=>{let{default:e}=await n.e("46746").then(n.bind(n,60594));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={guildId:p.guild_id,analyticsLocation:_.Sbl.ACTIVITY_RPC},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}}))}}}},462414:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(243814),i=n(846027),l=n(131951),a=n(13140),o=n(996106),s=n(452426),c=n(186901),u=n(981631),d=n(65154);function p(e){let t=e.application.id;if(null==t)throw new o.Z({errorCode:u.lTL.INVALID_COMMAND},"No application.");return t}let f={[u.Etm.SET_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({input_mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(u.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()}),handler(e){let{socket:t,args:{input_mode:n,self_mute:r,self_deaf:o}}=e,s=p(t);null!=n&&i.Z.setMode(n.type,{shortcut:(0,a.Kd)(n.shortcut)},s),null!=r&&r!==l.Z.isSelfMute(s)&&i.Z.toggleSelfMute({context:s}),null!=o&&o!==l.Z.isSelfDeaf(s)&&i.Z.toggleSelfDeaf({context:s})}},[u.Etm.SET_USER_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{socket:t,args:{user_id:n,mute:r,volume:a}}=e,o=p(t);null!=r&&r!==l.Z.isLocalMute(n,o)&&i.Z.toggleLocalMute(n,o),null!=a&&i.Z.setLocalVolume(n,a,o)}},[u.Etm.PUSH_TO_TALK]:{scope:{[c.Gp.ALL]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({active:e.boolean()}),handler(e){let{args:{active:t}}=e;l.Z.getMode(d.Yn.DEFAULT)===u.pM4.PUSH_TO_TALK&&l.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(t),d.Yn.DEFAULT)}}}},662194:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(243814),i=n(846027),l=n(131951),a=n(594174),o=n(996106),s=n(452426),c=n(852926),u=n(186901),d=n(981631);let p={[d.Etm.SET_USER_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),pan:(0,s.Z)(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{args:{user_id:t,pan:n,volume:r,mute:s}}=e,c=a.default.getCurrentUser();if(null==a.default.getUser(t)||(null==c?void 0:c.id)===t)throw new o.Z({errorCode:d.lTL.INVALID_USER},"Invalid user id: ".concat(t));if(null!=n&&i.Z.setLocalPan(t,n.left,n.right),null!=r&&i.Z.setLocalVolume(t,r),null!=s){let e=l.Z.isLocalMute(t);(e&&!s||!e&&s)&&i.Z.toggleLocalMute(t)}return{user_id:t,pan:l.Z.getLocalPan(t),volume:l.Z.getLocalVolume(t),mute:l.Z.isLocalMute(t)}}},[d.Etm.GET_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},handler:()=>(0,c._X)()},[d.Etm.SET_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({input:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(d.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items((0,s.Z)(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()}),handler(e){let{args:{input:t,output:n,mode:r,automatic_gain_control:a,echo_cancellation:o,noise_suppression:s,qos:u,silence_warning:d,deaf:p,mute:f}}=e;if(t&&(null!=t.device_id&&i.Z.setInputDevice(t.device_id),null!=t.volume&&i.Z.setInputVolume(t.volume)),n&&(null!=n.device_id&&i.Z.setOutputDevice(n.device_id),null!=n.volume&&i.Z.setOutputVolume(n.volume)),r){let e=l.Z.getMode(),t=l.Z.getModeOptions();null!=r.type&&(e=r.type),null!=r.auto_threshold&&(t.autoThreshold=r.auto_threshold),null!=r.threshold&&(t.threshold=r.threshold),null!=r.shortcut&&(t.shortcut=r.shortcut.map(e=>[e.type,e.code])),null!=r.delay&&(t.delay=r.delay),i.Z.setMode(e,t)}if(null!=a&&i.Z.setAutomaticGainControl(a),null!=o&&i.Z.setEchoCancellation(o),null!=s&&i.Z.setNoiseSuppression(s),null!=u&&i.Z.setQoS(u),null!=d&&i.Z.setSilenceWarning(d),null!=p){let e=l.Z.isSelfDeaf();(e&&!p||!e&&p)&&i.Z.toggleSelfDeaf()}if(null!=f){let e=l.Z.isSelfMute();(e&&!f||!e&&f)&&i.Z.toggleSelfMute()}return(0,c._X)()}}}},967351:function(e,t,n){n.d(t,{Z:()=>I}),n(388685),n(415506),n(49124);var r=n(413135),i=n(836560),l=n(392711),a=n.n(l),o=n(710845),s=n(998502),c=n(901077),u=n(76238),d=n(852926),p=n(981631);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=s.ZP.requireModule("discord_rpc").RPCIPC,g=new o.Z("RPCServer:IPC"),m={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function b(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function _(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function O(e){return new Promise((t,n)=>{"string"==typeof e&&(e=h.net.createConnection(e));let r=new y(e,"json");e.on("data",t=>{try{r.read(t)}catch(t){e.end(E(m.CLOSE,{code:1003,message:t.message})),e.destroy()}});let i=()=>{try{e.end(E(m.CLOSE,{code:p.$VG.CLOSE_NORMAL,message:"test client going away"})),e.destroy()}catch(e){}},l=Promise.race([new Promise(t=>e.on("error",()=>t())),new Promise((t,n)=>{e.on("pong",()=>n(Error("socket responded with pong")))}),new Promise((e,t)=>{setTimeout(()=>t(Error("socket alive timeout")),1e3)})]).then(()=>{i()},e=>{throw i(),e});return e.write(E(m.PING,a().uniqueId())),l.then(t,n)})}function E(e,t){t=JSON.stringify(t);let n=r.Buffer.byteLength(t),i=r.Buffer.alloc(8+n);return i.writeInt32LE(e,0),i.writeInt32LE(n,4),i.write(t,8,n),i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}class y extends u.Z{copyBuffer(e,t,n){let i=r.Buffer.allocUnsafe(n-t);return e.copy(i,0,t,n),i}send(e){g.info("Socket Emit: ".concat(this.id),(0,c.Z)(e)),this.socket.write(E(m.FRAME,e))}close(e,t){this.socket.end(E(m.CLOSE,{code:e,message:t})),this.socket.destroy()}read(e){if(this.messageBuffer.byteLength+e.byteLength>this.MAX_BUFFER_SIZE)throw Error("total buffer size exceeded");this.messageBuffer=function(e,t){let n=r.Buffer.alloc(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.byteLength),n}(this.messageBuffer,e),this.processMessages()}processMessages(){for(;this.messageBuffer.byteLength>=8;){if(null===this.currentHeader){if(this.currentHeader={opcode:this.messageBuffer.readInt32LE(0),size:this.messageBuffer.readInt32LE(4)},!Object.values(m).includes(this.currentHeader.opcode)||this.currentHeader.size<0)throw Error("protocol error");if(this.currentHeader.size>3145728)throw Error("message too large");this.messageBuffer=this.copyBuffer(this.messageBuffer,8,this.messageBuffer.byteLength)}if(this.messageBuffer.byteLength>=this.currentHeader.size){let e=JSON.parse(this.copyBuffer(this.messageBuffer,0,this.currentHeader.size).toString());this.dispatchMessage(this.socket,this.currentHeader.opcode,e),this.messageBuffer=this.copyBuffer(this.messageBuffer,this.currentHeader.size,this.messageBuffer.byteLength),this.currentHeader=null}else break}}dispatchMessage(e,t,n){switch(t){case m.PING:e.emit("ping",n),e.write(E(m.PONG,n));break;case m.PONG:e.emit("pong",n);break;case m.HANDSHAKE:this.handleHandshake(e,n),e.emit("handshake",n);break;case m.FRAME:if(!_(e))throw Error("did not handshake");e.emit("request",n);break;case m.CLOSE:e.end(E(m.CLOSE,{code:p.$VG.CLOSE_NORMAL,message:"client disconnect"})),e.destroy()}}handleHandshake(e,t){if(_(e))throw Error("already did handshake");this.clientId=t.client_id,this.checkRpcVersion(+t.v),b(e,!0)}constructor(e,t){super("ipc",p.X6Q,t),f(this,"messageBuffer",r.Buffer.alloc(0)),f(this,"currentHeader",null),f(this,"MAX_BUFFER_SIZE",5242880),f(this,"socket",void 0),f(this,"clientId",null),this.socket=e,b(e,!1)}}class v extends i.EventEmitter{handleConnection(e){let t=new y(e,"json");e.on("readable",()=>{let n=e.read();null!=n&&t.read(r.Buffer.from(n))}),e.on("data",n=>{try{t.read(r.Buffer.from(n))}catch(t){g.error("Socket Error: ".concat(t.message)),e.end(E(m.CLOSE,{code:p.$VG.CLOSE_UNSUPPORTED,message:t.message})),e.destroy()}}),e.once("handshake",()=>{let n=t.clientId;g.info("Socket Opened: ".concat(t.id)),e.on("error",e=>g.error("Socket Error: ".concat(e.message))),e.on("close",()=>{g.info("Socket Close: ".concat(t.id)),this.emit("disconnect",t)}),(0,d.em)(t,null,n).then(()=>{e.on("request",e=>{g.info("Socket Message: ".concat(t.id),(0,c.Z)(e)),this.emit("request",t,e)}),this.emit("connect",t)}).catch(e=>{let{code:n,message:r}=e;t.close(n,r)})})}constructor(){super();let e=h.net.createServer(e=>this.handleConnection(e));e.on("error",e=>g.error("Error: ".concat(e.message))),h.getAvailableSocket(O).then(t=>{e.listen(t,()=>{("function"==typeof e.listening?e.listening():e.listening)&&g.info("Starting on ".concat(e.address()))})})}}let I=new v},178318:function(e,t,n){let r,i;n.d(t,{Z:()=>Z}),n(49124),n(388685),n(35282),n(65234),n(111804),n(490233),n(97749),n(539854),n(415506);var l=n(836560),a=n(392711),o=n.n(a),s=n(570140),c=n(710845),u=n(857192),d=n(591759),p=n(998502),f=n(996106),h=n(901077),g=n(76238),m=n(852926),b=n(186901),_=n(981631),O=n(413135).Buffer;function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}try{r=p.ZP.requireModule("discord_erlpack")}catch(e){try{r=p.ZP.requireModule("erlpack")}catch(e){}}let y=p.ZP.requireModule("discord_rpc").RPCWebSocket,v=window.GLOBAL_ENV.MARKETING_ENDPOINT,I=new c.Z("RPCServer:WSS"),C=[];function S(e){return"function"==typeof e?e():e}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:()=>{if(!S(i.listening))return;let e=i.address().port;I.info("Starting on ".concat(e)),s.Z.dispatch({type:"RPC_SERVER_READY",port:e})};i.listen(_.V6Z+e%_.frH,"127.0.0.1",t)}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=null!=S(e.headers).origin?{"Access-Control-Allow-Origin":S(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"Content-Type, Authorization"}:{};n=n?JSON.stringify(n):"",r=200===r&&0===n.length?204:r,t.setHeader("Content-Length",O.byteLength(n).toString()),t.setHeader("Content-Type","application/json"),t.writeHead(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({},i,l)),t.end(n)}function P(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;T(e,t,{code:i,message:r},n)}class j extends g.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==_.Etm.OVERLAY&&e.evt!==_.zMe.OVERLAY)&&I.info("Socket Emit: ".concat(this.id),(0,h.Z)(e)),null!=r&&"etf"===this.encoding?this._socket.send(r.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))}close(e,t){this._socket.close(e,t)}constructor(e,t,n){if(super("ws",t,n),E(this,"_socket",void 0),-1===["etf","json"].indexOf(n))throw new f.Z({closeCode:_.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(n));if("etf"===n&&null==r)throw new f.Z({closeCode:_.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this._socket=e}}class x extends g.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==_.Etm.OVERLAY)&&I.info("Socket Emit: ".concat(this.id),e),this._sendCallback(e)}close(e,t){this._closeCallback(t,e)}constructor(e,t,n,r){if(super("http",n,r),E(this,"_sendCallback",void 0),E(this,"_closeCallback",void 0),"json"!==r)throw new f.Z({closeCode:_.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(r));this._sendCallback=e,this._closeCallback=t}}class A extends l.EventEmitter{handleRequest(e,t){let[n,r]=S(e.url).split("?"),i=S(e.method);if("/rpc"===n&&"OPTIONS"===i)return void T(e,t,{body:""});let l="POST"===i;if("/rpc"===n&&("GET"===i||l)){let n=new URLSearchParams(r),i=l?S(e.headers)["content-type"].split("/")[1]:"json",o=function(){var e,r;let{protocol:i,host:l}=null!=(r=d.Z.toURLSafe(null!=(e=n.get("callback"))?e:""))?r:{};i===location.protocol&&l===location.host?t.setHeader("Location",n.get("callback")):t.setHeader("Location",v),t.writeHead(301),t.end()},s=new x(!l?o:T.bind(null,e,t),!l?o:P.bind(null,e,t,400),Number(n.get("v")),i);if(l)(0,m.em)(s,S(e.headers).origin,n.get("client_id")).then(()=>{let n="";e.on("data",e=>n+=e),e.on("error",()=>P(e,t,500,"Internal Server Error")),e.on("end",()=>this.handleMessage(s,n))}).catch(e=>{let{code:t,message:n}=e;return s.close(t,n)});else{var a;s.authorization.scopes=[b.CN],this.handleMessage(s,decodeURIComponent(null!=(a=n.get("payload"))?a:""))}return}P(e,t,404,"Not Found")}handleConnection(e){var t,n;let r,i=new URLSearchParams(S(e.upgradeReq).url.split("?")[1]),l=null!=(t=S(e.upgradeReq).headers.origin)?t:"";try{r=new j(e,Number(i.get("v")),null!=(n=i.get("encoding"))?n:"json")}catch(t){e.close(t.code,t.message);return}I.info("Socket Opened: ".concat(r.id)),e.on("error",e=>I.error("WS Error: ".concat(e.message))),e.on("close",(e,t)=>{I.info("Socket Closed: ".concat(r.id,", code ").concat(e,", message ").concat(t)),o().remove(C,e=>e===r),this.emit("disconnect",r)}),(0,m.em)(r,l,i.get("client_id")).then(()=>{C.push(r),e.on("message",e=>this.handleMessage(r,e)),this.emit("connect",r)}).catch(e=>{let{code:t,message:n}=e;return r.close(t,n)})}handleMessage(e,t){let n;try{if(null!=r&&"etf"===e.encoding)n=r.unpack(t);else if("string"==typeof t)n=JSON.parse(t);else throw Error()}catch(t){e.close(_.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(u.default.isLoggingOverlayEvents||n.cmd!==_.Etm.OVERLAY)&&I.info("Socket Message: ".concat(e.id),(0,h.Z)(n)),this.emit("request",e,n)}constructor(){var e;super();let t=0;(i=y.http.createServer()).on("error",e=>{I.error("Error: ".concat(e.message)),("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout(()=>N(++t),1e3)}),i.on("request",this.handleRequest.bind(this)),N(t);let n={instanceId:null!=(e=i.instanceId)?e:0,server:i};new y.ws.Server(n).on("connection",e=>this.handleConnection(e))}}let Z=new A},188861:function(e,t,n){n.d(t,{Z:()=>p});var r=n(710845),i=n(857192),l=n(901077),a=n(46832),o=n(852926),s=n(748635),c=n(981631);let u=new r.Z("RPCServer:PostMessage"),d=(e,t,n)=>{(i.default.isLoggingOverlayEvents||e.cmd!==c.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,l.Z)(e))},p=function(){let e=new a.Z(o.em,u,s.Z,d);return window.addEventListener("message",t=>{if(window===t.source)return;if(null==t.source||null==t.source.postMessage)return void u.error("Unknown event source");let n=t.source,r=t.data,i=t.origin;e.handleMessage(r,i,(e,t)=>{!function(e){try{return e.closed}catch(e){return!1}}(n)&&n.postMessage(e,t)})}),e}()},748635:function(e,t,n){n.d(t,{Z:()=>o});var r=n(857192),i=n(901077),l=n(915357),a=n(981631);let o=e=>{let{origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:u,postClose:d}=e;return new l.Z({origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:u,postClose:d,onSendingToRPCClient:(e,t)=>{(r.default.isLoggingOverlayEvents||e.cmd!==a.Etm.OVERLAY&&e.evt!==a.zMe.OVERLAY)&&u.info("Socket Emit: ".concat(t),(0,i.Z)(e))}})}},886412:function(e,t,n){n.d(t,{bu:()=>i});let r=(0,n(818083).B)({id:"2025-05_safety_flows",label:"Safety Flows",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function i(e){let{location:t}=e;return r.getCurrentConfig({location:t},{autoTrackExposure:!1}).enabled}},817938:function(){},719801:function(e,t,n){n(388685),n(539854);var r,i,l=n(442837),a=n(570140),o=n(786761);let s=new Map,c=new Map;function u(){s=new Map,c=new Map}let d=[],p=[];class f extends(r=l.ZP.Store){getRecentMessageAuthorIds(e){var t;return null!=(t=s.get(e))?t:d}getRecentMessageChannelIds(e){var t;return null!=(t=c.get(e))?t:p}}(i="displayName")in f?Object.defineProperty(f,i,{value:"SearchRecentMessageStore",enumerable:!0,configurable:!0,writable:!0}):f[i]="SearchRecentMessageStore",new f(a.Z,{SEARCH_MESSAGES_SUCCESS:function(e){var t,n;let{guildId:r,data:i}=e;if(null==r)return!1;let l=!1,a=!1,u=[...null!=(t=s.get(r))?t:[]],d=new Set(u),p=[...null!=(n=c.get(r))?n:[]],f=new Set(p);return i.forEach(e=>{e.messages.forEach(e=>{let[t]=e,n=(0,o.e5)(t);!d.has(n.author.id)&&d.size<15&&(d.add(n.author.id),u.push(n.author.id),l=!0),!f.has(n.channel_id)&&f.size<15&&(f.add(n.channel_id),p.push(n.channel_id),a=!0)})}),l&&s.set(r,u),a&&c.set(r,p),l||a},SEARCH_RECENT_MESSAGES_CLEAR:u,CONNECTION_OPEN:u})},296241:function(e,t,n){n.d(t,{Z:()=>u});var r=n(951288),i=n(647438),l=n(442837),a=n(738018),o=n(607802),s=n(208450),c=n(921667);let u=i.memo(function(e){let{searchContext:t,focusSectionProps:n}=e,i=(0,l.e7)([a.Z],()=>{let{mode:e}=a.Z.getState(t);return(0,o.Fz)(e.filter)});return(0,r.jsx)(s.o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({searchContext:t,className:c.appTitleSearch,searchBarContainerClassName:c.appTitleSearchBarContainer,searchBarClassName:c.appTitleSearchBar,searchPopoutClassName:i?c.appTitleSearchPopoutDatePicker:c.appTitleSearchPopout,popoutAlignment:"center"},n))})},719256:function(e,t,n){n.d(t,{Z:()=>p}),n(388685),n(539854);var r=n(846519),i=n(570140),l=n(317770),a=n(220082),o=n(594174),s=n(125268),c=n(813900);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends l.Z{_initialize(){__OVERLAY__||(i.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),i.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived))}_terminate(){__OVERLAY__||(i.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),i.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived),this.lineBatchTimer.stop())}_handleVoiceChannelEffectReceived(e){var t;let{lineId:n,points:r,userId:i,streamerId:l,emojiHose:u}=e;if(null!=l&&i!==(null==(t=o.default.getCurrentUser())?void 0:t.id))if(null!=r&&null!=n){let e=o.default.getUser(i);null!=e&&(0,a.vM)(e.getAvatarURL(null,c.Ks)),(0,s.cV)(n,i,l,r)}else null!=u&&(u.lastUpdatedAt=Date.now(),(0,s.gr)(u,i,l))}constructor(...e){super(...e),u(this,"linesToUpdate",{}),u(this,"lineBatchTimer",new r.Xp),u(this,"_handleDrawLinePoint",e=>{let{channelId:t,lineId:n,streamerId:r,point:i}=e;null==this.linesToUpdate[n]?this.linesToUpdate[n]={channelId:t,streamerId:r,points:[i]}:this.linesToUpdate[n].points.push(i),null==this.lineBatchTimer._ref&&this.lineBatchTimer.start(c.Fq,this.sendLineBatch)}),u(this,"sendLineBatch",()=>{for(let e in this.linesToUpdate){let{channelId:t,points:n,streamerId:r}=this.linesToUpdate[e];(0,s.AX)(t,e,r,n)}this.linesToUpdate={},this.lineBatchTimer.stop()})}}let p=new d},131468:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(317770),l=n(314897),a=n(131951);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Z{_initialize(){__OVERLAY__||(r.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),r.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),r.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),r.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}_terminate(){__OVERLAY__||(r.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),r.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),r.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),r.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}constructor(...e){super(...e),o(this,"_playSound",function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2],arguments.length>3&&arguments[3]}),o(this,"_stopAndClearSounds",()=>{}),o(this,"_handleToggleSelfDeafened",()=>{a.Z.isDeaf()&&this._stopAndClearSounds()}),o(this,"_handleSoundboardSoundReceived",e=>{let{soundId:t,soundVolume:n,userId:r,channelId:i}=e;if(null!=t&&r!==l.default.getId())return this._playSound(t,n,r,i)}),o(this,"_handleSoundboardSoundPlayLocally",e=>{let{sound:t,channelId:n}=e,r=l.default.getId();return this._playSound(t.soundId,t.volume,r,n)}),o(this,"_handleVoiceChannelSelect",()=>{this._stopAndClearSounds()})}}},377368:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(536442),o=n(810788),s=n(592125),c=n(131951),u=n(944486),d=n(556296),p=n(131468),f=n(208049),h=n(763296),g=n(641015),m=n(22382),b=n(747071),_=n(49230),O=n(981631),E=n(65154);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends p.Z{_initialize(){super._initialize(),__OVERLAY__||l.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}_terminate(){super._terminate(),__OVERLAY__||l.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}constructor(...e){var t;super(...e),t=this,y(this,"playingSoundsWeb",new Map),y(this,"_stopAndClearSounds",()=>{c.Z.supports(E.AN.SAMPLE_PLAYBACK)&&c.Z.getMediaEngine().eachConnection(e=>{e.stopAllSamplesLocalPlayback()}),this.playingSoundsWeb.forEach(e=>{e.pause(),e.src=""}),this.playingSoundsWeb=new Map}),y(this,"_playSound",async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=null!=i&&u.Z.getVoiceChannelId()===i;if((null==i||l)&&!c.Z.isDeaf()&&!h.Z.isLocalSoundboardMuted(r))try{let i={soundKey:"".concat(r,"-").concat(e),soundURL:(0,m.Z)(e),soundVolume:(0,b.Z)(n),reportSoundStartedPlaying:()=>(0,f.xR)(e,r)};c.Z.supports(E.AN.SAMPLE_PLAYBACK)?await (0,_.$)(i):await (0,_.h)(i,t.playingSoundsWeb)}finally{(0,f.R)(e,r)}}),y(this,"_handleOverlaySoundboardSoundsFetchRequest",()=>{(0,f.w)()}),y(this,"_handleOpenEducationModal",(e,t)=>{if(null==e)return;let l=s.Z.getChannel(t),c=d.ZP.getKeybindForAction(O.kg4.SOUNDBOARD_HOLD);null!=l&&(0,g.Z)(l)&&null!=c&&o.Z.hasHotspot(a.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,i.ZDy)(async()=>{let{default:t}=await n.e("69208").then(n.bind(n,490166));return n=>(0,r.jsx)(t,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}({},n),{guildId:e,keybind:c,channel:l}))})})}}let I=new v},848543:function(e,t,n){n.d(t,{Z:()=>x}),n(388685);var r=n(951288),i=n(647438),l=n(120356),a=n.n(l),o=n(399606),s=n(704215),c=n(582019),u=n(755721),d=n(481060),p=n(239091),f=n(100527),h=n(906732),g=n(522651),m=n(795318),b=n(706140),_=n(294629),O=n(131951),E=n(459273),y=n(242291),v=n(792165),I=n(603074),C=n(981631),S=n(921944),N=n(388032),T=n(890332);function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function x(e){var{channel:t}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channel"]);let x=i.useRef(null),{mute:A,suppress:Z}=(0,_.Z)(t),w=(0,o.e7)([O.Z],()=>O.Z.isDeaf()),L=A||Z||w,[R,D]=i.useState(!1),k=t.getGuildId(),M=(0,y.sR)({isSoundboardButtonDisabled:L}),[U,G]=(0,b.cv)(M),{analyticsLocations:B,parentAnalyticsLocation:V}=(0,h.ZP)(f.Z.SOUNDBOARD_BUTTON);function H(e){null!=k&&(0,p.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,r.jsx)(e,j(P({guildId:k,sourceAnalyticsLocations:B},t),{onInteraction:(0,m.u)("SoundboardContextMenu",f.Z.RTC_PANEL)}))})}let{Component:F,play:z,events:{onMouseEnter:W,onMouseLeave:Y}}=(0,c.j)(),K=i.useCallback(()=>{L||D(!R)},[L,R]);return(0,E.yp)({event:C.CkL.TOGGLE_SOUNDBOARD,handler:K}),(0,r.jsx)(h.Gt,{value:B,children:(0,r.jsx)(d.ua7,{targetElementRef:x,text:A?N.intl.string(N.t["Ox4/zc"]):Z?N.intl.string(N.t["+YBKYG"]):w?N.intl.string(N.t.X1lQlp):N.intl.string(N.t["6EJvHh"]),children:e=>(0,r.jsx)(d.yRy,{targetElementRef:x,animation:d.yRy.Animation.FADE,shouldShow:R,position:"top",onRequestClose:()=>D(!1),renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(I.Z,{guildId:k,channel:t,onClose:n,gridNotice:U===s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,r.jsx)(v.o,{onClose:n,markAsDismissed:G}),analyticsSource:"rtc panel"})},children:t=>(0,r.jsx)("div",{ref:x,children:(0,r.jsx)(u.zx,j(P(j(P({"data-migration-pending":!0},e,t),{className:a()(T.button,T.buttonColor,{[T.greyButtonActive]:R,[T.disabled]:L}),wrapperClassName:T.button,innerClassName:T.buttonContents,disabled:L,onClick:()=>{var t;null!=U&&U!==s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&G(S.L.UNKNOWN),null==e||null==(t=e.onClick)||t.call(e),D(!R),z(),(0,g.v)(V,g.d.SOUNDBOARD)},onMouseEnter:t=>{var n,r;null==(n=l.onMouseEnter)||n.call(l,t),null==e||null==(r=e.onMouseEnter)||r.call(e),W()},onMouseLeave:t=>{var n,r;null==(n=l.onMouseLeave)||n.call(l,t),null==e||null==(r=e.onMouseLeave)||r.call(e),Y()},onContextMenu:H,fullWidth:!0,size:u.zx.Sizes.MEDIUM}),l),{children:(0,r.jsx)(F,{className:T.buttonIcon,size:"sm",color:"currentColor"})}))})})})})}},49230:function(e,t,n){n.d(t,{$:()=>h,h:()=>g}),n(388685);var r=n(512722),i=n.n(r),l=n(46973),a=n(304809),o=n(399882),s=n(545511),c=n(131951),u=n(747071);let d=null;try{d=(0,a.N)()}catch(e){}let p=new Map;async function f(e){let t=p.get(e);if(null!=t)return t;let n=await (await fetch(e)).arrayBuffer(),r=await (null==d?void 0:d.decodeAudioData(n));return null!=r&&p.set(e,r),r}function h(e){let{soundKey:t,soundURL:n,soundVolume:r,reportSoundStartedPlaying:a}=e;return new Promise(async e=>{let o=await f(n);null==o&&e(),c.Z.getMediaEngine().eachConnection(n=>{n.context===l.Yn.DEFAULT&&(a(),i()(null!=o,"audioBuffer cannot be null here"),n.startSamplesLocalPlayback(t,o,r,()=>{e()}))})})}function g(e,t){let{soundKey:n,soundURL:r,soundVolume:i,reportSoundStartedPlaying:l}=e,a=t.get(n);if(null!=a){a.currentTime=0;return}return new Promise(async e=>{let a=new(await (0,s.Z)(r));a.src=r,a.volume=(0,u.Z)(i),a.addEventListener(a instanceof o.Z.OGVPlayer?"loadedmetadata":"canplaythrough",()=>{l(),t.set(n,a),a.play()}),a.addEventListener("ended",()=>{t.delete(n),a.src="",e()})})}},979283:function(e,t,n){n.d(t,{O:()=>o});var r=n(818083),i=n(427164);let l=(0,r.B)({kind:"user",id:"2025-07_camera_toggle_sound",label:"Camera Toggle Sound",defaultConfig:{enabled:!1,inExperiment:!1},treatments:[{id:0,label:"Sound does not play when camera is toggled",config:{enabled:!1,inExperiment:!0}},{id:1,label:"Sound plays when camera is toggled",config:{enabled:!0,inExperiment:!0}}]}),a=(0,i.le)({name:"2025-07-camera-toggle-sound",kind:"user",defaultConfig:{enabled:!1,inExperiment:!1},variations:{0:{enabled:!1,inExperiment:!0},1:{enabled:!0,inExperiment:!0}}});function o(){let{enabled:e,inExperiment:t}=l.getCurrentConfig({location:"soundpacks"},{autoTrackExposure:!0});if(t)return e;let{enabled:n}=a.getConfig({location:"soundpacks"});return n}},380349:function(e,t,n){n.d(t,{Z:()=>h});var r=n(951288);n(647438);var i=n(442837),l=n(481060),a=n(314897),o=n(768419),s=n(456190),c=n(239470),u=n(894344),d=n(203777),p=n(616922),f=n(388032);function h(e,t,n){let h=(0,i.e7)([o.Z,a.default],()=>null!=t?(0,c.Z)(o.Z,a.default,t,e):void 0,[e,t]);if(null==h||null==e||null==t)return null;let g=h.isCurrentUser||h.notPlayable||h.playingSameTrack,m=h.isCurrentUser||h.syncingWithUser||h.syncingWithParty;return[(0,r.jsx)(l.sNh,{id:"spotify-play-".concat(e.session_id),action:()=>(0,d.Z)(h,p.kG.USER_ACTIVITY_PLAY,n),label:f.intl.string(f.t.rRffNz),subtext:g?(0,s.Z)(h,p.kG.USER_ACTIVITY_PLAY):void 0,disabled:g},"spotify-play-".concat(e.session_id)),h.canPlaySpotify?(0,r.jsx)(l.sNh,{id:"spotify-sync-".concat(e.session_id),action:()=>(0,u.Z)(h,p.kG.USER_ACTIVITY_SYNC,n),label:f.intl.string(f.t.eU3inJ),subtext:m?(0,s.Z)(h,p.kG.USER_ACTIVITY_SYNC):void 0,disabled:m},"spotify-sync-".concat(e.session_id)):null]}},262702:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(570140),i=n(846027),l=n(872810),a=n(317770),o=n(569545),s=n(199902),c=n(314897),u=n(592125),d=n(131951),p=n(590415);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Z{_initialize(){r.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){r.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),f(this,"handleVoiceStateUpdates",e=>{let{voiceStates:t}=e,n=c.default.getId();t.forEach(e=>{var t;e.userId===n&&(null==(t=u.Z.getChannel(e.channelId))?void 0:t.isGuildStageVoice())&&(0,p.gf)(e)!==p.xO.ON_STAGE&&(this.handleStopStream(e),this.handleStopUserVideo())})}),f(this,"handleStopStream",e=>{let t=s.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,l.g)((0,o.V9)(t),!1)}),f(this,"handleStopUserVideo",()=>{d.Z.isVideoEnabled()&&i.Z.setVideoEnabled(!1)})}}let g=new h},448206:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(314897),l=n(944486),a=n(88751);function o(e){return(0,r.e7)([i.default,l.Z,a.ZP],()=>{let t=i.default.getId();return l.Z.getVoiceChannelId()===e?a.ZP.getPermissionsForUser(t,e):null},[e])}},639033:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(317770),o=n(314897),s=n(592125),c=n(797258),u=n(590415),d=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f="STAGE_INVITED_TO_SPEAK_MODAL";class h extends a.Z{_initialize(){l.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){l.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),p(this,"handleVoiceStateUpdates",e=>{var t;let{voiceStates:l}=e,a=o.default.getId(),h=null==(t=c.Z.getSession())?void 0:t.sessionId,g=l.find(e=>e.userId===a&&e.sessionId===h);if(null==g)return;let m=g.channelId;if(null==m){(0,i.nfh)(f)&&(0,i.Mr3)(f);return}let b=s.Z.getChannel(m);if(!(null==b?void 0:b.isGuildStageVoice()))return;let _=(0,u.gf)(g)===u.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=b&&_){if((0,i.nfh)(f))return;(0,i.ZDy)(async()=>{let{default:e}=await n.e("13878").then(n.bind(n,113140));return t=>(0,r.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},t),{channel:b}))},{modalKey:f,onCloseRequest:d.VqG})}})}}let g=new h},579022:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(388032),a=n(41440);let o=Math.ceil(2*Math.PI*20),s=e=>{let{total:t,used:n}=e,s=Math.max(0,Math.min(1,n/t)),c="".concat(Math.floor(100*s),"%");return(0,r.jsx)(i.ua7,{text:l.intl.formatToPlainString(l.t["2eoRMj"],{used:c}),children:e=>{var t,n;return(0,r.jsxs)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:a.wrapper,role:"progressbar","aria-label":l.intl.formatToPlainString(l.t["2eoRMj"],{used:c})},e),n=n={children:[(0,r.jsxs)("svg",{viewBox:"25 25 50 50",className:a.svg,"aria-hidden":!0,children:[(0,r.jsx)("circle",{className:a.background,cx:"50",cy:"50",r:20}),(0,r.jsx)("circle",{className:a.foreground,cx:"50",cy:"50",r:20,stroke:function(e){let t=Math.round(-85*e+199),n=Math.round(-71*e+208),r=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(r,")")}(s),strokeDasharray:function(e){let t=Math.floor(o*e);return"".concat(t,", ").concat(o)}(s)})]}),(0,r.jsx)("aside",{className:a.usageInfo,"aria-hidden":!0,children:c})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}},703016:function(e,t,n){n.d(t,{Z:()=>W}),n(704826),n(35282),n(290780);var r=n(913527),i=n.n(r),l=n(570140),a=n(241601),o=n(419363),s=n(933557),c=n(660199),u=n(869765),d=n(706454),p=n(695346),f=n(314897),h=n(433355),g=n(592125),m=n(271383),b=n(485386),_=n(430824),O=n(131951),E=n(292959),y=n(699516),v=n(944486),I=n(9156),C=n(594174),S=n(51144),N=n(196051),T=n(441729),P=n(653477),j=n(981631),x=n(388032);let A=[],Z=null,w=null,L=null,R=/\|\|([\s\S]+?)\|\|/g;function D(e,t,n,r){let l=_.Z.getGuild(n),a=e.replace(R,x.intl.string(x.t["F+x38P"])).replace(/<@!?(\d+)>/g,(e,t)=>{var r;let i=C.default.getUser(t);return null==i?e:null!=(r=m.ZP.getNick(n,i.id))?r:S.ZP.getName(i)}).replace(/<@&?(\d+)>/g,(e,t)=>{let n=null!=l?b.Z.getRole(l.id,t):null;return null!=n&&null!=n.name?n.name:x.intl.string(x.t.dRcLAw)}).replace(/<#(\d+)>/g,(e,t)=>{let n=g.Z.getChannel(t);return null==n?e:(0,s.F6)(n,C.default,y.Z)}).replace(/<a?:(\w+):(\d+)>/g,(e,t)=>"".concat(x.intl.string(x.t.sMOuub)," ").concat(t)).replace(/<\/([^\s]+?):(\d+)>/g,(e,t)=>"/".concat(t)).replace(/<t:(\d+):([A-Z]|[a-z])>/g,(e,t,n)=>{let r=c.Qh[n],l=1e3*parseInt(t,10),a=i()(l);return null!=r?r(a):a.format()});return null==r?x.intl.formatToPlainString(x.t["uIj77+"],{username:t,body:a}):x.intl.formatToPlainString(x.t["Ix4H+v"],{username:t,body:a,replyUsername:r})}function k(){if(!o.Zh)return!1;let e=d.default.locale;if(null==L){var t;L=null==(t=window.speechSynthesis)?void 0:t.getVoices()}let n=L.filter(t=>t.lang===e||t.lang.slice(0,e.length)===e);w=n.length>0?n[0]:null}async function M(e,t,n,r,i){let l=o.e6(e,n);null!==l&&(null==w&&k(),t?await (0,N.NB)():null==Z||Z.removeEventListener("end",N.NB),l.addEventListener("end",N.NB),null!=r&&l.addEventListener("start",r),null!=i&&l.addEventListener("end",i),Z=l,o.iq(l,w))}function U(e,t,n,r,i){M(e,t,i,()=>{(0,N.Bo)(n,r)})}function G(e){let{text:t,interrupt:n,maxLength:r,onStart:i,onEnd:l}=e;M(t,n,r,i,l)}function B(){return null!==Z&&Z.removeEventListener("end",N.NB),o.M9(),Z=null,!0}function V(e){var t,n,r;let{message:i,channel:l}=e,a=i.type===j.uaV.REPLY?u.Z.getMessageByReference(i.messageReference):null,o=(null==a?void 0:a.state)===u.Y.LOADED?null==a||null==(t=a.message)?void 0:t.author:null,s=null!=o?null!=(n=m.ZP.getNick(l.guild_id,null==o?void 0:o.id))?n:S.ZP.getName(o):null,c=l.getGuildId(),d=null!=(r=m.ZP.getNick(c,i.author.id))?r:S.ZP.getName(i.author);return U(D(i.content,d,c,s),!0,l.id,i.id),!0}function H(e){var t,n,r,i,l,a;let{channelId:o,message:s,optimistic:c}=e;if(c||O.Z.isSelfDeaf())return!1;let u=g.Z.getChannel(o);if(null==u)return!1;let d=v.Z.getChannelId(),b=h.ZP.getCurrentSidebarChannelId(d),_=o===d||o===b,C=p.OW.getSetting()&&s.tts&&_,N=E.Z.getTTSType(),T=(null==(t=s.author)?void 0:t.id)!==f.default.getId()&&(N===j.PrB.ALL_CHANNELS||N===j.PrB.SELECTED_CHANNEL&&_);if((C||T)&&!y.Z.isBlockedOrIgnoredForMessage(s)){if(A.indexOf(s.id)>=0)return!1;A.unshift(s.id)>10&&A.pop();let e=u.getGuildId();if(null!=e&&I.ZP.getMutedChannels(e).has(o))return!1;let t=null!=(l=null!=(i=m.ZP.getNick(e,null==(n=s.author)?void 0:n.id))?i:S.ZP.getName(s.author))?l:"",c=s.type===j.uaV.REPLY?null==(r=s.referenced_message)?void 0:r.author:null,d=null!=c?null!=(a=m.ZP.getNick(e,null==c?void 0:c.id))?a:S.ZP.getName(c):null;U(D(s.content,t,e,d),!1,u.id,s.id,P.f)}return!1}function F(e){let{id:t,channelId:n}=e,r=T.Z.currentMessage;return null!=r&&t===r.messageId&&n===r.channelId&&((0,N.NB)(),!0)}function z(){O.Z.isSelfDeaf()&&o.M9()}let W={init(){l.Z.subscribe("SPEAK_TEXT",G),l.Z.subscribe("SPEAK_MESSAGE",V),l.Z.subscribe("STOP_SPEAKING",B),l.Z.subscribe("MESSAGE_CREATE",H),l.Z.subscribe("MESSAGE_DELETE",F),l.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",z),l.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",k),(0,a.Ql)(k)}}},886162:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(951288),i=n(647438),l=n(990547),a=n(399606),o=n(481060),s=n(232567),c=n(213609),u=n(313201),d=n(23434),p=n(981631),f=n(388032),h=n(734305);function g(e){let{transitionState:t}=e,g=(0,a.e7)([d.Z],()=>d.Z.getAction()),[m,b]=i.useState(!1),_=(0,u.Dt)();async function O(){return b(!0),g===p.c2C.AGREEMENTS&&b(await (0,s.Lr)()),null}return(0,c.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.USER_AGREEMENTS,properties:{required_action:g}},{},[]),(0,r.jsxs)(o.Y0X,{"aria-labelledby":_,transitionState:t,parentComponent:"UserAgreementsModal",children:[(0,r.jsx)("div",{id:_}),(0,r.jsx)(o.xBx,{separator:!1,children:(0,r.jsx)(o.X6q,{variant:"heading-lg/semibold",children:f.intl.string(f.t["7glvXl"])})}),(0,r.jsxs)(o.hzk,{children:[(0,r.jsx)(o.Text,{variant:"text-md/normal",children:g===p.c2C.AGREEMENTS?f.intl.format(f.t.zHolhY,{}):null}),(0,r.jsxs)("div",{className:h.container,children:[(0,r.jsxs)("ul",{className:h.links,children:[(0,r.jsx)("li",{children:f.intl.format(f.t.iw0hFh,{url:p.EYA.TERMS})}),(0,r.jsx)("li",{children:f.intl.format(f.t["36klnJ"],{url:p.EYA.PAID_TERMS})}),(0,r.jsx)("li",{children:f.intl.format(f.t.TquFBA,{url:p.EYA.PRIVACY})}),(0,r.jsx)("li",{children:f.intl.format(f.t.ia96TU,{url:p.EYA.GUIDELINES})})]}),(0,r.jsx)("img",{className:h.image,alt:"",src:n(146714)})]}),(0,r.jsx)(o.Text,{variant:"text-md/normal",className:h.agreementDescription,children:f.intl.string(f.t["+USXQE"])})]}),(0,r.jsx)(o.mzw,{children:(0,r.jsx)(o.zxk,{variant:"active",text:f.intl.string(f.t["+TBKLy"]),loading:m,onClick:O})})]})}},332754:function(e,t,n){n.d(t,{Z:()=>E});var r=n(951288);n(647438);var i=n(481060),l=n(570140),a=n(84615),o=n(429142),s=n(886412),c=n(918714),u=n(1964),d=n(852758),p=n(314897),f=n(594174),h=n(374023),g=n(886162),m=n(981631),b=n(815660),_=n(308569),O=n(231338);let E={init(){l.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction),l.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate),p.default.addChangeListener(this.handleAuthenticationStoreChanged)},handleRequiredAction(e){let t=e.requiredAction;!h.s.isDisallowPopupsSet()&&null!=f.default.getCurrentUser()&&(t===m.c2C.REQUIRE_CAPTCHA||t===m.c2C.REQUIRE_VERIFIED_EMAIL||t===m.c2C.REQUIRE_VERIFIED_PHONE||t===m.c2C.REQUIRE_REVERIFIED_PHONE||t===m.c2C.REQUIRE_VERIFIED_EMAIL_OR_VERIFIED_PHONE||t===m.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===m.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||u.Z.isEmailReverification(t)?(0,s.bu)({location:"verification-legacy"})?(0,a.q4)(()=>(0,r.jsx)(c.Z,{}),{layerKey:_.CV,Layer:o.ZP}):(0,a.q4)(()=>(0,r.jsx)(d.Z,{}),{layerKey:_.CV,Layer:o.ZP}):t===m.c2C.AGREEMENTS?(0,i.h7j)(e=>(0,r.jsx)(g.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e)),{modalKey:_.f1,onCloseRequest:O.Vq}):t===m.c2C.REQUIRE_SAFETY_FLOWS?(0,s.bu)({location:"verification-safety-flows"})&&(0,a.q4)(()=>(0,r.jsx)(c.Z,{}),{layerKey:_.CV,Layer:o.ZP}):null==t&&((0,a.ob)(_.CV),(0,i.nfh)(_.f1)&&(0,i.Mr3)(_.f1)))},handleAuthenticationStoreChanged(){null==p.default.getId()&&((0,a.ob)(_.CV),(0,i.Mr3)(_.f1),(0,i.Mr3)(_.HR),(0,i.Mr3)(_.F0),(0,i.Mr3)(b.M))},handleCurrentUserUpdate(e){let{user:t}=e;t.verified&&(0,i.Mr3)(_.F0)}}},78687:function(e,t,n){n.d(t,{Z:()=>h}),n(388685),n(539854),n(35282);var r=n(392711),i=n.n(r),l=n(442837),a=n(377108),o=n(433517),s=n(709054),c=n(48481),u=n(526761),d=n(981631);let p="selectedChannelGuildFrecency";function f(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[e=>null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e,e=>Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}]);return null==t||0===t.favorites.length?[]:t.favorites.map((n,r)=>{let i=a.JM.create();return i.format="IMAGE"===n.format?a.EO.IMAGE:"VIDEO"===n.format?a.EO.VIDEO:a.EO.NONE,i.src=n.src,i.width=n.width,i.height=n.height,i.order=t.favorites.length-r+e,{url:n.url,favorite:i}})}let h=[{version:2,run(e){let t=f(1);if(0===t.length)return!1;for(let{url:n,favorite:r}of(null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),e.favoriteGifs.gifs={},t))e.favoriteGifs.gifs[n]=r;return e.favoriteGifs.hideTooltip=t.length>2,!0},cleanup(){}},{version:3,run(e){function t(){return{usageHistory:{},favorites:[]}}let{state:n}=l.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[e=>null==e||0===Object.keys(e).length?t():e,e=>null==e||0===Object.keys(e).length?t():(null==e.favorites&&(e.favorites=[]),e)]);if(null==n)return!1;let r=!1;return n.favorites.length>0&&(e.favoriteStickers=a.Lt.create(),e.favoriteStickers.stickerIds=i().uniq(n.favorites).slice(0,u.oX),r=!0),i().size(n.usageHistory)>0&&(e.stickerFrecency=a.ls.create(),e.stickerFrecency.stickers=(0,c.tU)(n.usageHistory,100),r=!0),r},cleanup(){o.K.remove("StickersPersistedStore")}},{version:4,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({usageHistory:o.K.get("EmojiUsageHistory")||{}})]);if(null==t)return!1;let n=!1;return null!=t.favorites&&t.favorites.length>0&&(e.favoriteEmojis=a.ND.create(),e.favoriteEmojis.emojis=i().uniq(t.favorites).slice(0,u.oX),n=!0),i().size(t.usageHistory)>0&&(e.emojiFrecency=a.PL.create(),e.emojiFrecency.emojis=(0,c.tU)(t.usageHistory,100),n=!0),n},cleanup(){o.K.remove("EmojiStore"),o.K.remove("EmojiUsageHistory"),o.K.remove("EmojiDiversitySurrogate")}},{version:6,run(e){null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});let t=f(1);if(0===t.length)return!1;i()(e.favoriteGifs.gifs).values().sortBy("order").forEach((e,n)=>e.order=t.length+1+n);let n=a.wK.toBinary(e.favoriteGifs).length,r=0;for(let{url:i,favorite:l}of t){if(l.order=t.length-r,r++,i in e.favoriteGifs.gifs){e.favoriteGifs.gifs[i].order=l.order;continue}let o=a.JM.toBinary(l).length+i.length+7;n+o>u.vY||(n+=o,e.favoriteGifs.gifs[i]=l)}for(n=a.wK.toBinary(e.favoriteGifs).length;n>u.vY;){let t=0;for(let n in e.favoriteGifs.gifs)if(delete e.favoriteGifs.gifs[n],++t>=10)break;n=a.wK.toBinary(e.favoriteGifs).length}return!0},cleanup(){}},{version:7,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]);if(null==t)return!1;let n=!1;return i().size(t.usageHistory)>0&&(e.applicationCommandFrecency=a.YI.create(),e.applicationCommandFrecency.applicationCommands=(0,c.tU)(t.usageHistory,500),n=!0),n},cleanup(){o.K.remove("ApplicationCommandFrecency")}},{version:8,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]);if(null==t)return!1;let n=!1;return i().size(t.favoriteSounds)>0&&(e.favoriteSoundboardSounds=a.h_.create(),s.default.keys(t.favoriteSounds).forEach(n=>{new Set(t.favoriteSounds[n]).forEach(t=>{var n;null==(n=e.favoriteSoundboardSounds)||n.soundIds.push(t)})}),n=!0),n},cleanup(){o.K.remove("SoundboardFavoriteStore")}},{version:9,run(e){let t=o.K.get(p);if(null==t)return!1;for(let e in t)d.Xyh.test(e)||delete t[e];return e.guildAndChannelFrecency=a.lG.create(),e.guildAndChannelFrecency.guildAndChannels=(0,c.tU)(t,100),!0},cleanup(){o.K.remove(p)}},{version:10,run(e){var t;if(null==e.emojiFrecency)return!1;let n=null!=(t=e.emojiFrecency.emojis)?t:{},r=!1;if(i().size(n)>0){let t=a.PL.create();a.PL.mergePartial(t,e.emojiFrecency),null!=e.emojiReactionFrecency&&a.PL.mergePartial(t,e.emojiReactionFrecency),e.emojiReactionFrecency=t,r=!0}return r},cleanup(){}}]},315341:function(e,t,n){n.d(t,{Z:()=>b}),n(410992),n(227481),n(730884),n(20464),n(341884),n(364341),n(629680),n(505025),n(918970),n(121784),n(644351),n(146733);var r=n(442837),i=n(704215),l=n(524437),a=n(381499),o=n(433517),s=n(581364),c=n(536442),u=n(592125),d=n(915486),p=n(48481),f=n(981631),h=n(71509);function g(e,t){let n=!1;return null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array,lastReceivedChangelogId:"0",recurringDismissibleContentStates:{}}),null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array),(0,d.jl)(e.userContent.dismissedContents,t)||(e.userContent.dismissedContents=(0,d.GV)(e.userContent.dismissedContents,t),n=!0),n}function m(e,t,n){return!!c.qc.hasHiddenHotspot(t)&&g(e,n)}let b=[{version:2,run(e){var t,n;if(null!=e.inbox)return!1;let r=!1,i=l.f9.create();e.inbox=i,o.K.get("seenInboxTutorial",!1)&&(i.viewedTutorial=!0,r=!0);let a=o.K.get("recentsButtonTab2");null!=a&&(i.currentTab="Recent Mentions"===a?l.X.MENTIONS:l.X.UNREADS,r=!0);let s=null!=(t=o.K.get("unread-messages-collapsed-channels"))?t:{};for(let t in s){if(!s[t])continue;let i=u.Z.getChannel(t);null!=i&&(r=!0,(0,p.i7)(e,null!=(n=i.guild_id)?n:"0",i.id,e=>{e.collapsedInInbox=!0}))}return r},cleanup(){o.K.remove("seenInboxTutorial"),o.K.remove("recentsButtonTab2"),o.K.remove("unread-messages-collapsed-channels")}},{version:3,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({diversitySurrogate:o.K.get("EmojiDiversitySurrogate")||""})]);if(null==t)return!1;let n=!1;return null!=t.diversitySurrogate&&""!==t.diversitySurrogate&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=a.Gm.create()),e.textAndImages.diversitySurrogate.value=t.diversitySurrogate,n=!0),n},cleanup(){}},{version:4,run(e){let t=!1;return(!0===o.K.get("HAS_SEEN_HUB_UPSELL")||c.qc.hasHiddenHotspot(c.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=g(e,i.z.HUB_WAITLIST_UPSELL)),t},cleanup(){o.K.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run(e){var t,n,r,i,s,c,u;let d=!1;e.textAndImages=null!=(t=e.textAndImages)?t:l.Me.create(),e.notifications=null!=(n=e.notifications)?n:l.sf.create(),e.privacy=null!=(r=e.privacy)?r:l.bE.create(),e.voiceAndVideo=null!=(i=e.voiceAndVideo)?i:l.v_.create(),e.gameLibrary=null!=(s=e.gameLibrary)?s:l.Fm.create(),e.debug=null!=(c=e.debug)?c:l.tA.create();let p=null!=(u=o.K.get("UserSettingsStore"))?u:{};return"boolean"==typeof p.useRichChatTextBox&&(e.textAndImages.useRichChatInput=a.D5.create({value:p.useRichChatTextBox}),d=!0),"string"==typeof p.renderSpoilers&&(e.textAndImages.renderSpoilers=a.Gm.create({value:p.renderSpoilers}),d=!0),"boolean"==typeof p.useThreadSidebar&&(e.textAndImages.useThreadSidebar=a.D5.create({value:p.useThreadSidebar}),d=!0),"boolean"==typeof p.showInAppNotifications&&(e.notifications.showInAppNotifications=a.D5.create({value:p.showInAppNotifications}),d=!0),p.emojiPickerCollapsedSections instanceof Array&&(e.textAndImages.emojiPickerCollapsedSections=p.emojiPickerCollapsedSections,d=!0),p.stickerPickerCollapsedSections instanceof Array&&(e.textAndImages.stickerPickerCollapsedSections=p.stickerPickerCollapsedSections,d=!0),"boolean"==typeof p.viewImageDescriptions&&(e.textAndImages.viewImageDescriptions=a.D5.create({value:p.viewImageDescriptions}),d=!0),"boolean"==typeof p.showCommandSuggestions&&(e.textAndImages.showCommandSuggestions=a.D5.create({value:p.showCommandSuggestions}),d=!0),"boolean"==typeof p.alwaysPreviewVideo&&(e.voiceAndVideo.alwaysPreviewVideo=a.D5.create({value:p.alwaysPreviewVideo}),d=!0),"boolean"==typeof p.notifyFriendsOnGoLive&&(e.notifications.notifyFriendsOnGoLive=a.D5.create({value:p.notifyFriendsOnGoLive}),d=!0),"boolean"==typeof p.installShortcutDesktop&&(e.gameLibrary.installShortcutDesktop=a.D5.create({value:p.installShortcutDesktop}),d=!0),"boolean"==typeof p.installShortcutStartMenu&&(e.gameLibrary.installShortcutStartMenu=a.D5.create({value:p.installShortcutStartMenu}),d=!0),"boolean"==typeof p.allowActivityPartyPrivacyFriends&&(e.privacy.allowActivityPartyPrivacyFriends=a.D5.create({value:p.allowActivityPartyPrivacyFriends}),d=!0),"boolean"==typeof p.allowActivityPartyPrivacyVoiceChannel&&(e.privacy.allowActivityPartyPrivacyVoiceChannel=a.D5.create({value:p.allowActivityPartyPrivacyVoiceChannel}),d=!0),"boolean"==typeof p.rtcPanelShowVoiceStates&&(e.debug.rtcPanelShowVoiceStates=a.D5.create({value:p.rtcPanelShowVoiceStates}),d=!0),d},cleanup(){}},{version:7,run:e=>m(e,c.v6.APPLICATION_COMMAND_TOOLTIP,i.z.APPLICATION_COMMAND_TOOLTIP),cleanup(){}},{version:8,run:e=>m(e,c.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,i.z.CHANNELINFO_CHANNELBANNER_NOTICE),cleanup(){}},{version:9,run:e=>(c.qc.hasHiddenHotspot(c.v6.MULTI_ACCOUNT_TOOLTIP)&&o.K.set(h.Ip,"true"),m(e,c.v6.MULTI_ACCOUNT_TOOLTIP,i.z.ACCOUNT_MULTIACCOUNT_TOOLTIP)),cleanup(){}},{version:10,run(e){var t;let n=m(e,c.v6.HUB_LINK_CHANNEL_NOTICE,i.z.CHANNEL_NOTICE_HUBLINK),r=null!=(t=o.K.get("channelNotices"))?t:{};return!1===r[f.vID.INVITE]&&g(e,i.z.CHANNEL_NOTICE_INVITE)&&(n=!0),!1===r[f.vID.QUICKSWITCHER]&&g(e,i.z.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0),!1===r[f.vID.GUILD_BOOSTING]&&g(e,i.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0),n},cleanup(){o.K.remove("channelNotices")}},{version:11,run(e){let t=!1;return m(e,c.v6.GUILD_EVENT_UPSELL,i.z.GUILD_HEADER_EVENT_UPSELL)&&(t=!0),m(e,c.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,i.z.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0),t},cleanup(){}},{version:12,run(e){let t=!1;return o.K.get("hideNag")&&g(e,i.z.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0),o.K.get("hideConnectSpotify")&&g(e,i.z.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0),o.K.get("hideConnectPlayStation")&&g(e,i.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0),o.K.get("hideMFASMSNotice")&&g(e,i.z.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0),t},cleanup(){o.K.remove("hideNag"),o.K.remove("hideConnectSpotify"),o.K.remove("hideConnectPlayStation"),o.K.remove("hideMFASMSNotice")}},{version:13,run(e){let t=!1;return o.K.get("hidePremiumPromo")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0),o.K.get("hidePremiumTier2TrialEnding")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0),o.K.get("hidePremiumReactivateNotice")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0),m(e,c.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,i.z.GUILD_HEADER_INVITE_SPLASH)&&(t=!0),t},cleanup(){o.K.remove("hidePremiumPromo"),o.K.remove("hidePremiumTier2TrialEnding"),o.K.remove("hidePremiumReactivateNotice")}},{version:14,run:e=>m(e,c.v6.ACTIVITY_BEB_TUTORIAL,i.z.ACTIVITIES_TUTORIAL_COACH_MARK),cleanup(){}},{version:15,run:e=>m(e,c.v6.NOW_PLAYING_CONSENT_CARD,i.z.NOW_PLAYING_CONSENT_CARD),cleanup(){}},{version:16,run(e){let t=o.K.get("PromotionsPersistedStore");if(null==t)return!1;let n=t._state.lastDismissedOutboundPromotionStartDate;return null!=n&&(null==e.userContent&&(e.userContent=l.az.create()),null==e.userContent.lastDismissedOutboundPromotionStartDate)&&(e.userContent.lastDismissedOutboundPromotionStartDate=a.Gm.create({value:n}),!0)},cleanup(){}},{version:17,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null);if(null==t)return!1;let n=t.expressionSuggestionsEnabled;return null!=n&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.expressionSuggestionsEnabled)&&(e.textAndImages.expressionSuggestionsEnabled=a.D5.create({value:n}),!0)},cleanup(){o.K.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run(e){let t=!1;return m(e,c.v6.GUILD_DELETE_FEEDBACK,i.z.GUILD_DELETE_FEEDBACK)&&(t=!0),m(e,c.v6.GUILD_LEAVE_FEEDBACK,i.z.GUILD_LEAVE_FEEDBACK)&&(t=!0),t},cleanup(){}},{version:19,run(e){var t;let n=!1;return null!=(t=o.K.get("forumHelperCardStorageKey"))&&t&&(n=g(e,i.z.FORUM_CHANNEL_HELPER_CARD)),n},cleanup(){o.K.remove("forumHelperCardStorageKey")}},{version:20,run(e){let t=o.K.get("lastChangeLogId");if(null==t)return!1;if(!(0,s.BH)(t))return o.K.remove("lastChangeLogId"),!1;if(null==e.userContent)e.userContent=l.az.create();else if(null!=e.userContent&&null!=e.userContent.lastReceivedChangelogId&&"0"!==e.userContent.lastReceivedChangelogId)return o.K.remove("lastChangeLogId"),!1;return e.userContent.lastReceivedChangelogId=t,!0},cleanup(){o.K.remove("lastChangeLogId")}},{version:21,run(e){var t;return(null==(t=e.appearance)?void 0:t.uiDensity)===l.Pi.COMPACT&&(e.appearance.uiDensity=l.Pi.DEFAULT,!0)},cleanup(){}}]},507468:function(e,t,n){n.d(t,{Z:()=>p});var r=n(392711),i=n.n(r),l=n(570140),a=n(78687),o=n(315341),s=n(262847),c=n(675478),u=n(581883),d=n(526761);let p={init(){s.Z[d.yP.PRELOADED_USER_SETTINGS]=o.Z,s.Z[d.yP.FRECENCY_AND_FAVORITES_SETTINGS]=a.Z,l.Z.subscribe("CONNECTION_OPEN",f),l.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",h),l.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",g),l.Z.subscribe("APP_STATE_UPDATE",m)}};function f(){let e=u.Z.getFullState(),t=e[d.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&c.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs),i().forEach(c.aj,(t,n)=>{let r=e[Number(n)];null!=r.editInfo.offlineEditDataVersion&&null!=r.editInfo.protoToSave&&t.scheduleSaveFromOfflineEdit()})}function h(e){let{settings:{proto:t,type:n},delaySeconds:r,jitter:i}=e;c.aj[n].markDirty(t,{delaySeconds:r,jitter:i})}function g(e){let{settingsType:t}=e;c.aj[t].loadIfNecessary()}function m(e){let{state:t}=e;("inactive"===t||"background"===t)&&i().forEach(c.aj,(e,t)=>{null!=u.Z.getFullState()[Number(t)].editInfo.timeout&&(e.logger.log("Triggering persistChanges due to AppStateUpdate"),e.persistChanges())})}},282506:function(e,t,n){let r;n.d(t,{Z:()=>I});var i=n(570140),l=n(523238),a=n(317770),o=n(317381),s=n(928518),c=n(199902),u=n(592125),d=n(819640),p=n(131951),f=n(366050),h=n(19780),g=n(944486),m=n(914010),b=n(979651),_=n(981631),O=n(65154);function E(){var e;let t=r;if(null==t||!f.Z.isOpen(t))return!1;i.Z.wait(()=>l.xv(t)),null==(e=h.Z.getRTCConnection())||e.setPipOpen(!1),r=null}function y(){var e;let t=h.Z.getChannelId(),n=r===t;if(function(){let e=h.Z.getChannelId(),t=g.Z.getChannelId();if(!p.Z.supports(O.AN.VIDEO)||s.Z.getWindowOpen(_.KJ3.CHANNEL_CALL_POPOUT))return!0;let n=c.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(b.Z.getVideoVoiceStatesForChannel(e)).some(e=>{let{userId:t}=e;return!p.Z.isLocalVideoDisabled(t)})||n))return!0;let r=d.Z.hasLayers();return!(r&&d.Z.getLayers().includes(_.S9g.RTC_DEBUG))&&(!!r||e===t)}())return E();if(n||E(),null==t)return!1;let a=u.Z.getChannel(t);return!(null==a||f.Z.isOpen(t))&&(i.Z.wait(()=>l.bA(a.id,_.NYg.VIDEO,{channel:a})),null==(e=h.Z.getRTCConnection())||e.setPipOpen(!0),void(r=t))}class v extends a.Z{_initialize(){g.Z.addChangeListener(y),m.Z.addChangeListener(y),h.Z.addChangeListener(y),b.Z.addChangeListener(y),d.Z.addChangeListener(y),c.Z.addChangeListener(y),s.Z.addChangeListener(y),p.Z.addChangeListener(y),o.ZP.addChangeListener(y)}_terminate(){g.Z.removeChangeListener(y),m.Z.removeChangeListener(y),h.Z.removeChangeListener(y),b.Z.removeChangeListener(y),d.Z.removeChangeListener(y),c.Z.removeChangeListener(y),s.Z.removeChangeListener(y),p.Z.removeChangeListener(y),o.ZP.removeChangeListener(y)}}let I=new v},794231:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2025-07_virtual_currency_beta_tag",label:"Virtual Currency Beta Tag",defaultConfig:{showBetaTag:!0},treatments:[{id:1,label:"Disable Beta Tag on Virtual Currency surfaces",config:{showBetaTag:!1}}]})},326272:function(e,t,n){n.d(t,{O:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-07_virtual_currency_reheat_experiment",label:"Virtual Currency Reheat Experiment",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Virtual Currency reheat experience",config:{enabled:!0}}]})},444961:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(846519),i=n(570140),l=n(287734),a=n(317770),o=n(199902),s=n(592125),c=n(430824),u=n(517100),d=n(19780),p=n(70956),f=n(358085),h=n(981631);let g=new r.V7,m=new r.V7;class b extends a.Z{_initialize(){i.Z.subscribe("IDLE",this.handleIdleUpdate)}_terminate(){g.stop(),m.stop(),i.Z.unsubscribe("IDLE",this.handleIdleUpdate)}handleIdleUpdate(){let e=u.Z.getIdleSince();if(!f.isPlatformEmbedded)return;for(let e of(g.stop(),m.stop(),o.Z.getAllActiveStreams()))if(e.state!==h.jm8.ENDED)return;if(null==e)return;let t=d.Z.getChannelId();if(null==t)return;m.start(18e6,()=>{l.default.selectVoiceChannel(null)});let n=c.Z.getGuild(d.Z.getGuildId());if(null==n||null==n.afkChannelId||n.afkChannelId===t||null==n.afkTimeout)return;let r=s.Z.getChannel(t);null!=r&&(r.isGuildStageVoice()||g.start(e+n.afkTimeout*p.Z.Millis.SECOND-Date.now(),()=>{null!=(n=c.Z.getGuild(d.Z.getGuildId()))&&null!=n.afkChannelId&&l.default.selectVoiceChannel(n.afkChannelId)}))}}let _=new b},243852:function(e,t,n){n(388685);var r,i,l,a=n(442837),o=n(433517),s=n(846519),c=n(570140),u=n(278323),d=n(581567),p=n(594190),f=n(581883),h=n(70956),g=n(780570),m=n(314897),b=n(77498),_=n(283595),O=n(19780),E=n(944486),y=n(981631);let v="ActivityTrackingStore",I=30*h.Z.Millis.MINUTE,C=5*h.Z.Millis.MINUTE,S=null!=(r=o.K.get(v))?r:{},N={},T=!1;function P(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t&&j(e,!0);let n=N[e.applicationId];null!=n&&(n.stop(),delete N[e.applicationId]),delete S[e.applicationId],o.K.set(v,S)}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>I+C&&(r=0);let i=(0,g.OT)(e.applicationId,_.Z),l=E.Z.getVoiceChannelId(),a=m.default.getSessionId(),c=O.Z.getMediaSessionId();u.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?y.GQo.DISCORD:e.distributor,shareActivity:i,token:e.token,duration:Math.floor(r/1e3),closed:t,exePath:e.exePath,voiceChannelId:l,sessionId:a,mediaSessionId:c}),e.updatedAt=n;let d=N[e.applicationId];null==d&&(d=N[e.applicationId]=new s.Xp).start(I,()=>j(e)),t||(S[e.applicationId]=e,o.K.set(v,S))}function x(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=p.ZP.getVisibleRunningGames(),n=new Set;for(let{name:e,distributor:r,exePath:i}of t){let t=b.Z.getGameByName(e);null!=t&&(n.add(t.id),t.id in S||j({applicationId:t.id,updatedAt:Date.now(),distributor:r,exePath:(0,d.N6)(null!=i?i:"")}))}for(let t of Object.keys(S))n.has(t)||P(S[t],e)}function A(){for(let e of Object.keys(S))P(S[e]);T=!1}class Z extends(i=a.ZP.Store){initialize(){this.waitFor(p.ZP,f.Z,_.Z),this.syncWith([f.Z],x)}getActivities(){return S}}(l="displayName")in Z?Object.defineProperty(Z,l,{value:"ActivityTrackingStore",enumerable:!0,configurable:!0,writable:!0}):Z[l]="ActivityTrackingStore",new Z(c.Z,{RUNNING_GAMES_CHANGE:()=>x(),CONNECTION_OPEN:function(){if(T)return!1;for(let e of Object.keys(S))j(S[e]);x(!1),T=!0},CONNECTION_CLOSED:function(e){let{code:t}=e;4004===t&&A()},LOGOUT:A,ACTIVITY_UPDATE_SUCCESS:function(e){let{applicationId:t,token:n}=e,r=S[t];if(null==r)return!1;r.token=n,o.K.set(v,S)},ACTIVITY_UPDATE_FAIL:function(e){let{applicationId:t}=e,n=S[t];if(null==n)return!1;n.token=null,n.updatedAt=null,o.K.set(v,S)}})},91372:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l=n(442837),a=n(570140);let o="UPDATE_NOT_AVAILABLE";function s(e){o=e.type}class c extends(i=l.ZP.Store){getState(){return o}}(r="displayName")in c?Object.defineProperty(c,r,{value:"AutoUpdateStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="AutoUpdateStore";let u=new c(a.Z,{CHECKING_FOR_UPDATES:s,UPDATE_NOT_AVAILABLE:s,UPDATE_AVAILABLE:s,UPDATE_MANUALLY:s,UPDATE_ERROR:s,UPDATE_DOWNLOADED:s})},184107:function(e,t,n){n.d(t,{Z:()=>c});var r,i,l=n(442837),a=n(570140);let o={};class s extends(i=l.ZP.Store){getSkuIdForChannel(e){return o[e]}}(r="displayName")in s?Object.defineProperty(s,r,{value:"ChannelSKUStore",enumerable:!0,configurable:!0,writable:!0}):s[r]="ChannelSKUStore";let c=new s(a.Z,{CONNECTION_OPEN:function(){o={}},STORE_LISTING_FETCH_SUCCESS:function(e){let{channelId:t,storeListing:n}=e;null!=t&&(o[t]=n.sku.id)}})},533947:function(e,t,n){let r,i,l;n.d(t,{Z:()=>A}),n(539854),n(388685);var a,o=n(392711),s=n.n(o),c=n(442837),u=n(570140),d=n(308063),p=n(388610),f=n(430824),h=n(496675),g=n(855674),m=n(981631);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}let O=[],E=null,y=!1,v=m.QZA.CLOSED,I={},C=!1,S=null;function N(){if(r=null!=(i=p.Z.getChannel())?f.Z.getGuild(i.guild_id):null,O=null!=i&&null!=r&&h.Z.can(m.Plq.MANAGE_WEBHOOKS,i)?g.Z.getWebhooksForChannel(r.id,i.id):[],null!=E){let e=P(E.id);null!=e&&(E=e)}v=m.QZA.OPEN,I={},C=!1}let T=s().debounce(()=>{C&&((null==E||s().isEqual(E,P(E.id)))&&(C=!1),C||x.emitChange())},500);function P(e){return O.find(t=>{let{id:n}=t;return n===e})}class j extends(a=c.ZP.Store){initialize(){this.waitFor(p.Z,f.Z,g.Z,h.Z)}hasChanges(){return C}get webhooks(){return O}get editedWebhook(){return E}get formState(){return v}getWebhook(e){return P(e)}showNotice(){return this.hasChanges()}getProps(){return{submitting:v===m.QZA.SUBMITTING,webhooks:O,editedWebhook:E,section:l,sectionId:S,hasChanges:this.hasChanges(),isFetching:y,errors:I}}}b(j,"displayName","ChannelSettingsIntegrationsStore");let x=new j(u.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:N,INTEGRATION_SETTINGS_SAVE_SUCCESS:N,CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(t!==m.CoT.INTEGRATIONS)return!1;if(l=m.b4C.OVERVIEW,null==r){let e=p.Z.getChannel(),t=null==e?void 0:e.getGuildId();null!=e&&null!=t&&(d.Z.fetchForChannel(t,e.id),y=!0),N()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){let{section:t,sectionId:n}=e;l=t,S=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){let{webhookId:t}=e,n=P(t);if(null==n)return!1;E=n,I={},C=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){E=null,I={},C=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){let{settings:t}=e;if(null==E)return!1;E=_({},E),null!=t.name&&E.name!==t.name&&(E.name=t.name,C=!0),void 0!==t.avatar&&E.avatar!==t.avatar&&(E.avatar=t.avatar,C=!0),null!=t.channelId&&E.channel_id!==t.channelId&&(E.channel_id=t.channelId,C=!0),C&&T()},CHANNEL_SETTINGS_CLOSE:function(){i=null,r=null,O=[],E=null,v=m.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){let{guildId:t,channelId:n,webhooks:l}=e;if(y=!1,null!=r&&t===r.id&&null!=i&&n===i.id&&null!=l&&v!==m.QZA.SUBMITTING){for(let e=O.length-1;e>=0;e--){let t=O[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)continue;let r=l.find(e=>{let{id:n}=e;if(n===t.id)return!0});if(null!=r){let n=_({},t,r);O[e]=n,C||(null==E?void 0:E.id)!==n.id||(E=n)}else(null==E?void 0:E.id)===t.id&&(E=null),O.splice(e,1)}for(let e of l)null==O.find(t=>{let{id:n}=t;if(n===e.id)return!0})&&O.push(e);O=[...O],T()}},INTEGRATION_SETTINGS_SUBMITTING:function(){v=m.QZA.SUBMITTING,I={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(v!==m.QZA.SUBMITTING)return!1;v=m.QZA.OPEN,I=null!=(t=e.errors)?t:{}}}),A=x},277053:function(e,t,n){let r,i;n.d(t,{Z:()=>Z}),n(388685);var l,a=n(392711),o=n.n(a),s=n(442837),c=n(433517),u=n(570140),d=n(700785),p=n(388610),f=n(592125),h=n(981631),g=n(71080);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let O=new Set,E=h.QZA.CLOSED,y=!1,v=null,I=null,C=null,S=null,N=null,T=null,P=c.K.get(g.kf)||!1;function j(e){let t=e.getGuildId(),n=b({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=d.we(t)),n}function x(){if(C=p.Z.getChannel(),S=p.Z.getCategory(),null==C)return!1;let e=C.getGuildId();I=v=j(C),null==v[N]&&(N=e),i=null!=S,r=d.o4(C,S),T=null,y=!1,E=h.QZA.CLOSED,O.clear()}class A extends(l=s.ZP.Store){initialize(){this.waitFor(p.Z,f.Z)}hasChanges(){return y}showNotice(){return this.hasChanges()}getPermissionOverwrite(e){return null==v?void 0:v[e]}get editedPermissionIds(){return Array.from(O)}get permissionOverwrites(){return v}get selectedOverwriteId(){return N}get formState(){return E}get isLockable(){return i}get locked(){return r}get channel(){return C}get category(){return S}get advancedMode(){return P}}m(A,"displayName","ChannelSettingsPermissionsStore");let Z=new A(u.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(null!=C||t!==h.CoT.PERMISSIONS)return!1;x()},CHANNEL_SETTINGS_PERMISSIONS_INIT:x,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){let{id:t,allow:n,deny:i}=e,l=null==v?void 0:v[t];if(null==l||null==C)return!1;l=_(b({},l),{allow:n,deny:i}),v=_(b({},v),{[t]:l}),O.add(t),E=h.QZA.OPEN,y=!o().isEqual(v,I),r=d.o4(C,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){let{id:t}=e;if(null!=v&&null!=v[t])N=t;else{if(null==C)return!1;T=t}},CHANNEL_SETTINGS_INIT:function(){p.Z.getSection()===h.CoT.PERMISSIONS&&x()},CHANNEL_SETTINGS_CLOSE:function(){E=h.QZA.CLOSED,v=null,I=null,C=null,S=null,y=!1,O.clear(),N=null,T=null},CHANNEL_UPDATES:function(e){let{channels:t}=e;if(null==C)return!1;let n=!1;for(let e of t)!1!==function(e){if(null==C||C.id!==e||null==(C=f.Z.getChannel(e)))return!1;S=p.Z.getCategory();let t=C.getGuildId();if(null==t)return!1;I=j(C);let n={};return O.forEach(e=>{null!=v&&(n[e]=v[e])}),null==n[t]&&null==C.permissionOverwrites[t]&&(n[t]=d.we(t)),null==(v=b({},C.permissionOverwrites,n))[N]?N=t:null!=T&&null!=v[T]&&(N=T,T=null),r=d.o4(C,S),!0}(e.id)&&(n=!0);return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){E=h.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){let{silent:t}=e;t?E=h.QZA.OPEN:(E=h.QZA.CLOSED,x())},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){let{advancedMode:t}=e;P=t,c.K.set(g.kf,t)}})},327689:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l=n(442837),a=n(570140),o=n(430824),s=n(981631);class c extends(i=l.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],s.dG4)}channelNoticePredicate(e,t){return!e.features.has(s.oNc.BANNER)&&Date.now()-t>=s.Hqc}}(r="displayName")in c?Object.defineProperty(c,r,{value:"GuildBoostingNoticeStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="GuildBoostingNoticeStore";let u=new c(a.Z)},421176:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l=n(442837),a=n(570140),o=n(496675),s=n(981631);class c extends(i=l.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],s.dG4)}channelNoticePredicate(e,t){return Date.now()-t>=s.Hqc&&o.Z.can(s.Plq.MANAGE_GUILD,e)}}(r="displayName")in c?Object.defineProperty(c,r,{value:"GuildBoostingNoticeStore",enumerable:!0,configurable:!0,writable:!0}):c[r]="GuildBoostingNoticeStore";let u=new c(a.Z)},192513:function(e,t,n){n.d(t,{Z:()=>f});var r,i,l=n(442837),a=n(570140),o=n(984933),s=n(594174),c=n(981631);let u=null;function d(){let e=s.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}class p extends(i=l.ZP.Store){initialize(){this.waitFor(s.default,o.ZP),this.syncWith([s.default,o.ZP],d)}isVisible(e){return null!=e&&e.mfaLevel===c.BpS.ELEVATED&&!1===u&&o.ZP.hasElevatedPermissions(e.id)}}(r="displayName")in p?Object.defineProperty(p,r,{value:"GuildMFAWarningStore",enumerable:!0,configurable:!0,writable:!0}):p[r]="GuildMFAWarningStore";let f=new p(a.Z,{CONNECTION_OPEN:d,GUILD_UPDATE:function(){return!0}})},456065:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r,i,l=n(442837),a=n(570140),o=n(810788),s=n(430824),c=n(981631);let u=!1;function d(e){let t=s.Z.getGuild(e);return null!=t&&!!t.features.has(c.oNc.HUB)&&(u=!0,!0)}function p(){return!0}class f extends(r=l.ZP.Store){initialize(){this.waitFor(s.Z,o.Z),this.syncWith([o.Z],p)}channelNoticePredicate(e){return!!e.features.has(c.oNc.LINKED_TO_HUB)&&!u}}(i="displayName")in f?Object.defineProperty(f,i,{value:"HubLinkNoticeStore",enumerable:!0,configurable:!0,writable:!0}):f[i]="HubLinkNoticeStore";let h=new f(a.Z,{CONNECTION_OPEN:function(e){for(let t of e.guilds)if(d(t.id))return!0;return!1},GUILD_CREATE:function(e){let{guild:t}=e;return d(t.id)}})},683743:function(e,t,n){n.d(t,{Z:()=>d});var r,i,l=n(442837),a=n(570140),o=n(496675),s=n(981631);function c(){return!0}class u extends(i=l.ZP.Store){initialize(){this.waitFor(o.Z),this.syncWith([o.Z],c)}channelNoticePredicate(e,t){return Date.now()-t>=s.Hqc&&o.Z.can(s.Plq.ADMINISTRATOR,e)}}(r="displayName")in u?Object.defineProperty(u,r,{value:"InviteNoticeStore",enumerable:!0,configurable:!0,writable:!0}):u[r]="InviteNoticeStore";let d=new u(a.Z)},255791:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r,i,l=n(442837),a=n(433517),o=n(570140),s=n(650774),c=n(430824),u=n(496675),d=n(981631);let p={MAX_MEMBER_COUNT:new Set};class f extends(r=l.ZP.Store){initialize(){var e;this.waitFor(u.Z,c.Z,s.Z),this.syncWith([u.Z,c.Z,s.Z],d.dG4),a.K.remove(d.vID.MAX_MEMBER_COUNT_100),a.K.remove(d.vID.MAX_MEMBER_COUNT_250),e=new Set(a.K.get(d.vID.MAX_MEMBER_COUNT)),p[d.vID.MAX_MEMBER_COUNT]=void 0!==e?e:new Set}isVisible(e){var t;if(null==e)return!1;let n=null!=(t=s.Z.getMemberCount(e.id))?t:0,r=u.Z.can(d.Plq.ADMINISTRATOR,e);return!p[d.vID.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4}}(i="displayName")in f?Object.defineProperty(f,i,{value:"MaxMemberCountChannelNoticeStore",enumerable:!0,configurable:!0,writable:!0}):f[i]="MaxMemberCountChannelNoticeStore";let h=new f(o.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){let t=e.guildId;if(!p[d.vID.MAX_MEMBER_COUNT].has(t))return p[d.vID.MAX_MEMBER_COUNT].add(t),a.K.set(d.vID.MAX_MEMBER_COUNT,p[d.vID.MAX_MEMBER_COUNT]),!0}})},525395:function(e,t,n){let r,i,l;n.d(t,{Z:()=>p}),n(388685);var a,o,s=n(442837),c=n(570140);function u(){i={},r={},l=new Set}u();class d extends(a=s.ZP.Store){getStatisticsForApplication(e){return r[e]}shouldFetchStatisticsForApplication(e){let t=i[e];return!l.has(e)&&(null==t||Date.now()-t>36e5)}}(o="displayName")in d?Object.defineProperty(d,o,{value:"ApplicationStatisticsStore",enumerable:!0,configurable:!0,writable:!0}):d[o]="ApplicationStatisticsStore";let p=new d(c.Z,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){let{applicationId:t}=e;l.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){let{applicationId:t}=e;l.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){let{statistics:t,applicationId:n}=e;i[n]=Date.now(),l.delete(n),r[n]=t},LOGOUT:u})},974042:function(e,t,n){n.d(t,{ZP:()=>B}),n(539854),n(388685);var r,i=n(392711),l=n.n(i),a=n(442837),o=n(570140),s=n(194359),c=n(81825),u=n(353926),d=n(5254),p=n(91896),f=n(441623),h=n(199902),g=n(271383),m=n(430824),b=n(158776),_=n(699516),O=n(594174),E=n(981631),y=n(474936);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function S(e){let t=O.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function N(e){return{status:b.Z.getStatus(e),isMobile:b.Z.isMobileOnline(e),activities:b.Z.getActivities(e),applicationStream:h.Z.getAnyStreamForUser(e)}}function T(e){let t=[];return l()(g.ZP.memberOf(e)).map(m.Z.getGuild).sortBy(e=>null!=e?e.name.toLowerCase():null).forEach(e=>{null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}class P extends c.Z{get comparator(){var e,t,n,r,i;return[this.type,+(null==this.giftIntentType),null!=(i=null!=(r=null==(e=this.nickname)?void 0:e.toLowerCase())?r:null==(n=this.user)||null==(t=n.globalName)?void 0:t.toLowerCase())?i:this.usernameLower]}constructor(e){var t;super(),v(this,"key",void 0),v(this,"userId",void 0),v(this,"type",void 0),v(this,"status",void 0),v(this,"isMobile",void 0),v(this,"activities",void 0),v(this,"applicationStream",void 0),v(this,"user",void 0),v(this,"usernameLower",void 0),v(this,"mutualGuildsLength",void 0),v(this,"mutualGuilds",void 0),v(this,"nickname",void 0),v(this,"spam",void 0),v(this,"giftIntentType",void 0),v(this,"ignoredUser",void 0),v(this,"applicationId",void 0),v(this,"isGameRelationship",void 0),this.key=e.key,this.userId=e.userId,this.type=e.type,this.status=e.status,this.activities=e.activities,this.applicationStream=e.applicationStream,this.user=e.user,this.isMobile=e.isMobile,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds,this.nickname=e.nickname,this.spam=e.spam,this.giftIntentType=e.giftIntentType,this.ignoredUser=e.ignoredUser,this.applicationId=e.applicationId,this.isGameRelationship=null!=(t=e.isGameRelationship)&&t}}class j{reset(){let e=new Set,t=Array.from(_.Z.getMutableRelationships().entries()).map(t=>{let[n,r]=t;return r===E.OGo.FRIEND&&e.add(n),new P(C(I({key:n,type:r,userId:n,nickname:_.Z.getNickname(n)},S(n),N(n),T(n)),{spam:_.Z.isSpam(n),ignoredUser:_.Z.isIgnored(n),giftIntentType:r===E.OGo.FRIEND&&f.Z.isTopAffinityFriendAnniversary({userId:n})?y.hX.FRIEND_ANNIVERSARY:void 0,applicationId:_.Z.getOriginApplicationId(n)}))}),n=[],r=p.Z.getGameRelationships().values(),i=new Set;r.forEach(t=>{let{id:r,applicationId:l,type:a}=t;!(a===E.OGo.FRIEND&&e.has(r))&&(a===E.OGo.FRIEND&&i.has(r)||(a===E.OGo.FRIEND&&i.add(r),n.push(new P(C(I({key:"".concat(r,"-").concat(l),type:a,userId:r,applicationId:l,nickname:_.Z.getNickname(r)},S(r),N(r),T(r)),{spam:_.Z.isSpam(r),ignoredUser:_.Z.isIgnored(r),isGameRelationship:!0})))))});let a=l().map(d.Z.getSuggestions(),e=>new P(I({key:e.key,userId:e.key,type:99,nickname:e.name},S(e.key),N(e.key),T(e.key))));return new j(l().concat(t,n,a))}clone(){return new j(this._rows)}update(e){let t=!1;for(let n=0;n<this._rows.length;n++){let r=this._rows[n],i=r.merge(e(r.userId));t=t||i!==r,this._rows[n]=i}return t}filter(e,t){return l()(this._rows).filter(e=>{if(null==e.user)return!1;if(null!=t&&""!==t){let n=t.toLowerCase();return[e.usernameLower,e.nickname,e.user.globalName].map(e=>null==e?void 0:e.toLowerCase()).some(e=>null==e?void 0:e.includes(n))}return!0}).filter(t=>{switch(e){case E.pJs.ONLINE:return t.type===E.OGo.FRIEND&&t.status!==E.Skl.OFFLINE;case E.pJs.PENDING:return t.type===E.OGo.PENDING_INCOMING&&!t.spam&&!t.ignoredUser||t.type===E.OGo.PENDING_OUTGOING;case E.pJs.SPAM:return t.type===E.OGo.PENDING_INCOMING&&t.spam;case E.pJs.PENDING_IGNORED:return t.type===E.OGo.PENDING_INCOMING&&t.ignoredUser;case E.pJs.SUGGESTIONS:return 99===t.type;case E.pJs.ALL:default:return t.type===E.OGo.FRIEND}}).sortBy(e=>e.comparator).value()}getRelationshipCounts(){let e={[E.OGo.FRIEND]:0,[E.OGo.PENDING_INCOMING]:0,[E.OGo.PENDING_OUTGOING]:0,99:0,[E.OGo.BLOCKED]:0};return this._rows.forEach(t=>{null!=t.user&&null!=e[t.type]&&e[t.type]++}),e}constructor(e=[]){v(this,"_rows",void 0),this._rows=e}}let x=!0,A=!1,Z=E.pJs.ONLINE,w=new j,L=!0,R=!1;function D(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];x&&(e||Z!==E.pJs.ONLINE&&Z!==E.pJs.ADD_FRIEND)&&!A&&(x=!1,A=!0,s.Z.fetchRelationships())}function k(){if(x=!0,L?A=!1:D(),w=w.reset(),R)return;let e=w.getRelationshipCounts();Z=0===e[E.OGo.FRIEND]?0!==e[E.OGo.PENDING_INCOMING]?E.pJs.PENDING:E.pJs.ADD_FRIEND:E.pJs.ONLINE}function M(){w=L?new j:w.reset()}function U(e){return function(){return!L&&!!w.update(e)&&(w=w.clone(),!0)}}class G extends(r=a.ZP.Store){initialize(){this.waitFor(_.Z,b.Z,O.default,m.Z,g.ZP,h.Z,d.Z,u.Z),this.syncWith([_.Z],M),this.syncWith([p.Z],M),this.syncWith([d.Z],M),this.syncWith([f.Z],M),this.syncWith([O.default],U(S)),this.syncWith([b.Z,h.Z],U(N)),k()}getState(){return{fetching:A,section:Z,rows:w}}}v(G,"displayName","FriendsStore");let B=new G(o.Z,{CONNECTION_OPEN:function(){k()},FRIENDS_SET_SECTION:function(e){Z=e.section,D()},CHANNEL_SELECT:function(e){let{channelId:t}=e;return L=null!=t,M(),!L},LOAD_RELATIONSHIPS_SUCCESS:function(){A=!1},LOAD_RELATIONSHIPS_FAILURE:function(){x=!0,A=!0},FRIENDS_SET_INITIAL_SECTION:function(e){Z=e.section,R=!0}})},900974:function(e,t,n){n.d(t,{Z:()=>s});var r=n(951288);n(647438);var i=n(481060),l=n(570140);let a=!1,o=null,s={init(){l.Z.subscribe("CONNECTION_OPEN",e=>{let{pendingPayments:t}=e;if(null!=t&&t.length>0){var l;if(o===t[0]||null==(o=t[0]))return;l=o,a||(a=!0,(0,i.ZDy)(async()=>{let{default:e}=await n.e("7232").then(n.bind(n,645586));return t=>{let{transitionState:n,onClose:i}=t;return(0,r.jsx)(e,{pendingPayment:l,transitionState:n,onClose:()=>(a=!1,i())})}}))}})}}},863969:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:s,fill:o,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),(0,r.jsx)("rect",{width:"24",height:"24"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},563593:function(e,t,n){n.d(t,{Z:()=>c});var r=n(951288);n(647438);var i=n(886364),l=n(325767);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function s(e){return"CloudDone-".concat(e)}function c(e){var{width:t=24,height:n=24,color:c="currentColor",foreground:u,gradientConfig:d}=e,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground","gradientConfig"]);let f=null;return null!=d&&(f=(0,r.jsx)(i.Z,o(a({},d),{color:c,id:s(d.id)}))),(0,r.jsxs)("svg",o(a({},(0,l.Z)(p)),{width:t,height:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=d?"url(#".concat(s(d.id),")"):c,className:u,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]}))}},886364:function(e,t,n){n.d(t,{Z:()=>i});var r=n(951288);n(647438);let i=e=>{let{id:t,startColor:n,stopColor:i,color:l,stop:a}=e;return(0,r.jsxs)("linearGradient",{id:t,children:[(0,r.jsx)("stop",{offset:"0",stopColor:n}),(0,r.jsx)("stop",{offset:a,stopColor:i}),(0,r.jsx)("stop",{offset:a,stopColor:l}),(0,r.jsx)("stop",{offset:"1",stopColor:l})]})}},662868:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=32,height:a=32,color:o="currentColor"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(s)),n=n={width:l,height:a,viewBox:"0 0 ".concat(l," ").concat(a),fill:"none",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:o})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},38761:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=16,height:a=16,color:o="currentColor",foreground:s,background:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground","background"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(u)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:c,fill:o,fillRule:"nonzero",d:"M22.031 12.665c-.923-.4338-1.9384-.665-2.9778-.665-.695 0-1.3663.1013-2 .29V11h-4V7h-2v4h-4v2h4v4h1.29c-.1887.6337-.29 1.305-.29 2 0 1.0394.2312 2.055.665 2.978-.2207.0146-.4424.022-.665.022-2.6522 0-5.1957-1.0536-7.071-2.929C3.1067 17.1958 2.053 14.6523 2.053 12c0-5.5228 4.4772-10 10-10 2.6522 0 5.1957 1.0536 7.071 2.929 1.8754 1.8753 2.929 4.4188 2.929 7.071 0 .2225-.0074.4443-.022.665zM15.4457 13c-.9793.59-1.8023 1.413-2.3924 2.3924V13h2.3924z"}),(0,r.jsx)("path",{className:s,fill:o,d:"M19.0532 14c1.326 0 2.598.5268 3.5355 1.4645.9377.9376 1.4645 2.2094 1.4645 3.5355 0 1.326-.5268 2.598-1.4645 3.5355C21.651 23.4732 20.3793 24 19.0532 24c-1.326 0-2.5978-.5268-3.5355-1.4645C14.58 21.598 14.0532 20.326 14.0532 19c0-2.7614 2.2386-5 5-5zm-1 7l3-2-3-2v4z"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},6074:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=16,height:a=16,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{className:s,fill:o,d:"M6,7 L2,7 L2,6 L6,6 L6,7 Z M8,5 L2,5 L2,4 L8,4 L8,5 Z M8,3 L2,3 L2,2 L8,2 L8,3 Z M8.88888889,0 L1.11111111,0 C0.494444444,0 0,0.494444444 0,1.11111111 L0,8.88888889 C0,9.50253861 0.497461389,10 1.11111111,10 L8.88888889,10 C9.50253861,10 10,9.50253861 10,8.88888889 L10,1.11111111 C10,0.494444444 9.5,0 8.88888889,0 Z",transform:"translate(3 3)"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},39377:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:s,fill:o,d:"M22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-.8 0h-3.4v-.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V4zm-2.28 8c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93z"}),(0,r.jsx)("rect",{width:"24",height:"24"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},820254:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=14,height:a=14,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 14 14",children:(0,r.jsx)("path",{fill:o,className:s,d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},463618:function(e,t,n){n.d(t,{Z:()=>l});var r=n(951288);n(647438);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color"]);return(0,r.jsxs)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(s)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:o,d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),(0,r.jsx)("path",{fill:o,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},205129:function(e,t,n){n.d(t,{y:()=>l});var r=n(941033),i=n(122810);function l(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(e=>{let{activity:t}=e;return(0,i.Z)(t)}),game_platform:e.currentActivities.length>0?(0,r.Z)(e.currentActivities[0].activity):null}}},3570:function(e,t,n){n.d(t,{T:()=>s,s:()=>c});var r=n(536285),i=n(703656),l=n(314897),a=n(358085),o=n(981631);let s=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!(0,i.DB)())return r.default.request(o.Etm.DEEP_LINK,{type:e,params:t})},c=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!l.default.isAuthenticated()){var n,r;return s(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t||{}),r=r={fingerprint:l.default.getFingerprint()},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}}},63023:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i}),n(539854);class i{_processQueue(){setTimeout(()=>{if(this._queue.length>0&&this._tokenCount>0){this._tokenCount--,null==this._intervalID&&(this._intervalID=setInterval(()=>this._iterate(),this._intervalPeriod));let e=this._queue.shift();null==e||e(),this._processQueue()}},0)}_iterate(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1),this._tokenCount>=this._capacity&&null!=this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null),this._processQueue()}process(){return new Promise(e=>{this._queue.push(e),this._processQueue()})}constructor(e,t){r(this,"_capacity",void 0),r(this,"_tokenCount",void 0),r(this,"_queue",void 0),r(this,"_intervalPeriod",void 0),r(this,"_intervalID",void 0),this._capacity=e,this._tokenCount=e,this._queue=[],this._intervalPeriod=t/e,this._intervalID=null}}},740111:function(e,t,n){n.d(t,{Wc:()=>s,xY:()=>_}),n(980754),n(388685),n(415506),n(539854);var r,i=n(230367),l=n(320215),a=n(240773),o=n(495852),s=((r={})[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.OPEN_MARKETING_PAGE=1]="OPEN_MARKETING_PAGE",r[r.OPEN_TIER_2_PAYMENT_MODAL=2]="OPEN_TIER_2_PAYMENT_MODAL",r[r.OPEN_TIER_1_PAYMENT_MODAL=3]="OPEN_TIER_1_PAYMENT_MODAL",r[r.OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER=4]="OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER",r);class c extends o.C{create(e){let t={header:"",pill:"",body:"",imageLink:"",imageLinkLightTheme:""};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.header=e.string();break;case 2:l.pill=e.string();break;case 3:l.body=e.string();break;case 4:l.imageLink=e.string();break;case 5:l.imageLinkLightTheme=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,i.TD.LengthDelimited).string(e.header),""!==e.pill&&t.tag(2,i.TD.LengthDelimited).string(e.pill),""!==e.body&&t.tag(3,i.TD.LengthDelimited).string(e.body),""!==e.imageLink&&t.tag(4,i.TD.LengthDelimited).string(e.imageLink),""!==e.imageLinkLightTheme&&t.tag(5,i.TD.LengthDelimited).string(e.imageLinkLightTheme);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.FeatureCard",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"pill",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"image_link",kind:"scalar",T:9},{no:5,name:"image_link_light_theme",kind:"scalar",T:9}])}}let u=new c;class d extends o.C{create(e){let t={copy:"",buttonAction:0};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.copy=e.string();break;case 2:l.buttonAction=e.int32();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.copy&&t.tag(1,i.TD.LengthDelimited).string(e.copy),0!==e.buttonAction&&t.tag(2,i.TD.Varint).int32(e.buttonAction);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.SubscriptionButton",[{no:1,name:"copy",kind:"scalar",T:9},{no:2,name:"button_action",kind:"enum",T:()=>["discord_protos.premium_marketing.v1.ButtonAction",s,"BUTTON_ACTION_"]}])}}let p=new d;class f extends o.C{create(e){let t={heroArtLocalizedVideoLinksDarkTheme:{},heroArtLocalizedVideoLinksLightTheme:{},heroArtVideoSubtitleLinks:{}};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:this.binaryReadMap1(l.heroArtLocalizedVideoLinksDarkTheme,e,n);break;case 2:this.binaryReadMap2(l.heroArtLocalizedVideoLinksLightTheme,e,n);break;case 3:this.binaryReadMap3(l.heroArtVideoSubtitleLinks,e,n);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}binaryReadMap1(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_dark_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap2(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_light_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap3(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_video_subtitle_links")}}e[null!=l?l:""]=null!=a?a:""}internalBinaryWrite(e,t,n){for(let n of Object.keys(e.heroArtLocalizedVideoLinksDarkTheme))t.tag(1,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksDarkTheme[n]).join();for(let n of Object.keys(e.heroArtLocalizedVideoLinksLightTheme))t.tag(2,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksLightTheme[n]).join();for(let n of Object.keys(e.heroArtVideoSubtitleLinks))t.tag(3,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtVideoSubtitleLinks[n]).join();let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Variant1Storage",[{no:1,name:"hero_art_localized_video_links_dark_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"hero_art_localized_video_links_light_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"hero_art_video_subtitle_links",kind:"map",K:9,V:{kind:"scalar",T:9}}])}}let h=new f;class g extends o.C{create(e){let t={link:"",locale:"",isDefault:!1};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.link=e.string();break;case 2:l.locale=e.string();break;case 3:l.isDefault=e.bool();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.link&&t.tag(1,i.TD.LengthDelimited).string(e.link),""!==e.locale&&t.tag(2,i.TD.LengthDelimited).string(e.locale),!1!==e.isDefault&&t.tag(3,i.TD.Varint).bool(e.isDefault);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Subtitle",[{no:1,name:"link",kind:"scalar",T:9},{no:2,name:"locale",kind:"scalar",T:9},{no:3,name:"is_default",kind:"scalar",T:8}])}}let m=new g;class b extends o.C{create(e){let t={header:"",subheader:"",videoLink:"",helpArticleId:"",featureCards:[],dismissKey:"",heroArtVideoLinkLightTheme:"",heroArtImageLinkDarkTheme:"",heroArtImageLinkLightTheme:"",modalTopPill:"",body:"",heroArtVideoSubtitles:[]};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.header=e.string();break;case 2:l.subheader=e.string();break;case 3:l.videoLink=e.string();break;case 4:l.helpArticleId=e.string();break;case 5:l.featureCards.push(u.internalBinaryRead(e,e.uint32(),n));break;case 6:l.button=p.internalBinaryRead(e,e.uint32(),n,l.button);break;case 7:l.dismissKey=e.string();break;case 8:l.heroArtVideoLinkLightTheme=e.string();break;case 9:l.heroArtImageLinkDarkTheme=e.string();break;case 10:l.heroArtImageLinkLightTheme=e.string();break;case 11:l.modalTopPill=e.string();break;case 12:l.body=e.string();break;case 13:l.heroArtVideoSubtitles.push(m.internalBinaryRead(e,e.uint32(),n));break;case 14:l.storage=h.internalBinaryRead(e,e.uint32(),n,l.storage);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,i.TD.LengthDelimited).string(e.header),""!==e.subheader&&t.tag(2,i.TD.LengthDelimited).string(e.subheader),""!==e.videoLink&&t.tag(3,i.TD.LengthDelimited).string(e.videoLink),""!==e.helpArticleId&&t.tag(4,i.TD.LengthDelimited).string(e.helpArticleId);for(let r=0;r<e.featureCards.length;r++)u.internalBinaryWrite(e.featureCards[r],t.tag(5,i.TD.LengthDelimited).fork(),n).join();e.button&&p.internalBinaryWrite(e.button,t.tag(6,i.TD.LengthDelimited).fork(),n).join(),""!==e.dismissKey&&t.tag(7,i.TD.LengthDelimited).string(e.dismissKey),""!==e.heroArtVideoLinkLightTheme&&t.tag(8,i.TD.LengthDelimited).string(e.heroArtVideoLinkLightTheme),""!==e.heroArtImageLinkDarkTheme&&t.tag(9,i.TD.LengthDelimited).string(e.heroArtImageLinkDarkTheme),""!==e.heroArtImageLinkLightTheme&&t.tag(10,i.TD.LengthDelimited).string(e.heroArtImageLinkLightTheme),""!==e.modalTopPill&&t.tag(11,i.TD.LengthDelimited).string(e.modalTopPill),""!==e.body&&t.tag(12,i.TD.LengthDelimited).string(e.body);for(let r=0;r<e.heroArtVideoSubtitles.length;r++)m.internalBinaryWrite(e.heroArtVideoSubtitles[r],t.tag(13,i.TD.LengthDelimited).fork(),n).join();e.storage&&h.internalBinaryWrite(e.storage,t.tag(14,i.TD.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.AnnouncementModalVariant1Properties",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"subheader",kind:"scalar",T:9},{no:3,name:"video_link",kind:"scalar",T:9},{no:4,name:"help_article_id",kind:"scalar",T:9},{no:5,name:"feature_cards",kind:"message",repeat:1,T:()=>u},{no:6,name:"button",kind:"message",T:()=>p},{no:7,name:"dismiss_key",kind:"scalar",T:9},{no:8,name:"hero_art_video_link_light_theme",kind:"scalar",T:9},{no:9,name:"hero_art_image_link_dark_theme",kind:"scalar",T:9},{no:10,name:"hero_art_image_link_light_theme",kind:"scalar",T:9},{no:11,name:"modal_top_pill",kind:"scalar",T:9},{no:12,name:"body",kind:"scalar",T:9},{no:13,name:"hero_art_video_subtitles",kind:"message",repeat:1,T:()=>m},{no:14,name:"storage",kind:"message",T:()=>h}])}}let _=new b},8853:function(e,t,n){n.d(t,{t:()=>c}),n(980754),n(388685),n(415506);var r=n(230367),i=n(320215),l=n(240773),a=n(495852),o=n(740111);class s extends a.C{create(e){let t={properties:{oneofKind:void 0},contentIdentifier:""};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,i.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let l=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:l.properties={oneofKind:"placeholder",placeholder:e.string()};break;case 2:l.properties={oneofKind:"announcementModalVariant1",announcementModalVariant1:o.xY.internalBinaryRead(e,e.uint32(),n,l.properties.announcementModalVariant1)};break;case 3:l.contentIdentifier=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?r.z.onRead:a)(this.typeName,l,t,i,s)}}return l}internalBinaryWrite(e,t,n){"placeholder"===e.properties.oneofKind&&t.tag(1,r.TD.LengthDelimited).string(e.properties.placeholder),"announcementModalVariant1"===e.properties.oneofKind&&o.xY.internalBinaryWrite(e.properties.announcementModalVariant1,t.tag(2,r.TD.LengthDelimited).fork(),n).join(),""!==e.contentIdentifier&&t.tag(3,r.TD.LengthDelimited).string(e.contentIdentifier);let i=n.writeUnknownFields;return!1!==i&&(!0==i?r.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.PremiumMarketingComponentProperties",[{no:1,name:"placeholder",kind:"scalar",oneof:"properties",T:9},{no:2,name:"announcement_modal_variant_1",kind:"message",oneof:"properties",T:()=>o.xY},{no:3,name:"content_identifier",kind:"scalar",T:9}])}}let c=new s},137006:function(e,t,n){n.d(t,{m:()=>l}),n(388685),n(953529);var r=n(243814),i=n(103964);let l={[i.Q5.INITIATE_IMAGE_UPLOAD]:{request:void 0,response:e=>({image_url:e.string().required()})},[i.Q5.OPEN_SHARE_MOMENT_DIALOG]:{response:void 0,request:e=>({mediaUrl:e.string().required().max(1024)})},[i.Q5.AUTHENTICATE]:{request:e=>({access_token:e.string().allow(null).optional()}),response:e=>({access_token:e.string().required(),user:e.object({username:e.string().required(),discriminator:e.string().required(),id:e.string().required(),avatar:e.string().allow(null),public_flags:e.number().required(),global_name:e.string().allow(null)}).required(),scopes:e.array().items(e.string().valid(...(0,i.no)(r.x))).required(),expires:e.string().required(),application:e.object({description:e.string().required(),icon:e.string().allow(null),id:e.string().required(),rpc_origins:e.array().items(e.string()).optional(),name:e.string().required()}).required()})},[i.Q5.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:void 0,response:e=>({participants:e.array().items(o(e).keys({nickname:e.string().description("Server nickname. Not unique.")}).required()).required()})},[i.Q5.SHARE_INTERACTION]:{request:e=>({command:e.string().required(),options:e.array().items(e.object({name:e.string().required(),value:e.string().required()})),content:e.string().max(2e3),require_launch_channel:e.boolean(),preview_image:e.object({height:e.number().required(),url:e.string().required(),width:e.number().required()}),components:e.array().items(s(e)),pid:e.number()}),response:e=>({success:e.boolean().required()})},[i.Q5.SHARE_LINK]:{request:e=>({custom_id:e.string().max(64),message:e.string().max(1e3).required(),link_id:e.string().max(64)}),response:e=>({success:e.boolean().required(),didCopyLink:e.boolean().required(),didSendMessage:e.boolean().required()})},[i.Q5.GET_RELATIONSHIPS]:{request:void 0,response:e=>({relationships:e.array().required().items(e.object({type:e.number().required(),user:o(e).required(),presence:e.object({status:e.string().required(),activity:a(e).allow(null)})}))})},[i.Q5.INVITE_USER_EMBEDDED]:{request:e=>({user_id:e.string().required(),content:e.string().min(0).max(1024)}),response:void 0},[i.Q5.GET_USER]:{request:e=>({id:e.string().max(64).required()}),response:e=>o(e).allow(null)},[i.Q5.GET_QUEST_ENROLLMENT_STATUS]:{request:e=>({quest_id:e.string().required()}),response:e=>({quest_id:e.string().required(),is_enrolled:e.boolean().required(),enrolled_at:e.string().allow(null).optional()})},[i.Q5.QUEST_START_TIMER]:{request:e=>({quest_id:e.string().required()}),response:e=>({success:e.boolean().required()})}},a=e=>e.object({session_id:e.string().optional(),type:e.number().optional(),name:e.string().required(),url:e.string().allow(null).optional(),application_id:e.string().optional(),status_display_type:e.number().optional(),state:e.string().optional(),state_url:e.string().optional(),details:e.string().optional(),details_url:e.string().optional(),emoji:e.object({name:e.string().required(),id:e.string().allow(null).optional(),animated:e.bool().optional().allow(null)}).allow(null).optional(),assets:e.object({large_image:e.string().optional(),large_text:e.string().optional(),large_url:e.string().optional(),small_image:e.string().optional(),small_text:e.string().optional(),small_url:e.string().optional()}).optional(),timestamps:e.object({start:e.number().optional(),end:e.number().optional()}).optional(),party:e.object({id:e.string().optional(),size:e.array().items(e.number()).length(2).optional(),privacy:e.number().optional()}).optional(),secrets:e.object({match:e.string().optional(),join:e.string().optional()}).optional(),sync_id:e.string().optional(),created_at:e.number().optional(),instance:e.bool().optional(),flags:e.number().optional(),metadata:e.object().optional(),platform:e.string().optional(),supported_platforms:e.array().items(e.string()).optional(),buttons:e.array().items(e.string()).optional(),hangStatus:e.string().optional()}),o=e=>e.object({id:e.string().required().description("User ID"),username:e.string().required(),global_name:e.string().allow(null).description("Global Discord name. Not unique."),discriminator:e.string().required().description("Global name discriminator. Will be 0 if a unique username"),avatar:e.string().allow(null).description("User Avatar ID"),flags:e.number().required().description("Public user flags"),bot:e.bool().required().description("If a bot user."),avatar_decoration_data:e.object({asset:e.string().required(),skuId:e.string(),expiresAt:e.number()}).allow(null).description("Details about avatar decoration"),premium_type:e.number().allow(null).description("Nitro premium type")}).description("Discord User"),s=e=>e.object({type:e.number().valid(1).required(),components:e.array().max(5).items(c(e))}),c=e=>e.object({type:e.number().valid(2).required(),style:e.number().min(1).max(5).required(),label:e.string().max(80).description("Text that appears on the button"),custom_id:e.string().max(100).description("Developer-defined identifier for the button; max 100 characters")})},103964:function(e,t,n){n.d(t,{C5:()=>i,Q5:()=>r.Et,no:()=>l});var r=n(231338);function i(e){return e.required().unknown(!0)}function l(e){return Object.values(e)}},45792:function(e,t,n){n.d(t,{S:()=>l});var r=n(137006),i=n(103964);function l(e,t){var n;let{scope:l,handler:a}=t,o={scope:l,handler:a},s=null==(n=r.m[e])?void 0:n.request,c=null;return null!=s&&(o.validation=function(e){return null==c&&(c=(0,i.C5)(e.object(s(e)))),c}),o}},948789:function(e,t,n){let r;n.d(t,{fQ:()=>s,uL:()=>o}),n(539854),n(704826),n(35282);var i=n(539528),l=n(33382),a=n.n(l);function o(e){r.push(e)}function s(e){return t=>{if(null!=e)return null!=a()(t,{end:!1}).exec(e.history.location.pathname)}}r=(0,i.lX)()},470840:function(e,t,n){e.exports={addFriendInputWrapper:"addFriendInputWrapper__72ba7",error:"error__72ba7",success:"success__72ba7",addFriendWumpusWrapper:"addFriendWumpusWrapper__72ba7",inputText:"inputText__72ba7",addFriendInput:"addFriendInput__72ba7 inputText__72ba7",input:"input__72ba7 inputText__72ba7",addFriendHint:"addFriendHint__72ba7 inputText__72ba7",ring:"ring__72ba7"}},981028:function(e,t,n){e.exports={container:"container_c48ade",guilds:"guilds_c48ade",base:"base_c48ade",sidebar:"sidebar_c48ade",hidden:"hidden_c48ade",channelListHidden:"channelListHidden_c48ade",fullWidth:"fullWidth_c48ade",panels:"panels_c48ade",content:"content_c48ade",activityPanel:"activityPanel_c48ade",loader:"loader_c48ade",sidebarResizeHandle:"sidebarResizeHandle_c48ade",page:"page_c48ade",sidebarList:"sidebarList_c48ade",sidebarListRounded:"sidebarListRounded_c48ade",dragging:"dragging_c48ade",draggingMin:"draggingMin_c48ade",collapsing:"collapsing_c48ade",draggingMax:"draggingMax_c48ade"}},36398:function(e,t,n){e.exports={devBanner:"devBanner__56d75",local:"local__56d75",staging:"staging__56d75",buildOverride:"buildOverride__56d75",icon:"icon__56d75",closeButton:"closeButton__56d75",closeIcon:"closeIcon__56d75"}},686918:function(e,t,n){e.exports={downloadProgressCircle:"downloadProgressCircle__35e86",hideGameUpdateProgressIndicator:"hideGameUpdateProgressIndicator__35e86",privateChannels:"privateChannels__35e86",sectionDivider:"sectionDivider__35e86",searchBar:"searchBar__35e86",familyCenterLinkButton:"familyCenterLinkButton__35e86",friendsButtonContainer:"friendsButtonContainer__35e86",friendsBadge:"friendsBadge__35e86",createDMButtonContainer:"createDMButtonContainer__35e86",confetti:"confetti__35e86",themedHeaderMobile:"themedHeaderMobile__35e86",familyCenterButtonContainer:"familyCenterButtonContainer__35e86",withPadding:"withPadding__35e86"}},351864:function(e,t,n){e.exports={divider:"divider_c87e85"}},108201:function(e,t,n){e.exports={libraryFilter:"libraryFilter__3fb48",focused:"focused__3fb48",searchBar:"searchBar__3fb48"}},923656:function(e,t,n){e.exports={libraryHeader:"libraryHeader__5a895"}},50089:function(e,t,n){e.exports={container:"container_ad5cdf"}},499126:function(e,t,n){e.exports={wrapper:"wrapper_a6f654",installationPath:"installationPath_a6f654",installationPathEditing:"installationPathEditing_a6f654",separator:"separator_a6f654",defaultIndicator:"defaultIndicator_a6f654",rowBody:"rowBody_a6f654",buttonRowWrapper:"buttonRowWrapper_a6f654",defaultLocationCheckbox:"defaultLocationCheckbox_a6f654",rowTitle:"rowTitle_a6f654"}},115654:function(e,t,n){e.exports={container:"container__4a84a",scroller:"scroller__4a84a"}},77839:function(e,t,n){e.exports={scroller:"scroller_fb04e1",body:"body_fb04e1",hiddenLibraryApplications:"hiddenLibraryApplications_fb04e1",hiddenLibraryApplicationContent:"hiddenLibraryApplicationContent_fb04e1",hiddenLibraryApplicationsTitle:"hiddenLibraryApplicationsTitle_fb04e1",hiddenLibraryApplication:"hiddenLibraryApplication_fb04e1 "+n(620842).card,restoreButton:"restoreButton_fb04e1",restoreIcon:"restoreIcon_fb04e1",applicationName:"applicationName_fb04e1",applicationSubText:"applicationSubText_fb04e1"}},117554:function(e,t,n){e.exports={table:"table_adb41f",header:"header_adb41f",nameCell:"nameCell_adb41f",nameCellText:"nameCellText_adb41f",icon:"icon_adb41f",nitroIcon:"nitroIcon_adb41f icon_adb41f",lastPlayedCell:"lastPlayedCell_adb41f",platformCell:"platformCell_adb41f",actionsCell:"actionsCell_adb41f",stickyHeader:"stickyHeader_adb41f header_adb41f",headerCell:"headerCell_adb41f",headerCellSorted:"headerCellSorted_adb41f",rowWrapper:"rowWrapper_adb41f",row:"row_adb41f",rowWrapperActive:"rowWrapperActive_adb41f rowWrapper_adb41f",rowWrapperGlow:"rowWrapperGlow_adb41f rowWrapper_adb41f",bodyCell:"bodyCell_adb41f",textCell:"textCell_adb41f",nameBodyCell:"nameBodyCell_adb41f",nameCellInfo:"nameCellInfo_adb41f",lastPlayedCellNew:"lastPlayedCellNew_adb41f",gameIcon:"gameIcon_adb41f",actionButtonSize:"actionButtonSize_adb41f",hidden:"hidden_adb41f",settingIcons:"settingIcons_adb41f",settingIcon:"settingIcon_adb41f icon_adb41f",emptyState:"emptyState_adb41f",emptyStateText:"emptyStateText_adb41f",emptyStateHeader:"emptyStateHeader_adb41f",emptyStateDescription:"emptyStateDescription_adb41f",emptyWumpus:"emptyWumpus_adb41f",emptyStateLarge:"emptyStateLarge_adb41f emptyState_adb41f",emptyStateSmall:"emptyStateSmall_adb41f emptyState_adb41f",rowWrapperDim:"rowWrapperDim_adb41f"}},496034:function(e,t,n){e.exports={monitor:"monitor__7eeec",overflowContainer:"overflowContainer__7eeec",text:"text__7eeec",title:"title__7eeec",rate:"rate__7eeec",sparkChart:"sparkChart__7eeec"}},248241:function(e,t,n){e.exports={table:"table__49035",gameUpdates:"gameUpdates__49035",headerRow:"headerRow__49035",headerCell:"headerCell__49035",diskProgress:"diskProgress__49035",networkProgress:"networkProgress__49035",row:"row__49035",cell:"cell__49035",nameCell:"nameCell__49035",progressCell:"progressCell__49035",actionsCell:"actionsCell__49035",nameCellText:"nameCellText__49035",progressCellHeader:"progressCellHeader__49035",progressCellBody:"progressCellBody__49035",progressCellText:"progressCellText__49035",actionButton:"actionButton__49035",actionButtonContents:"actionButtonContents__49035",gameActionButton:"gameActionButton__49035",actionIcon:"actionIcon__49035"}},315208:function(e,t,n){e.exports={content:"content__6d178",rating:"rating__6d178"}},126373:function(e,t,n){e.exports={features:"features_c85137",row:"row_c85137",checkmarkIcon:"checkmarkIcon_c85137",featureIcon:"featureIcon_c85137",featureText:"featureText_c85137"}},419295:function(e,t,n){e.exports={content:"content__1688d"}},157684:function(e,t,n){e.exports={recommendationActivity:"recommendationActivity__450d3",players:"players__450d3",playerAvatar:"playerAvatar__450d3",avatarMasked:"avatarMasked__450d3",playerOverflow:"playerOverflow__450d3",description:"description__450d3",username:"username__450d3",tooltip:"tooltip__450d3",tooltipTimestamp:"tooltipTimestamp__450d3"}},113520:function(e,t,n){e.exports={header:"header__74994",staffReviewHeader:"staffReviewHeader__74994",headerText:"headerText__74994",label:"label__74994",username:"username__74994",notes:"notes__74994"}},430355:function(e,t,n){e.exports={applicationStore:"applicationStore_f07d62",marketingHeader:"marketingHeader_f07d62",marketingFooter:"marketingFooter_f07d62"}},980678:function(e,t,n){e.exports={listingWrapper:"listingWrapper__0f50c",noHeaderSpacer:"noHeaderSpacer__0f50c",headerAssets:"headerAssets__0f50c",headerBackground:"headerBackground__0f50c",headerLogo:"headerLogo__0f50c",link:"link__0f50c",linkIcon:"linkIcon__0f50c",spinner:"spinner__0f50c",listing:"listing__0f50c",gatedListing:"gatedListing__0f50c",contentRating:"contentRating__0f50c",description:"description__0f50c",guildInvite:"guildInvite__0f50c",legalInfo:"legalInfo__0f50c",whyYouMightLikeIt:"whyYouMightLikeIt__0f50c",systemRequirements:"systemRequirements__0f50c",headerBarListing:"headerBarListing__0f50c",headerPurchase:"headerPurchase__0f50c",headerSection:"headerSection__0f50c",active:"active__0f50c",testModeSelectButton:"testModeSelectButton__0f50c",listingLarge:"listingLarge__0f50c",body:"body__0f50c",leftColumn:"leftColumn__0f50c",rightColumn:"rightColumn__0f50c",listingSmall:"listingSmall__0f50c",purchaseError:"purchaseError__0f50c"}},624066:function(e,t,n){e.exports={matureListing:"matureListing__49e1d"}},796787:function(e,t,n){e.exports={root:"root__26095",header:"header__26095",section:"section__26095",sectionContent:"sectionContent__26095",unit:"unit__26095",review:"review__26095"}},883307:function(e,t,n){e.exports={breadcrumb:"breadcrumb__67607"}},688510:function(e,t,n){e.exports={tabs:"tabs_f1dca0",separator:"separator_f1dca0",tab:"tab_f1dca0",tabPageLarge:"tabPageLarge_f1dca0 tab_f1dca0",tabPageSmall:"tabPageSmall_f1dca0 tab_f1dca0",tabNotSelected:"tabNotSelected_f1dca0",requirementsContainer:"requirementsContainer_f1dca0",requirements:"requirements_f1dca0",requirement:"requirement_f1dca0",requirementKey:"requirementKey_f1dca0",tabSelected:"tabSelected_f1dca0",tabNotSelectedColor:"tabNotSelectedColor_f1dca0",tabSelectedColor:"tabSelectedColor_f1dca0"}},295265:function(e,t,n){e.exports={inviteSmall:"inviteSmall_f1d99d",content:"content_f1d99d",info:"info_f1d99d",inviteLarge:"inviteLarge_f1d99d",guildIcon:"guildIcon_f1d99d",infoText:"infoText_f1d99d",name:"name_f1d99d",memberInfo:"memberInfo_f1d99d",dot:"dot_f1d99d",dotOnline:"dotOnline_f1d99d dot_f1d99d",dotOffline:"dotOffline_f1d99d dot_f1d99d",memberText:"memberText_f1d99d",actionButton:"actionButton_f1d99d",joinedCheckmark:"joinedCheckmark_f1d99d",buttonColorInGuild:"buttonColorInGuild_f1d99d"}},646551:function(e,t,n){e.exports={userList:"userList_bad975",header:"header_bad975",content:"content_bad975",user:"user_bad975",discriminator:"discriminator_bad975",tag:"tag_bad975",avatar:"avatar_bad975",username:"username_bad975"}},307907:function(e,t,n){e.exports={container:"container__74da2",backgroundArtwork:"backgroundArtwork__74da2",appOpenedTitle:"appOpenedTitle__74da2"}},87805:function(e,t,n){e.exports={container:"container__44284"}},754912:function(e,t,n){e.exports={container:"container__46ab5",title:"title__46ab5",img:"img__46ab5",subtitle:"subtitle__46ab5"}},329114:function(e,t,n){e.exports={container:"container__3639b",title:"title__3639b",img:"img__3639b",subtitle:"subtitle__3639b"}},156578:function(e,t,n){e.exports={image:"image__5901e",loaded:"loaded__5901e"}},788524:function(e,t,n){e.exports={logo:"logo__11f7b"}},935742:function(e,t,n){e.exports={canvas:"canvas_e99198",fallbackImage:"fallbackImage_e99198",visible:"visible_e99198",embedded:"embedded_e99198"}},771858:function(e,t,n){e.exports={wrapper:"wrapper__8bf38 "+n(154257).scrollbarGhost,rightSplit:"rightSplit__8bf38",embedded:"embedded__8bf38",leftSplit:"leftSplit__8bf38",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit__8bf38",mobileWave:"mobileWave__8bf38",logo:"logo__8bf38"}},10832:function(e,t,n){e.exports={chat:"chat_a44415"}},419246:function(e,t,n){e.exports={hamBanner:"hamBanner__6a41e",hamBannerButton:"hamBannerButton__6a41e"}},475915:function(e,t,n){e.exports={container:"container__251d4",fadeOut:"fadeOut__251d4",upsell:"upsell__251d4",hidden:"hidden__251d4"}},454703:function(e,t,n){e.exports={container:"container_e88f3f",close:"close_e88f3f",closeIcon:"closeIcon_e88f3f",imageContainer:"imageContainer_e88f3f",image:"image_e88f3f",message:"message_e88f3f",title:"title_e88f3f",live:"live_e88f3f",center:"center_e88f3f",noImageTitle:"noImageTitle_e88f3f",button:"button_e88f3f",header:"header_e88f3f",participants:"participants_e88f3f",pill:"pill_e88f3f",pillIcon:"pillIcon_e88f3f",pillLabel:"pillLabel_e88f3f",locationContainer:"locationContainer_e88f3f",location:"location_e88f3f",locationIcon:"locationIcon_e88f3f",avatar:"avatar_e88f3f",key:"key_e88f3f"}},449824:function(e,t,n){e.exports={channelNotice:"channelNotice__4c43d",close:"close__4c43d",closeIcon:"closeIcon__4c43d",title:"title__4c43d",message:"message__4c43d",btn:"btn__4c43d",imageContainer:"imageContainer__4c43d",image:"image__4c43d"}},3484:function(e,t,n){e.exports={app:"app__160d8",layers:"layers__160d8"}},256076:function(e,t,n){e.exports={layers:"layers__960e4",layer:"layer__960e4",animating:"animating__960e4",bg:"bg__960e4",important:"important__960e4",baseLayer:"baseLayer__960e4"}},703849:function(e,t,n){e.exports={reminderTooltip:"reminderTooltip__5cad1",tooltipContent:"tooltipContent__5cad1",buttonContainer:"buttonContainer__5cad1"}},677372:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal__4ed1a",fontScaling:"fontScaling__4ed1a","heading-sm/medium":"heading-sm/medium__4ed1a","heading-sm/semibold":"heading-sm/semibold__4ed1a","heading-sm/bold":"heading-sm/bold__4ed1a","heading-sm/extrabold":"heading-sm/extrabold__4ed1a","heading-md/normal":"heading-md/normal__4ed1a","heading-md/medium":"heading-md/medium__4ed1a","heading-md/semibold":"heading-md/semibold__4ed1a","heading-md/bold":"heading-md/bold__4ed1a","heading-md/extrabold":"heading-md/extrabold__4ed1a","heading-lg/normal":"heading-lg/normal__4ed1a","heading-lg/medium":"heading-lg/medium__4ed1a","heading-lg/semibold":"heading-lg/semibold__4ed1a","heading-lg/bold":"heading-lg/bold__4ed1a","heading-lg/extrabold":"heading-lg/extrabold__4ed1a","heading-xl/normal":"heading-xl/normal__4ed1a","heading-xl/medium":"heading-xl/medium__4ed1a","heading-xl/semibold":"heading-xl/semibold__4ed1a","heading-xl/bold":"heading-xl/bold__4ed1a","heading-xl/extrabold":"heading-xl/extrabold__4ed1a","heading-xxl/normal":"heading-xxl/normal__4ed1a","heading-xxl/medium":"heading-xxl/medium__4ed1a","heading-xxl/semibold":"heading-xxl/semibold__4ed1a","heading-xxl/bold":"heading-xxl/bold__4ed1a","heading-xxl/extrabold":"heading-xxl/extrabold__4ed1a",eyebrow:"eyebrow__4ed1a","heading-deprecated-12/normal":"heading-deprecated-12/normal__4ed1a","heading-deprecated-12/medium":"heading-deprecated-12/medium__4ed1a","heading-deprecated-12/semibold":"heading-deprecated-12/semibold__4ed1a","heading-deprecated-12/bold":"heading-deprecated-12/bold__4ed1a","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold__4ed1a","redesign/heading-18/bold":"redesign/heading-18/bold__4ed1a","text-xxs/normal":"text-xxs/normal__4ed1a","text-xxs/medium":"text-xxs/medium__4ed1a","text-xxs/semibold":"text-xxs/semibold__4ed1a","text-xxs/bold":"text-xxs/bold__4ed1a","text-xs/normal":"text-xs/normal__4ed1a","text-xs/medium":"text-xs/medium__4ed1a","text-xs/semibold":"text-xs/semibold__4ed1a","text-xs/bold":"text-xs/bold__4ed1a","text-sm/normal":"text-sm/normal__4ed1a","text-sm/medium":"text-sm/medium__4ed1a","text-sm/semibold":"text-sm/semibold__4ed1a","text-sm/bold":"text-sm/bold__4ed1a","text-md/normal":"text-md/normal__4ed1a","text-md/medium":"text-md/medium__4ed1a","text-md/semibold":"text-md/semibold__4ed1a","text-md/bold":"text-md/bold__4ed1a","text-lg/normal":"text-lg/normal__4ed1a","text-lg/medium":"text-lg/medium__4ed1a","text-lg/semibold":"text-lg/semibold__4ed1a","text-lg/bold":"text-lg/bold__4ed1a","redesign/message-preview/normal":"redesign/message-preview/normal__4ed1a","redesign/message-preview/medium":"redesign/message-preview/medium__4ed1a","redesign/message-preview/semibold":"redesign/message-preview/semibold__4ed1a","redesign/message-preview/bold":"redesign/message-preview/bold__4ed1a","redesign/channel-title/normal":"redesign/channel-title/normal__4ed1a","redesign/channel-title/medium":"redesign/channel-title/medium__4ed1a","redesign/channel-title/semibold":"redesign/channel-title/semibold__4ed1a","redesign/channel-title/bold":"redesign/channel-title/bold__4ed1a","display-sm":"display-sm__4ed1a","display-md":"display-md__4ed1a","display-lg":"display-lg__4ed1a",code:"code__4ed1a",marketingBadgeTooltip:"marketingBadgeTooltip__4ed1a",marketingBadgeTooltipContent:"marketingBadgeTooltipContent__4ed1a",shopMarketingTooltipContent:"shopMarketingTooltipContent__4ed1a",shopMarketingTooltipText:"shopMarketingTooltipText__4ed1a",avatarContainer:"avatarContainer__4ed1a",avatar:"avatar__4ed1a",newBadge:"newBadge__4ed1a eyebrow__4ed1a",marketingButtonBackground:"marketingButtonBackground__4ed1a",marketingButtonBackgroundImage:"marketingButtonBackgroundImage__4ed1a"})},375563:function(e,t,n){e.exports={modal:"modal_e59759",container:"container_e59759",header:"header_e59759",headerIcon:"headerIcon_e59759",verifiedRoles:"verifiedRoles_e59759",verifiedRole:"verifiedRole_e59759",verifiedRoleNameDescriptionContainer:"verifiedRoleNameDescriptionContainer_e59759",verifiedRoleDescription:"verifiedRoleDescription_e59759",verifiedRoleName:"verifiedRoleName_e59759",verifiedRoleHasRole:"verifiedRoleHasRole_e59759",roleCheckmark:"roleCheckmark_e59759",botAvatar:"botAvatar_e59759"}},365778:function(e,t,n){e.exports={contentRating:"contentRating_f4dfaa",esrb:"esrb_f4dfaa",pegi:"pegi_f4dfaa",esrbEveryone:"esrbEveryone_f4dfaa esrb_f4dfaa",esrbEveryoneTenPlus:"esrbEveryoneTenPlus_f4dfaa esrb_f4dfaa",esrbTeen:"esrbTeen_f4dfaa esrb_f4dfaa",esrbMature:"esrbMature_f4dfaa esrb_f4dfaa",esrbAdult:"esrbAdult_f4dfaa esrb_f4dfaa",esrbRatingPending:"esrbRatingPending_f4dfaa",pegiThree:"pegiThree_f4dfaa pegi_f4dfaa",pegiSeven:"pegiSeven_f4dfaa pegi_f4dfaa",pegiTwelve:"pegiTwelve_f4dfaa pegi_f4dfaa",pegiSixteen:"pegiSixteen_f4dfaa pegi_f4dfaa",pegiEighteen:"pegiEighteen_f4dfaa pegi_f4dfaa"}},82504:function(e,t,n){e.exports={title:"title__85643",fastTravel:"fastTravel__85643",navigationTooltip:"navigationTooltip__85643",icon:"icon__85643",appIcon:"appIcon__85643",guildIcon:"guildIcon__85643",button:"button__85643"}},612597:function(e,t,n){e.exports={outer:"outer_ac6414",inner:"inner_ac6414"}},744749:function(e,t,n){e.exports={spinner:"spinner_a2f514",container:"container_a2f514 "+n(964812).fixClipping,text:"text_a2f514",ready:"ready_a2f514",content:"content_a2f514",problems:"problems_a2f514",slideIn:"slideIn_a2f514",problemsText:"problemsText_a2f514",links:"links_a2f514",statusLink:"statusLink_a2f514 links_a2f514",twitterLink:"twitterLink_a2f514 links_a2f514",icon:"icon_a2f514",contentBase:"contentBase_a2f514",tipTitle:"tipTitle_a2f514",tip:"tip_a2f514",keybind:"keybind_a2f514",body:"body_a2f514 contentBase_a2f514",title:"title_a2f514 contentBase_a2f514"}},890333:function(e,t,n){e.exports={inset:"inset_bf1984",outer:"outer_bf1984",padded:"padded_bf1984",interactive:"interactive_bf1984",active:"active_bf1984"}},781176:function(e,t,n){e.exports={canvas:"canvas__5dc9c"}},530410:function(e,t,n){e.exports={row:"row__5fe04",clickable:"clickable__5fe04",headerCell:"headerCell__5fe04",headerCellContent:"headerCellContent__5fe04",stickyHeader:"stickyHeader__5fe04",sortIcon:"sortIcon__5fe04"}},394369:function(e,t,n){e.exports={downloadApps:"downloadApps__4a98c",contentWrapper:"contentWrapper__4a98c",inner:"inner__4a98c",header:"header__4a98c",footer:"footer__4a98c",platformsWrap:"platformsWrap__4a98c",platforms:"platforms__4a98c",platform:"platform__4a98c",active:"active__4a98c",icon:"icon__4a98c",platformName:"platformName__4a98c",iconWrap:"iconWrap__4a98c",apple:"apple__4a98c",android:"android__4a98c",windows:"windows__4a98c",linux:"linux__4a98c",ios:"ios__4a98c",downloadButtons:"downloadButtons__4a98c",list:"list__4a98c",modalCloseButton:"modalCloseButton__4a98c",refreshDownloadButton:"refreshDownloadButton__4a98c"}},861265:function(e,t,n){e.exports={backForwardButtons:"backForwardButtons__63abb",button:"button__63abb",back:"back__63abb",forward:"forward__63abb",disabled:"disabled__63abb",navigationTooltip:"navigationTooltip__63abb"}},886190:function(e,t,n){e.exports={fastTravelButton:"fastTravelButton_bbe3de",navigationTooltip:"navigationTooltip_bbe3de"}},909357:function(e,t,n){e.exports={iframe:"iframe_a62174",wrapper:"wrapper_a62174",resizable:"resizable_a62174",noChat:"noChat_a62174",activityPanelContainer:"activityPanelContainer_a62174",activityContainer:"activityContainer_a62174",activityContainerNoMargin:"activityContainerNoMargin_a62174",buttonSection:"buttonSection_a62174",contextlessHeader:"contextlessHeader_a62174",contextlessInviteButtonIcon:"contextlessInviteButtonIcon_a62174"}},10058:function(e,t,n){e.exports={container:"container__6c8a3",activityWrapper:"activityWrapper__6c8a3",statusText:"statusText__6c8a3"}},712103:function(e,t,n){e.exports={container:"container_e73f2a",header:"header_e73f2a",controlButtons:"controlButtons_e73f2a",controlButton:"controlButton_e73f2a",searchContainer:"searchContainer_e73f2a",list:"list_e73f2a",section:"section_e73f2a",chevronIcon:"chevronIcon_e73f2a",sectionCollapsible:"sectionCollapsible_e73f2a",row:"row_e73f2a",rowInner:"rowInner_e73f2a",avatar:"avatar_e73f2a",username:"username_e73f2a",badgesContainer:"badgesContainer_e73f2a",hoverBar:"hoverBar_e73f2a",emptyStateContainer:"emptyStateContainer_e73f2a"}},971108:function(e,t,n){e.exports={root:"root_e373d2",connected:"connected_e373d2",icon:"icon_e373d2",connecting:"connecting_e373d2"}},529368:function(e,t,n){e.exports={recommendationReason:"recommendationReason__6efad",circle:"circle__6efad",icon:"icon__6efad",iconCircle:"iconCircle__6efad circle__6efad",earlyAccess:"earlyAccess__6efad",premiumCircle:"premiumCircle__6efad",smallHeader:"smallHeader__6efad",text:"text__6efad",description:"description__6efad"}},775491:function(e,t,n){e.exports={container:"container_a592e1",dragRegion:"dragRegion_a592e1"}},990999:function(e,t,n){e.exports={container:"container__551b0",header:"header__551b0",nav:"nav__551b0",navItemIcon:"navItemIcon__551b0",navItem:"navItem__551b0",selected:"selected__551b0"}},972725:function(e,t,n){e.exports={container:"container__4cb8a",card:"card__4cb8a",iconMask:"iconMask__4cb8a",maximizeIcon:"maximizeIcon__4cb8a",header:"header__4cb8a",loaded:"loaded__4cb8a",banner:"banner__4cb8a",bannerImage:"bannerImage__4cb8a",icon:"icon__4cb8a",avatar:"avatar__4cb8a",guildDetails:"guildDetails__4cb8a",title:"title__4cb8a",guildBadge:"guildBadge__4cb8a",guildName:"guildName__4cb8a",description:"description__4cb8a",memberDetails:"memberDetails__4cb8a",memberDetailsCount:"memberDetailsCount__4cb8a",memberDetailsText:"memberDetailsText__4cb8a",infoDot:"infoDot__4cb8a",presenceCountDot:"presenceCountDot__4cb8a infoDot__4cb8a",memberCountDot:"memberCountDot__4cb8a infoDot__4cb8a",spinnerContainer:"spinnerContainer__4cb8a",spinner:"spinner__4cb8a",placeholder:"placeholder__4cb8a",transitionGroup:"transitionGroup__4cb8a"}},301578:function(e,t,n){e.exports={container:"container_d08938",searchResultsHeader:"searchResultsHeader_d08938"}},19887:function(e,t,n){e.exports={icon:"icon__402f3"}},857847:function(e,t,n){e.exports={heading:"heading_cbd375",headingTopbar:"headingTopbar_cbd375",headingFilters:"headingFilters_cbd375",masonryList:"masonryList_cbd375",container:"container_cbd375",spinner:"spinner_cbd375",spinnerWithSidebar:"spinnerWithSidebar_cbd375",sidebar:"sidebar_cbd375",sidebarContent:"sidebarContent_cbd375",sidebarLanguageSelect:"sidebarLanguageSelect_cbd375"}},803638:function(e,t,n){e.exports={categories:"categories_fe77d6",category:"category_fe77d6",name:"name_fe77d6",count:"count_fe77d6",selected:"selected_fe77d6"}},656535:function(e,t,n){e.exports={container:"container__757e8"}},394843:function(e,t,n){e.exports={container:"container__74f3e",image:"image__74f3e",header:"header__74f3e"}},663448:function(e,t,n){e.exports={sectionTitle:"sectionTitle_f0d60d",content:"content_f0d60d"}},988050:function(e,t,n){e.exports={disclaimer:"disclaimer__04d5b",text:"text__04d5b",divider:"divider__04d5b"}},555562:function(e,t,n){e.exports={page:"page__99a7e",contentWrapper:"contentWrapper__99a7e",dragRegion:"dragRegion__99a7e",splash:"splash__99a7e",defaultGradient:"defaultGradient__99a7e",splashGradient:"splashGradient__99a7e",cover:"cover__99a7e"}},394121:function(e,t,n){e.exports={confirmation:"confirmation__1051d",iconWrapper:"iconWrapper__1051d",statusTextContainer:"statusTextContainer__1051d",incompleteButtonsContainer:"incompleteButtonsContainer__1051d",confirmationButtonRow:"confirmationButtonRow__1051d",confirmationButton:"confirmationButton__1051d",rejectionReasonLabel:"rejectionReasonLabel__1051d"}},76531:function(e,t,n){e.exports={explainerContainer:"explainerContainer_cd1bf7",transparentBackground:"transparentBackground_cd1bf7",header:"header_cd1bf7",outerWrapping:"outerWrapping_cd1bf7"}},718215:function(e,t,n){e.exports={main:"main_c08b38",fullBorderWithGradient:"fullBorderWithGradient_c08b38",artwork:"artwork_c08b38",gradient:"gradient_c08b38",bottomCenterContent:"bottomCenterContent_c08b38",cover:"cover_c08b38"}},813249:function(e,t,n){e.exports={container:"container__2f3c8",image:"image__2f3c8"}},766958:function(e,t,n){e.exports={container:"container_d843c9",video:"video_d843c9"}},851418:function(e,t,n){e.exports={pendingPlanChangeNotice:"pendingPlanChangeNotice_f75db8"}},495760:function(e,t,n){e.exports={errorPageContainer:"errorPageContainer__5a176",errorPageContent:"errorPageContent__5a176",errorPageIllo:"errorPageIllo__5a176",errorPageTitle:"errorPageTitle__5a176",errorPagSubtitle:"errorPagSubtitle__5a176"}},183261:function(e,t,n){e.exports={container:"container__808a1",content:"content__808a1",scroller:"scroller__808a1",scrollerContent:"scrollerContent__808a1",headerBar:"headerBar__808a1"}},926440:function(e,t,n){e.exports={container:"container_e66c4d",content:"content_e66c4d",header:"header_e66c4d"}},696118:function(e,t,n){e.exports={container:"container__7e486",coverImageContainer:"coverImageContainer__7e486",coverImage:"coverImage__7e486",guildIconContainer:"guildIconContainer__7e486",ctaTitle:"ctaTitle__7e486",ctaSubtitle:"ctaSubtitle__7e486"}},507795:function(e,t,n){e.exports={textBlock:"textBlock_e2d7b8",joinButton:"joinButton_e2d7b8",eventName:"eventName_e2d7b8",channelNotice:"channelNotice_e2d7b8",singleLine:"singleLine_e2d7b8",liveNowText:"liveNowText_e2d7b8",eventNameClickable:"eventNameClickable_e2d7b8",channelName:"channelName_e2d7b8",dotDivider:"dotDivider_e2d7b8",liveIndicator:"liveIndicator_e2d7b8",startTime:"startTime_e2d7b8",stageIcon:"stageIcon_e2d7b8",userNames:"userNames_e2d7b8",closeIcon:"closeIcon_e2d7b8",details:"details_e2d7b8"}},501130:function(e,t,n){e.exports={image:"image_d6d9aa"}},971606:function(e,t,n){e.exports={container:"container__2637a",hubContainer:"hubContainer__2637a",dropdownButton:"dropdownButton__2637a",dropdownButtonBannerVisible:"dropdownButtonBannerVisible__2637a"}},619224:function(e,t,n){e.exports={container:"container__6e9be"}},808709:function(e,t,n){e.exports={container:"container_a76561",iconContainer:"iconContainer_a76561",header:"header_a76561",gap:"gap_a76561",addButton:"addButton_a76561"}},330966:function(e,t,n){e.exports={container:"container__30f2d",topImage:"topImage__30f2d",centerText:"centerText__30f2d",header:"header__30f2d",descriptionWidth:"descriptionWidth__30f2d",formContent:"formContent__30f2d",formDescription:"formDescription__30f2d",termsPhrase:"termsPhrase__30f2d",submitButton:"submitButton__30f2d",cancelButton:"cancelButton__30f2d"}},642480:function(e,t,n){e.exports={container:"container_a3fac7",centerText:"centerText_a3fac7",header:"header_a3fac7",description:"description_a3fac7",guildList:"guildList_a3fac7",forcedHeight:"forcedHeight_a3fac7",searchContainer:"searchContainer_a3fac7",guildRow:"guildRow_a3fac7",clickableGuildInfoRow:"clickableGuildInfoRow_a3fac7 guildRow_a3fac7",guildIcon:"guildIcon_a3fac7",guildName:"guildName_a3fac7",noResultsContainer:"noResultsContainer_a3fac7",noResultsContent:"noResultsContent_a3fac7",noResultsImage:"noResultsImage_a3fac7",scroller:"scroller_a3fac7"}},759137:function(e,t,n){e.exports={modalRoot:"modalRoot__1d6c7",sidebarContainer:"sidebarContainer__1d6c7",contentContainer:"contentContainer__1d6c7",modalContent:"modalContent__1d6c7",container:"container__1d6c7",closeButton:"closeButton__1d6c7"}},242517:function(e,t,n){e.exports={page:"page_ae34ee",contentWrapper:"contentWrapper_ae34ee",dragRegion:"dragRegion_ae34ee"}},962384:function(e,t,n){e.exports={container:"container_c1298c",iconContainer:"iconContainer_c1298c",icon:"icon_c1298c",header:"header_c1298c",description:"description_c1298c"}},946189:function(e,t,n){e.exports={container:"container__07ec5",centerText:"centerText__07ec5",header:"header__07ec5",descriptionWidth:"descriptionWidth__07ec5",formItem:"formItem__07ec5",footer:"footer__07ec5",backButton:"backButton__07ec5"}},85890:function(e,t,n){e.exports={container:"container_bfddf1",topImage:"topImage_bfddf1",centerText:"centerText_bfddf1",formItem:"formItem_bfddf1 centerText_bfddf1",header:"header_bfddf1",descriptionWidth:"descriptionWidth_bfddf1",submitText:"submitText_bfddf1"}},46456:function(e,t,n){e.exports={container:"container_ea45f4",content:"content_ea45f4",pointer:"pointer_ea45f4"}},561223:function(e,t,n){e.exports={icon:"icon__58921"}},978070:function(e,t,n){e.exports={messageRequestItem:"messageRequestItem_abb9ad",firstItem:"firstItem_abb9ad",active:"active_abb9ad"}},803882:function(e,t,n){e.exports={container:"container_f391e3",item:"item_f391e3",list:"list_f391e3",sectionTitle:"sectionTitle_f391e3",selected:"selected_f391e3",siblingSelected:"siblingSelected_f391e3",titleDivider:"titleDivider_f391e3"}},161414:function(e,t,n){e.exports={messageContent:"messageContent_dbf24f",messageReplacement:"messageReplacement_dbf24f messageContent_dbf24f",messageContentIcon:"messageContentIcon_dbf24f",messageFocusBlock:"messageFocusBlock_dbf24f"}},79072:function(e,t,n){e.exports={avatar:"avatar_b8dbac",userPreview:"userPreview_b8dbac",userContainerWithPreview:"userContainerWithPreview_b8dbac",tagContainer:"tagContainer_b8dbac",username:"username_b8dbac",discriminator:"discriminator_b8dbac",globalName:"globalName_b8dbac",timestampWithPreview:"timestampWithPreview_b8dbac",mutualGuildsContainer:"mutualGuildsContainer_b8dbac",mutualGuilds:"mutualGuilds_b8dbac"}},669850:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__65428"}},513245:function(e,t,n){e.exports={container:"container__24368",actions:"actions__24368",button:"button__24368"}},393272:function(e,t,n){e.exports={selected:"selected_dcc822",siblingSelected:"siblingSelected_dcc822",list:"list_dcc822",sectionTitle:"sectionTitle_dcc822",titleDivider:"titleDivider_dcc822"}},539410:function(e,t,n){e.exports={container:"container__0b7fc",actions:"actions__0b7fc"}},46693:function(e,t,n){e.exports={wrapper:"wrapper__123e1",textContainer:"textContainer__123e1",heading:"heading__123e1",text:"text__123e1"}},445202:function(e,t,n){e.exports={iconWrapper:"iconWrapper_ede711",clickableContainer:"clickableContainer_ede711",icon:"icon_ede711",unreadDot:"unreadDot_ede711"}},559909:function(e,t,n){e.exports={itemCard:"itemCard__7e549",emptyCard:"emptyCard__7e549",emptyHeader:"emptyHeader__7e549",emptyText:"emptyText__7e549"}},708567:function(e,t,n){e.exports={scroller:"scroller__7d20c",container:"container__7d20c",header:"header__7d20c"}},550619:function(e,t,n){e.exports={wrapper:"wrapper_e45a82",partyMembers:"partyMembers_e45a82",partyMember:"partyMember_e45a82",partyMemberKnown:"partyMemberKnown_e45a82 partyMember_e45a82",partyMemberEmpty:"partyMemberEmpty_e45a82 partyMember_e45a82",partyMemberUnknown:"partyMemberUnknown_e45a82 partyMember_e45a82",partyMemberUnknownIcon:"partyMemberUnknownIcon_e45a82",partyMemberOverflow:"partyMemberOverflow_e45a82"}},961275:function(e,t,n){e.exports={memberItem:"memberItem__5017b",avatar:"avatar__5017b",unknown:"unknown__5017b"}},79822:function(e,t,n){e.exports={listeningAlong:"listeningAlong_e0cf27",party:"party_e0cf27",overflow:"overflow_e0cf27",icons:"icons_e0cf27",avatar:"avatar_e0cf27"}},720711:function(e,t,n){e.exports={scroller:"scroller__68617",voiceUsers:"voiceUsers__68617",collapsed:"collapsed__68617",avatarContainer:"avatarContainer__68617",avatar:"avatar__68617",speaking:"speaking__68617",avatarIconOverlay:"avatarIconOverlay__68617",avatarIconRed:"avatarIconRed__68617"}},286389:function(e,t,n){e.exports={actionButton:"actionButton_f8fa06",highlight:"highlight_f8fa06",actionAccept:"actionAccept_f8fa06",actionDeny:"actionDeny_f8fa06",icon:"icon_f8fa06"}},979493:function(e,t,n){e.exports={header:"header__94b08",title:"title__94b08"}},184904:function(e,t,n){e.exports={header:"header_a14595",title:"title_a14595",grid:"grid_a14595",container:"container_a14595",arrow:"arrow_a14595",icon:"icon_a14595",text:"text_a14595"}},466653:function(e,t,n){e.exports={card:"card__2eab1",header:"header__2eab1",buttonContainer:"buttonContainer__2eab1"}},934422:function(e,t,n){e.exports={listItemContents:"listItemContents_fc004c",actions:"actions_fc004c"}},755429:function(e,t,n){e.exports={friendsEmpty:"friendsEmpty_c7ea19",button:"button_c7ea19",emptyStateContainer:"emptyStateContainer_c7ea19",spamButton:"spamButton_c7ea19"}},507694:function(e,t,n){e.exports={listItemContents:"listItemContents_e1ecd3",actions:"actions_e1ecd3",staffIndicator:"staffIndicator_e1ecd3",applicationSublabel:"applicationSublabel_e1ecd3"}},983703:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__5ec2f",peopleList:"peopleList__5ec2f",searchBar:"searchBar__5ec2f",sectionTitle:"sectionTitle__5ec2f",clearButton:"clearButton__5ec2f",searchEmptyState:"searchEmptyState__5ec2f",viewSpamButton:"viewSpamButton__5ec2f",viewSpamButtonColor:"viewSpamButtonColor__5ec2f"}},67165:function(e,t,n){e.exports={peopleListItem:"peopleListItem_cc6179",active:"active_cc6179"}},236202:function(e,t,n){e.exports={container:"container__133bf",inviteToolbar:"inviteToolbar__133bf",peopleColumn:"peopleColumn__133bf",nowPlayingColumn:"nowPlayingColumn__133bf",tabBar:"tabBar__133bf",badge:"badge__133bf",item:"item__133bf",addFriend:"addFriend__133bf",tabBody:"tabBody__133bf"}},252319:function(e,t,n){e.exports={blockedIgnoredSettingsNotice:"blockedIgnoredSettingsNotice__6811a"}},349598:function(e,t,n){e.exports={title:"title__1472a"}},599685:function(e,t,n){e.exports={statusText:"statusText__19b6d",text:"text__19b6d"}},475823:function(e,t,n){e.exports={listItemContents:"listItemContents_c72b78",actions:"actions_c72b78"}},913139:function(e,t,n){e.exports={userInfo:"userInfo__0a06e",avatar:"avatar__0a06e",text:"text__0a06e",subtext:"subtext__0a06e",discordTag:"discordTag__0a06e",botTag:"botTag__0a06e",username:"username__0a06e",discriminator:"discriminator__0a06e",hovered:"hovered__0a06e",alignPomelo:"alignPomelo__0a06e"}},966677:function(e,t,n){e.exports={countDown:"countDown__61bcd",sparkleStar1:"sparkleStar1__61bcd",sparkleStar2:"sparkleStar2__61bcd"}},427954:function(e,t,n){e.exports={spriteContainer:"spriteContainer__51d15",sprite:"sprite__51d15",popoutButton:"popoutButton__51d15",pillContentContainer:"pillContentContainer__51d15",pillButtonText:"pillButtonText__51d15"}},605548:function(e,t,n){e.exports={termsApplyAnchor:"termsApplyAnchor__95fb7",modalTopPill:"modalTopPill__95fb7"}},20456:function(e,t,n){e.exports={flatContainer:"flatContainer_a2f4dc",flatImage:"flatImage_a2f4dc",flatContent:"flatContent_a2f4dc",flatContainerTooltipContent:"flatContainerTooltipContent_a2f4dc",flatContainerTooltip:"flatContainerTooltip_a2f4dc"}},820562:function(e,t,n){e.exports={customCircleAnimation:"customCircleAnimation__83ef9",glow:"glow__83ef9",pulse:"pulse__83ef9","extra-glow":"extra-glow__83ef9",coachTipContainer:"coachTipContainer__83ef9",iconContainer:"iconContainer__83ef9",coachtipContent:"coachtipContent__83ef9",marketingBadgeTooltip:"marketingBadgeTooltip__83ef9",tooltipContent:"tooltipContent__83ef9",icon:"icon__83ef9"}},941744:function(e,t,n){e.exports={premiumTrialBadge:"premiumTrialBadge__94f65",premiumTrialAcknowledgedBadge:"premiumTrialAcknowledgedBadge__94f65",reverseTrialBadgeIcon:"reverseTrialBadgeIcon__94f65"}},188784:function(e,t,n){e.exports={root:"root_d06335",largeBorderRadius:"largeBorderRadius_d06335",headerText:"headerText_d06335",closeButtonContainer:"closeButtonContainer_d06335",video:"video_d06335",content:"content_d06335",subHeader:"subHeader_d06335",bodyText:"bodyText_d06335",buttonContainer:"buttonContainer_d06335",featureCardGroup:"featureCardGroup_d06335",wideStyle:"wideStyle_d06335",featureCard:"featureCard_d06335",featureCardImg:"featureCardImg_d06335",featureCardTextGroup:"featureCardTextGroup_d06335",featureCardTextHeader:"featureCardTextHeader_d06335",featureCardTag:"featureCardTag_d06335",tag:"tag_d06335"}},387016:function(e,t,n){e.exports={badgeContainer:"badgeContainer__98c7b",newBadge:"newBadge__98c7b",star:"star__98c7b",starLeft:"starLeft__98c7b",starRight:"starRight__98c7b"}},872058:function(e,t,n){e.exports={headingWrapper:"headingWrapper__57454",headingControls:"headingControls__57454",filterSortOption:"filterSortOption__57454"}},477813:function(e,t,n){e.exports={filterOptionGroup:"filterOptionGroup__61c5c",checkboxInput:"checkboxInput__61c5c"}},491873:function(e,t,n){e.exports={popout:"popout__9047f",popoutHeading:"popoutHeading__9047f"}},836859:function(e,t,n){e.exports={radioGroup:"radioGroup__72ad8",radioItem:"radioItem__72ad8",radioItemTitle:"radioItemTitle__72ad8"}},199679:function(e,t,n){e.exports={container:"container__9192b",image:"image__9192b",assetBlurred:"assetBlurred__9192b",decoWrapper:"decoWrapper__9192b",overlay:"overlay__9192b",darkThemeGradient:"darkThemeGradient__9192b",lightThemeGradient:"lightThemeGradient__9192b",details:"details__9192b",logoContainer:"logoContainer__9192b",logo:"logo__9192b",logoWithCosponsor:"logoWithCosponsor__9192b",title:"title__9192b",hovered:"hovered__9192b"}},16167:function(e,t,n){e.exports={gridContainer:"gridContainer_f3e8a7",spinner:"spinner_f3e8a7"}},728963:function(e,t,n){e.exports={container:"container__955a3",dragRegion:"dragRegion__955a3",bannerAsset:"bannerAsset__955a3",orbsBannerAsset:"orbsBannerAsset__955a3",oversizedImg:"oversizedImg__955a3",bannerGradient:"bannerGradient__955a3",tabs:"tabs__955a3",orbsTermsButton:"orbsTermsButton__955a3",orbsGradient:"orbsGradient__955a3",bannerContainer:"bannerContainer__955a3",orbsContainer:"orbsContainer__955a3"}},334525:function(e,t,n){e.exports={container:"container__60f82",fadeIn:"fadeIn__60f82",glow:"glow__60f82",reflect:"reflect__60f82",questTile:"questTile__60f82",selected:"selected__60f82",unselected:"unselected__60f82",spinner:"spinner__60f82",emptyStateContainer:"emptyStateContainer__60f82"}},883079:function(e,t,n){e.exports={container:"container__06199",asset:"asset__06199"}},408228:function(e,t,n){e.exports={wrapper:"wrapper__960df",submenuIcon:"submenuIcon__960df",utils:"utils__960df",wrapperQuestAccepted:"wrapperQuestAccepted__960df",heading:"heading__960df",headingGameTile:"headingGameTile__960df",headingCopy:"headingCopy__960df",instructions:"instructions__960df",ctas:"ctas__960df",cta:"cta__960df",rewardTileWithInstructions:"rewardTileWithInstructions__960df"}},741047:function(e,t,n){e.exports={recentsIcon:"recentsIcon_c99c29"}},261385:function(e,t,n){e.exports={tooltip:"tooltip__93f15",tooltipContent:"tooltipContent__93f15",iconContainer:"iconContainer__93f15",inviteImage:"inviteImage__93f15",offsetAvatarContainer:"offsetAvatarContainer__93f15",inviterImage:"inviterImage__93f15",titleContainer:"titleContainer__93f15"}},966117:function(e,t,n){e.exports={channelName:"channelName__7c7a6",username:"username__7c7a6",kvContainer:"kvContainer__7c7a6",item:"item__7c7a6",itemValue:"itemValue__7c7a6",valueIcon:"valueIcon__7c7a6",title:"title__7c7a6",divider:"divider__7c7a6",graph:"graph__7c7a6",videoWrapper:"videoWrapper__7c7a6",sectionHeader:"sectionHeader__7c7a6",allowSelection:"allowSelection__7c7a6",avatar:"avatar__7c7a6"}},104940:function(e,t,n){e.exports={safetyFlow:"safetyFlow__300a2",container:"container__300a2",body:"body__300a2",error:"error__300a2",background:"background__300a2",artwork:"artwork__300a2"}},133023:function(e,t,n){e.exports={container:"container_de2e28",title:"title_de2e28"}},58571:function(e,t,n){e.exports={container:"container__44153",title:"title__44153",description:"description__44153"}},921667:function(e,t,n){e.exports={appTitleSearch:"appTitleSearch_a92646",appTitleSearchBar:"appTitleSearchBar_a92646",appTitleSearchPopout:"appTitleSearchPopout_a92646",appTitleSearchPopoutDatePicker:"appTitleSearchPopoutDatePicker_a92646",appTitleSearchBarContainer:"appTitleSearchBarContainer_a92646"}},41440:function(e,t,n){e.exports={wrapper:"wrapper__27106",svg:"svg__27106",path:"path__27106",background:"background__27106 path__27106",foreground:"foreground__27106 path__27106",usageInfo:"usageInfo__27106"}},734305:function(e,t,n){e.exports={container:"container__577c3",image:"image__577c3",links:"links__577c3",agreementDescription:"agreementDescription__577c3"}},222198:function(e,t,n){e.exports={verification:"verification_dede4b",footer:"footer_dede4b",textContainer:"textContainer_dede4b",container:"container_dede4b",isMobile:"isMobile_dede4b",image:"image_dede4b",footerBullet:"footerBullet_dede4b"}},964812:function(e,t,n){e.exports={fixClipping:"fixClipping_efbae7"}},13299:function(e,t,n){n.d(t,{ZP:()=>r});let r="https://cdn.discordapp.com/assets/content/415f84ea9183bc0f4f913e729a59c81c17d2a88afd912e3b85ee99f3d3e29236.png"},606199:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/89a72a6b18132a900d527955877c12a470bbd25fa585670f13a7ff6be00c80b0.mp4"},164792:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/fbd6cf99b9be35ba1d953fd30b81a35c9bd8edf7808b576ef6fc7c65cbc1d9a6.webm"},201284:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/61aaaee4a0366652022b510d9aaa8a26d552ce8457679b0c28c5e2002484a5a6.webm"},712793:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/ef4057cbf24f372a9f1dfd4580710eee3a9b28ad22f9075eb8d62ac329901f5a.svg"},437329:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/1e413c99867b86979d30a0730f0f437c3294cdae13c57a1efc9d842bdc55740f.png"}}]);
//# sourceMappingURL=de9c2faa5a3b48c8.js.map