"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["61920"],{863181:function(e,t,n){e.exports=n.p+"51b167aa695d186d7026.svg"},442519:function(e,t,n){e.exports=n.p+"095d01d68e15a8296a12.svg"},466389:function(e,t,n){e.exports=n.p+"9a5ab44d704fa3235920.svg"},943935:function(e,t,n){e.exports=n.p+"4e53f7d2ba48d2467d4e.svg"},126888:function(e,t,n){e.exports=n.p+"01feea1f6d970557cf96.svg"},356634:function(e,t,n){e.exports=n.p+"99ad5845cf7de1c326e2.svg"},459505:function(e,t,n){e.exports=n.p+"94e8916a8505ffbe331d.svg"},67764:function(e,t,n){e.exports=n.p+"2c264379b38bf71b8358.svg"},900933:function(e,t,n){e.exports=n.p+"e61cb3f7d0bd4dc1a78b.svg"},917847:function(e,t,n){e.exports=n.p+"dcbf373925d18e337c98.svg"},55346:function(e,t,n){e.exports=n.p+"1641b16ec6ac0c4e733d.svg"},138715:function(e,t,n){e.exports=n.p+"04e2c9489e75f5614205.svg"},979770:function(e,t,n){e.exports=n.p+"7ff5a96a1c84092e629e.svg"},755386:function(e,t,n){e.exports=n.p+"0fe043cd8ae1ba7aaec9.svg"},589148:function(e,t,n){e.exports=n.p+"742323d36ad1c45d0c2b.svg"},511189:function(e,t,n){e.exports=n.p+"4fdedd16e4e7a0c3b235.svg"},510342:function(e,t,n){e.exports=n.p+"b0d61e799f6e94da5d87.svg"},211827:function(e,t,n){e.exports=n.p+"014fef5cec3827644c4a.svg"},497726:function(e,t,n){e.exports=n.p+"53867d0ed019307073a5.svg"},839999:function(e,t,n){e.exports=n.p+"736e6e57c9986fa38d22.svg"},127869:function(e,t,n){e.exports=n.p+"5344127ced594c141e76.svg"},571472:function(e,t,n){e.exports=n.p+"b52e8375b7a658dd8505.svg"},241626:function(e,t,n){e.exports=n.p+"5ad43e76476b26a1d90b.svg"},932478:function(e,t,n){e.exports=n.p+"ba426471bfba8603066a.svg"},498973:function(e,t,n){e.exports=n.p+"11160eda9a38fd0b1838.svg"},592859:function(e,t,n){e.exports=n.p+"c2b16223f857f9a63330.svg"},837758:function(e,t,n){e.exports=n.p+"1fe5b8b8823637977029.svg"},239660:function(e,t,n){e.exports=n.p+"68773e4e338a52397fb7.svg"},846064:function(e,t,n){e.exports=n.p+"b031edfc6923ecbc9f07.svg"},156834:function(e,t,n){e.exports=n.p+"c025c8242c2e48f5842d.svg"},895101:function(e,t,n){e.exports=n.p+"15fad1fb4f3b3cef2dcf.svg"},686969:function(e,t,n){e.exports=n.p+"c453bd28dab8ee54cb6d.svg"},238173:function(e,t,n){e.exports=n.p+"356c6424624b4f1f0e2c.svg"},468042:function(e,t,n){e.exports=n.p+"4bc878c04f5fdc244c5c.svg"},251458:function(e,t,n){e.exports=n.p+"8c131e193122e0fb73ac.svg"},449757:function(e,t,n){e.exports=n.p+"df72ce8abd711d91b403.svg"},32634:function(e,t,n){e.exports=n.p+"f8656da7f64c2de9fd0a.svg"},457115:function(e,t,n){e.exports=n.p+"3f59286a4b091901280f.svg"},216522:function(e,t,n){e.exports=n.p+"dfb79ed1298d227a3576.png"},157476:function(e,t,n){e.exports=n.p+"0ba41b0af0163799c811.png"},259219:function(e,t,n){e.exports=n.p+"5d072ffe53b7bf2459b8.svg"},345480:function(e,t,n){e.exports=n.p+"c527913228ef93f10398.svg"},236613:function(e,t,n){e.exports=n.p+"336772932d543bb9f918.svg"},368179:function(e,t,n){e.exports=n.p+"826b6a84605f7eb8a469.svg"},52518:function(e,t,n){e.exports=n.p+"4897b62c805a998b2e06.svg"},687351:function(e,t,n){e.exports=n.p+"1fa44283d21bed132137.svg"},420569:function(e,t,n){e.exports=n.p+"c20795680da160eea400.png"},364632:function(e,t,n){e.exports=n.p+"c9d93c20836c4e464602.svg"},586522:function(e,t,n){e.exports=n.p+"2f73c993cff7834d0533.svg"},837753:function(e,t,n){e.exports=n.p+"ea62352f07f106e59a84.svg"},217110:function(e,t,n){e.exports=n.p+"b9e7692a51417c4ae98b.svg"},741160:function(e,t,n){e.exports=n.p+"19f402fd7294ee15f759.png"},829972:function(e,t,n){e.exports=n.p+"72637aa9c1ec785944a4.svg"},31932:function(e,t,n){e.exports=n.p+"b1f53e44c514ab1930da.svg"},661278:function(e,t,n){e.exports=n.p+"b512a8f75a41236f3d73.svg"},882977:function(e,t,n){e.exports=n.p+"49f52ee29ece17b44818.svg"},297806:function(e,t,n){e.exports=n.p+"71918b2c7c4bd8476021.svg"},256532:function(e,t,n){e.exports=n.p+"009224c5d3d9ac3bb939.gif"},642301:function(e,t,n){e.exports=n.p+"3605a8d2d0d02ddc4192.png"},788901:function(e,t,n){e.exports=n.p+"a2698ffa4d2ae6d7ea42.png"},933662:function(e,t,n){e.exports=n.p+"63fb625147404ad6de71.png"},146714:function(e,t,n){e.exports=n.p+"255d6a99a55df43ad9e9.svg"},659429:function(e,t,n){n.d(t,{$:function(){return l}});var i=n(544891),s=n(570140),a=n(34756),r=n(981631);async function l(e){s.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_START",applicationId:e});try{let t=(await i.tn.get({url:r.ANM.APPLICATION_ACTIVITY_STATISTICS(e),oldFormErrors:!0})).body;return s.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t,applicationId:e}),t}catch(t){throw s.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL",applicationId:e}),new a.Z(t)}}},930118:function(e,t,n){n.d(t,{Y:function(){return s}});var i=n(570140);function s(e){i.Z.wait(()=>i.Z.dispatch({type:"APPLICATION_STORE_LOCATION_CHANGE",location:e}))}},120960:function(e,t,n){n.d(t,{N:function(){return s}});var i=n(570140);function s(e,t){i.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}},949389:function(e,t,n){n.d(t,{GO:function(){return s},K7:function(){return a},xm:function(){return r}});var i=n(570140);function s(e){i.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}function a(e){i.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})}function r(e){i.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}},943094:function(e,t,n){n.d(t,{W:function(){return l}});var i=n(481060),s=n(812206),a=n(710845),r=n(51025);function l(e,t,l){!function(e,t){let r=s.Z.getApplication(e);if(null==r){new a.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e));return}(0,i.openModalLazy)(async()=>{let{default:e}=await n.e("70061").then(n.bind(n,764998));return n=>e({game:r,onConfirmUninstall:t,...n})})}(e,()=>(0,r.pC)(e,t,l))}},287259:function(e,t,n){n.d(t,{JZ:function(){return a},fS:function(){return s},wX:function(){return r}});var i=n(570140);function s(e,t){i.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}function a(e){i.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}},325432:function(e,t,n){n.d(t,{RY:function(){return a},Tb:function(){return l},ec:function(){return o},iD:function(){return r}}),n(47120);var i=n(570140),s=n(830168);function a(e){s.Z.queryDirectory(e,(t,n)=>{if(null==t&&null!=n)i.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})})}function r(e){i.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function l(e,t){let{label:n,isDefault:s}=t;i.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:s})}function o(e){let t={},n=0;for(let a of e){if(null!=a&&"string"==typeof a)s.Z.queryDirectory(a,(s,r)=>{++n,null==s&&null!=r&&(t[a]=r),n===e.length&&i.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})})}}},920456:function(e,t,n){var i=n(544891),s=n(314897),a=n(981631);t.Z={setUserAchievement(e,t,n){let r=s.default.getId();return i.tn.put({url:a.ANM.USER_ACHIEVEMENTS_FOR_USER(r,e,t),body:{percent_complete:n},oldFormErrors:!0})},fetchForApplication:e=>i.tn.get({url:a.ANM.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then(e=>{let{body:t}=e;return t})}},785570:function(e,t,n){n.d(t,{M:function(){return s}});var i=n(570140);function s(e){i.Z.dispatch({type:"VIEW_HISTORY_MARK_VIEW",key:e})}},115849:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(512722),o=n.n(l),c=n(481060),d=n(194359),u=n(153124),_=n(657682),h=n(981631),E=n(420212),I=n(689938),m=n(527915),g=n(549856);let p={canSend:!1,hint:null,success:null,error:null},T=(0,u.hQ)(),S="".concat(T,"-decription"),C="".concat(T,"-error");function f(e,t){switch(t.type){case"RESET":return p;case"SUCCESS":return{...p,success:t.text};case"HINT":return{...p,canSend:!0,hint:t.text};case"ERROR":return{...e,canSend:!0,error:t.text}}}function N(){let e=s.createRef(),t=s.createRef(),[n,a]=s.useReducer(f,p),{canSend:l,hint:u,success:N,error:A}=n;return s.useEffect(()=>{null!=N&&(o()(null!=e.current,"Input is submitting when not mounted"),e.current.value="",e.current.focus())},[N,e]),(0,i.jsxs)("form",{onSubmit:t=>{t.preventDefault(),o()(null!=e.current,"Input is submitted when not mounted");let n=e.current.value.trim();!n.includes("#")&&n.startsWith("@")&&(n=n.substring(1));let i=(0,_.Zy)(n);if(null!=i){a({type:"ERROR",text:i});return}d.Z.sendRequest({discordTag:n,context:{location:"Add Friend"}}).then(()=>a({type:"SUCCESS",text:I.Z.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})}),e=>{var t;return a({type:"ERROR",text:(0,_.NF)(null===(t=e.body)||void 0===t?void 0:t.code,n)})})},autoComplete:"off",children:[(0,i.jsx)(c.FormText,{id:S,type:c.FormText.Types.DESCRIPTION,children:I.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION}),(0,i.jsx)(c.FocusRing,{focusTarget:e,ringTarget:t,ringClassName:m.ring,children:(0,i.jsxs)("div",{ref:t,className:r()(m.addFriendInputWrapper,{[m.success]:N,[m.error]:A}),children:[(0,i.jsx)(c.TextInput,{id:T,inputRef:e,className:m.addFriendInput,inputClassName:m.input,onKeyPress:t=>{let n=t.currentTarget.value;if(t.key!==E.mR.Enter){if(n.includes("#")){o()(null!=e.current,"Input is handling keypress when not mounted");let i=n.indexOf("#"),s=e.current.selectionStart,a=t.key===E.mR.Backspace||t.key===E.mR.ArrowRight||t.key===E.mR.ArrowLeft,r=t.which>=48&&t.which<=57;null!=s&&s>i&&/^(.+?#\d{4})$/.test(n)&&!a?t.preventDefault():null!=s&&s>i&&!r&&!a&&t.preventDefault()}}},onChange:e=>{if(e.length<=0){a({type:"RESET"});return}let t="",[,n]=e.split("#");null!=n&&(t=e+h.LYt.slice(null!=n?n.length+1:0)),a({type:"HINT",text:t})},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-form-type":"other","data-lpignore":!0,"data-1p-ignore":!0,placeholder:I.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION,"aria-label":I.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION,"aria-invalid":null!=A||void 0,"aria-describedby":null!=A?C:S}),null!=u&&(0,i.jsx)("div",{className:m.addFriendHint,"aria-hidden":!0,children:u}),(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,disabled:!l,type:"submit",children:I.Z.Messages.ADD_FRIEND_BUTTON})]})}),null!=A&&(0,i.jsx)(c.FormText,{role:"alert",id:C,type:c.FormText.Types.ERROR,className:g.marginTop8,children:A}),null!=N&&(0,i.jsx)(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:g.marginTop8,children:N})]})}},176299:function(e,t,n){n.d(t,{Z:function(){return eF}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(266067),o=n(990547),c=n(608787),d=n(873546),u=n(442837),_=n(481060),h=n(711237),E=n(532835),I=n(290297),m=n(918854),g=n(279240),p=n(765717),T=n(358221),S=n(823748),C=n(626421),f=n(118379),N=n(652515),A=n(544978),Z=n(194729),L=n(668940),v=n(831565),O=n(724383),R=n(705334),x=n(372900),b=n(6039),P=n(637853),M=n(326145),D=n(269675),y=n(242601),j=n(416568),U=n(613609),G=n(160404),k=n(225675),w=n(745052),B=n(285865),H=n(659971),V=n(720734),F=n(840780),Y=n(235555),W=n(746508),z=n(179742),K=n(270759),q=n(918701),Q=n(210724),X=n(905423),J=n(304445),$=n(210887),ee=n(592125),et=n(271383),en=n(430824),ei=n(944486),es=n(933429),ea=n(823379),er=n(709054),el=n(792125),eo=n(409292),ec=n(316173),ed=n(256638),eu=n(663701),e_=n(410575),eh=n(425369),eE=n(715702),eI=n(981631),em=n(176505),eg=n(290511),ep=n(689938),eT=n(171200);let eS=()=>(0,i.jsx)("div",{className:eT.loader,children:(0,i.jsx)(_.Spinner,{})}),eC=(0,c.Un)({createPromise:()=>n.e("68614").then(n.bind(n,650788)),webpackId:650788,name:"GuildShopPage",renderLoader:eS}),ef=(0,c.Un)({createPromise:()=>n.e("44798").then(n.bind(n,998420)),webpackId:998420,name:"GuildMemberApplicationReview",renderLoader:eS}),eN=(0,c.Un)({createPromise:()=>n.e("60493").then(n.bind(n,231588)),webpackId:231588,name:"GuildHomePage",renderLoader:eS}),eA=(0,c.Un)({createPromise:()=>Promise.all([n.e("85552"),n.e("44400")]).then(n.bind(n,545918)),webpackId:545918,name:"MemberSafetyPage",renderLoader:eS}),eZ=(0,c.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("44156"),n.e("58227"),n.e("38359"),n.e("21013")]).then(n.bind(n,603072)),webpackId:603072,name:"ChannelsAndRolesPage",renderLoader:eS}),eL=(0,c.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("44156"),n.e("19878"),n.e("38359"),n.e("91553")]).then(n.bind(n,599263)),webpackId:599263,name:"GuildOnboardingPage",renderLoader:eS}),ev=e=>{let{match:t}=e,n=(0,u.e7)([ee.Z,ei.Z],()=>{let e=ei.Z.getChannelId();return ee.Z.getChannel(e)}),{guildId:s,channelId:a,messageId:r}=t.params,l=(0,u.e7)([en.Z],()=>en.Z.getGuild(s)),o=(0,u.e7)([et.ZP],()=>null==s?null:et.ZP.getSelfMember(s)),c=(0,u.e7)([G.Z],()=>{if(null==s)return;let e=G.Z.getData(s);if((null==e?void 0:e.type)===k.z.SERVER_SHOP)switch(e.initialTab){case"role_subscriptions":return A.y.GUILD_ROLE_SUBSCRIPTIONS;case"guild_products":return A.y.GUILD_PRODUCTS;default:return}}),d=(0,N.C4)(s,"channel_renderer");if(null!=s&&null!=a&&(0,em.AB)(a))switch(a){case em.oC.ROLE_SUBSCRIPTIONS:return d?(0,i.jsx)(eC,{guildId:s,initialTab:A.y.GUILD_ROLE_SUBSCRIPTIONS}):(0,i.jsx)(D.Z,{guildId:s});case em.oC.GUILD_SHOP:return(0,i.jsx)(eC,{guildId:s,productId:r,initialTab:c});case em.oC.MEMBER_APPLICATIONS:return(0,i.jsx)(ef,{guildId:s});case em.oC.GUILD_HOME:return(0,i.jsx)(eN,{guildId:s});case em.oC.CHANNEL_BROWSER:return(0,i.jsx)(eZ,{guildId:s,selectedSection:eg.l7.BROWSE});case em.oC.GUILD_ONBOARDING:return(0,i.jsx)(eL,{guildId:s});case em.oC.CUSTOMIZE_COMMUNITY:return(0,i.jsx)(eZ,{guildId:s,selectedSection:eg.l7.CUSTOMIZE});case em.oC.MEMBER_SAFETY:return(0,i.jsx)(eA,{guildId:s});default:(0,ea.vE)(a)}if((0,P.p3)(l,o))return(0,i.jsx)(M.Z,{guildId:s,channelId:a});if((null==n?void 0:n.type)===eI.d4z.GUILD_STORE){let e=er.default.cast(t.params.messageId);return(0,i.jsx)(eo.Z,{channel:n,inputSkuId:e},n.id)}return(0,i.jsx)(S.Z,{})},eO=s.memo(function(){let{guildId:e,channelId:t}=(0,X.Z)(),n=(0,u.e7)([ei.Z],()=>null!=t?t:ei.Z.getChannelId(e)),s=(0,v.Y$)("sidebar");if(function(){return window.location.pathname.startsWith(eI.Z5c.GLOBAL_DISCOVERY)}()||function(){return window.location.pathname.startsWith(eI.Z5c.GUILD_DISCOVERY)||(0,q.OG)()}())return s?(0,i.jsx)(R._,{}):(0,i.jsx)(L.Z,{});return null!=e?(0,i.jsx)(y.Z,{selectedChannelId:n,guildId:e},e):(0,i.jsx)(eu.Z,{})});function eR(e){let t=(0,X.Z)(e=>{let{guildId:t}=e;return t});return(0,i.jsx)(F.Z,{...e,guildId:t})}let ex=e=>(0,i.jsx)(ev,{...e}),eb=e=>{let t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return(0,v.Sv)("sidebar")?(0,i.jsx)(O.A,{}):(0,i.jsx)(Z.Z,{searchRoute:t})},eP=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(b.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},eM=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(U.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},eD=()=>(0,i.jsx)(eh.Z,{}),ey=()=>(0,i.jsx)(eE.Z,{}),ej=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return(0,i.jsx)(f.Z,{isFullScreen:e,...t})}},eU=e=>(0,i.jsx)(g.Z,{...e}),eG=()=>(0,i.jsx)(m.Z,{}),ek=()=>(0,i.jsx)(K.Z,{}),ew=()=>(0,i.jsx)(w.Z,{}),eB=()=>(0,i.jsx)(z.Z,{}),eH=e=>{let{match:t}=e;switch(t.params.feature){case"addFriends":return(0,i.jsx)(K.Z,{initialSection:eI.pJs.ADD_FRIEND});case"pendingFriends":return(0,i.jsx)(K.Z,{initialSection:eI.pJs.PENDING});case"sessionManagement":return(0,i.jsx)(l.l_,{to:eI.Z5c.SETTINGS("sessions")});case"connections":return(0,i.jsx)(l.l_,{to:{pathname:eI.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,i.jsx)(l.l_,{to:eI.Z5c.FAMILY_CENTER});case"account-standing":return(0,i.jsx)(l.l_,{to:eI.Z5c.SETTINGS("privacy-and-safety","account-standing")});case"authorized-apps":return(0,i.jsx)(l.l_,{to:eI.Z5c.SETTINGS("authorized-apps")});case"open-shop":return(0,i.jsx)(l.l_,{to:eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN});default:return(0,i.jsx)(l.l_,{to:eI.Z5c.ME})}};function eV(e){let{hasNotice:t,sidebarTheme:n,hideSidebar:s}=e;(0,E.t)(!0);let a="app view user trigger debugging";h.R6.useExperiment({location:a},{autoTrackExposure:!1}),h.R6.trackExposure({location:a});let l=(0,u.e7)([T.Z],()=>T.Z.isFullscreenInContext());return s?null:(0,i.jsxs)("div",{className:r()(eT.sidebar,(0,el.Q)(n),{[eT.hasNotice]:t,[eT.fullWidth]:d.tq,[eT.hidden]:l}),children:[(0,i.jsx)(eO,{}),(0,i.jsxs)("section",{className:eT.panels,"aria-label":ep.Z.Messages.ACCOUNT_A11Y_LABEL,children:[(0,i.jsx)(Q.Z,{}),(0,i.jsx)(Y.Z,{}),(0,i.jsx)(e_.Z,{section:eI.jXE.ACTIVITY_PANEL,children:(0,i.jsx)(eR,{className:eT.activityPanel})}),(0,i.jsx)(e_.Z,{section:eI.jXE.RTC_CONNECTION_PANEL,children:(0,i.jsx)(W.Z,{})}),(0,i.jsx)(e_.Z,{section:eI.jXE.ACCOUNT_PANEL,children:(0,i.jsx)(V.Z,{})})]}),(0,i.jsx)(ec.Z,{})]})}function eF(){var e;let t=(0,u.e7)([es.Z],()=>es.Z.hasNotice()),n=(0,u.e7)([$.Z],()=>$.Z.darkSidebar?eI.BRd.DARK:void 0),a=function(){let[e,t]=s.useState(()=>window.location.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION("")));return s.useEffect(()=>J.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION("")))}),[]),e}(),r=function(){let[e,t]=s.useState(()=>window.location.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")));return s.useEffect(()=>J.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}),[]),e}(),c=function(){var e;let t=(0,l.TH)();return(null===(e=(0,l.LX)(t.pathname,eI.Z5c.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)===!0}(),_=function(){var e;let t=(0,l.TH)();return(null===(e=(0,l.LX)(t.pathname,eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN))||void 0===e?void 0:e.isExact)===!0}(),h=(0,u.e7)([H.Z],()=>H.Z.getIsOpen()),E=(0,l.$B)([eI.Z5c.CHANNEL(eI.ME,":channelId"),eI.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")]),m=(null==E?void 0:null===(e=E.params)||void 0===e?void 0:e.channelId)===em.oC.GUILD_ONBOARDING,g=s.useCallback(()=>B.Z.openSidebar(),[]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:eT.container,children:[h&&!_&&(0,i.jsx)(j.Z,{className:eT.guilds,themeOverride:n}),(0,i.jsx)(x.Z.Provider,{value:(null==E?void 0:E.params.guildId)===eI.ME?void 0:null==E?void 0:E.params.guildId,children:(0,i.jsxs)("div",{className:eT.base,children:[d.tq?null:(0,i.jsx)(ed.Z,{}),(0,i.jsxs)("div",{className:eT.content,children:[(0,i.jsx)(C.Z,{}),(0,i.jsx)(eV,{hasNotice:t,sidebarTheme:n,hideSidebar:a||r||c||_||m||!h}),(0,i.jsx)(I.Z.Provider,{value:g,children:(0,i.jsxs)(l.rs,{children:[(0,i.jsx)(p.Z,{path:eI.Z5c.ACTIVITY,disableTrack:!0,children:(0,i.jsx)(l.l_,{to:eI.Z5c.ME})}),(0,i.jsx)(p.Z,{path:eI.Z5c.ACTIVITIES_HAPPENING_NOW,render:eG,impressionName:o.ImpressionNames.ACTIVITIES}),(0,i.jsx)(p.Z,{path:eI.Z5c.ACTIVITY_DETAILS(":applicationId"),render:eU,impressionName:o.ImpressionNames.ACTIVITY_DETAILS,impressionProperties:e=>{let{computedMatch:t}=e;return{application_id:t.params.applicationId}}}),(0,i.jsx)(p.Z,{path:eI.Z5c.ACTIVITIES,render:eG,impressionName:o.ImpressionNames.ACTIVITIES}),(0,i.jsx)(p.Z,{path:eI.Z5c.APPLICATION_LIBRARY,render:eD,impressionName:o.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.APPLICATION_STORE,render:ey,impressionName:o.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,render:ej(!0),disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.COLLECTIBLES_SHOP,render:ej(!1),disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),render:ej(!1),disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.MESSAGE_REQUESTS,render:ew,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.FAMILY_CENTER,render:eB,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.ME,exact:!0,render:ek,impressionName:o.ImpressionNames.FRIENDS,disableTrack:!0}),(0,i.jsx)(p.Z,{path:[eI.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId",":messageId?"),eI.Z5c.CHANNEL(eI.ME,":channelId"),eI.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")],render:ex,impressionName:o.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.GLOBAL_DISCOVERY,render:e=>{let{location:t}=e;return eb(t.search)},impressionName:o.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.QUEST_HOME,render:e=>{let{location:t}=e;return eb(t.search)},impressionName:o.ImpressionNames.QUEST_HOME,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.GUILD_DISCOVERY,render:e=>{let{location:t}=e;return eb(t.search)},impressionName:o.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:eP,impressionName:o.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,i.jsx)(p.Z,{path:eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:eM,impressionName:o.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:e=>{let{computedMatch:t}=e;return{has_invite:void 0!==t.params.inviteCode}}}),(0,i.jsx)(p.Z,{path:eI.Z5c.FEATURE(":feature"),exact:!0,render:eH,disableTrack:!0})]})})]})]})})]})})}},409292:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(266067),r=n(442837),l=n(493683),o=n(112724),c=n(108427),d=n(184107),u=n(410575),_=n(613311),h=n(601564),E=n(981631),I=n(256964);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends s.Component{componentDidMount(){this.fetchStoreListing(),(0,c.e)("channel_store_listing")}render(){return null!=this.props.skuId?(0,i.jsx)(u.Z,{page:E.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,i.jsx)("div",{className:I.applicationStore,children:(0,i.jsx)(a.AW,{path:"*",render:this.renderApplicationListing})})}):null}constructor(...e){super(...e),m(this,"fetchStoreListing",e=>{let{channel:t,inputSkuId:n}=this.props;return null!=e?l.Z.fetchChannelStoreListing(t.id,e):null!=n?l.Z.fetchChannelStoreListing(t.id,n):l.Z.fetchChannelStoreListing(t.id)}),m(this,"renderApplicationListing",e=>{let{location:t}=e,{channel:n,skuId:s,width:a}=this.props;return(0,i.jsx)(_.Z,{channel:n,inputSkuId:s,fetchStoreListing:this.fetchStoreListing,location:t,pageSize:(0,h.getPageSize)(a)})})}}t.Z=(0,o.Z)(r.ZP.connectStores([d.Z],e=>{let{channel:t,inputSkuId:n}=e;return{skuId:null!=n?n:d.Z.getSkuIdForChannel(t.id)}})(g))},316173:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(433517),c=n(481060),d=n(304761),u=n(865427),_=n(820254),h=n(689938),E=n(906515);let I="isHideDevBanner";t.Z=()=>{var e;let[t,n]=(0,s.useState)((null===(e=o.K.get(I,"false"))||void 0===e?void 0:e.toString())==="true"),a=(0,l.e7)([d.C],()=>{var e;return(0,u.fD)()?null===(e=d.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null});if(t)return null;let m=()=>{o.K.set(I,!0),n(!0)},g=()=>(0,i.jsx)(c.Clickable,{onClick:m,className:E.closeButton,"aria-label":h.Z.Messages.DISMISS,children:(0,i.jsx)(c.CloseSmallIcon,{size:"md",color:"currentColor",className:E.closeIcon})});return null!=a?(0,i.jsxs)("div",{className:r()(E.devBanner,E.buildOverride),children:[(0,i.jsx)(_.Z,{className:E.icon}),h.Z.Messages.BUILD_OVERRIDE,(0,i.jsx)(g,{})]}):"staging"===window.GLOBAL_ENV.RELEASE_CHANNEL?(0,i.jsxs)("div",{className:r()(E.devBanner,E.staging),children:[(0,i.jsx)(_.Z,{className:E.icon}),h.Z.Messages.DEV_NOTICE_STAGING.format({buildNumber:"309028"}),(0,i.jsx)(g,{})]}):null}},663701:function(e,t,n){n.d(t,{Z:function(){return ea}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(143927),o=n(91192),c=n(873546),d=n(442837),u=n(704215),_=n(952265),h=n(481060),E=n(493683),I=n(348600),m=n(257968),g=n(367907),p=n(770471),T=n(158631),S=n(143614),C=n(463119),f=n(377171),N=n(243778),A=n(922409),Z=n(899740),L=n(28476),v=n(880257),O=n(631885),R=n(457396),x=n(51596),b=n(905423),P=n(557494),M=n(210887),D=n(695346),y=n(283595),j=n(699516),U=n(923834),G=n(55563),k=n(774343),w=n(517802),B=n(436088),H=n(814225),V=n(515753),F=n(831218),Y=n(339149),W=n(981631),z=n(689938),K=n(406955);let q=e=>{let{selected:t,...n}=e,s=(0,o.JA)("friends"),a=(0,d.e7)([j.Z],()=>j.Z.getPendingCount()),r=(0,S.Z)(),{canViewBroadcasts:l}=p.Z.useExperiment({location:"friends_tab_no_track"}),c=(0,T.ZP)();return(0,i.jsxs)(V.Qj,{selected:t,route:W.Z5c.FRIENDS,icon:h.FriendsIcon,text:z.Z.Messages.FRIENDS,onClick:()=>{g.ZP.trackWithMetadata(W.rMx.BROADCAST_LIST_VISITED,{num_active_broadcasts:r.length,friends_tab_clicked:!0,is_broadcasting:c})},...n,...s,children:[r.length>0&&l&&(0,i.jsx)(h.TextBadge,{color:f.Z.BG_BRAND,text:(0,i.jsxs)("div",{className:K.broadcastingBadge,children:[(0,i.jsx)(B.Z,{className:K.broadcastingIcon}),(0,i.jsx)(h.Text,{variant:"text-xs/semibold",color:"always-white",children:r.length.toLocaleString()})]})}),a>0?(0,i.jsx)(h.NumberBadge,{count:a}):null]})},Q=e=>{let{selected:t,hideGameUpdateProgressIndicator:n,...s}=e,a=(0,o.JA)("library");return(0,i.jsx)(V.Qj,{selected:t,route:W.Z5c.APPLICATION_LIBRARY,icon:h.InventoryIcon,text:z.Z.Messages.LIBRARY,...s,...a,children:(0,i.jsx)(Y.Z,{className:r()(K.downloadProgressCircle,{[K.hideGameUpdateProgressIndicator]:n})})})},X=e=>{let{selected:t,route:n,locationState:s,...a}=e,l=(0,o.JA)("activities"),c=(0,d.e7)([M.Z],()=>M.Z.getState().theme),u=(0,m.p)();return(0,i.jsx)(V.Qj,{selected:t,route:n,icon:(0,h.makeIconCompat)(w.Z),iconClassName:r()(K.activitiesBirthdayIcon,{[K.activitiesBirthdayIconLight]:"light"===c}),text:z.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_TAB_TITLE,locationState:s,...a,...l,children:u>0?(0,i.jsx)(h.NumberBadge,{count:u}):null})},J=()=>{let e=(0,Z.q)(),t=(0,Z.T)();return e>0?(0,i.jsx)(h.NumberBadge,{count:e,color:0===t?f.Z.ICON_MUTED:void 0}):null},$=e=>{let{selected:t}=e,n=(0,o.JA)("messageRequests"),{channelId:s}=(0,A._)();if(!(0,L.a)())return null;let a=null==s?void 0:()=>E.Z.preload(W.ME,s);return(0,i.jsx)(V.Qj,{selected:t,route:W.Z5c.MESSAGE_REQUESTS,icon:h.EnvelopeIcon,text:z.Z.Messages.MESSAGE_REQUESTS,onClick:a,...n,children:(0,i.jsx)(J,{})})},ee=e=>{let{selected:t}=e,n=z.Z.Messages.FAMILY_CENTER_SIDEBAR_TITLE,a=(0,o.JA)("family-center"),r=D.Ex.useSetting(),l=(0,v.Z)(),[c,d]=s.useState(!0);return r&&l?(0,i.jsx)(V.Qj,{selected:t,route:W.Z5c.FAMILY_CENTER,icon:h.GroupIcon,text:n,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},interactiveClassName:K.familyCenterLinkButton,...a,children:(0,i.jsx)(et,{isParentHovered:c})}):null},et=e=>{let{isParentHovered:t}=e,s=(0,O.gU)();return t?(0,i.jsx)(V.PZ,{onClick:()=>{(0,_.ZD)(async()=>{let{default:e}=await n.e("44153").then(n.bind(n,760949));return t=>(0,i.jsx)(e,{...t})})},"aria-label":z.Z.Messages.CLOSE}):s>0?(0,i.jsx)("div",{className:K.familyCenterPendingBadge,children:(0,i.jsx)(h.NumberBadge,{count:s})}):(0,i.jsx)(N.Z,{contentTypes:[u.z.FAMILY_CENTER_NEW_BADGE],children:e=>{let{visibleContent:t}=e;return t===u.z.FAMILY_CENTER_NEW_BADGE?(0,i.jsx)(h.TextBadge,{text:z.Z.Messages.NEW,color:f.Z.BG_BRAND}):null}})},en=()=>(0,x.$Z)("DM_SEARCH");function ei(e){switch(e){case W.Z5c.APPLICATION_LIBRARY:return W.ZY5.LIBRARY;case W.Z5c.FRIENDS:return W.ZY5.FRIENDS_LIST;case W.Z5c.COLLECTIBLES_SHOP:return W.ZY5.COLLECTIBLES_SHOP}if(e.startsWith(W.Z5c.APPLICATION_STORE))return e===W.Z5c.APPLICATION_STORE?W.ZY5.STORE_DIRECTORY_HOME:e.startsWith(W.Z5c.APPLICATION_STORE)?W.ZY5.STORE_DIRECTORY_BROWSE:W.ZY5.STORE_LISTING;return W.ZY5.DM_CHANNEL}let es=e=>{let{showLibrary:t,hasLibraryApplication:n,homeLink:s,storeLink:a,premiumTabSelected:o}=e,[d,u]=(0,b.Z)(e=>{let{channelId:t,path:n}=e;return[t,n]},l.Z),{enabled:_}=I.Z.useExperiment({location:"a718d6_2"},{autoTrackExposure:!0});return(0,i.jsxs)("nav",{className:K.privateChannels,"aria-label":z.Z.Messages.PRIVATE_CHANNELS_A11Y_LABEL,children:[(0,i.jsx)(P.Z,{tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,i.jsx)("div",{className:r()(K.searchBar,{[K.themedHeaderMobile]:c.tq}),children:(0,i.jsx)("button",{type:"button",className:r()(K.searchBarComponent,{[K.themedSearchBarMobile]:c.tq}),onClick:en,children:z.Z.Messages.DM_SEARCH_PLACEHOLDER})})}),(0,i.jsxs)(F.Z,{...e,version:u,selectedChannelId:d,showDMHeader:!0,children:[(0,i.jsx)(q,{selected:null!=u?u===W.Z5c.FRIENDS:s===W.Z5c.FRIENDS},"friends"),n&&t?(0,i.jsx)(Q,{selected:null==u?null!=s&&s.startsWith(W.Z5c.APPLICATION_LIBRARY):u.startsWith(W.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:s===W.Z5c.APPLICATION_LIBRARY},"library"):null,(0,i.jsx)(R.g,{selected:null==u?o:u.startsWith(W.Z5c.APPLICATION_STORE),route:null==a||location.pathname.startsWith(W.Z5c.ACTIVITIES)||location.pathname.startsWith(W.Z5c.APPLICATION_STORE)?W.Z5c.APPLICATION_STORE:a,locationState:{analyticsSource:{page:ei(s),section:W.jXE.NAVIGATION,object:W.qAy.NAVIGATION_LINK}}},"premium"),_?(0,i.jsx)(X,{selected:null!=u&&u.startsWith(W.Z5c.ACTIVITIES)||null!=s&&s.startsWith(W.Z5c.ACTIVITIES),route:W.Z5c.ACTIVITIES,locationState:{analyticsSource:{page:ei(s),section:W.jXE.NAVIGATION,object:W.qAy.NAVIGATION_LINK}}},"activities"):null,(0,i.jsx)($,{selected:null==u?null!=s&&s.startsWith(W.Z5c.MESSAGE_REQUESTS):u===W.Z5c.MESSAGE_REQUESTS},"message-requests"),(0,i.jsx)(C.i,{selected:u===W.Z5c.COLLECTIBLES_SHOP||(null==s?void 0:s.startsWith(W.Z5c.COLLECTIBLES_SHOP)),locationState:{analyticsSource:{page:ei(s),section:W.jXE.NAVIGATION,object:W.qAy.NAVIGATION_LINK}}},"discord-shop"),(0,i.jsx)(ee,{selected:null!=s&&s.startsWith(W.Z5c.FAMILY_CENTER)||null!=u&&u.startsWith(W.Z5c.FAMILY_CENTER)},"family-center")]})]})};function ea(){let e=(0,d.e7)([k.Z],()=>k.Z.getHomeLink()),t=(0,d.e7)([G.Z],()=>{if(e===W.Z5c.APPLICATION_STORE)return!0;let t=(0,H.ZK)(e);if(null!=t){var n,i;return null!==(i=null===(n=G.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==i&&i}return!1},[e]),n=!D.bm.useSetting(),{theme:s}=(0,d.cj)([M.Z],()=>({theme:M.Z.theme})),a=(0,d.e7)([y.Z],()=>y.Z.hasLibraryApplication()),r=(0,d.e7)([U.Z],()=>U.Z.getCurrentPath());return(0,i.jsx)(es,{theme:s,showLibrary:n,hasLibraryApplication:a,storeLink:r,homeLink:e,premiumTabSelected:t})}},457094:function(e,t,n){n.r(t),n(47120);var i=n(735250),s=n(470079),a=n(593473),r=n(266067),l=n(442837),o=n(481060),c=n(893776),d=n(943094),u=n(749210),_=n(287734),h=n(401430),E=n(230711),I=n(607070),m=n(627845),g=n(185666),p=n(503737),T=n(513202),S=n(318891),C=n(687751),f=n(912471),N=n(100527),A=n(838134),Z=n(77987),L=n(679891),v=n(491575),O=n(314533),R=n(935347),x=n(560067),b=n(823169),P=n(620360),M=n(96051),D=n(750995),y=n(696287),j=n(408026),U=n(763916),G=n(306721),k=n(531551),w=n(38618),B=n(972830),H=n(981283),V=n(584233),F=n(15274),Y=n(434404),W=n(543842),z=n(879064),K=n(315964),q=n(495784),Q=n(975533),X=n(377400),J=n(285865),$=n(659971),ee=n(929809),et=n(122333),en=n(960275),ei=n(818765),es=n(678492),ea=n(269089),er=n(380570),el=n(837689),eo=n(367207),ec=n(489977),ed=n(329557),eu=n(304445),e_=n(893607),eh=n(703656),eE=n(298969),eI=n(719256),em=n(6025),eg=n(897473),ep=n(377368),eT=n(262702),eS=n(639033),eC=n(479313),ef=n(911560),eN=n(703016),eA=n(171368),eZ=n(429974),eL=n(332754),ev=n(507468),eO=n(357269),eR=n(282506),ex=n(444961),eb=n(314897),eP=n(433355),eM=n(592125),eD=n(896797),ey=n(430824),ej=n(819640),eU=n(283595),eG=n(944486),ek=n(914010),ew=n(695103),eB=n(241890),eH=n(897607),eV=n(417363),eF=n(900974),eY=n(358085),eW=n(998502),ez=n(346329),eK=n(981631),eq=n(176505),eQ=n(701476);function eX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(117240),n(801077),n(967368),n(272053),n(974180),n(574254),n(551428),n(55563),n(455173),n(882029),n(959457),n(653255),n(663389),n(25990),n(778825),n(999382),n(388610),n(533947),n(277053),n(371398),n(141233),n(471073),n(628566);let eJ=!1;(0,f.DL)(),l.ZP.initialize(),eE.Z.loadServer(),eY.isPlatformEmbedded&&(eW.ZP.on("USER_SETTINGS_OPEN",()=>{!ej.Z.getLayers().includes(eK.S9g.USER_SETTINGS)&&E.Z.open(eK.oAB.ACCOUNT)}),eW.ZP.on("LAUNCH_APPLICATION",(e,t)=>{let n=eU.Z.getActiveLibraryApplication(t);ez.playApplication(t,n,{analyticsParams:{location:{page:eK.ZY5.DIRECT,object:eK.qAy.WEB_URL}}})}));let e$=l.ZP.connectStores([w.Z,eD.Z,eb.default],()=>({isConnected:w.Z.isConnected(),defaultRoute:eD.Z.defaultRoute,defaultRouteFallback:eD.Z.fallbackRoute,token:eb.default.getToken()}))(class extends s.Component{componentDidMount(){let{match:e}=this.props;null!=e&&null!=e.params.inviteCode&&(0,V.x)({code:e.params.inviteCode})}render(){let{isConnected:e,defaultRoute:t,token:n,defaultRouteFallback:s}=this.props;if(null==n)return(0,i.jsx)(r.l_,{to:eK.Z5c.DEFAULT_LOGGED_OUT});if(e){let e=e2(t);return null==e||(e.params.guildId===eK.ME||null!=ey.Z.getGuild(e.params.guildId))&&null!=eM.Z.getChannel(e.params.channelId)?(0,i.jsx)(r.l_,{to:t}):(0,i.jsx)(r.l_,{to:s})}return null}}),e0=(0,Z.e)(v.Z,null,{passProps:!1}),e1=(0,Z.e)(A.default,null,{passProps:!1}),e4=[eK.Z5c.GUILD_BOOSTING_MARKETING(":guildId"),...Array.from(eq.Vg).map(e=>eK.Z5c.CHANNEL(":guildId",e))];function e7(e){let{guildId:t,channelId:n=null,messageId:i=null,threadId:s=null}=e.params;return{guildId:null!=t?t:eK.ME,channelId:n,messageId:i,threadId:s}}let e5=[{path:[eK.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render(e){let{match:t}=e;return(0,i.jsx)(e$,{match:t})},isSessionRequired:!0},{path:[eK.Z5c.APP],render:()=>(0,i.jsx)(e$,{}),isSessionRequired:!0},{path:[eK.Z5c.USERS(":id")],render:function(e){let{match:t,location:n}=e,{friend_token:s}=(0,a.parse)(n.search),{id:l}=t.params;return(0,B.h)(()=>(0,eA.openUserProfileModal)({userId:l,guildId:eK.ME,friendToken:s,sourceAnalyticsLocations:[N.Z.URI_SCHEME],analyticsLocation:{section:eK.jXE.DIRECT_ROUTE_ACCESS}})),(0,i.jsx)(r.l_,{to:eD.Z.defaultRoute})}},{path:[eK.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){let{match:t}=e,{gameId:n,action:s}=t.params;return eV.Z.whenInitialized(()=>{eU.Z.whenInitialized(()=>{switch(s){case"launch":{let e=eU.Z.getActiveLibraryApplication(n);if(null==e)return;ez.playApplication(e.id,e,{analyticsParams:{location:{page:eK.ZY5.DIRECT,object:eK.qAy.WEB_URL}}});break}case"test-mode":ew.Z.whenInitialized(()=>h.Wt(n));break;case"uninstall":{let e=eU.Z.getActiveLibraryApplication(n);if(null==e)return;(0,d.W)(e.id,e.branchId,eK.Sbl.URI_SCHEME)}}})}),(0,i.jsx)(r.l_,{to:eK.Z5c.APPLICATION_LIBRARY})}},{path:[eK.Z5c.GUILD_CREATE],render:function(){return(0,B.h)(()=>x.Z.openCreateGuildModal({location:"External link"})),(0,i.jsx)(r.l_,{to:eD.Z.defaultRoute})}},{path:[eK.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){let{match:t}=e,{section:n,subsection:s}=t.params,l=(0,a.parse)(location.search).feature;return(0,B.h)(()=>z.v({section:(0,W.Z)(eK.pNK,n),subsection:(0,W.Z)(eK.KsC,s),feature:l})),(0,i.jsx)(r.l_,{to:eD.Z.defaultRoute})},isSessionRequired:!0},{path:[eK.Z5c.SETTINGS(":section",":subsection?")],render:function(e){let{location:t}=e,n=(0,eO.default)(t.pathname);return null!=n&&(0,B.h)(()=>E.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})),(0,i.jsx)(r.l_,{to:eD.Z.defaultRoute})},isSessionRequired:!0},{path:[eK.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(":guildId")],render:function(e){let{match:t}=e,{guildId:s}=t.params;return(0,B.h)(()=>{(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("12876")]).then(n.bind(n,751212));return t=>(0,i.jsx)(e,{...t,guildId:s})})}),(0,i.jsx)(r.l_,{to:eK.Z5c.CHANNEL(s)})},isSessionRequired:!0},{path:[eK.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){return(0,B.h)(()=>E.Z.open(eK.oAB.INVENTORY)),(0,i.jsx)(r.l_,{to:eD.Z.defaultRoute})},isSessionRequired:!0},{path:[eK.Z5c.WELCOME(":guildId?",":channelId?")],render:function(e){let{match:t}=e,{guildId:n,channelId:s}=t.params;(0,ee.c)(eQ.M5.MARKETING_UNCLAIMED);let a=eK.Z5c.CHANNEL(n,s);return(0,i.jsx)(r.l_,{to:a})},isSessionRequired:!0},{path:[eK.Z5c.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:function(e){let{match:t}=e,{guildId:n,guildEventId:s}=t.params;return(0,B.h)(()=>{(0,F.bO)({eventId:s})}),(0,i.jsx)(r.l_,{to:eK.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[eK.Z5c.GUILD_SETTINGS(":guildId",":section?",":subsection?")],render:function(e){let{match:t}=e,{guildId:n,section:s,subsection:a}=t.params;return(0,B.h)(()=>{Y.Z.open(n,(0,W.Z)(eK.pNK,s),void 0,(0,W.Z)(eK.KsC,a))}),(0,i.jsx)(r.l_,{to:eK.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[eK.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId",":messageId?"),eK.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),eK.Z5c.ACTIVITY,eK.Z5c.ACTIVITIES,eK.Z5c.ACTIVITIES_HAPPENING_NOW,eK.Z5c.ACTIVITY_DETAILS(":applicationId"),eK.Z5c.APPLICATION_LIBRARY,eK.Z5c.APPLICATION_STORE,eK.Z5c.MESSAGE_REQUESTS,eK.Z5c.COLLECTIBLES_SHOP,eK.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,eK.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),eK.Z5c.GUILD_DISCOVERY,eK.Z5c.GLOBAL_DISCOVERY,eK.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),eK.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),eK.Z5c.GUILD_BOOSTING_MARKETING(":guildId"),eK.Z5c.FEATURE(":feature"),eK.Z5c.FAMILY_CENTER],render:e0,isSessionRequired:!0,isChatRoute:!0},{path:[eK.Z5c.APPLICATION_DIRECTORY],render:e1,isSessionRequired:!0}];function e2(e){for(let{path:t,isChatRoute:n}of e5){if(!n)continue;let i=(0,r.LX)(e,{path:t});if(null!=i)return i}return null}function e3(e){let{channelId:t,guildId:n,pathname:i}=e;if(!w.Z.isConnected())return;let{location:s}=(0,eh.s1)();if(s.pathname===i)null==eM.Z.getChannel(t)?(0,eh.dL)(eK.Z5c.CHANNEL(n)):(0,eh.dL)(i)}class e6 extends s.PureComponent{componentDidMount(){eW.ZP.setZoomFactor(I.Z.zoom),eE.Z.init(),L.Z.initialize(),er.Z.initialize(),j.Z.initialize(),ex.Z.initialize(),U.Z.initialize(),eo.Z.initialize(),Q.Z.initialize(),m.Z.init(),k.Z.init(),G.Z.init(),et.Z.initialize(),C.Z.initialize(),D.Z.initialize(),ec.Z.initialize(),S.ZP.initialize(),eR.Z.initialize(),ea.Z.initialize(),T.Z.initialize(),H.Z.init(),K.Z.init(),eH.Z.init(),eF.Z.init(),p.Z.initialize(),eN.Z.init(),eB.Z.init(),eL.Z.init(),eT.Z.initialize(),eS.Z.initialize(),eZ.Z.initialize(),ev.Z.init(),M.Z.initialize(),g.Z.initialize(),eI.Z.initialize(),ep.Z.initialize(),ei.Z.initialize(),en.Z.initialize(),es.Z.initialize(),O.Z.initialize(),q.Z.init({hasModalOpen:o.hasAnyModalOpen,openModal:()=>(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})}),P.Z.init(),X.Z.initialize(),ed.Z.initialize(),el.Z.initialize(),b.Z.initialize(),this.rewriterUnlisten=eu.Z.addRouteRewriter(this.ensureChannelMatchesGuild),this.historyUnlisten=eu.Z.addRouteChangeListener(this.handleHistoryChange)}componentWillUnmount(){ex.Z.terminate(),eo.Z.terminate(),er.Z.terminate(),L.Z.terminate(),S.ZP.terminate(),eR.Z.terminate(),T.Z.terminate(),ec.Z.terminate(),ea.Z.terminate(),eZ.Z.terminate(),p.Z.terminate(),M.Z.terminate(),X.Z.terminate(),g.Z.terminate(),ed.Z.terminate(),eI.Z.terminate(),ep.Z.terminate(),ei.Z.terminate(),en.Z.terminate(),es.Z.terminate(),O.Z.terminate(),el.Z.terminate(),b.Z.terminate(),y.Z.terminate(),this.historyUnlisten(),this.rewriterUnlisten()}handleHistoryChange(e){let{pathname:t,search:n}=e;!function(e){if(w.Z.isConnected()||w.Z.isTryingToConnect())return;let t=eb.default.getToken();if(null!=t)null!=function(e){for(let{path:t,isSessionRequired:n}of e5){if(!n)continue;let i=(0,r.LX)(e,{path:t});if(null!=i)return i}return null}(e)&&c.Z.startSession(t)}(t),!function(e,t){let n=e2(e);if(null==n)return;let{guildId:i,channelId:s,messageId:l,threadId:o}=e7(n),c=(0,e_.S)(i),d=(0,e_.c)(s),h=(0,e_.c)(o),E=ek.Z.getGuildId(),I=E!==i;if(c&&I&&u.Z.selectGuild(i),c&&d){let n=eG.Z.getChannelId(E),r=n!==s;if(!eJ||I||r||null!=l){eJ=!0,_.default.selectChannel({guildId:i,channelId:s,messageId:l});let{summaryId:e}=(0,a.parse)(t);null!=e&&eC.ZP.setSelectedSummary(s,e)}if(null!=o&&h){let e=eP.ZP.getCurrentSidebarChannelId(n)!==o,t=null!=eP.ZP.getGuildSidebarState(i);if(null!=s&&null!=o&&e){if(t)(0,eh.dL)(eK.Z5c.CHANNEL(i,o,l));else{let e={type:eg.Ff.THREAD};null!=l&&(e.initialMessageId=l),em.Z.openThreadAsSidebar({guildId:i,baseChannelId:s,channelId:o,details:e})}}}else null!=s&&!r&&em.Z.closeChannelSidebar(s);let c=$.Z.getIsOpen();if(s===eq.oC.ROLE_SUBSCRIPTIONS)J.Z.closeSidebar();else if(I&&c){let t=null==E&&i===eK.ME,n=e===eK.Z5c.GUILD_DISCOVERY;t||n?J.Z.closeSidebar():J.Z.openSidebar()}else(r&&c||!I&&!r)&&J.Z.closeSidebar()}else{var m;if(m=e,!e4.some(e=>{var t;return(null===(t=(0,r.LX)(m,e))||void 0===t?void 0:t.isExact)===!0}))(0,eh.dL)(eD.Z.fallbackRoute)}}(t,n)}ensureChannelMatchesGuild(e){if(!w.Z.isConnected())return null;let{pathname:t}=e,n=e2(t);if(null==n)return null;let{guildId:i,channelId:s,threadId:a}=e7(n),r=(0,e_.S)(i)&&i!==eK.ME&&i!==eK.I_8;if(null!=s&&(0,e_.c)(s)&&!(0,eq.AB)(s)&&r){let n=eM.Z.getChannel(s);if(null==n)ef.Z.loadThread(s).then(()=>e3({channelId:s,guildId:i,pathname:t}));else if(n.guild_id!==i)return{path:eK.Z5c.CHANNEL(i),state:e.state};if(null!=a){if(!((0,e_.c)(a)&&!(0,eq.AB)(s)))return null;let n=eM.Z.getChannel(a);if(null==n)ef.Z.loadThread(a).then(()=>e3({channelId:a,guildId:i,pathname:t}));else if((null==n?void 0:n.parent_id)!==s)return em.Z.closeChannelSidebar(s),{path:eK.Z5c.CHANNEL(i,s),state:e.state}}}return null}render(){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(r.rs,{children:[(0,i.jsx)(r.l_,{exact:!0,from:"/channels",to:"/"}),e5.map(e=>{let{path:t,render:n}=e;return(0,i.jsx)(r.AW,{path:t,render:n},t[0])}),(0,i.jsx)(r.l_,{to:"/"})]}),(0,i.jsx)(R.Z,{})]})}constructor(...e){super(...e),eX(this,"historyUnlisten",()=>{}),eX(this,"rewriterUnlisten",()=>{})}}t.default=e6},224336:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(783104);function a(){return(0,i.jsx)("div",{className:s.divider})}},237919:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(481060),c=n(570140),d=n(287259),u=n(819640),_=n(490983),h=n(799777),E=n(5967),I=n(346329),m=n(981631),g=n(689938),p=n(493506);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends s.Component{componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){c.Z.wait(()=>d.wX(null)),document.removeEventListener("keydown",this.handleKeyDown)}reset(){d.wX(null),d.JZ("")}focusInput(){let{searchBarRef:e}=this;null!=e&&e.focus()}updateActiveRow(e){let{applicationViewItems:t,activeRowKey:n}=this.props,i=t.findIndex(e=>e.key===n),s=0;i>=0&&(s=(i+e)%t.length)<0&&(s=t.length-1);let a=t[s];d.wX(null!=a?a.key:null,!0)}render(){let{filterQuery:e}=this.props,{focused:t}=this.state;return(0,i.jsx)("div",{className:r()({[p.libraryFilter]:!0,[p.focused]:t}),children:(0,i.jsx)(o.SearchBar,{className:p.searchBar,ref:this.setRef,onChange:d.JZ,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),name:"filter",onClear:()=>{this.reset(),this.focusInput()},maxLength:100,query:e,placeholder:g.Z.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER})})}constructor(...e){super(...e),T(this,"searchBarRef",null),T(this,"state",{focused:!1}),T(this,"setRef",e=>{this.searchBarRef=e}),T(this,"handleKeyDown",e=>{var t;let{activeRowKey:n,hasModalOpen:i,applicationViewItems:s}=this.props,{searchBarRef:a}=this;if(i||e.ctrlKey||e.altKey||e.metaKey||null==a)return;let r=null===(t=(0,E.uB)(e))||void 0===t?void 0:t.activeElement;if(!(r!==a.inputRef.current&&(0,E.VG)(r)))switch(e.which){case m.yXg.ESCAPE:e.target!==a.inputRef.current?this.reset():null!=a.inputRef.current&&a.blur();break;case m.yXg.ENTER:if(null!=n){e.preventDefault();let t=s.find(e=>e.key===n);if(null==t)return;let i=t.libraryApplication;I.performDefaultLibraryApplicationAction(i,{analyticsParams:{source:m.Sbl.APPLICATION_LIBRARY,location:{page:m.ZY5.LIBRARY,section:m.jXE.LIBRARY_APPLICATION_LIST,object:m.qAy.BUTTON_CTA}}})}break;case m.yXg.ARROW_DOWN:case m.yXg.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.updateActiveRow(e.which===m.yXg.ARROW_DOWN?1:-1);break;default:null!=a.inputRef.current&&e.target!==a.inputRef.current&&a.focus()}})}}function C(){let e=(0,l.e7)([u.Z],()=>u.Z.hasLayers()),t=(0,o.useModalsStore)(o.hasAnyModalOpenSelector);return(0,i.jsx)(S,{activeRowKey:(0,l.e7)([h.Z],()=>h.Z.activeRowKey),hasModalOpen:t||e,filterQuery:(0,l.e7)([_.Z],()=>_.Z.applicationFilterQuery),applicationViewItems:(0,l.e7)([_.Z],()=>_.Z.sortedFilteredLibraryApplicationViewItems)})}},957657:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(984370),l=n(703656),o=n(626135),c=n(804739),d=n(981631),u=n(689938),_=n(903375);let h=(0,c.Q)()||!1;t.Z=s.memo(function(e){let{currentRoute:t,renderToolbar:n}=e,c=s.useContext(o.AnalyticsContext),E=h||t===d.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,i.jsxs)(r.Z,{className:_.libraryHeader,toolbar:null==n?void 0:n(),children:[(0,i.jsx)(r.Z.Icon,{icon:a.InventoryIcon,"aria-hidden":!0}),(0,i.jsx)(r.Z.Title,{children:u.Z.Messages.LIBRARY}),(0,i.jsx)(r.Z.Divider,{}),(0,i.jsxs)(a.TabBar,{type:"top-pill",selectedItem:t,onItemSelect:function(e){e!==t&&(0,l.uL)(e,{state:{analyticsSource:{...c.location,section:d.jXE.TABS,object:d.qAy.NAVIGATION_LINK}}})},children:[(0,i.jsx)(a.TabBar.Item,{id:d.Z5c.APPLICATION_LIBRARY,children:u.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),E?(0,i.jsx)(a.TabBar.Item,{id:d.Z5c.APPLICATION_LIBRARY_SETTINGS,children:u.Z.Messages.SETTINGS}):null]})]})})},425369:function(e,t,n){var i=n(735250),s=n(470079),a=n(266067),r=n(410575),l=n(765717),o=n(252618),c=n(108427),d=n(895991),u=n(993977),_=n(981631),h=n(689938),E=n(136853);function I(){return(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(l.Z,{path:_.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,i.jsxs)(r.Z,{page:_.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,i.jsx)(o.yY,{subsection:h.Z.Messages.SETTINGS}),(0,i.jsx)(u.Z,{})]})}),(0,i.jsx)(l.Z,{path:_.Z5c.APPLICATION_LIBRARY,children:(0,i.jsxs)(r.Z,{page:_.ZY5.LIBRARY,root:!0,children:[(0,i.jsx)(o.yY,{subsection:h.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),(0,i.jsx)(d.Z,{})]})})]})}t.Z=s.memo(function(){return s.useEffect(()=>{(0,c.e)("application_library")},[]),(0,i.jsxs)("div",{className:E.container,children:[(0,i.jsx)(o.yY,{location:h.Z.Messages.LIBRARY}),(0,i.jsx)(I,{})]})})},645818:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(846519),l=n(481060),o=n(293245),c=n(863969),d=n(563593),u=n(981631),_=n(689938);let h=(0,l.makeIconCompat)(c.Z),E=(0,l.makeIconCompat)(d.Z),I=new Set([u.TzF.PUSHING,u.TzF.PULLING]),m=Object.freeze({[u.TzF.DONE]:h,[u.TzF.PLANNING]:h,[u.TzF.PREPARING]:h,[u.TzF.PUSHING]:l.UploadIcon,[u.TzF.PULLING]:l.DownloadIcon,[u.TzF.CONFLICT]:h,[u.TzF.ERROR]:h});class g extends s.PureComponent{componentDidMount(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()}componentDidUpdate(e){null!=this.props.cloudSyncState&&this.props.cloudSyncState.type===u.TzF.DONE&&null!=this.props.cloudSyncState.timestamp&&(null==e.cloudSyncState||null==e.cloudSyncState.timestamp)&&this.setRecentlySyncedTimeout()}componentWillUnmount(){this._doneTimer.stop()}setRecentlySyncedTimeout(){this._doneTimer.start(2e3,()=>this.forceUpdate())}getIsRecentlySynced(){let{cloudSyncState:e}=this.props;if(null!=e&&e.type===u.TzF.DONE){let t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1}getStop(e,t){if(t)return 1;if(e.type===u.TzF.PUSHING||e.type===u.TzF.PULLING){let{progress:t,total:n}=e;return t/n}return 0}getTooltip(e,t){switch(e.type){case u.TzF.DONE:if(t)return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE;return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case u.TzF.CONFLICT:case u.TzF.ERROR:return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case u.TzF.PLANNING:return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case u.TzF.PREPARING:return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case u.TzF.PUSHING:return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case u.TzF.PULLING:return _.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}}render(){let{cloudSyncState:e,libraryApplication:t,className:n}=this.props,s=null==e?{type:u.TzF.DONE}:e,a=this.getIsRecentlySynced(),r={};(I.has(s.type)||a)&&(r.gradientConfig={id:t.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(s,a)});let o=a?E:m[s.type];return(0,i.jsx)(l.Tooltip,{text:this.getTooltip(s,a),children:e=>(0,i.jsx)(o,{className:n,...r,...e})})}constructor(...e){var t,n,i;super(...e),t=this,n="_doneTimer",i=new r.V7,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=a.ZP.connectStores([o.Z],e=>{let{libraryApplication:t}=e;return{cloudSyncState:o.Z.getState(t.id,t.branchId)}})(g)},34305:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(325432),o=n(391690),c=n(714759),d=n(285952),u=n(546591),_=n(424218),h=n(358085),E=n(998502),I=n(689938),m=n(489927),g=n(549856);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends s.PureComponent{renderDiskUsageCircle(){let{metadata:e}=this.props;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,i.jsx)(c.Z,{total:e.totalKB,used:e.totalKB-e.availableKB}):null}renderViewing(){let e,t;let{path:n,label:s,editingPath:a,isDefault:l,metadata:c}=this.props;return null!=c&&(e=null!=c.availableKB?(0,_.BU)(c.availableKB,{useKibibytes:!0}):null,t=null!=c.totalKB?(0,_.BU)(c.totalKB,{useKibibytes:!0}):null),(0,i.jsxs)(d.Z,{className:m.installationPath,align:d.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,i.jsxs)(d.Z,{direction:d.Z.Direction.VERTICAL,className:m.__invalid_descriptionWrapper,children:[(0,i.jsxs)(d.Z,{align:d.Z.Align.CENTER,children:[(0,i.jsx)(r.Heading,{className:m.rowTitle,variant:"heading-md/semibold",children:null!=s?s:o.Z.getLabelFromPath(n)}),l?(0,i.jsx)("span",{className:m.defaultIndicator,children:I.Z.Messages.DEFAULT}):null]}),null!=c&&null!=e&&null!=t?(0,i.jsx)(u.Z,{className:m.rowBody,hoverText:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t}),children:n}):(0,i.jsx)(r.Text,{className:m.rowBody,variant:"text-xs/normal",children:n})]}),(0,i.jsx)(r.Button,{size:r.Button.Sizes.SMALL,disabled:null!=a,color:r.Button.Colors.PRIMARY,onClick:this.handleStartEditing,children:I.Z.Messages.EDIT})]})}renderEditing(){let{path:e,hasGamesInstalledInPath:t}=this.props,{label:n,isDefault:s}=this.state;return(0,i.jsx)(r.Card,{editable:!0,className:m.installationPathEditing,children:(0,i.jsxs)(d.Z,{children:[this.renderDiskUsageCircle(),(0,i.jsxs)(d.Z.Child,{children:[(0,i.jsx)(r.FormItem,{title:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME,children:(0,i.jsx)(r.TextInput,{value:n,placeholder:o.Z.getLabelFromPath(e),onChange:this.handleLabelChange})}),(0,i.jsx)(r.FormItem,{title:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:g.marginTop20,children:(0,i.jsx)(r.TextInput,{disabled:!0,value:e})}),(0,i.jsx)(r.Checkbox,{type:r.Checkbox.Types.INVERTED,value:null!=s?s:this.props.isDefault,disabled:this.props.isDefault,className:m.defaultLocationCheckbox,onChange:this.handleToggleDefault,children:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT}),(0,i.jsx)(r.FormDivider,{className:m.separator}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(r.Button,{disabled:t||this.props.isDefault,size:r.Button.Sizes.SMALL,color:r.Button.Colors.RED,look:r.Button.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE}),(0,i.jsxs)(d.Z,{justify:d.Z.Justify.END,children:[(0,i.jsx)(r.Button,{size:r.Button.Sizes.SMALL,color:r.Button.Colors.PRIMARY,look:r.Button.Looks.LINK,onClick:this.handleStopEditing,children:I.Z.Messages.CANCEL}),(0,i.jsx)(r.Button,{disabled:e===this.props.path&&n===this.props.label&&s===this.props.isDefault,size:r.Button.Sizes.SMALL,color:r.Button.Colors.GREEN,onClick:this.handleSaveChanges,children:I.Z.Messages.SAVE})]})]})]})]})})}render(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()}constructor(...e){super(...e),p(this,"state",{label:void 0,isDefault:null}),p(this,"handleStartEditing",()=>{let{path:e,label:t,isDefault:n,onToggleEditing:i}=this.props;i(e),this.setState({label:t,isDefault:n})}),p(this,"handleStopEditing",()=>{let{onToggleEditing:e}=this.props;e(null),this.setState({label:void 0,isDefault:null})}),p(this,"handleRemoveLocation",()=>{(0,r.openModal)(e=>(0,i.jsx)(r.ConfirmModal,{...e,header:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:I.Z.Messages.CANCEL,onConfirm:()=>{this.handleStopEditing(),(0,l.iD)(this.props.path)},children:(0,i.jsx)(r.Text,{variant:"text-md/normal",children:I.Z.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY})}))}),p(this,"handleSaveChanges",()=>{(0,l.Tb)(this.props.path,{label:null!=this.state.label?this.state.label:this.props.label,isDefault:null!=this.state.isDefault?this.state.isDefault:this.props.isDefault}),this.handleStopEditing()}),p(this,"handleLabelChange",e=>{this.setState({label:e})}),p(this,"handleToggleDefault",()=>{this.setState({isDefault:!this.state.isDefault})})}}class S extends s.PureComponent{componentDidMount(){(0,l.ec)(this.props.installationPaths.map(e=>{let{path:t}=e;return t}))}render(){let{installationPaths:e,installationPathsMetadata:t,defaultInstallationPath:n}=this.props,{editingPath:s}=this.state;return(0,i.jsxs)(r.FormSection,{className:m.wrapper,title:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS,children:[e.map(e=>{let{path:a,label:r}=e;return(0,i.jsx)(T,{path:a,label:r,metadata:t[a],isDefault:n===a,editingPath:s,hasGamesInstalledInPath:o.Z.hasGamesInstalledInPath(a),onToggleEditing:this.handleToggleEditing},a)}),(0,i.jsx)("div",{className:m.buttonRowWrapper,children:(0,i.jsx)(r.Button,{disabled:!h.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:r.Button.Sizes.SMALL,children:I.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD})})]})}constructor(...e){super(...e),p(this,"state",{editingPath:null}),p(this,"handleAddInstallationLocation",()=>{E.ZP.showOpenDialog(["openDirectory"]).then(e=>{if(null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0])(0,l.RY)(e[0])})}),p(this,"handleToggleEditing",e=>{this.setState({editingPath:e})})}}t.Z=a.ZP.connectStores([o.Z],()=>({installationPaths:o.Z.installationPaths,installationPathsMetadata:o.Z.installationPathsMetadata,defaultInstallationPath:o.Z.defaultInstallationPath}))(S)},895991:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(570140),c=n(150063),d=n(274616),u=n(827837),_=n(410575),h=n(3570),E=n(237919),I=n(957657),m=n(665307),g=n(530151),p=n(981631),T=n(186901),S=n(668840);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends s.PureComponent{componentDidMount(){c.Y(p.Z5c.APPLICATION_LIBRARY),(0,h.T)(T.jE.LIBRARY),o.Z.wait(()=>(0,d.o)()),(0,u.N)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)}renderToolbar(){return(0,i.jsx)(E.Z,{})}render(){let{includeUpdatesInScroller:e}=this.state,t=(0,i.jsx)("div",{children:(0,i.jsx)(_.Z,{section:p.jXE.LIBRARY_INSTALL_MODULE,children:(0,i.jsx)(g.Z,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(I.Z,{currentRoute:p.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,i.jsxs)(l.AdvancedScrollerAuto,{className:r()(S.container,S.scroller),ref:this._scrollerRef,children:[e?t:null,(0,i.jsx)(_.Z,{section:p.jXE.LIBRARY_APPLICATION_LIST,children:(0,i.jsx)(m.Z,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})}constructor(...e){super(...e),C(this,"_scrollerRef",s.createRef()),C(this,"_scrollToOnMount",void 0),C(this,"_scrollToPadding",0),C(this,"state",{includeUpdatesInScroller:!1}),C(this,"handleHeightTallerThanHalfViewportChange",e=>{this.setState({includeUpdatesInScroller:e})}),C(this,"scrollToRow",(e,t)=>{let n=this._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoViewRect({start:t,end:t}),this._scrollToOnMount=null):(this._scrollToOnMount=e,this._scrollToPadding=t)})}}},993977:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(58642),o=n(695346),c=n(490983),d=n(285952),u=n(626135),_=n(630388),h=n(804739),E=n(957657),I=n(34305),m=n(981631),g=n(689938),p=n(351634);function T(e){let{applicationViewItems:t,restoreApplication:n}=e;if(0===t.length)return null;let s=t.map(e=>{let t=e.libraryApplication.getDistributor();return(0,i.jsxs)("div",{className:p.hiddenLibraryApplication,children:[(0,i.jsxs)(d.Z,{direction:d.Z.Direction.VERTICAL,className:p.hiddenLibraryApplicationContent,children:[(0,i.jsx)("div",{className:p.applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,i.jsx)("div",{className:p.applicationSubText,children:m.EOG[t]}):null]}),(0,i.jsx)(r.Clickable,{className:p.restoreButton,onClick:()=>n(e.libraryApplication),children:(0,i.jsx)(r.CloseSmallIcon,{size:"md",color:"currentColor",className:p.restoreIcon})})]},e.key)});return(0,i.jsxs)(r.FormSection,{className:p.hiddenLibraryApplications,children:[(0,i.jsx)(r.FormTitle,{className:p.hiddenLibraryApplicationsTitle,children:g.Z.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL}),s]})}class S extends s.PureComponent{handleToggleShortcutDesktop(e){o.Xc.updateSetting(e)}handleToggleShortcutStartMenu(e){o.Pe.updateSetting(e)}trackRestoreApplication(e,t){u.default.track(m.rMx.APPLICATION_SETTINGS_UPDATED,{hidden_enabled:t,...e.getAnalyticsData()})}renderBody(){let{hiddenLibraryApplicationViewItems:e,installShortcutDesktop:t,installShortcutStartMenu:n}=this.props;return(0,i.jsxs)("div",{className:p.body,children:[(0,h.Q)()?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(r.FormSwitch,{value:t,onChange:this.handleToggleShortcutDesktop,note:g.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE,children:g.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP}),(0,i.jsx)(r.FormSwitch,{value:n,onChange:this.handleToggleShortcutStartMenu,note:g.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE,children:g.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU}),(0,i.jsx)(I.Z,{})]}):null,(0,i.jsx)(T,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:e})]})}render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.Z,{currentRoute:m.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,i.jsx)(r.ScrollerAuto,{className:p.scroller,children:this.renderBody()})]})}constructor(...e){var t,n,i;super(...e),t=this,n="handleRestoreHiddenLibraryApplication",i=e=>{let t=_.x9(e.getFlags(),m.eHb.HIDDEN);l.h(e.id,e.branchId,t),this.trackRestoreApplication(e,_.yE(t,m.eHb.HIDDEN))},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function C(){let e={installShortcutDesktop:o.Xc.useSetting(),installShortcutStartMenu:o.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,a.e7)([c.Z],()=>c.Z.hiddenLibraryApplicationViewItems)};return(0,i.jsx)(S,{...e})}},665307:function(e,t,n){n.d(t,{Z:function(){return G}}),n(411104),n(47120);var i,s=n(735250),a=n(470079),r=n(120356),l=n.n(r),o=n(266067),c=n(442837),d=n(846519),u=n(477690),_=n(481060),h=n(570140),E=n(239091),I=n(287259),m=n(785547),g=n(490983),p=n(799777),T=n(285952),S=n(366695),C=n(366966),f=n(151011),N=n(626135),A=n(780570),Z=n(624138),L=n(645818),v=n(981631),O=n(689938),R=n(895220);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=(0,Z.Mg)(u.Z.GAME_LIST_ROW_MIN_HEIGHT),P=(0,Z.Mg)(u.Z.GAME_LIST_LINKED_TO_GLOW_DURATION),M=Object.freeze({[v.iEv.PLATFORM]:"Platform",[v.iEv.LAST_PLAYED]:"Last Played",[v.iEv.NAME]:"Name"}),D=e=>{let{flag:t,icon:n,item:i,tooltip:a}=e,r=i.libraryApplication.hasFlag(t);return(0,s.jsx)(_.Tooltip,{text:a,children:e=>(0,s.jsx)(n,{className:l()(R.settingIcon,{[R.hidden]:!r}),...e})})},y=[{key:v.iEv.NAME,renderHeader:()=>O.Z.Messages.GAME_LIBRARY_LIST_HEADER_NAME,sort:!0,cellClassName:R.nameCell,bodyCellClassName:R.nameBodyCell,render:e=>(0,s.jsxs)(T.Z,{align:T.Z.Align.CENTER,children:[(0,s.jsx)(S.Z,{game:e.application,size:S.Z.Sizes.SMALL,className:R.gameIcon}),(0,s.jsxs)("div",{className:R.nameCellInfo,children:[(0,s.jsx)("div",{className:R.nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(v.eHb.PREMIUM)?(0,s.jsx)(_.Tooltip,{text:O.Z.Messages.PREMIUM_GAME,children:e=>(0,s.jsx)(_.NitroWheelIcon,{size:"md",color:"currentColor",className:R.nitroIcon,...e})}):null]})]})},{key:v.iEv.PLATFORM,renderHeader:()=>O.Z.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM,sort:!0,cellClassName:R.platformCell,bodyCellClassName:R.textCell,render(e){let t=e.libraryApplication.getDistributor();return(0,s.jsx)(T.Z,{align:T.Z.Align.CENTER,children:null!=t?v.EOG[t]:O.Z.Messages.GAME_LIBRARY_NOT_APPLICABLE})}},{key:v.iEv.LAST_PLAYED,renderHeader:()=>O.Z.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED,sort:!0,cellClassName:R.lastPlayedCell,bodyCellClassName:R.textCell,render(e){let t;return t=e.isRunning?O.Z.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?O.Z.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?(0,s.jsx)(C.ZP,{end:e.lastPlayed,location:C.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):O.Z.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,(0,s.jsx)(T.Z,{align:T.Z.Align.CENTER,className:l()({[R.lastPlayedCellNew]:e.isNew}),children:t})}},{key:v.iEv.ACTIONS,renderHeader:()=>null,cellClassName:R.actionsCell,render(e,t,n){var i,r;if(null==t)throw Error("No cell props defined.");let o=e.key===t.activeRowKey;return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsxs)("div",{className:R.settingIcons,children:[(0,s.jsx)(D,{flag:v.eHb.PRIVATE,item:e,icon:_.EyeSlashIcon,tooltip:O.Z.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),(0,s.jsx)(D,{flag:v.eHb.OVERLAY_DISABLED,item:e,icon:_.ScreenSlashIcon,tooltip:O.Z.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),(0,s.jsx)(L.Z,{className:l()(R.settingIcon,{[R.hidden]:!e.supportsCloudSync}),libraryApplication:e.libraryApplication})]}),(0,A.Je)(e.libraryApplication)?(0,s.jsx)(m.Z,{analyticsListSort:(i=t.sortKey,r=t.sortDirection,"".concat(M[i]," ").concat(r===v.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:v.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:o?_.Button.Colors.GREEN:_.Button.Colors.PRIMARY,isPlayShiny:o&&e.defaultAction===v.apO.PLAY,size:R.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:()=>null!=t&&t.setActiveRowKey(e),onDropdownClose:()=>null!=t&&t.clearActiveRowKey()}):(0,s.jsx)("div",{children:"deprecated!"})]})}}],j=e=>{let{item:t,activeRowKey:n,highlightedApplicationKey:i,onMouseEnter:a,onMouseLeave:r,onContextMenu:o,setRef:c,...d}=e,u=t.key===n,_=t.key===i;return(0,s.jsx)("div",{className:l()({[R.rowWrapperActive]:u&&!_,[R.rowWrapperGlow]:_,[R.rowWrapper]:!u&&!_,[R.rowWrapperDim]:!u&&!t.isLaunchable}),ref:e=>c(e,t.key),onMouseEnter:()=>a(t),onMouseLeave:r,onContextMenu:e=>o(e,t),children:(0,s.jsx)("div",{...d})})};class U extends(i=a.PureComponent){componentDidMount(){let{fetched:e}=this.props;e&&(this.handleHighlightedApplicationKey(),this.trackViewed())}componentWillUnmount(){this._didUnmount=!0}componentDidUpdate(e){!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());let t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){let e=this._rowRefs[t];null!=e&&(h.Z.wait(E.Zy),this.props.scrollToRow(e,b))}}handleHighlightedApplicationKey(){let{highlightedApplicationKey:e}=this.state;null!=e&&null!=this._rowRefs[e]&&(this.props.scrollToRow(this._rowRefs[e],b),new d.V7().start(P,()=>{!this._didUnmount&&this.setState({highlightedApplicationKey:null})}))}trackViewed(){let e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},{analyticsContext:t,applicationViewItems:n}=this.props;for(let t of n){switch(t.libraryApplication.getDistributor()){case v.GQo.DISCORD:e.num_applications_discord++;break;case v.GQo.STEAM:e.num_applications_steam++;break;case v.GQo.BATTLENET:e.num_applications_battlenet++;break;case v.GQo.TWITCH:e.num_applications_twitch++;break;case v.GQo.UPLAY:e.num_applications_uplay++;break;case v.GQo.ORIGIN:e.num_applications_origin++;break;case v.GQo.GOG:e.num_applications_gog++;break;case v.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}N.default.track(v.rMx.LIBRARY_VIEWED,{...e,load_id:t.loadId})}handleSort(e,t){I.fS(e,t)}renderImportHelp(){let e;let{applicationViewItems:t,filterQuery:n}=this.props,i=t.length>0;return i?null:(e=""!==n?O.Z.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:n}):O.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,(0,s.jsxs)("div",{className:i?R.emptyStateSmall:R.emptyStateLarge,children:[(0,s.jsx)("div",{className:R.emptyWumpus}),(0,s.jsx)(T.Z,{grow:0,shrink:i?1:0,direction:T.Z.Direction.VERTICAL,children:(0,s.jsxs)("div",{className:R.emptyStateText,children:[(0,s.jsx)("div",{className:R.emptyStateHeader,children:O.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER}),(0,s.jsx)("div",{className:R.emptyStateDescription,children:e})]})})]}))}render(){let{sortKey:e,sortDirection:t,applicationViewItems:n,activeRowKey:i,stickyHeader:r}=this.props,{overflowMenuRowKey:l,highlightedApplicationKey:o}=this.state;return(0,s.jsxs)(a.Fragment,{children:[n.length>0?(0,s.jsx)(f.Z,{columns:y,data:n,sortData:!1,rowComponent:j,className:R.table,headerClassName:r?R.stickyHeader:R.header,headerCellClassName:R.headerCell,sortedHeaderCellClassName:R.headerCellSorted,bodyCellClassName:R.bodyCell,rowClassName:R.row,sortKey:e,sortDirection:t,stickyHeader:r,rowProps:{activeRowKey:null!=l?l:i,highlightedApplicationKey:o,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=l?l:i,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:e,sortDirection:t},onSort:this.handleSort}):null,this.renderImportHelp()]})}constructor(...e){super(...e),x(this,"_didUnmount",!1),x(this,"_rowRefs",{}),x(this,"state",{overflowMenuRowKey:null,highlightedApplicationKey:null!=this.props.location.state?this.props.location.state.applicationId:null}),x(this,"setActiveRowKey",e=>{this.setState({overflowMenuRowKey:e.key})}),x(this,"clearActiveRowKey",()=>{!this._didUnmount&&this.setState({overflowMenuRowKey:null})}),x(this,"handleRowMouseEnter",e=>{!this.props.isNavigatingByKeyboard&&I.wX(e.key)}),x(this,"handleRowMouseLeave",()=>{!this.props.isNavigatingByKeyboard&&I.wX(null)}),x(this,"setRowRef",(e,t)=>{this._rowRefs[t]=e}),x(this,"handleApplicationContextMenu",(e,t)=>{this.setActiveRowKey(t);let{analyticsContext:i}=this.props;(0,E.jW)(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,s.jsx)(e,{...n,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:i})},{onClose:this.clearActiveRowKey})})}}function G(e){let t=a.useContext(N.AnalyticsContext),n=(0,o.TH)(),{applicationViewItems:i,filterQuery:r,fetched:l}=(0,c.cj)([g.Z],()=>({applicationViewItems:g.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:g.Z.applicationFilterQuery,fetched:g.Z.hasFetchedApplications})),{sortKey:d,sortDirection:u,activeRowKey:_,isNavigatingByKeyboard:h}=(0,c.cj)([p.Z],()=>({sortKey:p.Z.sortKey,sortDirection:p.Z.sortDirection,activeRowKey:p.Z.activeRowKey,isNavigatingByKeyboard:p.Z.isNavigatingByKeyboard}));return(0,s.jsx)(U,{...e,analyticsContext:t,location:n,applicationViewItems:i,filterQuery:r,fetched:l,sortKey:d,sortDirection:u,activeRowKey:_,isNavigatingByKeyboard:h})}x(U,"defaultProps",{stickyHeader:!1})},86826:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(44315),l=n(285952),o=n(441996),c=n(353042),d=n(689938),u=n(359483);t.Z=function(e){var t;let{title:n,className:s,color:_,animate:h,gradientStopColor:E,getHistoricalTotalBytes:I}=e,m=(0,r.Sl)(_).hex,g=null===(t=(0,r.Sl)(E))||void 0===t?void 0:t.hex;return(0,i.jsx)(c.Z,{getHistoricalTotalBytes:I,children:(e,t,r)=>{var c;return(0,i.jsx)("div",{className:a()(u.monitor,s),children:(0,i.jsxs)(l.Z,{align:l.Z.Align.CENTER,children:[(0,i.jsxs)(l.Z,{className:u.text,direction:l.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:u.title,children:n}),(0,i.jsx)("div",{className:u.rate,children:(c=e[e.length-1]/t*1e3)>1e3?d.Z.Messages.FILE_RATE_MB.format({size:Math.round(c/1e3)}):d.Z.Messages.FILE_RATE_KB.format({size:Math.round(c)})})]}),(0,i.jsx)("div",{className:u.overflowContainer,children:(0,i.jsx)(o.Z,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:u.sparkChart,updateInterval:t,color:m,gradientStopColor:g,numUpdatesToShow:r,animate:h,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})})}})}},530151:function(e,t,n){n(411104),n(47120),n(724458),n(653041);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(392711),o=n.n(l),c=n(442837),d=n(692547),u=n(780384),_=n(481060),h=n(570140),E=n(239091),I=n(51025),m=n(785547),g=n(730749),p=n(112724),T=n(812206),S=n(44315),C=n(210887),f=n(283595),N=n(417363),A=n(941128),Z=n(451478),L=n(285952),v=n(366695),O=n(366966),R=n(151011),x=n(424218),b=n(780570),P=n(353042),M=n(86826),D=n(981631),y=n(689938),j=n(350062);function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let G=e=>{let{className:t,children:n,onContextMenu:s,item:a}=e;return(0,i.jsx)("div",{className:t,onContextMenu:e=>s(e,a),children:n})},k=[d.Z.unsafe_rawColors.BLUE_345.css,d.Z.colors.INTERACTIVE_NORMAL.css],w=e=>{let{tooltip:t,onClick:n,icon:s}=e;return(0,i.jsx)(_.Tooltip,{text:t,children:e=>{let{onMouseEnter:a,onMouseLeave:r}=e;return(0,i.jsx)(_.Button,{"aria-label":t,className:j.actionButton,innerClassName:j.actionButtonContents,color:_.Button.Colors.PRIMARY,size:_.Button.Sizes.ICON,onClick:n,onMouseEnter:a,onMouseLeave:r,children:(0,i.jsx)(s,{className:j.actionIcon})})}})};function B(e,t){switch(t){case D.f07.POST_INSTALL_SCRIPTS:case D.f07.PLANNING:case D.f07.FINALIZING:case D.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,x.BU)(e,{useKibibytes:!0})}}let H={[D.vxO.INSTALLING]:{[O.J6.NONE]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n}),[O.J6.SECONDS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.MINUTES]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.HOURS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:i})},[D.vxO.UPDATING]:{[O.J6.NONE]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n}),[O.J6.SECONDS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.MINUTES]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.HOURS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:i})},[D.vxO.REPAIRING]:{[O.J6.NONE]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n}),[O.J6.SECONDS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.MINUTES]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:i}),[O.J6.HOURS]:(e,t,n,i)=>y.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:i})}};function V(e,t,n,i,s){let a=H[t],r=null!=a?Object.keys(a):[],{unit:l,time:o}=(0,O.CI)(null!=e?e/60:null,r);if(null!=a&&null!=l){let e=a[l];return null!=e?e(n,i,s,o):null}return null}function F(e){let{type:t,stage:n,percent:i,progress:s,total:a,secondsRemaining:r}=e,l=B(a,n),o=B(s,n);switch(n){case D.f07.QUEUED:if(0===s)return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION;return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:i,progress:o,total:l});case D.f07.PLANNING:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:i});case D.f07.ALLOCATING_DISK:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:i});case D.f07.PATCHING:return V(r,t,i,o,l);case D.f07.FINALIZING:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:i});case D.f07.PAUSING:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:i,progress:o,total:l});case D.f07.VERIFYING:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:i,progress:o,total:l});case D.f07.POST_INSTALL_SCRIPTS:return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:i,progress:o,total:l});case D.f07.REPAIRING:if(t===D.vxO.REPAIRING)return V(r,t,i,o,l);return y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:i,progress:o,total:l})}throw Error("Invalid Dispatch stage")}let Y="name",W="progress",z="actions";class K extends s.PureComponent{get isFocused(){let{cellProps:e}=this.props;return null!=e&&e.isFocused}renderBody(e){let{percent:t,foregroundColor:n,foregroundGradientColor:s,message:a}=e;return(0,i.jsxs)(L.Z,{direction:L.Z.Direction.VERTICAL,children:[(0,i.jsx)(_.Progress,{percent:t,size:_.Progress.Sizes.SMALL,foregroundColor:(0,S.Lq)(n),foregroundGradientColor:null!=s?[(0,S.Lq)(s[0]),(0,S.Lq)(s[1])]:void 0,animate:this.isFocused}),(0,i.jsx)("div",{className:j.progressCellText,children:null!=a?a:""})]})}renderStackedProgress(e){let{percents:t,message:n}=e;return(0,i.jsxs)(L.Z,{direction:L.Z.Direction.VERTICAL,children:[(0,i.jsx)(_.StackedProgress,{percents:t,size:_.Progress.Sizes.SMALL,foregroundColors:k,animate:this.isFocused}),(0,i.jsx)("div",{className:j.progressCellText,children:null!=n?n:""})]})}renderFinished(){let{item:e}=this.props;return this.renderBody({message:y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:()=>I.wi(e.applicationId,e.branchId)}),foregroundColor:(0,u.ap)(e.theme)?D.Ilk.PRIMARY_300:D.Ilk.PRIMARY_500,percent:100})}renderQueued(){let e,t;let{item:{state:n,theme:i}}=this.props;if(null!=n){let{progress:i,total:s,stage:a}=n;if(null!=i&&null!=s){let n=B(s,a),r=B(i,a),l=Math.floor(t=b.xI(i,s));e=a===D.f07.PAUSING?y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:l,progress:r,total:n}):y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:l,progress:r,total:n})}}return(null==t||null==e)&&(t=0,e=y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:t,foregroundColor:(0,u.ap)(i)?D.Ilk.PRIMARY_300:D.Ilk.PRIMARY_500,message:e})}renderPaused(){let{item:{state:e,theme:t}}=this.props;if(null==e)return null;let{progress:n,total:i}=e;if(null==n||null==i)return null;let s=b.xI(n,i),a=Math.floor(s),r=0===n&&1===i?y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:y.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:a,progress:(0,x.BU)(n),total:(0,x.BU)(i)});return this.renderBody({message:r,foregroundColor:(0,u.ap)(t)?D.Ilk.PRIMARY_300:D.Ilk.PRIMARY_500,percent:s})}renderProgressPatching(){return(0,i.jsx)(P.Z,{getHistoricalTotalBytes:N.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})}renderProgressDefault(){let{state:e}=this.props.item;if(null==e)return null;let{total:t,progress:n,stage:i,type:s}=e;if(null==t||null==n||null==i)return null;let a=b.xI(n,t),r=Math.floor(a);return this.renderBody({percent:a,message:F({type:s,stage:i,percent:r,progress:n,total:t}),foregroundColor:D.Ilk.BLUE_345})}renderProgress(){let{state:e}=this.props.item;switch(null!=e?e.stage:null){case D.f07.PATCHING:case D.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}}render(){let{item:e,cellProps:t}=this.props;if(e.finished)return this.renderFinished();if(e.index>0)return this.renderQueued();if(null!=e.state&&(e.state.type===D.vxO.UPDATING||e.state.type===D.vxO.REPAIRING||e.state.type===D.vxO.INSTALLING))return null!=t&&t.paused?this.renderPaused():this.renderProgress();return null}constructor(...e){super(...e),U(this,"renderProgressPatchingBody",(e,t)=>{let{item:{state:n}}=this.props;if(null==n)return null;let{stage:i,progress:s,total:a,type:r,readerProgress:l}=n;if(null==s||null==a||null==i)return null;let o=b.xI(s,a),c=b.xI(null!=l?l:0,a),d=e[e.length-1]/t*1e3,u=a-s,_=F({type:r,stage:i,percent:Math.floor(o),progress:s,total:a,secondsRemaining:0!==d?Math.max(1,u/d):null});return this.renderStackedProgress({percents:[o,c],message:_})})}}let q=()=>(0,i.jsx)(w,{icon:_.PlayIcon,tooltip:y.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:()=>I.v4()}),Q=()=>(0,i.jsx)(w,{icon:_.PauseIcon,tooltip:y.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:()=>I.wO()}),X=e=>{let{item:t}=e;return(0,i.jsx)(w,{icon:_.ArrowSmallUpIcon,tooltip:y.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:()=>I.A1(t.applicationId,t.branchId)})},J=e=>{let{item:t}=e;return(0,i.jsx)(w,{icon:_.CloseSmallIcon,tooltip:y.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:()=>I.al(t.applicationId,t.branchId)})},$=[{key:Y,cellClassName:j.nameCell,render:e=>(0,i.jsxs)(L.Z,{align:L.Z.Align.CENTER,children:[(0,i.jsx)(v.Z,{game:e.application,className:j.__invalid_gameIcon,size:v.Z.Sizes.SMALL}),(0,i.jsx)("div",{className:j.nameCellText,children:e.application.name})]})},{key:W,cellClassName:j.progressCell,headerCellClassName:j.progressCellHeader,bodyCellClassName:j.progressCellBody,render:(e,t)=>(0,i.jsx)(K,{item:e,cellProps:t})},{key:z,cellClassName:j.actionsCell,render(e,t){let n,s;return e.finished?n=null!=e.libraryApplication?(0,i.jsx)(m.Z,{libraryApplication:e.libraryApplication,size:_.Button.Sizes.SMALL,className:j.gameActionButton,source:D.Sbl.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==D.vxO.UP_TO_DATE&&(n=e.index>0?(0,i.jsx)(X,{item:e}):null!=t&&t.paused?(0,i.jsx)(q,{}):(0,i.jsx)(Q,{item:e}),s=(0,i.jsx)(J,{item:e})):s=(0,i.jsx)(J,{item:e}),(0,i.jsxs)(L.Z,{justify:L.Z.Justify.END,children:[n,s]})}}];class ee extends s.PureComponent{componentDidMount(){window.addEventListener("resize",this.throttledUpdateHeight)}componentDidUpdate(e){this.props.height!==e.height&&this.throttledUpdateHeight()}componentWillUnmount(){let{applications:e}=this.props;e.forEach(e=>{e.finished&&h.Z.wait(()=>{I.wi(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0}render(){let{applications:e,paused:t,isFocused:s,theme:a,analyticsContext:l}=this.props;return 0===e.length?null:(0,i.jsxs)("div",{className:j.gameUpdates,children:[(0,i.jsxs)("div",{className:j.headerRow,children:[(0,i.jsx)(M.Z,{className:r()(j.headerCell,j.networkProgress),title:y.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:N.Z.getHistoricalTotalBytesDownloaded,color:D.Ilk.GREEN_360,animate:s}),(0,i.jsx)(M.Z,{className:r()(j.headerCell,j.diskProgress),title:y.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:N.Z.getHistoricalTotalBytesWritten,color:D.Ilk.BLUE_345,animate:s})]}),(0,i.jsx)(R.Z,{hasHeader:!1,columns:$,data:e,className:j.table,rowClassName:j.row,rowComponent:G,cellProps:{paused:t,isFocused:s,theme:a},rowProps:{onContextMenu:(e,t)=>{var s,a,r;return s=e,a=t,r=l,void E.jW(s,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return t=>(0,i.jsx)(e,{...t,applicationId:a.applicationId,branchId:a.branchId,analyticsContext:r})})}},bodyCellClassName:j.cell})]})}constructor(...e){super(...e),U(this,"isUnmounted",!1),U(this,"isTallerThanHalfViewport",!1),U(this,"throttledUpdateHeight",o().throttle(()=>{if(this.isUnmounted)return;let{height:e,onHeightTallerThanHalfViewportChange:t}=this.props,n=e>window.innerHeight/2;this.isTallerThanHalfViewport!==n&&(this.isTallerThanHalfViewport=n,t(n))},1e3))}}function et(e,t,n,i){return e.reduce((e,s,a)=>{let{applicationId:r,branchId:l}=s,o=n.getApplication(r),c=i.getState(r,l);return null!=o&&e.push({key:"".concat(r,":").concat(l),applicationId:r,branchId:l,state:c,application:o,libraryApplication:f.Z.getLibraryApplication(r,l),finished:t,index:a}),e},[])}t.Z=(0,p.Z)(c.ZP.connectStores([T.Z,N.Z,A.Z,C.Z,Z.Z],()=>{let e=et(A.Z.activeItems,!1,T.Z,N.Z);return{applications:[...e,...et(A.Z.finishedItems,!0,T.Z,N.Z)],paused:A.Z.paused,isFocused:Z.Z.isFocused(),theme:C.Z.theme}})((0,g.Z)(ee)))},689796:function(e,t,n){var i=n(735250),s=n(470079),a=n(378720),r=n(232126),l=n(285952),o=n(981631),c=n(689938),d=n(963087);class u extends s.PureComponent{renderContentRatingImage(){let{contentRating:e,contentRatingAgency:t}=this.props.sku;return null==e||null==t?null:(0,i.jsx)(r.Z,{className:d.rating,agency:t,rating:e.rating})}render(){let{sku:{contentRating:e,contentRatingAgency:t},className:n}=this.props;if(null==e||null==t)return null;let s={[o.aIt.ESRB]:{1:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTUAL_NUDITY,16:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET,35:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_BLOOD,36:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_CARTOON_VIOLENCE,37:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_FANTASY_VIOLENCE,38:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_LANGUAGE,39:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_LYRICS,40:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_SEXUAL_THEMES,41:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_SUGGESTIVE_THEMES,42:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MILD_VIOLENCE,43:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_VIOLENCE},[o.aIt.PEGI]:{1:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:c.Z.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION}},r=e.descriptors.map(e=>s[t][e]).join(", ");return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(a.Z,{children:c.Z.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS}),(0,i.jsxs)(l.Z,{className:d.content,children:[this.renderContentRatingImage(),(0,i.jsx)("div",{className:d.__invalid_info,children:r})]})]})}}t.Z=u},506648:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(378720),l=n(863969),o=n(38761),c=n(6074),d=n(39377),u=n(981631),_=n(689938),h=n(600163);let E=[{feature:u.Qa3.SINGLE_PLAYER,getText:()=>_.Z.Messages.APPLICATION_STORE_SINGLE_PLAYER,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_SINGLE_PLAYER_TOOLTIP,IconComponent:a.UserIcon},{feature:u.Qa3.LOCAL_MULTIPLAYER,getText:()=>_.Z.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER_TOOLTIP,IconComponent:a.GroupIcon},{feature:u.Qa3.ONLINE_MULTIPLAYER,getText:()=>_.Z.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER_TOOLTIP,IconComponent:a.GroupIcon},{feature:u.Qa3.PVP,getText:()=>_.Z.Messages.APPLICATION_STORE_PVP,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_PVP_TOOLTIP,IconComponent:a.ModerationIcon},{feature:u.Qa3.LOCAL_COOP,getText:()=>_.Z.Messages.APPLICATION_STORE_LOCAL_COOP,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_LOCAL_COOP_TOOLTIP,IconComponent:a.GroupIcon},{feature:u.Qa3.ONLINE_COOP,getText:()=>_.Z.Messages.APPLICATION_STORE_ONLINE_COOP,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_ONLINE_COOP_TOOLTIP,IconComponent:a.GroupIcon},{feature:u.Qa3.CROSS_PLATFORM,getText:()=>_.Z.Messages.APPLICATION_STORE_CROSS_PLATFORM,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_CROSS_PLATFORM_TOOLTIP,IconComponent:a.RefreshIcon},{feature:u.Qa3.RICH_PRESENCE,getText:()=>_.Z.Messages.APPLICATION_STORE_RICH_PRESENCE,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_RICH_PRESENCE_TOOLTIP,IconComponent:c.Z},{feature:u.Qa3.DISCORD_GAME_INVITES,getText:()=>_.Z.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES_TOOLTIP,IconComponent:o.Z},{feature:u.Qa3.SPECTATOR_MODE,getText:()=>_.Z.Messages.APPLICATION_STORE_SPECTATOR_MODE,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_SPECTATOR_MODE_TOOLTIP,IconComponent:a.VideoIcon},{feature:u.Qa3.CONTROLLER_SUPPORT,getText:()=>_.Z.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT_TOOLTIP,IconComponent:a.DpadIcon},{feature:u.Qa3.CLOUD_SAVES,getText:()=>_.Z.Messages.APPLICATION_STORE_CLOUD_SAVES,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_CLOUD_SAVES_TOOLTIP,IconComponent:l.Z},{feature:u.Qa3.SECURE_NETWORKING,getText:()=>_.Z.Messages.APPLICATION_STORE_SECURE_NETWORKING,getTooltip:()=>_.Z.Messages.APPLICATION_STORE_SECURE_NETWORKING_TOOLTIP,IconComponent:d.Z}],I=e=>{let{IconComponent:t,text:n,tooltip:s}=e;return(0,i.jsxs)("div",{className:h.row,children:[(0,i.jsx)(a.Tooltip,{text:s,children:e=>(0,i.jsx)(t,{className:h.featureIcon,...e})}),(0,i.jsx)("span",{className:h.featureText,children:n}),(0,i.jsx)(a.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:h.checkmarkIcon})]})};class m extends s.PureComponent{render(){let{sku:e}=this.props,t=E.filter(t=>{let{feature:n}=t;return e.features.has(n)}).map(e=>{let{feature:t,IconComponent:n,getText:s,getTooltip:a}=e;return(0,i.jsx)(I,{IconComponent:n,text:s(),tooltip:a()},t)});return 0===t.length?null:(0,i.jsxs)("div",{className:h.features,children:[(0,i.jsx)(r.Z,{children:_.Z.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES}),t]})}}t.Z=m},449275:function(e,t,n){var i=n(735250),s=n(470079),a=n(378720),r=n(689938),l=n(550808);class o extends s.PureComponent{render(){let{className:e,sku:t}=this.props;return null==t.legalNotice?null:(0,i.jsxs)("div",{className:e,children:[(0,i.jsx)(a.Z,{children:r.Z.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT}),(0,i.jsx)("div",{className:l.content,children:t.legalNotice})]})}}t.Z=o},733789:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(100527),c=n(484459),d=n(103575),u=n(366966),_=n(409216),h=n(51144),E=n(981631),I=n(689938),m=n(287644);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={[E.AzA.NOW_PLAYING]:{single:(e,t)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})},[E.AzA.RECENTLY_PLAYED]:{single:(e,t)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})},[E.AzA.EVER_PLAYED]:{single:(e,t)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>I.Z.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}};class T extends s.PureComponent{renderDescription(e,t){let n=p[e];return 1===t.length?n.single(t[0].user,e=>this.renderActivityDiscordTag(e)):2===t.length?n.double(t[0].user,t[1].user,e=>this.renderActivityDiscordTag(e)):n.other(t.length)}renderActivityDiscordTag(e){return(0,i.jsx)(l.Popout,{preload:()=>(0,c.W)(e),renderPopout:t=>(0,i.jsx)(d.Z,{...t,location:"ApplicationRecommendationActivity",userId:e.id,newAnalyticsLocations:[o.Z.USERNAME]}),position:"right",children:t=>(0,i.jsx)("span",{className:m.username,...t,children:e.username})},e.id)}render(){let{reason:e,className:t}=this.props,{type:n,userInfo:s}=e;return 0===s.length?null:(0,i.jsxs)("div",{className:r()(m.recommendationActivity,t),children:[(0,i.jsx)(_.Z,{className:m.players,users:s.map(e=>{let{user:t}=e;return t}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),(0,i.jsx)("div",{className:m.description,children:this.renderDescription(n,s)})]})}constructor(...e){super(...e),g(this,"renderUserTooltip",(e,t,n)=>(0,i.jsxs)("div",{className:m.tooltip,children:[(0,i.jsx)("div",{children:h.ZP.getUserTag(e)}),(0,i.jsx)(u.ZP,{className:m.tooltipTimestamp,start:t,end:n,location:u.ZP.Locations.ACTIVITY_FEED})]})),g(this,"renderPlayer",(e,t,n,s)=>{if(null==e)return null;let a=this.props.reason.userInfo.find(t=>t.user===e);return null==a?null:(0,i.jsx)(l.Popout,{preload:()=>(0,c.W)(e),renderPopout:t=>(0,i.jsx)(d.Z,{...t,location:"ApplicationRecommendationActivity",userId:e.id,newAnalyticsLocations:[o.Z.AVATAR]}),position:"right",children:t=>(0,i.jsx)(l.Tooltip,{text:this.renderUserTooltip(e,a.startTime,a.endTime),"aria-label":(0,h.W5)(e,{decoration:"never"}),children:n=>(0,i.jsx)(l.Avatar,{className:r()(m.playerAvatar,{[m.avatarMasked]:!s}),src:e.getAvatarURL(void 0,32),"aria-label":e.username,size:l.AvatarSizes.SIZE_32,...n,...t})})},e.id)}),g(this,"renderPlayerOverflow",(e,t,n)=>(0,i.jsx)("div",{className:m.playerOverflow,children:e},n))}}t.Z=T},4962:function(e,t,n){n(411104);var i,s,a=n(735250);n(470079);var r=n(120356),l=n.n(r),o=n(442837),c=n(481060),d=n(700582),u=n(451478),_=n(689938),h=n(390826);(s=i||(i={}))[s.STAFF_NOTES=1]="STAFF_NOTES";let E=o.ZP.connectStores([u.Z],()=>({animate:u.Z.isFocused()}))(e=>{let{user:t,className:n,animate:i}=e;return(0,a.jsxs)("div",{className:l()(h.staffReviewHeader,n),children:[(0,a.jsx)(d.Z,{size:c.AvatarSizes.SIZE_32,user:t,animate:i}),(0,a.jsxs)("div",{className:h.headerText,children:[(0,a.jsx)("div",{className:h.label,children:_.Z.Messages.APPLICATION_STORE_STAFF_PICK}),(0,a.jsx)("div",{className:h.username,children:t.username})]})]})}),I=e=>{let{data:t,className:n}=e;if(1===t.type){if(null==t.staffNotes)return null;let{user:e,content:i}=t.staffNotes;return null==e?null:(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(E,{user:e,className:h.header}),(0,a.jsx)("div",{className:h.notes,children:i})]})}throw Error("Unknown type")};I.Types=i,t.Z=I},911314:function(e,t,n){var i=n(735250);n(470079);var s=n(266067),a=n(730749),r=n(928207),l=n(981631);t.Z=(0,a.Z)(function(){return(0,i.jsxs)(s.rs,{children:[(0,i.jsx)(s.AW,{path:l.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(r.Z,{})}),(0,i.jsx)(s.l_,{to:l.Z5c.APP})]})})},928207:function(e,t,n){var i=n(735250);n(470079);var s=n(266067),a=n(442837),r=n(481060),l=n(410575),o=n(730749),c=n(666743),d=n(100527),u=n(906732),_=n(984370),h=n(299657),E=n(594174),I=n(285952),m=n(981631),g=n(474936),p=n(689938),T=n(314974);let S=a.ZP.connectStores([E.default],()=>({user:E.default.getCurrentUser()}))((0,c.Z)((0,o.Z)(e=>{let{analyticsLocations:t}=(0,u.ZP)(d.Z.HOME_PAGE_PREMIUM_TAB),{isAuthenticated:n,user:a}=e;return n?(0,i.jsxs)("div",{className:T.homeWrapperNormal,children:[(0,i.jsx)(l.Z,{section:m.jXE.NAVIGATION,children:(0,i.jsxs)(_.Z,{isAuthenticated:n,className:T.headerBar,children:[(0,i.jsx)(_.Z.Icon,{icon:r.NitroWheelIcon,"aria-hidden":!0}),(0,i.jsx)(_.Z.Title,{children:p.Z.Messages.PREMIUM})]})}),(0,i.jsx)(u.Gt,{value:t,children:null==a?(0,i.jsx)(I.Z,{align:I.Z.Align.CENTER,justify:I.Z.Justify.CENTER,children:(0,i.jsx)(r.Spinner,{className:T.spinner})}):(0,i.jsx)(h.Z,{entrypoint:g.EZ.ApplicationStoreHome})})]}):(0,i.jsx)(s.l_,{to:m.Z5c.LOGIN})})));t.Z=S},613311:function(e,t,n){n(411104),n(724458),n(653041),n(733860),n(47120),n(789020);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(846519),c=n(780384),d=n(481060),u=n(570140),_=n(659429),h=n(496929),E=n(558381),I=n(410575),m=n(224336),g=n(730749),p=n(666743),T=n(115130),S=n(812206),C=n(252618),f=n(100159),N=n(646288),A=n(984370),Z=n(706454),L=n(210887),v=n(430824),O=n(496675),R=n(525395),x=n(558314),b=n(580130),P=n(55563),M=n(551428),D=n(695103),y=n(451478),j=n(378720),U=n(285952),G=n(760397),k=n(626135),w=n(572004),B=n(630388),H=n(937615),V=n(73346),F=n(3570),Y=n(689796),W=n(15470),z=n(506648),K=n(449275),q=n(445986),Q=n(119520),X=n(450233),J=n(726581),$=n(74153),ee=n(125930),et=n(178071),en=n(176055),ei=n(843445),es=n(981631),ea=n(186901),er=n(689938),el=n(261343);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ec extends s.PureComponent{get isChannelType(){return null!=this.props.channel}componentDidMount(){let{sku:e,storeListing:t,isFetchingEntitlements:n,shouldFetchStatistics:i,didFetchEntitlements:s,location:a,fetchStoreListing:r}=this.props;if(null!=a.state){let{analyticsSource:e,analyticsProperties:t}=a.state;this._analyticsSource=e,this._extraAnalyticsProperties=t}else this._analyticsSource=es.SaU;(null==t||t.isSlimDirectoryVersion())&&r(),null!=e&&(!n&&!s&&(0,h.yD)(e.applicationId),i&&u.Z.wait(()=>(0,_.$)(e.applicationId))),this.trackViewed(),this.replaceUrlWithSlug()}componentDidUpdate(e){let{locale:t,sku:n,shouldFetchStatistics:i,skuId:s,storeListingId:a,slug:r,storeListing:l,fetchStoreListing:o}=this.props;if(l!==e.storeListing&&null!=l&&(0,F.s)(ea.jE.STORE_LISTING,{skuId:s,slug:r}),(t!==e.locale||s!==e.skuId)&&o(),i&&!e.shouldFetchStatistics){if(null==n)throw Error("Unexpected missing sku");u.Z.wait(()=>(0,_.$)(n.applicationId))}(s!==e.skuId||a!==e.storeListingId)&&(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()}componentWillUnmount(){this.showCopyLinkTextTimeout.stop();let{analyticsContext:{loadId:e,loadDate:t}}=this.props;null!=t&&k.default.track(es.rMx.STORE_LISTING_EXITED,{load_id:e,duration_ms:Date.now()-t})}replaceUrlWithSlug(){}trackViewed(){let{sku:e,storeListing:t,hasFetchedNews:n,analyticsContext:i}=this.props;if(this._trackedViewed||null==e||null==t||null==t.description||!(this.isChannelType||n))return;let s=t.carouselItems.reduce((e,t)=>(null!=t.assetId?e.images++:e.videos++,e),{images:0,videos:0});k.default.track(es.rMx.STORE_LISTING_VIEWED,{...this._extraAnalyticsProperties,load_id:i.loadId,has_description:null!=t.description&&t.description.length>0,has_staff_review:null!=t.staffNotes,carousel_image_count:s.images,carousel_video_count:s.videos,location:i.location.page,source:this._analyticsSource,...(0,f.Z)(e,!0)}),this._trackedViewed=!0}renderHeader(e,t){let{channel:n,isAuthenticated:a}=this.props;return(0,i.jsx)(A.Z,{isAuthenticated:a,toolbar:this.renderHeaderToolbar(e,t),children:null!=n?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.TagIcon,"aria-label":er.Z.Messages.STORE_CHANNEL}),(0,i.jsx)(A.Z.Title,{children:n.name})]}):null!=t&&t.premium?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.NitroWheelIcon,"aria-label":er.Z.Messages.PREMIUM}),(0,i.jsx)($.Z,{sku:t})]}):null!=t?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.TagIcon,"aria-label":er.Z.Messages.STORE_CHANNEL}),(0,i.jsx)(A.Z.Title,{children:t.name})]}):null})}parseMediaItems(e,t,n){let{assetId:i,youtubeVideoId:s}=t;if(null!=i){let t=n.find(e=>e.id===i);if(null!=t){let{width:n,height:i}=t;if(null==n||null==i)throw Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return t.mimeType.startsWith("video/")?{type:es.s9s.VIDEO,thumbnailSrc:(0,V._W)(e.id,t,1024,"webp"),src:(0,V._W)(e.id,t),height:i,width:n}:{type:es.s9s.IMG,src:(0,V._W)(e.id,t,1024),height:i,width:n}}}if(null!=s)return{type:es.s9s.YOUTUBE_VIDEO,youtubeVideoId:s};throw Error("Store carousel item must have one of assetId or youtubeVideoId")}renderHeaderAssets(e,t,n){let{theme:s}=this.props,a=t.headerBackground,r=(0,c.ap)(s)?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==a||null==r?(0,i.jsx)("div",{className:el.noHeaderSpacer}):(0,i.jsxs)("div",{className:el.headerAssets,children:[(0,i.jsx)("div",{className:el.headerBackground,style:{backgroundImage:"url(".concat((0,V._W)(e.id,a,1024,"png"),")")}}),(0,i.jsx)("img",{className:el.headerLogo,src:(0,V._W)(e.id,r,1024,"png"),alt:n.name})]})}renderWhyYouMightLikeThis(e,t){return(0,i.jsx)(J.Z,{sku:e,storeListing:t,className:el.whyYouMightLikeIt})}renderVerifiedGuildInvite(e,t){if(null==e.guild)return null;let{channel:n,pageSize:s}=this.props;return(0,i.jsx)(en.Z,{skuId:t.id,guild:e.guild,className:el.guildInvite,inChannel:null!=n,pageSize:s})}renderFeatures(e){return(0,i.jsx)(z.Z,{sku:e})}renderSystemRequirements(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:(0,i.jsx)(ee.Z,{className:el.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})}renderDescription(e,t,n){let{description:a}=t;if(null==a)throw Error("Rendering ApplicationStoreListing without description");return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(j.Z,{tag:"h1",children:er.Z.Messages.APPLICATION_STORE_ABOUT_HEADER.format({name:n.name})}),(0,i.jsx)(m.Z,{}),(0,i.jsx)(W.Z,{applicationId:e.id,blurb:t.summary,description:a,className:el.description,assets:t.assets})]})}renderApplicationContentRating(e){return(0,i.jsx)(Y.Z,{sku:e,className:el.contentRating})}renderApplicationLegalInfo(e){return(0,i.jsx)(K.Z,{sku:e,className:el.legalInfo})}renderJsonLD(){let{sku:e,storeListing:t,application:n}=this.props;if(null==e||null==t||null==n)return null;let s=[],a=n.getSplashURL(1024);null!=a&&s.push(a),null!=t.headerLogoLightTheme&&s.unshift((0,V._W)(n.id,t.headerLogoLightTheme,1024,"jpg"));let r=G.Z.Product({name:e.name,description:null!=e.summary&&""!==e.summary?e.summary:t.tagline,image:G.Z.Product.Image(s),sku:e.id}),l=e.getPrice();if(null!=l){let{amount:e,currency:t}=l;r.offers=G.Z.Offer({priceCurrency:t.toUpperCase(),price:(0,H.T4)(e,t,{style:"decimal"})})}let o=G.Z.ItemPage({mainEntity:r});return(0,i.jsx)(G.Z,{data:o})}renderSmall(e,t,n){return(0,i.jsxs)("div",{className:r()(el.listing,el.listingSmall),children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]})}renderLarge(e,t,n){return(0,i.jsxs)("div",{className:el.listing,children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),(0,i.jsx)("div",{className:el.listingLarge,children:(0,i.jsxs)("div",{className:el.body,children:[(0,i.jsxs)("div",{className:el.leftColumn,children:[this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]}),(0,i.jsxs)("div",{className:el.rightColumn,children:[this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)]})]})})]})}render(){let{application:e,sku:t,storeListing:n,matureAgree:a,isAuthenticated:r}=this.props;if(null==e||null==t||null==n||n.isSlimDirectoryVersion())return(0,i.jsxs)(s.Fragment,{children:[this.renderHeader(e,t),(0,i.jsx)(U.Z,{align:U.Z.Align.CENTER,justify:U.Z.Justify.CENTER,children:(0,i.jsx)(d.Spinner,{className:el.spinner})})]});if(!a&&t.showAgeGate){let n=r?null:(0,i.jsx)("div",{className:el.gatedListing,children:this.renderListing()});return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),(0,i.jsx)(Q.Z,{game:e}),n]})}return r?(0,i.jsxs)("div",{className:el.listingWrapper,children:[(0,i.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),(0,i.jsx)(I.Z,{section:es.jXE.NAVIGATION,children:this.renderHeader(e,t)}),(0,i.jsx)(I.Z,{section:es.jXE.BODY,children:this.renderListing()})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),this.renderListing()]})}constructor(...e){super(...e),eo(this,"showCopyLinkTextTimeout",new o.V7),eo(this,"_trackedViewed",!1),eo(this,"_analyticsSource",null),eo(this,"_extraAnalyticsProperties",null),eo(this,"state",{showHeaderPurchaseUnit:!1,showLinkCopied:!1}),eo(this,"trackCarouselScroll",(e,t,n)=>{let{sku:i}=this.props;null!=i&&k.default.track(es.rMx.STORE_LISTING_MEDIA_SCROLLED,{...(0,f.Z)(i),card_index:n,card_type:e.type===es.s9s.IMG?"image":"video"})}),eo(this,"copyCurrentUrl",()=>{var e;let{location:t}=this.props;(0,w.JG)((e=t.pathname,"".concat(location.protocol,"//").concat(location.host).concat(e))),this.setState({showLinkCopied:!0},()=>{this.showCopyLinkTextTimeout.start(1500,()=>{this.setState({showLinkCopied:!1})})})}),eo(this,"handleCreateInstantInvite",()=>{let{channel:e,guild:t}=this.props;null!=e&&null!=t&&(0,d.openModalLazy)(async()=>{let{default:s}=await Promise.all([n.e("7654"),n.e("21026")]).then(n.bind(n,560114));return n=>(0,i.jsx)(s,{...n,guild:t,channel:e,source:es.t4x.GUILD_CHANNELS})})}),eo(this,"renderInviteLink",()=>{let{channel:e,guild:t}=this.props;return null!=e&&null!=t&&(O.Z.can(es.Plq.CREATE_INSTANT_INVITE,t)||null!=t.vanityURLCode)?(0,i.jsx)(d.Button,{"aria-label":er.Z.Messages.CREATE_INSTANT_INVITE,look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onClick:this.handleCreateInstantInvite,className:el.link,children:(0,i.jsx)(d.LinkIcon,{size:"md",color:"currentColor",className:el.linkIcon})}):null}),eo(this,"renderCopyLink",()=>{let{showLinkCopied:e}=this.state;return this.isChannelType?this.renderInviteLink():(0,i.jsx)(d.Tooltip,{text:e?er.Z.Messages.APPLICATION_STORE_LINK_COPIED:null,position:"left",forceOpen:e,children:t=>{let{onMouseEnter:n,onMouseLeave:s}=t;return(0,i.jsx)(d.Button,{"aria-label":e?er.Z.Messages.APPLICATION_STORE_LINK_COPIED:er.Z.Messages.COPY_LINK,look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onClick:this.copyCurrentUrl,onMouseEnter:n,onMouseLeave:s,className:el.link,children:(0,i.jsx)(d.LinkIcon,{size:"md",color:"currentColor",className:el.linkIcon})})}})}),eo(this,"renderHeaderToolbar",(e,t)=>{let{isInTestMode:n,slug:s,storeListing:a,analyticsContext:{location:l}}=this.props,{showHeaderPurchaseUnit:o}=this.state;return(0,i.jsxs)("div",{className:el.headerBarListing,children:[(0,i.jsx)("div",{className:el.headerSection,children:n&&null!=t?(0,i.jsx)(et.Z,{size:et.y.Sizes.MIN,dropdownSize:et.y.DropdownSizes.MEDIUM,look:et.y.Looks.OUTLINED,color:et.y.Colors.RED,skuId:t.id,className:el.testModeSelectButton,currentStoreListingId:null!=a?a.id:null,onStoreListingSelect:e=>{null!=t&&(0,E.yt)(t.id,{slug:s,analyticsSource:{page:l.page,section:es.jXE.NAVIGATION,object:null},storeListingId:e.id})}}):null}),(0,i.jsx)("div",{className:el.headerSection,children:(0,i.jsxs)("div",{className:r()(el.headerPurchase,{[el.active]:o}),children:[null!=t?(0,N.Z)(t):null,null!=e&&null!=t?(0,i.jsx)("div",{children:"deprecated!"}):null,(0,i.jsx)(X.Z,{messageStyle:X.G.SHORT,className:el.purchaseError})]})}),this.renderCopyLink()]})}),eo(this,"renderCarousel",(e,t)=>{if(0===t.carouselItems.length)return null;let{pageSize:n,isFocused:s}=this.props;return(0,i.jsx)(I.Z,{section:es.jXE.HERO,children:(0,i.jsx)(q.Z,{pageSize:n,items:t.carouselItems.map(n=>this.parseMediaItems(e,n,t.assets)),autoplayInterval:8e3,paused:!s,onIntentionalChange:this.trackCarouselScroll})})}),eo(this,"renderListing",()=>{let{application:e,storeListing:t,sku:n,pageSize:s}=this.props;return null==e||null==n||null==t||t.isSlimDirectoryVersion()?(0,i.jsx)(U.Z,{align:U.Z.Align.CENTER,justify:U.Z.Justify.CENTER,children:(0,i.jsx)(d.Spinner,{})}):s===ei.b.SMALL?this.renderSmall(e,t,n):this.renderLarge(e,t,n)})}}t.Z=(0,g.Z)((0,p.Z)(l.ZP.connectStores([x.Z,L.Z,Z.default,y.Z,M.Z,P.Z,D.Z,T.Z,S.Z,R.Z,v.Z,b.Z],e=>{let t,n,i,{inputSkuId:s,applicationId:a,storeListingId:r,isAuthenticated:l,channel:o}=e;if(null==a){if(null==s)throw Error("Needs applicationId or skuId");t=s,null!=(a=null!=(n=P.Z.get(s))?n.applicationId:null)&&(i=S.Z.getApplication(a))}else if(null==s){if(null==a)throw Error("Needs applicationId or skuId");null!=(i=S.Z.getApplication(a))&&(t=i.destinationSkuId),n=null!=t?P.Z.get(t):null}(null==n?void 0:n.flags)!=null&&(0,B.yE)(n.flags,es.l4R.STICKER_PACK)&&(n=null);let c=null!=a&&(D.Z.inTestModeForApplication(a)||T.Z.inDevModeForApplication(a));return{skuId:t,application:null!=a?S.Z.getApplication(a):null,isFetchingEntitlements:null!=a&&b.Z.applicationIdsFetching.has(a),didFetchEntitlements:null!=a&&b.Z.applicationIdsFetched.has(a),shouldFetchStatistics:l&&null!=a&&R.Z.shouldFetchStatisticsForApplication(a),sku:n,isFocused:y.Z.isFocused(),storeListing:M.Z.getStoreListing({storeListingId:r,skuId:t,channelId:null!=o?o.id:null,isTestMode:c}),isInTestMode:null!=a&&c,matureAgree:x.Z.didMatureAgree,theme:L.Z.theme,locale:Z.default.locale,guild:null!=o?v.Z.getGuild(o.getGuildId()):null}})(ec)))},119520:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(558381),r=n(499371),l=n(689938),o=n(871726);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.PureComponent{render(){let{game:{name:e}}=this.props;return(0,i.jsx)("div",{className:o.matureListing,children:(0,i.jsx)(r.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:l.Z.Messages.MATURE_LISTING_TITLE.format({name:e}),description:l.Z.Messages.MATURE_LISTING_DESCRIPTION,agreement:l.Z.Messages.MATURE_LISTING_ACCEPT,disagreement:l.Z.Messages.MATURE_LISTING_DECLINE})})}constructor(...e){super(...e),c(this,"handleDisagree",()=>{(0,a.M9)()}),c(this,"handleAgree",()=>{(0,a.cj)()})}}t.Z=d},450233:function(e,t,n){n.d(t,{G:function(){return l}});var i,s,a,r,l,o,c=n(735250),d=n(470079),u=n(442837),_=n(570140),h=n(16084),E=n(855775),I=n(689938);(i=l||(l={})).SHORT="SHORT",i.LONG="LONG";class m extends(o=d.PureComponent){getText(e,t){if(429===e.status)switch(t){case"SHORT":return I.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case"LONG":return I.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case"SHORT":return I.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case"LONG":return I.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}}componentWillUnmount(){null!=this.props.purchaseError&&_.Z.wait(()=>h.pB())}render(){let{className:e,purchaseError:t,messageStyle:n}=this.props;return null==t?null:(0,c.jsx)("div",{className:e,children:this.getText(t,n)})}}r={messageStyle:"LONG"},(a="defaultProps")in(s=m)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=u.ZP.connectStores([E.Z],()=>({purchaseError:E.Z.error}))(m)},601564:function(e,t,n){n.r(t),n.d(t,{getPageSize:function(){return O}}),n(47120);var i=n(735250),s=n(470079),a=n(593473),r=n(266067),l=n(442837),o=n(930118),c=n(355467),d=n(410575),u=n(666743),_=n(112724),h=n(447269),E=n(612226),I=n(714338),m=n(663993),g=n(628123),p=n(703656),T=n(108427),S=n(911314),C=n(429899),f=n(843445),N=n(981631),A=n(689938),Z=n(256964);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let v=(0,m.Un)({createPromise:()=>Promise.all([n.e("68148"),n.e("99838")]).then(n.bind(n,496691)),webpackId:496691});function O(e){return e<f.x?f.b.SMALL:f.b.LARGE}l.ZP.initialize();class R extends s.PureComponent{componentDidMount(){(0,o.Y)(this.props.location),this.stopListeningToHistory=(0,p.s1)().listen(e=>{e.pathname.startsWith(N.Z5c.APPLICATION_STORE)&&(0,o.Y)(e)}),this.props.isAuthenticated&&(0,c.tZ)(),I.Z.disable(),I.Z.setLayout(h.r),I.Z.enable(),(0,T.e)("application_store")}componentWillUnmount(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),I.Z.disable(),I.Z.setLayout(E.oT),I.Z.enable()}renderCustomErrorMessage(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:A.Z.Messages.ERRORS_STORE_CRASH}),(0,i.jsx)("p",{children:A.Z.Messages.ERRORS_ACTION_TO_TAKE})]})}render(){let{isAuthenticated:e,location:t}=this.props,n=e?(0,i.jsx)("div",{className:Z.applicationStore,children:this.renderContent()}):(0,i.jsx)(v,{className:Z.applicationStore,location:t,render:this.renderContent});return(0,i.jsx)(g.Z,{renderCustomMessage:this.renderCustomErrorMessage,children:n})}constructor(...e){super(...e),L(this,"stopListeningToHistory",void 0),L(this,"renderStoreListing",e=>{let{match:{params:{skuId:t,applicationId:n,slug:s}},location:r}=e,{width:l}=this.props,o=(0,a.parse)(r.search);return(0,i.jsx)(d.Z,{page:N.ZY5.STORE_LISTING,root:!0,children:(0,i.jsx)(C.Z,{skuId:t,applicationId:n,slug:s,location:r,storeListingId:o.store_listing_id,pageSize:O(l)})})}),L(this,"renderContent",()=>(0,i.jsxs)(r.rs,{children:[(0,i.jsx)(r.AW,{path:N.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(d.Z,{page:N.ZY5.STORE_DIRECTORY_HOME,root:!0,children:(0,i.jsx)(S.Z,{})})}),(0,i.jsx)(r.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(r.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:this.renderStoreListing}),(0,i.jsx)(r.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(r.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderStoreListing}),(0,i.jsx)(r.l_,{to:N.Z5c.APP})]}))}}t.default=(0,r.EN)((0,u.Z)((0,_.Z)(R)))},726581:function(e,t,n){var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(649974),c=n(246946),d=n(594174),u=n(525395),_=n(55563),h=n(551428),E=n(912739),I=n(73346),m=n(733789),g=n(4962),p=n(689938),T=n(670257);class S extends s.Component{renderReasons(e,t,n){return 0===e.length&&0===t.length?null:(0,i.jsx)("div",{className:T.section,children:(0,i.jsxs)("div",{className:T.sectionContent,children:[e.map(e=>(0,i.jsx)("div",{className:T.unit,children:(0,i.jsx)(m.Z,{reason:e,hidePersonalInformation:n})},e.type)),t.map(e=>(0,i.jsx)("div",{className:T.unit,children:(0,i.jsx)(E.Z,{reason:e})},e.type))]})})}getReviewToRender(){let{storeListing:e}=this.props;return null!=e.staffNotes?{type:g.Z.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null}render(){let{socialReasons:e,nonSocialReasons:t,storeListing:n,hidePersonalInformation:s,className:a}=this.props;if(0===e.length&&0===t.length&&null==n.staffNotes)return null;let l=this.getReviewToRender();return(0,i.jsxs)("div",{className:r()(T.root,a),children:[(0,i.jsx)("div",{className:T.header,children:p.Z.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION}),this.renderReasons(e,t,s),null!=l?(0,i.jsx)(g.Z,{data:l,className:T.review}):null]})}}t.Z=l.ZP.connectStores([_.Z,d.default,h.Z,o.Z,u.Z,c.Z],e=>{let{sku:t}=e;return{socialReasons:(0,I.Gg)(t.id,_.Z,d.default,o.Z,u.Z),nonSocialReasons:(0,I.Ww)(t.id,_.Z,h.Z),hidePersonalInformation:c.Z.hidePersonalInformation}})(S)},74153:function(e,t,n){n(653041),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(16084),o=n(730749),c=n(812206),d=n(984370),u=n(703656),_=n(55563),h=n(981631),E=n(287809);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends s.PureComponent{componentDidMount(){let{sku:e,primarySkuId:t,isFetchingPrimarySku:n}=this.props;null!=t&&!n&&null!=e&&(0,l.$N)(e.applicationId,t)}render(){let{sku:e,primarySku:t}=this.props,n=[],s=null;if(null!=e){let i=h.Z5c.APPLICATION_STORE_LISTING_SKU(e.id,e.slug);s=i,null!=t&&n.push({id:h.Z5c.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),label:t.name}),n.push({id:i,label:e.name})}return(0,i.jsx)(r.Breadcrumbs,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:n,activeId:s})}constructor(...e){super(...e),I(this,"handleClick",e=>{let{sku:t}=this.props;(0,u.uL)(e.id,{state:{analyticsSource:{object:h.qAy.NAVIGATION_LINK,section:h.jXE.NAVIGATION,page:null==t?h.ZY5.STORE_DIRECTORY_BROWSE:h.ZY5.STORE_LISTING}}})}),I(this,"renderCustomBreadcrumb",(e,t)=>(0,i.jsx)(d.Z.Title,{className:t?null:E.breadcrumb,muted:!t,children:e.label}))}}t.Z=(0,o.Z)(a.ZP.connectStores([c.Z,_.Z],e=>{let{sku:t}=e,n=null!=t?c.Z.getApplication(t.applicationId):null,i=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:i,isFetchingPrimarySku:null!=i&&_.Z.isFetching(i),primarySku:null!=i?_.Z.get(i):null}})(m))},429899:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(558381),r=n(613311);class l extends s.Component{componentDidMount(){this.fetchStoreListing()}render(){let{skuId:e,applicationId:t,slug:n,storeListingId:s,pageSize:a,location:l}=this.props;return(0,i.jsx)(r.Z,{inputSkuId:e,applicationId:t,fetchStoreListing:this.fetchStoreListing,slug:n,storeListingId:s,location:l,pageSize:a})}constructor(...e){var t,n,i;super(...e),t=this,n="fetchStoreListing",i=e=>{let{storeListingId:t,skuId:n,applicationId:i}=this.props,s=null!=e?e:n;if(null!=t)return(0,a.rV)(t);if(null!=s)return(0,a.km)(s);if(null!=i)return(0,a.Hq)(i)},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=l},715702:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,601564)),webpackId:601564})},125930:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(378720),c=n(285952),d=n(424218),u=n(823379),_=n(358085),h=n(843445),E=n(981631),I=n(689938),m=n(601416);let g={[E.TaA.WINDOWS]:_.PlatformTypes.WINDOWS,[E.TaA.MACOS]:_.PlatformTypes.OSX,[E.TaA.LINUX]:_.PlatformTypes.LINUX};class p extends s.PureComponent{render(){let{active:e,children:t,pageSize:n,onClick:s}=this.props,a=n===h.b.LARGE;return(0,i.jsx)(l.Button,{size:a?l.Button.Sizes.MIN:l.Button.Sizes.LARGE,fullWidth:!a,color:e?m.tabSelectedColor:m.tabNotSelectedColor,className:r()({[m.tabPageLarge]:a,[m.tabPageSmall]:!a,[m.tabSelected]:e,[m.tabNotSelected]:!e}),onClick:s,children:t})}}let T=e=>[{key:I.Z.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:I.Z.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:I.Z.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?I.Z.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,d.BU)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:I.Z.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:I.Z.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,d.BU)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:I.Z.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:I.Z.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:I.Z.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}];class S extends s.PureComponent{static getDerivedStateFromProps(e,t){let{systemRequirements:n}=e,{selectedOperatingSystem:i}=t,s=Object.keys(n);return s.includes(i)?null:{selectedOperatingSystem:s[0]}}renderTabs(){let{pageSize:e,systemRequirements:t}=this.props,{selectedOperatingSystem:n}=this.state,s=Object.keys(t);return 1===s.length?null:(0,i.jsxs)(c.Z,{className:m.tabs,children:[(0,i.jsx)("div",{className:m.separator}),s.map(t=>(0,i.jsx)(p,{active:t===n,onClick:()=>this.handleSelectOperatingSystem(t),pageSize:e,children:function(e){switch(e){case E.TaA.WINDOWS:return I.Z.Messages.WINDOWS;case E.TaA.MACOS:return I.Z.Messages.MACOS;case E.TaA.LINUX:return I.Z.Messages.LINUX}}(t)},t))]})}renderRequirementsSection(e,t){if(null==e)return null;let n=T(e).map((e,t)=>{let n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:(0,i.jsxs)("div",{className:m.requirement,children:[(0,i.jsxs)("span",{className:m.requirementKey,children:[e.key,":"]}),n]},t)}).filter(u.lm);return(0,i.jsxs)("div",{className:m.requirements,children:[(0,i.jsx)(o.Z,{tag:"h4",children:t}),n]})}renderBody(){let{minimum:e,recommended:t}=this.props.systemRequirements[this.state.selectedOperatingSystem];return(0,i.jsxs)("div",{className:m.requirementsContainer,children:[this.renderRequirementsSection(e,I.Z.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(t,I.Z.Messages.APPLICATION_STORE_SPECS_RECOMMENDED)]})}render(){return(0,i.jsxs)("div",{className:this.props.className,children:[(0,i.jsx)(o.Z,{children:I.Z.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS}),this.renderTabs(),this.renderBody()]})}constructor(e){var t,n,i;super(e),t=this,n="handleSelectOperatingSystem",i=e=>{this.setState({selectedOperatingSystem:e})},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i;let s=(0,_.getPlatform)(),a=Object.keys(e.systemRequirements),r=a[0];for(let e of a)g[e]===s&&(r=e);this.state={selectedOperatingSystem:r}}}t.Z=S},178071:function(e,t,n){n.d(t,{y:function(){return _}}),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(239091),o=n(585237),c=n(551428),d=n(689938);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={DropdownSizes:o.Z.DropdownSizes,Sizes:o.Z.Sizes,Colors:o.Z.Colors,Looks:o.Z.Looks};class h extends s.PureComponent{render(){let{storeListings:e,primaryStoreListing:t,skuId:n,onStoreListingSelect:s,currentStoreListingId:a,...r}=this.props,l=null!=t?1:0;return(l+=e.length)<2?null:(0,i.jsx)(o.Z,{onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu,...r,children:d.Z.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS})}constructor(...e){super(...e),u(this,"renderContextMenu",()=>{let{storeListings:e,onStoreListingSelect:t,currentStoreListingId:n,onMenuSelect:s}=this.props,a=e.map(e=>e.id!==n?(0,i.jsx)(r.MenuItem,{id:"".concat(e.id),label:e.id,action:()=>{l.Zy(),null==t||t(e)}}):null);return(0,i.jsx)(r.Menu,{onSelect:s,navId:"test-store-listing","aria-label":d.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:l.Zy,children:a})}),u(this,"handleContextMenu",e=>{e.stopPropagation(),l.vq(e,this.renderContextMenu)})}}t.Z=a.ZP.connectStores([c.Z],e=>{let{skuId:t}=e;return{storeListings:c.Z.getUnpublishedForSKU(t),primaryStoreListing:c.Z.getForSKU(t)}})(h)},176055:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(593473),o=n(442837),c=n(481060),d=n(749210),u=n(558381),_=n(666743),h=n(41776),E=n(703656),I=n(769654),m=n(601964),g=n(430824),p=n(378720),T=n(285952),S=n(346656),C=n(843445),f=n(981631),N=n(689938),A=n(81772);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends s.PureComponent{renderMemberInfo(){let{approximateMemberCount:e,approximatePresenceCount:t}=this.props.guild;return null==e||null==t?null:(0,i.jsxs)(T.Z,{className:A.memberInfo,align:T.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:A.dotOnline}),(0,i.jsx)("span",{className:A.memberText,children:N.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})}),(0,i.jsx)("div",{className:A.dotOffline}),(0,i.jsx)("span",{className:A.memberText,children:N.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:e})})]})}render(){let{guild:e,inChannel:t,isInGuild:n,isLurking:s,isAuthenticated:a,className:l,pageSize:o}=this.props;if(t&&n)return null;let d=new m.ZP(e),u=N.Z.Messages.LURKER_MODE_VIEW_GUILD,_=this.handleJoinOrView,h=c.Button.Looks.FILLED,E=c.Button.Colors.PRIMARY;return a?n?(h=c.Button.Looks.OUTLINED,E=A.buttonColorInGuild,u=(0,i.jsxs)(T.Z,{align:T.Z.Align.CENTER,children:[(0,i.jsx)("div",{children:N.Z.Messages.JOINED_GUILD}),(0,i.jsx)(c.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:A.joinedCheckmark})]})):s&&t&&(u=N.Z.Messages.JOIN_GUILD):(u=N.Z.Messages._LOGIN,_=this.handleLogin),(0,i.jsxs)("div",{className:r()(l,o===C.b.SMALL?A.inviteSmall:A.inviteLarge),children:[(0,i.jsx)(p.Z,{children:N.Z.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD}),(0,i.jsxs)("div",{className:A.content,children:[(0,i.jsxs)("div",{className:A.info,children:[(0,i.jsx)(S.Z,{guild:d,active:!0,size:S.Z.Sizes.LARGE,className:A.guildIcon}),(0,i.jsxs)("div",{className:A.infoText,children:[(0,i.jsx)("div",{className:A.name,children:e.name}),this.renderMemberInfo()]})]}),(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,className:A.actionButton,fullWidth:!0,color:E,look:h,onClick:_,children:u})]})]})}constructor(...e){super(...e),Z(this,"handleJoinOrView",async()=>{let{guild:e,skuId:t,isInGuild:n,isLurking:i}=this.props,s=()=>(0,I.X)(e.id);if(i)(0,u.Oj)(t).then(s);else if(n)s();else try{await d.Z.joinGuild(e.id,{lurker:!0,source:f.vtS.APPLICATION_STORE}),s()}catch{}}),Z(this,"handleLogin",()=>{let e={redirect_to:f.Z5c.APPLICATION_STORE_LISTING_SKU(this.props.skuId)};(0,E.uL)(f.Z5c.LOGIN,{search:(0,l.stringify)(e)})})}}t.Z=(0,_.Z)(o.ZP.connectStores([g.Z,h.Z],e=>{let{guild:t}=e,n=h.Z.isLurking(t.id);return{isInGuild:null!=g.Z.getGuild(t.id)&&!n,isLurking:n}})(L))},476669:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(239091),l=n(129861),o=n(285952),c=n(145075);class d extends s.PureComponent{handleContextMenu(e,t){(0,r.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}renderUser(e){return null==e?null:(0,i.jsxs)(o.Z,{className:c.user,align:o.Z.Align.CENTER,onContextMenu:t=>{null!=e&&this.handleContextMenu(t,e)},children:[(0,i.jsx)(a.Avatar,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:a.AvatarSizes.SIZE_24,className:c.avatar}),(0,i.jsx)(l.Z,{user:e,className:c.tag,usernameClass:c.username,discriminatorClass:c.discriminator})]},e.id)}render(){let{party:e,header:t}=this.props,n=e.map(e=>this.renderUser(e));return(0,i.jsxs)("div",{className:c.userList,children:[(0,i.jsx)("div",{className:c.header,children:t}),(0,i.jsx)(a.ScrollerThin,{className:c.content,fade:!0,children:n})]})}}t.Z=d},512847:function(e,t,n){n.d(t,{Z:function(){return G}});var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(442837),o=n(317381),c=n(258609),d=n(569545),u=n(106301),_=n(590415),h=n(131704),E=n(199902),I=n(314897),m=n(592125),g=n(430824),p=n(131951),T=n(292959),S=n(19780),C=n(944486),f=n(606304),N=n(979651),A=n(938475),Z=n(823379),L=n(557177),v=n(981631);function O(e,t,n,i){s.useEffect(()=>{let s=t(),a=new l.Fh(e,()=>{let e=t(),a=n(s,e);null!=a&&!T.Z.isSoundDisabled(a)&&(0,L.GN)(a,null!=i?i:.4),s=e});return a.attach("useSound"),()=>a.detach()})}function R(){return O([p.Z,C.Z],()=>({inVoiceChannel:null!=C.Z.getVoiceChannelId(),selfMute:p.Z.isSelfMute(),selfDeaf:p.Z.isSelfDeaf(),audioPermissionReady:p.Z.isNativeAudioPermissionReady(),shouldSkipMuteUnmuteSound:p.Z.shouldSkipMuteUnmuteSound()}),(e,t)=>{let{inVoiceChannel:n,selfMute:i,selfDeaf:s,audioPermissionReady:a,shouldSkipMuteUnmuteSound:r}=t;if(e.selfDeaf!==s)return s?"deafen":"undeafen";if(!!a&&(!!n||!!e.audioPermissionReady)){if(e.selfMute!==i){if(r){p.Z.notifyMuteUnmuteSoundWasSkipped();return}return i?"mute":"unmute"}}}),null}function x(){return O([m.Z,S.Z,C.Z,c.Z],()=>{let e=m.Z.getChannel(C.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=null==e?void 0:e.getGuildId(),i=S.Z.getWasEverRtcConnected(),s=S.Z.getState();return{channelType:t,guildId:n,connected:s===v.hes.RTC_CONNECTED,connectHasStarted:!i&&s!==v.hes.DISCONNECTED||s===v.hes.RTC_CONNECTED,awaitingRemote:null!=c.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=c.Z.getRemoteSessionId()}},(e,t)=>{let{channelType:n,connected:i,connectHasStarted:s,awaitingRemote:a,connectedRemote:r}=t,l=e.channelType,o=e.connectedRemote,c=e.connected,d=e.connectHasStarted;if(!d&&s||r&&!o){if(null!=n&&h.Lr.has(n))return;return"user_join"}if(c&&!i){if(a||r||null!=l&&h.Lr.has(l))return;return"disconnect"}}),null}function b(){return O([f.Z],()=>f.Z.isCurrentUserSpeaking(),(e,t)=>{if(e!==t){let e=p.Z.isSelfMute();if(p.Z.getMode()===v.pM4.PUSH_TO_TALK&&!e)return t?"ptt_start":"ptt_stop"}}),null}function P(){return O([p.Z],()=>p.Z.isSelfMutedTemporarily(),(e,t)=>{if(e!==t){let e=p.Z.isSelfMute();if(p.Z.getMode()===v.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_stop":"ptt_start"}}),null}function M(){return O([N.Z],()=>N.Z.userHasBeenMovedVersion,(e,t)=>{if(e!==t)return"user_moved"}),null}function D(){return O([C.Z,N.Z],()=>{let e=C.Z.getVoiceChannelId();if(null==e)return _.xO.NONE;let t=N.Z.getVoiceStateForChannel(e);return(0,_.gf)(t)},(e,t)=>{if(e!==t&&t===_.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}),null}function y(){return O([C.Z,E.Z,I.default,N.Z,m.Z],()=>{let e,t;let n=C.Z.getVoiceChannelId(),i=I.default.getId();let s=[],a=null,r=0,l=E.Z.getAllActiveStreams();if(null!=n){let i=m.Z.getChannel(n);null!=i&&(e=i.type,t=A.ZP.countVoiceStatesForChannel(i.id)-(N.Z.isInChannel(i.id)?1:0),s=E.Z.getAllApplicationStreamsForChannel(i.id).map(e=>e.ownerId))}let o=null;return(null==(o=1===l.length?l[0]:E.Z.getCurrentUserActiveStream())?void 0:o.state)===v.jm8.CONNECTING&&(o=null),null!=o&&(a=(0,d.V9)(o),r=E.Z.getViewerIds(a).filter(e=>e!==i).length),{channelType:e,voiceChannelId:n,voiceChannelUserCount:t,streamingUserIds:s,singleActiveStreamKey:a,singleActiveStreamViewerCount:r,currentUserId:i,allActiveStreams:l}},(e,t)=>{let{channelType:n,voiceChannelId:i,voiceChannelUserCount:s,streamingUserIds:a,singleActiveStreamKey:r,singleActiveStreamViewerCount:l,currentUserId:o}=t;if(e.voiceChannelId!==i||null==i||function(e){let t=m.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let i=g.Z.getGuild(n);return null!=i&&i.afkChannelId===t.id}(i)||null!=n&&h.Lr.has(n))return;let c=null!=r&&e.singleActiveStreamKey===r,d=a.some(t=>!e.streamingUserIds.includes(t)),u=e.allActiveStreams.map(e=>e.ownerId),_=e.streamingUserIds.some(e=>!a.includes(e)&&(e===o||u.includes(e)));if(d)return"stream_started";if(_)return"stream_ended";if(e.singleActiveStreamViewerCount<=25&&c&&l>e.singleActiveStreamViewerCount)return"stream_user_joined";else if(null!=e.voiceChannelUserCount&&null!=s&&e.voiceChannelUserCount<=25&&s>e.voiceChannelUserCount)return"user_join";else if(null!=e.voiceChannelUserCount&&null!=s&&e.voiceChannelUserCount<=25&&s<e.voiceChannelUserCount)return"user_leave";else if(e.singleActiveStreamViewerCount<=25&&c&&l<e.singleActiveStreamViewerCount)return"stream_user_left"}),null}function j(){return O([C.Z,o.ZP,I.default],()=>{let e=C.Z.getVoiceChannelId(),t=C.Z.getChannelId(),n=o.ZP.getConnectedActivityChannelId(),i=I.default.getId(),s=(0,Z.lm)(t)?o.ZP.getEmbeddedActivitiesForChannel(t):o.i6,a=(0,Z.lm)(e)?o.ZP.getEmbeddedActivitiesForChannel(e):o.i6,r=(0,Z.lm)(n)?o.ZP.getEmbeddedActivitiesForChannel(n):o.i6;return{voiceChannelId:e,currentUserId:i,channelActivities:s,connectedChannelActivities:r,userConnectedActivity:(0,Z.lm)(n)?o.ZP.getSelfEmbeddedActivityForChannel(n):null,voiceChannelActivities:a}},(e,t)=>{let n,{voiceChannelId:i,currentUserId:s,channelActivities:a,connectedChannelActivities:r,userConnectedActivity:l,voiceChannelActivities:o}=t;let c=o.some(e=>e.applicationId===(null==l?void 0:l.applicationId)&&e.launchId===l.launchId);if((0,Z.lm)(i)){let t=e.voiceChannelActivities.find(e=>e.userIds.has(s)),i=o.find(e=>e.userIds.has(s));e.voiceChannelActivities.length<o.length&&(0,Z.lm)(e.voiceChannelId)&&(n="activity_launch"),void 0===i&&(0,Z.lm)(t)&&(n="activity_end"),void 0===t&&(0,Z.lm)(i)&&i.userIds.size>1&&(n="activity_user_join"),(0,Z.lm)(i)&&(0,Z.lm)(t)&&(i.userIds.size>t.userIds.size&&(n="activity_user_join"),i.userIds.size<t.userIds.size&&(n="activity_user_left"))}if(!c){e.connectedChannelActivities.length<r.length&&e.channelActivities.length<a.length&&(n="activity_launch");let t=e.userConnectedActivity;null==l&&(0,Z.lm)(t)&&(n="activity_end"),(0,Z.lm)(l)&&(0,Z.lm)(t)&&(l.userIds.size>t.userIds.size&&(n="activity_user_join"),l.userIds.size<t.userIds.size&&(n="activity_user_left"))}return n}),null}function U(){return O([u.Z,C.Z],()=>({hangStatus:u.Z.getCurrentHangStatus(),customHangStatus:u.Z.getCustomHangStatus(),inVoice:null!=C.Z.getVoiceChannelId()}),(e,t)=>{var n,i;let{hangStatus:s,customHangStatus:a}=t;if(e.inVoice&&(null!=s&&s!==e.hangStatus||null!=a&&(a.status!==(null===(n=e.customHangStatus)||void 0===n?void 0:n.status)||!r().isEqual(a.emoji,null===(i=e.customHangStatus)||void 0===i?void 0:i.emoji))))return"hang_status_select"},.15),null}function G(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{}),(0,i.jsx)(x,{}),(0,i.jsx)(b,{}),(0,i.jsx)(P,{}),(0,i.jsx)(M,{}),(0,i.jsx)(y,{}),(0,i.jsx)(D,{}),(0,i.jsx)(j,{}),(0,i.jsx)(U,{})]})}},666743:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(735250),s=n(470079),a=n(314897);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return class extends s.Component{componentDidMount(){a.default.addChangeListener(this.onStoreChange)}componentWillUnmount(){a.default.removeChangeListener(this.onStoreChange)}render(){return(0,i.jsx)(e,{...this.props,isAuthenticated:this.state.isAuthenticated})}constructor(...e){super(...e),r(this,"state",{isAuthenticated:a.default.isAuthenticated()}),r(this,"onStoreChange",()=>{this.setState({isAuthenticated:a.default.isAuthenticated()})})}}}},400354:function(e,t,n){n.d(t,{l:function(){return l}});var i=n(735250),s=n(470079),a=n(709014);let r={deafen:{name:"deafen",start:0,duration:70},undeafen:{name:"undeafen",start:110,duration:70},hover_undeafened:{name:"hover_undeafened",start:200,duration:70},hover_deafened:{name:"hover_deafened",start:300,duration:70}},l=e=>{let t=s.useRef(null),l=s.useRef(e),o=s.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=s.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.play(n)},[e]),d=s.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.stopIfPlaying(n)},[e]);return{events:{onClick:o,onMouseEnter:c,onMouseLeave:d},play:o,Component:s.useCallback(e=>(0,i.jsx)(a.L,{...e,src:()=>n.e("68449").then(n.t.bind(n,406785,19)),ref:t,initialAnimation:l.current,markers:r}),[])}}},789639:function(e,t,n){n.d(t,{i:function(){return l}});var i=n(735250),s=n(470079),a=n(709014);let r={all:{name:"all",start:0,duration:66}},l=()=>{let e=s.useRef(null),t=s.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),l=s.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),o=s.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("all")},[]);return{events:{onMouseEnter:l,onMouseLeave:o},play:t,Component:s.useCallback(t=>(0,i.jsx)(a.L,{...t,src:()=>n.e("2199").then(n.t.bind(n,71307,19)),ref:e,markers:r}),[])}}},923462:function(e,t,n){n.d(t,{j:function(){return l}});var i=n(735250),s=n(470079),a=n(709014);let r={all:{name:"all",start:0,duration:66}},l=()=>{let e=s.useRef(null),t=s.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),l=s.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),o=s.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("all")},[]);return{events:{onClick:t,onMouseEnter:l,onMouseLeave:o},play:t,Component:s.useCallback(t=>(0,i.jsx)(a.L,{...t,src:()=>n.e("66944").then(n.t.bind(n,166174,19)),ref:e,markers:r}),[])}}},382600:function(e,t,n){n.d(t,{P:function(){return l}});var i=n(735250),s=n(470079),a=n(709014);let r={disable:{name:"disable",start:0,duration:70},enable:{name:"enable",start:100,duration:70},hover_enabled:{name:"hover_enabled",start:200,duration:70},hover_disabled:{name:"hover_disabled",start:300,duration:70}},l=e=>{let t=s.useRef(null),l=s.useRef(e),o=s.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=s.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.play(n)},[e]),d=s.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.stopIfPlaying(n)},[e]);return{events:{onClick:o,onMouseEnter:c,onMouseLeave:d},play:o,Component:s.useCallback(e=>(0,i.jsx)(a.L,{...e,src:()=>n.e("7584").then(n.t.bind(n,883488,19)),ref:t,initialAnimation:l.current,markers:r}),[])}}},785697:function(e,t,n){n.d(t,{D2:function(){return o},SE:function(){return c}});var i=n(442837),s=n(818083),a=n(496675),r=n(981631);let l=(0,s.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function o(e){return l.useExperiment({guildId:e,location:"dd4beb_1"},{autoTrackExposure:!0})}function c(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.can(r.Plq.MANAGE_GUILD,e)),{enabled:s}=l.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:r.lds,location:"dd4beb_3"},{autoTrackExposure:!0});if(null==e)return!1;let o=e.hasFeature(r.oNc.COMMUNITY);return n&&o&&s}},711237:function(e,t,n){n.d(t,{J_:function(){return l},R6:function(){return a}});var i=n(818083),s=n(987338);let a=(0,i.B)({kind:"user",id:s.fL,label:"Trigger Debugging User AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),r=(0,i.B)({kind:"guild",id:s.nz,label:"Trigger Debugging Guild AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),l=e=>{let t="guild trigger debug",n="user trigger debug";r.useExperiment({location:t,guildId:e},{autoTrackExposure:!1}),r.trackExposure({location:t,guildId:e}),a.useExperiment({location:n},{autoTrackExposure:!1}),a.trackExposure({location:n})}},532835:function(e,t,n){n.d(t,{t:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]});function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.useExperiment({location:"a9e81b_1"},{autoTrackExposure:e})}},650598:function(e,t,n){n.d(t,{O:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-03_mute_block_aa",label:"Safety Consumer Education Block/Mute - A/A",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});function s(){return i.useExperiment({location:"34e1bc_1"},{autoTrackExposure:!0}).enabled}},941129:function(e,t,n){n.d(t,{S:function(){return s},u:function(){return a}});let i=(0,n(818083).B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});function s(){return i.useExperiment({location:"b85a21_1"},{autoTrackExposure:!0}).enabled}function a(){return i.useExperiment({location:"b85a21_2"},{autoTrackExposure:!1}).bucket}},826004:function(e,t,n){n.d(t,{h:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_consumer_education_launch__reporting",label:"Consumer Education Launch - Reporting",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Reporting",config:{bucket:1,enabled:!0}}]});function s(){return i.useExperiment({location:"183c74_1"},{autoTrackExposure:!0}).enabled}},83200:function(e,t,n){n.d(t,{O:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_dm_spam_filter_coachmark",label:"Safety DM Spam Filter Coachmark rollout",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(){return i.useExperiment({location:"acbeda_1"},{autoTrackExposure:!1}).enabled}},183126:function(e,t,n){n.d(t,{N:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(){return i.useExperiment({location:"c10bec_1"},{autoTrackExposure:!0}).enabled}},447269:function(e,t,n){n.d(t,{r:function(){return r}});var i=n(817718),s=n(612226),a=n(981631);let r={...s.oT,[a.EkH.CAROUSEL_NEXT]:i.lI,[a.EkH.CAROUSEL_PREV]:i.hd}},507885:function(e,t,n){n(47120);var i,s=n(442837),a=n(570140),r=n(701488);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=new Set,c=new Set([r.ES.DISCORD_TURNS_8]);class d extends(i=s.ZP.PersistedStore){initialize(e){null!=e&&(Array.isArray(e.acknowledged)&&(o=new Set(e.acknowledged)),Array.isArray(e.opened)&&(c=new Set(e.opened)))}getState(){return{acknowledged:o,opened:c}}getOpened(){return c}getAcknowledged(){return o}isOpened(e){return c.has(e)}isAcknowledged(e){return o.has(e)}}l(d,"displayName","ActivitiesWhatsNewStore"),l(d,"persistKey","ActivitiesWhatsNewStore"),t.Z=new d(a.Z,{ACTIVITIES_WHATS_NEW_ACKNOWLEDGE_SECTION:function(e){let{section:t}=e;o.add(t)},ACTIVITIES_WHATS_NEW_MARK_OPENED_SECTION:function(e){let{section:t}=e;c.add(t)}})},379146:function(e,t,n){n.d(t,{q:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_birthday_activities_whats_new_gdm_tile",label:"Birthday Activities Whats New GDM Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable GDM tile",config:{enabled:!0}}]})},273003:function(e,t,n){n.d(t,{q:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_birthday_activities_jamspace_tile",label:"Birthday Activities Whats New Jamspace Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Jamspace tile",config:{enabled:!0}}]})},754332:function(e,t,n){n.d(t,{m:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-05_birthday_activities_poker",label:"Birthday Activities Poker Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Poker tile",config:{enabled:!0}}]})},140863:function(e,t,n){n.d(t,{u:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_birthday_activities_putt_party_tile",label:"Birthday Activities Whats New Putt Party Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Putt Party tile",config:{enabled:!0}}]})},573979:function(e,t,n){n.d(t,{Z:function(){return o}});var i,s,a,r,l=n(358085);function o(e){if((0,l.isIOS)())return e;if(!(0,l.isAndroid)())return -1;switch(e){case 0:return 0;case 1:case 2:return 1;case 3:return 2;case 4:case 5:case 6:return 3;default:return -1}}(i=a||(a={}))[i.UNHANDLED=-1]="UNHANDLED",i[i.NOMINAL=0]="NOMINAL",i[i.FAIR=1]="FAIR",i[i.SERIOUS=2]="SERIOUS",i[i.CRITICAL=3]="CRITICAL",(s=r||(r={}))[s.NONE=0]="NONE",s[s.LIGHT=1]="LIGHT",s[s.MODERATE=2]="MODERATE",s[s.SEVERE=3]="SEVERE",s[s.CRITICAL=4]="CRITICAL",s[s.EMERGENCY=5]="EMERGENCY",s[s.SHUTDOWN=6]="SHUTDOWN"},257968:function(e,t,n){n.d(t,{c:function(){return u},p:function(){return d}});var i=n(442837),s=n(507885),a=n(379146),r=n(273003),l=n(754332),o=n(140863),c=n(701488);function d(){return(0,i.e7)([s.Z],()=>u(s.Z))}function u(e){let t=0,n=e.getAcknowledged();return a.q.getCurrentConfig({location:"1d9280_2"}).enabled&&!n.has(c.ES.GDM_ACTIVITIES)&&t++,o.u.getCurrentConfig({location:"1d9280_3"}).enabled&&!n.has(c.ES.PUTT_PARTY)&&t++,r.q.getCurrentConfig({location:"1d9280_4"}).enabled&&!n.has(c.ES.JAMSPACE)&&t++,l.m.getCurrentConfig({location:"1d9280_5"}).enabled&&!n.has(c.ES.POKER)&&t++,!n.has(c.ES.DISCORD_TURNS_8)&&t<=0&&t++,t}},596223:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}},258220:function(e,t,n){n.r(t),n.d(t,{ACTIVITY_ENCOURAGES_HW_ACCELERATION:function(){return E},default:function(){return I}}),n(47120);var i=n(735250),s=n(470079),a=n(481060),r=n(153867),l=n(835473),o=n(285952),c=n(626135),d=n(998502),u=n(981631),_=n(689938),h=n(429682);let E="Activity Encourages Hardware Acceleration";function I(e){var t;let{applicationId:n,...I}=e,[m,g]=s.useState(!1),[p]=(0,l.Z)([n]),T=null!==(t=null==p?void 0:p.name)&&void 0!==t?t:"This Activity";s.useEffect(()=>{c.default.track(u.rMx.OPEN_MODAL,{type:E})},[]);let S=()=>{let e="temporary";m&&(e="permanent",r.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})),c.default.track(u.rMx.MODAL_DISMISSED,{type:E,dismiss_type:e}),I.onClose()};return(0,i.jsxs)(a.ModalRoot,{className:h.root,"aria-label":_.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE,...I,children:[(0,i.jsxs)(a.ModalHeader,{separator:!1,children:[(0,i.jsx)(a.Text,{className:h.__invalid_header,variant:"text-lg/normal",children:_.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE}),(0,i.jsx)(a.ModalCloseButton,{onClick:S,className:h.closeButton})]}),(0,i.jsx)(a.ModalContent,{className:h.content,children:(0,i.jsx)(a.Text,{variant:"text-md/normal",className:h.__invalid_ratingBody,children:_.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:T})})}),(0,i.jsxs)(a.ModalFooter,{className:h.footer,direction:o.Z.Direction.HORIZONTAL,children:[(0,i.jsx)(a.Checkbox,{type:a.Checkbox.Types.INVERTED,size:18,value:m,onChange:()=>g(!m),children:(0,i.jsx)(a.Text,{variant:"text-sm/normal",children:_.Z.Messages.DONT_SHOW_AGAIN})}),(0,i.jsx)(a.Button,{color:a.Button.Colors.PRIMARY,onClick:S,children:_.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS}),(0,i.jsx)(a.Button,{color:a.Button.Colors.BRAND,onClick:()=>{c.default.track(u.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n}),d.ZP.setEnableHardwareAcceleration(!0)},children:_.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON})]})]})}},918854:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>Promise.all([n.e("54441"),n.e("77485")]).then(n.bind(n,495810)),webpackId:495810})},279240:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>n.e("77721").then(n.bind(n,139230)),webpackId:139230})},813615:function(e,t,n){n.d(t,{Z:function(){return l}}),n(789020);var i=n(928518),s=n(630388),a=n(917107),r=n(981631);function l(e,t){var n;let l=(0,s.yE)(null!==(n=e.flags)&&void 0!==n?n:0,r.udG.EMBEDDED),o=i.Z.getWindowOpen(r.KJ3.CHANNEL_CALL_POPOUT);return l&&o&&(0,a.Z)(t)}},230487:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var s=n(481060),a=n(740492),r=n(626135),l=n(358085),o=n(998502),c=n(258220),d=n(981631);let u="activity-hardware-acceleration-modal";function _(e){!a.ZP.disableActivityHardwareAccelerationPrompt&&l.isPlatformEmbedded&&!o.ZP.getEnableHardwareAcceleration()&&(0,s.openModalLazy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,258220));return n=>(0,i.jsx)(t,{applicationId:e,...n})},{modalKey:u,onCloseRequest:()=>{r.default.track(d.rMx.MODAL_DISMISSED,{type:c.ACTIVITY_ENCOURAGES_HW_ACCELERATION}),(0,s.closeModal)(u)}})}},838195:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(481060),a=n(522474),r=n(981631);function l(e){let{applicationId:t,channelId:l,mediaUrl:o}=e,c=a.Z.getWindowOpen(r.KJ3.CHANNEL_CALL_POPOUT)?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT;(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("4530").then(n.bind(n,899201));return n=>(0,i.jsx)(e,{applicationId:t,channelId:l,mediaUrl:o,...n})},{modalKey:"activity-share-moment-modal",contextKey:c})}},622822:function(e,t,n){n.d(t,{b:function(){return r}});var i=n(594174),s=n(709054);let a=new Date("06/16/2020");function r(){let e=i.default.getCurrentUser();return null!=e&&s.default.extractTimestamp(e.id)>a.getTime()&&!e.isClaimed()&&null==e.nsfwAllowed}},687751:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770),l=n(592125),o=n(944486),c=n(914010),d=n(594174),u=n(758119),_=n(920644),h=n(208381),E=n(723359),I=n(981631);function m(e,t){var n;if(null==e)return;let i=d.default.getCurrentUser();(null===(n=l.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=i&&null==i.nsfwAllowed&&(0,u.mN)(E.L0.NSFW_CHANNEL)}class g extends r.Z{_initialize(){a.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect),a.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),a.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),a.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),a.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}_terminate(){a.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect),a.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),a.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),a.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),a.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}handleChannelSelect(e){let{guildId:t,channelId:n}=e;m(t,n)}handleConnectionOpen(){let e=c.Z.getGuildId();m(e,o.Z.getChannelId())}handleAgeGateModalOpen(e){let{source:t}=e;(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("1716")]).then(n.bind(n,746882));return n=>(0,i.jsx)(e,{source:t,...n})},{modalKey:E.dG,onCloseRequest:I.dG4})}handleAgeGateSuccess(){(0,s.updateModal)(E.dG,e=>(0,i.jsx)(h.Z,{...e}))}handleAgeGateFailure(e){let{underageMessage:t}=e;(0,s.updateModal)(E.dG,e=>(0,i.jsx)(_.Z,{underageMessage:t,...e}))}handleAgeGateModalClose(){(0,s.closeModal)(E.dG)}}t.Z=new g},920644:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var s=n(990547),a=n(481060),r=n(703656),l=n(153124),o=n(63063),c=n(758119),d=n(981631),u=n(689938),_=n(100102);function h(){(0,c.qV)(),(0,r.uL)(d.Z5c.LOGIN)}function E(e){let{underageMessage:t,transitionState:r}=e,c=(0,l.Dt)();return(0,i.jsxs)(a.ModalRoot,{transitionState:r,size:a.ModalSize.SMALL,"aria-labelledby":c,impression:{impressionName:s.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(a.ModalContent,{children:(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("img",{alt:"",src:n(231443),className:_.img}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:_.title,id:c,children:u.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER}),(0,i.jsx)(a.Text,{color:"header-secondary",className:_.subtitle,variant:"text-sm/normal",children:u.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:u.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:o.Z.getArticleURL(d.BhN.AGE_GATE)})}),(0,i.jsx)(a.Text,{color:"header-secondary",className:_.subtitle,variant:"text-sm/normal",children:u.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})})]})}),(0,i.jsx)(a.ModalFooter,{children:(0,i.jsx)(a.Button,{size:a.ButtonSizes.SMALL,fullWidth:!0,onClick:h,children:u.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})})]})}},208381:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(990547),a=n(481060),r=n(153124),l=n(758119),o=n(689938),c=n(260809);function d(e){let{transitionState:t}=e,d=(0,r.Dt)();return(0,i.jsxs)(a.ModalRoot,{transitionState:t,size:a.ModalSize.SMALL,"aria-labelledby":d,impression:{impressionName:s.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(a.ModalContent,{children:(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsx)("img",{alt:"",src:n(863181),className:c.img}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:c.title,id:d,children:o.Z.Messages.AGE_GATE_AGE_VERIFIED}),(0,i.jsx)(a.Text,{color:"header-secondary",className:c.subtitle,variant:"text-sm/normal",children:o.Z.Messages.AGE_GATE_AGE_VERIFIED_BODY})]})}),(0,i.jsx)(a.ModalFooter,{children:(0,i.jsx)(a.Button,{size:a.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,l.qV)()},autoFocus:!0,children:o.Z.Messages.CLOSE})})]})}},912471:function(e,t,n){n.d(t,{DL:function(){return L}}),n(411104);var i=n(433517),s=n(570140),a=n(188471),r=n(581567),l=n(594190),o=n(19780),c=n(626135),d=n(70956),u=n(848479),_=n(960048),h=n(844889),E=n(981631);let I="LATEST_HEARTBEAST_EVENT_TIMESTAMP",m=null,g=null,p=null,T=!1;async function S(){if(T)return;T=!0,(0,h.fr)(!0),_.Z.addBreadcrumb({message:"Start Analytics Heartbeat"});let e=await i.K.getAfterRefresh(I).then(h.Hg);if(!T)return;let t=Date.now(),n=15*d.Z.Millis.MINUTE+e-t;n>d.Z.Millis.HOUR&&_.Z.addBreadcrumb({message:"Received invalid Date.now() when generating a heartbeat. Date.now() = ".concat(t,", timeUntilNextHeartbeat = ").concat(n,", latestHeartbeatEventTimestamp = ").concat(e)}),e>t&&(n=0),_.Z.addBreadcrumb({message:"Received Last Heartbeat Event Timestamp. Time Until Next Heartbeat: ".concat(n/1e3," seconds. Scheduling Heartbeat")}),C(!1),g=setTimeout(()=>{f(),m=setInterval(()=>{f()},15*d.Z.Millis.MINUTE)},Math.max(n,0))}function C(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];null!=g&&(clearTimeout(g),g=null),null!=m&&(clearInterval(m),m=null),null!=p&&e&&(_.Z.addBreadcrumb({message:"Heartbeat correctly scheduled. Clearing 10s check timeout"}),clearTimeout(p),p=null)}async function f(){let e=Date.now(),t=await (0,h.Gg)(),n=Date.now();if(null==t){_.Z.captureException(Error("Null session when tracking session heartbeat. Waited ".concat(n-e,"ms")));return}if(!T){_.Z.captureException(Error("Heartbeat scheduler not started when tracking session heartbeat.")),C();return}_.Z.addBreadcrumb({message:"Tracking Heartbeat",data:{initialized:t.initialized}});let s={client_heartbeat_initialization_timestamp:t.initialized,client_heartbeat_version:17},o=u.Z.getMemoryUsageElectronRenderer();null!=o&&(s.client_heartbeat_renderer_memory=o);let d=u.Z.getMemoryUsageElectronRendererUsedHeapSize();null!=d&&(s.client_heartbeat_renderer_memory_used_heap=d);{let e=l.ZP.getCurrentGameForAnalytics();null!=e&&(s.client_heartbeat_current_game_id=e.id,s.client_heartbeat_current_game_name=e.name,s.client_heartbeat_current_game_executable=(0,r.N6)(e.exePath),s.client_heartbeat_current_game_distributor=e.distributor)}c.default.track(E.rMx.CLIENT_HEARTBEAT,s),i.K.set(I,Date.now().toString()),(0,a.Z)()}let N=null,A=!0;function Z(){if(A||null!=N&&N!==E.hes.DISCONNECTED&&N!==E.hes.RTC_DISCONNECTED)try{S()}catch(e){_.Z.captureException(e)}else!function(){if(!!T)T=!1,_.Z.addBreadcrumb({message:"Stopping Analytics Heartbeat"}),(0,h.fr)(!1),C(),(0,a.Z)()}()}function L(){_.Z.addBreadcrumb({message:"Initializing SessionHeartbeatScheduler"}),o.Z.addChangeListener(O),s.Z.subscribe("WINDOW_FOCUS",R),s.Z.subscribe("APP_STATE_UPDATE",x),s.Z.subscribe("LOGIN_SUCCESS",v),Z()}function v(){f()}function O(){let e=o.Z.getState();N!==e&&(N=e,Z())}function R(e){let{focused:t}=e;A=t,Z()}function x(e){let{state:t}=e;A=t===E.$7l.ACTIVE,Z()}},360347:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(699516),s=n(453542);function a(){return{num_friends:i.Z.getFriendCount(),num_outgoing_requests:i.Z.getOutgoingCount(),num_incoming_requests:i.Z.getPendingCount(),...(0,s.X)()}}},176881:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(626135),s=n(188471),a=n(360347),r=n(981631);function l(e){var t,n,l;let{tab_opened:o,source:c}=e,d=(0,a.Z)();i.default.track(r.rMx.FRIENDS_LIST_VIEWED,{tab_opened:o,source:c,...d}),(0,s.a)(r.rMx.FRIENDS_LIST_VIEWED_CLICKSTREAM,{tab_opened:null!=o?o:"tabless",num_friends:null!==(t=d.num_friends)&&void 0!==t?t:0,now_playing_visible:null!==(n=d.now_playing_visible)&&void 0!==n&&n,now_playing_num_cards:null!==(l=d.now_playing_num_cards)&&void 0!==l?l:0})}},515550:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var s=n(481060),a=n(230711),r=n(100527),l=n(906732),o=n(170671),c=n(981631),d=n(921944),u=n(689938),_=n(893895);function h(e){let{markAsDismissed:t}=e,{analyticsLocations:n}=(0,l.ZP)(r.Z.APP_ICON_NEW_STYLES_COACHMARK);return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("div",{className:_.banner}),(0,i.jsx)(s.Button,{"aria-label":u.Z.Messages.CLOSE,look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onClick:()=>{t(d.L.USER_DISMISS)},className:_.closeButton,children:(0,i.jsx)(s.CloseSmallIcon,{size:"xs",className:_.closeIcon,color:"white"})}),(0,i.jsxs)("div",{className:_.body,children:[(0,i.jsx)(s.Heading,{variant:"heading-md/extrabold",className:_.text,children:u.Z.Messages.APP_ICON_NEW_STYLES_HEADER}),(0,i.jsxs)("div",{className:_.poweredByNitroContainer,children:[(0,i.jsx)(o.Z,{className:_.icon,isSelected:!0}),(0,i.jsx)(s.Text,{variant:"text-xxs/medium",className:_.text,children:u.Z.Messages.POWERED_BY_NITRO})]}),(0,i.jsx)(s.Text,{variant:"text-sm/medium",className:_.text,children:u.Z.Messages.APP_ICON_NEW_STYLES_BODY})]}),(0,i.jsx)(s.Button,{className:_.cta,look:s.Button.Looks.FILLED,color:s.Button.Colors.CUSTOM,onClick:()=>{t(d.L.TAKE_ACTION),a.Z.open(c.oAB.APPEARANCE,null,{openWithoutBackstack:!0,analyticsLocations:n})},children:u.Z.Messages.APP_ICON_NEW_STYLES_CTA}),(0,i.jsx)("div",{className:_.pointer})]})}},141233:function(e,t,n){n(40455),n(430198),n(353926),n(893966),n(734307),n(803141),n(355298),n(333984),n(914788),n(869765),n(621853),n(706454),n(210887),n(581883),n(592125),n(324067),n(984933),n(271383),n(93093),n(888369),n(430824),n(375954),n(496675),n(306680),n(771845),n(9156),n(594174),n(55589)},371398:function(e,t,n){n(590965),n(317381),n(40455),n(458772),n(368321),n(541099),n(174212),n(213459),n(998698),n(812206),n(344532),n(292584),n(758182),n(358221),n(12498),n(430198),n(719247),n(146282),n(281320),n(339085),n(174065),n(353926),n(735020),n(774863),n(238349),n(660189),n(682474),n(581036),n(208970),n(5254),n(669764),n(317632),n(420491),n(972830),n(487419),n(223606),n(580079),n(937111),n(893966),n(45966),n(819553),n(240864),n(408042),n(289393),n(687476),n(924301),n(734307),n(803141),n(41776),n(487554),n(48929),n(584731),n(748902),n(355298),n(333984),n(726745),n(140155),n(109497),n(601992),n(541692),n(502087),n(628566),n(823385),n(455199),n(807092),n(869765),n(359119),n(768419),n(565799),n(88751),n(742738),n(427679),n(926491),n(765104),n(601070),n(344185),n(920303),n(569471),n(159299),n(260483),n(144140),n(10401),n(151662),n(706454),n(210887),n(581883),n(243852),n(450795),n(543882),n(199902),n(314897),n(523746),n(680089),n(237904),n(439170),n(624453),n(184107),n(592125),n(58468),n(553795),n(480294),n(906467),n(857192),n(703558),n(831506),n(82142),n(165630),n(486472),n(324067),n(984933),n(650774),n(720202),n(271383),n(93093),n(888369),n(430824),n(797316),n(607744),n(674985),n(341165),n(131951),n(542578),n(375954),n(722086),n(649974),n(209590),n(496675),n(571474),n(158776),n(358652),n(544610),n(878884),n(19780),n(306680),n(699516),n(768119),n(944486),n(914010),n(885110),n(797258),n(771845),n(606304),n(215427),n(959457),n(558724),n(111583),n(62817),n(9156),n(23434),n(594174),n(33039),n(979651),n(351402),n(192513),n(456065),n(173747),n(55589),n(938475),n(974042),n(417363),n(941128),n(556296),n(974180),n(808506),n(237997)},838134:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=n(735250),s=n(470079),a=n(266067),r=n(608787),l=n(765717),o=n(981631);let c=s.lazy(()=>(0,r.wE)({createPromise:()=>Promise.all([n.e("29549"),n.e("6380"),n.e("31605"),n.e("18101"),n.e("65840"),n.e("77172"),n.e("81539"),n.e("12894"),n.e("89131"),n.e("11256"),n.e("6079")]).then(n.bind(n,753450)),webpackId:753450})),d=s.lazy(()=>(0,r.wE)({createPromise:()=>Promise.all([n.e("6380"),n.e("18101"),n.e("65840"),n.e("12894"),n.e("96244")]).then(n.bind(n,74438)),webpackId:74438})),u=s.lazy(()=>(0,r.wE)({createPromise:()=>Promise.all([n.e("6380"),n.e("18101"),n.e("65840"),n.e("12894"),n.e("82328")]).then(n.bind(n,675869)),webpackId:675869}));function _(){return(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(l.Z,{path:o.Z5c.APPLICATION_DIRECTORY,exact:!0,component:d}),(0,i.jsx)(l.Z,{path:o.Z5c.APPLICATION_DIRECTORY_SEARCH,component:u}),(0,i.jsx)(l.Z,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",":section?"),component:c})]})}},77987:function(e,t,n){n.d(t,{e:function(){return o}});var i=n(735250);n(470079);var s=n(314897),a=n(449934),r=n(857458),l=n(981631);function o(e,t){var n,o;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function d(n){if(!(0,a.$8)()&&s.default.getLoginStatus()!==l.u34.LOGGING_IN&&s.default.allowLogoutRedirect())return null!=t?(0,i.jsx)(t,{renderRedirect:(0,i.jsx)(r.Z,{})}):(0,i.jsx)(r.Z,{});return(0,i.jsx)(e,{...c.passProps?n:null})}return d.displayName="Authenticated(".concat(null!==(o=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==o?o:"<Unknown>",")"),d}},821982:function(e,t,n){var i=n(768581),s=n(1585);t.Z=(e,t,n)=>(0,i.NZ)({avatarDecoration:{asset:e},size:(0,s.y9)(t),canAnimate:n})},498058:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(470079),s=n(442837),a=n(592125),r=n(594174),l=n(292584),o=n(158631);function c(e){var t;let n=(0,s.e7)([r.default],()=>r.default.getCurrentUser()),c=(0,s.e7)([a.Z],()=>a.Z.getChannel(e)),d=(0,s.e7)([l.Z],()=>null!=e?l.Z.getBroadcastByChannel(e):null),u=(0,o.ZP)(),_=i.useMemo(()=>{var e,t;return null!==(t=null==c?void 0:null===(e=c.recipients)||void 0===e?void 0:e.map(e=>r.default.getUser(e)).filter(e=>null!=e&&e.id!==(null==d?void 0:d.userId)))&&void 0!==t?t:[]},[null==d?void 0:d.userId,null==c?void 0:c.recipients]);return null==n?[]:u?_:null!==(t=_.length>0?[n].concat(_):null==d?void 0:d.viewers)&&void 0!==t?t:[]}},106674:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(692547),l=n(481060),o=n(287734),c=n(872810),d=n(367907),u=n(835473),_=n(871118),h=n(543882),E=n(314897),I=n(944486),m=n(594174),g=n(366695),p=n(602623),T=n(51144),S=n(498058),C=n(158631),f=n(143614),N=n(981631),A=n(70722),Z=n(689938),L=n(106963);function v(e){let{users:t}=e;return(0,i.jsxs)("div",{className:L.viewers,children:[(0,i.jsx)(l.VoiceNormalIcon,{size:"custom",width:16,height:16,color:r.Z.colors.HEADER_PRIMARY.css}),(0,i.jsx)(p.Z,{showUserPopout:!0,useFallbackUserForPopout:!0,users:t,max:6,size:p.u.SIZE_24})]})}function O(e){var t;let{broadcast:n}=e,{userId:r,applicationId:p,channelId:O,streamKey:R}=n,[x,b]=s.useState(!1),P=(0,a.e7)([m.default],()=>m.default.getUser(r)),[M]=(0,u.Z)([p]),D=null!==(t=T.ZP.getGlobalName(P))&&void 0!==t?t:T.ZP.getUserTag(P),y=(0,f.Z)(),j=(0,a.e7)([h.Z],()=>h.Z.getPreviewURL(null,O,r)),U=(0,a.e7)([I.Z],()=>I.Z.getVoiceChannelId()),G=(0,C.ZP)(),k=(0,S.Z)(O);if(s.useEffect(()=>{x&&U===O&&b(!1)},[U,x,O]),null==P||null==D)return null;let{buttonColor:w,buttonCTA:B,disabled:H}=function(e,t){let n=E.default.getId(),i=t.some(e=>e.id===n)||e===n,s=t.length>=N.keq;return{buttonColor:s?l.ButtonColors.RED:l.ButtonColors.GREEN,buttonCTA:s?Z.Z.Messages.BROADCAST_FULL:i?Z.Z.Messages.VIEW_BROADCAST:Z.Z.Messages.JOIN_BROADCAST,disabled:s}}(r,k);return(0,i.jsxs)("div",{className:L.container,children:[(0,i.jsx)(l.Avatar,{size:l.AvatarSizes.SIZE_32,src:P.getAvatarURL(null,32),"aria-label":D}),(0,i.jsxs)("div",{className:L.details,children:[(0,i.jsx)(l.Text,{variant:"text-md/semibold",children:D}),(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"header-secondary",children:null!=M?Z.Z.Messages.STREAMING.format({name:M.name}):Z.Z.Messages.STREAMING_A_GAME}),(0,i.jsxs)("div",{className:L.activity,children:[k.length>0&&(0,i.jsx)(v,{users:k}),(0,i.jsxs)(l.Button,{onClick:()=>{if(U===O){o.default.selectPrivateChannel(O);return}b(!0),(0,c.W1)(O,R),d.ZP.trackWithMetadata(N.rMx.BROADCAST_VIEWED,{num_active_broadcasts:y.length,broadcast_position:y.findIndex(e=>e.userId===r)+1,is_broadcasting:G,broadcast_channel_id:O})},color:w,size:l.ButtonSizes.SMALL,className:L.button,disabled:H,innerClassName:L.innerButton,children:[(0,i.jsx)(l.MicrophoneArrowRightIcon,{size:"custom",color:"currentColor",width:16,height:16}),B]})]})]}),null!=j?(0,i.jsx)(_.Z,{className:L.stream,stream:{streamType:A.lo.CALL,ownerId:r,channelId:O}}):(0,i.jsx)(g.Z,{game:M,size:g.Z.Sizes.LARGE,className:L.gameIcon})]})}},205976:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var s=n(692547),a=n(481060),r=n(436088),l=n(770471),o=n(143614),c=n(106674),d=n(787740),u=n(689938),_=n(985649);function h(){let{canViewBroadcasts:e}=l.Z.useExperiment({location:"broadcast_list_no_track"},{autoTrackExposure:!1}),t=(0,o.Z)();return 0===t.length?null:(l.Z.trackExposure({location:"broadcast_list"}),e)?(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("div",{className:_.header,children:(0,i.jsxs)("div",{className:_.inline,children:[(0,i.jsx)(r.Z,{color:s.Z.colors.HEADER_PRIMARY.css,height:20,width:20}),(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",children:u.Z.Messages.LIVE_BROADCASTS}),(0,i.jsx)(d.Z,{}),(0,i.jsxs)(a.Heading,{variant:"heading-md/semibold",children:[" ",t.length.toLocaleString()]})]})}),t.map(e=>(0,i.jsx)(c.Z,{broadcast:e},e.userId))]}):null}},571250:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(689938);function s(e,t,n){return n?i.Z.Messages.CONSOLE_CONNECTING_DISABLED:t?i.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE:e?i.Z.Messages.UNDEAFEN:i.Z.Messages.DEAFEN}},679891:function(e,t,n){n(47120);var i=n(570140),s=n(846027),a=n(317770),r=n(594190),l=n(928518),o=n(131951),c=n(451478),d=n(981631),u=n(65154);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=new Set,E=new Set,I=null;function m(){for(let e of h)s.Z.setDisableLocalVideo(e,d.ZUi.MANUAL_ENABLED,u.Yn.DEFAULT,!1);E.clear(),h.clear()}class g extends a.Z{_initialize(){i.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.subscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),l.Z.addChangeListener(this.handlePopoutChange)}_terminate(){i.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.unsubscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),l.Z.removeChangeListener(this.handlePopoutChange),m(),I=null}handleIncomingVideo(e){let{userId:t,context:n,streamId:i}=e;if(n!==u.Yn.DEFAULT||null==i)return;let a=null!=r.ZP.getVisibleGame(),_=c.Z.isVisible(),I=l.Z.getWindowVisible(d.KJ3.CHANNEL_CALL_POPOUT),m=o.Z.isLocalVideoDisabled(t,n),g=E.has(t);a&&!_&&!I&&!m&&!g&&(h.add(t),s.Z.setDisableLocalVideo(t,d.ZUi.DISABLED,n,!1))}handleManualLocalVideoToggle(e){let{userId:t,persist:n}=e;n&&(E.add(t),h.delete(t))}constructor(...e){super(...e),_(this,"handleWindowVisibilityChange",e=>{let{visible:t}=e;t&&m()}),_(this,"handleVoiceChannelSelect",e=>{let{channelId:t}=e;t!==I&&(m(),I=t)}),_(this,"handlePopoutChange",()=>{l.Z.getWindowVisible(d.KJ3.CHANNEL_CALL_POPOUT)&&m()})}}t.Z=new g},55311:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(481060),a=n(846027),r=n(468026),l=n(689938);function o(e){if(e){(0,s.openModal)(e=>(0,i.jsx)(r.default,{...e,title:l.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:l.Z.Messages.SERVER_DEAFENED_DIALOG_BODY}));return}a.Z.toggleSelfDeaf()}},320149:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(541716),o=n(910611),c=n(355298),d=n(333984),u=n(26373),_=n(486622),h=n(718538),E=n(359110),I=n(6025),m=n(433355),g=n(502568),p=n(933557),T=n(287746),S=n(689938),C=n(240196),f=n(712759);function N(e){let{channel:t,baseChannelId:n}=e,N=(0,p.ZP)(t),A=(0,u.K)(),Z=(0,u.V)(),L=(0,a.e7)([c.Z],()=>c.Z.isMessageRequest(t.id)),v=(0,a.e7)([d.Z],()=>d.Z.isSpam(t.id)),O=(0,h.V)(t.id,t.getRecipientId()),R=s.useCallback(()=>{I.Z.closeChannelSidebar(m.uZ),L&&A&&(0,E.Kh)(t.id),v&&Z&&(0,E.Kh)(t.id)},[t.id,v,Z,L,A]),x=s.useCallback(()=>{(0,r.showToast)((0,r.createToast)(S.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,r.ToastType.FAILURE))},[]),{markAsNotSpam:b}=(0,_.m)({onAcceptSuccess:R,onError:x});if(null==t||!t.isDM())return null;let P=[(0,i.jsx)(g.ZP.Icon,{icon:r.CloseSmallIcon,tooltip:S.Z.Messages.CLOSE,onClick:()=>I.Z.closeChannelSidebar(n)},"close")];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.ZP,{toolbar:P,"aria-label":S.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,o.ud)({channel:t,channelName:N,inSidebar:!0})}),v&&(0,i.jsxs)("div",{className:f.hamBanner,children:[(0,i.jsx)(r.Text,{className:f.__invalid_hamBannerText,variant:"text-sm/normal",children:S.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_HEADER}),(0,i.jsx)(r.Button,{className:f.hamBannerButton,size:r.ButtonSizes.SMALL,onClick:()=>b(t,O),children:S.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_BUTTON})]}),(0,i.jsx)("div",{className:C.chat,children:(0,i.jsx)(T.Z,{channel:t,guild:null,chatInputType:l.I.SIDEBAR},t.id)})]})}},626421:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(399606),o=n(243778),c=n(914010),d=n(566840),u=n(921944),_=n(805953);let h=s.memo(function(e){var t,n,a;let{state:l,markAsDismissed:o}=e,{name:c,guildId:d,boundingRect:u}=l,h=s.useMemo(()=>(function(e,t,n){return null})(c,0,0),[c,d,o]);if(null==h)return null;return(0,i.jsx)("div",{className:r()(_.upsell,!(null!=(t=u)&&!(t.y<0))&&_.hidden),style:(n=c,null==(a=u)?{}:{top:a.top,left:a.right-a.x}),children:h})});function E(){let e=(0,l.e7)([c.Z],()=>c.Z.getGuildId()),t=(0,d.Eg)(e),[n,s]=(0,o.U)(Object.values(t).filter(e=>{let{disabled:t}=e;return!t}).map(e=>{let{name:t}=e;return t}),u.R.SIDEBAR);if(null==n)return null;let a=t[n];return null==a?null:(0,i.jsx)("div",{className:_.container,children:(0,i.jsx)(h,{state:a,markAsDismissed:s})})}},986332:function(e,t,n){n.d(t,{o:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}=i.useExperiment({location:"c0d6eb_1"},{autoTrackExposure:e});return{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}}},122611:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(704215),l=n(433517),o=n(963202),c=n(824991),d=n(705348),u=n(243778),_=n(360453),h=n(377743),E=n(834743),I=n(862099),m=n(704631),g=n(819792),p=n(919285),T=n(118470),S=n(413307),C=n(849688),f=n(374023),N=n(661599),A=n(923608),Z=n(617899),L=n(8521),v=n(760326),O=n(536687),R=n(652785),x=n(981631),b=n(921944);function P(e){e.stopPropagation()}function M(e){var t;let{guild:n}=e,[_,I]=s.useState(null!==(t=l.K.get(R.Iv))&&void 0!==t?t:0),g=e=>{l.K.set(R.Iv,e),I(e)},{defaultGameId:p,enableClanCreation:T}=(0,o.St)({guild:n,location:"ChannelNoticesGuard",includeConverted:!1}),S=(0,a.Wu)(R.HG,()=>R.XN.filter(e=>{let{type:t,store:i}=e;if(t===x.vID.CLAN_ADMIN_UPSELL)return T;return null==i?void 0:i.channelNoticePredicate(n,_)}).map(e=>e.dismissibleContentType));return(0,i.jsx)(u.Z,{contentTypes:S,groupName:b.R.CHANNEL_NOTICES,children:e=>{let{visibleContent:t,markAsDismissed:s}=e,a=()=>{g(Date.now()),s(b.L.UNKNOWN)},l=(()=>{switch(t){case r.z.CHANNEL_NOTICE_HUBLINK:return(0,i.jsx)(m.Z,{guild:n,markAsDismissed:a});case r.z.CHANNEL_NOTICE_INVITE:return(0,i.jsx)(Z.Z,{guild:n,markAsDismissed:a});case r.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,i.jsx)(E.Z,{guild:n,markAsDismissed:a});case r.z.CHANNEL_NOTICE_QUICKSWITCHER:return(0,i.jsx)(v.Z,{guild:n,markAsDismissed:a});case r.z.CHANNEL_NOTICE_GUILD_BANNER:return(0,i.jsx)(h.Z,{guild:n,markAsDismissed:a});case r.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE:return(0,i.jsx)(A.Z,{guild:n,markAsDismissed:a});case r.z.LINKED_ROLE_ADMIN_GUILD:return(0,i.jsx)(d.Z,{guild:n,markAsDismissed:()=>s(b.L.UNKNOWN)});case r.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL:return(0,i.jsx)(c.ZP,{guild:n,markAsDismissed:a,defaultGameId:p});default:return null}})();return null==l?null:(0,i.jsx)("div",{onContextMenu:P,children:l})}})}t.Z=e=>{let{guild:t}=e;switch((0,O.Z)(t)){case O.R.ENABLE_PUBLIC_GUILD:return(0,i.jsx)(S.Z,{guild:t});case O.R.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,i.jsx)(_.Z,{guild:t});case O.R.MAX_MEMBER_COUNT:return(0,i.jsx)(L.Z,{guild:t});case O.R.GUILD_LIVE_CHANNEL:return(0,i.jsx)(I.ZP,{guild:t});case O.R.GUILD_MFA_WARNING:return(0,i.jsx)(N.Z,{guild:t});case O.R.COMMANDS_MIGRATION:return(0,i.jsx)(p.Z,{guild:t});case O.R.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,i.jsx)(T.Z,{guild:t});case O.R.HUB_STUDY_ROOM:return(0,i.jsx)(g.Z,{guild:t});case O.R.SIGNUP:return(0,i.jsx)(C.Z,{guild:t})}return f.s.isDisallowPopupsSet()?null:(0,i.jsx)(M,{guild:e.guild})}},652785:function(e,t,n){n.d(t,{HG:function(){return E},Iv:function(){return _},XN:function(){return h}});var i=n(704215),s=n(823385),a=n(327689),r=n(421176),l=n(989695),o=n(456065),c=n(683743),d=n(823379),u=n(981631);let _="lastHiddenChannelNotice",h=[{type:u.vID.CLAN_ADMIN_UPSELL,dismissibleContentType:i.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL},{type:u.vID.GUILD_BOOSTING,store:r.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:u.vID.GUILD_BANNER,store:a.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_GUILD_BANNER},{type:u.vID.INVITE,store:c.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_INVITE},{type:u.vID.HUB_LINK,store:o.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_HUBLINK},{type:u.vID.QUICKSWITCHER,store:s.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_QUICKSWITCHER},{type:u.vID.GUILD_ONBOARDING_UPSELL,store:l.Z,dismissibleContentType:i.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE},{type:u.vID.LINKED_ROLES_ADMIN,dismissibleContentType:i.z.LINKED_ROLE_ADMIN_GUILD}],E=h.map(e=>e.store).filter(d.lm)},661599:function(e,t,n){var i=n(735250),s=n(470079),a=n(230711),r=n(82950),l=n(981631),o=n(689938),c=n(510342);class d extends s.PureComponent{render(){return(0,i.jsx)(r.Z,{guild:this.props.guild,onClick:()=>a.Z.open(l.oAB.ACCOUNT),message:o.Z.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:o.Z.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:l.PsQ.GUILD_MFA_WARNING,type:l.vID.MFA_WARNING,image:c,imageMarginX:54,undismissable:!0})}}t.Z=d},923608:function(e,t,n){var i=n(735250),s=n(470079),a=n(704215),r=n(605236),l=n(150340),o=n(434404),c=n(626135),d=n(428695),u=n(981631),_=n(921944),h=n(689938);t.Z=e=>{let{guild:t,markAsDismissed:n}=e;s.useEffect(()=>{(0,r.kk)(a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)},[]);let E=s.useCallback(()=>{o.Z.open(t.id,u.pNK.ONBOARDING),c.default.track(u.rMx.UPSELL_CLICKED,{type:a.z[a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE],action:"primary"}),(0,r.EW)(a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE,{dismissAction:_.L.PRIMARY}),(0,l.G)(t.id,a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)},[t.id]),I=s.useCallback(()=>{c.default.track(u.rMx.UPSELL_CLICKED,{type:a.z[a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE],action:"dismiss"}),n(_.L.UNKNOWN),(0,l.G)(t.id,a.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)},[t.id,n]);return(0,i.jsx)(d.Z,{guild:t,onDismissed:I,onClick:E,title:h.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_TITLE,message:h.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_MESSAGE,cta:h.Z.Messages.CHECK_IT_OUT,trackingSource:u.PsQ.GUILD_ONBOARDING_UPSELL_NOTICE,type:u.vID.GUILD_ONBOARDING_UPSELL})}},617899:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(481060),r=n(904245),l=n(944486),o=n(82950),c=n(981631),d=n(921944),u=n(689938),_=n(589148);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends s.PureComponent{render(){let e="".concat(u.Z.Messages.INVITE_NOTICE_MESSAGE,"\n").concat(u.Z.Messages.INVITE_NOTICE_MESSAGE_PART_2);return(0,i.jsx)(o.Z,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:u.Z.Messages.INVITE_PEOPLE,trackingSource:c.PsQ.INVITE_NOTICE,type:c.vID.INVITE,image:_,imageMarginX:46})}constructor(...e){super(...e),h(this,"handleInvite",()=>{let{guild:e}=this.props;(0,a.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("21026")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,source:c.t4x.INVITE_NOTICE})})}),h(this,"handleClose",()=>{let e=l.Z.getChannelId();this.props.markAsDismissed(d.L.UNKNOWN),null!=e&&r.Z.sendBotMessage(e,u.Z.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:u.Z.Messages.INVITE_PEOPLE}))})}}t.Z=E},662842:function(e,t,n){n.d(t,{Z:function(){return k}}),n(47120);var i,s,a=n(735250),r=n(470079),l=n(120356),o=n.n(l),c=n(442837),d=n(692547),u=n(481060),_=n(232567),h=n(100527),E=n(471445),I=n(15274),m=n(924301),g=n(504160),p=n(151864),T=n(725436),S=n(497656),C=n(554747),f=n(230900),N=n(854698),A=n(703656),Z=n(922482),L=n(565799),v=n(501655),O=n(427679),R=n(448206),x=n(484459),b=n(103575),P=n(496675),M=n(594174),D=n(662868),y=n(981631),j=n(765305),U=n(689938),G=n(366846);(s=i||(i={}))[s.STAGE=0]="STAGE",s[s.EVENT_EXTERNAL=1]="EVENT_EXTERNAL",s[s.EVENT_VOICE=2]="EVENT_VOICE",s[s.STUDY_ROOM=3]="STUDY_ROOM";function k(e){let{guild:t,isStudyRoomNotice:n=!1}=e,i=(0,S.y)(t.id),s=(0,C.k5)(t.id),l=(0,c.e7)([O.Z],()=>O.Z.getStageInstanceByChannel(null==i?void 0:i.id),[i]),{isStageNoticeHidden:k,isEventNoticeHidden:w}=(0,c.cj)([p.Z],()=>({isStageNoticeHidden:p.Z.isLiveChannelNoticeHidden({stageId:null==l?void 0:l.id}),isEventNoticeHidden:p.Z.isLiveChannelNoticeHidden({eventId:null==s?void 0:s.id})}),[l,s]),B=null==i?void 0:i.id,H=(0,c.Wu)([L.Z],()=>[...new Set(L.Z.getMutableParticipants(B,v.pV.SPEAKER).map(e=>e.user))],[B]),V=(0,c.e7)([L.Z],()=>null!=B?L.Z.getParticipantCount(B,v.pV.AUDIENCE):0,[B]),F=(0,c.e7)([P.Z],()=>P.Z.can(y.Plq.CONNECT,i)),Y=(0,R.Z)(null==i?void 0:i.id),W=null==s?void 0:s.creator_id,z=(0,c.e7)([M.default],()=>M.default.getUser(W),[W]);r.useEffect(()=>{null!=W&&(0,_.PR)(W)},[W]);let{noticeType:K,title:q,location:Q,locationIcon:X,canListenIn:J,buttonText:$,users:ee,overflowUsers:et,onClose:en}=r.useMemo(()=>(function(e){let{guildEvent:t,stageInstance:n,activeChannel:i,canConnect:s,myRole:r,eventCreator:l,speakers:o,listenerCount:c,isEventNoticeHidden:d,isStageNoticeHidden:_,isStudyRoomNotice:h}=e,I=null!=n&&null!=i&&!_,p=null!=t?(0,N.DK)(t):null;if(h&&null!=i){let e=(0,E.KS)(i);return{noticeType:3,title:"\uD83D\uDCDA ".concat(i.name),location:U.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=e?(0,a.jsx)(e,{size:"xs",color:"currentColor",className:G.locationIcon}):null,canListenIn:s,buttonText:U.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,users:[],overflowUsers:null}}if(null==t||d){if(I){let e=U.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;return(null==r?void 0:r.speaker)?e=U.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=r&&(e=U.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,a.jsx)(u.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:G.locationIcon}),canListenIn:s,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:o.length>5?o.slice(0,5):o,overflowUsers:c<1?null:(0,a.jsxs)("div",{className:G.pill,children:[(0,a.jsx)(u.HeadphonesIcon,{size:"custom",color:"currentColor",width:12,height:12,className:G.pillIcon}),(0,a.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:G.pillLabel,children:c})]})}}}else{if(t.entity_type===j.WX.STAGE_INSTANCE&&I){let e=U.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;return(null==r?void 0:r.speaker)?e=U.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=r&&(e=U.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,a.jsx)(u.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:G.locationIcon}),canListenIn:s,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:o.length>5?o.slice(0,5):o,overflowUsers:c<1?null:(0,a.jsxs)("div",{className:G.pill,children:[(0,a.jsx)(u.HeadphonesIcon,{size:"custom",color:"currentColor",width:12,height:12,className:G.pillIcon}),(0,a.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:G.pillLabel,children:c})]})}}if(t.entity_type===j.WX.EXTERNAL){let e=(0,f.cS)(t);if(null==e)return{noticeType:null};let n=m.ZP.getUserCount(t.id,p);return{noticeType:1,title:t.name,location:(0,T.m)(e,!0),locationIcon:(0,a.jsx)(u.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:G.locationIcon}),canListenIn:!1,buttonText:U.Z.Messages.GUILD_EVENT_DETAILS_INFO_TAB_TITLE,onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==l?[]:[l],overflowUsers:n<1?null:(0,a.jsxs)("div",{className:G.pill,children:[(0,a.jsx)(u.StarIcon,{size:"custom",color:"currentColor",width:12,height:12,className:G.pillIcon}),(0,a.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:G.pillLabel,children:n})]})}}else if(t.entity_type===j.WX.VOICE&&null!=i){let e=(0,E.KS)(i),n=m.ZP.getUserCount(t.id,p);return{noticeType:2,title:t.name,location:i.name,locationIcon:null!=e?(0,a.jsx)(e,{size:"xs",color:"currentColor",className:G.locationIcon}):null,canListenIn:s,buttonText:U.Z.Messages.GUILD_EVENT_JOIN,onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==l?[]:[l],overflowUsers:n<1?null:(0,a.jsxs)("div",{className:G.pill,children:[(0,a.jsx)(u.StarIcon,{size:"custom",color:"currentColor",width:12,height:12,className:G.pillIcon}),(0,a.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:G.pillLabel,children:n})]})}}}return{noticeType:null}})({guildEvent:s,stageInstance:l,activeChannel:i,canConnect:F,myRole:Y,eventCreator:z,speakers:H,listenerCount:V,isEventNoticeHidden:w,isStageNoticeHidden:k,isStudyRoomNotice:n}),[s,l,i,F,Y,z,H,V,w,k,n]);return null==K?null:(0,a.jsxs)("div",{className:G.container,children:[null!=en?(0,a.jsx)(u.Clickable,{onClick:en,className:G.close,"aria-label":U.Z.Messages.DISMISS,children:(0,a.jsx)(u.CloseSmallIcon,{size:"md",color:"currentColor",className:G.closeIcon})}):null,(0,a.jsxs)("div",{className:G.header,children:[(0,a.jsx)(D.Z,{color:d.Z.unsafe_rawColors.GREEN_230.css,width:16,height:16}),(0,a.jsx)(u.Text,{variant:"text-xs/semibold",color:"text-positive",children:U.Z.Messages.LIVE})]}),(ee.length>0||null!=et)&&(0,a.jsxs)("div",{className:G.participants,children:[ee.map(e=>(0,a.jsx)(u.Popout,{preload:()=>(0,x.W)(e,{guildId:t.id}),renderPopout:n=>(0,a.jsx)(b.Z,{...n,location:"LiveChannelNotice",userId:e.id,guildId:t.id,newAnalyticsLocations:[h.Z.AVATAR]}),position:"right",children:n=>(0,a.jsx)(u.Avatar,{...n,src:e.getAvatarURL(t.id,24),"aria-label":e.username,size:u.AvatarSizes.SIZE_24,className:G.avatar})},e.id)),et]}),(0,a.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:o()(G.title,G.live),children:q}),(0,a.jsxs)("div",{className:G.locationContainer,children:[X,(0,a.jsx)(u.Text,{variant:"text-xs/normal",color:"text-muted",className:G.location,children:Q})]}),J||1===K?(0,a.jsx)(u.Button,{size:u.Button.Sizes.SMALL,color:u.Button.Colors.GREEN,onClick:()=>{if(J)null!=i&&null!=i.getGuildId()&&((0,Z.Cq)(i),(0,A.XU)(i.getGuildId(),i.id));else{if(null==s)return;(0,I.bO)({eventId:s.id})}},className:G.button,fullWidth:!0,children:$}):null]})}},8521:function(e,t,n){var i=n(735250),s=n(470079),a=n(949389),r=n(63063),l=n(82950),o=n(981631),c=n(689938),d=n(511189);t.Z=e=>{let{guild:t}=e,n=s.useCallback(()=>{(0,a.xm)(t.id)},[t.id]);return(0,i.jsx)(l.Z,{guild:t,onDismissed:n,message:c.Z.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:r.Z.getArticleURL(o.BhN.MAX_MEMBERS)}),type:o.vID.MAX_MEMBER_COUNT,image:d,imageMarginX:61})}},82950:function(e,t,n){var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(481060),o=n(367907),c=n(626135),d=n(986332),u=n(428695),_=n(981631),h=n(689938),E=n(247397);let I=r().debounce(o.ZP.trackWithMetadata,500),m=e=>{let{guild:t,title:n,message:a,image:r,type:d,imageMarginX:u,imageMarginTop:m,trackingSource:g,undismissable:p,onDismissed:T,onClick:S,cta:C,ctaColor:f}=e;s.useEffect(()=>{I(_.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:d,guild_id:t.id})},[t.id,d]);let N=null;"function"==typeof C?N=C():null!=C&&(N=(0,i.jsx)(l.Button,{className:E.btn,size:l.Button.Sizes.SMALL,onClick:()=>{null!=d&&c.default.track(_.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:g,guild_id:t.id,notice_type:d}),null==S||S()},fullWidth:!0,color:f,children:C}));let A=null!=u?"".concat(u,"px"):"16px";return(0,i.jsxs)("div",{className:E.channelNotice,children:[!0===p?null:(0,i.jsx)(l.Clickable,{onClick:()=>{o.ZP.trackWithMetadata(_.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:d}),null==T||T()},className:E.close,"aria-label":h.Z.Messages.DISMISS,children:(0,i.jsx)(l.CloseSmallIcon,{size:"md",color:"currentColor",className:E.closeIcon})}),(0,i.jsx)("div",{className:E.imageContainer,style:{marginTop:"".concat(m,"px"),marginLeft:A,marginRight:A},children:(0,i.jsx)("img",{className:E.image,src:r,alt:""})}),(0,i.jsxs)("div",{className:E.message,children:[null!=n?(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",className:E.title,children:n}):null,(0,i.jsx)(l.Text,{variant:"text-sm/normal",children:a}),N]})]})};t.Z=function(e){let{showRedesignedChannelNotice:t}=(0,d.o)(!0);return t?(0,i.jsx)(u.Z,{...e}):(0,i.jsx)(m,{...e})}},760326:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(561716),r=n(51596),l=n(82950),o=n(981631),c=n(921944),d=n(689938),u=n(932478);t.Z=e=>{let t=a.$.binds["0"].split("+").map(e=>null!=s.PRETTY_KEYS[e]?s.PRETTY_KEYS[e]():e).join(" + ").toUpperCase();return(0,i.jsx)(l.Z,{guild:e.guild,onDismissed:()=>e.markAsDismissed(c.L.UNKNOWN),onClick:()=>(0,r.$Z)("CHANNEL_NOTICE"),message:d.Z.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:o.PsQ.QUICK_SWITCHER_NOTICE,type:o.vID.QUICKSWITCHER,image:u,imageMarginX:50})}},536687:function(e,t,n){n.d(t,{R:function(){return s},Z:function(){return A}});var i,s,a=n(470079),r=n(442837),l=n(179360),o=n(897285),c=n(300213),d=n(554747),u=n(499137),_=n(929507),h=n(270144),E=n(400271),I=n(678513),m=n(899667),g=n(496675),p=n(541566),T=n(192513),S=n(255791),C=n(70956),f=n(267642),N=n(981631);function A(e){var t;let n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:N.lds,{lastFetchedAt:i}=(0,r.cj)([m.Z],()=>({appliedGuildBoosts:m.Z.getAppliedGuildBoostsForGuild(n),lastFetchedAt:m.Z.getLastFetchedAtForGuild(n)})),{lastDismissedGracePeriod:s,isGracePeriodVisible:A}=(0,r.cj)([p.Z],()=>({lastDismissedGracePeriod:p.Z.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:p.Z.isVisible(n)})),Z=(0,r.e7)([E.Z],()=>E.Z.isVisible(e)),L=(0,r.e7)([S.Z],()=>S.Z.isVisible(e)),v=(0,r.e7)([g.Z],()=>g.Z.can(N.Plq.ADMINISTRATOR,e)),O=null!=s&&Date.now()-s<=N.Dge,R=null!=e?e.premiumSubscriberCount:0,x=(0,f.rF)(R,n)!==N.Eu4.NONE,b=null!=i&&Date.now()-i<=432e5,P=!b&&!O&&v&&x,M=(0,c.m)(n),D=(0,r.e7)([T.Z],()=>T.Z.isVisible(e)),y=_.Z.useShouldShowChannelNotice(n),j=(0,h.h6)(e),{enableStudyGroup:U}=(0,u.s)(e),G=j.length>0,k=U&&!(null==e?void 0:e.hasFeature(N.oNc.HUB)),w=(0,d.Vm)(n),B=(0,r.e7)([I.Z],()=>null!=I.Z.getActiveGuildSignUp(n));if(a.useEffect(()=>{o.Z.getGuildEventsForCurrentUser(n)},[n]),a.useEffect(()=>{let e=-1;return P&&(e=window.setTimeout(()=>{null!=n&&(0,l.C0)(n)},30*Math.random()*C.Z.Millis.SECOND)),()=>{window.clearTimeout(e)}},[n,P]),Z)return 0;if(A)return 1;if(L)return 2;else if(M||null!=w)return 3;else if(D)return 4;else if(y)return 5;else if(G)return 6;else if(k)return 7;else if(B)return 8;return null}(i=s||(s={}))[i.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD",i[i.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD",i[i.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT",i[i.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL",i[i.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING",i[i.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION",i[i.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION",i[i.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM",i[i.SIGNUP=8]="SIGNUP",i[i.CLAN_UPSELL=9]="CLAN_UPSELL"},491575:function(e,t,n){var i=n(735250),s=n(470079),a=n(512722),r=n.n(a),l=n(481060),o=n(176299),c=n(512847),d=n(612226),u=n(714338),_=n(607070),h=n(317858),E=n(635395),I=n(5560),m=n(451478),g=n(585483),p=n(145604),T=n(718813),S=n(981631),C=n(582614);t.Z=s.memo(function(){let e=s.useRef(null),t=s.useCallback(t=>{let{duration:n,intensity:i}=t;if(_.Z.useReducedMotion||!m.Z.isFocused())return;let{current:s}=e;r()(null!=s,"Shakeable is shaken when not mounted"),s.shake(n,i)},[]);return s.useEffect(()=>(u.Z.setLayout(d.ZP),u.Z.enable(),()=>u.Z.disable()),[]),s.useEffect(()=>(g.S.subscribe(S.CkL.SHAKE_APP,t),()=>{g.S.unsubscribe(S.CkL.SHAKE_APP,t)}),[t]),(0,h.Z)(),(0,i.jsxs)(l.Shakeable,{ref:e,className:C.app,children:[(0,i.jsx)(T.Z,{className:C.layers,children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(E.Z,{}),(0,i.jsx)(c.Z,{}),(0,i.jsx)(p.Z,{}),(0,i.jsx)(I.Z,{}),(0,i.jsx)(l.DnDKeyboardHelpBar,{})]})})},145604:function(e,t,n){n.d(t,{Z:function(){return z}}),n(789020),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(224706),l=n(593472),o=n(603113),c=n(367907),d=n(731429),u=n(188471),_=n(176881),h=n(318885),E=n(358221),I=n(710845),m=n(581567),g=n(594190),p=n(38618),T=n(501640),S=n(924301),C=n(734307),f=n(355298),N=n(427679),A=n(695346),Z=n(592125),L=n(77498),v=n(271383),O=n(430824),R=n(131951),x=n(375954),b=n(19780),P=n(944486),M=n(914010),D=n(885110),y=n(9156),j=n(594174),U=n(774343),G=n(974042),k=n(808506),w=n(626135),B=n(630388),H=n(823379),V=n(998502),F=n(981631),Y=n(987650);class W extends s.PureComponent{componentDidMount(){let{selectedChannelId:e,connected:t,isNSFWChannel:n,isTextInVoice:i}=this.props;t&&null!=e&&((0,c.yw)(F.rMx.CHANNEL_OPENED,{...(0,c.$H)(e)}),(0,u.a)(F.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:e}),i&&(0,c.yw)(F.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:n}))}componentDidUpdate(e){var t,n,i;let{voiceChannelId:s,voiceChannelGuildId:a,voiceChannelType:o,voiceChannelBitrate:p,videoEnabled:T,isScreenSharing:f,runningGame:v,runningGamePid:R,selectedChannelId:P,selectedGuildId:j,connected:U,homeLink:G,friendsTabSection:W,isNSFWChannel:z,isMemberPending:K,hasPreviewEnabled:q,postableChannelCount:Q,isTextInVoice:X,numMessageRequests:J}=this.props;if(e.voiceChannelId!==s&&null!=e.voiceChannelId){let t=g.ZP.getCurrentGameForAnalytics(),n=null!=t?t.name:"",i=N.Z.getStageInstanceByChannel(e.voiceChannelId),s=S.ZP.getActiveEventByChannel(e.voiceChannelId);w.default.track(F.rMx.LEAVE_VOICE_CHANNEL,{channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:b.Z.getRTCConnectionId(),game_name:n,duration:b.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:b.Z.getMediaSessionId(),stage_instance_id:null==i?void 0:i.id,guild_scheduled_event_id:null==s?void 0:s.id,...(0,c.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),...b.Z.getVoiceStateStats(),...E.Z.getSelectedParticipantStats(e.voiceChannelId)})}if(e.voiceChannelId!==s&&null!=s){let e=g.ZP.getCurrentGameForAnalytics(),t=null!=e?e.name:"",n=N.Z.getStageInstanceByChannel(s),i=S.ZP.getActiveEventByChannel(s);(0,c.yw)(F.rMx.CHANNEL_OPENED,{...(0,c.$H)(s)}),(0,u.a)(F.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:s}),w.default.track(F.rMx.JOIN_VOICE_CHANNEL,{channel_id:s,channel_type:o,channel_bitrate:p,guild_id:a,game_name:t,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==n?void 0:n.id,guild_scheduled_event_id:null==i?void 0:i.id,...(0,c.oG)(a,s),...(0,c.kO)(a,s,T)})}if(e.runningGame!==v&&null!=v&&!v.isLauncher){let e=L.Z.getGameByName(v.name),t=g.ZP.getOverrideForGame(v),n=O.Z.getGuildIds(),i=A.SE.getSetting(),c=n.filter(e=>!i.includes(e)).slice(0,200),d=null;d=null!=t?"custom_override":null!=e?"verified_game":"launcher";let u=(0,g.jk)(v);if(setTimeout(()=>{var t;let n=V.ZP.GetWindowFullscreenTypeByPid(v.pid,v.name,v.fullscreenType),{gameName:i,gameId:r,exe:_,distributor:h}=(0,m.G8)(v);w.default.track(F.rMx.LAUNCH_GAME,{game:i,game_id:r,verified:null!=e&&(0,m.vp)(_,null==e?void 0:e.executables),elevated:v.elevated,is_launcher:null!==(t=null==v?void 0:v.isLauncher)&&void 0!==t&&t,game_platform:F.M7m.DESKTOP,detection_method:d,distributor:h,is_overlay_enabled:k.Z.enabled,is_overlay_game_enabled:u.enabled,is_overlay_game_source:u.source,fullscreen_type:l.Jx[n],overlay_method:Y.gl[u.overlayMethod],activity_status_enabled:A.G6.getSetting(),activity_status_shared_guilds:c,current_user_status:D.Z.getStatus(),game_detection_enabled:(0,g.ik)(v),executable_path:_,voice_channel_id:s,voice_channel_type:o,voice_channel_bitrate:p,voice_channel_guild_id:a}),null!=_&&g.ZP.addExecutableTrackedByAnalytics(_)},1e4),null!=v.name&&null!=R&&L.Z.shouldReport(v.name)){let e=v.name;r.Z.identifyGame(R,e).then(e=>r.Z.reportUnverifiedGame(e)).catch(e=>new I.Z("AutoAnalytics").error("Cannot identify game",e))}}if((e.videoEnabled!==T||e.isScreenSharing!==f)&&null!=s){let e="none",t=[f?"screen":null,T?"camera":null].filter(H.lm),n=null;f?(e="screen",n=(0,h.t)()):T&&(e="camera"),w.default.track(F.rMx.VIDEO_INPUT_TOGGLED,{video_input_type:e,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:t,preview_enabled:A.qF.getSetting(),...n,...this.getGameMetadata(),...(0,c.AB)(s)})}if(U&&null!=j&&(j!==e.selectedGuildId||!e.connected||K&&!e.isMemberPending)){let e={...K?{is_pending:K,preview_enabled:q}:{},postable_channels:Q,premium_progress_bar_enabled:null!==(n=null===(t=O.Z.getGuild(M.Z.getGuildId()))||void 0===t?void 0:t.premiumProgressBarEnabled)&&void 0!==n&&n,viewing_all_channels:!y.ZP.isOptInEnabled(j),num_recent_channels:C.Z.recentsChannelCount(j)};(0,c.yw)(F.rMx.GUILD_VIEWED,e),(0,u.a)(F.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:j})}else U&&null==j&&G===F.Z5c.FRIENDS&&(!e.connected||W!==e.friendsTabSection||G!==e.homeLink)?(0,_.Z)({tab_opened:W}):U&&null==j&&G===F.Z5c.MESSAGE_REQUESTS&&(!e.connected||G!==e.homeLink)&&!this.isMessageRequestsInitialized&&(this.isMessageRequestsInitialized=!0,w.default.track(F.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:J}));if(U&&null!=P&&(!e.connected||P!==e.selectedChannelId||j!==e.selectedGuildId)){let t=e.selectedChannelId,n=Z.Z.getChannel(t),s=O.Z.getGuild(null==n?void 0:n.getGuildId());if(null!=t&&null!=n&&null!=s&&s.publicUpdatesChannelId===t){let e=x.Z.getMessages(t),a=e.toArray().reverse().find(e=>{var t;return(0,B.yE)(e.flags,F.iLy.IS_CROSSPOST)&&(null===(t=e.messageReference)||void 0===t?void 0:t.guild_id)==="667560445975986187"});w.default.track(F.rMx.ACK_COMMUNITY_MESSAGES,{last_message_id:null==a?void 0:a.id,last_message_reference_message_id:null==a?void 0:null===(i=a.messageReference)||void 0===i?void 0:i.message_id,messages_loaded:e.hasFetched,...(0,c.v_)(n),...(0,c.hH)(s.id)})}let a=(0,d.K)(Z.Z.getChannel(P),!0);(0,c.yw)(F.rMx.CHANNEL_OPENED,{...a,...(0,c.$H)(P)}),(0,u.a)(F.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:P}),X&&(0,c.yw)(F.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:z})}}getGameMetadata(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}}render(){return null}constructor(...e){var t,n,i;super(...e),t=this,i=!1,(n="isMessageRequestsInitialized")in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function z(){let[e,t]=(0,a.Wu)([P.Z],()=>[P.Z.getVoiceChannelId(),P.Z.getChannelId()],[]),n=(0,a.e7)([Z.Z],()=>Z.Z.getChannel(t),[t]),s=(0,a.e7)([E.Z],()=>(null==n?void 0:n.id)!=null&&E.Z.getChatOpen(n.id),[n]),r=null==n?void 0:n.nsfw,l=(0,a.e7)([Z.Z],()=>Z.Z.getChannel(e),[e]),c=(0,a.e7)([M.Z],()=>M.Z.getGuildId(),[]),d=(0,a.e7)([O.Z],()=>O.Z.getGuild(c),[c]),u=(0,a.e7)([j.default],()=>j.default.getCurrentUser(),[]),_=(0,a.e7)([v.ZP],()=>{var e,t;return null!=u&&null!=c&&null!==(t=null===(e=v.ZP.getMember(c,u.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t},[u,c]),h=(0,a.e7)([G.ZP],()=>G.ZP.getState().section,[]),I=(0,a.e7)([U.Z],()=>U.Z.getHomeLink(),[]),m=(0,a.e7)([p.Z],()=>p.Z.isConnected(),[]),[S,C]=(0,a.Wu)([R.Z],()=>[R.Z.isVideoEnabled(),R.Z.isScreenSharing()],[]),N=(0,a.e7)([D.Z],()=>D.Z.getPrimaryActivity(),[]),A=(0,a.e7)([g.ZP],()=>g.ZP.getCurrentGameForAnalytics(),[]),L=(0,T.Z)(c),x=(0,a.e7)([f.Z],()=>f.Z.getMessageRequestsCount(),[]),b={selectedChannelId:t,isNSFWChannel:r,selectedGuildId:c,friendsTabSection:h,homeLink:I,connected:m,videoEnabled:S,isScreenSharing:C,voiceChannelId:null==l?void 0:l.id,voiceChannelGuildId:null==l?void 0:l.getGuildId(),voiceChannelType:null==l?void 0:l.type,voiceChannelBitrate:null==l?void 0:l.bitrate,runningGame:A,runningGamePid:null!=A?A.pid:null,gamePlatform:(0,o.Z)(N),gameName:null!=N?N.name:null,gameId:null!=N?N.application_id:null,gameExeName:null!=A?A.exeName:null,hasPreviewEnabled:null==d?void 0:d.features.has(F.oNc.PREVIEW_ENABLED),isMemberPending:_,postableChannelCount:L,isTextInVoice:s,numMessageRequests:x};return(0,i.jsx)(W,{...b})}},718813:function(e,t,n){n.d(t,{Z:function(){return y}}),n(653041);var i,s=n(735250),a=n(470079),r=n(120356),l=n.n(r),o=n(748780),c=n(442837),d=n(215569),u=n(481060),_=n(37234),h=n(134616),E=n(714338),I=n(663993),m=n(210887),g=n(819640),p=n(725568),T=n(585483),S=n(792125),C=n(981631),f=n(821636);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=(0,I.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("19503"),n.e("15972"),n.e("12013"),n.e("47006"),n.e("29609"),n.e("32776"),n.e("95900"),n.e("33053"),n.e("8016"),n.e("50654"),n.e("76540"),n.e("68136"),n.e("87624"),n.e("22646"),n.e("5528"),n.e("23831"),n.e("30419"),n.e("18824"),n.e("48870"),n.e("59579")]).then(n.bind(n,989804)),webpackId:989804,name:"UserSettings"}),Z=(0,I.Un)({createPromise:()=>Promise.all([n.e("33053"),n.e("7654"),n.e("71700"),n.e("75116")]).then(n.bind(n,869779)),webpackId:869779,name:"ChannelSettings"}),L=(0,I.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("15972"),n.e("12013"),n.e("47006"),n.e("29609"),n.e("32776"),n.e("95900"),n.e("87624"),n.e("23831"),n.e("73685")]).then(n.bind(n,838819)),webpackId:838819,name:"CollectiblesShop"}),v=(0,I.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("44156"),n.e("71700"),n.e("85552"),n.e("58227"),n.e("10926")]).then(n.bind(n,994763)),webpackId:994763,name:"GuildSettings"}),O={[C.S9g.USER_SETTINGS]:()=>(0,s.jsx)(A,{}),[C.S9g.CHANNEL_SETTINGS]:()=>(0,s.jsx)(Z,{}),[C.S9g.GUILD_SETTINGS]:()=>(0,s.jsx)(v,{}),[C.S9g.COLLECTIBLES_SHOP]:()=>(0,s.jsx)(L,{})},R="SHOWN",x="HIDDEN",b={friction:10,tension:100};function P(){return a.useEffect(()=>(E.Z.enable(),E.Z.enableTemp(h.u),()=>E.Z.disableTemp()),[]),null}class M extends(i=a.PureComponent){static getDerivedStateFromProps(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null}componentDidUpdate(e){let{mode:t}=this.props,{mode:n}=e;return t===n?void 0:t===R&&n===x?this.animateIn():t===x&&n===R?this.animateUnder():void 0}componentWillEnter(e){let{opacity:t,scale:n}=this.state;n.setValue(1.1),t.setValue(0),e(),this.setState({animating:!0},()=>this.animateIn())}componentWillLeave(e){this.setState({animating:!0},()=>this.animateOut(e))}animateIn(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;o.Z.parallel([o.Z.spring(t,{toValue:1,...b}),o.Z.spring(n,{toValue:1,...b})]).start(()=>this.animateComplete(e))}animateOut(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;T.S.dispatch(C.CkL.LAYER_POP_START),o.Z.parallel([o.Z.spring(t,{toValue:0,...b}),o.Z.spring(n,{toValue:1.1,...b})]).start(()=>{e(),T.S.dispatch(C.CkL.LAYER_POP_COMPLETE)})}animateUnder(){c.ZP.Emitter.pause(500);let{opacity:e,scale:t}=this.state;o.Z.parallel([o.Z.spring(e,{toValue:0,...b}),o.Z.spring(t,{toValue:.93,...b})]).start(()=>this.animateComplete())}animateComplete(e){this.setState({animating:!1},e)}render(){let{animating:e}=this.state,{mode:t,children:n,baseLayer:i,...a}=this.props,r=e||t===x?this.getAnimatedStyle():null,c=(0,s.jsx)(o.Z.div,{ref:e=>this.containerRef.current=null!=e?e.refs.node:void 0,"aria-hidden":t===x,className:l()(f.layer,{[f.baseLayer]:i,[f.animating]:e,"stop-animations":t===x}),style:r,...a,children:n});return i?c:(0,s.jsx)(u.FocusLock,{containerRef:this.containerRef,children:c})}getAnimatedStyle(){let{opacity:e,scale:t}=this.state,{reducedMotion:n}=this.context;return{opacity:e,transform:n.enabled?void 0:[{scale:t},{translateZ:0}]}}constructor(e){super(e),N(this,"containerRef",a.createRef());let t=1,n=1;e.mode===x&&(t=.93,n=0),this.state={animating:!1,scale:new o.Z.Value(t),opacity:new o.Z.Value(n),mode:e.mode}}}N(M,"defaultProps",{baseLayer:!1}),N(M,"contextType",u.AccessibilityPreferencesContext);class D extends a.PureComponent{componentDidMount(){T.S.subscribe(C.CkL.LAYER_POP_ESCAPE_KEY,_.xf)}componentWillUnmount(){T.S.unsubscribe(C.CkL.LAYER_POP_ESCAPE_KEY,_.xf)}renderLayers(){let{children:e,layers:t,hasFullScreenLayer:n}=this.props,{length:i}=t,a=[];return a.push((0,s.jsx)(M,{mode:0!==i||n?x:R,baseLayer:!0,children:e},"layer-base")),t.forEach((e,t)=>a.push(this.renderComponent(e,t,i))),a}renderComponent(e,t,n){let i;return i="string"==typeof e?O[e]():(0,s.jsx)(e,{}),(0,s.jsxs)(M,{mode:t===n-1?R:x,children:[(0,s.jsx)(P,{}),i]},"layer-".concat(t))}renderArtisanalHack(){return(0,s.jsx)("div",{className:l()(f.bg,(0,S.Q)(this.props.sidebarTheme))})}render(){return(0,s.jsxs)(s.Fragment,{children:[this.renderArtisanalHack(),(0,s.jsx)(d.W,{component:"div",className:l()(f.layers,this.props.className),children:this.renderLayers()})]})}}function y(e){let t=(0,c.e7)([m.Z],()=>m.Z.darkSidebar)?C.BRd.DARK:void 0,n=(0,c.e7)([g.Z],()=>g.Z.getLayers()),i=(0,p.QP)(e=>e.fullScreenLayers.length>0);return(0,s.jsx)(D,{...e,sidebarTheme:t,layers:n,hasFullScreenLayer:i})}},546735:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(470079),s=n(246364),a=n(308083);function r(e){let{progress:t,updateCurrentStep:n}=e,{currentStep:r,gameApplicationIds:l,playstyle:o,interests:c,description:d,tag:u,verificationForm:_}=t,h=i.useMemo(()=>null!=_&&_.formFields.some(e=>!(0,s.J)(e)),[_]),E=i.useMemo(()=>Array.from(c).filter(e=>!a.WZ.has(e)&&!a.gh.has(e)),[c]),I=i.useCallback(()=>{n(r+1)},[r,n]),m=i.useCallback(()=>{n(r-1)},[r,n]),g=i.useCallback(e=>n(e),[n]),p=i.useMemo(()=>{switch(r){case a.Wy.GAMES:return 0===l.size;case a.Wy.PLAYSTYLE:return o===a.zv.NONE;case a.Wy.INTERESTS:return E.length<3;case a.Wy.DESCRIPTION:return 0===d.length;case a.Wy.CUSTOMIZE_TAG_BADGE:return u.length<2;case a.Wy.MEMBER_APPLICATION:return!h;default:return!1}},[r,d.length,l.size,h,E.length,o,u.length]),T=0===r;return i.useMemo(()=>({onStepClick:g,onNextClick:I,onBackClick:m,isNextDisabled:p,isBackDisabled:T}),[T,p,m,I,g])}},603839:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(392711),o=n(338545),c=n(442837),d=n(481060),u=n(607070),_=n(207796),h=n(889711),E=n(931240),I=n(970606),m=n(963202),g=n(650461),p=n(432632),T=n(35313),S=n(284019),C=n(672775),f=n(601463),N=n(192565),A=n(641037),Z=n(689938),L=n(433369);let v={mass:1,tension:600,friction:60,clamp:!0};function O(e){let{guildId:t,onClose:n}=e,a=(0,c.e7)([u.Z],()=>u.Z.useReducedMotion),O=(0,g.Wg)(),{progress:R,errors:x,submitting:b}=(0,c.cj)([g.ZP],()=>{var e,n,i,s;return{progress:null!==(s=null===(e=g.ZP.getStateForGuild(t))||void 0===e?void 0:e.progress)&&void 0!==s?s:O,errors:null===(n=g.ZP.getStateForGuild(t))||void 0===n?void 0:n.errors,submitting:null===(i=g.ZP.getStateForGuild(t))||void 0===i?void 0:i.submitting}}),P=(0,p.N)(t,"ClanSetupModal"),M=s.useMemo(()=>(0,A.G)(x),[x]),[D,y]=s.useState(!1),[j,U]=s.useState(window.innerWidth),[G,k]=s.useState(1),[w,B]=s.useState(!0),H=(0,T.f)(),V=(0,o.useSpring)({opacity:G,config:v,onStart:()=>B(!0),onRest:()=>B(1===G),immediate:a}),F=(0,o.useSpring)({transform:"translateX(".concat(1===G?0:-1*(j-380)/2+190,"px)"),config:v,immediate:a}),Y=(0,o.useTransition)(0===G,{from:{opacity:0},enter:{opacity:1,delay:500},config:v,immediate:a}),W=(0,o.useTransition)(0===G,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:v,immediate:a}),z=s.useCallback(e=>{if(e===M.length)k(0),(0,I.Lp)(t,"signature");else if(0===G)k(1);else{var n;E._9(t,{currentStep:e,furthestStep:Math.max(null!==(n=R.furthestStep)&&void 0!==n?n:0,e)})}},[G,t,R.furthestStep,M.length]);s.useEffect(()=>{(0,I.Lp)(t,(0,I.Qh)(R.currentStep))},[t,R.currentStep]),s.useEffect(()=>{let e=(0,h.pP)((0,l.debounce)(()=>U(window.innerWidth),250));return(0,h.YP)(e,document.body),()=>(0,h.UC)(e,document.body)},[G,w]),s.useEffect(()=>{null!=P&&(0,E._9)(t,{requiredGameId:P})},[P,t]);let K=s.useMemo(()=>null!=x&&Object.values(x).some(e=>null!=e),[x]),q=s.useMemo(()=>null!=x&&Object.values(x).length>0?(0,A.G)(x).find(e=>e.hasError):null,[x]),Q=s.useCallback(()=>{k(1),E._9(t,{currentStep:null==q?void 0:q.index})},[null==q?void 0:q.index,t]),{guilds:X}=(0,m.C3)({location:"ClanDiscoveryAdminContainer",includeConverted:!1}),{enableApplication:J}=(0,m.Fg)("ClanDiscoveryAdminContainer"),$=s.useCallback(()=>{0===X.filter(e=>e.id!==t).length&&J?(0,_.fH)(_.v0.GET_STARTED):(0,_.fH)(_.v0.ADMIN_UPSELL)},[X,t,J]),ee=s.useCallback(()=>{(0,A.V)({guildId:t,onSuccess:()=>{$(),n()},progress:R})},[t,R,$,n]),et=s.useRef(null),en=null!=q?(0,i.jsxs)("div",{className:L.tooltipContents,children:[(0,i.jsx)(d.WarningIcon,{size:"xs",color:"currentColor",className:L.errorIcon}),(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"header-primary",children:Z.Z.Messages.CLAN_SUBMIT_ERROR_TITLE}),(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",children:Z.Z.Messages.CLAN_SUBMIT_ERROR_TEXT.format({backHook:(e,t)=>(0,i.jsx)(d.Anchor,{className:L.errorLink,onClick:Q,children:e},t)})})]})]}):null;return(0,i.jsx)(o.animated.div,{ref:et,style:H,className:L.modal,children:(0,i.jsxs)(d.FocusRingScope,{containerRef:et,children:[(0,i.jsx)(d.Button,{className:L.close,look:d.Button.Looks.OUTLINED,size:d.Button.Sizes.MEDIUM,color:d.Button.Colors.PRIMARY,onClick:n,children:Z.Z.Messages.CLAN_SETUP_MODAL_SAVE_AND_QUIT}),(0,i.jsxs)("div",{className:L.content,children:[(0,i.jsxs)("div",{className:L.panel,children:[(0,i.jsx)(o.animated.div,{style:V,className:r()(L.stepsContainer,{[L.hidden]:!w}),children:(0,i.jsx)(N.Z,{guildId:t})}),(0,i.jsx)("div",{className:r()(L.navigationContainer,{[L.elevatedNavigationContainer]:!w}),children:(0,i.jsx)(C.Z,{steps:M,progress:R,updateCurrentStep:z,animationStyle:V,animationClassName:r()({[L.hidden]:!w})})})]}),(0,i.jsx)(o.animated.div,{style:V,className:r()(L.divider,{[L.hidden]:!w,[L.dividerResponsive]:w})}),(0,i.jsx)(o.animated.div,{style:F,className:r()(L.sidebar,{[L.sidebarResponsive]:w}),children:(0,i.jsx)(f.Z,{guildId:t,signed:D,setSigned:w?void 0:y,sidebarWidth:380,windowWidth:j,transition:Y,brandPrimaryColor:R.brandPrimaryColor})})]}),W((e,t)=>t&&(0,i.jsx)(o.animated.div,{style:e,className:L.submit,children:(0,i.jsx)(d.Tooltip,{color:d.Tooltip.Colors.GREY,tooltipClassName:L.tooltip,text:en,"aria-label":null!=q?Z.Z.Messages.CLAN_SUBMIT_ERROR_TITLE:void 0,shouldShow:null!=q,forceOpen:null!=q,children:e=>(0,i.jsx)(S.Z,{...e,themeColor:R.brandPrimaryColor,disabled:!D||K,submitting:b,look:d.Button.Looks.FILLED,size:d.Button.Sizes.MEDIUM,color:d.Button.Colors.BRAND,onClick:ee,children:Z.Z.Messages.FINISH})})}))]})})}},672775:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(546735),a=n(754961),r=n(433369);function l(e){let{steps:t,progress:n,updateCurrentStep:l,animationStyle:o,animationClassName:c}=e,{onStepClick:d,onNextClick:u,onBackClick:_,isNextDisabled:h,isBackDisabled:E}=(0,s.Z)({progress:n,updateCurrentStep:l}),{currentStep:I,furthestStep:m,brandPrimaryColor:g}=n;return(0,i.jsxs)("div",{className:r.navigation,children:[(0,i.jsx)(a.T,{animationStyle:o,className:c,steps:t,currentStepIndex:I,furthestStepIndex:m,onStepClick:d,stepFillColor:g}),(0,i.jsx)(a.i,{isBackDisabled:E,isNextDisabled:h,onNextClick:u,onBackClick:_,nextButtonBackgroundColor:g,nextButtonClassName:c,nextButtonAnimationStyle:o})]})}},601463:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250),s=n(470079),a=n(338545),r=n(481060),l=n(532490),o=n(620929),c=n(689938),d=n(433369);function u(e){let{guildId:t,signed:n,setSigned:u,sidebarWidth:_,windowWidth:h,transition:E,brandPrimaryColor:I}=e,m=s.useMemo(()=>(h-_)/2,[_,h]);return(0,i.jsxs)("div",{className:d.sidebarContent,children:[E((e,t)=>t&&(0,i.jsx)(a.animated.div,{className:d.sidebarLeftDecorationContainer,style:{opacity:e.opacity,transform:e.opacity.to([0,1],[40,0]).to(e=>"translateY(".concat(e,"px)")),width:m},children:(0,i.jsxs)("div",{className:d.sidebarLeftDecoration,style:{width:m},children:[(0,i.jsx)(r.Heading,{variant:"heading-xxl/medium",children:c.Z.Messages.CLAN_SETUP_SIGN_TITLE}),(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"text-muted",children:c.Z.Messages.CLAN_SETUP_SIGN_SUBTITLE})]})})),(0,i.jsx)("div",{className:d.charterScrollContainer,children:(0,i.jsx)(o.Z,{guildId:t,canSignCharter:null!=u,onSignCharter:()=>null==u?void 0:u(!n),signHintPosition:l.p.RIGHT,primaryColor:I,className:d.charterScroll,fullHeight:!0})})]})}},192565:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(735250),s=n(470079),a=n(442837),r=n(224706),l=n(931240),o=n(650461),c=n(94963),d=n(745628),u=n(950279),_=n(796918),h=n(513532),E=n(741595),I=n(974842),m=n(363915),g=n(359380),p=n(308083),T=n(689938);function S(e){let t=(0,o.Wg)(),{progress:n,errors:i}=(0,a.cj)([o.ZP],()=>{var n;let i=o.ZP.getStateForGuild(e);return{progress:null!==(n=i.progress)&&void 0!==n?n:t,errors:i.errors}});return{progress:n,errors:i,handleClanUpdate:s.useCallback(t=>l._9(e,t),[e])}}let C={[p.Wy.GAMES]:function(e){let{guildId:t}=e;s.useEffect(()=>{r.Z.getDetectableGames()},[]);let{progress:n,errors:a,handleClanUpdate:l}=S(t);return(0,i.jsx)(u.Z,{title:T.Z.Messages.CLAN_SETUP_GAMES_TITLE,description:T.Z.Messages.CLAN_SETUP_GAMES_SUBTITLE,handleUpdate:e=>l({gameApplicationIds:e}),gameApplicationIds:n.gameApplicationIds,requiredGameId:n.requiredGameId,error:null==a?void 0:a.gameApplicationIds})},[p.Wy.PLAYSTYLE]:function(e){let{guildId:t}=e,{progress:n,errors:s,handleClanUpdate:a}=S(t);return(0,i.jsx)(E.Z,{title:T.Z.Messages.CLAN_SETUP_PLAYSTYLE_TITLE,description:T.Z.Messages.CLAN_SETUP_PLAYSTYLE_SUBTITLE,handleUpdate:e=>a({playstyle:e}),playstyle:n.playstyle,error:null==s?void 0:s.playstyle})},[p.Wy.UTILITY_TRAITS]:function(e){let{guildId:t}=e,{progress:n,handleClanUpdate:s}=S(t);return(0,i.jsx)(g.Z,{guildId:t,title:T.Z.Messages.CLAN_SETUP_UTILITY_TRAITS_TITLE,description:T.Z.Messages.CLAN_SETUP_UTILITY_TRAITS_SUBTITLE,handleUpdate:e=>s({interests:e}),requiredGameId:n.requiredGameId,progress:n})},[p.Wy.INTERESTS]:function(e){let{guildId:t}=e,{progress:n,errors:s,handleClanUpdate:a}=S(t);return(0,i.jsx)(_.Z,{guildId:t,handleUpdate:a,progress:n,error:null==s?void 0:s.interests})},[p.Wy.DESCRIPTION]:function(e){let{guildId:t}=e,{progress:n,errors:s,handleClanUpdate:a}=S(t);return(0,i.jsx)(d.Z,{guildId:t,handleUpdate:a,progress:n,errors:s})},[p.Wy.CUSTOMIZE_TAG_BADGE]:function(e){let{guildId:t}=e,{progress:n,errors:s,handleClanUpdate:a}=S(t);return(0,i.jsx)(I.Z,{handleUpdate:a,tag:n.tag,error:null==s?void 0:s.tag,badge:n.badgeKind,primaryColor:n.badgePrimaryColor,secondaryColor:n.badgeSecondaryColor,furthestStep:n.furthestStep})},[p.Wy.CUSTOMIZE_BANNER]:function(e){let{guildId:t}=e,{progress:n,handleClanUpdate:s}=S(t);return(0,i.jsx)(c.Z,{handleUpdate:s,progress:n,guildId:t})},[p.Wy.MEMBER_APPLICATION]:function(e){let{guildId:t}=e,{errors:n}=S(t);return(0,i.jsx)(h.Z,{guildId:t,error:null==n?void 0:n.verificationForm})}};function f(e){return e.currentStep.toString()}function N(e){let t=C[e.currentStep];return(0,i.jsx)(t,{guildId:e.guildId})}function A(e){let{guildId:t}=e,n=(0,o.Wg)(),r=(0,a.e7)([o.ZP],()=>{var e,i,s;return null!==(s=null===(i=o.ZP.getStateForGuild(t))||void 0===i?void 0:null===(e=i.progress)||void 0===e?void 0:e.currentStep)&&void 0!==s?s:n.currentStep}),l=s.useMemo(()=>[{currentStep:r,guildId:t}],[r,t]);return(0,i.jsx)(m.Z,{currentStep:r,items:l,renderItem:N,getItemKey:f})}},754961:function(e,t,n){n.d(t,{T:function(){return m},i:function(){return g}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(338545),o=n(442837),c=n(481060),d=n(607070),u=n(603368),_=n(284019),h=n(689938),E=n(206240);function I(e){let{index:t,onClick:n,name:a,isActive:_,animate:I,fillBackgroundColor:m,hasError:g}=e,p=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),T=(0,c.useToken)(c.tokens.colors.BG_SURFACE_OVERLAY),S=s.useMemo(()=>(0,u.j1)(m,T.hex()),[m,T]),C=null!=S,f=(0,l.useSpring)({transform:_?"translateX(0%)":"translateX(-100%)",config:{...l.config.stiff,clamp:!0},immediate:p||!I}),N=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"header-primary",children:h.Z.Messages.CLAN_SUBMIT_ERROR_TITLE}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"text-muted",children:h.Z.Messages.CLAN_SUBMIT_ERROR_SUBTITLE})]});return(0,i.jsx)(c.Tooltip,{color:g?c.Tooltip.Colors.GREY:c.Tooltip.Colors.BRAND,text:g?N:a,"aria-label":g?h.Z.Messages.CLAN_SUBMIT_ERROR_TITLE:a,shouldShow:null!=n,tooltipStyle:S,tooltipClassName:r()(E.progressStepTooltip,{[E.progressStepTooltipCustomColors]:!g&&null!=S}),children:e=>(0,i.jsxs)(c.Clickable,{...e,"aria-label":h.Z.Messages.STEP_NUMBER.format({number:t}),tabIndex:null==n?-1:void 0,onClick:n,className:E.progressStepWrapper,children:[g&&(0,i.jsx)(c.WarningIcon,{size:"xs",color:"currentColor",className:E.errorIcon}),(0,i.jsx)("div",{className:E.progressStep,children:(0,i.jsx)(l.animated.div,{style:{...f,...S},className:r()(E.progressStepFill,{[E.customProgressStepFill]:C})})})]})})}function m(e){let{steps:t,currentStepIndex:n,furthestStepIndex:s,onStepClick:a,stepFillColor:o,animationStyle:c,className:d}=e;return(0,i.jsx)(l.animated.div,{style:c,className:r()(E.progressContainer,d),children:t.map(e=>{let{index:t,name:r,hasError:l}=e;return(0,i.jsx)(I,{name:r,onClick:t<=s?()=>a(t):void 0,isActive:t<=n,hasError:l,index:t,fillBackgroundColor:o,animate:n===t||n+1===t},r)})})}function g(e){let{className:t,isBackDisabled:n,isNextDisabled:s,onNextClick:a,onBackClick:o,nextButtonBackgroundColor:d,nextButtonClassName:u,nextButtonAnimationStyle:I}=e;return(0,i.jsxs)("div",{className:r()(E.buttonsContainer,t),children:[(0,i.jsx)(c.Button,{look:c.Button.Looks.OUTLINED,size:c.Button.Sizes.MEDIUM,color:c.Button.Colors.PRIMARY,onClick:o,disabled:n,children:h.Z.Messages.BACK}),(0,i.jsx)(l.animated.div,{style:I,children:(0,i.jsx)(_.Z,{className:u,themeColor:d,color:c.Button.Colors.BRAND,look:c.Button.Looks.FILLED,size:c.Button.Sizes.MEDIUM,onClick:a,disabled:s,children:h.Z.Messages.NEXT})})]})}},363915:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250),s=n(470079),a=n(338545),r=n(442837),l=n(481060),o=n(607070),c=n(981562);let d={mass:1,tension:300,friction:60,clamp:!0},u={mass:1,tension:600,friction:60,clamp:!0};function _(e){var t,n,s,_;let{state:h,direction:E,cleanUp:I,children:m}=e,g=(0,r.e7)([o.Z],()=>o.Z.useReducedMotion);let p=(0,a.useSpring)((t=h,n=E,s=I,_=g,t===l.TransitionStates.MOUNTED?{from:{opacity:0,transform:"translateY(40px) translateX(0px)"},to:{opacity:1,transform:"translateY(0px) translateX(0px)"},config:d,delay:500,immediate:_}:t===l.TransitionStates.ENTERED?{from:{opacity:0,transform:"translateY(0px) translateX(".concat(-1===n?-40:40,"px)")},to:{opacity:1,transform:"translateY(0px) translateX(0px)"},config:u,delay:500,immediate:_}:{from:{opacity:1,transform:"translateY(0px) translateX(0px)"},to:{opacity:0,transform:"translateY(0px) translateX(".concat(-1===n?40:-40,"px))")},config:u,immediate:_,onRest:()=>{s()}}));return(0,i.jsx)(a.animated.div,{style:p,className:c.step,children:(0,i.jsx)(l.ScrollerThin,{className:c.scroller,children:m})})}function h(e){let{currentStep:t,renderItem:n,items:a,getItemKey:r}=e,o=s.useRef(t-1);s.useEffect(()=>{o.current=t},[t]);let d=s.useMemo(()=>null==o.current||t===o.current?0:o.current<t?1:-1,[t]),u=s.useCallback((e,t,s,a)=>(0,i.jsx)(_,{state:s,cleanUp:a,direction:d,children:n(t)},e),[d,n]);return(0,i.jsx)("div",{className:c.stepsTransitionGroup,children:(0,i.jsx)(l.TransitionGroup,{items:a,renderItem:u,getItemKey:r})})}},641037:function(e,t,n){n.d(t,{G:function(){return o},V:function(){return c}});var i=n(735250);n(470079);var s=n(481060),a=n(931240),r=n(308083),l=n(689938);function o(e){return[{index:r.Wy.GAMES,name:l.Z.Messages.CLAN_SETUP_GAMES_STEP,hasError:(null==e?void 0:e.gameApplicationIds)!=null},{index:r.Wy.PLAYSTYLE,name:l.Z.Messages.CLAN_SETUP_PLAYSTYLE_STEP,hasError:(null==e?void 0:e.playstyle)!=null},{index:r.Wy.UTILITY_TRAITS,name:l.Z.Messages.CLAN_SETUP_UTILITY_TRAITS_STEP},{index:r.Wy.INTERESTS,name:l.Z.Messages.CLAN_SETUP_INTERESTS_STEP,hasError:(null==e?void 0:e.interests)!=null},{index:r.Wy.DESCRIPTION,name:l.Z.Messages.CLAN_SETUP_DESCRIPTION_STEP,hasError:(null==e?void 0:e.description)!=null||(null==e?void 0:e.wildcardDescriptors)!=null},{index:r.Wy.CUSTOMIZE_TAG_BADGE,name:l.Z.Messages.CLAN_SETUP_TAG_STEP,hasError:(null==e?void 0:e.tag)!=null||(null==e?void 0:e.badgeKind)!=null||(null==e?void 0:e.badgePrimaryColor)!=null||(null==e?void 0:e.badgeSecondaryColor)!=null},{index:r.Wy.CUSTOMIZE_BANNER,name:l.Z.Messages.CLAN_SETUP_BANNER_STEP,hasError:(null==e?void 0:e.banner)!=null||(null==e?void 0:e.brandPrimaryColor)!=null||(null==e?void 0:e.brandSecondaryColor)!=null},{index:r.Wy.MEMBER_APPLICATION,name:l.Z.Messages.CLAN_SETUP_APPLICATIONS_STEP,hasError:(null==e?void 0:e.verificationForm)!=null}]}async function c(e){let{guildId:t,onSuccess:r,progress:l}=e;try{await a.sv(t,l)}catch(e){return}r(),(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("63636").then(n.bind(n,511385));return n=>(0,i.jsx)(e,{guildId:t,tag:l.tag,brandPrimaryColor:l.brandPrimaryColor,...n})})}},745837:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(442837),l=n(481060),o=n(547972),c=n(556296),d=n(63063),u=n(13140),_=n(435064),h=n(39604),E=n(356659),I=n(981631),m=n(332325),g=n(689938),p=n(530011);function T(e){(0,o.Z)(m.Z.CLIPS),(0,h.UW)(e)}function S(){let e=(0,r.e7)([c.Z],()=>c.Z.getKeybindForAction(I.kg4.SAVE_CLIP));if(null==e)return(0,i.jsx)(i.Fragment,{children:g.Z.Messages.CLIPS_USER_EDUCATION_ENABLED_BODY_NO_KEYBIND});let t=u.BB(e.shortcut,!0);return(0,i.jsx)(i.Fragment,{children:g.Z.Messages.CLIPS_USER_EDUCATION_ENABLED_BODY.format({keybind:t,keybindHook:()=>(0,i.jsx)("span",{className:p.keyCombo,children:(0,i.jsx)(l.KeyCombo,{shortcut:t})})})})}let C={[E.D5.Error]:{textColor:"text-primary",buttonLook:l.Button.Looks.FILLED,buttonColor:l.Button.Colors.PRIMARY,bodyCopy:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.WarningIcon,{size:"xs",color:"currentColor",className:p.errorWarningIcon}),g.Z.Messages.CLIPS_USER_EDUCATION_ERROR_BODY]}),buttonCopy:()=>g.Z.Messages.CLIPS_USER_EDUCATION_LEARN_MORE,ctaOnClick:()=>{window.open(d.Z.getArticleURL(I.BhN.CLIPS),"_blank")},containerClass:p.container},[E.D5.Disabled]:{textColor:"text-primary",buttonLook:l.Button.Looks.FILLED,buttonColor:l.Button.Colors.BRAND,bodyCopy:()=>g.Z.Messages.CLIPS_USER_EDUCATION_DISABLED_BODY,buttonCopy:()=>g.Z.Messages.CLIPS_USER_EDUCATION_MANAGE_CLIPS_SETTINGS,ctaOnClick:()=>T(E.D5.Disabled),containerClass:p.container},[E.D5.Enabled]:{textColor:"always-white",buttonLook:l.Button.Looks.FILLED,buttonColor:l.Button.Colors.BRAND_INVERTED,bodyCopy:()=>(0,i.jsx)(S,{}),buttonCopy:()=>g.Z.Messages.CLIPS_USER_EDUCATION_MANAGE_CLIPS_SETTINGS,ctaOnClick:()=>T(E.D5.Enabled),containerClass:a()(p.container,p.containerEnabled)}};function f(){var e;let{decoupledClipsEnabled:t,clipsError:n}=(0,r.cj)([_.Z],()=>({decoupledClipsEnabled:_.Z.getSettings().decoupledClipsEnabled,clipsError:_.Z.getLastClipsError()}));let s=(e=t,null!=n?E.D5.Error:e?E.D5.Enabled:E.D5.Disabled),{bodyCopy:a,buttonCopy:o,ctaOnClick:c,textColor:d,buttonColor:u,buttonLook:I,containerClass:m}=C[s];return(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(l.Text,{color:d,variant:"text-sm/medium",children:a()}),(0,i.jsx)(l.Button,{onClick:()=>(0,h.UW)(s),size:l.Button.Sizes.NONE,look:l.Button.Looks.BLANK,className:p.buttonClose,children:(0,i.jsx)(l.CloseSmallIcon,{size:"xs",color:"currentColor",className:p.dismissIcon})}),(0,i.jsx)(l.Button,{onClick:c,className:p.buttonCTA,color:u,look:I,fullWidth:!0,size:l.Button.Sizes.SMALL,children:o()})]})}},13228:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(442837),s=n(594190),a=n(836157),r=n(480294),l=n(131951),o=n(924557),c=n(435064),d=n(779618),u=n(356659),_=n(981631);function h(e){let t=(0,o.nM)({autoTrackExposure:!0}),{enableDecoupledGameClipping:n}=a.Z.useExperiment({location:"useShouldDisplayClipsGuildSidebarEducation"},{autoTrackExposure:!1});return(0,i.e7)([c.Z,s.ZP,r.Z,l.Z],()=>{if(!(0,d.Z)(l.Z)||!t||!n)return!1;if(null!=c.Z.getLastClipsError())return!0;if(!r.Z.hasConsented(_.pjP.PERSONALIZATION)||null==s.ZP.getVisibleGame())return!1;let{clipsEducationState:{dismissedAt:i,numberOfGamesLaunchedSinceDismissal:a,numberOfTimesDismissed:h},hasTakenDecoupledClip:E,clipsSettings:{clipsEnabled:I}}=c.Z.getState();if(null===i)return!0;if(!(null!=e&&(0,o.xt)(e)))return!1;let m=Date.now()-i>u.xx,g=a>=u._U,p=I?u.xd:u.A5;return m&&g&&h<p&&!E})}},599960:function(e,t,n){n.d(t,{E:function(){return r}});var i=n(818083),s=n(302800);let a=(0,i.B)({kind:"user",id:"2024-07_shop_marketing_variants",label:"Shop Marketing Variants Experiment",defaultConfig:{marketingVariant:s.k2.COACHTIP},treatments:[{id:0,label:"Control (Badge + Coachtip with headline and copy)",config:{marketingVariant:s.k2.COACHTIP}},{id:1,label:"Badge + Coachtip with headline",config:{marketingVariant:s.k2.COACHTIP_HEADLINE_ONLY}},{id:2,label:"Badge only",config:{marketingVariant:s.k2.BADGE}}]}),r=e=>a.useExperiment({location:e}).marketingVariant},683167:function(e,t,n){n.d(t,{I:function(){return r}});var i=n(818083),s=n(302800);let a=(0,i.B)({kind:"user",id:"2024-04_shop_marketing_badge",label:"Shop Marketing New Badge Design Experiment",defaultConfig:{coachtipEdition:s.LM.NONE},treatments:[{id:1,label:"Shy",config:{coachtipEdition:s.LM.SHY}},{id:2,label:"Lofi Vibes",config:{coachtipEdition:s.LM.LOFI_VIBES}},{id:3,label:"Galaxy",config:{coachtipEdition:s.LM.GALAXY}},{id:4,label:"Retro & Pirates",config:{coachtipEdition:s.LM.RETRO_AND_PIRATES}},{id:5,label:"Arcade",config:{coachtipEdition:s.LM.ARCADE}},{id:6,label:"Tide",config:{coachtipEdition:s.LM.TIDE}},{id:7,label:"Dark Fantasy",config:{coachtipEdition:s.LM.DARK_FANTASY}}]}),r=e=>a.useExperiment({location:e}).coachtipEdition},64220:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250),s=n(470079),a=n(481060),r=n(921944),l=n(689938),o=n(613885);function c(e){let{markAsDismissed:t}=e;return s.useEffect(()=>{let e=setTimeout(()=>{t(r.L.AUTO_DISMISS)},8e3);return()=>{clearTimeout(e)}},[t]),(0,i.jsxs)(a.Clickable,{className:o.container,onClick:()=>{t(r.L.USER_DISMISS)},children:[(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"always-white",children:l.Z.Messages.PROFILE_LOOKING_GOOD_TOOLTIP_TEXT}),(0,i.jsx)("div",{className:o.pointer})]})}function d(e){let{children:t,markAsDismissed:n}=e,[r,l]=s.useState(!1);return s.useEffect(()=>{let e=setTimeout(()=>{l(!0)},1e3);return()=>{clearTimeout(e)}},[l]),(0,i.jsx)(a.Popout,{position:"top",align:"left",shouldShow:r,renderPopout:()=>(0,i.jsx)(c,{markAsDismissed:n}),children:t})}},463119:function(e,t,n){n.d(t,{i:function(){return M}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(91192),o=n(442837),c=n(780384),d=n(481060),u=n(596454),_=n(515753),h=n(410030),E=n(607070),I=n(100527),m=n(906732),g=n(821982),p=n(377171),T=n(633302),S=n(153066),C=n(335131),f=n(141594),N=n(302800),A=n(981631),Z=n(689938),L=n(383980);let v=e=>{let{color:t}=e;return(0,i.jsx)(d.TextBadge,{className:L.newBadge,color:null!=t?t:p.Z.STATUS_DANGER_BACKGROUND,text:Z.Z.Messages.NEW})},O=e=>{let{selected:t,locationState:n,onMouseEnter:a,onMouseLeave:r,children:o,...c}=e,u=(0,l.JA)("shop"),h=I.Z.HOME_PAGE_SHOP_TAB,{analyticsLocations:E}=(0,m.ZP)(h),g=s.useCallback(()=>(0,C.mK)({openInLayer:!1,analyticsSource:h,analyticsLocations:E}),[h,E]);return(0,i.jsx)(_.Qj,{selected:t,route:A.Z5c.COLLECTIBLES_SHOP,icon:d.ShopIcon,text:Z.Z.Messages.COLLECTIBLES_SHOP,locationState:n,...u,...c,onMouseEnter:a,onMouseLeave:r,onClick:g,children:o})},R=e=>{let{selected:t,locationState:n}=e;return(0,i.jsx)(O,{selected:t,locationState:n,children:(0,i.jsx)(v,{})})},x=s.memo(function(e){let{displayOptions:t,assetId:n}=e,s=(0,o.e7)([E.Z],()=>E.Z.useReducedMotion),a=null!=n?(0,g.Z)(n,d.AvatarSizes.SIZE_80,!s):void 0,r=t.title(),l=t.type===N.k2.COACHTIP_HEADLINE_ONLY;return(0,i.jsxs)("div",{className:L.shopMarketingTooltipContent,children:[(0,i.jsx)("div",{className:L.avatarContainer,children:(0,i.jsx)(d.Avatar,{className:L.avatar,src:t.imageSrc,avatarDecoration:a,size:d.AvatarSizes.SIZE_80,"aria-hidden":!0})}),(0,i.jsxs)("div",{className:L.shopMarketingTooltipText,children:[(0,i.jsx)(d.Heading,{variant:l?"heading-sm/medium":"heading-sm/bold",children:"string"==typeof r?r:r.format()}),null!=t.body&&(0,i.jsx)(d.Text,{variant:"text-xs/normal",className:L.marketingBadgeTooltipContent,children:t.body()})]})]})}),b=e=>{let{selected:t,locationState:n,displayOptions:a}=e,[l,o]=s.useState(0),[u,_]=s.useState(!1),E=(0,h.ZP)(),I=a.entrypointDecorationAssets,m=s.useCallback(e=>{o(e=>(e+1)%a.assetIds.length),_(!0),null==e||e()},[a.assetIds]),g=s.useCallback(e=>{_(!1),null==e||e()},[]),p=a.title();return(0,i.jsx)(d.Tooltip,{text:(0,i.jsx)(x,{displayOptions:a,assetId:a.assetIds[l]}),tooltipClassName:L.marketingBadgeTooltip,position:"right",delay:100,allowOverflow:!0,hideOnClick:!1,"aria-label":"string"==typeof p?p:Z.Z.Messages.COLLECTIBLES_SEE_WHATS_NEW,children:e=>(0,i.jsxs)(O,{className:null!=a.entryPointClassName?(0,S.l)(L,a.entryPointClassName):void 0,selected:t,locationState:n,...e,onMouseEnter:()=>m(e.onMouseEnter),onMouseLeave:()=>g(e.onMouseLeave),children:[null!=I&&(0,i.jsx)("img",{src:(0,c.wj)(E)?I.srcDark:I.srcLight,className:r()(L.marketingButtonImage,{[L.marketingButtonImageHovered]:u}),alt:"","aria-hidden":!0}),(0,i.jsx)(v,{color:a.badgeColor})]})})},P=e=>{let{selected:t,locationState:n,displayOptions:a}=e,r=s.useMemo(()=>{var e;let t=null!=a.emojiName?null===(e=T.ZP.getByName(a.emojiName))||void 0===e?void 0:e.surrogates:null;return(0,i.jsxs)(d.Text,{variant:"text-sm/medium",className:L.marketingBadgeTooltipContent,children:[null!=t&&(0,i.jsx)(u.Z,{emojiName:t}),a.title()]})},[a]);return(0,i.jsx)(d.Tooltip,{text:r,tooltipClassName:L.marketingBadgeTooltip,position:"right",delay:100,hideOnClick:!1,"aria-label":a.title(),children:e=>(0,i.jsx)(O,{selected:t,locationState:n,...e,children:(0,i.jsx)(v,{color:a.badgeColor})})})},M=e=>{let{selected:t,locationState:n}=e,{collectiblesShopTabNewBadgeDisplayOptions:s}=(0,f.Z)();if(null!=s)switch(s.type){case N.k2.TOOLTIP:return(0,i.jsx)(P,{selected:t,locationState:n,displayOptions:s});case N.k2.COACHTIP_HEADLINE_ONLY:case N.k2.COACHTIP:return(0,i.jsx)(b,{selected:t,locationState:n,displayOptions:s});case N.k2.BADGE:return(0,i.jsx)(R,{selected:t,locationState:n})}return(0,i.jsx)(O,{selected:t,locationState:n})}},118379:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("15972"),n.e("12013"),n.e("47006"),n.e("29609"),n.e("32776"),n.e("95900"),n.e("87624"),n.e("23831"),n.e("73685")]).then(n.bind(n,838819)),webpackId:838819})},141594:function(e,t,n){n(47120);var i=n(470079),s=n(442837),a=n(704215),r=n(243778),l=n(594174),o=n(51144),c=n(599960),d=n(683167),u=n(302800),_=n(921944);let h="useCollectiblesShopTabNewBadge";t.Z=()=>{let e=(0,s.e7)([l.default],()=>l.default.getCurrentUser()),t=(0,d.I)(h),n=i.useMemo(()=>{if((0,o.Fc)(e)){if(t===u.LM.DARK_FANTASY)return[a.z.COLLECTIBLES_SHOP_DARK_FANTASY_MARKETING];if(t===u.LM.TIDE)return[a.z.COLLECTIBLES_SHOP_TIDE_COACHTIP];else if(t===u.LM.ARCADE)return[a.z.COLLECTIBLES_SHOP_ARCADE_COACHTIP];else if(t===u.LM.RETRO_AND_PIRATES)return[a.z.COLLECTIBLES_SHOP_RETRO_AND_PIRATES_COACHTIP];else if(t===u.LM.GALAXY)return[a.z.COLLECTIBLES_SHOP_GALAXY_COACHTIP]}return[]},[e,t]),[E,I]=(0,r.U)(n,void 0,!0),m=(0,c.E)(h),g=null;return null!=E&&(m===u.k2.COACHTIP?g=u.fY[E]:m===u.k2.COACHTIP_HEADLINE_ONLY?g=u.zM[E]:m===u.k2.BADGE&&(g={type:u.k2.BADGE})),{collectiblesShopTabNewBadgeDisplayOptions:g,dismissCollectiblesShopTabNewBadge:()=>{null!=g&&I(_.L.AUTO)}}}},314533:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770);let l="CONNECTIONS_GRID_MODAL_KEY";class o extends r.Z{_initialize(){a.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),a.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}_terminate(){a.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),a.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}handleShow(e){let{onComplete:t,excludedPlatformTypes:a,includedPlatformTypes:r,integrations:o,onCompleteApplication:c}=e;!(0,s.hasModalOpen)(l)&&(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("28538").then(n.bind(n,51299));return n=>(0,i.jsx)(e,{onComplete:t,excludedPlatformTypes:a,includedPlatformTypes:r,integrations:o,onCompleteApplication:c,...n})})}handleHide(){(0,s.closeModal)(l)}}t.Z=new o},705348:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(82950),a=n(63063),r=n(981631),l=n(921944),o=n(689938),c=n(157476);function d(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(s.Z,{image:c,guild:t,onDismissed:()=>n(l.L.UNKNOWN),onClick:()=>{open(a.Z.getArticleURL(r.BhN.CONNECTION_DETAILS)),n(l.L.UNKNOWN)},title:o.Z.Messages.LINKED_ROLES_ADMIN_NUX_TITLE,message:o.Z.Messages.LINKED_ROLES_ADMIN_NUX_CONTENT,cta:o.Z.Messages.LEARN_MORE,trackingSource:r.PsQ.LINKED_ROLES_ADMIN_NUX,type:r.vID.LINKED_ROLES_ADMIN})}},317858:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(470079),s=n(166516),a=n.n(s),r=n(525654),l=n.n(r),o=n(442837),c=n(888369),d=n(292959),u=n(699516),_=n(340895),h=n(358085),E=n(998502),I=n(252618),m=n(981631),g=n(689938);let p=new Set(["Blink","Gecko","WebKit"]),T=m.dG4;if(h.isPlatformEmbedded)T=e=>E.ZP.setBadge(e);else if(p.has(l().layout)){let e=new(a())({animation:"none"});T=t=>{try{(0,I.PR)(t),e.badge(-1===t?"":t)}catch(e){}}}function S(){let e=(0,o.e7)([_.Z],()=>_.Z.hasIncomingCalls()),t=(0,o.e7)([c.default,u.Z,d.Z],()=>{let e=c.default.getTotalMentionCount(),t=u.Z.getPendingCount(),n=c.default.hasAnyUnread(),i=d.Z.getDisableUnreadBadge(),s=e+t;return 0===s&&n&&!i&&(s=-1),s});i.useEffect(()=>{if(!e)return;let t=E.ZP.bounceDock("critical"),n=(0,I.EM)({messages:[g.Z.Messages.INCOMING_CALL],count:50});return()=>{null==t||t(),n()}},[e]),i.useEffect(()=>{T(t)},[t]),i.useEffect(()=>()=>T(0),[])}},635395:function(e,t,n){n(47120);var i,s,a=n(470079),r=n(442837),l=n(846027),o=n(230711),c=n(888369),d=n(131951),u=n(292959),_=n(19780),h=n(699516),E=n(606304),I=n(358085),m=n(998502),g=n(981631);(s=i||(i={})).DEFAULT="DEFAULT",s.UNREAD="UNREAD",s.CONNECTED="CONNECTED",s.SPEAKING="SPEAKING",s.MUTED="MUTED",s.DEAFENED="DEAFENED";let p=(0,I.isMac)()?null:"DEFAULT";class T extends a.PureComponent{componentDidMount(){m.ZP.setSystemTrayIcon(this.getIcon())}componentDidUpdate(){m.ZP.setSystemTrayIcon(this.getIcon())}componentWillUnmount(){m.ZP.setSystemTrayIcon(p)}render(){return null}constructor(...e){var t,n,i;super(...e),t=this,n="getIcon",i=()=>{let{deafened:e,muted:t,speaking:n,connected:i,unread:s}=this.props,a=p;return(0,I.isMac)()&&!i?a:(0,I.isLinux)()||!i?(s&&(a="UNREAD"),a):a=e?"DEAFENED":t?"MUTED":n?"SPEAKING":"CONNECTED"},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}let S=()=>null;I.isPlatformEmbedded&&(m.ZP.on("SYSTEM_TRAY_TOGGLE_MUTE",()=>l.Z.toggleSelfMute()),m.ZP.on("SYSTEM_TRAY_TOGGLE_DEAFEN",()=>l.Z.toggleSelfDeaf()),m.ZP.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",()=>{o.Z.open(g.oAB.VOICE)}),S=r.ZP.connectStores([_.Z,d.Z,E.Z,c.default,h.Z,u.Z],()=>{let e=c.default.getTotalMentionCount(),t=c.default.hasAnyUnread(),n=h.Z.getPendingCount(),i=u.Z.getDisableUnreadBadge();return{connected:_.Z.isConnected(),speaking:E.Z.isCurrentUserSpeaking(),muted:d.Z.isSelfMute()||d.Z.isSelfMutedTemporarily(),deafened:d.Z.isSelfDeaf(),unread:!i&&!!(t||e+n>0)}})(T)),t.Z=S},935347:function(e,t,n){n(653041);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(392711),o=n.n(l),c=n(442837),d=n(433517),u=n(481060),_=n(205355),h=n(607070),E=n(38618),I=n(197344),m=n(474873),g=n(706454),p=n(215427),T=n(820254),S=n(838949),C=n(358085),f=n(557177),N=n(998502),A=n(981631),Z=n(689938),L=n(969051);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends s.PureComponent{createSound(){let{soundpack:e}=this.props,t=(0,f.uk)("discodo",e);return t.volume=1,t}componentDidMount(){this.setProblemsTimeout()}componentDidUpdate(e,t){let{ready:n,hide:i,problems:s}=this.state,{connected:a,soundpack:r}=this.props,l=a&&n&&!i&&!s;e.soundpack!==r&&(this._connectedSound=this.createSound()),e.connected!==a||l?(a&&null!=this.videoRef&&d.K.get(A.wli)&&this._connectedSound.play(),this.setState({problems:!1,hide:a})):t.hide!==i?(i?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),setTimeout(()=>this.setState({shouldRender:!i}),200)):t.problems!==s&&s&&_.Z.checkIncidents()}componentWillUnmount(){this.clearProblemsTimeout()}render(){let{connected:e,incident:t}=this.props,{hide:n}=this.state;if(!this.state.shouldRender)return null;{let s=this._loadingText,a=null;return null!=this._eventLoadingText&&(s=this._eventLoadingText),null!=t&&(s=t.name,a=t.incident_updates[0].body),(0,i.jsxs)("div",{className:L.container,"data-fade":n,style:{"--connecting-container-fade-duration":"".concat(200,"ms"),"--connecting-content-fade-duration":"".concat(150,"ms")},children:[(0,i.jsxs)("div",{className:L.content,children:[(0,i.jsx)(S.Z,{autoPlay:!0,loop:!e,setRef:this.setVideoRef,onReady:this.handleReady,className:r()(L.spinner,this.state.ready?L.ready:"")}),(0,i.jsxs)("div",{className:L.text,children:[null!=t?null:(0,i.jsx)("div",{className:L.tipTitle,children:Z.Z.Messages.LOADING_DID_YOU_KNOW}),(0,i.jsx)("div",{className:null!=t?L.title:L.tip,children:s}),(0,i.jsx)("div",{className:L.body,children:a})]})]}),(0,i.jsxs)("div",{className:r()(L.problems,{[L.slideIn]:this.state.problems}),children:[(0,i.jsx)("div",{className:L.problemsText,children:Z.Z.Messages.CONNECTING_PROBLEMS_CTA}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(u.Anchor,{className:L.twitterLink,href:A.yXt.TWITTER_SUPPORT,target:"_blank",children:[(0,i.jsx)(u.XNeutralIcon,{size:"xs",color:"currentColor",className:L.icon}),Z.Z.Messages.TWEET_US]}),(0,i.jsxs)(u.Anchor,{className:L.statusLink,href:A.yXt.STATUS,target:"_blank",children:[(0,i.jsx)(T.Z,{className:L.icon}),Z.Z.Messages.SERVER_STATUS]})]})]})]})}}constructor(e){super(e),v(this,"videoRef",null),v(this,"_noProblemsTimeout",null),v(this,"_problemsTimeout",null),v(this,"_connectedSound",this.createSound()),v(this,"_loadingText",function(){let e=[Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_1,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_2,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_3,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_4,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_5,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"tab",className:L.keybind},t)}),Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_7,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_8,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_9,Z.Z.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"f6",className:L.keybind},t),tabHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"tab",className:L.keybind},t)}),Z.Z.Messages.LOADING_LINE_1,Z.Z.Messages.LOADING_LINE_2,Z.Z.Messages.LOADING_LINE_4,Z.Z.Messages.LOADING_LINE_5,Z.Z.Messages.LOADING_LINE_6,Z.Z.Messages.LOADING_LINE_7,Z.Z.Messages.LOADING_LINE_8,Z.Z.Messages.LOADING_LINE_9,Z.Z.Messages.LOADING_LINE_10,Z.Z.Messages.LOADING_LINE_11,Z.Z.Messages.LOADING_LINE_12,Z.Z.Messages.LOADING_LINE_13,Z.Z.Messages.LOADING_LINE_14,Z.Z.Messages.LOADING_LINE_15,Z.Z.Messages.LOADING_TIP_1,Z.Z.Messages.LOADING_TIP_2,Z.Z.Messages.LOADING_TIP_3,Z.Z.Messages.LOADING_TIP_4,Z.Z.Messages.LOADING_TIP_5,Z.Z.Messages.LOADING_TIP_6,Z.Z.Messages.LOADING_TIP_7,Z.Z.Messages.LOADING_TIP_8,Z.Z.Messages.LOADING_TIP_9,Z.Z.Messages.LOADING_TIP_10,Z.Z.Messages.LOADING_TIP_11,Z.Z.Messages.LOADING_TIP_12,Z.Z.Messages.LOADING_TIP_13,Z.Z.Messages.LOADING_TIP_14,Z.Z.Messages.LOADING_TIP_15,Z.Z.Messages.LOADING_TIP_16,Z.Z.Messages.LOADING_TIP_17,Z.Z.Messages.LOADING_TIP_18,Z.Z.Messages.LOADING_TIP_19,Z.Z.Messages.LOADING_TIP_20,Z.Z.Messages.LOADING_TIP_21,Z.Z.Messages.LOADING_TIP_22,Z.Z.Messages.LOADING_TIP_23,Z.Z.Messages.LOADING_TIP_24,Z.Z.Messages.LOADING_TIP_25,Z.Z.Messages.LOADING_TIP_26,Z.Z.Messages.LOADING_TIP_27.format({asterisks:"**"}),Z.Z.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"mod+k",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"alt+click",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+esc",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+alt+up",className:L.keybind},t),downHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"down",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"mod+/",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+return",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift",className:L.keybind},t)}),Z.Z.Messages.LOADING_KEYBIND_TIP_8.format({upHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"up",className:L.keybind},t)})];return g.default.locale.startsWith("en-")&&e.push(Z.Z.Messages.POLLS_MARKETING_EASTER_EGG_LOADING_LINE),e[o().random(e.length-1)]}()),v(this,"_eventLoadingText",function(){let e=I.Z.getLoadingTips();if(null!=e&&e.length>0)return e[o().random(e.length-1)]}()),v(this,"handleReady",()=>{this.setState({ready:!0}),(0,C.isDesktop)()&&(N.ZP.send("UPDATED_QUOTES",["Hold Tight  Loading Discord"]),N.ZP.send("UPDATE_OPEN_ON_STARTUP"))}),v(this,"setVideoRef",e=>{this.videoRef=e}),v(this,"setProblemsTimeout",()=>{null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(()=>this.setState({problems:!0}),1e4))}),v(this,"clearProblemsTimeout",()=>{clearTimeout(this._problemsTimeout),this._problemsTimeout=null});let{connected:t}=e;this.state={ready:t,hide:t,problems:!1,shouldRender:!t},this._connectedSound.volume=1}}t.Z=c.ZP.connectStores([E.Z,p.Z,m.Z,h.Z],()=>({isTryingToConnect:E.Z.isTryingToConnect(),connected:E.Z.isConnected(),incident:p.Z.getIncident(),soundpack:m.Z.getSoundpack(),reducedMotion:h.Z.useReducedMotion}))(e=>{let{isTryingToConnect:t,connected:n,incident:s,soundpack:a,reducedMotion:r}=e;return t?(0,i.jsx)(O,{reducedMotion:r,soundpack:a,connected:n,incident:s}):null})},423e3:function(e,t,n){n.d(t,{M:function(){return c}});var i=n(927723),s=n(703656),a=n(896797),r=n(984933),l=n(944486),o=n(981631);function c(e,t){if((0,i.k)({kind:"channel"}),l.Z.getChannelId(e)===t){var n;(0,s.dL)(o.Z5c.CHANNEL(e,null===(n=r.ZP.getDefaultChannel(e))||void 0===n?void 0:n.id))}else(0,s.dL)(a.Z.defaultRoute)}},823169:function(e,t,n){n(47120);var i=n(570140),s=n(317770),a=n(430824),r=n(594174),l=n(358085),o=n(53365),c=n(981631);class d extends s.Z{_initialize(){i.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}_terminate(){i.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}constructor(...e){var t,n,i;super(...e),t=this,n="maybeFetchEligiblity",i=async()=>{if((0,l.isDesktop)()||(0,l.isWeb)()){let e=Object.values(a.Z.getGuilds()),t=r.default.getCurrentUser(),n=e.filter(e=>e.isOwner(t)&&!e.hasFeature(c.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.hasFeature(c.oNc.CREATOR_MONETIZABLE)||e.hasFeature(c.oNc.CREATOR_MONETIZABLE_PROVISIONAL)));n.length>0&&await (0,o.av)(n.map(e=>e.id))}},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=new d},521868:function(e,t,n){n.d(t,{o:function(){return _}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(788307),o=n(2052),c=n(695346),d=n(689938),u=n(57883);function _(e){let{customStatus:t,focusedClassName:s,analyticsLocations:_,trackUserProfileAction:h}=e,E=(0,o.O)(),I=()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("51714").then(n.bind(n,211065));return t=>(0,i.jsx)(e,{sourceAnalyticsContext:E,sourceAnalyticsLocations:_,...t})})};return null!=t?(0,i.jsx)(r.MenuItem,{id:"edit-custom-status",label:d.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,focusedClassName:s,icon:null!=t.emoji?e=>{let{className:n}=e;return(0,i.jsx)(l.I,{className:n,emoji:t.emoji,animate:!0,hideTooltip:!0})}:void 0,showIconFirst:!0,hint:e=>(0,i.jsx)(r.Clickable,{...e,onClick:e=>{e.stopPropagation(),h({action:"PRESS_CLEAR_CUSTOM_STATUS",analyticsLocations:_}),c.Ok.updateSetting(void 0)},tabIndex:-1,children:(0,i.jsx)(r.CircleXIcon,{size:"sm",color:"currentColor"})}),action:()=>{h({action:"PRESS_EDIT_CUSTOM_STATUS",analyticsLocations:_}),I()}}):(0,i.jsx)(r.MenuItem,{id:"add-custom-status",focusedClassName:s,label:d.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:e=>(0,i.jsx)("div",{className:a()(u.customEmojiPlaceholder,e)}),showIconFirst:!0,action:()=>{h({action:"PRESS_ADD_CUSTOM_STATUS",analyticsLocations:_}),I()}})}},878727:function(e,t,n){n.d(t,{x:function(){return s}}),n(601964);var i=n(231338);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").some(e=>i.sL.includes(e.toLowerCase()))}},556017:function(e,t,n){n.d(t,{I:function(){return l},N:function(){return r}});var i=n(470079),s=n(818083),a=n(695346);let r=(0,s.B)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});function l(){let{canSeeInAppReportingButtons:e}=r.useExperiment({location:"7a11e2_1"},{autoTrackExposure:!1}),t=a.Sb.useSetting();return i.useEffect(()=>{r.trackExposure({location:"7a11e2_2"})},[]),e||t}},879484:function(e,t,n){n.d(t,{w:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]})},889010:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(360048),r=n(823379),l=n(731455),o=n(283831);let c=e=>{switch(e){case l.fW.Activity:return(0,i.jsx)(s.GameControllerIcon,{size:"md",color:"currentColor"});case l.fW.Discover:return(0,i.jsx)(s.CompassIcon,{size:"md",color:"currentColor"});case l.fW.Education:return(0,i.jsx)(s.EducationIcon,{size:"md",color:"currentColor"});case l.fW.Music:return(0,i.jsx)(s.MusicIcon,{size:"md",color:"currentColor"});case l.fW.Science:return(0,i.jsx)(s.ScienceIcon,{size:"md",color:"currentColor"});case l.fW.Stage:return(0,i.jsx)(s.StageIcon,{size:"custom",color:"currentColor",height:22,width:22});case l.fW.Television:return(0,i.jsx)(s.TvIcon,{size:"md",color:"currentColor"});case l.fW.Server:return(0,i.jsx)(s.ServerIcon,{});case l.fW.Quest:return(0,i.jsx)(s.QuestsIcon,{});default:(0,r.vE)(e)}},d=e=>{let{categories:t,currentCategoryId:n,handleCategorySelect:s,shouldDisplaySelectedCategory:r=!0}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)(a.Z,{avatar:c(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:()=>s(e.categoryId),wrapContent:!0,selected:r&&e.categoryId===n,className:o.categoryItem,selectedClassName:o.selectedCategoryItem,innerClassName:o.itemInner},e.categoryId))})};d.Icons=l.fW,t.Z=d},488905:function(e,t,n){n.d(t,{V:function(){return r}});var i=n(735250);n(470079);var s=n(481060),a=n(130273);function r(e){let{text:t}=e;return(0,i.jsx)(s.Heading,{variant:"heading-xl/semibold",className:a.discoverHeader,children:t})}},769727:function(e,t,n){n(47120);var i,s,a=n(735250),r=n(470079),l=n(338545),o=n(143927),c=n(704215),d=n(481060),u=n(442837),_=n(393238),h=n(607070),E=n(963202),I=n(353093),m=n(605236),g=n(931515),p=n(807933),T=n(702646),S=n(207796),C=n(543550),f=n(895068),N=n(921944),A=n(540736);(s=i||(i={})).TOP_PICKS="top_picks",s.OTHER_GUILDS="other_guilds";let Z={mass:1,tension:600,friction:60},L=r.memo(function(e){let{width:t}=e,n=(0,u.e7)([h.Z],()=>h.Z.useReducedMotion),i=(0,S.GN)(e=>e.mode,o.Z),[s,d]=r.useState(!0),_=(0,l.useSpring)({from:{opacity:0},to:{opacity:i===S.v0.GET_STARTED?0:1},config:Z,delay:500,immediate:n,onRest:()=>d(!1)}),g=(0,S.GN)(e=>e.userUpsellScreen,o.Z),L=(0,S.GN)(e=>e.started,o.Z),{guilds:v}=(0,E.C3)({location:"ClanDiscoveryAdminContainer",includeConverted:!0}),O=r.useMemo(()=>v.filter(e=>!(0,I.EJ)(e)),[v]),{enableApplication:R}=(0,E.Fg)("ClanDiscoveryAdminContainer"),x=(0,m.wE)(c.z.NEW_GAMING_DISCOVERY_NOTIF);switch(r.useEffect(()=>{!x&&(0,m.EW)(c.z.NEW_GAMING_DISCOVERY_NOTIF,{dismissAction:N.L.TAKE_ACTION,forceTrack:!0})},[x]),r.useEffect(()=>{let e=v.length>0;if(e&&!R&&g===S.o2.USER_UPSELL){(0,S.fH)(S.v0.ADMIN_UPSELL);return}if(!e&&R&&!L){(0,S.fH)(S.v0.GET_STARTED);return}if(R&&i===S.v0.ADMIN_UPSELL&&0===O.length){(0,S.fH)(S.v0.GET_STARTED),S.GN.getState().setUserUpsellScreen(S.o2.USER_UPSELL);return}},[O.length,v.length,L,R,i,g]),i){case S.v0.ADMIN_UPSELL:return(0,a.jsx)(C.$,{});case S.v0.GET_STARTED:return(0,a.jsx)(C.J,{});case S.v0.DISCOVERY:case S.v0.GAMES:case S.v0.PLAYSTYLE:case S.v0.TRAITS:return(0,a.jsxs)("div",{className:A.discoveryContainer,children:[(0,a.jsx)(l.animated.div,{className:A.toolbar,style:{opacity:_.opacity,transform:_.opacity.to([0,1],[-40,0]).to(e=>"translateY(".concat(e,"px)")),borderBottom:"1px solid var(--bg-mod-strong)"},children:(0,a.jsx)(T.Z,{})}),(0,a.jsx)(l.animated.div,{className:A.content,style:{opacity:_.opacity,transform:_.opacity.to([0,1],[40,0]).to(e=>"translateY(".concat(e,"px)"))},children:(0,a.jsx)(f.ZP,{width:t,isAnimating:s})}),(0,a.jsx)("div",{className:A.selectors,children:(0,a.jsx)(p.Z,{mode:i})})]})}});t.Z=r.memo(function(){let{loading:e}=(0,g.LE)(),{ref:t,width:n}=(0,_.Z)();return(0,a.jsxs)("main",{className:A.container,ref:t,children:[(0,a.jsx)("div",{className:A.dragRegion}),e?(0,a.jsx)("div",{className:A.loading,children:(0,a.jsx)(d.Spinner,{})}):(0,a.jsx)(L,{width:null!=n?n:0})]})})},229765:function(e,t,n){n.d(t,{X:function(){return u},j:function(){return _}}),n(315314),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(108131),s=n.n(i),a=n(544891),r=n(570140),l=n(10473),o=n(976757),c=n(981631);let d=new Worker(new URL(n.p+n.u("59546"),n.b));function u(){return r.Z.dispatch({type:"FETCH_STATIC_CLAN_LIST_START"}),a.tn.get({url:c.ANM.DISCOVERY_ALL_GAMES}).then(e=>{let t=e.body.clans.map(o.Gh);r.Z.dispatch({type:"FETCH_STATIC_CLAN_LIST_SUCCESS",clans:function(e){let t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))}(t)})}).catch(e=>{r.Z.dispatch({type:"FETCH_STATIC_CLAN_LIST_FAILURE",error:e})})}async function _(e){var t,n,i;if("loaded"===l.Z.getSearchResult(e).status)return;let a=s().v3(JSON.stringify(e)),o=l.Z.getStaticClans();let c=await (t=o,n=a,i=e,new Promise(e=>{let s=t=>{let{data:{id:i,sortedClans:a}}=t;n===i&&e(a),null==d||d.removeEventListener("message",s)};null==d||d.addEventListener("message",s);null==d||d.postMessage({id:n,unsortedClans:t,criteria:i})})),u={status:"loaded",loadedAt:Date.now(),items:c};r.Z.dispatch({type:"FETCH_CLAN_DISCOVERY_SEARCH_RESULT_SUCCESS",criteriaHash:a,searchResult:u})}},931515:function(e,t,n){n.d(t,{LE:function(){return I},Qc:function(){return m}});var i=n(470079),s=n(348327),a=n.n(s),r=n(143927),l=n(442837),o=n(224706),c=n(963202),d=n(229765),u=n(10473),_=n(207796),h=n(976757),E=n(308083);function I(){let e=(0,_.GN)(e=>e.setGame,r.Z),t=(0,_.GN)(e=>e.setSelectedGames,r.Z),n=(0,_.GN)(e=>e.selectedGames,r.Z),s=(0,_.GN)(_.t1,a()),h=(0,c.An)({location:"clan_discovery"}),{defaultGameId:I}=(0,c.nk)("clan_discovery"),m=null!=h?h:I,g=function(){let e=(0,l.e7)([u.Z],()=>u.Z.hasLoadedStaticClanDiscovery());return i.useEffect(()=>{!e&&(0,d.X)()},[e]),e}(),p=(0,l.e7)([u.Z],()=>u.Z.isLoading());return i.useEffect(()=>{!(n.length>0)&&(m===E.nJ?(e(_.hz.VALORANT),t([m])):m===E.xn&&(e(_.hz.GENSHIN),t([m])))},[e,t,m,n]),i.useEffect(()=>{g&&(0,d.j)(s)},[s,g]),i.useEffect(()=>{o.Z.getDetectableGames()},[]),{loading:p}}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,_.GN)(_.t1,a()),n=(0,l.e7)([u.Z],()=>u.Z.hasLoadedStaticClanDiscovery()),s=(0,l.e7)([u.Z],()=>u.Z.getSearchResult(t),[t]);return{loaded:n,clans:i.useMemo(()=>{if((0,h.Pw)(s)){let t=s.items;return null!=e?t.slice(0,e):t}return[]},[e,s]),searchCriteria:t,searchResult:s}}},480222:function(e,t,n){var i=n(735250),s=n(470079),a=n(338545),r=n(442837),l=n(481060),o=n(607070),c=n(207796),d=n(420212),u=n(689938),_=n(576513);let h={mass:1,tension:600,friction:60,clamp:!0};t.Z=function(e){let{children:t,onClose:n}=e,E=s.useCallback(()=>{(0,c.fH)(c.v0.DISCOVERY),null==n||n()},[n]);s.useEffect(()=>{let e=e=>{e.key===d.vn.ESCAPE&&E()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[E]);let I=(0,r.e7)([o.Z],()=>o.Z.useReducedMotion),m=(0,a.useSpring)({from:{opacity:0},to:{opacity:1},config:h,delay:500,immediate:I});return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("div",{className:_.saveContainer,children:(0,i.jsx)(l.Button,{onClick:E,look:l.ButtonLooks.OUTLINED,color:l.ButtonColors.PRIMARY,children:u.Z.Messages.SAVE})}),(0,i.jsx)(a.animated.div,{style:{opacity:m.opacity,transform:m.opacity.to([0,1],[40,0]).to(e=>"translateY(".concat(e,"px)"))},className:_.contentWrapper,children:(0,i.jsx)(l.Scroller,{fade:!0,className:_.content,children:t})})]})}},807933:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(338545),r=n(143927),l=n(442837),o=n(481060),c=n(607070),d=n(950279),u=n(741595),_=n(359380),h=n(480222),E=n(207796),I=n(316553),m=n(689938);let g={mass:1,tension:280,friction:20,clamp:!0},p={[E.v0.PLAYSTYLE]:function(){let[e,t]=s.useState(E.GN.getState().selectedPlaystyle),n=s.useCallback(()=>{null!=e&&E.GN.getState().setSelectedPlaystyle(e)},[e]);return(0,i.jsx)(h.Z,{onClose:n,children:(0,i.jsx)(u.Z,{title:m.Z.Messages.CLAN_DISCOVERY_PLAYSTYLE_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_PLAYSTYLE_SUBTITLE,handleUpdate:t,playstyle:e})})},[E.v0.TRAITS]:function(){let e=(0,E.GN)(e=>e.game,r.Z),t=(0,I.J)({selectedGame:e}),[n,a]=s.useState(new Set(E.GN.getState().selectedTraits)),l=s.useCallback(()=>{E.GN.getState().setSelectedTraits(Array.from(n))},[n]);return(0,i.jsx)(h.Z,{onClose:l,children:(0,i.jsx)(_.Z,{title:m.Z.Messages.CLAN_DISCOVERY_TRAIT_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_TRAIT_SUBTITLE,handleUpdate:a,interests:n,requiredGameId:t,hidePreview:!0})})},[E.v0.GAMES]:function(){let e=(0,E.GN)(e=>e.game,r.Z),t=(0,I.J)({selectedGame:e}),[n,a]=s.useState(new Set(E.GN.getState().selectedGames)),l=s.useCallback(()=>{E.GN.getState().setSelectedGames(Array.from(n))},[n]);return(0,i.jsx)(h.Z,{onClose:l,children:(0,i.jsx)(d.Z,{title:m.Z.Messages.CLAN_DISCOVERY_GAME_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_GAME_SUBTITLE,requiredGameId:t,handleUpdate:a,gameApplicationIds:n})})}};function T(e){let{item:t,state:n,cleanUp:r}=e,d=(0,l.e7)([c.Z],()=>c.Z.useReducedMotion),u=s.useMemo(()=>{let e=p[t];return null==e?null:(0,i.jsx)(e,{})},[t]),_=(0,a.useSpring)({from:{opacity:0},to:{opacity:n===o.TransitionStates.YEETED?0:1},config:g,immediate:d,onRest:()=>{n===o.TransitionStates.YEETED&&r()}});return(0,i.jsx)(a.animated.div,{style:_,children:u})}function S(e){return e}function C(e,t,n,s){return(0,i.jsx)(T,{item:t,state:n,cleanUp:s},e)}t.Z=s.memo(function(e){let{mode:t}=e,n=s.useMemo(()=>null!=p[t]?[t]:[],[t]);return(0,i.jsx)(o.TransitionGroup,{items:n,renderItem:C,getItemKey:S})})},347137:function(e,t,n){var i=n(735250),s=n(470079),a=n(948789),r=n(481060),l=n(442837),o=n(212093),c=n(100527),d=n(570938),u=n(677277),_=n(285865),h=n(918701),E=n(702428),I=n(709158),m=n(683301),g=n(360048),p=n(296386),T=n(150192),S=n(889010),C=n(488905),f=n(731455),N=n(981631),A=n(689938),Z=n(885181);let L=e=>{switch(e){case f.Gj.Activity:return f.fW.Activity;case f.Gj.Music:return f.fW.Music;case f.Gj.Television:return f.fW.Television;case f.Gj.Science:return f.fW.Science;case f.Gj.Education:return f.fW.Education;default:return f.fW.Server}};t.Z=function(){let{currentCategoryId:e,isViewingSearchResults:t}=(0,l.cj)([m.ZP],()=>({currentCategoryId:m.ZP.getCurrentCategoryId(),isViewingSearchResults:m.ZP.getMostRecentQuery().length>0})),n=(0,I.Z)(c.Z.QUEST_HOME_PAGE),v=(0,l.e7)([T.Z],()=>T.Z.getClanDiscoveryCategories(),[],T.j),O=null==v?void 0:v.map(e=>({...e,icon:L(e.categoryId)})),R=e=>{(0,o.uY)(e,!0),_.Z.closeSidebar(),t&&(0,o.AQ)(),(0,h.OG)()&&e!==f.Gj.Quests&&(0,a.uL)(N.Z5c.GUILD_DISCOVERY),!(0,h.OG)()&&e===f.Gj.Quests&&(0,a.uL)(N.Z5c.QUEST_HOME)};return s.useEffect(()=>{(0,p.le)(!1,!0)},[e]),(0,i.jsxs)(r.Scroller,{children:[(0,i.jsx)(C.V,{text:A.Z.Messages.DISCOVER}),(0,i.jsx)(g.Z,{avatar:(0,i.jsx)(d.Z,{}),name:A.Z.Messages.CLANS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:()=>R(f.Gj.Clans),wrapContent:!0,selected:e===f.Gj.Clans,className:Z.categoryItem,selectedClassName:Z.selectedCategoryItem,innerClassName:Z.itemInner},"clan-discovery-home"),(0,i.jsx)(S.Z,{categories:O,handleCategorySelect:R,currentCategoryId:e,shouldDisplaySelectedCategory:!t}),(0,i.jsx)(u.Z,{handleCategorySelect:R,currentCategoryId:e,shouldDisplaySelectedCategory:!t}),n&&(0,i.jsx)(E.Z,{onClick:()=>R(f.Gj.Quests),isSelected:e===f.Gj.Quests})]})}},10473:function(e,t,n){var i,s=n(108131),a=n.n(s),r=n(442837),l=n(570140),o=n(70956);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=[],u=!1,_=!1,h={status:"unloaded"},E={};class I extends(i=r.ZP.Store){getSearchResult(e){let t=E[a().v3(JSON.stringify(e))];return null==t||t.loadedAt<Date.now()-o.Z.Millis.HOUR?h:t}hasLoadedStaticClanDiscovery(){return u}getStaticClans(){return d}isLoading(){return _}}c(I,"displayName","ClanDiscoveryStore"),c(I,"persistKey","ClanDiscoveryStore"),t.Z=new I(l.Z,{FETCH_STATIC_CLAN_LIST_START:function(){_=!0},FETCH_STATIC_CLAN_LIST_SUCCESS:function(e){d=e.clans,u=!0,_=!1},FETCH_STATIC_CLAN_LIST_FAILURE:function(){_=!1},FETCH_CLAN_DISCOVERY_SEARCH_RESULT_SUCCESS:function(e){E[e.criteriaHash]=e.searchResult}})},702646:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(143927),o=n(481060),c=n(963202),d=n(105671),u=n(92373),_=n(207796),h=n(308083),E=n(689938),I=n(543802);function m(e){let{icon:t,text:n,ariaLabel:a,tooltip:l,onClick:c,isActive:d,autoWidth:u=!1}=e,[h,E]=s.useState(!1),[m,g]=s.useState(!1),p=_.GN.getState().mode,T=p===_.v0.GAMES||p===_.v0.PLAYSTYLE||p===_.v0.TRAITS;s.useEffect(()=>{T&&(E(!1),g(!1))},[T]);let S=d&&(m||h),C=s.useMemo(()=>(0,i.jsxs)(o.Clickable,{className:I.tooltipContentWrapper,onClick:c,onMouseEnter:()=>{!T&&E(!0)},onMouseLeave:()=>{E(!1)},children:[(0,i.jsx)("div",{className:I.tooltipHoverBridge}),l]}),[l,c,T]);return(0,i.jsx)(o.Tooltip,{text:C,position:"bottom","aria-label":a,shouldShow:S,forceOpen:S,allowOverflow:!0,disableTooltipPointerEvents:!1,tooltipClassName:r()(I.filterTooltip,{[I.filterTooltipAutoWidth]:u}),tooltipContentClassName:I.filterTooltipContent,children:e=>(0,i.jsxs)(o.Button,{...e,className:r()(I.filterPill,{[I.filterPillActive]:d}),innerClassName:I.filterPillContents,look:o.ButtonLooks.OUTLINED,color:o.ButtonColors.CUSTOM,onClick:c,onMouseEnter:()=>{g(!0)},onMouseLeave:()=>{g(!1)},children:[t,(0,i.jsxs)("div",{className:I.filterPillText,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"none",children:n}),(0,i.jsx)(o.ChevronSmallDownIcon,{className:I.chevron,color:"currentColor"})]})]})})}function g(){var e;let t=(0,_.GN)(e=>e.selectedGames,l.Z),n=s.useCallback(()=>{(0,_.fH)(_.v0.GAMES,!0)},[]),a=null!==(e=(0,d.i)(t))&&void 0!==e?e:"",r=t.slice(0,3),c=t.length-3,h=(0,i.jsx)("div",{className:I.gamesTooltip,children:r.map((e,t)=>(0,i.jsx)(u.Z,{applicationId:e,otherGamesCount:2===t&&c>0?c+1:void 0},e))}),g=(0,i.jsx)(o.GameControllerIcon,{className:I.filterPillIcon,color:"currentColor"});return(0,i.jsx)(m,{icon:g,text:E.Z.Messages.CLAN_DISCOVERY_GAME_FILTER.format({count:t.length}),tooltip:h,onClick:n,isActive:t.length>0,ariaLabel:a,autoWidth:!0})}function p(){let e=s.useMemo(h.f4,[]),t=(0,_.GN)(e=>e.selectedPlaystyle,l.Z),n=null!=t?e[t]:null,a=null==n?void 0:n.title,r=s.useCallback(()=>{(0,_.fH)(_.v0.PLAYSTYLE,!0)},[]),c=null!=n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Heading,{variant:"heading-xxl/medium",children:n.emoji}),(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Heading,{variant:"heading-md/medium",children:n.title}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",children:n.subtitle})]})]}):null,d=(0,i.jsx)(o.DpadIcon,{className:I.filterPillIcon,color:"currentColor"});return(0,i.jsx)(m,{icon:d,text:null!=a?a:E.Z.Messages.CLAN_DISCOVERY_ANY_PLAYSTYLE,tooltip:c,onClick:r,isActive:null!=n,ariaLabel:null!=a?a:E.Z.Messages.CLAN_DISCOVERY_ANY_PLAYSTYLE})}function T(){let e=(0,_.GN)(e=>e.selectedTraits,l.Z),t=s.useCallback(()=>{(0,_.fH)(_.v0.TRAITS,!0)},[]);if(null==e)return null;let n=(0,i.jsx)("div",{className:I.traitsTooltip,children:e.map(e=>(0,i.jsx)("div",{className:I.trait,children:(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"none",children:e})},e))}),a=(0,i.jsx)(o.TagIcon,{className:I.filterPillIcon,color:"currentColor"});return(0,i.jsx)(m,{icon:a,text:E.Z.Messages.CLAN_DISCOVERY_PREFERENCES_FILTER,tooltip:n,onClick:t,isActive:e.length>0,ariaLabel:e.join(", "),autoWidth:!0})}function S(){let{enableClanCreation:e}=(0,c.C3)({location:"clan_discovery_add_clan",includeConverted:!1});return e?(0,i.jsxs)(o.Clickable,{className:r()(I.buttonPill),onClick:()=>(0,_.fH)(_.v0.ADMIN_UPSELL),children:[(0,i.jsx)(o.PlusSmallIcon,{className:I.filterPillIcon,color:"currentColor"}),(0,i.jsx)("div",{className:I.filterPillText,children:(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"none",children:E.Z.Messages.CLAN_DISCOVERY_ADD_CLAN})})]}):null}t.Z=function(e){let{className:t}=e;return(0,i.jsxs)("div",{className:r()(I.toolbar,t),children:[(0,i.jsx)("div",{className:I.addClan,children:(0,i.jsx)(S,{})}),(0,i.jsxs)("div",{className:I.preferences,children:[(0,i.jsx)(g,{}),(0,i.jsx)(p,{}),(0,i.jsx)(T,{})]}),(0,i.jsx)("div",{className:I.actions})]})}},207796:function(e,t,n){n.d(t,{GN:function(){return _},PJ:function(){return E},fH:function(){return h},hz:function(){return l},o2:function(){return o},t1:function(){return I},v0:function(){return r}});var i,s,a,r,l,o,c=n(652874),d=n(868888),u=n(433517);(i=r||(r={})).ADMIN_UPSELL="admin_upsell",i.GET_STARTED="get_started",i.DISCOVERY="discovery",i.PLAYSTYLE="playstyle",i.TRAITS="traits",i.GAMES="games",(s=l||(l={})).VALORANT="valorant",s.GENSHIN="genshin",(a=o||(o={})).USER_UPSELL="user_upsell",a.USER_ONBOARDING="user_onboarding";let _=(0,c.Z)((0,d.tJ)(e=>({mode:"admin_upsell",previousMode:"admin_upsell",game:"valorant",started:!1,userUpsellScreen:"user_upsell",selectedGames:[],selectedPlaystyle:null,selectedTraits:[],setGame:t=>e({game:t}),setSelectedGames:t=>e({selectedGames:t}),setSelectedPlaystyle:t=>e({selectedPlaystyle:t,started:!0}),setSelectedTraits:t=>e({selectedTraits:t,started:!0}),setUserUpsellScreen:t=>e({userUpsellScreen:t})}),{name:"clan-discovery",getStorage:()=>({getItem:e=>{var t;return null!==(t=u.K.get(e))&&void 0!==t?t:null},setItem:(e,t)=>u.K.set(e,t),removeItem:e=>u.K.remove(e)}),partialize:e=>({mode:e.mode,game:e.game,started:e.started,selectedGames:e.selectedGames,selectedPlaystyle:e.selectedPlaystyle,selectedTraits:e.selectedTraits})}));function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=_.getState().mode,i=_.getState().started;_.setState({mode:e,previousMode:n,started:t||i})}function E(){_.setState({started:!1,mode:"admin_upsell",previousMode:"admin_upsell",game:"valorant",userUpsellScreen:"user_upsell",selectedGames:[],selectedPlaystyle:null,selectedTraits:[]})}function I(e){var t;let n=e.selectedGames,i=null!==(t=e.selectedPlaystyle)&&void 0!==t?t:void 0;return{games:n,playstyle:i,traits:e.selectedTraits}}},584885:function(e,t,n){n(653041);var i=n(735250),s=n(470079),a=n(481060),r=n(570140),l=n(906732),o=n(451603),c=n(885714),d=n(514611),u=n(127541),_=n(981631),h=n(378042);let E=[[1696,20],[1432,16],[1168,12],[0,8]],I=[[1696,30],[1432,24],[1168,18],[0,12]];t.Z=e=>{let t,{title:n,subtitle:m,guildsData:g,analyticsContext:p,theme:T,onViewGuild:S,fetchGuilds:C,onGuildCardSeen:f,currentCategoryId:N,loadId:A,onTagClick:Z,showMoreCards:L=!1}=e;s.useEffect(()=>{r.Z.wait(()=>C())},[N]);let v=(0,u.Z)(L?I:E),{analyticsLocations:O}=(0,l.ZP)();if(null==g)return null;let{guilds:R,loading:x}=g,b=null==R||0===R.length;if(!x&&b)return null;let P=async e=>{if((0,o.yU)())(0,c.Z)({analyticsSource:{page:_.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:_.ZY5.GUILD_DISCOVERY,section:_.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:O});else{let t=R.findIndex(t=>t.id===e);await S(e,t,p,A)}};if(x||null==R){let e=[];for(let t=0;t<v;t++)e.push((0,i.jsx)(d.Z.Placeholder,{},t));t=e}else t=R.slice(0,v).map(e=>(0,i.jsx)(d.Z,{className:h.__invalid_guildCard,guild:e,onView:P,theme:T,onGuildCardSeen:f,onTagClick:Z},e.id));return(0,i.jsx)("section",{className:h.guildListSection,children:(0,i.jsxs)(a.HeadingLevel,{component:(0,i.jsx)(a.Heading,{className:h.__invalid_title,variant:"heading-lg/semibold",children:n}),children:[null!=m&&(0,i.jsx)(a.Text,{className:h.subtitle,variant:"text-sm/normal",color:"header-secondary",children:m}),(0,i.jsx)("div",{className:h.guildList,children:t})]})})}},59222:function(e,t,n){n.d(t,{D:function(){return C}}),n(47120);var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(664751),o=n(442837),c=n(481060),d=n(212093),u=n(703656),_=n(683301),h=n(671533),E=n(900849),I=n(119317),m=n(749436),g=n(650394),p=n(731455),T=n(689938),S=n(178698);let C=12,f=()=>{let e=(0,u.s1)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?l.parse(e):{}},N=e=>{let{categoryId:t,categoryName:n,onClick:s}=e,a=t===p.Hk,r=a?T.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:T.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),l=a?T.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:T.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:s});return(0,i.jsxs)("div",{className:S.emptyContainer,children:[(0,i.jsx)("div",{className:S.emptyImage}),(0,i.jsx)(c.Heading,{variant:"heading-xl/semibold",className:S.emptyHeader,children:r}),(0,i.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:l})]})},A=()=>(0,i.jsxs)("div",{className:S.emptyContainer,children:[(0,i.jsx)("div",{className:S.errorImage}),(0,i.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",className:S.emptyHeader,children:T.Z.Messages.GUILD_DISCOVERY_SEARCH_ERROR})]});t.Z=e=>{let{loadId:t,searchResults:n,mostRecentQuery:a,defaultLanguage:l,availableLanguages:u,isFetchingSearch:Z,scroller:L,loadingGuildId:v,theme:O,currentCategoryId:R,currentCategoryName:x,onViewGuild:b,onGuildCardSeen:P,placeholder:M,onTagClick:D}=e,y=r().uniqueId("GuildDiscovery"),{guilds:j,loading:U,total:G}=n,[k,w]=s.useState(!1),{tag:B}=f(),[H,V]=s.useState(B),F=(0,o.e7)([_.ZP],()=>_.ZP.hasSearchError()),Y=(e,t,n)=>{d.bR(a,{categoryId:n?p.Hk:R,preferredLocale:l.code,offset:e,length:t,filters:{approximate_member_count:E.sq}}),w(!1)},W=()=>{null==L||L.scrollTo({to:0})};s.useEffect(()=>{let{offset:e,tag:t}=f(),n=null!=e?Math.floor(parseInt(e,10)/C)+1:1;V(!!t),1===n&&w(!0)},[a]);let z=R===p.Hk?T.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=G?G.toLocaleString():"0",query:a}):T.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=G?G.toLocaleString():"0",query:a,category:x});return(0,i.jsxs)("div",{className:S.container,children:[(0,i.jsxs)("div",{className:S.searchHeader,children:[(0,i.jsx)(c.Clickable,{onClick:()=>{d.AQ(),E.IZ(t)},className:S.arrow,"aria-label":T.Z.Messages.BACK,children:(0,i.jsx)(h.Z,{direction:h.Z.Directions.LEFT})}),(0,i.jsx)(c.Heading,{variant:"heading-xl/semibold",className:S.header,children:z})]}),(0,i.jsx)(m.Z,{loadId:t,searchResults:n,mostRecentQuery:a,isFetchingSearch:Z,defaultLanguage:l,placeholder:M,availableLanguages:u,isSearchPage:!0,currentCategoryId:R,isTagSearch:H}),F?(0,i.jsx)(A,{}):G<=0?(0,i.jsx)(N,{categoryId:R,categoryName:x,onClick:()=>{d.uY(p.Hk),Y(0,C,!0)}}):(0,i.jsx)("div",{className:S.results,children:(0,i.jsx)(I.Z,{pageSize:C,totalCount:G,resetCurrentPage:k,onPageChange:e=>{Y((e-1)*C,C),W()},children:e=>{let{controller:t}=e;return(0,i.jsxs)("section",{"aria-labelledby":y,children:[(0,i.jsx)(g.Z,{guilds:j,loading:U,loadingPlaceholderCount:C,onViewGuild:b,loadingGuildId:v,theme:O,analyticsContext:E.P1.SEARCH,onGuildCardSeen:P,onTagClick:D}),t]})}})})]})}},194729:function(e,t,n){n(390547),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(392711),o=n.n(l),c=n(664751),d=n(748780),u=n(873546),_=n(442837),h=n(481060),E=n(570140),I=n(212093),m=n(827837),g=n(785570),p=n(100527),T=n(963202),S=n(252618),C=n(440190),f=n(5955),N=n(121711),A=n(709158),Z=n(703656),L=n(108427),v=n(706454),O=n(210887),R=n(480294),x=n(683301),b=n(430824),P=n(230307),M=n(502568),D=n(900849),y=n(879484),j=n(117496),U=n(296386),G=n(150192),k=n(769727),w=n(584885),B=n(59222),H=n(749436),V=n(26580),F=n(731455),Y=n(981631),W=n(689938),z=n(468918),K=n(368179),q=n(52518);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X extends s.PureComponent{componentDidMount(){var e,t,n;let{isFetching:i,guilds:{gamesYouPlay:s,featured:a},searchRoute:r,currentHomepageCategoryId:l,mostRecentQuery:o}=this.props;if((0,m.N)(),(0,U.le)(),null==x.ZP.getSearchIndex()&&(0,I.Ue)(),E.Z.wait(()=>{(0,g.M)(Y.x8Z.SERVER_DISCOVERY_BADGE)}),!i&&0===o.length&&D.Zt({loadId:this.loadId,gamesYouPlayGuilds:s.guilds,allGuilds:a.guilds,categoryId:l}),null!=r){let{query:e,offset:t,limit:n,preferredLocale:i,categoryId:s}=c.parse(r);(0,I.bR)(e,{categoryId:parseInt(s,10),preferredLocale:i,offset:parseInt(t,10),filters:{approximate_member_count:D.sq},length:parseInt(n,10)})}else null!=l&&l!==F.Hk&&E.Z.wait(()=>(0,I.uY)(l));let d=null!==(t=null===(e=(0,Z.s1)().location.state)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0;d>0&&(null===(n=this._scroller.current)||void 0===n||n.scrollTo({to:d})),(0,L.e)("guild_discovery")}componentDidUpdate(e){let{guilds:{gamesYouPlay:t,featured:n},isFetching:i,mostRecentQuery:s,currentHomepageCategoryId:a,currentCategoryId:r}=this.props;if(e.isFetching&&!i&&D.Zt({loadId:this.loadId,gamesYouPlayGuilds:t.guilds,allGuilds:n.guilds,categoryId:a}),e.currentCategoryId!==r){var l;null===(l=this._scroller.current)||void 0===l||l.scrollTo({to:0})}e.currentCategoryId!==r&&D.Az(this.loadId,Array.from(this._guildIdsSeen)),e.mostRecentQuery.length>0&&s.length<1&&a!==r&&(0,I.uY)(a)}componentWillUnmount(){let{currentCategoryId:e,recommendationsLoadId:t,recommendationsGuilds:n}=this.props;e===F.Hk?null!=n&&null!=t&&D.Az(t,this.getOrderedGuildIdsSeen(n.map(e=>e.id)),"Game Recommendations"):D.Az(this.loadId,Array.from(this._guildIdsSeen))}getOrderedGuildIdsSeen(e){return e.filter(e=>this._guildIdsSeen.has(e))}renderGamesYouPlay(){let{guilds:e,mightHaveGamesYouPlay:t,theme:n,userGuilds:s}=this.props,a=Object.keys(s),r=e[Y.Lcj.GAMES_YOU_PLAY];r.guilds=r.guilds.filter(e=>!a.includes(e.id));let{loadingGuildId:l}=this.state;return t?(0,i.jsx)(w.Z,{loadId:this.loadId,title:W.Z.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:r,loadingGuildId:l,analyticsContext:D.P1.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:I.gk,theme:n}):null}renderSearchBar(){var e,t;let{mostRecentQuery:n,guilds:{search:s},defaultLanguage:a,isFetchingSearch:r,currentCategoryId:l,categories:o,currentCategoryName:c}=this.props;y.w.trackExposure({location:"54961b_1"});let{shouldDisplayRecommendedSearchTags:d}=y.w.getCurrentConfig({location:"54961b_2"},{autoTrackExposure:!1}),u=d?l===F.Hk?W.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({categoryName:c}):l===F.Hk?W.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:c}),_=null!==(t=null===(e=s[n])||void 0===e?void 0:e[l])&&void 0!==t?t:x.xk;return(0,i.jsx)(H.Z,{loadId:this.loadId,searchResults:_,mostRecentQuery:n,isFetchingSearch:r,defaultLanguage:a,placeholder:u,currentCategoryId:l,categories:o})}renderSearchResults(){var e,t;let{mostRecentQuery:n,guilds:{search:s},availableLanguages:a,defaultLanguage:r,isFetchingSearch:l,theme:o,currentCategoryId:c,currentCategoryName:d}=this.props,{loadingGuildId:u}=this.state,_=c===F.Hk?W.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),h=null!==(t=null===(e=s[n])||void 0===e?void 0:e[c])&&void 0!==t?t:x.xk;return(0,i.jsx)(B.Z,{loadId:this.loadId,availableLanguages:a,defaultLanguage:r,placeholder:_,isFetchingSearch:l,searchResults:h,mostRecentQuery:n,loadingGuildId:u,currentCategoryId:c,currentCategoryName:d,scroller:this._scroller.current,theme:o,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:(e,t)=>this.handleTagSearch(e,t,D.P1.SEARCH)})}renderRecommendedGuildsSection(){let{guilds:e,theme:t}=this.props,{loadingGuildId:n}=this.state;return(0,i.jsx)(w.Z,{loadId:this.loadId,title:W.Z.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:e.featured,analyticsContext:D.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:()=>(0,I.$z)(0,30),loadingGuildId:n,theme:t,onTagClick:(e,t)=>this.handleTagSearch(e,t,D.P1.POPULAR)})}renderPopularGuildsSection(){let{guilds:e,theme:t,currentCategoryId:n}=this.props,{loadingGuildId:s}=this.state;return(0,i.jsx)(w.Z,{loadId:this.loadId,title:W.Z.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:e[n],loadingGuildId:s,analyticsContext:D.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:()=>(0,I.K5)(n),currentCategoryId:n,theme:t,onTagClick:(e,t)=>this.handleTagSearch(e,t,D.P1.POPULAR)})}render(){var e,t;let{currentCategoryName:n,mostRecentQuery:a,currentCategoryId:l,guilds:c}=this.props,d=a.length>0;y.w.trackExposure({location:"54961b_3"});let{shouldDisplayRecommendedSearchTags:_}=y.w.getCurrentConfig({location:"54961b_4"},{autoTrackExposure:!1}),E=l===F.Hk?null===(e=c[Y.Lcj.FEATURED])||void 0===e?void 0:e.guilds:null===(t=c[l])||void 0===t?void 0:t.guilds;if(l===F.U)return(0,i.jsx)(f.Z,{loadId:this.loadId});let I=l===F.Hk?W.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:n});return(0,i.jsxs)("div",{className:z.pageWrapper,children:[(0,i.jsx)(S.yY,{subsection:d?a:void 0,location:I}),(0,i.jsx)("div",{className:r()(z.dragRegion,z.pageHeaderDrag,{[z.searchPageDrag]:d})}),u.tq&&(0,i.jsx)(M.ZP,{children:(0,i.jsx)(s.Fragment,{})}),(0,i.jsx)(h.AdvancedScrollerAuto,{className:z.scroller,ref:this._scroller,onScroll:this.handleScroll,children:(0,i.jsx)("div",{className:r()(z.viewWrapper,{[z.searchPage]:d}),children:d?this.renderSearchResults():(0,i.jsxs)(h.HeadingLevel,{forceLevel:1,component:(0,i.jsxs)("div",{className:z.searchHeader,children:[(0,i.jsx)("img",{alt:"",className:z.headerImage,src:q}),(0,i.jsx)("div",{className:z.headerContentWrapper,children:(0,i.jsxs)("div",{className:z.headerContent,children:[(0,i.jsx)(h.Heading,{variant:"heading-xl/semibold",className:z.searchTitle,children:l===F.Hk?W.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:n})}),(0,i.jsx)(h.Text,{variant:"text-md/normal",className:z.searchSubtitle,children:l===F.Hk&&W.Z.Messages.GUILD_DISCOVERY_HOME_SUBTITLE}),this.renderSearchBar(),_&&(0,i.jsx)(V.F,{hideOverflow:!0,section:D.P1.HEADER,className:z.headerTagContainer,discoveryTagStyle:V.B.LIGHT,onTagClick:e=>this.handleTagSearch(e,void 0,D.P1.HEADER),tags:o().chain(E).flatMap(e=>e.keywords).compact().uniq().sampleSize(10).value()})]})})]}),children:[(0,i.jsx)("div",{className:z.__invalid_featuredBody,children:l===F.Hk?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()}),(0,i.jsxs)("div",{className:z.footer,children:[(0,i.jsx)("img",{alt:"",src:K,className:z.footerImage}),(0,i.jsx)(h.Heading,{variant:"heading-md/semibold",children:W.Z.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE}),(0,i.jsx)(h.Button,{look:h.Button.Looks.LINK,color:h.Button.Colors.LINK,size:h.Button.Sizes.MIN,onClick:this.scrollToTop,children:W.Z.Messages.GUILD_DISCOVERY_FOOTER_BODY})]})]})})})]})}constructor(...e){super(...e),Q(this,"_scroller",s.createRef()),Q(this,"_guildIdsSeen",new Set),Q(this,"loadId",(0,j.P)()),Q(this,"state",{animatedValue:new d.Z.Value(0),loadingGuildId:null}),Q(this,"scrollToTop",()=>{null!=this._scroller.current&&this._scroller.current.scrollTo({to:0})}),Q(this,"handleScroll",()=>{var e,t;let{animatedValue:n}=this.state,i=null!==(t=null===(e=this._scroller.current)||void 0===e?void 0:e.getScrollerState().scrollTop)&&void 0!==t?t:0;n.setValue(Math.min(1,i/200))}),Q(this,"handleViewGuild",async(e,t,n,i)=>{var s,a;let{currentCategoryId:r}=this.props,{loadingGuildId:l}=this.state;if(e===l)return;let o=null!==(a=null===(s=this._scroller.current)||void 0===s?void 0:s.getScrollerState().scrollTop)&&void 0!==a?a:0,{location:c}=(0,Z.s1)();(0,Z.dL)({...c,state:o}),this.setState({loadingGuildId:e});let d=r!==F.Hk?r:null;try{await D.Lq({loadId:null!=i?i:this.loadId,guildId:e,index:t,analyticsContext:n,categoryId:d})}catch(e){this.setState({loadingGuildId:null})}}),Q(this,"handleGuildCardSeen",e=>{this._guildIdsSeen.add(e)}),Q(this,"handleTagSearch",(e,t,n)=>{let{currentCategoryId:i,defaultLanguage:s}=this.props;if(null==i)return;let a={approximate_member_count:D.sq};(0,I.G7)(e,a),(0,I.bR)(e,{filters:a,categoryId:i,preferredLocale:s.code,offset:0,length:B.D,tag:!0}),D.j$(this.loadId,i,n,t),this.scrollToTop()})}}let J=_.ZP.connectStores([O.Z,v.default,P.Z,R.Z,x.ZP,G.Z,b.Z],()=>{var e;let t=F.dU,n=v.default.locale,i=null!==(e=o().find(t,{code:n}))&&void 0!==e?e:t[0],s=Object.keys(P.Z.applicationStatistics),a=R.Z.hasConsented(Y.pjP.PERSONALIZATION)&&s.length>0,r=x.ZP.getCurrentCategoryId(),l=x.ZP.getCurrentHomepageCategoryId();return{isFetching:x.ZP.isFetching(),isFetchingSearch:x.ZP.isFetchingSearch(),guilds:x.ZP.getDiscoverableGuilds(),mostRecentQuery:x.ZP.getMostRecentQuery(),currentCategoryId:r,currentHomepageCategoryId:l,currentCategoryName:G.Z.getCategoryName(r),categories:G.Z.getDiscoveryCategories(),userGuilds:b.Z.getGuilds(),theme:O.Z.theme,mightHaveGamesYouPlay:a,availableLanguages:t,defaultLanguage:i}})(X);function $(e){let{searchRoute:t}=e,{fetching:n,loadId:s,recommendedGuilds:a}=(0,_.cj)([C.Z],()=>({recommendedGuilds:C.Z.getRecommendedGuilds(),loadId:C.Z.getLoadId(),fetching:C.Z.isFetching()}));return(0,i.jsx)(J,{searchRoute:t,fetchingRecommendations:n,usingGameRecommendations:!1,recommendationsGuilds:a,recommendationsLoadId:s})}t.Z=function(e){let{searchRoute:t}=e,{guilds:n}=(0,T.C3)({location:"guild_discovery",includeConverted:!0}),s=n.length>0,{clanDiscoveryEnabled:a}=(0,T.nk)("guild_discovery"),r=(0,_.e7)([x.ZP],()=>x.ZP.getCurrentCategoryId()),l=(0,_.e7)([x.ZP],()=>x.ZP.getIsReady()),o=(0,A.Z)(p.Z.QUEST_HOME_PAGE);return(s||a)&&(!l||r===F.Gj.Clans)?(0,i.jsx)(k.Z,{}):o&&r===F.Gj.Quests?(0,i.jsx)(N.Z,{}):(0,i.jsx)($,{searchRoute:t})}},668940:function(e,t,n){var i=n(735250);n(470079);var s=n(948789),a=n(442837),r=n(481060),l=n(212093),o=n(100527),c=n(963202),d=n(677277),u=n(285865),_=n(918701),h=n(702428),E=n(709158),I=n(683301),m=n(150192),g=n(889010),p=n(488905),T=n(347137),S=n(731455),C=n(981631),f=n(689938),N=n(468918);let A=e=>{switch(e){case S.Gj.Activity:return S.fW.Activity;case S.Gj.Music:return S.fW.Music;case S.Gj.Television:return S.fW.Television;case S.Gj.Science:return S.fW.Science;case S.Gj.Education:return S.fW.Education;default:return S.fW.Discover}},Z=()=>{let{currentCategoryId:e,isViewingSearchResults:t}=(0,a.cj)([I.ZP],()=>({currentCategoryId:I.ZP.getCurrentCategoryId(),isViewingSearchResults:I.ZP.getMostRecentQuery().length>0})),n=(0,E.Z)(o.Z.QUEST_HOME_PAGE),c=(0,a.e7)([m.Z],()=>m.Z.getDiscoveryCategories(),[],m.j),T=null==c?void 0:c.map(e=>({...e,icon:A(e.categoryId)})),Z=e=>{(0,l.uY)(e,!0),u.Z.closeSidebar(),t&&(0,l.AQ)(),(0,_.OG)()&&e!==S.Gj.Quests&&(0,s.uL)(C.Z5c.GUILD_DISCOVERY),!(0,_.OG)()&&e===S.Gj.Quests&&(0,s.uL)(C.Z5c.QUEST_HOME)};return(0,i.jsxs)(r.Scroller,{className:N.sidebarContainer,children:[(0,i.jsx)(p.V,{text:f.Z.Messages.DISCOVER}),(0,i.jsx)(g.Z,{categories:T,handleCategorySelect:Z,currentCategoryId:e,shouldDisplaySelectedCategory:!t}),(0,i.jsx)(d.Z,{handleCategorySelect:Z,currentCategoryId:e,shouldDisplaySelectedCategory:!t}),n&&(0,i.jsx)(h.Z,{onClick:()=>Z(S.Gj.Quests),isSelected:e===S.Gj.Quests})]})};t.Z=function(){let{guilds:e}=(0,c.C3)({location:"guild_discovery_sidebar",includeConverted:!0}),t=e.length>0,{clanDiscoveryEnabled:n}=(0,c.nk)("guild_discovery_sidebar");return t||n?(0,i.jsx)(T.Z,{}):(0,i.jsx)(Z,{})}},455839:function(e,t,n){n.r(t),n.d(t,{GuildDiscoveryMenuPopout:function(){return I},default:function(){return E}});var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(239091),l=n(299206),o=n(726521),c=n(430824),d=n(496675),u=n(556017),_=n(981631),h=n(689938);function E(e){let{guild:t,shiftId:n,onSelect:E,closePopout:I,"aria-label":m}=e,g=(0,l.Z)({id:t.id,label:h.Z.Messages.COPY_ID_GUILD,shiftId:n,onSuccess:I}),p=(0,s.e7)([c.Z],()=>c.Z.getGuild(t.id),[t.id]),T=(0,s.e7)([d.Z],()=>d.Z.can(_.Plq.ADMINISTRATOR,p)),{canSeeInAppReportingButtons:S}=u.N.useExperiment({location:"0e35b9_1"},{autoTrackExposure:!1}),C=()=>{(0,r.Zy)(),null==I||I()};return(0,i.jsxs)(a.Menu,{onSelect:E,navId:"guild-discovery-context-menu","aria-label":null!=m?m:h.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:r.Zy,children:[(0,i.jsx)(a.MenuGroup,{children:!T&&S?(0,i.jsx)(a.MenuItem,{id:"report-guild-discovery-listing",label:h.Z.Messages.REPORT_SERVER_NO_NAME,action:()=>{(0,o.lt)(t),C()},icon:a.FlagIcon,color:"danger"}):null}),(0,i.jsx)(a.MenuGroup,{children:g})]})}let I=e=>{let{guild:t,children:n,onRequestOpen:s,onRequestClose:r}=e;return(0,i.jsx)(a.Popout,{onRequestOpen:s,onRequestClose:r,animation:a.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(E,{guild:t,closePopout:n})},children:n})}},380009:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(434404),a=n(970731),r=n(981631),l=n(689938),o=n(26209),c=n(687351);function d(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(a.ZP,{header:l.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:l.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:(0,i.jsx)("div",{className:o.image,children:(0,i.jsx)("img",{alt:"",src:c})}),buttonCTA:l.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:e=>{var n;n=t,s.Z.open(n.id,r.pNK.DISCOVERY_LANDING_PAGE)},secondaryButtonCTA:l.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:()=>{},markAsDismissed:n})}},119317:function(e,t,n){var i=n(735250),s=n(470079),a=n(664751),r=n(481060),l=n(703656);class o extends s.PureComponent{componentDidUpdate(e){let{resetCurrentPage:t}=this.props;!e.resetCurrentPage&&t&&this.setState({currentPage:1})}render(){let{totalCount:e,pageSize:t,maxVisiblePages:n,children:s}=this.props,{currentPage:a}=this.state;return s({controller:(0,i.jsx)(r.Paginator,{totalCount:e,pageSize:t,currentPage:a,maxVisiblePages:n,onPageChange:this.handlePageChange})})}constructor(e){var t,n,i;super(e),t=this,n="handlePageChange",i=e=>{let{onPageChange:t}=this.props;this.setState({currentPage:e}),null!=t&&t(e)},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i;let s=(0,l.s1)().location.search,{offset:r}=null!=s&&s.length>0&&s.startsWith("?")?a.parse(s):{},o=null!=r?Math.floor(parseInt(r,10)/e.pageSize)+1:1;this.state={currentPage:o}}}t.Z=o},749436:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120);var i,s=n(735250),a=n(470079),r=n(120356),l=n.n(r),o=n(392711),c=n.n(o),d=n(442837),u=n(481060),_=n(212093),h=n(683301),E=n(626135),I=n(585483),m=n(900849),g=n(878727),p=n(117496),T=n(150192),S=n(731455),C=n(981631),f=n(689938),N=n(920052);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Z=c().throttle(m.c6,1e3,{leading:!1,trailing:!0}),L=e=>{let{isSelected:t,onCategoryChange:n,categoryId:i,name:a,count:r}=e;return(0,s.jsx)(u.Clickable,{onClick:()=>n(i),className:l()(N.categoryPill,{[N.selected]:t}),children:(0,s.jsx)(u.Text,{className:N.categoryLabel,variant:"text-sm/normal",children:null!=r?"".concat(a," (").concat(r,")"):a})})};class v extends(i=a.PureComponent){componentDidMount(){let{loadId:e,searchResults:t,currentCategoryId:n}=this.props,{searchId:i,query:s,isHandlingTagSearch:a}=this.state,r=this.context;if(null==h.ZP.getSearchIndex()&&_.Ue(),I.S.subscribe(C.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput),I.S.subscribe(C.CkL.TEXTAREA_FOCUS,this.focusInput),s.length>0){let l=n!==S.Hk?n:null;Z({loadId:e,searchId:i,query:s,guildResults:t.guilds,analyticsContext:r,categoryId:l,isTagSearch:a})}}componentDidUpdate(e,t){let{loadId:n,isFetchingSearch:i,searchResults:s,currentCategoryId:a,mostRecentQuery:r}=this.props,{isSearching:l,searchId:o,query:c,isHandlingTagSearch:d}=this.state,u=this.context,_=e.isFetchingSearch&&!i,h=a!==S.Hk?a:null;(l||d)&&_&&(Z({loadId:n,searchId:o,query:c,guildResults:s.guilds,analyticsContext:u,categoryId:h,isTagSearch:d}),this.setState({isHandlingTagSearch:!1})),!t.isSearching&&l&&m.tI(n,h,u),e.mostRecentQuery!==r&&this.setState({query:r,searchId:(0,p.P)(),isHandlingTagSearch:!0})}componentWillUnmount(){I.S.unsubscribe(C.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput),I.S.unsubscribe(C.CkL.TEXTAREA_FOCUS,this.focusInput)}renderSearchOptions(){var e;let{availableLanguages:t}=this.props,{selectedLanguage:n}=this.state;if(null==t)return null;let i=t.map(e=>{let{name:t}=e;return{label:t,value:t}});return(0,s.jsx)(u.SingleSelect,{className:N.languageSelector,options:i,value:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",onChange:this.handleLanguageChange,maxVisibleItems:6})}renderCategories(){let{currentCategoryId:e,countsByCategory:t}=this.props;return(0,s.jsx)("div",{className:N.categories,children:null==t?void 0:t.map(t=>{let[n,i]=t;return(0,s.jsx)(L,{categoryId:n,name:n===S.Hk?f.Z.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:T.Z.getCategoryName(n),onCategoryChange:this.handleCategoryChange,isSelected:e===n,count:i},n)})})}render(){let{query:e,inputFocused:t}=this.state,{placeholder:n,isSearchPage:i}=this.props;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:l()(N.container,{[N.searchPage]:i}),children:[(0,s.jsx)("div",{className:N.search,children:(0,s.jsx)(u.SearchBox,{ref:this._searchRef,searchTerm:e,className:i?void 0:N.searchBox,inputClassName:i?void 0:N.searchBoxInput,closeIconClassName:i?void 0:N.closeIcon,searchIconClassName:i?void 0:N.searchIcon,label:f.Z.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:n,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!i,cta:t&&null!=e&&e.length>1?f.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})}),i?this.renderSearchOptions():null]}),i?this.renderCategories():null]})}constructor(e){super(e),A(this,"_searchRef",a.createRef()),A(this,"canSearch",e=>e.trim().length>=2&&!(0,g.x)(e)),A(this,"doSearch",(e,t,n,i)=>{var s;let{defaultLanguage:a,currentCategoryId:r}=this.props,{query:l,selectedLanguage:o}=this.state,c={approximate_member_count:m.sq};i&&_.G7(l,c),this.setState({searchId:(0,p.P)(),queryHasChanged:!1,isSearching:!0}),_.bR(l,{categoryId:null==n?r:n,preferredLocale:null!==(s=null==o?void 0:o.code)&&void 0!==s?s:a.code,offset:e,length:t,filters:c})}),A(this,"handleSearchBlurred",e=>{let{onSearchBlur:t}=this.props;this.setState({inputFocused:!1}),null==t||t()}),A(this,"handleSearchKeyPress",e=>{let{query:t,queryHasChanged:n}=this.state,{loadId:i,currentCategoryId:s}=this.props,a=s!==S.Hk?s:null;this.canSearch(t)&&n&&e.charCode===C.yXg.ENTER?(m.tI(i,a),this.doSearch(0,12,void 0,!0)):0===t.length&&e.charCode===C.yXg.ENTER&&this.setState({isSearching:!1})}),A(this,"handleQueryChanged",e=>{this.setState({query:e,queryHasChanged:!0})}),A(this,"handleQueryCleared",()=>{this.setState({query:"",queryHasChanged:!0,isSearching:!1})}),A(this,"handleLanguageChange",e=>{let{mostRecentQuery:t,availableLanguages:n}=this.props,i=null==n?void 0:n.find(t=>t.name===e);this.setState({selectedLanguage:i},()=>{this.canSearch(t)&&this.doSearch(0,12)})}),A(this,"handleCategoryChange",e=>{let{mostRecentQuery:t}=this.props;_.uY(e),this.canSearch(t)&&this.doSearch(0,12,e)}),A(this,"handleFocus",()=>{let{onSearchFocus:e}=this.props;this.setState({inputFocused:!0}),null==e||e()}),A(this,"focusInput",()=>{var e;null===(e=this._searchRef.current)||void 0===e||e.focus()}),this.state={searchId:(0,p.P)(),query:e.isSearchPage?e.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:e.defaultLanguage,inputFocused:!1,isHandlingTagSearch:e.isTagSearch||!1}}}function O(e){let t=(0,d.e7)([T.Z],()=>T.Z.getDiscoveryCategories(),[],T.j),n=(0,d.e7)([h.ZP],()=>h.ZP.getTopCategoryCounts(e.mostRecentQuery));return(0,s.jsx)(v,{...e,categories:t,countsByCategory:n})}A(v,"contextType",void 0),v.contextType=E.AnalyticsContext},26580:function(e,t,n){n.d(t,{B:function(){return m},F:function(){return g}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(393238),c=n(626135),d=n(981631),u=n(503060);let _=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],h=e=>{let{text:t,onClick:n,className:s,hide:a}=e;return(0,i.jsx)("li",{className:r()(u.tag,s,{[u.hide]:a}),children:(0,i.jsx)(l.Clickable,{className:u.tagText,onClick:e=>{e.stopPropagation(),e.preventDefault(),n(e)},children:t})})},E=e=>{let{tags:t,onTagClick:n,guildId:a,section:r}=e;return s.useEffect(()=>{c.default.track(d.rMx.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:a,location:{page:d.ZY5.GUILD_DISCOVERY,section:r}})},[a,r]),(0,i.jsx)(l.Dialog,{className:u.overflowTagsPopout,children:(0,i.jsx)("ul",{children:t.map(e=>(0,i.jsx)(h,{onClick:()=>n(e),className:u.tagAlt,text:e},e))})})},I=e=>{let{className:t,count:n}=e;return(0,i.jsx)(l.Popout,{renderPopout:()=>(0,i.jsx)(E,{...e}),position:"right",align:"top",closeOnScroll:!0,children:e=>(0,i.jsx)(h,{className:t,...e,text:"+".concat(n)})})},m={DEFAULT:u.tagDefault,LIGHT:u.tagLight,ALT:u.tagAlt},g=e=>{let{tags:t,onTagClick:n,className:a,discoveryTagStyle:l=m.DEFAULT,hideOverflow:c=!1,guildId:d,section:E}=e,{ref:g,width:p}=(0,o.Z)(),[T,S]=s.useState(null),C=t.filter(e=>!_.includes(e.toLowerCase()));return s.useLayoutEffect(()=>{if(null==g.current||null==p||0===p)return;let e=0,t=0,n=p-40-4;for(let i=0;i<C.length&&(t+=g.current.children[i].clientWidth+4,i===C.length-1?!(t>n+40):!(t>n));i++){;e++}S(t=>e<=C.length?e:t)},[p,g,C]),(0,i.jsxs)("ul",{ref:g,className:r()(u.tagContainer,a,{[u.invisible]:null==T}),children:[C.map((e,t)=>(0,i.jsx)(h,{className:l,onClick:()=>n(e),hide:null!=T&&t>=T,text:e},e)),!c&&null!=T&&T<C.length&&(0,i.jsx)(I,{className:l,onTagClick:n,tags:C.slice(T),count:C.length-T,guildId:d,section:E})]})}},282051:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250),s=n(470079),a=n(481060),r=n(946314),l=n(921944),o=n(689938),c=n(834222);function d(e){let{onClick:t,onSecondaryClick:n,onComponentMount:d,markAsDismissed:u}=e;s.useEffect(()=>{null==d||d()},[d]);let _=s.useCallback(e=>{t(e),null==u||u(l.L.PRIMARY)},[t,u]),h=s.useCallback(()=>{null==n||n(),null==u||u(l.L.SECONDARY)},[n,u]);return(0,i.jsxs)("div",{className:c.tooltipWrapper,children:[(0,i.jsx)(a.Heading,{className:c.tooltipHeader,variant:"heading-md/semibold",children:o.Z.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE}),(0,i.jsx)(a.Text,{className:c.tooltipText,variant:"text-sm/normal",children:o.Z.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:r.WZ})}),(0,i.jsxs)("div",{className:c.buttonsContainer,children:[(0,i.jsx)(a.Button,{fullWidth:!0,size:a.Button.Sizes.SMALL,color:a.Button.Colors.BRAND,onClick:_,children:o.Z.Messages.LEARN_MORE}),(0,i.jsx)(a.Button,{fullWidth:!0,size:a.Button.Sizes.SMALL,look:a.Button.Looks.BLANK,onClick:h,children:o.Z.Messages.NO_THANKS})]})]})}},650394:function(e,t,n){n(653041),n(47120);var i,s=n(735250),a=n(470079),r=n(338545),l=n(788322),o=n(468918);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends(i=a.PureComponent){renderPlaceholders(){let{loadingPlaceholderCount:e}=this.props,t=[];for(let n=0;n<e;n++)t.push((0,s.jsx)(l.Y,{},n));return t}render(){let{guilds:e,loading:t}=this.props;return(0,s.jsx)(r.Spring,{from:{opacity:t?0:1},to:{opacity:1},delay:100,children:n=>(0,s.jsx)(r.animated.div,{className:o.guildList,style:n,children:t||null==e?this.renderPlaceholders():e.map(this.renderGuild)})})}constructor(...e){super(...e),c(this,"handleViewGuild",async e=>{let{guilds:t,analyticsContext:n,onViewGuild:i}=this.props,s=t.findIndex(t=>t.id===e);await i(e,s,n)}),c(this,"renderGuild",(e,t)=>{let{theme:n,onTagClick:i}=this.props;return(0,s.jsx)(l.Z,{guild:e,theme:n,onView:this.handleViewGuild,onTagClick:i},t)})}}c(d,"defaultProps",{loadingPlaceholderCount:12}),t.Z=d},788322:function(e,t,n){n.d(t,{Y:function(){return L}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(239091),c=n(906732),d=n(134432),u=n(451603),_=n(885714),h=n(940627),E=n(806519),I=n(768581),m=n(900849),g=n(556017),p=n(879484),T=n(26580),S=n(206887),C=n(981631),f=n(689938),N=n(465423),A=n(129512),Z=n(330065);let L=()=>(0,i.jsx)("div",{className:N.placeholder});t.Z=e=>{var t;let{guild:a,theme:L,onView:v,onTagClick:O}=e,{id:R,discoverySplash:x,icon:b,name:P,description:M,presenceCount:D,memberCount:y,keywords:j}=a,[U,G]=s.useState(!1),[k,w]=s.useState(!1),{analyticsLocations:B}=(0,c.ZP)(),H=I.ZP.getGuildDiscoverySplashURL({id:R,splash:x,size:240*(0,d.x_)()}),V=null!=H?H:function(e){switch(e){case C.BRd.DARK:return A;case C.BRd.LIGHT:return Z}}(L),F=null!==(t=I.ZP.getGuildIconURL({id:R,icon:b,size:32}))&&void 0!==t?t:void 0,Y=async e=>{let{className:t}=e.target;if(!t.includes("Menu")){if((0,u.yU)()){(0,_.Z)({analyticsSource:{page:C.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:C.ZY5.GUILD_DISCOVERY,section:C.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:B});return}w(!0);try{null!=v&&await v(a.id)}finally{w(!1)}}};s.useEffect(()=>p.w.trackExposure({location:"4302e4_1"}));let{shouldDisplayTags:W}=p.w.useExperiment({location:"4302e4_2"},{autoTrackExposure:!1}),z=(0,g.I)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:N.card,children:[k?(0,i.jsx)(l.Spinner,{type:l.Spinner.Type.PULSING_ELLIPSIS,className:N.spinner}):null,(0,i.jsxs)(l.Clickable,{className:r()(N.container,{[N.hover]:U,[N.submitting]:k}),onClick:Y,onContextMenu:e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,455839));return t=>(0,i.jsx)(e,{...t,guild:a})})},onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:[(0,i.jsx)("div",{className:r()(N.splashContainer,{[N.splashContainerWithTags]:W}),children:(0,i.jsx)("img",{src:V,alt:"",className:N.splashImage,width:240})}),(0,i.jsxs)("div",{className:r()(N.content,{[N.contentWithTags]:W}),children:[(0,i.jsxs)("div",{className:N.header,children:[(0,i.jsx)(E.ZP,{mask:E.ZP.Masks.SQUIRCLE,width:32,height:32,children:(0,i.jsx)("img",{src:F,alt:"",className:N.avatar})}),(0,i.jsxs)("div",{className:N.headerName,children:[(0,i.jsx)("div",{children:(0,i.jsx)(h.Z,{guild:a,className:N.guildBadge,size:16})}),(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",className:N.headerTitle,children:P})]})]}),(0,i.jsx)(l.Text,{className:N.description,variant:"text-sm/normal",children:M}),W&&null!=j&&null!=O&&(0,i.jsx)(T.F,{guildId:a.id,discoveryTagStyle:T.B.ALT,onTagClick:e=>O(e,a.id),tags:j,section:m.P1.SEARCH}),(0,i.jsxs)("div",{className:N.memberInfo,children:[null!=D&&(0,i.jsx)("div",{className:N.memberCount,children:(0,i.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:f.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:D})})}),null!=y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:N.dotSeparator}),(0,i.jsx)("div",{className:N.memberCount,children:(0,i.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:f.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:y})})})]})]})]}),z?(0,i.jsx)("div",{className:N.actionButtons,children:(0,i.jsx)(S.Z,{guild:a})}):null]})]}),(0,i.jsx)("hr",{className:N.separator})]})}},206887:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(404975),c=n(455839),d=n(689938),u=n(521759);t.Z=function(e){let{guild:t}=e,[n,a]=s.useState(!1),_=s.useCallback(()=>a(!0),[a]),h=s.useCallback(()=>a(!0),[a]);return(0,i.jsx)("div",{className:r()(u.actionButtonsContainer,{[u.forceButtonsShow]:n}),children:(0,i.jsx)(o.ZP,{children:(0,i.jsx)(c.GuildDiscoveryMenuPopout,{onRequestOpen:_,onRequestClose:h,guild:t,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(l.Tooltip,{text:d.Z.Messages.MORE,hideOnClick:!0,children:e=>{let{onClick:s,...a}=e;return(0,i.jsx)(o.zx,{...n,...a,onClick:e=>{e.stopPropagation(),null==s||s(),t(e)},"aria-label":d.Z.Messages.MORE,children:(0,i.jsx)(l.MoreHorizontalIcon,{size:"md",color:"currentColor",className:u.overflowIcon})})}})}})})})}},497189:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(338545),o=n(143927),c=n(442837),d=n(481060),u=n(749210),_=n(607070),h=n(100527),E=n(931240),I=n(970606),m=n(963202),g=n(650461),p=n(353093),T=n(603839),S=n(430824),C=n(725568),f=n(231467),N=n(207796),A=n(316553),Z=n(273254),L=n(559469),v=n(308083),O=n(689938),R=n(330468),x=n(345480),b=n(236613);let P={mass:1,tension:600,friction:60};function M(e){let{children:t}=e;return(0,i.jsxs)(l.animated.div,{className:R.clanEnvelope,children:[(0,i.jsx)("div",{className:R.clanEnvelopeTop,children:(0,i.jsx)("img",{src:b,alt:""})}),t,(0,i.jsx)("div",{className:R.clanEnvelopeBottom,children:(0,i.jsx)("img",{src:x,alt:""})})]})}function D(e){let{text:t,icon:n}=e;return(0,i.jsxs)("div",{className:R.upsellDetail,children:[(0,i.jsx)(n,{size:"md",color:"currentColor",className:R.upsellIcon}),(0,i.jsx)(d.Text,{className:R.upsellDetailText,variant:"text-md/medium",children:t})]})}function y(e){let{selectedGuildId:t,setSelectedGuildId:n,eligibleGuilds:a,onButtonClick:l,buttonText:c,hasCompletedUpsell:u,isBrowseButtonVisible:_}=e,h=(0,N.GN)(e=>e.setUserUpsellScreen,o.Z),E=(0,N.GN)(e=>e.started,o.Z),I=s.useMemo(()=>a.map(e=>({value:e.id,label:e.name})),[a]),m=s.useCallback(()=>{(0,N.fH)(N.v0.DISCOVERY)},[]),g=s.useCallback(()=>{(0,N.fH)(N.v0.GET_STARTED),h(N.o2.USER_ONBOARDING)},[h]),p=a.length>1;return(0,i.jsxs)(i.Fragment,{children:[u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Heading,{className:R.upsellTitle,variant:"heading-xxl/semibold",children:O.Z.Messages.CLAN_DISCOVERY_ADMIN_UPSELL_COMPLETE_TITLE}),(0,i.jsx)(d.Heading,{className:R.upsellSubtitle,variant:"heading-md/medium",color:"header-secondary",children:O.Z.Messages.CLAN_DISCOVERY_ADMIN_UPSELL_COMPLETE_SUBTITLE})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.Heading,{className:R.upsellTitle,variant:"heading-xxl/semibold",children:[O.Z.Messages.CLAN_DISCOVERY_UPSELL_CTA_GUILD_INVITE,(0,i.jsx)("br",{}),O.Z.Messages.CLAN_DISCOVERY_UPSELL_CTA_RECRUIT]}),(0,i.jsxs)("div",{className:R.upsellDetails,children:[(0,i.jsx)(D,{icon:d.CompassIcon,text:O.Z.Messages.CLAN_DISCOVERY_UPSELL_VIBES_OR_SKILL}),(0,i.jsx)(D,{icon:d.CircleCheckIcon,text:O.Z.Messages.CLAN_DISCOVERY_UPSELL_APPLICATIONS}),(0,i.jsx)(D,{icon:d.GroupIcon,text:O.Z.Messages.CLAN_DISCOVERY_UPSELL_MAX_SIZE})]})]}),(0,i.jsxs)("div",{className:R.upsellButton,children:[p&&(0,i.jsx)(d.SearchableSelect,{className:R.upsellSelect,value:t,options:I,onChange:n}),!u&&(0,i.jsx)(d.Button,{look:d.ButtonLooks.FILLED,size:d.ButtonSizes.LARGE,color:d.ButtonColors.BRAND,className:r()(R.reserveButton,{[R.buttonWithSelect]:p}),onClick:l,children:(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"always-white",children:c})}),p&&_&&(0,i.jsx)("div",{className:R.spacer,children:"\xb7"}),_&&(0,i.jsx)(d.Button,{look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.PRIMARY,className:R.browseButton,onClick:g,children:O.Z.Messages.CLAN_DISCOVERY_UPSELL_BROWSE})]}),E&&(0,i.jsx)("div",{className:R.upsellStaticHeader,children:(0,i.jsx)("div",{className:R.upsellBackButton,children:(0,i.jsx)(d.Clickable,{onClick:m,"aria-label":O.Z.Messages.BACK,children:(0,i.jsx)(d.ArrowLargeLeftIcon,{})})})})]})}t.Z=s.memo(function(e){let{eligibleGuilds:t,eligibleGuildsIncludingConverted:n,selectedGame:a,isBrowseButtonVisible:r}=e,o=0===t.length,[x,b]=s.useState(()=>{let e=new Set(g.ZP.getGuildIds());for(let n of t)if(e.has(n.id))return n.id;return o?n[0].id:t[0].id});s.useEffect(()=>{!o&&(0,I.TE)({guildId:x,location:h.Z.CLAN_DISCOVERY})},[o,x]);let D=(0,c.e7)([S.Z],()=>S.Z.getGuild(x)),j=(0,c.e7)([g.ZP],()=>null!=x?g.ZP.getStateForGuild(x).progress:null),U=(0,A.J)({selectedGame:a}),{defaultGameId:G}=(0,m.St)({guild:D,location:"ClanDiscoveryAdminUpsell",includeConverted:!1});s.useEffect(()=>{let e=G===v.nJ?N.hz.VALORANT:G===v.xn?N.hz.GENSHIN:void 0;null!=e&&U!==G&&N.GN.getState().setGame(e)},[G,U]);let k=s.useCallback(()=>{!o&&((0,I._9)({guildId:x,location:h.Z.CLAN_DISCOVERY}),(0,C.q4)(e=>{let{closeLayer:t}=e;return(0,i.jsx)(T.Z,{onClose:t,guildId:x})},{layerKey:v.Pv}))},[o,x]),w=(0,c.e7)([_.Z],()=>_.Z.useReducedMotion),B=(0,Z.L)({guild:D,selectedGame:a}),H=(0,L.n)(U),[V,F]=s.useState(!0),Y=(0,l.useSpring)({from:{opacity:0},to:{opacity:1},delay:400,config:{duration:0}}),W=(0,l.useSpring)({from:w?{transform:"translate(0px, 0px) rotate(0deg) scale(1)"}:{transform:"translate(324px, -56px) rotate(8deg) scale(1.25)"},to:{transform:"translate(0px, 0px) rotate(0deg) scale(1)"},config:P,delay:400}),z=(0,l.useSpring)({from:w?{transform:"translate(0px, 0px) rotate(0deg) scale(1)"}:{transform:"translate(176px, -24px) rotate(4deg) scale(1.1111)"},to:{transform:"translate(0px, 0px) rotate(0deg) scale(1)"},config:P,delay:350}),K=(0,l.useSpring)({from:w?{transform:"translate(0px, 0px) rotate(0deg) scale(1)"}:{transform:"translate(-176px, -24px) rotate(-4deg) scale(1.1111)"},to:{transform:"translate(0px, 0px) rotate(0deg) scale(1)"},config:P,delay:350}),q=(0,l.useSpring)({from:w?{transform:"translate(0px, 0px) rotate(0deg) scale(1)"}:{transform:"translate(-324px, -56px) rotate(-8deg) scale(1.25)"},to:{transform:"translate(0px, 0px) rotate(0deg) scale(1)"},config:P,delay:400}),Q=(0,l.useSpring)({from:w?{transform:"scale(1)",opacity:0}:{transform:"scale(0.9)",opacity:0},to:{transform:"scale(1)",opacity:1},config:P,delay:200}),X=(0,l.useSpring)({from:w?{transform:"translateY(0px)"}:{transform:"translateY(240px)"},to:{transform:"translateY(0px)"},config:P,delay:250,onRest:()=>F(!1)}),J=s.useMemo(()=>null==j?O.Z.Messages.CLAN_DISCOVERY_UPSELL_RESERVE:O.Z.Messages.CLAN_DISCOVERY_UPSELL_CONTINUE_SETUP,[j]),$=s.useCallback(async()=>{await (0,E.Zx)(x),u.Z.transitionToGuildSync("936317138904440892")},[x]),ee=s.useCallback(e=>(0,i.jsx)(d.Clickable,{tag:"span",className:R.joinWFSLink,onClick:$,"aria-label":O.Z.Messages.CLAN_DISCOVERY_UPSELL_JOIN_WFS_ARIA_LABEL,children:(0,i.jsx)(d.Text,{tag:"span",variant:"text-xs/medium",color:"text-brand",children:e})}),[$]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:R.cardsContainer,children:[(0,i.jsx)(l.animated.div,{className:R.clanCardOuterContainer,style:{...W,...Y},children:(0,i.jsx)(f.xV,{clan:H[0],className:R.clanCardOuterLeft})}),(0,i.jsx)(l.animated.div,{className:R.clanCardInnerContainer,style:{...z,...Y},children:(0,i.jsx)(f.xV,{clan:H[1],className:R.clanCardInnerLeft})}),null!=B&&(0,i.jsx)(l.animated.div,{className:R.clanEnvelope,style:Q,children:(0,i.jsx)(M,{children:(0,i.jsx)("div",{className:R.clanCardCenterContainer,style:{overflow:V?"hidden":"visible"},children:(0,i.jsx)(l.animated.div,{style:X,children:(0,i.jsx)(f.xV,{clan:B,className:R.clanCardCenter,bannerUrl:(0,p.pY)(H[4].id,H[4].bannerHash)})})})})}),(0,i.jsx)(l.animated.div,{className:R.clanCardInnerContainer,style:{...K,...Y},children:(0,i.jsx)(f.xV,{clan:H[2],className:R.clanCardInnerRight})}),(0,i.jsx)(l.animated.div,{className:R.clanCardOuterContainer,style:{...q,...Y},children:(0,i.jsx)(f.xV,{clan:H[3],className:R.clanCardOuterRight})})]}),(0,i.jsx)("div",{className:R.upsellCtaContainer,children:(0,i.jsx)(y,{selectedGuildId:x,setSelectedGuildId:b,eligibleGuilds:t,onButtonClick:k,buttonText:J,hasCompletedUpsell:o,isBrowseButtonVisible:r})}),(0,i.jsx)("div",{className:R.joinWFSContainer,children:(0,i.jsx)("div",{className:R.joinWFS,children:(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"text-muted",children:O.Z.Messages.CLAN_DISCOVERY_UPSELL_JOIN_WFS.format({wfsHook:ee})})})})]})})},543550:function(e,t,n){n.d(t,{$:function(){return L},J:function(){return Z}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(338545),o=n(143927),c=n(597312),d=n(481060),u=n(393238),_=n(410030),h=n(963202),E=n(353093),I=n(702646),m=n(207796),g=n(497189),p=n(304231),T=n(895068),S=n(490610),C=n(981631),f=n(689938),N=n(813580);let A=(e,t)=>{switch(e){case m.hz.GENSHIN:return t===C.BRd.DARK?N.genshinUpsellBackgroundImageDark:N.genshinUpsellBackgroundImageLight;case m.hz.VALORANT:return t===C.BRd.DARK?N.valorantUpsellBackgroundImageDark:N.valorantUpsellBackgroundImageLight}};function Z(){let e=(0,m.GN)(e=>e.game,o.Z),t=(0,m.GN)(e=>e.userUpsellScreen,o.Z),n=(0,m.GN)(e=>e.setUserUpsellScreen,o.Z),{ref:a,width:c}=(0,u.Z)(),[h,E]=s.useState(0),g=(0,l.useSpring)({from:{scrollHeight:0},to:{scrollHeight:h}}),S=(0,_.ZP)(),f=s.useMemo(()=>A(e,S),[e,S]),Z=s.useCallback(e=>{E(e.currentTarget.scrollTop)},[E]),L=s.useMemo(()=>{switch(e){case m.hz.GENSHIN:return S===C.BRd.DARK?N.genshinOnboardingBackgroundImageDark:N.genshinOnboardingBackgroundImageLight;case m.hz.VALORANT:return S===C.BRd.DARK?N.valorantOnboardingBackgroundImageDark:N.valorantOnboardingBackgroundImageLight}},[e,S]),v=(0,d.useToken)(d.tokens.colors.BG_MOD_STRONG);switch(t){case m.o2.USER_UPSELL:return(0,i.jsxs)("div",{ref:a,className:N.container,children:[(0,i.jsxs)("div",{className:N.toolbar,style:{width:c},children:[(0,i.jsx)(l.animated.div,{className:N.toolbarBackground,style:{width:c,opacity:g.scrollHeight.to([100,364],[0,1]),borderBottom:g.scrollHeight.to([100,364],[0,1]).to(e=>"1px solid ".concat(v.hex({opacity:e})))}}),(0,i.jsx)(I.Z,{})]}),(0,i.jsxs)("div",{className:N.upsellContainer,children:[(0,i.jsxs)(l.animated.div,{className:N.backgroundImageContainer,style:{opacity:g.scrollHeight.to([100,364],[1,0])},children:[(0,i.jsx)("div",{className:f}),(0,i.jsx)("div",{className:N.backgroundImageBlur})]}),(0,i.jsx)("div",{className:r()(N.backgroundImageContent,N.userUpsell),children:(0,i.jsx)(T.ZP,{onScroll:Z,width:null!=c?c:0,isAnimating:!1,variant:T.Bj.UPSELL})})]})]});case m.o2.USER_ONBOARDING:return(0,i.jsx)("div",{className:N.container,children:(0,i.jsxs)("div",{className:r()(L,N.userOnboarding),children:[(0,i.jsx)("div",{className:N.backgroundImageBlur}),(0,i.jsx)("div",{className:N.backgroundImageContent,children:(0,i.jsx)(p.Z,{selectedGame:e,setScreen:n})})]})})}}function L(){let e=(0,m.GN)(e=>e.started,o.Z),t=(0,m.GN)(e=>e.game,o.Z),{enableApplication:n}=(0,h.Fg)("ClanDiscoveryAdminContainer"),{guilds:a}=(0,h.C3)({location:"ClanDiscoveryAdminContainer",includeConverted:!0}),l=s.useMemo(()=>a.filter(e=>!(0,E.EJ)(e)),[a]),d=(0,_.ZP)(),u=s.useMemo(()=>A(t,d),[t,d]),I=!e&&n;return 0===a.length?null:(0,i.jsx)("div",{className:N.container,children:(0,i.jsxs)(c.u2,{className:N.upsellScroller,fade:!0,children:[(0,i.jsxs)("div",{className:r()(u,N.adminUpsell),children:[(0,i.jsx)("div",{className:N.backgroundImageBlur}),(0,i.jsx)("div",{className:N.backgroundImageContent,children:(0,i.jsx)(g.Z,{isBrowseButtonVisible:I,selectedGame:t,eligibleGuilds:l,eligibleGuildsIncludingConverted:a})})]}),(0,i.jsx)(S.Z,{title:f.Z.Messages.CLAN_DISCOVERY_INSPIRATION_TITLE,subtitle:I?f.Z.Messages.CLAN_DISCOVERY_PILOT_SUBTITLE.format():void 0})]})})}},559469:function(e,t,n){n.d(t,{n:function(){return l}});var i=n(470079),s=n(116175),a=n(308083);function r(e){let{id:t,preset:n,banner:i,bannerHash:r,...l}=e,o=(0,s.lP)();return{id:t,name:"",icon:null,description:"",memberCount:0,playstyle:a.zv.CASUAL,tag:"",traits:[],games:[],banner:i,bannerHash:r,badge:{badgeKind:o,primaryColor:a.LD[n].primary,secondaryColor:a.LD[n].secondary},branding:{primaryColor:a.LD[n].primary,secondaryColor:a.LD[n].secondary},wildcardDescriptors:a.LK,...l}}function l(e){return i.useMemo(()=>[r({id:"1239910082150400001",icon:"bea185f5c9dbde7ba2f0c50363c16ec6",games:[e,a.DA.AGE_OF_EMPIRES_2,a.DA.APEX],preset:a.N.VOLCANO,banner:a.qC.WORLD_MAP,bannerHash:"99a72cbacfb6de2baf362daa1a5292bb",playstyle:a.zv.COMPETITIVE,name:"Retro Rebels",description:"Are you a console collector? Rare game curator? Be a rebel and join us in celebrating retro gaming classics \uD83D\uDE0E",tag:"RR",wildcardDescriptors:["collector","nostalgia","classic"],traits:["30+","Inclusive","cooking","podcasts","hiking"],memberCount:98}),r({id:"1239910082150400002",icon:"fe5e3c39b398965133d24d3c5d72b06c",games:[e,a.DA.HONKAI_STAR_RAIL],preset:a.N.THUNDER,banner:a.qC.CASTLE,bannerHash:"3c8e6496a598b9a563dffbc87d65f6f8",playstyle:a.zv.SOCIAL,name:"the lofi tavern",description:"~ hosting chill beats and study rooms every night ~ join the tavern to kick back and meet other cozy gamers ~",tag:"MUSE",wildcardDescriptors:["creative","harmony","nightowl"],traits:["Streamers","study buddies","sleepy cats","lo-fi chilling"],memberCount:112}),r({id:"1239910082150400003",icon:"fc7bdf17dadd9a59014fc2a41dd88613",games:[e,a.DA.LETHAL_COMPANY,a.DA.HELLDIVERS_2],preset:a.N.MARSH,banner:a.qC.WARP_TUNNEL,bannerHash:"d699192ec79c5da7159d2b73eb4b56b7",playstyle:a.zv.VERY_HARDCORE,name:"midnight tacos",description:"gamers and doritos tacos enthusiasts pls apply",tag:"CHZZ",wildcardDescriptors:["spicy","chaotic","gamba"],traits:["20+","Streamers","ranking bottled water","late night tacos","voice chat","anime"],memberCount:45}),r({id:"1239910082150400004",icon:"7b7a2a06e7852e7cdb7f301fb86c3e18",games:[e,a.DA.SIMS_4],preset:a.N.EARTH,banner:a.qC.SEA_FOAM,bannerHash:"c01388993ca324a6de870f805cc30bd3",name:"Eco ELO",description:"If you like growing plants or gardening, in game and IRL, then this is the place for you! Welcome home \uD83C\uDF31 \uD83D\uDC9A",tag:"eco",wildcardDescriptors:["ecofriendly","explorers","advocates"],traits:["20+","Inclusive","PUGs","board games","going outside","PvP","the stalk market","growing stuff"],memberCount:32}),r({id:"1239910082150400005",icon:"5ca93390d20f7b96a0f0c3702fceec8e",games:[e,a.DA.SIMS_4],preset:a.N.CASCADE,banner:a.qC.NIGHT_SKY,bannerHash:"37cd6a7f90faafeb8c54e5ea5163407b",name:"Meowtopia",description:"the purrfect place for a pawsitive and hissterical time :D are you kitten me...i feline like thats too many puns...",tag:"meow",wildcardDescriptors:["Meow","Meow","Moew"],traits:["All Ages","Streamers","Parent Friendly","sleepy cats","DnD","travel","catnaps"],memberCount:94})],[e])}},304231:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(338545),r=n(143927),l=n(442837),o=n(607070),c=n(950279),d=n(741595),u=n(754961),_=n(363915),h=n(359380),E=n(207796),I=n(316553),m=n(689938),g=n(270590);let p={mass:1,tension:600,friction:60};function T(e){let{selectedGame:t}=e,n=(0,E.GN)(e=>e.selectedGames,r.Z),a=s.useMemo(()=>new Set(n),[n]),l=(0,I.J)({selectedGame:t}),o=s.useCallback(e=>E.GN.getState().setSelectedGames(Array.from(e)),[]);return(0,i.jsx)(c.Z,{title:m.Z.Messages.CLAN_DISCOVERY_GAME_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_GAME_SUBTITLE,requiredGameId:l,handleUpdate:o,gameApplicationIds:a})}function S(){let e=(0,E.GN)(e=>e.selectedPlaystyle,r.Z),t=s.useCallback(e=>E.GN.getState().setSelectedPlaystyle(e),[]);return(0,i.jsx)(d.Z,{title:m.Z.Messages.CLAN_DISCOVERY_PLAYSTYLE_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_PLAYSTYLE_SUBTITLE,handleUpdate:t,playstyle:e})}function C(e){let{selectedGame:t}=e,n=(0,I.J)({selectedGame:t}),a=(0,E.GN)(e=>e.selectedTraits,r.Z),l=s.useMemo(()=>new Set(a),[a]),o=s.useCallback(e=>E.GN.getState().setSelectedTraits([...e]),[]);return(0,i.jsx)(h.Z,{title:m.Z.Messages.CLAN_DISCOVERY_TRAIT_TITLE,description:m.Z.Messages.CLAN_DISCOVERY_TRAIT_SUBTITLE,handleUpdate:o,interests:l,requiredGameId:n,hidePreview:!0})}function f(e){return e.toString()}t.Z=s.memo(function(e){let{selectedGame:t,setScreen:n}=e,c=s.useRef(null),d=s.useRef(null),h=s.useRef(null),I=(0,l.e7)([o.Z],()=>o.Z.useReducedMotion),[N,A]=s.useState(0),[Z,L]=s.useState(0),v=(0,E.GN)(e=>e.selectedPlaystyle,r.Z),O=(0,E.GN)(e=>e.previousMode,r.Z),R=s.useCallback(e=>{A(e),Z<e&&L(e)},[Z]),x=s.useCallback(()=>{0===N?(n(E.o2.USER_UPSELL),(0,E.fH)(O)):R(N-1)},[N,O,n,R]),b=s.useCallback(()=>{2===N?(0,E.fH)(E.v0.DISCOVERY):R(N+1)},[N,R]),P=s.useMemo(()=>1===N&&null==v,[v,N]),M=s.useMemo(()=>[{index:0,name:m.Z.Messages.CLAN_SETUP_GAMES_STEP},{index:1,name:m.Z.Messages.CLAN_SETUP_PLAYSTYLE_STEP},{index:2,name:m.Z.Messages.CLAN_SETUP_UTILITY_TRAITS_STEP}],[]),D=(0,a.useSpring)({ref:c,from:{opacity:0},to:{opacity:1},config:p}),y=(0,a.useSpring)({ref:d,from:{opacity:0,transform:I?"translateY(0px)":"translateY(40px)"},to:{opacity:1,transform:"translateY(0px)"},config:p}),j=(0,a.useSpring)({ref:h,from:{opacity:0,transform:I?"translateY(0px)":"translateY(40px)"},to:{opacity:1,transform:"translateY(0px)"},config:p});(0,a.useChain)([c,d,h],[0,.2,.5]);let U=s.useMemo(()=>[N],[N]),G=s.useCallback(e=>{switch(e){case 0:return(0,i.jsx)(T,{selectedGame:t});case 1:return(0,i.jsx)(S,{});case 2:return(0,i.jsx)(C,{selectedGame:t})}},[t]);return(0,i.jsxs)(a.animated.div,{className:g.container,style:D,children:[(0,i.jsx)(a.animated.div,{className:g.sequencer,style:y,children:(0,i.jsx)(_.Z,{currentStep:N,items:U,renderItem:G,getItemKey:f})}),(0,i.jsxs)(a.animated.div,{className:g.footer,style:j,children:[(0,i.jsx)(u.T,{currentStepIndex:N,steps:M,furthestStepIndex:Z,onStepClick:R}),(0,i.jsx)(u.i,{className:g.footerButtons,isBackDisabled:!1,isNextDisabled:P,onNextClick:b,onBackClick:x})]})]})})},526282:function(e,t,n){var i=n(735250),s=n(470079),a=n(143927),r=n(481060),l=n(100527),o=n(970606),c=n(207796),d=n(689938),u=n(284471);t.Z=s.memo(function(){let e=(0,c.GN)(e=>e.setUserUpsellScreen,a.Z);s.useEffect(()=>{(0,o.tv)({location:l.Z.CLAN_DISCOVERY})},[]);let t=s.useCallback(()=>{(0,o.GS)({location:l.Z.CLAN_DISCOVERY}),e(c.o2.USER_ONBOARDING)},[e]);return(0,i.jsx)("div",{className:u.upsellContainer,children:(0,i.jsxs)("div",{className:u.upsellDetails,children:[(0,i.jsx)(r.Heading,{className:u.upsellTitle,variant:"heading-xxl/semibold",color:"header-primary",children:d.Z.Messages.CLAN_DISCOVERY_UPSELL_TITLE}),(0,i.jsxs)(r.Text,{className:u.upsellSubtitle,variant:"text-md/medium",color:"header-secondary",children:[" ",d.Z.Messages.CLAN_DISCOVERY_UPSELL_SUBTITLE]}),(0,i.jsx)(r.Button,{onClick:t,children:(0,i.jsx)(r.Text,{variant:"text-sm/medium",color:"always-white",className:u.customizeButton,children:d.Z.Messages.CLAN_DISCOVERY_UPSELL_USER_CTA})})]})})})},316553:function(e,t,n){n.d(t,{J:function(){return r}});var i=n(470079),s=n(207796),a=n(308083);function r(e){let{selectedGame:t}=e;return i.useMemo(()=>{switch(t){case s.hz.GENSHIN:return a.xn;case s.hz.VALORANT:return a.nJ}},[t])}},273254:function(e,t,n){n.d(t,{L:function(){return d}}),n(47120);var i=n(470079),s=n(468194),a=n(645896),r=n(316553),l=n(559469),o=n(308083),c=n(689938);function d(e){let{guild:t,selectedGame:n}=e,d=(0,r.J)({selectedGame:n}),u=i.useMemo(()=>null==d?[]:[d],[d]),_=(0,l.n)(d),h=(0,a.Cc)(null==t?void 0:t.id),[E,I]=(0,a.L_)(null==t?void 0:t.id);return i.useEffect(()=>{!E&&null!=t&&I()},[t,E,I]),i.useMemo(()=>{var e;return null!=h?h:null==t?null:{..._[_.length-1],id:t.id,name:t.name,icon:t.icon,description:null!==(e=t.description)&&void 0!==e?e:c.Z.Messages.CLAN_SETUP_DESCRIPTION_PLACEHOLDER,memberCount:0,games:u,playstyle:o.zv.CASUAL,traits:[],tag:(0,s.Zg)(t.name),wildcardDescriptors:o.LK}},[u,t,_,h])}},895068:function(e,t,n){n.d(t,{Bj:function(){return s},ZP:function(){return R}}),n(47120);var i,s,a,r,l=n(735250),o=n(470079),c=n(338545),d=n(143927),u=n(481060),_=n(110924),h=n(393903),E=n(638730),I=n(970606),m=n(624383),g=n(945124),p=n(231467),T=n(931515),S=n(702646),C=n(207796),f=n(526282),N=n(777734),A=n(976757),Z=n(981631),L=n(689938),v=n(477975);let O=40;function R(e){let{width:t,isAnimating:n,variant:i="default",onScroll:s}=e,{loaded:a,clans:r,searchResult:R,searchCriteria:x}=(0,T.Qc)(),b=(0,C.GN)(e=>e.selectedTraits,d.Z),P=(0,_.Z)(R),[M,D]=o.useState(0),y=o.useMemo(()=>({height:M}),[M]),j=(0,c.useSpring)({opacity:M>0?1:0,config:c.config.stiff}),U="default"!==i,G=Math.min(null!=t?t:1024,2e3),k=o.useMemo(()=>{let e=G/256,t=G/376,n=G/e,i=G/t;return i>360?Math.floor(t-(t-e)/2):n<240?Math.max(e,t):e},[G]),w=o.useCallback(e=>{if(null==e){D(0);return}D(e.getBoundingClientRect().y+8+400+64)},[]),B=(0,h.y)(w),H=o.useCallback(e=>{w(B.current),null!=e&&(null==s||s(e))},[w,B,s]),V=(0,E.h)(H,10,[H],{leading:!0,trailing:!0});o.useEffect(()=>{if(null!=R&&!!(0,A.Pw)(R))(!(null!=P&&(0,A.Pw)(P))||!(P.loadedAt>=R.loadedAt))&&(0,I.Oe)(R.items.map(e=>e.id),"top_picks",x)},[x,R,P,H,n]),o.useEffect(()=>{!n&&(0,A.Pw)(R)&&setTimeout(()=>H())},[H,n,R]);let F=o.useMemo(()=>(function(e,t,n){if(null==e)return[];switch(n){case"global_discovery":return[{section:"hero",items:[e[0]],sectionHeight:270,itemHeight:0},{section:"top_picks",items:e,sectionHeight:O,itemHeight:400,props:{className:v.glassBackgroundTop},header:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_TITLE,subtitle:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_SUBTITLE},{section:"other_guilds",items:e.slice(t),sectionHeight:O,props:{className:v.glassBackground},itemHeight:400,header:L.Z.Messages.CLAN_DISCOVERY_OTHER_GUILDS_TITLE}];case"upsell":return[{section:"upsell",items:[e[0]],sectionHeight:268,itemHeight:0},{section:"top_picks",items:e.slice(0,t),sectionHeight:O,itemHeight:400,props:{className:v.glassBackgroundTop},header:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_TITLE,subtitle:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_SUBTITLE},{section:"other_guilds",items:e.slice(t),sectionHeight:0,itemHeight:400,props:{className:v.glassBackground}}];case"default":return[{section:"top_picks",items:e.slice(0,t),sectionHeight:O,itemHeight:400,header:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_TITLE,subtitle:L.Z.Messages.CLAN_DISCOVERY_TOP_PICKS_SUBTITLE},{section:"other_guilds",items:e.slice(t),sectionHeight:O,itemHeight:400,header:L.Z.Messages.CLAN_DISCOVERY_OTHER_GUILDS_TITLE}];default:return[]}})(r,k,i),[r,k,i]),Y=o.useMemo(()=>new Set(x.games),[x.games]),W=o.useCallback((e,t,n,i)=>{var s;let{items:a,section:r}=F[e];if("upsell"===r||"hero"===r)return null;let o=a[t];return(0,l.jsx)(p.ZP,{clan:o,affinity:null!==(s=o.affininty)&&void 0!==s?s:(0,g.y)(o,x),traitsToHighlight:b,className:v.card,style:n,source:Z.jXE.DISCOVER_SEARCH,prioritizedGameIds:Y,onlyAnimateIconOnHover:!0},i)},[x,F,b,Y]),z=o.useCallback((e,t)=>{let{header:n,subtitle:s,section:a}=F[e];switch(a){case"upsell":return(0,l.jsx)(f.Z,{});case"hero":return(0,l.jsx)(m.c,{title:L.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GUILDS_HERO_TITLE,description:L.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GUILDS_HERO_DESCRIPTION,backgroundImageUrl:"https://cdn.discordapp.com/assets/discovery/guilds-hero-background.png",className:v.hero});case"top_picks":return(0,l.jsxs)("div",{className:v.topPicksSection,children:[(0,l.jsx)(N.Z,{ref:B,icon:(0,l.jsx)(u.TrophyIcon,{color:"currentColor"}),style:{...t,marginTop:8,position:"absolute"},title:n,subtitle:s}),"global_discovery"===i?(0,l.jsx)("div",{className:v.topPicksToolbar,children:(0,l.jsx)(S.Z,{})}):null]});default:if(null===n)return null;return(0,l.jsx)(N.Z,{title:n,subtitle:s,style:{...t,position:"absolute"}})}},[F,B,i]);return 0!==r.length&&a?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:v.masonryListContainer,children:[!U&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c.animated.div,{className:v.masonryListGradient,style:{...j,...y}})}),(0,l.jsx)(u.MasonryList,{className:v.masonryList,sections:F.map(e=>{let{items:t}=e;return t.length}),columns:k,itemGutter:16,paddingHorizontal:16,paddingVertical:"upsell"===i?64:0,removeEdgeItemGutters:!0,renderItem:W,renderSection:z,getSectionHeight:e=>F[e].sectionHeight,getItemKey:(e,t)=>F[e].items[t].id,getItemHeight:e=>F[e].itemHeight,getSectionProps:e=>{var t;return null!==(t=F[e].props)&&void 0!==t?t:{}},chunkSize:24,onScroll:V,maxContentWidth:2e3})]})}):null}(a=i||(i={})).UPSELL="upsell",a.TOP_PICKS="top_picks",a.OTHER_GUILDS="other_guilds",a.HERO="hero",(r=s||(s={})).DEFAULT="default",r.UPSELL="upsell",r.GLOBAL_DISCOVERY="global_discovery"},777734:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(477975);let l=s.forwardRef(function(e,t){let{title:n,subtitle:s,icon:l,style:o}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:o,className:r.sectionHeader,children:[(0,i.jsxs)("div",{className:r.sectionHeaderTitle,children:[l,(0,i.jsx)(a.Heading,{variant:"heading-md/medium",color:"header-primary",children:n})]}),null!=s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:r.sectionHeaderSpacer}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"text-muted",children:s})]})]}),(0,i.jsx)("div",{ref:t})]})});t.Z=s.memo(l)},490610:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(143927),o=n(622535),c=n(970606),d=n(945124),u=n(231467),_=n(931515),h=n(207796),E=n(777734),I=n(976757),m=n(981631),g=n(477975);t.Z=s.memo(function(e){let{title:t,subtitle:n,className:a}=e,{loaded:p,clans:T,searchResult:S,searchCriteria:C}=(0,_.Qc)(20),f=(0,h.GN)(e=>e.selectedTraits,l.Z),N=s.useMemo(()=>new Set(C.games),[C.games]),A=s.useCallback(e=>{var t;return(0,i.jsx)(u.ZP,{clan:e,className:g.card,affinity:null!==(t=e.affininty)&&void 0!==t?t:(0,d.y)(e,C),traitsToHighlight:f,source:m.jXE.DISCOVER_SEARCH,prioritizedGameIds:N,onlyAnimateIconOnHover:!0},e.id)},[C,f,N]),Z=s.useMemo(()=>null!=S&&(0,I.Pw)(S)?T:[],[T,S]),L=s.useCallback(e=>{e&&Z.length>0&&(0,c.Oe)(Z.map(e=>e.id),"top_picks",C)},[Z,C]);return 0!==T.length&&p?(0,i.jsx)(o.$,{onChange:L,threshold:.25,children:(0,i.jsxs)("div",{className:r()(g.previewListContainer,a),children:[(0,i.jsx)("div",{className:g.previewListSection,children:(0,i.jsx)(E.Z,{title:t,subtitle:n})}),(0,i.jsx)("div",{className:g.previewList,children:Z.map(e=>A(e))})]})}):null})},127541:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(470079);function s(e){let[t,n]=i.useState(0),s=i.useCallback(()=>{let t=window.innerWidth;for(let i of e){let[e,s]=i;if(t>=e){n(s);return}}},[e]);return i.useEffect(()=>{s()},[s]),i.useEffect(()=>(window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)})),t}},620360:function(e,t,n){var i=n(570140),s=n(211644);t.Z={init(){i.Z.subscribe("CONNECTION_OPEN",()=>{(0,s.mc)()}),i.Z.subscribe("LOGOUT",()=>{(0,s.mc)()})}}},810280:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var s=n(990547),a=n(481060),r=n(230711),l=n(960359),o=n(730417),c=n(981631),d=n(921944),u=n(689938),_=n(55317);let h=(e,t)=>({header:u.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:e.title}),body:e.messages.enrollmentTooltip(t),imgSrc:e.assets.tooltipSrc,imgStyle:_.defaultDropImage});function E(e){let{markAsDismissed:t,partnerGame:n}=e;(0,o.hs)(n,s.ImpressionTypes.POPOUT,s.ImpressionNames.DROPS_QUEST_ENROLLMENT);let E=(0,o.au)(n);if(null==E)return null;let{header:I,body:m,imgSrc:g,imgStyle:p}=h(E.drop,E.config.streamLengthRequirement),T=()=>{t(d.L.DISMISS)};return(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)("img",{src:g,alt:"",className:p}),(0,i.jsx)(a.Clickable,{className:_.__invalid_buttonClose,"aria-label":u.Z.Messages.CLOSE,onClick:T,children:(0,i.jsx)(a.CloseSmallIcon,{size:"xs",color:"currentColor",className:_.closeIcon})}),(0,i.jsx)(a.Heading,{className:_.title,variant:"heading-md/extrabold",children:I}),(0,i.jsx)(a.Text,{variant:"text-sm/medium",className:_.subTitle,children:m}),E.config.autoEnrollment?(0,i.jsx)(a.Button,{color:a.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{r.Z.open(c.oAB.INVENTORY),t(d.L.PRIMARY)},children:u.Z.Messages.LEARN_MORE}):(0,i.jsx)(a.Button,{innerClassName:_.button,color:a.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{(0,l.RJ)(E.drop.dropsQuestId),r.Z.open(c.oAB.INVENTORY),t(d.L.PRIMARY)},children:u.Z.Messages.DROPS_ELIGIBILITY_ENROLLMENT_PRIMARY_CTA}),(0,i.jsx)(a.Button,{className:_.linkButtonContainer,innerClassName:_.linkButton,onClick:T,look:a.Button.Looks.LINK,fullWidth:!0,color:a.Button.Colors.WHITE,children:u.Z.Messages.NOT_NOW}),(0,i.jsx)("div",{className:_.pointer})]})}},60762:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var s=n(990547),a=n(481060),r=n(230711),l=n(730417),o=n(981631),c=n(921944),d=n(689938),u=n(157460);let _=(e,t)=>({body:e.messages.completionTooltip(t),imgSrc:e.assets.tooltipSrc,imgStyle:u.defaultDropImage});function h(e){let{markAsDismissed:t,partnerGame:n}=e;(0,l.hs)(n,s.ImpressionTypes.POPOUT,s.ImpressionNames.DROPS_QUEST_COMPLETION);let h=(0,l.au)(n);if(null==h)return null;let{body:E,imgSrc:I,imgStyle:m}=_(h.drop,h.config.streamLengthRequirement),g=()=>{t(c.L.DISMISS)};return(0,i.jsxs)("div",{className:u.container,children:[(0,i.jsx)("img",{src:I,alt:"",className:m}),(0,i.jsx)(a.Clickable,{className:u.__invalid_buttonClose,"aria-label":d.Z.Messages.CLOSE,onClick:g,children:(0,i.jsx)(a.CloseSmallIcon,{size:"xs",color:"currentColor",className:u.closeIcon})}),(0,i.jsx)(a.Heading,{className:u.title,variant:"heading-md/extrabold",children:d.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER}),(0,i.jsx)(a.Text,{variant:"text-sm/medium",className:u.subTitle,children:E}),(0,i.jsx)(a.Button,{color:a.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{r.Z.open(o.oAB.INVENTORY),t(c.L.PRIMARY)},children:d.Z.Messages.REDEEM}),(0,i.jsx)(a.Button,{className:u.linkButtonContainer,innerClassName:u.linkButton,onClick:g,look:a.Button.Looks.LINK,fullWidth:!0,color:a.Button.Colors.WHITE,children:d.Z.Messages.NOT_NOW}),(0,i.jsx)("div",{className:u.pointer})]})}},96051:function(e,t,n){var i=n(570140),s=n(317770),a=n(117984);function r(e){let{channel:{id:t}}=e;(0,a.oC)(t)}class l extends s.Z{_initialize(){i.Z.subscribe("CHANNEL_DELETE",r)}_terminate(){i.Z.unsubscribe("CHANNEL_DELETE",r)}}t.Z=new l},750995:function(e,t,n){var i=n(735250);n(470079);var s=n(704215),a=n(481060),r=n(570140),l=n(317770),o=n(605236),c=n(650774),d=n(430824),u=n(496675),_=n(228392),h=n(981631),E=n(921944);let I=e=>{var t;let n=d.Z.getGuild(e),i=!!(null==n?void 0:n.hasFeature(h.oNc.COMMUNITY)),a=u.Z.can(h.Plq.MANAGE_CHANNELS,n),r=(0,o.un)(s.z.FORUM_CHANNEL_UPSELL_MODAL),l=null!==(t=c.Z.getMemberCount(e))&&void 0!==t?t:0;return i&&a&&!r&&l>=200};class m extends l.Z{_initialize(){r.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)}_terminate(){r.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)}handleChannelSelect(e){let{guildId:t}=e;if(null==t||!I(t))return;(0,_.qz)(),(0,o.kk)(s.z.FORUM_CHANNEL_UPSELL_MODAL);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.L.DISMISS;(0,o.EW)(s.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return n=>(0,i.jsx)(e,{...n,onClose:e=>{r(e),n.onClose()},guildId:t,shouldUpsellCreation:!0})},{onCloseCallback:()=>(0,o.EW)(s.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:E.L.DISMISS}),onCloseRequest:h.VqG})}}t.Z=new m},388380:function(e,t,n){var i=n(544891),s=n(570140),a=n(981631);t.Z={async fetch(){try{let e=await i.tn.get({url:a.ANM.FRIEND_SUGGESTIONS});s.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body})}catch(e){s.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"})}},ignore(e){i.tn.del(a.ANM.FRIEND_SUGGESTION(e))}}},5254:function(e,t,n){n(47120);var i,s,a,r,l=n(392711),o=n.n(l),c=n(442837),d=n(570140),u=n(598077),_=n(594174),h=n(388380);let E={},I=0,m=!1,g=!1;function p(e){var t;let n=null!=e.contact_names&&e.contact_names.length>=2?e.contact_names.slice(0,2):[];return{key:e.suggested_user.id,name:null===(t=o().first(e.reasons))||void 0===t?void 0:t.name,user:new u.Z(e.suggested_user),mutualFriendsCount:e.mutual_friends_count,contactNames:n}}class T extends(i=c.ZP.Store){initialize(){this.waitFor(_.default)}getSuggestionCount(){return I}getSuggestions(){return Object.entries(E).map(e=>{let[t,n]=e;return n})}getSuggestion(e){return E[e]}}r="FriendSuggestionStore",(a="displayName")in(s=T)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=new T(d.Z,{CONNECTION_OPEN:function(e){E={},(I=e.friendSuggestionCount)>0&&(g=!0,m||!g||(m=!0,g=!1,h.Z.fetch()))},FRIEND_SUGGESTION_CREATE:function(e){let t=p(e.suggestion);if(null!=E[t.key])return!1;I++,E={...E,[t.key]:t}},FRIEND_SUGGESTION_DELETE:function(e){I=Math.max(0,--I),delete E[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){var t;m=!1,t=e.suggestions,E=o().chain(t).map(e=>p(e)).keyBy(e=>e.key).value(),I=o().keys(E).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){m=!1,E={}}})},935261:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(442837),l=n(481060),o=n(797258),c=n(374129),d=n(639351),u=n(565473),_=n(927923),h=n(689938),E=n(127563);function I(e){let{platform:t}=e;return t===_.YE.XBOX?(0,i.jsx)(d.Z,{className:E.icon}):t===_.YE.PLAYSTATION?(0,i.jsx)(c.Z,{className:E.icon}):null}function m(e){let{voiceState:t,awaitingRemoteSessionInfo:n}=e,s=null!=n?(0,u.y)(n.type):null,c=(0,r.e7)([o.Z],()=>{var e,n;return null===(e=o.Z.getSessionById(null!==(n=null==t?void 0:t.sessionId)&&void 0!==n?n:""))||void 0===e?void 0:e.clientInfo.os}),d=null!=s?s:c;if(null==d||!_.al.has(d))return null;let m=null!=n,g=m?d===_.YE.XBOX?h.Z.Messages.XBOX_TRANSFERRING_ELLIPSIS:h.Z.Messages.PLAYSTATION_TRANSFERRING_ELLIPSIS:d===_.YE.XBOX?h.Z.Messages.XBOX_REMOTE_CONNECTED.format():h.Z.Messages.PLAYSTATION_REMOTE_CONNECTED.format();return(0,i.jsxs)("div",{className:a()(E.root,m?E.connecting:E.connected),children:[(0,i.jsx)(I,{platform:d}),(0,i.jsx)(l.Text,{color:m?"header-primary":"always-white",variant:"text-xs/medium",children:g})]})}},408026:function(e,t,n){n(47120);var i=n(570140),s=n(224706),a=n(710845),r=n(77498);let l={};function o(e){let{name:t,hash:n,missingData:i}=e;for(let e of(r.Z.markGameReported(t),i)){if("icon"===e){let e=l[t];null!=e&&s.Z.uploadIcon(t,n,e);return}new a.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(e))}}function c(e){let{gameName:t,icon:n}=e;l[t]=n}t.Z={initialize(){i.Z.subscribe("UNVERIFIED_GAME_UPDATE",o),i.Z.subscribe("GAME_ICON_UPDATE",c)}}},763916:function(e,t,n){var i=n(570140),s=n(812206),a=n(877481),r=n(592745);function l(e){let{gameId:t}=e;!function(e){let t;let n=r.Z.launchableGames[e],l=s.Z.getApplication(e);(t=null!=l?a.Z.isLaunchable(l):a.Z.isGameLaunchable(e)).then(t=>{t!==n&&i.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:t})})}(t)}t.Z={initialize(){i.Z.subscribe("CHECK_LAUNCHABLE_GAME",l)}}},306721:function(e,t,n){var i=n(401430),s=n(283595),a=n(695103);t.Z={init(){s.Z.whenInitialized(()=>{null!=a.Z.testModeApplicationId&&(0,i.Wt)(a.Z.testModeApplicationId,a.Z.testModeOriginURL)})}}},531551:function(e,t,n){n(411104);var i=n(570140),s=n(51025),a=n(314897),r=n(804739);function l(){if(!(0,r.Q)())return;let e=a.default.getToken(),t=a.default.getId();if(null==e)throw Error("missing user token");s.S1(e,t)}function o(){s.ob()}t.Z={init(){i.Z.subscribe("CONNECTION_OPEN",l),i.Z.subscribe("LOGOUT",o)}}},49898:function(e,t,n){n.d(t,{$G:function(){return c},SM:function(){return a},vf:function(){return r}});var i,s,a,r,l=n(823379),o=n(731455);function c(e){switch(e){case"guilds":case"hubs":return o.Hk;case"gaming":return o.Gj.Activity;case"music":return o.Gj.Music;case"entertainment":return o.Gj.Television;case"tech":return o.Gj.Science;case"education":return o.Gj.Education;default:(0,l.vE)(e)}}(i=a||(a={})).SERVERS="servers",i.APPS="apps",i.QUESTS="quests",i.SHOP="shop",(s=r||(r={})).GUILDS="guilds",s.GAMING="gaming",s.MUSIC="music",s.ENTERTAINMENT="entertainment",s.TECH="tech",s.EDUCATION="education",s.HUBS="hubs"},836768:function(e,t,n){n.d(t,{d:function(){return l}});var i=n(652874),s=n(868888),a=n(433517),r=n(49898);let l=(0,i.Z)((0,s.tJ)(e=>({selectedPage:r.SM.SERVERS,setSelectedPage:t=>e({selectedPage:t}),selectedServerTab:"gaming",setSelectedServerTab:t=>e({selectedServerTab:t})}),{name:"global-discovery",getStorage:()=>({getItem:e=>{var t;return null!==(t=a.K.get(e))&&void 0!==t?t:null},setItem:(e,t)=>a.K.set(e,t),removeItem:e=>a.K.remove(e)}),partialize:e=>({selectedPage:e.selectedPage})}))},52689:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(470079),s=n(143927),a=n(836768),r=n(49898),l=n(689938);function o(){let e=i.useMemo(()=>[{slug:r.SM.SERVERS,title:l.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TITLE},{slug:r.SM.APPS,title:l.Z.Messages.GLOBAL_DISCOVERY_APPS_TITLE},{slug:r.SM.QUESTS,title:l.Z.Messages.GLOBAL_DISCOVERY_QUESTS_TITLE},{slug:r.SM.SHOP,title:l.Z.Messages.GLOBAL_DISCOVERY_SHOP_TITLE}],[]),t=(0,a.d)(e=>e.selectedPage,s.Z);return{config:e,selectedPage:t,handleSelectPage:a.d.getState().setSelectedPage}}},976076:function(e,t,n){n.d(t,{Z:function(){return l}}),n(315314),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(470079),s=n(143927),a=n(836768),r=n(49898);function l(){let e=(0,a.d)(e=>e.selectedPage,s.Z),t=a.d.getState().setSelectedPage;return i.useEffect(()=>{t(function(e){switch(e){case"/discovery":default:return r.SM.SERVERS;case"/discovery/quests":return r.SM.QUESTS}}(new URL(window.location.href).pathname))},[t]),e}},724383:function(e,t,n){n.d(t,{A:function(){return E}});var i=n(735250);n(470079);var s=n(252618),a=n(121711),r=n(823379),l=n(976076),o=n(626426),c=n(91630),d=n(754420),u=n(49898),_=n(689938),h=n(143731);function E(){let e=(0,l.Z)(),t=function(e){switch(e){case u.SM.SERVERS:return(0,i.jsx)(c.U,{});case u.SM.APPS:return(0,i.jsx)(o.z,{});case u.SM.QUESTS:return(0,i.jsx)(a.Z,{});case u.SM.SHOP:return(0,i.jsx)(d.t,{});default:(0,r.vE)(e)}}(e);return(0,i.jsxs)("section",{className:h.container,children:[(0,i.jsx)(s.yY,{location:function(e){switch(e){case u.SM.SERVERS:return _.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TITLE;case u.SM.APPS:return _.Z.Messages.GLOBAL_DISCOVERY_APPS_TITLE;case u.SM.QUESTS:return _.Z.Messages.GLOBAL_DISCOVERY_QUESTS_TITLE;case u.SM.SHOP:return _.Z.Messages.GLOBAL_DISCOVERY_SHOP_TITLE;default:(0,r.vE)(e)}}(e)}),(0,i.jsx)("div",{className:h.dragRegion}),t]})}},705334:function(e,t,n){n.d(t,{_:function(){return _}});var i=n(735250),s=n(120356),a=n.n(s),r=n(481060),l=n(52689),o=n(49898),c=n(689938),d=n(876425);function u(e){let{config:t,selected:n,handleSelectPage:s}=e;return(0,i.jsxs)(r.Clickable,{onClick:()=>s(t.slug),className:a()(d.navItem,{[d.selectedNavItem]:n}),children:[(0,i.jsx)("div",{className:d.navItemIcon,children:function(e){switch(e){case o.SM.SERVERS:return(0,i.jsx)(r.ServerIcon,{color:"currentColor"});case o.SM.APPS:return(0,i.jsx)(r.AppsIcon,{color:"currentColor"});case o.SM.QUESTS:return(0,i.jsx)(r.QuestsIcon,{color:"currentColor"});case o.SM.SHOP:return(0,i.jsx)(r.ShopSparkleIcon,{color:"currentColor"});default:return null}}(t.slug)}),(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"none",children:t.title})]})}function _(){let{config:e,selectedPage:t,handleSelectPage:n}=(0,l.Z)();return(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsx)("div",{className:d.header,children:(0,i.jsx)(r.Heading,{variant:"text-lg/semibold",children:c.Z.Messages.GLOBAL_DISCOVERY_TITLE})}),(0,i.jsx)("nav",{className:d.nav,children:e.map(e=>(0,i.jsx)(u,{config:e,selected:t===e.slug,handleSelectPage:n},e.slug))})]})}},51448:function(e,t,n){n.d(t,{f:function(){return u}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(338545),o=n(481060),c=n(689938),d=n(479882);function u(e){var t;let{icon:n,title:a,selectedTab:u,tabs:_,onTabSelect:h,searchQuery:E,onSearch:I,onSearchClear:m,onSearchSubmit:g,scrollManager:p,showSearch:T=!0}=e,S=c.Z.Messages.GLOBAL_DISCOVERY_SEARCH_PLACEHOLDER.format({title:a}),C=s.useCallback(e=>{"Enter"===e.key&&(null==g||g(null!=E?E:""))},[g,E]);return(0,i.jsx)("div",{className:d.container,children:(0,i.jsxs)("div",{className:d.innerContainer,children:[(0,i.jsx)(l.animated.div,{className:d.backdrop,style:{opacity:null==p?void 0:null===(t=p.current)||void 0===t?void 0:t.top.to([0,100],[0,1])}}),(0,i.jsx)("div",{className:d.icon,children:n}),(0,i.jsx)(o.TabBar,{type:"top",selectedItem:u,onItemSelect:h,className:d.tabs,children:_.map(e=>(0,i.jsx)(o.TabBar.Item,{id:e,className:r()(d.tab,{[d.selected]:u.id===e.id}),children:e.label},e.id))}),T&&null!=I?(0,i.jsx)("div",{className:d.search,children:(0,i.jsx)(o.SearchBar,{placeholder:S,query:null!=E?E:"",onChange:I,onClear:m,onKeyDown:C})}):null]})})}},164427:function(e,t,n){n.d(t,{J:function(){return l}});var i=n(735250),s=n(470079),a=n(481060),r=n(564041);function l(e){let{scrollManager:t,children:n}=e,l=s.useCallback(e=>{var n;null===(n=t.current)||void 0===n||n.handleScroll(e)},[t]);return(0,i.jsx)(a.AdvancedScroller,{onScroll:l,className:r.scroller,children:n})}},624383:function(e,t,n){n.d(t,{c:function(){return o}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(523753);function o(e){let{title:t,description:n,button:s,backgroundImageUrl:o="https://cdn.discordapp.com/assets/discovery/generic-hero-background.png",className:c}=e;return(0,i.jsxs)("div",{className:a()(l.hero,c),style:{backgroundImage:"url(".concat(o,")")},children:[(0,i.jsx)("div",{className:l.overlay}),(0,i.jsxs)("div",{className:l.content,children:[(0,i.jsx)(r.Heading,{variant:"heading-lg/medium",color:"always-white",children:t}),(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"text-muted",children:n}),s]})]})}},742916:function(e,t,n){n.d(t,{m:function(){return s}});var i=n(338545);class s{handleScroll(e){this.top.set(e.currentTarget.scrollTop)}constructor(){var e,t,n;e=this,t="top",n=new i.SpringValue(0),"top"in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}},626426:function(e,t,n){n.d(t,{z:function(){return a}});var i=n(735250);n(470079);var s=n(481060);function a(){return(0,i.jsx)("div",{children:(0,i.jsx)(s.Heading,{variant:"heading-lg/normal",children:"Apps"})})}},91630:function(e,t,n){n.d(t,{U:function(){return T}});var i=n(735250),s=n(470079),a=n(657707),r=n(823379),l=n(51448),o=n(164427),c=n(742916),d=n(860403),u=n(388571),_=n(536763),h=n(160460),E=n(968669),I=n(982345),m=n(49898),g=n(689938),p=n(65050);function T(){let{tabs:e,selectedTab:t,onSelectTab:n}=(0,I.Y)(),T=s.useRef(new c.m),S=(0,m.$G)(t.id),{searching:C,searchQuery:f,setSearchQuery:N,handleSearchClear:A,handleSearchSubmit:Z}=(0,E.C)(S),L=s.useCallback(e=>{let{tabId:t,categoryId:n,searchQuery:s,searching:a}=e;if(a)return(0,i.jsx)(h.x,{searchQuery:s,categoryId:n,onSearchClear:A});switch(t){case m.vf.GAMING:return(0,i.jsx)(d.j,{categoryId:n,title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GAMING_TITLE,description:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GAMING_DESCRIPTION});case m.vf.MUSIC:return(0,i.jsx)(d.j,{categoryId:n,title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_MUSIC_TITLE,description:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_MUSIC_DESCRIPTION});case m.vf.ENTERTAINMENT:return(0,i.jsx)(d.j,{categoryId:n,title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_ENTERTAINMENT_TITLE,description:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_ENTERTAINMENT_DESCRIPTION});case m.vf.TECH:return(0,i.jsx)(d.j,{categoryId:n,title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TECH_TITLE,description:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TECH_DESCRIPTION});case m.vf.EDUCATION:return(0,i.jsx)(d.j,{categoryId:n,title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_EDUCATION_TITLE,description:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_EDUCATION_DESCRIPTION});case m.vf.HUBS:return(0,i.jsx)(_.X,{});case m.vf.GUILDS:return null;default:(0,r.vE)(t)}},[A]),v=s.useCallback(e=>e.tabId!==m.vf.GUILDS||e.searching?(0,i.jsx)(o.J,{scrollManager:T,children:L(e)}):(0,i.jsx)(u.U,{scrollManager:T}),[L]);return(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)(l.f,{icon:(0,i.jsx)(a.QTo,{}),title:g.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TITLE,tabs:e,selectedTab:t,onTabSelect:n,searchQuery:f,onSearch:N,onSearchClear:A,onSearchSubmit:Z,scrollManager:T}),v({tabId:t.id,searchQuery:f,searching:C,categoryId:S,scrollManager:T})]})}},754420:function(e,t,n){n.d(t,{t:function(){return a}});var i=n(735250);n(470079);var s=n(481060);function a(){return(0,i.jsx)("div",{children:(0,i.jsx)(s.Heading,{variant:"heading-lg/normal",children:"Shop"})})}},860403:function(e,t,n){n.d(t,{j:function(){return E}});var i=n(735250),s=n(470079),a=n(442837),r=n(212093),l=n(410030),o=n(683301),c=n(514611),d=n(624383),u=n(402691),_=n(854761);let h=[];function E(e){let{categoryId:t,title:n,description:E}=e,I=(0,a.Wu)([o.ZP],()=>{var e,n;return null!==(n=null===(e=o.ZP.getDiscoverableGuilds()[t])||void 0===e?void 0:e.guilds)&&void 0!==n?n:h}),m=(0,a.e7)([o.ZP],()=>o.ZP.getLoadId()),{handleViewGuild:g,onGuildCardSeen:p}=(0,u.g)(t,m),T=(0,l.ZP)();return s.useEffect(()=>{(0,r.K5)(t)},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.c,{title:n,description:E}),(0,i.jsx)("section",{className:_.servers,children:I.map((e,t)=>(0,i.jsx)(c.Z,{guild:e,onView:e=>g(e,t),theme:T,onGuildCardSeen:p},e.id))})]})}},388571:function(e,t,n){n.d(t,{U:function(){return m}}),n(47120);var i=n(735250),s=n(470079),a=n(338545),r=n(143927),l=n(399606),o=n(481060),c=n(393238),d=n(607070),u=n(931515),_=n(807933),h=n(207796),E=n(895068),I=n(374109);function m(e){let{scrollManager:t}=e,n=(0,l.e7)([d.Z],()=>d.Z.useReducedMotion),{loading:m}=(0,u.LE)(),{ref:g,width:p}=(0,c.Z)(),T=(0,h.GN)(e=>e.mode,r.Z),[S,C]=s.useState(!0),f=(0,a.useSpring)({from:{opacity:0},to:{opacity:1},config:{mass:1,tension:600,friction:60},delay:200,immediate:n,onRest:()=>C(!1)}),N=s.useCallback(e=>{var n;null===(n=t.current)||void 0===n||n.handleScroll(e)},[t]);return(0,i.jsxs)("section",{ref:g,className:I.guilds,children:[m?(0,i.jsx)("div",{className:I.loading,children:(0,i.jsx)(o.Spinner,{})}):(0,i.jsx)(a.animated.div,{className:I.list,style:{opacity:f.opacity},children:(0,i.jsx)(E.ZP,{width:null!=p?p:0,isAnimating:S,variant:E.Bj.GLOBAL_DISCOVERY,onScroll:N})}),(0,i.jsx)("div",{className:I.selectors,children:(0,i.jsx)(_.Z,{mode:T})})]})}},536763:function(e,t,n){n.d(t,{X:function(){return c}});var i=n(735250);n(470079);var s=n(602597),a=n(526383),r=n(624383),l=n(689938),o=n(121019);function c(){let e=(0,a.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.c,{title:l.Z.Messages.GLOBAL_DISCOVERY_SERVERS_HUB_TITLE,description:l.Z.Messages.GLOBAL_DISCOVERY_SERVERS_HUB_DESCRIPTION}),(0,i.jsx)("section",{className:o.hubs,children:(0,i.jsx)(s.Z,{guilds:e})})]})}},160460:function(e,t,n){n.d(t,{x:function(){return E}});var i=n(735250),s=n(399606),a=n(481060),r=n(410030),l=n(650394),o=n(683301),c=n(900849),d=n(402691),u=n(689938),_=n(45304);let h=[];function E(e){var t,n;let{searchQuery:E,categoryId:I,onSearchClear:m}=e,g=(0,s.e7)([o.ZP],()=>o.ZP.isFetchingSearch()),p=(0,s.e7)([o.ZP],()=>o.ZP.getDiscoverableGuilds().search),T=(0,s.e7)([o.ZP],()=>o.ZP.getLoadId()),S=null!==(n=null===(t=p[E])||void 0===t?void 0:t[I])&&void 0!==n?n:h,C=(0,r.ZP)(),{handleViewGuild:f,onGuildCardSeen:N}=(0,d.g)(I,T);return(0,i.jsxs)("section",{className:_.searchResults,children:[(0,i.jsxs)("div",{className:_.searchResultsHeader,children:[(0,i.jsxs)(a.Button,{look:a.ButtonLooks.OUTLINED,color:a.ButtonColors.PRIMARY,onClick:m,innerClassName:_.searchResultsBackButton,children:[(0,i.jsx)(a.ArrowLargeLeftIcon,{}),(0,i.jsx)(a.Text,{variant:"text-md/semibold",children:u.Z.Messages.BACK})]}),(0,i.jsx)(a.Heading,{variant:"heading-xl/bold",children:u.Z.Messages.GLOBAL_DISCOVERY_SERVERS_SEARCH_RESULTS_HEADER.format({query:E})})]}),(0,i.jsx)(l.Z,{guilds:S.guilds,loading:g,loadingPlaceholderCount:12,onViewGuild:f,loadingGuildId:null,theme:C,analyticsContext:c.P1.SEARCH,onGuildCardSeen:N})]})}},402691:function(e,t,n){n.d(t,{g:function(){return a}});var i=n(470079),s=n(900849);function a(e,t){let n=i.useCallback((n,i)=>s.Lq({loadId:t,guildId:n,index:i,analyticsContext:s.P1.GLOBAL_DISCOVERY,categoryId:e}),[e,t]);return{handleViewGuild:n,onGuildCardSeen:i.useCallback(()=>!1,[])}}},968669:function(e,t,n){n.d(t,{C:function(){return o}}),n(47120);var i=n(470079),s=n(212093),a=n(706454),r=n(900849),l=n(731455);function o(e){var t;let[n,o]=i.useState(!1),[c,d]=i.useState(""),u=l.dU,_=a.default.locale,h=null!==(t=u.find(e=>e.code===_))&&void 0!==t?t:u[0];i.useEffect(()=>{s.Ue()},[]);let E=i.useCallback(t=>{o(!0),s.bR(t,{categoryId:e,preferredLocale:h.code,offset:0,length:12,filters:{approximate_member_count:r.sq}},!1)},[h.code,e]),I=i.useCallback(()=>{d(""),o(!1)},[d,o]);return{searching:n,searchQuery:c,setSearchQuery:d,handleSearchSubmit:E,handleSearchClear:I}}},982345:function(e,t,n){n.d(t,{Y:function(){return c}}),n(653041);var i=n(470079),s=n(143927),a=n(169559),r=n(836768),l=n(49898),o=n(689938);function c(){var e;let t=(0,a.Z)("global_discovery"),n=(0,r.d)(e=>e.selectedServerTab,s.Z),c=i.useMemo(()=>{let e=[];return t&&e.push({id:l.vf.GUILDS,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GUILDS_CATEGORY}),e.push({id:l.vf.GAMING,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_GAMING_CATEGORY}),e.push({id:l.vf.MUSIC,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_MUSIC_CATEGORY}),e.push({id:l.vf.ENTERTAINMENT,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_ENTERTAINMENT_CATEGORY}),e.push({id:l.vf.TECH,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_TECH_CATEGORY}),e.push({id:l.vf.EDUCATION,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_EDUCATION_CATEGORY}),e.push({id:l.vf.HUBS,label:o.Z.Messages.GLOBAL_DISCOVERY_SERVERS_HUBS_CATEGORY}),e},[t]),d=null!==(e=c.find(e=>e.id===n))&&void 0!==e?e:c[0];return{tabs:c,selectedTab:d,onSelectTab:i.useCallback(e=>{r.d.getState().setSelectedServerTab(e.id)},[])}}},869614:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);let i=new Set(["nvidia"]);function s(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&i.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(553813),s=n.n(i),a=n(358085);let r={[a.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function l(e){let t=r[(0,a.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],a=t[n];if(null==i||null==a||null!=i.error)continue;let r=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!s().satisfies(r,a))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(553813),s=n.n(i),a=n(358085);let r={[a.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function l(e){let t=r[(0,a.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],a=t[n];if(null==i||null==a||null!=i.error)continue;let r=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!s().satisfies(r,a))return!0}return!1}},653255:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(358085),d=n(998502),u=n(869614),_=n(281083),h=n(672598);let E=!1,I=!0,m=!1;class g extends(r=l.ZP.Store){initialize(){!(!c.isPlatformEmbedded||__OVERLAY__)&&d.ZP.getGPUDriverVersions().then(e=>{E=(0,h.Z)(e),I=(0,u.Z)(e),m=(0,_.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return E}get canUseHardwareAcceleration(){return I}get problematicGPUDriver(){return m}getState(){return{GPUDriversOutdated:E,canUseHardwareAcceleration:I,problematicGPUDriver:m}}}a="StreamingCapabilitiesStore",(s="displayName")in(i=g)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new g(o.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;E=t.GPUDriversOutdated,I=t.canUseHardwareAcceleration}})},722835:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(872810),s=n(594190),a=n(199902),r=n(592125),l=n(430824),o=n(131951),c=n(496675),d=n(944486),u=n(449224),_=n(382182),h=n(74299),E=n(989941);function I(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!(0,h.Z)(o.Z)||null!=a.Z.getCurrentUserActiveStream())return!1;let t=(0,E.Z)(s.ZP,u.Z);if(null==t||t.isLauncher&&!e)return!1;let n=d.Z.getVoiceChannelId(),I=r.Z.getChannel(n);if(null==I)return!1;let m=I.getGuildId();return!!(0,_.JL)(I,l.Z,c.Z,!1)&&((0,i.WH)(m,I.id,{pid:t.pid}),!0)}},818634:function(e,t,n){n.d(t,{l:function(){return r},y:function(){return l}});var i=n(652874);let s=Object.freeze({isPopoutOpen:!1}),a=(0,i.Z)(e=>s),r=e=>{a.setState(()=>({isPopoutOpen:e}))},l=a},501640:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(149765),s=n(442837),a=n(984933),r=n(496675),l=n(981631);function o(e){let t=(0,s.e7)([a.ZP],()=>{var t;return null!==(t=a.ZP.getChannels(e)[a.sH])&&void 0!==t?t:[]},[e]);return 0===t.length?0:t.filter(e=>{let{channel:t}=e;return r.Z.can(i.$e(l.Plq.SEND_MESSAGES,l.Plq.VIEW_CHANNEL),t)}).length}},360453:function(e,t,n){var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(949389),l=n(82950),o=n(434404),c=n(899667),d=n(267642),u=n(981631),_=n(689938),h=n(571472);t.Z=e=>{let{guild:t}=e,n=t.id,E=(0,s.e7)([c.Z],()=>c.Z.getAppliedGuildBoostsForGuild(t.id));return null==E||0>=(0,d._k)(E,n)?null:(0,i.jsx)(l.Z,{guild:t,onDismissed:()=>{(0,r.GO)(n)},onClick:()=>{o.Z.open(n,u.pNK.GUILD_PREMIUM)},message:_.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE,trackingSource:u.PsQ.GRACE_PERIOD_NOTICE,type:u.vID.GUILD_BOOSTING_GRACE_PERIOD,image:h,cta:_.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON,ctaColor:a.ButtonColors.PRIMARY})}},377743:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var s=n(100527),a=n(906732),r=n(82950),l=n(26323),o=n(267642),c=n(981631),d=n(921944),u=n(30513),_=n(689938),h=n(420569);function E(e){let{guild:t,markAsDismissed:n}=e,E=(0,o.KK)(t,c.Eu4.TIER_2),{analyticsLocations:I}=(0,a.ZP)(s.Z.GUILD_BANNER_NOTICE);return(0,i.jsx)(r.Z,{guild:t,onDismissed:()=>n(d.L.UNKNOWN),cta:_.Z.Messages.GUILD_BANNER_NOTICE_CTA,message:_.Z.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:E}),type:c.vID.GUILD_BANNER,image:h,onClick:()=>(0,l.Z)({analyticsLocations:I,analyticsSourceLocation:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,u.XO)()}),imageMarginTop:15,imageMarginX:22})}},834743:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(82950),l=n(623624),o=n(650774),c=n(981631),d=n(921944),u=n(689938),_=n(241626);class h extends s.PureComponent{render(){let{guild:e,memberCount:t,markAsDismissed:n}=this.props;return(0,i.jsx)(r.Z,{guild:e,onDismissed:()=>n(d.L.UNKNOWN),onClick:this.handleButtonClick,message:null==t||t<30?u.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:u.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:u.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:c.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:c.vID.GUILD_BOOSTING,image:_,imageMarginX:26})}constructor(...e){var t,n,i;super(...e),t=this,n="handleButtonClick",i=()=>{let{guild:e}=this.props;(0,l.f)({guildId:e.id,location:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_STATUS_CTA}})},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=a.ZP.connectStores([o.Z],e=>{let{guild:t}=e;return{memberCount:o.Z.getMemberCount(t.id)}})(h)},596557:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),s=n(470079),a=n(704215),r=n(481060),l=n(785697),o=n(626135),c=n(700785),d=n(645041),u=n(981631),_=n(921944),h=n(647086),E=n(135899);function I(e){var t;let I=(0,l.SE)(e),m=E.$X.some(t=>(null==e?void 0:e.id)!==h._&&c.oz(t,e)),g=(null==e?void 0:e.defaultMessageNotifications)===u.bL.ALL_MESSAGES,p=(0,d.FT)(a.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds),T=I&&(m||g)&&!p,S=s.useCallback(()=>{var t;(0,d.Qd)(a.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds,!0,_.L.DISMISS)},[e]),C=s.useRef(!1);s.useEffect(()=>{if(T&&!C.current){var t;(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("54597").then(n.bind(n,29022));return n=>(0,i.jsx)(t,{guild:e,canEveryoneModerate:m,isDefaultNotificationsAllMessages:g,...n})},{onCloseCallback:S}),o.default.track(u.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:a.C[a.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds}),C.current=!0}},[m,e,S,g,T])}},580079:function(e,t,n){n(653041),n(47120),n(724458);var i,s,a,r,l=n(392711),o=n.n(l),c=n(442837),d=n(570140),u=n(592125);n(914010);var _=n(709054),h=n(176505);let E={},I={},m={},g={};function p(e){let t=I[e];if(null==t)return;let n=_.default.fromTimestamp(Date.now()-9e5),i=o().findIndex(t,e=>_.default.compare(e.id,n)>0);if(-1===i)I[e]=[];else{let n=Math.max(i,t.length-26);I[e]=o().slice(t,n)}m[e]=Date.now()}function T(e,t,n,i){E[e].add(t);let s=m[t];(null==s||s+3e5>Date.now())&&p(t),null==I[t]&&(I[t]=[]),I[t].push({id:n,userId:i})}function S(e){let{channel:t}=e;delete I[t.id],delete m[t.id]}class C extends(i=c.ZP.Store){getActiveChannelsFetchStatus(e){return g[e]}getActiveChannelIds(e){return E[e]}getChannelMessageData(e){return I[e]}shouldFetch(e){var t;return null==E[e]&&!(null===(t=g[e])||void 0===t?void 0:t.loading)}}r="ActiveChannelsStore",(a="displayName")in(s=C)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,new C(d.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(!(0,h.ME)(t)||null==n)return!1;let i=E[n];if(null==i)return!1;i.forEach(e=>{var t;p(e),(null===(t=I[e])||void 0===t?void 0:t.length)===0&&delete I[e]});let s=o().chain(Array.from(i)).filter(e=>e in I).sortBy(e=>{var t,n;return-(null!==(n=null===(t=I[e])||void 0===t?void 0:t.length)&&void 0!==n?n:0)}).value();E[n]=new Set(s)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i,optimistic:s,isPushNotification:a}=e;if(s||a)return!1;let r=u.Z.getChannel(n);if(null==r)return!1;let l=r.guild_id;if(null==l||null==E[l])return!1;T(l,n,i.id,null===(t=i.author)||void 0===t?void 0:t.id)},GUILD_DELETE:function(e){let{guild:t}=e;delete E[t.id]},CHANNEL_DELETE:S,THREAD_DELETE:S,ACTIVE_CHANNELS_FETCH_START:function(e){let{guildId:t}=e;g[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){let{guildId:t,channels:n}=e;g[t]={loading:!1,error:null,fetchedAt:Date.now()},E[t]=new Set,n.forEach(e=>{let{channel_id:n,messages:i}=e;i.forEach(e=>{T(t,n,e.message_id,e.user_id)})})},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){let{guildId:t,error:n}=e;g[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}})},523924:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(346656),r=n(689938),l=n(920691),o=n(364632);t.Z=e=>{let{headerId:t,reapplyText:n,onReapply:c,confirmText:d,onWithdrawApplication:u,rejectionReason:_=null,guild:h=null}=e;return(0,i.jsxs)("div",{className:l.confirmation,children:[(0,i.jsxs)("div",{className:l.confirmationContent,children:[null!==h?(0,i.jsx)(a.Z,{size:a.Z.Sizes.LARGER,guild:h,className:l.guildIcon}):(0,i.jsx)("img",{alt:r.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:o,className:l.__invalid_verificationStateIcon}),(0,i.jsx)(s.Heading,{id:t,variant:"heading-xl/semibold",className:l.header,children:(null==h?void 0:h.name)!=null?r.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:h.name}):r.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE}),null!=_&&""!==_?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Text,{variant:"text-sm/normal",children:[(0,i.jsx)("span",{className:l.rejectionReasonLabel,children:r.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON}),(0,i.jsx)("span",{className:l.rejectionReason,children:_})]})}):null]}),(0,i.jsxs)("div",{className:l.confirmationButtonRow,children:[(0,i.jsx)(s.Button,{onClick:c,color:s.Button.Colors.PRIMARY,className:l.confirmationButton,children:n}),(0,i.jsx)(s.Button,{onClick:u,color:s.Button.Colors.RED,className:l.confirmationButton,children:d})]})]})}},390500:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(970606),l=n(346656),o=n(689938),c=n(920691),d=n(586522);t.Z=function(e){let{onWithdrawApplication:t,guild:n=null}=e,u=null==n?void 0:n.id;return s.useEffect(()=>{null!=u&&(0,r.Pq)(u)},[u]),(0,i.jsxs)("div",{className:c.confirmation,children:[(0,i.jsxs)("div",{className:c.confirmationContent,children:[null!==n?(0,i.jsx)(l.Z,{size:l.Z.Sizes.LARGER,guild:n,className:c.guildIcon}):(0,i.jsx)("img",{alt:o.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:d}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:c.header,children:(null==n?void 0:n.name)!=null?o.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:n.name}):o.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:o.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE})]}),(0,i.jsx)("div",{className:c.confirmationButtonColumn,children:(0,i.jsx)(a.Button,{onClick:t,look:a.Button.Looks.LINK,color:a.Button.Colors.LINK,size:a.Button.Sizes.SMALL,children:o.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION})})]})}},6039:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(568154),o=n(703656),c=n(430824),d=n(449934),u=n(768581),_=n(693546),h=n(863249),E=n(944163),I=n(246364),m=n(937111),g=n(523924),p=n(390500),T=n(200305),S=n(981631),C=n(898625),f=n(689938),N=n(131147);t.Z=e=>{var t;let n,A;let{guildId:Z,inviteCode:L}=e,[v,O]=s.useState(C.hO.INITIAL),R=(0,a.e7)([E.Z],()=>E.Z.get(Z)),x=(0,a.e7)([m.Z],()=>m.Z.getRequest(Z)),b=(0,a.e7)([c.Z],()=>c.Z.getGuild(Z)),{hasFetchedRequestToJoinGuilds:P,guildPreviewDisabled:M}=(0,a.cj)([m.Z],()=>({hasFetchedRequestToJoinGuilds:m.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:m.Z.getJoinRequestGuild(Z)}));s.useEffect(()=>{null!=b&&(0,o.uL)(S.Z5c.CHANNEL(Z))},[b,Z]),s.useEffect(()=>{!P&&_.Z.fetchRequestToJoinGuilds()},[P]);let D=s.useCallback(e=>{O(t=>Math.max(t,e))},[]),y=async e=>{await h.Z.submitVerificationForm(Z,e)},j=()=>{_.Z.resetGuildJoinRequest(Z)};let U=(n=f.Z.Messages.MEMBER_VERIFICATION_WITHDRAW_APPLICATION_CONFIRMATION.format({name:null==M?void 0:M.toString()}),A=()=>{O(Math.max(v,C.hO.FILLING)),_.Z.removeGuildJoinRequest(Z),(0,o.uL)(S.Z5c.ME)},()=>{(0,r.openModal)(e=>(0,i.jsx)(r.ConfirmModal,{header:f.Z.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:f.Z.Messages.NEVERMIND,onConfirm:A,confirmText:f.Z.Messages.YES_TEXT,confirmButtonColor:r.Button.Colors.RED,...e,children:(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"header-secondary",children:n})}))}),G=(null==R?void 0:null===(t=R.guild)||void 0===t?void 0:t.splash)!=null?u.ZP.getGuildSplashURL({id:R.guild.id,splash:R.guild.splash}):(0,d.gK)();return(0,i.jsx)("div",{className:N.page,children:(0,i.jsxs)(l.Z,{embedded:!0,splash:G,waveState:v,showLogo:!1,updateWaveState:D,children:[(0,i.jsx)("div",{className:N.dragRegion}),(0,i.jsx)("div",{className:N.contentWrapper,children:(()=>{switch(null==x?void 0:x.applicationStatus){case I.wB.SUBMITTED:return(0,i.jsx)(p.Z,{onWithdrawApplication:U,guild:M});case I.wB.REJECTED:return(0,i.jsx)(g.Z,{reapplyText:f.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:j,confirmText:f.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION,onWithdrawApplication:U,rejectionReason:null==x?void 0:x.rejectionReason,guild:M});default:return(0,i.jsx)(T.Z,{guildId:Z,inviteCode:L,onComplete:y})}})()})]})})}},584233:function(e,t,n){n.d(t,{x:function(){return r}});var i=n(447543),s=n(652898),a=n(430824);async function r(e){let{code:t}=e,r=(await (0,s.Z)(t)).invite;if(null==r||null==r.guild)return;if(await function(){return new Promise(e=>{a.Z.addConditionalChangeListener(()=>!a.Z.isLoaded()||(e(),!1))})}(),null==a.Z.getGuild(r.guild.id))return;let{default:l}=await Promise.resolve().then(n.bind(n,17181));await l({guildId:r.guild.id}),i.Z.transitionToInvite(r)}},326145:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250),s=n(470079),a=n(481060),r=n(745752),l=n(17181),o=n(689938),c=n(867411);function d(e){let{guildId:t,channelId:n}=e,d=s.useCallback(()=>{if(null!=t&&null!=n)(0,r.I1)(t),(0,l.default)({guildId:t,returnChannelId:n})},[t,n]);return(0,i.jsx)("div",{className:c.container,children:(0,i.jsxs)("div",{className:c.explainerContainer,children:[(0,i.jsx)(a.Text,{variant:"text-md/normal",children:o.Z.Messages.ONBOARDING_ERROR_PAGE_TEXT}),(0,i.jsx)(a.Button,{onClick:d,children:(0,i.jsx)(a.Text,{variant:"text-md/medium",children:o.Z.Messages.START_ONBOARDING})})]})})}},408042:function(e,t,n){n(47120),n(653041);var i,s=n(442837),a=n(570140),r=n(314897),l=n(592125),o=n(430824),c=n(709054),d=n(231873);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={};function h(e,t){let n=_[e];return!(null==n||n.has(t))&&(_[e]=new Set(n.add(t)),!0)}class E extends(i=s.ZP.PersistedStore){initialize(e){this.waitFor(r.default,o.Z),_={},null!=e&&c.default.keys(e).forEach(t=>{let n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(_[t]=new Set(n))})}getProgress(e){return _[e]}hasProgress(e){let t=_[e];return null!=t&&!t.has(d.Rg.DISMISSED)}getState(){return _}}u(E,"displayName","GuildProgressStore"),u(E,"persistKey","GuildProgressStore"),new E(a.Z,{CONNECTION_OPEN:function(){let e=[];c.default.keys(_).forEach(t=>{_[t].has(d.Rg.COMPLETED)&&e.push(t)}),e.forEach(e=>h(e,d.Rg.DISMISSED))},GUILD_PROGRESS_INITIALIZE:function(e){let{guildId:t}=e;null==_[t]&&(_[t]=new Set),!_[t].has(d.Rg.COMPLETED)&&_[t].delete(d.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){let{guildId:t}=e;if(null==_[t])return!1;_[t]=new Set(_[t].add(d.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){let{guildId:t}=e;return h(t,d.Rg.DISMISSED)},GUILD_CREATE:function(e){let{guild:{id:t,member_count:n}}=e,i=o.Z.getGuild(t);if(null==i)return!1;i.ownerId===r.default.getId()&&null!=_[i.id]&&(null!=i.icon&&_[i.id].add(d.Rg.AVATAR),n>1&&_[i.id].add(d.Rg.INVITE))},CHANNEL_CREATE:function(e){let{channel:t}=e;return null!=t&&null!=t.guild_id&&null!=_[t.guild_id]&&h(t.guild_id,d.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let e of t)null!=e&&null!=e.guild_id&&null!=_[e.guild_id]&&!1!==h(e.guild_id,d.Rg.CHANNEL)&&(n=!0);return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){let{guild:t}=e;return null!=t&&null!=t.id&&null!=_[t.id]&&null!=t.icon&&h(t.id,d.Rg.AVATAR)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i}=e,s=l.Z.getChannel(n);return(null===(t=i.author)||void 0===t?void 0:t.id)===r.default.getId()&&null!=s&&null!=_[s.guild_id]&&h(s.guild_id,d.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,memberCount:n}=e;return null!=_[t]&&!!(n>1)&&h(t,d.Rg.INVITE)}})},440190:function(e,t,n){let i;var s,a,r,l,o=n(442837),c=n(570140),d=n(900849);let u=null,_=!1,h=!1;class E extends(l=o.ZP.Store){getRecommendedGuilds(){return u}getLoadId(){return i}isFetching(){return _}failed(){return h}}r="GuildRecommendationsStore",(a="displayName")in(s=E)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=new E(c.Z,{GUILD_RECOMMENDATION_FETCH:function(){_=!0},GUILD_RECOMMENDATION_FETCH_SUCCESS:function(e){u=e.recommendedGuilds.map(d.PP),i=e.loadId,_=!1},GUILD_RECOMMENDATION_FETCH_FAILURE:function(){h=!0,_=!1}})},817520:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),s=n(430824),a=n(644542),r=n(923726),l=n(144507),o=n(981631);function c(e){let t=(0,i.e7)([s.Z],()=>s.Z.getGuild(e)),n=(0,r.ss)(e),c=(0,r.Gp)(),d=(null==t?void 0:t.hasFeature(o.oNc.ROLE_SUBSCRIPTIONS_ENABLED))===!0&&(null==t?void 0:t.hasFeature(o.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!1,u=(0,l.H2)(t);return d&&c&&u&&a.jJ.trackExposure({guildId:e,location:"ca30d9_1"}),d&&c&&u&&n}},999309:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(442837),s=n(223892),a=n(430824),r=n(594174),l=n(981631);function o(e){var t;let n=(0,i.e7)([a.Z],()=>a.Z.getGuild(e)),o=(0,i.e7)([r.default],()=>r.default.getCurrentUser()),c=(null==n?void 0:n.ownerId)===(null==o?void 0:o.id),d=(0,s.Sd)();return c&&null!==(t=null==n?void 0:n.hasFeature(l.oNc.COMMUNITY))&&void 0!==t&&t&&d&&!((null==n?void 0:n.hasFeature(l.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(l.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(l.oNc.CREATOR_MONETIZABLE_DISABLED)))}},433280:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250);n(470079);var s=n(990547),a=n(399606),r=n(213609),l=n(434404),o=n(970731),c=n(430824),d=n(594174),u=n(981631),_=n(689938),h=n(583134),E=n(217110);function I(e){let{guildId:t,markAsDismissed:n}=e,I=(0,a.e7)([c.Z,d.default],()=>{let e=d.default.getCurrentUser(),n=c.Z.getGuild(t);return(null==n?void 0:n.isOwner(e))===!0});return(0,r.Z)({type:s.ImpressionTypes.POPOUT,name:s.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:I}}),(0,i.jsx)("div",{className:h.container,children:(0,i.jsx)(o.ZP,{header:_.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:_.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:(0,i.jsx)("div",{className:h.image,children:(0,i.jsx)("img",{alt:_.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:E,className:h.image})}),buttonCTA:_.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:()=>{l.Z.open(t,u.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:_.Z.Messages.DISMISS,markAsDismissed:n})})}},34131:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(434404),a=n(970731),r=n(810090),l=n(981631),o=n(689938),c=n(561535);function d(e){let{guildId:t,markAsDismissed:n}=e;return(0,i.jsx)("div",{className:c.container,children:(0,i.jsx)(a.ZP,{header:o.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_TITLE,content:o.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_BODY,asset:(0,i.jsx)(r.Z,{className:c.video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:o.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_CTA,onClick:()=>{s.Z.open(t,l.pNK.ROLE_SUBSCRIPTIONS,void 0,l.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:o.Z.Messages.DISMISS,markAsDismissed:n})})}},939225:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(481060),a=n(230711),r=n(931547),l=n(981631),o=n(526761),c=n(689938);function d(e){let{subscription:t}=e;return null==t?null:t.status===l.O0b.PAST_DUE?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Spacer,{size:16}),(0,i.jsx)(r.Z,{message:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:()=>{a.Z.open(l.oAB.SUBSCRIPTIONS,o.cP)}})]}):null}},293423:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(584825),r=n(290348),l=n(934826),o=n(660196),c=n(330181),d=n(939225),u=n(36246),_=n(305342),h=n(726324),E=n(981631),I=n(689938),m=n(952366);t.Z=e=>{var t,n;let{guild:g}=e,p=(0,a.GG)(g.id)[0];(0,o.Z)({guildId:g.id,groupListingId:null==p?void 0:p.id,location:E.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==p?void 0:p.subscription_listings_ids});let{activeSubscription:T}=(0,l.Z)(null==p?void 0:p.id),S=(0,a.YB)(g.id),C=null==S?void 0:S.description,{editStateIds:f}=r.B7(null!==(t=null==p?void 0:p.id)&&void 0!==t?t:null,g.id);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Z,{title:I.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:g.toString()}),description:null!=C?C:null,coverImageAsset:null!==(n=null==S?void 0:S.cover_image_asset)&&void 0!==n?n:null,guild:g,children:[null!=p?(0,i.jsx)(c.Z,{className:m.pendingPlanChangeNotice,groupListingId:p.id,subscription:T}):null,(0,i.jsx)(d.Z,{subscription:T})]}),(0,i.jsx)(s.HeadingLevel,{children:(0,i.jsx)(u.Z,{guildId:g.id,children:f.map(e=>{var t;return(0,i.jsx)(_.Z,{guildId:g.id,groupListingId:null!==(t=null==p?void 0:p.id)&&void 0!==t?t:"",listingId:e,analyticsLocation:E.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)})})})]})}},20967:function(e,t,n){n.d(t,{J:function(){return s},z:function(){return _}});var i,s,a=n(735250);n(470079);var r=n(990547),l=n(481060),o=n(213609),c=n(689938),d=n(666667),u=n(837753);(i=s||(s={})).GUILD_NOT_ELIGIBLE="guild_not_eligible",i.NOT_GUILD_MEMBER="not_guild_member";let _=e=>{let{errorType:t}=e;return(0,o.Z)({type:r.ImpressionTypes.PAGE,name:r.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}}),(0,a.jsx)("div",{className:d.errorPageContainer,children:(0,a.jsxs)("div",{className:d.errorPageContent,children:[(0,a.jsx)("img",{src:u,alt:"",className:d.errorPageIllo}),(0,a.jsx)(l.Heading,{variant:"heading-xl/extrabold",className:d.errorPageTitle,children:"guild_not_eligible"===t?c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE}),(0,a.jsx)(l.Text,{variant:"text-md/normal",className:d.errorPagSubtitle,children:"guild_not_eligible"===t?c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:c.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE})]})})}},269675:function(e,t,n){n.d(t,{Z:function(){return R}});var i=n(735250),s=n(470079),a=n(873546),r=n(442837),l=n(481060),o=n(355467),c=n(270237),d=n(252618),u=n(423e3),_=n(200876),h=n(674180),E=n(38618),I=n(984370),m=n(430824),g=n(351402),p=n(730647),T=n(772021),S=n(396828),C=n(293423),f=n(20967),N=n(504762),A=n(807152),Z=n(176505),L=n(689938),v=n(83939);function O(e){let{guildId:t}=e,n=(0,r.e7)([m.Z],()=>m.Z.getGuild(t),[t]),O=(0,r.e7)([E.Z],()=>E.Z.isConnected()),R=(0,_.Z)(t),x=(0,T.Z)(t),b=(0,r.e7)([g.Z],()=>g.Z.isSubscriptionFetching),P=(0,p.f)(),{shouldHideGuildPurchaseEntryPoints:M,restrictionsLoading:D}=(0,h.uP)(t),y=null==n||!P||b||D;(0,d.Tt)({subsection:L.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TITLE,location:null==n?void 0:n.name}),(0,c.Z)(a.tq?"role-subscriptions-overview":void 0);let j=O&&(null==n||!(R||x)||M&&!D);if(s.useEffect(()=>{o.jg()},[]),s.useEffect(()=>{j&&!a.tq&&(0,u.M)(t,Z.oC.ROLE_SUBSCRIPTIONS)},[t,j]),a.tq&&j){let e=null==n?f.J.NOT_GUILD_MEMBER:f.J.GUILD_NOT_ELIGIBLE;return(0,i.jsx)(f.z,{errorType:e})}return(0,i.jsxs)("div",{className:v.container,children:[(0,i.jsxs)(I.Z,{toolbar:(0,i.jsx)(s.Fragment,{}),className:v.headerBar,children:[(0,i.jsx)(I.Z.Icon,{icon:(0,l.makeIconCompat)(S.Z),"aria-hidden":!0}),(0,i.jsx)(I.Z.Title,{children:L.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_TITLE})]}),(0,i.jsx)("div",{id:A.v}),(0,i.jsx)("div",{className:v.content,children:R?(0,i.jsx)(l.ScrollerNone,{className:v.scroller,children:(0,i.jsx)("div",{className:v.scrollerContent,children:y?(0,i.jsx)(l.Spinner,{}):(0,i.jsx)(C.Z,{guild:n})})}):(0,i.jsx)(N.Z,{})})]})}function R(e){let{guildId:t}=e;return(0,i.jsx)(p.l,{guildId:t,refetchOnMount:!0,children:(0,i.jsx)(O,{guildId:t})})}},504762:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(481060),a=n(689938),r=n(448243),l=n(217110);function o(){return(0,i.jsx)("div",{className:r.container,children:(0,i.jsxs)("div",{className:r.content,children:[(0,i.jsx)("img",{src:l,alt:a.Z.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),(0,i.jsx)(s.Spacer,{size:12}),(0,i.jsx)(s.Heading,{className:r.header,variant:"heading-lg/semibold",children:a.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE}),(0,i.jsx)(s.Spacer,{size:8}),(0,i.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:a.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION})]})})}},807152:function(e,t,n){n.d(t,{v:function(){return i}});let i="guild-role-subscription-overview-notice"},726324:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(735250);n(470079);var s=n(481060),a=n(695346),r=n(346656),l=n(506071),o=n(353254),c=n(269807);function d(e){let{coverImageAsset:t,title:n,guild:d,description:u,children:_}=e,h=a.QK.useSetting(),E=(0,l.n)(),[I,m]=(0,o.Z)(t,E&&h);return(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsx)("div",{ref:I,className:c.coverImageContainer,children:null!=m&&(0,i.jsx)("img",{src:m,alt:"",className:c.coverImage})}),(0,i.jsx)("div",{className:c.guildIconContainer,children:(0,i.jsx)(r.Z,{guild:d,size:r.Z.Sizes.XLARGE})}),(0,i.jsx)(s.Heading,{variant:"heading-xl/semibold",className:c.ctaTitle,children:n}),(0,i.jsx)(s.Text,{className:c.ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:u}),_]})}},504160:function(e,t,n){n.d(t,{L_:function(){return a},_6:function(){return r},ji:function(){return s}});var i=n(570140);function s(e){let{eventId:t,stageId:n}=e;(null!=t||null!=n)&&i.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}function a(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_HIDE",eventId:e})}function r(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_SEEN",guildEventId:e})}},151864:function(e,t,n){n(653041);var i,s=n(442837),a=n(570140),r=n(765305);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={hiddenEventsAndStages:[]};class c extends(i=s.ZP.PersistedStore){initialize(e){null!=e&&null!=e.hiddenEventsAndStages&&(o=e)}isLiveChannelNoticeHidden(e){let{eventId:t,stageId:n}=e;return!!(null!=n&&o.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&o.hiddenEventsAndStages.includes("event-".concat(t))}getState(){return o}}l(c,"displayName","LiveChannelNoticesStore"),l(c,"persistKey","liveChannelNotices_v2"),t.Z=new c(a.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){let{eventId:t,stageId:n}=e;null!=t?o.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&o.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(t.status===r.p1.CANCELED||t.status===r.p1.COMPLETED)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))},STAGE_INSTANCE_DELETE:function(e){let{instance:t}=e,n="stage-".concat(t.id);o.hiddenEventsAndStages.includes(n)&&(o.hiddenEventsAndStages=o.hiddenEventsAndStages.filter(e=>e!==n))}})},497656:function(e,t,n){n.d(t,{y:function(){return r}});var i=n(517334),s=n(592125),a=n(554747);function r(e){var t;let n=(0,a.eF)(e),r=(0,i.ZP)(e),l=s.Z.getChannel(null===(t=r[0])||void 0===t?void 0:t.id);return null!=n?n:l}},300213:function(e,t,n){n.d(t,{m:function(){return c}});var i=n(442837),s=n(427679),a=n(517334),r=n(592125),l=n(151864),o=n(554747);function c(e){var t;let n=(0,a.ZP)(e),c=r.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,i.e7)([s.Z],()=>s.Z.getStageInstanceByChannel(null==c?void 0:c.id),[c]),u=(0,o.k5)(e),{isStageNoticeHidden:_,isEventNoticeHidden:h}=(0,i.cj)([l.Z],()=>({isStageNoticeHidden:l.Z.isLiveChannelNoticeHidden({stageId:null==d?void 0:d.id}),isEventNoticeHidden:l.Z.isLiveChannelNoticeHidden({eventId:null==u?void 0:u.id})}),[d,u]);if(null!=u)return null!=d?!_:!h;return null!=d&&!_}},862099:function(e,t,n){n.d(t,{Co:function(){return Q},bZ:function(){return i},gt:function(){return H}}),n(47120);var i,s,a=n(735250),r=n(470079),l=n(120356),o=n.n(l),c=n(442837),d=n(481060),u=n(471445),_=n(986332),h=n(662842),E=n(703656),I=n(922482),m=n(565799),g=n(501655),p=n(192079),T=n(427679),S=n(448206),C=n(496675),f=n(938475),N=n(602623),A=n(626135),Z=n(823379),L=n(15274),v=n(924301),O=n(504160),R=n(151864),x=n(835184),b=n(725436),P=n(497656),M=n(79874),D=n(554747),y=n(230900),j=n(854698),U=n(139712),G=n(765305),k=n(981631),w=n(689938),B=n(538704);let H=r.memo(function(e){let{heading:t,location:n,locationIcon:i,details:s,detailsIcon:r,topic:l,onClickCloseIcon:c,onClickTopicText:u,children:_}=e,h=(0,a.jsx)(d.Text,{color:"header-primary",variant:"text-md/semibold",className:B.eventName,children:l});return(0,a.jsxs)("div",{className:B.channelNotice,children:[(0,a.jsxs)("div",{className:o()(B.textBlock,B.singleLine),children:[(0,a.jsx)("div",{className:B.liveIndicator}),(0,a.jsx)(d.Text,{color:"text-positive",variant:"text-xs/bold",className:B.liveNowText,children:t}),null!=c&&(0,a.jsx)(d.Clickable,{onClick:c,className:B.closeIcon,"aria-label":w.Z.Messages.CLOSE,children:(0,a.jsx)(d.CloseSmallIcon,{size:"xs",color:"currentColor"})})]}),null==u?h:(0,a.jsx)(d.Button,{size:d.Button.Sizes.MIN,look:d.Button.Looks.LINK,color:d.Button.Colors.PRIMARY,onClick:u,children:h}),(0,a.jsxs)("div",{className:o()(B.textBlock,B.singleLine),children:[i,(0,a.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:B.channelName,children:n}),null!=s&&null!=r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Text,{className:B.dotDivider,color:"header-secondary",variant:"text-xs/normal",children:""}),r,(0,a.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",children:s})]})]}),_]})});function V(e){let{guildEvent:t,channel:n}=e,i=(0,c.Wu)([f.ZP],()=>f.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),s=(0,u.KS)(n);return(0,a.jsx)(H,{onClickCloseIcon:()=>(0,O.ji)({eventId:null==t?void 0:t.id}),heading:w.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=s?(0,a.jsx)(s,{size:"xs",color:"currentColor",className:B.stageIcon}):null,children:(0,a.jsx)(Q,{channel:n,speakers:i,voiceType:1})})}function F(e){let{guildEvent:t,noticeType:n}=e,i=(0,j.DK)(t),s=(0,c.e7)([v.ZP],()=>v.ZP.isInterestedInEventRecurrence(t.id,i),[t.id,i]),r=(0,c.e7)([x.Z],()=>x.Z.getUpcomingNoticeSeenTime(t.id),[t.id]);return!s&&null==r&&(0,O._6)(t.id),(0,a.jsxs)(d.Button,{fullWidth:!0,className:B.joinButton,innerClassName:B.rsvpButton,onClick:function(){(0,U.Z)(t.id,null,t.guild_id,()=>setTimeout(()=>(0,O.L_)(t.id),1e3)),A.default.track(k.rMx.CHANNEL_NOTICE_CTA_CLICKED,{guild_id:t.guild_id,notice_type:n})},look:s?d.Button.Looks.OUTLINED:d.Button.Looks.FILLED,color:s?d.Button.Colors.TRANSPARENT:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:[s?(0,a.jsx)(d.CheckmarkLargeIcon,{size:"custom",color:"currentColor",width:16,height:16,className:B.buttonIcon}):(0,a.jsx)(d.BellIcon,{size:"custom",color:"currentColor",width:16,height:16,className:B.buttonIcon}),w.Z.Messages.INDICATE_RSVP]})}function Y(e){var t;let{guildEvent:n,noticeType:i}=e,s=(0,y.cS)(n),l=null!=s?(0,b.m)(s,!0):null,c=(0,y.nE)(n),_=(0,u.KS)(c),{startTime:h,endTime:E}=(0,M.ZP)(n),{startDateTimeString:I,upcomingEvent:m,diffMinutes:g}=(0,j.ub)(h.toISOString(),null==E?void 0:E.toISOString()),p=m?g>0?w.Z.Messages.STARTING_IN_MINUTES.format({minutes:g}):w.Z.Messages.STARTING_SOON:w.Z.Messages.STARTING_ON_DATE.format({date:I});return r.useEffect(()=>{A.default.track(k.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:i,guild_id:n.guild_id})},[n,i]),(0,a.jsxs)("div",{className:B.channelNotice,children:[(0,a.jsxs)("div",{className:B.textBlock,children:[(0,a.jsx)(d.Clickable,{onClick:()=>(0,L.bO)({eventId:n.id}),className:B.eventNameClickable,children:(0,a.jsx)(d.Text,{color:"header-primary",variant:"text-md/semibold",className:B.eventName,children:n.name})}),(0,a.jsx)(d.Clickable,{onClick:()=>{A.default.track(k.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:i,guild_id:n.guild_id}),(0,O.L_)(n.id)},className:B.closeIcon,"aria-label":w.Z.Messages.CLOSE,children:(0,a.jsx)(d.CloseSmallIcon,{size:"xs",color:"currentColor"})})]}),(0,a.jsxs)("div",{className:o()(B.textBlock,B.singleLine),children:[(0,a.jsx)(d.CalendarIcon,{size:"custom",color:"currentColor",className:B.stageIcon,width:16,height:16}),(0,a.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:B.startTime,children:p})]}),(0,a.jsxs)("div",{className:o()(B.textBlock,B.singleLine),children:[null!=_?(0,a.jsx)(_,{size:"xs",color:"currentColor",className:B.stageIcon}):(0,a.jsx)(d.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),(0,a.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:B.channelName,children:null!==(t=null==c?void 0:c.name)&&void 0!==t?t:l})]}),(0,a.jsx)(F,{guildEvent:n,noticeType:i})]})}function W(e){let{guildEvent:t}=e,n=(0,y.cS)(t);return null==n?null:(0,a.jsx)(H,{onClickCloseIcon:()=>(0,O.ji)({eventId:null==t?void 0:t.id}),heading:w.Z.Messages.HAPPENING_NOW,topic:t.name,location:(0,b.m)(n,!0),locationIcon:(0,a.jsx)(d.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),children:(0,a.jsx)(z,{guildEvent:t})})}function z(e){let{guildEvent:t}=e,n=r.useCallback(()=>{(0,L.bO)({eventId:t.id})},[t]);return(0,a.jsx)(d.Button,{fullWidth:!0,className:B.joinButton,onClick:n,color:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:w.Z.Messages.SEE_DETAIL})}function K(e){let{channel:t,label:n}=e;return(0,a.jsx)(d.Button,{fullWidth:!0,className:B.joinButton,onClick:()=>{null!=t&&null!=t.getGuildId()&&((0,I.Cq)(t),(0,E.XU)(t.getGuildId(),t.id))},color:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:n})}function q(e){let{stageInstance:t,channel:n}=e,i=(0,c.Wu)([m.Z],()=>[...new Set(m.Z.getMutableParticipants(n.id,g.pV.SPEAKER).map(e=>e.user))],[n.id]),s=(0,c.e7)([m.Z],()=>m.Z.getParticipantCount(n.id,g.pV.AUDIENCE),[n.id]),r=w.Z.Messages.LISTENING_COUNT.format({count:"".concat(s)});return(0,a.jsx)(H,{onClickCloseIcon:()=>(0,O.ji)({stageId:null==t?void 0:t.id}),heading:w.Z.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:r,detailsIcon:(0,a.jsx)(d.HeadphonesIcon,{size:"custom",color:"currentColor",width:14,height:14,className:B.stageIcon}),locationIcon:(0,a.jsx)(d.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:B.stageIcon}),topic:t.topic,children:(0,a.jsx)(Q,{channel:n,speakers:i,voiceType:2})})}function Q(e){let{channel:t,speakers:n,voiceType:i}=e,s=t.getGuildId(),l=r.useMemo(()=>n.slice(0,3),[n]),u=(0,c.e7)([C.Z],()=>C.Z.can(k.Plq.CONNECT,t)),_=(0,S.Z)(t.id),h=w.Z.Messages.JOIN;switch(i){case 1:h=w.Z.Messages.JOIN;break;case 2:h=w.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON,(null==_?void 0:_.speaker)?h=w.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=_&&(h=w.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case 3:h=w.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,Z.vE)(i)}return null==s?null:(0,a.jsxs)(a.Fragment,{children:[l.length>0?(0,a.jsxs)("div",{className:o()(B.textBlock,B.singleLine),children:[(0,a.jsx)(N.Z,{guildId:s,users:l,showUserPopout:!0,size:N.u.SIZE_16}),(0,a.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:B.userNames,children:(0,p.ER)(s,l,null==t?void 0:t.id,n.length)})]}):null,u&&null==_&&(0,a.jsx)(K,{channel:t,label:h})]})}(s=i||(i={}))[s.VOICE=1]="VOICE",s[s.STAGE=2]="STAGE",s[s.STUDY_ROOM=3]="STUDY_ROOM",t.ZP=r.memo(function(e){let{guild:t}=e,{showRedesignedLiveChannelNotice:n}=(0,_.o)(!0),i=(0,P.y)(t.id),s=(0,D.k5)(t.id),r=(0,D.Vm)(t.id),l=(0,c.e7)([T.Z],()=>T.Z.getStageInstanceByChannel(null==i?void 0:i.id),[i]),{isStageNoticeHidden:o,isEventNoticeHidden:d}=(0,c.cj)([R.Z],()=>({isStageNoticeHidden:R.Z.isLiveChannelNoticeHidden({stageId:null==l?void 0:l.id}),isEventNoticeHidden:R.Z.isLiveChannelNoticeHidden({eventId:null==s?void 0:s.id})}),[l,s]),u=null,E=null!=l&&null!=i&&!o;if(n)return(0,a.jsx)(h.Z,{guild:t});null==s||d?E&&(u=(0,a.jsx)(q,{stageInstance:l,channel:i})):s.entity_type===G.WX.STAGE_INSTANCE&&E?u=(0,a.jsx)(q,{stageInstance:l,channel:i}):s.entity_type===G.WX.EXTERNAL?u=(0,a.jsx)(W,{guildEvent:s}):s.entity_type===G.WX.VOICE&&null!=i&&(u=(0,a.jsx)(V,{guildEvent:s,channel:i}));let I=t.hasFeature(k.oNc.COMMUNITY)||t.hasFeature(k.oNc.HUB);if(null==u&&null!=r&&!I){let{upcomingEvent:e,noticeType:t}=r;u=(0,a.jsx)(Y,{guildEvent:e,noticeType:t})}return u})},879064:function(e,t,n){n.d(t,{v:function(){return a}});var i=n(735250);n(470079);var s=n(481060);function a(e){(0,s.openModalLazy)(async()=>{let{default:t}=await n.e("8102").then(n.bind(n,674189));return n=>(0,i.jsx)(t,{...n,...e})},{modalKey:"Guild Settings Picker Modal"})}},547042:function(e,t,n){n.d(t,{V:function(){return N},_:function(){return s}});var i,s,a=n(735250),r=n(470079),l=n(442837),o=n(481060),c=n(40851),d=n(566620),u=n(403404),_=n(100527),h=n(906732),E=n(592125),I=n(810090),m=n(626135),g=n(981631),p=n(921944),T=n(689938),S=n(660979);(i=s||(s={})).BOOSTING="BOOSTING",i.NITRO="NITRO",i.BASH_OUT="BASH_OUT",i.GAME_NIGHT="GAME_NIGHT";let C="https://cdn.discordapp.com/attachments/860252504826445825/1029516100356018217/Activities_NUX_GL_1.mp4",f="https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png",N=e=>{let{channelId:t,markAsDismissed:n,tutorialType:i}=e,{analyticsLocation:s,analyticsType:N,ctaText:A,dismissText:Z,description:L,learnMore:v,title:O,videoPosterUrl:R,videoUrl:x,ctaOnClick:b}=function(e){switch(e){case"BOOSTING":return{analyticsLocation:_.Z.ACTIVITY_COACH_MARK_BOOSTING,analyticsType:"embedded_activity_discovery_tutorial",description:T.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION,learnMore:!0,title:T.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE,videoPosterUrl:f,videoUrl:C,ctaText:T.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:T.Z.Messages.DISMISS};case"NITRO":return{analyticsLocation:_.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"embedded_activity_nitro_discovery_tutorial",description:T.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION,learnMore:!0,title:T.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE,videoPosterUrl:f,videoUrl:C,ctaText:T.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:T.Z.Messages.DISMISS};case"BASH_OUT":return{analyticsLocation:_.Z.ACTIVITY_COACH_MARK_BASH_OUT,analyticsType:"embedded_activity_bash_out_tutorial",description:T.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_BASH_OUT_DESCRIPTION,learnMore:!1,title:T.Z.Messages.EMBEDDED_ACTIVITIES_AVAILABLE_NOW,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037963592227635230/bash_out.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037967755955146762/bash_out.mp4",ctaText:T.Z.Messages.PLAY,dismissText:T.Z.Messages.DISMISS};case"GAME_NIGHT":return{analyticsLocation:_.Z.ACTIVITIES_COACH_MARK_GAME_NIGHT,analyticsType:"embedded_activity_game_night_tutorial",description:T.Z.Messages.EMBEDDED_ACTIVITIES_GAME_NIGHT_BODY,learnMore:!1,title:T.Z.Messages.EMBEDDED_ACTIVITIES_GAME_NIGHT_HEADING,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1093287297950175272/game_night_desktop.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1093286971708813382/game_night_desktop.mp4",ctaText:T.Z.Messages.PLAY_NOW,dismissText:T.Z.Messages.MAYBE_LATER};default:return{analyticsLocation:_.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"",description:"",learnMore:!1,title:"",videoPosterUrl:"",videoUrl:"",ctaText:"",dismissText:""}}}(i),{analyticsLocations:P}=(0,h.ZP)(s);r.useEffect(()=>{m.default.track(g.rMx.TOOLTIP_VIEWED,{type:N})},[N]);let M=(0,c.bp)()===g.IlC.POPOUT,D=(0,l.e7)([E.Z],()=>E.Z.getChannel(t),[t]);return(0,a.jsx)(h.Gt,{value:P,children:(0,a.jsx)("div",{className:S.wrapper,children:(0,a.jsx)("div",{className:S.container,children:(0,a.jsxs)("div",{className:S.content,children:[(0,a.jsx)(I.Z,{className:S.video,src:x,poster:R,width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),(0,a.jsx)("div",{className:S.header,children:(0,a.jsx)(o.Heading,{className:S.__invalid_headerText,variant:"text-sm/bold",color:"always-white",children:O})}),(0,a.jsxs)(o.Text,{className:S.subheaderText,variant:"text-xs/normal",color:"always-white",children:[L,v?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(o.Anchor,{className:S.learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759",children:T.Z.Messages.LEARN_MORE})]}):null]}),(0,a.jsxs)("div",{className:S.ctaActionWrapper,children:[(0,a.jsx)(o.Button,{color:o.Button.Colors.BRAND,onClick:()=>{n(p.L.UNKNOWN)},children:Z}),(0,a.jsx)(o.Button,{color:o.Button.Colors.BRAND_INVERTED,onClick:null!=b?b:()=>{if(n(p.L.UNKNOWN),null!=D)(0,u.Z)({channel:D.isGuildVoice()?D:void 0,guildId:D.guild_id,locationObject:{page:g.ZY5.GUILD_CHANNEL,section:g.jXE.GUILD_CHANNEL_LIST,object:g.qAy.ACTIVITIES_COACH_MARK,objectType:g.Qqv.ACTIVITY},openInPopout:M,analyticsLocations:P,opensAppLauncherModal:!0}),(0,d.w1)({guildId:D.guild_id})},children:A})]})]})})})})}},577718:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(704215),r=n(780384),l=n(481060),o=n(906732),c=n(380009),d=n(282051),u=n(243778),_=n(26323),h=n(433280),E=n(34131),I=n(434404),m=n(567458),g=n(782959),p=n(276645),T=n(970731),S=n(626135),C=n(267642),f=n(981631),N=n(921944),A=n(30513),Z=n(474936),L=n(689938),v=n(517770),O=n(735233),R=n(741160),x=n(829972),b=n(31932),P=n(642301);function M(e){if(null!=e)I.Z.open(e.id,f.pNK.OVERVIEW,{section:f.jXE.PREMIUM_GUILD_PROGRESS_BAR},f.KsC.DISPLAY)}function D(e,t){t&&I.Z.open(e.id,f.pNK.DISCOVERY)}function y(e,t){if(null!=t)(0,C.f2)(t,f.Eu4.TIER_1)?I.Z.open(t.id,f.pNK.OVERVIEW,{section:f.jXE.PREMIUM_GUILD_INVITE_SPLASH},f.KsC.INVITE):(0,_.Z)({analyticsLocations:e,analyticsSourceLocation:f.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,A.o9)()})}function j(e){let{renderPopout:t,renderGuildHeaderDropdownButton:n}=e;return(0,i.jsx)(l.Popout,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:t}),position:"bottom",align:"center",animation:l.Popout.Animation.TRANSLATE,shouldShow:!0,children:()=>n()})}t.Z=s.memo(function(e){let{contentTypes:t,theme:n,guild:s,renderGuildHeaderDropdownButton:l}=e,{analyticsLocations:_}=(0,o.ZP)(),A=()=>{S.default.track(f.rMx.TOOLTIP_VIEWED,{type:Z.cd.PREMIUM_PROGRESS_BAR,location:{page:f.ZY5.GUILD_CHANNEL}})},U=()=>{S.default.track(f.rMx.PREMIUM_UPSELL_VIEWED,{type:Z.cd.INVITE_SPLASH_UPSELL,location:{page:f.ZY5.GUILD_CHANNEL},location_stack:_})},G=(0,r.wj)(n)?x:b,[k,w]=(0,u.U)(t,N.R.GUILD_HEADER_TOOLTIPS);return(0,i.jsx)(i.Fragment,{children:(()=>{switch(k){case a.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(p.Z,{guildId:s.id,markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(T.ZP,{onComponentMount:A,header:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,i.jsx)("img",{alt:"",src:G,className:O.fullWidthImage}),content:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:()=>M(),onClick:()=>M(s),markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(T.ZP,{onComponentMount:A,header:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:(0,i.jsx)("img",{alt:"",src:G,className:O.fullWidthImage}),content:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),buttonCTA:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:L.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:()=>M(),onClick:()=>M(s),markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(h.Z,{guildId:s.id,markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(d.Z,{onClick:()=>D(s,!0),onSecondaryClick:()=>D(s),markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(c.Z,{guild:s,markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_INVITE_SPLASH:let e=(0,C.f2)(s,f.Eu4.TIER_1)?L.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():L.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,C.KK)(s,f.Eu4.TIER_1)}),t=(0,C.f2)(s,f.Eu4.TIER_1)?L.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:L.Z.Messages.LEARN_MORE;return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(T.ZP,{onComponentMount:U,header:L.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,i.jsx)("img",{alt:"",src:R,className:O.fullWidthImage}),content:e,buttonCTA:t,secondaryButtonCTA:L.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:()=>y(_),onClick:()=>y(_,s),markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(m.Z,{markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(T.ZP,{className:v.tooltipOverrideColor,header:L.Z.Messages.ACTIVE_THREADS_UPSELL_HEADER,content:L.Z.Messages.ACTIVE_THREADS_UPSELL_CONTENT,buttonCTA:L.Z.Messages.GOT_IT,onClick:()=>w(N.L.UNKNOWN),markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.GUILD_HEADER_SOUNDBOARD_PERMISSION:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(T.ZP,{header:L.Z.Messages.SOUNDBOARD_TOOLTIP_TITLE_NEW,content:L.Z.Messages.SOUNDBOARD_TOOLTIP_BODY,buttonCTA:L.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:L.Z.Messages.NO_THANKS,asset:(0,i.jsx)("img",{alt:"",src:P,className:O.fullWidthImage}),onClick:()=>{I.Z.open(s.id,f.pNK.ROLES),I.Z.selectRole(s.getEveryoneRoleId(),L.Z.Messages.USE_SOUNDBOARD)},markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.MEDIA_CHANNEL_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(g.Z,{guildId:s.id,markAsDismissed:w}),renderGuildHeaderDropdownButton:l});case a.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(E.Z,{guildId:s.id,markAsDismissed:w}),renderGuildHeaderDropdownButton:l});default:return l()}})()})})},242601:function(e,t,n){n.d(t,{Z:function(){return eS}}),n(47120),n(653041);var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(338545),o=n(442837),c=n(704215),d=n(846519),u=n(481060),_=n(570140),h=n(239091),E=n(269128),I=n(711237),m=n(110924),g=n(100527),p=n(906732),T=n(211242),S=n(536687),C=n(745837),f=n(13228),N=n(1259),A=n(211644),Z=n(605236),L=n(243778),v=n(492162),O=n(818634),R=n(596557),x=n(817520),b=n(999309),P=n(408987),M=n(130734),D=n(499137),y=n(258871),j=n(972264),U=n(11352),G=n(304445),k=n(344185),w=n(557494),B=n(10401),H=n(970731),V=n(210887),F=n(592125),Y=n(796974),W=n(486472),z=n(984933),K=n(650774),q=n(430824),Q=n(819640),X=n(496675),J=n(878884),$=n(19780),ee=n(594174),et=n(74538),en=n(374023),ei=n(373274),es=n(547042),ea=n(315174),er=n(577718),el=n(156978),eo=n(591190),ec=n(981631),ed=n(652785),eu=n(921944),e_=n(647086),eh=n(689938),eE=n(517770);function eI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let em=64,eg="server-settings",ep={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}};class eT extends s.PureComponent{static getDerivedStateFromProps(e){let{guild:t,hasChannelNotice:n}=e;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){var e;this.setAnimatedValue(0),_.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices),this.historyUnlisten=G.Z.addRouteChangeListener(this.handleHistoryChange);let{location:t}=G.Z.getHistory();(null===(e=t.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}componentWillUnmount(){this.showTimeout.stop(),this.state.controller.dispose(),this.historyUnlisten(),_.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)}getGuildBannerHash(){let{guild:e,hasChannelNotice:t}=this.props;return null==e||t?null:e.banner}renderGuildHeaderNotices(e){let{showGuildTemplateDirtyTooltip:t,showGuildHeaderTutorial:n,anyLayerOpen:s}=this.props,{shouldShowSubscribeTooltip:a}=this.state;if(n)return(0,i.jsx)("div",{onClick:t=>e?null:t.stopPropagation(),children:(0,i.jsx)(w.Z,{tutorialId:eg,position:"bottom",inlineSpecs:ep,children:this.renderGuildHeaderDropdownButton(e)})});if(t)return(0,i.jsx)(u.Tooltip,{forceOpen:!0,color:u.TooltipColors.BRAND,position:"bottom",shouldShow:!e&&!s,text:eh.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":eh.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,children:()=>this.renderGuildHeaderDropdownButton(e)});if(!s&&!e)return a?(0,i.jsx)(u.Popout,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(H.ZP,{header:eh.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:eh.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:eh.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:this.handleCloseSubscribeTooltip})}),position:"bottom",align:"center",animation:u.Popout.Animation.TRANSLATE,shouldShow:!0,children:()=>this.renderGuildHeaderDropdownButton(e)}):this.renderGuildHeaderUpsellPopout(e);return this.renderGuildHeaderDropdownButton(e)}renderGuildHeader(e){let{guild:t,isHeaderPopoutOpen:n,showGuildHeaderTutorial:s,showGuildTemplateDirtyTooltip:a,isGuildHeaderDismissibleTooltipShown:r,headerAnalyticsLocations:l}=this.props,{controller:o,renderBanner:c,bannerVisible:d,bannerVisibleHeight:_,communityInfoVisible:h}=this.state,E=s||a||r;return null==t?null:(0,i.jsx)(p.Gt,{value:l,children:(0,i.jsx)(u.LazyPopout,{renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:u.Popout.Animation.SCALE,shouldShow:n,onRequestClose:()=>{(0,O.l)(!1)},children:s=>{let{onClick:a,...r}=s;return(0,i.jsx)(ea.ZP,{guild:t,controller:o,renderBanner:c,hasSubheader:e,bannerVisible:d,communityInfoVisible:h,guildBanner:this.getGuildBannerHash(),onClick:this.handleHeaderMenuToggle,onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:E,animationOverlayHeight:_,...r,children:this.renderGuildHeaderNotices(n)})}})})}setAnimatedValue(e){let{guild:t}=this.props,n=null!=this.getGuildBannerHash(),i=null==t?void 0:t.hasCommunityInfoSubheader();if(null!=t&&(!!n||!!i))n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e)}setAnimatedValueForBanner(e){let{renderBanner:t,communityInfoVisible:n,bannerVisible:i,bannerVisibleHeight:s,controller:a}=this.state;(e>=em&&i||e<em&&!i)&&(i=!i),(e>=88&&!t||e<88&&t)&&(t=!t),s=Math.max(88-e,0),n=i,(t!==this.state.renderBanner||i!==this.state.bannerVisible||s!==this.state.bannerVisibleHeight||n!==this.state.communityInfoVisible)&&this.setState({renderBanner:t,bannerVisible:i,bannerVisibleHeight:s,communityInfoVisible:n}),a.update({value:Math.min(1,Math.max(0,1-e/88)),immediate:!0}).start()}setAnimatedValueForGuildInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&(t=!t),t!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}renderChannelList(){let{isUnavailable:e,guild:t,selectedChannel:n,enableStudyGroup:s,...a}=this.props;if(e||null==t)return(0,i.jsx)(eo.Z,{withBannerPadding:null!=t&&null!=this.getGuildBannerHash()});if(t.hasFeature(ec.oNc.HUB)&&!s)return(0,i.jsx)("div",{className:eE.hubContainer,children:(0,i.jsx)(y.Z,{guild:t,channel:null!=n?n:z.ZP.getDefaultChannel(t.id)})});{let e=t.id===e_._?ei.j:ei.E;return(0,i.jsx)(e,{guild:t,...a,guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=t&&(null!=this.getGuildBannerHash()||t.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null})}}renderFooter(){let{selectedChannelId:e,shouldRenderClipsEducation:t}=this.props;return(0,i.jsx)(L.Z,{contentTypes:[],children:n=>{let{visibleContent:s,markAsDismissed:a}=n;switch(s){case c.z.BASH_OUT_COACH_MARK:return(0,i.jsx)(es.V,{channelId:null!=e?e:void 0,markAsDismissed:a,tutorialType:es._.BASH_OUT});case c.z.ACTIVITIES_COACH_MARK_GAME_NIGHT:return(0,i.jsx)(es.V,{channelId:null!=e?e:void 0,markAsDismissed:a,tutorialType:es._.GAME_NIGHT});default:if(t)return(0,i.jsx)(C.Z,{});return(0,i.jsx)(i.Fragment,{})}}})}render(){let{guild:e,footerAnalyticsLocations:t}=this.props;return(0,i.jsxs)("nav",{className:eE.container,onContextMenu:this.handleContextMenu,"aria-label":eh.Z.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=e?e.toString():""}),children:[null!=e&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=e&&(0,i.jsx)(el.Z,{guild:e,setHasSubheader:e=>this.setState({hasGuildSubheader:e})}),this.renderChannelList(),(0,i.jsx)(p.Gt,{value:t,children:this.renderFooter()})]})}constructor(...e){super(...e),eI(this,"historyUnlisten",()=>{}),eI(this,"showTimeout",new d.V7),eI(this,"state",{controller:new l.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:88,hasGuildSubheader:!1}),eI(this,"handleHistoryChange",e=>{null!=e.state&&e.state.shouldShowSubscribeTooltip&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}),eI(this,"handleHeaderMenuToggle",e=>{let{isHeaderPopoutOpen:t}=this.props;e.stopPropagation(),(0,O.l)(!t),this.closeAllHeaderNotices()}),eI(this,"handleContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,h.jW)(e,async()=>{let{default:e}=await n.e("92795").then(n.bind(n,652171));return n=>(0,i.jsx)(e,{...n,guild:t})})}),eI(this,"handleHeaderContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("44156"),n.e("71700"),n.e("85552"),n.e("58227"),n.e("10926"),n.e("33213"),n.e("41292")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}),eI(this,"closeAllHeaderNotices",()=>{this.handleCloseSubscribeTooltip(),this.handleCloseTemplateDirtyTooltip(),this.handleCloseStudentHubPrivacySettingsTooltip()}),eI(this,"handleCloseStudentHubPrivacySettingsTooltip",()=>{var e;let t=(0,Z.un)(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),n=null===(e=this.props.guild)||void 0===e?void 0:e.hasFeature(ec.oNc.HUB);!t&&n&&(0,Z.EW)(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:eu.L.AUTO})}),eI(this,"handleCloseSubscribeTooltip",()=>{this.showTimeout.stop(),this.state.shouldShowSubscribeTooltip&&this.setState({shouldShowSubscribeTooltip:!1})}),eI(this,"handleCloseTemplateDirtyTooltip",()=>{let{guild:e,showGuildTemplateDirtyTooltip:t}=this.props;null!=e&&t&&P.Z.hideGuildTemplateDirtyTooltip(e.id)}),eI(this,"renderMenuPopout",async()=>{let{default:e}=await n.e("46826").then(n.bind(n,859432));return t=>{let{closePopout:n}=t,{guild:s}=this.props;return null!=s&&(0,i.jsx)(e,{onClose:n,guild:s})}}),eI(this,"renderGuildHeaderUpsellPopout",e=>{let{showGuildBoostingProgressBarUpsell:t,showGuildBoostingProgressBarSizeUpsell:n,showRoleSubscriptionUpsell:s,showDiscoveryTooltip:a,showInviteSplashUpsell:r,showDiscoveryLandingPageSettingsUpsell:l,showHubPrivacySettingsTooltip:o,showActiveThreadsNotice:d,showGuildSoundboardPermissionUpsell:u,showMediaChannelUpsell:_,showTierTemplatesUpsell:h,shouldRenderCustomNotificationSoundsCoachmark:E,guild:I,theme:m}=this.props;if(null==I)return this.renderGuildHeaderDropdownButton(e);let g=[];return(o&&g.push(c.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),d&&g.push(c.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE),t&&g.push(c.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS),n&&g.push(c.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK),s&&g.push(c.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL),u&&g.push(c.z.GUILD_HEADER_SOUNDBOARD_PERMISSION),r&&g.push(c.z.GUILD_HEADER_INVITE_SPLASH),a&&g.push(c.z.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP),l&&g.push(c.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL),0===g.length)?this.renderGuildHeaderDropdownButton(e):(_&&g.push(c.z.MEDIA_CHANNEL_UPSELL),h&&g.push(c.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL),E&&g.push(c.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK),(0,i.jsx)(er.Z,{contentTypes:g,theme:m,guild:I,renderGuildHeaderDropdownButton:()=>this.renderGuildHeaderDropdownButton(e)}))}),eI(this,"renderGuildHeaderDropdownButton",e=>(0,i.jsx)(E.Z,{open:e,className:eE.dropdownButton})),eI(this,"pinBannerOrGuildInfo",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function eS(e){var t;let{guildId:n,hideSelectedChannel:a,selectedChannelId:l}=e,d=(0,o.e7)([q.Z],()=>q.Z.getGuild(n));(0,I.J_)(n);let _=(0,v.Z)(n),h=(0,o.e7)([Y.Z],()=>Y.Z.getGuildDimensions(n).scrollTo),E=(0,o.e7)([$.Z],()=>$.Z.getChannelId()),[C,L,P]=(0,o.Wu)([X.Z],()=>[X.Z.can(ec.Plq.MANAGE_GUILD,d),X.Z.can(ec.Plq.MANAGE_ROLES,d),X.Z.can(ec.Plq.MANAGE_THREADS,d)]),y=(0,o.e7)([W.Z],()=>W.Z.isUnavailable(n)),G=(0,o.e7)([ee.default],()=>ee.default.getCurrentUser()),w=(0,o.e7)([V.Z],()=>V.Z.darkSidebar?ec.BRd.DARK:V.Z.theme),{enableStudyGroup:H}=(0,D.s)(d),z=(0,A.ZP)(e=>e.currentlyShown.has(c.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)),[ei,es]=s.useState(!z),ea=(0,m.Z)(n),{analyticsLocations:er}=(0,p.ZP)(g.Z.GUILD_HEADER),{analyticsLocations:el}=(0,p.ZP)(g.Z.GUILD_CHANNEL_LIST_FOOTER);s.useEffect(()=>{n!==ea&&es(!z)},[n,ea,z]);let[eo,e_]=(0,A.ZP)(e=>[ed.XN.some(t=>e.currentlyShown.has(t.dismissibleContentType)),e.currentlyShownGroup.has(eu.R.GUILD_HEADER_TOOLTIPS)]),eh=(0,S.Z)(d),eE=(0,u.useModalsStore)(u.hasAnyModalOpenSelector),eI=(0,o.e7)([Q.Z],()=>Q.Z.hasLayers()),em=(0,o.e7)([B.Z],()=>B.Z.shouldShow(eg)),ep=C&&(null==d?void 0:d.premiumProgressBarEnabled)===!1&&!en.s.isDisallowPopupsSet(),eS=(0,o.e7)([K.Z],()=>K.Z.getMemberCount(n)),eC=C&&null!=eS&&eS>=30&&(null==d?void 0:d.premiumProgressBarEnabled)===!1&&!en.s.isDisallowPopupsSet(),ef=L&&null!=d&&(d.hasFeature(ec.oNc.COMMUNITY)||null!=eS&&eS>50),eN=(0,b.Z)(n),eA=(0,N._)(n),eZ=(null==d?void 0:d.hasFeature(ec.oNc.HUB))===!0,eL=C&&(null==d?void 0:d.hasFeature(ec.oNc.DISCOVERABLE))===!0,ev=(0,T.Q)(),eO=(C||(null==d?void 0:d.premiumTier)===ec.Eu4.NONE)&&!en.s.isDisallowPopupsSet()&&!ev,eR=(0,o.e7)([M.Z,Q.Z],()=>null!=d&&null!=G&&C&&!Q.Z.hasLayers()&&M.Z.shouldShowGuildTemplateDirtyTooltip(n)),ex=(0,o.e7)([F.Z],()=>F.Z.getChannel(l)),{isPopoutOpen:eb}=(0,O.y)(),eP=null!==(t=null==d?void 0:d.hasFeature(ec.oNc.COMMUNITY))&&void 0!==t&&t,eM=(0,o.e7)([k.Z],()=>!r().isEmpty(k.Z.getThreadsForGuild(n))),eD=et.ZP.isNewUser(G),ey=ei&&!eD,ej=(0,f.Z)(G);(0,R.Z)(d);let eU=(0,Z.wE)(c.z.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),eG=(0,j.Z)(n),ek=(0,x.Z)(n),ew=(0,o.e7)([$.Z],()=>$.Z.getChannelId()),eB=(0,o.e7)([J.Z],()=>J.Z.desyncedVoiceStatesCount),eH=U.Y.useExperiment({location:"GuildSidebar"},{autoTrackExposure:!0}).enabled;return(0,i.jsx)(eT,{guildId:n,hideSelectedChannel:a,guild:d,scrollToChannel:h,selectedChannelId:a?null:l,selectedChannel:ex,selectedVoiceChannelId:E,voiceStates:_,rtcConnectedChannelId:ew,rtcDesyncedVoiceStatesCount:eB,isUnavailable:y,theme:w,user:G,hasChannelNotice:null!=eh||eo,anyLayerOpen:eE||eI,showGuildBoostingProgressBarUpsell:ep,showGuildBoostingProgressBarSizeUpsell:eC,showInviteSplashUpsell:eO,showDiscoveryLandingPageSettingsUpsell:eL,showGuildHeaderTutorial:em,showGuildTemplateDirtyTooltip:eR,showRoleSubscriptionUpsell:eN,showDiscoveryTooltip:eA,showHubPrivacySettingsTooltip:eZ,showNewUnreadsBar:eP,showActiveThreadsNotice:P&&null!=eS&&eS>=200&&eM,showGuildSoundboardPermissionUpsell:ef,showMediaChannelUpsell:eG,showTierTemplatesUpsell:ek,isHeaderPopoutOpen:eb,enableStudyGroup:H,isGuildHeaderDismissibleTooltipShown:e_,canShowCoachMarkAtBottom:ei,headerAnalyticsLocations:er,footerAnalyticsLocations:el,shouldRenderClipsEducation:ej,isTutorialHighlightDismissed:eU,shouldRenderBurstCoachmark:ey,shouldRenderCustomNotificationSoundsCoachmark:eH})}},156978:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250),s=n(470079),a=n(122611),r=n(18993);function l(e){let{guild:t,setHasSubheader:n}=e,l=s.useRef(null);return s.useLayoutEffect(()=>{let e=l.current;null!=e&&n(e.childNodes.length>0)}),(0,i.jsx)("div",{className:r.container,ref:l,children:(0,i.jsx)(a.Z,{guild:t})})}},591190:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(166742);let l=()=>(0,i.jsx)("div",{className:r.spacer}),o=()=>(0,i.jsx)("div",{className:r.category}),c=e=>{let{width:t}=e;return(0,i.jsxs)("div",{className:r.channel,children:[(0,i.jsx)("div",{className:r.channelIcon}),(0,i.jsx)("div",{className:r.channelName,style:{width:"".concat(t,"px")}})]})};t.Z=e=>{let{withBannerPadding:t}=e;return(0,i.jsxs)("div",{className:a()(r.container,{[r.bannerPadding]:t}),children:[(0,i.jsx)(o,{}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:74}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:70}),(0,i.jsx)(c,{width:112}),(0,i.jsx)(c,{width:175}),(0,i.jsx)(l,{}),(0,i.jsx)(o,{}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:74}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:70}),(0,i.jsx)(c,{width:112}),(0,i.jsx)(c,{width:56})]})}},130734:function(e,t,n){var i,s,a,r,l=n(442837),o=n(433517),c=n(570140);let d="hasSeenGuildTemplatePromotionTooltip",u={},_=!0===o.K.get(d);function h(e){let{guildId:t}=e;u={...u,[t]:!1}}class E extends(r=l.ZP.Store){shouldShowGuildTemplateDirtyTooltip(e){var t;return null!==(t=u[e])&&void 0!==t&&t}shouldShowGuildTemplatePromotionTooltip(){return!_}}a="GuildTemplateTooltipStore",(s="displayName")in(i=E)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new E(c.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){let{guildTemplate:t}=e;u={...u,[t.source_guild_id]:t.is_dirty||!1}},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){o.K.set(d,!0),_=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){u={...u,[e.guildTemplate.source_guild_id]:!1}},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:h,GUILD_TEMPLATE_DELETE_SUCCESS:h})},315964:function(e,t,n){var i=n(570140),s=n(142497),a=n(190378);t.Z={init(){i.Z.subscribe("VOICE_CHANNEL_SELECT",e=>{let{channelId:t}=e;null==t&&s.Kw(a.v.VOICE_PANEL_INTRODUCTION)})}}},499137:function(e,t,n){n.d(t,{s:function(){return l}});var i=n(470079),s=n(818083),a=n(981631);let r=(0,s.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),l=e=>{var t;return i.useEffect(()=>{null!=e&&e.hasFeature(a.oNc.HUB)&&r.trackExposure({guildId:e.id,location:"467c32_1"})},[e]),r.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:a.lds,location:"467c32_2"},{autoTrackExposure:!1,disable:null==e||!e.hasFeature(a.oNc.HUB)})}},469988:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(689938),r=n(155010);t.Z=e=>{let{hasHub:t}=e;return(0,i.jsxs)("div",{className:r.container,children:[(0,i.jsx)("div",{className:r.iconContainer,children:(0,i.jsx)(s.HubIcon,{size:"md",color:s.tokens.colors.WHITE.css})}),(0,i.jsx)(s.Text,{color:"header-primary",variant:"text-lg/semibold",className:r.header,children:t?a.Z.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:a.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER}),(0,i.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",className:r.__invalid_description,children:t?a.Z.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:a.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_CARD_DESCRIPTION}),(0,i.jsx)("div",{className:r.gap}),(0,i.jsx)(s.Button,{size:s.Button.Sizes.LARGE,color:t?s.Button.Colors.PRIMARY:s.Button.Colors.GREEN,onClick:()=>(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})}),children:(0,i.jsx)(s.Text,{variant:"text-sm/semibold",className:r.addButton,color:"none",children:t?a.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:a.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL})})]})}},602597:function(e,t,n){var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(749210),l=n(210887),o=n(514611),c=n(469988),d=n(689938),u=n(381118);t.Z=e=>{let{guilds:t}=e,n=(0,s.e7)([l.Z],()=>l.Z.theme),_=t.map(e=>(0,i.jsx)(o.Z,{className:u.__invalid_guildCard,onView:()=>r.Z.transitionToGuildSync(e.id),guild:{...e,presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0},theme:n},e.id));return(0,i.jsx)("section",{className:u.guildListSection,children:t.length>0?(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Heading,{className:u.__invalid_title,variant:"heading-lg/semibold",children:d.Z.Messages.YOUR_HUB}),(0,i.jsxs)("div",{className:u.guildList,children:[_,(0,i.jsx)(c.Z,{hasHub:!0})]})]}):(0,i.jsx)("div",{className:u.guildList,children:(0,i.jsx)(c.Z,{hasHub:!1})})})}},677277:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(360048),r=n(731455),l=n(689938),o=n(283831);t.Z=e=>{let{handleCategorySelect:t,shouldDisplaySelectedCategory:n,currentCategoryId:c}=e;return(0,i.jsx)(a.Z,{avatar:(0,i.jsx)(s.HubIcon,{size:"md",color:"currentColor"}),name:l.Z.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:()=>{t(r.U)},wrapContent:!0,selected:n&&r.U===c,className:o.categoryItem,selectedClassName:o.selectedCategoryItem,innerClassName:o.itemInner},r.U)}},5955:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(252618),l=n(900849),o=n(526383),c=n(602597),d=n(731455),u=n(689938),_=n(767142),h=n(661278);t.Z=e=>{let{loadId:t}=e,n=(0,o.Z)();return s.useEffect(()=>{(0,l.Zt)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:d.U})},[t]),(0,r.Tt)({subsection:u.Z.Messages.HUB_SCHOOL_HUBS,location:u.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,i.jsx)(a.Scroller,{className:_.scroller,children:(0,i.jsxs)("div",{className:_.viewWrapper,children:[(0,i.jsxs)("div",{className:_.headerContainer,children:[(0,i.jsx)("img",{alt:"",className:_.headerImage,src:h}),(0,i.jsxs)("div",{className:_.headerContent,children:[(0,i.jsx)(a.Heading,{className:_.headerText,variant:"heading-xl/semibold",children:u.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,i.jsx)(a.Text,{className:_.headerDescription,variant:"text-md/normal",color:"none",children:u.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE})]})]}),(0,i.jsx)(c.Z,{guilds:n}),(0,i.jsx)("div",{className:_.divider}),(0,i.jsx)(a.Text,{className:_.footerDescription,variant:"text-md/medium",color:"header-secondary",children:u.Z.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION})]})})}},613609:function(e,t,n){n(47120),n(773603);var i=n(735250),s=n(470079),a=n(442837),r=n(447543),l=n(568154),o=n(703656),c=n(430824),d=n(701190),u=n(449934),_=n(650233),h=n(981631),E=n(898625),I=n(625994);t.Z=e=>{let{guildId:t,inviteCode:n}=e,[m,g]=s.useState(E.hO.INITIAL),[p,T]=s.useState(null!=n);s.useEffect(()=>{null!=n&&r.Z.resolveInvite(n,"Hub").finally(()=>T(!1))},[n]);let S=(0,a.e7)([d.Z],()=>null!=n?d.Z.getInvite(n):null),C=(0,a.e7)([c.Z],()=>c.Z.getGuild(t));s.useEffect(()=>{null!=C&&(0,o.uL)(h.Z5c.CHANNEL(t))},[C,t]);let f=s.useCallback(e=>{g(t=>Math.max(t,e))},[]),N=(0,u.gK)();return(0,i.jsx)("div",{className:I.page,children:(0,i.jsxs)(l.Z,{embedded:!0,splash:N,waveState:m,showLogo:!1,updateWaveState:f,children:[(0,i.jsx)("div",{className:I.dragRegion}),(0,i.jsx)("div",{className:I.contentWrapper,children:!p&&(0,i.jsx)(_.HubEmailConnectionModalView,{invite:S})})]})})}},704631:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(481060),a=n(82950),r=n(981631),l=n(921944),o=n(689938),c=n(524094);function d(e){let{guild:t,markAsDismissed:d}=e;return(0,i.jsx)(a.Z,{guild:t,onDismissed:()=>d(l.L.UNKNOWN),onClick:function(){(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})},message:o.Z.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:o.Z.Messages.LEARN_MORE,trackingSource:r.PsQ.HUB_LINK_NOTICE,type:r.vID.HUB_LINK,image:c})}},567458:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(481060),a=n(921944),r=n(689938),l=n(941653);function o(e){let{markAsDismissed:t}=e;return(0,i.jsxs)("div",{className:l.container,children:[(0,i.jsx)("div",{className:l.pointer}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",className:l.content,children:r.Z.Messages.HUB_PRIVACY_SETTINGS_TOOLTIP}),(0,i.jsx)(s.Button,{color:s.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(a.L.AUTO)},children:r.Z.Messages.GOT_IT})]})}},526383:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(442837),s=n(430824),a=n(981631);function r(){return(0,i.e7)([s.Z],()=>Object.entries(s.Z.getGuilds()).filter(e=>{let[t,n]=e;return n.hasFeature(a.oNc.HUB)}).map(e=>{let[t,n]=e;return n}))}},819792:function(e,t,n){var i=n(735250);n(470079);var s=n(338545),a=n(442837),r=n(536442),l=n(984933),o=n(496675),c=n(51382),d=n(91326),u=n(503856),_=n(981631);function h(e){let{channel:t,guild:n}=e,l=(0,a.e7)([r.qc],()=>r.qc.hasHotspot(r.v6.HUB_STUDY_ROOM_NOTICE)),o=(0,u.r)(t.guild_id),_=(0,s.useSpring)({maxHeight:o?0:300,overflow:"hidden",delay:400});return(0,i.jsx)(s.animated.div,{style:_,children:l?(0,i.jsx)(c.Z,{channel:t,guild:n}):(0,i.jsx)(d.Z,{name:"\uD83D\uDCDA ".concat(t.name),channel:t})})}t.Z=function(e){let{guild:t}=e,n=(0,a.e7)([l.ZP],()=>l.ZP.getChannels(t.id)[l.Zb][0]),s=(0,a.e7)([o.Z],()=>null!=n&&o.Z.can(_.Plq.CONNECT,n.channel));return t.hasFeature(_.oNc.HUB)&&null!=n&&s?(0,i.jsx)(h,{channel:n.channel,guild:t}):null}},51382:function(e,t,n){var i=n(735250);n(470079);var s=n(82950),a=n(536442),r=n(703656),l=n(922482),o=n(981631),c=n(689938),d=n(882977);t.Z=e=>{let{channel:t,guild:n}=e;return(0,i.jsx)(s.Z,{guild:n,onDismissed:()=>{(0,a.Kw)(a.v6.HUB_STUDY_ROOM_NOTICE)},onClick:()=>{(0,a.Kw)(a.v6.HUB_STUDY_ROOM_NOTICE),null!=t&&null!=t.getGuildId()&&((0,l.Cq)(t),(0,r.XU)(t.getGuildId(),t.id))},title:c.Z.Messages.HUB_STUDY_ROOM_NOTICE_TITLE,message:c.Z.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION,cta:c.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,image:d,type:o.vID.HUB_STUDY_ROOM})}},91326:function(e,t,n){var i=n(735250);n(470079);var s=n(442837),a=n(471445),r=n(862099),l=n(938475),o=n(689938),c=n(173509);t.Z=function(e){let{name:t,channel:n}=e,d=(0,s.Wu)([l.ZP],()=>l.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),u=(0,a.KS)(n);return(0,i.jsx)(r.gt,{heading:o.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,location:o.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=u?(0,i.jsx)(u,{size:"xs",color:"currentColor",className:c.icon}):null,children:(0,i.jsx)(r.Co,{channel:n,speakers:d,voiceType:r.bZ.STUDY_ROOM})})}},919285:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(82950),a=n(434404),r=n(929507),l=n(981631),o=n(689938),c=n(943935);function d(e){let{guild:t}=e,n=()=>r.Z.dismissNotice(t.id);return(0,i.jsx)(s.Z,{guild:t,onDismissed:n,cta:o.Z.Messages.CHECK_IT_OUT,message:o.Z.Messages.COMMANDS_SCOPE_MIGRATION_ADMIN_NOTICE.format(),type:l.vID.COMMANDS_MIGRATION,image:c,onClick:()=>{n(),a.Z.open(t.id,l.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}},975533:function(e,t,n){var i=n(570140),s=n(846027),a=n(13245),r=n(287734),l=n(872810),o=n(223245),c=n(317770),d=n(924557),u=n(39604),_=n(569545),h=n(722835),E=n(703656),I=n(641015),m=n(183584),g=n(199902),p=n(131951),T=n(246946),S=n(808506),C=n(237997),f=n(626135),N=n(554174),A=n(981631),Z=n(65154);let L={[A.kg4.TOGGLE_PRIORITY_SPEAKER]:{onTrigger(){},keyEvents:{}},[A.kg4.UNASSIGNED]:{onTrigger(){},keyEvents:{}},[A.kg4.PUSH_TO_TALK]:{onTrigger(e,t){p.Z.getMode(t.context)===A.pM4.PUSH_TO_TALK&&(L[A.kg4.PUSH_TO_TALK].isPressed=e,p.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!1),t.context))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[A.kg4.PUSH_TO_TALK_PRIORITY]:{onTrigger(e){p.Z.getMode()===A.pM4.PUSH_TO_TALK&&(L[A.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e,p.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!0),Z.Yn.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[A.kg4.PUSH_TO_MUTE]:{onTrigger(e){if(!(p.Z.getMode()!==A.pM4.VOICE_ACTIVITY||p.Z.isSelfDeaf()))L[A.kg4.PUSH_TO_MUTE].isPressed=e,s.Z.setTemporarySelfMute(e)},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[A.kg4.TOGGLE_MUTE]:{onTrigger:()=>s.Z.toggleSelfMute({usedKeybind:!0}),keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_DEAFEN]:{onTrigger(){s.Z.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_VOICE_MODE]:{onTrigger(){let e=p.Z.getMode()===A.pM4.PUSH_TO_TALK?A.pM4.VOICE_ACTIVITY:A.pM4.PUSH_TO_TALK;s.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_OVERLAY]:{onTrigger(){let e=S.Z.enabled;a.Z.setEnabled(!e,S.Z.legacyEnabled)},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_OVERLAY_INPUT_LOCK]:{onTrigger(e){let t=(0,N.Z)();if(null!=t)e?a.Z.setUILocked(!C.Z.isUILocked(t),t):a.Z.setInputLocked(!S.Z.isInputLocked(t),t)},keyEvents:{keyup:!0,keydown:!0}},[A.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]:{onTrigger(){let e=S.Z.getFocusedPID(),t=null!=e;null!=e&&t&&C.Z.isPinned(A.Odu.TEXT)&&S.Z.isReady(e)&&S.Z.isInputLocked(e)&&a.Z.activateRegion(A.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_GO_LIVE_STREAMING]:{onTrigger(){let e=g.Z.getCurrentUserActiveStream();if(null!=e)return(0,l.g)((0,_.V9)(e));(0,h.Z)()},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.TOGGLE_STREAMER_MODE]:{onTrigger(){o.Z.setEnabled(!T.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.NAVIGATE_BACK]:{onTrigger:()=>(0,E.op)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[A.kg4.NAVIGATE_FORWARD]:{onTrigger:()=>(0,E.eH)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[A.kg4.SOUNDBOARD]:{onTrigger:()=>{if(!(0,I.D)())return;let e=(0,N.Z)();null!=e&&(C.Z.isUILocked(e)?(0,m.IN)(!0,e):(0,m.oZ)(e))},keyEvents:{keyup:!0,keydown:!1}},[A.kg4.SOUNDBOARD_HOLD]:{onTrigger:e=>{if(!(0,I.D)())return;let t=(0,N.Z)();if(null!=t){e?(0,m.IN)(!1,t):(0,m.oZ)(t);return}},keyEvents:{keyup:!0,keydown:!0}},[A.kg4.SAVE_CLIP]:{onTrigger:()=>{(0,d.ln)()&&(f.default.track(A.rMx.CLIP_SAVE_KEYBIND_PRESSED),(0,u.C1)())},keyEvents:{keyup:!1,keydown:!0}},[A.kg4.SWITCH_TO_VOICE_CHANNEL]:{onTrigger(e,t){let{params:{channelId:n}}=t;null!=n&&r.default.selectVoiceChannel(n)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}},[A.kg4.DISCONNECT_FROM_VOICE_CHANNEL]:{onTrigger(){r.default.selectVoiceChannel(null)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}}};class v extends c.Z{_initialize(){i.Z.wait(()=>i.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:L}))}_terminate(){}}t.Z=new v},972264:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(442837),s=n(430824),a=n(496675),r=n(312146),l=n(981631);function o(e){let t=(0,i.e7)([s.Z],()=>s.Z.getGuild(e)),n=(0,r.Ui)(t),o=a.Z.can(l.Plq.MANAGE_CHANNELS,t);return n&&o}},782959:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var s=n(481060),a=n(367907),r=n(970731),l=n(810090),o=n(626135),c=n(63063),d=n(981631),u=n(689938),_=n(603517);function h(e){let{guildId:t,markAsDismissed:h}=e,E=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Text,{color:"always-white",variant:"text-sm/normal",className:_.upsellBody,children:u.Z.Messages.MEDIA_CHANNEL_UPSELL_BODY}),(0,i.jsx)(s.Text,{color:"always-white",variant:"text-sm/normal",children:u.Z.Messages.MEDIA_CHANNEL_LEARN_MORE.format({hcArticleUrl:c.Z.getCreatorSupportArticleURL(d.BhN.MEDIA_CHANNEL)})})]});return(0,i.jsx)(r.ZP,{header:u.Z.Messages.MEDIA_CHANNEL_UPSELL_TITLE,content:E,asset:(0,i.jsx)(l.Z,{className:_.video,src:"https://cdn.discordapp.com/assets/media_channel/media_channel_upsell_demo.mp4",autoPlay:!0,loop:!0}),buttonCTA:u.Z.Messages.MEDIA_CHANNEL_UPSELL_CREATE_NOW_CTA,onClick:()=>{o.default.track(d.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,{...(0,a.hH)(t)}),(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("45094"),n.e("33574")]).then(n.bind(n,218613));return n=>(0,i.jsx)(e,{...n,channelType:d.d4z.GUILD_MEDIA,guildId:t})})},secondaryButtonCTA:u.Z.Messages.DISMISS,markAsDismissed:h})}},584731:function(e,t,n){n(47120);var i=n(445346),s=n(570140),a=n(513418),r=n(710845),l=n(57132),o=n(592125),c=n(375954),d=n(625236);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _=-1/0,h=new r.Z("MessagePreviewStore");class E extends i.y{isLatest(e,t){var n;let i=this.guilds.get(null!=e?e:null);return null!==(n=null==i?void 0:i.isLatest(t,this.generation))&&void 0!==n&&n}isLocalFetchNeeded(e){var t,n;return null===(n=null===(t=this.guilds.get(e))||void 0===t?void 0:t.localNeeded)||void 0===n||n}message(e,t){var n,i;return null!==(i=null===(n=this.guilds.get(e))||void 0===n?void 0:n.messageRecord(t))&&void 0!==i?i:null}data(e){return!this.guilds.has(e)&&this.guilds.set(e,new d.B),this.guilds.get(e)}handleOneGuildCreate(e){var t,n;let i=this.data(e.id);i.putMany(null!==(t=e.lastMessages)&&void 0!==t?t:[],this.generation),i.putMany(null!==(n=e.threadMessages)&&void 0!==n?n:[],this.generation),null!=e.lastMessages&&(i.localNeeded=!1)}handleConnectionOpen(e){if(!(0,l.cn)())return!1;for(let t of(this.generation+=1,e.guilds))this.handleOneGuildCreate(t)}handleGuildCreate(e){if(!(0,l.cn)())return!1;this.handleOneGuildCreate(e.guild)}handleGuildDelete(e){if(!(0,l.cn)())return!1;this.guilds.delete(e.guild.id)}handleMessageCreate(e){var t;if(!(0,l.cn)()||e.optimistic||e.isPushNotification)return!1;this.data(null!==(t=e.guildId)&&void 0!==t?t:null).put(e.message.channel_id,e.message,this.generation)}handleMessageDelete(e){var t,n;if(!(0,l.cn)())return!1;let i=null!==(n=e.guildId)&&void 0!==n?n:null;if((null===(t=this.data(i))||void 0===t?void 0:t.messageId(e.channelId))===e.id){let t=c.Z.getMessages(e.channelId),n=t.hasMoreAfter?null:t.last();null!=n?this.data(i).put(e.channelId,n,this.generation):this.data(i).delete(e.channelId)}}handleMessageUpdate(e){var t;if(!(0,l.cn)())return;let n=null!==(t=e.guildId)&&void 0!==t?t:null,i=e.message.channel_id,s=e.message.id;if(null==i||null==s)return!1;let a=this.data(n);if((null==a?void 0:a.messageId(i))!==s)return!1;null==a||a.update(e.message)}handleThreadListSync(e){var t;if(!(0,l.cn)())return!1;this.data(e.guildId).putMany(null!==(t=e.mostRecentMessages)&&void 0!==t?t:[],this.generation)}handleLoadMessagesSuccess(e){if(!(0,l.cn)())return;let t=o.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,a.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,this.generation)}}handleLocalMessagesLoaded(e){if(!(0,l.cn)())return;let t=o.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,a.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,_)}}handleMessagePreviewsLoaded(e){if(!(0,l.cn)())return;h.verbose("adding remote previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let n of e.messages)!t.isLatest(n.channel_id,this.generation)&&t.put(n.channel_id,n,this.generation)}handleMessagePreviewsLocallyLoaded(e){if(!(0,l.cn)())return;h.verbose("adding local previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let[n,i]of e.messages)!t.has(n)&&t.put(n,i,_);t.localNeeded=!1}handleLogout(e){this.guilds.clear()}constructor(){super(s.Z,{CONNECTION_OPEN:e=>this.handleConnectionOpen(e),GUILD_CREATE:e=>this.handleGuildCreate(e),GUILD_DELETE:e=>this.handleGuildDelete(e),LOAD_MESSAGES_SUCCESS:e=>this.handleLoadMessagesSuccess(e),LOCAL_MESSAGES_LOADED:e=>this.handleLocalMessagesLoaded(e),LOGOUT:e=>this.handleLogout(e),MESSAGE_CREATE:e=>this.handleMessageCreate(e),MESSAGE_DELETE:e=>this.handleMessageDelete(e),MESSAGE_PREVIEWS_LOADED:e=>this.handleMessagePreviewsLoaded(e),MESSAGE_PREVIEWS_LOCALLY_LOADED:e=>this.handleMessagePreviewsLocallyLoaded(e),MESSAGE_UPDATE:e=>this.handleMessageUpdate(e),THREAD_LIST_SYNC:e=>this.handleThreadListSync(e)}),u(this,"guilds",new Map),u(this,"generation",0)}}new E},625236:function(e,t,n){n.d(t,{B:function(){return o}}),n(47120);var i=n(786761),s=n(23750),a=n(306680),r=n(709054);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{isLatest(e,t){return this.messageGeneration(e,t)===t}messageGeneration(e,t){let n=this.messages.get(e);return null==n?-1/0:n.generation!==t&&null!=n.message&&n.message.id===a.ZP.lastMessageId(e)?(this.messages.set(e,{...n,generation:t}),t):n.generation}messageId(e){var t,n;let i=this.messages.get(e);return null!==(n=null==i?void 0:null===(t=i.message)||void 0===t?void 0:t.id)&&void 0!==n?n:null}messageRecord(e){var t;let n=this.messages.get(e);return null!=n&&null!=n.message&&!(n.message instanceof s.ZP)&&(n.message=(0,i.e5)(n.message)),null!==(t=null==n?void 0:n.message)&&void 0!==t?t:null}has(e){return this.messages.has(e)}put(e,t,n){this.messages.set(e,{message:t,generation:n})}putNew(e,t,n){var i;let s=this.messages.get(e);null!=t&&function(e,t){return null==t||r.default.compare(e,t)>0}(t.id,null==s?void 0:null===(i=s.message)||void 0===i?void 0:i.id)&&this.put(e,t,n)}putMany(e,t){for(let n of e)this.put(n.channel_id,n,t)}update(e){var t;if(null==e.id||null==e.channel_id)return;let n=e.channel_id,a=this.messages.get(n);if((null==a?void 0:null===(t=a.message)||void 0===t?void 0:t.id)!==e.id)return;let r=a.message instanceof s.ZP?(0,i.wi)(a.message,e):(0,i.gx)(a.message,e);this.messages.set(n,{...a,message:r})}delete(e){this.messages.delete(e)}constructor(){l(this,"localNeeded",!0),l(this,"messages",new Map)}}},647090:function(e,t,n){n.d(t,{J:function(){return r}});var i=n(442837),s=n(375954),a=n(594174);let r=e=>(0,i.e7)([s.Z,a.default],()=>{if(null==e)return!1;let t=a.default.getCurrentUser();return null!=s.Z.getMessages(e).findNewest(e=>e.author.id===(null==t?void 0:t.id))})},26373:function(e,t,n){n.d(t,{K:function(){return c},V:function(){return d}});var i=n(470079),s=n(442837),a=n(355298),r=n(333984),l=n(899740),o=n(355350);function c(){let e=(0,l.q)(),t=i.useRef(e),n=(0,s.e7)([a.Z],()=>a.Z.isReady()),r=i.useRef(n);return i.useEffect(()=>{n&&!r.current&&(r.current=!0,t.current=e)},[n,e]),t.current<=1&&1===e}function d(){let e=(0,o.w)(),t=i.useRef(e),n=(0,s.e7)([r.Z],()=>r.Z.isReady()),a=i.useRef(n);return i.useEffect(()=>{n&&!a.current&&(a.current=!0,t.current=e)},[n,e]),t.current<=1&&1===e}},620924:function(e,t,n){n.d(t,{c:function(){return o}}),n(913527);var i=n(442837),s=n(91159),a=n(306680),r=n(709054),l=n(868807);function o(e){let t=(0,l.a)(e),n=function(e){let{lastMessageId:t,message:n,loaded:i}=e;return i&&null!=n?r.default.extractTimestamp(n.id):null!=t?r.default.extractTimestamp(t):null}({lastMessageId:(0,i.e7)([a.ZP],()=>a.ZP.lastMessageId(e.id)),...t});return null==n?"":(0,s.Ye)(n)}},332712:function(e,t,n){n.d(t,{_:function(){return a}});var i=n(442837),s=n(621853);function a(e){return(0,i.Wu)([s.Z],()=>{var t,n;return null!==(n=null===(t=s.Z.getMutualGuilds(e))||void 0===t?void 0:t.map(e=>e.guild))&&void 0!==n?n:[]})}},28476:function(e,t,n){n.d(t,{a:function(){return l}});var i=n(442837),s=n(355298),a=n(869404),r=n(333984);function l(){return(0,i.e7)([s.Z,r.Z],()=>(0,a.IO)([s.Z,r.Z]))}},727813:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(470079),s=n(442837),a=n(592125),r=n(594174),l=n(900255),o=n(333984);function c(){let e=(0,s.e7)([a.Z],()=>a.Z.getPrivateChannelsVersion()),t=(0,s.Wu)([a.Z,o.Z],()=>{let e=a.Z.getMutablePrivateChannels(),t=Array.from(o.Z.getSpamChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,l.x)(t)},[e]),n=(0,s.cj)([r.default],()=>{let e={};return t.forEach(t=>{let n=r.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},355350:function(e,t,n){n.d(t,{w:function(){return a}});var i=n(442837),s=n(333984);function a(){return(0,i.e7)([s.Z],()=>s.Z.getSpamChannelsCount())}},545724:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(748780),o=n(91192),c=n(481060),d=n(239091),u=n(687683),_=n(821233);t.Z=function(e){let{index:t,children:a,user:h,channel:E,onClick:I,isFocused:m,isActive:g,onOtherHover:p,className:T}=e,[S,C]=s.useState(!1),[f,N]=s.useState(!1),A=()=>{C(!0),m&&!g&&!f&&(null==p||p())},Z=()=>{C(!1)},L=(e,t)=>{if(null!=t)N(!0),(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{N(!1)}})};return(0,i.jsx)(o.mh,{id:E.id,children:e=>(0,i.jsx)(c.FocusRing,{offset:{left:-8,right:-8},children:(0,i.jsx)(l.Z.div,{className:r()(_.messageRequestItem,T,{[_.active]:g||f,[_.firstItem]:0===t}),onContextMenu:e=>L(e,h),onMouseEnter:A,onMouseLeave:Z,onClick:null!=I?I:void 0,style:{LIST_ROW_HEIGHT:u.WN,opacity:1},...e,children:a(S||g||f)})})})}},745052:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(91192),o=n(286379),c=n(442837),d=n(704215),u=n(481060),_=n(150063),h=n(45114),E=n(230711),I=n(112724),m=n(183126),g=n(607070),p=n(209613),T=n(325708),S=n(320149),C=n(252618),f=n(605236),N=n(243778),A=n(984370),Z=n(797614),L=n(359110),v=n(6025),O=n(897473),R=n(108427),x=n(970731),b=n(210887),P=n(433355),M=n(592125),D=n(819640),y=n(151827),j=n(626135),U=n(792125),G=n(879041),k=n(647090),w=n(385956),B=n(610697),H=n(26373),V=n(486622),F=n(922409),Y=n(899740),W=n(177033),z=n(355350),K=n(307947),q=n(96479),Q=n(480874),X=n(687683),J=n(981631),$=n(921944),ee=n(526761),et=n(689938),en=n(757833),ei=n(489919);function es(){let e=s.useRef(null),t=(0,Y.q)(),n=(0,W.Z)(),a=(0,H.K)(),c=(0,m.N)(),d=n.length>0?null==n?void 0:n[0].channel.id:null,_=(0,G.e)({location:"message-request-page-web"});s.useEffect(()=>{if(!!_&&null!=d)(0,h.ES)(d)},[d,_]);let E=s.useCallback(()=>{(0,u.showToast)((0,u.createToast)(et.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,u.ToastType.FAILURE))},[]),{rejectAll:I}=(0,V.m)({onError:E}),g=(0,p.Z)("message-requests-list"),{channelId:T}=(0,F._)(),S=s.useCallback(()=>{I(n.map(e=>e.channel.id))},[n,I]),C=s.useCallback(e=>{var t,s;let{row:l}=e,o=n[l],c=null===(s=n[l+1])||void 0===s?void 0:null===(t=s.channel)||void 0===t?void 0:t.id,d=o.channel.id;return(0,i.jsx)(q.Z,{index:l,className:r()({[en.selected]:null!=T&&T===d,[en.siblingSelected]:null!=T&&T===c}),channel:o.channel,user:o.user,hasSingleMessageRequest:a},d)},[a,n,T]),f=s.useCallback(()=>(0,i.jsxs)(y.Z,{className:en.sectionTitle,children:[t>0?et.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE_WITH_COUNT.format({count:t}):et.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE,c&&t>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{className:en.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,i.jsx)(u.Button,{onClick:S,look:u.ButtonLooks.LINK,color:u.ButtonColors.LINK,size:u.ButtonSizes.SMALL,className:en.clearAllButton,"aria-label":et.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:et.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"title"),[t,S,c]);return(n.length!==t&&Z.Z.increment({name:o.V.MESSAGE_REQUEST_COUNT_DRIFT}),0===n.length)?(0,i.jsx)(K.Z,{section:X.pS.REQUESTS}):(0,i.jsx)(l.bG,{navigator:g,children:(0,i.jsx)(l.SJ,{children:t=>{let{ref:s,role:a,...r}=t;return(0,i.jsx)(u.List,{className:en.list,innerRole:a,innerAriaLabel:et.Z.Messages.MESSAGE_REQUESTS,ref:t=>{var n;e.current=t,s.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:X.oi,rowHeight:X.WN,renderSection:f,renderRow:C,sections:[n.length],chunkSize:30,fade:!0,...r},"message-requests-list")}})})}function ea(e){let{pageWidth:t,onSidebarResize:n}=e,s=(0,c.e7)([P.ZP],()=>P.ZP.getSidebarState(P.uZ)),a=(0,c.e7)([M.Z],()=>M.Z.getChannel(null==s?void 0:s.channelId));if(null==s||s.type!==O.tI.VIEW_MESSAGE_REQUEST||null==a||!a.isPrivate())return null;let r=t-J.R7I;return(0,i.jsx)(T.Z,{sidebarType:T.y.MessageRequestSidebar,maxWidth:r,onWidthChange:n,children:(0,i.jsx)(S.Z,{channel:a,baseChannelId:P.uZ})})}let er=function(e){let{markAsDismissed:t}=e;return(0,i.jsx)(x.ZP,{header:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT_TEENS,buttonCTA:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:en.messageRequestCoachmark,onClick:()=>t($.L.UNKNOWN),markAsDismissed:t,caretPosition:x.DF.TOP_CENTER,headerClassName:en.__invalid_header})},el=e=>{let t=(0,B.Z)(),n=()=>D.Z.hasLayers()||(0,u.hasAnyModalOpen)(),a=(0,c.e7)([g.Z],()=>g.Z.useReducedMotion);return s.useEffect(()=>{(0,f.kk)(d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)},[]),(0,i.jsx)(N.Z,{contentTypes:[d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:s=>{let{visibleContent:r,markAsDismissed:l}=s;if(r===d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)return(0,i.jsx)(u.Popout,{renderPopout:()=>t?(0,i.jsx)(er,{markAsDismissed:l}):(0,i.jsx)(x.ZP,{header:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT,buttonCTA:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONFIRM,secondaryButtonCTA:et.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:en.messageRequestCoachmark,onClick:e=>{e.stopPropagation(),E.Z.open(J.oAB.PRIVACY_AND_SAFETY,null,{scrollPosition:ee.to.MESSAGE_REQUESTS})},markAsDismissed:l,caretPosition:x.DF.TOP_CENTER,headerClassName:en.__invalid_header}),position:"bottom",align:"center",animation:a?u.Popout.Animation.NONE:u.Popout.Animation.TRANSLATE,shouldShow:!n(),spacing:16,children:()=>e.children});return e.children}})};function eo(e){let{section:t}=e;return t===X.pS.SPAM?(0,i.jsx)(Q.Z,{}):(0,i.jsx)(es,{})}let ec=(0,I.Z)(function(e){let{width:t}=e,n=(0,Y.q)();s.useEffect(()=>{_.Y(J.Z5c.MESSAGE_REQUESTS),(0,R.e)("message-requests"),j.default.track(J.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n}),Z.Z.increment({name:o.V.MESSAGE_REQUEST_VIEW})},[]);let a=(0,c.e7)([b.Z],()=>b.Z.theme),l=(0,z.w)(),[d,h]=s.useState(!1),E=(0,c.e7)([P.ZP],()=>{let e=P.ZP.getSidebarState(P.uZ);return null!=e&&e.type===O.tI.VIEW_MESSAGE_REQUEST?e:null}),I=null==E?void 0:E.channelId,m=null!=E,g=(0,w.T)(I),p=(0,k.J)(I);s.useEffect(()=>{null!=I&&!g&&p&&m&&((0,L.Kh)(I),v.Z.closeChannelSidebar(P.uZ))},[I,p,m,g]);let[T,S]=s.useState(X.pS.REQUESTS);return(0,C.Tt)({location:et.Z.Messages.MESSAGE_REQUESTS}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:r()(ei.chat,en.container,{[ei.threadSidebarOpen]:m,[ei.threadSidebarFloating]:m&&d}),children:[(0,i.jsxs)(A.Z,{className:(0,U.Q)(a),toolbar:!0,children:[(0,i.jsx)(A.Z.Icon,{icon:u.EnvelopeIcon,"aria-hidden":!0}),(0,i.jsx)(el,{children:(0,i.jsx)(A.Z.Title,{children:et.Z.Messages.MESSAGE_REQUESTS})}),(0,i.jsx)(A.Z.Divider,{}),(0,i.jsxs)(u.TabBar,{"aria-label":et.Z.Messages.MESSAGE_REQUESTS,selectedItem:T,type:"top-pill",onItemSelect:e=>{S(e)},className:en.__invalid_tabBar,children:[(0,i.jsx)(u.TabBar.Item,{id:X.pS.REQUESTS,className:en.__invalid_item,children:et.Z.Messages.MESSAGE_REQUESTS_REQUESTS_TAB_TITLE}),(0,i.jsx)(u.TabBar.Item,{id:X.pS.SPAM,className:en.__invalid_item,children:0===l?et.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE:et.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE_WITH_COUNT.format({count:l})})]})]}),(0,i.jsx)("div",{className:ei.content,children:(0,i.jsx)(eo,{section:T})})]}),m&&(0,i.jsx)(ea,{pageWidth:t,onSidebarResize:(e,t)=>{h(t)}})]})});t.Z=ec},81471:function(e,t,n){var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(481060),c=n(905405),d=n(255269),u=n(937889),_=n(267128),h=n(695346),E=n(496675),I=n(699516),m=n(68588),g=n(868807),p=n(981631),T=n(217702),S=n(689938),C=n(958633),f=n(153521);let N=s.memo(function(e){let{channel:t}=e,{loaded:n,error:a,message:N}=(0,g.a)(t),A=(0,c.p)(),Z=(0,l.e7)([I.Z],()=>null!=N&&I.Z.isBlockedForMessage(N),[N]),L=(0,l.e7)([E.Z],()=>E.Z.can(p.Plq.MANAGE_MESSAGES,t)),v=h.cC.useSetting(),{content:O}=s.useMemo(()=>(null==N?void 0:N.content)!=null&&""!==N.content?(0,u.ZP)(N,{formatInline:!0,noStyleAndInteraction:!0,shouldFilterKeywords:A}):{content:null},[N,A]),R=null;if(a)R=(0,i.jsx)(o.Text,{className:C.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.MESSAGE_REQUESTS_ERROR_LOADING_PREVIEW});else if(n){if(null!=N&&Z)R=(0,i.jsx)(o.Text,{className:C.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.MESSAGE_REQUESTS_BLOCKED_MESSAGE});else if(null!=N){let{contentPlaceholder:e,renderedContent:t}=(0,_.f)(N,O,Z,r()(C.messageContent,f.inlineFormat),{leadingIconClass:C.messageContentIcon,trailingIconClass:C.messageContentIcon,iconSize:T.WW});R=null!=t?(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-muted",className:C.messageContent,children:t}):(0,i.jsx)(o.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:C.messageReplacement,children:e})}else R=(0,i.jsx)(o.Text,{className:C.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.MESSAGE_REQUESTS_DELETED_MESSAGE})}else R=null;return(0,i.jsx)(m.a.Provider,{value:(0,d.Z)(v,L),children:(0,i.jsx)(o.FocusBlock,{className:C.messageFocusBlock,children:R})})});t.Z=N},376191:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(129861),l=n(607070),o=n(388905),c=n(1585),d=n(125988),u=n(43267),_=n(522289),h=n(699516),E=n(546591),I=n(51144),m=n(998502),g=n(620924),p=n(332712),T=n(81471),S=n(689938),C=n(603174);let f=e=>{let{userId:t}=e,n=(0,p._)(t);return null==n||0===n.length?(0,i.jsx)(a.Text,{className:C.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.USER_PROFILE_NO_MUTUAL_SERVERS}):(0,i.jsxs)("div",{className:C.mutualGuildsContainer,children:[(0,i.jsx)(_.Z,{guilds:n,maxGuilds:3,size:o.Vj.Sizes.SMOL,hideOverflowCount:!0}),(0,i.jsx)(a.Text,{className:C.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:S.Z.Messages.USER_PROFILE_MUTUAL_GUILDS.format({count:n.length})})]})},N=m.ZP.getEnableHardwareAcceleration()?a.AnimatedAvatar:a.Avatar;function A(e){var t;let{channel:n,otherUser:o,active:_}=e,m=(0,s.e7)([l.Z],()=>l.Z.useReducedMotion),p=(0,s.e7)([h.Z],()=>null==o?null:h.Z.getNickname(o.id)),A=!m&&_,Z=(0,g.c)(n),{avatarDecorationSrc:L}=(0,d.Z)({user:o,size:(0,c.y9)(a.AvatarSizes.SIZE_40),onlyAnimateOnHover:!0});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{className:C.avatar,src:(0,u.x)(n,40,A),avatarDecoration:L,size:a.AvatarSizes.SIZE_40,"aria-label":null!==(t=null==o?void 0:o.username)&&void 0!==t?t:S.Z.Messages.UNKNOWN_USER}),(0,i.jsxs)("div",{className:C.userPreview,children:[(0,i.jsxs)("div",{className:C.userContainerWithPreview,children:[(0,i.jsx)(r.Z,{nick:p,user:o,showAccountIdentifier:!0,className:C.tagContainer,usernameClass:C.username,discriminatorClass:null!=I.ZP.getGlobalName(o)?C.globalName:C.discriminator}),(0,i.jsx)(a.Text,{className:C.timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:Z})]}),(0,i.jsx)(E.Z,{hoverText:(0,i.jsx)(T.Z,{channel:n}),forceHover:_,children:(0,i.jsx)(f,{userId:o.id})})]})]})}},307947:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(210887),l=n(687683),o=n(689938),c=n(391305),d=n(138715),u=n(979770);function _(e){let{section:t}=e,n=(0,s.e7)([r.Z],()=>r.Z.theme);return(0,i.jsxs)(a.EmptyState,{theme:n,className:c.emptyStateContainer,children:[(0,i.jsx)(a.EmptyStateImage,{width:415,height:200,lightSrc:u,darkSrc:d}),(0,i.jsx)(a.EmptyStateText,{note:t===l.pS.SPAM?o.Z.Messages.MESSAGE_REQUESTS_SPAM_EMPTY_STATE_BODY:o.Z.Messages.MESSAGE_REQUESTS_EMPTY_STATE_BODY})]})}},96479:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var s=n(6025),a=n(433355),r=n(626135),l=n(585483),o=n(922409),c=n(545724),d=n(749405),u=n(981631);function _(e){let{index:t,className:n,channel:_,user:h,hasSingleMessageRequest:E}=e,{channelId:I}=(0,o._)();return(0,i.jsx)(c.Z,{index:t,className:n,isFocused:I===_.id,channel:_,user:h,onClick:e=>{e.stopPropagation(),s.Z.openPrivateChannelAsSidebar({channelId:_.id,baseChannelId:a.uZ,hasSingleMessageRequest:E}),r.default.track(u.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!1,channel_id:_.id,other_user_id:h.id}),setTimeout(()=>{l.S.dispatch(u.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:_.id})},0)},children:e=>(0,i.jsx)(d.C,{active:e,user:h,channel:_})})}},749405:function(e,t,n){n.d(t,{C:function(){return E}});var i=n(735250),s=n(470079),a=n(481060),r=n(359110),l=n(6025),o=n(433355),c=n(26373),d=n(486622),u=n(376191),_=n(689938),h=n(762125);function E(e){let{active:t,user:n,channel:E}=e,I=(0,c.K)(),m=s.useCallback(()=>{(0,a.showToast)((0,a.createToast)(_.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,a.ToastType.FAILURE))},[]),g=s.useCallback(()=>{l.Z.closeChannelSidebar(o.uZ)},[]),p=s.useCallback(()=>{l.Z.closeChannelSidebar(o.uZ),I&&(0,r.Kh)(E.id)},[E.id,I]),{acceptMessageRequest:T,rejectMessageRequest:S,isAcceptLoading:C,isRejectLoading:f,isUserProfileLoading:N,isOptimisticAccepted:A,isOptimisticRejected:Z}=(0,d.m)({user:n,onAcceptSuccess:p,onRejectSuccess:g,onError:m}),L=C||f||N||A||Z;return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)(u.Z,{channel:E,otherUser:n,active:t}),(0,i.jsxs)("div",{className:h.actions,children:[(0,i.jsx)(a.Button,{className:h.button,color:a.ButtonColors.PRIMARY,size:a.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),S(E.id)},disabled:L,submitting:f||Z,children:_.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,i.jsx)(a.Button,{className:h.button,color:a.ButtonColors.BRAND,size:a.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),T(E.id)},disabled:L,submitting:C||N||A,children:_.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})]})}},125855:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var s=n(6025),a=n(433355),r=n(626135),l=n(585483),o=n(545724),c=n(426051),d=n(981631);function u(e){let{index:t,className:n,channel:u,user:_,hasSingleMessageRequest:h}=e;return(0,i.jsx)(o.Z,{index:t,className:n,isFocused:!1,channel:u,user:_,onClick:e=>{e.stopPropagation(),s.Z.openPrivateChannelAsSidebar({channelId:u.id,baseChannelId:a.uZ,hasSingleMessageRequest:h}),r.default.track(d.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!0,channel_id:u.id,other_user_id:_.id}),setTimeout(()=>{l.S.dispatch(d.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:u.id})},0)},children:e=>(0,i.jsx)(c.Z,{active:e,user:_,channel:u})})}},480874:function(e,t,n){n.d(t,{Z:function(){return L}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(91192),o=n(286379),c=n(481060),d=n(183126),u=n(209613),_=n(797614),h=n(151827),E=n(626135),I=n(26373),m=n(486622),g=n(922409),p=n(727813),T=n(355350),S=n(307947),C=n(125855),f=n(687683),N=n(981631),A=n(689938),Z=n(553437);function L(){let e=s.useRef(null),t=(0,p.Z)(),n=(0,T.w)(),a=(0,I.V)(),L=(0,d.N)(),v=(0,u.Z)("message-requests-spam-list"),{channelId:O}=(0,g._)(),R=s.useCallback(()=>{(0,c.showToast)((0,c.createToast)(A.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,c.ToastType.FAILURE))},[]),{rejectAll:x}=(0,m.m)({onError:R}),b=s.useCallback(()=>{x(t.map(e=>e.channel.id))},[t,x]);s.useEffect(()=>{E.default.track(N.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n}),_.Z.increment({name:o.V.SPAM_MESSAGE_REQUEST_VIEW})},[]);let P=s.useCallback(e=>{var n,s;let{row:l}=e,o=t[l],c=null===(s=t[l+1])||void 0===s?void 0:null===(n=s.channel)||void 0===n?void 0:n.id,d=o.channel.id;return(0,i.jsx)(C.Z,{index:l,className:r()({[Z.selected]:null!=O&&O===d,[Z.siblingSelected]:null!=O&&O===c}),channel:o.channel,user:o.user,hasSingleMessageRequest:a},d)},[t,a,O]),M=s.useCallback(()=>(0,i.jsxs)(h.Z,{className:Z.sectionTitle,children:[A.Z.Messages.MESSAGE_REQUESTS_SPAM_HEADER.format({count:n}),L&&n>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:Z.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,i.jsx)(c.Button,{onClick:b,look:c.ButtonLooks.LINK,color:c.ButtonColors.LINK,size:c.ButtonSizes.SMALL,className:Z.clearAllButton,"aria-label":A.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:A.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"message-requests-spam-title"),[n,b,L]);return 0===t.length?(0,i.jsx)(S.Z,{section:f.pS.SPAM}):(0,i.jsx)(l.bG,{navigator:v,children:(0,i.jsx)(l.SJ,{children:n=>{let{ref:s,role:a,...r}=n;return(0,i.jsx)(c.List,{className:Z.list,innerRole:a,innerAriaLabel:A.Z.Messages.MESSAGE_REQUESTS,ref:t=>{var n;e.current=t,s.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:f.oi,rowHeight:f.WN,renderSection:M,renderRow:P,sections:[t.length],chunkSize:30,fade:!0,...r},"message-requests-spam-list")}})})}},426051:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250),s=n(470079),a=n(286379),r=n(481060),l=n(797614),o=n(359110),c=n(6025),d=n(433355),u=n(26373),_=n(486622),h=n(376191),E=n(86203),I=n(689938),m=n(679638);function g(e){let{active:t,user:n,channel:g}=e,p=(0,u.V)(),T=s.useCallback(()=>{(0,r.showToast)((0,r.createToast)(I.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,r.ToastType.FAILURE)),l.Z.increment({name:a.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})},[]),S=s.useCallback(()=>{c.Z.closeChannelSidebar(d.uZ)},[]),C=s.useCallback(()=>{c.Z.closeChannelSidebar(d.uZ),p&&(0,o.Kh)(g.id)},[g.id,p]),{acceptMessageRequest:f,isAcceptLoading:N,isUserProfileLoading:A,isOptimisticAccepted:Z}=(0,_.m)({user:n,onAcceptSuccess:C,onRejectSuccess:S,onError:T}),L=N||A,v=L||Z;return(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsx)(h.Z,{otherUser:n,channel:g,active:t}),(0,i.jsxs)("div",{className:m.actions,children:[(0,i.jsx)(r.Button,{className:m.button,color:r.ButtonColors.PRIMARY,size:r.Button.Sizes.SMALL,onClick:e=>{f(g.id),e.stopPropagation()},disabled:v,submitting:L,children:I.Z.Messages.MESSAGE_REQUESTS_SPAM_ACCEPT}),(0,i.jsx)(E.Z,{className:m.button,channel:g,buttonSize:r.Button.Sizes.SMALL})]})]})}},285865:function(e,t,n){var i=n(570140);t.Z={closeSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}}},659971:function(e,t,n){var i,s,a,r,l=n(873546),o=n(442837),c=n(570140);let d=!1;class u extends(r=o.ZP.Store){getIsOpen(){return!l.tq||d}}a="MobileWebSidebarStore",(s="displayName")in(i=u)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new u(c.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){d=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){d=!1}})},331541:function(e,t,n){n.d(t,{Z:function(){return ei}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(722770),o=n(873546),c=n(442837),d=n(481060),u=n(2052),_=n(393238),h=n(727637),E=n(100527),I=n(906732),m=n(676035),g=n(521868),p=n(299206),T=n(440051),S=n(734934),C=n(158238),f=n(300284),N=n(680295),A=n(751009),Z=n(785717),L=n(318661),v=n(78675),O=n(741308),R=n(899007),x=n(549546),b=n(438163),P=n(681837),M=n(502762),D=n(530),y=n(544989),j=n(969205),U=n(171368),G=n(580512),k=n(67152),w=n(695346),B=n(158776),H=n(246946),V=n(70956),F=n(5192),Y=n(51144),W=n(246133),z=n(474376),K=n(383832),q=n(981631),Q=n(228168),X=n(689938),J=n(483978),$=n(335182);let ee=[{duration:30*V.Z.Millis.MINUTE,label:()=>X.Z.Messages.MUTE_DURATION_30_MINUTES},{duration:V.Z.Millis.HOUR,label:()=>X.Z.Messages.MUTE_DURATION_1_HOUR},{duration:3*V.Z.Millis.HOUR,label:()=>X.Z.Messages.MUTE_DURATION_3_HOURS},{duration:8*V.Z.Millis.HOUR,label:()=>X.Z.Messages.MUTE_DURATION_8_HOURS},{duration:V.Z.Millis.DAY,label:()=>X.Z.Messages.MUTE_DURATION_24_HOURS},{duration:void 0,label:()=>X.Z.Messages.DURATION_FOREVER}];function et(e,t,n,s){let a=(0,i.jsx)(i.Fragment,{children:ee.map(s=>{let{duration:a,label:r}=s;return(0,i.jsx)(d.MenuItem,{id:"".concat(e,"-").concat(a),label:r(),action:()=>(0,W.Z)(e,t,n,a),dontCloseOnAction:!0},a)})});return(0,i.jsx)(d.MenuItem,{id:e,className:J.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:t=>{let{isFocused:n}=t;return(0,i.jsxs)("div",{className:J.statusItem,children:[(0,i.jsx)(d.Status,{status:e,className:J.icon,size:10,color:n?"currentColor":void 0}),(0,i.jsx)("div",{className:J.status,children:(0,Y.u5)(e)}),null!=s&&(0,i.jsx)("div",{className:J.description,children:s})]})},action:()=>(0,W.Z)(e,t,n),dontCloseOnAction:!0,children:e!==q.Skl.ONLINE?a:void 0})}function en(e,t,n,s){return(0,i.jsx)(d.MenuItem,{id:e,keepItemStyles:!0,render:t=>{let{isFocused:n}=t;return(0,i.jsxs)("div",{className:J.statusItem,children:[(0,i.jsx)(d.Status,{status:e,className:J.icon,size:10,color:n?"currentColor":void 0}),(0,i.jsx)("div",{className:J.status,children:(0,Y.u5)(e)}),null!=s&&(0,i.jsx)("div",{className:J.description,children:s})]})},action:()=>(0,W.Z)(e,t,n),dontCloseOnAction:!0})}function ei(e){let{currentUser:t,onClose:n,setPopoutRef:a}=e,V=__OVERLAY__,W=(0,L.ZP)(t.id),ei=(0,u.O)(),{analyticsLocations:es}=(0,I.ZP)(E.Z.ACCOUNT_PROFILE_POPOUT),ea=(0,Z.Q1)({layout:"SIMPLIFIED_ACCOUNT_POPOUT",userId:t.id}),er=(0,m.a)(),el=(0,c.e7)([B.Z],()=>B.Z.getStatus(t.id)),eo=function(e,t){let n=T.Y.useExperiment({location:"account popout"}).expiringStatus,s=w.Cr.useSetting(),a=(0,S.p)(),r=C.e.useExperiment({location:"account popout"}).allowQuietMode||a,o=w.fv.useSetting(),c=e===q.Skl.DND,u=t=>{let n=null!=s&&"0"!==s?X.Z.Messages.STATUS_UNTIL.format({endTime:new Date(Number(s)).toLocaleString(X.Z.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):void 0;if(e===t&&null!=n)return n;switch(t){case q.Skl.DND:return r?X.Z.Messages.STATUS_DND_HELP_FOCUS_MODE:X.Z.Messages.STATUS_DND_HELP;case q.Skl.INVISIBLE:return X.Z.Messages.STATUS_INVISIBLE_HELPER;default:return}},_=(0,i.jsx)(i.Fragment,{children:ee.map(t=>{let{duration:n,label:s}=t;return(0,i.jsx)(d.MenuItem,{id:"".concat(e,"-").concat(n),label:s(),action:()=>{(0,S.oW)(!0,n)},dontCloseOnAction:!0},n)})});return(0,i.jsxs)(i.Fragment,{children:[en(q.Skl.ONLINE,e,t),(0,i.jsx)(d.MenuSeparator,{},"menu-separator-statuses"),n?et(q.Skl.IDLE,e,t,u(q.Skl.IDLE)):en(q.Skl.IDLE,e,t,u(q.Skl.IDLE)),n?et(q.Skl.DND,e,t,u(q.Skl.DND)):en(q.Skl.DND,e,t,u(q.Skl.DND)),n?et(q.Skl.INVISIBLE,e,t,u(q.Skl.INVISIBLE)):en(q.Skl.INVISIBLE,e,t,u(q.Skl.INVISIBLE)),(0,i.jsx)(d.MenuSeparator,{},"menu-separator-statuses"),r||a?(0,i.jsx)(d.MenuItem,{id:"quiet-mode","aria-label":"focus mode",className:J.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,showIconFirst:!0,label:()=>(0,i.jsxs)("div",{className:J.statusItem,children:[(0,i.jsx)(d.BellSlashIcon,{size:"xxs",className:J.icon}),(0,i.jsxs)("div",{className:J.focusModeTitle,children:[X.Z.Messages.FOCUS_MODE_TITLE,(0,i.jsx)(d.TextBadge,{text:a?X.Z.Messages.FOCUS_MODE_BADGE_ON:c?X.Z.Messages.FOCUS_MODE_BADGE_ON_VIA_DND:X.Z.Messages.FOCUS_MODE_BADGE_OFF,color:a?l.Z.BRAND_500:c?l.Z.RED_400:l.Z.PRIMARY_500})]}),(0,i.jsx)("div",{className:J.description,children:a&&null!=o&&"0"!==o?X.Z.Messages.STATUS_UNTIL.format({endTime:new Date(Number(o)).toLocaleString(X.Z.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):X.Z.Messages.FOCUS_MODE_DESCRIPTION})]}),action:()=>{(0,S.oW)(!a)},dontCloseOnAction:!0,children:_},"quiet-mode"):null]})}(el,ei),{ref:ec}=(0,_.Z)(),ed=(0,h.Z)(ec);s.useEffect(()=>{null==a||a(ec.current)},[ec,a]);let eu=e=>{null==n||n(),(0,U.openUserProfileModal)({sourceAnalyticsLocations:es,userId:t.id,...e})},{accountPopoutStatusEditEnabled:e_}=(0,A.K)({location:"AccountProfilePopout"}),eh=(0,f.Z)({analyticsLocations:es}),eE=(0,S.p)(),eI=el===q.Skl.DND,em=(0,z.g)(),eg=(0,g.o)({focusedClassName:J.menuItemFocused,customStatus:er,analyticsLocations:es,trackUserProfileAction:ea}),ep=(0,p.Z)({id:t.id,label:X.Z.Messages.COPY_ID_USER,showIconFirst:!0,focusedClassName:J.menuItemFocused}),eT=(0,c.e7)([H.Z],()=>H.Z.hidePersonalInformation);return(0,i.jsx)(I.Gt,{value:es,children:(0,i.jsx)(Z.Mt,{layout:"SIMPLIFIED_ACCOUNT_POPOUT",userId:t.id,children:(0,i.jsx)(d.Dialog,{ref:ec,"aria-label":t.username,children:(0,i.jsxs)(M.Z,{className:J.themeContainer,user:t,displayProfile:W,profileType:Q.y0.BITE_SIZE,children:[!e_&&(0,i.jsx)(y.Z,{profileType:Q.y0.BITE_SIZE,children:(0,i.jsx)(j.Z,{userId:t.id,onClose:n})}),(0,i.jsxs)("header",{className:$.header,children:[(0,i.jsx)(v.Z,{user:t,displayProfile:W,profileType:Q.y0.BITE_SIZE,hasProfileEffect:(null==W?void 0:W.profileEffectId)!=null}),(0,i.jsx)(R.Z,{user:t,displayProfile:W,profileType:Q.y0.BITE_SIZE,onOpenProfile:V?void 0:eu}),(0,i.jsx)(b.Z,{user:t,profileType:Q.y0.BITE_SIZE,editEnabled:e_,onClose:n})]}),(0,i.jsxs)("div",{className:J.body,children:[(0,i.jsx)(D.Z,{user:t,className:J.username,profileType:Q.y0.BITE_SIZE,nickname:F.ZP.getName(null,null,t),onOpenProfile:eu,pronouns:null==W?void 0:W.pronouns,tags:(0,i.jsx)(O.Z,{displayProfile:W,profileType:Q.y0.BITE_SIZE,onClose:n}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.Z,{userId:t.id}),(0,i.jsx)(x.Z,{user:t,isHovering:ed})]})}),(0,i.jsx)(k.Z,{user:t,bio:null==W?void 0:W.bio,hidePersonalInformation:eT,onClose:n}),(0,i.jsx)(G.Z,{user:t,onClose:n}),(0,i.jsxs)("div",{className:J.menus,children:[(0,i.jsx)(M.Z.Overlay,{className:J.menuOverlay,children:(0,i.jsxs)(d.Menu,{navId:"status","aria-label":X.Z.Messages.STATUS_MENU_LABEL,hideScroller:!0,className:J.menu,onClose:n,onSelect:void 0,children:[e_&&(0,i.jsx)(d.MenuGroup,{children:(0,i.jsx)(d.MenuItem,{id:"edit-profile",icon:d.PencilIcon,label:X.Z.Messages.EDIT_PROFILE,action:()=>{ea({action:"EDIT_PROFILE",analyticsLocations:es}),eh()},showIconFirst:!0,focusedClassName:J.menuItemFocused,subMenuIconClassName:J.subMenuIcon},"edit-profile")}),(0,i.jsx)(d.MenuGroup,{children:(0,i.jsx)(d.MenuItem,{id:"status-picker",label:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Y.u5)(el),eE||eI?(0,i.jsx)(d.BellSlashIcon,{size:"xxs"}):null]}),focusedClassName:J.menuItemFocused,subMenuIconClassName:J.subMenuIcon,action:o.tq?function(){ea({action:"PRESS_SET_STATUS",analyticsLocations:es}),(0,d.openModalLazy)(()=>new Promise(e=>{e(e=>(0,i.jsx)(d.ModalRoot,{...e,size:d.ModalSize.SMALL,className:J.modal,"aria-label":X.Z.Messages.SET_STATUS,children:(0,i.jsx)(d.Menu,{navId:"status-mobile-web",variant:"fixed","aria-label":X.Z.Messages.STATUS_MENU_LABEL,hideScroller:!0,className:J.statusPickerModalMenu,onClose:e.onClose,onSelect:e.onClose,children:eo})}))}))}:void 0,showIconFirst:!0,icon:e=>{let{className:t,isFocused:n}=e;return(0,i.jsx)(d.Status,{status:el,size:12,className:r()(t,J.mainStatusIcon),color:n?"currentColor":void 0})},children:o.tq?void 0:eo},"status-picker")}),!e_&&(0,i.jsx)(d.MenuGroup,{children:eg})]})}),(0,i.jsx)(M.Z.Overlay,{className:J.menuOverlay,children:(0,i.jsxs)(d.Menu,{navId:"account","aria-label":X.Z.Messages.MULTI_ACCOUNT_MENU_LABEL,hideScroller:!0,className:J.menu,onClose:n,onSelect:void 0,children:[(0,i.jsx)(d.MenuGroup,{children:(0,i.jsx)(d.MenuItem,{id:"switch-account",focusedClassName:J.menuItemFocused,subMenuIconClassName:J.subMenuIcon,label:X.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:d.UserCircleIcon,showIconFirst:!0,action:()=>{ea({action:"PRESS_SWITCH_ACCOUNTS",analyticsLocations:es}),(0,K.Z)()},children:em})}),(0,i.jsx)(d.MenuGroup,{children:ep})]})})]})]}),(null==W?void 0:W.profileEffectId)!=null&&(0,i.jsx)(N.Z,{profileEffectId:null==W?void 0:W.profileEffectId,isHovering:ed})]})})})})}},383832:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(71509);function l(){(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("52030"),n.e("11260"),n.e("61650")]).then(n.bind(n,266653));return t=>(0,i.jsx)(e,{...t})},{onCloseCallback:()=>{a.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"}),a.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:r.Ui})}},474376:function(e,t,n){n.d(t,{g:function(){return T}}),n(653041);var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(44315),l=n(598077),o=n(246946),c=n(594174),d=n(626135),u=n(51144),_=n(480387),h=n(726745),E=n(251423),I=n(383832),m=n(981631),g=n(689938),p=n(552957);function T(){let e=(0,s.e7)([c.default],()=>c.default.getCurrentUser()),t=(0,s.e7)([o.Z],()=>o.Z.hidePersonalInformation),{multiAccountUsers:n}=(0,E.L)(),T=t=>{if(t!==(null==e?void 0:e.id))d.default.track(m.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:m.jXE.PROFILE_POPOUT}}),_.yD(t)},S=n.map(n=>{let s=new l.Z(n),o=s.id===(null==e?void 0:e.id),c=n.tokenStatus===h.q.INVALID,d=t?null:"#".concat(s.discriminator);return(0,i.jsx)(a.MenuItem,{id:s.id,focusedClassName:p.focused,label:e=>{let{isFocused:l}=e;return(0,i.jsxs)("div",{className:p.userMenuItem,children:[(0,i.jsx)(a.Avatar,{src:s.getAvatarURL(void 0,40),size:a.AvatarSizes.SIZE_24,"aria-label":n.username}),(0,i.jsxs)("div",{className:p.userMenuUsername,children:[(0,i.jsx)(a.Text,{className:p.userMenuText,variant:"text-sm/normal",children:u.ZP.getUserTag(s,{mode:"username",identifiable:t?"never":"always"})}),!s.isPomelo()&&(0,i.jsx)(a.Text,{className:p.userMenuDiscriminator,variant:"text-sm/normal",children:d})]}),o&&(0,i.jsx)(a.CircleCheckIcon,{size:"sm",color:(0,r.Lq)(l?m.Ilk.WHITE_500:m.Ilk.BRAND_500),secondaryColor:(0,r.Lq)(l?m.Ilk.BRAND_500:m.Ilk.WHITE_500),className:p.activeIcon}),c&&(0,i.jsx)(a.CircleExclamationPointIcon,{color:(0,r.Lq)(m.Ilk.RED_400),secondaryColor:(0,r.Lq)(m.Ilk.WHITE_500),size:"xs",className:p.activeIcon})]})},action:()=>{c?(0,I.Z)():T(s.id)}},s.id)});return S.push((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.MenuSeparator,{}),(0,i.jsx)(a.MenuItem,{id:"manage-accounts",label:g.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:I.Z})]})),S}},440051:function(e,t,n){n.d(t,{Y:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-01_expiring_status",label:"Expiring status Experiment ",defaultConfig:{expiringStatus:!1},treatments:[{id:1,label:"allow expiring status",config:{expiringStatus:!0}}]})},109497:function(e,t,n){n(653041);var i,s=n(442837),a=n(570140),r=n(695346),l=n(885110),o=n(70956),c=n(981631);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=[],_=!1;function h(){return u.length>=4&&u.some(e=>e<Date.now()-3*o.Z.Millis.DAY)}class E extends(i=s.ZP.PersistedStore){initialize(e){null!=e&&Array.isArray(e.sessionStartsWithDND)&&(u=e.sessionStartsWithDND)}showNagBar(){return _}getState(){return{sessionStartsWithDND:u}}getTemp(){return{x:r.Cr.getSetting()}}}d(E,"displayName","HabitualDNDStore"),d(E,"persistKey","habitualDND"),new E(a.Z,{POST_CONNECTION_OPEN:function(){l.Z.getStatus()===c.Skl.DND&&"0"===r.Cr.getSetting()?(u.push(Date.now()),u=u.filter(e=>e>Date.now()-5*o.Z.Millis.DAY),h()&&setTimeout(()=>{a.Z.dispatch({type:"HABITUAL_DND_CLEAR"})},15*o.Z.Millis.SECOND)):u=[]},HABITUAL_DND_CLEAR:function(){_=!!h()||!1,u=[]}})},158238:function(e,t,n){n.d(t,{e:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-01_quiet_mode",label:"Quiet Mode (dnd-equivalent) Experiment ",defaultConfig:{allowQuietMode:!1},treatments:[{id:1,label:"allow quiet mode",config:{allowQuietMode:!0}}]})},225559:function(e,t,n){n.d(t,{L:function(){return s},v:function(){return a}});var i=n(570140);function s(){i.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}function a(){i.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}},791359:function(e,t,n){n.d(t,{Z:function(){return M}}),n(47120);var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(954955),o=n.n(l),c=n(442837),d=n(481060),u=n(570140),_=n(569984),h=n(918701),E=n(93127),I=n(814443),m=n(594174),g=n(801077),p=n(626135),T=n(70956),S=n(225559),C=n(910436),f=n(203028),N=n(358924),A=n(292140),Z=n(525296),L=n(981631),v=n(674563),O=n(689938),R=n(584201);let x=15*T.Z.Millis.MINUTE,b=(0,Z.Z)(function(e){let{party:t,onUserContextMenu:n,onChannelContextMenu:a,quest:r}=e,l=(0,i.jsx)(f.Z,{party:t,onUserContextMenu:n}),c=(0,i.jsx)(C.Z,{party:t,onChannelContextMenu:a,quest:r}),{partiedMembers:u,applicationStreams:_,currentActivities:h,voiceChannels:E}=t,I=u.length,m=_.length,g=h.length,T=E.length>0,S=s.useCallback(()=>{let e=h.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===v.wW.GAME}).map(e=>e.game.name);p.default.track(L.rMx.NOW_PLAYING_CARD_HOVERED,{num_users:I,num_streams:m,num_activities:g,in_voice_channel:T,games_detected:e})},[I,m,g,T,h]),Z=o()(S,x);return null!=l||null!=c?(0,i.jsx)(d.Popout,{position:"left",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(A.Z,{party:t,close:n})},spacing:8,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(N.Z,{...e,onMouseEnter:Z,"aria-haspopup":"menu",className:R.itemCard,active:n,children:(0,i.jsxs)("div",{children:[l,c]})})}}):null}),P=r().throttle(()=>E.W(!1),3e5);function M(){let{nowPlayingCards:e,loaded:t,needsRefresh:n,fetching:a,currentUser:r}=(0,c.cj)([g.Z,I.Z,m.default],()=>({nowPlayingCards:g.Z.nowPlayingCards,loaded:g.Z.loaded,needsRefresh:I.Z.needsRefresh(),fetching:I.Z.getFetching(),currentUser:m.default.getCurrentUser()})),l=(0,c.e7)([_.Z],()=>_.Z.quests);s.useEffect(()=>(u.Z.wait(()=>S.L()),()=>u.Z.wait(()=>S.v())),[null==r?void 0:r.id]),s.useEffect(()=>{n&&!a&&P()},[n,a]);let o=s.useMemo(()=>{let t=new Map,n=new Set;for(let i of e)i.party.currentActivities.forEach(e=>{let{game:s}=e;if(null!=s){let e=(0,h.lQ)(l,s.id);null!=e&&!n.has(e.id)&&(t.set(i.party.id,e),n.add(e.id))}});return t},[e,l]),E=null;return t?(E=e.length>0?e.map(e=>{let{party:t}=e;return(0,i.jsx)(b,{party:t,quest:o.get(t.id)},t.id)}):(0,i.jsxs)("div",{className:R.emptyCard,children:[(0,i.jsx)(d.Heading,{variant:"heading-md/semibold",className:R.emptyHeader,children:O.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER}),(0,i.jsx)(d.Text,{color:"none",className:R.emptyText,variant:"text-sm/normal",children:O.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})]}),(0,i.jsx)(i.Fragment,{children:E})):(0,i.jsx)("div",{className:R.emptyCard,children:(0,i.jsx)(d.Spinner,{})})}},910436:function(e,t,n){n.d(t,{Z:function(){return S}}),n(653041),n(47120);var i=n(735250);n(470079);var s=n(287734),a=n(872810),r=n(122810),l=n(841784),o=n(503438),c=n(802856),d=n(420660),u=n(566078),_=n(23404),h=n(769654),E=n(81063),I=n(761282),m=n(358924),g=n(868854),p=n(817915),T=n(981631);function S(e){let{party:t,onChannelContextMenu:n,quest:S}=e,C=(0,g.L)(),{voiceChannels:f,currentActivities:N,partiedMembers:A,applicationStreams:Z,guildContext:L}=t,v=[],O=e=>{var t,n;let{length:s}=v;if(0===s){v.push(e);return}let a=v[s-1],r="".concat(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),l="".concat(null!==(n=null==a?void 0:a.key)&&void 0!==n?n:"").startsWith("game")&&r.startsWith("rich-presence");v.push((0,i.jsx)(m.Z.Separator,{inset:l},"sep-".concat(r))),v.push(e)};for(let{activity:e}of(f.length>0&&f.forEach(e=>{let{members:t,channel:s,guild:a}=e;O((0,i.jsx)(m.Z.VoiceSection,{guild:a,channel:s,members:t,partySize:function(e,t){let n;let i=e.length,s=0;!1;n=i+s;return{knownSize:i,unknownSize:s,totalSize:n}}(t),onChannelContextMenu:n,onGuildClick:()=>{(0,h.X)(a.id)}},"voice-".concat(s.id)))}),t.currentActivities))if(null!=e){let t=I.ct(e);if(null!=t){O(t);break}}return Z.length>0&&C&&Z.forEach(e=>{let{stream:t,streamUser:n,activity:r}=e;O((0,i.jsx)(m.Z.ApplicationStreamingSection,{guildId:null==L?void 0:L.id,user:n,activity:r,applicationStream:t,onPreviewClick:()=>{s.default.selectVoiceChannel(t.channelId),(0,a.iV)(t)}},"application-stream-".concat(t.ownerId)))}),N.forEach((e,t)=>{var n,s,a,h,I,g,C,Z,v;let{activity:R,game:x,playingMembers:b,activityUser:P}=e;if(null==R||null==R.type)return null;if(N.length>1&&R.type===T.IIU.PLAYING&&!(0,r.Z)(R)&&null!=x)O((0,i.jsx)(m.Z.GameSection,{icon:x.getIconURL(p.Z),name:x.name,partySize:{knownSize:b.length,unknownSize:0,totalSize:b.length},members:b},"game-".concat(null!==(n=R.session_id)&&void 0!==n?n:t,"-").concat(null!==(s=R.application_id)&&void 0!==s?s:t)));else if((0,l.Z)(R)){let e=new Set(b.map(e=>e.id)),t=null===(a=f.find(e=>null!=e))||void 0===a?void 0:a.channel;null!=t&&O((0,i.jsx)(m.Z.EmbeddedActivitySection,{activity:R,participants:e,channel:t,guildId:t.guild_id},"embedded-activity-".concat(R.application_id)))}else if((null!=R.assets||(0,r.Z)(R))&&R.type===T.IIU.PLAYING)O((0,i.jsx)(m.Z.RichPresenceSection,{activity:R,getAssetImage:E.getAssetImage},"rich-presence-".concat(null!==(h=R.session_id)&&void 0!==h?h:t,"-").concat(P.id)));else if((0,d.Z)(R)){let e=f.length>0&&f[0].members.length>1,n=b.length>1;O((0,i.jsx)(m.Z.TwitchSection,{guildId:null==L?void 0:L.id,activity:R,user:e||n?P:null,getAssetImage:E.getAssetImage},"streaming-".concat(null!==(I=R.session_id)&&void 0!==I?I:t)))}else(0,o.Z)(R)?O((0,i.jsx)(m.Z.SpotifySection,{activity:R,isSolo:1===A.length,partySize:{knownSize:b.length,unknownSize:0,totalSize:b.length},getAssetImage:E.getAssetImage,members:b},"spotify-".concat(null!==(g=R.session_id)&&void 0!==g?g:t,"-").concat(P.id))):(null!=R.assets||(0,r.Z)(R))&&R.type===T.IIU.LISTENING?O((0,i.jsx)(m.Z.RichPresenceSection,{activity:R,getAssetImage:E.getAssetImage},"rich-presence-".concat(null!==(C=R.session_id)&&void 0!==C?C:t,"-").concat(P.id))):(0,c.Z)(R)&&O((0,i.jsx)(m.Z.XboxSection,{title:x.name},"xbox-".concat(null!==(Z=R.session_id)&&void 0!==Z?Z:t)));null!=S&&null!=x&&x.id===u.r.build(S.config).application.id&&O((0,i.jsx)(_.Z,{quest:S},"quest-".concat(S.id,"-").concat(null!==(v=R.session_id)&&void 0!==v?v:t)))}),v.length>0?(0,i.jsx)(m.Z.Body,{children:v}):null}},203028:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(735250);n(470079);var s=n(512722),a=n.n(s),r=n(841784),l=n(503438),o=n(802856),c=n(366966),d=n(51144),u=n(761282),_=n(358924),h=n(817915),E=n(981631),I=n(689938);function m(e){let{party:t,onUserContextMenu:s}=e,{priorityMembers:m,guildContext:g}=t,p=m[0],T=function(e){let{priorityMembers:t,partiedMembers:n}=e,i=new Set(t.map(e=>{let{user:t}=e;return t.id})),s=n.filter(e=>!i.has(e.id)),a=d.ZP.getName(t[0].user),r=null!=t[1]?d.ZP.getName(t[1].user):null!=s[0]?d.ZP.getName(s[0]):null;switch(n.length){case 1:return a;case 2:return I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:a,user2:r});default:return I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:a,user2:r,extras:n.length-2})}}(t),{subtitle:S,icon:C}=function(e){var t;let{priorityMembers:s,partiedMembers:d,voiceChannels:m,currentActivities:g}=e,p=s.length,T=d.length-p,S=g[0],C=null==S?void 0:S.activity,f=null==S?void 0:S.startedPlayingTime,N={name:null!==(t=null==C?void 0:C.name)&&void 0!==t?t:""};if((0,r.Z)(C)&&null!=C)return{subtitle:(0,i.jsx)(c.ZP,{start:f,location:c.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null};if(p+T===1&&null!=S){let{game:e}=S;if(null==C)return{subtitle:null,icon:null};let t=u.dc(C);if(null!=t)return t;switch(C.type){case E.IIU.PLAYING:if((0,o.Z)(C))return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:(0,i.jsx)(_.Z.Header.Icon,{src:_.Z.Header.Icon.Src.XBOX})};return{subtitle:(0,i.jsx)(c.ZP,{start:f,location:c.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null!=e?(0,i.jsx)(_.Z.Header.Icon,{src:null!=e.getIconURL(h.Z)?e.getIconURL(h.Z):n(211827)}):null};case E.IIU.STREAMING:return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=e&&null!=e.getIconURL(h.Z)?(0,i.jsx)(_.Z.Header.Icon,{src:e.getIconURL(h.Z)}):null};case E.IIU.LISTENING:let s;return s=(0,l.Z)(C)?(0,i.jsx)(_.Z.Header.Icon,{src:_.Z.Header.Icon.Src.SPOTIFY}):null!=e.getIconURL(h.Z)?(0,i.jsx)(_.Z.Header.Icon,{src:e.getIconURL(h.Z)}):(0,i.jsx)(_.Z.Header.Icon,{src:n(211827)}),{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:C.name}),icon:s};case E.IIU.WATCHING:return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=e&&null!=e.getIconURL(h.Z)?(0,i.jsx)(_.Z.Header.Icon,{src:e.getIconURL(h.Z)}):null};default:return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===g.length){if(m.length>0)return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};let e=g[0];if(null!=e){let{activity:t}=e;if(null!=t){let e=u.dc(t);if(null!=e)return e}if(null!=t&&t.type===E.IIU.LISTENING)return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:(0,i.jsx)(_.Z.Header.Icon,{src:_.Z.Header.Icon.Src.SPOTIFY})}}}else if(1===g.length){let e=g.find(e=>null!=e.activity);if(null==e)return{subtitle:null,icon:null};let{activity:t,game:n,startedPlayingTime:s}=e;return a()(null!=t,"Activity was null somehow"),{subtitle:(0,i.jsx)(c.ZP,{start:s,location:c.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null!=n&&null!=n.getIconURL(h.Z)?(0,i.jsx)(_.Z.Header.Icon,{src:n.getIconURL(h.Z)}):null}}return{subtitle:I.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:(0,i.jsx)(_.Z.Header.Icon,{src:_.Z.Header.Icon.Src.MULTIPLE})}}(t);return(0,i.jsx)(_.Z.Header,{priorityUser:p,guildId:null==g?void 0:g.id,title:T,subtitle:S,icon:C,onContextMenu:e=>s(e,p.user)})}},358924:function(e,t,n){n(47120);var i,s,a=n(735250),r=n(470079),l=n(120356),o=n.n(l),c=n(442837),d=n(692547),u=n(481060),_=n(438139),h=n(2052),E=n(726542),I=n(638880),m=n(655922),g=n(122810),p=n(833664),T=n(503438),S=n(420660),C=n(74433),f=n(952561),N=n(513202),A=n(906732),Z=n(812206),L=n(933557),v=n(382182),O=n(871118),R=n(849171),x=n(314897),b=n(592125),P=n(594174),M=n(368874),D=n(366695),y=n(366966),j=n(446753),U=n(395361),G=n(639351),k=n(368666),w=n(81063),B=n(823379),H=n(51144),V=n(599706),F=n(981631),Y=n(689938),W=n(39653);let z={SMALL:64,LARGE:160},K=[14,14,12,12,10,8,6],q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,a.jsx)(u.Text,{className:o()(W.textContent,t),variant:"text-sm/semibold",children:e})},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,a.jsx)(u.Text,{className:o()(W.textContent,t),variant:"text-xs/normal",children:e})},X=(0,_.Z)(e=>{let{message:t}=e;return(0,a.jsx)("div",{className:W.__invalid_timestamp,children:t})}),J=e=>{let{children:t}=e;return(0,a.jsx)("section",{className:W.section,children:t})};class $ extends r.Component{renderTimePlayed(){let e;let{activity:t}=this.props,{timestamps:n}=t;return null==n||!(0,p.Z)(t)||(0,T.Z)(t)?null:Q(e=(0,g.Z)(t)?(0,a.jsx)(X,{timestamps:n}):(0,a.jsx)(y.ZP,{start:n.start,end:n.end,location:y.ZP.Locations.USER_ACTIVITY,className:W.__invalid_playTime}))}render(){var e,t;let{activity:{assets:i,details:s,state:r,application_id:l},getAssetImage:c}=this.props;return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:W.activitySection,children:[null!=i&&0!==Object.keys(i).length?(0,a.jsxs)("div",{className:W.activitySectionAssets,children:[(0,a.jsx)("img",{alt:null!==(e=i.large_text)&&void 0!==e?e:"",src:c(l,i.large_image,[z.LARGE,z.LARGE]),className:o()(W.largeImage,{[W.largeImageMask]:null!=i.small_image})}),null!=i.small_image?(0,a.jsx)("img",{alt:null!==(t=i.small_text)&&void 0!==t?t:"",src:c(l,i.small_image,[z.SMALL,z.SMALL]),className:W.smallImage}):null]}):(0,a.jsx)("div",{className:W.activitySectionAssets,children:(0,a.jsx)("img",{alt:"",src:n(211827),className:W.largeImage})}),(0,a.jsxs)("div",{children:[q(null!=s&&""!==s?s:Y.Z.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=r?Q(r):null,this.renderTimePlayed()]})]})})}}(s=i||(i={})).XBOX="XBOX",s.SPOTIFY="SPOTIFY",s.MULTIPLE="MULTIPLE";let ee=e=>{let t,{src:n,onClick:i,onContextMenu:s}=e;switch(n){case"XBOX":t=(0,a.jsx)(G.Z,{className:W.headerIcon,color:d.Z.unsafe_rawColors.PRIMARY_300.css});break;case"SPOTIFY":t=(0,a.jsx)(U.Z,{className:W.headerIcon,color:d.Z.unsafe_rawColors.SPOTIFY.css});break;case"MULTIPLE":t=(0,a.jsx)("div",{className:W.multipleIconWrapper,children:(0,a.jsx)(u.GameControllerIcon,{size:"md",className:o()(W.headerIcon,W.multipleIcon),color:d.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,a.jsx)("img",{src:null!=n?n:void 0,alt:"",className:W.headerIcon})}return null!=i||null!=s?(0,a.jsx)(u.Clickable,{onClick:i,className:o()(null!=i?W.clickableIcon:""),onContextMenu:s,children:t}):t};ee.Src=i;let et=e=>{let{priorityUser:t,title:n,subtitle:i,icon:s,onContextMenu:r,guildId:l}=e;return(0,a.jsxs)("header",{className:null!=s?W.headerFull:W.headerSimple,children:[(0,a.jsx)(u.Avatar,{src:t.user.getAvatarURL(l,32),"aria-label":t.user.username,size:u.AvatarSizes.SIZE_32,className:W.headerAvatar,status:t.status,onContextMenu:r}),(0,a.jsxs)("div",{className:W.__invalid_headerDetails,children:[(0,a.jsx)(u.Text,{className:o()(W.textContent),variant:"text-md/semibold",children:n}),(0,a.jsx)(u.Text,{color:"header-secondary",className:W.textContent,variant:"text-sm/normal",children:i})]}),null!=s?s:null]})};et.Icon=ee;let en=e=>{let{children:t,className:n,...i}=e;return(0,a.jsx)(u.FocusRing,{children:(0,a.jsx)(j.Z,{className:o()(n,W.wrapper),padded:!0,...i,children:t})})};en.Header=et,en.Body=e=>{let{children:t}=e;return(0,a.jsx)(j.Z,{inset:!0,padded:!1,className:W.body,children:t})},en.Separator=e=>{let{inset:t,className:n}=e;return(0,a.jsx)("div",{className:o()(W.separator,{[W.inset]:t},n)})},en.VoiceSection=e=>{var t,n;let{guild:i,channel:s,onGuildClick:l,partySize:c,members:d,onChannelContextMenu:_}=e,h=r.useRef(null),E=(0,L.ZP)(s,!0);return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:W.voiceSection,ref:h,onContextMenu:e=>_(e,s),children:[(0,a.jsx)(u.Clickable,{onClick:l,"aria-hidden":!0,tabIndex:-1,children:(0,a.jsxs)("div",{className:W.voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,a.jsx)("img",{alt:"",src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:o()(W.voiceSectionGuildImage,W.largeImageMask)}):(0,a.jsx)("div",{className:W.voiceSectionNoGuildImageWrapper,children:(0,a.jsx)("div",{className:W.voiceSectionNoGuildImage,style:{fontSize:null!==(n=K[i.acronym.length])&&void 0!==n?n:K[K.length-1]},children:i.acronym})}),(0,a.jsx)("div",{className:W.voiceSectionIconWrapper,children:(0,a.jsx)(u.VoiceNormalIcon,{size:"md",color:"currentColor",className:W.voiceSectionIcon})})]})}),(0,a.jsx)(u.Clickable,{onClick:l,focusProps:{ringTarget:h},children:(0,a.jsxs)("div",{className:W.voiceSectionDetails,children:[q(i.toString(),W.voiceSectionText),Q(E,W.voiceSectionText)]})}),(0,a.jsx)(V.Z,{partySize:c,members:d,guildId:i.id})]})})},en.GameSection=e=>{let{icon:t,name:n,partySize:i,members:s}=e;return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:W.gameSection,children:[null!=t?(0,a.jsx)("img",{alt:"",src:t,className:W.gameSectionIcon}):null,(0,a.jsxs)("div",{children:[q(n),Q(Y.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:i.totalSize}))]}),(0,a.jsx)(V.Z,{partySize:i,members:s})]})})},en.RichPresenceSection=$,en.XboxSection=e=>{let{title:t}=e;return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:W.xboxSection,children:[(0,a.jsx)(G.Z,{className:W.xboxSectionIcon}),(0,a.jsxs)("div",{className:W.__invalid_xboxSectionDetails,children:[q(t),Q(Y.Z.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX)]})]})})},en.SpotifySection=e=>{var t;let{activity:{assets:n,details:i,state:s,application_id:r},partySize:l,members:c,isSolo:u,getAssetImage:_}=e;return(0,a.jsx)(J,{children:(0,a.jsxs)("div",{className:W.spotifySection,children:[null!=n?(0,a.jsxs)("div",{className:W.activitySectionAssets,children:[(0,a.jsx)("img",{alt:null!==(t=n.large_text)&&void 0!==t?t:"",src:_(r,n.large_image,[z.LARGE,z.LARGE]),className:o()(W.largeImage,W.borderRadius0,{[W.largeImageMask]:null!=n.small_image})}),u?null:(0,a.jsx)(U.Z,{className:W.smallImage,color:d.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,a.jsx)("div",{}),(0,a.jsxs)("div",{children:[null!=i?q(i):null,null!=s?Q(s):null]}),(0,a.jsx)(V.Z,{minAvatarsShown:u?2:1,partySize:l,members:c})]})})},en.TwitchSection=e=>{let t,{activity:i,user:s,getAssetImage:r,guildId:l}=e,{name:c,details:d,assets:_,application_id:h}=i;if(null!=_&&(0,S.Z)(i)){var I;t=(0,a.jsx)(M.Z,{className:W.twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,a.jsxs)(u.Clickable,{href:(0,m.Z)(i),tag:"a",target:"_blank",children:[(0,a.jsx)("img",{alt:null!==(I=_.large_text)&&void 0!==I?I:"",src:r(h,_.large_image,[900,500]),className:W.twitchSectionPreview}),(0,a.jsx)("img",{src:n(497726),className:W.twitchSectionPlayButton,alt:""})]})})}return(0,a.jsxs)(J,{children:[(0,a.jsxs)("div",{className:o()({[W.twitchSectionSimple]:null==s,[W.twitchSectionFull]:null!=s}),children:[(0,a.jsx)("img",{alt:"",src:E.Z.get(F.ABu.TWITCH).icon.lightSVG,className:W.twitchSectionIcon}),(0,a.jsxs)("div",{children:[q(c),null!=d?Q(d):null]}),null!=s?(0,a.jsx)(u.Avatar,{src:s.getAvatarURL(l,24),"aria-label":s.username,className:W.twitchSectionAvatar,size:u.AvatarSizes.SIZE_24}):null]}),t]})},en.ApplicationStreamingSection=e=>{var t,n;let{activity:i,user:s,applicationStream:r,onPreviewClick:l,guildId:o}=e,d=(0,c.e7)([b.Z],()=>b.Z.getChannel(r.channelId)),[_,h]=(0,v.wq)(d),E=(0,a.jsxs)(u.Clickable,{onClick:_?l:void 0,className:W.applicationStreamingPreviewWrapper,children:[(0,a.jsx)(O.Z,{stream:r,className:W.applicationStreamingPreviewSize}),(0,a.jsx)("div",{className:W.applicationStreamingHoverWrapper,children:(0,a.jsx)("div",{className:W.applicationStreamingHoverText,children:(0,v.P9)(h)})})]}),I=null!==(n=null===(t=(0,C.Z)(i,r))||void 0===t?void 0:t.activityText)&&void 0!==n?n:Y.Z.Messages.SHARING_SCREEN;return(0,a.jsxs)(J,{children:[(0,a.jsxs)("div",{className:W.applicationStreamingSection,children:[(0,a.jsx)(u.Avatar,{size:u.AvatarSizes.SIZE_32,src:s.getAvatarURL(o,32),"aria-label":s.username,className:W.applicationStreamingAvatar}),(0,a.jsxs)("div",{children:[q(H.ZP.getName(s)),Q(I)]}),(0,a.jsx)(k.ZP,{size:k.ZP.Sizes.SMALL})]}),E]})},en.EmbeddedActivitySection=e=>{let{activity:t,channel:n,guildId:i,participants:s}=e,l=(0,f.Z)(),[o,d]=r.useState(null),_=t.application_id;r.useEffect(()=>{if(null!=_)(0,w.fetchAssetIds)(_,["embedded_background"]).then(e=>{let[t]=e;return d(t)})},[_]);let E=(0,c.Wu)([P.default,x.default],()=>Array.from(s).map(e=>x.default.getId()===e?null:P.default.getUser(e)).filter(B.lm)),m=(0,h.O)(),{analyticsLocations:g}=(0,A.ZP)();if(null==_)return null;let p=Z.Z.getApplication(_);if(null==p)return null;let T=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,S=(0,w.getAssetImage)(p.id,o,300);return(0,a.jsxs)(J,{children:[(0,a.jsxs)("div",{className:W.embeddedActivityTopRow,children:[(0,a.jsx)(D.Z,{game:p,size:D.Z.Sizes.XSMALL,className:W.embeddedActivityIcon}),(0,a.jsx)("div",{className:W.embeddedActivityName,children:(0,a.jsx)(u.Text,{variant:"text-sm/semibold",children:p.name})}),null!=T?(0,a.jsx)("div",{className:W.embeddedActivityTimeElapsed,children:(0,a.jsx)(u.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,a.jsx)(X,{timestamps:T})})}):null]}),(0,a.jsxs)("div",{className:W.embeddedActivityPlayerContainer,children:[null!=S?(0,a.jsx)("img",{src:S,alt:p.name,className:W.embeddedActivityImage}):null,(0,a.jsxs)("div",{className:W.embeddedActivityImageOverlay,children:[(0,a.jsx)(R.OV,{users:E,guildId:i,channelId:n.id}),(0,a.jsx)("div",{className:W.embeddedActivityJoinWrapper,children:(0,a.jsx)(u.Button,{size:u.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),(0,I.Z)({applicationId:_,currentEmbeddedApplication:l,activityChannelId:n.id,locationObject:m.location,embeddedActivitiesManager:N.Z,analyticsLocations:g})},children:Y.Z.Messages.JOIN})})]})]})]})},t.Z=en},199104:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var s=n(442837),a=n(704215),r=n(481060),l=n(410575),o=n(100527),c=n(906732),d=n(243778),u=n(352455),_=n(480294),h=n(153124),E=n(791359),I=n(981631),m=n(689938),g=n(955430);function p(){let{analyticsLocations:e}=(0,c.ZP)(o.Z.ACTIVE_NOW_COLUMN),t=(0,s.e7)([_.Z],()=>_.Z.hasConsented(I.pjP.PERSONALIZATION))?[]:[a.z.NOW_PLAYING_CONSENT_CARD],n=(0,h.Dt)();return(0,i.jsx)(c.Gt,{value:e,children:(0,i.jsx)(l.Z,{section:I.jXE.ACTIVE_NOW_COLUMN,children:(0,i.jsx)("aside",{className:g.container,"aria-labelledby":n,children:(0,i.jsxs)(r.Scroller,{className:g.scroller,children:[(0,i.jsx)(r.Heading,{variant:"heading-lg/semibold",className:g.header,id:n,children:m.Z.Messages.GAME_FEED_CURRENT_HEADER_TITLE}),(0,i.jsx)(d.Z,{contentTypes:t,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===a.z.NOW_PLAYING_CONSENT_CARD)return(0,i.jsx)(u.Z,{className:g.__invalid_consentCard,markAsDismissed:n})}}),(0,i.jsx)(E.Z,{})]})})})})}},292140:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),s=n(470079),a=n(481060),r=n(626135),l=n(144145),o=n(555927),c=n(738762),d=n(244080),u=n(247530),_=n(260889),h=n(981631),E=n(674563),I=n(689938);function m(e){let{party:t,close:n,onSelect:m}=e,g=(0,c.Z)(t),p=(0,_.Z)(t),T=(0,u.Z)(t),S=(0,d.Z)(t),C=(0,l.Z)(t),f=(0,o.Z)(t);return s.useEffect(()=>{let e=t.currentActivities.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===E.wW.GAME}).map(e=>e.game.name);r.default.track(h.rMx.OPEN_POPOUT,{type:"Now Playing Card Popout",games_detected:e})},[]),(0,i.jsxs)(a.Menu,{navId:"now-playing-menu",onClose:n,"aria-label":I.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:m,children:[g,(0,i.jsxs)(a.MenuGroup,{children:[p,T]}),(0,i.jsx)(a.MenuGroup,{children:S}),(0,i.jsx)(a.MenuGroup,{children:C}),f]})}},841710:function(e,t,n){n.d(t,{Y:function(){return d},Z:function(){return c}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(129861),o=n(254065);function c(e){let{user:t,status:n,isFocused:s,guildId:a}=e;return(0,i.jsxs)("div",{className:o.memberItem,children:[(0,i.jsx)(r.Avatar,{src:t.getAvatarURL(a,24),className:o.avatar,"aria-label":t.username,size:r.AvatarSizes.SIZE_24,status:n,statusColor:s?"currentColor":void 0}),(0,i.jsx)(l.Z,{user:t,hideDiscriminator:!0})]})}function d(e){let{label:t}=e;return(0,i.jsxs)("div",{className:o.memberItem,children:[(0,i.jsx)("div",{className:a()(o.avatar,o.unknown)}),(0,i.jsx)("div",{children:t})]})}},144145:function(e,t,n){n.d(t,{Z:function(){return L}}),n(653041),n(47120);var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(278323),o=n(287734),c=n(230711),d=n(726542),u=n(620662),_=n(841784),h=n(802856),E=n(594190),I=n(592745),m=n(553795),g=n(757266),p=n(283595),T=n(417363),S=n(626135),C=n(804739),f=n(346329),N=n(981631),A=n(689938);let Z=d.Z.get(N.ABu.XBOX).name;function L(e){let{currentActivities:t}=e,n=t.length>1,L=function(e){let{currentActivities:t}=e,n=(0,a.e7)([m.Z],()=>m.Z.getAccounts().some(e=>e.type===d.Z.get(N.ABu.XBOX).type)),s=t.some(e=>{let{activity:t}=e;return(0,h.Z)(t)});return n||!s?null:(0,i.jsx)(r.MenuItem,{id:"xbox-connect",action:()=>c.Z.open(N.oAB.CONNECTIONS),label:A.Z.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:Z})})}(e),v=function(e){let{currentActivities:t}=e,n=s.useContext(S.AnalyticsContext);return(0,a.Wu)([E.ZP,p.Z,I.Z,T.Z,g.Z],()=>t.filter(e=>!(0,_.Z)(e.activity)).map(e=>{let{activity:t,game:i}=e,s=p.Z.getActiveLibraryApplication(i.id);return{...e,libraryApplication:s,canJoin:null!=t&&(0,u.Z)(t,N.xjy.JOIN)&&t.type===N.IIU.PLAYING,canPlay:(0,C.t)({LibraryApplicationStore:p.Z,LaunchableGameStore:I.Z,DispatchApplicationStore:T.Z,ConnectedAppsStore:g.Z,applicationId:i.id,branchId:null!=s?s.branchId:null}),isLaunching:I.Z.launchingGames.has(i.id),isRunning:E.ZP.getRunningVerifiedApplicationIds().includes(i.id),location:n.location}}),[n.location,t])}(e),O=[];for(let e of v){let{activity:t}=e;null!=t&&null!=t.type&&O.push(function(e,t){let{canJoin:n,activity:s,activityUser:a}=e;if(!n||null==s)return null;async function c(){if(null==s)return;let e=await l.Z.sendActivityInviteUser({type:N.mFx.JOIN_REQUEST,userId:a.id,activity:s,location:N.Sbl.PROFILE_POPOUT});null!=e&&o.default.selectPrivateChannel(e.id)}return(0,i.jsx)(r.MenuItem,{id:"join-".concat(s.session_id),label:t?A.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:a.toString()}):A.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:c})}(e,n),function(e,t){let{activity:n,game:s,libraryApplication:a,location:l,canPlay:o,isRunning:c,isLaunching:d}=e;if(!o||null==n)return null;let u=c?A.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:s.name}):d?A.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:s.name}):void 0;return(0,i.jsx)(r.MenuItem,{id:"play-".concat(n.session_id),action:function(){(0,f.playApplication)(s.id,a,{analyticsParams:{location:{...l,object:N.qAy.LIST_ITEM}}})},label:t?A.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:s.name}):A.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:u})}(e,n))}return[L,...O]}},555927:function(e,t,n){n.d(t,{Z:function(){return _}}),n(653041),n(47120),n(390547);var i=n(735250),s=n(470079),a=n(481060),r=n(906732),l=n(171368),o=n(841710),c=n(981631),d=n(689938);function u(e){let{priorityMembers:t,otherMembers:n,totalMembers:s,activity:r,guildId:u,sourceAnalyticsLocations:_}=e,h=[];for(let{user:e,status:n}of t)h.push((0,i.jsx)(a.MenuItem,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(o.Z,{...t,user:e,status:n,guildId:u}),action:()=>(0,l.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:_,analyticsLocation:{section:c.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));for(let e of n)h.push((0,i.jsx)(a.MenuItem,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(o.Z,{...t,user:e,guildId:u}),action:()=>(0,l.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:_,analyticsLocation:{section:c.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));let E=s-h.length;return E>0&&h.push((0,i.jsx)(a.MenuItem,{id:"unknown-members-".concat(null==r?void 0:r.session_id),render:e=>(0,i.jsx)(o.Y,{...e,label:d.Z.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:E})})})),h}function _(e){let{priorityMembers:t,partiedMembers:n,currentActivities:l,guildContext:o}=e,c=new Set(t.map(e=>{let{user:t}=e;return t.id})),_=n.filter(e=>!c.has(e.id)),{analyticsLocations:h}=(0,r.ZP)(),E=s.useMemo(()=>{let e=l.flatMap(e=>{let{playingMembers:t}=e;return t}).map(e=>e.id);return n.filter(t=>!e.includes(t.id))},[n,l]);if(l.length<=1&&0===E.length){var I,m;return(0,i.jsx)(a.MenuGroup,{label:n.length>1?d.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0,children:u({priorityMembers:t,otherMembers:_,totalMembers:n.length,activity:null!==(m=null===(I=l[0])||void 0===I?void 0:I.activity)&&void 0!==m?m:void 0,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:h})})}let g=l.map((e,n)=>{let{playingMembers:s,game:r,activity:l}=e,d=new Set(s.map(e=>e.id));return(0,i.jsx)(a.MenuGroup,{label:"".concat(r.name," - ").concat(s.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return d.has(t.id)}),otherMembers:s.filter(e=>!c.has(e.id)),totalMembers:s.length,activity:null!=l?l:void 0,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:h})},n)}),p=E.map(e=>e.id);return[...g,(0,i.jsx)(a.MenuGroup,{label:"".concat(d.Z.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER," - ").concat(E.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return p.includes(t.id)}),otherMembers:E.filter(e=>!c.has(e.id)),totalMembers:E.length,guildId:null==o?void 0:o.id,sourceAnalyticsLocations:h})})]}},738762:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250),s=n(470079),a=n(481060),r=n(493683),l=n(367907),o=n(205129),c=n(626135),d=n(981631),u=n(689938);function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{priorityMembers:n,partiedMembers:_}=e,h=s.useContext(c.AnalyticsContext),E=n.map(e=>{let{user:t}=e;return t.id}),I=1===_.length&&1===n.length,m=n.length-_.length>0;return(I||t)&&!m&&0!==E.length?(0,i.jsx)(a.MenuItem,{id:"message",action:function(){r.Z.openPrivateChannel(E).then(t=>l.ZP.trackWithMetadata(d.rMx.ACTIVITY_FEED_DM_VISITED,{source:{...h.location,object:d.qAy.LIST_ITEM},channel_id:t,recipient_id:"string"==typeof E?E:E[0],af_recently_played:!1,...(0,o.y)(e)}))},label:u.Z.Messages.SEND_DM}):null}},244080:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(380349);function s(e){let{currentActivities:t,isSpotifyActivity:n}=e,s=t[0],a=(0,i.Z)(null==s?void 0:s.activity,null==s?void 0:s.activityUser);return n?a:null}},247530:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250);n(470079);var s=n(481060),a=n(287734),r=n(872810),l=n(51144),o=n(689938);function c(e){let{applicationStreams:t}=e;return t.map(e=>{let{stream:t,streamUser:n}=e;return(0,i.jsx)(s.MenuItem,{id:"spectate-".concat(t.ownerId),action:()=>{a.default.selectVoiceChannel(t.channelId),(0,r.iV)(t)},label:o.Z.Messages.WATCH_USER_STREAM.format({streamerName:l.ZP.getName(n)})},"spectate-".concat(t.ownerId))})}},260889:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),s=n(470079),a=n(442837),r=n(481060),l=n(287734),o=n(367907),c=n(769654),d=n(496675),u=n(205129),_=n(626135),h=n(981631),E=n(689938);function I(e){let t=s.useContext(_.AnalyticsContext),n=e.voiceChannels[0],I=(0,a.e7)([d.Z],()=>null!=n&&d.Z.can(h.Plq.CONNECT,n.channel));return null==n?null:[(0,i.jsx)(r.MenuItem,{id:"join-voice",action:function(){(0,c.X)(n.guild.id),l.default.selectVoiceChannel(n.channel.id),o.ZP.trackWithMetadata(h.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,{source:{...t.location,object:h.qAy.LIST_ITEM},guild_id:n.guild.id,channel_id:n.channel.id,...(0,u.y)(e)})},label:E.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!I},"join-voice"),(0,i.jsx)(r.MenuItem,{id:"goto-server",action:function(){(0,c.X)(n.guild.id),o.ZP.trackWithMetadata(h.rMx.ACTIVITY_FEED_GUILD_VISITED,{source:{...t.location,object:h.qAy.LIST_ITEM},guild_id:n.guild.id,af_recently_played:!1,...(0,u.y)(e)})},label:E.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER},"goto-server")]}},525296:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(735250),s=n(470079),a=n(493683),r=n(239091),l=n(730749),o=n(430824);function c(e){return(0,l.Z)(class extends s.Component{render(){return(0,i.jsx)(e,{...this.props,onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu})}handleMessageUser(e,t){return a.Z.openPrivateChannel(t.id)}handleUserContextMenu(e,t,s){(0,r.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:s})}handleGuildContextMenu(e,t){(0,r.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("33053"),n.e("50654"),n.e("7654"),n.e("44156"),n.e("71700"),n.e("85552"),n.e("58227"),n.e("10926"),n.e("33213"),n.e("41292")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}handleChannelContextMenu(e,t){let s=o.Z.getGuild(t.getGuildId());if(null==s)return null;(0,r.jW)(e,async()=>{let{default:e}=await n.e("40283").then(n.bind(n,428108));return n=>(0,i.jsx)(e,{...n,channel:t,guild:s})})}})}},785997:function(e,t,n){var i,s;n.d(t,{F:function(){return i}}),(s=i||(i={})).AGE_GATE="age-gate",s.CHOOSE_TEMPLATE="choose-template",s.CUSTOMIZE_GUILD="customize-server",s.CHANNEL_PROMPT="channel-prompt",s.JOIN_GUILD="join-server",s.CREATION_INTENT="creation-intent",s.COMPLETE="complete"},122333:function(e,t,n){let i;n(47120);var s=n(735250);n(470079);var a=n(481060),r=n(570140),l=n(317770),o=n(622822),c=n(391650),d=n(305325),u=n(341298),_=n(390885),h=n(524329),E=n(995532),I=n(486472),m=n(430824),g=n(914010),p=n(594174),T=n(823379),S=n(358085),C=n(929809),f=n(179645),N=n(701476),A=n(785997),Z=n(981631),L=n(188785),v=n(630724);function O(){null!=i&&(0,a.closeModal)(i)}class R extends l.Z{_initialize(){r.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),r.Z.subscribe("LOGOUT",O)}_terminate(){r.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),r.Z.unsubscribe("LOGOUT",O)}handleConnectionOpen(){var e;let t,r=f.Z.getType();if(null==r)return;switch(r){case N.M5.INVITE_UNCLAIMED:_.Z.flowStart(v.MK.INVITE,v.EW.NUF_STARTED);break;case N.M5.ORGANIC_REGISTERED:_.Z.flowStart(v.MK.ORGANIC,v.EW.NUF_STARTED);break;case N.M5.MARKETING_UNCLAIMED:_.Z.flowStart(v.MK.ORGANIC_MARKETING,v.EW.NUF_STARTED)}let l=!1,O=g.Z.getGuildId();if(r===N.M5.INVITE_UNCLAIMED){let e=m.Z.getGuild(O);(null==e?void 0:e.hasVerificationGate())&&(l=!0,(0,h.RM)(e.id))}let R=()=>0===I.Z.totalGuilds&&!S.isPlatformEmbedded,x=o.b();e=[{key:"Unified NUF Modal",open:async function e(e){let t=e=>{switch(e){case A.F.AGE_GATE:_.Z.flowStep(v.MK.ANY,v.EW.AGE_GATE);break;case A.F.CHOOSE_TEMPLATE:_.Z.flowStep(v.MK.ANY,v.X2.GUILD_TEMPLATES);break;case A.F.CUSTOMIZE_GUILD:_.Z.flowStep(v.MK.ANY,v.X2.GUILD_CREATE);break;case A.F.CHANNEL_PROMPT:_.Z.flowStep(v.MK.ANY,v.X2.CHANNEL_PROMPT);break;case A.F.JOIN_GUILD:_.Z.flowStep(v.MK.ANY,v.X2.JOIN_GUILD);break;case A.F.CREATION_INTENT:_.Z.flowStep(v.MK.ANY,v.X2.CREATION_INTENT);break;case A.F.COMPLETE:_.Z.flowStep(v.MK.ANY,v.X2.SUCCESS);break;case null:break;default:T.vE(e)}};i=await (0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("42483"),n.e("46051")]).then(n.bind(n,599219));return n=>(0,s.jsx)(e,{...n,onSlideChange:t})},{onCloseRequest:Z.dG4,onCloseCallback:e,modalKey:i})},predicate:()=>R()&&!L.a},{key:"New User Age Gate",open:c.i,predicate:()=>x&&!R()&&!L.a},{key:"Claim Account Modal",open:e=>c.j(S.isPlatformEmbedded,e),predicate:()=>{var e;return!l&&null!=p.default.getCurrentUser()&&!(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!L.a&&!(0,u.g)("new_user_manager")}},{key:"Verification Gate with Claim Account",open:e=>(0,d.hk)(O,null!=e?e:void 0),predicate:()=>{var e;return l&&!(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!L.a}},{key:"Guild Welcome Modal",open:e=>(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return t=>(0,s.jsx)(e,{...t,guildId:O})},{onCloseCallback:e}),predicate:()=>null!=O&&null!=E.Z.get(O)&&E.Z.get(O)!==E.a}],t=()=>{C.H(),_.Z.flowStep(v.MK.ANY,v.EW.NUF_COMPLETE,!0)},[...e].reverse().forEach(e=>{let n=t;t=()=>{e.predicate()?e.open(n):n()}}),t()}}t.Z=new R},886355:function(e,t){t.Z={isScreenLandscape:()=>null}},720734:function(e,t,n){n.d(t,{Z:function(){return eG}}),n(47120),n(653041);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(704215),c=n(846519),d=n(400354),u=n(652844),_=n(789639),h=n(481060),E=n(355467),I=n(239091),m=n(230711),g=n(410575),p=n(941129),T=n(83200),S=n(634894),C=n(586902),f=n(515550),N=n(1585),A=n(304761),Z=n(865427),L=n(571250),v=n(628581),O=n(55311),R=n(575175),x=n(64220),b=n(377171),P=n(676035),M=n(427217),D=n(605236),y=n(243778),j=n(730417),U=n(524347),G=n(853197),k=n(810280),w=n(60762),B=n(258609),H=n(278464),V=n(331541),F=n(332473),Y=n(240504),W=n(804545),z=n(637906),K=n(39370),q=n(19199),Q=n(111653),X=n(866483),J=n(14357),$=n(393333),ee=n(763296),et=n(640806),en=n(484459),ei=n(584427),es=n(52538),ea=n(331187),er=n(879815),el=n(294629),eo=n(314897),ec=n(592125),ed=n(819640),eu=n(131951),e_=n(19780),eh=n(885110),eE=n(246946),eI=n(594174),em=n(78839),eg=n(285952),ep=n(546591),eT=n(976401),eS=n(333454),eC=n(864441),ef=n(626135),eN=n(768581),eA=n(572004),eZ=n(70956),eL=n(374023),ev=n(51144),eO=n(998502),eR=n(981631),ex=n(215023),eb=n(702512),eP=n(689938),eM=n(614493);function eD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ey=eO.ZP.getEnableHardwareAcceleration()?h.AnimatedAvatar:h.Avatar,ej=30*eZ.Z.Millis.DAY;class eU extends s.PureComponent{get isCopiedStreakGodlike(){let{copiedStreak:e}=this.state;return e>=10}componentDidUpdate(e){let{speakingWhileMuted:t,occluded:n}=e,{speakingWhileMuted:i,occluded:s}=this.props;s!==n&&this.handleOccludedChanged(),i!==t&&this.handleSpeakingWhileMutedChanged()}componentWillUnmount(){this.copiedTimeout.stop(),this.copiedDecayTimeout.stop(),this.speakingWhileMutedTooltipTimeout.stop()}renderCopiedSuccess(){let{copiedStreak:e}=this.state,t=[eP.Z.Messages.COPY_SUCCESS_1,eP.Z.Messages.COPY_SUCCESS_2,eP.Z.Messages.COPY_SUCCESS_3,eP.Z.Messages.COPY_SUCCESS_4,eP.Z.Messages.COPY_SUCCESS_5,eP.Z.Messages.COPY_SUCCESS_6,eP.Z.Messages.COPY_SUCCESS_7,eP.Z.Messages.COPY_SUCCESS_8,eP.Z.Messages.COPY_SUCCESS_9,eP.Z.Messages.COPY_SUCCESS_10,eP.Z.Messages.COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return(0,i.jsx)(h.Shaker,{isShaking:this.isCopiedStreakGodlike,children:t[n]})}renderNameTag(){let e;let{hovered:t}=this.state,{customStatusActivity:n,userTag:s,currentUser:a,status:r}=this.props;if(null==a)return null;let l=ev.ZP.getName(a),o=null!=r&&r!==eR.Skl.UNKNOWN,c=null!=n;return(c||o&&a.isPomelo())&&(e=(0,i.jsx)(ep.Z,{hoverText:s,forceHover:t,children:c?(0,i.jsx)(M.Z,{activity:n,emojiClassName:eM.emoji,className:eM.customStatus}):ev.ZP.humanizeStatus(r)})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eM.panelTitleContainer,children:(0,i.jsx)(eC.Z,{children:l})}),(0,i.jsx)("div",{className:eM.panelSubtextContainer,children:(0,i.jsx)(eS.Z,{children:null!=e?e:s})})]})}renderAvatarWithPopout(){let{speaking:e,streaming:t,currentUser:n,status:s}=this.props;if(null==n)return null;let a=(0,eN.NZ)({avatarDecoration:n.avatarDecoration,size:(0,N.y9)(h.AvatarSizes.SIZE_32)});return(0,i.jsx)(g.Z,{object:eR.qAy.AVATAR,children:(0,i.jsx)(h.Popout,{renderPopout:e=>{let{closePopout:t,setPopoutRef:s}=e;return(0,i.jsx)("div",{className:eM.accountProfilePopoutWrapper,children:(0,i.jsx)(V.Z,{currentUser:n,setPopoutRef:s,onClose:()=>{this.handleMouseLeave(),null==t||t()}})})},position:"top",align:"left",animation:h.Popout.Animation.FADE,spacing:14,fixed:!0,preload:()=>(0,en.Z)(n.id,null==n?void 0:n.getAvatarURL(null,80)),children:l=>(0,i.jsxs)(h.Clickable,{...l,"aria-label":eP.Z.Messages.SET_STATUS,className:eM.avatarWrapper,children:[(0,i.jsx)(ey,{size:h.AvatarSizes.SIZE_32,src:n.getAvatarURL(void 0,32,!1),avatarDecoration:a,"aria-label":n.username,status:t?eR.Skl.STREAMING:s,isSpeaking:e,className:eM.avatar}),(0,i.jsx)("div",{className:r()(eM.nameTag,{[eM.canCopy]:eA.wS}),children:this.renderNameTag()})]})})})}renderNameZone(){let{currentUser:e,dismissibleContents:t}=this.props;return null==e?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.Z,{contentTypes:t.avatar,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===o.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP)return(0,i.jsx)(x.Z,{markAsDismissed:n,children:()=>this.renderAvatarWithPopout()});return this.renderAvatarWithPopout()}})})}render(){let{currentUser:e,selfDeaf:t,selfMute:n,awaitingRemote:s,serverMute:a,serverDeaf:r,suppress:l,dismissibleContents:c}=this.props,{shouldShowSpeakingWhileMutedTooltip:d}=this.state;return null==e?null:(0,i.jsxs)("div",{className:eM.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,i.jsxs)(eg.Z,{grow:0,children:[(0,i.jsx)(ew,{selfMute:n,serverMute:a,suppress:l,awaitingRemote:s,tooltipText:d?eP.Z.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,v.Z)(n,a,l,s),tooltipColor:d?h.TooltipColors.GREEN:void 0,tooltipForceOpen:d||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,onClick:this.handleToggleSelfMute,onContextMenu:this.handleInputAudioContextMenu}),(0,i.jsx)(eB,{selfDeaf:t,serverDeaf:r,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,awaitingRemote:s}),(0,i.jsx)(y.Z,{contentTypes:c.settings,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;switch(t){case o.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(K.Z,{}),children:this.renderSettingsGear});case o.z.QUEST_2_ENROLLMENT_TOOLTIP:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(k.Z,{markAsDismissed:n,partnerGame:eb.X2.FORTNITE}),children:this.renderSettingsGear});case o.z.QUEST_2_COMPLETION_TOOLTIP:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(w.Z,{markAsDismissed:n,partnerGame:eb.X2.FORTNITE}),children:this.renderSettingsGear});case o.z.USER_SAFETY_SAFE_DIRECT_MESSAGING:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(ea.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case o.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(X.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case o.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(J.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case o.z.SOUNDBOARD_VOLUME_EDUCATION:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(et.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case o.z.USER_SAFETY_CONSUMER_EDUCATION_REPORTING:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)($.P,{markAsDismissed:n}),children:this.renderSettingsGear});case o.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(es.Z,{}),children:this.renderSettingsGear});case o.z.PRIDE_ICONS_COACHMARK:return(0,i.jsx)(h.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(f.Z,{markAsDismissed:n}),children:this.renderSettingsGear});default:return this.renderSettingsGear()}}})]})]})}constructor(...e){super(...e),eD(this,"copiedTimeout",new c.V7),eD(this,"copiedDecayTimeout",new c.V7),eD(this,"speakingWhileMutedTooltipTimeout",new c.V7),eD(this,"state",{hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1}),eD(this,"handleToggleSelfMute",()=>{let{serverMute:e,suppress:t}=this.props;(0,R.Z)(e,t)}),eD(this,"handleToggleSelfDeaf",()=>{let{serverDeaf:e}=this.props;(0,O.Z)(e)}),eD(this,"handleOpenAccountSettings",()=>{this.handleOpenSettings()}),eD(this,"handleOpenSettings",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eR.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;m.Z.open(e,t,n)}),eD(this,"handleOpenSettingsContextMenu",e=>{let{currentUser:t}=this.props;null!=t&&(0,I.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("96427"),n.e("77298"),n.e("23357"),n.e("19503"),n.e("15972"),n.e("12013"),n.e("47006"),n.e("29609"),n.e("32776"),n.e("95900"),n.e("33053"),n.e("8016"),n.e("50654"),n.e("76540"),n.e("68136"),n.e("87624"),n.e("22646"),n.e("5528"),n.e("23831"),n.e("30419"),n.e("18824"),n.e("48870"),n.e("94335")]).then(n.bind(n,923422));return n=>(0,i.jsx)(e,{...n,user:t,premiumSubscription:this.props.premiumSubscription,webBuildOverride:this.props.webBuildOverride})})}),eD(this,"handleInputAudioContextMenu",e=>{(0,I.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(e,{onClose:I.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})})}),eD(this,"handleOutputAudioContextMenu",e=>{(0,I.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(e,{onClose:I.Zy,renderOutputDevices:!0,renderOutputVolume:!0})})}),eD(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),eD(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),eD(this,"handleMouseEnterMute",()=>{this.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop()}),eD(this,"handleMouseLeaveMute",()=>{this.setState({hoveringOnMute:!1})}),eD(this,"handleCopyTag",()=>{let{currentUser:e}=this.props,{shouldShowNametagTooltip:t,copiedStreak:n}=this.state;if(null==e)return;(0,eA.JG)(ev.ZP.getUserTag(e,{decoration:"never",identifiable:"always"})),ef.default.track(eR.rMx.TEXT_COPIED,{type:"User Tag"});let i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};!t&&(i.copiedStreak=n+1),this.setState(i,()=>{this.copiedTimeout.start(1e3,()=>this.setState({shouldShowNametagTooltip:!1})),this.copiedDecayTimeout.start(2e3,()=>this.setState({copiedStreak:0}))})}),eD(this,"handleOccludedChanged",()=>{let{occluded:e}=this.props;e&&this.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})}),eD(this,"handleSpeakingWhileMutedChanged",()=>{let{selfMute:e,serverMute:t,suppress:n,speakingWhileMuted:i,occluded:s}=this.props,{hoveringOnMute:a}=this.state;i?!a&&e&&!t&&!n&&!s&&this.setState({shouldShowSpeakingWhileMutedTooltip:!0},()=>{this.speakingWhileMutedTooltipTimeout.start(2e3,()=>this.setState({shouldShowSpeakingWhileMutedTooltip:!1}))}):(this.setState({shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop())}),eD(this,"renderSettingsGear",()=>(0,i.jsx)(ek,{isEligibleForPomelo:this.props.isEligibleForPomelo,webBuildOverride:this.props.webBuildOverride,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu}))}}function eG(){var e,t;let n=(0,l.e7)([eI.default],()=>eI.default.getCurrentUser()),a=(0,j._g)(eb.X2.FORTNITE),r=(0,l.e7)([eo.default],()=>eo.default.getId()),c=(0,P.a)(),{streaming:d,status:u}=(0,l.cj)([eh.Z],()=>({streaming:null!=eh.Z.findActivity(e=>e.type===eR.IIU.STREAMING),status:eh.Z.getStatus()})),_=(0,C.Z)({userId:r}),I=ev.ZP.useUserTag(n,{decoration:"never"}),m=(0,l.e7)([eE.Z],()=>eE.Z.hidePersonalInformation),g=(0,l.e7)([e_.Z,ec.Z],()=>{let e=e_.Z.getChannelId();return null!=e?ec.Z.getChannel(e):null}),{mute:f,selfMute:N,suppress:L}=(0,el.Z)(g),{selfDeaf:v,deaf:O}=(0,er.Z)(g),R=(0,l.e7)([A.C],()=>{var e;return(0,Z.fD)()?null===(e=A.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null}),x=(0,l.e7)([em.ZP],()=>em.ZP.getPremiumTypeSubscription()),b=(0,l.e7)([eu.Z],()=>eu.Z.getEverSpeakingWhileMuted()),M=(0,l.e7)([ed.Z],()=>ed.Z.hasLayers()),y=(0,h.useModalsStore)(h.hasAnyModalOpenSelector)||M||eL.s.isDisallowPopupsSet(),k=(0,F.b)(),w=(0,l.e7)([B.Z],()=>null!=B.Z.getAwaitingRemoteSessionInfo()),V=(0,l.e7)([U.Z],()=>U.Z.isCurrentQuestCompleted),K=(0,l.e7)([U.Z],()=>U.Z.currentDropQuestGameTitle),X=(0,H.n)(),J=(0,T.O)(),$=(0,q.D)(),et=(0,p.u)(),en=(0,Q.t)(),es=(0,ei.Z)(n),ea=(null==n?void 0:null===(e=n.avatarDecoration)||void 0===e?void 0:e.skuId)===ex.rL,eg="account";(0,S.j)({location:eg+" auto on",autoTrackExposure:!0}),(0,S.j)({location:eg+" auto off",autoTrackExposure:!1}),(0,q.o)();let ep=(0,l.e7)([ee.Z],()=>ee.Z.hasHadOtherUserPlaySoundInSession()),eT=function(){let e=(0,D.wE)(o.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),[t,n]=(0,l.Wu)([Y.Z],()=>[Y.Z.hasFetchedRelevance,Y.Z.profileThemesRelevanceExceeded]),[i,a]=(0,l.Wu)([em.ZP],()=>[em.ZP.hasFetchedMostRecentPremiumTypeSubscription(),em.ZP.getMostRecentPremiumTypeSubscription()]),{enabled:r}=z.Z.useExperiment({location:"08bd40_1"},{autoTrackExposure:!0}),c=s.useMemo(()=>{let e=new Date().getTime();return null!=a&&(a.status===eR.O0b.ACTIVE||e-a.currentPeriodEnd.getTime()<ej)},[a]);return s.useEffect(()=>{(async()=>{if(e||null!=n||!r)return;if(!i){await (0,E.ou)();return}if(!c)!t&&await (0,E.l0)()})()},[r,n,e,i,t,c]),!e&&!!r&&!c&&null!=n&&n}(),{enabled:eS}=(0,W._)({location:"AccountConnected"}),eC={avatar:[],settings:[]};return!y&&(eT&&eC.settings.push(o.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),a&&(eC.settings.push(o.z.QUEST_2_ENROLLMENT_TOOLTIP),V&&K===(null===(t=(0,G.BS)(eb.X2.FORTNITE))||void 0===t?void 0:t.title)&&eC.settings.push(o.z.QUEST_2_COMPLETION_TOOLTIP)),X&&J&&eC.settings.push(o.z.USER_SAFETY_SAFE_DIRECT_MESSAGING),$&&(1===et?eC.settings.push(o.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE):eC.settings.push(o.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK)),ep&&eC.settings.push(o.z.SOUNDBOARD_VOLUME_EDUCATION),en&&eC.settings.push(o.z.USER_SAFETY_CONSUMER_EDUCATION_REPORTING),es&&eC.settings.push(o.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK),eS&&eC.settings.push(o.z.PRIDE_ICONS_COACHMARK),ea&&eC.avatar.push(o.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP)),(0,i.jsx)(eU,{currentUser:n,customStatusActivity:c,dismissibleContents:eC,userTag:I,hidePrivateData:m,occluded:y,premiumSubscription:x,selfDeaf:v,selfMute:N,serverDeaf:O,serverMute:f,speaking:_,speakingWhileMuted:b,status:u,streaming:d,suppress:L,webBuildOverride:R,awaitingRemote:w,isEligibleForPomelo:k})}function ek(e){let{webBuildOverride:t,isEligibleForPomelo:n,onClick:s,onContextMenu:a}=e,r=(0,h.useRedesignIconContext)().enabled,l=null,o=h.SettingsIcon,c=(0,_.i)();return r?o=null!=t?h.SettingsInfoIcon:n?h.SettingsCircleIcon:c.Component:null!=t?l=(0,i.jsx)(h.CircleInformationIcon,{size:"custom",color:"currentColor",width:9,height:9,className:eM.hasBuildOverride,"aria-hidden":!0}):n&&(l=(0,i.jsx)(h.CircleBadge,{color:b.Z.STATUS_DANGER,className:eM.hasBuildOverride,"aria-hidden":!0})),(0,i.jsx)(eT.Z,{tooltipText:null!=t?eP.Z.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:t.id}):eP.Z.Messages.USER_SETTINGS,onClick:s,onContextMenu:a,innerClassName:null!=t||n?eM.buildOverrideButton:null,icon:o,...c.events,children:l})}function ew(e){let{selfMute:t,serverMute:n,suppress:a,awaitingRemote:r,tooltipText:l,tooltipColor:o,tooltipForceOpen:c,onMouseEnter:d,onMouseLeave:_,onClick:E,onContextMenu:I}=e,m=t||a||n,{Component:g,play:p,events:T}=(0,u.O)(m?"unmute":"mute"),S=n||a?h.MicrophoneDenyIcon:g;return s.useEffect(()=>()=>p(),[m,p]),(0,i.jsx)(eT.Z,{tooltipText:l,tooltipColor:o,tooltipForceOpen:c,onMouseEnter:()=>{d(),T.onMouseEnter()},onMouseLeave:()=>{_(),T.onMouseLeave()},icon:(0,i.jsx)(S,{size:"custom",width:20,height:20,color:m?h.tokens.colors.STATUS_DANGER:"currentColor"}),iconForeground:m?eM.strikethrough:null,onClick:E,onContextMenu:I,role:"switch","aria-label":eP.Z.Messages.MUTE,"aria-checked":m,disabled:r})}function eB(e){let{selfDeaf:t,serverDeaf:n,awaitingRemote:a,onClick:l,onContextMenu:o}=e,c=t||n,{Component:u,play:_,events:{onMouseEnter:E,onMouseLeave:I}}=(0,d.l)(c?"undeafen":"deafen"),m=n?h.HeadphonesDenyIcon:u;return s.useEffect(()=>()=>_(),[c,_]),(0,i.jsx)(eT.Z,{tooltipText:(0,L.Z)(t,n,a),onMouseEnter:E,onMouseLeave:I,icon:(0,i.jsx)(m,{size:"custom",width:20,height:20,color:c?h.tokens.colors.STATUS_DANGER:"currentColor"}),onClick:l,onContextMenu:o,innerClassName:r()({[eM.redIcon]:n}),iconForeground:c?eM.strikethrough:null,role:"switch","aria-label":eP.Z.Messages.DEAFEN,"aria-checked":c,disabled:a})}},235555:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(442837),o=n(239091),c=n(476669),d=n(524331),u=n(768419),_=n(831506),h=n(699516),E=n(594174),I=n(643126),m=n(823379),g=n(689938);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends s.PureComponent{hasParty(e){return e.length>1}handleStopListening(){(0,d.Z)()}render(){let{currentUser:e,host:t,party:n}=this.props;return this.hasParty(n)&&null!=e?(0,i.jsx)(I.Z,{currentUser:e,host:t,party:n,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null}constructor(...e){super(...e),p(this,"handleUserContextMenu",(e,t)=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}),p(this,"renderOverflowPopout",()=>{let{party:e}=this.props;return(0,i.jsx)(c.Z,{party:e,header:g.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})})})}}t.Z=l.ZP.connectStores([u.Z,E.default,h.Z,_.Z],()=>{let e,t;let n=u.Z.getSyncingWith(),i=u.Z.getActivity(),s=E.default.getCurrentUser(),a=[];if(null!=n?(e=E.default.getUser(n.userId),t=n.partyId):null!=i&&null!=i.party&&null!=i.party.id&&(e=s,t=i.party.id),null!=t){var l;a=r()(Array.from(null!==(l=_.Z.getParty(t))&&void 0!==l?l:[])).map(e=>E.default.getUser(e)).filter(m.lm).orderBy([t=>null==e||e.id===t.id,e=>h.Z.isFriend(e.id)],["desc","desc"]).value()}return{currentUser:s,host:e,party:a}})(T)},746508:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(512722),o=n.n(l),c=n(613828),d=n(442837),u=n(592471),_=n(864094),h=n(75735),E=n(382600),I=n(481060),m=n(846027),g=n(239091),p=n(925549),T=n(284056),S=n(730749),C=n(2052),f=n(40851),N=n(317381),A=n(596040),Z=n(588580),L=n(374065),v=n(451576),O=n(938655),R=n(403404),x=n(100527),b=n(906732),P=n(158631),M=n(793865),D=n(933557),y=n(258609),j=n(446226),U=n(935261),G=n(74299),k=n(803647),w=n(142497),B=n(810788),H=n(160404),V=n(703656),F=n(917405),Y=n(641015),W=n(848543),z=n(565799),K=n(501655),q=n(71275),Q=n(600518),X=n(485287),J=n(754277),$=n(590415),ee=n(695346),et=n(923973),en=n(829750),ei=n(189771),es=n(544384),ea=n(560688),er=n(127608),el=n(76021),eo=n(173507),ec=n(25827),ed=n(199902),eu=n(314897),e_=n(592125),eh=n(430824),eE=n(819640),eI=n(131951),em=n(496675),eg=n(19780),ep=n(699516),eT=n(594174),eS=n(979651),eC=n(938475),ef=n(285952),eN=n(976401),eA=n(333454),eZ=n(626135),eL=n(63063),ev=n(51144),eO=n(594117),eR=n(226323),ex=n(981631),eb=n(190378),eP=n(689938),eM=n(902569),eD=n(549856);function ey(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(e){let t=e.currentTarget;eZ.default.track(ex.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:ex.jXE.NOISE_CANCELLATION_POPOUT}})}function eU(){let e=s.useRef(null);(0,I.useFocusLock)(e),s.useEffect(()=>{eZ.default.track(ex.rMx.OPEN_POPOUT,{type:ex.jXE.NOISE_CANCELLATION_POPOUT})},[]);let t=(0,d.e7)([eI.Z],()=>eI.Z.getNoiseCancellation());return(0,i.jsxs)("div",{ref:e,className:eM.noiseCancellationPopout,children:[(0,i.jsx)(I.FormSwitch,{hideBorder:!0,className:eD.marginBottom4,value:t,onChange:()=>m.Z.setNoiseCancellation(!t,{section:ex.jXE.NOISE_CANCELLATION_POPOUT}),note:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION,children:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_HEADER}),(0,i.jsx)(T.Z,{title:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:T._.BLACK,buttonTest:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_TEST,buttonStop:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:eM.micTestButton,buttonColor:I.Button.Colors.PRIMARY,location:{section:ex.jXE.NOISE_CANCELLATION_POPOUT}}),(0,i.jsx)(I.FormTitle,{tag:I.FormTitleTags.H5,className:r()(eD.marginBottom8,eD.marginTop20),children:eP.Z.Messages.NOISE_CANCELLATION_POPOUT_FOOTER}),(0,i.jsxs)(ef.Z,{justify:ef.Z.Justify.BETWEEN,className:eM.__invalid_footer,children:[(0,i.jsx)(I.Anchor,{href:ex.EYA.KRISP,onClick:e=>ej(e),children:(0,i.jsx)("div",{className:eM.krispLogo})}),(0,i.jsx)(I.Anchor,{href:eL.Z.getArticleURL(ex.BhN.NOISE_SUPPRESSION),className:eM.krispLink,onClick:e=>ej(e),children:eP.Z.Messages.LEARN_MORE})]})]})}function eG(){let e=(0,d.e7)([J.Z],()=>J.Z.isMuted()),t=e?eP.Z.Messages.STAGE_MUSIC_UNMUTE:eP.Z.Messages.STAGE_MUSIC_MUTE;return(0,i.jsx)(eN.Z,{"aria-label":t,tooltipText:t,icon:e?I.MusicSlashIcon:I.MusicIcon,onClick:()=>(0,Q.v)(!e)})}function ek(e){let{channel:t,enableActivities:n,disabled:a}=e,l=(0,et.Z)(),o=(0,ei.Z)(t),c=(0,d.cj)([N.ZP],()=>null!=N.ZP.getSelfEmbeddedActivityForChannel(t.id)),u=(0,Y.Z)(t),{reachedLimit:_,limit:E}=(0,en.Z)(t),g=s.useCallback(()=>{(0,ea.Z)()},[]),p=(0,f.bp)(),T=s.useCallback(e=>{if(eI.Z.isVideoEnabled()===e)return;let n=()=>{var n;m.Z.setVideoEnabled(e),e&&(0,V.uL)(ex.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:ex.ME,t.id))};e?(0,eo.Z)(n,p):n()},[t,p]),S=c||n||u,{Component:C,play:A,events:Z}=(0,h.o)(l.enabled?"disable":"enable");return s.useEffect(()=>()=>A(),[l.enabled,A]),(0,i.jsx)(ec.Z,{onChange:T,onCameraUnavailable:g,hasPermission:o,channelLimit:E,channelLimitReached:_,...l,enabled:!a&&l.enabled,children:e=>{let{unavailable:t,active:n,label:s,iconComponent:a,...l}=e,o=(0,i.jsx)(C,{size:"custom",width:20,height:20,className:r()(eM.buttonIcon,{[eM.withText]:!S}),color:"currentColor"});return(0,i.jsx)(I.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(M.Z,{onClose:t})},position:"top",align:"center",animation:I.Popout.Animation.FADE,children:(e,a)=>{let{onClick:c,...d}=e,{isShown:u}=a;return(0,i.jsx)(I.Tooltip,{text:s,children:e=>(0,i.jsx)(I.Button,{...l,...e,...d,onClick:t=>{var n;l.onClick(t),null===(n=e.onClick)||void 0===n||n.call(e),u&&c(t)},onMouseEnter:()=>{var t,n;null===(t=e.onMouseEnter)||void 0===t||t.call(e),null===(n=d.onMouseEnter)||void 0===n||n.call(d),Z.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),Z.onMouseLeave()},onContextMenu:t=>{var n;c(t),null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:I.Button.Sizes.SMALL,className:r()(eM.button,eM.buttonColor,{[eM.buttonActive]:n,[eM.fauxDisabled]:t,[eM.disabled]:l.disabled}),innerClassName:eM.buttonContents,wrapperClassName:eM.button,fullWidth:!0,children:S?o:(0,i.jsxs)(ef.Z,{align:ef.Z.Align.CENTER,children:[o,eP.Z.Messages.VIDEO]})})})}})}})}function ew(e){let{channel:t,enableActivities:n}=e,s=(0,f.bp)(),{analyticsLocations:a}=(0,b.ZP)(),l=s===ex.IlC.POPOUT,o=(0,L.KF)(t.id),c=(0,L.g5)(o),[_]=(0,d.e7)([N.ZP],()=>null!=t.id&&""!==t.id?N.ZP.getEmbeddedActivitiesForChannel(t.id):N.i6),{userInActivity:h}=(0,d.cj)([N.ZP],()=>({userInActivity:null!=N.ZP.getSelfEmbeddedActivityForChannel(t.id)})),E=(0,C.O)(),m=(0,Z.a)(),g=o!==L.jy.CAN_LAUNCH,{Component:p,events:T}=(0,u.s)();return n?(0,i.jsx)(I.Tooltip,{text:c,children:e=>(0,i.jsxs)(I.Button,{...e,fullWidth:!0,size:I.Button.Sizes.SMALL,...T,onClick:()=>{var n;T.onClick(),(0,R.Z)({channel:t,guildId:t.guild_id,locationObject:E.location,openInPopout:l,analyticsLocations:a,opensAppLauncherModal:!0}),null===(n=e.onClick)||void 0===n||n.call(e)},onMouseEnter:()=>{var t;T.onMouseEnter(),null==e||null===(t=e.onMouseEnter)||void 0===t||t.call(e)},onMouseLeave:()=>{var t;T.onMouseLeave(),null==e||null===(t=e.onMouseLeave)||void 0===t||t.call(e)},disabled:g,className:r()(eM.button,eM.buttonColor,{[eM.buttonActive]:h||null!=_,[eM.disabled]:g}),innerClassName:eM.buttonContents,wrapperClassName:eM.button,children:[m?(0,i.jsx)(O.A,{top:-1,right:-1}):null,(0,i.jsx)(p,{size:"sm",color:"currentColor",className:eM.buttonIcon})]})}):null}function eB(e){let t,{channel:n,canGoLive:a,enableActivities:l,disabled:o}=e,c=(0,d.e7)([eT.default],()=>eT.default.getCurrentUser()),u=(0,d.Wu)([ed.Z],()=>ed.Z.getAllActiveStreams()),h=(0,ei.Z)(n),E=n.getGuildId(),m=(0,d.cj)([N.ZP],()=>null!=N.ZP.getSelfEmbeddedActivityForChannel(n.id)),g=(0,Y.Z)(n),p=s.useCallback(()=>{(0,el.Z)(E,n.id,ex.jXE.ACTIVITY_PANEL)},[E,n.id]),T=u.find(e=>e.ownerId===(null==c?void 0:c.id)),S=(0,es.E)(n,c,u);t=null==T?a?p:er.Z:()=>(0,k.Z)(T);let C=null!=T||S.length>0,f=h?eP.Z.Messages.SHARE_YOUR_SCREEN:eP.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,A=m||l||g,Z=null!=T,{Component:L,events:v,play:O}=(0,_.P)(Z?"disable":"enable");s.useEffect(()=>()=>O(),[O,Z]);let R=(0,i.jsx)(L,{color:"currentColor",className:r()(eM.buttonIcon,{[eM.withText]:!A})});return(0,i.jsx)(I.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(es.Z,{channel:n,currentUser:c,activeStreams:u,onClose:t,handleGoLive:a?p:er.Z})},position:"top",align:"center",animation:I.Popout.Animation.FADE,children:e=>{let{onClick:n,onMouseEnter:s,...a}=e;return(0,i.jsx)(I.Tooltip,{text:f,children:e=>(0,i.jsx)(I.Button,{...e,size:I.Button.Sizes.SMALL,onClick:i=>{var s;C?n(i):t(),null===(s=e.onClick)||void 0===s||s.call(e)},disabled:!h||o,className:r()(eM.button,eM.buttonColor,{[eM.buttonActive]:null!=T,[eM.disabled]:!h||o}),...C?a:null,onMouseEnter:()=>{var t;null==s||s(),null===(t=e.onMouseEnter)||void 0===t||t.call(e),v.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),v.onMouseLeave()},innerClassName:eM.buttonContents,wrapperClassName:eM.button,children:A?R:(0,i.jsxs)(ef.Z,{align:ef.Z.Align.CENTER,children:[R,eP.Z.Messages.GO_LIVE_SHARE_SCREEN]})})})}})}class eH extends s.PureComponent{renderConnectionStatus(){let e;let{channel:t,guild:n,rtcConnectionQuality:s,rtcConnectionState:a,rtcConnectionLastPing:r,hasVideo:l,isBroadcasting:o}=this.props;if(null==t)return null;let d=(0,D.F6)(t,eT.default,ep.Z);return null!=n?(e=ex.Z5c.CHANNEL(n.id,t.id),d="".concat(d," / ").concat(n.name)):e=ex.Z5c.CHANNEL(ex.ME,t.id),o&&t.isBroadcastChannel()&&(d=eP.Z.Messages.BROADCASTING),(0,i.jsx)(F.Z,{channelId:t.id,quality:s,state:a,lastPing:r,hasVideo:l,children:(0,i.jsx)(I.FocusRing,{children:(0,i.jsx)(c.rU,{to:e,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,i.jsx)(eA.Z,{className:eM.channel,children:d})})})})}renderNoiseCancellation(){let{noiseCancellationActive:e,noiseCancellationError:t,hasLayers:n,remoteVoiceState:s,channel:a,voiceStates:r}=this.props;return null!=s?null:(null==a?void 0:a.isGuildStageVoice())&&!(null!=r.find(e=>e.user.id===eu.default.getId()&&(0,$.gf)(e.voiceState)===$.xO.ON_STAGE))&&(0,X.U5)(a.id)?(0,i.jsx)(eG,{}):!n&&t?(0,i.jsx)(I.Tooltip,{text:eP.Z.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:eM.noiseCancellationTooltip,forceOpen:!0,children:e=>{let{"aria-label":t}=e;return(0,i.jsx)(eN.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:I.WaveformSlashIcon})}}):(0,i.jsx)(I.Popout,{position:"top",align:"center",renderPopout:()=>(0,i.jsx)(eU,{}),children:(t,n)=>{let{isShown:s}=n;return(0,i.jsx)(eV,{popoutProps:t,isShown:s,noiseCancellationActive:e})}},"krisp-popout")}renderVoiceStates(){let{channel:e,voiceStates:t,showVoiceStates:n}=this.props;return null!=e&&n&&0!==t.length?(0,i.jsx)(eR.Z,{voiceStates:t,channel:e,className:eM.voiceUsers}):null}renderChannelButtons(){let{channel:e,canGoLive:t,remoteVoiceState:n,enableActivities:s,voiceStates:a,selfStream:l,isPrivateChannelWithEnabledActivities:o}=this.props;if(null==e||null!=n)return null;let c=eu.default.getId();if(e.isGuildStageVoice()){if(!(0,q.tu)(e.guild_id)||!t)return null;let n=a.find(e=>e.user.id===c);if(null==n||n.voiceState.suppress)return null}let d=(e.isGuildVoice()||o)&&s,{reachedLimit:u}=(0,en.t)(e),_=(0,q.xJ)(e.id);return(0,i.jsxs)("div",{className:eM.actionButtons,children:[(0,i.jsx)(ek,{channel:e,enableActivities:d,disabled:!_&&u}),(0,i.jsx)(eB,{channel:e,canGoLive:t,enableActivities:d,disabled:e.isGuildStageVoice()&&(_&&null==l||!_&&u)}),(0,i.jsxs)(i.Fragment,{children:[d?(0,i.jsx)(ew,{channel:e,enableActivities:s}):null,(0,Y.Z)(e)?(0,i.jsx)(W.Z,{className:r()(eM.button,eM.buttonColor),innerClassName:eM.buttonContents,iconClassName:eM.buttonIcon,channel:e}):null]})]})}render(){let{channel:e,noiseCancellationSupported:t,shouldShowVoicePanelIntroduction:n}=this.props;return null==e?null:(0,i.jsx)(I.Popout,{renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:I.Popout.Animation.TRANSLATE,shouldShow:n,children:()=>(0,i.jsxs)("div",{className:eM.container,children:[(0,i.jsxs)(ef.Z,{className:eM.connection,align:ef.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:eM.inner,children:this.renderConnectionStatus()}),(0,i.jsxs)(ef.Z,{grow:0,shrink:0,children:[t?this.renderNoiseCancellation():null,(0,i.jsx)(eO.Z,{channel:e})]})]}),this.renderVoiceStates(),this.renderChannelButtons()]})})}constructor(...e){super(...e),ey(this,"canScreenshare",()=>{let{channel:e,canGoLive:t}=this.props;return t&&null!=e&&null!=e.getGuildId()}),ey(this,"handleNoiseCancellationClicked",()=>{let{noiseCancellationActive:e}=this.props;m.Z.setNoiseCancellation(!e,{section:ex.jXE.NOISE_CANCELLATION_POPOUT})}),ey(this,"handleGoLive",()=>{let{guild:e,channel:t}=this.props,n=null!=t?t.getGuildId():null!=e?e.id:null;if(null!=n)(0,el.Z)(n,t.id,ex.Sbl.VOICE_PANEL)}),ey(this,"handleChannelLinkClick",e=>{var t;let{guild:n,channel:i}=this.props;o()(null!=i,"Channel is null during navigation click"),e.stopPropagation(),p.Z.channelListScrollTo(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:ex.ME,i.id)}),ey(this,"handleChannelLinkContextMenu",e=>{let{channel:t}=this.props;(0,g.jW)(e,async()=>{let{default:e}=await n.e("56944").then(n.bind(n,600830));return n=>(0,i.jsx)(e,{...n,channel:t})})}),ey(this,"handleCloseVoicePanelIntroduction",()=>{w.Kw(eb.v.VOICE_PANEL_INTRODUCTION)}),ey(this,"renderVoicePanelIntroduction",()=>(0,i.jsxs)("div",{className:r()(eM.voicePanelIntroductionWrapper,"theme-light"),children:[(0,i.jsx)(I.Heading,{className:eM.voicePanelIntroductionHeader,variant:"heading-md/semibold",children:eP.Z.Messages.VOICE_PANEL_INTRODUCTION_HEADER}),(0,i.jsx)(I.Text,{className:eM.voicePanelIntroductionText,variant:"text-sm/normal",children:eP.Z.Messages.VOICE_PANEL_INTRODUCTION_TEXT}),(0,i.jsx)(I.Button,{className:eM.voicePanelIntroductionButton,color:I.Button.Colors.BRAND,onClick:this.handleCloseVoicePanelIntroduction,children:eP.Z.Messages.VOICE_PANEL_INTRODUCTION_CLOSE})]}))}}function eV(e){let{popoutProps:t,isShown:n,noiseCancellationActive:a}=e,{play:r,Component:l,events:o}=(0,E.P)(a?"disable":"enable");return s.useEffect(()=>()=>r(),[a,r]),(0,i.jsx)(eN.Z,{...t,onMouseEnter:()=>{var e;null===(e=t.onMouseEnter)||void 0===e||e.call(t),o.onMouseEnter()},onMouseLeave:()=>{o.onMouseLeave()},tooltipClassName:eM.noiseCancellationTooltip,tooltipText:n?null:eP.Z.Messages.NOISE_CANCELLATION_TOOLTIP,icon:l})}t.Z=(0,S.Z)(function(e){let t=(0,j.Z)(),n=(0,d.e7)([y.Z],()=>y.Z.getAwaitingRemoteSessionInfo()),a=(0,d.e7)([eT.default],()=>eT.default.getCurrentUser()),{channelId:r,...l}=(0,d.cj)([eg.Z],()=>null!=t?{channelId:t.channelId,rtcConnectionQuality:ex.IE4.FINE,rtcConnectionState:ex.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:eg.Z.getChannelId(),rtcConnectionQuality:eg.Z.getQuality(),rtcConnectionState:eg.Z.getState(),rtcConnectionLastPing:eg.Z.getLastPing()}),o=(0,d.e7)([e_.Z],()=>e_.Z.getChannel(r),[r]),c=null==o?void 0:o.getGuildId(),u=(0,d.e7)([eh.Z],()=>eh.Z.getGuild(c),[c]),_=(0,d.cj)([eI.Z],()=>({noiseCancellationSupported:eI.Z.isNoiseCancellationSupported(),noiseCancellationActive:eI.Z.getNoiseCancellation(),noiseCancellationError:eI.Z.isNoiseCancellationError(),canGoLive:(0,G.Z)(eI.Z)})),h=(0,d.e7)([eI.Z,B.Z],()=>B.Z.hasHotspot(eb.v.VOICE_PANEL_INTRODUCTION)&&(0,ev.EO)(a)&&!eI.Z.isInteractionRequired()&&!(null==o?void 0:o.isGuildStageVoice())),E=(0,d.e7)([eS.Z],()=>null!=r&&eS.Z.hasVideo(r),[r]),m=(0,d.e7)([ed.Z],()=>ed.Z.getCurrentUserActiveStream()),g=(0,d.e7)([eE.Z],()=>eE.Z.hasLayers()),p=(0,d.e7)([H.Z],()=>H.Z.isViewingRoles(c)),T=(0,d.e7)([em.Z],()=>p&&!em.Z.can(ex.Plq.VIEW_CHANNEL,o),[p,o]),S=ee.Fg.useSetting(),[C,f,N]=(0,d.Wu)([eC.ZP,z.Z],()=>(null==o?void 0:o.isGuildStageVoice())?[z.Z.getMutableParticipants(o.id,K.pV.SPEAKER),z.Z.getParticipantsVersion(o.id),null]:[null,null,null!=o?eC.ZP.getVoiceStatesForChannel(o):null],[o]),Z=s.useMemo(()=>{var e,t;return null!==(t=null!==(e=null==C?void 0:C.map(e=>{let{user:t,userNick:n,voiceState:i}=e;return{user:t,nick:n,voiceState:i}}))&&void 0!==e?e:N)&&void 0!==t?t:[]},[C,f,N]),[L,O]=s.useState(!1);s.useEffect(()=>{(p||T)&&O(!1)},[p,T,O]);let{analyticsLocations:R}=(0,b.ZP)(x.Z.RTC_PANEL),M=(0,A.Z)(null!=c?c:ex.lds,null==o?void 0:o.id),D=(0,v.Z)(null==o?void 0:o.id),k=(0,P.ZP)();return(0,i.jsx)(b.Gt,{value:R,children:(0,i.jsxs)("div",{className:eM.wrapper,children:[null!=t||null!=n?(0,i.jsx)(U.Z,{voiceState:t,awaitingRemoteSessionInfo:n}):null,(0,i.jsx)(eH,{...e,..._,...l,enableActivities:M,remoteVoiceState:t,guild:u,channel:o,hasVideo:E,selfStream:m,hasLayers:g,voiceStates:Z,showVoiceStates:S,shouldShowVoicePanelIntroduction:h,isPrivateChannelWithEnabledActivities:D,isBroadcasting:k}),!L&&p&&null!=c?(0,i.jsxs)("div",{className:eM.viewAsRolesWarning,children:[(0,i.jsx)(I.Text,{variant:"text-sm/normal",className:eM.viewAsRolesWarningText,children:T?eP.Z.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:eP.Z.Messages.VIEW_AS_ROLES_VOICE_WARNING}),(0,i.jsx)(I.Button,{className:eM.viewAsRolesWarningButton,size:I.Button.Sizes.MIN,onClick:()=>{O(!0)},children:eP.Z.Messages.DISMISS})]}):null]})})})},594117:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250);n(470079);var s=n(685072),a=n(287734),r=n(67212),l=n(158631),o=n(15274),c=n(389303),d=n(881824),u=n(719100),_=n(976401),h=n(689938);function E(e){let{tooltipText:t,onClick:n}=e,a=(0,s.K)();return(0,i.jsx)(_.Z,{tooltipText:t,onClick:n,...a.events,icon:a.Component})}function I(){return(0,i.jsx)(E,{tooltipText:h.Z.Messages.DISCONNECT_SELF,onClick:()=>{(0,r.b_)(),a.default.disconnect()}})}function m(e){let{channel:t}=e;return(0,i.jsx)(E,{tooltipText:h.Z.Messages.AUDIENCE_DISCONNECT,onClick:()=>{if((0,u.Z)(t)){(0,d.Us)(t);return}a.default.disconnect()}})}function g(e){let{channel:t}=e;return(0,i.jsx)(E,{tooltipText:h.Z.Messages.DISCONNECT_SELF,onClick:()=>{if((0,c.Z)(t)){(0,o.lC)(t);return}a.default.disconnect()}})}function p(e){let{channel:t}=e,n=(0,l.ZP)();return t.isGuildStageVoice()?(0,i.jsx)(m,{channel:t}):n&&t.isBroadcastChannel()?(0,i.jsx)(I,{}):(0,i.jsx)(g,{channel:t})}},226323:function(e,t,n){n.d(t,{Z:function(){return N}}),n(653041),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(481060),c=n(239091),d=n(586902),u=n(512384),_=n(484459),h=n(103575),E=n(314897),I=n(131951),m=n(51144),g=n(524484),p=n(689938),T=n(372844);let S={offset:2},C={serverDeaf:{icon:o.HeadphonesDenyIcon,colorize:!0,getStatus:()=>p.Z.Messages.SERVER_DEAFENED},serverMute:{icon:o.MicrophoneDenyIcon,colorize:!0,getStatus:()=>p.Z.Messages.SERVER_MUTED},deaf:{icon:o.HeadphonesSlashIcon,colorize:!1,getStatus:()=>p.Z.Messages.VOICE_CHANNEL_DEAFENED},mute:{icon:o.MicrophoneSlashIcon,colorize:!1,getStatus:()=>p.Z.Messages.VOICE_CHANNEL_MUTED},localMute:{icon:o.MicrophoneDenyIcon,colorize:!1,getStatus:()=>p.Z.Messages.VOICE_CHANNEL_LOCAL_MUTED}};function f(e){var t,s;let{channel:a,user:E,nick:f,mute:N,deaf:A,serverMute:Z,serverDeaf:L}=e,v=(0,l.e7)([I.Z],()=>I.Z.isLocalMute(E.id)),O=(0,d.Z)({userId:E.id,checkSoundSharing:!0}),R=null!==(t=a.getGuildId())&&void 0!==t?t:void 0,x=E.getAvatarURL(a.guild_id,24),b=null!=f?f:m.ZP.getName(E),{icon:P,colorize:M,getStatus:D}=null!==(s=function(e){let{serverDeaf:t,deaf:n,serverMute:i,mute:s,localMute:a}=e;if(t)return C.serverDeaf;if(n)return C.deaf;if(i)return C.serverMute;else if(a)return C.localMute;else if(s)return C.mute}({serverDeaf:L,deaf:A,serverMute:Z,mute:N,localMute:v}))&&void 0!==s?s:{},y=null!=D?p.Z.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:b,status:D()}):b;function j(e){null!=R?(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("12435"),n.e("17463")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:E,guildId:R,channel:a,showMediaItems:!0})}):(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return t=>(0,i.jsx)(e,{...t,user:E,showMediaItems:!0})})}return(0,i.jsx)(o.Popout,{preload:()=>(0,_.W)(E.id,E.getAvatarURL(R,80),{guildId:R,channelId:a.id}),position:"top",renderPopout:e=>(0,i.jsx)(h.Z,{location:"RTCConnectionVoiceUsers",userId:E.id,guildId:R,channelId:a.id,...e}),children:e=>(0,i.jsx)(o.Tooltip,{text:y,children:t=>(0,i.jsx)(o.Clickable,{...t,...e,className:T.avatarContainer,onContextMenu:j,focusProps:S,children:(0,i.jsx)(u.Z,{shakeLocation:g.oZ.VOICE_USER,isShaking:O,children:(0,i.jsx)("div",{className:r()(T.avatar,{[T.speaking]:O}),style:{backgroundImage:"url(".concat(x,")")},children:null!=P?(0,i.jsx)(P,{className:r()(T.avatarIconOverlay,{[T.avatarIconRed]:M}),color:"currentColor",size:"xs"}):null})})})})})}function N(e){let{voiceStates:t,channel:n,className:a}=e,[c,d]=s.useState(!1),u=c?o.MinusIcon:o.PlusSmallIcon,_=(0,i.jsx)(o.CircleIconButton,{className:T.expandButton,onClick:()=>d(!c),color:o.CircleIconButtonColors.PRIMARY,size:o.CircleIconButtonSizes.SIZE_24,tooltip:c?p.Z.Messages.VOICE_PANEL_HIDE_EXTRAS:p.Z.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:(0,i.jsx)(u,{size:"xs",color:"currentColor"}),focusProps:S}),h=(0,l.e7)([E.default],()=>E.default.getId(),[]),[I,m]=function(e,t){let n=[];for(let i of e){if(!(i.user.id===t||n.some(e=>e.user.id===i.user.id))){if(n.length>=7)return[n,!0];n.push(i)}}return[n,!1]}(t,h),g=m&&c?t:I;return g.length<=0?null:(0,i.jsx)(o.ScrollerThin,{className:r()(T.scroller,a),fade:!0,children:(0,i.jsxs)("div",{className:T.voiceUsers,role:"group","aria-label":p.Z.Messages.VOICE_PANEL_USERS_A11Y_LABEL,children:[g.map(e=>{let{user:t,nick:s,voiceState:a}=e;return t.id!==h?(0,i.jsx)(f,{channel:n,user:t,nick:s,mute:a.isVoiceMuted(),deaf:a.isVoiceDeafened(),video:a.selfVideo,serverMute:a.mute,serverDeaf:a.deaf},t.id):null}),m?_:null]})})}},179742:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(266067),a=n(880257),r=n(106939),l=n(981631);function o(){return!1===(0,a.Z)()?(0,i.jsx)(s.l_,{to:l.Z5c.SETTINGS("family-center")}):(0,i.jsx)(r.Z,{})}},390697:function(e,t,n){n.d(t,{T:function(){return s}});let i=(0,n(818083).B)({kind:"user",id:"2023-05_clear_pending_incoming_friend_requests",label:"Enable ability to clear incoming friend requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(){return i.useExperiment({location:"ca2288_1"},{autoTrackExposure:!0}).enabled}},617015:function(e,t,n){n.d(t,{De:function(){return a},NV:function(){return s},nG:function(){return i},yf:function(){return r}});let i=64,s=62,a=24,r=5},321488:function(e,t,n){var i,s,a=n(735250);n(470079);var r=n(120356),l=n.n(r),o=n(873546),c=n(481060),d=n(446122);function u(e){let{icon:t,tooltip:n,onClick:i,actionType:s=2,shouldHighlight:r}=e;return(0,a.jsx)(c.Tooltip,{text:n,children:e=>(0,a.jsx)(c.Clickable,{...e,"aria-label":n,onClick:i,className:l()(d.actionButton,{[d.actionAccept]:0===s,[d.actionDeny]:1===s,[d.highlight]:r,[d.actionButtonMobile]:o.tq}),children:(0,a.jsx)(t,{className:d.icon,color:"currentColor"})})})}(i=s||(s={}))[i.ACCEPT=0]="ACCEPT",i[i.DENY=1]="DENY",i[i.DEFAULT=2]="DEFAULT",u.ActionTypes=s,t.Z=u},666286:function(e,t,n){var i=n(735250),s=n(470079),a=n(481060),r=n(115849),l=n(645792),o=n(787642),c=n(437314),d=n(981631),u=n(689938),_=n(107387);function h(){return(0,i.jsxs)("header",{className:_.header,children:[(0,i.jsx)(a.FormTitle,{tag:"h2",className:_.title,children:u.Z.Messages.ADD_FRIEND}),(0,i.jsx)(r.Z,{})]})}t.Z=function(){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(h,{}),(0,l.b)()&&(0,i.jsx)(o.Z,{}),(0,i.jsx)("div",{className:_.emptyState,children:(0,i.jsx)(c.Z,{type:d.pJs.ADD_FRIEND})})]})}},787642:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250),s=n(470079),a=n(481060),r=n(212093),l=n(703656),o=n(769654),c=n(430824),d=n(626135),u=n(768581),_=n(125631),h=n(981631),E=n(689938),I=n(961517);function m(e,t,n){return(0,i.jsxs)("button",{className:I.container,onClick:n,children:["function"==typeof e?(0,i.jsx)("div",{className:I.icon,children:(0,i.jsx)(e,{className:I.__invalid_iconInner,color:a.tokens.colors.WHITE.css})}):(0,i.jsx)("img",{className:I.icon,alt:"",src:e}),(0,i.jsx)(a.Text,{className:I.text,variant:"text-md/medium",children:t}),(0,i.jsx)(_.Z,{className:I.arrow})]},t)}function g(){let e=Object.values(c.Z.getGuilds()).filter(e=>e.hasFeature(h.oNc.HUB)),t=e=>{d.default.track(h.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e}),(0,o.X)(e)};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("header",{className:I.header,children:(0,i.jsx)(a.FormTitle,{tag:"h2",className:I.title,children:E.Z.Messages.ADD_FRIEND_MAKE_FRIENDS})}),(0,i.jsxs)("div",{className:I.grid,children:[e.map(e=>m(u.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,()=>{t(e.id)})),m(a.CompassIcon,E.Z.Messages.ADD_FRIEND_EXPLORE_PUBLIC_SERVERS,()=>{(0,r.AQ)(),d.default.track(h.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED),(0,l.uL)(h.Z5c.GUILD_DISCOVERY)})]})]})}},125631:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(735250);function s(e){let{color:t="currentColor",...n}=e;return(0,i.jsx)("svg",{...n,fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:t,fillRule:"evenodd"})})}n(470079)},434184:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(735250),s=n(470079),a=n(481060),r=n(194359),l=n(906732),o=n(171368),c=n(626135),d=n(321488),u=n(417183),_=n(170245),h=n(981631),E=n(689938),I=n(812155);function m(e){let{user:t,key:n,isFocused:m}=e,g=s.useContext(c.AnalyticsContext),{analyticsLocations:p}=(0,l.ZP)(),T=e=>{e.stopPropagation(),r.Z.unblockUser(t.id,{location:"Friends"})};return(0,i.jsx)(u.Z,{isFocused:m,onClick:()=>(0,o.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:p,analyticsLocation:g.location}),user:t,children:e=>(0,i.jsxs)("div",{className:I.listItemContents,children:[(0,i.jsx)(_.Z,{user:t,hovered:e,status:h.Skl.UNKNOWN,subText:E.Z.Messages.BLOCKED}),(0,i.jsx)(d.Z,{icon:a.UserMinusIcon,actionType:d.Z.ActionTypes.DENY,tooltip:E.Z.Messages.UNBLOCK,onClick:T,shouldHighlight:e})]})},n)}},352455:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(409700),o=n(230711),c=n(446753),d=n(981631),u=n(921944),_=n(689938),h=n(901270);function E(e){let{className:t,markAsDismissed:n}=e;return(0,i.jsxs)(c.Z,{className:a()(h.card,t),children:[(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",className:h.header,children:_.Z.Messages.NOW_PLAYING_GDPR_HEADER}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",children:_.Z.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:()=>o.Z.open(d.oAB.PRIVACY_AND_SAFETY)})}),(0,i.jsxs)("div",{className:h.buttonContainer,children:[(0,i.jsx)(r.Button,{size:r.Button.Sizes.SMALL,onClick:()=>(0,l.g)([d.pjP.PERSONALIZATION],[]),children:_.Z.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES}),(0,i.jsx)(r.Button,{color:r.Button.Colors.PRIMARY,size:r.Button.Sizes.SMALL,onClick:()=>n(u.L.DISMISS),look:r.Button.Looks.LINK,children:_.Z.Messages.NO_THANKS})]})]})}},701861:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(392711),r=n.n(a),l=n(442837),o=n(481060),c=n(493683),d=n(239091),u=n(194359),_=n(703656),h=n(592125),E=n(131951),I=n(51144),m=n(321488),g=n(417183),p=n(825682),T=n(170245),S=n(981631),C=n(65154),f=n(689938),N=n(920175);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){let{user:t,onSelect:n}=e,s=()=>{u.Z.removeFriend(t.id,{location:"Friends"})},a=(0,l.e7)([E.Z],()=>E.Z.supports(C.AN.VIDEO));return(0,i.jsxs)(o.Menu,{navId:"friend-row","aria-label":f.Z.Messages.USER_ACTIONS_MENU_LABEL,onClose:d.Zy,onSelect:n,children:[a?(0,i.jsx)(o.MenuItem,{id:"start-video-call",label:f.Z.Messages.START_VIDEO_CALL,action:function(){c.Z.openPrivateChannel(t.id,!0,!0)}}):null,(0,i.jsx)(o.MenuItem,{id:"start-voice-call",label:f.Z.Messages.START_VOICE_CALL,action:()=>{c.Z.openPrivateChannel(t.id,!0)}}),(0,i.jsx)(o.MenuItem,{id:"remove-friend",label:f.Z.Messages.REMOVE_FRIEND,action:()=>{(0,o.openModal)(e=>(0,i.jsx)(o.ConfirmModal,{header:f.Z.Messages.REMOVE_FRIEND_TITLE.format({name:I.ZP.getName(t)}),confirmText:f.Z.Messages.REMOVE_FRIEND,cancelText:f.Z.Messages.CANCEL,onConfirm:s,...e,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:f.Z.Messages.REMOVE_FRIEND_BODY.format({name:I.ZP.getName(t)})})}))},color:"danger"})]})}class L extends s.PureComponent{componentWillLeave(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)}componentWillEnter(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}render(){let{user:e,isFocused:t,activities:n,applicationStream:s,status:a,isMobile:r}=this.props,{isActiveRow:l}=this.state;return(0,i.jsx)(g.Z,{ref:this.peopleListItemRef,isFocused:t,isActive:l,user:e,onOtherHover:()=>l?null:(0,d.Zy)(),onClick:this.handleOpenPrivateChannel,children:t=>(0,i.jsxs)("div",{className:N.listItemContents,children:[(0,i.jsx)(T.Z,{user:e,status:a,isMobile:r,subText:(0,i.jsx)(p.Z,{hovered:t,activities:n,applicationStream:s,status:a,user:e}),hovered:t,showAccountIdentifier:!0}),(0,i.jsxs)("div",{className:N.actions,children:[(0,i.jsx)(m.Z,{icon:o.ChatIcon,tooltip:f.Z.Messages.SEND_DM,onClick:this.handleOpenPrivateChannel,shouldHighlight:t}),(0,i.jsx)(m.Z,{icon:o.MoreVerticalIcon,tooltip:f.Z.Messages.MORE,onClick:this.handleOpenActionsMenu,shouldHighlight:t})]})]})})}constructor(...e){super(...e),A(this,"peopleListItemRef",s.createRef()),A(this,"state",{isActiveRow:!1}),A(this,"handleOpenPrivateChannel",e=>{let{user:t}=this.props;e.stopPropagation();let n=r().find(h.Z.getMutablePrivateChannels(),e=>e.type===S.d4z.DM&&e.getRecipientId()===t.id);null!=n?(0,_.uL)(S.Z5c.CHANNEL(S.ME,n.id)):c.Z.openPrivateChannel(t.id)}),A(this,"handleOpenActionsMenu",e=>{let{user:t}=this.props;(0,d.vq)(e,e=>(0,i.jsx)(Z,{...e,user:t}),{onClose:()=>{this.setState({isActiveRow:!1})}}),this.setState({isActiveRow:!0})})}}t.Z=L},437314:function(e,t,n){n.d(t,{j:function(){return i}}),n(411104),n(47120);var i,s=n(735250),a=n(470079),r=n(748780),l=n(442837),o=n(481060),c=n(210887),d=n(981631),u=n(689938),_=n(942399);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(i||(i={})).SECTION_NO_RESULTS="SECTION_NO_RESULTS";let E=Object.freeze({SECTION_ALL:{lightSrc:n(900933),darkSrc:n(67764),width:376,height:162,renderContent:e=>(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIENDS_EMPTY_STATE_ALL}),(0,s.jsx)(o.Button,{className:_.button,onClick:e,children:u.Z.Messages.ADD_FRIEND})]})},SECTION_ONLINE:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIENDS_EMPTY_STATE_ONLINE})},SECTION_BLOCKED:{lightSrc:n(459505),darkSrc:n(356634),width:433,height:232,renderContent:()=>(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIENDS_EMPTY_STATE_BLOCKED})},SECTION_PENDING:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIENDS_EMPTY_STATE_PENDING})},SECTION_SUGGESTIONS:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})},SECTION_NO_RESULTS:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,s.jsx)(o.EmptyStateText,{note:u.Z.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}),I=e=>{let{theme:t}=e,n=u.Z.Messages.FRIENDS_EMPTY_STATE_ALL,i=E.SECTION_ALL;return(0,s.jsx)(a.Fragment,{children:(0,s.jsxs)(o.EmptyState,{theme:t,children:[(0,s.jsx)(o.EmptyStateImage,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,s.jsx)(o.EmptyStateText,{note:n})]})})};class m extends a.PureComponent{render(){let{type:e,onClick:t,theme:n}=this.props,i={opacity:this.state.opacity},a=function(e){switch(e){case d.pJs.ADD_FRIEND:case d.pJs.ALL:return E.SECTION_ALL;case d.pJs.ONLINE:return E.SECTION_ONLINE;case d.pJs.PENDING:return E.SECTION_PENDING;case d.pJs.SUGGESTIONS:return E.SECTION_SUGGESTIONS;case d.pJs.BLOCKED:return E.SECTION_BLOCKED;case"SECTION_NO_RESULTS":return E.SECTION_NO_RESULTS;default:throw Error("FriendsEmptyState: Invalid empty state")}}(e);return e===d.pJs.ADD_FRIEND?(0,s.jsx)(r.Z.div,{className:_.friendsEmpty,style:i,children:(0,s.jsx)(I,{theme:n})}):(0,s.jsx)(r.Z.div,{className:_.friendsEmpty,style:i,children:(0,s.jsxs)(o.EmptyState,{theme:n,children:[(0,s.jsx)(o.EmptyStateImage,{width:a.width,height:a.height,lightSrc:a.lightSrc,darkSrc:a.darkSrc}),a.renderContent(t)]})})}constructor(...e){super(...e),h(this,"state",{opacity:new r.Z.Value(1)}),h(this,"componentWillEnter",e=>{this.state.opacity.setValue(0),r.Z.timing(this.state.opacity,{toValue:1,duration:250}).start(e)}),h(this,"componentWillLeave",e=>{r.Z.timing(this.state.opacity,{toValue:0,duration:250}).start(e)})}}t.Z=l.ZP.connectStores([c.Z],()=>({theme:c.Z.theme}),{forwardRef:!0})(m)},696577:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(735250),s=n(470079),a=n(692547),r=n(481060),l=n(194359),o=n(906732),c=n(171368),d=n(594174),u=n(626135),_=n(321488),h=n(417183),E=n(170245),I=n(981631),m=n(689938),g=n(326059);function p(e){let{user:t,type:n,status:p,isFocused:T}=e,S=s.useContext(u.AnalyticsContext),{analyticsLocations:C}=(0,o.ZP)(),f=e=>{e.stopPropagation(),l.Z.cancelFriendRequest(t.id,{location:"Friends"})},N=e=>{e.stopPropagation(),l.Z.addRelationship({userId:t.id,context:{location:"Friends"}})},A=p===I.Skl.OFFLINE?I.Skl.UNKNOWN:p,Z=n===I.OGo.PENDING_INCOMING?m.Z.Messages.INCOMING_FRIEND_REQUEST:m.Z.Messages.OUTGOING_FRIEND_REQUEST;return(0,i.jsx)(h.Z,{isFocused:T,user:t,onClick:()=>(0,c.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:C,analyticsLocation:S.location}),children:e=>{var s;let l=n===I.OGo.PENDING_INCOMING?(0,i.jsxs)(i.Fragment,{children:[(null===(s=d.default.getCurrentUser())||void 0===s?void 0:s.isStaff())&&(null==t?void 0:t.isStaff())&&(0,i.jsx)("div",{className:g.staffIndicator,children:(0,i.jsx)(r.TextBadge,{color:a.Z.unsafe_rawColors.BRAND_500.css,text:m.Z.Messages.STAFF_BADGE_TOOLTIP})}),(0,i.jsx)(_.Z,{icon:r.CheckmarkLargeIcon,actionType:_.Z.ActionTypes.ACCEPT,tooltip:m.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:N,shouldHighlight:e}),(0,i.jsx)(_.Z,{icon:r.CloseSmallIcon,actionType:_.Z.ActionTypes.DENY,tooltip:m.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:f,shouldHighlight:e})]}):(0,i.jsx)(_.Z,{icon:r.CloseSmallIcon,actionType:_.Z.ActionTypes.DENY,tooltip:m.Z.Messages.FRIEND_REQUEST_CANCEL,onClick:f,shouldHighlight:e});return(0,i.jsxs)("div",{className:g.listItemContents,children:[(0,i.jsx)(E.Z,{user:t,hovered:e,showAccountIdentifier:!0,status:A,subText:Z,className:g.userInfo}),(0,i.jsx)("div",{className:g.actions,children:l})]})}})}},596957:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(481060),c=n(758059),d=n(194359),u=n(410575),_=n(607070),h=n(100527),E=n(906732),I=n(205976),m=n(699516),g=n(974042),p=n(451478),T=n(390697),S=n(434184),C=n(701861),f=n(437314),N=n(696577),A=n(163417),Z=n(492347),L=n(42575),v=n(617015),O=n(981631),R=n(689938),x=n(493367);t.Z=function(e){let{sectionFilter:t,titleId:n}=e,{analyticsLocations:a}=(0,E.ZP)(h.Z.FRIENDS_LIST),{rows:b,section:P}=(0,l.cj)([g.ZP],()=>g.ZP.getState()),M=(0,l.e7)([p.Z],()=>p.Z.isFocused()),D=(0,l.e7)([m.Z],()=>m.Z.getRelationshipCount()),y=(0,T.T)(),[j,U]=s.useState(()=>{let e={};for(let t of Object.values(O.pJs))e[t]="";return e}),G=s.useCallback(e=>{U({...j,[t]:e})},[j,t]),k=s.useCallback(()=>{U({...j,[t]:""})},[j,t]),w=b.filter(t,j[t]);if(0===w.length&&""===j[t])return(0,i.jsxs)("div",{className:x.emptyStateContainer,children:[t===O.pJs.ONLINE&&(0,i.jsx)(I.Z,{}),(0,i.jsx)(f.Z,{type:t,onClick:()=>{c.Z.setSection(O.pJs.ADD_FRIEND)}},P)]});let B=[w],H=0===w.length&&""!==j[t],V=w.filter(e=>e.type===O.OGo.PENDING_INCOMING).length,F=t===O.pJs.PENDING&&V>0&&y&&V>=v.yf;return(0,i.jsx)(E.Gt,{value:a,children:(0,i.jsxs)(u.Z,{section:O.jXE.FRIENDS_LIST,children:[(0,i.jsx)(o.SearchBar,{className:r()(x.searchBar,H?x.searchEmptyState:null),query:j[t],onChange:G,onClear:k,size:o.SearchBar.Sizes.MEDIUM}),t===O.pJs.ONLINE&&""===j[t]&&(0,i.jsx)(I.Z,{}),(0,i.jsxs)("div",{className:x.sectionTitle,children:[(0,i.jsx)(Z.Z,{id:n,title:function(e,t){switch(e){case O.pJs.ONLINE:return R.Z.Messages.FRIENDS_ONLINE_HEADER.format({online:t.toString()});case O.pJs.PENDING:return R.Z.Messages.FRIENDS_PENDING_HEADER.format({count:t.toString()});case O.pJs.SUGGESTIONS:return R.Z.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:t.toString()});case O.pJs.BLOCKED:return R.Z.Messages.FRIENDS_BLOCKED_HEADER.format({count:t.toString()});default:return R.Z.Messages.FRIENDS_ALL_HEADER.format({count:t.toString()})}}(t,w.length)}),F&&(0,i.jsx)(o.Button,{look:o.ButtonLooks.LINK,color:o.ButtonColors.LINK,className:x.clearButton,size:o.Button.Sizes.TINY,onClick:e=>{e.stopPropagation(),d.Z.confirmClearPendingRelationships(V)},"aria-label":R.Z.Messages.CLEAR_INCOMING_REQUESTS_BUTTON,children:R.Z.Messages.CLEAR_INCOMING_REQUESTS_BUTTON})]}),H?(0,i.jsx)("div",{className:x.emptyStateContainer,children:(0,i.jsx)(f.Z,{type:f.j.SECTION_NO_RESULTS},P)}):(0,i.jsx)(A.Z,{relationshipCount:D,statusSections:B,renderRow:function(e){switch(t){case O.pJs.BLOCKED:return(0,i.jsx)(S.Z,{...e,isFocused:M});case O.pJs.PENDING:return(0,i.jsx)(N.Z,{...e,isFocused:M});case O.pJs.SUGGESTIONS:return(0,i.jsx)(L.Z,{...e,isFocused:M});case O.pJs.ONLINE:case O.pJs.ALL:default:return(0,i.jsx)(C.Z,{...e,isFocused:M})}},sectionFilter:t,searchQuery:j[t],useReducedMotion:_.Z.useReducedMotion})]})})}},417183:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(748780),o=n(91192),c=n(481060),d=n(239091),u=n(617015),_=n(234187);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends s.PureComponent{componentWillLeave(e){l.Z.parallel([l.Z.timing(this.state.opacity,{toValue:0,duration:200}),l.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)}componentWillEnter(e){this.state.opacity.setValue(0),this.state.height.setValue(0),l.Z.parallel([l.Z.timing(this.state.opacity,{toValue:1,duration:200}),l.Z.timing(this.state.height,{toValue:u.NV,duration:200})]).start(e)}render(){let{height:e,opacity:t,hovered:n,isContextMenuActive:s}=this.state,{children:a,user:d,onClick:u,isActive:h}=this.props;return(0,i.jsx)(o.mh,{id:d.id,children:o=>(0,i.jsx)(c.FocusRing,{offset:{left:-8,right:-8},children:(0,i.jsx)(l.Z.div,{className:r()(_.peopleListItem,{[_.active]:h||s}),onContextMenu:e=>this.handleContextMenu(e,d),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:null!=u?u:void 0,style:{height:e,opacity:t},...o,children:a(n||h||s)})})})}constructor(...e){super(...e),h(this,"state",{height:new l.Z.Value(u.NV),opacity:new l.Z.Value(1),hovered:!1,isContextMenuActive:!1}),h(this,"handleMouseEnter",()=>{let{isFocused:e,isActive:t,onOtherHover:n}=this.props,{isContextMenuActive:i}=this.state;this.setState({hovered:e}),e&&!t&&!i&&(null==n||n())}),h(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),h(this,"handleContextMenu",(e,t)=>{this.setState({isContextMenuActive:!0}),(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("17400"),n.e("13806")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{this.setState({isContextMenuActive:!1})}})})}}t.Z=E},163417:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(145641),a=n(322701),r=n(617015);function l(e){let{relationshipCount:t,statusSections:n,renderRow:l,searchQuery:o,sectionFilter:c,useReducedMotion:d}=e;return t>=r.nG?(0,i.jsx)(s.Z,{statusSections:n,renderRow:l,searchQuery:o}):(0,i.jsx)(a.Z,{statusSections:n,renderRow:l,sectionFilter:c,searchQuery:o,useReducedMotion:d})}},145641:function(e,t,n){var i=n(735250),s=n(470079),a=n(924826),r=n(91192),l=n(442837),o=n(481060),c=n(607070),d=n(617015),u=n(493367);t.Z=function(e){let{statusSections:t,renderRow:n,searchQuery:_}=e,h=e=>0===t[e].length?0:d.De+16,E=e=>{let{section:i,row:s}=e,a=t[i];if(null==a||null==s)return null;let r=a[s];return null==r?null:n(r)},I=(0,l.e7)([c.Z],()=>c.Z.keyboardModeEnabled),m=s.useRef(null),g=s.useCallback(()=>new Promise(e=>{let t=m.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),p=s.useCallback(()=>new Promise(e=>{let t=m.current;if(null==t)return e();t.scrollToBottom({callback:()=>requestAnimationFrame(()=>e())})}),[]),T=s.useCallback(e=>{let t=document.querySelector(e),n=m.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:()=>null==t?void 0:t.focus()})},[]),S=(0,a.ZP)({id:"people-list",isEnabled:I,scrollToStart:g,scrollToEnd:p,setFocus:T});return(0,i.jsx)(r.bG,{navigator:S,children:(0,i.jsx)(r.SJ,{children:e=>{let{ref:n,...s}=e;return(0,i.jsx)(o.ListAuto,{ref:e=>{var t;m.current=e,n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:h,renderRow:E,rowHeight:d.NV,sections:t.map(e=>""!==_&&0===e.length?e.length+1:e.length),className:u.peopleList,...s})}})})}},322701:function(e,t,n){var i=n(735250);n(470079);var s=n(924826),a=n(91192),r=n(442837),l=n(215569),o=n(481060),c=n(607070),d=n(981631),u=n(493367);t.Z=function(e){let{statusSections:t,renderRow:n,searchQuery:_,sectionFilter:h,useReducedMotion:E}=e,I=(0,r.e7)([c.Z],()=>c.Z.keyboardModeEnabled),m=(0,s.ZP)({id:"people",isEnabled:I,async scrollToStart(){},async scrollToEnd(){}}),g=h!==d.pJs.ONLINE&&h!==d.pJs.ALL,p=E||""!==_||g,T=t.map((e,t)=>p?(0,i.jsx)("div",{children:e.map(n)},t):(0,i.jsx)(l.W,{transitionAppear:!1,component:"div",children:e.map(n)},t));return(0,i.jsx)(a.bG,{navigator:m,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:t,...n}=e;return(0,i.jsx)(o.ScrollerAuto,{ref:t,className:u.peopleList,...n,children:T})}})})}},270759:function(e,t,n){n(610138),n(216116),n(78328),n(815648),n(47120),n(757143);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(266067),o=n(873546),c=n(442837),d=n(481060),u=n(570140),_=n(150063),h=n(758059),E=n(252618),I=n(5254),m=n(984370),g=n(518311),p=n(199104),T=n(108427),S=n(210887),C=n(974042),f=n(153124),N=n(792125),A=n(666286),Z=n(596957),L=n(981631),v=n(723359),O=n(689938),R=n(721636);function x(){return(0,i.jsxs)("div",{className:R.inviteToolbar,children:[(0,i.jsx)(g.Z,{tooltip:O.Z.Messages.NEW_GROUP_DM}),(0,i.jsx)(m.Z.Divider,{})]})}t.Z=function(e){let{initialSection:t}=e,n=(0,l.TH)(),a=(0,l.k6)();s.useEffect(()=>{"true"===new URLSearchParams(n.search).get("confirm-age")&&u.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:v.L0.DEEP_LINK_PROMPT}).then(()=>{a.replace(L.Z5c.ME)})},[a,n]),s.useEffect(()=>{_.Y(L.Z5c.FRIENDS),(0,T.e)("friends")},[]),s.useEffect(()=>{null!=t&&h.Z.setInitialSection(t)},[t]);let g=(0,c.e7)([S.Z],()=>S.Z.theme),{section:b,pendingCount:P}=(0,c.cj)([C.ZP],()=>C.ZP.getState()),M=(0,c.cj)([I.Z],()=>I.Z.getSuggestionCount()),D=(0,f.Dt)(),y=(0,f.Dt)();return(0,i.jsxs)("main",{className:R.container,"aria-label":O.Z.Messages.FRIENDS,children:[(0,i.jsx)(E.yY,{location:O.Z.Messages.FRIENDS}),(0,i.jsxs)(m.Z,{className:(0,N.Q)(g),toolbar:(0,i.jsx)(x,{}),scrollable:o.tq,role:"navigation","aria-labelledby":D,children:[(0,i.jsx)(m.Z.Icon,{icon:d.FriendsIcon,"aria-hidden":!0}),(0,i.jsx)(m.Z.Title,{id:D,children:O.Z.Messages.FRIENDS}),(0,i.jsx)(m.Z.Divider,{}),(0,i.jsxs)(d.TabBar,{"aria-label":O.Z.Messages.FRIENDS,selectedItem:b,type:"top-pill",onItemSelect:e=>{h.Z.setSection(e)},className:R.tabBar,children:[(0,i.jsx)(d.TabBar.Item,{id:L.pJs.ONLINE,className:R.item,children:O.Z.Messages.FRIENDS_SECTION_ONLINE}),(0,i.jsx)(d.TabBar.Item,{id:L.pJs.ALL,className:R.item,children:O.Z.Messages.FRIENDS_SECTION_ALL}),(0,i.jsxs)(d.TabBar.Item,{id:L.pJs.PENDING,className:R.item,"aria-label":O.Z.Messages.FRIENDS_SECTION_PENDING,children:[O.Z.Messages.FRIENDS_SECTION_PENDING,P>0?(0,i.jsx)(d.NumberBadge,{count:P,className:R.badge,style:{paddingRight:0}}):null]}),M>0?(0,i.jsxs)(d.TabBar.Item,{id:L.pJs.SUGGESTIONS,className:R.item,"aria-label":O.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,children:[O.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,(0,i.jsx)(d.NumberBadge,{count:M,className:R.badge,style:{paddingRight:0}})]}):null,(0,i.jsx)(d.TabBar.Item,{id:L.pJs.BLOCKED,className:R.item,children:O.Z.Messages.BLOCKED}),(0,i.jsx)(d.TabBar.Item,{"aria-label":O.Z.Messages.FRIENDS_SECTION_ADD_FRIEND,className:r()(R.item,R.addFriend),id:L.pJs.ADD_FRIEND,children:(0,i.jsx)("span",{children:O.Z.Messages.FRIENDS_SECTION_ADD_FRIEND})})]})]}),(0,i.jsxs)("div",{className:R.tabBody,children:[(0,i.jsx)(d.TabBar.Panel,{id:b,className:R.peopleColumn,"aria-labelledby":y,children:b===L.pJs.ADD_FRIEND?(0,i.jsx)(A.Z,{}):(0,i.jsx)(Z.Z,{titleId:y,sectionFilter:b})}),(0,i.jsx)("div",{className:R.nowPlayingColumn,children:(0,i.jsx)(p.Z,{})})]})]})}},492347:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(735250);n(470079);var s=n(151827),a=n(479273);function r(e){let{title:t,id:n}=e;return(0,i.jsx)(s.Z,{className:a.title,id:n,children:t})}},825682:function(e,t,n){var i=n(735250);n(470079);var s=n(788307),a=n(51144),r=n(893389);t.Z=function(e){let{hovered:t,activities:n,applicationStream:l,status:o,user:c}=e;return n.length>0?(0,i.jsx)(s.Z,{className:r.activity,textClassName:r.text,emojiClassName:r.customStatusEmoji,activities:n,applicationStream:l,animate:t,user:c}):(0,i.jsx)("div",{className:r.text,children:(0,a.u5)(o)})}},42575:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(735250),s=n(470079),a=n(481060),r=n(194359),l=n(906732),o=n(388380),c=n(171368),d=n(626135),u=n(321488),_=n(417183),h=n(170245),E=n(981631),I=n(689938),m=n(12505);function g(e){let{user:t,nickname:n,status:g,isFocused:p}=e,T=s.useContext(d.AnalyticsContext),{analyticsLocations:S}=(0,l.ZP)(),C=e=>{null==e||e.stopPropagation(),r.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},f=e=>{null==e||e.stopPropagation(),o.Z.ignore(t.id)},N=g===E.Skl.OFFLINE?E.Skl.UNKNOWN:g;return(0,i.jsx)(_.Z,{isFocused:p,user:t,onClick:()=>(0,c.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:S,analyticsLocation:T.location}),children:e=>{let s=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{icon:a.CheckmarkLargeIcon,actionType:u.Z.ActionTypes.ACCEPT,tooltip:I.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:C,shouldHighlight:e}),(0,i.jsx)(u.Z,{icon:a.CloseSmallIcon,actionType:u.Z.ActionTypes.DENY,tooltip:I.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:f,shouldHighlight:e})]});return(0,i.jsxs)("div",{className:m.listItemContents,children:[(0,i.jsx)(h.Z,{user:t,hovered:e,status:N,subText:n,className:m.__invalid_userInfo}),(0,i.jsx)("div",{className:m.actions,children:s})]})}})}},170245:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(442837),l=n(129861),o=n(700582),c=n(699516),d=n(725174);t.Z=function(e){let{user:t,hovered:n,subText:s,showAccountIdentifier:u,status:_,isMobile:h,className:E}=e,I=(0,r.e7)([c.Z],()=>c.Z.getNickname(t.id));return(0,i.jsxs)("div",{className:a()(d.userInfo,E,{[d.hovered]:n}),children:[(0,i.jsx)(o.Z,{user:t,className:d.avatar,animate:n,status:_,isMobile:h}),(0,i.jsxs)("div",{className:d.text,children:[(0,i.jsx)(l.Z,{user:t,nick:I,botClass:d.botTag,className:a()(d.discordTag,{[d.alignPomelo]:t.isPomelo()}),usernameClass:d.username,discriminatorClass:d.discriminator,showAccountIdentifier:u}),(0,i.jsx)("div",{className:d.subtext,children:s})]})]})}},960275:function(e,t,n){n(47120);var i=n(570140),s=n(317770),a=n(314897),r=n(57562),l=n(882029),o=n(955204),c=n(351780),d=n(843693);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _=new Set;class h extends s.Z{_initialize(){i.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}_terminate(){i.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}constructor(...e){super(...e),u(this,"handleSettingsUpdate",e=>{let{settings:t}=e;t.enabled?(0,r.T)(o.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,r.T)(o.hn.DISABLE_POGGERMODE),Object.keys(t).some(e=>e.startsWith("confetti"))&&(0,r.T)(o.hn.CUSTOMIZE_CONFETTI)}),u(this,"handleMessageCreate",e=>{var t;let{channelId:n,message:{author:i,nonce:s,mentions:u}}=e;if(!c.Z.isEnabled())return!1;let h=a.default.getId();if((null==u?void 0:u.find(e=>e.id===h))!=null?(0,r.T)(o.hn.PING_ME):(null!==(t=null==u?void 0:u.length)&&void 0!==t?t:0)>0&&(null==i?void 0:i.id)===h&&(0,r.T)(o.hn.PING_SOMEONE),!(0,d.wU)(null==i?void 0:i.id,h,s,_))return!1;let E=d.ZP.getMostRecentMessageCombo(n),{combo:I}=null!=E?E:{};if(null==I)return!1;Object.values(o.hn).forEach(e=>{if(null!=l.Z.getUnlocked(e))return;let t=(0,o.oX)(e),n=null==t?void 0:t.checkUnlock;if(null!=n&&!1!==n(I))(0,r.T)(e)})})}}t.Z=new h},678492:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770),l=n(689938);class o extends r.Z{_initialize(){a.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}_terminate(){a.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}handlePoggermodeTemporarilyDisabled(){(0,s.openModal)(e=>(0,i.jsx)(s.ConfirmModal,{...e,header:l.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:l.Z.Messages.CONFIRM,confirmButtonColor:s.Button.Colors.GREEN,children:(0,i.jsx)(s.Text,{variant:"text-md/normal",children:l.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY})}))}}t.Z=new o},269089:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(570140),a=n(317770),r=n(663993),l=n(788983),o=n(981631);n(634040);let c=(0,r.Un)({createPromise:()=>n.e("58621").then(n.bind(n,223455)),webpackId:223455,name:"PopoutWindowChannelCall"}),d=(0,r.Un)({createPromise:()=>n.e("91032").then(n.bind(n,432472)),webpackId:432472,name:"PopoutWindowStageChannelCall"}),u=(0,r.Un)({createPromise:()=>Promise.all([n.e("33053"),n.e("21305")]).then(n.bind(n,945778)),webpackId:945778,name:"PopoutWindowRTCDebug"});class _ extends a.Z{_initialize(){s.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),s.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),this.initializeStyleSheetObserver()}_terminate(){s.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),s.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),this.terminateStyleSheetObserver()}handleOpenChannelCallPopout(e){let{channel:t}=e;l.bA(o.KJ3.CHANNEL_CALL_POPOUT,e=>t.isGuildStageVoice()?(0,i.jsx)(d,{windowKey:e,channelId:t.id}):(0,i.jsx)(c,{windowKey:e,channelId:t.id}),{defaultWidth:854,defaultHeight:480})}initializeStyleSheetObserver(){this._observer=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&"LINK"===e.tagName&&"stylesheet"===e.rel){let t=e.href,n=e.integrity;l.YS(t,n)}}}),this._observer.observe(document.head,{childList:!0})}terminateStyleSheetObserver(){null!=this._observer&&(this._observer.disconnect(),this._observer=null)}handleOpenRTCDebugPopout(){l.bA(o.KJ3.RTC_DEBUG_POPOUT,e=>(0,i.jsx)(u,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}constructor(...e){var t,n,i;super(...e),t=this,i=null,(n="_observer")in t?Object.defineProperty(t,n,{value:null,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=new _},380570:function(e,t,n){n(47120);var i=n(748780),s=n(570140),a=n(317770),r=n(716578),l=n(928518);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Z{_initialize(){l.Z.addChangeListener(this.handlePopoutWindowChange),s.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)}_terminate(){l.Z.removeChangeListener(this.handlePopoutWindowChange),s.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus),this.injectWindowAnimationFrame(window)}injectWindowAnimationFrame(e){let t=t=>e.requestAnimationFrame(t),n=t=>e.cancelAnimationFrame(t);i.Z.inject.RequestAnimationFrame(t),i.Z.inject.CancelAnimationFrame(n),r.f.setRAF(t,n)}constructor(...e){super(...e),o(this,"handleMainWindowFocus",e=>{let{focused:t}=e;t&&this.injectWindowAnimationFrame(window)}),o(this,"handlePopoutWindowChange",()=>{let e=l.Z.getWindowKeys().find(e=>l.Z.getWindowFocused(e));if(null==e)return this.injectWindowAnimationFrame(window);let t=l.Z.getWindow(e);if(null==t||t.closed)return this.injectWindowAnimationFrame(window);this.injectWindowAnimationFrame(t)})}}t.Z=new c},240504:function(e,t,n){var i,s=n(442837),a=n(570140);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=12*n(70956).Z.Millis.HOUR,o={profileThemesRelevanceExceeded:null,savedAt:null},c={hasFetchedRelevance:!1},d=o,u=c;class _ extends(i=s.ZP.PersistedStore){initialize(e){u=c,d=o;let t=new Date;null!=e&&null!=e.savedAt&&t.getTime()-e.savedAt<l&&(d=e)}get hasFetchedRelevance(){return u.hasFetchedRelevance}get profileThemesRelevanceExceeded(){return d.profileThemesRelevanceExceeded}getState(){return d}}r(_,"displayName","PerksRelevanceStore"),r(_,"persistKey","PerksRelevanceStore"),t.Z=new _(a.Z,{BILLING_PERKS_RELEVANCE_FETCH_START:function(){u.hasFetchedRelevance=!0},BILLING_PERKS_RELEVANCE_FETCH_SUCCESS:function(e){let{res:t}=e;null!=t&&(d.profileThemesRelevanceExceeded=t.eligible,d.savedAt=new Date().getTime())},BILLING_PERKS_RELEVANCE_FETCH_FAIL:function(){},LOGOUT:function(){u=c,d=o}})},837689:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770),l=n(594174),o=n(295226),c=n(74538),d=n(374023),u=n(913976),_=n(104494),h=n(29920),E=n(786397),I=n(248042),m=n(318199),g=n(474936);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T="PremiumServerDriveAnnouncementModal";class S extends r.Z{_initialize(){a.Z.subscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),a.Z.subscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}_terminate(){a.Z.unsubscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),a.Z.unsubscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}constructor(...e){super(...e),p(this,"maybeOpenServerDriveAnnouncementModal",async(e,t)=>{let a=(0,m.extractAnnouncementModalContent)({content:e,isPreview:t});if(null!=a)return!!((null==a?void 0:a.contentIdentifier)!=="summer_bogo_content"||await (0,I.k)())&&((0,s.closeModal)(T),(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,318199));return t=>(0,i.jsx)(e,{renderModalProps:t,properties:a})},{modalKey:T}),!0);return!1}),p(this,"handlePreview",e=>{let{properties:t}=e;this.maybeOpenServerDriveAnnouncementModal(t,!0)}),p(this,"getOfferFromStore",()=>{let e=l.default.getCurrentUser();if((0,c.I5)(e))return{};let t=[g.hs,g.RU,g.rB,g.ih].map(e=>o.Z.getUserDiscountOffer(e)).filter(e=>null!=e&&!(0,_.kA)(e)).shift();if(null!=t)return{userDiscountOffer:t};let n=[g.i_,g.Cn,g.wh,g.AU,g.TL,g.ET,g.C2,g.Hk].map(e=>o.Z.getUserTrialOffer(e)).filter(e=>null!=e&&!(0,E.B)(e)).shift();return null!=n?{userTrialOffer:n}:{}}),p(this,"mayShowAnnouncementModal",async()=>{if(await (0,I.l2)(),!d.s.isDisallowPopupsSet()){if(!(0,s.hasAnyModalOpen)()&&u.Z.getCurrentConfig({location:"OfferAnnouncementManager"}).enabled){for(let e of(await (0,h.H)(this.getOfferFromStore())))if(await this.maybeOpenServerDriveAnnouncementModal(e,!1))break}}})}}t.Z=new S},565216:function(e,t,n){var i=n(735250);n(470079);var s=n(692547),a=n(780384),r=n(481060),l=n(410030);t.Z=e=>{let{className:t}=e,n=(0,l.ZP)(),o=(0,r.useToken)(s.Z.colors.BACKGROUND_ACCENT).hex();return(0,i.jsx)("svg",{width:"700",height:"120",viewBox:"0 0 700 120",className:t,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fill:(0,a.wj)(n)?o:"white",opacity:"1",d:"M351 39.047C185.4 -31.2102 48 9.77319 0 39.047V583.068C0 587.486 3.58174 591.068 8.00002 591.068H692C696.418 591.068 700 587.486 700 583.068V39.047C653.333 68.3208 516.6 109.304 351 39.047Z"})})}},318199:function(e,t,n){n.r(t),n.d(t,{default:function(){return m},extractAnnouncementModalContent:function(){return I}});var i=n(735250);n(470079);var s=n(581282),a=n(8853),r=n(663002),l=n(2052),o=n(410030),c=n(100527),d=n(906732),u=n(605236),_=n(960048),h=n(276792),E=n(290347);function I(e){let{content:t,isPreview:n}=e,i=a.t.fromBinary((0,s.c)(t));return"announcementModalVariant1"!==i.properties.oneofKind?null:!n&&(0===i.properties.announcementModalVariant1.dismissKey.trim().length||(0,u.un)(Number(i.properties.announcementModalVariant1.dismissKey)))?null:(n&&(i.properties.announcementModalVariant1.dismissKey=""),i)}function m(e){let{renderModalProps:t,properties:n}=e,{location:s}=(0,l.O)(),{analyticsLocations:a}=(0,d.ZP)(c.Z.PREMIUM_MARKETING_ANNOUNCEMENT_MODAL),u=(0,o.ZP)(),I=(0,r.a)(u);if("announcementModalVariant1"===n.properties.oneofKind){let e=(0,h.N)({content:n.properties.announcementModalVariant1,renderModalProps:t,analyticsLocations:a,analyticsLocation:s,isLightTheme:I});return(0,i.jsx)(E.Z,{...e})}return _.Z.captureMessage("Property type ".concat(n.properties.oneofKind," is not supported to render ServerDriveAnnouncementModal")),null}},637906:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-08_dcf_ml_model",label:"DCF ML Perks Relevance Model",defaultConfig:{enabled:!1},treatments:[{id:0,label:"threshold 0",config:{enabled:!0}},{id:1,label:"threshold 1",config:{enabled:!0}},{id:2,label:"threshold 2",config:{enabled:!0}},{id:3,label:"threshold 3",config:{enabled:!0}},{id:4,label:"threshold 4",config:{enabled:!0}}]});t.Z=i},913976:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-12_marketing_automation_experiment",label:"Marketing Automation",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Ask server for marketing content for rendering",config:{enabled:!0}}]});t.Z=i},647265:function(e,t,n){n.d(t,{N9:function(){return a}});var i=n(818083);let s=(0,i.B)({kind:"user",id:"2024-04_premium_marketing_tab_display_timing_experiment",label:"2024 Premium Marketing Tab Display Timing Experiment",defaultConfig:{daysUntilDisplay:2592e6},treatments:[{id:1,label:">7 day account age display",config:{daysUntilDisplay:6048e5}},{id:2,label:">14 day account age display",config:{daysUntilDisplay:12096e5}},{id:3,label:">21 day account age display",config:{daysUntilDisplay:18144e5}},{id:4,label:">28 day account age display",config:{daysUntilDisplay:24192e5}}]}),a=e=>{let{location:t,showTabForOtherReasons:n}=e;return s.useExperiment({location:t},{autoTrackExposure:!n}).daysUntilDisplay}},29920:function(e,t,n){n.d(t,{H:function(){return r}});var i=n(544891),s=n(960048),a=n(981631);async function r(e){let{userTrialOffer:t,userDiscount:n,userDiscountOffer:r}=e;try{let e=await i.tn.post({url:a.ANM.PREMIUM_MARKETING,body:{user_trial_offer:t,user_discount:n,user_discount_offer:r}});if(e.ok)return e.body;return s.Z.captureMessage("fetchPremiumMarketingContentWithUserOffer failed"),[]}catch(e){return s.Z.captureException(e),[]}}},276792:function(e,t,n){n.d(t,{N:function(){return g}});var i=n(735250);n(470079);var s=n(704215),a=n(740111),r=n(481060),l=n(963249),o=n(703656),c=n(626135),d=n(63063),u=n(823188),_=n(474936),h=n(981631),E=n(689938),I=n(745710),m=n(74316);function g(e){var t,n;let{content:g,renderModalProps:p,analyticsLocations:T,analyticsLocation:S,isLightTheme:C}=e,f="AnnouncementModalVariant1_".concat(s.z[Number(g.dismissKey)]),{onClose:N}=p,A=null!=g.button&&""!==g.button.copy?g.button.copy:E.Z.Messages.BILLING_SUBSCRIBE_TO_PLAN,Z=(null===(t=g.button)||void 0===t?void 0:t.buttonAction)===a.Wc.OPEN_MARKETING_PAGE?"jump_to_mkt_button":"get_nitro_button",L=(null===(n=g.button)||void 0===n?void 0:n.buttonAction)===a.Wc.OPEN_MARKETING_PAGE?()=>{(0,o.uL)(h.Z5c.APPLICATION_STORE),N()}:()=>(0,l.Z)({subscriptionTier:_.Si.TIER_2,analyticsLocations:T,analyticsObject:{...S,object:h.qAy.BUTTON_CTA,objectType:h.Qqv.TIER_2},onClose:e=>{e&&N()}}),v=""!==g.helpArticleId?()=>(0,i.jsx)(r.Anchor,{className:I.termsApplyAnchor,href:d.Z.getArticleURL(g.helpArticleId),children:E.Z.Messages.BOGO_TERMS_APPLY}):void 0,O={type:"video",src:C?g.heroArtVideoLinkLightTheme:g.videoLink};null!=g.heroArtVideoSubtitles&&(O.subtitles=g.heroArtVideoSubtitles.map(e=>{var t;return{locale:e.locale,src:e.link,isDefault:null!==(t=e.isDefault)&&void 0!==t&&t}})),(""!==g.heroArtImageLinkDarkTheme||""!==g.heroArtImageLinkLightTheme)&&(O={type:"image",src:C?g.heroArtImageLinkLightTheme:g.heroArtImageLinkDarkTheme});let R=C?u.VE.PREMIUM_TIER_2_OLD_GRADIENT_FILL:u.VE.PREMIUM_TIER_2_WHITE_FILL,x=""!==g.modalTopPill?()=>(0,i.jsx)(u.Cy,{text:g.modalTopPill,className:I.modalTopPill,colorOptions:R}):void 0;return{renderModalProps:p,header:g.header,modalTopExtra:x,subHeader:g.subheader,subHeaderExtra:v,body:g.body,heroArt:O,featureCards:g.featureCards.map(e=>({header:e.header,subHeader:e.body,imageSrc:C?e.imageLinkLightTheme:e.imageLink,tagText:""!==e.pill?e.pill:void 0})),changeLogId:f,button:()=>{let e=Date.now();return(0,i.jsxs)(r.ShinyButton,{className:I.buttonWide,innerClassName:I.innerButton,color:r.Button.Colors.GREEN,size:r.Button.Sizes.SMALL,onClick:()=>{c.default.track(h.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:f,cta_type:Z,seconds_open:Math.round((Date.now()-e)/1e3),target:f}),L()},children:[(0,i.jsx)("img",{alt:"",className:I.nitroIconSubHeader,src:m}),A]})},modalDismissibleContent:""!==g.dismissKey?Number(g.dismissKey):void 0}}},276645:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(481060),a=n(970731),r=n(689938),l=n(758);function o(e){let{guildId:t,markAsDismissed:o}=e;return(0,i.jsx)(a.ZP,{className:l.container,asset:(0,i.jsx)("img",{className:l.image,src:n(297806),alt:""}),header:r.Z.Messages.PREMIUM_CUSTOM_NOTIFICATION_SOUND_COACHMARK_TITLE,headerClassName:l.header,content:r.Z.Messages.PREMIUM_CUSTOM_NOTIFICATION_SOUND_COACHMARK_DESCRIPTION,buttonCTA:r.Z.Messages.CHECK_IT_OUT,buttonProps:{color:s.ButtonColors.WHITE,innerClassName:l.primaryButton},onClick:()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("12876")]).then(n.bind(n,751212));return n=>(0,i.jsx)(e,{...n,guildId:t})})},secondaryButtonCTA:r.Z.Messages.MAYBE_LATER,secondaryButtonProps:{look:s.ButtonLooks.LINK,color:s.ButtonColors.WHITE},markAsDismissed:o})}},649765:function(e,t,n){n.d(t,{E:function(){return d}});var i=n(735250),s=n(470079),a=n(481060),r=n(119269),l=n(227140),o=n(689938),c=n(612358);let d=e=>{let{children:t}=e,n=(0,i.jsxs)("div",{className:c.coachTipContainer,children:[(0,i.jsx)("div",{className:c.iconContainer,children:(0,i.jsx)(r.Z,{staticPercentage:100,iconClassName:c.icon,showAnimations:!0,progressCircleVariation:r.Q.NITRO_LOGO,ellipseOpacity:1,customAnimationClassName:c.customCircleAnimation,circleColor:"url(#purple-gradient)"})}),(0,i.jsxs)("div",{className:c.coachtipContent,children:[(0,i.jsx)(a.Heading,{variant:"heading-sm/bold",children:o.Z.Messages.REFERRAL_PROGRAM_SHARE_NITRO_WITH_FRIENDS}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",children:o.Z.Messages.REFERRAL_PROGRAM_HOME_BADGE_SUBHEADER.format({numReferrals:3})})]})]});return(0,i.jsx)(a.Tooltip,{text:n,position:"right","aria-label":o.Z.Messages.REFERRAL_PROGRAM_SHARE_NITRO_WITH_FRIENDS,tooltipClassName:c.marketingBadgeTooltip,allowOverflow:!0,tooltipContentClassName:c.tooltipContent,children:e=>(0,i.jsx)("div",{...e,children:t})})};t.Z=e=>{let{isSelected:t,onSelect:n}=e;return s.useEffect(()=>{t&&n()},[t,n]),(0,i.jsx)(l.Z,{copy:o.Z.Messages.NEW})}},457396:function(e,t,n){n.d(t,{g:function(){return U}});var i,s,a=n(735250);n(470079);var r=n(91192),l=n(442837),o=n(704215),c=n(481060),d=n(515753),u=n(605236),_=n(594174),h=n(351402),E=n(78839),I=n(626135),m=n(74538),g=n(502087),p=n(647265),T=n(650032),S=n(104494),C=n(639119),f=n(655525),N=n(314684),A=n(52188),Z=n(248042),L=n(924540),v=n(649765),O=n(565626),R=n(701910),x=n(487980),b=n(474936),P=n(981631),M=n(921944),D=n(689938),y=n(941576);let j="NitroTabButton";(i=s||(s={}))[i.BOGO_PROMOTION=0]="BOGO_PROMOTION",i[i.TENURE_REWARD=1]="TENURE_REWARD",i[i.NEW_PERKS_BADGE=2]="NEW_PERKS_BADGE",i[i.DISCOUNT_OFFER=3]="DISCOUNT_OFFER",i[i.TRIAL_OFFER=4]="TRIAL_OFFER",i[i.LOCALIZED_PRICING=5]="LOCALIZED_PRICING",i[i.REFERRAL_PROGRAM=6]="REFERRAL_PROGRAM";let U=e=>{let t,n,i,{selected:s,route:U,locationState:G,...k}=e,w=(0,l.e7)([_.default],()=>_.default.getCurrentUser()),B=(0,l.e7)([E.ZP],()=>E.ZP.getPremiumTypeSubscription()),H=(0,m.Qo)(w,B),V=(0,r.JA)("nitro"),F=(0,C.N)(),Y=(0,S.Ng)(),W=(0,l.e7)([h.Z],()=>h.Z.isLocalizedPromoEnabled)&&null==F,z=(0,Z.Vi)(),K=(0,O.ZP)(),q=(0,N.$_)(),Q=(0,x.K)(j),X=(0,l.e7)([g.Z],()=>g.Z.getCreatedAtOverride()),J=null!=X?X:null==w?void 0:w.createdAt,$=s||null!=F||null!=Y||z||K||null!=q||H,{enabled:ee}=T._.useExperiment({location:j},{autoTrackExposure:!1}),et=ee&&(null==F?void 0:F.trial_id)===b.a7,en=(0,p.N9)({location:"NitroTabButton",showTabForOtherReasons:$});if(!($=$||null!=w&&null!=J&&Date.now()-J.getTime()>en))return null;z?(n=(0,a.jsx)(f.Z,{}),i=0):null!=q?(n=(0,a.jsx)(R.Z,{copy:q}),i=1):K?(n=(0,a.jsx)(R.Z,{}),i=2):null!=Y?(n=(0,a.jsx)(L.GN,{userDiscount:Y,isTabSelected:s,includesAmountOff:!1}),i=3):null==F||et?Q?(n=(0,a.jsx)(v.Z,{isSelected:s,onSelect:()=>(0,u.EW)(o.z.REFERRAL_PROGRAM_PREMIUM_TAB_BADGE,{dismissAction:M.L.TAKE_ACTION})}),i=6):W&&(n=(0,a.jsx)(A.k,{entryPoint:A.U.PrivateMessages}),!s&&(t=y.localizeBadge),i=5):(n=(0,a.jsx)(L.$H,{trialOffer:F,isTabSelected:s}),i=4);let ei=(0,a.jsx)(d.Qj,{selected:s,route:U,icon:c.NitroWheelIcon,text:D.Z.Messages.PREMIUM,locationState:G,onClick:()=>{I.default.track(P.rMx.NITRO_TAB_VISITED,{badge_decorator:i,has_premium:H})},...k,...V,className:t,children:n});return Q?(0,a.jsx)(v.E,{children:ei}):ei}},701910:function(e,t,n){var i=n(735250);n(470079);var s=n(227140),a=n(689938);t.Z=e=>{let{copy:t}=e;return(0,i.jsx)(s.Z,{copy:null!=t?t:a.Z.Messages.NEW})}},290347:function(e,t,n){n.d(t,{Z:function(){return A}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(330711),o=n(442837),c=n(481060),d=n(607070),u=n(605236),_=n(524444),h=n(529815),E=n(250496),I=n(153124),m=n(810090),g=n(626135),p=n(565216),T=n(981631),S=n(921944),C=n(757601);let f=e=>{let{tagText:t,className:n}=e;return(0,i.jsx)(c.TextBadge,{className:r()(C.tag,n),text:t})},N=e=>{let{header:t,subHeader:n,imageSrc:s,tagText:a,wideStyle:l}=e;return(0,i.jsxs)("div",{className:r()(C.featureCard,{[C.wideStyle]:l}),children:[null!=a?(0,i.jsx)(f,{tagText:a,className:C.featureCardTag}):null,(0,i.jsx)("img",{alt:"",className:r()(C.featureCardImg,{[C.wideStyle]:l}),src:s}),(0,i.jsxs)("div",{className:C.featureCardTextGroup,children:[(0,i.jsx)(c.Heading,{variant:"heading-md/extrabold",className:C.featureCardTextHeader,children:t}),(0,i.jsx)(c.Text,{variant:"text-sm/normal",children:n})]})]})};function A(e){let{className:t,renderModalProps:n,heroArt:a,heroArtClassName:f,modalDismissibleContent:A,modalTopExtra:Z,header:L,headerClassName:v,subHeader:O,subHeaderExtra:R,featureCards:x,changeLogId:b,button:P,body:M}=e,{onClose:D,transitionState:y}=n,j=(0,I.Dt)(),U=x.length%2==0,G=(0,o.e7)([d.Z],()=>d.Z.useReducedMotion),[k,w]=s.useState(Date.now()),[B,H]=s.useState(0),[V,F]=s.useState(0),[Y,W]=s.useState(!1),[z,K]=s.useState(!0),q=s.useRef(k),Q=s.useRef(B),X=s.useRef(V),J=s.useRef(Y),$=s.useRef(z);function ee(){let e=Date.now(),t=e-q.current,n=Q.current,i=X.current;return J.current&&(H(n+=t),!$.current&&F(i+=t)),w(e),[n,i]}return s.useEffect(()=>{q.current=k,Q.current=B,X.current=V,J.current=Y,$.current=z},[k,B,V,Y,z]),s.useEffect(()=>()=>{if("video"===a.type||"embed"===a.type){let[e,t]=ee();g.default.track(T.rMx.CHANGE_LOG_VIDEO_PLAYED,{change_log_id:b,seconds_played:Math.round(e/1e3)}),g.default.track(T.rMx.CHANGE_LOG_VIDEO_UNMUTE,{change_log_id:b,seconds_unmuted:Math.round(t/1e3)})}},[b,a]),s.useEffect(()=>{null!=A&&(0,u.kk)(A);let e=Date.now();return g.default.track(T.rMx.CHANGE_LOG_OPENED,{change_log_id:b}),()=>{g.default.track(T.rMx.CHANGE_LOG_CLOSED,{change_log_id:b,seconds_open:Math.round((Date.now()-e)/1e3)}),null!=A&&(0,u.EW)(A,{dismissAction:S.L.DISMISS})}},[A,b]),(0,i.jsxs)(c.ModalRoot,{className:r()(C.root,t),transitionState:y,"aria-labelledby":j,children:[(0,i.jsx)(c.ModalCloseButton,{className:C.closeButton,onClick:D}),(0,i.jsx)(p.Z,{className:C.splash}),null==Z?void 0:Z(),(0,i.jsxs)(c.ModalContent,{className:C.content,children:[(0,i.jsx)(c.Heading,{variant:"display-md",className:r()(C.headerText,v),children:L}),(()=>{if("video"===a.type){var e;return(0,i.jsx)(m.Z,{className:r()(C.video,f),autoPlay:!G,loop:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate",src:a.src,poster:a.poster,onPlay:e=>{g.default.track(T.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:b}),w(Date.now()),W(!0),K(e.currentTarget.muted)},onEnded:e=>{ee(),K(e.currentTarget.muted),W(!1)},onVolumeChange:e=>{ee(),K(e.currentTarget.muted)},onPause:e=>{ee(),K(e.currentTarget.muted),W(!1)},disablePictureInPicture:!0,children:null===(e=a.subtitles)||void 0===e?void 0:e.map(e=>{let t=l.Z.getLanguages().find(t=>t.code===e.locale);return null==t?null:(0,i.jsx)("track",{label:t.englishName,kind:"subtitles",srcLang:t.code,src:e.src,default:e.isDefault},e.locale)})})}return"embed"===a.type?(0,i.jsx)(h.BC,{className:r()(C.video,f),allowFullScreen:!1,href:a.href,thumbnail:a.thumbnail,video:a.embed,provider:E.pn.YOUTUBE,maxWidth:a.embed.width,maxHeight:a.embed.height,renderVideoComponent:_.lV,renderImageComponent:_.Yi,renderLinkComponent:_.iT,renderForwardComponent:T.VqG,onPlay:()=>{g.default.track(T.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:b})}}):"image"===a.type?(0,i.jsx)("img",{alt:"",className:r()(C.video,f),src:a.src}):null})(),(0,i.jsxs)(c.Heading,{variant:"heading-lg/semibold",className:C.subHeader,children:[O,null==R?void 0:R()]}),null!=M&&(0,i.jsx)(c.Heading,{variant:"heading-md/medium",className:C.bodyText,children:M}),(0,i.jsx)("div",{className:r()(C.featureCardGroup,{[C.wideStyle]:U}),children:x.map((e,t)=>(0,i.jsx)(N,{...e,wideStyle:U},"".concat(e.header,"_").concat(t)))}),P()]})]})}},118470:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120),n(653041);var i=n(735250),s=n(470079),a=n(442837),r=n(812206),l=n(82950),o=n(434404),c=n(106976),d=n(270144),u=n(981631),_=n(689938),h=n(466389);function E(e){let{guild:t}=e,n=(0,d.h6)(t),E=()=>(0,c.sB)(t.id),I=s.useMemo(()=>new Set(n.map(e=>e.applicationId)),[n]),m=(0,a.Wu)([r.Z],()=>{let e=[];for(let t of I){let n=r.Z.getApplication(t);null!=n&&e.push(n)}return e},[I]);if(0===m.length)return null;let g="";return g=1===m.length?_.Z.Messages.ONE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:m[0].name}):2===m.length?_.Z.Messages.TWO_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:m[0].name,b:m[1].name}):3===m.length?_.Z.Messages.THREE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:m[0].name,b:m[1].name,c:m[2].name}):_.Z.Messages.MORE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT,(0,i.jsx)(l.Z,{guild:t,onDismissed:E,message:g,type:u.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:h,onClick:()=>{E(),o.Z.open(t.id,u.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:_.Z.Messages.APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CTA})}},489977:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(809206),l=n(317770),o=n(18438),c=n(350327),d=n(594174),u=n(74538),_=n(486324);let h=e=>{let{imageSrc:t,file:a,guildId:l,isTryItOutFlow:h}=e;if(h){(0,c.c_)(t);return}let E=d.default.getCurrentUser(),I=null!=l?o.I5:r.I5;if(u.ZP.canUseAnimatedAvatar(E)||"image/gif"!==a.type){I(t);return}if(null!=E)return(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("12736").then(n.bind(n,844594));return n=>(0,i.jsx)(e,{user:E,imageSrc:t,uploadType:_.pC.AVATAR,onSubscribe:()=>I(t),...n})})},E=e=>{let{imageSrc:t,guildId:a,isTryItOutFlow:r}=e;if(r){(0,c.f4)(t);return}let l=d.default.getCurrentUser(),h=null!=a?o.g_:c.g_;if(u.ZP.canUsePremiumProfileCustomization(l)){h(t);return}if(null!=l)return(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("12736").then(n.bind(n,844594));return n=>(0,i.jsx)(e,{user:l,imageSrc:t,uploadType:_.pC.BANNER,onSubscribe:()=>h(t),...n})})};class I extends l.Z{_initialize(){a.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}_terminate(){a.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}maybeOpenProfilePreviewModal(e){return e.uploadType===_.pC.AVATAR?h(e):e.uploadType===_.pC.BANNER?E(e):void 0}}t.Z=new I},39370:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(704215),a=n(765585),r=n(300284),l=n(526761),o=n(689938),c=n(752364);function d(){let e=(0,r.Z)({scrollPosition:l.Y_.TRY_IT_OUT});return(0,i.jsx)(a.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,inlineArt:!0,artClassName:c.profileThemesArt,onTryFeature:e,header:o.Z.Messages.PROFILE_THEMES_TOOLTIP_TITLE,body:o.Z.Messages.PROFILE_THEMES_TOOLTIP_DESCRIPTION_PREMIUM,dismissibleContent:s.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2})}},400271:function(e,t,n){n(47120);var i,s,a,r,l=n(442837),o=n(433517),c=n(570140),d=n(650774),u=n(430824),_=n(496675),h=n(135899),E=n(981631);let I="publicUpsellChannelNoticeGuilds",m=new Set;class g extends(i=l.ZP.Store){initialize(){var e;this.waitFor(_.Z,u.Z,d.Z),this.syncWith([_.Z,u.Z,d.Z],E.dG4),m=(e=new Set(o.K.get(I)),e)}isVisible(e){if(null==e)return;let t=d.Z.getMemberCount(e.id);return!m.has(e.id)&&null!=t&&t>=h.U3&&_.Z.can(E.Plq.ADMINISTRATOR,e)&&!e.hasFeature(E.oNc.COMMUNITY)}}r="EnablePublicGuildUpsellNoticeStore",(a="displayName")in(s=g)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=new g(c.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){let t=e.guildId;if(!m.has(t))return m.add(t),o.K.set(I,m),!0}})},413307:function(e,t,n){var i=n(735250),s=n(470079),a=n(949389),r=n(82950),l=n(434404),o=n(981631),c=n(689938),d=n(438825);t.Z=e=>{let{guild:t}=e,n=s.useCallback(()=>{(0,a.K7)(t.id)},[t.id]);return(0,i.jsx)(r.Z,{guild:t,onDismissed:n,onClick:()=>l.Z.open(t.id,o.pNK.COMMUNITY),message:c.Z.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:o.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:o.vID.PUBLIC_UPSELL,image:d,cta:c.Z.Messages.LEARN_MORE})}},282421:function(e,t,n){n.d(t,{B:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-05_quest_home",label:"Quest Home",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Quest Home in Discovery",config:{enabled:!0}}]})},702428:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(735250);n(470079);var s=n(481060),a=n(100527),r=n(44315),l=n(360048),o=n(709158),c=n(981631),d=n(689938),u=n(139510);function _(e){let{isSelected:t,onClick:n}=e,_=(0,o.Z)(a.Z.QUEST_HOME_PAGE),h=(0,r.Sl)(c.Ilk.WHITE);return _?(0,i.jsx)(l.Z,{avatar:(0,i.jsx)(s.QuestsIcon,{color:t?h.hex:void 0}),name:d.Z.Messages.QUESTS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:n,wrapContent:!0,selected:t,className:u.categoryItem,selectedClassName:u.selectedCategoryItem,innerClassName:u.itemInner},"quest-home"):null}},121711:function(e,t,n){var i=n(735250),s=n(470079),a=n(948789),r=n(481060),l=n(100527),o=n(252618),c=n(51448),d=n(164427),u=n(624383),_=n(742916),h=n(63063),E=n(113434),I=n(709158),m=n(710914),g=n(452081),p=n(981631),T=n(689938),S=n(852595);t.Z=function(e){let{}=e,t=(0,I.Z)(l.Z.QUEST_HOME_PAGE),{tabs:n,selectedTab:C,onSelectTab:f}=(0,g.z)(),N=s.useRef(new _.m),{quests:A}=(0,E.bA)(C.id);s.useEffect(()=>{!t&&(0,a.uL)(p.Z5c.FRIENDS)},[t]),s.useEffect(()=>{},[]);let Z=s.useCallback(()=>{window.open(h.Z.getArticleURL(p.BhN.QUESTS_LEARN_MORE))},[]);return((0,o.Tt)({location:T.Z.Messages.QUESTS}),t)?(0,i.jsxs)("div",{className:S.container,children:[(0,i.jsx)(c.f,{icon:(0,i.jsx)(r.QuestsIcon,{color:"var(--header-primary)"}),title:T.Z.Messages.QUESTS,tabs:n,selectedTab:C,onTabSelect:f,showSearch:!1,scrollManager:N}),(0,i.jsxs)(d.J,{scrollManager:N,children:[(0,i.jsx)(u.c,{title:T.Z.Messages.QUESTS_HOME_HERO_TITLE,description:T.Z.Messages.QUESTS_HOME_HERO_DESCRIPTION,backgroundImageUrl:"https://cdn.discordapp.com/assets/discovery/generic-hero-background.png",button:(0,i.jsxs)(r.Button,{size:"medium",className:S.button,onClick:Z,innerClassName:S.innerButton,children:[(0,i.jsx)(r.Text,{variant:"text-md/semibold",color:"always-white",className:S.externalLinkText,children:T.Z.Messages.LEARN_MORE}),(0,i.jsx)(r.LinkExternalSmallIcon,{className:S.icon,color:"var(--white-500)"})]})}),(0,i.jsx)("div",{className:S.gridContainer,children:(0,i.jsx)(m.Z,{quests:A})})]})]}):null}},710914:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(497505),a=n(415104),r=n(456727);function l(e){let{quests:t}=e;return(0,i.jsx)("div",{className:r.container,children:t.map(e=>(0,i.jsx)(a.Z,{quest:e,questContent:s.jn.QUEST_HOME_DESKTOP},e.id))})}},415104:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(497505),o=n(918701),c=n(439826),d=n(43779),u=n(444627);function _(e){var t;let{quest:n}=e,a=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null,_=!(0,o.zi)(n)||(0,o.iQ)(n)&&a,[h,E]=s.useState(!1);return(0,i.jsxs)("div",{className:r()(u.container,{[u.noCta]:!_,[u.cta]:_}),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[(0,i.jsx)(c.Z,{quest:n,isHovering:h}),(0,i.jsx)(d.Z,{quest:n,questContent:l.jn.QUEST_HOME_DESKTOP})]})}},439826:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(186325),o=n(780384),c=n(481060),d=n(410030),u=n(810090),_=n(113434),h=n(497505),E=n(918701),I=n(78826),m=n(670638),g=n(981631),p=n(689938),T=n(985164);function S(e){var t;let{quest:n,isHovering:a,onCtxMenuClose:S,onCtxMenuOpen:C,onCtxMenuSelect:f}=e,N=(0,E.ph)(n),A=(0,d.ZP)(),Z=(0,o.wj)(A)?g.BRd.DARK:g.BRd.LIGHT,L=Z===g.BRd.DARK,v=s.useMemo(()=>(0,E.nP)(n.config.assets.questBarHero),[n]),O=s.useContext(l.S).reducedMotion.enabled,R=(0,E.Mi)(n,h.jn.GIFT_INVENTORY_FOR_YOU),x=(0,_.tP)(n),b=(null===(t=n.userStatus)||void 0===t?void 0:t.claimedAt)!=null,P=s.useRef(a),M=s.useRef(null);return s.useEffect(()=>{if(v&&null!=M.current)return P.current!==a&&(a?M.current.play():(M.current.pause(),M.current.currentTime=0)),P.current=a,()=>{var e;null===(e=M.current)||void 0===e||e.pause()}},[a,v]),(0,i.jsxs)("div",{className:T.container,children:[(0,i.jsx)("div",{className:T.heroAssetWrapper,children:v?(0,i.jsx)(I.Fl,{id:"QuestBarV2ContentExpanded_heroAnimated",children:e=>(null!=e.current&&(M.current=e.current),(0,i.jsx)(u.Z,{ref:e,autoPlay:!O&&a,loop:!0,playsInline:!0,className:T.heroAsset,controls:!1,children:(0,i.jsx)("source",{src:N,type:(0,E.mN)(N)})}))}):(0,i.jsx)(I.Fl,{id:"QuestTileBanner",children:e=>(0,i.jsx)("img",{ref:e,alt:"",className:T.heroAsset,src:N})})}),(0,i.jsx)("div",{className:r()(T.overlay,{[T.darkThemeGradient]:L,[T.lightThemeGradient]:!L})}),(0,i.jsx)("div",{className:T.positionContentOverBackground,children:(0,i.jsxs)("div",{className:T.contents,children:[(0,i.jsxs)("div",{className:T.topRow,children:[R&&!x&&!b&&(0,i.jsx)("div",{className:T.pill,children:(0,i.jsx)(c.Text,{variant:"eyebrow",color:"always-white",className:T.eyebrowText,children:p.Z.Messages.RECOMMENDED})}),(0,i.jsx)(m.r,{onOpen:C,onClose:S,onSelect:f,questContent:h.jn.QUEST_HOME_DESKTOP,quest:n,hideLearnMore:!0,shouldShowDisclosure:!0,showShareLink:!0,children:e=>(0,i.jsx)(c.Clickable,{...e,className:T.submenuWrapper,"aria-label":p.Z.Messages.ACTIONS,children:(0,i.jsx)(c.MoreHorizontalIcon,{size:"md",color:"currentColor",className:r()(T.submenuIcon)})})})]}),(0,i.jsx)(I.Fl,{id:"QuestPartnerBranding_gameLogotype",children:e=>(0,i.jsx)("img",{ref:e,className:T.partnerBranding,alt:n.config.messages.gameTitle,src:(0,E.Gs)(n,Z)})}),(0,i.jsx)("div",{className:T.bottomRow,children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"text-muted",children:p.Z.Messages.QUESTS_PROMOTED_BY_BRAND.format({brandName:n.config.messages.gamePublisher})})})]})})]})}},69439:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),s=n(470079),a=n(481060),r=n(617136),l=n(272008),o=n(497505),c=n(918701),d=n(667105),u=n(689938),_=n(207637);function h(e){let{onClick:t}=e;return(0,i.jsx)("div",{className:_.container,children:(0,i.jsx)(a.Button,{color:a.ButtonColors.BRAND,onClick:t,className:_.button,children:u.Z.Messages.QUESTS_CLAIM_REWARD})})}function E(e){var t,n,E,I;let{quest:m}=e,g=(null===(t=m.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,p=(null===(n=m.userStatus)||void 0===n?void 0:n.completedAt)!=null&&(null===(E=m.userStatus)||void 0===E?void 0:E.claimedAt)==null,T=(0,c.iQ)(m),S=!(0,c.zi)(m),C=(null===(I=m.userStatus)||void 0===I?void 0:I.claimedAt)!=null,f=(0,d.hf)({quest:m,location:o.jn.QUEST_BAR}),N=s.useCallback(()=>{(0,l.AH)(m.id,{questContent:o.jn.QUEST_HOME_DESKTOP,questContentCTA:r.jZ.ACCEPT_QUEST})},[m]);return T&&p||S&&p?(0,i.jsx)(h,{onClick:f}):S&&g&&!C?(0,i.jsx)("div",{className:_.container,children:(0,i.jsx)(a.Button,{color:a.ButtonColors.PRIMARY,disabled:!0,className:_.button,children:u.Z.Messages.QUEST_ACCEPTED})}):S&&!g?(0,i.jsx)("div",{className:_.container,children:(0,i.jsx)(a.Button,{color:a.ButtonColors.BRAND,onClick:N,className:_.button,children:u.Z.Messages.QUESTS_ACCEPT})}):null}},43779:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(735250),s=n(470079),a=n(481060),r=n(113434),l=n(497505),o=n(918701),c=n(566078),d=n(472144),u=n(644646),_=n(69439),h=n(689938),E=n(855892);function I(e){var t,n;let{quest:I,questContent:m}=e,g=c.r.build(I.config).defaultReward.messages.name,p=(0,r.Rf)(I),T=p.percentComplete>0,S=(0,r.B6)(I.config.expiresAt,{month:"2-digit",day:"2-digit"}),C=(0,o.pG)({quest:I,useV2Variants:!0,taskDetails:p,expiryDate:S}),f=(null===(t=I.userStatus)||void 0===t?void 0:t.claimedAt)!=null,N=(0,r.B6)(null===(n=I.userStatus)||void 0===n?void 0:n.claimedAt),A=s.useCallback(()=>(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"text-brand",tag:"span",className:E.header,children:g}),[g]),Z=s.useMemo(()=>f?A():h.Z.Messages.QUESTS_CLAIM_THE_REWARD_HOOK.format({rewardHook:A}),[f,A]),L=s.useMemo(()=>f?(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-muted",className:E.description,children:h.Z.Messages.QUESTS_HOME_REWARD_CLAIMED_DESCRIPTION.format({claimDate:N})}):null!=C?(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-muted",className:E.description,children:C}):null,[f,C,N]);return(0,i.jsxs)("div",{className:E.container,children:[(0,i.jsxs)("div",{className:E.rewardDescriptionContainer,children:[T&&!f?(0,i.jsx)("div",{className:E.progressWrapper,children:(0,i.jsx)(d.Z,{quest:I,size:76,percentComplete:p.percentComplete,children:(0,i.jsx)("div",{className:E.circularRewardTileWrapper,children:(0,i.jsx)(u.Z,{quest:I,questContent:m,className:E.circularQuestRewardTileAsset})})})}):(0,i.jsx)(u.Z,{quest:I,questContent:l.jn.QUEST_HOME_DESKTOP,className:E.questRewardTileAsset}),(0,i.jsxs)("div",{className:E.textContainer,children:[(0,i.jsx)("span",{className:E.headerSpan,children:(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"header-primary",className:E.header,children:Z})}),L]})]}),(0,i.jsx)(_.Z,{quest:I})]})}},452081:function(e,t,n){n.d(t,{z:function(){return r}}),n(47120);var i=n(470079),s=n(113434),a=n(689938);function r(){var e;let[t,n]=i.useState(s.e5.UNCLAIMED),r=i.useMemo(()=>[{id:s.e5.UNCLAIMED,label:a.Z.Messages.QUESTS_ALL},{id:s.e5.CLAIMED,label:a.Z.Messages.QUESTS_CLAIMED}],[]),l=null!==(e=r.find(e=>e.id===t))&&void 0!==e?e:r[0];return{tabs:r,selectedTab:l,onSelectTab:i.useCallback(e=>{n(e.id)},[])}}},23404:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(442837),o=n(663002),c=n(481060),d=n(230711),u=n(210887),_=n(617136),h=n(272008),E=n(113434),I=n(569984),m=n(497505),g=n(918701),p=n(566078),T=n(602667),S=n(611855),C=n(670638),f=n(667105),N=n(860151),A=n(981631),Z=n(689938),L=n(921430);function v(e){var t;let{quest:n}=e,s=(0,E.B6)(n.config.expiresAt),a=(0,E.B6)(p.r.build(n.config).rewardsExpireAt),r=(0,l.e7)([u.Z],()=>u.Z.getState().theme),d=(0,o.w)(r)?A.BRd.DARK:A.BRd.LIGHT,_=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null;return(0,i.jsxs)("div",{className:L.heading,children:[(0,i.jsx)("img",{className:L.headingGameTile,alt:"",src:(0,g.uo)(n,d)}),(0,i.jsxs)("div",{className:L.headingCopy,children:[(0,i.jsx)(c.Heading,{variant:"heading-md/semibold",color:"header-primary",children:_?Z.Z.Messages.QUESTS_COMPLETION_PROGRESS_COMPLETE_ACTIVITY_PANEL:Z.Z.Messages.QUESTS_TITLE.format({questName:n.config.messages.questName})}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:_?Z.Z.Messages.QUESTS_CLAIM_BY_DATE.format({expirationDate:a}):Z.Z.Messages.QUESTS_AVAILABLE_UNTIL_DATE.format({expirationDate:s})})]})]})}t.Z=function(e){var t,n,a;let{quest:o}=e,u=(0,l.e7)([I.Z],()=>I.Z.isEnrolling(o.id),[o]),[p,O]=s.useState(!1),R=s.useCallback(()=>O(!0),[]),x=s.useCallback(()=>O(!1),[]),b=s.useCallback(e=>{e.stopPropagation()},[]),P=s.useCallback(()=>{(0,h.AH)(o.id,{questContent:m.jn.ACTIVITY_PANEL,questContentCTA:_.jZ.ACCEPT_QUEST})},[o]),M=s.useCallback(()=>{null!=o&&((0,_._3)({questId:o.id,questContent:m.jn.ACTIVITY_PANEL,questContentCTA:_.jZ.TRACK_PROGRESS}),d.Z.open(A.oAB.INVENTORY))},[o]),D=s.useCallback(()=>{(0,_._3)({questId:o.id,questContent:m.jn.ACTIVITY_PANEL,questContentCTA:_.jZ.LEARN_MORE}),d.Z.open(A.oAB.INVENTORY)},[o]),y=(0,f.hf)({quest:o,location:m.jn.ACTIVITY_PANEL}),j=(0,E.tP)(o),U=(null===(t=o.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,G=(null===(n=o.userStatus)||void 0===n?void 0:n.completedAt)!=null,k=(null===(a=o.userStatus)||void 0===a?void 0:a.claimedAt)!=null,w=(null==o?void 0:o.userStatus)==null||(0,g.zE)(o.userStatus,m.jn.ACTIVITY_PANEL),B=(0,E.Rf)(o);return w||j||k||!(0,g.dl)(o)?null:(0,i.jsx)(T.A,{questOrQuests:o,questContent:m.jn.ACTIVITY_PANEL,children:e=>{var t;return(0,i.jsxs)("div",{ref:t=>{e.current=t},className:r()(L.wrapper,{[L.wrapperQuestAccepted]:U}),onClick:b,onKeyPress:b,onFocus:R,onMouseEnter:R,onBlur:x,onMouseLeave:x,children:[(0,i.jsxs)("div",{className:L.utils,children:[U?(0,i.jsx)(v,{quest:o}):(0,i.jsx)(S.Z,{textOpacity:.5}),(0,i.jsx)(C.r,{quest:o,questContent:m.jn.ACTIVITY_PANEL,shouldShowDisclosure:(null===(t=o.userStatus)||void 0===t?void 0:t.enrolledAt)==null,showShareLink:!0,children:e=>(0,i.jsx)(c.Clickable,{...e,"aria-label":Z.Z.Messages.ACTIONS,children:(0,i.jsx)(c.MoreHorizontalIcon,{size:"md",color:"currentColor",className:L.submenuIcon})})})]}),!U&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{quest:o}),(0,i.jsx)(c.Text,{className:L.instructions,variant:"text-sm/normal",color:"text-normal",children:(0,g.pG)({quest:o,taskDetails:B})})]}),U&&!G&&(0,i.jsx)(N.Z,{autoplay:p,className:L.rewardTileWithInstructions,quest:o,questContent:m.jn.ACTIVITY_PANEL,taskDetails:B}),(0,i.jsxs)("div",{className:L.ctas,children:[!U&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.PRIMARY,fullWidth:!0,size:c.Button.Sizes.SMALL,onClick:D,children:Z.Z.Messages.QUESTS_LEARN_MORE_V2}),(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:P,size:c.Button.Sizes.SMALL,submitting:u,children:Z.Z.Messages.QUESTS_ACCEPT_QUEST})]}),U&&!G&&(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:M,size:c.Button.Sizes.SMALL,children:Z.Z.Messages.QUESTS_CHECK_PROGRESS}),G&&(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:y,size:c.Button.Sizes.SMALL,children:Z.Z.Messages.QUESTS_CLAIM_REWARD})]})]})}})}},709158:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(282421);function s(e){let{enabled:t}=i.B.useExperiment({location:e},{autoTrackExposure:!1});return t}},914946:function(e,t,n){n.d(t,{FJ:function(){return X},RE:function(){return j},S5:function(){return Y},T5:function(){return G},Xb:function(){return k},YK:function(){return q},_f:function(){return $},aE:function(){return w},bu:function(){return J},cD:function(){return B},fy:function(){return z},s9:function(){return H},t9:function(){return W},tr:function(){return Q},vv:function(){return K},zM:function(){return V},zy:function(){return F}}),n(47120),n(653041),n(411104),n(757143),n(392711);var i,s=n(729594),a=n(243814),r=n(544891),l=n(63023),o=n(433517),c=n(904245),d=n(155268),u=n(454585),_=n(739566),h=n(695346),E=n(131704),I=n(598077),m=n(592125),g=n(430824),p=n(131951),T=n(375954),S=n(158776),C=n(594174),f=n(979651),N=n(70956),A=n(5192),Z=n(226951),L=n(996106),v=n(863141),O=n(186901),R=n(981631);let x=null!==(i=s.parse(window.GLOBAL_ENV.API_ENDPOINT,!1,!0).host)&&void 0!==i?i:"localhost",b=function(){let e=x.split(":")[0];if(!e.includes("."))return e;let t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),P=new RegExp("^".concat(Z.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(Z.Z.escape(b),"|discordapp.com|discord.com)$")),M=1*N.Z.Millis.MINUTE,D={};function y(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=j(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(y)),e}function j(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function G(e,t){let n=[],i=e.getGuildId();return![R.d4z.GUILD_CATEGORY,...E.tx].includes(e.type)&&n.push(new Promise(t=>{T.Z.whenReady(e.id,()=>t()),c.Z.fetchMessages({channelId:e.id,limit:R.AQB})})),Promise.all(n).then(()=>{var n;let s=(!e.isNSFW()||(null===(n=C.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed)===!0)&&t?T.Z.getMessages(e.id).toArray().map(k):[],a=Object.values(f.Z.getVoiceStatesForChannel(e.id)).map(t=>w(i,e.id,t));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:i,position:e.position,messages:s,voice_states:a}})}function k(e){let t=u.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(y),n=m.Z.getChannel(e.channel_id),i=null!=e.author?(0,_.ij)(new I.Z(e.author),n):void 0;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:null==i?void 0:i.nick,author_color:null==i?void 0:i.colorString,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author,pinned:e.pinned,type:e.type}}function w(e,t,n){let{mute:i,deaf:s,selfMute:a,selfDeaf:r,suppress:l,userId:o}=n,c=C.default.getUser(o);if(null==c)throw Error("Invalid user id: ".concat(o));return{nick:A.ZP.getName(e,t,c),mute:p.Z.isLocalMute(c.id),volume:p.Z.getLocalVolume(c.id),pan:p.Z.getLocalPan(c.id),voice_state:{mute:i,deaf:s,self_mute:a,self_deaf:r,suppress:l},user:(0,v.Z)(c)}}function B(e,t,n){let i=C.default.getUser(t);return{type:e,user:null!=i?(0,v.Z)(i):null,presence:{status:S.Z.getStatus(t),activity:null!=n?S.Z.getApplicationActivity(t,n):S.Z.getPrimaryActivity(t)}}}function H(e){let t;if(null==e)return!1;let n=window.location.origin;if(e===n)return!0;try{t=s.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&(!!(P.test(e)&&P.test(n))||!1)}function V(e,t,n){let i=g.Z.getGuild(e.getGuildId());return(null!=i?i.getApplicationId():e.getApplicationId())===t||n.indexOf(a.x.MESSAGES_READ)>-1}function F(e){switch(e){case R.hes.RTC_CONNECTED:case R.hes.RTC_CONNECTING:case R.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{instance:n,secrets:i,party:s}=e,a=0;return(n&&(a|=R.xjy.INSTANCE),(null==i?void 0:i.join)!=null&&(a|=R.xjy.JOIN),t)?(a|=R.xjy.EMBEDDED,a|=R.xjy.PARTY_PRIVACY_VOICE_CHANNEL):(((null==s?void 0:s.privacy)===R.RYY.PUBLIC||o.K.get("ACTIVITIES_FORCE_PUBLIC"))&&(h.cP.getSetting()&&(a|=R.xjy.PARTY_PRIVACY_FRIENDS),h.Ou.getSetting()&&(a|=R.xjy.PARTY_PRIVACY_VOICE_CHANNEL)),a)}function W(e,t,n){if(e===R.mFx.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1}function z(e,t,n){return r.tn.get({url:R.ANM.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then(i=>{let{body:{rpc_origins:s,id:a,name:r,icon:l,cover_image:o,flags:c}}=i;if("string"==typeof n){if(e.transport===O.He.POST_MESSAGE){let e=(0,d.Z)(t);if(null==e||!U(n,[e]))throw new L.Z({closeCode:R.$VG.INVALID_ORIGIN},"Invalid Origin")}else if(!U(n,s))throw new L.Z({closeCode:R.$VG.INVALID_ORIGIN},"Invalid Origin")}e.application={id:a,name:r,icon:l,coverImage:o,flags:c}},()=>{throw new L.Z({closeCode:R.$VG.INVALID_CLIENTID},"Invalid Client ID")})}async function K(e,t){let n=D[e];null==n&&(n=new l.Z(t?2:60,M),D[e]=n),await n.process()}function q(e,t){null==t&&(e.authorization.scopes=[O.lH])}function Q(e){let t=p.Z.getSettings(),n=e=>Object.values(e).sort((e,t)=>e.index-t.index).map(e=>({id:e.id,name:e.name})),i=e(t);return{input:{available_devices:n(p.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(p.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:i,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function X(e,t){let n=p.Z.getSettings(e),i=t(n);return{input_mode:{type:n.mode,shortcut:i},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function J(e){if(e!==O.He.POST_MESSAGE)throw new L.Z({errorCode:R.lTL.INVALID_COMMAND},'command not available from "'.concat(e," transport"))}function $(e){if(null==e.id)throw new L.Z({errorCode:R.lTL.INVALID_COMMAND},"Invalid application");return e.id}},238679:function(e,t,n){n.d(t,{HU:function(){return I},KW:function(){return h},dO:function(){return _},gQ:function(){return E}});var i=n(392711),s=n.n(i),a=n(570140),r=n(317381),l=n(594174),o=n(823379),c=n(5192),d=n(863141),u=n(186901);function _(){let e=r.ZP.getCurrentEmbeddedActivity();if(null==e)return{participants:[]};let{guildId:t,channelId:n}=e;return{participants:Array.from(e.userIds,e=>{let i=l.default.getUser(e);if(null==i)return;let s=(0,c.y)(t,n,i);return{...(0,d.Z)(i),nickname:null!=s?s:void 0}}).filter(o.lm)}}let h={[u.Gp.ANY]:[u.wE]},E={scope:h,handler:()=>e=>{let{prevState:t,dispatch:n}=e,i=_();return!s().isEqual(i,t)&&n(i),i}};function I(e){let t="EMBEDDED_ACTIVITY_UPDATE",n=()=>{e(_())};return a.Z.subscribe(t,n),()=>a.Z.unsubscribe(t,n)}},452426:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return e.object().unknown(!0)}},561205:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(317381),s=n(592125);function a(){let e=i.ZP.getConnectedActivityChannelId();return s.Z.getChannel(e)}},901077:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(981631);let s="<removed>";function a(e){var t,n;let a={...e};if("object"==typeof(t=a).args&&"string"==typeof t.cmd)a=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,args:{...e.args,access_token:s}};default:return{...e}}}(a);if("object"==typeof(n=a).data&&"string"==typeof n.cmd)a=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,data:{...e.data,access_token:s}};default:return{...e}}}(a);return a}},295424:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}},222263:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){let{userId:t,nick:n,guildId:i,avatar:s,avatarDecoration:a,banner:r,bio:l,pronouns:o,colorString:c}=e;return{user_id:t,nick:n,guild_id:i,avatar:s,avatar_decoration_data:null!=a?{asset:a.asset,sku_id:a.skuId}:null,banner:r,bio:l,pronouns:o,color_string:c}}},408841:function(e,t,n){n.d(t,{n:function(){return a}});var i=n(996106),s=n(981631);let a={handler(e){throw new i.Z({errorCode:s.lTL.INVALID_COMMAND},"Deprecated command: ".concat(e.cmd))}}},600027:function(e,t,n){n.d(t,{T:function(){return c}});var i=n(159300),s=n(430824),a=n(496675),r=n(996106),l=n(561205),o=n(981631);function c(){let e=(0,l.Z)();if(null==e)throw new r.Z({errorCode:o.lTL.INVALID_CHANNEL},"Invalid channel");let t=s.Z.getGuild(e.getGuildId());if(null==t)throw new r.Z({errorCode:o.lTL.INVALID_CHANNEL},"Invalid guild ".concat(e.getGuildId()));if(!(0,i.b)(a.Z,t,e))throw new r.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"No invite permissions for ".concat(e.id));return{channel:e,guild:t}}},334288:function(e,t,n){n.d(t,{f:function(){return r}});var i=n(996106),s=n(186901),a=n(981631);function r(e){if(s.He.IPC!==e&&s.He.POST_MESSAGE!==e)throw new i.Z({errorCode:a.lTL.INVALID_COMMAND},"Invalid transport.")}},606271:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(392711),s=n.n(i),a=n(442837),r=n(570140),l=n(573979),o=n(814443),c=n(592125),d=n(271383),u=n(430824),_=n(131951),h=n(158776),E=n(19780),I=n(699516),m=n(944486),g=n(594174),p=n(979651),T=n(626135),S=n(823379),C=n(358085),f=n(914946),N=n(238679),A=n(863141),Z=n(981631),L=n(701488),v=n(65154);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{loadServer(){for(let e of(C.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform(),this.transports))this.rpcServer.registerTransport(e);for(let[e,t]of Object.entries(this.rpcCommandHandlers))this.rpcServer.setCommandHandler(e,t);for(let[e,t]of Object.entries(this.rpcEventHandlers))this.rpcServer.setEventHandler(e,t)}init(){this.rpcServer.getCurrentUser=()=>g.default.getCurrentUser(),this.rpcServer.onConnect=e=>{r.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application}),T.default.track(Z.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})},this.rpcServer.onDisconnect=(e,t)=>{r.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};let e=[c.Z,d.ZP,h.Z,p.Z,_.Z,E.Z];new a.Fh(e.concat(this.stores),()=>this.rpcServer.updateSubscriptions()).attach("RPCServerManager"),r.Z.subscribe("MESSAGE_CREATE",e=>this.handleMessage(e)),r.Z.subscribe("MESSAGE_UPDATE",e=>this.handleMessage(e)),r.Z.subscribe("MESSAGE_DELETE",e=>this.handleMessage(e)),r.Z.subscribe("SPEAKING",e=>this.handleSpeaking(e)),r.Z.subscribe("OAUTH2_TOKEN_REVOKE",e=>this.handleOAuth2TokenRevoke(e)),r.Z.subscribe("GUILD_CREATE",e=>this.handleGuildCreate(e)),r.Z.subscribe("CHANNEL_CREATE",e=>this.handleChannelCreate(e)),r.Z.subscribe("LOGOUT",()=>this.handleLogout()),r.Z.subscribe("VOICE_CHANNEL_SELECT",e=>this.handleVoiceChannelSelect(e)),r.Z.subscribe("RPC_NOTIFICATION_CREATE",e=>this.handleNotificationCreate(e)),r.Z.subscribe("ACTIVITY_JOIN",e=>this.handleActivityJoin(e)),r.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",e=>this.handleActivityLayoutModeUpdate(e)),r.Z.subscribe("THERMAL_STATE_CHANGE",e=>this.handleThermalStateChange(e)),r.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",e=>this.handleScreenOrientationUpdate(e)),(0,N.HU)(e=>this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE,{},e)),r.Z.subscribe("RELATIONSHIP_ADD",e=>this.handleRelationshipAdd(e)),r.Z.subscribe("RELATIONSHIP_REMOVE",e=>this.handleRelationshipRemove(e)),r.Z.subscribe("PRESENCE_UPDATES",e=>this.handlePresenceUpdate(e)),r.Z.subscribe("PRESENCES_REPLACE",()=>this.handlePresencesReplace()),r.Z.subscribe("ENTITLEMENT_CREATE",e=>this.handleEntitlementCreate(e)),r.Z.subscribe("ENTITLEMENT_DELETE",e=>this.handleEntitlementDelete(e)),r.Z.subscribe("USER_ACHIEVEMENT_UPDATE",e=>this.handleUserAchievementUpdate(e))}handleMessage(e){let t,n,i;if(0===this.rpcServer.subscriptions.length)return;"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);let s=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=Z.zMe.MESSAGE_CREATE,n=e.channelId,i=e.message,s="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=Z.zMe.MESSAGE_UPDATE,n=e.message.channel_id,i=e.message;break;case"MESSAGE_DELETE":t=Z.zMe.MESSAGE_DELETE,n=e.channelId,i={id:e.id},s="".concat(t).concat(e.id);break;default:return(0,S.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,f.Xb)(i)},s)}handleSpeaking(e){if(0===this.rpcServer.subscriptions.length)return;let t=0!==e.speakingFlags?Z.zMe.SPEAKING_START:Z.zMe.SPEAKING_STOP;if(e.context===v.Yn.DEFAULT){let n=m.Z.getVoiceChannelId();if(null!=n){let i=c.Z.getChannel(n);if(null==i)return;let s=p.Z.getVoiceState(i.getGuildId(),e.userId);if(null==s)return;this.rpcServer.dispatchToSubscriptions(t,{channel_id:s.channelId},{channel_id:s.channelId,user_id:e.userId})}}}handleVoiceChannelSelect(e){let{guildId:t,channelId:n}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})}handleNotificationCreate(e){let{channelId:t,message:n,icon:i,title:s,body:a}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,f.Xb)(n),icon_url:null!=i?(0,f.RE)(i):null,title:s,body:a})}handleActivityJoin(e){let{applicationId:t,secret:n,intent:i,embedded:s}=e;if(0===this.rpcServer.subscriptions.length)return;let a={secret:n};s&&(a.intent=i),this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_JOIN,e=>e.socket.application.id===t,a),this.rpcServer.dispatchToSubscriptions(Z.zMe.GAME_JOIN,e=>e.socket.application.id===t,a)}handleActivityLayoutModeUpdate(e){let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let i=n!==L.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:i});this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:n})}handleThermalStateChange(e){let{applicationId:t,rawThermalState:n}=e;if(0===this.rpcServer.subscriptions.length||null==t)return;let i={thermal_state:(0,l.Z)(n)};this.rpcServer.dispatchToSubscriptions(Z.zMe.THERMAL_STATE_UPDATE,e=>e.socket.application.id===t,i)}handleScreenOrientationUpdate(e){let{screenOrientation:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.ORIENTATION_UPDATE,{},{screen_orientation:t})}handleActivityMessage(e){var t;let{channelId:n,message:i}=e;if(0===this.rpcServer.subscriptions.length)return;let{application:s,activity:a}=i;if(null==s||null==a||null==a.party_id)return;let r=g.default.getUser(null===(t=i.author)||void 0===t?void 0:t.id);if(null==r)return;let l=g.default.getCurrentUser();if(null==l||r.id===l.id)return;let o=a.type===Z.mFx.JOIN_REQUEST?h.Z.getApplicationActivity(l.id,s.id):h.Z.getApplicationActivity(r.id,s.id);if(null==o||null==o.party||o.party.id!==a.party_id)return;let c=o.application_id;switch(a.type){case Z.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_INVITE,e=>e.socket.application.id===c,{user:(0,A.Z)(r),activity:o,type:a.type,channel_id:n,message_id:i.id});break;case Z.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(Z.zMe.ACTIVITY_JOIN_REQUEST,e=>e.socket.application.id===c,{user:(0,A.Z)(r)})}}handleOAuth2TokenRevoke(e){let{accessToken:t}=e;this.rpcServer.sockets.forEach(e=>{if(e.authorization.accessToken===t)e.close(Z.$VG.TOKEN_REVOKED,"Token revoked")})}handleGuildCreate(e){let{guild:{id:t}}=e,n=u.Z.getGuild(t);if(0!==this.rpcServer.subscriptions.length&&null!=n)this.rpcServer.dispatchToSubscriptions(Z.zMe.GUILD_CREATE,{},{id:t,name:n.name})}handleChannelCreate(e){let{channel:{id:t,name:n,type:i}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.CHANNEL_CREATE,{},{id:t,name:n,type:i})}handleLogout(){this.rpcServer.sockets.forEach(e=>e.close(Z.$VG.CLOSE_NORMAL,"User logout"))}handleRelationshipAdd(e){let{relationship:{id:t,type:n}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.RELATIONSHIP_UPDATE,{},(0,f.cD)(n,t))}handleRelationshipRemove(e){let{relationship:{id:t}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.RELATIONSHIP_UPDATE,{},(0,f.cD)(Z.OGo.NONE,t))}handlePresenceUpdate(e){let{updates:t}=e;if(0!==this.rpcServer.subscriptions.length)t.forEach(e=>{let{guildId:t,user:{id:n}}=e;if(null!=t)return;let i=I.Z.getRelationshipType(n);i===Z.OGo.NONE&&o.Z.getUserAffinitiesUserIds().has(n)&&(i=Z.OGo.IMPLICIT),i!==Z.OGo.NONE&&this.rpcServer.dispatchToSubscriptions(Z.zMe.RELATIONSHIP_UPDATE,{},(0,f.cD)(i,n))})}handlePresencesReplace(){if(0!==this.rpcServer.subscriptions.length)s().forEach(I.Z.getRelationships(),(e,t)=>{this.rpcServer.dispatchToSubscriptions(Z.zMe.RELATIONSHIP_UPDATE,{},(0,f.cD)(e,t))})}handleEntitlementCreate(e){let{entitlement:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.ENTITLEMENT_CREATE,e=>e.socket.application.id===t.application_id,{entitlement:t})}handleEntitlementDelete(e){let{entitlement:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(Z.zMe.ENTITLEMENT_DELETE,e=>e.socket.application.id===t.application_id,{entitlement:t})}handleUserAchievementUpdate(e){let{userAchievement:t}=e;if(0===this.rpcServer.subscriptions.length)return;let{application_id:n}=t;this.rpcServer.dispatchToSubscriptions(Z.zMe.USER_ACHIEVEMENT_UPDATE,e=>e.socket.application.id===n,{user_achievement:t})}constructor(e){O(this,"rpcServer",void 0),O(this,"transports",void 0),O(this,"rpcCommandHandlers",void 0),O(this,"rpcEventHandlers",void 0),O(this,"stores",void 0),O(this,"registerTransportsForEmbeddedPlatform",void 0),this.rpcServer=e.server,this.transports=e.transports,this.rpcCommandHandlers=e.commands,this.rpcEventHandlers=e.events,this.stores=e.stores,this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}}},703912:function(e,t,n){n.d(t,{Z:function(){return Z}}),n(789020),n(47120);var i=n(664751),s=n(373793),a=n(243814),r=n(149765),l=n(544891),o=n(45792),c=n(433517),d=n(570140),u=n(979200),_=n(489863),h=n(166148),E=n(307643),I=n(973616),m=n(594174),g=n(630388),p=n(700785),T=n(996106),S=n(186901),C=n(981631);let f="CachedTokens";async function N(e,t,n){var i;let a;let l,o,c,d,{client_id:S,response_type:f="code",redirect_uri:N,code_challenge:A,code_challenge_method:Z,state:L,nonce:v,scope:O,permissions:R,guild_id:x,channel_id:b,prompt:P,disable_guild_select:M,integration_type:D}=e;if(null==S)throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"No Client ID provided");if(null!=N)throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let y=[];if("string"==typeof O?y=O.split(" ").filter(e=>e.length>0):Array.isArray(O)&&(y=O),null==m.default.getCurrentUser())throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"Client is not logged in");let j=I.Z.createFromServer(await (0,E.UM)(S)),U=null!=j&&(0,g.yE)(j.flags,C.udG.EMBEDDED)&&(null===(i=j.integrationTypesConfig)||void 0===i?void 0:i[s.Y.USER_INSTALL])!=null;l=null==D?U?s.Y.USER_INSTALL:s.Y.GUILD_INSTALL:Number(D);try{o=await (0,_.Ww)({clientId:S,scopes:y,responseType:f,redirectUri:N,codeChallenge:A,codeChallengeMethod:Z,state:L,integrationType:l})}catch(t){let{body:e}=t;throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat(e.message||"Unknown Error"))}try{({disclosures:c,allAcked:d}=await (0,u.de)(o.application.id))}catch(t){let{body:e}=t;throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat(e.message||"Unknown Error"))}if(P===h.s.NONE&&null!=o&&o.authorized&&d)try{return(await (0,_.Iq)({authorize:!0,clientId:S,scopes:y,responseType:f,redirectUri:N,codeChallenge:A,codeChallengeMethod:Z,state:L,nonce:v,integrationType:l})).location}catch(t){let{body:e}=t;throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat(e.message||"Unknown Error"))}null==n||n(o.application,b);let G=p.Hn;try{G=r.vB(null!=R?R:0)}catch(e){}return null!=o.integration_type&&Object.values(s.Y).includes(o.integration_type)&&(a=new Map).set(o.integration_type,o),t({clientId:S,authorizations:a,scopes:y,parsedPermissions:G,responseType:f,redirectUri:N,codeChallenge:A,codeChallengeMethod:Z,state:L,guildId:x,channelId:b,prompt:P,disableGuildSelect:M,disclosures:c,integrationType:l})}function A(e,t){if(e.authorization.accessToken)throw new T.Z({errorCode:C.lTL.INVALID_COMMAND},"Already authenticated");if(e.authorization.authing)throw new T.Z({errorCode:C.lTL.INVALID_COMMAND},"Already authenticating");return e.authorization.authing=!0,l.tn.get({url:C.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0}).then(n=>{e.authorization.authing=!1;let{application:i,user:s,scopes:a,expires:r}=n.body;if(e.application.id!==i.id)throw new T.Z({errorCode:C.lTL.INVALID_CLIENTID},"Application does not match the connection's");let l=m.default.getCurrentUser();if(null==l||!s||l.id!==s.id)throw new T.Z({errorCode:C.lTL.INVALID_TOKEN},"Token does not match current user");return e.authorization.scopes=[...e.authorization.scopes,...a,S.wE],e.authorization.accessToken=t,e.authorization.expires=new Date(r),d.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application}),{...n.body,access_token:t}},()=>{throw new T.Z({errorCode:C.lTL.INVALID_TOKEN},"Invalid access token: ".concat(t))}).catch(t=>{throw e.authorization.authing=!1,t})}function Z(e,t){return{[C.Etm.AUTHENTICATE]:(0,o.S)(C.Etm.AUTHENTICATE,{handler(n){let{socket:s,args:{access_token:r}}=n;if(null==r&&s.transport===S.He.IPC){let n=s.application.id;if(null==n)throw new T.Z({errorCode:C.lTL.INVALID_COMMAND},"No application.");let l=a.x.IDENTIFY,o=()=>N({client_id:n,scope:l,response_type:"token"},e,t).then(e=>{if(null==e)throw new T.Z({errorCode:C.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=e.split(/#|\?/),a=i.parse(t[t.length-1]);if(null!=a.error){var r;throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(a.error,": ").concat(null!==(r=a.error_description)&&void 0!==r?r:"unknown error"))}return!function(e,t,n,i){var s;let a=null!==(s=c.K.get(f))&&void 0!==s?s:{};a[e]={accessToken:t,scope:n,expires:Date.now()+i},c.K.set(f,a)}(n,a.access_token,a.scope,a.expires_in),A(s,a.access_token)});return null!=(r=function(e,t){let n=c.K.get(f);if(null!=n&&null!=n[e]){let i=n[e];if(!(i.scope!==t||i.expires<=Date.now()))return i.accessToken;delete n[e],c.K.set(f,n)}}(n,l))?A(s,r).catch(()=>(!function(e){var t;let n=null!==(t=c.K.get(f))&&void 0!==t?t:{};delete n[e],c.K.set(f,n)}(n),o())):o()}if(null==r)throw new T.Z({errorCode:C.lTL.INVALID_TOKEN},"No access token provided");return A(s,r)}}),[C.Etm.AUTHORIZE]:{handler(n){let{socket:s,args:a}=n,r=a.client_id;if(!r)throw new T.Z({errorCode:C.lTL.INVALID_CLIENTID},"No client id provided");if(null!=s.authorization.accessToken)throw new T.Z({errorCode:C.lTL.INVALID_COMMAND},"Already authenticated");if(s.authorization.authing)throw new T.Z({errorCode:C.lTL.INVALID_COMMAND},"Already authing");return s.authorization.authing=!0,l.tn.get({url:C.ANM.APPLICATION_RPC(r),oldFormErrors:!0}).then(n=>{let i=n.body;if(s.application.id!==i.id)throw new T.Z({errorCode:C.lTL.INVALID_CLIENTID},"Application does not match the connection's");let r=a.scopes||a.scope;return delete a.scopes,N({...a,scope:r},e,t)},()=>{throw new T.Z({errorCode:C.lTL.INVALID_CLIENTID},"Invalid client id: ".concat(r))}).then(e=>{if(s.authorization.authing=!1,null==e)throw new T.Z({errorCode:C.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=i.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n;throw new T.Z({errorCode:C.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(t.error,": ").concat(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}}).catch(e=>{throw s.authorization.authing=!1,e})}}}}},688707:function(e,t,n){n(47120);var i=n(243814),s=n(920456),a=n(996106),r=n(452426),l=n(186901),o=n(981631);t.Z={[o.Etm.SET_USER_ACHIEVEMENT]:{scope:{[l.Gp.ANY]:[i.x.RPC,l.lH]},validation:e=>(0,r.Z)(e).required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()}),handler(e){let{socket:t,args:{achievement_id:n,percent_complete:i}}=e,r=t.application.id;if(null==r)throw new a.Z({errorCode:o.lTL.INVALID_COMMAND},"No application.");return s.Z.setUserAchievement(r,n,i).catch(e=>{let{status:t,body:n}=e;switch(t){case 429:throw new a.Z({errorCode:o.lTL.RATE_LIMITED},"You are being rate limited.");case 403:if(null!=n&&n.code===o.evJ.USER_NOT_AUTHORIZED_FOR_APPLICATION)throw new a.Z({errorCode:o.lTL.UNAUTHORIZED_FOR_ACHIEVEMENT},"Not authorized to update this achievement.");throw new a.Z({errorCode:o.lTL.UNKNOWN_ERROR},"Unknown error from API. status=".concat(t,"."));default:throw new a.Z({errorCode:o.lTL.UNKNOWN_ERROR},"Unknown error from API. status=".concat(t,"."))}}).then(()=>null)}},[o.Etm.GET_USER_ACHIEVEMENTS]:{scope:{[l.Gp.ANY]:[i.x.RPC,l.lH]},handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new a.Z({errorCode:o.lTL.INVALID_COMMAND},"No application.");return s.Z.fetchForApplication(n).then(e=>e||[])}}}},894959:function(e,t,n){var i=n(45792),s=n(914946),a=n(238679),r=n(981631);t.Z={[r.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:(0,i.S)(r.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS,{scope:a.KW,handler(e){let{socket:t}=e;return(0,s.bu)(t.transport),(0,a.dO)()}})}},624714:function(e,t,n){n(47120),n(789020);var i=n(544891),s=n(115130),a=n(287545),r=n(812206),l=n(695103),o=n(626135),c=n(630388),d=n(996106),u=n(914946),_=n(452426),h=n(561205),E=n(186901),I=n(981631);t.Z={[I.Etm.SEND_ANALYTICS_EVENT]:{validation:e=>(0,_.Z)(e).required().keys({event_name:e.string().required(),event_properties:e.object().required()}),handler(e){var t;let{socket:n,args:{event_name:i,event_properties:s}}=e;(0,u.bu)(n.transport),(0,u._f)(n.application);let l=n.application.id,_=(0,h.Z)(),E=null==_?void 0:_.getGuildId();if(null==_)throw new d.Z({errorCode:I.lTL.INVALID_COMMAND},"Invalid channel");let m=r.Z.getApplication(l);if(!(0,c.yE)(null!==(t=null==m?void 0:m.flags)&&void 0!==t?t:0,I.udG.EMBEDDED_FIRST_PARTY))throw new d.Z({errorCode:I.lTL.INVALID_COMMAND},"This application cannot access this API");let g=(0,a.U)(l),p={activity_application_id:l,activity_channel_type:_.type,activity_guild_id:E,activity_user_session_id:null==g?void 0:g.activityUserSessionId};o.default.track(i,{...p,...s})}},[I.Etm.GET_APPLICATION_TICKET]:{scope:E.lH,handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new d.Z({errorCode:I.lTL.INVALID_COMMAND},"No application.");return i.tn.post({url:I.ANM.APPLICATION_TICKET(n),body:{test_mode:l.Z.inTestModeForApplication(n)||s.Z.inDevModeForApplication(n)},retries:3,oldFormErrors:!0}).then(e=>{let{body:t}=e;return t})}}}},906228:function(e,t,n){n(47120);var i=n(243814),s=n(120960),a=n(996106),r=n(452426),l=n(186901),o=n(981631),c=n(65154);t.Z={[o.Etm.SET_CERTIFIED_DEVICES]:{scope:{[l.Gp.ANY]:[i.x.RPC,l.lH]},validation:e=>(0,r.Z)(e).required().keys({devices:e.array().items((0,r.Z)(e).keys({type:e.string().required().valid([c.h7.AUDIO_INPUT,c.h7.AUDIO_OUTPUT,c.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))}),handler(e){let{socket:t,args:{devices:n}}=e;if(null==t.application.id)throw new a.Z({errorCode:o.lTL.INVALID_COMMAND},"No application.");(0,s.N)(t.application.id,n.map(e=>({type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter(e=>n.some(t=>t.id===e)),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute})))}}}},491327:function(e,t,n){n(47120);var i=n(392711),s=n.n(i),a=n(243814),r=n(447543),l=n(287734),o=n(703656),c=n(131704),d=n(592125),u=n(430824),_=n(496675),h=n(944486),E=n(979651),I=n(934415),m=n(996106),g=n(914946),p=n(452426),T=n(561205),S=n(186901),C=n(981631);t.Z={[C.Etm.GET_CHANNEL]:{scope:{[S.Gp.ANY]:[a.x.RPC,a.x.GUILDS]},handler(e){let{args:{channel_id:t},socket:n}=e,i=d.Z.getChannel(t);if(null==i)throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));if(i.isPrivate()){let e=n.authorization.scopes;if(!e.includes(a.x.RPC)&&!e.includes(a.x.DM_CHANNELS_READ))throw new m.Z({errorCode:C.lTL.INVALID_PERMISSIONS},"Invalid scope")}return(0,g.T5)(i,(0,g.zM)(i,n.application.id,n.authorization.scopes))}},[C.Etm.GET_CHANNELS]:{scope:a.x.RPC,handler(e){let{args:{guild_id:t}}=e,n=s().values(d.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){let e=u.Z.getGuild(t);if(null==e)throw new m.Z({errorCode:C.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));n=n.filter(t=>{let{guild_id:n}=t;return n===e.id})}return{channels:n.filter(e=>_.Z.can(C.Plq.VIEW_CHANNEL,e)).map(e=>{let{id:t,name:n,type:i}=e;return{id:t,name:n,type:i}})}}},[C.Etm.GET_CHANNEL_PERMISSIONS]:{scope:a.x.GUILDS_MEMBERS_READ,handler(e){let t=(0,T.Z)();if(null==t)throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Invalid channel");return{permissions:_.Z.computePermissions(t)}}},[C.Etm.SELECT_VOICE_CHANNEL]:{scope:a.x.RPC,validation:e=>(0,p.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean(),navigate:e.boolean()}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:s=0,force:a=!1,navigate:r=!1}}=e;if(!i)return l.default.selectVoiceChannel(null),null;let p=h.Z.getVoiceChannelId();if(null!=p&&p!==i&&!1===a)throw new m.Z({errorCode:C.lTL.SELECT_VOICE_FORCE_REQUIRED},"User is already joined to a voice channel.");return t.storeWait(n,()=>d.Z.getChannel(i),s).catch(()=>{throw new m.Z({errorCode:C.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select voice channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,c.vd)(e.type))throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,g.T5)(e,(0,g.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id){if((0,I.rY)(t,E.Z,u.Z))throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Channel is full");if(!_.Z.can(C.Plq.CONNECT,t))throw new m.Z({errorCode:C.lTL.INVALID_PERMISSIONS},"Connect permission required to join channel")}return l.default.selectVoiceChannel(t.id),r&&(0,o.dL)(C.Z5c.CHANNEL(t.guild_id,t.id)),n})}},[C.Etm.GET_SELECTED_VOICE_CHANNEL]:{scope:{[S.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},handler(e){let{socket:t}=e,n=h.Z.getVoiceChannelId(),i=null!=n?d.Z.getChannel(n):null;return null!=i?(0,g.T5)(i,(0,g.zM)(i,t.application.id,t.authorization.scopes)):null}},[C.Etm.SELECT_TEXT_CHANNEL]:{scope:a.x.RPC,validation:e=>(0,p.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:s=0}}=e;return i?t.storeWait(n,()=>d.Z.getChannel(i),s).catch(()=>{throw new m.Z({errorCode:C.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select text channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,c.Qm)(e.type))throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,g.T5)(e,(0,g.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id&&!_.Z.can(C.Plq.VIEW_CHANNEL,t))throw new m.Z({errorCode:C.lTL.INVALID_CHANNEL},"No permission to see channel");return n.guild_id?(0,o.dL)(C.Z5c.CHANNEL(n.guild_id,t.id)):l.default.selectPrivateChannel(t.id),n}):((0,o.uL)(C.Z5c.ME),null)}},[C.Etm.CREATE_CHANNEL_INVITE]:{scope:a.x.RPC,handler(e){let{args:{channel_id:t,...n}}=e;return r.Z.createInvite(t,n,"RPC").catch(()=>{throw new m.Z({errorCode:C.lTL.INVALID_PERMISSIONS},"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))})}}}},934993:function(e,t,n){n(47120);var i=n(570140),s=n(996106),a=n(452426),r=n(186901),l=n(981631);t.Z={[l.Etm.SET_CONFIG]:{scope:r.wE,validation:e=>(0,a.Z)(e).required().keys({use_interactive_pip:e.boolean()}),handler(e){let{socket:t,args:{use_interactive_pip:n}}=e;if(t.transport!==r.He.POST_MESSAGE)throw new s.Z({errorCode:l.lTL.INVALID_COMMAND},'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new s.Z({errorCode:l.lTL.INVALID_COMMAND},"invalid application");return i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}}),Promise.resolve({use_interactive_pip:n})}}}},576027:function(e,t,n){n.d(t,{A:function(){return A}});var i=n(688707),s=n(894959),a=n(624714),r=n(906228),l=n(491327),o=n(934993),c=n(793839),d=n(758177),u=n(853678),_=n(378410),h=n(468136),E=n(64974),I=n(83567),m=n(906911),g=n(647656),p=n(918940),T=n(265067),S=n(881393),C=n(905534),f=n(273487),N=n(543815);let A={...i.Z,...a.Z,...r.Z,...l.Z,...o.Z,...c.Z,...d.Z,...u.Z,..._.Z,...h.Z,...I.Z,...m.Z,...g.Z,...p.Z,...S.Z,...C.Z,...N.Z,...f.Z,...E.Z,...T.Z,...s.Z}},793839:function(e,t,n){n(47120);var i=n(392711),s=n.n(i),a=n(243814),r=n(430824),l=n(996106),o=n(452426),c=n(981631);t.Z={[c.Etm.GET_GUILD]:{scope:a.x.RPC,validation:e=>(0,o.Z)(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)}),handler(e){let{socket:t,server:n,args:{guild_id:i,timeout:s=0}}=e;return n.storeWait(t,()=>r.Z.getGuild(i),s).catch(()=>{throw new l.Z({errorCode:c.lTL.GET_GUILD_TIMED_OUT},"Request to get guild timed out.")}).then(e=>{var t;if(null==e)throw new l.Z({errorCode:c.lTL.INVALID_GUILD},"Invalid guild id: ".concat(i));return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}})}},[c.Etm.GET_GUILDS]:{scope:a.x.RPC,handler(){let e=r.Z.getGuilds();return{guilds:s().map(e,e=>({id:e.id,name:e.name,icon_url:e.getIconURL(128)}))}}}}},758177:function(e,t,n){n(47120);var i=n(594174),s=n(768581),a=n(956664),r=n(996106),l=n(452426),o=n(186901),c=n(981631);t.Z={[c.Etm.GET_IMAGE]:{scope:o.lH,validation:e=>(0,l.Z)(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])}),handler(e){let t,{args:{type:n,id:l,format:o="png",size:d=128}}=e;if("user"===n){let e=i.default.getUser(l);if(null!=e){t=s.ZP.getUserAvatarURL(e,!1,d,o);let n=window.GLOBAL_ENV.CDN_HOST;null!=n&&-1!==t.indexOf(n)&&(t+="&_=")}else throw new r.Z({errorCode:c.lTL.INVALID_USER},"Invalid user id: ".concat(l))}if(null==t)throw new r.Z({errorCode:c.lTL.INVALID_COMMAND},"No valid type.");return fetch(t).then(e=>e.blob()).then(e=>(0,a.fD)(e)).then(e=>({data_url:e}))}}}},853678:function(e,t,n){n(47120),n(315314),n(610138),n(216116),n(78328),n(815648);var i=n(230711),s=n(12647),a=n(49012),r=n(358085),l=n(996106),o=n(914946),c=n(452426),d=n(186901),u=n(981631),_=n(701488);let h=new Set([_.Fu,_.JT]);t.Z={[u.Etm.OPEN_EXTERNAL_LINK]:{scope:{[d.Gp.ANY]:[d.wE]},validation:e=>(0,c.Z)(e).required().keys({url:e.string().required()}),handler(e){let{socket:t,args:{url:n}}=e;(0,o.bu)(t.transport);try{let e=new URL(n);r.isPlatformEmbedded&&s.Z.focus(null,!0),(0,a.q)({href:e.toString()})}catch(e){throw new l.Z({errorCode:u.lTL.INVALID_COMMAND},"Invalid URL: ".concat(n))}}},[u.Etm.NAVIGATE_TO_CONNECTIONS]:{validation:e=>(0,c.Z)(e),scope:{[d.Gp.ANY]:[d.wE]},handler(e){let{socket:t}=e;(0,o.bu)(t.transport);let n=(0,o._f)(t.application);if(!h.has(n))throw new l.Z({errorCode:u.lTL.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");i.Z.open(u.oAB.CONNECTIONS)}}}},378410:function(e,t,n){n(47120);var i=n(710845),s=n(914946),a=n(452426),r=n(981631);let l=new i.Z(r.BZL);t.Z={[r.Etm.CAPTURE_LOG]:{validation:e=>(0,a.Z)(e).required().keys({level:e.string().max(10).required(),message:e.string().max(1e3).required()}),handler(e){let{socket:t,args:{level:n,message:i}}=e;(0,s.bu)(t.transport);let a=t.application.id,r="".concat(a," - ").concat(i);switch(n){case"log":l.log(r);break;case"warn":l.warn(r);break;case"debug":l.verbose(r);break;case"info":l.info(r);break;case"error":l.error(r)}}}}},468136:function(e,t,n){n(47120);var i=n(544891),s=n(626135),a=n(186901),r=n(981631);t.Z={[r.Etm.GET_NETWORKING_CONFIG]:{scope:a.lH,handler:()=>Promise.all([i.tn.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then(e=>{let{body:{address:t}}=e;return t}),i.tn.post({url:r.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then(e=>{let{body:{token:t}}=e;return t})]).then(e=>{let[t,n]=e;return{address:t,token:n}})},[r.Etm.NETWORKING_SYSTEM_METRICS]:{scope:a.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,s.default.track(r.rMx.NETWORKING_SYSTEM_METRICS,n)}},[r.Etm.NETWORKING_PEER_METRICS]:{scope:a.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,s.default.track(r.rMx.NETWORKING_PEER_METRICS,n)}},[r.Etm.NETWORKING_CREATE_TOKEN]:{scope:a.lH,handler:()=>i.tn.post({url:r.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then(e=>e.body)}}},64974:function(e,t,n){var i=n(231338);t.Z={[i.Et.GET_PLATFORM_BEHAVIORS]:{handler:()=>({iosKeyboardResizesView:!0})}}},83567:function(e,t,n){n(47120);var i=n(570140),s=n(457330),a=n(726542),r=n(231757),l=n(553795),o=n(585483),c=n(996106),d=n(914946),u=n(452426),_=n(186901),h=n(981631),E=n(701488),I=n(231338);let m=new Set([E.Fu,E.JT]);t.Z={[I.Et.GET_PROVIDER_ACCESS_TOKEN]:{scope:{[_.Gp.ANY]:[_.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required(),connection_redirect:e.string()}),handler:e=>{let{socket:t,args:{provider:n,connection_redirect:u}}=e;(0,d.bu)(t.transport);let _=(0,d._f)(t.application),E=a.Z.get(n);if(null==E)throw new c.Z({errorCode:I.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===h.ABu.AMAZON_MUSIC){if(!m.has(_))throw new c.Z({errorCode:I.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:I.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");return new Promise(async(e,t)=>{let a=l.Z.getAccount(null,n);if(null==a){function d(t){var n;if(null==E)return;let i=(null!==(n=t.accounts)&&void 0!==n?n:[]).find(e=>e.type===E.type);null!=i&&(e({access_token:i.access_token}),m())}function _(){t(new c.Z({errorCode:I.lT.OAUTH2_ERROR},'OAuth2 setup for "'.concat(n,'" failed'))),m()}function m(){i.Z.unsubscribe("USER_CONNECTIONS_UPDATE",d),o.S.unsubscribe(h.CkL.CONNECTIONS_CALLBACK_ERROR,_)}i.Z.subscribe("USER_CONNECTIONS_UPDATE",d),o.S.subscribe(h.CkL.CONNECTIONS_CALLBACK_ERROR,_),(0,r.Z)({platformType:E.type,location:h.Sbl.ACTIVITY_RPC,successRedirect:u})}else try{let t=await s.Z.refreshAccessToken(E.type,a.id);if(null==t)throw new c.Z({errorCode:I.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");e({access_token:t})}catch(e){t(e)}})}},[I.Et.MAYBE_GET_PROVIDER_ACCESS_TOKEN]:{scope:{[_.Gp.ANY]:[_.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required()}),handler:async e=>{let{socket:t,args:{provider:n}}=e;(0,d.bu)(t.transport);let i=(0,d._f)(t.application),r=a.Z.get(n);if(null==r)throw new c.Z({errorCode:I.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===h.ABu.AMAZON_MUSIC){if(!m.has(i))throw new c.Z({errorCode:I.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:I.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");let o=l.Z.getAccount(null,n);if(null==o)throw new c.Z({errorCode:I.lT.NO_CONNECTION_FOUND},"No connection found");let u=await s.Z.refreshAccessToken(r.type,o.id);if(null==u)throw new c.Z({errorCode:I.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");return{access_token:u}}}}},906911:function(e,t,n){var i=n(392711),s=n.n(i),a=n(243814),r=n(814443),l=n(699516),o=n(594174),c=n(914946),d=n(981631);t.Z={[d.Etm.GET_RELATIONSHIPS]:{scope:a.x.RELATIONSHIPS_READ,handler(){let e={...l.Z.getRelationships()};return r.Z.getUserAffinitiesUserIds().forEach(t=>{null==e[t]&&null!=o.default.getUser(t)&&(e[t]=d.OGo.IMPLICIT)}),{relationships:s().map(e,(e,t)=>(0,c.cD)(e,t))}}}}},647656:function(e,t,n){n(47120),n(789020),n(411104);var i=n(392711),s=n.n(i),a=n(243814),r=n(570140),l=n(626135),o=n(81063),c=n(70956),d=n(996106),u=n(914946),_=n(452426),h=n(186901),E=n(981631);let I=["349134787773988865"];t.Z={[E.Etm.SET_ACTIVITY]:{scope:{[h.Gp.ANY]:[a.x.RPC,a.x.RPC_ACTIVITIES_WRITE,h.lH]},validation:e=>(0,_.Z)(e).required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:(0,_.Z)(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:(0,_.Z)(e).keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:(0,_.Z)(e).keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(E.RYY.PRIVATE).valid([E.RYY.PRIVATE,E.RYY.PUBLIC])}),secrets:(0,_.Z)(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items((0,_.Z)(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(E.IIU.PLAYING).valid(E.IIU.PLAYING,E.IIU.LISTENING,E.IIU.WATCHING)}).allow(null)}),handler(e){var t;let n,{socket:i,args:{pid:a,activity:_},isSocketConnected:m}=e;if(![h.He.IPC,h.He.WEBSOCKET,h.He.POST_MESSAGE].includes(i.transport))throw new d.Z({errorCode:E.lTL.INVALID_COMMAND},'command not available from "'.concat(i.transport,'" transport'));if(null==a&&h.He.IPC===i.transport)throw new d.Z({errorCode:E.lTL.INVALID_COMMAND},"nonzero pid required");if(null==_)return r.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:i.id,pid:a,activity:_}),Promise.resolve(_);_.name=i.application.name,_.application_id=i.application.id;let g=i.transport===h.He.POST_MESSAGE,p=(0,u.S5)(_,g);p>0&&(_.flags=p),delete _.instance,null===(t=_.party)||void 0===t||delete t.privacy;let{assets:T,party:S,secrets:C,timestamps:f,buttons:N,type:A}=_;if((null==A||A!==E.IIU.PLAYING&&!g)&&(_.type=E.IIU.PLAYING),null!=C){let e=s().values(C).filter(e=>!!e);if(null!=S&&s().intersection(e,[S.id]).length>0&&!I.includes(i.application.id))throw new d.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot match the party id");if(s().uniq(e).length<e.length)throw new d.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets must be unique");if(null!=N)throw new d.Z({errorCode:E.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot currently be sent with buttons")}if(null!=N&&(_.metadata={button_urls:N.map(e=>e.url)},_.buttons=N.map(e=>e.label)),null!=f)for(let e of Object.keys(f))Date.now().toString().length-f[e].toString().length>2&&(f[e]=Math.floor(f[e]*c.Z.Millis.SECOND));if(null==T)n=Promise.resolve([]);else{if(null==i.application||null==i.application.id)throw Error();n=(0,o.fetchAssetIds)(i.application.id,[T.large_image,T.small_image])}return n.then(e=>{var t,n;let[s,o]=e;if(null!=T&&(null!=s?T.large_image=s:delete T.large_image,null!=o?T.small_image=o:delete T.small_image),!m())return;r.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:i.id,pid:a,activity:_});let{secrets:c,party:d}=_,u={application_id:i.application.id,type:_.type,name:_.name,details:null!==(t=_.details)&&void 0!==t?t:"",state:null!==(n=_.state)&&void 0!==n?n:""};return null!=c&&(u.has_match_secret=!!c.match,u.has_join_secret=!!c.join),null!=T&&(u.has_images=!!(T.large_image||T.small_image)),null!=d&&(u.party_max=null!=d.size?d.size[1]:void 0,u.party_id=d.id),l.default.track(E.rMx.ACTIVITY_UPDATED,u),_})}}}},918940:function(e,t,n){n(47120);var i=n(570140),s=n(996106),a=n(452426),r=n(701488),l=n(231338);t.Z={[l.Et.SET_ORIENTATION_LOCK_STATE]:{validation:e=>(0,a.Z)(e).required().keys({lock_state:e.number().valid(r.xK.UNLOCKED,r.xK.PORTRAIT,r.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(r.xK.UNLOCKED,r.xK.PORTRAIT,r.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(r.xK.UNLOCKED,r.xK.PORTRAIT,r.xK.LANDSCAPE).allow(null).optional()}),handler(e){let{socket:t,args:{lock_state:n,picture_in_picture_lock_state:a,grid_lock_state:r}}=e,o=t.application.id;if(null!=o)i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:o,lockState:n,pictureInPictureLockState:a,gridLockState:r});else throw new s.Z({errorCode:l.lT.INVALID_COMMAND},"No application.")}}}},265067:function(e,t,n){n(653041),n(47120);var i=n(243814),s=n(100527),a=n(208049),r=n(763296),l=n(697426),o=n(242291),c=n(641015),d=n(594174),u=n(996106),_=n(452426),h=n(736045),E=n(186901),I=n(231338);t.Z={[I.Et.GET_SOUNDBOARD_SOUNDS]:{scope:{[E.Gp.ANY]:[i.x.RPC,E.lH]},async handler(){await (0,a.w)();let e=r.Z.getSounds(),t=[];return e.forEach(e=>e.forEach(e=>t.push((0,l.QL)(e)))),t}},[I.Et.PLAY_SOUNDBOARD_SOUND]:{scope:{[E.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,_.Z)(e).required().keys({guild_id:e.string(),sound_id:e.string()}),async handler(e){let{args:{guild_id:t,sound_id:n}}=e;await (0,a.w)();let i=d.default.getCurrentUser(),l=r.Z.getSound(t,n),_=(0,h.Z)(),E=null!=l&&null!=i&&(0,o.Nq)(i,l,_);if(null==_)throw new u.Z({errorCode:I.lT.INVALID_CHANNEL},"Invalid Channel.");if(E){if((0,c.Z)(_))null!=l&&(0,o.GN)(l,_.id,[s.Z.RPC]);else throw new u.Z({errorCode:I.lT.INVALID_PERMISSIONS},"Invalid Permissions.")}else throw new u.Z({errorCode:I.lT.INVALID_SOUND},"Invalid Sound.")}}}},881393:function(e,t,n){n(47120),n(653041);var i=n(496929),s=n(16084),a=n(558381),r=n(115130),l=n(106976),o=n(695103),c=n(996106),d=n(334288),u=n(186901),_=n(981631);async function h(e,t){let n=t.filter(e=>e.type===_.epS.SUBSCRIPTION_GROUP),i=await Promise.all(n.map(async t=>await (0,l.rx)(e,t.id))),s=[];return i.forEach(e=>{if(null==e)return null;let n=e.subscription_listings;if(null==n)return null;let i=[];n.forEach(e=>{e.subscription_plans.forEach(n=>{var s;let a=null==n?void 0:n.price,r=t.find(e=>e.id===n.sku_id);if(null==r)return;let l={id:n.sku_id,name:r.name,type:r.type,price:{amount:a,currency:_.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!==(s=r.release_date)&&void 0!==s?s:null};i.push(l)})}),i.filter(e=>(null==e?void 0:e.price)!=null).forEach(e=>s.push(e))}),s}async function E(e){let{socket:t}=e;(0,d.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");if(o.Z.inTestModeForApplication(n)||r.Z.inDevModeForApplication(n)){let e=await s.uE(n,!1),t=await h(n,e);return[...e.filter(e=>null!=e.price),...t]}let i=await a.oJ(n),l=i.filter(e=>e.sku.type!==_.epS.SUBSCRIPTION_GROUP).map(e=>e.sku).filter(e=>null!=e.price);return[...l,...await h(n,i.map(e=>e.sku))]}function I(e){let{socket:t}=e;(0,d.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");return i.yD(n)}t.Z={[_.Etm.GET_SKUS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:E},[_.Etm.GET_ENTITLEMENTS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:I},[_.Etm.GET_SKUS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({skus:await E(e)})},[_.Etm.GET_ENTITLEMENTS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({entitlements:await I(e)})}}},905534:function(e,t,n){n(177593);var i=n(626135),s=n(189800),a=n(996106),r=n(34954),l=n(986768),o=n(981631);t.Z={[o.Etm.SUBSCRIBE]:{async handler(e){let{server:t,socket:n,evt:c,args:d}=e,u=t.events[c];if(null==u)throw new a.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(c));if(!(0,r.Z)(n.authorization.scopes,u.scope))throw new a.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"Not authenticated or invalid scope");if(s.N.getCurrentConfig({location:"RPCServer"}).enabled&&i.default.track(o.rMx.RPC_SUBSCRIPTION_REQUESTED,{event:c,scope:"object"==typeof u.scope?JSON.stringify(u.scope):u.scope,application_id:n.application.id,socket_scope:n.authorization.scopes.toString()}),null!=u.validation){let e=await t.getJoi();if(null!=e.validate(d,u.validation(e),{convert:!1}).error)throw new a.Z({errorCode:o.lTL.INVALID_PAYLOAD},"Invalid subscription parameters provided")}let _=u.handler({args:d,socket:n}),h=await (0,l.V)(n,c,d);return new Promise(e=>{setImmediate(()=>{t.addSubscription(n,c,d,_),null!=h&&t.dispatchToSubscriptions(c,e=>e.socket.id===n.id,h)}),e({evt:c})})}},[o.Etm.UNSUBSCRIBE]:{handler(e){let{server:t,socket:n,evt:i,args:s}=e;if(null==t.events[i])throw new a.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(i));return t.removeSubscription(n,i,s),{evt:i}}}}},273487:function(e,t,n){var i=n(243814),s=n(706454),a=n(981631);t.Z={[a.Etm.USER_SETTINGS_GET_LOCALE]:{scope:i.x.IDENTIFY,handler:()=>({locale:s.default.locale})}}},543815:function(e,t,n){n(47120);var i=n(232567),s=n(996106),a=n(452426),r=n(863141),l=n(186901),o=n(981631);t.Z={[o.Etm.GET_USER]:{scope:l.lH,validation:e=>(0,a.Z)(e).required().keys({id:e.string().required()}),handler(e){let{args:{id:t}}=e;return(0,i.PR)(t).then(r.Z).catch(()=>{throw new s.Z({errorCode:o.lTL.INVALID_USER},"Invalid user id: ".concat(t))})}}}},845752:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(392711),s=n.n(i),a=n(243814),r=n(186901),l=n(981631);function o(e,t){return{[l.zMe.VOICE_SETTINGS_UPDATE]:{scope:{[r.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},handler:()=>t=>{let{prevState:n,dispatch:i}=t,a=e();return!s().isEqual(a,n)&&i(a),a}},[l.zMe.VOICE_SETTINGS_UPDATE_2]:{scope:r.lH,handler(e){let{socket:n}=e;return e=>{let{prevState:i,dispatch:a}=e;if(null==n.application.id)return i;let r=t(n.application.id);return!s().isEqual(r,i)&&a(r),r}}}}}},13838:function(e,t,n){n(47120);var i=n(392711),s=n.n(i),a=n(243814),r=n(902704),l=n(812206),o=n(594190),c=n(199902),d=n(592125),u=n(271383),_=n(430824),h=n(131951),E=n(19780),I=n(594174),m=n(979651),g=n(996106),p=n(914946),T=n(238679),S=n(452426),C=n(295424),f=n(222263),N=n(863141),A=n(186901),Z=n(981631);let L=e=>(0,S.Z)(e).required().keys({channel_id:e.string().required()});function v(e){var t;let{args:{channel_id:n},socket:i}=e,s=d.Z.getChannel(n);if(null==s||!(0,p.zM)(s,i.application.id,i.authorization.scopes))throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(n));if(s.isNSFW()&&(null===(t=I.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed)!==!0)throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid nsfw channel id: ".concat(s.id))}let O=e=>(0,S.Z)(e).keys({channel_id:e.string().allow(null)});function R(e){let{args:{channel_id:t}}=e;if(null!=t&&null==d.Z.getChannel(t))throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t))}let x={[Z.zMe.GUILD_STATUS]:{scope:a.x.RPC,validation:e=>(0,S.Z)(e).required().keys({guild_id:e.string().required()}),handler(e){let{args:{guild_id:t}}=e;if(null==_.Z.getGuild(t))throw new g.Z({errorCode:Z.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));return e=>{var n;let{prevState:i,dispatch:a}=e,r=_.Z.getGuild(t);if(null==r)return;let l={guild:{id:r.id,name:r.name,icon_url:null!==(n=r.getIconURL(128))&&void 0!==n?n:null},online:0};return!s().isEqual(i,l)&&a(l),l}}},[Z.zMe.VOICE_STATE_CREATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},validation:e=>(0,S.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,a=d.Z.getChannel(t);if(null==a)return;let r=a.getGuildId(),l=Object.values(m.Z.getVoiceStatesForChannel(a.id));return n&&s().differenceBy(l,n,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,p.aE)(r,a.id,e))),l}}},[Z.zMe.VOICE_STATE_DELETE]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},validation:e=>(0,S.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,a=d.Z.getChannel(t);if(null==a)return;let r=a.getGuildId(),l=Object.values(m.Z.getVoiceStatesForChannel(a.id));return s().differenceBy(n,l,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,p.aE)(r,a.id,e))),l}}},[Z.zMe.VOICE_STATE_UPDATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},validation:e=>(0,S.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new g.Z({errorCode:Z.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,a=d.Z.getChannel(t);if(null==a)return;let r=a.getGuildId(),l=Object.values(m.Z.getVoiceStatesForChannel(a.id)).map(e=>(0,p.aE)(r,a.id,e));return s().differenceWith(l,n,s().isEqual).forEach(e=>i(e)),l}}},[Z.zMe.VOICE_CONNECTION_STATUS]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={state:(0,p.zy)(E.Z.getState()),hostname:E.Z.getHostname(),pings:E.Z.getPings(),average_ping:E.Z.getAveragePing(),last_ping:E.Z.getLastPing()};return!s().isEqual(i,t)&&n(i),i}},[Z.zMe.MESSAGE_CREATE]:{scope:a.x.RPC,validation:L,handler:v},[Z.zMe.MESSAGE_UPDATE]:{scope:a.x.RPC,validation:L,handler:v},[Z.zMe.MESSAGE_DELETE]:{scope:a.x.RPC,validation:L,handler:v},[Z.zMe.SPEAKING_START]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ,A.lH]},validation:O,handler:R},[Z.zMe.SPEAKING_STOP]:{scope:{[A.Gp.ANY]:[a.x.RPC,a.x.RPC_VOICE_READ,A.lH]},validation:O,handler:R},[Z.zMe.GUILD_CREATE]:{scope:a.x.RPC,handler(){}},[Z.zMe.CHANNEL_CREATE]:{scope:a.x.RPC,handler(){}},[Z.zMe.GAME_JOIN]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.lH]},handler(){}},[Z.zMe.GAME_SPECTATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.lH]},handler(){}},[Z.zMe.ACTIVITY_JOIN]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.wE,A.lH]},handler(){}},[Z.zMe.ACTIVITY_JOIN_REQUEST]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.lH]},handler(){}},[Z.zMe.ACTIVITY_SPECTATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.wE,A.lH]},handler(){}},[Z.zMe.ACTIVITY_INVITE]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.lH]},handler(){}},[Z.zMe.ACTIVITY_PIP_MODE_UPDATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.wE,A.lH]},handler(){}},[Z.zMe.ACTIVITY_LAYOUT_MODE_UPDATE]:{scope:{[A.Gp.ANY]:[a.x.RPC,A.wE,A.lH]},handler(){}},[Z.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:T.gQ,[Z.zMe.THERMAL_STATE_UPDATE]:{scope:{[A.Gp.ANY]:[A.wE]},handler(){}},[Z.zMe.ORIENTATION_UPDATE]:{scope:{[A.Gp.ANY]:[A.wE]},handler(){}},[Z.zMe.VOICE_CHANNEL_SELECT]:{scope:a.x.RPC,handler(){}},[Z.zMe.NOTIFICATION_CREATE]:{scope:{[A.Gp.ALL]:[a.x.RPC,a.x.RPC_NOTIFICATIONS_READ]},handler(){}},[Z.zMe.RELATIONSHIP_UPDATE]:{scope:a.x.RELATIONSHIPS_READ,handler(){}},[Z.zMe.CURRENT_USER_UPDATE]:{scope:{[A.Gp.ANY]:[A.lH,a.x.IDENTIFY]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={currentUser:I.default.getCurrentUser()};return null!=i.currentUser&&(null==t||!(0,r.Z)(i,t))&&n((0,N.Z)(i.currentUser)),i}},[Z.zMe.CURRENT_GUILD_MEMBER_UPDATE]:{scope:{[A.Gp.ALL]:[a.x.IDENTIFY,a.x.GUILDS_MEMBERS_READ]},handler(e){let{args:{guild_id:t}}=e;return e=>{let{prevState:n,dispatch:i}=e,s={currentGuildMember:u.ZP.getSelfMember(t)};return null!=s.currentGuildMember&&(null==n||!(0,r.Z)(s,n))&&i((0,f.Z)(s.currentGuildMember)),s}}},[Z.zMe.ENTITLEMENT_CREATE]:{scope:{[A.Gp.ANY]:[A.lH,A.wE]},handler(){}},[Z.zMe.ENTITLEMENT_DELETE]:{scope:{[A.Gp.ANY]:[A.lH,A.wE]},handler(){}},[Z.zMe.USER_ACHIEVEMENT_UPDATE]:{scope:A.lH,handler(){}},[Z.zMe.SCREENSHARE_STATE_UPDATE]:{scope:{[A.Gp.ALL]:[A.lH,a.x.RPC_SCREENSHARE_READ]},handler:()=>e=>{var t,n;let{prevState:i,dispatch:a}=e,r=c.Z.getStreamerActiveStreamMetadata(),d=(null==r?void 0:r.pid)!=null?o.ZP.getGameForPID(r.pid):null,u=(null==d?void 0:d.id)!=null?l.Z.getApplication(d.id):null,_=null!=u?(0,C.Z)(u):null,h=null==r?void 0:r.sourceName,E={active:null!=r,pid:null!==(t=null==r?void 0:r.pid)&&void 0!==t?t:null,application:(n=null!=_,n)?{name:h}:null};return!s().isEqual(E,i)&&a(E),E}},[Z.zMe.VIDEO_STATE_UPDATE]:{scope:{[A.Gp.ALL]:[A.lH,a.x.RPC_VIDEO_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={active:h.Z.isVideoEnabled()};return!s().isEqual(i,t)&&n(i),i}}};t.Z=x},986768:function(e,t,n){n.d(t,{V:function(){return d}});var i=n(317381),s=n(573979),a=n(42352),r=n(886355),l=n(238679),o=n(981631),c=n(701488);async function d(e,t,n){var d,u;switch(t){case o.zMe.ACTIVITY_PIP_MODE_UPDATE:{let t=null===(d=e.application)||void 0===d?void 0:d.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{is_pip_mode:n!==c.cE.FOCUSED}:null}case o.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:{let t=null===(u=e.application)||void 0===u?void 0:u.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{layout_mode:n}:null}case o.zMe.THERMAL_STATE_UPDATE:{let e=await (0,a.Z)();if(null==e)return null;return{thermal_state:(0,s.Z)(e)}}case o.zMe.ORIENTATION_UPDATE:{let e=r.Z.isScreenLandscape();if(null!=e)return{screen_orientation:e?c.W0.LANDSCAPE:c.W0.PORTRAIT};return null}case o.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE:return(0,l.dO)();default:return null}}},76238:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(392711),s=n.n(i),a=n(996106),r=n(981631);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e,t,n){if(l(this,"transport",void 0),l(this,"version",void 0),l(this,"encoding",void 0),l(this,"id",void 0),l(this,"authorization",void 0),l(this,"application",void 0),this.transport=e,this.version=t,this.encoding=n,this.id=s().uniqueId(),this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)},this.application={id:null,name:null,icon:null},null==t||t>r.X6Q||t<1)throw new a.Z({closeCode:r.$VG.INVALID_VERSION},"Invalid Version: ".concat(t))}}},915357:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(996106),s=n(631467),a=n(76238),r=n(186901),l=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Z{send(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id),this.postMessageToRPCClient([s.Z.FRAME,e],this.origin)}close(e,t){!this.closed&&this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient),this.closed=!0}constructor({origin:e,postMessageToRPCClient:t,frameId:n,version:s,encoding:a,logger:c,postClose:d,onSendingToRPCClient:u}){if(super(r.He.POST_MESSAGE,s,a),o(this,"origin",void 0),o(this,"frameId",void 0),o(this,"postMessageToRPCClient",void 0),o(this,"logger",void 0),o(this,"postClose",void 0),o(this,"onSendingToRPCClient",void 0),o(this,"closed",void 0),-1===["etf","json"].indexOf(a))throw new i.Z({closeCode:l.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(a));if("etf"===a)throw new i.Z({closeCode:l.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this.origin=e,this.postMessageToRPCClient=t,this.frameId=n,this.logger=c,this.postClose=d,this.onSendingToRPCClient=u,this.closed=!1}}},46832:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(836560),s=n(317381),a=n(626135),r=n(585483),l=n(70956),o=n(996106),c=n(631467),d=n(981631);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _=10*l.Z.Millis.SECOND,h=new Map,E=new Set,I=(e,t,n)=>{n([c.Z.CLOSE,t],e)};class m extends i.EventEmitter{routeEvent(e,t,n,i){if(!Array.isArray(n)){console.warn("[PostMessageTransport] Protocol error: event data should be an Array!");return}let[s,a]=n;switch(s){case c.Z.HANDSHAKE:if(null!=e)throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Already connected");return this.handleHandshake(t,a,i);case c.Z.FRAME:if(null==e)throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleFrame(t,e,a);case c.Z.CLOSE:if(null==e)throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleClose(e,a);default:throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Invalid opcode")}}constructor(e,t,i,l){var c;super(),c=this,u(this,"validateSocketClient",void 0),u(this,"logger",void 0),u(this,"createPostMessageProxySocket",void 0),u(this,"onFrameHandled",void 0),u(this,"handshakeFailureTimeoutId",void 0),u(this,"disconnectSocket",function(e,t){var n,i;let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.emit("disconnect",e,s?void 0:t),e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");let[a]=null!==(i=Array.from(h.entries()).find(t=>{let[n,i]=t;return i===e}))&&void 0!==i?i:[null,null];null!=a&&h.delete(a)}),u(this,"handleIFrameMount",e=>{let{id:t}=e;E.add(t),this.handshakeFailureTimeoutId=setTimeout(()=>{Array.from(s.ZP.getSelfEmbeddedActivities().entries()).forEach(e=>{let[t,n]=e;a.default.track(d.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:t,channel_id:n.channelId,guild_id:n.guildId,timeout_ms:_})})},_)}),u(this,"handleIFrameUnmount",e=>{var t;let{id:n}=e;E.delete(n);let[i,s]=null!==(t=Array.from(h.entries()).find(e=>{let[t,i]=e;return i.frameId===n}))&&void 0!==t?t:[null,null];null!=s&&null!=i&&(this.disconnectSocket(s,{code:d.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0),h.delete(i))}),u(this,"handleMessage",(e,t,n)=>{let i=h.get(t);try{this.routeEvent(i,t,e,n)}catch(e){if(e instanceof o.Z&&e.errorCode===d.lTL.INVALID_PAYLOAD)throw e;null!=i?this.disconnectSocket(i,{code:e.code,message:e.message},!0):I(t,{code:e.code,message:e.message},n)}}),u(this,"handleFrame",(e,t,n)=>{var i;let s;if(e!==t.origin)throw new o.Z({closeCode:d.$VG.INVALID_ORIGIN},"Origin has changed");try{s="string"==typeof n?JSON.parse(n):n}catch(e){throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Payload not recognized encoding")}null===(i=this.onFrameHandled)||void 0===i||i.call(this,s,this.logger,t),this.emit("request",t,s)}),u(this,"handleHandshake",async(e,t,i)=>{let s;null!=this.handshakeFailureTimeoutId&&clearTimeout(this.handshakeFailureTimeoutId);let a=(await n.e("56268").then(n.t.bind(n,826753,23))).default;try{a.assert(t,a.object().required().keys({v:a.number().min(1).max(1).required(),encoding:a.string().equal("json").optional(),client_id:a.string().required(),frame_id:a.string().required()}))}catch(e){throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},e.message)}let r=t.frame_id;if(!E.has(r))throw this.logger.error("Unrecognized frame ID ".concat(r)),new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(r));try{var l;s=this.createPostMessageProxySocket({origin:e,postMessageToRPCClient:i,frameId:r,version:Number(t.v),logger:this.logger,postClose:I,encoding:null!==(l=t.encoding)&&void 0!==l?l:"json"})}catch(e){throw this.logger.error("Error opening window socket ".concat(e)),e}this.logger.info("Socket Opened: ".concat(s.id));try{if(await this.validateSocketClient(s,e,t.client_id),!E.has(r))throw this.logger.error("Frame ID ".concat(r," no longer exists")),new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(r));h.set(e,s),E.delete(r),this.emit("connect",s),this.logger.info("Socket Validated: ".concat(s.id))}catch(e){throw this.logger.info("Socket Closed: ".concat(s.id,", ").concat(e.message)),e}}),u(this,"handleClose",async(e,t)=>{let i=(await n.e("56268").then(n.t.bind(n,826753,23))).default;try{i.assert(t,i.object().required().unknown(!0).keys({code:i.number().valid(Object.values(d.$VG)).required(),message:i.string().optional()}))}catch(e){throw new o.Z({closeCode:d.$VG.CLOSE_UNSUPPORTED},e.message)}this.disconnectSocket(e,t)}),r.S.subscribe(d.CkL.IFRAME_MOUNT,this.handleIFrameMount),r.S.subscribe(d.CkL.IFRAME_UNMOUNT,this.handleIFrameUnmount),this.validateSocketClient=e,this.logger=t,this.createPostMessageProxySocket=i,this.onFrameHandled=l}}},30643:function(e,t,n){n(47120);var i=n(237997),s=n(998502),a=n(576027),r=n(13838),l=n(812967),o=n(350085),c=n(910484),d=n(443952),u=n(266572),_=n(177698),h=n(121826),E=n(567481),I=n(498164),m=n(111097),g=n(908711),p=n(197941),T=n(462414),S=n(662194),C=n(188861);let f={...a.A,...d.Z,...u.Z,...h.Z,...E.Z,...I.Z,...m.Z,...p.Z,...S.Z,...T.Z,..._.Z,...g.Z},N={...r.Z,...o.M,...c.n};t.Z={server:l.Z,commands:f,events:N,stores:[i.Z],transports:[C.Z],registerTransportsForEmbeddedPlatform:function(){s.ZP.ensureModule("discord_rpc").then(()=>{for(let e of[n(178318).Z,n(967351).Z])l.Z.registerTransport(e)})}}},350085:function(e,t,n){n.d(t,{M:function(){return d}});var i=n(392711),s=n.n(i),a=n(283595),r=n(808506),l=n(996106),o=n(186901),c=n(981631);let d={[c.zMe.OVERLAY_UPDATE]:{scope:o.lH,handler(e){let{args:{pid:t},socket:n}=e;if("number"!=typeof t||t<10)throw new l.Z({errorCode:c.lTL.INVALID_EVENT},"Invalid pid");return e=>{let{prevState:i,dispatch:l}=e,o=r.Z.enabled,c=!0,d=n.application.id;if(null!=d){let e=a.Z.getActiveLibraryApplication(d);null!=e&&(o=o&&e.isOverlayEnabled()),c=r.Z.isInputLocked(t)}let u={enabled:o,locked:c};return!s().isEqual(u,i)&&l(u),u}}}}},910484:function(e,t,n){n.d(t,{n:function(){return a}});var i=n(845752),s=n(852926);let a=(0,i.Z)(s._X,s.GC)},852926:function(e,t,n){n.d(t,{GC:function(){return I},_X:function(){return E},em:function(){return h},s0:function(){return _}});var i=n(13245),s=n(808506),a=n(998502),r=n(13140),l=n(996106),o=n(914946),c=n(186901),d=n(981631);let u=["207646673902501888"];function _(e){return s.Z.isReady(e)?(i.Z.setLocked(!1,e),{lock(){i.Z.setLocked(!0,e)},context:d.IlC.OVERLAY}):(a.ZP.focus(null,!0),{lock(){a.ZP.setForegroundProcess(e)},context:d.IlC.APP})}let h=async(e,t,n)=>{if((0,o.YK)(e,t),(null==n||""===n)&&(0,o.s9)(t))return e.authorization.scopes=[c.cE,c.CN],Promise.resolve();if(null==n||""===n)return Promise.reject(new l.Z({closeCode:d.$VG.INVALID_CLIENTID},"No Client ID Specified"));let i=a.ZP.releaseChannel!==d.R5N.CANARY&&!u.includes(n)&&e.transport!==c.He.POST_MESSAGE;return await (0,o.vv)(n,i),(0,o.fy)(e,n,t)},E=()=>(0,o.tr)(e=>{let t=[];if(null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut))t=e.modeOptions.shortcut.map(e=>{var t;return{type:e[0],code:e[1],name:null!==(t=(0,r.H9)(e))&&void 0!==t?t:"unknown"}});return t}),I=e=>(0,o.FJ)(e,e=>{let t="";return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,r.BB)(e.modeOptions.shortcut)),t})},298969:function(e,t,n){var i=n(606271),s=n(30643);t.Z=new i.Z(s.Z)},443952:function(e,t,n){n(47120),n(411104),n(789020);var i=n(735250);n(470079);var s=n(243814),a=n(45792),r=n(481060),l=n(278323),o=n(988298),c=n(224706),d=n(45114),u=n(479531),_=n(40851),h=n(566620),E=n(596223),I=n(838195),m=n(928518),g=n(592125),p=n(293273),T=n(885110),S=n(451478),C=n(630388),f=n(823379),N=n(591759),A=n(228488),Z=n(996106),L=n(914946),v=n(452426),O=n(561205),R=n(600027),x=n(852926),b=n(186901),P=n(981631);async function M(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=p.Z.getApplicationActivity(t);if(null==a||null==a.secrets||!(0,L.t9)(i,a.party,a.secrets))throw new Z.Z({errorCode:P.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let r=(0,E.Z)(a,T.Z);if(r){let{lock:t}=(0,x.s0)(e);return(0,o.h7)(a,r).then(()=>{throw t(),new Z.Z({errorCode:P.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}await l.Z.sendActivityInviteUser({userId:n,type:i,activity:a,content:s,location:"In-Game Invite"})}t.Z={[P.Etm.SEND_ACTIVITY_JOIN_INVITE]:{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH]},handler(e){let{socket:t,args:{user_id:n,pid:i}}=e,s=t.application.id;if(null==s)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No application.");return M(i,s,n,P.mFx.JOIN)}},[P.Etm.CLOSE_ACTIVITY_JOIN_REQUEST]:{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH]},handler(e){let{args:{user_id:t}}=e,n=g.Z.getDMFromUserId(t);null!=n&&(0,d.In)(n,!0,!0)}},[P.Etm.ACTIVITY_INVITE_USER]:{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH]},validation:e=>(0,v.Z)(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([P.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,user_id:i,content:s,pid:a}}=e,r=t.application.id;if(null==r)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No application.");return M(a,r,i,n,s)}},[P.Etm.ACCEPT_ACTIVITY_INVITE]:{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH]},validation:e=>(0,v.Z)(e).required().keys({type:e.number().required().valid([P.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()}),handler(e){let{socket:t,args:{type:n,user_id:i,session_id:s,channel_id:a,message_id:r}}=e,l=t.application.id;if(null==l)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No application.");let o=Promise.resolve(!1);if(n===P.mFx.JOIN)o=c.Z.join({userId:i,sessionId:s,applicationId:l,channelId:a,messageId:r});return o.then(e=>{if(!e)throw new Z.Z({errorCode:P.lTL.INVALID_INVITE},"Invite is expired or invalid.")})}},[P.Etm.OPEN_INVITE_DIALOG]:{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH,b.wE]},handler(e){let{socket:t}=e,{channel:s,guild:a}=(0,R.T)(),l=m.Z.getWindow(P.KJ3.CHANNEL_CALL_POPOUT);(null==l?void 0:l.closed)&&(l=null);let o=null!=l?P.IlC.POPOUT:P.IlC.APP;(0,A.Pr)({},null==l?void 0:l.document),(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("21026")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:a,channel:s,applicationId:t.application.id,analyticsLocation:P.Sbl.ACTIVITY_RPC,source:P.t4x.ACTIVITY_INVITE})},{contextKey:o===P.IlC.POPOUT?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT})}},[P.Etm.INITIATE_IMAGE_UPLOAD]:(0,a.S)(P.Etm.INITIATE_IMAGE_UPLOAD,{scope:{[b.Gp.ANY]:[s.x.RPC,b.lH,b.wE]},handler(e){var t;let{socket:n}=e,i=n.application.id;if(null==i)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No application.");let s=null===(t=(0,O.Z)())||void 0===t?void 0:t.id;if(null==s)throw new Z.Z({errorCode:P.lTL.UNKNOWN_ERROR},"Unable to find selected channel");return new Promise((e,t)=>{!function(e,t){var n;let i=S.Z.getLastFocusedWindowId(),s=null==i?null:null===(n=(0,_.g0)(i))||void 0===n?void 0:n.renderWindow;if(null==s)throw new Z.Z({errorCode:P.lTL.UNKNOWN_ERROR},"No valid window found");let a=s.document.createElement("input");a.style.display="none",a.type="file",a.accept="image/jpeg, image/jpg, image/png, image/gif";let r=()=>{(null==a.files||0===a.files.length)&&t(),s.document.body.removeEventListener("focus",r,!0),setTimeout(()=>{s.document.body.removeChild(a)},1e3)};a.addEventListener("change",()=>{(0,f.lm)(a.files)&&e(a.files[0]),r()}),a.addEventListener("cancel",()=>{r()}),s.document.body.addEventListener("focus",r,!0),s.document.body.appendChild(a),a.click()}(async n=>{let a=await (0,h.kv)(i,s,n);(0,f.lm)(a)&&(0,f.lm)(a.url)&&!(a instanceof u.Z)?e({image_url:a.url}):t(a)},()=>t(Error("Upload canceled")))}).catch(e=>{var t;throw new Z.Z({errorCode:P.lTL.UNKNOWN_ERROR},null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Failed to upload image")})}}),[P.Etm.OPEN_SHARE_MOMENT_DIALOG]:(0,a.S)(P.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:{[b.Gp.ANY]:[b.wE]},handler(e){var t;let{socket:n,args:{mediaUrl:i}}=e;(0,L.bu)(n.transport);let s=n.application.id;if(null==s)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No application.");if(!(0,C.yE)(null!==(t=n.application.flags)&&void 0!==t?t:0,P.udG.EMBEDDED))throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"This application cannot access this API");let a=(0,O.Z)();if(null==a)throw new Z.Z({errorCode:P.lTL.INVALID_COMMAND},"No channel found");if(!N.Z.isDiscordCdnUrl(i))throw new Z.Z({errorCode:P.lTL.INVALID_PAYLOAD},"mediaUrl must be a Discord CDN url");(0,I.Z)({applicationId:s,channelId:a.id,mediaUrl:i})}})}},266572:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(544891),a=n(846519),r=n(481060),l=n(496929),o=n(115130),c=n(812206),d=n(594174),u=n(580130),_=n(695103),h=n(70956),E=n(998502),I=n(996106),m=n(186901),g=n(981631);let p=10*h.Z.Millis.SECOND;t.Z={[g.Etm.VALIDATE_APPLICATION]:{scope:m.lH,handler(e){let{socket:t}=e,s=t.application.id;try{if(null==s)throw new I.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");let e=c.Z.getApplication(s);if(null==e)throw new I.Z({errorCode:g.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");let t=e.primarySkuId;if(null==t)throw new I.Z({errorCode:g.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");return Promise.race([(function(e,t){let n=u.Z.isEntitledToSku(d.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,l.yD)(t).then(()=>!0===u.Z.isEntitledToSku(d.default.getCurrentUser(),e,t))})(t,e.id).then(e=>{if(!e)throw new I.Z({errorCode:g.lTL.INVALID_ENTITLEMENT},"User does not have entitlement.")}),(0,a.GR)(p).then(()=>{throw new I.Z({errorCode:g.lTL.INVALID_ENTITLEMENT},"Timed out fetching entitlement.")})])}catch(e){throw e.code===g.lTL.INVALID_ENTITLEMENT&&(E.ZP.focus(null,!0),(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:s})})),e}}},[g.Etm.GET_ENTITLEMENT_TICKET]:{scope:m.lH,handler(e){let{socket:t}=e,a=t.application.id;if(null==a)throw new I.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return s.tn.post({url:g.ANM.ENTITLEMENT_TICKET(a),body:{test_mode:_.Z.inTestModeForApplication(a)||o.Z.inDevModeForApplication(a)},retries:3,oldFormErrors:!0}).then(e=>{let{body:t}=e;return t}).catch(e=>{throw E.ZP.focus(null,!0),(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:a})}),e})}}}},177698:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(813615),r=n(812206),l=n(69580),o=n(358085),c=n(998502),d=n(996106),u=n(703912),_=n(981631);t.Z=(0,u.Z)(e=>{var t;let{clientId:n,authorizations:o,scopes:c,parsedPermissions:u,responseType:h,redirectUri:E,codeChallenge:I,codeChallengeMethod:m,state:g,guildId:p,channelId:T,prompt:S,disableGuildSelect:C,disclosures:f,integrationType:N}=e,A="OAuth2Authorize_".concat(n,"_").concat(p,"_").concat(T),Z=null!=N?null==o?void 0:o.get(N):void 0,L=null!==(t=null==Z?void 0:Z.application)&&void 0!==t?t:r.Z.getApplication(n);return new Promise((e,t)=>{let r=n=>{let{location:i}=n;null!=location?e(i):t(new d.Z({errorCode:_.lTL.OAUTH2_ERROR},"User cancelled authorization"))};(0,s.openModal)(e=>(0,i.jsx)(l.OAuth2AuthorizeModal,{...e,authorizations:o,clientId:n,scopes:null!=c?c:[],disclosures:null!=f?f:[],callback:r,responseType:h,redirectUri:E,codeChallenge:I,codeChallengeMethod:m,state:g,permissions:u,guildId:p,channelId:T,prompt:S,disableGuildSelect:"boolean"==typeof C?C:"true"===C,integrationType:N}),{modalKey:A,onCloseRequest:()=>{(0,s.closeModal)(A),t(new d.Z({errorCode:_.lTL.OAUTH2_ERROR},"User cancelled authorization"))}},null!=L&&(0,a.Z)(L,T)?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT)})},function(e,t){if(o.isPlatformEmbedded){let n=(0,a.Z)(e,t)?_.KJ3.CHANNEL_CALL_POPOUT:null;(0,o.isWindows)()?c.ZP.minimize(n):c.ZP.restore(n),c.ZP.focus(n)}})},121826:function(e,t,n){var i=n(230487),s=n(998502),a=n(914946),r=n(452426),l=n(981631);t.Z={[l.Etm.ENCOURAGE_HW_ACCELERATION]:{validation:e=>(0,r.Z)(e),handler(e){let{socket:t}=e;(0,a.bu)(t.transport);let n=t.application.id;if(null!=n)return(0,i.Z)(n),{enabled:s.ZP.getEnableHardwareAcceleration()}}}}},567481:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(988298),l=n(447543),o=n(13245),c=n(596223),d=n(293273),u=n(885110),_=n(996106),h=n(914946),E=n(452426),I=n(852926),m=n(186901),g=n(981631);t.Z={[g.Etm.SET_OVERLAY_LOCKED]:{scope:m.lH,validation:e=>(0,E.Z)(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()}),handler(e){let{args:{locked:t,pid:n},socket:{application:i}}=e;if(null==i.id)throw new _.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");o.Z.setLocked(t,n)}},[g.Etm.OPEN_OVERLAY_ACTIVITY_INVITE]:{scope:m.lH,validation:e=>(0,E.Z)(e).required().keys({type:e.number().required().valid([g.mFx.JOIN]),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,pid:i}}=e,s=t.application.id;if(null==s)throw new _.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");let a=d.Z.getApplicationActivity(s);if(null==a||null==a.secrets||!(0,h.t9)(n,a.party,a.secrets))throw new _.Z({errorCode:g.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let{lock:l}=(0,I.s0)(i),o=(0,c.Z)(a,u.Z);return(0,r.h7)(a,o).then(()=>{if(l(),o)throw new _.Z({errorCode:g.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}},[g.Etm.OPEN_OVERLAY_GUILD_INVITE]:{scope:m.lH,validation:e=>(0,E.Z)(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()}),handler(e){let{args:{code:t,pid:n},socket:i}=e;if(null==i.application.id)throw new _.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return l.Z.resolveInvite(t,"Game SDK").then(e=>{let{invite:t,code:i}=e;if(null==t)throw new _.Z({errorCode:g.lTL.INVALID_INVITE},"Invalid invite id: ".concat(i));let{context:s,lock:r}=(0,I.s0)(n);return new Promise(e=>{a.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:i,context:s,resolve:e})}).then(r)})}},[g.Etm.OPEN_OVERLAY_VOICE_SETTINGS]:{scope:m.lH,validation:e=>(0,E.Z)(e).required().keys({pid:e.number().min(0).required()}),handler(e){let{args:{pid:t},socket:a}=e,r=a.application.id;if(null==r)throw new _.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");let{lock:l}=(0,I.s0)(t);return new Promise(e=>{(0,s.openModalLazy)(async()=>{let{default:t}=await n.e("66063").then(n.bind(n,344516));return n=>(0,i.jsx)(t,{...n,mediaEngineContext:r,title:a.application.name,onClose:()=>{n.onClose(),l(),e()}})})})}}}},498164:function(e,t,n){var i,s,a=n(735250);n(470079);var r=n(756647),l=n(481060),o=n(570140),c=n(355467),d=n(899742),u=n(457330),_=n(533307),h=n(447543),E=n(962220),I=n(703656),m=n(314897),g=n(594174),p=n(626135),T=n(585483),S=n(591759),C=n(998502),f=n(996106),N=n(186901),A=n(981631);function Z(e,t){if(null!=e)p.default.track(A.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,r.s)(e),link_type:t})}(i=s||(s={})).SETTINGS="settings",i.CHANGELOG="changelog",i.LIBRARY="library",i.STORE="store",i.INVITE="invite",i.CHANNEL="channel",i.GUILD_SETTINGS="guild_settings",t.Z={[A.Etm.INVITE_BROWSER]:{scope:N.cE,async handler(e){let{args:{code:t}}=e,{invite:n}=await h.Z.resolveInvite(t,"Desktop Modal");if(null==n)throw new f.Z({errorCode:A.lTL.INVALID_INVITE},"Invalid invite id: ".concat(t));return m.default.isAuthenticated()?o.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:n,code:t,context:A.IlC.APP}):(0,I.dL)(A.Z5c.INVITE(t)),{invite:n,code:t}}},[A.Etm.GUILD_TEMPLATE_BROWSER]:{scope:N.cE,async handler(e){let{args:{code:t}}=e;if(null==g.default.getCurrentUser())return;let{guildTemplate:i}=await E.Z.resolveGuildTemplate(t);if(null==i)throw new f.Z({errorCode:A.lTL.INVALID_GUILD_TEMPLATE},"Invalid guild template id: ".concat(t));return C.ZP.focus(),(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("38266")]).then(n.bind(n,766775));return t=>(0,a.jsx)(e,{...t,guildTemplate:i})}),{guildTemplate:i,code:t}}},[A.Etm.GIFT_CODE_BROWSER]:{scope:N.cE,handler(e){let{args:{code:t}}=e;return new Promise((e,i)=>{o.Z.wait(()=>{_.Z.resolveGiftCode(t,!0,!0).then(i=>{let{giftCode:s}=i;C.ZP.focus(),p.default.track(A.rMx.OPEN_MODAL,{type:"gift_accept",location:A.SaU}),(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("92446"),n.e("51966")]).then(n.bind(n,409858));return n=>(0,a.jsx)(e,{code:t,...n})}),e({giftCode:s})}).catch(()=>i(new f.Z({errorCode:A.lTL.INVALID_GIFT_CODE},"Invalid gift code: ".concat(t))))})})}},[A.Etm.DEEP_LINK]:{scope:N.cE,handler(e){let{args:{type:t,params:n}}=e;switch(C.ZP.focus(),t){case N.jE.USER_SETTINGS:null!=n&&((0,I.dL)(A.Z5c.SETTINGS(n.section,n.subsection)),Z(n.fingerprint,"settings"));break;case N.jE.CHANGELOG:null!=n&&((0,I.dL)(S.Z.formatPathWithQuery(A.Z5c.CHANGELOGS(n.date),n.query)),Z(n.fingerprint,"changelog"));break;case N.jE.LIBRARY:(0,I.dL)(A.Z5c.APPLICATION_LIBRARY),null!=n&&Z(n.fingerprint,"library");break;case N.jE.STORE_HOME:(0,I.dL)(A.Z5c.APPLICATION_STORE),null!=n&&Z(n.fingerprint,"store");break;case N.jE.STORE_LISTING:null!=n&&((0,I.dL)(A.Z5c.APPLICATION_STORE_LISTING_SKU(n.skuId,n.slug)),Z(n.fingerprint,"store"));break;case N.jE.PICK_GUILD_SETTINGS:null!=n&&((0,I.dL)({pathname:A.Z5c.PICK_GUILD_SETTINGS(n.section,n.subsection),search:n.search}),Z(n.fingerprint,"guild_settings"));break;case N.jE.CHANNEL:null!=n&&((0,I.dL)({pathname:A.Z5c.CHANNEL(n.guildId,n.channelId,n.messageId),search:n.search}),Z(n.fingerprint,"channel"))}}},[A.Etm.BROWSER_HANDOFF]:{scope:N.CN,handler(e){let{args:{handoffToken:t,fingerprint:n}}=e;C.ZP.focus(null,!0),(0,d.lx)(t,n)}},[A.Etm.CONNECTIONS_CALLBACK]:{scope:N.cE,handler:async e=>{let{args:{providerType:t,code:n,openid_params:i,state:s}}=e;try{return await u.Z.callback(t,{code:n,openid_params:i,state:s})}catch(e){throw T.S.dispatch(A.CkL.CONNECTIONS_CALLBACK_ERROR),e}}},[A.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK]:{scope:N.cE,handler(e){let{args:{state:t,path:n,query:i}}=e;return(0,c.rt)({paymentSourceType:A.HeQ.PAYPAL,state:t,path:n,query:i})}},[A.Etm.BILLING_POPUP_BRIDGE_CALLBACK]:{scope:N.cE,handler(e){let{args:{state:t,path:n,query:i,payment_source_type:s}}=e;return(0,c.rt)({paymentSourceType:s,state:t,path:n,query:i})}}}},111097:function(e,t,n){n(411104),n(47120);var i=n(72924),s=n(100527),a=n(367207),r=n(996106),l=n(452426),o=n(561205),c=n(334288),d=n(852926),u=n(186901),_=n(981631),h=n(474936);let E=[s.Z.RPC];function I(e){if(null==e)return{lock:_.VqG,context:_.IlC.APP};let t=(0,d.s0)(e);return{lock:t.lock,context:t.context}}function m(e,t){let n={subscriptionTier:h.Si.TIER_2,analyticsLocations:E,analyticsObject:t};switch(e){case _.IlC.APP:return a.Z.openPremiumPaymentModalInApp(n);case _.IlC.OVERLAY:return a.Z.openPremiumPaymentModalInOverlay(n);default:throw Error("Unexpected app context: ".concat(e))}}t.Z={[_.Etm.START_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,l.Z)(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)}),handler(e){let{socket:t,args:{sku_id:n,pid:s}}=e;(0,c.f)(t.transport);let a=t.application.id;if(null==a)throw new r.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let{lock:l,context:d}=I(t.transport!==u.He.POST_MESSAGE?s:null);if(null==(0,o.Z)())throw new r.Z({errorCode:_.lTL.INVALID_CHANNEL},"Invalid channel");let h={page:_.ZY5.IN_APP};return(async()=>{try{let e=await (0,i.S)({applicationId:a,skuId:n,openPremiumPaymentModal:()=>m(d,h),analyticsLocations:E,analyticsLocationObject:h,context:d});return l(),e}catch(e){if(l(),null!=e){let t="";throw t="object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e),new r.Z({errorCode:_.lTL.PURCHASE_ERROR},t)}throw new r.Z({errorCode:_.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")}})()}},[_.Etm.START_PREMIUM_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,l.Z)(e).keys({pid:e.number().min(0)}),handler(e){let{socket:t,args:{pid:n}}=e;if((0,c.f)(t.transport),null==t.application.id)throw new r.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let{lock:i,context:s}=I(t.transport!==u.He.POST_MESSAGE?n:null);return m(s,{page:_.ZY5.IN_APP}).then(()=>{i()},e=>{if(i(),null!=e)throw new r.Z({errorCode:_.lTL.PURCHASE_ERROR},e);throw new r.Z({errorCode:_.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")})}}}},908711:function(e,t,n){var i=n(408841),s=n(981631);t.Z={[s.Etm.SEND_GENERIC_EVENT]:i.n}},197941:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(243814),a=n(481060),r=n(846027),l=n(872810),o=n(594190),c=n(989941),d=n(173507),u=n(199902),_=n(131951),h=n(449224),E=n(358085),I=n(452426),m=n(736045),g=n(186901),p=n(981631);t.Z={[p.Etm.TOGGLE_VIDEO]:{scope:{[g.Gp.ALL]:[s.x.RPC,s.x.RPC_VIDEO_WRITE]},handler(){let e=_.Z.isVideoEnabled();if(null!=(0,m.Z)())e?r.Z.setVideoEnabled(!1):(0,d.Z)(()=>r.Z.setVideoEnabled(!0),p.IlC.APP)}},[p.Etm.TOGGLE_SCREENSHARE]:{scope:{[g.Gp.ALL]:[s.x.RPC,s.x.RPC_SCREENSHARE_WRITE]},validation:e=>(0,I.Z)(e).optional().keys({pid:e.number().optional().min(0)}),handler(e){let{args:{pid:t}}=e,s=u.Z.getCurrentUserActiveStream(),r=u.Z.getStreamerActiveStreamMetadata(),d=(0,c.Z)(o.ZP,h.Z),_=(0,m.Z)();if(null!=_)null!=t&&null!=r&&r.pid!==t&&(0,E.isWindows)()?(0,l.WH)(_.guild_id,_.id,{pid:t}):null!=s?(0,l.L6)(!1):null!=t&&(0,E.isWindows)()?(0,l.WH)(_.guild_id,_.id,{pid:t}):null!=d?(0,l.WH)(_.guild_id,_.id,{pid:d.pid}):(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("79477"),n.e("90060")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,guildId:_.guild_id,analyticsLocation:p.Sbl.ACTIVITY_RPC})})}}}},462414:function(e,t,n){n(47120);var i=n(243814),s=n(846027),a=n(131951),r=n(13140),l=n(996106),o=n(452426),c=n(186901),d=n(981631),u=n(65154);function _(e){let t=e.application.id;if(null==t)throw new l.Z({errorCode:d.lTL.INVALID_COMMAND},"No application.");return t}t.Z={[d.Etm.SET_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,o.Z)(e).required().keys({input_mode:(0,o.Z)(e).keys({type:e.string().valid(Object.keys(d.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()}),handler(e){let{socket:t,args:{input_mode:n,self_mute:i,self_deaf:l}}=e,o=_(t);null!=n&&s.Z.setMode(n.type,{shortcut:(0,r.Kd)(n.shortcut)},o),null!=i&&i!==a.Z.isSelfMute(o)&&s.Z.toggleSelfMute({context:o}),null!=l&&l!==a.Z.isSelfDeaf(o)&&s.Z.toggleSelfDeaf({context:o})}},[d.Etm.SET_USER_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,o.Z)(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{socket:t,args:{user_id:n,mute:i,volume:r}}=e,l=_(t);null!=i&&i!==a.Z.isLocalMute(n,l)&&s.Z.toggleLocalMute(n,l),null!=r&&s.Z.setLocalVolume(n,r,l)}},[d.Etm.PUSH_TO_TALK]:{scope:{[c.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({active:e.boolean()}),handler(e){let{args:{active:t}}=e;if(a.Z.getMode(u.Yn.DEFAULT)===d.pM4.PUSH_TO_TALK)a.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(t),u.Yn.DEFAULT)}}}},662194:function(e,t,n){n(47120);var i=n(243814),s=n(846027),a=n(131951),r=n(594174),l=n(996106),o=n(452426),c=n(852926),d=n(186901),u=n(981631);t.Z={[u.Etm.SET_USER_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({user_id:e.string().required(),pan:(0,o.Z)(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{args:{user_id:t,pan:n,volume:i,mute:o}}=e,c=r.default.getCurrentUser();if(null==r.default.getUser(t)||(null==c?void 0:c.id)===t)throw new l.Z({errorCode:u.lTL.INVALID_USER},"Invalid user id: ".concat(t));if(null!=n&&s.Z.setLocalPan(t,n.left,n.right),null!=i&&s.Z.setLocalVolume(t,i),null!=o){let e=a.Z.isLocalMute(t);(e&&!o||!e&&o)&&s.Z.toggleLocalMute(t)}return{user_id:t,pan:a.Z.getLocalPan(t),volume:a.Z.getLocalVolume(t),mute:a.Z.isLocalMute(t)}}},[u.Etm.GET_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_READ]},handler:()=>(0,c._X)()},[u.Etm.SET_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,o.Z)(e).required().keys({input:(0,o.Z)(e).keys({device_id:e.string().valid(Object.keys(a.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:(0,o.Z)(e).keys({device_id:e.string().valid(Object.keys(a.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:(0,o.Z)(e).keys({type:e.string().valid(Object.keys(u.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items((0,o.Z)(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()}),handler(e){let{args:{input:t,output:n,mode:i,automatic_gain_control:r,echo_cancellation:l,noise_suppression:o,qos:d,silence_warning:u,deaf:_,mute:h}}=e;if(t&&(null!=t.device_id&&s.Z.setInputDevice(t.device_id),null!=t.volume&&s.Z.setInputVolume(t.volume)),n&&(null!=n.device_id&&s.Z.setOutputDevice(n.device_id),null!=n.volume&&s.Z.setOutputVolume(n.volume)),i){let e=a.Z.getMode(),t=a.Z.getModeOptions();null!=i.type&&(e=i.type),null!=i.auto_threshold&&(t.autoThreshold=i.auto_threshold),null!=i.threshold&&(t.threshold=i.threshold),null!=i.shortcut&&(t.shortcut=i.shortcut.map(e=>[e.type,e.code])),null!=i.delay&&(t.delay=i.delay),s.Z.setMode(e,t)}if(null!=r&&s.Z.setAutomaticGainControl(r),null!=l&&s.Z.setEchoCancellation(l),null!=o&&s.Z.setNoiseSuppression(o),null!=d&&s.Z.setQoS(d),null!=u&&s.Z.setSilenceWarning(u),null!=_){let e=a.Z.isSelfDeaf();(e&&!_||!e&&_)&&s.Z.toggleSelfDeaf()}if(null!=h){let e=a.Z.isSelfMute();(e&&!h||!e&&h)&&s.Z.toggleSelfMute()}return(0,c._X)()}}}},967351:function(e,t,n){n(47120),n(411104);var i=n(413135),s=n(836560),a=n(392711),r=n.n(a),l=n(710845),o=n(998502),c=n(901077),d=n(76238),u=n(852926),_=n(981631);let h=o.ZP.requireModule("discord_rpc").RPCIPC,E=new l.Z("RPCServer:IPC"),I={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function m(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function g(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function p(e){return new Promise((t,n)=>{"string"==typeof e&&(e=h.net.createConnection(e)),e.pause(),e.on("readable",()=>{try{S(e)}catch(t){e.end(T(I.CLOSE,{code:1003,message:t.message})),e.destroy()}});let i=()=>{try{e.end(),e.destroy()}catch(e){}},s=Promise.race([new Promise(t=>e.on("error",()=>t())),new Promise((t,n)=>{e.on("pong",()=>n(Error("socket responded with pong")))}),new Promise((e,t)=>{setTimeout(()=>t(Error("socket alive timeout")),1e3)})]).then(()=>{i()},e=>{throw i(),e});return e.write(T(I.PING,r().uniqueId())),s.then(t,n)})}function T(e,t){var n;t=JSON.stringify(t);let s=i.Buffer.byteLength(t),a=i.Buffer.alloc(8+s);return a.writeInt32LE(e,0),a.writeInt32LE(s,4),a.write(t,8,s),(n=a).buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}function S(e){let t=e.read(8);if(null==t)return;let n=i.Buffer.from(t),s=n.readInt32LE(0),a=n.readInt32LE(4);if(!Object.values(I).includes(s)||a<0)throw Error("protocol error");if(null==(t=e.read(a)))throw Error("data size does not match what was received");let r=JSON.parse((n=i.Buffer.from(t)).toString());switch(s){case I.PING:e.emit("ping",r),e.write(T(I.PONG,r));break;case I.PONG:e.emit("pong",r);break;case I.HANDSHAKE:if(g(e))throw Error("already did handshake");m(e,!0),e.emit("handshake",r);break;case I.FRAME:if(!g(e))throw Error("did not handshake");e.emit("request",r);break;case I.CLOSE:e.end(),e.destroy()}S(e)}class C extends d.Z{send(e){E.info("Socket Emit: ".concat(this.id),(0,c.Z)(e)),this.socket.write(T(I.FRAME,e))}close(e,t){this.socket.end(T(I.CLOSE,{code:e,message:t})),this.socket.destroy()}constructor(e,t,n){var i,s,a;super("ipc",t,n),i=this,a=void 0,(s="socket")in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,this.socket=e}}class f extends s.EventEmitter{handleConnection(e){m(e,!1),e.pause(),e.on("readable",()=>{try{S(e)}catch(t){e.end(T(I.CLOSE,{code:_.$VG.CLOSE_UNSUPPORTED,message:t.message})),e.destroy()}}),e.once("handshake",t=>{let n;let i=t.client_id,s=+t.v;try{n=new C(e,s,"json")}catch(t){e.end(T(I.CLOSE,{code:t.code,message:t.message})),e.destroy();return}E.info("Socket Opened: ".concat(n.id)),e.on("error",e=>E.error("Socket Error: ".concat(e.message))),e.on("close",()=>{E.info("Socket Close: ".concat(n.id)),this.emit("disconnect",n)}),(0,u.em)(n,null,i).then(()=>{e.on("request",e=>{E.info("Socket Message: ".concat(n.id),(0,c.Z)(e)),this.emit("request",n,e)}),this.emit("connect",n)}).catch(e=>{let{code:t,message:i}=e;return n.close(t,i)})})}constructor(){super();let e=h.net.createServer(e=>this.handleConnection(e));e.on("error",e=>E.error("Error: ".concat(e.message))),h.getAvailableSocket(p).then(t=>{e.listen(t,()=>{("function"==typeof e.listening?e.listening():e.listening)&&E.info("Starting on ".concat(e.address()))})})}}t.Z=new f},178318:function(e,t,n){let i,s;n(47120),n(610138),n(216116),n(78328),n(815648),n(653041),n(411104);var a=n(836560),r=n(392711),l=n.n(r),o=n(729594),c=n(570140),d=n(710845),u=n(857192),_=n(998502),h=n(996106),E=n(901077),I=n(76238),m=n(852926),g=n(186901),p=n(981631),T=n(413135).Buffer;function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}try{i=_.ZP.requireModule("discord_erlpack")}catch(e){try{i=_.ZP.requireModule("erlpack")}catch(e){}}let C=_.ZP.requireModule("discord_rpc").RPCWebSocket,f=window.GLOBAL_ENV.MARKETING_ENDPOINT,N=new d.Z("RPCServer:WSS"),A=[];function Z(e){return"function"==typeof e?e():e}function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:()=>{if(!Z(s.listening))return;let e=s.address().port;N.info("Starting on ".concat(e)),c.Z.dispatch({type:"RPC_SERVER_READY",port:e})};s.listen(p.V6Z+e%p.frH,"127.0.0.1",t)}function v(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=null!=Z(e.headers).origin?{"Access-Control-Allow-Origin":Z(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"Content-Type, Authorization"}:{};n=n?JSON.stringify(n):"",i=200===i&&0===n.length?204:i,t.setHeader("Content-Length",T.byteLength(n).toString()),t.setHeader("Content-Type","application/json"),t.writeHead(i,{...s,...a}),t.end(n)}function O(e,t,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;v(e,t,{code:s,message:i},n)}class R extends I.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==p.Etm.OVERLAY&&e.evt!==p.zMe.OVERLAY)&&N.info("Socket Emit: ".concat(this.id),(0,E.Z)(e)),null!=i&&"etf"===this.encoding?this._socket.send(i.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))}close(e,t){this._socket.close(e,t)}constructor(e,t,n){if(super("ws",t,n),S(this,"_socket",void 0),-1===["etf","json"].indexOf(n))throw new h.Z({closeCode:p.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(n));if("etf"===n&&null==i)throw new h.Z({closeCode:p.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this._socket=e}}class x extends I.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==p.Etm.OVERLAY)&&N.info("Socket Emit: ".concat(this.id),e),this._sendCallback(e)}close(e,t){this._closeCallback(t,e)}constructor(e,t,n,i){if(super("http",n,i),S(this,"_sendCallback",void 0),S(this,"_closeCallback",void 0),"json"!==i)throw new h.Z({closeCode:p.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(i));this._sendCallback=e,this._closeCallback=t}}class b extends a.EventEmitter{handleRequest(e,t){let[n,i]=Z(e.url).split("?"),s=Z(e.method);if("/rpc"===n&&"OPTIONS"===s){v(e,t,{body:""});return}let a="POST"===s;if("/rpc"===n&&("GET"===s||a)){let n=new URLSearchParams(i),s=a?Z(e.headers)["content-type"].split("/")[1]:"json",l=function(){var e;let{protocol:i,host:s}=o.parse(null!==(e=n.get("callback"))&&void 0!==e?e:"");i===location.protocol&&s===location.host?t.setHeader("Location",n.get("callback")):t.setHeader("Location",f),t.writeHead(301),t.end()},c=new x(a?v.bind(null,e,t):l,a?O.bind(null,e,t,400):l,Number(n.get("v")),s);if(a)(0,m.em)(c,Z(e.headers).origin,n.get("client_id")).then(()=>{let n="";e.on("data",e=>n+=e),e.on("error",()=>O(e,t,500,"Internal Server Error")),e.on("end",()=>this.handleMessage(c,n))}).catch(e=>{let{code:t,message:n}=e;return c.close(t,n)});else{var r;c.authorization.scopes=[g.CN],this.handleMessage(c,decodeURIComponent(null!==(r=n.get("payload"))&&void 0!==r?r:""))}return}O(e,t,404,"Not Found")}handleConnection(e){var t,n;let i;let s=new URLSearchParams(Z(e.upgradeReq).url.split("?")[1]),a=null!==(t=Z(e.upgradeReq).headers.origin)&&void 0!==t?t:"";try{i=new R(e,Number(s.get("v")),null!==(n=s.get("encoding"))&&void 0!==n?n:"json")}catch(t){e.close(t.code,t.message);return}N.info("Socket Opened: ".concat(i.id)),e.on("error",e=>N.error("WS Error: ".concat(e.message))),e.on("close",(e,t)=>{N.info("Socket Closed: ".concat(i.id,", code ").concat(e,", message ").concat(t)),l().remove(A,e=>e===i),this.emit("disconnect",i)}),(0,m.em)(i,a,s.get("client_id")).then(()=>{A.push(i),e.on("message",e=>this.handleMessage(i,e)),this.emit("connect",i)}).catch(e=>{let{code:t,message:n}=e;return i.close(t,n)})}handleMessage(e,t){let n;try{if(null!=i&&"etf"===e.encoding)n=i.unpack(t);else if("string"==typeof t)n=JSON.parse(t);else throw Error()}catch(t){e.close(p.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(u.default.isLoggingOverlayEvents||n.cmd!==p.Etm.OVERLAY)&&N.info("Socket Message: ".concat(e.id),(0,E.Z)(n)),this.emit("request",e,n)}constructor(){var e;super();let t=0;(s=C.http.createServer()).on("error",e=>{N.error("Error: ".concat(e.message)),("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout(()=>L(++t),1e3)}),s.on("request",this.handleRequest.bind(this)),L(t);let n={instanceId:null!==(e=s.instanceId)&&void 0!==e?e:0,server:s};new C.ws.Server(n).on("connection",e=>this.handleConnection(e))}}t.Z=new b},188861:function(e,t,n){var i=n(710845),s=n(857192),a=n(901077),r=n(46832),l=n(852926),o=n(748635),c=n(981631);let d=new i.Z("RPCServer:PostMessage"),u=(e,t,n)=>{(s.default.isLoggingOverlayEvents||e.cmd!==c.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,a.Z)(e))};t.Z=function(){let e=new r.Z(l.em,d,o.Z,u);return window.addEventListener("message",t=>{if(window===t.source)return;if(null==t.source||null==t.source.postMessage){d.error("Unknown event source");return}let n=t.source,i=t.data,s=t.origin;e.handleMessage(i,s,(e,t)=>{n.postMessage(e,t)})}),e}()},748635:function(e,t,n){var i=n(857192),s=n(901077),a=n(915357),r=n(981631);t.Z=e=>{let{origin:t,postMessageToRPCClient:n,frameId:l,version:o,encoding:c,logger:d,postClose:u}=e;return new a.Z({origin:t,postMessageToRPCClient:n,frameId:l,version:o,encoding:c,logger:d,postClose:u,onSendingToRPCClient:(e,t)=>{(i.default.isLoggingOverlayEvents||e.cmd!==r.Etm.OVERLAY&&e.evt!==r.zMe.OVERLAY)&&d.info("Socket Emit: ".concat(t),(0,s.Z)(e))}})}},19199:function(e,t,n){n.d(t,{D:function(){return c},o:function(){return d}});var i=n(399606),s=n(650598),a=n(941129),r=n(594174),l=n(51144),o=n(335865);let c=()=>{let e=(0,a.S)(),t=(0,i.e7)([r.default],()=>r.default.getCurrentUser()),n=(0,o.y)();return e&&!(0,l.EO)(t)&&n},d=()=>(0,s.O)()},111653:function(e,t,n){n.d(t,{t:function(){return o}});var i=n(399606),s=n(826004),a=n(594174),r=n(51144),l=n(335865);let o=()=>{let e=(0,s.h)(),t=(0,i.e7)([a.default],()=>a.default.getCurrentUser()),n=(0,l.y)();return e&&!(0,r.EO)(t)&&n}},335865:function(e,t,n){n.d(t,{y:function(){return a}});var i=n(399606),s=n(650774);function a(){return(0,i.e7)([s.Z],()=>Object.values(s.Z.getMemberCounts()).some(e=>e>=200))}},866483:function(e,t,n){var i=n(735250);n(470079);var s=n(399606),a=n(607070),r=n(970731),l=n(810090),o=n(19199),c=n(921944),d=n(689938),u=n(871600);t.Z=e=>{let{markAsDismissed:t}=e,n=(0,s.e7)([a.Z],()=>a.Z.useReducedMotion);return(0,o.D)()?(0,i.jsx)(r.ZP,{asset:(0,i.jsx)(l.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_HEADER,content:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_CONTENT,buttonCTA:d.Z.Messages.GOT_IT,className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:r.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},14357:function(e,t,n){var i=n(735250);n(470079);var s=n(399606),a=n(607070),r=n(970731),l=n(810090),o=n(19199),c=n(921944),d=n(689938),u=n(726367);t.Z=e=>{let{markAsDismissed:t}=e,n=(0,s.e7)([a.Z],()=>a.Z.useReducedMotion);return(0,o.D)()?(0,i.jsx)(r.ZP,{asset:(0,i.jsx)(l.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_HEADER,content:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_CONTENT,buttonCTA:d.Z.Messages.GOT_IT,className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:r.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},393333:function(e,t,n){n.d(t,{P:function(){return _}});var i=n(735250);n(470079);var s=n(399606),a=n(607070),r=n(970731),l=n(810090),o=n(111653),c=n(921944),d=n(689938),u=n(836866);let _=e=>{let{markAsDismissed:t}=e,n=(0,s.e7)([a.Z],()=>a.Z.useReducedMotion);return(0,o.t)()?(0,i.jsx)(r.ZP,{asset:(0,i.jsx)(l.Z,{src:"https://cdn.discordapp.com/attachments/1063579271815245944/1095089224421740695/CEC_Reporting_Animation_v03_EN_1x1_Music_1.mp4",loop:!0,autoPlay:!n,className:u.video,width:"100%"}),header:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_REPORTING_HEADER,content:d.Z.Messages.SAFETY_CONSUMER_EDUCATION_REPORTING_CONTENT,buttonCTA:d.Z.Messages.GOT_IT,onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:r.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},719256:function(e,t,n){n(47120),n(653041);var i=n(846519),s=n(570140),a=n(317770),r=n(220082),l=n(594174),o=n(125268),c=n(813900);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Z{_initialize(){!__OVERLAY__&&(s.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),s.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived))}_terminate(){!__OVERLAY__&&(s.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),s.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived),this.lineBatchTimer.stop())}_handleVoiceChannelEffectReceived(e){var t;let{lineId:n,points:i,userId:s,streamerId:a,emojiHose:d}=e;if(null!=a&&s!==(null===(t=l.default.getCurrentUser())||void 0===t?void 0:t.id))if(null!=i&&null!=n){let e=l.default.getUser(s);null!=e&&(0,r.vM)(e.getAvatarURL(null,c.Ks)),(0,o.cV)(n,s,a,i)}else null!=d&&(d.lastUpdatedAt=Date.now(),(0,o.gr)(d,s,a))}constructor(...e){super(...e),d(this,"linesToUpdate",{}),d(this,"lineBatchTimer",new i.Xp),d(this,"_handleDrawLinePoint",e=>{let{channelId:t,lineId:n,streamerId:i,point:s}=e;null==this.linesToUpdate[n]?this.linesToUpdate[n]={channelId:t,streamerId:i,points:[s]}:this.linesToUpdate[n].points.push(s),null==this.lineBatchTimer._ref&&this.lineBatchTimer.start(c.Fq,this.sendLineBatch)}),d(this,"sendLineBatch",()=>{for(let e in this.linesToUpdate){let{channelId:t,points:n,streamerId:i}=this.linesToUpdate[e];(0,o.AX)(t,e,i,n)}this.linesToUpdate={},this.lineBatchTimer.stop()})}}t.Z=new u},547280:function(e,t,n){n.d(t,{b:function(){return d},o:function(){return c}});var i=n(570140),s=n(605236),a=n(626135),r=n(445507),l=n(981631),o=n(921944);function c(e){let{targetKey:t,dismissibleContent:n,data:c,completed:d}=e;null!=c.selectedOptionKey&&(!(0,s.un)(n)&&a.default.track(l.rMx.SIGNUP_COMPLETED,{target_key:t,selected_option_key:c.selectedOptionKey,email:c.email,guild_id:c.guildId,metadata:(0,r.mU)(c),completed:d}),(0,s.EW)(n,{dismissAction:o.L.PRIMARY,forceTrack:!0}),i.Z.dispatch({type:"COMPLETE_SIGN_UP",email:c.email,targetKey:t,selectedOptionKey:c.selectedOptionKey}))}function d(e,t){(0,s.EW)(t,{dismissAction:o.L.DISMISS,forceTrack:!0}),i.Z.dispatch({type:"DISMISS_SIGN_UP",targetKey:e})}},849688:function(e,t,n){var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(442837),c=n(792125),d=n(547280),u=n(678513),_=n(981631),h=n(689938),E=n(713671);let I=(0,c.Q)(_.BRd.DARK);t.Z=function(e){let{guild:t}=e,a=(0,o.e7)([u.Z],()=>u.Z.getActiveGuildSignUp(t.id)),c=s.useCallback(()=>{null!=a&&(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22862"),n.e("73751")]).then(n.bind(n,646202));return n=>(0,i.jsx)(e,{...n,target:a,guildId:t.id})})},[a,t.id]),m=s.useCallback(()=>{null!=a&&(0,d.b)(a.key,a.dismissibleContent)},[a]);if(null==a)return null;let g="url(".concat(a.backgroundAssetUrl,") black top / cover no-repeat");return(0,i.jsx)(l.ThemeContextProvider,{theme:_.BRd.DARK,children:(0,i.jsx)("div",{className:r()(E.container,I),children:(0,i.jsxs)("div",{className:E.card,style:{background:g},children:[(0,i.jsxs)("div",{className:E.eyebrow,children:[(0,i.jsx)(l.EnvelopeIcon,{size:"xxs",color:"currentColor"}),(0,i.jsx)(l.Text,{variant:"text-xs/semibold",color:"none",children:h.Z.Messages.SIGNUP_NOTICE_EYEBROW})]}),(0,i.jsx)(l.Heading,{variant:"heading-sm/medium",children:a.noticeHeader}),(0,i.jsx)(l.Button,{className:E.button,color:"none",onClick:c,children:(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"none",children:h.Z.Messages.SIGNUP_NOTICE_CTA})}),(0,i.jsx)("div",{className:E.dismiss,children:(0,i.jsx)(l.Clickable,{onClick:m,children:(0,i.jsx)(l.CloseSmallIcon,{size:"xs",color:"currentColor"})})})]})})})}},131468:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(570140),s=n(317770),a=n(314897),r=n(131951);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends s.Z{_initialize(){!__OVERLAY__&&(i.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}_terminate(){!__OVERLAY__&&(i.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}constructor(...e){super(...e),l(this,"_playSound",function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2],arguments.length>3&&arguments[3]}),l(this,"_stopAndClearSounds",()=>{}),l(this,"_handleToggleSelfDeafened",()=>{r.Z.isDeaf()&&this._stopAndClearSounds()}),l(this,"_handleSoundboardSoundReceived",e=>{let{soundId:t,soundVolume:n,userId:i,channelId:s}=e;if(null!=t&&i!==a.default.getId())return this._playSound(t,n,i,s)}),l(this,"_handleSoundboardSoundPlayLocally",e=>{let{sound:t,channelId:n}=e,i=a.default.getId();return this._playSound(t.soundId,t.volume,i,n)}),l(this,"_handleVoiceChannelSelect",()=>{this._stopAndClearSounds()})}}},377368:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(536442),l=n(810788),o=n(592125),c=n(131951),d=n(944486),u=n(556296),_=n(131468),h=n(208049),E=n(763296),I=n(641015),m=n(22382),g=n(747071),p=n(49230),T=n(981631),S=n(65154);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends _.Z{_initialize(){super._initialize(),!__OVERLAY__&&a.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}_terminate(){super._terminate(),!__OVERLAY__&&a.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}constructor(...e){var t;super(...e),t=this,C(this,"playingSoundsWeb",new Map),C(this,"_stopAndClearSounds",()=>{c.Z.supports(S.AN.SAMPLE_PLAYBACK)&&c.Z.getMediaEngine().eachConnection(e=>{e.stopAllSamplesLocalPlayback()}),this.playingSoundsWeb.forEach(e=>{e.pause(),e.src=""}),this.playingSoundsWeb=new Map}),C(this,"_playSound",async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=null!=s&&d.Z.getVoiceChannelId()===s;if((null==s||a)&&!c.Z.isDeaf()&&!E.Z.isLocalSoundboardMuted(i))try{let s={soundKey:"".concat(i,"-").concat(e),soundURL:(0,m.Z)(e),soundVolume:(0,g.Z)(n),reportSoundStartedPlaying:()=>(0,h.xR)(e,i)};c.Z.supports(S.AN.SAMPLE_PLAYBACK)?await (0,p.$)(s):await (0,p.h)(s,t.playingSoundsWeb)}finally{(0,h.R)(e,i)}}),C(this,"_handleOverlaySoundboardSoundsFetchRequest",()=>{(0,h.w)()}),C(this,"_handleOpenEducationModal",(e,t)=>{if(null==e)return;let a=o.Z.getChannel(t),c=u.Z.getKeybindForAction(T.kg4.SOUNDBOARD_HOLD);null!=a&&(0,I.Z)(a)&&null!=c&&l.Z.hasHotspot(r.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,s.openModalLazy)(async()=>{let{default:t}=await n.e("69208").then(n.bind(n,490166));return n=>(0,i.jsx)(t,{...n,guildId:e,keybind:c,channel:a})})})}}t.Z=new f},848543:function(e,t,n){n.d(t,{Z:function(){return Z}}),n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(399606),o=n(704215),c=n(923462),d=n(481060),u=n(239091),_=n(100527),h=n(906732),E=n(706140),I=n(294629),m=n(131951),g=n(459273),p=n(242291),T=n(792165),S=n(603074),C=n(981631),f=n(921944),N=n(689938),A=n(902569);function Z(e){let{channel:t,iconClassName:a,className:Z,innerClassName:L,...v}=e,{mute:O,suppress:R}=(0,I.Z)(t),x=(0,l.e7)([m.Z],()=>m.Z.isDeaf()),b=O||R||x,[P,M]=s.useState(!1),D=t.getGuildId(),y=(0,p.sR)({isSoundboardButtonDisabled:b}),[j,U]=(0,E.c)(y),{analyticsLocations:G}=(0,h.ZP)(_.Z.SOUNDBOARD_BUTTON);function k(e){null!=D&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:D,...t})})}let{Component:w,play:B,events:{onMouseEnter:H,onMouseLeave:V}}=(0,c.j)(),F=e=>(0,i.jsx)(d.Popout,{shouldShow:P,position:"top",onRequestClose:()=>M(!1),renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(S.Z,{guildId:D,channel:t,onClose:n,gridNotice:j===o.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,i.jsx)(T.o,{onClose:n,markAsDismissed:U}),analyticsSource:"rtc panel"})},children:t=>(0,i.jsx)("div",{children:(0,i.jsx)(d.Button,{...e,...t,className:r()(Z,{[A.buttonActive]:P,[A.disabled]:b}),wrapperClassName:Z,innerClassName:L,disabled:b,onClick:()=>{var t,n;null!=j&&j!==o.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&U(f.L.UNKNOWN),null==e||null===(t=e.onClick)||void 0===t||t.call(e),M(!P),B()},onMouseEnter:t=>{var n,i;null===(n=v.onMouseEnter)||void 0===n||n.call(v,t),null==e||null===(i=e.onMouseEnter)||void 0===i||i.call(e),H()},onMouseLeave:t=>{var n,i;null===(n=v.onMouseLeave)||void 0===n||n.call(v,t),null==e||null===(i=e.onMouseLeave)||void 0===i||i.call(e),V()},onContextMenu:k,fullWidth:!0,size:d.Button.Sizes.SMALL,...v,children:(0,i.jsx)(w,{className:a,size:"sm",color:P?"white":d.tokens.colors.INTERACTIVE_ACTIVE})})})}),Y=s.useCallback(()=>{!b&&M(!P)},[b,P]);return(0,g.yp)({event:C.CkL.TOGGLE_SOUNDBOARD,handler:Y}),(0,i.jsx)(h.Gt,{value:G,children:(0,i.jsx)(d.Tooltip,{text:function(){if(O)return N.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE;if(R)return N.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED;if(x)return N.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED;return N.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD}(),children:e=>F(e)})})}},640806:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(735250);n(470079);var s=n(704215),a=n(230711),r=n(765585),l=n(981631),o=n(921944),c=n(689938),d=n(796498);function u(e){let{markAsDismissed:t}=e;return(0,i.jsx)(r.Z,{header:c.Z.Messages.SOUNDBOARD_VOLUME_TOOLTIP_HEADER,body:c.Z.Messages.SOUNDBOARD_VOLUME_TOOLTIP_BODY,tryItText:c.Z.Messages.TAKE_ME_THERE,dismissibleContent:s.z.SOUNDBOARD_VOLUME_EDUCATION,artClassName:d.art,onTryFeature:()=>{a.Z.open(l.oAB.VOICE),t(o.L.UNKNOWN)},onClose:()=>t(o.L.UNKNOWN),shouldUseHorizontalButtons:!0,inlineArt:!0})}},49230:function(e,t,n){n.d(t,{$:function(){return _},h:function(){return h}}),n(47120);var i=n(512722),s=n.n(i),a=n(46973),r=n(304809),l=n(131951),o=n(747071);let c=null;try{c=(0,r.N)()}catch{}let d=new Map;async function u(e){let t=d.get(e);if(null!=t)return t;let n=await (await fetch(e)).arrayBuffer(),i=await (null==c?void 0:c.decodeAudioData(n));return null!=i&&d.set(e,i),i}function _(e){let{soundKey:t,soundURL:n,soundVolume:i,reportSoundStartedPlaying:r}=e;return new Promise(async e=>{let o=await u(n);null==o&&e(),l.Z.getMediaEngine().eachConnection(n=>{n.context===a.Yn.DEFAULT&&(r(),s()(null!=o,"audioBuffer cannot be null here"),n.startSamplesLocalPlayback(t,o,i,()=>{e()}))})})}function h(e,t){let{soundKey:n,soundURL:i,soundVolume:s,reportSoundStartedPlaying:a}=e,r=t.get(n);if(null!=r){r.currentTime=0;return}return new Promise(e=>{let r=new Audio(i);r.volume=(0,o.Z)(s),r.addEventListener("canplaythrough",()=>{a(),t.set(n,r),r.play()}),r.addEventListener("ended",()=>{t.delete(n),r.src="",e()})})}},380349:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(314897),l=n(768419),o=n(456190),c=n(239470),d=n(894344),u=n(203777),_=n(616922),h=n(689938);function E(e,t,n){let E=(0,s.e7)([l.Z,r.default],()=>null!=t?(0,c.Z)(l.Z,r.default,t,e):void 0,[e,t]);if(null==E||null==e||null==t)return null;let I=E.isCurrentUser||E.notPlayable||E.playingSameTrack,m=E.isCurrentUser||E.syncingWithUser||E.syncingWithParty;return[(0,i.jsx)(a.MenuItem,{id:"spotify-play-".concat(e.session_id),action:()=>(0,u.Z)(E,_.kG.USER_ACTIVITY_PLAY,n),label:h.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:I?(0,o.Z)(E,_.kG.USER_ACTIVITY_PLAY):void 0,disabled:I},"spotify-play-".concat(e.session_id)),E.canPlaySpotify?(0,i.jsx)(a.MenuItem,{id:"spotify-sync-".concat(e.session_id),action:()=>(0,d.Z)(E,_.kG.USER_ACTIVITY_SYNC,n),label:h.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:m?(0,o.Z)(E,_.kG.USER_ACTIVITY_SYNC):void 0,disabled:m},"spotify-sync-".concat(e.session_id)):null]}},262702:function(e,t,n){n(47120);var i=n(570140),s=n(846027),a=n(872810),r=n(317770),l=n(569545),o=n(199902),c=n(314897),d=n(592125),u=n(131951),_=n(590415);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends r.Z{_initialize(){i.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){i.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),h(this,"handleVoiceStateUpdates",e=>{let{voiceStates:t}=e,n=c.default.getId();t.forEach(e=>{var t;if(e.userId===n&&!!(null===(t=d.Z.getChannel(e.channelId))||void 0===t?void 0:t.isGuildStageVoice()))(0,_.gf)(e)!==_.xO.ON_STAGE&&(this.handleStopStream(e),this.handleStopUserVideo())})}),h(this,"handleStopStream",e=>{let t=o.Z.getActiveStreamForUser(e.userId,e.guildId);if(null!=t)(0,a.g)((0,l.V9)(t),!1)}),h(this,"handleStopUserVideo",()=>{u.Z.isVideoEnabled()&&s.Z.setVideoEnabled(!1)})}}t.Z=new E},448206:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(442837),s=n(314897),a=n(944486),r=n(88751);function l(e){return(0,i.e7)([s.default,a.Z,r.ZP],()=>{let t=s.default.getId();return a.Z.getVoiceChannelId()===e?r.ZP.getPermissionsForUser(t,e):null},[e])}},639033:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770),l=n(314897),o=n(592125),c=n(797258),d=n(590415),u=n(981631);let _="STAGE_INVITED_TO_SPEAK_MODAL";class h extends r.Z{_initialize(){a.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){a.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){var t,a,r;super(...e),t=this,a="handleVoiceStateUpdates",r=e=>{var t;let{voiceStates:a}=e,r=l.default.getId(),h=null===(t=c.Z.getSession())||void 0===t?void 0:t.sessionId,E=a.find(e=>e.userId===r&&e.sessionId===h);if(null==E)return;let I=E.channelId;if(null==I){(0,s.hasModalOpen)(_)&&(0,s.closeModal)(_);return}let m=o.Z.getChannel(I);if(!(null==m?void 0:m.isGuildStageVoice()))return;let g=(0,d.gf)(E)===d.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=m&&g){if((0,s.hasModalOpen)(_))return;(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("13878").then(n.bind(n,113140));return t=>(0,i.jsx)(e,{...t,channel:m})},{modalKey:_,onCloseRequest:u.VqG})}},a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}}t.Z=new h},703016:function(e,t,n){n(757143),n(733860);var i=n(913527),s=n.n(i),a=n(570140),r=n(419363),l=n(933557),o=n(660199),c=n(869765),d=n(706454),u=n(695346),_=n(314897),h=n(433355),E=n(592125),I=n(271383),m=n(430824),g=n(131951),p=n(292959),T=n(699516),S=n(944486),C=n(9156),f=n(594174),N=n(51144),A=n(196051),Z=n(441729),L=n(653477),v=n(981631),O=n(689938);let R=[],x=null,b=null,P=null,M=/\|\|([\s\S]+?)\|\|/g;function D(e,t,n,i){let a=m.Z.getGuild(n),r=e.replace(M,O.Z.Messages.SPOILER).replace(/<@!?(\d+)>/g,(e,t)=>{var i;let s=f.default.getUser(t);if(null==s)return e;return null!==(i=I.ZP.getNick(n,s.id))&&void 0!==i?i:N.ZP.getName(s)}).replace(/<@&?(\d+)>/g,(e,t)=>{let n=null!=a?m.Z.getRole(a.id,t):null;return null!=n&&null!=n.name?n.name:O.Z.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,(e,t)=>{let n=E.Z.getChannel(t);return null==n?e:(0,l.F6)(n,f.default,T.Z)}).replace(/<a?:(\w+):(\d+)>/g,(e,t)=>"".concat(O.Z.Messages.EMOJI," ").concat(t)).replace(/<\/([^\s]+?):(\d+)>/g,(e,t)=>"/".concat(t)).replace(/<t:(\d+):([A-Z]|[a-z])>/g,(e,t,n)=>{let i=o.Qh[n],a=1e3*parseInt(t,10),r=s()(a);return null!=i?i(r):r.format()});return null==i?O.Z.Messages.MESSAGE_TTS.format({username:t,body:r}):O.Z.Messages.MESSAGE_TTS_REPLY.format({username:t,body:r,replyUsername:i})}function y(){if(!r.Zh)return!1;let e=d.default.locale;if(null==P){var t;P=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}let n=P.filter(t=>t.lang===e||t.lang.slice(0,e.length)===e||!1);b=n.length>0?n[0]:null}async function j(e,t,n,i,s){let a=r.e6(e,n);null!==a&&(null==b&&y(),t?await (0,A.NB)():null==x||x.removeEventListener("end",A.NB),a.addEventListener("end",A.NB),null!=i&&a.addEventListener("start",i),null!=s&&a.addEventListener("end",s),x=a,r.iq(a,b))}function U(e,t,n,i,s){j(e,t,s,()=>{(0,A.Bo)(n,i)})}function G(e){let{text:t,interrupt:n,maxLength:i,onStart:s,onEnd:a}=e;j(t,n,i,s,a)}function k(){return null!==x&&x.removeEventListener("end",A.NB),r.M9(),x=null,!0}function w(e){var t,n,i;let{message:s,channel:a}=e,r=s.type===v.uaV.REPLY?c.Z.getMessageByReference(s.messageReference):null,l=(null==r?void 0:r.state)===c.Y.LOADED?null==r?void 0:null===(t=r.message)||void 0===t?void 0:t.author:null,o=null!=l?null!==(n=I.ZP.getNick(a.guild_id,null==l?void 0:l.id))&&void 0!==n?n:N.ZP.getName(l):null,d=a.getGuildId(),u=null!==(i=I.ZP.getNick(d,s.author.id))&&void 0!==i?i:N.ZP.getName(s.author);return U(D(s.content,u,d,o),!0,a.id,s.id),!0}function B(e){var t,n,i,s,a,r;let{channelId:l,message:o,optimistic:c}=e;if(c||g.Z.isSelfDeaf())return!1;let d=E.Z.getChannel(l);if(null==d)return!1;let m=S.Z.getChannelId(),f=h.ZP.getCurrentSidebarChannelId(m),A=l===m||l===f,Z=u.OW.getSetting()&&o.tts&&A,O=p.Z.getTTSType(),x=(null===(t=o.author)||void 0===t?void 0:t.id)!==_.default.getId()&&(O===v.PrB.ALL_CHANNELS||O===v.PrB.SELECTED_CHANNEL&&A);if((Z||x)&&!T.Z.isBlockedForMessage(o)){if(R.indexOf(o.id)>=0)return!1;R.unshift(o.id)>10&&R.pop();let e=d.getGuildId();if(null!=e&&C.ZP.getMutedChannels(e).has(l))return!1;let t=null!==(a=null!==(s=I.ZP.getNick(e,null===(n=o.author)||void 0===n?void 0:n.id))&&void 0!==s?s:N.ZP.getName(o.author))&&void 0!==a?a:"",c=o.type===v.uaV.REPLY?null===(i=o.referenced_message)||void 0===i?void 0:i.author:null,u=null!=c?null!==(r=I.ZP.getNick(e,null==c?void 0:c.id))&&void 0!==r?r:N.ZP.getName(c):null;U(D(o.content,t,e,u),!1,d.id,o.id,L.f)}return!1}function H(e){let{id:t,channelId:n}=e,i=Z.Z.currentMessage;return null!=i&&t===i.messageId&&n===i.channelId&&((0,A.NB)(),!0)}function V(){g.Z.isSelfDeaf()&&r.M9()}t.Z={init(){a.Z.subscribe("SPEAK_TEXT",G),a.Z.subscribe("SPEAK_MESSAGE",w),a.Z.subscribe("STOP_SPEAKING",k),a.Z.subscribe("MESSAGE_CREATE",B),a.Z.subscribe("MESSAGE_DELETE",H),a.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",V),a.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",y),a.Z.subscribe("I18N_LOAD_SUCCESS",y)}}},584427:function(e,t,n){var i=n(74538);t.Z=e=>i.ZP.canUsePremiumGuildMemberProfile(e)},52538:function(e,t,n){var i=n(735250);n(470079);var s=n(704215),a=n(765585),r=n(16703),l=n(300284),o=n(689938),c=n(836002);t.Z=()=>{let e=(0,r.Z)(),t=(0,l.Z)({guild:e});return(0,i.jsx)(a.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,artClassName:c.coachmarkArt,headerClassName:c.coachmarkHeader,onTryFeature:t,tryItText:o.Z.Messages.CHECK_IT_OUT,header:o.Z.Messages.GUILD_IDENTITY_PFX_COACHMARK_TITLE,body:o.Z.Messages.GUILD_IDENTITY_PFX_COACHMARK_BODY,dismissibleContent:s.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK,maxWidth:320})}},549546:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(969832),o=n(572004),c=n(51144),d=n(785717),u=n(689938),_=n(774091);function h(e){let{user:t,isHovering:n}=e,{trackUserProfileAction:s}=(0,d.KZ)();return o.wS?(0,i.jsx)(l.o,{className:a()(_.copiable,{[_.visible]:n}),copyValue:c.ZP.getUserTag(t,{decoration:"never",identifiable:"always"}),copyTooltip:u.Z.Messages.COPY_USERNAME,"aria-label":u.Z.Messages.COPY_USERNAME,copyTooltipDelay:0,disableCopy:!1,showCopyIcon:!1,onCopy:()=>s({action:"COPY_USERNAME"}),children:(0,i.jsx)(r.CopyIcon,{size:"xs",color:"currentColor"})}):null}},969205:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(735250);n(470079);var s=n(442837),a=n(481060),r=n(300284),l=n(314897),o=n(475413),c=n(689938);function d(e){let{userId:t,onClose:n}=e,d=(0,r.Z)();return(0,s.e7)([l.default],()=>l.default.getId()===t)?(0,i.jsx)(o.oY,{action:"EDIT_PROFILE",icon:a.PencilIcon,tooltipText:c.Z.Messages.EDIT_PROFILE,onClick:()=>{null==n||n(),d()}}):null}},429974:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(317770),l=n(603113),o=n(812206),c=n(158776),d=n(699516),u=n(594174),_=n(626135),h=n(621853),E=n(981631),I=n(616922);let m=null;async function g(e){var t,a,r,g;let{userId:p,section:T,subsection:S,guildId:C=E.ME,channelId:f,friendToken:N,analyticsLocation:A,...Z}=e,L=u.default.getUser(p);if(null==L)return;let v=h.Z.getUserProfile(p),O=c.Z.getPrimaryActivity(p),R=c.Z.getStatus(p),x=c.Z.isMobileOnline(p),{party:b,assets:P,application_id:M}=null!=O?O:{},D=null!=M?o.Z.getApplication(M):null,y=x?E.j28.ONLINE_MOBILE:E.j28.ONLINE_DESKTOP,j=R===E.Skl.ONLINE?y:R;m=await (0,s.openModalLazy)(async()=>{let{default:e}=await n.e("824").then(n.bind(n,304113));return t=>(0,i.jsx)(e,{location:"handleOpenUserProfileModal",user:L,guildId:C,friendToken:N,initialSection:T,initialSubsection:S,channelId:f,...t,...Z})}),_.default.track(E.rMx.OPEN_MODAL,{type:"Profile Modal",guild_id:C!==E.ME?C:null,channel_id:f,other_user_id:p,application_id:null!==(a=null==O?void 0:O.application_id)&&void 0!==a?a:null,application_name:null==O?void 0:O.name,sku_id:null!==(r=null==D?void 0:D.primarySkuId)&&void 0!==r?r:null,is_friend:d.Z.isFriend(p),has_images:!!(null!==(g=null==P?void 0:P.large_image)&&void 0!==g?g:null==P?void 0:P.small_image),party_max:null==b?void 0:null===(t=b.size)||void 0===t?void 0:t[1],party_id:null==b?void 0:b.id,party_platform:(0,I.Ps)(null==b?void 0:b.id)?E.ABu.SPOTIFY:null,game_platform:(0,l.Z)(O),profile_user_status:j,profile_has_nitro_customization:(null==v?void 0:v.banner)!=null,profile_has_profile_effect:(null==v?void 0:v.profileEffectId)!=null,...null==A?null:(0,_.expandLocation)(A)})}function p(){null!=m&&(0,s.closeModal)(m),m=null}class T extends r.Z{_initialize(){a.Z.subscribe("USER_PROFILE_MODAL_OPEN",g),a.Z.subscribe("USER_PROFILE_MODAL_CLOSE",p)}_terminate(){a.Z.unsubscribe("USER_PROFILE_MODAL_OPEN",g),a.Z.unsubscribe("USER_PROFILE_MODAL_CLOSE",p)}}t.Z=new T},886162:function(e,t,n){n.d(t,{Z:function(){return I}}),n(47120);var i=n(735250),s=n(470079),a=n(990547),r=n(399606),l=n(481060),o=n(232567),c=n(213609),d=n(23434),u=n(153124),_=n(981631),h=n(689938),E=n(980096);function I(e){let{transitionState:t}=e,I=(0,r.e7)([d.Z],()=>d.Z.getAction()),[m,g]=s.useState(!1),p=(0,u.Dt)();async function T(){return g(!0),I===_.c2C.AGREEMENTS&&g(await (0,o.Lr)()),null}return(0,c.Z)({type:a.ImpressionTypes.VIEW,name:a.ImpressionNames.USER_AGREEMENTS,properties:{required_action:I}},{},[]),(0,i.jsxs)(l.ModalRoot,{"aria-labelledby":p,transitionState:t,children:[(0,i.jsx)("div",{id:p}),(0,i.jsx)(l.ModalHeader,{separator:!1,children:(0,i.jsx)(l.Heading,{variant:"heading-lg/semibold",children:h.Z.Messages.NEW_TERMS_TITLE})}),(0,i.jsxs)(l.ModalContent,{children:[(0,i.jsx)(l.Text,{variant:"text-md/normal",children:I===_.c2C.AGREEMENTS?h.Z.Messages.TERMS_OF_SERVICE_UPDATE_03_27_2023_DESCRIPTION.format():null}),(0,i.jsxs)("div",{className:E.container,children:[(0,i.jsxs)("ul",{className:E.links,children:[(0,i.jsx)("li",{children:h.Z.Messages.TERMS_OF_SERVICE.format({url:_.EYA.TERMS})}),(0,i.jsx)("li",{children:h.Z.Messages.PAID_SERVICES_TERMS.format({url:_.EYA.PAID_TERMS})}),(0,i.jsx)("li",{children:h.Z.Messages.PRIVACY_POLICY.format({url:_.EYA.PRIVACY})}),(0,i.jsx)("li",{children:h.Z.Messages.COMMUNITY_GUIDELINES.format({url:_.EYA.GUIDELINES})})]}),(0,i.jsx)("img",{className:E.image,alt:"",src:n(146714)})]}),(0,i.jsx)(l.Text,{variant:"text-md/normal",className:E.agreementDescription,children:h.Z.Messages.TERMS_OF_SERVICE_AGREEMENT_DESCRIPTION})]}),(0,i.jsx)(l.ModalFooter,{children:(0,i.jsx)(l.Button,{submitting:m,onClick:T,color:l.Button.Colors.GREEN,children:h.Z.Messages.AGREE})})]})}},332754:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140),r=n(1964),l=n(852758),o=n(314897),c=n(594174),d=n(725568),u=n(78415),_=n(374023),h=n(886162),E=n(981631),I=n(815660),m=n(231338);let g="AGREEMENTS_MODAL_KEY";t.Z={init(){a.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction),a.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction),a.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate),o.default.addChangeListener(this.handleAuthenticationStoreChanged)},handleRequiredAction(e){let t=e.requiredAction;if(!_.s.isDisallowPopupsSet()&&null!=c.default.getCurrentUser())t===E.c2C.REQUIRE_CAPTCHA||t===E.c2C.REQUIRE_VERIFIED_EMAIL||t===E.c2C.REQUIRE_VERIFIED_PHONE||t===E.c2C.REQUIRE_REVERIFIED_PHONE||t===E.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===E.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||r.Z.isEmailReverification(t)?(0,d.q4)(()=>(0,i.jsx)(l.ZP,{}),{layerKey:"verification",Layer:u.ZP}):t===E.c2C.AGREEMENTS?(0,s.openModal)(e=>(0,i.jsx)(h.Z,{...e}),{modalKey:g,onCloseRequest:m.Vq}):null==t&&((0,d.ob)("verification"),(0,s.hasModalOpen)(g)&&(0,s.closeModal)(g))},handleAuthenticationStoreChanged(){null==o.default.getId()&&((0,d.ob)("verification"),(0,s.closeModal)(g),(0,s.closeModal)(l.HR),(0,s.closeModal)(l.F0),(0,s.closeModal)(I.M))},handleCurrentUserUpdate(e){let{user:t}=e;t.verified&&(0,s.closeModal)(l.F0)}}},755264:function(e,t,n){n(47120),n(653041);var i=n(392711),s=n.n(i),a=n(442837),r=n(377108),l=n(433517),o=n(709054),c=n(48481),d=n(526761),u=n(981631);let _="selectedChannelGuildFrecency";function h(e){var t;let n;(t=n||(n={})).IMAGE="IMAGE",t.VIDEO="VIDEO";let{state:i}=a.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[e=>null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e,e=>Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}]);return null==i||0===i.favorites.length?[]:i.favorites.map((t,n)=>{let s=r.JM.create();return s.format="IMAGE"===t.format?r.EO.IMAGE:"VIDEO"===t.format?r.EO.VIDEO:r.EO.NONE,s.src=t.src,s.width=t.width,s.height=t.height,s.order=i.favorites.length-n+e,{url:t.url,favorite:s}})}let E=[{version:2,run(e){let t=h(1);if(0===t.length)return!1;for(let{url:n,favorite:i}of(null==e.favoriteGifs&&(e.favoriteGifs=r.wK.create()),e.favoriteGifs.gifs={},t))e.favoriteGifs.gifs[n]=i;return e.favoriteGifs.hideTooltip=t.length>2,!0},cleanup(){}},{version:3,run(e){function t(){return{usageHistory:{},favorites:[]}}let{state:n}=a.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[e=>null==e||0===Object.keys(e).length?t():e,e=>null==e||0===Object.keys(e).length?t():(null==e.favorites&&(e.favorites=[]),e)]);if(null==n)return!1;let i=!1;return n.favorites.length>0&&(e.favoriteStickers=r.Lt.create(),e.favoriteStickers.stickerIds=s().uniq(n.favorites).slice(0,d.oX),i=!0),s().size(n.usageHistory)>0&&(e.stickerFrecency=r.ls.create(),e.stickerFrecency.stickers=(0,c.tU)(n.usageHistory,100),i=!0),i},cleanup(){l.K.remove("StickersPersistedStore")}},{version:4,run(e){let{state:t}=a.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({usageHistory:l.K.get("EmojiUsageHistory")||{}})]);if(null==t)return!1;let n=!1;return null!=t.favorites&&t.favorites.length>0&&(e.favoriteEmojis=r.ND.create(),e.favoriteEmojis.emojis=s().uniq(t.favorites).slice(0,d.oX),n=!0),s().size(t.usageHistory)>0&&(e.emojiFrecency=r.PL.create(),e.emojiFrecency.emojis=(0,c.tU)(t.usageHistory,100),n=!0),n},cleanup(){l.K.remove("EmojiStore"),l.K.remove("EmojiUsageHistory"),l.K.remove("EmojiDiversitySurrogate")}},{version:6,run(e){null==e.favoriteGifs&&(e.favoriteGifs=r.wK.create()),null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});let t=h(1);if(0===t.length)return!1;s()(e.favoriteGifs.gifs).values().sortBy("order").forEach((e,n)=>e.order=t.length+1+n);let n=r.wK.toBinary(e.favoriteGifs).length,i=0;for(let{url:s,favorite:a}of t){if(a.order=t.length-i,i++,s in e.favoriteGifs.gifs){e.favoriteGifs.gifs[s].order=a.order;continue}let l=r.JM.toBinary(a).length+s.length+7;!(n+l>d.vY)&&(n+=l,e.favoriteGifs.gifs[s]=a)}for(n=r.wK.toBinary(e.favoriteGifs).length;n>d.vY;){let t=0;for(let n in e.favoriteGifs.gifs)if(delete e.favoriteGifs.gifs[n],++t>=10)break;n=r.wK.toBinary(e.favoriteGifs).length}return!0},cleanup(){}},{version:7,run(e){let{state:t}=a.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]);if(null==t)return!1;let n=!1;return s().size(t.usageHistory)>0&&(e.applicationCommandFrecency=r.YI.create(),e.applicationCommandFrecency.applicationCommands=(0,c.tU)(t.usageHistory,500),n=!0),n},cleanup(){l.K.remove("ApplicationCommandFrecency")}},{version:8,run(e){let{state:t}=a.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]);if(null==t)return!1;let n=!1;return s().size(t.favoriteSounds)>0&&(e.favoriteSoundboardSounds=r.h_.create(),o.default.keys(t.favoriteSounds).forEach(n=>{new Set(t.favoriteSounds[n]).forEach(t=>{var n;null===(n=e.favoriteSoundboardSounds)||void 0===n||n.soundIds.push(t)})}),n=!0),n},cleanup(){l.K.remove("SoundboardFavoriteStore")}},{version:9,run(e){let t=l.K.get(_);if(null==t)return!1;for(let e in t)!u.Xyh.test(e)&&delete t[e];return e.guildAndChannelFrecency=r.lG.create(),e.guildAndChannelFrecency.guildAndChannels=(0,c.tU)(t,100),!0},cleanup(){l.K.remove(_)}}];t.Z=E},315341:function(e,t,n){n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817);var i=n(442837),s=n(704215),a=n(524437),r=n(381499),l=n(433517),o=n(581364),c=n(536442),d=n(592125),u=n(915486),_=n(48481),h=n(981631),E=n(71509);function I(e,t){let n=!1;return null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array,lastReceivedChangelogId:"0"}),null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array),!(0,u.jl)(e.userContent.dismissedContents,t)&&(e.userContent.dismissedContents=(0,u.GV)(e.userContent.dismissedContents,t),n=!0),n}function m(e,t,n){return!!c.qc.hasHiddenHotspot(t)&&I(e,n)}let g=[{version:2,run(e){var t,n,i;let s;if((i=s||(s={})).Mentions="Recent Mentions",i.Unreads="Inbox",null!=e.inbox)return!1;let r=!1,o=a.f9.create();e.inbox=o,l.K.get("seenInboxTutorial",!1)&&(o.viewedTutorial=!0,r=!0);let c=l.K.get("recentsButtonTab2");null!=c&&(o.currentTab="Recent Mentions"===c?a.X.MENTIONS:a.X.UNREADS,r=!0);let u=null!==(t=l.K.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(let t in u){if(!u[t])continue;let i=d.Z.getChannel(t);null!=i&&(r=!0,(0,_.i7)(e,null!==(n=i.guild_id)&&void 0!==n?n:"0",i.id,e=>{e.collapsedInInbox=!0}))}return r},cleanup(){l.K.remove("seenInboxTutorial"),l.K.remove("recentsButtonTab2"),l.K.remove("unread-messages-collapsed-channels")}},{version:3,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({diversitySurrogate:l.K.get("EmojiDiversitySurrogate")||""})]);if(null==t)return!1;let n=!1;return null!=t.diversitySurrogate&&""!==t.diversitySurrogate&&(null==e.textAndImages&&(e.textAndImages=a.Me.create()),null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=r.Gm.create()),e.textAndImages.diversitySurrogate.value=t.diversitySurrogate,n=!0),n},cleanup(){}},{version:4,run(e){let t=!1;return(!0===l.K.get("HAS_SEEN_HUB_UPSELL")||c.qc.hasHiddenHotspot(c.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=I(e,s.z.HUB_WAITLIST_UPSELL)),t},cleanup(){l.K.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run(e){var t,n,i,s,o,c,d;let u=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:a.Me.create(),e.notifications=null!==(n=e.notifications)&&void 0!==n?n:a.sf.create(),e.privacy=null!==(i=e.privacy)&&void 0!==i?i:a.bE.create(),e.voiceAndVideo=null!==(s=e.voiceAndVideo)&&void 0!==s?s:a.v_.create(),e.gameLibrary=null!==(o=e.gameLibrary)&&void 0!==o?o:a.Fm.create(),e.debug=null!==(c=e.debug)&&void 0!==c?c:a.tA.create();let _=null!==(d=l.K.get("UserSettingsStore"))&&void 0!==d?d:{};return"boolean"==typeof _.useRichChatTextBox&&(e.textAndImages.useRichChatInput=r.D5.create({value:_.useRichChatTextBox}),u=!0),"string"==typeof _.renderSpoilers&&(e.textAndImages.renderSpoilers=r.Gm.create({value:_.renderSpoilers}),u=!0),"boolean"==typeof _.useThreadSidebar&&(e.textAndImages.useThreadSidebar=r.D5.create({value:_.useThreadSidebar}),u=!0),"boolean"==typeof _.showInAppNotifications&&(e.notifications.showInAppNotifications=r.D5.create({value:_.showInAppNotifications}),u=!0),_.emojiPickerCollapsedSections instanceof Array&&(e.textAndImages.emojiPickerCollapsedSections=_.emojiPickerCollapsedSections,u=!0),_.stickerPickerCollapsedSections instanceof Array&&(e.textAndImages.stickerPickerCollapsedSections=_.stickerPickerCollapsedSections,u=!0),"boolean"==typeof _.viewImageDescriptions&&(e.textAndImages.viewImageDescriptions=r.D5.create({value:_.viewImageDescriptions}),u=!0),"boolean"==typeof _.showCommandSuggestions&&(e.textAndImages.showCommandSuggestions=r.D5.create({value:_.showCommandSuggestions}),u=!0),"boolean"==typeof _.alwaysPreviewVideo&&(e.voiceAndVideo.alwaysPreviewVideo=r.D5.create({value:_.alwaysPreviewVideo}),u=!0),"boolean"==typeof _.notifyFriendsOnGoLive&&(e.notifications.notifyFriendsOnGoLive=r.D5.create({value:_.notifyFriendsOnGoLive}),u=!0),"boolean"==typeof _.installShortcutDesktop&&(e.gameLibrary.installShortcutDesktop=r.D5.create({value:_.installShortcutDesktop}),u=!0),"boolean"==typeof _.installShortcutStartMenu&&(e.gameLibrary.installShortcutStartMenu=r.D5.create({value:_.installShortcutStartMenu}),u=!0),"boolean"==typeof _.allowActivityPartyPrivacyFriends&&(e.privacy.allowActivityPartyPrivacyFriends=r.D5.create({value:_.allowActivityPartyPrivacyFriends}),u=!0),"boolean"==typeof _.allowActivityPartyPrivacyVoiceChannel&&(e.privacy.allowActivityPartyPrivacyVoiceChannel=r.D5.create({value:_.allowActivityPartyPrivacyVoiceChannel}),u=!0),"boolean"==typeof _.rtcPanelShowVoiceStates&&(e.debug.rtcPanelShowVoiceStates=r.D5.create({value:_.rtcPanelShowVoiceStates}),u=!0),u},cleanup(){}},{version:7,run:e=>m(e,c.v6.APPLICATION_COMMAND_TOOLTIP,s.z.APPLICATION_COMMAND_TOOLTIP),cleanup(){}},{version:8,run:e=>m(e,c.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,s.z.CHANNELINFO_CHANNELBANNER_NOTICE),cleanup(){}},{version:9,run:e=>(c.qc.hasHiddenHotspot(c.v6.MULTI_ACCOUNT_TOOLTIP)&&l.K.set(E.Ip,"true"),m(e,c.v6.MULTI_ACCOUNT_TOOLTIP,s.z.ACCOUNT_MULTIACCOUNT_TOOLTIP)),cleanup(){}},{version:10,run(e){var t;let n=m(e,c.v6.HUB_LINK_CHANNEL_NOTICE,s.z.CHANNEL_NOTICE_HUBLINK),i=null!==(t=l.K.get("channelNotices"))&&void 0!==t?t:{};return!1===i[h.vID.INVITE]&&I(e,s.z.CHANNEL_NOTICE_INVITE)&&(n=!0),!1===i[h.vID.QUICKSWITCHER]&&I(e,s.z.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0),!1===i[h.vID.GUILD_BOOSTING]&&I(e,s.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0),n},cleanup(){l.K.remove("channelNotices")}},{version:11,run(e){let t=!1;return m(e,c.v6.GUILD_EVENT_UPSELL,s.z.GUILD_HEADER_EVENT_UPSELL)&&(t=!0),m(e,c.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,s.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0),m(e,c.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,s.z.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0),t},cleanup(){}},{version:12,run(e){let t=!1;return l.K.get("hideNag")&&I(e,s.z.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0),l.K.get("hideConnectSpotify")&&I(e,s.z.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0),l.K.get("hideConnectPlayStation")&&I(e,s.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0),l.K.get("hideMFASMSNotice")&&I(e,s.z.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0),t},cleanup(){l.K.remove("hideNag"),l.K.remove("hideConnectSpotify"),l.K.remove("hideConnectPlayStation"),l.K.remove("hideMFASMSNotice")}},{version:13,run(e){let t=!1;return l.K.get("hidePremiumPromo")&&I(e,s.z.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0),l.K.get("hidePremiumTier2TrialEnding")&&I(e,s.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0),l.K.get("hidePremiumReactivateNotice")&&I(e,s.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0),m(e,c.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,s.z.GUILD_HEADER_INVITE_SPLASH)&&(t=!0),t},cleanup(){l.K.remove("hidePremiumPromo"),l.K.remove("hidePremiumTier2TrialEnding"),l.K.remove("hidePremiumReactivateNotice")}},{version:14,run:e=>m(e,c.v6.ACTIVITY_BEB_TUTORIAL,s.z.ACTIVITIES_TUTORIAL_COACH_MARK),cleanup(){}},{version:15,run:e=>m(e,c.v6.NOW_PLAYING_CONSENT_CARD,s.z.NOW_PLAYING_CONSENT_CARD),cleanup(){}},{version:16,run(e){let t=l.K.get("PromotionsPersistedStore");if(null==t)return!1;let n=t._state.lastDismissedOutboundPromotionStartDate;return null!=n&&(null==e.userContent&&(e.userContent=a.az.create()),null==e.userContent.lastDismissedOutboundPromotionStartDate)&&(e.userContent.lastDismissedOutboundPromotionStartDate=r.Gm.create({value:n}),!0)},cleanup(){}},{version:17,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null);if(null==t)return!1;let n=t.expressionSuggestionsEnabled;return null!=n&&(null==e.textAndImages&&(e.textAndImages=a.Me.create()),null==e.textAndImages.expressionSuggestionsEnabled)&&(e.textAndImages.expressionSuggestionsEnabled=r.D5.create({value:n}),!0)},cleanup(){l.K.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run(e){let t=!1;return m(e,c.v6.GUILD_DELETE_FEEDBACK,s.z.GUILD_DELETE_FEEDBACK)&&(t=!0),m(e,c.v6.GUILD_LEAVE_FEEDBACK,s.z.GUILD_LEAVE_FEEDBACK)&&(t=!0),t},cleanup(){}},{version:19,run(e){var t;let n=!1;return null!==(t=l.K.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=I(e,s.z.FORUM_CHANNEL_HELPER_CARD)),n},cleanup(){l.K.remove("forumHelperCardStorageKey")}},{version:20,run(e){let t=l.K.get("lastChangeLogId");if(null==t)return!1;if(!(0,o.BH)(t))return l.K.remove("lastChangeLogId"),!1;if(null==e.userContent)e.userContent=a.az.create();else if(null!=e.userContent&&null!=e.userContent.lastReceivedChangelogId&&"0"!==e.userContent.lastReceivedChangelogId)return l.K.remove("lastChangeLogId"),!1;return e.userContent.lastReceivedChangelogId=t,!0},cleanup(){l.K.remove("lastChangeLogId")}}];t.Z=g},507468:function(e,t,n){var i=n(392711),s=n.n(i),a=n(570140),r=n(755264),l=n(315341),o=n(262847),c=n(675478),d=n(581883),u=n(526761);function _(){let e=d.Z.getFullState(),t=e[u.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&c.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs),s().forEach(c.aj,(t,n)=>{let i=e[Number(n)];null!=i.editInfo.offlineEditDataVersion&&null!=i.editInfo.protoToSave&&t.scheduleSaveFromOfflineEdit()})}function h(e){let{settings:{proto:t,type:n},delaySeconds:i,jitter:s}=e;c.aj[n].markDirty(t,{delaySeconds:i,jitter:s})}function E(e){let{settingsType:t}=e;c.aj[t].loadIfNecessary()}function I(e){let{state:t}=e;("inactive"===t||"background"===t)&&s().forEach(c.aj,(e,t)=>{null!=d.Z.getFullState()[Number(t)].editInfo.timeout&&(e.logger.log("Triggering persistChanges due to AppStateUpdate"),e.persistChanges())})}t.Z={init(){o.Z[u.yP.PRELOADED_USER_SETTINGS]=l.Z,o.Z[u.yP.FRECENCY_AND_FAVORITES_SETTINGS]=r.Z,a.Z.subscribe("CONNECTION_OPEN",_),a.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",h),a.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",E),a.Z.subscribe("APP_STATE_UPDATE",I)}}},331187:function(e,t,n){var i=n(735250),s=n(470079),a=n(703656),r=n(970731),l=n(626135),o=n(63063),c=n(973005),d=n(981631),u=n(921944),_=n(689938),h=n(758667);t.Z=e=>{let{markAsDismissed:t}=e;return s.useEffect(()=>{l.default.track(d.rMx.DM_SAFETY_COACHMARK_ACTION,{action:c.Rv.VIEW})},[]),(0,i.jsx)(r.ZP,{header:_.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_HEADER_V2,content:_.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_CONTENT_V2.format({helpdeskArticle:o.Z.getArticleURL(d.BhN.SAFE_DIRECT_MESSAGING)}),buttonCTA:_.Z.Messages.GOT_IT,secondaryButtonCTA:_.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_REDIRECT,className:h.coachmark,onClick:e=>{e.stopPropagation(),t(u.L.UNKNOWN),l.default.track(d.rMx.DM_SAFETY_COACHMARK_ACTION,{action:c.Rv.DISMISS})},onSecondaryClick:()=>{(0,a.uL)(d.Z5c.SETTINGS("privacy-and-safety")),l.default.track(d.rMx.DM_SAFETY_COACHMARK_ACTION,{action:c.Rv.CHANGE_SETTING})},markAsDismissed:t,caretPosition:r.DF.BOTTOM_CENTER,headerClassName:h.__invalid_header})}},852758:function(e,t,n){n.d(t,{F0:function(){return A},HR:function(){return Z},ZP:function(){return L}}),n(47120);var i=n(735250),s=n(470079),a=n(990547),r=n(442837),l=n(544891),o=n(481060),c=n(893776),d=n(37234),u=n(809206),_=n(110924),h=n(714338),E=n(213609),I=n(144114),m=n(210887),g=n(23434),p=n(610001),T=n(78415),S=n(1964),C=n(981631),f=n(815660),N=n(689938);let A="Email Verification",Z="PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY";function L(){let{action:e,theme:t}=(0,r.cj)([g.Z,m.Z],()=>({action:g.Z.getAction(),theme:m.Z.theme})),L=S.Z.getVerificationTypes(e),[v,O]=s.useState(0),R=(0,_.Z)(L);(0,E.Z)({type:a.ImpressionTypes.MODAL,name:a.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:L[0],verification_types:L}},{},[L.toString()]);let x=()=>{(0,u.FD)(),(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("35401").then(n.bind(n,284549));return t=>(0,i.jsx)(e,{...t})},{modalKey:A,Layer:T.ZP})},b=()=>{(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("27817")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:I.L.USER_ACTION_REQUIRED,...t})},{modalKey:f.M,Layer:T.ZP})};return s.useEffect(()=>(h.Z.disable(),()=>{h.Z.enable()}),[]),s.useEffect(()=>{(null==R?void 0:R[0])===C.PUi.PHONE&&(null==L?void 0:L[0])===C.PUi.EMAIL&&(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,468026));return t=>(0,i.jsx)(e,{...t,title:N.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:N.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:N.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM})},{modalKey:Z,Layer:T.ZP,onCloseCallback:x})},[L,R]),(0,i.jsx)(p.Z,{types:L,captchaKey:v,onCaptchaVerify:e=>{l.tn.post({url:C.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(d.xf,()=>{O(e=>e+1)})},theme:t,onClick:e=>{e===C.PUi.EMAIL_OR_PHONE||e===C.PUi.EMAIL||e===C.PUi.REVERIFY_EMAIL?x():b()},onLogout:()=>{(0,o.openModalLazy)(async()=>{let{ConfirmModal:e,Text:t}=await Promise.resolve().then(n.bind(n,481060));return n=>(0,i.jsx)(e,{header:N.Z.Messages.LOGOUT,confirmText:N.Z.Messages.LOGOUT,cancelText:N.Z.Messages.CANCEL,onConfirm:()=>c.Z.logout(),...n,children:(0,i.jsx)(t,{variant:"text-md/normal",children:N.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})})},{Layer:T.ZP})}})}},879815:function(e,t,n){var i=n(442837),s=n(314897),a=n(131951),r=n(979651);t.Z=e=>(0,i.cj)([r.Z,a.Z,s.default],()=>(function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Z,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.default,o=null!=e?n.getVoiceState(e.getGuildId(),l.getId()):null;return{selfDeaf:i.isSelfDeaf(),deaf:null!==(t=null==o?void 0:o.deaf)&&void 0!==t&&t}})(e,r.Z,a.Z,s.default))},282506:function(e,t,n){let i;var s=n(570140),a=n(519938),r=n(317770),l=n(317381),o=n(928518),c=n(199902),d=n(592125),u=n(819640),_=n(131951),h=n(366050),E=n(19780),I=n(944486),m=n(914010),g=n(979651),p=n(981631),T=n(65154);function S(){var e;let t=i;if(null==t||!h.Z.isOpen(t))return!1;s.Z.wait(()=>a.xv(t)),null===(e=E.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1),i=null}function C(){let e=E.Z.getChannelId(),t=i===e;return function(){let e=E.Z.getChannelId(),t=I.Z.getChannelId();if(!_.Z.supports(T.AN.VIDEO)||o.Z.getWindowOpen(p.KJ3.CHANNEL_CALL_POPOUT))return!0;let n=c.Z.getAllActiveStreams().length>0,i=null!=e&&Object.values(g.Z.getVideoVoiceStatesForChannel(e)).some(e=>{let{userId:t}=e;return!_.Z.isLocalVideoDisabled(t)});if(!(i||n))return!0;let s=u.Z.hasLayers();return!(s&&u.Z.getLayers().includes(p.S9g.RTC_DEBUG))&&(!!s||e===t||!1)}()?S():(!t&&S(),null!=e&&function(e){var t;let n=d.Z.getChannel(e);if(null==n||h.Z.isOpen(e))return!1;s.Z.wait(()=>a.bA(n.id,p.NYg.VIDEO,{channel:n})),null===(t=E.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0),i=e}(e))}class f extends r.Z{_initialize(){I.Z.addChangeListener(C),m.Z.addChangeListener(C),E.Z.addChangeListener(C),g.Z.addChangeListener(C),u.Z.addChangeListener(C),c.Z.addChangeListener(C),o.Z.addChangeListener(C),_.Z.addChangeListener(C),l.ZP.addChangeListener(C)}_terminate(){I.Z.removeChangeListener(C),m.Z.removeChangeListener(C),E.Z.removeChangeListener(C),g.Z.removeChangeListener(C),u.Z.removeChangeListener(C),c.Z.removeChangeListener(C),o.Z.removeChangeListener(C),_.Z.removeChangeListener(C),l.ZP.removeChangeListener(C)}}t.Z=new f},444961:function(e,t,n){n(47120);var i=n(846519),s=n(570140),a=n(287734),r=n(317770),l=n(199902),o=n(592125),c=n(430824),d=n(517100),u=n(19780),_=n(70956),h=n(358085),E=n(981631);let I=new i.V7,m=new i.V7;class g extends r.Z{_initialize(){s.Z.subscribe("IDLE",this.handleIdleUpdate)}_terminate(){I.stop(),m.stop(),s.Z.unsubscribe("IDLE",this.handleIdleUpdate)}handleIdleUpdate(){let e=d.Z.getIdleSince();if(!h.isPlatformEmbedded)return;for(let e of(I.stop(),m.stop(),l.Z.getAllActiveStreams()))if(e.state!==E.jm8.ENDED)return;if(null==e)return;let t=u.Z.getChannelId();if(null==t)return;m.start(18e6,()=>{a.default.selectVoiceChannel(null)});let n=c.Z.getGuild(u.Z.getGuildId());if(null==n||null==n.afkChannelId||n.afkChannelId===t||null==n.afkTimeout)return;let i=o.Z.getChannel(t);if(null!=i)!i.isGuildStageVoice()&&I.start(e+n.afkTimeout*_.Z.Millis.SECOND-Date.now(),()=>{null!=(n=c.Z.getGuild(u.Z.getGuildId()))&&null!=n.afkChannelId&&a.default.selectVoiceChannel(n.afkChannelId)})}}t.Z=new g},243852:function(e,t,n){n(47120);var i,s,a,r,l,o=n(442837),c=n(433517),d=n(846519),u=n(570140),_=n(278323),h=n(581567),E=n(594190),I=n(581883),m=n(70956),g=n(780570),p=n(314897),T=n(77498),S=n(283595),C=n(19780),f=n(944486),N=n(981631);let A="ActivityTrackingStore",Z=30*m.Z.Millis.MINUTE,L=5*m.Z.Millis.MINUTE,v=null!==(i=c.K.get(A))&&void 0!==i?i:{},O={},R=!1;function x(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t&&b(e,!0);let n=O[e.applicationId];null!=n&&(n.stop(),delete O[e.applicationId]),delete v[e.applicationId],c.K.set(A,v)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),i=null!=e.updatedAt?n-e.updatedAt:0;i>Z+L&&(i=0);let s=(0,g.OT)(e.applicationId,S.Z),a=f.Z.getVoiceChannelId(),r=p.default.getSessionId(),l=C.Z.getMediaSessionId();_.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?N.GQo.DISCORD:e.distributor,shareActivity:s,token:e.token,duration:Math.floor(i/1e3),closed:t,exePath:e.exePath,voiceChannelId:a,sessionId:r,mediaSessionId:l}),e.updatedAt=n;let o=O[e.applicationId];null==o&&(o=O[e.applicationId]=new d.Xp).start(Z,()=>b(e)),!t&&(v[e.applicationId]=e,c.K.set(A,v))}function P(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=E.ZP.getVisibleRunningGames(),n=new Set;for(let{name:e,distributor:i,exePath:s}of t){let t=T.Z.getGameByName(e);if(null!=t)n.add(t.id),!(t.id in v)&&b({applicationId:t.id,updatedAt:Date.now(),distributor:i,exePath:(0,h.N6)(null!=s?s:"")})}for(let t of Object.keys(v))!n.has(t)&&x(v[t],e)}function M(){for(let e of Object.keys(v))x(v[e]);R=!1}class D extends(s=o.ZP.Store){initialize(){this.waitFor(E.ZP,I.Z,S.Z),this.syncWith([I.Z],P)}getActivities(){return v}}l="ActivityTrackingStore",(r="displayName")in(a=D)?Object.defineProperty(a,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[r]=l,new D(u.Z,{RUNNING_GAMES_CHANGE:()=>P(),CONNECTION_OPEN:function(){if(R)return!1;for(let e of Object.keys(v))b(v[e]);P(!1),R=!0},CONNECTION_CLOSED:function(e){let{code:t}=e;4004===t&&M()},LOGOUT:M,ACTIVITY_UPDATE_SUCCESS:function(e){let{applicationId:t,token:n}=e,i=v[t];if(null==i)return!1;i.token=n,c.K.set(A,v)},ACTIVITY_UPDATE_FAIL:function(e){let{applicationId:t}=e,n=v[t];if(null==n)return!1;n.token=null,n.updatedAt=null,c.K.set(A,v)}})},184107:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140);let c={};class d extends(r=l.ZP.Store){getSkuIdForChannel(e){return c[e]}}a="ChannelSKUStore",(s="displayName")in(i=d)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new d(o.Z,{CONNECTION_OPEN:function(){c={}},STORE_LISTING_FETCH_SUCCESS:function(e){let{channelId:t,storeListing:n}=e;null!=t&&(c[t]=n.sku.id)}})},533947:function(e,t,n){let i,s,a;n(653041),n(47120);var r,l,o,c,d=n(392711),u=n.n(d),_=n(442837),h=n(570140),E=n(308063),I=n(388610),m=n(430824),g=n(496675),p=n(855674),T=n(981631);let S=[],C=null,f=!1,N=T.QZA.CLOSED,A={},Z=!1,L=null;function v(){if(i=null!=(s=I.Z.getChannel())?m.Z.getGuild(s.guild_id):null,S=null!=s&&null!=i&&g.Z.can(T.Plq.MANAGE_WEBHOOKS,s)?p.Z.getWebhooksForChannel(i.id,s.id):[],null!=C){let e=R(C.id);null!=e&&(C=e)}N=T.QZA.OPEN,A={},Z=!1}let O=u().debounce(()=>{Z&&((null==C||u().isEqual(C,R(C.id)))&&(Z=!1),!Z&&b.emitChange())},500);function R(e){return S.find(t=>{let{id:n}=t;return n===e})}class x extends(r=_.ZP.Store){initialize(){this.waitFor(I.Z,m.Z,p.Z,g.Z)}hasChanges(){return Z}get webhooks(){return S}get editedWebhook(){return C}get formState(){return N}getWebhook(e){return R(e)}showNotice(){return this.hasChanges()}getProps(){return{submitting:N===T.QZA.SUBMITTING,webhooks:S,editedWebhook:C,section:a,sectionId:L,hasChanges:this.hasChanges(),isFetching:f,errors:A}}}c="ChannelSettingsIntegrationsStore",(o="displayName")in(l=x)?Object.defineProperty(l,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[o]=c;let b=new x(h.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:v,INTEGRATION_SETTINGS_SAVE_SUCCESS:v,CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(t!==T.CoT.INTEGRATIONS)return!1;if(a=T.b4C.OVERVIEW,null==i){let e=I.Z.getChannel(),t=null==e?void 0:e.getGuildId();null!=e&&null!=t&&(E.Z.fetchForChannel(t,e.id),f=!0),v()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){let{section:t,sectionId:n}=e;a=t,L=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){let{webhookId:t}=e,n=R(t);if(null==n)return!1;C=n,A={},Z=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){C=null,A={},Z=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){let{settings:t}=e;if(null==C)return!1;C={...C},null!=t.name&&C.name!==t.name&&(C.name=t.name,Z=!0),void 0!==t.avatar&&C.avatar!==t.avatar&&(C.avatar=t.avatar,Z=!0),null!=t.channelId&&C.channel_id!==t.channelId&&(C.channel_id=t.channelId,Z=!0),Z&&O()},CHANNEL_SETTINGS_CLOSE:function(){s=null,i=null,S=[],C=null,N=T.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){let{guildId:t,channelId:n,webhooks:a}=e;if(null==i||t!==i.id||null==s||n!==s.id||null==a||N===T.QZA.SUBMITTING)return!1;f=!1;for(let e=S.length-1;e>=0;e--){let t=S[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)continue;let i=a.find(e=>{let{id:n}=e;if(n===t.id)return!0});if(null!=i){let n={...t,...i};S[e]=n,!Z&&(null==C?void 0:C.id)===n.id&&(C=n)}else(null==C?void 0:C.id)===t.id&&(C=null),S.splice(e,1)}for(let e of a)null==S.find(t=>{let{id:n}=t;if(n===e.id)return!0})&&S.push(e);S=[...S],O()},INTEGRATION_SETTINGS_SUBMITTING:function(){N=T.QZA.SUBMITTING,A={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(N!==T.QZA.SUBMITTING)return!1;N=T.QZA.OPEN,A=null!==(t=e.errors)&&void 0!==t?t:{}}});t.Z=b},277053:function(e,t,n){let i,s;n(47120);var a,r,l,o,c=n(392711),d=n.n(c),u=n(442837),_=n(433517),h=n(570140),E=n(700785),I=n(388610),m=n(592125),g=n(981631),p=n(71080);let T=new Set,S=g.QZA.CLOSED,C=!1,f=null,N=null,A=null,Z=null,L=null,v=null,O=_.K.get(p.kf)||!1;function R(e){let t=e.getGuildId(),n={...e.permissionOverwrites};return null!=t&&null==n[t]&&(n[t]=E.we(t)),n}function x(){if(A=I.Z.getChannel(),Z=I.Z.getCategory(),null==A)return!1;let e=A.getGuildId();N=f=R(A),null==f[L]&&(L=e),s=null!=Z,i=E.o4(A,Z),v=null,C=!1,S=g.QZA.CLOSED,T.clear()}class b extends(a=u.ZP.Store){initialize(){this.waitFor(I.Z,m.Z)}hasChanges(){return C}showNotice(){return this.hasChanges()}getPermissionOverwrite(e){return null==f?void 0:f[e]}get editedPermissionIds(){return Array.from(T)}get permissionOverwrites(){return f}get selectedOverwriteId(){return L}get formState(){return S}get isLockable(){return s}get locked(){return i}get channel(){return A}get category(){return Z}get advancedMode(){return O}}o="ChannelSettingsPermissionsStore",(l="displayName")in(r=b)?Object.defineProperty(r,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[l]=o,t.Z=new b(h.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(null!=A||t!==g.CoT.PERMISSIONS)return!1;x()},CHANNEL_SETTINGS_PERMISSIONS_INIT:x,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){let{id:t,allow:n,deny:s}=e,a=null==f?void 0:f[t];if(null==a||null==A)return!1;a={...a,allow:n,deny:s},f={...f,[t]:a},T.add(t),S=g.QZA.OPEN,C=!d().isEqual(f,N),i=E.o4(A,Z)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){let{id:t}=e;if(null!=f&&null!=f[t])L=t;else{if(null==A)return!1;v=t}},CHANNEL_SETTINGS_CLOSE:function(){S=g.QZA.CLOSED,f=null,N=null,A=null,Z=null,C=!1,T.clear(),L=null,v=null},CHANNEL_UPDATES:function(e){let{channels:t}=e;if(null==A)return!1;let n=!1;for(let e of t)!1!==function(e){if(null==A||A.id!==e||null==(A=m.Z.getChannel(e)))return!1;Z=I.Z.getCategory();let t=A.getGuildId();if(null==t)return!1;N=R(A);let n={};return T.forEach(e=>{null!=f&&(n[e]=f[e])}),null==n[t]&&null==A.permissionOverwrites[t]&&(n[t]=E.we(t)),null==(f={...A.permissionOverwrites,...n})[L]?L=t:null!=v&&null!=f[v]&&(L=v,v=null),i=E.o4(A,Z),!0}(e.id)&&(n=!0);return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){S=g.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){let{silent:t}=e;t?S=g.QZA.OPEN:(S=g.QZA.CLOSED,x())},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){let{advancedMode:t}=e;O=t,_.K.set(p.kf,t)}})},820486:function(e,t,n){n.d(t,{X:function(){return A}});var i,s=n(392711),a=n.n(s),r=n(442837),l=n(570140),o=n(846027),c=n(581883),d=n(358085),u=n(131951),_=n(981631),h=n(65154);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I={},m=I,g=!1,p={},T={},S={},C={id:null,justChanged:!1},f={id:null,justChanged:!1},N=/\(([^)]+)\)/;function A(e){if((0,d.getPlatform)()===d.PlatformTypes.WINDOWS){let t=e.name.match(N);if(null!=t)return t[1]}return e.name}function Z(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===_.QyF.INPUT&&n===_.QyF.OUTPUT||e.type===_.QyF.OUTPUT&&n===_.QyF.INPUT?{displayName:t,type:_.QyF.INPUT_AND_OUTPUT}:e}class L extends(i=r.ZP.DeviceSettingsStore){initialize(e){this.waitFor(u.Z,c.Z),m=null!=e?e:I}getUserAgnosticState(){return m}get initialized(){return g}get lastDeviceConnected(){return S}get inputDevices(){return p}get lastInputSystemDevice(){return C}get outputDevices(){return T}get lastOutputSystemDevice(){return f}}E(L,"displayName","ConnectedDeviceStore"),E(L,"persistKey","ConnectedDeviceStore"),t.Z=new L(l.Z,{MEDIA_ENGINE_DEVICES:function(e){let{inputDevices:t,outputDevices:n}=e,i={};C.justChanged=!1,t.forEach(e=>{if(i[A(e)]=e.id,e.id===h.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==C.id&&(C.justChanged=!0),C.id=n}});let s={};if(f.justChanged=!1,n.forEach(e=>{if(s[A(e)]=e.id,e.id===h.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==f.id&&(f.justChanged=!0),f.id=n}}),!g){p=i,T=s,g=!0;return}let r=Object.keys(p),l=Object.keys(i),o=Object.keys(T),c=Object.keys(s),d=a().difference(r,l),u=a().difference(o,c);return d.length>0||u.length>0?S={}:(a().difference(l,r).forEach(e=>{S[e]=Z(S[e],e,_.QyF.INPUT)}),a().difference(c,o).forEach(e=>{S[e]=Z(S[e],e,_.QyF.OUTPUT)})),!(a().isEqual(r,l)&&a().isEqual(o,c))&&(p=i,T=s,!0)},CONNECTED_DEVICE_SET:function(e){let{displayName:t,connectedDevicePreference:n,location:i}=e;!function(e,t,n){if(t===_.aVf.INPUT||t===_.aVf.INPUT_AND_OUTPUT){let t=p[e];null!=t&&l.Z.wait(()=>o.Z.setInputDevice(t,n))}if(t===_.aVf.OUTPUT||t===_.aVf.INPUT_AND_OUTPUT){let t=T[e];l.Z.wait(()=>o.Z.setOutputDevice(t,n))}}(t,n,i),delete S[t]},CONNECTED_DEVICE_IGNORE:function(e){let{displayName:t}=e;delete S[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){S={},m={neverShowModal:!0}}})},649974:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(656063),d=n(814443),u=n(158776),_=n(594174),h=n(981631);let E=!1,I={},m={};function g(e){let t=!1;return e.forEach(e=>{t=!1!==T(e)||t}),t}function p(e){let t=m[e];if(null==t)return!1;let n=t.gameId;return null!=I[n]&&(I={...I},delete I[n][e],0===Object.values(I[n]).length&&delete I[n]),m={...m},delete m[e],!0}function T(e){let{user:t,activities:n}=e;if(null==t)return!1;let i=n.filter(e=>e.type!==h.IIU.CUSTOM_STATUS);if(0===i.length)return p(t.id);let s=!1;return i.forEach(e=>{(function(e,t){var n,i,s,a;let r=(0,c.Z)(e);if(null==r)return p(t.id);let l=m[t.id];null!=l&&l.gameId!==r&&p(t.id);let o=null!==(i=null===(n=e.timestamps)||void 0===n?void 0:n.start)&&void 0!==i?i:Date.now(),d={userId:t.id,activity:e,startedPlaying:o};return s=r,a=d,I={...I,[s]:{...I[s],[a.userId]:a}},m={...m,[a.userId]:{gameId:s,startedPlaying:a.startedPlaying}},!0})(e,t)&&(s=!0)}),s}function S(){let e=!1;if(!d.Z.needsRefresh()&&!E){let t;I={},m={},t=!1,u.Z.getUserIds().forEach(e=>{let n=_.default.getUser(e);null!=n&&(t=T({user:n,activities:u.Z.getActivities(e)})||t)}),e=t}return E=!d.Z.needsRefresh(),e}class C extends(r=l.ZP.Store){initialize(){this.waitFor(d.Z),this.syncWith([d.Z],S)}get games(){return I}get usersPlaying(){return m}get gameIds(){return Object.keys(I)}getNowPlaying(e){return I[e]}getUserGame(e){return m[e]}}a="NowPlayingStore",(s="displayName")in(i=C)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new C(o.Z,{CONNECTION_OPEN:function(){I={},m={}},CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,i=!1;return t.forEach(e=>{g(e.presences)&&(i=!0)}),g(n)&&(i=!0),i},LOGOUT:function(){I={},m={}},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>T(e)).some(e=>e)},PRESENCES_REPLACE:function(e){let{presences:t}=e;return g(t)}})},455173:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(292556),d=n(812206);class u extends(r=l.ZP.Store){}a="UserAchievementStore",(s="displayName")in(i=u)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a;new u(o.Z,{USER_ACHIEVEMENT_UPDATE:function(e){let{userAchievement:t}=e,{application_id:n,achievement:i,percent_complete:s}=t;if(100===s&&null!=i){let e=d.Z.getApplication(n),t=null!=e?e.getIconURL(64):null;c.default.showNotification(t,i.name,i.description,{notif_type:"USER_ACHIEVEMENT_UPDATE"},{omitViewTracking:!0})}}})},327689:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(430824),d=n(981631);class u extends(r=l.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],d.dG4)}channelNoticePredicate(e,t){return!e.hasFeature(d.oNc.BANNER)&&Date.now()-t>=d.Hqc}}a="GuildBoostingNoticeStore",(s="displayName")in(i=u)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new u(o.Z)},541566:function(e,t,n){var i,s=n(442837),a=n(570140),r=n(267642),l=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={};c={lastDismissedGracePeriods:{},isVisible:{}};class d extends(i=s.ZP.PersistedStore){initialize(e){null!=e&&(c=e)}getLastDismissedGracePeriodForGuild(e){return null!=c.lastDismissedGracePeriods[e]?c.lastDismissedGracePeriods[e]:null}isVisible(e){return null!=e&&null!=c.isVisible[e]&&c.isVisible[e]}getState(){return c}}o(d,"displayName","GuildBoostingGracePeriodNoticeStore"),o(d,"persistKey","PremiumGuildGracePeriodNoticeStore"),o(d,"migrations",[e=>({...e,lastDismissedGracePeriods:null!=e?{...e.lastDismissedGracePeriods}:{},isVisible:{}})]),t.Z=new d(a.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){let{guildId:t,appliedBoosts:n}=e,i=null!=c.lastDismissedGracePeriods[t]?c.lastDismissedGracePeriods[t]:null,s=null!=i&&Date.now()-i<=l.Dge,a=null!=n&&!s&&(0,r.Vx)(n,t);c={...c,isVisible:{...c.isVisible,[t]:a}}},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){let t=e.guildId;c={...c,lastDismissedGracePeriods:{...c.lastDismissedGracePeriods,[t]:Date.now()},isVisible:{...c.isVisible,[t]:!1}}}})},421176:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(496675),d=n(981631);class u extends(r=l.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],d.dG4)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&c.Z.can(d.Plq.MANAGE_GUILD,e)}}a="GuildBoostingNoticeStore",(s="displayName")in(i=u)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new u(o.Z)},192513:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(984933),d=n(594174),u=n(981631);let _=null;function h(){let e=d.default.getCurrentUser();if(null==e||e.mfaEnabled===_)return!1;_=e.mfaEnabled}class E extends(r=l.ZP.Store){initialize(){this.waitFor(d.default,c.ZP),this.syncWith([d.default,c.ZP],h)}isVisible(e){return null!=e&&e.mfaLevel===u.BpS.ELEVATED&&!1===_&&c.ZP.hasElevatedPermissions(e.id)}}a="GuildMFAWarningStore",(s="displayName")in(i=E)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new E(o.Z,{CONNECTION_OPEN:h,GUILD_UPDATE:function(){return!0}})},989695:function(e,t,n){var i,s,a,r,l=n(442837),o=n(704215),c=n(570140),d=n(150340),u=n(496675);function _(){return!0}class h extends(r=l.ZP.Store){initialize(){this.waitFor(u.Z),this.syncWith([u.Z],_)}channelNoticePredicate(e){return(0,d.S)(e.id,o.z.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)}}a="GuildOnboardingUpsellNoticeStore",(s="displayName")in(i=h)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new h(c.Z)},456065:function(e,t,n){n(47120);var i,s,a,r,l=n(442837),o=n(570140),c=n(810788),d=n(430824),u=n(981631);let _=!1;function h(e){let t=d.Z.getGuild(e);return!!(null!=t&&t.hasFeature(u.oNc.HUB))&&(_=!0,!0)}function E(){return!0}class I extends(i=l.ZP.Store){initialize(){this.waitFor(d.Z,c.Z),this.syncWith([c.Z],E)}channelNoticePredicate(e){return!!e.hasFeature(u.oNc.LINKED_TO_HUB)&&!_&&!0}}r="HubLinkNoticeStore",(a="displayName")in(s=I)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=new I(o.Z,{CONNECTION_OPEN:function(e){for(let t of e.guilds)if(h(t.id))return!0;return!1},GUILD_CREATE:function(e){let{guild:t}=e;return h(t.id)}})},683743:function(e,t,n){var i,s,a,r,l=n(442837),o=n(570140),c=n(496675),d=n(981631);function u(){return!0}class _ extends(r=l.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],u)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&c.Z.can(d.Plq.ADMINISTRATOR,e)}}a="InviteNoticeStore",(s="displayName")in(i=_)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,t.Z=new _(o.Z)},255791:function(e,t,n){n(47120);var i,s,a,r,l=n(442837),o=n(433517),c=n(570140),d=n(650774),u=n(430824),_=n(496675),h=n(981631);let E={MAX_MEMBER_COUNT:new Set};class I extends(i=l.ZP.Store){initialize(){var e;this.waitFor(_.Z,u.Z,d.Z),this.syncWith([_.Z,u.Z,d.Z],h.dG4),o.K.remove(h.vID.MAX_MEMBER_COUNT_100),o.K.remove(h.vID.MAX_MEMBER_COUNT_250),e=new Set(o.K.get(h.vID.MAX_MEMBER_COUNT)),E[h.vID.MAX_MEMBER_COUNT]=void 0!==e?e:new Set}isVisible(e){var t;if(null==e)return!1;let n=null!==(t=d.Z.getMemberCount(e.id))&&void 0!==t?t:0,i=_.Z.can(h.Plq.ADMINISTRATOR,e);return!e.hasFeature(h.oNc.CLAN)&&!E[h.vID.MAX_MEMBER_COUNT].has(e.id)&&i&&e.maxMembers>0&&e.maxMembers-n<=1e4}}r="MaxMemberCountChannelNoticeStore",(a="displayName")in(s=I)?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,t.Z=new I(c.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){let t=e.guildId;if(!E[h.vID.MAX_MEMBER_COUNT].has(t))return E[h.vID.MAX_MEMBER_COUNT].add(t),o.K.set(h.vID.MAX_MEMBER_COUNT,E[h.vID.MAX_MEMBER_COUNT]),!0}})},525395:function(e,t,n){let i,s,a;n(47120);var r,l,o,c,d=n(442837),u=n(570140);function _(){s={},i={},a=new Set}_();class h extends(r=d.ZP.Store){getStatisticsForApplication(e){return i[e]}shouldFetchStatisticsForApplication(e){let t=s[e];return!a.has(e)&&(null==t||Date.now()-t>36e5)}}c="ApplicationStatisticsStore",(o="displayName")in(l=h)?Object.defineProperty(l,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[o]=c,t.Z=new h(u.Z,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){let{applicationId:t}=e;a.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){let{applicationId:t}=e;a.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){let{statistics:t,applicationId:n}=e;s[n]=Date.now(),a.delete(n),i[n]=t},LOGOUT:_})},974042:function(e,t,n){n(653041);var i,s=n(392711),a=n.n(s),r=n(442837),l=n(570140),o=n(194359),c=n(81825),d=n(5254),u=n(199902),_=n(271383),h=n(430824),E=n(158776),I=n(699516),m=n(594174),g=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){let t=m.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function S(e){return{status:E.Z.getStatus(e),isMobile:E.Z.isMobileOnline(e),activities:E.Z.getActivities(e),applicationStream:u.Z.getAnyStreamForUser(e)}}function C(e){let t=[];return a()(_.ZP.memberOf(e)).map(h.Z.getGuild).sortBy(e=>null!=e?e.name.toLowerCase():null).forEach(e=>{null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}class f extends c.Z{get comparator(){var e,t,n,i,s;return[this.type,null!==(s=null!==(i=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==i?i:null===(n=this.user)||void 0===n?void 0:null===(t=n.globalName)||void 0===t?void 0:t.toLowerCase())&&void 0!==s?s:this.usernameLower]}constructor(e){super(),p(this,"key",void 0),p(this,"type",void 0),p(this,"status",void 0),p(this,"isMobile",void 0),p(this,"activities",void 0),p(this,"applicationStream",void 0),p(this,"user",void 0),p(this,"usernameLower",void 0),p(this,"mutualGuildsLength",void 0),p(this,"mutualGuilds",void 0),p(this,"nickname",void 0),this.key=e.key,this.type=e.type,this.status=e.status,this.activities=e.activities,this.applicationStream=e.applicationStream,this.user=e.user,this.isMobile=e.isMobile,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds,this.nickname=e.nickname}}class N{reset(){let e=a().map(I.Z.getRelationships(),(e,t)=>new f({key:t,type:e,nickname:I.Z.getNickname(t),...T(t),...S(t),...C(t)})),t=a().map(d.Z.getSuggestions(),e=>new f({key:e.key,type:99,nickname:e.name,...T(e.key),...S(e.key),...C(e.key)}));return new N(a().concat(e,t))}clone(){return new N(this._rows)}update(e){let t=!1;for(let n=0;n<this._rows.length;n++){let i=this._rows[n],s=i.merge(e(i.key));t=t||s!==i,this._rows[n]=s}return t}filter(e,t){return a()(this._rows).filter(e=>{if(null==e.user)return!1;if(null!=t&&""!==t){let n=t.toLowerCase();return[e.usernameLower,e.nickname,e.user.globalName].map(e=>null==e?void 0:e.toLowerCase()).some(e=>null==e?void 0:e.includes(n))}return!0}).filter(t=>{switch(e){case g.pJs.ONLINE:return t.type===g.OGo.FRIEND&&t.status!==g.Skl.OFFLINE;case g.pJs.PENDING:return t.type===g.OGo.PENDING_INCOMING||t.type===g.OGo.PENDING_OUTGOING;case g.pJs.SUGGESTIONS:return 99===t.type;case g.pJs.BLOCKED:return t.type===g.OGo.BLOCKED;case g.pJs.ALL:default:return t.type===g.OGo.FRIEND}}).sortBy(e=>e.comparator).value()}getRelationshipCounts(){let e={[g.OGo.FRIEND]:0,[g.OGo.PENDING_INCOMING]:0,[g.OGo.PENDING_OUTGOING]:0,99:0,[g.OGo.BLOCKED]:0};return this._rows.forEach(t=>{null!=t.user&&null!=e[t.type]&&e[t.type]++}),e}constructor(e=[]){p(this,"_rows",void 0),this._rows=e}}let A=!0,Z=!1,L=g.pJs.ONLINE,v=new N,O=!0,R=!1;function x(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A&&(e||L!==g.pJs.ONLINE&&L!==g.pJs.ADD_FRIEND)&&!Z&&(A=!1,Z=!0,o.Z.fetchRelationships())}function b(){if(A=!0,O?Z=!1:x(),v=v.reset(),R)return;let e=v.getRelationshipCounts();L=0===e[g.OGo.FRIEND]?0!==e[g.OGo.PENDING_INCOMING]?g.pJs.PENDING:g.pJs.ADD_FRIEND:g.pJs.ONLINE}function P(){v=O?new N:v.reset()}function M(e){return function(){return!O&&!!v.update(e)&&(v=v.clone(),!0)}}class D extends(i=r.ZP.Store){initialize(){this.waitFor(I.Z,E.Z,m.default,h.Z,_.ZP,u.Z,d.Z),this.syncWith([I.Z],P),this.syncWith([d.Z],P),this.syncWith([m.default],M(T)),this.syncWith([E.Z,u.Z],M(S)),b()}getState(){return{fetching:Z,section:L,pendingCount:I.Z.getPendingCount(),rows:v}}}p(D,"displayName","FriendsStore"),t.ZP=new D(l.Z,{CONNECTION_OPEN:function(){b()},FRIENDS_SET_SECTION:function(e){L=e.section,x()},CHANNEL_SELECT:function(e){let{channelId:t}=e;return O=null!=t,P(),!O},LOAD_RELATIONSHIPS_SUCCESS:function(){Z=!1},LOAD_RELATIONSHIPS_FAILURE:function(){A=!0,Z=!0},DRAWER_SELECT_TAB:function(e){let{tab:t}=e;return O=t!==g.cII.FRIENDS,P(),!O},FRIENDS_SET_INITIAL_SECTION:function(e){L=e.section,R=!0}})},897607:function(e,t,n){n(47120);var i=n(735250);n(470079);var s=n(392711),a=n.n(s),r=n(481060),l=n(463395),o=n(820486),c=n(131951),d=n(65154);let u=new Set(["DisplayPort"]),_=!1;function h(){let e;if(_)return;let t=c.Z.getInputDeviceId(),s=c.Z.getOutputDeviceId();if(o.Z.getState().neverShowModal||a().isEmpty(o.Z.lastDeviceConnected))return;let h=(0,o.X)(c.Z.getInputDevices()[t]),E=(0,o.X)(c.Z.getOutputDevices()[s]);if(a().some(o.Z.lastDeviceConnected,e=>u.has(e.displayName)||e.displayName===h||e.displayName===E))return;let I=a().some(o.Z.lastDeviceConnected,e=>l.Z.isCertified(o.Z.inputDevices[e.displayName])||l.Z.isCertified(o.Z.outputDevices[e.displayName]));if((t===d.w5&&o.Z.lastInputSystemDevice.justChanged||s===d.w5&&o.Z.lastOutputSystemDevice.justChanged)&&!I)return;let m=a().first(Object.keys(o.Z.lastDeviceConnected)),g=null!=m&&""!==m?o.Z.lastDeviceConnected[m]:null;null!=g&&(o.Z.initialized&&null!=m&&(l.Z.isCertified(o.Z.inputDevices[m])?e=l.Z.getCertifiedDevice(o.Z.inputDevices[m]):l.Z.isCertified(o.Z.outputDevices[m])&&(e=l.Z.getCertifiedDevice(o.Z.outputDevices[m]))),_=!0,(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("83536").then(n.bind(n,43991));return n=>{let{transitionState:s,onClose:a}=n;return(0,i.jsx)(t,{device:g,certifiedDeviceMetadata:e,transitionState:s,onClose:()=>(_=!1,a())})}}))}t.Z={init(){o.Z.addChangeListener(h)}}},900974:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(570140);let r=!1,l=null;t.Z={init(){a.Z.subscribe("CONNECTION_OPEN",e=>{let{pendingPayments:t}=e;if(null!=t&&t.length>0){var a;if(l===t[0]||null==(l=t[0]))return;a=l,r||(r=!0,(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("7232").then(n.bind(n,645586));return t=>{let{transitionState:n,onClose:s}=t;return(0,i.jsx)(e,{pendingPayment:a,transitionState:n,onClose:()=>(r=!1,s())})}}))}})}}},368874:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(924005);t.Z=e=>{let{aspectRatio:t,style:n,className:s,children:l}=e;return(0,i.jsx)("div",{className:a()(r.outer,s),style:{paddingTop:"".concat(1/t*100,"%"),...n},children:(0,i.jsx)("div",{className:r.inner,children:l})})}},232126:function(e,t,n){var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(981631),l=n(198568);let o={EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},c={THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"},d={[r.aIt.ESRB]:{[o.EVERYONE]:l.esrbEveryone,[o.EVERYONE_TEN_PLUS]:l.esrbEveryoneTenPlus,[o.TEEN]:l.esrbTeen,[o.MATURE]:l.esrbMature,[o.ADULT]:l.esrbAdult,[o.RATING_PENDING]:l.esrbRatingPending},[r.aIt.PEGI]:{[c.THREE]:l.pegiThree,[c.SEVEN]:l.pegiSeven,[c.TWELVE]:l.pegiTwelve,[c.SIXTEEN]:l.pegiSixteen,[c.EIGHTEEN]:l.pegiEighteen}};t.Z=e=>{let{agency:t,rating:n,className:s}=e,r=d[t][n];return null==r?null:(0,i.jsx)("div",{className:a()(l.contentRating,r,s)})}},714759:function(e,t,n){var i=n(735250);n(470079);var s=n(481060),a=n(689938),r=n(98329);let l=Math.ceil(2*Math.PI*20);t.Z=e=>{let{total:t,used:n}=e,o=Math.max(0,Math.min(1,n/t)),c="".concat(Math.floor(100*o),"%");return(0,i.jsx)(s.Tooltip,{text:a.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:c}),children:e=>(0,i.jsxs)("div",{className:r.wrapper,role:"progressbar","aria-label":a.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:c}),...e,children:[(0,i.jsxs)("svg",{viewBox:"25 25 50 50",className:r.svg,"aria-hidden":!0,children:[(0,i.jsx)("circle",{className:r.background,cx:"50",cy:"50",r:20}),(0,i.jsx)("circle",{className:r.foreground,cx:"50",cy:"50",r:20,stroke:function(e){let t=Math.round(-85*e+199),n=Math.round(-71*e+208),i=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(i,")")}(o),strokeDasharray:function(e){let t=Math.floor(l*e);return"".concat(t,", ").concat(l)}(o)})]}),(0,i.jsx)("aside",{className:r.usageInfo,"aria-hidden":!0,children:c})]})})}},514611:function(e,t,n){n(47120);var i,s=n(735250),a=n(470079),r=n(120356),l=n.n(r),o=n(622535),c=n(481060),d=n(239091),u=n(556017),_=n(879484),h=n(26580),E=n(206887),I=n(134432),m=n(695346),g=n(768581),p=n(900849),T=n(940627),S=n(806519),C=n(981631),f=n(689938),N=n(445222),A=n(129512),Z=n(330065),L=n(755386);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends(i=a.PureComponent){getDefaultSplashURL(e,t){if(t)return L;switch(e){case C.BRd.DARK:return A;case C.BRd.LIGHT:return Z}}render(){var e;let{guild:t,className:n,theme:i,onTagClick:a}=this.props,{loaded:r,hasBeenSeen:d,isVisible:A,submitting:Z}=this.state,{name:L,description:v,presenceCount:O,memberCount:R,keywords:x}=t,b=null===(e=t.features)||void 0===e?void 0:e.has(C.oNc.HUB),P=g.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discoverySplash,size:300*(0,I.x_)()}),M=null!=P?P:this.getDefaultSplashURL(i,b),D=g.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:40});_.w.trackExposure({location:"de1ef6_1"});let{shouldDisplayTags:y}=_.w.getCurrentConfig({location:"de1ef6_2"},{autoTrackExposure:!1}),{canSeeInAppReportingButtons:j}=u.N.getCurrentConfig({location:"de1ef6_3"},{autoTrackExposure:!1});u.N.trackExposure({location:"de1ef6_4"});let U=m.Sb.getSetting();return(0,s.jsx)(o.$,{active:!A,onChange:this.setIsVisible,threshold:.1,children:A?(0,s.jsx)(o.$,{onChange:this.handleVisibilityChange,active:!d,threshold:.55,children:(0,s.jsxs)("div",{className:l()(n,{[N.loaded]:r,[N.loading]:!r}),children:[Z?(0,s.jsx)(c.Spinner,{type:c.Spinner.Type.PULSING_ELLIPSIS,className:N.spinner}):null,(0,s.jsxs)(c.Clickable,{onClick:this.handleClickView,className:l()(N.card,{[N.submitting]:Z,[N.cardWithTags]:y}),onContextMenu:this.handleContextMenu,children:[(0,s.jsxs)("div",{className:N.cardHeader,children:[(0,s.jsx)("div",{className:N.splash,children:(0,s.jsx)("img",{src:M,alt:"",className:l()(N.splashImage,{[N.splashImageHeight]:!b}),onLoad:()=>this.setState({loaded:!0})})}),U||j?(0,s.jsx)("div",{className:N.actionButtons,children:(0,s.jsx)(E.Z,{guild:t})}):null,(0,s.jsx)("div",{className:N.guildIcon,children:(0,s.jsx)(S.ZP,{mask:S.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,s.jsx)("div",{className:N.iconMask,children:(0,s.jsx)(S.ZP,{mask:S.ZP.Masks.SQUIRCLE,width:40,height:40,children:(0,s.jsx)("img",{src:D,alt:"",className:N.avatar})})})})})]}),(0,s.jsxs)("div",{className:N.guildInfo,children:[(0,s.jsxs)("div",{className:N.title,children:[(0,s.jsx)(T.Z,{className:N.guildBadge,guild:t,tooltipColor:c.Tooltip.Colors.PRIMARY}),(0,s.jsx)(c.Heading,{variant:"heading-md/semibold",className:N.guildName,children:L})]}),(0,s.jsx)(c.Text,{className:N.description,variant:"text-sm/normal",color:"header-secondary",children:v}),y&&null!=x&&null!=a&&(0,s.jsx)(h.F,{tags:x,onTagClick:e=>a(e,t.id),guildId:t.id,section:p.P1.POPULAR}),(0,s.jsxs)("div",{className:N.memberInfo,children:[null!=O&&(0,s.jsxs)("div",{className:N.memberCount,children:[(0,s.jsx)("div",{className:N.dotOnline}),(0,s.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:f.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:O})})]}),null!=R&&(0,s.jsxs)("div",{className:N.memberCount,children:[(0,s.jsx)("div",{className:N.dotOffline}),(0,s.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:f.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:R})})]})]})]})]})]})}):(0,s.jsx)("div",{className:l()(N.card,{[N.cardWithTags]:y})})})}constructor(...e){super(...e),v(this,"state",{loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1}),v(this,"handleClickView",async e=>{let{className:t}=e.target;if(t.includes("Menu"))return;let{onView:n,guild:i}=this.props;e.stopPropagation(),this.setState({submitting:!0});try{null!=n&&await n(i.id)}finally{this.setState({submitting:!1})}}),v(this,"handleVisibilityChange",e=>{let{onGuildCardSeen:t,guild:n}=this.props;null!=n&&!this.state.hasBeenSeen&&e&&(this.setState({hasBeenSeen:e}),null!=t&&t(n.id))}),v(this,"handleContextMenu",e=>{(0,d.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,455839));return t=>(0,s.jsx)(e,{...t,guild:this.props.guild})})}),v(this,"setIsVisible",e=>{this.setState({isVisible:e})})}}v(O,"Placeholder",e=>(0,s.jsx)("div",{className:l()(e.className,N.cardPlaceholder)})),t.Z=O},760397:function(e,t,n){n(411104);var i,s,a,r,l,o,c,d,u,_=n(735250),h=n(470079);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(o=i||(i={})).THING="Thing",o.PERSON="Person",o.PRODUCT="Product",o.OFFER="Offer",o.AGGREGATE_OFFER="AggregateOffer",o.RATING="Rating",o.AGGREGATE_RATING="AggregateRating",o.ORGANIZATION="Organization",o.ITEM_PAGE="ItemPage",o.UNIT_PRICE_SPECIFICATION="UnitPriceSpecification",o.QUANTITATIVE_VALUE="QuantitativeValue";function I(e,t){return{"@type":e,...function e(t){return Object.keys(t).forEach(n=>{null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw Error("[JSONLD] Invalid object format")}return t}(t))}}function m(e){return I("Thing",e)}function g(e){return I("Product",e)}g.Image=function(e){if(null==e)return null;let t=e.filter(e=>null!=e&&""!==e);return 0===t.length?null:1===t.length?t[0]:t};function p(e){return I("Offer",e)}function T(e){return I("QuantitativeValue",e)}(c=s||(s={})).DAMAGED="http://schema.org/DamagedCondition",c.NEW="http://schema.org/NewCondition",c.REFURBISHED="http://schema.org/RefurbishedCondition",c.USED="http://schema.org/UsedCondition",(d=a||(a={})).DISCONTINUED="http://schema.org/Discontinued",d.IN_STOCK="http://schema.org/InStock",d.IN_STORE_ONLY="http://schema.org/InStoreOnly",d.LIMITED_AVAILABILITY="http://schema.org/LimitedAvailability",d.ONLINE_ONLY="http://schema.org/OnlineOnly",d.OUT_OF_STOCK="http://schema.org/OutOfStock",d.PREORDER="http://schema.org/PreOrder",d.PRESALE="http://schema.org/PreSale",d.SOLD_OUT="http://schema.org/SoldOut",p.ItemConditions=s,p.ItemAvailability=a,(u=r||(r={})).YEARLY="ANN",u.MONTHLY="MON",T.UnitCodes=r;class S extends(l=h.Component){render(){let{debug:e,data:t}=this.props,n=JSON.stringify({"@context":"http://schema.org",...t});return(0,_.jsx)("script",{type:"application/ld+json",children:n})}}E(S,"Thing",m),E(S,"Brand",m),E(S,"Person",function(e){return I("Person",e)}),E(S,"Organization",function(e){return I("Organization",e)}),E(S,"ItemPage",function(e){return I("ItemPage",e)}),E(S,"Product",g),E(S,"Offer",p),E(S,"Rating",function(e){return I("Rating",e)}),E(S,"AggregateRating",function(e){return I("AggregateRating",e)}),E(S,"AggregateOffer",function(e){return I("AggregateOffer",e)}),E(S,"QuantitativeValue",T),E(S,"UnitPriceSpecification",function(e){return I("UnitPriceSpecification",e)}),t.Z=S},672705:function(e,t,n){var i=n(735250);n(470079);var s=n(14199),a=n(780384),r=n(981631);let l=e=>{let{theme:t,...n}=e,l=(0,a.wj)(t)?"dark":"light";return(0,i.jsx)(s.Z,{sitekey:r.OL7,...n,theme:l})};l.Themes={LIGHT:"light",DARK:"dark"},l.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"},t.Z=l},446753:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(735250);n(470079);var s=n(120356),a=n.n(s),r=n(481060),l=n(30268);function o(e){let{padded:t=!0,inset:n=!1,active:s=!1,className:o,children:c,onClick:d,...u}=e;return null!=d?(0,i.jsx)(r.Clickable,{onClick:d,tabIndex:null!=d?0:-1,className:a()(o,{[l.outer]:!n,[l.inset]:n,[l.padded]:t,[l.active]:s,[l.interactive]:null!=d}),...u,children:c}):(0,i.jsx)("div",{className:a()(o,{[l.outer]:!n,[l.inset]:n,[l.padded]:t,[l.active]:s}),...u,children:c})}},441996:function(e,t,n){n(47120);var i,s=n(735250),a=n(470079),r=n(392711),l=n.n(r),o=n(302221),c=n(340873);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends(i=a.PureComponent){onDataUpdate(e,t){let{maxValue:n,data:i,animate:s}=this.props,a=null==e||e.data!==t.data&&!l().isEqual(e.data,t.data);if(a&&(this.dataChangedAt=performance.now(),this.maxValue=null!=n?n:Math.max(...i)),a||null==e||!e.animate&&s||e.color!==this.props.color){let e=o.oo(this.props.color);this.fillColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", 0.5)"),window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}}componentDidMount(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)}componentDidUpdate(e){this.onDataUpdate(e,this.props)}componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0}render(){let{className:e,pixelWidth:t,pixelHeight:n}=this.props;return(0,s.jsx)("div",{className:e,children:(0,s.jsx)("canvas",{ref:this.canvas,className:c.canvas,width:t,height:n})})}constructor(...e){super(...e),d(this,"dataChangedAt",void 0),d(this,"fillColor",void 0),d(this,"maxValue",void 0),d(this,"canvas",a.createRef()),d(this,"animationFrameRequestId",void 0),d(this,"updateAnimation",e=>{let t,n;let i=this.canvas.current;if(null==i)return;let{data:s,updateInterval:a,color:r,numUpdatesToShow:l,lineWidth:c,animate:d,gradientStopColor:u}=this.props;if(s.length<2)return;let _=Math.max(Math.min((e-this.dataChangedAt)/a,1),0),h=i.getContext("2d"),E=this.maxValue;h.strokeStyle=r,h.lineWidth=c;let I=i.height-h.lineWidth,m=h.createLinearGradient(0,0,0,I);if(null!=u)m.addColorStop(0,u);else{let{r:e,g:t,b:n}=o.oo(r);m.addColorStop(0,"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0)"))}m.addColorStop(1,this.fillColor),h.fillStyle=m;let g=s.length>=l?l:s.length;h.setTransform(1,0,0,-1,0,i.height),h.clearRect(0,0,i.width,i.height),h.translate(0,.5*h.lineWidth);let p=Math.floor(i.width/(g-3)),T=.5*p;h.translate(p-p*_,0),h.beginPath();let S=-p;s.forEach((e,i)=>{t={x:S,y:I*e/E},0===i?h.moveTo(t.x,t.y):h.bezierCurveTo(n.x+T,n.y,t.x-T,t.y,t.x,t.y),n=t,S+=p}),h.stroke(),h.lineTo(S-p,0),h.lineTo(0,0),h.fill(),d&&_<1&&(this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation))})}}d(u,"defaultProps",{animate:!0}),t.Z=u},912739:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(481060),o=n(55935),c=n(981631),d=n(689938),u=n(205596);let _=e=>{let{IconComponent:t,className:n}=e;return(0,i.jsx)("div",{className:r()(u.iconCircle,n),children:(0,i.jsx)(t,{className:u.icon,color:"currentColor"})})},h=e=>{let{circle:t,smallHeader:n,text:s,className:a}=e;return(0,i.jsxs)("div",{className:r()(u.recommendationReason,a),children:[t,(0,i.jsxs)("div",{className:u.description,children:[null!=n?(0,i.jsx)("div",{className:u.smallHeader,children:n}):null,(0,i.jsx)("div",{className:u.text,children:s})]})]})};class E extends s.Component{render(){let{reason:e,className:t}=this.props;if(e.type===c.AzA.RECENT_RELEASE_DATE)return(0,i.jsx)(h,{className:t,circle:(0,i.jsx)(_,{IconComponent:l.CalendarIcon}),smallHeader:d.Z.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,o.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.RELEASE_DATE)return(0,i.jsx)(h,{className:t,circle:(0,i.jsx)(_,{IconComponent:l.CalendarIcon}),smallHeader:d.Z.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,o.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.EARLY_ACCESS)return null!=e.releaseDate?(0,i.jsx)(h,{className:t,circle:(0,i.jsx)(_,{IconComponent:l.LockUnlockedIcon,className:u.earlyAccess}),smallHeader:d.Z.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,o.vc)(e.releaseDate,"LL")}):(0,i.jsx)(h,{className:t,circle:(0,i.jsx)(_,{IconComponent:l.LockUnlockedIcon,className:u.earlyAccess}),text:d.Z.Messages.APPLICATION_STORE_EARLY_ACCESS});return e.type===c.AzA.FLAVOR_TEXT?(0,i.jsx)(h,{circle:(0,i.jsx)(_,{IconComponent:l.CheckmarkLargeIcon}),text:e.flavorText,className:t}):e.type===c.AzA.HAS_FREE_PREMIUM_CONTENT?(0,i.jsx)(h,{className:t,circle:(0,i.jsx)(_,{IconComponent:l.NitroWheelIcon,className:u.premiumCircle}),text:d.Z.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null}}},610001:function(e,t,n){n(47120);var i,s=n(735250),a=n(470079),r=n(120356),l=n.n(r),o=n(873546),c=n(481060),d=n(1964),u=n(63063),_=n(285952),h=n(672705),E=n(981631),I=n(689938),m=n(777458),g=n(549856);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=u.Z.getArticleURL(E.BhN.VERIFICATION_FAQ);class S extends(i=a.PureComponent){renderFields(){let{types:e,captchaKey:t,theme:n,onCaptchaVerify:i}=this.props;return(0,s.jsx)(s.Fragment,{children:e.map(e=>e===E.PUi.CAPTCHA?(0,s.jsx)(h.Z,{onVerify:i,theme:n},t):(0,s.jsx)(c.Button,{className:l()(g.marginBottom20),onClick:()=>this.handleClick(e),children:d.Z.getButtonTitle(e)},e))})}render(){return(0,s.jsxs)(_.Z,{className:m.verification,align:_.Z.Align.CENTER,direction:_.Z.Direction.VERTICAL,children:[(0,s.jsxs)(_.Z,{className:l()(m.container,{[m.isMobile]:o.tq}),direction:_.Z.Direction.VERTICAL,align:_.Z.Align.CENTER,justify:_.Z.Justify.CENTER,children:[(0,s.jsx)("div",{className:m.image}),(0,s.jsx)("div",{className:l()(m.title,g.marginTop20),children:I.Z.Messages.VERIFICATION_TITLE}),(0,s.jsx)("div",{className:l()(m.body,g.marginTop4,g.marginBottom20),children:I.Z.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:T})}),(0,s.jsx)(_.Z,{grow:0,direction:_.Z.Direction.VERTICAL,justify:_.Z.Justify.CENTER,children:this.renderFields()})]}),(0,s.jsx)("div",{className:l()(m.footer,g.marginTop20),children:I.Z.Messages.VERIFICATION_FOOTER}),(0,s.jsxs)(_.Z,{className:l()(g.marginTop4,g.marginBottom20),grow:0,children:[(0,s.jsx)("div",{className:l()(m.footer,m.footerAction),children:I.Z.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:u.Z.getSubmitRequestURL()})}),(0,s.jsx)("div",{className:l()(m.footer,m.footerBullet),children:""}),(0,s.jsx)("div",{className:l()(m.footer,m.footerAction),children:I.Z.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout})})]})]})}constructor(...e){super(...e),p(this,"handleClick",e=>{let{onClick:t}=this.props;null==t||t(e)})}}p(S,"defaultProps",{types:[E.PUi.CAPTCHA],onCaptchaVerify:E.dG4,onLogout:E.dG4}),t.Z=S},517802:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(325767);function a(e){let{width:t=24,height:n=24,color:a="currentColor",foreground:r,...l}=e;return(0,i.jsxs)("svg",{...(0,s.Z)(l),width:t,height:n,viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsxs)("g",{className:r,fill:a,clipPath:"url(#a)",children:[(0,i.jsx)("path",{d:"M14.8377 9.86956a2.79875 2.79875 0 0 1 1.9166.70444 2.7981 2.7981 0 0 1 .9278 1.8188.59587.59587 0 0 1 .0459.2753v9.4968H4.51517v-8.2581l9.17563-3.8078a3.2101 3.2101 0 0 1 1.1469-.22944Zm0-1.83512a5.23024 5.23024 0 0 0-1.8351.36703L3.27647 12.4387a.96346.96346 0 0 0-.59641.9176v9.6344c0 .2676.10633.5244.29562.7137.18928.1892.446.2956.71369.2956H19.5631V12.6681c0-.1376-.0458-.2753-.0458-.4129-.1041-1.164-.644-2.2457-1.5118-3.02835a4.63378 4.63378 0 0 0-3.1678-1.19241Z"}),(0,i.jsx)("path",{d:"M19.563 24c.4889-.0735.9351-.32 1.2577-.6946a2.06455 2.06455 0 0 0 0-2.6939 2.06443 2.06443 0 0 0-1.2577-.6946M10.6797 3.3208c0-.6889.8077-2.32504 1.2308-3.1431.0266-.05384.0656-.09872.1129-.12997C12.0708.01648 12.1247 0 12.1797 0c.0549 0 .1089.01648.1563.04773.0473.03125.0863.07613.1129.12996.4616.81807 1.2308 2.45421 1.2308 3.14311 0 .44535-.158.87246-.4394 1.18737C12.959 4.82308 12.5775 5 12.1797 5c-.3978 0-.7794-.17692-1.0607-.49183s-.4393-.74202-.4393-1.18737Z"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M12.1797 6.16742c.8284 0 1.5.67157 1.5 1.5V11.2c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5V7.66742c0-.82843.6716-1.5 1.5-1.5Z",clipRule:"evenodd"}),(0,i.jsx)("path",{d:"M4.51529 13.2187c-.4867 0-.95347.1933-1.29762.5375a1.83498 1.83498 0 0 0-.53749 1.2976v7.9369A1.0093 1.0093 0 0 0 3.68949 24H19.5633V13.2187H4.51529Zm9.17561 8.258H4.79056v-2.0645h8.90034c.2607.021.5054.134.6903.319.185.1849.298.4296.319.6903.0062.1364-.0153.2726-.0632.4004-.048.1278-.1213.2445-.2157.3432a1.0077 1.0077 0 0 1-.3333.2306 1.00732 1.00732 0 0 1-.3971.081Zm0-4.0372H4.79056V15.375h8.90034a.96291.96291 0 0 1 .377.0899.96339.96339 0 0 1 .3112.2312c.1083.0878.194.2002.2499.3279.0558.1278.0803.267.0712.4061 0 .2677-.1063.5245-.2956.7137-.1893.1893-.446.2957-.7137.2957Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"a",children:(0,i.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]})}},863969:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(325767);function a(e){let{width:t=24,height:n=24,color:a="currentColor",foreground:r,...l}=e;return(0,i.jsx)("svg",{...(0,s.Z)(l),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:r,fill:a,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},563593:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(735250);n(470079);var s=n(886364),a=n(325767);function r(e){return"CloudDone-".concat(e)}function l(e){let{width:t=24,height:n=24,color:l="currentColor",foreground:o,gradientConfig:c,...d}=e,u=null;return null!=c&&(u=(0,i.jsx)(s.Z,{...c,color:l,id:r(c.id)})),(0,i.jsxs)("svg",{...(0,a.Z)(d),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:u}),(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{fill:null!=c?"url(#".concat(r(c.id),")"):l,className:o,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]})}},886364:function(e,t,n){var i=n(735250);n(470079);t.Z=e=>{let{id:t,startColor:n,stopColor:s,color:a,stop:r}=e;return(0,i.jsxs)("linearGradient",{id:t,children:[(0,i.jsx)("stop",{offset:"0",stopColor:n}),(0,i.jsx)("stop",{offset:r,stopColor:s}),(0,i.jsx)("stop",{offset:r,stopColor:a}),(0,i.jsx)("stop",{offset:"1",stopColor:a})]})}},662868:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(325767);function a(e){let{width:t=32,height:n=32,color:a="currentColor",...r}=e;return(0,i.jsx)("svg",{...(0,s.Z)(r),width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:a})})}},39377:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(325767);function a(e){let{width:t=24,height:n=24,color:a="currentColor",foreground:r,...l}=e;return(0,i.jsx)("svg",{...(0,s.Z)(l),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:r,fill:a,d:"M22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-.8 0h-3.4v-.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V4zm-2.28 8c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},820254:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(735250);n(470079);var s=n(325767);function a(e){let{width:t=14,height:n=14,color:a="currentColor",foreground:r,...l}=e;return(0,i.jsx)("svg",{...(0,s.Z)(l),width:t,height:n,viewBox:"0 0 14 14",children:(0,i.jsx)("path",{fill:a,className:r,d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})})}},643126:function(e,t,n){n(47120);var i=n(735250),s=n(470079),a=n(120356),r=n.n(a),l=n(512722),o=n.n(l),c=n(481060),d=n(100527),u=n(484459),_=n(103575),h=n(285952),E=n(409216),I=n(63063),m=n(976401),g=n(333454),p=n(864441),T=n(981631),S=n(689938),C=n(235940);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let N={HOST:5,LISTENER:4};class A extends s.PureComponent{isHost(){let{currentUser:e,host:t}=this.props;return e.id===(null==t?void 0:t.id)}renderTitle(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(p.Z,{children:this.isHost()?S.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):S.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER}),(0,i.jsx)(g.Z,{children:S.Z.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER})]})}renderStopListeningButton(){let{onStopListening:e}=this.props;return this.isHost()?null:(0,i.jsx)(m.Z,{tooltipText:S.Z.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:c.CloseSmallIcon})}renderHelpIcon(){return this.isHost()?(0,i.jsx)(m.Z,{tooltipText:S.Z.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:()=>{window.open(I.Z.getArticleURL(T.BhN.SPOTIFY_CONNECTION),"_blank")},icon:c.CircleInformationIcon}):null}render(){return(0,i.jsxs)("div",{className:C.listeningAlong,children:[this.renderTitle(),(0,i.jsx)(h.Z,{justify:h.Z.Justify.END,className:C.party,children:(0,i.jsx)(E.Z,{users:this.props.party,max:this.isHost()?N.HOST:N.LISTENER,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,i.jsxs)("div",{className:C.icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}constructor(...e){super(...e),f(this,"renderPartyMember",(e,t)=>{let n;if(null==e)return null;let{host:a,onUserContextMenu:l}=this.props;return n=(null==a?void 0:a.id)===e.id?S.Z.Messages.SPOTIFY_LISTEN_ALONG_HOST:S.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENER,(0,i.jsx)(c.Popout,{preload:()=>(0,u.W)(e.id,e.getAvatarURL(void 0,80)),renderPopout:t=>(o()(null!=e,""),(0,i.jsx)(_.Z,{...t,location:"ListeningAlong",userId:e.id,newAnalyticsLocations:[d.Z.AVATAR]})),position:"top",align:"center",children:a=>(0,i.jsx)(c.Tooltip,{text:n,children:n=>{let{onMouseEnter:i,onMouseLeave:o}=n;return(0,s.createElement)(c.Avatar,{...a,key:e.id,src:e.getAvatarURL(void 0,24),size:c.AvatarSizes.SIZE_24,className:r()(C.avatar,t),"aria-label":e.username,onMouseEnter:i,onMouseLeave:o,onContextMenu:t=>void(null!=e&&(null==l||l(t,e)))})}})},e.id)}),f(this,"renderPartyMemberOverflow",(e,t,n)=>{let{renderOverflowPopout:s}=this.props;return(0,i.jsx)(c.Popout,{renderPopout:s,children:n=>(0,i.jsx)(c.Tooltip,{text:S.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS,children:s=>(0,i.jsx)("div",{className:r()(C.overflow,t),...s,...n,children:e})})},n)})}}t.Z=A},205129:function(e,t,n){n.d(t,{y:function(){return a}});var i=n(603113),s=n(122810);function a(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(e=>{let{activity:t}=e;return(0,s.Z)(t)}),game_platform:e.currentActivities.length>0?(0,i.Z)(e.currentActivities[0].activity):null}}},63023:function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return s}}),n(653041);class s{_processQueue(){setTimeout(()=>{if(this._queue.length>0&&this._tokenCount>0){this._tokenCount--,null==this._intervalID&&(this._intervalID=setInterval(()=>this._iterate(),this._intervalPeriod));let e=this._queue.shift();null==e||e(),this._processQueue()}},0)}_iterate(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1),this._tokenCount>=this._capacity&&null!=this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null),this._processQueue()}process(){return new Promise(e=>{this._queue.push(e),this._processQueue()})}constructor(e,t){i(this,"_capacity",void 0),i(this,"_tokenCount",void 0),i(this,"_queue",void 0),i(this,"_intervalPeriod",void 0),i(this,"_intervalID",void 0),this._capacity=e,this._tokenCount=e,this._queue=[],this._intervalPeriod=t/e,this._intervalID=null}}},740111:function(e,t,n){n.d(t,{Wc:function(){return i},xY:function(){return p}}),n(47120),n(411104),n(653041);var i,s,a=n(230367),r=n(320215),l=n(240773),o=n(495852);(s=i||(i={}))[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.OPEN_MARKETING_PAGE=1]="OPEN_MARKETING_PAGE",s[s.OPEN_TIER_2_PAYMENT_MODAL=2]="OPEN_TIER_2_PAYMENT_MODAL";class c extends o.C{create(e){let t={header:"",pill:"",body:"",imageLink:"",imageLinkLightTheme:""};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let s=null!=i?i:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,i]=e.tag();switch(t){case 1:s.header=e.string();break;case 2:s.pill=e.string();break;case 3:s.body=e.string();break;case 4:s.imageLink=e.string();break;case 5:s.imageLinkLightTheme=e.string();break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let l=e.skip(i);!1!==r&&(!0===r?a.z.onRead:r)(this.typeName,s,t,i,l)}}return s}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,a.TD.LengthDelimited).string(e.header),""!==e.pill&&t.tag(2,a.TD.LengthDelimited).string(e.pill),""!==e.body&&t.tag(3,a.TD.LengthDelimited).string(e.body),""!==e.imageLink&&t.tag(4,a.TD.LengthDelimited).string(e.imageLink),""!==e.imageLinkLightTheme&&t.tag(5,a.TD.LengthDelimited).string(e.imageLinkLightTheme);let i=n.writeUnknownFields;return!1!==i&&(!0==i?a.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.FeatureCard",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"pill",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"image_link",kind:"scalar",T:9},{no:5,name:"image_link_light_theme",kind:"scalar",T:9}])}}let d=new c;class u extends o.C{create(e){let t={copy:"",buttonAction:0};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let s=null!=i?i:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,i]=e.tag();switch(t){case 1:s.copy=e.string();break;case 2:s.buttonAction=e.int32();break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let l=e.skip(i);!1!==r&&(!0===r?a.z.onRead:r)(this.typeName,s,t,i,l)}}return s}internalBinaryWrite(e,t,n){""!==e.copy&&t.tag(1,a.TD.LengthDelimited).string(e.copy),0!==e.buttonAction&&t.tag(2,a.TD.Varint).int32(e.buttonAction);let i=n.writeUnknownFields;return!1!==i&&(!0==i?a.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.SubscriptionButton",[{no:1,name:"copy",kind:"scalar",T:9},{no:2,name:"button_action",kind:"enum",T:()=>["discord_protos.premium_marketing.v1.ButtonAction",i,"BUTTON_ACTION_"]}])}}let _=new u;class h extends o.C{create(e){let t={heroArtLocalizedVideoLinksDarkTheme:{},heroArtLocalizedVideoLinksLightTheme:{},heroArtVideoSubtitleLinks:{}};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let s=null!=i?i:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,i]=e.tag();switch(t){case 1:this.binaryReadMap1(s.heroArtLocalizedVideoLinksDarkTheme,e,n);break;case 2:this.binaryReadMap2(s.heroArtLocalizedVideoLinksLightTheme,e,n);break;case 3:this.binaryReadMap3(s.heroArtVideoSubtitleLinks,e,n);break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let l=e.skip(i);!1!==r&&(!0===r?a.z.onRead:r)(this.typeName,s,t,i,l)}}return s}binaryReadMap1(e,t,n){let i=t.uint32(),s=t.pos+i,a,r;for(;t.pos<s;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:r=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_dark_theme")}}e[null!=a?a:""]=null!=r?r:""}binaryReadMap2(e,t,n){let i=t.uint32(),s=t.pos+i,a,r;for(;t.pos<s;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:r=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_light_theme")}}e[null!=a?a:""]=null!=r?r:""}binaryReadMap3(e,t,n){let i=t.uint32(),s=t.pos+i,a,r;for(;t.pos<s;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:r=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_video_subtitle_links")}}e[null!=a?a:""]=null!=r?r:""}internalBinaryWrite(e,t,n){for(let n of Object.keys(e.heroArtLocalizedVideoLinksDarkTheme))t.tag(1,a.TD.LengthDelimited).fork().tag(1,a.TD.LengthDelimited).string(n).tag(2,a.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksDarkTheme[n]).join();for(let n of Object.keys(e.heroArtLocalizedVideoLinksLightTheme))t.tag(2,a.TD.LengthDelimited).fork().tag(1,a.TD.LengthDelimited).string(n).tag(2,a.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksLightTheme[n]).join();for(let n of Object.keys(e.heroArtVideoSubtitleLinks))t.tag(3,a.TD.LengthDelimited).fork().tag(1,a.TD.LengthDelimited).string(n).tag(2,a.TD.LengthDelimited).string(e.heroArtVideoSubtitleLinks[n]).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?a.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Variant1Storage",[{no:1,name:"hero_art_localized_video_links_dark_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"hero_art_localized_video_links_light_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"hero_art_video_subtitle_links",kind:"map",K:9,V:{kind:"scalar",T:9}}])}}let E=new h;class I extends o.C{create(e){let t={link:"",locale:"",isDefault:!1};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let s=null!=i?i:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,i]=e.tag();switch(t){case 1:s.link=e.string();break;case 2:s.locale=e.string();break;case 3:s.isDefault=e.bool();break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let l=e.skip(i);!1!==r&&(!0===r?a.z.onRead:r)(this.typeName,s,t,i,l)}}return s}internalBinaryWrite(e,t,n){""!==e.link&&t.tag(1,a.TD.LengthDelimited).string(e.link),""!==e.locale&&t.tag(2,a.TD.LengthDelimited).string(e.locale),!1!==e.isDefault&&t.tag(3,a.TD.Varint).bool(e.isDefault);let i=n.writeUnknownFields;return!1!==i&&(!0==i?a.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Subtitle",[{no:1,name:"link",kind:"scalar",T:9},{no:2,name:"locale",kind:"scalar",T:9},{no:3,name:"is_default",kind:"scalar",T:8}])}}let m=new I;class g extends o.C{create(e){let t={header:"",subheader:"",videoLink:"",helpArticleId:"",featureCards:[],dismissKey:"",heroArtVideoLinkLightTheme:"",heroArtImageLinkDarkTheme:"",heroArtImageLinkLightTheme:"",modalTopPill:"",body:"",heroArtVideoSubtitles:[]};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let s=null!=i?i:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,i]=e.tag();switch(t){case 1:s.header=e.string();break;case 2:s.subheader=e.string();break;case 3:s.videoLink=e.string();break;case 4:s.helpArticleId=e.string();break;case 5:s.featureCards.push(d.internalBinaryRead(e,e.uint32(),n));break;case 6:s.button=_.internalBinaryRead(e,e.uint32(),n,s.button);break;case 7:s.dismissKey=e.string();break;case 8:s.heroArtVideoLinkLightTheme=e.string();break;case 9:s.heroArtImageLinkDarkTheme=e.string();break;case 10:s.heroArtImageLinkLightTheme=e.string();break;case 11:s.modalTopPill=e.string();break;case 12:s.body=e.string();break;case 13:s.heroArtVideoSubtitles.push(m.internalBinaryRead(e,e.uint32(),n));break;case 14:s.storage=E.internalBinaryRead(e,e.uint32(),n,s.storage);break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let l=e.skip(i);!1!==r&&(!0===r?a.z.onRead:r)(this.typeName,s,t,i,l)}}return s}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,a.TD.LengthDelimited).string(e.header),""!==e.subheader&&t.tag(2,a.TD.LengthDelimited).string(e.subheader),""!==e.videoLink&&t.tag(3,a.TD.LengthDelimited).string(e.videoLink),""!==e.helpArticleId&&t.tag(4,a.TD.LengthDelimited).string(e.helpArticleId);for(let i=0;i<e.featureCards.length;i++)d.internalBinaryWrite(e.featureCards[i],t.tag(5,a.TD.LengthDelimited).fork(),n).join();e.button&&_.internalBinaryWrite(e.button,t.tag(6,a.TD.LengthDelimited).fork(),n).join(),""!==e.dismissKey&&t.tag(7,a.TD.LengthDelimited).string(e.dismissKey),""!==e.heroArtVideoLinkLightTheme&&t.tag(8,a.TD.LengthDelimited).string(e.heroArtVideoLinkLightTheme),""!==e.heroArtImageLinkDarkTheme&&t.tag(9,a.TD.LengthDelimited).string(e.heroArtImageLinkDarkTheme),""!==e.heroArtImageLinkLightTheme&&t.tag(10,a.TD.LengthDelimited).string(e.heroArtImageLinkLightTheme),""!==e.modalTopPill&&t.tag(11,a.TD.LengthDelimited).string(e.modalTopPill),""!==e.body&&t.tag(12,a.TD.LengthDelimited).string(e.body);for(let i=0;i<e.heroArtVideoSubtitles.length;i++)m.internalBinaryWrite(e.heroArtVideoSubtitles[i],t.tag(13,a.TD.LengthDelimited).fork(),n).join();e.storage&&E.internalBinaryWrite(e.storage,t.tag(14,a.TD.LengthDelimited).fork(),n).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?a.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.AnnouncementModalVariant1Properties",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"subheader",kind:"scalar",T:9},{no:3,name:"video_link",kind:"scalar",T:9},{no:4,name:"help_article_id",kind:"scalar",T:9},{no:5,name:"feature_cards",kind:"message",repeat:1,T:()=>d},{no:6,name:"button",kind:"message",T:()=>_},{no:7,name:"dismiss_key",kind:"scalar",T:9},{no:8,name:"hero_art_video_link_light_theme",kind:"scalar",T:9},{no:9,name:"hero_art_image_link_dark_theme",kind:"scalar",T:9},{no:10,name:"hero_art_image_link_light_theme",kind:"scalar",T:9},{no:11,name:"modal_top_pill",kind:"scalar",T:9},{no:12,name:"body",kind:"scalar",T:9},{no:13,name:"hero_art_video_subtitles",kind:"message",repeat:1,T:()=>m},{no:14,name:"storage",kind:"message",T:()=>E}])}}let p=new g},8853:function(e,t,n){n.d(t,{t:function(){return c}}),n(47120),n(411104);var i=n(230367),s=n(320215),a=n(240773),r=n(495852),l=n(740111);class o extends r.C{create(e){let t={properties:{oneofKind:void 0},contentIdentifier:""};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,s.l)(this,t,e),t}internalBinaryRead(e,t,n,s){let a=null!=s?s:this.create(),r=e.pos+t;for(;e.pos<r;){let[t,s]=e.tag();switch(t){case 1:a.properties={oneofKind:"placeholder",placeholder:e.string()};break;case 2:a.properties={oneofKind:"announcementModalVariant1",announcementModalVariant1:l.xY.internalBinaryRead(e,e.uint32(),n,a.properties.announcementModalVariant1)};break;case 3:a.contentIdentifier=e.string();break;default:let r=n.readUnknownField;if("throw"===r)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(s,") for ").concat(this.typeName));let o=e.skip(s);!1!==r&&(!0===r?i.z.onRead:r)(this.typeName,a,t,s,o)}}return a}internalBinaryWrite(e,t,n){"placeholder"===e.properties.oneofKind&&t.tag(1,i.TD.LengthDelimited).string(e.properties.placeholder),"announcementModalVariant1"===e.properties.oneofKind&&l.xY.internalBinaryWrite(e.properties.announcementModalVariant1,t.tag(2,i.TD.LengthDelimited).fork(),n).join(),""!==e.contentIdentifier&&t.tag(3,i.TD.LengthDelimited).string(e.contentIdentifier);let s=n.writeUnknownFields;return!1!==s&&(!0==s?i.z.onWrite:s)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.PremiumMarketingComponentProperties",[{no:1,name:"placeholder",kind:"scalar",oneof:"properties",T:9},{no:2,name:"announcement_modal_variant_1",kind:"message",oneof:"properties",T:()=>l.xY},{no:3,name:"content_identifier",kind:"scalar",T:9}])}}let c=new o},137006:function(e,t,n){n.d(t,{m:function(){return a}}),n(47120);var i=n(243814),s=n(103964);let a={[s.Q5.INITIATE_IMAGE_UPLOAD]:{request:void 0,response:e=>e.object({image_url:e.string().required()})},[s.Q5.OPEN_SHARE_MOMENT_DIALOG]:{response:void 0,request:e=>(0,s.C5)(e.object({mediaUrl:e.string().required().max(1024)}))},[s.Q5.AUTHENTICATE]:{request:e=>(0,s.C5)(e.object({access_token:e.string().allow(null).optional()})),response:e=>e.object({access_token:e.string().required(),user:e.object({username:e.string().required(),discriminator:e.string().required(),id:e.string().required(),avatar:e.string().allow(null),public_flags:e.number().required(),global_name:e.string().allow(null)}).required(),scopes:e.array().items(e.string().valid(...(0,s.no)(i.x))).required(),expires:e.string().required(),application:e.object({description:e.string().required(),icon:e.string().allow(null),id:e.string().required(),rpc_origins:e.array().items(e.string()).optional(),name:e.string().required()}).required()})},[s.Q5.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:void 0,response:e=>e.object({participants:e.array().items(r(e).keys({nickname:e.string().description("Server nickname. Not unique.")}).required()).required()}).required()}},r=e=>e.object({id:e.string().required().description("User ID"),username:e.string().required(),global_name:e.string().allow(null).description("Global Discord name. Not unique."),discriminator:e.string().required().description("Global name discriminator. Will be 0 if a unique username"),avatar:e.string().allow(null).description("User Avatar ID"),flags:e.number().required().description("Public user flags"),bot:e.bool().required().description("If a bot user."),avatar_decoration_data:e.object({asset:e.string().required(),skuId:e.string()}).allow(null).description("Details about avatar decoration"),premium_type:e.number().allow(null).description("Nitro premium type")}).description("Discord User")},103964:function(e,t,n){n.d(t,{C5:function(){return s},Q5:function(){return i.Et},no:function(){return a}});var i=n(231338);function s(e){return e.required().unknown(!0)}function a(e){return Object.values(e)}},45792:function(e,t,n){n.d(t,{S:function(){return s}});var i=n(137006);function s(e,t){var n;let{scope:s,handler:a}=t,r={scope:s,handler:a},l=null===(n=i.m[e])||void 0===n?void 0:n.request,o=null;return null!=l&&(r.validation=function(e){return null==o&&(o=l(e)),o}),r}},948789:function(e,t,n){let i;n.d(t,{fQ:function(){return c},uL:function(){return o}}),n(653041),n(757143);var s=n(438361),a=n.n(s),r=n(33382),l=n.n(r);function o(e){i.push(e)}function c(e){return t=>{if(null!=e)return null!=l()(t,{end:!1}).exec(e.history.location.pathname)}}i=a()()},527915:function(e,t,n){e.exports={addFriendInputWrapper:"addFriendInputWrapper_de812f",error:"error_de812f",success:"success_de812f",addFriendInput:"addFriendInput_de812f inputText_de812f",input:"input_de812f inputText_de812f",addFriendHint:"addFriendHint_de812f inputText_de812f",ring:"ring_de812f"}},171200:function(e,t,n){e.exports={container:"container_a4d4d9",guilds:"guilds_a4d4d9",base:"base_a4d4d9",sidebar:"sidebar_a4d4d9",hidden:"hidden_a4d4d9",hasNotice:"hasNotice_a4d4d9",fullWidth:"fullWidth_a4d4d9",panels:"panels_a4d4d9",content:"content_a4d4d9",activityPanel:"activityPanel_a4d4d9",loader:"loader_a4d4d9"}},906515:function(e,t,n){e.exports={devBanner:"devBanner_f32cbd",local:"local_f32cbd",staging:"staging_f32cbd",buildOverride:"buildOverride_f32cbd",icon:"icon_f32cbd",closeButton:"closeButton_f32cbd",closeIcon:"closeIcon_f32cbd"}},406955:function(e,t,n){e.exports={downloadProgressCircle:"downloadProgressCircle_f0963d",hideGameUpdateProgressIndicator:"hideGameUpdateProgressIndicator_f0963d",privateChannels:"privateChannels_f0963d",searchBar:"searchBar_f0963d",searchBarComponent:"searchBarComponent_f0963d",activitiesBirthdayIcon:"activitiesBirthdayIcon_f0963d",activitiesBirthdayIconLight:"activitiesBirthdayIconLight_f0963d",familyCenterLinkButton:"familyCenterLinkButton_f0963d",familyCenterPendingBadge:"familyCenterPendingBadge_f0963d",broadcastingBadge:"broadcastingBadge_f0963d",broadcastingIcon:"broadcastingIcon_f0963d",themedHeaderMobile:"themedHeaderMobile_f0963d",themedSearchBarMobile:"themedSearchBarMobile_f0963d"}},567698:function(e,t,n){e.exports={item:"item_b60f40",currentItem:"currentItem_b60f40",itemImage:"itemImage_b60f40",currentImage:"currentImage_b60f40 itemImage_b60f40",itemImageWrapper:"itemImageWrapper_b60f40",paginationItem:"paginationItem_b60f40",storePaginationImg:"storePaginationImg_b60f40",selectedStorePaginationItem:"selectedStorePaginationItem_b60f40",unselectedStorePaginationItem:"unselectedStorePaginationItem_b60f40",overlappingBorder:"overlappingBorder_b60f40",paginationVideoOverlay:"paginationVideoOverlay_b60f40",paginationVideoPlayPill:"paginationVideoPlayPill_b60f40",pagination:"pagination_b60f40",carouselButtonsContainer:"carouselButtonsContainer_b60f40",arrow:"arrow_b60f40",arrowHovered:"arrowHovered_b60f40",scroller:"scroller_b60f40",video:"video_b60f40",videoWrapper:"videoWrapper_b60f40",mediaPlayer:"mediaPlayer_b60f40"}},903463:function(e,t,n){e.exports={wrapper:"wrapper_b6f1f8",slide:"slide_b6f1f8",navPrev:"navPrev_b6f1f8 nav_b6f1f8",navNext:"navNext_b6f1f8 nav_b6f1f8"}},783104:function(e,t,n){e.exports={divider:"divider_b8ab18"}},493506:function(e,t,n){e.exports={libraryFilter:"libraryFilter_e0264e",focused:"focused_e0264e",searchBar:"searchBar_e0264e"}},903375:function(e,t,n){e.exports={libraryHeader:"libraryHeader_cb9493"}},136853:function(e,t,n){e.exports={container:"container_a94980"}},489927:function(e,t,n){e.exports={wrapper:"wrapper_d037ef",installationPath:"installationPath_d037ef",installationPathEditing:"installationPathEditing_d037ef",separator:"separator_d037ef",defaultIndicator:"defaultIndicator_d037ef",rowBody:"rowBody_d037ef",buttonRowWrapper:"buttonRowWrapper_d037ef",defaultLocationCheckbox:"defaultLocationCheckbox_d037ef",rowTitle:"rowTitle_d037ef"}},668840:function(e,t,n){e.exports={container:"container_ad8f79",scroller:"scroller_ad8f79"}},351634:function(e,t,n){e.exports={scroller:"scroller_c100ff",body:"body_c100ff",hiddenLibraryApplications:"hiddenLibraryApplications_c100ff",hiddenLibraryApplicationContent:"hiddenLibraryApplicationContent_c100ff",hiddenLibraryApplicationsTitle:"hiddenLibraryApplicationsTitle_c100ff",hiddenLibraryApplication:"hiddenLibraryApplication_c100ff "+n("735194").card,restoreButton:"restoreButton_c100ff",restoreIcon:"restoreIcon_c100ff",applicationName:"applicationName_c100ff",applicationSubText:"applicationSubText_c100ff"}},895220:function(e,t,n){e.exports={table:"table_f1629a",header:"header_f1629a",nameCell:"nameCell_f1629a",nameCellText:"nameCellText_f1629a",nitroIcon:"nitroIcon_f1629a icon_f1629a",platformCell:"platformCell_f1629a",lastPlayedCell:"lastPlayedCell_f1629a",actionsCell:"actionsCell_f1629a",stickyHeader:"stickyHeader_f1629a header_f1629a",headerCell:"headerCell_f1629a",headerCellSorted:"headerCellSorted_f1629a",rowWrapper:"rowWrapper_f1629a",row:"row_f1629a",rowWrapperActive:"rowWrapperActive_f1629a rowWrapper_f1629a",rowWrapperGlow:"rowWrapperGlow_f1629a rowWrapper_f1629a",bodyCell:"bodyCell_f1629a",textCell:"textCell_f1629a",nameBodyCell:"nameBodyCell_f1629a",nameCellInfo:"nameCellInfo_f1629a",lastPlayedCellNew:"lastPlayedCellNew_f1629a",gameIcon:"gameIcon_f1629a",actionButtonSize:"actionButtonSize_f1629a",hidden:"hidden_f1629a",settingIcons:"settingIcons_f1629a",settingIcon:"settingIcon_f1629a icon_f1629a",emptyStateText:"emptyStateText_f1629a",emptyStateHeader:"emptyStateHeader_f1629a",emptyStateDescription:"emptyStateDescription_f1629a",emptyWumpus:"emptyWumpus_f1629a",emptyStateLarge:"emptyStateLarge_f1629a emptyState_f1629a",emptyStateSmall:"emptyStateSmall_f1629a emptyState_f1629a",rowWrapperDim:"rowWrapperDim_f1629a"}},359483:function(e,t,n){e.exports={monitor:"monitor_bf664b",overflowContainer:"overflowContainer_bf664b",text:"text_bf664b",title:"title_bf664b",rate:"rate_bf664b",sparkChart:"sparkChart_bf664b"}},350062:function(e,t,n){e.exports={table:"table_f1035a",gameUpdates:"gameUpdates_f1035a",headerRow:"headerRow_f1035a",headerCell:"headerCell_f1035a",diskProgress:"diskProgress_f1035a",networkProgress:"networkProgress_f1035a",row:"row_f1035a",cell:"cell_f1035a",nameCell:"nameCell_f1035a",progressCell:"progressCell_f1035a",actionsCell:"actionsCell_f1035a",nameCellText:"nameCellText_f1035a",progressCellHeader:"progressCellHeader_f1035a",progressCellBody:"progressCellBody_f1035a",progressCellText:"progressCellText_f1035a",actionButton:"actionButton_f1035a",actionButtonContents:"actionButtonContents_f1035a",gameActionButton:"gameActionButton_f1035a",actionIcon:"actionIcon_f1035a"}},963087:function(e,t,n){e.exports={content:"content_ecfdf4",rating:"rating_ecfdf4"}},568657:function(e,t,n){e.exports={collapsed:"collapsed_e2ea95",blurb:"blurb_e2ea95",description:"description_e2ea95",toggleCollapseButton:"toggleCollapseButton_e2ea95",assetWrapper:"assetWrapper_e2ea95",asset:"asset_e2ea95"}},600163:function(e,t,n){e.exports={features:"features_b4ece4",row:"row_b4ece4",featureIcon:"featureIcon_b4ece4",checkmarkIcon:"checkmarkIcon_b4ece4",featureText:"featureText_b4ece4"}},550808:function(e,t,n){e.exports={content:"content_be5438"}},287644:function(e,t,n){e.exports={recommendationActivity:"recommendationActivity_a94968",players:"players_a94968",playerAvatar:"playerAvatar_a94968",avatarMasked:"avatarMasked_a94968",playerOverflow:"playerOverflow_a94968",description:"description_a94968",username:"username_a94968",tooltip:"tooltip_a94968",tooltipTimestamp:"tooltipTimestamp_a94968"}},390826:function(e,t,n){e.exports={header:"header_d11817",staffReviewHeader:"staffReviewHeader_d11817",headerText:"headerText_d11817",label:"label_d11817",username:"username_d11817",notes:"notes_d11817"}},256964:function(e,t,n){e.exports={applicationStore:"applicationStore_cecc86",marketingHeader:"marketingHeader_cecc86",marketingFooter:"marketingFooter_cecc86"}},314974:function(e,t,n){e.exports={headerBar:"headerBar_d175a8",spinner:"spinner_d175a8",homeWrapperNormal:"homeWrapperNormal_d175a8 homeWrapper_d175a8"}},261343:function(e,t,n){e.exports={listingWrapper:"listingWrapper_d6180d",noHeaderSpacer:"noHeaderSpacer_d6180d",headerAssets:"headerAssets_d6180d",headerBackground:"headerBackground_d6180d",headerLogo:"headerLogo_d6180d",link:"link_d6180d",linkIcon:"linkIcon_d6180d",spinner:"spinner_d6180d",listing:"listing_d6180d",gatedListing:"gatedListing_d6180d",description:"description_d6180d",whyYouMightLikeIt:"whyYouMightLikeIt_d6180d",guildInvite:"guildInvite_d6180d",contentRating:"contentRating_d6180d",legalInfo:"legalInfo_d6180d",systemRequirements:"systemRequirements_d6180d",headerBarListing:"headerBarListing_d6180d",headerSection:"headerSection_d6180d",headerPurchase:"headerPurchase_d6180d",active:"active_d6180d",testModeSelectButton:"testModeSelectButton_d6180d",listingLarge:"listingLarge_d6180d",body:"body_d6180d",leftColumn:"leftColumn_d6180d",rightColumn:"rightColumn_d6180d",listingSmall:"listingSmall_d6180d",purchaseError:"purchaseError_d6180d"}},871726:function(e,t,n){e.exports={matureListing:"matureListing_f610a5"}},670257:function(e,t,n){e.exports={root:"root_aef182",header:"header_aef182",section:"section_aef182",sectionContent:"sectionContent_aef182",unit:"unit_aef182",review:"review_aef182"}},287809:function(e,t,n){e.exports={breadcrumb:"breadcrumb_dacdd0"}},99764:function(e,t,n){e.exports={smallCarousel:"smallCarousel_b0360e",smallCarouselItem:"smallCarouselItem_b0360e",smallCarouselImage:"smallCarouselImage_b0360e",embedContainer:"embedContainer_b0360e",hidden:"hidden_b0360e",spinner:"spinner_b0360e",errorContainer:"errorContainer_b0360e",sizedToParent:"sizedToParent_b0360e"}},601416:function(e,t,n){e.exports={tabs:"tabs_f566d4",separator:"separator_f566d4",tabPageLarge:"tabPageLarge_f566d4 tab_f566d4",tabPageSmall:"tabPageSmall_f566d4 tab_f566d4",tabNotSelected:"tabNotSelected_f566d4",requirementsContainer:"requirementsContainer_f566d4",requirements:"requirements_f566d4",requirement:"requirement_f566d4",requirementKey:"requirementKey_f566d4",tabNotSelectedColor:"tabNotSelectedColor_f566d4",tabSelectedColor:"tabSelectedColor_f566d4",tabSelected:"tabSelected_f566d4"}},81772:function(e,t,n){e.exports={inviteSmall:"inviteSmall_b118d9",content:"content_b118d9",info:"info_b118d9",inviteLarge:"inviteLarge_b118d9",guildIcon:"guildIcon_b118d9",infoText:"infoText_b118d9",name:"name_b118d9",memberInfo:"memberInfo_b118d9",dotOnline:"dotOnline_b118d9 dot_b118d9",dotOffline:"dotOffline_b118d9 dot_b118d9",memberText:"memberText_b118d9",actionButton:"actionButton_b118d9",joinedCheckmark:"joinedCheckmark_b118d9",buttonColorInGuild:"buttonColorInGuild_b118d9"}},145075:function(e,t,n){e.exports={userList:"userList_bdebc8",header:"header_bdebc8",content:"content_bdebc8",user:"user_bdebc8",discriminator:"discriminator_bdebc8",tag:"tag_bdebc8",avatar:"avatar_bdebc8",username:"username_bdebc8"}},429682:function(e,t,n){e.exports={root:"root_e4b6b5",footer:"footer_e4b6b5",content:"content_e4b6b5",closeButton:"closeButton_e4b6b5"}},100102:function(e,t,n){e.exports={container:"container_bb9f30",title:"title_bb9f30",subtitle:"subtitle_bb9f30",img:"img_bb9f30"}},260809:function(e,t,n){e.exports={container:"container_ab06ed",title:"title_ab06ed",subtitle:"subtitle_ab06ed",img:"img_ab06ed"}},893895:function(e,t,n){e.exports={container:"container_a1eddf",banner:"banner_a1eddf",closeButton:"closeButton_a1eddf",closeIcon:"closeIcon_a1eddf",body:"body_a1eddf",poweredByNitroContainer:"poweredByNitroContainer_a1eddf",icon:"icon_a1eddf",cta:"cta_a1eddf",pointer:"pointer_a1eddf",text:"text_a1eddf"}},106963:function(e,t,n){e.exports={container:"container_c754ed",viewers:"viewers_c754ed",details:"details_c754ed",stream:"stream_c754ed",gameIcon:"gameIcon_c754ed",activity:"activity_c754ed",button:"button_c754ed",innerButton:"innerButton_c754ed"}},985649:function(e,t,n){e.exports={container:"container_b8c87f",header:"header_b8c87f",inline:"inline_b8c87f"}},240196:function(e,t,n){e.exports={chat:"chat_d6c7e0"}},712759:function(e,t,n){e.exports={hamBanner:"hamBanner_d1cafc",hamBannerButton:"hamBannerButton_d1cafc"}},805953:function(e,t,n){e.exports={container:"container_a7d4dd",upsell:"upsell_a7d4dd",hidden:"hidden_a7d4dd"}},247397:function(e,t,n){e.exports={channelNotice:"channelNotice_f013f3",close:"close_f013f3",closeIcon:"closeIcon_f013f3",title:"title_f013f3",message:"message_f013f3",btn:"btn_f013f3",imageContainer:"imageContainer_f013f3",image:"image_f013f3"}},582614:function(e,t,n){e.exports={app:"app_a01fb1",layers:"layers_a01fb1"}},821636:function(e,t,n){e.exports={layers:"layers_d4b6c5",layer:"layer_d4b6c5",animating:"animating_d4b6c5",bg:"bg_d4b6c5",baseLayer:"baseLayer_d4b6c5"}},433369:function(e,t,n){e.exports={modal:"modal_e37740",close:"close_e37740",submit:"submit_e37740",content:"content_e37740",panel:"panel_e37740",sidebar:"sidebar_e37740",dividerResponsive:"dividerResponsive_e37740",sidebarResponsive:"sidebarResponsive_e37740",stepsContainer:"stepsContainer_e37740",hidden:"hidden_e37740",navigationContainer:"navigationContainer_e37740",elevatedNavigationContainer:"elevatedNavigationContainer_e37740",navigation:"navigation_e37740",divider:"divider_e37740",sidebarContent:"sidebarContent_e37740",sidebarLeftDecorationContainer:"sidebarLeftDecorationContainer_e37740",sidebarLeftDecoration:"sidebarLeftDecoration_e37740",errorLink:"errorLink_e37740",tooltip:"tooltip_e37740",tooltipContents:"tooltipContents_e37740",errorIcon:"errorIcon_e37740",charterScrollContainer:"charterScrollContainer_e37740",charterScroll:"charterScroll_e37740"}},206240:function(e,t,n){e.exports={progressContainer:"progressContainer_db1090",progressStepTooltip:"progressStepTooltip_db1090",progressStepTooltipCustomColors:"progressStepTooltipCustomColors_db1090",progressStep:"progressStep_db1090",progressStepFill:"progressStepFill_db1090",customProgressStepFill:"customProgressStepFill_db1090",progressStepWrapper:"progressStepWrapper_db1090",errorIcon:"errorIcon_db1090",buttonsContainer:"buttonsContainer_db1090"}},981562:function(e,t,n){e.exports={stepsTransitionGroup:"stepsTransitionGroup_cd3b53",step:"step_cd3b53",scroller:"scroller_cd3b53"}},530011:function(e,t,n){e.exports={container:"container_ff9ac4",containerEnabled:"containerEnabled_ff9ac4",buttonClose:"buttonClose_ff9ac4",buttonCTA:"buttonCTA_ff9ac4",dismissIcon:"dismissIcon_ff9ac4",errorWarningIcon:"errorWarningIcon_ff9ac4",keyCombo:"keyCombo_ff9ac4"}},613885:function(e,t,n){e.exports={container:"container_f20c2c",pointer:"pointer_f20c2c"}},383980:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal_a25714",fontScaling:"fontScaling_a25714","heading-sm/medium":"heading-sm/medium_a25714","heading-sm/semibold":"heading-sm/semibold_a25714","heading-sm/bold":"heading-sm/bold_a25714","heading-sm/extrabold":"heading-sm/extrabold_a25714","heading-md/normal":"heading-md/normal_a25714","heading-md/medium":"heading-md/medium_a25714","heading-md/semibold":"heading-md/semibold_a25714","heading-md/bold":"heading-md/bold_a25714","heading-md/extrabold":"heading-md/extrabold_a25714","heading-lg/normal":"heading-lg/normal_a25714","heading-lg/medium":"heading-lg/medium_a25714","heading-lg/semibold":"heading-lg/semibold_a25714","heading-lg/bold":"heading-lg/bold_a25714","heading-lg/extrabold":"heading-lg/extrabold_a25714","heading-xl/normal":"heading-xl/normal_a25714","heading-xl/medium":"heading-xl/medium_a25714","heading-xl/semibold":"heading-xl/semibold_a25714","heading-xl/bold":"heading-xl/bold_a25714","heading-xl/extrabold":"heading-xl/extrabold_a25714","heading-xxl/normal":"heading-xxl/normal_a25714","heading-xxl/medium":"heading-xxl/medium_a25714","heading-xxl/semibold":"heading-xxl/semibold_a25714","heading-xxl/bold":"heading-xxl/bold_a25714","heading-xxl/extrabold":"heading-xxl/extrabold_a25714",eyebrow:"eyebrow_a25714","heading-deprecated-12/normal":"heading-deprecated-12/normal_a25714","heading-deprecated-12/medium":"heading-deprecated-12/medium_a25714","heading-deprecated-12/semibold":"heading-deprecated-12/semibold_a25714","heading-deprecated-12/bold":"heading-deprecated-12/bold_a25714","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold_a25714","redesign/heading-18/bold":"redesign/heading-18/bold_a25714","text-xxs/normal":"text-xxs/normal_a25714","text-xxs/medium":"text-xxs/medium_a25714","text-xxs/semibold":"text-xxs/semibold_a25714","text-xxs/bold":"text-xxs/bold_a25714","text-xs/normal":"text-xs/normal_a25714","text-xs/medium":"text-xs/medium_a25714","text-xs/semibold":"text-xs/semibold_a25714","text-xs/bold":"text-xs/bold_a25714","text-sm/normal":"text-sm/normal_a25714","text-sm/medium":"text-sm/medium_a25714","text-sm/semibold":"text-sm/semibold_a25714","text-sm/bold":"text-sm/bold_a25714","text-md/normal":"text-md/normal_a25714","text-md/medium":"text-md/medium_a25714","text-md/semibold":"text-md/semibold_a25714","text-md/bold":"text-md/bold_a25714","text-lg/normal":"text-lg/normal_a25714","text-lg/medium":"text-lg/medium_a25714","text-lg/semibold":"text-lg/semibold_a25714","text-lg/bold":"text-lg/bold_a25714","redesign/message-preview/normal":"redesign/message-preview/normal_a25714","redesign/message-preview/medium":"redesign/message-preview/medium_a25714","redesign/message-preview/semibold":"redesign/message-preview/semibold_a25714","redesign/message-preview/bold":"redesign/message-preview/bold_a25714","redesign/channel-title/normal":"redesign/channel-title/normal_a25714","redesign/channel-title/medium":"redesign/channel-title/medium_a25714","redesign/channel-title/semibold":"redesign/channel-title/semibold_a25714","redesign/channel-title/bold":"redesign/channel-title/bold_a25714","display-sm":"display-sm_a25714","display-md":"display-md_a25714","display-lg":"display-lg_a25714",code:"code_a25714",marketingBadgeTooltip:"marketingBadgeTooltip_a25714",marketingBadgeTooltipContent:"marketingBadgeTooltipContent_a25714",shopMarketingTooltipContent:"shopMarketingTooltipContent_a25714",shopMarketingTooltipText:"shopMarketingTooltipText_a25714",avatarContainer:"avatarContainer_a25714",avatar:"avatar_a25714",newBadge:"newBadge_a25714 eyebrow_a25714",marketingButtonImage:"marketingButtonImage_a25714",marketingButtonImageHovered:"marketingButtonImageHovered_a25714",shyButton:"shyButton_a25714",tideButton:"tideButton_a25714"})},969051:function(e,t,n){e.exports={spinner:"spinner_e40c16",container:"container_e40c16 "+n("890527").fixClipping,text:"text_e40c16",ready:"ready_e40c16",content:"content_e40c16",problems:"problems_e40c16",slideIn:"slideIn_e40c16",problemsText:"problemsText_e40c16",twitterLink:"twitterLink_e40c16 links_e40c16",statusLink:"statusLink_e40c16 links_e40c16",icon:"icon_e40c16",tipTitle:"tipTitle_e40c16",tip:"tip_e40c16",keybind:"keybind_e40c16",body:"body_e40c16 contentBase_e40c16",title:"title_e40c16 contentBase_e40c16"}},57883:function(e,t,n){e.exports={customEmojiPlaceholder:"customEmojiPlaceholder_c69536 customEmoji_c69536"}},130273:function(e,t,n){e.exports={discoverHeader:"discoverHeader_b992d4"}},540736:function(e,t,n){e.exports={container:"container_a01f65",discoveryContainer:"discoveryContainer_a01f65",content:"content_a01f65",toolbar:"toolbar_a01f65",selectors:"selectors_a01f65",dragRegion:"dragRegion_a01f65",loading:"loading_a01f65"}},576513:function(e,t,n){e.exports={container:"container_d61846",saveContainer:"saveContainer_d61846",contentWrapper:"contentWrapper_d61846",content:"content_d61846"}},885181:function(e,t,n){e.exports={categoryItem:"categoryItem_b9fb6e",selectedCategoryItem:"selectedCategoryItem_b9fb6e",itemInner:"itemInner_b9fb6e"}},543802:function(e,t,n){e.exports={toolbar:"toolbar_ac1501",preferences:"preferences_ac1501",actions:"actions_ac1501",addClan:"addClan_ac1501",filterPill:"filterPill_ac1501",buttonPill:"buttonPill_ac1501",filterPillActive:"filterPillActive_ac1501",filterPillIcon:"filterPillIcon_ac1501",filterPillText:"filterPillText_ac1501",chevron:"chevron_ac1501",filterPillContents:"filterPillContents_ac1501",gamesTooltip:"gamesTooltip_ac1501",filterTooltip:"filterTooltip_ac1501",filterTooltipAutoWidth:"filterTooltipAutoWidth_ac1501",filterTooltipContent:"filterTooltipContent_ac1501",tooltipHoverBridge:"tooltipHoverBridge_ac1501",tooltipContentWrapper:"tooltipContentWrapper_ac1501",traitsTooltip:"traitsTooltip_ac1501",trait:"trait_ac1501"}},378042:function(e,t,n){e.exports={guildListSection:"guildListSection_ac51fa",subtitle:"subtitle_ac51fa",guildList:"guildList_ac51fa"}},178698:function(e,t,n){e.exports={container:"container_e37a20",searchHeader:"searchHeader_e37a20",header:"header_e37a20",arrow:"arrow_e37a20",results:"results_e37a20",emptyContainer:"emptyContainer_e37a20",emptyImage:"emptyImage_e37a20",errorImage:"errorImage_e37a20",emptyHeader:"emptyHeader_e37a20"}},468918:function(e,t,n){e.exports={pageWrapper:"pageWrapper_a3a4ce",pageHeaderDrag:"pageHeaderDrag_a3a4ce",viewWrapper:"viewWrapper_a3a4ce",searchPage:"searchPage_a3a4ce",scroller:"scroller_a3a4ce",dragRegion:"dragRegion_a3a4ce",searchPageDrag:"searchPageDrag_a3a4ce",searchHeader:"searchHeader_a3a4ce",headerImage:"headerImage_a3a4ce",headerContentWrapper:"headerContentWrapper_a3a4ce",headerContent:"headerContent_a3a4ce",headerTagContainer:"headerTagContainer_a3a4ce",searchTitle:"searchTitle_a3a4ce",searchSubtitle:"searchSubtitle_a3a4ce",guildList:"guildList_a3a4ce",footer:"footer_a3a4ce",footerImage:"footerImage_a3a4ce",sidebarContainer:"sidebarContainer_a3a4ce"}},26209:function(e,t,n){e.exports={image:"image_d132bf"}},920052:function(e,t,n){e.exports={container:"container_f69601",searchPage:"searchPage_f69601",search:"search_f69601",searchBox:"searchBox_f69601",searchBoxInput:"searchBoxInput_f69601",closeIcon:"closeIcon_f69601",searchIcon:"searchIcon_f69601",languageSelector:"languageSelector_f69601",categories:"categories_f69601",categoryPill:"categoryPill_f69601",categoryLabel:"categoryLabel_f69601",selected:"selected_f69601"}},503060:function(e,t,n){e.exports={tagContainer:"tagContainer_dac300",invisible:"invisible_dac300",tag:"tag_dac300",tagText:"tagText_dac300",tagDefault:"tagDefault_dac300",tagLight:"tagLight_dac300",tagAlt:"tagAlt_dac300",hide:"hide_dac300",overflowTagsPopout:"overflowTagsPopout_dac300"}},834222:function(e,t,n){e.exports={tooltipHeader:"tooltipHeader_c5999b",tooltipText:"tooltipText_c5999b",tooltipWrapper:"tooltipWrapper_c5999b",buttonsContainer:"buttonsContainer_c5999b"}},465423:function(e,t,n){e.exports={card:"card_e825f6",container:"container_e825f6",content:"content_e825f6",contentWithTags:"contentWithTags_e825f6",header:"header_e825f6",splashContainer:"splashContainer_e825f6",splashContainerWithTags:"splashContainerWithTags_e825f6",splashImage:"splashImage_e825f6",avatar:"avatar_e825f6",headerName:"headerName_e825f6",hover:"hover_e825f6",guildBadge:"guildBadge_e825f6",description:"description_e825f6",memberInfo:"memberInfo_e825f6",memberCount:"memberCount_e825f6",dotSeparator:"dotSeparator_e825f6",separator:"separator_e825f6",placeholder:"placeholder_e825f6 container_e825f6",submitting:"submitting_e825f6",spinner:"spinner_e825f6",actionButtons:"actionButtons_e825f6",headerTitle:"headerTitle_e825f6"}},521759:function(e,t,n){e.exports={actionButtonsContainer:"actionButtonsContainer_a45ae3",forceButtonsShow:"forceButtonsShow_a45ae3",overflowIcon:"overflowIcon_a45ae3"}},330468:function(e,t,n){e.exports={clanEnvelope:"clanEnvelope_ed1152",clanEnvelopeTop:"clanEnvelopeTop_ed1152",clanEnvelopeBottom:"clanEnvelopeBottom_ed1152",cardsContainer:"cardsContainer_ed1152",clanCardCenterContainer:"clanCardCenterContainer_ed1152",clanCardCenter:"clanCardCenter_ed1152",clanCardInnerContainer:"clanCardInnerContainer_ed1152",clanCardInnerLeft:"clanCardInnerLeft_ed1152 clanCardInner_ed1152 clanCard_ed1152",clanCardInnerRight:"clanCardInnerRight_ed1152 clanCardInner_ed1152 clanCard_ed1152",clanCardOuterContainer:"clanCardOuterContainer_ed1152",clanCardOuterLeft:"clanCardOuterLeft_ed1152 clanCardOuter_ed1152 clanCard_ed1152",clanCardOuterRight:"clanCardOuterRight_ed1152 clanCardOuter_ed1152 clanCard_ed1152",upsellCtaContainer:"upsellCtaContainer_ed1152",upsellTitle:"upsellTitle_ed1152",upsellSubtitle:"upsellSubtitle_ed1152",upsellDetails:"upsellDetails_ed1152",upsellDetail:"upsellDetail_ed1152",upsellDetailText:"upsellDetailText_ed1152",upsellIcon:"upsellIcon_ed1152",upsellButton:"upsellButton_ed1152",buttonWithSelect:"buttonWithSelect_ed1152",upsellSelect:"upsellSelect_ed1152",upsellStaticHeader:"upsellStaticHeader_ed1152",upsellBackButton:"upsellBackButton_ed1152",reserveButton:"reserveButton_ed1152",browseButton:"browseButton_ed1152",spacer:"spacer_ed1152",joinWFSContainer:"joinWFSContainer_ed1152",joinWFS:"joinWFS_ed1152",joinWFSLink:"joinWFSLink_ed1152"}},813580:function(e,t,n){e.exports={container:"container_c013eb",upsellContainer:"upsellContainer_c013eb",toolbar:"toolbar_c013eb",toolbarBackground:"toolbarBackground_c013eb",adminUpsell:"adminUpsell_c013eb",backgroundImageContent:"backgroundImageContent_c013eb",userUpsell:"userUpsell_c013eb",userOnboarding:"userOnboarding_c013eb",upsellScroller:"upsellScroller_c013eb",backgroundImageContainer:"backgroundImageContainer_c013eb",backgroundImageBlur:"backgroundImageBlur_c013eb",genshinUpsellBackgroundImageDark:"genshinUpsellBackgroundImageDark_c013eb backgroundImage_c013eb",valorantUpsellBackgroundImageDark:"valorantUpsellBackgroundImageDark_c013eb backgroundImage_c013eb",genshinUpsellBackgroundImageLight:"genshinUpsellBackgroundImageLight_c013eb backgroundImage_c013eb",valorantUpsellBackgroundImageLight:"valorantUpsellBackgroundImageLight_c013eb backgroundImage_c013eb",genshinOnboardingBackgroundImageDark:"genshinOnboardingBackgroundImageDark_c013eb backgroundImage_c013eb",valorantOnboardingBackgroundImageDark:"valorantOnboardingBackgroundImageDark_c013eb backgroundImage_c013eb",genshinOnboardingBackgroundImageLight:"genshinOnboardingBackgroundImageLight_c013eb backgroundImage_c013eb",valorantOnboardingBackgroundImageLight:"valorantOnboardingBackgroundImageLight_c013eb backgroundImage_c013eb"}},270590:function(e,t,n){e.exports={container:"container_ec4a48",footer:"footer_ec4a48",sequencer:"sequencer_ec4a48",footerButtons:"footerButtons_ec4a48"}},284471:function(e,t,n){e.exports={upsellContainer:"upsellContainer_f5c8dd",upsellDetails:"upsellDetails_f5c8dd",customizeButton:"customizeButton_f5c8dd",upsellTitle:"upsellTitle_f5c8dd",upsellSubtitle:"upsellSubtitle_f5c8dd"}},477975:function(e,t,n){e.exports={masonryListContainer:"masonryListContainer_a24e0c",masonryList:"masonryList_a24e0c",masonryListGradient:"masonryListGradient_a24e0c",previewListContainer:"previewListContainer_a24e0c",previewListSection:"previewListSection_a24e0c",previewList:"previewList_a24e0c",sectionHeader:"sectionHeader_a24e0c",sectionHeaderTitle:"sectionHeaderTitle_a24e0c",sectionHeaderSpacer:"sectionHeaderSpacer_a24e0c",card:"card_a24e0c",topPicksSection:"topPicksSection_a24e0c",topPicksToolbar:"topPicksToolbar_a24e0c",hero:"hero_a24e0c",glassBackground:"glassBackground_a24e0c",glassBackgroundTop:"glassBackgroundTop_a24e0c"}},55317:function(e,t,n){e.exports={container:"container_eae20f",button:"button_eae20f",closeIcon:"closeIcon_eae20f",linkButtonContainer:"linkButtonContainer_eae20f",linkButton:"linkButton_eae20f",defaultDropImage:"defaultDropImage_eae20f",title:"title_eae20f",subTitle:"subTitle_eae20f",pointer:"pointer_eae20f"}},157460:function(e,t,n){e.exports={container:"container_eaf5d2",closeIcon:"closeIcon_eaf5d2",linkButtonContainer:"linkButtonContainer_eaf5d2",linkButton:"linkButton_eaf5d2",defaultDropImage:"defaultDropImage_eaf5d2",title:"title_eaf5d2",subTitle:"subTitle_eaf5d2",pointer:"pointer_eaf5d2"}},127563:function(e,t,n){e.exports={root:"root_c73da7",connected:"connected_c73da7",icon:"icon_c73da7",connecting:"connecting_c73da7"}},143731:function(e,t,n){e.exports={container:"container_d746e5",dragRegion:"dragRegion_d746e5"}},876425:function(e,t,n){e.exports={container:"container_f1c462",header:"header_f1c462",nav:"nav_f1c462",navItem:"navItem_f1c462",navItemIcon:"navItemIcon_f1c462",selectedNavItem:"selectedNavItem_f1c462"}},479882:function(e,t,n){e.exports={container:"container_dd65a8",innerContainer:"innerContainer_dd65a8",backdrop:"backdrop_dd65a8",icon:"icon_dd65a8",tabs:"tabs_dd65a8",search:"search_dd65a8",tab:"tab_dd65a8",selected:"selected_dd65a8"}},564041:function(e,t,n){e.exports={scroller:"scroller_d6bc4e"}},523753:function(e,t,n){e.exports={hero:"hero_a58a28",overlay:"overlay_a58a28",content:"content_a58a28"}},65050:function(e,t,n){e.exports={container:"container_edb255"}},854761:function(e,t,n){e.exports={servers:"servers_c7041a"}},374109:function(e,t,n){e.exports={guilds:"guilds_a8008a",loading:"loading_a8008a",list:"list_a8008a",selectors:"selectors_a8008a"}},121019:function(e,t,n){e.exports={hubs:"hubs_ba24db"}},45304:function(e,t,n){e.exports={searchResults:"searchResults_d9fff3",searchResultsHeader:"searchResultsHeader_d9fff3",searchResultsBackButton:"searchResultsBackButton_d9fff3"}},131147:function(e,t,n){e.exports={page:"page_a2a504",contentWrapper:"contentWrapper_a2a504",dragRegion:"dragRegion_a2a504"}},920691:function(e,t,n){e.exports={container:"container_a74b6f",guildSidebar:"guildSidebar_a74b6f",guildDescription:"guildDescription_a74b6f",guildIcon:"guildIcon_a74b6f",guildIconNoIcon:"guildIconNoIcon_a74b6f",guildName:"guildName_a74b6f",emojisContainer:"emojisContainer_a74b6f",emoji:"emoji_a74b6f",onlineCount:"onlineCount_a74b6f",dotOnline:"dotOnline_a74b6f dot_a74b6f",dotMembers:"dotMembers_a74b6f dot_a74b6f",divider:"divider_a74b6f",modal:"modal_a74b6f",sequencer:"sequencer_a74b6f",modalContent:"modalContent_a74b6f",content:"content_a74b6f",centerContent:"centerContent_a74b6f",closeButton:"closeButton_a74b6f",applicationIconContainer:"applicationIconContainer_a74b6f",applicationIcon:"applicationIcon_a74b6f",animationAndSparklesContainer:"animationAndSparklesContainer_a74b6f",sparkleIcon:"sparkleIcon_a74b6f",sparkleTop:"sparkleTop_a74b6f",sparkleBottom:"sparkleBottom_a74b6f",animation:"animation_a74b6f",header:"header_a74b6f",subheader:"subheader_a74b6f",footer:"footer_a74b6f",submitButton:"submitButton_a74b6f",formItem:"formItem_a74b6f",resendButton:"resendButton_a74b6f",confirmation:"confirmation_a74b6f",confirmationContent:"confirmationContent_a74b6f",confirmationButtonRow:"confirmationButtonRow_a74b6f",confirmationButton:"confirmationButton_a74b6f",confirmationButtonColumn:"confirmationButtonColumn_a74b6f",notice:"notice_a74b6f",rejectionReasonLabel:"rejectionReasonLabel_a74b6f",rejectionReason:"rejectionReason_a74b6f",disclaimerFooter:"disclaimerFooter_a74b6f"}},867411:function(e,t,n){e.exports={container:"container_b03943",explainerContainer:"explainerContainer_b03943"}},583134:function(e,t,n){e.exports={container:"container_b42697",image:"image_b42697"}},561535:function(e,t,n){e.exports={container:"container_e9f3d2",video:"video_e9f3d2"}},952366:function(e,t,n){e.exports={pendingPlanChangeNotice:"pendingPlanChangeNotice_f1d0a8"}},666667:function(e,t,n){e.exports={errorPageContainer:"errorPageContainer_a4a24d",errorPageContent:"errorPageContent_a4a24d",errorPageIllo:"errorPageIllo_a4a24d",errorPageTitle:"errorPageTitle_a4a24d",errorPagSubtitle:"errorPagSubtitle_a4a24d"}},83939:function(e,t,n){e.exports={container:"container_fca846",content:"content_fca846",scroller:"scroller_fca846",scrollerContent:"scrollerContent_fca846",headerBar:"headerBar_fca846"}},448243:function(e,t,n){e.exports={container:"container_e290d6",content:"content_e290d6",header:"header_e290d6"}},269807:function(e,t,n){e.exports={container:"container_d575b2",coverImageContainer:"coverImageContainer_d575b2",coverImage:"coverImage_d575b2",guildIconContainer:"guildIconContainer_d575b2",ctaTitle:"ctaTitle_d575b2",ctaSubtitle:"ctaSubtitle_d575b2"}},538704:function(e,t,n){e.exports={channelNotice:"channelNotice_a6cd4e",textBlock:"textBlock_a6cd4e",singleLine:"singleLine_a6cd4e",liveNowText:"liveNowText_a6cd4e",eventNameClickable:"eventNameClickable_a6cd4e",eventName:"eventName_a6cd4e",channelName:"channelName_a6cd4e",dotDivider:"dotDivider_a6cd4e",liveIndicator:"liveIndicator_a6cd4e",startTime:"startTime_a6cd4e",stageIcon:"stageIcon_a6cd4e",userNames:"userNames_a6cd4e",joinButton:"joinButton_a6cd4e",rsvpButton:"rsvpButton_a6cd4e",buttonIcon:"buttonIcon_a6cd4e",closeIcon:"closeIcon_a6cd4e"}},660979:function(e,t,n){e.exports={wrapper:"wrapper_bd9e38",container:"container_bd9e38",content:"content_bd9e38",header:"header_bd9e38",subheaderText:"subheaderText_bd9e38",learnMoreLink:"learnMoreLink_bd9e38",video:"video_bd9e38",ctaActionWrapper:"ctaActionWrapper_bd9e38"}},517770:function(e,t,n){e.exports={container:"container_ee69e0",hubContainer:"hubContainer_ee69e0",tooltipOverrideColor:"tooltipOverrideColor_ee69e0",dropdownButton:"dropdownButton_ee69e0"}},18993:function(e,t,n){e.exports={container:"container_fa295b"}},166742:function(e,t,n){e.exports={container:"container_b68b01",bannerPadding:"bannerPadding_b68b01",category:"category_b68b01",spacer:"spacer_b68b01",channel:"channel_b68b01",channelIcon:"channelIcon_b68b01",channelName:"channelName_b68b01"}},155010:function(e,t,n){e.exports={container:"container_f11cbf",iconContainer:"iconContainer_f11cbf",header:"header_f11cbf",gap:"gap_f11cbf",addButton:"addButton_f11cbf"}},381118:function(e,t,n){e.exports={guildListSection:"guildListSection_c8c448",guildList:"guildList_c8c448"}},283831:function(e,t,n){e.exports={categoryItem:"categoryItem_c72b37",selectedCategoryItem:"selectedCategoryItem_c72b37",itemInner:"itemInner_c72b37"}},767142:function(e,t,n){e.exports={scroller:"scroller_a39aa3",headerImage:"headerImage_a39aa3",headerContainer:"headerContainer_a39aa3",headerContent:"headerContent_a39aa3",headerText:"headerText_a39aa3",headerDescription:"headerDescription_a39aa3",divider:"divider_a39aa3",footerDescription:"footerDescription_a39aa3",viewWrapper:"viewWrapper_a39aa3"}},801919:function(e,t,n){e.exports={container:"container_e5a030",topImage:"topImage_e5a030",centerText:"centerText_e5a030",header:"header_e5a030",descriptionWidth:"descriptionWidth_e5a030",formContent:"formContent_e5a030",formDescription:"formDescription_e5a030",termsPhrase:"termsPhrase_e5a030",submitButton:"submitButton_e5a030",cancelButton:"cancelButton_e5a030"}},8162:function(e,t,n){e.exports={container:"container_d1a2b6",centerText:"centerText_d1a2b6",header:"header_d1a2b6",description:"description_d1a2b6",guildList:"guildList_d1a2b6",forcedHeight:"forcedHeight_d1a2b6",searchContainer:"searchContainer_d1a2b6",searchBox:"searchBox_d1a2b6",searchBoxInput:"searchBoxInput_d1a2b6",searchBoxIcon:"searchBoxIcon_d1a2b6",clickableGuildInfoRow:"clickableGuildInfoRow_d1a2b6 guildRow_d1a2b6",guildIcon:"guildIcon_d1a2b6",guildName:"guildName_d1a2b6",noResultsContainer:"noResultsContainer_d1a2b6",noResultsContent:"noResultsContent_d1a2b6",noResultsImage:"noResultsImage_d1a2b6",scroller:"scroller_d1a2b6"}},675278:function(e,t,n){e.exports={modalRoot:"modalRoot_e5b5f9",sidebarContainer:"sidebarContainer_e5b5f9",contentContainer:"contentContainer_e5b5f9",modalContent:"modalContent_e5b5f9",container:"container_e5b5f9",closeButton:"closeButton_e5b5f9"}},625994:function(e,t,n){e.exports={page:"page_a9bf6c",contentWrapper:"contentWrapper_a9bf6c",dragRegion:"dragRegion_a9bf6c"}},243216:function(e,t,n){e.exports={container:"container_f38045",iconContainer:"iconContainer_f38045",icon:"icon_f38045",header:"header_f38045",description:"description_f38045"}},217523:function(e,t,n){e.exports={container:"container_f64057",centerText:"centerText_f64057",header:"header_f64057",descriptionWidth:"descriptionWidth_f64057",formItem:"formItem_f64057",footer:"footer_f64057",backButton:"backButton_f64057"}},488093:function(e,t,n){e.exports={container:"container_a27408",topImage:"topImage_a27408",centerText:"centerText_a27408",formItem:"formItem_a27408 centerText_a27408",header:"header_a27408",descriptionWidth:"descriptionWidth_a27408",submitText:"submitText_a27408"}},941653:function(e,t,n){e.exports={container:"container_e09820",content:"content_e09820",pointer:"pointer_e09820"}},173509:function(e,t,n){e.exports={icon:"icon_b4cd9b"}},603517:function(e,t,n){e.exports={video:"video_ec4fee",upsellBody:"upsellBody_ec4fee"}},821233:function(e,t,n){e.exports={messageRequestItem:"messageRequestItem_a5de62",firstItem:"firstItem_a5de62",active:"active_a5de62"}},757833:function(e,t,n){e.exports={container:"container_f3abf4",list:"list_f3abf4",sectionTitle:"sectionTitle_f3abf4",selected:"selected_f3abf4",siblingSelected:"siblingSelected_f3abf4",messageRequestCoachmark:"messageRequestCoachmark_f3abf4",titleDivider:"titleDivider_f3abf4",clearAllButton:"clearAllButton_f3abf4"}},958633:function(e,t,n){e.exports={messageContent:"messageContent_b99bee",messageReplacement:"messageReplacement_b99bee messageContent_b99bee",messageContentIcon:"messageContentIcon_b99bee",messageFocusBlock:"messageFocusBlock_b99bee"}},603174:function(e,t,n){e.exports={avatar:"avatar_e4d6ba",userPreview:"userPreview_e4d6ba",userContainerWithPreview:"userContainerWithPreview_e4d6ba",tagContainer:"tagContainer_e4d6ba",username:"username_e4d6ba",discriminator:"discriminator_e4d6ba",globalName:"globalName_e4d6ba",timestampWithPreview:"timestampWithPreview_e4d6ba",mutualGuildsContainer:"mutualGuildsContainer_e4d6ba",mutualGuilds:"mutualGuilds_e4d6ba"}},391305:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer_c353e6"}},762125:function(e,t,n){e.exports={container:"container_c7a96d",actions:"actions_c7a96d",button:"button_c7a96d"}},553437:function(e,t,n){e.exports={selected:"selected_cc7518",siblingSelected:"siblingSelected_cc7518",list:"list_cc7518",sectionTitle:"sectionTitle_cc7518",titleDivider:"titleDivider_cc7518",clearAllButton:"clearAllButton_cc7518"}},679638:function(e,t,n){e.exports={container:"container_deb497",actions:"actions_deb497",button:"button_deb497"}},483978:function(e,t,n){e.exports={body:"body_ad5fac",menus:"menus_ad5fac",menuOverlay:"menuOverlay_ad5fac",menu:"menu_ad5fac",menuItemFocused:"menuItemFocused_ad5fac",subMenuIcon:"subMenuIcon_ad5fac",statusPickerModalMenu:"statusPickerModalMenu_ad5fac",mainStatusIcon:"mainStatusIcon_ad5fac",statusItem:"statusItem_ad5fac",expiringStatusMenuItem:"expiringStatusMenuItem_ad5fac",status:"status_ad5fac",icon:"icon_ad5fac",description:"description_ad5fac",modal:"modal_ad5fac",themeContainer:"themeContainer_ad5fac",username:"username_ad5fac",focusModeTitle:"focusModeTitle_ad5fac"}},552957:function(e,t,n){e.exports={userMenuItem:"userMenuItem_e1268c",userMenuUsername:"userMenuUsername_e1268c",userMenuText:"userMenuText_e1268c",userMenuDiscriminator:"userMenuDiscriminator_e1268c",focused:"focused_e1268c",activeIcon:"activeIcon_e1268c"}},584201:function(e,t,n){e.exports={itemCard:"itemCard_f02fcf",emptyCard:"emptyCard_f02fcf",emptyHeader:"emptyHeader_f02fcf",emptyText:"emptyText_f02fcf"}},955430:function(e,t,n){e.exports={scroller:"scroller_bf550a",container:"container_bf550a",header:"header_bf550a"}},254065:function(e,t,n){e.exports={memberItem:"memberItem_b09fe8",avatar:"avatar_b09fe8",unknown:"unknown_b09fe8"}},614493:function(e,t,n){e.exports={container:"container_b2ca13",avatar:"avatar_b2ca13",redIcon:"redIcon_b2ca13",avatarWrapper:"avatarWrapper_b2ca13",nameTag:"nameTag_b2ca13",canCopy:"canCopy_b2ca13",hasBuildOverride:"hasBuildOverride_b2ca13",buildOverrideButton:"buildOverrideButton_b2ca13",panelTitleContainer:"panelTitleContainer_b2ca13",panelSubtextContainer:"panelSubtextContainer_b2ca13",customStatus:"customStatus_b2ca13",strikethrough:"strikethrough_b2ca13",emoji:"emoji_b2ca13",accountProfilePopoutWrapper:"accountProfilePopoutWrapper_b2ca13"}},372844:function(e,t,n){e.exports={scroller:"scroller_fb2f1c",voiceUsers:"voiceUsers_fb2f1c",expandButton:"expandButton_fb2f1c",avatarContainer:"avatarContainer_fb2f1c",avatar:"avatar_fb2f1c",speaking:"speaking_fb2f1c",avatarIconOverlay:"avatarIconOverlay_fb2f1c",avatarIconRed:"avatarIconRed_fb2f1c"}},446122:function(e,t,n){e.exports={actionButton:"actionButton_e01b91",highlight:"highlight_e01b91",actionAccept:"actionAccept_e01b91",actionDeny:"actionDeny_e01b91",icon:"icon_e01b91",actionButtonMobile:"actionButtonMobile_e01b91"}},107387:function(e,t,n){e.exports={header:"header_c96274",title:"title_c96274",emptyState:"emptyState_c96274"}},961517:function(e,t,n){e.exports={header:"header_aef5fd",title:"title_aef5fd",grid:"grid_aef5fd",container:"container_aef5fd",arrow:"arrow_aef5fd",icon:"icon_aef5fd",text:"text_aef5fd"}},812155:function(e,t,n){e.exports={listItemContents:"listItemContents_f71b83"}},901270:function(e,t,n){e.exports={card:"card_ae5e0b",header:"header_ae5e0b",buttonContainer:"buttonContainer_ae5e0b"}},920175:function(e,t,n){e.exports={listItemContents:"listItemContents_e05dae",actions:"actions_e05dae"}},942399:function(e,t,n){e.exports={friendsEmpty:"friendsEmpty_a62993",button:"button_a62993"}},326059:function(e,t,n){e.exports={listItemContents:"listItemContents_ccc740",userInfo:"userInfo_ccc740",actions:"actions_ccc740",staffIndicator:"staffIndicator_ccc740"}},493367:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer_e0840f",peopleList:"peopleList_e0840f",searchBar:"searchBar_e0840f",sectionTitle:"sectionTitle_e0840f",clearButton:"clearButton_e0840f",searchEmptyState:"searchEmptyState_e0840f"}},234187:function(e,t,n){e.exports={peopleListItem:"peopleListItem_d51464",active:"active_d51464"}},721636:function(e,t,n){e.exports={container:"container_c2739c",inviteToolbar:"inviteToolbar_c2739c",peopleColumn:"peopleColumn_c2739c",nowPlayingColumn:"nowPlayingColumn_c2739c",tabBar:"tabBar_c2739c",badge:"badge_c2739c",item:"item_c2739c",addFriend:"addFriend_c2739c",tabBody:"tabBody_c2739c"}},479273:function(e,t,n){e.exports={title:"title_a1cafe"}},893389:function(e,t,n){e.exports={activity:"activity_f7ebfd",text:"text_f7ebfd",customStatusEmoji:"customStatusEmoji_f7ebfd"}},12505:function(e,t,n){e.exports={listItemContents:"listItemContents_ea0e6d",actions:"actions_ea0e6d"}},725174:function(e,t,n){e.exports={userInfo:"userInfo_f3939d",avatar:"avatar_f3939d",text:"text_f3939d",subtext:"subtext_f3939d",discordTag:"discordTag_f3939d",botTag:"botTag_f3939d",username:"username_f3939d",discriminator:"discriminator_f3939d",hovered:"hovered_f3939d",alignPomelo:"alignPomelo_f3939d"}},745710:function(e,t,n){e.exports={buttonWide:"buttonWide_b5c0bd",innerButton:"innerButton_b5c0bd",nitroIconSubHeader:"nitroIconSubHeader_b5c0bd",termsApplyAnchor:"termsApplyAnchor_b5c0bd",modalTopPill:"modalTopPill_b5c0bd"}},758:function(e,t,n){e.exports={container:"container_cb4f32",image:"image_cb4f32",header:"header_cb4f32",primaryButton:"primaryButton_cb4f32"}},612358:function(e,t,n){e.exports={customCircleAnimation:"customCircleAnimation_decb53",coachTipContainer:"coachTipContainer_decb53",iconContainer:"iconContainer_decb53",coachtipContent:"coachtipContent_decb53",marketingBadgeTooltip:"marketingBadgeTooltip_decb53",tooltipContent:"tooltipContent_decb53",icon:"icon_decb53"}},941576:function(e,t,n){e.exports={localizeBadge:"localizeBadge_d44307"}},757601:function(e,t,n){e.exports={root:"root_f95964",splash:"splash_f95964",headerText:"headerText_f95964",closeButton:"closeButton_f95964",video:"video_f95964",content:"content_f95964",subHeader:"subHeader_f95964",bodyText:"bodyText_f95964",featureCardGroup:"featureCardGroup_f95964",wideStyle:"wideStyle_f95964",featureCard:"featureCard_f95964",featureCardImg:"featureCardImg_f95964",featureCardTextGroup:"featureCardTextGroup_f95964",featureCardTextHeader:"featureCardTextHeader_f95964",featureCardTag:"featureCardTag_f95964",tag:"tag_f95964"}},752364:function(e,t,n){e.exports={profileThemesArt:"profileThemesArt_f604cd"}},139510:function(e,t,n){e.exports={categoryItem:"categoryItem_f75d68",selectedCategoryItem:"selectedCategoryItem_f75d68",itemInner:"itemInner_f75d68"}},852595:function(e,t,n){e.exports={container:"container_fc867b",button:"button_fc867b",innerButton:"innerButton_fc867b",externalLinkText:"externalLinkText_fc867b",icon:"icon_fc867b",gridContainer:"gridContainer_fc867b"}},456727:function(e,t,n){e.exports={container:"container_ad4620"}},444627:function(e,t,n){e.exports={container:"container_a97111",noCta:"noCta_a97111",cta:"cta_a97111"}},985164:function(e,t,n){e.exports={container:"container_f2bc91",positionContentOverBackground:"positionContentOverBackground_f2bc91",contents:"contents_f2bc91",heroAssetWrapper:"heroAssetWrapper_f2bc91",heroAsset:"heroAsset_f2bc91",overlay:"overlay_f2bc91",darkThemeGradient:"darkThemeGradient_f2bc91",lightThemeGradient:"lightThemeGradient_f2bc91",topRow:"topRow_f2bc91",pill:"pill_f2bc91",eyebrowText:"eyebrowText_f2bc91",submenuWrapper:"submenuWrapper_f2bc91",submenuIcon:"submenuIcon_f2bc91",partnerBranding:"partnerBranding_f2bc91",bottomRow:"bottomRow_f2bc91"}},207637:function(e,t,n){e.exports={container:"container_ebf06d",button:"button_ebf06d"}},855892:function(e,t,n){e.exports={container:"container_c2d7e2",rewardDescriptionContainer:"rewardDescriptionContainer_c2d7e2",progressWrapper:"progressWrapper_c2d7e2",circularRewardTileWrapper:"circularRewardTileWrapper_c2d7e2",circularQuestRewardTileAsset:"circularQuestRewardTileAsset_c2d7e2",questRewardTileAsset:"questRewardTileAsset_c2d7e2",textContainer:"textContainer_c2d7e2",headerSpan:"headerSpan_c2d7e2",header:"header_c2d7e2",description:"description_c2d7e2"}},921430:function(e,t,n){e.exports={wrapper:"wrapper_a18c91",submenuIcon:"submenuIcon_a18c91",utils:"utils_a18c91",wrapperQuestAccepted:"wrapperQuestAccepted_a18c91",heading:"heading_a18c91",headingGameTile:"headingGameTile_a18c91",headingCopy:"headingCopy_a18c91",instructions:"instructions_a18c91",ctas:"ctas_a18c91",cta:"cta_a18c91",rewardTileWithInstructions:"rewardTileWithInstructions_a18c91"}},634040:function(e,t,n){e.exports={channelName:"channelName_d09c05",username:"username_d09c05",kvContainer:"kvContainer_d09c05",item:"item_d09c05",itemValue:"itemValue_d09c05",valueIcon:"valueIcon_d09c05",title:"title_d09c05",graph:"graph_d09c05",divider:"divider_d09c05",videoWrapper:"videoWrapper_d09c05",sectionHeader:"sectionHeader_d09c05",allowSelection:"allowSelection_d09c05",avatar:"avatar_d09c05"}},871600:function(e,t,n){e.exports={header:"header_ec97fb",video:"video_ec97fb"}},726367:function(e,t,n){e.exports={header:"header_bc6086",video:"video_bc6086"}},836866:function(e,t,n){e.exports={header:"header_d74e4c",video:"video_d74e4c"}},713671:function(e,t,n){e.exports={container:"container_b41b7a",card:"card_b41b7a",eyebrow:"eyebrow_b41b7a",button:"button_b41b7a",dismiss:"dismiss_b41b7a"}},796498:function(e,t,n){e.exports={art:"art_f5abe7"}},836002:function(e,t,n){e.exports={coachmarkArt:"coachmarkArt_ef9e7d",coachmarkHeader:"coachmarkHeader_ef9e7d"}},774091:function(e,t,n){e.exports={copiable:"copiable_b9f6e2",visible:"visible_b9f6e2"}},980096:function(e,t,n){e.exports={container:"container_bb2fbe",image:"image_bb2fbe",links:"links_bb2fbe",agreementDescription:"agreementDescription_bb2fbe"}},758667:function(e,t,n){e.exports={coachmark:"coachmark_c760eb"}},890527:function(e,t,n){n.r(e.exports={firefoxFixScrollFlex:"firefoxFixScrollFlex_c7e9c6",fixClipping:"fixClipping_c7e9c6"})},924005:function(e,t,n){e.exports={outer:"outer_f61848",inner:"inner_f61848"}},506094:function(e,t,n){e.exports={alignCenter:"alignCenter_b65c0b",alignLeft:"alignLeft_b65c0b",horizontalPaginationItemContainer:"horizontalPaginationItemContainer_b65c0b",verticalPaginationItemContainer:"verticalPaginationItemContainer_b65c0b alignLeft_b65c0b",arrow:"arrow_b65c0b",prevButtonContainer:"prevButtonContainer_b65c0b arrowContainer_b65c0b",nextButtonContainer:"nextButtonContainer_b65c0b arrowContainer_b65c0b"}},725830:function(e,t,n){e.exports={singleItemWrapper:"singleItemWrapper_e6dee5",carousel:"carousel_e6dee5",item:"item_e6dee5",singleItem:"singleItem_e6dee5 item_e6dee5",viewport:"viewport_e6dee5"}},252411:function(e,t,n){e.exports={root:"root_af6b5a",carouselContainer:"carouselContainer_af6b5a",carousel:"carousel_af6b5a",pagination:"pagination_af6b5a",themedPagination:"themedPagination_af6b5a pagination_af6b5a",controls:"controls_af6b5a",arrowHitbox:"arrowHitbox_af6b5a",arrow:"arrow_af6b5a",arrowHitboxPadding:"arrowHitboxPadding_af6b5a",dots:"dots_af6b5a",dotNormal:"dotNormal_af6b5a dot_af6b5a",dotSelected:"dotSelected_af6b5a dot_af6b5a"}},377790:function(e,t,n){e.exports={title:"title_f54cce"}},198568:function(e,t,n){e.exports={contentRating:"contentRating_d918fb",esrbEveryone:"esrbEveryone_d918fb esrb_d918fb",esrbEveryoneTenPlus:"esrbEveryoneTenPlus_d918fb esrb_d918fb",esrbTeen:"esrbTeen_d918fb esrb_d918fb",esrbMature:"esrbMature_d918fb esrb_d918fb",esrbAdult:"esrbAdult_d918fb esrb_d918fb",esrbRatingPending:"esrbRatingPending_d918fb",pegiThree:"pegiThree_d918fb pegi_d918fb",pegiSeven:"pegiSeven_d918fb pegi_d918fb",pegiTwelve:"pegiTwelve_d918fb pegi_d918fb",pegiSixteen:"pegiSixteen_d918fb pegi_d918fb",pegiEighteen:"pegiEighteen_d918fb pegi_d918fb"}},98329:function(e,t,n){e.exports={wrapper:"wrapper_cd2edd",svg:"svg_cd2edd",background:"background_cd2edd path_cd2edd",foreground:"foreground_cd2edd path_cd2edd",usageInfo:"usageInfo_cd2edd"}},445222:function(e,t,n){e.exports={card:"card_eb1ca6",cardWithTags:"cardWithTags_eb1ca6",iconMask:"iconMask_eb1ca6",splash:"splash_eb1ca6",cardPlaceholder:"cardPlaceholder_eb1ca6 card_eb1ca6",cardHeader:"cardHeader_eb1ca6",splashImage:"splashImage_eb1ca6",splashImageHeight:"splashImageHeight_eb1ca6",loaded:"loaded_eb1ca6",guildIcon:"guildIcon_eb1ca6",avatar:"avatar_eb1ca6",guildInfo:"guildInfo_eb1ca6",title:"title_eb1ca6",guildBadge:"guildBadge_eb1ca6",guildName:"guildName_eb1ca6",description:"description_eb1ca6",memberInfo:"memberInfo_eb1ca6",memberCount:"memberCount_eb1ca6",dotOnline:"dotOnline_eb1ca6",dotOffline:"dotOffline_eb1ca6 dotOnline_eb1ca6",loading:"loading_eb1ca6",submitting:"submitting_eb1ca6",spinner:"spinner_eb1ca6",actionButtons:"actionButtons_eb1ca6"}},625400:function(e,t,n){e.exports={markdown:"markdown_d7f12d",blockquote:"blockquote_d7f12d",codeInline:"codeInline_d7f12d",paragraph:"paragraph_d7f12d"}},30268:function(e,t,n){e.exports={outer:"outer_c0f6a6",inset:"inset_c0f6a6",padded:"padded_c0f6a6",interactive:"interactive_c0f6a6",active:"active_c0f6a6"}},340873:function(e,t,n){e.exports={canvas:"canvas_f2b4c2"}},205596:function(e,t,n){e.exports={recommendationReason:"recommendationReason_dd7605",icon:"icon_dd7605",iconCircle:"iconCircle_dd7605 circle_dd7605",earlyAccess:"earlyAccess_dd7605",premiumCircle:"premiumCircle_dd7605",smallHeader:"smallHeader_dd7605",text:"text_dd7605",description:"description_dd7605"}},777458:function(e,t,n){e.exports={verification:"verification_ce1f6e",container:"container_ce1f6e",isMobile:"isMobile_ce1f6e",image:"image_ce1f6e",title:"title_ce1f6e",body:"body_ce1f6e",footer:"footer_ce1f6e",footerBullet:"footerBullet_ce1f6e",footerAction:"footerAction_ce1f6e"}},235940:function(e,t,n){e.exports={listeningAlong:"listeningAlong_cfdc9f",party:"party_cfdc9f",overflow:"overflow_cfdc9f",icons:"icons_cfdc9f",avatar:"avatar_cfdc9f"}}}]);
//# sourceMappingURL=a512b2019ff1e5dad253.js.map