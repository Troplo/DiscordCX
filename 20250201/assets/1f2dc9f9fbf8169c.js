"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["77567"],{211739:function(e,t,n){n.d(t,{N5:()=>r,c4:()=>i,lc:()=>u,mJ:()=>a});var l=n(570140);function i(e){l.Z.dispatch({type:"CATEGORY_COLLAPSE",id:e})}function a(e){l.Z.dispatch({type:"CATEGORY_EXPAND",id:e})}function r(e){l.Z.dispatch({type:"CATEGORY_COLLAPSE_ALL",guildId:e})}function u(e){l.Z.dispatch({type:"CATEGORY_EXPAND_ALL",guildId:e})}},588705:function(e,t,n){n.d(t,{R:()=>v,Z:()=>C}),n(411104);var l=n(200651),i=n(192379),a=n(442837),r=n(481060),u=n(388905),s=n(686546),d=n(925329),o=n(372769),c=n(44609),E=n(47343),_=n(973616),m=n(131704),N=n(601964),S=n(598077),g=n(594174),A=n(51144),T=n(981631),I=n(888592),R=n(245335),O=n(388032),h=n(594193);let v=()=>(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u.qE,{src:null,size:r.EFr.DEPRECATED_SIZE_100,className:h.avatar}),(0,l.jsx)(u.DK,{children:O.intl.string(O.t["3rE1Pz"])}),(0,l.jsx)(u.Dx,{className:h.inviteResolvingGuildName,children:O.intl.string(O.t.ZTNur6)})]}),f=e=>{let{guild:t,user:n,application:i,compact:a}=e;return null!=i?(0,l.jsx)(d.Z,{className:h.appIcon,game:i,size:h.appIconSize}):null!=n?(0,l.jsx)(u.qE,{src:null!=n?n.getAvatarURL(void 0,80):null,size:r.EFr.SIZE_80,className:a?h.compactAvatar:h.avatar}):null!=t?(0,l.jsx)(s.ZP,{mask:s.ZP.Masks.SQUIRCLE,width:64,height:64,className:h.guildIcon,children:(0,l.jsx)(u.Vj,{guild:t,size:u.Vj.Sizes.LARGER,animate:!0})}):null},C=e=>{var t;let n,i,s,{invite:d,disableUser:v=!1,error:C,flatActivityCount:D=!1,isRegister:L=!1}=e,x=(0,c.WR)({location:"invite"}),{currentUser:P}=(0,a.cj)([g.default],()=>({currentUser:g.default.getCurrentUser()}));if(null==d)return null;let p=null!=d.guild?new N.ZP(d.guild):null,U=null!=d.channel?(0,m.jD)(d.channel):null,j=null!=d.target_application?new _.ZP(d.target_application):null,M=v||null==d.inviter?null:new S.Z(d.inviter),Z=!(null!=d.approximate_member_count&&d.approximate_member_count>100||null!=p&&p.hasFeature(T.oNc.COMMUNITY))&&null!=M,F=null,G=!1;if(null!=p)F=null==M?O.intl.string(O.t["3rE1Pz"]):O.intl.formatToPlainString(O.t["5u47vb"],{username:A.ZP.getFormattedName(M)}),d.target_type===R.Iq.STREAM&&null!=d.target_user&&(F=O.intl.formatToPlainString(O.t.x2L32d,{username:A.ZP.getFormattedName(d.target_user)})),d.target_type===R.Iq.EMBEDDED_APPLICATION&&null!=d.target_application&&(F=null!=M?O.intl.formatToPlainString(O.t.UW1Cam,{username:A.ZP.getFormattedName(M)}):O.intl.string(O.t.ENSuNz)),Z&&null==j&&(n=(0,l.jsx)(u.Vj,{className:h.icon,guild:p,size:u.Vj.Sizes.SMALL})),i=p.name,null!=j&&(i=j.name,s=(0,l.jsxs)("div",{children:[(0,l.jsx)(u.DK,{className:h.appIn,children:O.intl.string(O.t["3gg9fH"])}),(0,l.jsxs)("div",{className:h.guildContainer,children:[(0,l.jsx)(u.Vj,{guild:p,size:u.Vj.Sizes.SMALL}),(0,l.jsx)(r.Text,{tag:"span",variant:"text-lg/normal",color:"header-primary",className:h.appGuildName,children:p.name})]})]}));else if(null!=U){if(null==M)throw Error("no inviter in group DM invite");let e=A.ZP.getFormattedName(M);null!=U.name&&""!==U.name?(F=O.intl.formatToPlainString(O.t["5u47vb"],{username:e}),i=U.name,null!=U.icon&&(n=(0,l.jsx)(u.MC,{channel:U,size:r.EFr.SIZE_32}))):(F=O.intl.string(O.t.OsdY8P),i=e)}else if(null!=M){let e=A.ZP.getFormattedName(M,!0);i=O.intl.formatToPlainString(O.t["4aF92d"],{username:e}),G=!0,s=null!=C?null:(0,l.jsx)(u.DK,{className:h.directInviteSubTitle,children:L?O.intl.format(O.t["6r4JiY"],{username:e}):O.intl.format(O.t.Quj7HR,{username:e})})}return(0,l.jsxs)("div",{className:h.container,children:[(0,l.jsx)(f,{application:j,guild:p,user:Z?M:null,compact:G}),null!=C?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.DK,{children:O.intl.string(O.t.mDFGFh)}),(0,l.jsx)(u.Dx,{children:C})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.DK,{children:F}),(0,l.jsxs)(u.Dx,{className:h.title,children:[null!=p?(0,l.jsx)(o.Z,{guild:p,className:h.guildBadge,tooltipPosition:"left"}):null,n,i]})]}),s,null!=j||G||(null==d?void 0:null===(t=d.guild)||void 0===t?void 0:t.id)===I.fQ?null:(0,l.jsx)(u.EJ,{className:h.activityCount,online:d.approximate_presence_count,total:d.approximate_member_count,flat:D}),x?(0,l.jsx)(E.R,{}):(0,l.jsx)(u.jQ,{user:P})]})}},362786:function(e,t,n){n.d(t,{HZ:()=>a,d$:()=>r});var l,i,a=((l={})[l.OTHER=0]="OTHER",l[l.GIFTING_REFUND=1]="GIFTING_REFUND",l[l.BUYERS_REMORSE=2]="BUYERS_REMORSE",l[l.WRONG_PURCHASE=3]="WRONG_PURCHASE",l[l.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL",l[l.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN",l[l.USER_CONFUSION=6]="USER_CONFUSION",l[l.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS",l[l.DONT_NEED=8]="DONT_NEED",l),r=((i={})[i.OTHER=0]="OTHER",i[i.ALREADY_REFUNDED=1]="ALREADY_REFUNDED",i[i.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE",i[i.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE",i[i.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED",i[i.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM",i[i.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD",i)},590965:function(e,t,n){let l;n.d(t,{Z:()=>D}),n(47120),n(653041);var i,a,r,u=n(442837),s=n(570140),d=n(413605),o=n(703656),c=n(131704),E=n(601964),_=n(592125),m=n(430824),N=n(701190),S=n(496675),g=n(594174),A=n(998502),T=n(981631),I=n(176505);let R=T.IlC.APP,O=!1,h=!1,v=[];function f(){O=!0}class C extends(i=u.ZP.Store){initialize(){this.waitFor(m.Z,N.Z,g.default)}isOpen(){let e=__OVERLAY__?T.IlC.OVERLAY:T.IlC.APP;return!!(O&&v.length>0&&R===e)}getProps(){return{invite:v.length>0?v[0][0]:null,error:null!=l&&""!==l?l:null,submitting:h}}}r="InviteModalStore",(a="displayName")in C?Object.defineProperty(C,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):C[a]=r;let D=new C(s.Z,{OVERLAY_INITIALIZE:f,CONNECTION_OPEN:f,CONNECTION_CLOSED:function(){O=!1},INVITE_MODAL_OPEN:function(e){let t=e.invite;if(null==t)return!1;if(!(t.state===T.r2o.EXPIRED||t.state===T.r2o.BANNED||t.state===T.r2o.ERROR)){let{channel:e,guild:n}=t;if(null==e)return!1;if((0,c.bc)(e.type)){if(null!=_.Z.getChannel(e.id))return(0,o.XU)(T.ME,e.id),A.ZP.focus(),!1}else{if(null==n)return!1;if(null!=m.Z.getGuild(n.id)&&!(0,d.TY)(t)){let e=function(e){if((0,d.W6)(e))return I.oC.ROLE_SUBSCRIPTIONS;let{channel:t}=e;if(null!=t){let e=_.Z.getChannel(t.id);if(S.Z.can(T.Plq.VIEW_CHANNEL,e))return t.id}return null}(t);return(0,o.XU)(n.id,e),A.ZP.focus(),!1}}}if(v.some(e=>{let[n]=e;return n.code===t.code}))return!1;R=e.context,h=!1;let n=function(e){let{approximate_member_count:t,approximate_presence_count:n,code:l,state:i,target_type:a,target_user:r,target_application:u,stage_instance:s,type:d,channel:o,guild:c,is_nickname_changeable:_}=e,m={code:l,state:i,approximate_member_count:t,approximate_presence_count:n,target_type:a,target_user:r,target_application:u,stage_instance:s,type:d,is_nickname_changeable:_};return null!=o&&(m.channel={...o}),null!=c&&(m.guild=new E.ZP(c)),null!=e.inviter&&(m.inviter={...e.inviter}),m}(t);v.push([n,e.resolve])},INVITE_MODAL_CLOSE:function(){if(l=null,h=!1,v.length>0){let[,e]=v.shift();null!=e&&e()}},INVITE_ACCEPT:function(){h=!0},INVITE_MODAL_ERROR:function(e){let{message:t}=e;l=t,h=!1}})},731971:function(e,t,n){n.d(t,{NQ:()=>m,U1:()=>o,XW:()=>a,_J:()=>_,aP:()=>u,e7:()=>E,h6:()=>d,oE:()=>r,y:()=>s,yS:()=>c});var l=n(15729);let i={nickname:void 0,dmsAllowed:!0,showActivity:!0,mutedServer:!1,inviteCode:void 0,guildId:void 0},a=(0,l.U)(e=>({...i,touched:!1,setNickname:t=>e(e=>({nickname:t,touched:!0})),setDmsAllowed:t=>e(e=>({dmsAllowed:t,touched:!0})),setShowActivity:t=>e(e=>({showActivity:t,touched:!0})),setMutedServer:t=>e(e=>({mutedServer:t,touched:!0})),setInviteCode:t=>e(e=>({inviteCode:t,touched:!0})),setGuildId:t=>e(e=>({guildId:t,touched:!0})),reset:()=>e({...i,touched:!1})})),r=()=>{a.getState().reset()},u=()=>{let e=a.getState();return e.nickname!==i.nickname||e.dmsAllowed!==i.dmsAllowed||e.showActivity!==i.showActivity||e.mutedServer!==i.mutedServer},s=()=>a.getState().nickname,d=()=>a.getState().dmsAllowed,o=()=>a.getState().showActivity,c=()=>a.getState().mutedServer,E=()=>a.getState().inviteCode,_=()=>a.getState().guildId,m=()=>a.getState().touched},47343:function(e,t,n){n.d(t,{R:()=>S}),n(47120);var l=n(200651),i=n(192379),a=n(120356),r=n.n(a),u=n(481060),s=n(590965),d=n(51331),o=n(259580),c=n(626135),E=n(731971),_=n(981631),m=n(388032),N=n(671149);let S=()=>{var e;let{nickname:t,dmsAllowed:n,showActivity:a,mutedServer:S,setNickname:g,setDmsAllowed:A,setShowActivity:T,setMutedServer:I}=(0,E.XW)(),[R,O]=i.useState(!1),h=null===(e=s.Z.getProps().invite)||void 0===e?void 0:e.is_nickname_changeable;return(0,l.jsxs)("div",{className:r()(N.editProfileContainer,{[N.opened]:R}),children:[(0,l.jsxs)(u.P3F,{className:N.header,onClick:()=>{O(!R),R&&c.default.track(_.rMx.INVITE_ACCEPT_JOIN_SETTINGS_EXPANDED)},children:[(0,l.jsx)("div",{className:N.headerIconWrapper,children:(0,l.jsx)(u.ewm,{size:"md"})}),(0,l.jsxs)("div",{className:N.title,children:[(0,l.jsx)(u.Text,{variant:"eyebrow",color:"header-secondary",children:m.intl.string(m.t.A5wHQ0)}),(0,l.jsx)(u.Text,{variant:"text-sm/medium",color:"interactive-normal",children:m.intl.string(m.t.UKCSER)})]}),(0,l.jsx)("div",{className:r()(N.caret,{[N.opened]:R}),children:(0,l.jsx)(o.Z,{width:18,height:18,direction:o.Z.Directions.UP})})]}),(0,l.jsxs)("div",{className:r()(N.customizationSection,{[N.opened]:R},h?null:N.condensed),children:[h&&(0,l.jsxs)("div",{className:N.serverNickname,children:[(0,l.jsx)(u.Text,{variant:"eyebrow",color:"header-secondary",children:m.intl.string(m.t.me1lRk)}),(0,l.jsx)(u.oil,{placeholder:m.intl.string(m.t["09Q8ys"]),maxLength:_.l$U,value:t,onChange:g})]}),(0,l.jsx)(d.Z,{title:m.intl.string(m.t["/2ed39"]),value:n,onChange:A}),(0,l.jsx)(d.Z,{title:m.intl.string(m.t.bN4m1N),value:a,onChange:T}),(0,l.jsx)(d.Z,{title:m.intl.string(m.t["0nZCqK"]),value:S,onChange:I})]})]})}},888592:function(e,t,n){n.d(t,{fQ:()=>a,tF:()=>i});var l,i=((l={}).STUDENT_PROMPT="STUDENT_PROMPT",l.VERIFY_EMAIL="VERIFY_EMAIL",l.VERIFY_PIN="VERIFY_PIN",l.SELECT_SCHOOL="SELECT_SCHOOL",l.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH",l.SUBMIT_SCHOOL="SUBMIT_SCHOOL",l.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION",l.EMAIL_WAITLIST="EMAIL_WAITLIST",l);let a="884924873015689226"},305587:function(e,t,n){n.d(t,{Xs:()=>i});let l=(0,n(818083).B)({kind:"user",id:"2024-09_dm_mute_feedback",label:"DM Mute Feedback Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable DM Mute Feedback Survey",config:{enabled:!0}}]});function i(e){let{enabled:t}=l.getCurrentConfig({location:e},{autoTrackExposure:!0});return t}},88658:function(e,t,n){n.d(t,{$6:()=>_,YK:()=>s,_o:()=>o,bL:()=>E,gl:()=>d,rr:()=>c}),n(47120);var l=n(695346),i=n(486472),a=n(430824);n(626135);var r=n(981631);n(388032);let u=864e5*r.eBq;function s(){let e=l.h2.getSetting();return 0===i.Z.totalUnavailableGuilds&&(e=e.filter(e=>null!=a.Z.getGuild(e))),new Set(e)}function d(){let e=l.zA.getSetting();return 0===i.Z.totalUnavailableGuilds&&(e=e.filter(e=>null!=a.Z.getGuild(e))),new Set(e)}function o(){let e=l.SE.getSetting();return 0===i.Z.totalUnavailableGuilds&&(e=e.filter(e=>null!=a.Z.getGuild(e))),new Set(e)}function c(){let e=l.iH.getSetting();return 0===i.Z.totalUnavailableGuilds&&(e=e.filter(e=>null!=a.Z.getGuild(e))),new Set(e)}function E(e){return(e&r.HGf)===r.HGf?{all:!0,mutualFriends:!0,mutualGuilds:!0}:{all:!1,mutualFriends:(e&r.SOq.MUTUAL_FRIENDS)===r.SOq.MUTUAL_FRIENDS,mutualGuilds:(e&r.SOq.MUTUAL_GUILDS)===r.SOq.MUTUAL_GUILDS}}function _(e,t){return!!(!t.verified||t.isStaff())||null!=e&&u>Date.now()-new Date(e.created_at).getTime()}}}]);
//# sourceMappingURL=1f2dc9f9fbf8169c.js.map