"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["27978"],{863942:function(e,t,n){var i=n(22092);(0,n(192291).exportTypedArrayStaticMethod)("from",n(12367),i)},70519:function(e){e.exports="/assets/cd8e74fd326447bb.svg"},806848:function(e){e.exports="/assets/288fa52e49c71440.svg"},231443:function(e){e.exports="/assets/e56f37a3d877126f.svg"},512266:function(e){e.exports="/assets/4d81e06416805e7d.png"},105020:function(e){e.exports="/assets/128535a612ab443d.svg"},262467:function(e){e.exports="/assets/ee3f974e8f8dfdb6.svg"},640356:function(e){e.exports="/assets/7cf59fd4cb3b9f75.svg"},515695:function(e){e.exports="/assets/dd05fd1ea37e7747.png"},892235:function(e){e.exports="/assets/c7ab3f39104a88b0.svg"},375673:function(e){e.exports="/assets/cdb08acd52a01c53.svg"},73962:function(e){e.exports="/assets/bd1c5286b96ea2b3.svg"},689411:function(e){e.exports="/assets/d117ed9744852447.svg"},292824:function(e){e.exports="/assets/bdf03f89c231816a.svg"},2984:function(e){e.exports="/assets/131c318dd45b7aa4.svg"},575703:function(e){e.exports="/assets/d8680b1c1576ecc8.svg"},231239:function(e,t,n){n.d(t,{Z:()=>s});var i=n(990547),r=n(283693),l=n(570140),a=n(573261),o=n(981631);let s={signup:(e,t)=>a.Z.post({url:o.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:i.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:e=>{var t;let n=!1,i=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.email_domain;return null!=i&&(n=-1!==i.split(".").indexOf("edu")),(0,r.iG)({is_edu_email:n})}},rejectWithError:!1}),sendVerificationEmail:async(e,t,n)=>(await a.Z.post({url:o.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:e=>{var t;let n=null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.has_matching_guild;return(0,r.iG)({has_matching_guild:n})}},rejectWithError:!1})).body,async verify(e){if(null!=e)try{var t;let n=await a.Z.post({url:o.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1}),r=null===(t=n.body.guild)||void 0===t?void 0:t.id;l.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:r})}catch(e){l.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body})}},async verifyCode(e,t,n){if(null!=e)try{var r;let s=await a.Z.post({url:o.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:i.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1}),c=null===(r=s.body.guild)||void 0===r?void 0:r.id;return l.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:c}),s.body}catch(e){throw l.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body}),e}}}},822699:function(e,t,n){n.r(t),n.d(t,{default:()=>ev}),n(47120);var i=n(200651),r=n(192379),l=n(593473),a=n(990547),o=n(873546),s=n(442837),c=n(570140),d=n(893776),u=n(533307),h=n(447543),_=n(126399),g=n(521379),p=n(765717),m=n(267394),f=n(761305),E=n(698177),I=n(353926),x=n(409059),C=n(962220),N=n(637776),v=n(264229),T=n(677760),S=n(893607),A=n(314897),b=n(82142),Z=n(701190),R=n(626135),L=n(81063),j=n(449934),O=n(768581),P=n(625054),y=n(645499),D=n(320830),k=n(721751),U=n(718182),w=n(223543),B=n(73906),M=n(299852),G=n(39514),F=n(236446),z=n(9325),H=n(344295),V=n(781428),K=n(209411),W=n(649156),q=n(423527),Y=n(424044),J=n(479495),X=n(881317),Q=n(886806),$=n(981631),ee=n(188785),et=n(245335);n(179645),s.ZP.initialize();let en=(0,D.Z)(V.Z),ei=(0,D.Z)(K.Z),er=(0,D.Z)(H.Z),el=(0,D.Z)(F.Z),ea=(0,D.Z)(G.Z),eo=(0,D.Z)(T.Z),es=(0,D.Z)(q.Z),ec=(0,D.Z)(U.Z),ed=(0,D.Z)(w.Z),eu=(0,D.Z)(Q.Z),eh=(0,D.Z)(E.Z),e_=(0,D.Z)(J.Z),eg=(0,D.Z)(M.Z),ep=(0,D.Z)(f.Z),em=(0,D.Z)(N.Z),ef=(0,D.Z)(B.Z),eE=(0,D.Z)(W.Z),eI=(0,D.Z)(X.Z),ex=(0,D.Z)(Y.Z),eC=(0,D.Z)(g.Z);class eN extends r.PureComponent{static getDerivedStateFromProps(e,t){var n;let{invite:i,location:r}=e,{backgroundId:a}=t,o=null!==(n=(0,l.parse)(r.search).redirect_to)&&void 0!==n?n:null;(null==o||""===o||!(0,y.B)(o)||o.startsWith($.Z5c.ME))&&(o=null);let s=null;if(null==i)s=(0,j.gK)(o);else if((null==i?void 0:i.state)===$.r2o.RESOLVED){let{guild:e,target_application:t}=i;null!=t?null!=a&&(s=(0,L.getAssetImage)(t.id,a,1024)):null!=e&&"string"==typeof e.splash&&(s=O.ZP.getGuildSplashURL({id:e.id,splash:e.splash}))}return{redirectTo:o,splash:s}}componentDidMount(){let{inviteKey:e,hasLoadedExperiments:t,isAuthenticated:n}=this.props;null!=e&&(!t&&n&&d.Z.getExperiments(!0),R.default.track($.rMx.INVITE_OPENED,{invite_code:(0,v.jX)(e),load_time:P.Z.getTimeSinceNavigationStart()},{flush:!0})),(t||ee.a)&&this.resolveInvite(),this.resolveGiftCode(),this.resolveGuildTemplate(),_.Z.initialize()}componentDidUpdate(e){var t,n;e.hasLoadedExperiments||!this.props.hasLoadedExperiments||ee.a||this.resolveInvite(),(null===(t=e.invite)||void 0===t?void 0:t.state)!==(null===(n=this.props.invite)||void 0===n?void 0:n.state)&&this.maybeFetchApplicationSplash()}componentWillUnmount(){_.Z.terminate()}maybeFetchApplicationSplash(){let{invite:e}=this.props;if((null==e?void 0:e.state)===$.r2o.RESOLVED){let{target_application:t}=e;null!=t&&(0,L.fetchAssetIds)(t.id,["embedded_splash"]).then(e=>{let[t]=e;return this.setState({backgroundId:t})})}}async resolveInvite(){let{inviteKey:e}=this.props;if(null==e)return;let{invite:t}=await h.Z.resolveInvite(e,$.Usc.INVITE);null!=t&&((0,m.A)(t),null!=t.type&&et.xf.has(t.type)&&h.Z.openNativeAppModal(e))}resolveGuildTemplate(){let{guildTemplateCode:e}=this.props;null!=e&&(R.default.track($.rMx.GUILD_TEMPLATE_OPENED,{guild_template_code:e,load_time:P.Z.getTimeSinceNavigationStart()},{flush:!0}),C.Z.resolveGuildTemplate(e),C.Z.openNativeAppModal(e))}resolveGiftCode(){let{giftCode:e}=this.props;null!=e&&u.Z.resolveGiftCode(e,!0,!0).then(t=>{null!=t&&null==t.giftCode.promotion&&c.Z.wait(()=>u.Z.openNativeGiftCodeModal(e))})}render(){let{splash:e,redirectTo:t}=this.state,{inviteKey:n}=this.props;return(0,i.jsxs)(k.Z,{splash:e,children:[(0,i.jsx)(p.Z,{path:$.Z5c.LOGIN_HANDOFF,render:e=>(0,i.jsx)(ei,{...e,redirectTo:t})}),(0,i.jsx)(p.Z,{impressionName:a.ImpressionNames.USER_LOGIN,path:$.Z5c.LOGIN,render:e=>(0,i.jsx)(en,{...e,redirectTo:t})}),(0,i.jsx)(p.Z,{impressionName:a.ImpressionNames.USER_REGISTRATION,path:$.Z5c.REGISTER,render:e=>ee.a?(0,i.jsx)(er,{...e,redirectTo:t,inviteKey:n}):(0,i.jsx)(es,{...e,redirectTo:t})}),(0,i.jsx)(p.Z,{path:$.Z5c.GIFT_CODE_LOGIN(":giftCode"),render:e=>(0,i.jsx)(ea,{login:!0,...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.GIFT_CODE(":giftCode"),render:e=>(0,i.jsx)(ea,{...e})}),(0,i.jsx)(p.Z,{path:[$.Z5c.INVITE_LOGIN(":inviteCode"),$.Z5c.INVITE(":inviteCode")],render:e=>{let{match:{params:{inviteCode:t},path:n},location:r,transitionTo:l}=e,a=(0,v.mb)(t,r.search);return o.tq||o.Em?(0,i.jsx)(eo,{inviteKey:a,transitionTo:l},a):(0,i.jsx)(er,{inviteKey:a,location:r,transitionTo:l,login:n===$.Z5c.INVITE_LOGIN(":inviteCode")})}}),(0,i.jsx)(p.Z,{path:[$.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode"),$.Z5c.GUILD_TEMPLATE(":guildTemplateCode")],render:e=>{let{match:{params:{guildTemplateCode:t},path:n},location:r,transitionTo:l}=e;return o.tq||o.Em?(0,i.jsx)(z.Z,{code:t},t):(0,i.jsx)(el,{code:t,location:r,transitionTo:l,login:n===$.Z5c.GUILD_TEMPLATE_LOGIN(":guildTemplateCode")})}}),(0,i.jsx)(p.Z,{path:$.Z5c.VERIFY,render:e=>(0,i.jsx)(eu,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.VERIFY_HUB_EMAIL,render:e=>(0,i.jsx)(em,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.VERIFY_REQUEST,render:e=>(0,i.jsx)(eh,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.DISABLE_EMAIL_NOTIFICATIONS,render:e=>(0,i.jsx)(eg,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,render:e=>(0,i.jsx)(ep,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.AUTHORIZE_IP,render:e=>(0,i.jsx)(ec,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.REJECT_IP,render:e=>(0,i.jsx)(e_,{source:$.Z5c.REJECT_IP,...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.REJECT_MFA,render:e=>(0,i.jsx)(e_,{source:$.Z5c.REJECT_MFA,...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.AUTHORIZE_PAYMENT,render:e=>(0,i.jsx)(ed,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.RESET,render:e=>(0,i.jsx)(e_,{source:$.Z5c.RESET,...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?"),render:e=>(0,i.jsx)(eE,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.CHANNEL(S.Hw.guildId(),S.Hw.channelId({optional:!0}),":messageId?"),render:e=>(0,i.jsx)(ef,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.REPORT,render:e=>(0,i.jsx)(eI,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.REPORT_SECOND_LOOK,render:e=>(0,i.jsx)(ex,{...e})}),(0,i.jsx)(p.Z,{path:$.Z5c.ACCOUNT_REVERT(":token"),render:e=>(0,i.jsx)(eC,{...e})})]})}constructor(...e){var t,n;super(...e),n={splash:null,redirectTo:null,backgroundId:null},(t="state")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let ev=s.ZP.connectStores([A.default,Z.Z,b.Z,I.Z,x.Z],e=>{var t,n,i;let{match:r,location:l}=e,a=null==r?void 0:null===(t=r.params)||void 0===t?void 0:t.inviteCode,o=ee.a?ee.Y:void 0,s=null!=a?(0,v.mb)(a,l.search):o,c=null==r?void 0:null===(n=r.params)||void 0===n?void 0:n.giftCode,d=null==r?void 0:null===(i=r.params)||void 0===i?void 0:i.guildTemplateCode;return{inviteKey:s,isAuthenticated:A.default.isAuthenticated(),giftCode:c,guildTemplateCode:d,gift:null!=c?b.Z.get(c):null,invite:null!=s?Z.Z.getInvite(s):null,guildTemplate:null!=d?x.Z.getGuildTemplate(d):null,hasLoadedExperiments:I.Z.hasLoadedExperiments}})(eN)},320830:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i=n(200651),r=n(192379),l=n(954955),a=n.n(l),o=n(748780),s=n(873546),c=n(477690),d=n(481060),u=n(624138),h=n(610385);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=(0,u.Mg)(c.Z.WAVE_SPLASH_RESPONSIVE_WIDTH_MOBILE),p={START:0,END:1},m={friction:10,tension:130},f=function(e){return class extends r.Component{componentDidMount(){s.tq||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())}componentWillUnmount(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)}componentWillAppear(e){this.state.shouldAnimate?this.animateTo(p.END,e):e()}componentWillEnter(e){this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.animateTo(p.END,e),40)):e()}componentWillLeave(e){this.state.shouldAnimate?this.animateTo(p.START,e):e()}animateTo(e,t){o.Z.spring(this.anim,{toValue:e,...m}).start(t)}getAnimatedStyle(e){return this.state.shouldAnimate?{opacity:this.anim,transform:e?void 0:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null}render(){return(0,i.jsx)("div",{className:h.wrapper,children:(0,i.jsx)(d.Sfi.Consumer,{children:t=>{let{reducedMotion:n}=t;return(0,i.jsx)(o.Z.div,{style:this.getAnimatedStyle(n.enabled),children:(0,i.jsx)(e,{...this.props})})}})})}constructor(...e){super(...e),_(this,"timeout",void 0),_(this,"anim",new o.Z.Value(p.START)),_(this,"state",{shouldAnimate:!s.tq}),_(this,"handleResize",()=>{let e=window.innerWidth>g;!this.state.shouldAnimate&&e&&this.anim.setValue(p.END),this.setState({shouldAnimate:e})}),_(this,"handleResizeDebounced",a()(this.handleResize,60))}}}},721751:function(e,t,n){let i;n.d(t,{Z:()=>A}),n(47120);var r=n(200651),l=n(192379),a=n(120356),o=n.n(a),s=n(873546),c=n(442837),d=n(481060),u=n(980591),h=n(605782),_=n(133853),g=n(568154),p=n(353926),m=n(703656),f=n(981631),E=n(687e3);let I=n(575703),x=n(2984),C=[f.Z5c.LOGIN,f.Z5c.LOGIN_HANDOFF,f.Z5c.REGISTER,f.Z5c.INVITE(""),f.Z5c.GIFT_CODE(""),f.Z5c.GUILD_TEMPLATE_LOGIN(""),f.Z5c.GUILD_TEMPLATE(""),f.Z5c.DISABLE_EMAIL_NOTIFICATIONS,f.Z5c.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,f.Z5c.BILLING_PREMIUM_SUBSCRIBE,f.Z5c.BILLING_PAYMENT_SOURCES_CREATE,f.Z5c.BILLING_PAYMENTS,f.Z5c.BILLING_PREMIUM_SWITCH_PLAN,f.Z5c.BILLING_GUILD_SUBSCRIPTIONS_PURCHASE,f.Z5c.VERIFY,f.Z5c.VERIFY_HUB_EMAIL,f.Z5c.REJECT_IP,f.Z5c.REJECT_MFA,f.Z5c.AUTHORIZE_IP,f.Z5c.AUTHORIZE_PAYMENT,f.Z5c.RESET,f.Z5c.HANDOFF,f.Z5c.REPORT,f.Z5c.REPORT_SECOND_LOOK,f.Z5c.ACCOUNT_REVERT("")];function N(e){return C.some(t=>e.startsWith(t))}let v=e=>(i=e,e);function T(e){let{children:t}=e;switch(function(){var e;let[t,n]=l.useState(!1),[r,a]=l.useState(!0),o=(0,c.e7)([p.Z],()=>p.Z.hasLoadedExperiments);return((0,u.Z)(()=>{},300),void 0!==i)?i:!r&&o?(t||n(!0),v((e=0,"default"))):r?v("default"):"loading"}()){case"default":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:E.artwork,src:I,alt:""}),(0,r.jsx)("img",{className:E.logoWithText,src:x,alt:""}),t]});case"experimental":case"loading":return null}}class S extends l.Component{componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}mobileTransitionTo(e,t){if(N(e))(0,m.uL)(e,t);else{let n=null!=t&&null!=t.search?t.search:null;window.location=null==n?e:"".concat(e,"?").concat(n)}}mobileReplaceWith(e){N(e)?(0,m.dL)(e):window.location=e}renderDefault(){let{splash:e}=this.props,t=(0,r.jsx)(h.Z,{component:l.Fragment,children:l.Children.map(this.props.children,e=>l.cloneElement(e,{transitionTo:m.uL,replaceWith:m.dL}))});return(0,r.jsx)("div",{className:E.characterBackground,children:(0,r.jsx)(d.y5t,{forceLevel:1,children:null!=e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Z,{show:!0,className:o()(E.logo)}),(0,r.jsx)(g.h,{splash:e,children:t})]}):(0,r.jsx)(T,{children:t})})})}renderMobile(){return(0,r.jsx)(h.Z,{component:l.Fragment,children:l.Children.map(this.props.children,e=>l.cloneElement(e,{transitionTo:this.mobileTransitionTo,replaceWith:this.mobileReplaceWith}))})}render(){let{isMobileWidth:e}=this.state,t=navigator.userAgent.includes("GameLauncher");return e||s.tq||s.Em||t?this.renderMobile():this.renderDefault()}constructor(e){var t,n;super(e),t="handleResize",n=()=>{this.setState({isMobileWidth:window.innerWidth<=485})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.state={isMobileWidth:window.innerWidth<=485}}}let A=S},718182:function(e,t,n){n.d(t,{Z:()=>f}),n(47120);var i=n(200651),r=n(192379),l=n(525654),a=n.n(l),o=n(442837),s=n(893776),c=n(493773),d=n(129293),u=n(388905),h=n(108427),_=n(981631),g=n(388032),p=n(232186);function m(e){return n.g.location.assign(e)}function f(e){let{location:t,transitionTo:l=m}=e,[o,f]=r.useState("submitting");function E(){return"Android"===a().os.family||"iOS"===a().os.family?null:(0,i.jsx)(u.zx,{onClick:()=>l(_.Z5c.LOGIN),children:g.intl.string(g.t.dKhVQE)})}return((0,c.Z)(()=>{(0,h.e)("authorize_ip");let e=(0,d.Z)(t);if(null==e){f("failed");return}(async()=>{try{await s.Z.authorizeIPAddress(e),f("succeeded")}catch(e){f("failed")}})()}),"failed"===o)?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(262467),className:p.marginBottom20}),(0,i.jsx)(u.Dx,{className:p.marginBottom8,children:g.intl.string(g.t["f/54a2"])}),(0,i.jsx)(u.DK,{className:p.marginBottom40,children:g.intl.string(g.t.i3ehMj)}),E()]}):"succeeded"===o?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(640356),className:p.marginBottom20}),(0,i.jsx)(u.Dx,{className:p.marginBottom8,children:g.intl.string(g.t.iG0SlJ)}),(0,i.jsx)(u.DK,{className:p.marginBottom40,children:g.intl.string(g.t["Elv+qq"])}),E()]}):(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Hh,{}),(0,i.jsx)(u.Dx,{children:g.intl.string(g.t["9exy+f"])})]})}o.ZP.initialize()},223543:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),r=n(192379),l=n(893776),a=n(129293),o=n(388905),s=n(108427),c=n(388032),d=n(232186);function u(e){let{location:t}=e,[u,h]=r.useState("submitting");return(r.useEffect(()=>{(0,s.e)("authorize_payment");let e=(0,a.Z)(t);if(null==e){h("failed");return}(async()=>{try{await l.Z.authorizePayment(e),h("succeeded")}catch(e){h("failed")}})()},[t]),"failed"===u)?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(375673),className:d.marginBottom20}),(0,i.jsx)(o.Dx,{className:d.marginBottom8,children:c.intl.string(c.t.GHRpub)}),(0,i.jsx)(o.DK,{className:d.marginBottom40,children:c.intl.string(c.t["1nO55u"])})]}):"succeeded"===u?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)("img",{alt:"",src:n(73962),className:d.marginBottom20}),(0,i.jsx)(o.Dx,{className:d.marginBottom8,children:c.intl.string(c.t["ihHX5+"])}),(0,i.jsx)(o.DK,{className:d.marginBottom40,children:c.intl.string(c.t.pGPCv7)})]}):(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(o.Hh,{}),(0,i.jsx)(o.Dx,{children:c.intl.string(c.t.T3vC7u)})]})}},73906:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var r=n(3570),l=n(685311),a=n(186901);let o=function(e){let{match:t,location:n}=e,o=async(e,t)=>{await (0,r.s)(a.jE.CHANNEL,{guildId:e.params.guildId,channelId:e.params.channelId,messageId:e.params.messageId,search:t.search})};return(0,i.jsx)(l.Z,{match:t,location:n,attemptDeepLink:o})}},685311:function(e,t,n){n.d(t,{Z:()=>_}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(536285),s=n(857458),c=n(388905),d=n(703656),u=n(388032),h=n(232186);let _=function(e){let{match:t,location:n,attemptDeepLink:l}=e,[_,g]=r.useState(0);r.useEffect(()=>{o.default.once("connected",()=>{g(1)}),o.default.once("disconnected",()=>{(0,d.uL)((0,s.M)())}),o.default.connect()},[]),r.useEffect(()=>{if(0!==_)return;let e=setTimeout(()=>(0,d.uL)((0,s.M)()),3e3);return()=>clearTimeout(e)},[_]);let p=r.useCallback(async(e,t)=>{try{g(2),await l(e,t),g(3)}catch(e){console.error("Error opening deeplink",e)}},[l]);if((0,d.DB)())return null;switch(_){case 1:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{className:h.marginBottom8,children:u.intl.string(u.t.qllnGh)}),(0,i.jsx)(c.DK,{children:u.intl.string(u.t.SXCxyc)}),(0,i.jsx)(c.zx,{className:h.marginTop40,onClick:()=>p(t,n),children:u.intl.string(u.t.UQvCf3)}),(0,i.jsx)(c.zx,{className:a()(h.marginTop8,h.marginCenterHorz),color:c.zx.Colors.LINK,look:c.zx.Looks.LINK,onClick:()=>(0,d.uL)((0,s.M)()),children:u.intl.string(u.t["2ixEBg"])})]});case 0:case 2:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{children:u.intl.string(u.t["Z+hCVV"])}),(0,i.jsx)(c.Hh,{})]});case 3:return(0,i.jsxs)(c.ZP,{children:[(0,i.jsx)(c.Dx,{className:h.marginBottom8,children:u.intl.string(u.t.csrAMD)}),(0,i.jsx)(c.DK,{children:u.intl.string(u.t.ghBJz8)})]})}}},299852:function(e,t,n){n.d(t,{Z:()=>C}),n(47120);var i,r=n(200651),l=n(192379),a=n(593473),o=n(442837),s=n(544891),c=n(481060),d=n(129293),u=n(388905),h=n(108427),_=n(598077),g=n(896797),p=n(981631),m=n(930441),f=n(388032),E=n(232186);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.ZP.initialize();class x extends(i=l.PureComponent){componentDidMount(){let e=(0,d.Z)(this.props.location),t=(0,a.parse)(this.props.location.search);s.tn.post({url:p.ANM.DISABLE_EMAIL_NOTIFICATIONS,body:{token:e,pixel_uuid:t.hash,category:t.category,email_type:t.email_type},oldFormErrors:!0,rejectWithError:!0}).then(e=>{let{body:{user:n}}=e,i=new _.Z(n);this.setState({success:!0,busy:!1,user:i,category:t.category})},()=>this.setState({success:!1,busy:!1})),(0,h.e)("disable_email_notifications")}renderBusy(){return(0,r.jsx)(u.ZP,{children:(0,r.jsx)(u.Hh,{})})}renderCategorySuccess(e,t){let{defaultRoute:n,transitionTo:i}=this.props,l=f.intl.formatToPlainString(f.t.YDAohI,{category:t});return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.Dx,{className:E.marginBottom8,children:f.intl.string(f.t.f6rdLi)}),(0,r.jsx)(u.DK,{children:l}),(0,r.jsx)(u.zx,{className:E.marginTop20,onClick:()=>i(n),children:f.intl.string(f.t.fIv16O)}),(0,r.jsx)(u.zx,{className:E.marginTop8,color:u.zx.Colors.LINK,look:u.zx.Looks.LINK,onClick:()=>i(p.Z5c.SETTINGS("notifications",m.vG)),children:f.intl.string(f.t.YYTira)})]})}renderSuccess(){let{defaultRoute:e,transitionTo:t}=this.props,{user:n,category:i}=this.state;if(null!=i){let e=m.Od.find(e=>e.category===i);if(null!=e)return this.renderCategorySuccess(i,e.label())}return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.qE,{src:null==n?void 0:n.getAvatarURL(void 0,100),size:c.EFr.DEPRECATED_SIZE_100,className:E.marginBottom20}),(0,r.jsx)(u.Dx,{className:E.marginBottom8,children:f.intl.string(f.t["6U6OMT"])}),(0,r.jsx)(u.DK,{children:f.intl.string(f.t["yaDJ4+"])}),(0,r.jsx)(u.zx,{className:E.marginTop40,onClick:()=>t(e),children:f.intl.string(f.t.fIv16O)})]})}renderError(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,r.jsxs)(u.ZP,{children:[(0,r.jsx)(u.Ee,{src:n(105020),className:E.marginBottom20}),(0,r.jsx)(u.Dx,{className:E.marginBottom8,children:f.intl.string(f.t.ox9hIS)}),(0,r.jsx)(u.DK,{children:f.intl.string(f.t["/dcuR0"])}),(0,r.jsx)(u.zx,{className:E.marginTop40,onClick:()=>t(e),children:f.intl.string(f.t.fIv16O)})]})}render(){let{busy:e,success:t}=this.state;return e?this.renderBusy():t?this.renderSuccess():this.renderError()}constructor(...e){super(...e),I(this,"state",{busy:!0,success:!1,user:null,category:null})}}I(x,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let C=o.ZP.connectStores([g.Z],()=>({defaultRoute:g.Z.defaultRoute}))(x)},39514:function(e,t,n){n.d(t,{Z:()=>O}),n(47120),n(411104);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(570140),c=n(893776),d=n(533307),u=n(978085),h=n(232567),_=n(388905),g=n(362762),p=n(108427),m=n(314897),f=n(896797),E=n(82142),I=n(283595),x=n(55563),C=n(669079),N=n(63063),v=n(51144),T=n(481153),S=n(781428),A=n(423527),b=n(981631),Z=n(388032),R=n(232186);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.ZP.initialize();class j extends r.PureComponent{componentDidMount(){let{authenticated:e,isResolved:t}=this.props;e&&this.handleAuthenticated(),t||this.resolveGiftCode(),(0,p.e)("gift_code")}componentDidUpdate(e){let{authenticated:t,isResolved:n}=this.props;n||s.Z.wait(()=>{this.resolveGiftCode()}),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})}handleAuthenticated(){let{currentUser:e}=this.state;u.b8(),null==e&&this.refreshUser()}get requiresVerification(){let{currentUser:e}=this.state;return null!=e&&!e.verified}getCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.match.params.giftCode}getMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.login?"login":"register"}getErrorMessage(e){let{libraryApplication:t,sku:n}=this.props,{error:i}=this.state,r=null!=i?i.code:null;return r===b.evJ.INVALID_GIFT_SELF_REDEMPTION?Z.intl.string(Z.t.wa9h7O):r===b.evJ.INVALID_GIFT_REDEMPTION_OWNED&&(null==n?void 0:n.productLine)===b.POd.COLLECTIBLES?Z.intl.string(Z.t.mdLtb2):null!=t||r===b.evJ.INVALID_GIFT_REDEMPTION_OWNED?Z.intl.format(Z.t.PIdmg4,{libraryLink:b.Z5c.APPLICATION_LIBRARY}):e.isClaimed||r===b.evJ.INVALID_GIFT_REDEMPTION_EXHAUSTED?Z.intl.string(Z.t.ilcBeX):r===b.evJ.INVALID_GIFT_REDEMPTION_FRAUD_REJECTED?Z.intl.string(Z.t.ypuSd3):void 0}renderSpinner(e){return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{children:e}),(0,i.jsx)(_.Hh,{})]})}renderExpiredInvite(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(167969),className:R.marginBottom8}),(0,i.jsx)(_.Dx,{className:a()(R.marginTop8,R.marginBottom8),children:Z.intl.string(Z.t.KPowgo)}),(0,i.jsx)(_.DK,{children:Z.intl.string(Z.t.j8734e)}),(0,i.jsx)(_.zx,{className:a()(R.marginTop40,R.marginBottom8),onClick:()=>t(e),children:Z.intl.string(Z.t.fIv16O)}),(0,i.jsx)(_.zx,{onClick:()=>window.open(N.Z.getArticleURL(b.BhN.GIFTING),"_blank"),look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,children:Z.intl.string(Z.t["/CjuXF"])})]})}renderAppOpened(){return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{className:R.marginBottom8,children:Z.intl.string(Z.t.csrAMD)}),(0,i.jsx)(_.DK,{children:Z.intl.string(Z.t["m1+IBg"])}),(0,i.jsx)(_.zx,{className:R.marginTop40,onClick:()=>this.setState({continueOnWeb:!0}),children:Z.intl.string(Z.t["qsI+EB"])})]})}renderVerification(e){let{sentVerification:t}=this.state;return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(892235),className:R.marginBottom8}),(0,i.jsx)(_.Dx,{children:Z.intl.format(Z.t.ivLUf3,{username:e.username})}),(0,i.jsx)(_.DK,{className:R.marginTop20,children:Z.intl.string(Z.t["8Su18/"])}),(0,i.jsx)(_.zx,{disabled:t,className:R.marginTop40,onClick:this.handleResendVerification,children:t?Z.intl.string(Z.t.CMa9Rk):Z.intl.string(Z.t.lm1UKi)}),(0,i.jsx)(_.zx,{look:_.zx.Looks.LINK,color:_.zx.Colors.LINK,onClick:this.refreshUser,className:R.marginTop8,children:Z.intl.string(Z.t.Po9eBQ)})]})}renderAuthenticated(e,t){let n=this.getErrorMessage(e);return(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(T.Z,{giftCode:e}),(0,i.jsx)(_.zx,{disabled:null!=n,className:R.marginTop40,onClick:this.handleAccept,children:Z.intl.string(Z.t.n6I6k5)}),null!=n?(0,i.jsx)(_.DK,{className:R.marginTop20,children:n}):(0,i.jsx)(_.i_,{className:R.marginTop20,children:Z.intl.format(Z.t.NYM08v,{userTag:v.ZP.getUserTag(t),onLogoutClick:this.handleLogout})})]})}render(){let{nativeAppState:e,sku:t,authenticated:n,giftCode:r,isResolved:l,isAccepting:a,transitionTo:o,location:s}=this.props,{fetchingUser:c,continueOnWeb:d}=this.state;if(e===b.kEZ.OPEN&&!d)return this.renderAppOpened();if(e===b.kEZ.OPENING)return this.renderSpinner(Z.intl.string(Z.t["Z+hCVV"]));if(a)return this.renderSpinner(Z.intl.string(Z.t.bhJseH));if(null==r)return l?this.renderExpiredInvite():this.renderSpinner(Z.intl.string(Z.t.b3lf1d));if(l){if(n){let e=this.state.currentUser;return c||null==e?this.renderSpinner(Z.intl.string(Z.t.bYb2nZ)):this.requiresVerification&&null!=e?this.renderVerification(e):this.renderAuthenticated(r,e)}return"login"===this.getMode()?(0,i.jsx)(S.Z,{giftCodeSKU:t,giftCode:r,transitionTo:o,location:s}):(0,i.jsx)(A.Z,{giftCodeSKU:t,giftCode:r,transitionTo:o,location:s})}return null}constructor(...e){super(...e),L(this,"state",{error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1}),L(this,"refreshUser",()=>{this.setState({fetchingUser:!0}),h.k({withAnalyticsToken:!0}).then(e=>this.setState({currentUser:e,fetchingUser:!1})).catch(()=>this.setState({fetchingUser:!1}))}),L(this,"handleLogout",()=>{let e=this.props.match.params.giftCode;c.Z.logout(b.Z5c.GIFT_CODE_LOGIN(e))}),L(this,"handleResendVerification",()=>{c.Z.verifyResend(),this.setState({sentVerification:!0})}),L(this,"handleAccept",async()=>{let{transitionTo:e,giftCode:t}=this.props;if(null==t)throw Error("Trying to accept gift before resolve");let n=this.getCode();try{this.setState({error:null}),await d.Z.redeemGiftCode({code:n}),e(b.Z5c.APP)}catch(e){this.setState({error:e})}}),L(this,"resolveGiftCode",()=>{let{transitionTo:e}=this.props,t=this.getCode();d.Z.resolveGiftCode(t,!0,!0).then(n=>{null!=n&&null!=n.giftCode.promotion&&e(b.Z5c.BILLING_PROMOTION_REDEMPTION(t))})})}}let O=o.ZP.connectStores([E.Z,I.Z,m.default,x.Z,f.Z,g.Z],e=>{let t=e.match.params.giftCode,n=E.Z.get(t),i=null!=n?x.Z.get(n.skuId):null;return{giftCode:n,sku:i,libraryApplication:null!=i&&(null==n?void 0:n.entitlementBranches)!=null?C.z2(n.entitlementBranches,i,I.Z):null,authenticated:m.default.isAuthenticated(),defaultRoute:f.Z.defaultRoute,isResolved:E.Z.getIsResolved(t),isAccepting:E.Z.getIsAccepting(t),libraryApplicationsFetched:I.Z.fetched,nativeAppState:g.Z.getState(t)}})(j)},481153:function(e,t,n){n.d(t,{Z:()=>T});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(812206),d=n(388905),u=n(925329),h=n(479446),_=n(981632),g=n(594174),p=n(509545),m=n(55563),f=n(296848),E=n(981631),I=n(474936),x=n(388032),C=n(93008),N=n(652849),v=n(232186);let T=o.ZP.connectStores([m.Z,c.Z,p.Z,g.default],e=>{let{giftCode:t}=e,n=m.Z.get(t.skuId),{subscriptionPlanId:i}=t;return{sku:n,subscriptionPlan:null!=i?(0,f.oE)(i):null,application:c.Z.getApplication(n.applicationId),gifter:g.default.getUser(t.userId)}})(e=>{let{error:t,giftCode:n,gifter:l,sku:o,application:c,subscriptionPlan:g}=e,p=null==l?x.intl.string(x.t.lTGZAg):x.intl.formatToPlainString(x.t.TjWdPT,{username:l.username}),m=o.name;return null!=g&&(m=x.intl.formatToPlainString(g.interval===I.rV.MONTH?x.t.CTpcCQ:x.t.rgPWGx,{skuName:o.name,intervalCount:g.intervalCount})),(0,i.jsxs)(r.Fragment,{children:[null!=n.giftStyle?(0,i.jsx)(_.Z,{defaultAnimationState:h.SR.LOOP,giftStyle:n.giftStyle,className:C.seasonalIcon}):(0,i.jsx)(d.qE,{src:null!=l?l.getAvatarURL(void 0,100):null,size:s.EFr.DEPRECATED_SIZE_100,className:v.marginBottom20}),null!=t?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d.DK,{children:x.intl.string(x.t.mDFGFh)}),(0,i.jsx)(d.Dx,{children:t})]}):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d.DK,{children:p}),(0,i.jsxs)(d.Dx,{className:a()(v.marginTop8,N.flexCenter),children:[o.productLine!==E.POd.COLLECTIBLES&&(0,i.jsx)(u.Z,{size:u.Z.Sizes.MEDIUM,className:C.applicationIcon,game:c,skuId:o.id}),m]})]})]})})},236446:function(e,t,n){n.d(t,{Z:()=>D}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(442837),d=n(388905),u=n(362762),h=n(409059),_=n(659900),g=n(962220),p=n(473855),m=n(306453),f=n(929809),E=n(108427),I=n(390885),x=n(314897),C=n(896797),N=n(954824),v=n(781428),T=n(163671),S=n(423527),A=n(981631),b=n(58346),Z=n(701476),R=n(630724),L=n(436620),j=n(388032),O=n(640936),P=n(232186);c.ZP.initialize();class y extends r.PureComponent{componentDidMount(){(0,E.e)("guildTemplate"),L.KO||N.Z.launch("discord://"+A.Z5c.GUILD_TEMPLATE(this.props.code),()=>void 0)}componentDidUpdate(e){this.props.code!==e.code&&g.Z.resolveGuildTemplate(this.props.code)}renderButton(e,t){return L.KO?(0,i.jsx)(d.zx,{className:P.marginTop40,onClick:t,children:e}):(0,i.jsx)(d.v6,{className:P.marginTop40})}renderSpinner(e){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{children:e}),(0,i.jsx)(d.Hh,{})]})}renderInvalidGuildTemplate(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Ee,{src:n(167969),className:P.marginBottom8}),(0,i.jsx)(d.Dx,{className:a()(P.marginTop8,P.marginBottom8),children:j.intl.string(j.t.C7ZRNz)}),(0,i.jsx)(d.DK,{children:j.intl.string(j.t.A6MwXF)}),this.renderButton(j.intl.string(j.t.fIv16O),this.handleContinue)]})}renderAppOpened(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:P.marginBottom8,children:j.intl.string(j.t.csrAMD)}),(0,i.jsx)(d.DK,{children:j.intl.string(j.t["m1+IBg"])}),this.renderButton(j.intl.string(j.t.fIv16O),this.handleContinue)]})}renderAuthenticatedOrDownload(){let{guildTemplate:e}=this.props;return(s()(null!=e,"guild template must not be null"),e.state===b.Rj.RESOLVING)?(0,i.jsx)(d.ZP,{className:O.authBox,children:(0,i.jsx)(m.Z,{guildTemplate:e})}):(0,i.jsx)(k,{guildTemplate:e})}renderContinue(){return(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{children:j.intl.string(j.t.fOc4go)}),this.renderButton(j.intl.string(j.t.fIv16O),this.handleContinue)]})}render(){let{guildTemplate:e,nativeAppState:t,authenticated:n,transitionTo:r,location:l}=this.props;if(null==e)return this.renderSpinner(j.intl.string(j.t.ZTNur6));if(t===A.kEZ.OPEN)return this.renderAppOpened();if(t===A.kEZ.OPENING)return this.renderSpinner(j.intl.string(j.t["Z+hCVV"]));switch(e.state){case b.Rj.RESOLVING:return this.renderSpinner(j.intl.string(j.t["Z+hCVV"]));case b.Rj.RESOLVED:if(n||!L.KO)return this.renderAuthenticatedOrDownload();if(this.props.login)return(0,i.jsx)(v.Z,{guildTemplate:e,transitionTo:r,location:l});return(0,i.jsx)(S.Z,{guildTemplate:e,transitionTo:r,location:l,onRegister:()=>{(0,f.c)(Z.M5.ORGANIC_REGISTERED_GUILD_TEMPLATE),I.Z.flowStart(R.MK.ORGANIC_GUILD_TEMPLATES,R.EW.NUF_STARTED)}});case b.Rj.EXPIRED:return this.renderInvalidGuildTemplate();default:return null}}constructor(...e){var t,n;super(...e),t="handleContinue",n=()=>{let{defaultRoute:e,transitionTo:t}=this.props;t(e)},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}function D(e){let t={guildTemplate:(0,c.e7)([h.Z],()=>h.Z.getGuildTemplate(e.code)),nativeAppState:(0,c.e7)([u.Z],()=>u.Z.getState(e.code)),authenticated:(0,c.e7)([x.default],()=>x.default.isAuthenticated()),defaultRoute:(0,c.e7)([C.Z],()=>C.Z.defaultRoute)};return(0,i.jsx)(y,{...e,...t})}function k(e){let{guildTemplate:t}=e,{form:n,handleSubmit:r}=(0,_.Z)(t,!1);I.Z.flowStep(R.MK.ORGANIC_GUILD_TEMPLATES,R.X2.GUILD_CREATE);let l=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Dx,{className:O.header,children:j.intl.string(j.t.UNFvtL)}),n,(0,i.jsx)(d.zx,{className:O.createButton,onClick:r,children:j.intl.string(j.t.xr59t7)})]});return(0,i.jsx)(T.Z,{className:O.authBox,children:()=>[(0,i.jsx)(p.Z,{guildTemplate:t},"template"),(0,i.jsx)("div",{className:O.formContainer,children:l},"contents")]})}},9325:function(e,t,n){n.d(t,{Z:()=>x});var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(388905),s=n(409059),c=n(962220),d=n(306453),u=n(108427),h=n(314897),_=n(626135),g=n(587444),p=n(981631),m=n(58346),f=n(388032),E=n(232186);function I(e,t,n){e.preventDefault(),_.default.track(p.rMx.GUILD_TEMPLATE_APP_OPENED,{guild_template_code:t,guild_template_name:n.name,guild_template_description:n.description,guild_template_guild_id:n.sourceGuildId});let i=h.default.getFingerprint(),r=null!=i?i:h.default.getId();c.Z.openMobileApp(n.state===m.Rj.RESOLVED?t:void 0,r)}function x(e){let{code:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.getGuildTemplate(t));return(r.useEffect(()=>{(0,u.e)("guild_template_mobile")},[]),null==n||n.state===m.Rj.RESOLVING)?(0,i.jsx)(o.ZP,{children:(0,i.jsx)(a.$jN,{})}):n.state===m.Rj.RESOLVED?(0,i.jsxs)(o.ZP,{children:[(0,i.jsx)(d.Z,{guildTemplate:n,tall:!0}),(0,i.jsx)(o.zx,{onClick:e=>I(e,t,n),className:E.marginTop20,children:f.intl.string(f.t["a3Gl+f"])})]}):(0,i.jsx)(g.Z,{text:f.intl.string(f.t["e/rZ2t"]),buttonCta:f.intl.string(f.t.HAvYn5),onClick:e=>I(e,t,n)})}l.ZP.initialize()},587444:function(e,t,n){n.d(t,{Z:()=>m,u:()=>p});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(692547),o=n(481060),s=n(388905),c=n(600164),d=n(981631),u=n(388032),h=n(897927),_=n(652849),g=n(232186);function p(e){let{text:t,buttonCta:r,onClick:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Ee,{src:n(689411)}),(0,i.jsx)(s.Dx,{className:l()(g.marginTop20,g.marginBottom8,_.flexCenter),children:u.intl.string(u.t.eL5z0t)}),(0,i.jsx)(s.DK,{className:g.marginBottom40,children:u.intl.string(u.t["poAv6+"])}),(0,i.jsxs)(o.Zbd,{className:h.card,type:o.Zbd.Types.CUSTOM,children:[(0,i.jsx)("img",{alt:"",className:h.cardAccentLeft,src:n(70519)}),(0,i.jsx)("img",{alt:"",className:h.cardAccentRight,src:n(806848)}),(0,i.jsxs)(c.Z,{className:h.cardContents,direction:c.Z.Direction.VERTICAL,align:c.Z.Align.STRETCH,grow:0,children:[(0,i.jsx)(o.Text,{tag:"strong",className:h.buttonTitle,variant:"text-md/normal",style:{color:a.Z.unsafe_rawColors.PRIMARY_300.css},children:t}),(0,i.jsx)(s.zx,{className:h.button,onClick:d,children:r})]})]})]})}function m(e){let{text:t,buttonCta:n,theme:r=d.BRd.DARK,onClick:l}=e;return(0,i.jsx)(s.ZP,{theme:r,children:(0,i.jsx)(p,{text:t,buttonCta:n,onClick:l})})}},344295:function(e,t,n){n.d(t,{Z:()=>K}),n(789020),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(533800),s=n(756647),c=n(442837),d=n(298444),u=n(447543),h=n(881052),_=n(899370),g=n(267394),p=n(388905),m=n(639946),f=n(792766),E=n(362762),I=n(978684),x=n(264229),C=n(929809),N=n(703656),v=n(108427),T=n(314897),S=n(896797),A=n(701190),b=n(626135),Z=n(630388),R=n(63063),L=n(782605),j=n(954824),O=n(588705),P=n(781428),y=n(423527),D=n(981631),k=n(188785),U=n(701476),w=n(436620),B=n(388032),M=n(232186);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.ZP.initialize();let F="Accept Invite Page",z={REGISTER:"register",LOGIN:"login"};async function H(e){let{invite:t}=await u.Z.resolveInvite(e,F);null!=t&&(0,g.A)(t)}class V extends r.PureComponent{componentDidMount(){let{isUnderage:e,login:t,inviteKey:n}=this.props;if(b.default.track(D.rMx.INVITE_VIEWED,{invite_code:n},{flush:!0}),(0,v.e)("invite"),!w.KO){let e=this.getInviteKey();j.Z.launch("discord://"+D.Z5c.INVITE(e),()=>void 0)}if(!t&&e){let e=this.getInviteKey(),{baseCode:t}=(0,x.fU)(e);(0,N.dL)(D.Z5c.INVITE_LOGIN(t))}}componentDidUpdate(e){let{invite:t,nativeAppState:n,authenticated:i,transitionTo:r}=this.props,l=this.getInviteKey();if(l!==this.getInviteKey(e))H(l);else if(t.state===D.r2o.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===z.LOGIN&&i!==e.authenticated&&i){let e=T.default.getFingerprint();if(null!=e){let t=(0,s.s)(e);this.track(D.rMx.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:t})}u.Z.acceptInvite({inviteKey:l,context:this.getAcceptInviteContext(F),skipOnboarding:!0,callback:this.handleContinue})}if(n!==e.nativeAppState&&n===D.kEZ.OPEN&&this.track(D.rMx.INVITE_APP_INVOKED,!1),this.getMode()===z.REGISTER&&i&&!e.authenticated){let{channel:e}=t;null!=e&&((0,C.c)(U.M5.INVITE_UNCLAIMED),null!=t.guild?r(D.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(t.code)):u.Z.transitionToInvite(t,r))}}getInviteKey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.inviteKey}getMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return k.a?z.REGISTER:e.login?z.LOGIN:z.REGISTER}track(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{invite:i}=this.props,r=this.getInviteKey(),l=(0,x.jX)(r),a=t?{guild_id:null!=i.guild?i.guild.id:null,channel_id:null!=i.channel?i.channel.id:null,inviter_id:null!=i.inviter?i.inviter.id:null,invite_code:l}:{invite_code:l};b.default.track(e,{...a,...n})}renderSpinner(e){return(0,i.jsxs)(p.ZP,{children:[(0,i.jsx)(p.Dx,{children:e}),(0,i.jsx)(p.Hh,{})]})}renderInvalidInvite(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i.jsxs)(p.ZP,{children:[(0,i.jsx)(p.Ee,{src:n(167969),className:M.marginBottom8}),(0,i.jsx)(p.Dx,{className:a()(M.marginTop8,M.marginBottom8),children:B.intl.string(B.t.kux01N)}),(0,i.jsx)(p.DK,{children:e?B.intl.string(B.t["5AkWAQ"]):B.intl.string(B.t["+qUJAg"])}),this.renderButton(B.intl.string(B.t.fIv16O)),(0,i.jsx)(p.zx,{onClick:()=>window.open(R.Z.getArticleURL(D.BhN.INVALID_INVITES),"_blank"),look:p.zx.Looks.LINK,color:p.zx.Colors.LINK,className:M.marginTop8,children:B.intl.string(B.t.urIwn5)})]})}renderErrorInvite(){var e,t;return(0,i.jsxs)(p.ZP,{children:[(0,i.jsx)(O.Z,{invite:this.props.invite,error:null===(e=this.state.error)||void 0===e?void 0:e.message}),(null===(t=this.state.error)||void 0===t?void 0:t.code)===D.evJ.INVALID_CANNOT_FRIEND_SELF?this.renderButton(B.intl.string(B.t.fIv16O)):this.renderButton(B.intl.string(B.t.ohMvm5),this.handleAccept)]})}renderExpiredInvite(){return this.renderInvalidInvite(!1)}renderBannedInvite(){return this.renderInvalidInvite(!0)}renderAppOpened(e){let t=null!=e?e:this.handleContinue;return(0,i.jsxs)(p.ZP,{children:[(0,i.jsx)(p.Dx,{className:M.marginBottom8,children:B.intl.string(B.t.csrAMD)}),(0,i.jsx)(p.DK,{children:B.intl.string(B.t["m1+IBg"])}),this.renderButton(B.intl.string(B.t.fIv16O),()=>t())]})}renderAuthenticatedHeader(){let{invite:e}=this.props;return null!=e.stage_instance&&null!=e.guild?(0,i.jsx)(f.Z,{stageInstance:e.stage_instance,guild:e.guild}):null!=e.guild_scheduled_event?(0,i.jsx)(m.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,i.jsx)(O.Z,{invite:e})}renderAuthenicatedFooter(){let{invite:e}=this.props;return(null!=e.stage_instance||null!=e.guild_scheduled_event)&&null!=e.guild?(0,i.jsx)(p.ZP,{className:M.marginTop20,children:(0,i.jsx)(f.y,{guild:e.guild,onlineCount:e.approximate_presence_count})}):null}renderAuthenticatedOrDownload(){let{invite:e}=this.props,t=null!=e.stage_instance?B.intl.string(B.t["5UKyUl"]):B.intl.string(B.t.ohMvm5);return(0,i.jsxs)("div",{children:[(0,i.jsxs)(p.ZP,{children:[this.renderAuthenticatedHeader(),this.renderButton(t,this.handleAccept)]}),this.renderAuthenicatedFooter()]})}renderContinue(){return(0,i.jsxs)(p.ZP,{children:[(0,i.jsx)(p.Dx,{children:B.intl.string(B.t.fOc4go)}),this.renderButton(B.intl.string(B.t.fIv16O))]})}render(){let{invite:e,nativeAppState:t,authenticated:n,transitionTo:r,location:l}=this.props;if(t===D.kEZ.OPEN)return this.renderAppOpened();switch(e.state){case D.r2o.APP_OPENED:return this.renderAppOpened();case D.r2o.APP_NOT_OPENED:return this.renderContinue();case D.r2o.RESOLVING:return k.a?this.renderSpinner(B.intl.string(B.t.MKDeyM)):this.renderSpinner(B.intl.string(B.t["Z+hCVV"]));case D.r2o.APP_OPENING:return this.renderSpinner(B.intl.string(B.t["Z+hCVV"]));case D.r2o.RESOLVED:var a;if(n&&(0,Z.yE)(null!==(a=e.flags)&&void 0!==a?a:0,o.$.IS_GUEST_INVITE))return u.Z.openApp(e.code),d.x.set(I.J,e.code),this.renderAppOpened(()=>r(D.Z5c.APP));if(n||!w.KO)return this.renderAuthenticatedOrDownload();if(this.getMode()===z.LOGIN)return(0,i.jsx)(P.Z,{invite:e,transitionTo:r,location:l});else return(0,i.jsx)(y.Z,{invite:e,onLoginStart:()=>this.track(D.rMx.INVITE_LOGIN,!0),location:l,transitionTo:r});case D.r2o.ACCEPTING:return this.renderSpinner(B.intl.string(B.t["6wsY19"]));case D.r2o.EXPIRED:return this.renderExpiredInvite();case D.r2o.BANNED:return this.renderBannedInvite();case D.r2o.ERROR:return this.renderErrorInvite();case D.r2o.ACCEPTED:default:return null}}constructor(...e){var t;super(...e),t=this,G(this,"state",{error:null}),G(this,"getAcceptInviteContext",e=>u.Z.getInviteContext(e,this.props.invite)),G(this,"handleContinue",e=>{let{invite:t,transitionTo:n}=this.props;if(null!=t.channel||(null==e?void 0:e.channel)!=null){var i;(null===(i=t.guild)||void 0===i?void 0:i.id)!=null?n(D.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(t.code)):u.Z.transitionToInvite(null!=e?e:t,n)}}),G(this,"handleAccept",()=>{this.setState({error:null});let e=this.getInviteKey();u.Z.acceptInvite({inviteKey:e,context:this.getAcceptInviteContext(F),skipOnboarding:!0,callback:t=>{(0,g.A)(t),null!=t.channel&&u.Z.openApp(e,t.channel.id)}}).catch(e=>{if(e instanceof h.yZ||e instanceof h.Hx){let t=(0,L.O)(e.code);this.setState({error:{code:e.code,message:t}})}else this.setState({error:{code:e.code,message:B.intl.string(B.t.dDZRd3)}})})}),G(this,"handleDefaultTransition",()=>{let{defaultRoute:e,transitionTo:t}=this.props;t(e)}),G(this,"renderButton",function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.handleDefaultTransition,{invite:r}=t.props,l=null!=r.stage_instance||null!=r.guild_scheduled_event;return w.KO?(0,i.jsx)(p.zx,{className:l?M.marginTop20:M.marginTop40,onClick:n,color:l?p.zx.Colors.GREEN:p.zx.Colors.BRAND,children:e}):(0,i.jsx)(p.v6,{className:M.marginTop40})})}}let K=c.ZP.connectStores([A.Z,S.Z,T.default,E.Z,_.Z],e=>{var t;let{inviteKey:n}=e;return{invite:null!==(t=A.Z.getInvite(n))&&void 0!==t?t:{},nativeAppState:E.Z.getState(n),authenticated:T.default.isAuthenticated(),defaultRoute:S.Z.defaultRoute,isUnderage:_.Z.isUnderageAnonymous()}})(V)},781428:function(e,t,n){n.d(t,{Z:()=>X,q:()=>Y});var i,r=n(200651),l=n(192379),a=n(533126),o=n(120356),s=n.n(o),c=n(593473),d=n(873546),u=n(442837),h=n(481060),_=n(570140),g=n(893776),p=n(899742),m=n(579806),f=n(743142),E=n(254942),I=n(388905),x=n(379760),C=n(600164),N=n(100159),v=n(473855),T=n(124860),S=n(86779),A=n(726745),b=n(913583),Z=n(144114),R=n(541692),L=n(952802),j=n(108427),O=n(365007),P=n(314897),y=n(117240),D=n(896797),k=n(626135),U=n(585483),w=n(358085),B=n(481153),M=n(588705),G=n(494526),F=n(163671),z=n(981631),H=n(58346),V=n(388032),K=n(32817),W=n(232186);function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(){return(0,r.jsx)(I.ZP,{children:(0,r.jsx)(h.$jN,{})})}class J extends(i=l.PureComponent){static getDerivedStateFromProps(e){let{handoffAvailable:t,authenticated:n}=e;return t||n?null:{checkingHandoff:!1}}componentDidMount(){let{handoffAvailable:e,authenticated:t,giftCodeSKU:n,invite:i,location:r}=this.props;e&&!t?(0,p.is)():t&&this.loginOrSSO(t,r,!0),k.default.track(z.rMx.LOGIN_VIEWED,{location:null!=i?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource,authenticated:t,...null!=n?(0,N.Z)(n,!1,!1):{}},{flush:!0}),null==m.Z&&null!=window.PublicKeyCredential&&null!=PublicKeyCredential.isConditionalMediationAvailable&&PublicKeyCredential.isConditionalMediationAvailable().then(e=>{e&&(0,O.us)().then(e=>{let{challenge:t,ticket:n}=e,i=(0,a.wz)(JSON.parse(t));return i.signal=this.state.conditionalMediationAbortController.signal,(0,a.U2)(i).then(e=>(this.setState({errors:{}}),_.Z.dispatch({type:"PASSWORDLESS_START"}),g.Z.loginWebAuthn({ticket:n,credential:JSON.stringify(e),source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId}).catch(e=>{throw this.setState({errors:(0,E.F)(e)}),e}))).catch(e=>{if("AbortError"!==e.name)throw e})}).catch(()=>{})}),g.Z.getLocationMetadata(),(0,j.e)("login")}componentDidUpdate(e,t){let{authenticated:n,location:i}=this.props,{checkingHandoff:r}=this.state;if(!n||e.authenticated||r||(this.state.conditionalMediationAbortController.abort(),this.loginOrSSO(n,i)),t.errors!==this.state.errors){var l,a,o;this.hasError("password")?null===(l=this.passwordRef)||void 0===l||l.focus():this.hasError("email")||this.hasError("login")?null===(a=this.loginRef)||void 0===a||a.focus():this.hasError("code")&&(null===(o=this.codeRef)||void 0===o||o.focus())}}get loginSource(){let{giftCode:e,guildTemplate:t,invite:n,loginSource:i,redirectTo:r}=this.props;if(null!=i)return i;if(null!=e)return"gift";if(null!=t)return"guild_template";if(null!=n){if(null!=n.guild)return"guild_invite";if(null!=n.channel)return"dm_invite";if(null!=n.inviter)return"friend_invite"}return null!=r?(0,f.L)(r):null}get giftCodeSKUId(){let{giftCode:e}=this.props;return null!=e?e.skuId:null}get canShowChooseAccount(){return this.props.hasLoggedInAccounts}loginOrSSO(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&null!=t&&(this.setState({redirecting:!0}),n?g.Z.verifySSOToken().then(()=>this.transitionSSO(t)):this.transitionSSO(t))}transitionSSO(e){let{transitionTo:t,redirectTo:n,replaceWith:i}=this.props,r=null!=e?(0,c.parse)(e.search):{};if(delete r.redirect_to,null!=n)null!=i?i(n):t(n);else if(null==r.service)t(z.Z5c.APP);else{let e=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+z.ANM.SSO,t={...r,token:P.default.getToken()};window.location="".concat(e,"?").concat((0,c.stringify)(t))}}hasError(e){return null!=this.state.errors[e]}renderHandOffAvailable(){let{authBoxClassName:e}=this.props;return(0,r.jsxs)(I.ZP,{className:e,children:[(0,r.jsx)(I.Hh,{}),(0,r.jsx)(I.Dx,{className:W.marginBottom8,children:V.intl.string(V.t.S6RMND)}),(0,r.jsx)(I.DK,{children:V.intl.string(V.t.YZiJbm)})]})}renderHandOffContinue(){let{user:e,transitionTo:t,authBoxClassName:n}=this.props;return null==e?null:(0,r.jsxs)(I.ZP,{className:n,children:[(0,r.jsx)(I.qE,{src:e.getAvatarURL(void 0,100),size:h.EFr.DEPRECATED_SIZE_100,className:W.marginBottom20}),(0,r.jsx)(I.Dx,{className:W.marginBottom8,children:V.intl.format(V.t.ot19ho,{name:e.toString()})}),(0,r.jsx)(I.DK,{className:W.marginBottom40,children:V.intl.string(V.t["2xkqzc"])}),(0,r.jsxs)(I.gO,{children:[(0,r.jsx)(I.zx,{onClick:()=>t(z.Z5c.APP),className:W.marginBottom8,children:V.intl.format(V.t.fohtv7,{name:e.toString()})}),(0,r.jsx)(I.zx,{look:I.zx.Looks.LINK,color:I.zx.Colors.LINK,onClick:this.handleReset,children:V.intl.string(V.t.nO564e)})]})]})}renderDisabledAccount(){let{authBoxClassName:e}=this.props,t=this.props.loginStatus===z.u34.ACCOUNT_DISABLED,n=t?V.intl.string(V.t["j3rC+f"]):V.intl.string(V.t.ZFWofn),i=t?V.intl.string(V.t["6eNTWV"]):V.intl.string(V.t.pCBti4);return(0,r.jsx)(I.ZP,{tag:"form",onSubmit:this.handleReset,className:e,children:(0,r.jsxs)(h.y5t,{component:(0,r.jsx)(I.Dx,{className:W.marginBottom8,children:n}),children:[(0,r.jsx)(I.DK,{className:W.marginBottom20,children:i}),(0,r.jsxs)(I.gO,{children:[(0,r.jsx)(I.zx,{color:I.zx.Colors.BRAND,type:"submit",children:V.intl.string(V.t.JhDw5u)}),(0,r.jsx)("div",{className:s()(W.marginTop8,K.needAccount),children:V.intl.format(V.t.js2rr6,{onClick:this.handleCancelAccountDeletion})})]})]})})}renderResolving(){let{authBoxClassName:e,country:t}=this.props;return(0,r.jsxs)(I.ZP,{className:e,children:[(0,r.jsx)(M.R,{}),(0,r.jsxs)(I.gO,{className:W.marginTop20,children:[(0,r.jsx)(L.Z,{className:W.marginBottom20,alpha2:t.alpha2,countryCode:t.code.split(" ")[0],label:V.intl.string(V.t.tUjnxs),onChange:(e,t)=>this.setState({login:e,loginPrefix:t}),setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!0,required:!0}),(0,r.jsx)(I.II,{className:W.marginBottom20,label:V.intl.string(V.t["CIGa+/"]),onChange:e=>this.setState({password:e}),type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password,required:!0}),(0,r.jsx)(I.zx,{className:W.marginBottom8,type:"submit",disabled:!0,children:V.intl.string(V.t.dKhVQE)}),(0,r.jsx)(I.zx,{disabled:!0,look:I.zx.Looks.LINK,color:I.zx.Colors.LINK,children:V.intl.string(V.t.wWIufn)}),(0,r.jsx)(I.zx,{disabled:!0,className:W.marginTop4,look:I.zx.Looks.LINK,color:I.zx.Colors.LINK,children:V.intl.string(V.t.tmE73t)})]})]})}renderDefaultForm(e){var t;let n;let{invite:i,giftCode:l,loginStatus:a,country:o,showMobileWebHandoff:c,disableAutofocusOnDefaultForm:d}=this.props,u=!this.hasError("email")&&this.hasError("password"),_=(null==i?void 0:i.stage_instance)!=null;return n=null==i||_?null!=l?(0,r.jsx)(B.Z,{giftCode:l}):(0,r.jsxs)("div",{className:K.header,children:[(0,r.jsx)(I.Dx,{className:W.marginBottom8,children:V.intl.string(V.t["7fNJgI"])},"title"),!1===(0,w.isAndroidWeb)()?(0,r.jsx)(I.DK,{children:V.intl.string(V.t.euS7r6)},"subtitle"):null]}):(0,r.jsx)(M.Z,{invite:i}),(0,r.jsxs)(C.Z,{direction:C.Z.Direction.HORIZONTAL,align:C.Z.Align.CENTER,children:[(0,r.jsxs)("div",{className:K.mainLoginContainer,children:[this.canShowChooseAccount&&this.state.dismissedChooseAccount&&(0,r.jsx)(I.zx,{onClick:()=>{this.setState(e=>({...e,dismissedChooseAccount:!1}))},look:I.zx.Looks.LINK,color:I.zx.Colors.PRIMARY,className:K.goBackButton,children:(0,r.jsxs)("div",{className:K.content,children:[(0,r.jsx)(h.V7D,{size:"xs",color:"currentColor",className:K.caret}),(0,r.jsx)(h.Text,{variant:"text-md/normal",children:V.intl.string(V.t["1MrpWF"])})]})}),n,(0,r.jsx)(h.y5t,{children:(0,r.jsxs)(I.gO,{className:W.marginTop20,children:[(0,r.jsx)(L.Z,{alpha2:o.alpha2,countryCode:o.code.split(" ")[0],className:W.marginBottom20,label:V.intl.string(V.t.tUjnxs),error:null!==(t=this.renderError("login"))&&void 0!==t?t:this.renderError("email"),onChange:(e,t)=>this.setState({login:e,loginPrefix:t}),setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"webauthn",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!u&&!c&&!d,required:!0}),(0,r.jsx)(I.II,{label:V.intl.string(V.t["CIGa+/"]),error:this.renderError("password"),onChange:e=>this.setState({password:e}),name:"password",type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:u&&!c&&!d,value:this.state.password,required:!0}),(0,r.jsx)(I.zx,{onClick:this.handleForgotPassword,look:I.zx.Looks.LINK,color:I.zx.Colors.LINK,className:s()(W.marginBottom20,W.marginTop4),children:V.intl.string(V.t.wWIufn)}),(0,r.jsx)(I.zx,{type:"submit",submitting:a===z.u34.LOGGING_IN,color:_?I.zx.Colors.GREEN:I.zx.Colors.BRAND,className:W.marginBottom8,children:_?V.intl.string(V.t.wvVThI):V.intl.string(V.t.dKhVQE)}),(0,r.jsxs)("div",{className:W.marginTop4,children:[(0,r.jsx)("span",{className:K.needAccount,children:V.intl.string(V.t.tmE73t)}),(0,r.jsx)(I.zx,{onClick:this.handleGotoRegister,look:I.zx.Looks.LINK,color:I.zx.Colors.LINK,className:K.smallRegisterLink,children:V.intl.string(V.t.pV8xeX)})]})]})})]}),(0,r.jsx)(h.y5t,{children:e?(0,r.jsx)(G.Z,{authTokenCallback:this.handleAuthToken,conditionalMediationAbortController:this.state.conditionalMediationAbortController}):null})]},"form-wrapper")}renderDefault(){let{authBoxClassName:e,showMobileWebHandoff:t}=this.props;return(0,r.jsxs)("div",{className:K.__invalid_pageContainer,children:[(0,r.jsx)(I.ZP,{onSubmit:this.handleLogin,tag:"form",className:e,expanded:!0,children:this.renderDefaultForm(!0)}),t&&(0,r.jsx)(S.Z,{})]})}renderGuildTemplate(e){return(0,r.jsx)(F.Z,{onSubmit:this.handleLogin,tag:"form",className:s()(this.props.authBoxClassName,K.horizontalAuthBox),children:()=>[(0,r.jsx)(v.Z,{guildTemplate:e},"template"),this.renderDefaultForm(!1)]})}renderMFA(){let e={ticket:this.props.mfaTicket,methods:this.props.mfaMethods};return(0,r.jsx)(I.ZP,{style:{padding:0},children:(0,r.jsx)(T.Cd,{mfaFinish:this.handleTokenSubmitMFA,mfaChallenge:e,onEarlyClose:()=>{_.Z.dispatch({type:"LOGIN_RESET"})},width:480})})}renderIPAuthorization(){let{authBoxClassName:e}=this.props,{phoneVerifyError:t}=this.state;return(0,r.jsx)(I.ZP,{tag:"form",className:e,children:(0,r.jsx)(x.Z,{title:V.intl.string(V.t.w55Ocn),subtitle:V.intl.format(V.t.CfRZBg,{onResendClick:this.handleResendCode}),error:t,onSubmit:this.handleIPAuthorize,onCancel:this.loginReset})})}renderPasswordRecovery(){let{authBoxClassName:e}=this.props,{phoneVerifyError:t}=this.state;return(0,r.jsx)(I.ZP,{tag:"form",className:e,children:(0,r.jsx)(x.Z,{title:V.intl.string(V.t["+xqy3d"]),subtitle:V.intl.format(V.t.ef4uZ2,{onResendClick:this.handleResendCode}),error:t,onSubmit:this.handlePasswordReset,onCancel:this.loginReset})})}renderChooseAccount(){return(0,r.jsx)(b.Z,{onDismiss:()=>{this.setState(e=>({...e,dismissedChooseAccount:!0}))}})}render(){let{authenticated:e,invite:t,guildTemplate:n,loginStatus:i,handoffAvailable:l}=this.props,{checkingHandoff:a,redirecting:o}=this.state;if(o||a)return(0,r.jsx)(Y,{});if(l)return this.renderHandOffAvailable();if(e&&a)return this.renderHandOffContinue();switch(i){case z.u34.LOGGING_IN_MFA_SMS:case z.u34.MFA_SMS_STEP:case z.u34.LOGGING_IN_MFA:case z.u34.MFA_STEP:return this.renderMFA();case z.u34.ACCOUNT_SCHEDULED_FOR_DELETION:case z.u34.ACCOUNT_DISABLED:return this.renderDisabledAccount();case z.u34.PHONE_IP_AUTHORIZATION:return this.renderIPAuthorization();case z.u34.PASSWORD_RECOVERY_PHONE_VERIFICATION:return this.renderPasswordRecovery();case z.u34.LOGGING_IN:case z.u34.NONE:default:if(null!=t&&t.state===z.r2o.RESOLVING)return this.renderResolving();if(null!=n){if(n.state===H.Rj.RESOLVING)return this.renderResolving();return this.renderGuildTemplate(n)}if(this.canShowChooseAccount&&!this.state.dismissedChooseAccount)return this.renderChooseAccount();return this.renderDefault()}}constructor(e){var t,n;super(e),q(this,"loginRef",void 0),q(this,"passwordRef",void 0),q(this,"codeRef",void 0),q(this,"handleAuthToken",async e=>{this.setState({errors:{}}),await g.Z.loginToken(e,!1),k.default.track(z.rMx.LOGIN_SUCCESSFUL,{source:z.uRl.QR_CODE,login_source:this.loginSource,gift_code_sku_id:this.giftCodeSKUId,is_new_user:!1})}),q(this,"loginReset",()=>{this.setState({errors:{}}),g.Z.loginReset()}),q(this,"setLoginRef",e=>{this.loginRef=e}),q(this,"setPasswordRef",e=>{this.passwordRef=e}),q(this,"setCodeRef",e=>{this.codeRef=e}),q(this,"getFullLogin",()=>{let{loginPrefix:e,login:t}=this.state;return e+t}),q(this,"renderError",e=>{let{errors:t}=this.state;if(this.hasError(e)){let n=t[e];return Array.isArray(n)?n[0]:n}return null}),q(this,"handleLogin",async e=>{let{password:t,undelete:n}=this.state;null==e||e.preventDefault(),U.S.dispatch(z.CkL.WAVE_EMPHASIZE),this.setState({errors:{}});try{await g.Z.login({login:this.getFullLogin(),password:t,undelete:n,source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId,invite:this.props.invite})}catch(t){let e=(0,E.p)(t);this.setState({errors:e})}}),q(this,"handleIPAuthorize",async e=>{let t=this.getFullLogin();this.setState({errors:{}});try{let{token:n}=await Z.Z.verifyPhone(t,e,!1);await g.Z.authorizeIPAddress(n),this.handleLogin()}catch(e){null!=e.body&&null!=e.body.message&&this.setState({phoneVerifyError:e.body.message})}}),q(this,"handlePasswordReset",async e=>{let{transitionTo:t}=this.props;this.setState({phoneVerifyError:null});try{let{token:n}=await Z.Z.verifyPhone(this.getFullLogin(),e,!1);t(z.Z5c.RESET,{search:(0,c.stringify)({token:n,from_login:"true"})})}catch(e){null!=e.body&&null!=e.body.message&&this.setState({phoneVerifyError:e.body.message})}}),q(this,"handleTokenSubmitMFA",e=>{let{mfaType:t,data:n,ticket:i}=e;return U.S.dispatch(z.CkL.WAVE_EMPHASIZE),g.Z.loginMFAv2({code:n,ticket:i,mfaType:t,source:this.loginSource,giftCodeSKUId:this.giftCodeSKUId})}),q(this,"handleForgotPassword",async e=>{null!=e&&e.preventDefault(),null!=this.loginRef&&this.loginRef.focus();let t=this.getFullLogin();this.setState({errors:{}});try{if(U.S.dispatch(z.CkL.WAVE_EMPHASIZE),!await g.Z.forgotPassword(t))return;(0,h.h7j)(e=>(0,r.jsx)(h.ConfirmModal,{header:V.intl.string(V.t.f5Pi7O),confirmText:V.intl.string(V.t.BddRzc),confirmButtonColor:I.zx.Colors.BRAND,className:d.tq?K.mobile:"",...e,children:(0,r.jsx)(h.Text,{variant:"text-md/normal",children:V.intl.format(V.t["6u5hQ0"],{email:t})})}))}catch(t){let e=(0,E.p)(t);this.setState({errors:e})}}),q(this,"handleResendCode",()=>{Z.Z.resendCode(this.getFullLogin())}),q(this,"handleReset",e=>{null!=e&&e.preventDefault(),g.Z.loginReset(),this.setState({password:"",loginPrefix:"",login:"",code:"",smsCode:"",undelete:!1,checkingHandoff:!1,redirecting:!1,errors:{}})}),q(this,"handleCancelAccountDeletion",()=>{this.setState({undelete:!0},this.handleLogin)}),q(this,"handleGotoRegister",()=>{let e;let{login:t}=this.state,{invite:n,giftCode:i,guildTemplate:r,location:l,transitionTo:a,redirectTo:o}=this.props,s=null!=l?(0,c.parse)(l.search):{};""!==t&&(s.email=t),null!=n?(s.mode="register",e=z.Z5c.INVITE(n.code)):null!=i?(s.mode="register",e=z.Z5c.GIFT_CODE(i.code)):null!=r?e=z.Z5c.GUILD_TEMPLATE(r.code):null!=o?(e=z.Z5c.REGISTER,s.redirect_to=o):e=z.Z5c.REGISTER,this.loginReset(),a(e,{search:(0,c.stringify)(s)}),U.S.dispatch(z.CkL.WAVE_EMPHASIZE)});let i=null!=e.location?(0,c.parse)(e.location.search):{};this.state={redirecting:e.authenticated,checkingHandoff:e.handoffAvailable,loginPrefix:"",login:null!==(n=null!==(t=i.email)&&void 0!==t?t:i.login)&&void 0!==n?n:"",password:"",code:"",smsCode:"",undelete:!1,phoneVerifyError:null,dismissedChooseAccount:!1,conditionalMediationAbortController:new AbortController,errors:{}}}}q(J,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let X=function(e){let t=(0,u.cj)([y.Z,D.Z,P.default,A.Z,R.Z],()=>({authenticated:P.default.isAuthenticated(),handoffAvailable:y.Z.isHandoffAvailable(),user:y.Z.user,loginStatus:P.default.getLoginStatus(),mfaTicket:P.default.getMFATicket(),mfaMethods:P.default.getMFAMethods(),defaultRoute:D.Z.defaultRoute,country:R.Z.getCountryCode(),hasLoggedInAccounts:A.Z.getHasLoggedInAccounts()}));return(0,r.jsx)(J,{...e,...t})}},209411:function(e,t,n){n.d(t,{Z:()=>E}),n(47120),n(773603);var i=n(200651),r=n(192379),l=n(593473),a=n(512969),o=n(442837),s=n(893776),c=n(899742),d=n(493773),u=n(743142),h=n(893607),_=n(703656),g=n(314897),p=n(781428),m=n(981631),f=n(176505);function E(e){let t=r.useCallback(t=>{if(function(e){var t;let n=(0,a.LX)(e,{path:m.Z5c.CHANNEL(h.Hw.guildId(),h.Hw.channelId())});return(null==n?void 0:null===(t=n.params)||void 0===t?void 0:t.channelId)===f.oC.ROLE_SUBSCRIPTIONS}(t))_.dL(t);else{var n;(null!==(n=e.transitionTo)&&void 0!==n?n:_.uL)(t)}},[e.transitionTo]),{isAuthenticated:n,loginStatus:E}=(0,o.cj)([g.default],()=>({isAuthenticated:g.default.isAuthenticated(),loginStatus:g.default.getLoginStatus()})),{location:I,redirectTo:x}=e,[C,N]=r.useState(n);function v(e){let{handoffKey:t,handoffToken:n,handoffSource:i}=e;(0,c.Yz)({handoffKey:t,handoffToken:n,handoffSource:i}),N(!1)}return((0,d.Z)(()=>{if(null!=I){let{handoff_key:e,handoff_token:t}=(0,l.parse)(I.search);if(null!=e&&null!=t){let n=null!=x?(0,u.L)(x):void 0;C?s.Z.logout(null).finally(()=>{v({handoffKey:e,handoffToken:t,handoffSource:n})}):v({handoffKey:e,handoffToken:t,handoffSource:n})}}}),C||E===m.u34.LOGGING_IN)?(0,i.jsx)(p.q,{}):(0,i.jsx)(p.Z,{...e,transitionTo:t})}},494526:function(e,t,n){n.d(t,{Z:()=>P}),n(47120),n(411104);var i=n(200651),r=n(192379),l=n(533126),a=n(261470),o=n(399606),s=n(544891),c=n(481060),d=n(893776),u=n(99690),h=n(937154),_=n(448986),g=n(388905),p=n(198993),m=n(710845),f=n(314897),E=n(585483),I=n(358085),x=n(172517),C=n(51144),N=n(998502),v=n(981631),T=n(231338),S=n(388032),A=n(360860),b=n(232186);let Z=n(515695),R=new m.Z("LoginQRSocket");function L(e){let{text:t=""}=e,[n,l]=r.useState(!1);return r.useEffect(()=>{let e=new Image;e.src=Z,e.onload=()=>l(!0),e.onerror=()=>l(!0)},[Z]),r.useEffect(()=>{n&&c.uvj.announce(S.intl.string(S.t.j2p129))},[n]),(0,i.jsx)("div",{className:A.qrCodeContainer,children:""!==t&&n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.ZP,{className:A.qrCode,size:160,text:t}),(0,i.jsx)("div",{className:A.qrCodeOverlay,children:(0,i.jsx)("img",{src:Z,alt:""})})]}):(0,i.jsx)("div",{className:A.qrCodeOverlay,"aria-label":S.intl.string(S.t.BUGkVF),"aria-busy":!0,children:(0,i.jsx)(c.$jN,{className:A.qrCode,type:c.$jN.Type.WANDERING_CUBES,"aria-hidden":!0})})})}let j=e=>{let{className:t,children:n}=e;return(0,i.jsx)(c.Text,{variant:"text-md/normal",color:"text-danger",className:t,children:n})};function O(e){let{state:t,cancel:n,errorMessage:r,conditionalMediationAbortController:a,isPasswordlessActive:o}=e;switch(t.step){case 0:case 1:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{text:1===t.step?"https://discord.com/ra/".concat(t.fingerprint):""}),(0,i.jsx)(g.Dx,{className:b.marginBottom8,children:S.intl.string(S.t.UPiHaG)}),null!=r?(0,i.jsx)(j,{children:r}):(0,i.jsx)(g.DK,{children:S.intl.format(S.t["Qq+A6u"],{})}),(0,i.jsx)(c.zxk,{size:c.PhG.LARGE,look:c.iLD.LINK,color:c.Ttl.LINK,disabled:o,onClick:()=>(function(e){let t=I.isPlatformEmbedded&&N.ZP.supportsFeature(v.eRX.WEBAUTHN)?N.ZP.webAuthnAuthenticate:e=>{let t=(0,l.wz)(JSON.parse(e));return(0,l.U2)(t).then(e=>JSON.stringify(e))};d.Z.authenticatePasswordless({authenticateFunc:t,conditionalMediationAbortController:e}).catch(()=>{})})(a),children:S.intl.string(S.t["/kpMDg"])})]});case 3:case 2:{let{user:e}=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{className:A.qrAvatar,user:e,size:c.EFr.SIZE_120,isMobile:!0,status:T.Sk.ONLINE}),(0,i.jsx)(g.Dx,{className:b.marginBottom8,children:S.intl.string(S.t.apGCUV)}),(0,i.jsx)(g.DK,{children:S.intl.format(S.t.Cbl5JC,{username:"".concat(C.ZP.getUserTag(e))})}),(0,i.jsx)(c.zxk,{look:c.zxk.Looks.BLANK,color:c.zxk.Colors.LINK,size:c.zxk.Sizes.MIN,onClick:n,className:A.startOverButton,children:S.intl.string(S.t.nOOhws)})]})}case 4:case 5:return(0,i.jsx)(c.$jN,{type:c.$jN.Type.WANDERING_CUBES})}}function P(e){let{authTokenCallback:t,conditionalMediationAbortController:n}=e,l=(0,o.e7)([f.default],()=>f.default.getIsPasswordlessActive()),{state:d,rsaKeyPair:u,cancel:g,handleFailure:p}=function(e){let[t,n]=r.useState(0),[i,l]=r.useState(!1),[o,s]=r.useState({step:0}),[c,d]=r.useState(null),u=(0,h.Z)(),g=r.useMemo(()=>new a.Z(1500,3e4),[]),p=(0,_.Z)(()=>{s({step:0}),u?n(e=>e+1):(R.info("document is not visible, will defer reconnection when document becomes visible."),l(!0))}),m=r.useCallback(()=>{R.error("Could not complete QR code login, trying to restart with a new QR code."),s({step:0}),g.pending||g.fail(p)},[p,g]);return r.useEffect(()=>{u&&i&&0===o.step&&(R.info("reconnecting, now that document is visible"),l(!1),n(e=>e+1))},[o,u,i,l]),r.useEffect(()=>{let t=Date.now(),n=()=>"".concat(Date.now()-t,"ms"),i="wss:".concat(window.GLOBAL_ENV.REMOTE_AUTH_ENDPOINT,"/?v=2"),r=new WebSocket(i);R.info("[0ms] connecting to ".concat(i));let l=e=>R.info("[".concat(n(),"] ").concat(e)),a=null,o=null,c=null,u=null,h=!0;function _(){if(null!=a)return a;throw Error("No key pair set")}let f=()=>{h?(h=!1,r.send(JSON.stringify({op:"heartbeat"}))):(l("heartbeat timeout, reconnecting."),r.close(),m())};return r.onmessage=async t=>{let{data:n}=t,i=JSON.parse(n);switch(i.op){case"nonce_proof":{let e=i.encrypted_nonce,t=await (0,x.qd)(_(),e);l("computed nonce proof"),r.send(JSON.stringify({op:"nonce_proof",nonce:t}));return}case"pending_remote_init":{g.succeed(),E.S.dispatch(v.CkL.WAVE_EMPHASIZE);let e=await (0,x.Pk)(_());if(e!==i.fingerprint)throw Error("bad fingerprint ".concat(e," !== ").concat(i.fingerprint));l("handshake complete awaiting remote auth."),s({step:1,fingerprint:e});return}case"pending_login":{let e=i.ticket;null==e&&m(),s({step:4,ticket:e});return}case"pending_ticket":{E.S.dispatch(v.CkL.WAVE_EMPHASIZE),l("remote auth handshake started, awaiting ticket/cancel.");let e=i.encrypted_user_payload;s({step:3,user:await (0,x.Rq)(_(),e)});return}case"pending_finish":{E.S.dispatch(v.CkL.WAVE_EMPHASIZE),l("remote auth handshake started, awaiting finish/cancel.");let e=i.encrypted_user_payload;s({step:2,user:await (0,x.Rq)(_(),e)});return}case"finish":{E.S.dispatch(v.CkL.WAVE_EMPHASIZE),l("remote auth handshake finished.");let t=i.encrypted_token;s({step:5}),e(await (0,x.FW)(_(),t));return}case"cancel":l("remote auth handshake cancelled."),p();return;case"hello":{l("got hello, auth timeout=".concat(i.timeout_ms,"ms"));let e=i.heartbeat_interval;u=setTimeout(()=>{u=null,f(),c=setInterval(f,e)},Math.floor(e*Math.random()));return}case"heartbeat_ack":h=!0}},r.onopen=async()=>{a=await (0,x.W_)(),o=await (0,x.dK)(a);let e=await (0,x.Pk)(a);l("connected, handshaking with fingerprint: ".concat(e)),r.send(JSON.stringify({op:"init",encoded_public_key:o})),d(a)},r.onclose=e=>{l("disconnected, code: ".concat(e.code," ").concat(e.reason)),m()},r.onerror=e=>{l("disconnected, error: ".concat(JSON.stringify(e))),m()},()=>{l("cleaning up"),r.onopen=()=>null,r.onmessage=()=>null,r.onclose=()=>null,r.onerror=()=>null,r.close(1e3),g.cancel(),null!=u&&clearTimeout(u),null!=c&&clearInterval(c)}},[p,e,t,g,m]),{state:o,rsaKeyPair:c,cancel:p,handleFailure:m}}(t),m=function(e){switch(e){case 0:case 1:return 0;case 3:case 2:case 4:case 5:return 1}}(d.step);return r.useEffect(()=>{4===d.step&&null!=d.ticket&&s.tn.post({url:v.ANM.REMOTE_AUTH_LOGIN,body:{ticket:d.ticket},oldFormErrors:!0,rejectWithError:!0}).then(async e=>{if(null!=u)try{let n=await (0,x.FW)(u,e.body.encrypted_token);t(n)}catch(e){p()}else p()}).catch(()=>{p()})},[d,t,u,p]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:A.verticalSeparator}),(0,i.jsx)(c.qBt,{fillParent:!0,className:A.qrLogin,step:m,steps:[0,1],children:(0,i.jsx)("div",{className:A.qrLoginInner,children:(0,i.jsx)(O,{state:d,cancel:g,conditionalMediationAbortController:n,isPasswordlessActive:l})})})]})}},163671:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(388905),o=n(854674);function s(e){let{children:t,className:n,...r}=e,s=t();return(0,i.jsx)(a.ZP,{...r,className:l()(n,o.container),contentClassName:o.content,children:s.map((e,t)=>(0,i.jsx)("div",{className:o.column,style:{flexBasis:"".concat(100/s.length,"%")},children:e},t))})}},649156:function(e,t,n){n.d(t,{Z:()=>o});var i=n(200651);n(192379);var r=n(3570),l=n(685311),a=n(186901);let o=function(e){let{match:t,location:n}=e,o=async(e,t)=>{await (0,r.s)(a.jE.PICK_GUILD_SETTINGS,{section:e.params.section,subsection:e.params.subsection,search:t.search})};return(0,i.jsx)(l.Z,{match:t,location:n,attemptDeepLink:o})}},423527:function(e,t,n){n.d(t,{Z:()=>ed}),n(757143),n(47120),n(627341);var i,r=n(200651),l=n(192379),a=n(120356),o=n.n(a),s=n(593473),c=n(278074),d=n(990547),u=n(442837),h=n(846519),_=n(481060),g=n(893776),p=n(881052),m=n(899370),f=n(224841),E=n(13430),I=n(213609),x=n(882037),C=n(201207),N=n(254942),v=n(481230),T=n(388905),S=n(853268),A=n(639946),b=n(616952),Z=n(792766),R=n(692483),L=n(100159),j=n(473855),O=n(726745),P=n(929809),y=n(541692),D=n(986197),k=n(135200),U=n(219496),w=n(794099),B=n(807369),M=n(180529),G=n(108427),F=n(314897),z=n(480294),H=n(896797),V=n(626135),K=n(585483),W=n(70956),q=n(624138),Y=n(481153),J=n(588705),X=n(163671),Q=n(981631),$=n(355142),ee=n(188785),et=n(701476),en=n(801461),ei=n(388032),er=n(240854),el=n(232186);function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.ZP.initialize();let eo=/\.$/,es=e=>Array.isArray(e)?e.map(e=>e.replace(eo,"")).join(". ").trim():e;class ec extends(i=l.PureComponent){get registrationSource(){let{giftCode:e,guildTemplate:t,invite:n}=this.props;if(null!=e)return"gift";if(null!=t)return"guild_template";if(null!=n){if(null!=n.guild)return"guild_invite";if(null!=n.channel)return"dm_invite";if(null!=n.inviter)return"friend_invite"}return null}hasConsent(){let{consentRequired:e}=this.props,{consent:t}=this.state;return null!=e&&t}componentDidMount(){this.redirectIfAuthenticated(),C.Z.trackExposure({location:"0ba758_1"});let{giftCodeSKU:e,invite:t}=this.props;V.default.track(Q.rMx.REGISTER_VIEWED,{location:null!=t?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource,...null!=e?(0,L.Z)(e,!1,!1):{}},{flush:!0}),null==this.props.consentRequired&&g.Z.getLocationMetadata(),(0,G.e)("register")}componentWillUnmount(){this._retryTimer.stop()}static getDerivedStateFromProps(e,t){let{consentRequired:n}=e,{consentRequiredProp:i}=t;return null==i&&null!=n?{consent:!n,consentRequiredProp:n}:{consentRequiredProp:n}}componentDidUpdate(e,t){let{authenticated:n,isUnderage:i,invite:r,onChangeStep:l}=this.props,{apiErrors:a,parsedDateOfBirth:o}=this.state;(t.apiErrors!==a||t.parsedDateOfBirth!==o)&&(this.hasError("email")||this.hasError("phone")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("global_name")?null!=this.globalNameRef&&this.globalNameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():null==this.state.parsedDateOfBirth?null!=this.dateOfBirthRef.current&&this.dateOfBirthRef.current.focus():this.hasError("retry_after")&&"number"==typeof a.retry_after&&(this.setState({isRateLimited:!0}),this._retryTimer.start(a.retry_after*W.Z.Millis.SECOND,()=>{this.setState({isRateLimited:!1})}))),n&&!e.authenticated&&((0,P.c)(et.M5.ORGANIC_REGISTERED),this.redirectIfAuthenticated());let s=$.EW.FULL;i||this.hasError("date_of_birth")?s=$.EW.AGE_GATE:null!=r&&(null!=r.guild||null!=r.channel)&&(s=$.EW.INVITE),l(s)}redirectIfAuthenticated(){let{authenticated:e,transitionTo:t,redirectTo:n}=this.props;e&&t(null!=n?n:H.Z.defaultRoute)}async handleRegister(){let{email:e,username:t,globalName:n,password:i,consent:r,parsedDateOfBirth:l}=this.state,{invite:a,guildTemplate:o,giftCode:s,onRegister:c,usernameSuggestion:d,isMobileWebInviteRegistration:u}=this.props,h=null!=a?a.code:null,_=null!=s?s.skuId:null,g=x.MD.getState(),m=(0,q.Ew)(d)?null:t===d,f=ee.a?await (0,R.K)(t):t,E=ee.a?await (0,R.K)(n):n;K.S.dispatch(Q.CkL.WAVE_EMPHASIZE),this.setState({registering:!0,apiErrors:{}});try{u||null==a?await (0,v.R$)({email:e,username:f,globalName:E,consent:r,password:i,invite:h,usedUsernameSuggestion:m,guildTemplateCode:null==o?void 0:o.code,giftCodeSKUId:_,birthday:l,promoEmailConsent:g.required?g:null}):await (0,v.ZP)({consent:r,invite:h,giftCodeSKUId:_,usedUsernameSuggestion:m,globalName:E}),null==c||c()}catch(t){if(this.setState({registering:!1}),!(t instanceof p.Hx))return;let e=(0,N.F)(t);this.setState({apiErrors:e})}}hasError(e){return null!=this.state.apiErrors[e]}renderConsentComponents(){let{consent:e}=this.state,{consentRequired:t,registrationCopyExperimentConfig:{enableNewCopy:n,hasProminentCopy:i}}=this.props,l=null,a=null;return t?a=(0,r.jsx)(S.Z,{value:e,onChange:e=>this.setState({consent:e}),subText:ei.intl.format(ei.t.qMDAPz,{termsURL:Q.EYA.TERMS,privacyURL:Q.EYA.PRIVACY})}):l=(0,r.jsx)(T.i_,{isProminent:!!i,className:el.marginTop8,children:n?ei.intl.format(ei.t.oRFxPj,{buttonText:ei.intl.string(ei.t["3PatS0"]),termsURL:Q.EYA.TERMS,privacyURL:Q.EYA.PRIVACY}):ei.intl.format(ei.t["F+0zT0"],{termsURL:Q.EYA.TERMS,privacyURL:Q.EYA.PRIVACY})}),{subText:l,consentText:a}}renderInviteResolving(){let{authBoxClassName:e}=this.props,t=e=>{this.setState({globalName:e})},n=this.state.globalName;return(0,r.jsxs)(T.ZP,{className:e,children:[(0,r.jsx)(J.R,{}),(0,r.jsxs)(T.gO,{className:el.marginTop40,children:[(0,r.jsx)(_.vwX,{children:ei.intl.string(ei.t.TWzdWl)}),(0,r.jsx)(_.ua7,{text:ei.intl.string(ei.t["hBB85+"]),position:"right",color:_.ua7.Colors.BRAND,children:e=>{let{onMouseEnter:i,onMouseLeave:l}=e;return(0,r.jsx)(T.II,{autoFocus:!0,className:el.marginBottom8,name:"username",value:n,placeholder:ei.intl.string(ei.t["09Q8ys"]),onChange:t,onMouseEnter:i,onMouseLeave:l})}}),(0,r.jsx)(T.zx,{className:el.marginTop20,disabled:!0,children:ei.intl.string(ei.t["3PatS0"])}),(0,r.jsx)(T.i_,{disabled:!0,className:el.marginTop8,children:ei.intl.format(ei.t["F+0zT0"],{termsURL:Q.EYA.TERMS,privacyURL:Q.EYA.PRIVACY})}),ee.a?null:(0,r.jsx)(T.zx,{look:T.zx.Looks.LINK,color:T.zx.Colors.LINK,disabled:!0,className:el.marginTop20,children:ei.intl.string(ei.t["r/jzu7"])})]})]})}renderInviteHeader(){let{invite:e}=this.props;return(null==e?void 0:e.stage_instance)!=null&&null!=e.guild?(0,r.jsx)(Z.Z,{stageInstance:e.stage_instance,guild:e.guild}):(null==e?void 0:e.guild_scheduled_event)!=null?(0,r.jsx)(A.r,{channel:e.channel,guildScheduledEvent:e.guild_scheduled_event}):(0,r.jsx)(J.Z,{invite:e})}renderInviteButton(){let{invite:e,consentRequired:t}=this.props,{consent:n,registering:i}=this.state,l=T.zx.Colors.BRAND,a=ei.intl.string(ei.t["3PatS0"]);return(null==e?void 0:e.stage_instance)!=null&&(l=T.zx.Colors.GREEN,a=ei.intl.string(ei.t["5UKyUl"])),(0,r.jsx)(_.ua7,{text:!n&&t?ei.intl.string(ei.t.AY4IVF):null,children:e=>(0,r.jsx)("div",{className:el.marginTop20,...e,children:(0,r.jsx)(T.zx,{type:"submit",submitting:i,disabled:!this.hasConsent(),color:l,children:a})})})}renderInvite(){let{invite:e,authBoxClassName:t}=this.props,{apiErrors:{username:n,global_name:i},globalName:l}=this.state,{subText:a,consentText:o}=this.renderConsentComponents(),s=(null==e?void 0:e.stage_instance)!=null||(null==e?void 0:e.guild_scheduled_event)!=null,c=e=>{this.setState({globalName:e})};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(T.ZP,{onSubmit:this.handleSubmit,tag:"form",className:t,children:[this.renderInviteHeader(),s?(0,r.jsx)("div",{className:er.divider}):null,(0,r.jsxs)(T.gO,{className:s?void 0:el.marginTop40,children:[(0,r.jsx)(_.vwX,{error:es(null!=i?i:n),children:ei.intl.string(ei.t["9AjdkJ"])}),(0,r.jsx)(_.ua7,{text:ei.intl.string(ei.t["hBB85+"]),position:"right",color:_.ua7.Colors.BRAND,children:e=>{let{onMouseEnter:t,onMouseLeave:a}=e;return(0,r.jsx)(T.II,{autoFocus:!0,className:el.marginBottom8,name:"global_name",value:l,placeholder:ei.intl.string(ei.t["09Q8ys"]),onChange:c,error:null!=n||null!=i?"":null,onMouseEnter:t,onMouseLeave:a})}}),(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"header-secondary",children:ei.intl.string(ei.t["330TCQ"])}),this.renderInviteButton(),a,o,ee.a?null:(0,r.jsx)(T.zx,{look:T.zx.Looks.LINK,color:T.zx.Colors.LINK,onClick:this.handleGotoLogin,className:el.marginTop20,children:ei.intl.string(ei.t["r/jzu7"])})]})]}),null!=e&&s?(0,r.jsx)(T.ZP,{className:el.marginTop20,children:(0,r.jsx)(Z.y,{guild:e.guild,onlineCount:e.approximate_presence_count})}):null]})}renderErrorMessage(){let{apiErrors:{message:e}}=this.state;return"string"!=typeof e?null:(0,r.jsx)(T.i_,{className:o()(el.marginTop20,er.errorMessage),children:e})}renderFull(e,t){let{email:n,username:i,globalName:a,password:s,consent:c,parsedDateOfBirth:d,globalNameFocused:u,emailClientError:h,usernameClientError:g,passwordClientError:p,dateOfBirthClientError:m,registering:f,apiErrors:{email:I,username:x,global_name:C,password:N,date_of_birth:v}={}}=this.state,{consentRequired:S,isMobileWebInviteRegistration:A,uniqueUsernameRegistrationConfig:{suggestions:Z},authBoxClassName:R,hasLoggedInAccounts:L,registrationCopyExperimentConfig:{hasCopyAboveButton:j}}=this.props,{subText:O,consentText:P}=this.renderConsentComponents(),y=this.renderErrorMessage(),U=(0,r.jsx)(_.ua7,{text:!c&&S?ei.intl.string(ei.t.AY4IVF):null,children:e=>(0,r.jsx)("div",{className:el.marginTop20,...e,children:(0,r.jsx)(T.zx,{type:"submit",submitting:f,disabled:!this.hasConsent()||this.state.isRateLimited,children:ei.intl.string(ei.t["3PatS0"])})})}),w=async()=>{this.setState({usernameFocused:!0}),Z&&a.length>0&&!k.Z.wasRegistrationSuggestionFetched(a)&&await D.Z.fetchSuggestionsRegistration(a)},B=null!=e?(0,r.jsx)(l.Fragment,{children:e()},"custom-header"):(0,r.jsx)(T.Dx,{children:ei.intl.string(ei.t.wC4TlZ)},"title"),G=(0,r.jsxs)(T.gO,{className:el.marginTop20,children:[(0,r.jsx)(T.II,{autoFocus:!0,className:el.marginBottom20,label:ei.intl.string(ei.t.dI4d4e),name:"email",value:n,onChange:e=>this.setState({email:e,emailClientError:0===e.length?ei.intl.string(ei.t.EkokLy):null}),error:null!=h?h:es(I),type:"email",setRef:e=>{this.emailRef=e},required:!0}),(0,r.jsx)(T.II,{label:ei.intl.string(ei.t["9AjdkJ"]),className:el.marginBottom20,name:"global_name",value:a,onChange:e=>this.setState({globalName:e}),error:es(C),maxLength:en.hy,setRef:e=>{this.globalNameRef=e},onFocus:()=>this.setState({globalNameFocused:!0}),onBlur:()=>this.setState({globalNameFocused:!1})}),(0,r.jsx)(M.Z,{show:u,top:-12,bottom:20,children:(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:ei.intl.string(ei.t["330TCQ"])})}),(0,r.jsxs)("div",{onBlur:()=>this.setState({usernameFocused:!1}),onFocus:w,tabIndex:-1,children:[(0,r.jsx)(T.II,{label:ei.intl.string(ei.t.TWzdWl),className:el.marginBottom20,name:"username",value:i,onChange:e=>{this.setState({username:e.toLocaleLowerCase(),usernameClientError:0===e.length?ei.intl.string(ei.t.EkokLy):null})},error:null!=g?g:es(x),setRef:e=>{this.usernameRef=e},required:!0}),this.renderUsernameValidation()]}),(0,r.jsx)(T.II,{label:ei.intl.string(ei.t["CIGa+/"]),name:"password",value:s,onChange:e=>this.setState({password:e,passwordClientError:0===e.length?ei.intl.string(ei.t.EkokLy):null}),error:null!=p?p:es(N),type:"password",setRef:e=>{this.passwordRef=e},required:!0}),(0,r.jsx)(E.Z,{label:ei.intl.string(ei.t.rhBeKS),wrapperClassName:el.marginTop20,name:"date_of_birth",onChange:this.handleBirthdayChange,ref:this.dateOfBirthRef,error:null!=m?m:es(v),value:d,required:!0}),j&&O,(0,r.jsx)(b.Z,{}),U,y,P,!j&&O,ee.a?null:(0,r.jsx)(T.zx,{look:A?T.zx.Looks.FILLED:T.zx.Looks.LINK,color:A?T.zx.Colors.PRIMARY:T.zx.Colors.LINK,onClick:this.handleGotoLogin,className:el.marginTop20,children:ei.intl.string(ei.t["r/jzu7"])})]});return t?(0,r.jsx)(X.Z,{onSubmit:this.handleSubmit,tag:"form",className:o()(R,er.horizontalAuthBox),children:()=>[B,(0,r.jsxs)("div",{className:er.flex,children:[(0,r.jsx)(T.Dx,{className:er.createAccountTemplateHeader,children:ei.intl.string(ei.t.wC4TlZ)}),G]},"register-title")]}):(0,r.jsxs)(T.ZP,{onSubmit:this.handleSubmit,tag:"form",className:R,children:[L&&!A?(0,r.jsx)(T.zx,{onClick:this.handleGotoLogin,look:T.zx.Looks.LINK,color:T.zx.Colors.PRIMARY,className:er.goBackButton,children:(0,r.jsxs)("div",{className:er.content,children:[(0,r.jsx)(_.V7D,{size:"xs",color:"currentColor",className:er.caret}),(0,r.jsx)(_.Text,{variant:"text-md/normal",children:ei.intl.string(ei.t["1MrpWF"])})]})}):null,B,G]})}render(){let{isUnderage:e,isMobileWebInviteRegistration:t}=this.props;if(e||this.hasError("date_of_birth"))return(0,r.jsx)(f.Z,{});let{invite:n,giftCode:i,guildTemplate:l}=this.props,a=null!=n&&null==n.guild&&null==n.channel&&null!=n.inviter;return null==n||a||t?null!=l?this.renderFull(()=>(0,r.jsx)(j.Z,{guildTemplate:l}),!0):null!=i?this.renderFull(()=>(0,r.jsx)(Y.Z,{giftCode:i})):null!=n&&a&&n.state===Q.r2o.RESOLVED&&!t?this.renderFull(()=>(0,r.jsx)(J.Z,{invite:n,isRegister:!0})):this.renderFull():n.state===Q.r2o.RESOLVING?this.renderInviteResolving():this.renderInvite()}constructor(e){var t;super(e),ea(this,"emailRef",void 0),ea(this,"usernameRef",void 0),ea(this,"globalNameRef",void 0),ea(this,"passwordRef",void 0),ea(this,"dateOfBirthRef",l.createRef()),ea(this,"_retryTimer",new h.V7),ea(this,"handleGotoLogin",e=>{let t;let{email:n}=this.state,{giftCode:i,guildTemplate:r,invite:l,location:a,onLoginStart:o,redirectTo:c,transitionTo:d,isMobileWebInviteRegistration:u}=this.props;if(u){null==o||o(e);return}let h=null!=a?(0,s.parse)(a.search):{};null!=l?t=Q.Z5c.INVITE_LOGIN(l.code):null!=i?t=Q.Z5c.GIFT_CODE_LOGIN(i.code):null!=r?t=Q.Z5c.GUILD_TEMPLATE_LOGIN(r.code):null!=c?(t=Q.Z5c.LOGIN,h.redirect_to=c):(t=Q.Z5c.LOGIN,""!==n&&(h={email:n})),g.Z.loginReset(),d(t,{search:(0,s.stringify)(h)}),null==o||o(e),K.S.dispatch(Q.CkL.WAVE_EMPHASIZE)}),ea(this,"handleSubmit",e=>{null==e||e.preventDefault();let{email:t,username:n,password:i,parsedDateOfBirth:r}=this.state,{invite:l,consentRequired:a}=this.props;if(null!==a){if(null==l){let e=!1;if(0===t.length&&(this.setState({emailClientError:ei.intl.string(ei.t.EkokLy)}),e=!0),0===n.length&&(this.setState({usernameClientError:ei.intl.string(ei.t.EkokLy)}),e=!0),0===i.length&&(this.setState({passwordClientError:ei.intl.string(ei.t.EkokLy)}),e=!0),null==r&&(this.setState({dateOfBirthClientError:ei.intl.string(ei.t.EkokLy)}),e=!0),e)return}this.handleRegister()}}),ea(this,"handleBirthdayChange",e=>{this.setState({parsedDateOfBirth:e}),null!=e&&this.setState({dateOfBirthClientError:null})}),ea(this,"renderUsernameValidation",()=>{let{username:e,globalName:t,usernameFocused:n}=this.state,{usernameSuggestion:i,uniqueUsernameRegistrationConfig:{livecheckEnabled:l}}=this.props;return(0,r.jsx)(eu,{username:e,suggestion:i,livecheckEnabled:l,globalName:t,isUsernameFocused:n,onClickSuggestion:()=>{null!=this.usernameRef&&this.usernameRef.focus(),null!=i&&i.length>0&&this.setState({username:i})}})});let n=null!=e.location?(0,s.parse)(e.location.search):{};this.state={email:null!==(t=n.email)&&void 0!==t?t:"",username:"",globalName:"",password:"",parsedDateOfBirth:null,emailClientError:null,usernameClientError:null,passwordClientError:null,dateOfBirthClientError:null,consent:!e.consentRequired,consentRequiredProp:e.consentRequired,isRateLimited:!1,globalNameFocused:!1,usernameFocused:!1,registering:!1,apiErrors:{}}}}function ed(e){let t=(0,u.cj)([z.Z,F.default,m.Z,y.Z,O.Z],()=>({consentRequired:z.Z.getAuthenticationConsentRequired(),authenticated:F.default.isAuthenticated(),isUnderage:m.Z.isUnderageAnonymous(),country:y.Z.getCountryCode(),hasLoggedInAccounts:O.Z.getHasLoggedInAccounts()})),n=(0,w.F4)(),i=(0,u.e7)([k.Z],()=>k.Z.registrationUsernameSuggestion()),[a,o]=l.useState($.EW.FULL);return(0,I.Z)({type:d.ImpressionTypes.VIEW,name:d.ImpressionNames.USER_REGISTRATION,properties:{impression_group:d.ImpressionGroups.USER_REGISTRATION_FLOW,step:a}},{},[a]),(0,r.jsx)(ec,{onChangeStep:e=>o(e),registrationCopyExperimentConfig:C.Z.getCurrentConfig({location:"0ba758_2"},{autoTrackExposure:!1}),uniqueUsernameRegistrationConfig:n,usernameSuggestion:i,...e,...t})}function eu(e){let t,{username:n,suggestion:i,globalName:l,livecheckEnabled:a,isUsernameFocused:o,onClickSuggestion:s}=e,d=(0,B.a)(n,a,!0),u=a&&n.length>0;return t=u?(0,c.EQ)(d).with({type:U.K.ERROR,message:c.P.select()},e=>(0,r.jsx)(_.Text,{className:er.messageNegative,variant:"text-sm/normal",children:e})).with({type:U.K.AVAILABLE,message:c.P.select()},e=>(0,r.jsx)(_.Text,{className:er.messagePositive,variant:"text-sm/normal",children:e})).otherwise(()=>(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:ei.intl.string(ei.t.z7c4bG)})):null!=i&&i.length>0&&l.length>0?(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:ei.intl.format(ei.t.nDGqqq,{suggestion:i,nameOnClick:s})}):(0,r.jsx)(_.Text,{variant:"text-sm/normal",color:"text-normal",children:ei.intl.string(ei.t.z7c4bG)}),(0,r.jsx)(M.Z,{show:u&&(null==d?void 0:d.type)===U.K.ERROR||o,top:-12,bottom:20,children:t})}ea(ec,"defaultProps",{giftCodeResolved:!1,transitionTo:e=>n.g.location.assign(e)})},424044:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(893776),s=n(232567),c=n(129293),d=n(388905),u=n(353926),h=n(185625),_=n(551549),g=n(108427),p=n(314897),m=n(981631),f=n(388032),E=n(232186);l.ZP.initialize();let I=e=>{let{location:t}=e,n=(0,l.e7)([p.default],()=>p.default.isAuthenticated()),I=(0,l.e7)([u.Z],()=>u.Z.hasLoadedExperiments),x=(0,_.oK)("RSL - Landing Page"),[C,N]=r.useState(!1),[v,T]=r.useState(f.intl.string(f.t["9exy+f"])),[S,A]=r.useState(!0),b=e=>{switch(e){case m.evJ.INVALID_FORM_BODY:case m.evJ.DSA_RSL_REPORT_NOT_FOUND:T(f.intl.string(f.t.bzXDfX));break;case m.evJ.DSA_RSL_ALREADY_REQUESTED:T(f.intl.string(f.t.rV00ws));break;case m.evJ.DSA_RSL_LIMITED_TIME:T(f.intl.string(f.t["0dI29v"]));break;case m.evJ.DSA_RSL_REPORT_INELIGIBLE:T(f.intl.string(f.t["RGa/GR"]));break;default:T(f.intl.string(f.t["0QLzfn"]))}};return r.useEffect(()=>{n?(A(!0),s.k({withAnalyticsToken:!0}).then(()=>A(!1)).catch(()=>A(!1))):A(!1)},[n]),r.useEffect(()=>{I||x||o.Z.getExperiments()},[I,x]),r.useEffect(()=>{let e=async e=>{var t,n;try{let n=null!=e?await (0,h.hs)(e):void 0;null!=n?T(f.intl.string(f.t.e6mZMj)):b(null===(t=n.body)||void 0===t?void 0:t.code)}catch(e){b(null===(n=e.body)||void 0===n?void 0:n.code)}finally{N(!1)}};N(!0),e((0,c.Z)(t)),(0,g.e)("report_second_look")},[t]),x&&!S&&(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:E.marginBottom8,children:v}),C&&(0,i.jsx)(a.$jN,{})]})}},881317:function(e,t,n){n.d(t,{Z:()=>N}),n(47120);var i=n(200651),r=n(192379),l=n(990547),a=n(442837),o=n(481060),s=n(893776),c=n(232567),d=n(388905),u=n(353926),h=n(82554),_=n(726521),g=n(185625),p=n(314897),m=n(63063),f=n(981631),E=n(388032),I=n(57717),x=n(232186);a.ZP.initialize();let C=e=>{let{title:t,menuType:r}=e,a=()=>{(0,o.ZDy)(async()=>{let{default:e}=await n.e("93288").then(n.bind(n,396410));return t=>(0,i.jsx)(e,{...t,onSuccess:s,headerText:E.intl.string(E.t.ZLRYGR),confirmButtonText:E.intl.string(E.t.PDTjLC),confirmButtonColor:o.zxk.Colors.BRAND,impressionName:l.ImpressionNames.URF_ENTER_EMAIL})})},s=e=>{let t=async()=>{await (0,g.yL)(r,e)},a=async t=>await (0,g.RV)(r,e,t),s=e=>{let t=null==e?void 0:e.token;r===h.BM.MESSAGE?(0,_.eE)(t):r===h.BM.USER&&(0,_.JM)(t)};t(),(0,o.ZDy)(async()=>{let{default:e}=await n.e("94566").then(n.bind(n,965072));return n=>(0,i.jsx)(e,{...n,onFormSubmit:a,onResend:t,onSuccess:s,headerText:E.intl.string(E.t.H3Q7U1),confirmButtonText:E.intl.string(E.t["13ofGh"]),confirmButtonColor:o.zxk.Colors.BRAND,impressionName:l.ImpressionNames.URF_CONFIRM_EMAIL_CODE})})};return(0,i.jsx)("div",{className:I.buttonColumn,children:(0,i.jsx)(o.zxk,{className:x.__invalid_reportButton,fullWidth:!0,color:o.zxk.Colors.BRAND,onClick:()=>a(),children:t})})},N=()=>{let[e,t]=r.useState(!0),[n,l]=r.useState(!1),_=(0,a.e7)([p.default],()=>p.default.isAuthenticated()),N=(0,a.e7)([u.Z],()=>u.Z.hasLoadedExperiments),v=()=>{(0,g.qJ)().then(()=>{t(!1),l(!0)}).catch(()=>{t(!1),l(!1)})};return r.useEffect(()=>{_?(t(!0),c.k({withAnalyticsToken:!0}).then(()=>v()).catch(()=>t(!1))):v()},[_]),r.useEffect(()=>{(async()=>{N||(await s.Z.getLocationMetadata(),s.Z.getExperiments())})()},[N]),e||!N?(0,i.jsx)(d.ZP,{children:(0,i.jsx)(o.$jN,{})}):n&&(0,i.jsxs)(d.ZP,{children:[(0,i.jsx)(d.Dx,{className:x.marginBottom8,children:E.intl.string(E.t.Z11w19)}),(0,i.jsx)(d.DK,{className:x.marginBottom8,children:E.intl.format(E.t["532l+v"],{supportURL:m.Z.getArticleURL(f.BhN.COPYRIGHT_AND_IP_POLICY)})}),(0,i.jsxs)("div",{className:I.container,children:[(0,i.jsx)(C,{title:E.intl.string(E.t.fuqnBA),menuType:h.BM.MESSAGE}),(0,i.jsx)(C,{title:E.intl.string(E.t.F4jrRU),menuType:h.BM.USER})]})]})}},886806:function(e,t,n){n.d(t,{Z:()=>x}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(893776),c=n(493773),d=n(129293),u=n(388905),h=n(17894),_=n(108427),g=n(626135),p=n(981631),m=n(388032),f=n(823793),E=n(232186);function I(e){n.g.location.assign(e)}function x(e){let{location:t,transitionTo:l=I}=e,[o,x]=r.useState("submitting"),C=r.useRef(void 0);(0,c.Z)(()=>{(0,_.e)("verify_email");let e=(0,d.Z)(t);if(null==e){x("failed");return}(async()=>{try{let t=await s.Z.verify(e);x("succeeded"),C.current=t}catch(e){x("failed")}})()});let N=r.useCallback(()=>{l(p.Z5c.LOGIN)},[l]),v=r.useCallback(()=>{g.default.track(p.rMx.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:C.current}),(0,h.Z)("verify_email")},[]);return"failed"===o?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(375673),className:a()(f.image,E.marginBottom20)}),(0,i.jsx)(u.Dx,{className:E.marginBottom8,children:m.intl.string(m.t.PCgG39)}),(0,i.jsx)(u.DK,{className:E.marginBottom40,children:m.intl.string(m.t.tQpeAw)}),(0,i.jsx)(u.zx,{onClick:N,children:m.intl.string(m.t.dKhVQE)})]}):"succeeded"===o?(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(73962),className:a()(f.image,E.marginBottom20)}),(0,i.jsx)(u.Dx,{className:E.marginBottom40,children:m.intl.string(m.t.dAfGb2)}),(0,i.jsx)(u.zx,{onClick:v,children:m.intl.string(m.t.uJWIj4)})]}):(0,i.jsxs)(u.ZP,{children:[(0,i.jsx)(u.Ee,{src:n(892235),className:a()(f.image,E.marginBottom20)}),(0,i.jsx)(u.Dx,{className:E.marginBottom8,children:m.intl.string(m.t["0c8+5u"])}),(0,i.jsx)(u.DK,{className:E.marginBottom40,children:m.intl.string(m.t.ULTCBA)}),(0,i.jsx)(u.zx,{submitting:!0,color:u.zx.Colors.PRIMARY})]})}o.ZP.initialize()},937154:function(e,t,n){n.d(t,{Z:()=>l}),n(47120);var i=n(192379);function r(){return"undefined"==typeof document||"visible"===document.visibilityState}function l(){let[e,t]=(0,i.useState)(r());return(0,i.useEffect)(()=>{function e(){t(r())}return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}},[t]),e}},448986:function(e,t,n){n.d(t,{Z:()=>r}),n(47120);var i=n(192379);function r(e){let t=i.useRef(e);return i.useInsertionEffect(()=>{t.current=e}),i.useCallback(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.current(...n)},[])}},126399:function(e,t,n){n.d(t,{Z:()=>g}),n(47120);var i=n(544891),r=n(570140),l=n(893776),a=n(899742),o=n(743142),s=n(117240),c=n(626135),d=n(317770),u=n(981631);function h(e,t){c.default.track(u.rMx.BROWSER_HANDOFF_SUCCEEDED,{authenticated:e,handoff_source:t})}class _ extends d.Z{_initialize(){r.Z.subscribe("BROWSER_HANDOFF_END",this.handleEnd),r.Z.subscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)}_terminate(){r.Z.unsubscribe("BROWSER_HANDOFF_END",this.handleEnd),r.Z.unsubscribe("BROWSER_HANDOFF_FROM_APP",this.handleHandoff)}handleHandoff(e){let{handoffKey:t,handoffToken:n,fingerprint:r,handoffSource:s}=e;null!=n?i.tn.post({url:u.ANM.HANDOFF_EXCHANGE,body:{key:t,handoff_token:n},rejectWithError:!1}).then(e=>{let{body:t}=e;(0,a.Vb)(t.user),l.Z.loginToken(t.token,!1),h(!0,s)},e=>{if(null!=r&&h(!1,s),l.Z.setFingerprint(r),(0,a.lx)(),s===o.F.ROLE_SUBSCRIPTION){var t;c.default.track(u.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:null!==(t=e.message)&&void 0!==t?t:e.text,handoff_source:s})}}):null!=r?(l.Z.setFingerprint(r),h(!1,s),(0,a.lx)()):(l.Z.setFingerprint(r),(0,a.by)())}constructor(...e){var t,n;super(...e),t="handleEnd",n=e=>{let{handoffToken:t,fingerprint:n}=e,i=s.Z.key;null!=i&&s.Z.isHandoffAvailable()?this.handleHandoff({handoffKey:i,handoffToken:t,fingerprint:n,handoffSource:void 0}):(l.Z.setFingerprint(null),(0,a.by)())},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let g=new _},605782:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651),r=n(192379),l=n(512969),a=n(215569);class o extends r.Component{render(){let{children:e,location:t,history:n,staticContext:o,match:s,...c}=this.props,d=null,u=null;return r.Children.forEach(e,e=>{if(null==d&&r.isValidElement(e)){let{component:i,render:a,...s}=e.props,c=s.path||s.from;null!=(d=null!=c?(0,l.LX)(t.pathname,{...s,path:c}):null)&&(s={...s,key:c,location:t,match:d,history:n,staticContext:o},null!=i?u=r.createElement(i,s):null!=a&&(u=a(s)))}}),(0,i.jsx)(a.W,{...c,children:u})}}let s=(0,l.EN)(o)},521379:function(e,t,n){n.d(t,{Z:()=>h}),n(757143);var i,r,l,a=n(200651),o=n(192379),s=n(442837),c=n(388905),d=n(108427),u=n(559786);s.ZP.initialize();class h extends(i=o.PureComponent){componentDidMount(){(0,d.e)("account_revert")}render(){let{token:e}=this.props.match.params;return(0,a.jsx)(c.ZP,{style:{padding:0},children:(0,a.jsx)(u.Z,{width:464,token:e,...this.props})})}}r="defaultProps",l={transitionTo:e=>n.g.location.assign(e),replaceWith:e=>n.g.location.replace(e)},r in h?Object.defineProperty(h,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[r]=l},559786:function(e,t,n){n.d(t,{Z:()=>u}),n(47120);var i=n(200651),r=n(192379),l=n(990547),a=n(481060),o=n(301938),s=n(806701),c=n(808993),d=n(720196);function u(e){let{transitionTo:t,token:n,width:u}=e,[h,_]=r.useState(d.n.START),[g,p]=r.useState(null),[m,f]=r.useState(""),E={impression_group:l.ImpressionGroups.ACCOUNT_REVERT_FLOW};return(0,i.jsx)("div",{style:{margin:"8px"},children:(0,i.jsxs)(a.MyZ,{activeSlide:h,width:u,onSlideReady:p,children:[(0,i.jsx)(a.Mi4,{id:d.n.START,impressionProperties:E,impressionName:l.ImpressionNames.ACCOUNT_REVERT_EXPLAINER,children:(0,i.jsx)(s.Z,{setSlide:_,transitionTo:t})}),(0,i.jsx)(a.Mi4,{id:d.n.PASSWORD,impressionProperties:E,impressionName:l.ImpressionNames.ACCOUNT_REVERT_CHANGE_PASSWORD,children:(0,i.jsx)(o.Z,{setOriginalEmail:f,setSlide:_,transitionTo:t,ready:g===d.n.PASSWORD,token:n})}),(0,i.jsx)(a.Mi4,{id:d.n.SUCCESS,impressionProperties:E,impressionName:l.ImpressionNames.ACCOUNT_REVERT_SUCCESS,children:(0,i.jsx)(c.Z,{email:m})})]})})}},301938:function(e,t,n){n.d(t,{Z:()=>E}),n(47120),n(411104),n(773603);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(990547),s=n(481060),c=n(479531),d=n(388905),u=n(585483),h=n(573261),_=n(720196),g=n(981631),p=n(388032),m=n(114969),f=n(232186);function E(e){let{setOriginalEmail:t,setSlide:l,ready:E,token:I}=e,[x,C]=r.useState(!1),[N,v]=r.useState(null),[T,S]=r.useState(null),[A,b]=r.useState(""),Z=r.useRef(null);return r.useEffect(()=>{if(E){var e;null===(e=Z.current)||void 0===e||e.focus()}},[E]),(0,i.jsxs)("div",{children:[(0,i.jsx)(d.Ee,{src:null==T?n(26230):n(935227),className:a()(f.marginBottom20,f.marginTop8)}),(0,i.jsx)(d.Dx,{children:p.intl.string(p.t["IfBQ5+"])}),null!=T&&""!==T?(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-danger",children:T}):null,(0,i.jsxs)(d.gO,{className:a()(f.marginBottom20,f.marginTop20),children:[(0,i.jsx)(d.II,{name:"password",type:"password",label:p.intl.string(p.t["8dM4FB"]),setRef:Z,className:f.marginBottom20,value:A,onChange:b,error:N,autoComplete:"new-password",maxLength:72,placeholder:p.intl.string(p.t["yY/PXV"])}),(0,i.jsx)(d.zx,{className:f.marginTop8,onClick:()=>{if(!x){if(0===A.length){v(p.intl.string(p.t.R98xDw)),u.S.dispatch(g.CkL.WAVE_EMPHASIZE);return}return null!=T&&S(null),null!=N&&v(null),t(""),C(!0),h.Z.post({url:g.ANM.ACCOUNT_REVERT,body:{token:I,password:A},trackedActionData:{event:o.NetworkActionNames.ACCOUNT_REVERT},rejectWithError:!1}).then(e=>{let{body:{email:n}}=e;b(""),t(n),l(_.n.SUCCESS)}).catch(e=>{if(e instanceof Error)S(p.intl.formatToPlainString(p.t.aTVNen,{statusPageURL:g.yXt.STATUS}));else{let t=new c.Z(e);t.hasFieldErrors()?v(t.getAnyErrorMessage()):S((function(e){switch(e){case g.evJ.ACCOUNT_REVERT_INVALID_TOKEN:return p.intl.string(p.t["11zzGR"]);case g.evJ.ACCOUNT_REVERT_EMAIL_ALREADY_TAKEN:return p.intl.string(p.t["6qmgaG"]);case g.evJ.ACCOUNT_REVERT_ACCOUNT_NOT_FOUND:return p.intl.string(p.t.bChnKi);default:return p.intl.format(p.t.aTVNen,{statusPageURL:g.yXt.STATUS})}})(t.code).toString())}u.S.dispatch(g.CkL.WAVE_EMPHASIZE)}).finally(()=>{C(!1)})}},submitting:x,disabled:x,children:p.intl.string(p.t.ezv91d)})]}),(0,i.jsx)("div",{className:m.buttonContainer,children:(0,i.jsx)(d.zx,{color:d.zx.Colors.PRIMARY,onClick:()=>{b(""),l(_.n.START)},children:p.intl.string(p.t.rzxnQ0)})})]})}},806701:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(388905),s=n(661824),c=n(720196),d=n(981631),u=n(388032),h=n(114969),_=n(232186);function g(e){let{children:t}=e;return(0,i.jsx)("li",{className:h.listItem,children:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:t})})}function p(e){let{setSlide:t,transitionTo:r}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Ee,{src:n(26230),className:l()(_.marginBottom20,_.marginTop8)}),(0,i.jsx)(o.Dx,{className:_.marginBottom8,children:u.intl.string(u.t["8UcxIy"])}),(0,i.jsx)(a.Text,{variant:"text-md/normal",children:u.intl.string(u.t.O37hMj)}),(0,i.jsxs)(o.gO,{className:l()(_.marginBottom20,_.marginTop20),children:[(0,i.jsx)(a.Text,{variant:"text-sm/normal"}),(0,i.jsxs)("ul",{className:h.listContainer,children:[(0,i.jsx)(g,{children:u.intl.string(u.t.Gj1Zr6)}),(0,i.jsx)(s.Z,{}),(0,i.jsx)(g,{children:u.intl.string(u.t["8C6t3N"])}),(0,i.jsx)(s.Z,{}),(0,i.jsx)(g,{children:u.intl.string(u.t.mToZMD)}),(0,i.jsx)(s.Z,{}),(0,i.jsx)(g,{children:u.intl.string(u.t.TPEvkZ)}),(0,i.jsx)(s.Z,{}),(0,i.jsx)(g,{children:u.intl.string(u.t.H8Y1Li)})]})]}),(0,i.jsxs)("div",{className:h.buttonContainer,children:[(0,i.jsx)(o.zx,{onClick:()=>t(c.n.PASSWORD),children:u.intl.string(u.t.GgCRqa)}),(0,i.jsx)(o.zx,{color:o.zx.Colors.PRIMARY,onClick:()=>r(d.Z5c.LOGIN),children:u.intl.string(u.t["B/yHcX"])})]})]})}},808993:function(e,t,n){n.d(t,{Z:()=>d});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(388905),s=n(388032),c=n(232186);function d(e){let{email:t}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Ee,{src:n(26230),className:l()(c.marginBottom20,c.marginTop8)}),(0,i.jsx)(o.Dx,{children:s.intl.string(s.t.ailkVF)}),(0,i.jsx)(o.DK,{children:s.intl.format(s.t["4ZMVCA"],{email:t})}),(0,i.jsx)(a.Text,{className:l()(c.marginBottom8,c.marginTop20),variant:"text-md/normal",children:s.intl.string(s.t["dpAn+/"])})]})}},720196:function(e,t,n){n.d(t,{n:()=>r});var i,r=((i={}).START="start",i.PASSWORD="password",i.SUCCESS="success",i.FAILED="failed",i)},899370:function(e,t,n){n.d(t,{Z:()=>g});var i,r,l,a=n(973361),o=n(442837),s=n(570140),c=n(358085),d=n(723359);let u=null,h="underage";class _ extends(l=o.ZP.Store){isUnderageAnonymous(){return c.isPlatformEmbedded?!!(null!=u&&u+d.k0>Date.now()):null!=a.parse(document.cookie)[h]}}r="AgeGateStore",(i="displayName")in _?Object.defineProperty(_,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):_[i]=r;let g=new _(s.Z,{AGE_GATE_PREVENT_UNDERAGE_REGISTRATION:function(){u=Date.now(),document.cookie="".concat(h,"=1;path=/")},LOGIN_SUCCESS:function(){u=null,document.cookie="".concat(h,"=1;path=/;max-age=0")}})},224841:function(e,t,n){n.d(t,{Z:()=>h});var i=n(200651);n(192379);var r=n(481060),l=n(388905),a=n(703656),o=n(63063),s=n(981631),c=n(388032),d=n(514491);let u=()=>(0,a.uL)(s.Z5c.LOGIN),h=e=>{let{authBoxClassName:t,underageMessage:a}=e;return(0,i.jsxs)(l.ZP,{className:t,children:[(0,i.jsx)("img",{alt:"",src:n(231443),className:d.img}),(0,i.jsx)(l.Dx,{className:d.title,children:c.intl.string(c.t.nCB6GR)}),(0,i.jsx)(l.DK,{className:d.subtitle,children:c.intl.format(c.t.b0QzXV,{underageMessage:null!=a?a:c.intl.string(c.t.WqEH4O),helpURL:o.Z.getArticleURL(s.BhN.AGE_GATE)})}),(0,i.jsx)(r.zxk,{fullWidth:!0,onClick:u,children:c.intl.string(c.t.szzQ6O)})]})}},736408:function(e,t,n){n.d(t,{$:()=>s}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(134432),r=n(768581),l=n(981631);let{API_ENDPOINT:a,CDN_HOST:o}=window.GLOBAL_ENV;function s(e){let{itemId:t,hash:n,containerWidth:s=1024}=e,c=new URLSearchParams({size:(0,i.oO)(s*(0,i.x_)()).toString()}).toString(),d=r.$k?"webp":"png";return null!=o?"".concat(location.protocol,"//").concat(o,"/app-assets/application-directory/collection-items/").concat(t,"/").concat(n,".").concat(d,"?").concat(c):"".concat(location.protocol).concat(a).concat(l.ANM.APPLICATION_DIRECTORY_COLLECTION_ITEM_IMAGE(t,n,d),"?").concat(c)}},34674:function(e,t,n){n.d(t,{$_:()=>d,KQ:()=>c,MU:()=>s,RF:()=>h}),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(47120),n(860911);var i=n(477690);n(481060);var r=n(911969);n(703656);var l=n(736408),a=n(981631),o=n(388032);let s=0;function c(){return{id:s,name:o.intl.string(o.t.E407b2)}}function d(e){let{itemId:t,hash:n,containerWidth:r=parseFloat(i.Z.APPLICATION_DIRECTORY_CONTENT_MAX_WIDTH)}=e;return(0,l.$)({itemId:t,hash:n,containerWidth:r})}let u=e=>{if(null==e)return null;let t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);return null!=t?t[1]:null};function h(e){switch(e.type){case r.ee.MEDIA_PROXY:var t;let n=null!==(t=e.proxy_url)&&void 0!==t?t:e.url;return{type:a.s9s.IMG,width:0,height:0,src:n};case r.ee.YOUTUBE:let i=u(e.url);if(null!=i)return{type:a.s9s.YOUTUBE_VIDEO,youtubeVideoId:i}}return console.warn("Unsupported carousel item",e),null}},147890:function(e,t,n){n.d(t,{dx:()=>o}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(749681);n(703656),n(34674),n(132871);var r=n(272242);n(981631);var l=n(49898),a=n(979007);let o=e=>{let{guildId:t,applicationId:n,applicationSection:o,entrypoint:s,skuId:c,restorePreviousView:d}=e,u=null==n?void 0:o===r.c.STORE?a.GlobalDiscoveryAppsSections.STORE:a.GlobalDiscoveryAppsSections.ABOUT;return(0,i.transitionToGlobalDiscovery)({tab:l.GlobalDiscoveryTab.APPS,applicationId:n,section:u,skuId:u===a.GlobalDiscoveryAppsSections.STORE?c:void 0,newSessionState:{guildId:null!=t?t:null,entrypoint:s,restorePreviousView:d}})}},267394:function(e,t,n){n.d(t,{A:()=>r});var i=n(570140);function r(e){i.Z.dispatch({type:"AUTH_INVITE_UPDATE",invite:e})}},743142:function(e,t,n){n.d(t,{F:()=>o,L:()=>s});var i,r=n(754688),l=n(981631),a=n(176505),o=((i={}).ROLE_SUBSCRIPTION="role_subscription",i.ROLE_SUBSCRIPTION_SETTING="role_subscription_setting",i);function s(e){let t=decodeURIComponent(e),n=(0,r.Qj)(t);return null!=n&&n.channelId===a.oC.ROLE_SUBSCRIPTIONS?"role_subscription":t===l.Z5c.SETTINGS(l.oAB.SUBSCRIPTIONS,"role-subscriptions")?"role_subscription_setting":void 0}},857458:function(e,t,n){n.d(t,{M:()=>s,Z:()=>c});var i=n(200651);if(n(192379),12633==n.j)var r=n(512969);var l=n(860911),a=n(981631),o=n(188785);function s(){let e=location.pathname+location.search;return o.a?a.Z5c.REGISTER:(0,l.Ui)(e,!1)}let c=12633==n.j?function(){return(0,i.jsx)(r.l_,{to:s()})}:null},355142:function(e,t,n){n.d(t,{EW:()=>r});var i,r=((i={}).IDENTITY="identity",i.DISPLAY_NAME="display_name",i.ACCOUNT_INFORMATION="account_information",i.FULL="full",i.AGE_GATE="age_gate",i.INVITE="invite",i.SMS_VERIFY="sms_verify",i)},201207:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(818083).B)({kind:"user",id:"2022-04_registration_copy_updates",label:"Registration Copy Updates",defaultConfig:{enableNewCopy:!1,hasCopyAboveButton:!1,hasProminentCopy:!1},treatments:[{id:1,label:"Continue / Copy Above Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!0}},{id:2,label:"Continue / Copy Below Button / High Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!1,hasProminentCopy:!0}},{id:3,label:"Continue / Copy Above Button / Normal Prominence Copy",config:{enableNewCopy:!0,hasCopyAboveButton:!0,hasProminentCopy:!1}}]})},959776:function(e,t,n){n.d(t,{Z:()=>o});var i=n(913527),r=n.n(i),l=n(626135),a=n(981631);function o(e,t){l.default.track(a.rMx.AGE_GATE_SUBMITTED,{dob:18>r()().diff(e,"years")?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:t}})}},481230:function(e,t,n){n.d(t,{R$:()=>m,ZP:()=>p});var i=n(913527),r=n.n(i),l=n(990547),a=n(570140),o=n(479531),s=n(771308),c=n(314897),d=n(626135),u=n(573261),h=n(959776),_=n(981631),g=n(723359);function p(e){let{invite:t=null,giftCodeSKUId:n=null,...i}=e;return m({...i,invite:t,giftCodeSKUId:n})}function m(e){let{email:t,phoneToken:n,username:i,globalName:p,consent:m,password:f,guildTemplateCode:E,birthday:I,invite:x=null,giftCodeSKUId:C=null,promoEmailConsent:N=null,usedUsernameSuggestion:v=null}=e;return a.Z.dispatch({type:"REGISTER"}),null!=I&&((0,h.Z)(I,_.jXE.REGISTER),d.default.track(_.rMx.AGE_GATE_ACTION,{source:g.L0.REGISTER,action:g.Al.AGE_GATE_SUBMITTED}),function(e){let t;let n=r()().diff(e,"years");n<13||(t=n>=13&&n<=17?"13-17":n>=18&&n<=22?"18-22":"23+",d.default.track(_.rMx.USER_AGE_SUBMITTED,{age_bucket:t}))}(I)),u.Z.post({url:_.ANM.REGISTER,body:{fingerprint:c.default.getFingerprint(),email:t,username:i,global_name:p,password:f,invite:x,consent:m,phone_token:n,date_of_birth:null==I?void 0:I.format("YYYY-MM-DD"),gift_code_sku_id:C,guild_template_code:E,promotional_email_opt_in:null==N?void 0:N.checked},trackedActionData:{event:l.NetworkActionNames.USER_REGISTER,properties:{invite_code:x,used_username_suggestion:v,promotional_email_opt_in:null==N?void 0:N.checked,promotional_email_pre_checked:null==N?void 0:N.preChecked,was_unique_username:!0}},rejectWithError:!1}).then(e=>{a.Z.dispatch({type:"REGISTER_SUCCESS",token:e.body.token}),d.default.track(_.rMx.AGE_GATE_ACTION,{source:g.L0.REGISTER,action:g.Al.AGE_GATE_SUCCESS})},e=>{let t=new o.Z(e);throw null!=t.getFieldErrors("date_of_birth")&&s.wE(g.L0.REGISTER),d.default.track(_.rMx.REGISTER_SUBMIT_ERRORED,{is_unique_username_registration:!0,email_error_reason:t.getFirstFieldErrorMessage("email"),phone_error_reason:t.getFirstFieldErrorMessage("phone"),password_error_reason:t.getFirstFieldErrorMessage("password"),username_error_reason:t.getFirstFieldErrorMessage("username"),global_name_error_reason:t.getFirstFieldErrorMessage("global_name"),date_of_birth_error_reason:t.getFirstFieldErrorMessage("date_of_birth")}),t})}},853268:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(600164),s=n(388905),c=n(262437),d=n(232186);function u(e){let{value:t,onChange:n,subText:r,muted:u,marginTopStyle:h}=e;return(0,i.jsx)(o.Z,{className:null!=h?h:d.marginTop20,align:o.Z.Align.CENTER,children:(0,i.jsx)(a.XZJ,{value:t,type:a.XZJ.Types.INVERTED,onChange:(e,t)=>n(t),className:c.checkbox,children:(0,i.jsx)(s.i_,{className:l()({[c.subText]:!u}),children:r})})})}},761305:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var i,r=n(200651),l=n(192379),a=n(593473),o=n(442837),s=n(544891),c=n(108427),d=n(601964),u=n(896797),h=n(129293),_=n(388905),g=n(981631),p=n(388032),m=n(232186);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.ZP.initialize();class E extends(i=l.PureComponent){componentDidMount(){let e=(0,h.Z)(this.props.location),t=(0,a.parse)(this.props.location.search);s.tn.post({url:g.ANM.DISABLE_SERVER_HIGHLIGHT_NOTIFICATIONS,body:{token:e,pixel_uuid:t.hash,guild_id:t.guild_id},oldFormErrors:!0,rejectWithError:!0}).then(e=>{let{body:{guild:t}}=e,n=new d.ZP(t);this.setState({success:!0,busy:!1,guild:n})},()=>this.setState({success:!1,busy:!1})),(0,c.e)("disable_server_highlight_notifications")}renderBusy(){return(0,r.jsx)(_.ZP,{children:(0,r.jsx)(_.Hh,{})})}renderSuccess(){let{defaultRoute:e,transitionTo:t}=this.props,{guild:n}=this.state;return(0,r.jsxs)(_.ZP,{children:[(0,r.jsx)(_.Dx,{className:m.marginBottom8,children:p.intl.string(p.t.Z33eiI)}),(0,r.jsx)(_.DK,{children:p.intl.format(p.t.NRWtfH,{guildName:n.name})}),(0,r.jsx)(_.zx,{className:m.marginTop40,onClick:()=>t(e),children:p.intl.string(p.t.fIv16O)}),(0,r.jsx)(_.zx,{className:m.marginTop8,color:_.zx.Colors.LINK,look:_.zx.Looks.LINK,onClick:()=>{t(g.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(n.id))},children:p.intl.string(p.t["cGmT/P"])})]})}renderError(){let{defaultRoute:e,transitionTo:t}=this.props;return(0,r.jsxs)(_.ZP,{children:[(0,r.jsx)(_.Ee,{src:n(105020),className:m.marginBottom20}),(0,r.jsx)(_.Dx,{className:m.marginBottom8,children:p.intl.string(p.t.ox9hIS)}),(0,r.jsx)(_.DK,{children:p.intl.string(p.t["/dcuR0"])}),(0,r.jsx)(_.zx,{className:m.marginTop40,onClick:()=>t(e),children:p.intl.string(p.t.fIv16O)})]})}render(){let{busy:e,success:t}=this.state;return e?this.renderBusy():t?this.renderSuccess():this.renderError()}constructor(...e){super(...e),f(this,"state",{busy:!0,success:!1,guild:null})}}f(E,"defaultProps",{transitionTo:e=>n.g.location.assign(e)});let I=o.ZP.connectStores([u.Z],()=>({defaultRoute:u.Z.defaultRoute}))(E)},639946:function(e,t,n){n.d(t,{r:()=>c});var i=n(200651);n(192379);var r=n(481060),l=n(471445),a=n(742593),o=n(180483);function s(e){let{channel:t}=e,n=(0,l.Th)(t.type);return(0,i.jsxs)("div",{className:o.channelInfoContainer,children:[null!=n?(0,i.jsx)(n,{color:"currentColor",size:"custom",width:20,height:20}):null,(0,i.jsx)(r.Text,{className:o.channelInfoText,color:"none",variant:"text-sm/semibold",children:t.name})]})}function c(e){let{channel:t,guildScheduledEvent:n}=e;return(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsx)(a.HZ,{className:o.statusContainer,guildId:n.guild_id,guildEvent:n,eventPreview:n}),(0,i.jsx)(a.Rf,{name:n.name,description:n.description,guildId:n.guild_id}),null!=t&&n.channel_id===t.id?(0,i.jsx)(s,{channel:t}):null]})}},698177:function(e,t,n){n.d(t,{Z:()=>E}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(144114),d=n(742458),u=n(541692),h=n(952802),_=n(388905),g=n(815660),p=n(388032),m=n(652849),f=n(232186);let E=()=>{let[e,t]=r.useState(""),[l,E]=r.useState(""),[I,x]=r.useState(!1),[C,N]=r.useState(!1),[v,T]=r.useState(null),[S,A]=r.useState(null),b=(0,o.e7)([u.Z],()=>u.Z.getCountryCode()),Z=b.code.split(" ")[0],R=async()=>{try{await c.Z.resendCode(e)}catch(e){A(e.body.message)}},L=async()=>{x(!0);try{let{token:t}=await c.Z.verifyPhone(Z+e,l);T(null),A(null),N(!0),c.Z.validatePhoneForSupport(t)}catch(e){e.body.message?(T(null),A(e.body.message)):(T(e.body.phone),A(e.body.code))}finally{x(!1)}},j=(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Ee,{src:n(292824)}),(0,i.jsxs)(_.Dx,{className:a()(f.marginTop20,m.flex,m.justifyCenter,m.alignCenter),children:[p.intl.string(p.t.WWzQtb),(0,i.jsx)(s.owK,{size:"md",color:"currentColor",className:f.marginLeft8})]})]});return C?j:(0,i.jsxs)(_.ZP,{children:[(0,i.jsx)(_.Dx,{children:p.intl.string(p.t.o4JNrK)}),(0,i.jsx)(_.DK,{className:f.marginTop8,children:p.intl.string(p.t.y0tVbm)}),(0,i.jsxs)(_.gO,{className:f.marginTop20,children:[(0,i.jsx)(h.Z,{label:p.intl.string(p.t.eJnn09),alpha2:b.alpha2,countryCode:Z,value:e,autoComplete:"off",spellCheck:"false",onChange:t,forceMode:d.Nz.PHONE,error:v}),(0,i.jsx)(_.II,{className:f.marginTop20,label:p.intl.string(p.t.OdzNbm),value:l,onChange:E,maxLength:g.z,error:S}),(0,i.jsx)(_.zx,{size:_.zx.Sizes.SMALL,look:_.zx.Looks.LINK,onClick:R,children:p.intl.string(p.t["5b60go"])}),(0,i.jsx)(_.zx,{className:f.marginTop20,onClick:L,submitting:I,children:p.intl.string(p.t.i4jeWV)})]})]})}},616952:function(e,t,n){n.d(t,{Z:()=>s});var i=n(200651);n(192379);var r=n(882037),l=n(853268),a=n(388032),o=n(232186);function s(){let{required:e,checked:t}=(0,r.MD)();return e?(0,i.jsx)(l.Z,{value:t,subText:a.intl.string(a.t["0p3R09"]),onChange:r.ZJ,marginTopStyle:o.marginTop8,muted:!0}):null}},362762:function(e,t,n){n.d(t,{Z:()=>u});var i,r,l,a=n(442837),o=n(570140),s=n(981631);let c={};class d extends(l=a.ZP.Store){getState(e){return c[e]}}r="CodedLinkNativeAppStateStore",(i="displayName")in d?Object.defineProperty(d,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[i]=r;let u=new d(o.Z,{NATIVE_APP_MODAL_OPENING:function(e){let{code:t}=e;c[t]=s.kEZ.OPENING},NATIVE_APP_MODAL_OPENED:function(e){let{code:t}=e;c[t]=s.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){let{code:t}=e;c[t]=s.kEZ.OPEN_FAIL}})},692483:function(e,t,n){n.d(t,{K:()=>r});var i=n(998502);async function r(e){try{return await i.ZP.getSetting("USERNAME_PREFIX","")+e}catch(e){}return e}},198993:function(e,t,n){n.d(t,{ZP:()=>E,c2:()=>f,cK:()=>_});var i,r,l,a=n(200651),o=n(192379),s=n(120356),c=n.n(s),d=n(841226),u=n(982823);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=((i={}).SIZE_40="SIZE_40",i.SIZE_60="SIZE_60",i);let g=Object.freeze({SIZE_40:"size-40",SIZE_60:"size-60"}),p=n(515695);class m extends(r=o.PureComponent){render(){let{className:e,text:t,...n}=this.props;return(0,a.jsx)("div",{style:{width:n.size,height:n.size,backgroundColor:n.bgColor},className:c()(u.qrCodeContainer,e),children:(0,a.jsx)(d.default,{value:t,level:"M",...n})})}}h(m,"defaultProps",{size:128,bgColor:"#ffffff",fgColor:"#000000"});class f extends(l=o.PureComponent){render(){let{overlaySize:e}=this.props,t=g[null!=e?e:"SIZE_40"];return(0,a.jsxs)("div",{className:u.qrCodeOverlayContainer,children:[(0,a.jsx)(m,{...this.props}),(0,a.jsx)("div",{className:u.qrCodeOverlay,children:(0,a.jsx)("img",{className:u[t],src:p,alt:""})})]})}}h(f,"defaultProps",{size:144,bgColor:"#ffffff",fgColor:"#000000"});let E=m},749681:function(e,t,n){n.r(t),n.d(t,{transitionToGlobalDiscovery:()=>function e(t){var n,p,m;let f=t.tab;switch(d.Z.setState({selectedTab:f}),f){case u.GlobalDiscoveryTab.SERVERS:let E=t.selectedServersTab;return null!=E?l.Z.setState({selectedTab:E,entrypoint:null!==(n=t.entrypoint)&&void 0!==n?n:g.Qq.UNKNOWN}):l.Z.setState({entrypoint:null!==(p=t.entrypoint)&&void 0!==p?p:g.Qq.UNKNOWN}),(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_SERVERS,t.extra);case u.GlobalDiscoveryTab.APPS:if(null!=t.newSessionState){let n=(0,r.PM)(),{guildId:l,entrypoint:a}=t.newSessionState;if(i.z8.setState({sessionId:n,guildId:null!=l?l:null,entrypoint:a,trackedOpenedFromExternalEntrypoint:!1}),c.default.track(h.rMx.APP_DIRECTORY_OPENED,{source:null==a?void 0:a.name,session_id:n,guild_id:l,user_id:null===(m=s.default.getCurrentUser())||void 0===m?void 0:m.id}),t.newSessionState.restorePreviousView)return e(function(){let{lastItem:e}=i.aQ.getState();if(null!=e)switch(e.type){case i.m_.APPLICATION:return{tab:u.GlobalDiscoveryTab.APPS,applicationId:e.applicationId,section:e.section};case i.m_.CATEGORY:return{tab:u.GlobalDiscoveryTab.APPS,categoryId:Number(e.categoryId)};case i.m_.SEARCH:var t;return{tab:u.GlobalDiscoveryTab.APPS,query:null!==(t=e.query)&&void 0!==t?t:"",page:e.page,categoryId:null!=e.categoryId?Number(e.categoryId):void 0}}return{tab:u.GlobalDiscoveryTab.APPS}}())}if(null!=t.applicationId){if(t.section===_.GlobalDiscoveryAppsSections.STORE){if(null!=t.skuId)return(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(t.applicationId,t.skuId));return(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(t.applicationId,_.GlobalDiscoveryAppsSections.STORE))}return(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(t.applicationId))}if(null!=t.query){let e=new URLSearchParams;return""!==t.query&&e.set("q",t.query),null!=t.categoryId&&e.set("category_id",t.categoryId.toString()),null!=t.page&&e.set("page",t.page.toString()),(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,{search:e.toString()})}if(null!=t.categoryId)return(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(t.categoryId.toString()));else return(0,o.uL)(h.Z5c.GLOBAL_DISCOVERY_APPS);case u.GlobalDiscoveryTab.QUESTS:return(0,a.navigateToQuestHome)(t.location,t.questContent,t.questId);default:throw Error("[transitionToGlobalDiscovery] Unhandled tab type: ".concat(f))}}}),n(610138),n(216116),n(78328),n(815648),n(47120),n(411104);var i=n(258971),r=n(726115),l=n(859921),a=n(341907),o=n(703656),s=n(594174),c=n(626135),d=n(836768),u=n(49898),h=n(981631),_=n(979007),g=n(128449)},258971:function(e,t,n){if(n.d(t,{Uc:()=>g,Xh:()=>p,aQ:()=>h,m_:()=>u,z8:()=>_}),n(610138),n(216116),n(78328),n(815648),n(47120),12633==n.j)var i,r=n(512969);var l=n(972959),a=n(264043),o=n(34674),s=n(703656),c=n(979007),d=n(981631),u=((i={}).HOME="home",i.SEARCH="search",i.APPLICATION="application",i.CATEGORY="category",i);let h=(0,l.H)(()=>({})),_=(0,l.H)(()=>({sessionId:null,guildId:null,entrypoint:null,trackedOpenedFromExternalEntrypoint:!1}));function g(){let{location:{state:e}}=(0,s.s1)();return null==e?void 0:e.previousView}function p(){var e,t,n;let{location:{pathname:i,search:l}}=(0,s.s1)();if(null!=(0,r.LX)(i,{path:d.Z5c.GLOBAL_DISCOVERY_APPS,exact:!0}))return{type:"home"};if(null!=(0,r.LX)(i,{path:d.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,exact:!0})){let e=new URLSearchParams(l),t={type:"search"},n=e.get("q");null!=n&&""!==n&&(t.query=n);let i=Number(e.get("category_id"));Number.isInteger(i)&&i!==o.MU&&(t.categoryId=i.toString());let r=Number(e.get("page"));return null!=r&&r>1&&(t.page=r),t}let u=(0,r.LX)(i,{path:[d.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(":categoryId")],exact:!0}),{categoryId:h}=null!==(e=null==u?void 0:u.params)&&void 0!==e?e:{};if(null!=u&&null!=h)return{type:"category",categoryId:h};let _=(0,r.LX)(i,{path:[d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",":section"),d.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")],exact:!0}),{applicationId:g,section:p,skuId:m}=null!==(t=null==_?void 0:_.params)&&void 0!==t?t:{};if(null!=_&&null!=g){let e=null===(n=a.Z.getApplication(g))||void 0===n?void 0:n.name;return{type:"application",applicationId:g,applicationName:e,section:null!=p?p:null!=m?c.GlobalDiscoveryAppsSections.STORE:c.GlobalDiscoveryAppsSections.ABOUT}}}},859921:function(e,t,n){n.d(t,{Z:()=>l});var i=n(972959);let r=Object.freeze({selectedTab:null,isSearchVisible:!1,entrypoint:null,searchBarState:n(49898).GlobalDiscoverySearchBarState.DEFAULT}),l=(0,i.H)(()=>r)},390072:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651),r=n(192379),l=n(481060),a=n(725436),o=n(997321),s=n(217804),c=n(765305),d=n(295267);function u(e){let{guildScheduledEvent:t,channel:n,onClose:u}=e,h=t.entity_type===c.WX.EXTERNAL,_=r.useCallback(e=>(0,o.Qt)(t,u)(e),[t,u]),g=(0,s.u)(t,n);if(null==g)return null;let{IconComponent:p,locationName:m}=g,f=(0,i.jsxs)(i.Fragment,{children:[null!=p&&(0,i.jsx)(p,{size:"custom",color:"currentColor",width:20,height:20,className:d.channelIcon}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:d.locationText,children:(0,a.m)(m,!0)})]});return(0,i.jsx)("div",{className:d.row,children:null!=_?(0,i.jsx)(l.P3F,{className:h?d.externalLocation:d.channelLocation,onClick:_,children:f}):f})}},734307:function(e,t,n){n.d(t,{Z:()=>K}),n(47120);var i,r,l,a=n(392711),o=n.n(a),s=n(442837),c=n(570140),d=n(317381),u=n(16609),h=n(430198),_=n(924301),g=n(601070),p=n(569471),m=n(581883),f=n(314897),E=n(680089),I=n(592125),x=n(58468),C=n(77498),N=n(496675),v=n(306680),T=n(944486),S=n(9156),A=n(823379),b=n(709054),Z=n(540126),R=n(526761);let L=null,j=null,O=new Z.ZP;function P(){let e=T.Z.getChannelId(),t=T.Z.getVoiceChannelId();return L=e,j=t,O.clear()}function y(e){let{guild:{id:t}}=e;return O.clearGuildId(t)}function D(e){let{channel:{guild_id:t}}=e;return O.clearGuildId(t)}function k(e){let{guildId:t}=e;return O.clearGuildId(t)}function U(e){let{channelId:t}=e;return O.nonPositionalChannelIdUpdate(t)}function w(e){let{channel:t}=e;return O.nonPositionalChannelIdUpdate(t.id)}function B(e){let{id:t}=e;return O.nonPositionalChannelIdUpdate(t)}function M(){let e=T.Z.getChannelId(),t=T.Z.getVoiceChannelId(),n=L!==e||j!==t;return!!n&&(o()([L,j,e,t]).uniq().forEach(e=>{null!=e&&O.nonPositionalChannelIdUpdate(e)&&(n=!0)}),L=e,j=t,!0)}function G(e){let{id:t}=e,n=I.Z.getChannel(t);return null==n?O.clearGuildId(t):O.clearGuildId(n.guild_id)}function F(e){let{guildId:t}=e;return O.clearGuildId(t)}function z(){return O.updateSubtitles()}function H(e){let{guildScheduledEvent:t}=e;return O.updateSubtitles(t.guild_id)}class V extends(i=s.ZP.Store){initialize(){this.waitFor(g.Z,f.default,E.Z,I.Z,x.Z,d.ZP,C.Z,h.Z,_.ZP,p.Z,N.Z,v.ZP,T.Z,S.ZP,m.Z)}getGuild(e,t){var n,i;let r=O.getGuild(e,null!==(n=null==t?void 0:t.guildActionRows)&&void 0!==n?n:[],null!==(i=null==t?void 0:t.channelNoticeRows)&&void 0!==i?i:[]);return{guildChannelsVersion:r.version,guildChannels:r}}getGuildWithoutChangingGuildActionRows(e){let t=O.getGuildChannelRowsOnly(e);return{guildChannelsVersion:t.version,guildChannels:t}}recentsChannelCount(e){if(null==e)return 0;let t=O.getGuildChannelRowsOnly(e);return t.getCategoryFromSection(t.recentsSectionNumber).getShownChannelIds().length}}l="ChannelListStore",(r="displayName")in V?Object.defineProperty(V,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):V[r]=l;let K=new V(c.Z,{APPLICATION_FETCH_FAIL:z,APPLICATION_FETCH_SUCCESS:z,APPLICATION_FETCH:z,APPLICATIONS_FETCH_FAIL:z,APPLICATIONS_FETCH_SUCCESS:z,APPLICATIONS_FETCH:z,BACKGROUND_SYNC:P,BULK_ACK:function(e){let{channels:t}=e,n=!1;return o()(t).map(e=>{var t;return null===(t=I.Z.getChannel(e.channelId))||void 0===t?void 0:t.guild_id}).filter(A.lm).uniq().forEach(e=>{O.clearGuildId(e)&&(n=!0)}),n},BULK_CLEAR_RECENTS:k,CACHE_LOADED_LAZY:P,CATEGORY_COLLAPSE_ALL:k,CATEGORY_COLLAPSE:G,CATEGORY_EXPAND_ALL:k,CATEGORY_EXPAND:G,CHANNEL_ACK:U,CHANNEL_COLLAPSE:function(e){var t;let{channelId:n}=e;return O.clearGuildId(null===(t=I.Z.getChannel(n))||void 0===t?void 0:t.guild_id)},CHANNEL_CREATE:D,CHANNEL_DELETE:D,CHANNEL_LOCAL_ACK:U,CHANNEL_MUTE_EXPIRED:k,CHANNEL_RTC_UPDATE_CHAT_OPEN:U,CHANNEL_SELECT:M,CHANNEL_STATUSES:function(e){return O.clearGuildId(e.guildId)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;return o()(t).map(e=>e.guild_id).uniq().forEach(e=>{O.clearGuildId(e)&&(n=!0)}),n},CONNECTION_OPEN_SUPPLEMENTAL:z,CONNECTION_OPEN:P,CURRENT_USER_UPDATE:P,DECAY_READ_STATES:P,DEV_TOOLS_DESIGN_TOGGLE_SET:P,DISABLE_AUTOMATIC_ACK:U,DISMISS_FAVORITE_SUGGESTION:function(e){let{channelId:t}=e;return O.nonPositionalChannelIdUpdate(t)},EMBEDDED_ACTIVITY_UPDATE_V2:function(e){let{location:t}=e;return O.updateSubtitles((0,u.j)(t),(0,u.p)(t))},EMBEDDED_ACTIVITY_LAUNCH_START:function(e){z()},EMBEDDED_ACTIVITY_LAUNCH_SUCCESS:z,ENABLE_AUTOMATIC_ACK:U,FETCH_GUILD_EVENTS_FOR_GUILD:function(e){let{guildId:t}=e;return O.updateSubtitles(t)},GAMES_DATABASE_FETCH_FAIL:z,GAMES_DATABASE_FETCH:z,GAMES_DATABASE_UPDATE:z,GUILD_APPLICATIONS_FETCH_SUCCESS:z,GUILD_CREATE:y,GUILD_DELETE:y,GUILD_MEMBER_UPDATE:function(e){let{guildId:t,user:n}=e;return f.default.getId()===n.id&&O.clearGuildId(t)},GUILD_MUTE_EXPIRED:k,GUILD_ROLE_CREATE:k,GUILD_ROLE_DELETE:k,GUILD_ROLE_SUBSCRIPTIONS_FETCH_RESTRICTIONS_FAILURE:k,GUILD_ROLE_SUBSCRIPTIONS_FETCH_RESTRICTIONS_SUCCESS:k,GUILD_ROLE_UPDATE:k,GUILD_SCHEDULED_EVENT_CREATE:H,GUILD_SCHEDULED_EVENT_DELETE:H,GUILD_SCHEDULED_EVENT_UPDATE:H,GUILD_TOGGLE_COLLAPSE_MUTED:k,GUILD_UPDATE:y,IMPERSONATE_STOP:k,IMPERSONATE_UPDATE:k,LOAD_CHANNELS:function(e){e.channels.forEach(e=>{let{guildId:t}=e;return O.clearGuildId(t)})},LOAD_MESSAGES_SUCCESS:U,MESSAGE_ACK:U,MESSAGE_CREATE:function(e){let{channelId:t}=e;return O.nonPositionalChannelIdUpdate(t)},MESSAGE_DELETE_BULK:U,MESSAGE_DELETE:U,NOTIFICATION_SETTINGS_UPDATE:P,OVERLAY_INITIALIZE:P,PASSIVE_UPDATE_V2:function(e){return O.clearGuildId(e.guildId)},RECOMPUTE_READ_STATES:P,RESORT_THREADS:U,SET_RECENTLY_ACTIVE_COLLAPSED:P,THREAD_CREATE:w,THREAD_DELETE:function(e){let{channel:t}=e;return O.nonPositionalChannelUpdate(t)},THREAD_LIST_SYNC:k,THREAD_MEMBER_UPDATE:B,THREAD_MEMBERS_UPDATE:B,THREAD_UPDATE:w,TRY_ACK:U,UPDATE_CHANNEL_DIMENSIONS:U,UPDATE_CHANNEL_LIST_SUBTITLES:function(e){let{guildId:t}=e;O.updateSubtitles(t)},USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK:k,USER_GUILD_SETTINGS_CHANNEL_UPDATE:k,USER_GUILD_SETTINGS_FULL_UPDATE:function(e){let{userGuildSettings:t}=e;t.forEach(e=>{let{guild_id:t}=e;return O.clearGuildId(t)})},USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE:k,USER_GUILD_SETTINGS_GUILD_UPDATE:k,USER_SETTINGS_PROTO_UPDATE:function(e){var t;let{settings:n}=e;if(n.type!==R.yP.PRELOADED_USER_SETTINGS)return!1;let i=null===(t=n.proto.guilds)||void 0===t?void 0:t.guilds,r=!1;return null!=i&&b.default.keys(i).forEach(e=>{null!=i[e].guildRecentsDismissedAt&&(r=O.updateRecentsCategory(e)||r)}),r},VOICE_CATEGORY_COLLAPSE:F,VOICE_CATEGORY_EXPAND:F,VOICE_CHANNEL_SELECT:M,VOICE_CHANNEL_STATUS_UPDATE:function(e){return O.nonPositionalChannelIdUpdate(e.id)},VOICE_STATE_UPDATES:function(e){let{voiceStates:t}=e,n=M(),i=new Set;for(let{channelId:e,oldChannelId:r}of t)null==r||i.has(r)||(O.nonPositionalChannelIdUpdate(r)&&(n=!0),i.add(r)),null==e||i.has(e)||(O.nonPositionalChannelIdUpdate(e)&&(n=!0),i.add(e));return n},WINDOW_FOCUS:function(){return null!=L&&O.nonPositionalChannelIdUpdate(L)}})},962220:function(e,t,n){n.d(t,{Z:()=>h});var i=n(39612),r=n(271579),l=n(756647),a=n(625128),o=n(626135),s=n(954824),c=n(751189),d=n(981631);let u="template",h={...c.Z,openNativeAppModal(e){a.Z.openNativeAppModal(e,d.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(e,t){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=e?(0,i.Oh)(e):(0,i.Gk)(),a=(0,r.WS)(),c=(0,r.ZP)(n,{utmSource:u,fingerprint:t,attemptId:a});o.default.track(d.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,l.K)(t),attempt_id:a,source:u,guild_template_code:e}),s.Z.launch(c,()=>{})}}},844800:function(e,t,n){n.d(t,{Z:()=>h});var i,r,l,a=n(442837),o=n(570140);let s=!1,c=null,d=null;class u extends(l=a.ZP.Store){getState(){return{verifySuccess:s,verifyErrors:c,redirectGuildId:d}}}r="HubEmailVerificationStore",(i="displayName")in u?Object.defineProperty(u,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[i]=r;let h=new u(o.Z,{HUB_VERIFY_EMAIL_SUCCESS:function(e){let{guildId:t}=e;s=!0,c=null,d=t},HUB_VERIFY_EMAIL_FAILURE:function(e){let{errors:t}=e;s=!1,c=t}})},580497:function(e,t,n){n.d(t,{Z:()=>m});var i=n(512722),r=n.n(i),l=n(525654),a=n.n(l),o=n(39612),s=n(271579),c=n(756647),d=n(703656),u=n(314897),h=n(896797),_=n(626135),g=n(954824),p=n(981631);function m(e){let t=function(e){var t;let n=null===(t=a().os)||void 0===t?void 0:t.family;if("Android"===n||"iOS"===n){let t=u.default.getFingerprint(),n=(0,s.WS)();return r()(null!=e,"generateAppPath: guildId cannot be null"),(0,s.ZP)((0,o.z0)(e),{utmSource:"verify_hub_email",fingerprint:t,attemptId:n})}return"discord://"}(e),n=(0,s.zS)(t);null!=n&&_.default.track(p.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,c.K)(n.fingerprint),attempt_id:n.attemptId,source:n.utmSource}),g.Z.launch(t,e=>{e||(0,d.dL)(h.Z.fallbackRoute)})}},637776:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(231239),o=n(129293),s=n(388905),c=n(703656),d=n(108427),u=n(844800),h=n(580497),_=n(981631),g=n(388032),p=n(841094);function m(e){let{location:t}=e,[m,f]=r.useState(!1),{verifySuccess:E,verifyErrors:I,redirectGuildId:x}=(0,l.e7)([u.Z],()=>u.Z.getState());r.useEffect(()=>{let e=(0,o.Z)(t);a.Z.verify(e),(0,d.e)("verify_hub_email")},[t]);let C=()=>{(0,h.Z)(x),f(!0)};return m?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(s.Dx,{className:p.title,children:g.intl.string(g.t.csrAMD)}),(0,i.jsx)(s.DK,{className:p.subtitle,children:g.intl.string(g.t["m1+IBg"])}),(0,i.jsx)(s.zx,{className:p.spacedButton,onClick:()=>(0,c.uL)(_.Z5c.CHANNEL(x)),children:g.intl.string(g.t.fIv16O)})]}):E?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(s.Ee,{className:p.image,src:n(73962)}),(0,i.jsx)(s.Dx,{className:p.title,children:g.intl.string(g.t.dAfGb2)}),(0,i.jsx)(s.zx,{onClick:C,children:g.intl.string(g.t.uJWIj4)})]}):null!=I?(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(s.Ee,{className:p.image,src:n(375673)}),(0,i.jsx)(s.Dx,{className:p.title,children:g.intl.string(g.t.PCgG39)}),(0,i.jsx)(s.DK,{className:p.subtitle,children:g.intl.string(g.t.tQpeAw)}),(0,i.jsx)(s.zx,{onClick:C,children:g.intl.string(g.t.uJWIj4)})]}):(0,i.jsxs)(s.ZP,{children:[(0,i.jsx)(s.Ee,{className:p.image,src:n(892235)}),(0,i.jsx)(s.Dx,{className:p.title,children:g.intl.string(g.t["0c8+5u"])}),(0,i.jsx)(s.DK,{className:p.subtitle,children:g.intl.string(g.t.ULTCBA)}),(0,i.jsx)(s.zx,{submitting:!0,color:s.zx.Colors.PRIMARY})]})}l.ZP.initialize()},551549:function(e,t,n){n.d(t,{oK:()=>r});let i=(0,n(818083).B)({kind:"user",id:"2023-09_iar_dsa_webform",label:"Safety Experience Unauthenticated Report Form",defaultConfig:{enabled:!1},treatments:[{id:1,label:"EU user",config:{enabled:!0}},{id:2,label:"DSA E2E testing user",config:{enabled:!0}}]});function r(e){return i.useExperiment({location:e},{autoTrackExposure:!0}).enabled}},230224:function(e,t,n){n.d(t,{GB:()=>Z,JI:()=>A,UM:()=>j,V6:()=>R,WT:()=>N,X7:()=>v,jq:()=>L,mx:()=>I}),n(411104);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(388905),c=n(118012),d=n(925329),u=n(372769),h=n(768581),_=n(51144),g=n(245335),p=n(981631),m=n(888592),f=n(388032),E=n(105401);let I=100,x=e=>{var t,n;let i={onlineCount:null!==(t=e.approximate_presence_count)&&void 0!==t?t:0,memberCount:null!==(n=e.approximate_member_count)&&void 0!==n?n:0};return 0===i.memberCount&&0===i.memberCount?null:i},C=e=>e.target_type===g.Iq.STREAM&&null!=e.target_user,N=e=>{var t;return(null===(t=e.channel)||void 0===t?void 0:t.type)===p.d4z.GROUP_DM},v=e=>null==e.channel&&null==e.guild&&null!=e.inviter,T=e=>{var t;let n=x(e);return(null!==(t=null==n?void 0:n.memberCount)&&void 0!==t?t:0)>I},S=e=>e.state===p.r2o.ACCEPTED,A=e=>{let{guild_scheduled_event:t}=e;return null!=t},b=e=>!A(e)&&(!!v(e)||null!=e.inviter&&!S(e)&&!T(e)),Z=e=>{let{guild:t,user:n,application:r}=e;return null!=r?(0,i.jsx)(d.Z,{className:E.appIcon,game:r,size:E.appIconSize}):null!=n?(0,i.jsx)(s.qE,{src:n.getAvatarURL(void 0,100),size:o.EFr.DEPRECATED_SIZE_100,className:E.avatar}):null!=t?(0,i.jsx)(s.Vj,{guild:t,size:s.Vj.Sizes.LARGER,className:E.guildIcon,animate:!0}):null};function R(e){var t;let{invite:n,textClassName:r,className:l}=e,o=x(n);return null==o||b(n)||(null==n?void 0:null===(t=n.guild)||void 0===t?void 0:t.id)===m.fQ?null:(0,i.jsx)(s.EJ,{className:a()(E.activityCount,l),online:o.onlineCount,total:o.memberCount,textClassName:r,flat:!0})}function L(e){let{invite:t,showBigUserIcon:n}=e,l=r.useMemo(()=>n?null:C(t)&&null!=t.target_user?h.ZP.getUserAvatarURL(t.target_user):b(t)&&null!=t.inviter?h.ZP.getUserAvatarURL(t.inviter):null,[t,n]),a=f.intl.string(f.t["3rE1Pz"]);if(N(t)){var c,d;a=(null===(c=t.channel)||void 0===c?void 0:c.name)!=null&&(null===(d=t.inviter)||void 0===d?void 0:d.username)!=null?f.intl.format(f.t.Lu4h19,{username:t.inviter.username}):f.intl.string(f.t.OsdY8P)}else C(t)&&null!=t.target_user?a=f.intl.formatToPlainString(f.t.x2L32d,{username:t.target_user.username}):S(t)?a=f.intl.string(f.t["FDsl+P"]):b(t)&&null!=t.inviter&&(a=f.intl.format(f.t.spU2mJ,{username:_.ZP.getFormattedName(t.inviter)}));return(0,i.jsxs)("div",{className:E.inviteJoinContainer,children:[null!=l&&(0,i.jsx)("div",{className:E.inviterIconWrapper,children:(0,i.jsx)(s.qE,{src:l,size:o.EFr.SIZE_24})}),(0,i.jsx)(s.DK,{className:E.__invalid_inviteJoinSubTitle,children:a})]})}function j(e){let t,n,r,{user:l,guild:a,channel:d,application:h,showBigUserIcon:g}=e;if(null!=a)g&&null==h&&(t=(0,i.jsx)(s.Vj,{guild:a,size:s.Vj.Sizes.SMALL})),n=a.name,null!=h&&(n=h.name,r=(0,i.jsxs)("div",{className:E.inviteJoinContainer,children:[(0,i.jsx)(s.DK,{className:E.appIn,children:f.intl.string(f.t["3gg9fH"])}),(0,i.jsxs)("div",{className:E.guildContainer,children:[(0,i.jsx)(s.Vj,{guild:a,size:s.Vj.Sizes.SMALL}),(0,i.jsx)(c.Z,{className:E.appGuildName,color:c.Z.Colors.CUSTOM,tag:"span",size:c.Z.Sizes.SIZE_24,children:a.name})]})]}));else if(null!=d){if(null==l)throw Error("no inviter in group DM invite");let e=_.ZP.getFormattedName(l);null!=d.name&&""!==d.name?(n=d.name,null!=d.icon&&(t=(0,i.jsx)(s.MC,{channel:d,size:o.EFr.SIZE_32}))):n=e}else if(null!=l){let e=_.ZP.getFormattedName(l);n=f.intl.formatToPlainString(f.t["4aF92d"],{username:e}),r=(0,i.jsx)(s.DK,{className:E.directInviteSubTitle,children:f.intl.format(f.t.Quj7HR,{username:e})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Dx,{className:E.title,children:[null!=a?(0,i.jsx)(u.Z,{guild:a,className:E.guildBadge,tooltipPosition:"left"}):null,t,n]}),r]})}},617730:function(e,t,n){n.d(t,{Z:()=>p});var i=n(200651);n(192379);var r=n(481060),l=n(973616),a=n(131704),o=n(601964),s=n(598077),c=n(230224),d=n(258356),u=n(981631),h=n(388032),_=n(461342);let g=e=>{let{state:t}=e;switch(t){case u.r2o.ACCEPTING:case u.r2o.APP_OPENING:return!0;default:return!1}};function p(e){let{invite:t,onAcceptInvite:n,disableUser:p=!1}=e;if(null==t)return null;let m=null!=t.guild?new o.ZP(t.guild):null,f=null!=t.channel?(0,a.jD)(t.channel):null,E=null!=t.target_application?new l.ZP(t.target_application):null,I=p||null==t.inviter?null:new s.Z(t.inviter),x=!(null!=t.approximate_member_count&&t.approximate_member_count>c.mx||null!=m&&m.hasFeature(u.oNc.COMMUNITY))&&null!=I&&(0,c.WT)(t),C=g(t),N={invite:t,user:I,guild:m,channel:f,application:E};return(0,c.JI)(t)?(0,i.jsx)(d.Z,{invite:t,channel:f,isSubmitting:C,onAcceptInvite:n}):(0,i.jsxs)("div",{className:_.container,children:[(0,i.jsx)(c.GB,{application:E,guild:m,user:x||(0,c.X7)(t)?I:null}),(0,c.X7)(t)?null:(0,i.jsx)(c.jq,{...N,showBigUserIcon:x}),(0,i.jsx)(c.UM,{...N,showBigUserIcon:x}),(0,i.jsx)(c.V6,{...N}),(0,i.jsx)(r.zxk,{onClick:n,submitting:C,className:_.acceptButton,children:h.intl.string(h.t.ohMvm5)})]})}},677760:function(e,t,n){n.d(t,{Z:()=>O}),n(47120);var i=n(200651),r=n(192379),l=n(642128),a=n(442837),o=n(481060),s=n(447543),c=n(587444),d=n(393238),u=n(388905),h=n(108427),_=n(314897),g=n(701190),p=n(626135),m=n(768581),f=n(823379),E=n(264229),I=n(230224),x=n(617730),C=n(258356),N=n(981631),v=n(388032),T=n(357070);function S(){return(0,i.jsx)("div",{className:T.centerFlex,children:(0,i.jsx)(o.$jN,{})})}let A=e=>{let t=(null==e?void 0:e.state)==null&&(null==e?void 0:e.channel)==null;if(null==e||null==e.state||t)return 0;let n=e.state;switch(n){case N.r2o.RESOLVED:case N.r2o.ACCEPTED:case N.r2o.APP_NOT_OPENED:case N.r2o.APP_OPENED:case N.r2o.ACCEPTING:case N.r2o.APP_OPENING:return 1;case N.r2o.EXPIRED:case N.r2o.BANNED:case N.r2o.ERROR:return 2;case N.r2o.RESOLVING:return 0;default:(0,f.vE)(n)}};function b(e){let{invite:t,onAcceptInvite:n}=e;return(null==t?void 0:t.state)===N.r2o.BANNED?(0,i.jsx)(c.u,{text:v.intl.string(v.t["5AkWAQ"]),buttonCta:v.intl.string(v.t["8osdkp"]),onClick:n}):(0,i.jsx)(c.u,{text:v.intl.string(v.t["usP+MT"]),buttonCta:v.intl.string(v.t["8osdkp"]),onClick:n})}function Z(e){let{children:t,cardChildren:n,startAnimHeightPx:a,innerStyle:s,...c}=e,{invite:u}=c,[h,_]=r.useState(A(u)),{ref:g,height:p}=(0,d.Z)(),m=(0,o.q_F)({height:null!=p&&0!==p?"".concat(p,"px"):"".concat(a,"px"),config:l.config.stiff});return r.useEffect(()=>{let e=A(u);e!==h&&_(e)},[u,h]),(0,i.jsxs)(l.animated.div,{className:T.inviteCard,style:m,children:[(0,i.jsx)(l.animated.div,{className:T.inviteChildContainer,style:m,children:(0,i.jsx)("section",{ref:g,className:null==s?void 0:s(h),children:t(h)})}),n]})}function R(e){let{invite:t}=e;if(null==t||!(0,I.JI)(t))return null;let n=e=>null==t?null:1===e?(0,i.jsx)(C.X,{invite:t}):null;return(0,i.jsx)(Z,{startAnimHeightPx:0,innerStyle:()=>T.guildInfoInner,...e,children:e=>n(e)})}function L(e){let{invite:t}=e,n=n=>{if(null==t)return(0,i.jsx)(S,{});switch(n){case 1:return(0,i.jsx)(x.Z,{...e,invite:t});case 2:return(0,i.jsx)(b,{...e,invite:t});default:return(0,i.jsx)(S,{})}},r={1:T.inviteCardInner,2:T.inviteCardInnerError,0:T.inviteCardInnerLoading};return(0,i.jsx)(Z,{startAnimHeightPx:200,innerStyle:e=>r[e],...e,children:e=>n(e)})}function j(e){let{invite:t,onAcceptInvite:n}=e,{guild:r}=null!=t?t:{},l={};if((null==r?void 0:r.splash)!=null){let e=m.ZP.getGuildSplashURL({id:r.id,splash:r.splash});null!=e&&(l.backgroundImage="url(".concat(e,")"),l.backgroundSize="cover")}return(0,i.jsxs)(u.ZP,{theme:N.BRd.DARK,className:T.splashBackground,style:l,contentClassName:T.centerAuthBoxContent,children:[(0,i.jsx)(L,{...e,onAcceptInvite:n}),(0,i.jsx)(R,{...e})]})}function O(e){let{inviteKey:t,transitionTo:n}=e,l=(0,a.e7)([g.Z],()=>g.Z.getInvite(t));return r.useEffect(()=>{(0,h.e)("invite_mobile")},[]),r.useEffect(()=>{null!=l&&l.state===N.r2o.RESOLVED&&p.default.track(N.rMx.INVITE_VIEWED,{invite_code:t,friends_count:null==l?void 0:l.friends_count},{flush:!0})},[l,t]),(0,i.jsx)(j,{invite:l,onAcceptInvite:e=>{!function(e,t,n){var i,r,l;null==e||e.preventDefault(),p.default.track(N.rMx.INVITE_APP_OPENED,{invite_code:(0,E.jX)(t),guild_id:null==n?void 0:null===(i=n.guild)||void 0===i?void 0:i.id,channel_id:null==n?void 0:null===(r=n.channel)||void 0===r?void 0:r.id,inviter_id:null==n?void 0:null===(l=n.inviter)||void 0===l?void 0:l.id});let a=null!=n&&n.state!==N.r2o.EXPIRED&&n.state!==N.r2o.BANNED?t:void 0,o=_.default.getFingerprint(),c=null!=o?o:_.default.getId(),d=null!=n&&(null==n?void 0:n.type)!=null?Number(null==n?void 0:n.type):void 0;s.Z.openApp(a,void 0,c,void 0,d)}(e,t,l)},transitionTo:n})}},258356:function(e,t,n){n.d(t,{X:()=>g,Z:()=>p});var i=n(200651);n(192379);var r=n(481060),l=n(565138),a=n(372769),o=n(742593),s=n(390072),c=n(601964),d=n(230224),u=n(388032),h=n(161669);function _(e){var t;let{guildScheduledEvent:n,channel:l,onAcceptInvite:a,isSubmitting:c}=e;return(0,i.jsxs)("div",{className:h.guildEventCard,children:[(0,i.jsx)(o.ZP,{name:n.name,description:null!==(t=n.description)&&void 0!==t?t:void 0,headerVariant:"heading-md/medium",descriptionClassName:h.__invalid_channelDescription,guildId:n.guild_id,guildEvent:n,eventPreview:n}),null!=l&&(0,i.jsx)("div",{className:h.channelInfo,children:(0,i.jsx)(s.Z,{guildScheduledEvent:n,channel:l})}),(0,i.jsx)(r.zxk,{className:h.acceptButton,color:r.zxk.Colors.GREEN,onClick:a,submitting:c,children:u.intl.string(u.t.riu2R0)})]})}function g(e){var t;let{invite:n}=e,o=null!=n.guild?new c.ZP(n.guild):null;if(null==o)return null;let s=null!==(t=o.description)&&void 0!==t?t:"";return(0,i.jsxs)("div",{className:h.guildInfoCard,children:[(0,i.jsx)(r.X6q,{className:h.presentedBy,variant:"text-sm/medium",children:u.intl.string(u.t.Eabu19)}),(0,i.jsxs)("div",{className:h.guildContainer,children:[(0,i.jsx)(l.Z,{guild:o,active:!0,size:l.Z.Sizes.MEDIUM}),(0,i.jsxs)("div",{className:h.guildDetailsContanier,children:[(0,i.jsxs)(r.Text,{className:h.guildName,color:"header-primary",variant:"text-sm/medium",tag:"span",children:[o.name,(0,i.jsx)(a.Z,{guild:o,className:h.guildBadge,tooltipPosition:"left"})]}),(0,i.jsx)(d.V6,{invite:n,textClassName:h.guildInfoMemberCountText,className:h.guildInfoMemberCount})]})]}),s.length>0&&(0,i.jsx)("details",{className:h.guildDescriptionContainer,children:(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:s})})]})}function p(e){let{invite:t,channel:n,isSubmitting:r,onAcceptInvite:l}=e,{guild_scheduled_event:a}=t;return null!=a?(0,i.jsx)(_,{guildScheduledEvent:a,channel:n,isSubmitting:r,onAcceptInvite:l}):null}},970648:function(e,t,n){n.d(t,{Z:()=>a}),n(411104);var i=n(772848),r=n(544891),l=n(981631);let a={generateNonce:function(){return(0,i.Z)()},createHandoffToken:async function(e){let{body:{handoff_token:t}}=await r.tn.post({url:l.ANM.HANDOFF,body:{key:e},oldFormErrors:!0,retries:1,rejectWithError:!1});if(null!=t)return t;throw Error("Missing handoff token!")}}},86779:function(e,t,n){n.d(t,{Z:()=>A}),n(47120),n(315314),n(309749),n(610138),n(216116),n(78328),n(815648),n(773603);var i=n(200651),r=n(192379),l=n(593473),a=n(756647),o=n(442837),s=n(544891),c=n(433517),d=n(481060),u=n(570140),h=n(893776),_=n(314897),g=n(626135),p=n(70956),m=n(970648),f=n(981631),E=n(388032),I=n(924469);let x="mweb_handoff_nonce",C="mweb_handoff_nonce_expiration",N=1*p.Z.Millis.MINUTE,v=new Set(["nonce_missing","nonce_expired","handoff_exchange"]),T=new Set(["deep_link_failed"]),S=()=>{c.K.remove(x),c.K.remove(C)},A=()=>{let e=(0,o.e7)([_.default],()=>_.default.getFingerprint()),{fingerprint:t,handoff_token:n}=(0,l.parse)(window.location.search),p=Array.isArray(t)?t.length>1?t[0]:null:t,A=null!=p?p:null!==e?e:void 0;r.useEffect(()=>{null!==p&&e!==p&&u.Z.dispatch({type:"FINGERPRINT",fingerprint:p})},[p,e]);let[b,Z]=r.useState(null),R=r.useCallback(e=>{Z(e),g.default.track(f.rMx.MOBILE_WEB_HANDOFF_FAILURE,{reason:e,fingerprint:(0,a.K)(A)},{fingerprint:A})},[Z,A]),L=c.K.get(x);if("null"===n&&null===b&&R("deep_link_failed"),null!=n&&"null"!==n&&null==L&&null===b&&R("nonce_missing"),r.useEffect(()=>{if(null!=L){let e=c.K.get(C);(null==e||Date.now()>=e)&&(R("nonce_expired"),S())}},[L,R]),r.useEffect(()=>{null!=n&&"null"!==n&&null!=L&&null==b&&s.tn.post({url:f.ANM.HANDOFF_EXCHANGE,body:{key:L,handoff_token:n},rejectWithError:!0}).then(e=>h.Z.loginToken(e.body.token,!1)).then(()=>{g.default.track(f.rMx.LOGIN_SUCCESSFUL,{source:f.uRl.MOBILE_WEB_HANDOFF,is_new_user:!1,fingerprint:(0,a.K)(A)});let e=new URL(window.location.href),t=new URLSearchParams(e.search);t.delete("handoff_token"),t.delete("fingerprint"),e.search=t.toString(),window.history.pushState(null,"",e)}).catch(()=>{R("handoff_exchange")}).finally(()=>{S()})},[n,L,b,A,R]),null==A)return null;let j=null==b?(0,i.jsxs)(i.Fragment,{children:[E.intl.string(E.t.uJ1Jsb),(0,i.jsx)("br",{}),E.intl.string(E.t.GHVWAg)]}):T.has(b)?E.intl.string(E.t.EPt55u):v.has(b)?E.intl.string(E.t.g87kTk):void 0;return null!=b&&T.has(b)?(0,i.jsx)("div",{className:I.errorContainer,children:(0,i.jsx)(d.Text,{color:"interactive-normal",variant:"text-sm/semibold",children:j})}):(0,i.jsxs)("div",{className:I.container,children:[(0,i.jsx)(d.Text,{variant:"text-sm/semibold",children:j}),(0,i.jsx)(d.zxk,{color:d.zxk.Colors.BRAND_INVERTED,onClick:()=>{let e=m.Z.generateNonce();c.K.set(x,e),c.K.set(C,Date.now()+N);let t=new URL(f.x0X),n=new URLSearchParams(window.location.search);n.delete("fingerprint"),n.delete("handoff_token");let i=new URLSearchParams;i.set("redirect",encodeURIComponent(window.location.pathname+n.toString())),i.set("key",e),i.set("fingerprint",A),t.search=i.toString(),g.default.track(f.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,a.K)(A),source:"mobile_web_handoff",destination:f.x0X},{fingerprint:A,flush:!0}),window.location.href=t.toString()},children:(0,i.jsx)(d.Text,{className:I.buttonText,variant:"text-sm/semibold",children:E.intl.string(E.t["NcC75+"])})})]})}},480387:function(e,t,n){n.d(t,{HJ:()=>h,Zd:()=>g,yD:()=>_});var i=n(213919),r=n(544891),l=n(570140),a=n(893776),o=n(710845),s=n(314897),c=n(726745),d=n(981631);let u=new o.Z("MultiAccountActionCreators");function h(){let e=s.default.getId();c.Z.getUsers().forEach(async t=>{let n,{id:a}=t,o=i.getToken(a);if(null==o||""===o){l.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:a});return}l.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:a});try{n=await r.tn.get({url:d.ANM.ME,headers:{authorization:o},retries:3,rejectWithError:!1})}catch(t){let e=(null==t?void 0:t.status)===401||(null==t?void 0:t.status)===403;l.Z.dispatch({type:e?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a});return}l.Z.dispatch({type:e===a?"CURRENT_USER_UPDATE":"USER_UPDATE",user:n.body}),l.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:a})})}function _(e,t){u.log("Switching account to ".concat(e),{switchSynchronously:t});let n=i.getToken(e);return null==n?(u.log("Switching accounts failed because there was no token"),l.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e}),Promise.resolve()):a.Z.switchAccountToken(n,t)}function g(e){l.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},251423:function(e,t,n){n.d(t,{L:()=>s});var i=n(192379),r=n(442837),l=n(570140),a=n(480387),o=n(726745);function s(){let e=(0,r.cj)([o.Z],()=>({isLoading:o.Z.getIsValidatingUsers(),multiAccountUsers:o.Z.getUsers()}));return i.useEffect(()=>{l.Z.wait(()=>{a.HJ()})},[]),e}},913583:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var r=n(990547),l=n(481060),a=n(213609),o=n(388905),s=n(760213),c=n(388032),d=n(99375);function u(e){let{onDismiss:t}=e;return(0,a.Z)({type:r.ImpressionTypes.MODAL,name:r.ImpressionNames.MULTI_ACCOUNT_SWITCH_LANDING}),(0,i.jsxs)(o.ZP,{className:d.chooseAccountAuthBox,children:[(0,i.jsx)(o.Dx,{children:c.intl.string(c.t["bVbB6+"])}),(0,i.jsx)(l.Text,{className:d.chooseAccountHelpText,variant:"text-md/normal",color:"header-secondary",children:c.intl.string(c.t["0M5fNz"])}),(0,i.jsx)(s.Z,{actionText:c.intl.string(c.t["DSN+h4"]),onAction:e=>{e===s.W.LOGIN_REQUIRED&&t()}}),(0,i.jsx)("div",{className:d.actions,children:(0,i.jsx)(l.zxk,{className:d.__invalid_chooseAccountButton,look:l.zxk.Looks.LINK,color:l.zxk.Colors.PRIMARY,onClick:t,size:l.zxk.Sizes.MEDIUM,children:(0,i.jsx)(l.Text,{variant:"text-sm/normal",children:c.intl.string(c.t["9g2mqa"])})})})]})}},423589:function(e,t,n){n.d(t,{Mn:()=>m,OD:()=>p,W9:()=>_}),n(47120),n(789020);var i=n(442837),r=n(798140),l=n(9156),a=n(630388),o=n(709054),s=n(312400),c=n(981631),d=n(969943),u=n(526761),h=n(388032);function _(){return[{label:h.intl.string(h.t["8ot6go"]),value:d.Oe.MINUTES_15},{label:h.intl.string(h.t.UMWBZm),value:d.Oe.HOURS_1},{label:h.intl.string(h.t.QmYWtr),value:d.Oe.HOURS_3},{label:h.intl.string(h.t.EpAXPD),value:d.Oe.HOURS_8},{label:h.intl.string(h.t["755t4u"]),value:d.Oe.HOURS_24},{label:h.intl.string(h.t.r3LawM),value:d.Oe.ALWAYS}]}let g={ignoreMute:!1,ignoreUnreadSetting:!0,ignoreNotificationSetting:!1};function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return o.default.keys(e).filter(n=>{var i,l;let o=e[n].message_notifications!==c.bL.NULL,s=a.yE(null!==(i=e[n].flags)&&void 0!==i?i:0,u.ic.UNREADS_ALL_MESSAGES)||a.yE(null!==(l=e[n].flags)&&void 0!==l?l:0,u.ic.UNREADS_ONLY_MENTIONS);return!t.ignoreUnreadSetting&&s||!t.ignoreNotificationSetting&&o||!t.ignoreMute&&(0,r.m$)(e[n])})}function m(e){let t=(0,i.e7)([l.ZP],()=>l.ZP.useNewNotifications);return s.xT.useExperiment({location:e},{autoTrackExposure:!1}).enabled&&t}},929809:function(e,t,n){n.d(t,{H:()=>l,c:()=>r});var i=n(570140);function r(e){i.Z.wait(()=>i.Z.dispatch({type:"NUF_NEW_USER",newUserType:e}))}function l(){i.Z.wait(()=>i.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(e,t,n){n.d(t,{M5:()=>r});var i,r=((i={})[i.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",i[i.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",i[i.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",i[i.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE",i)},179645:function(e,t,n){n.d(t,{Z:()=>c});var i,r=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=null;class s extends(i=r.ZP.PersistedStore){initialize(e){var t;o=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null}getType(){return o}getState(){return{type:o}}}a(s,"displayName","NewUserStore"),a(s,"persistKey","nuf");let c=new s(l.Z,{NUF_NEW_USER:function(e){let{newUserType:t}=e;o=t},NUF_COMPLETE:function(){o=null}})},541692:function(e,t,n){let i;n.d(t,{Z:()=>h});var r,l=n(442837),a=n(570140),o=n(133080);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(0,o.K4)();function d(e){var t;let{countryCode:n}=e;null!=n&&(c=null!==(t=(0,o.Zz)(n))&&void 0!==t?t:(0,o.K4)())}class u extends(r=l.ZP.DeviceSettingsStore){initialize(e){null!=e&&(i=e.selectedCountryCode)}getUserAgnosticState(){return{selectedCountryCode:i}}getCountryCode(){return null!=i?i:c}}s(u,"displayName","PhoneStore"),s(u,"persistKey","PhoneStore");let h=new u(a.Z,{PHONE_SET_COUNTRY_CODE:function(e){let{countryCode:t}=e;i=t},CONNECTION_OPEN:d,SET_LOCATION_METADATA:d})},51596:function(e,t,n){n.d(t,{$Z:()=>Z,Cp:()=>R,F_:()=>S,Se:()=>O,tF:()=>j,yC:()=>L}),n(757143),n(47120);var i=n(570140),r=n(493683),l=n(475179),a=n(925549),o=n(287734),s=n(212819),c=n(336197),d=n(359110),u=n(769654),h=n(131704),_=n(592125),g=n(283595),p=n(944486),m=n(914010),f=n(626135),E=n(777754),I=n(823385),x=n(981631),C=n(176505);let N=()=>Promise.resolve();N=n(346329).playApplication;let v=Object.freeze({[s.xQ.USER]:s.h8.USER,[s.xQ.TEXT_CHANNEL]:s.h8.TEXT_CHANNEL,[s.xQ.VOICE_CHANNEL]:s.h8.VOICE_CHANNEL,[s.xQ.GUILD]:s.h8.GUILD,[s.xQ.APPLICATION]:s.h8.APPLICATION}),T=new RegExp("^".concat(s.xQ.USER,"|").concat(s.xQ.TEXT_CHANNEL,"|").concat(s.xQ.VOICE_CHANNEL,"|\\").concat(s.xQ.GUILD,"|\\").concat(s.xQ.APPLICATION));function S(e){var t;let n;let[i,r]=(n=null!==(t=v[e.charAt(0)])&&void 0!==t?t:null,[e.replace(T,""),n]);return{query:i,queryMode:r}}function A(e,t){let{results:n,queryMode:i,query:r,maxQueryLength:l}=I.Z.getProps(),a=m.Z.getGuildId(),o=p.Z.getChannelId(a),c=n[(0,s.gJ)(s.a8.DOWN,-1,n)],d=E.Z.isEmail(r),u=E.Z.isPhoneNumber(r),g=E.Z.isUserTagLike(r),x=null!=o&&(0,C.AB)(o),N=e=>null==e?null:e.type===s.h8.IN_APP_NAVIGATION?e.type+"_"+e.record.type:e.type,v={current_channel_id:x?void 0:o,current_channel_static_route:x?o:void 0,current_guild_id:a,query_mode:null!=i?i:"GENERAL",query_length:r.length,max_query_length:l,is_email_like:d,is_phone_like:u,is_username_like:g,query:d||u||g?null:r,top_result_type:N(c),top_result_score:null!=c?c.score:null,num_results_total:I.Z.getResultTotals(),num_results_users:I.Z.getResultTotals(s.h8.USER),num_results_text_channels:I.Z.getResultTotals(s.h8.TEXT_CHANNEL),num_results_voice_channels:I.Z.getResultTotals(s.h8.VOICE_CHANNEL),num_results_guilds:I.Z.getResultTotals(s.h8.GUILD),num_results_group_dms:I.Z.getResultTotals(s.h8.GROUP_DM)};if(null!=o){let e=_.Z.getChannel(o);v.current_channel_type=null!=e?e.type:null}if(null!=t){let{type:e,score:i,record:r}=t;switch(v.selected_type=N(t),v.selected_score=i,v.selected_index=n.indexOf(t),e){case s.h8.GUILD:v.selected_guild_id=r.id;break;case s.h8.TEXT_CHANNEL:case s.h8.VOICE_CHANNEL:r instanceof h.Sf&&(v.selected_guild_id=null!=r.guild_id?r.guild_id:null),v.selected_channel_id=r.id;break;case s.h8.GROUP_DM:v.selected_channel_id=r.id;break;case s.h8.USER:v.selected_user_id=r.id}}f.default.track(e,v)}function b(){i.Z.dispatch({type:"QUICKSWITCHER_HIDE"})}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e){let t;if(I.Z.isOpen())return;let n=m.Z.getGuildId(),i=p.Z.getChannelId(n);if(null!=i){let e=_.Z.getChannel(i);t=null!=e?e.type:null}f.default.track(x.rMx.QUICKSWITCHER_OPENED,{source:e,current_guild_id:n,current_channel_id:i,current_channel_type:t})}(e),i.Z.dispatch({type:"QUICKSWITCHER_SHOW",...S(t)})}function R(){A(x.rMx.QUICKSWITCHER_CLOSED),b()}function L(e){i.Z.dispatch({type:"QUICKSWITCHER_SEARCH",...S(e)})}function j(e){i.Z.dispatch({type:"QUICKSWITCHER_SELECT",selectedIndex:e})}function O(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(),A(x.rMx.QUICKSWITCHER_RESULT_SELECTED,e);let{type:h,record:p}=e,m={page:x.ZY5.QUICK_SWITCHER};switch(h){case s.h8.GUILD:(0,u.X)(p.id,{navigationReplace:!0});break;case s.h8.TEXT_CHANNEL:null!=(t=_.Z.getChannel(p.id))&&(0,d.Kh)(t.id,{state:{analyticsSource:m},navigationReplace:!0});break;case s.h8.VOICE_CHANNEL:null!=(t=_.Z.getChannel(p.id))&&(n?l.Z.updateChatOpen(p.id,!0):o.default.selectVoiceChannel(p.id),(0,d.Kh)(t.id,{state:{analyticsSource:m},navigationReplace:!0}));break;case s.h8.USER:r.Z.openPrivateChannel([p.id],!1,!1,"Quickswitcher"),a.Z.channelListScrollTo(x.ME,_.Z.getDMFromUserId(p.id));break;case s.h8.GROUP_DM:(0,d.Kh)(p.id,{navigationReplace:!0}),a.Z.channelListScrollTo(x.ME,p.id);break;case s.h8.APPLICATION:let f=g.Z.getActiveLibraryApplication(p.id);N(p.id,f,{analyticsParams:{source:x.Sbl.QUICK_SWITCHER,location:x.Sbl.QUICK_SWITCHER}});break;case s.h8.LINK:case s.h8.IN_APP_NAVIGATION:(0,c.Z)(p.path,{navigationReplace:!0})}i.Z.dispatch({type:"QUICKSWITCHER_SWITCH_TO",result:e})}},106371:function(e,t,n){n.d(t,{Z:()=>l});var i=n(818083);let r=(0,i.B)({kind:"user",id:"2024-08_reaction_push_notifications_user",label:"In App Notifications for Reactions",defaultConfig:{enableInAppNotifications:!1,enableNotificationsForAllReactions:!1},treatments:[{id:1,label:"Enable In App Notifications for Reactions (First Reaction)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!1}},{id:2,label:"Enable In App Notifications for Reactions (All Reactions)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!0}},{id:3,label:"Enable In App Notifications for Reactions (All Reactions)",config:{enableInAppNotifications:!0,enableNotificationsForAllReactions:!0}}]});(0,i.B)({kind:"guild",id:"2024-08_reaction_push_notifications_guild",label:"In App Notifications for Reactions (Guild)",defaultConfig:{enableInAppNotifications:!1},treatments:[{id:1,label:"Enable In App Notifications for Reactions",config:{enableInAppNotifications:!0}}]});let l=r},905423:function(e,t,n){n.d(t,{Z:()=>c});var i=n(512969),r=n(65400),l=n(731965),a=n(893607),o=n(981631);function s(e){let t=(0,i.LX)(null!=e?e:"",{path:o.Z5c.CHANNEL(a.Hw.guildId(),a.Hw.channelId({optional:!0}),":messageId?")});if(null!=t){let{guildId:e,channelId:n}=t.params;return{guildId:e===o.ME?null:e,channelId:null!=n?n:null}}let n=(0,i.LX)(null!=e?e:"",{path:o.Z5c.GUILD_BOOSTING_MARKETING(a.Hw.guildId())});return null!=n?{guildId:n.params.guildId,channelId:null}:{guildId:null,channelId:null}}let c=(0,r.F)(e=>({path:null,basePath:"/",guildId:null,channelId:null,updatePath(t){let{guildId:n,channelId:i}=s(t);(0,l.j)(()=>e({path:t,guildId:n,channelId:i}))},resetPath(t){let{guildId:n,channelId:i}=s(t);(0,l.j)(()=>e({path:null,guildId:n,channelId:i,basePath:t}))}}))},977059:function(e,t,n){n.d(t,{R:()=>l,S:()=>r});let i=(0,n(987170).Z)({kind:"user",id:"2024-05_secure_frames_ui_rollout",label:"Secure Frames Rollout",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled.",config:{enabled:!0}}]});function r(e){let{location:t}=e;return i.useExperiment({location:t},{autoTrackExposure:!0})}function l(e){let{location:t}=e;return i.getCurrentConfig({location:t},{autoTrackExposure:!0})}},496729:function(e,t,n){n.d(t,{Z:()=>u,s:()=>d});var i=n(200651),r=n(704215),l=n(481060),a=n(570140),o=n(605236),s=n(592125),c=n(305587);function d(e){let{channelId:t,location:n}=e,i=s.Z.getChannel(t),l=(0,o.un)(r.z.USER_DM_MUTE_FEEDBACK);null!=i&&i.isDM()&&!l&&(0,c.Xs)(n)&&a.Z.dispatch({type:"USER_DM_MUTE_SHOW_FEEDBACK",channel:i})}function u(){(0,l.ZDy)(async()=>{let{default:e}=await n.e("87995").then(n.bind(n,180970));return t=>(0,i.jsx)(e,{...t})})}},630724:function(e,t,n){n.d(t,{EW:()=>h,FF:()=>c,MK:()=>s,X2:()=>u,mx:()=>d});var i,r,l,a,o,s=((i={}).UNKNOWN="unknown",i.ANY="any",i.INVITE="invite",i.ORGANIC="organic_registration",i.ORGANIC_MARKETING="organic_marketing",i.ORGANIC_GUILD_TEMPLATES="organic_guild_template",i.CREATE_GUILD="create_guild",i),c=((r={}).AGE_GATE="age_gate",r.AGE_GATE_UNDERAGE="age_gate_underage",r),d=((l={}).CLAIM_ACCOUNT="claim_account",l.CLAIM_ACCOUNT_SUCCESS="claim_account_success",l),u=((a={}).GUILD_TEMPLATES="guild_templates",a.GUILD_CREATE="guild_create",a.CREATION_INTENT="creation_intent",a.CHANNEL_PROMPT="channel_prompt",a.JOIN_GUILD="join_guild",a.SUCCESS="create_success",a),h=((o={}).NUF_STARTED="nuf_started",o.AGE_GATE="age_gate",o.NUF_COMPLETE="nuf_complete",o.HUB_CONNECTION="hub_connection",o)},390885:function(e,t,n){n.d(t,{Z:()=>E});var i=n(15729),r=n(877124),l=n(731965),a=n(433517),o=n(710845),s=n(626135),c=n(630724),d=n(981631);let u="UserFlowAnalyticsStore_current",h="UserFlowAnalyticsStore";function _(e){if(e===c.MK.UNKNOWN)return null;let t=a.K.get("".concat(h,"-").concat(e));if(null==t)return null;let{version:n,...i}=t;return 1!==n?null:i}new o.Z("UserFlowAnalytics");let g=(0,i.U)()((0,r.XR)((e,t)=>({flows:{},currentFlow:null,activeFlow:()=>{var e;let n=null!==(e=t().currentFlow)&&void 0!==e?e:a.K.get(u);if(null==n)return null;let{[n]:i}=t().flows,r=null!=i?i:_(n);return(null==r?void 0:r.currentStep)!=null?n:null}})));function p(e,t){let{[e]:n,...i}=g.getState().flows,r=null!=n?n:_(e);((null==r?void 0:r.currentStep)==null||r.currentStep!==t)&&(0,l.j)(()=>{g.setState({flows:{...i,[e]:{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1}},currentFlow:e})})}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;if(e===c.MK.ANY){var r;i=null!==(r=g.getState().activeFlow())&&void 0!==r?r:c.MK.UNKNOWN}let{[i]:a,...o}=g.getState().flows,s=null!=a?a:_(i);null!=s&&null!=s.currentStep&&s.currentStep!==t&&(0,l.j)(()=>{g.setState({flows:{...o,[i]:{...s,lastStep:s.currentStep,lastTimestamp:s.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n}},currentFlow:i})})}function f(){return null!=g.getState().activeFlow()}g.subscribe(e=>null!=e.currentFlow?e.flows[e.currentFlow]:void 0,e=>{var t;if(null!=e&&(!function(e){if(e.type===c.MK.UNKNOWN)return;let t="".concat(h,"-").concat(e.type);e.ended?(a.K.remove(t),a.K.remove(u)):(a.K.set("".concat(h,"-").concat(e.type),{...e,version:1}),a.K.set(u,e.type))}(e),s.default.track(d.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null===(t=e.lastTimestamp)||void 0===t?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0}),e.ended)){let t={...g.getState().flows};delete t[e.type],(0,l.j)(()=>{g.setState({flows:t,currentFlow:null})})}});let E={flowStart:p,flowStepOrStart:function(e,t){f()?m(e,t):p(e,t)},flowStep:m,hasActiveFlow:f}},671533:function(e,t,n){n.d(t,{Z:()=>u}),n(411104);var i,r=n(200651);n(192379);var l=n(120356),a=n.n(l),o=n(325767),s=n(485270),c=((i={}).LEFT="LEFT",i.RIGHT="RIGHT",i.UP="UP",i.DOWN="DOWN",i.UP_LEFT="UP_LEFT",i.DOWN_RIGHT="DOWN_RIGHT",i);let d=e=>{let{width:t=24,height:n=24,color:i="currentColor",direction:l,foreground:c,className:d,title:u,...h}=e;return(0,r.jsxs)("svg",{...(0,o.Z)(h),width:t,height:n,className:a()(d,function(e){switch(e){case"LEFT":return s.left;case"RIGHT":return s.right;case"UP":return null;case"DOWN":return s.down;case"UP_LEFT":return s.upLeft;case"DOWN_RIGHT":return s.downRight;default:throw Error("Invalid Direction ".concat(e))}}(l)),viewBox:"0 0 24 24",children:[null!=u?(0,r.jsx)("title",{children:u}):null,(0,r.jsx)("polygon",{className:c,fill:i,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"})]})};d.Directions=c;let u=d},625054:function(e,t,n){n.d(t,{Z:()=>a});var i=n(525654),r=n.n(i),l=n(643191);let a={dump(e){let t;null!=performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize}),e({browser:{name:r().name,version:r().version},os:{name:r().os.family,version:r().os.version},memory:t})},getTimeSinceNavigationStart:()=>Date.now()-l.mb}},912101:function(e,t,n){n.d(t,{Z:()=>i}),n(654769);let i=n(654769).Z},172517:function(e,t,n){n.d(t,{FW:()=>_,Pk:()=>s,Rq:()=>p,W_:()=>a,dK:()=>o,qd:()=>g}),n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817),n(642549),n(47120),n(757143),n(863942),n(411104);var i=n(512722),r=n.n(i),l=n(598077);function a(){return window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"])}async function o(e){return r()(null!=e.publicKey,"public key cannot be null"),btoa(String.fromCharCode(...new Uint8Array(await window.crypto.subtle.exportKey("spki",e.publicKey))))}async function s(e){return r()(null!=e.publicKey,"public key cannot be null"),u(await window.crypto.subtle.exportKey("spki",e.publicKey))}function c(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/={1,2}$/,"")}function d(e){return Uint8Array.from(atob(e),e=>e.charCodeAt(0))}async function u(e){return c(await window.crypto.subtle.digest({name:"SHA-256"},e))}function h(e,t){return r()(null!=e.privateKey,"private key cannot be null"),window.crypto.subtle.decrypt({name:"RSA-OAEP",hash:"SHA-256"},e.privateKey,t)}async function _(e,t){let n=new TextDecoder,i=await h(e,d(t));return n.decode(i)}async function g(e,t){return c(await h(e,d(t)))}async function p(e,t){let n=(t=await _(e,t)).match(/^(\d+):(\d{1,4}):([a-zA-Z0-9_]+):(.*)$/);if(null==n)throw Error("Invalid encoded user record.");let[,i,r,a,o]=n;return new l.Z({id:i,discriminator:r,avatar:"0"===a?null:a,username:o})}},654769:function(e,t,n){let i;n.d(t,{Z:()=>F}),n(47120),n(177593),n(773603);var r,l=n(392711),a=n.n(l),o=n(525654),s=n.n(o),c=n(579806),d=n(933557),u=n(710845),h=n(460181),_=n(474873),g=n(135906),p=n(592125),m=n(292959),f=n(699516),E=n(246946),I=n(594174),x=n(626135),C=n(5192),N=n(358085),v=n(998502),T=n(981631);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=N.isPlatformEmbedded&&(0,N.isWindows)(),b=A&&10>parseFloat(c.Z.os.release),Z=!0;if(A&&!b){let[e,,t]=c.Z.os.release.split(".");Z=parseInt(e)>10||parseInt(t)>=15063}let R=new u.Z("NotificationUtils"),L=A&&Z||"Chrome"===s().name&&47>parseFloat(s().version)||"Firefox"===s().name&&52>parseFloat(s().version);async function j(){if(void 0===i){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{i=await v.ZP.invoke("NOTIFICATIONS_GET_SETTINGS")}catch(e){R.warn("Fetching native notification settings failed with error: ",e),i=null}else i=null}return i}async function O(){let e=await j();return(null==e?void 0:e.authorizationStatus)==="authorized"&&(null==e?void 0:e.sound)===!0}function P(e,t){var n;return null!==(n=(0,g.Z)(null!=t?t:_.Z.getSoundpack())[e])&&void 0!==n?n:e}async function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(await O())try{await v.ZP.invoke("NOTIFICATIONS_SEND_NOTIFICATION",{sound:P(e,n)});return}catch(e){R.warn("Native notification sound failed with error: ",e)}(0,h.GN)(e,t,void 0,n)}let D=a().throttle(y,1e3,{leading:!0});function k(){v.ZP.flashFrame(!1)}A&&(window.addEventListener("focus",k),v.ZP.on("MAIN_WINDOW_FOCUS",k));let U=window.Notification;if(b){let e={};v.ZP.on("NOTIFICATION_CLICK",(t,n)=>{let i=e[n];null!=i&&(i.onclick(),i.close())}),v.ZP.send("NOTIFICATIONS_CLEAR"),r=class{static requestPermission(e){e()}close(){null!=e[this.id]&&(delete e[this.id],v.ZP.send("NOTIFICATION_CLOSE",this.id),this.onclose())}constructor(t,{body:n,icon:i}){S(this,"id",U._id++),S(this,"title",void 0),S(this,"body",void 0),S(this,"icon",void 0),S(this,"onshow",function(){}),S(this,"onclick",function(){}),S(this,"onclose",function(){}),this.title=t,this.body=n,this.icon=i,setImmediate(()=>this.onshow()),e[this.id]=this,v.ZP.send("NOTIFICATION_SHOW",{id:this.id,title:this.title,body:this.body,icon:this.icon})}},S(r,"permission","granted"),S(r,"_id",0),U=r}let w={};if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{v.ZP.on("NOTIFICATIONS_RECEIVED_RESPONSE",(e,t,n)=>{if("dismiss"===t)delete w[n];else{var i,r,l;let e=w[n];(null==e?void 0:null===(i=e.options)||void 0===i?void 0:i.omitClickTracking)||x.default.track(T.rMx.NOTIFICATION_CLICKED,null==e?void 0:e.trackingProps),null==e||null===(l=e.options)||void 0===l||null===(r=l.onClick)||void 0===r||r.call(l)}}),v.ZP.invoke("NOTIFICATIONS_REMOVE_ALL_NOTIFICATIONS")}catch(e){R.warn("Native notification setup failed with error: ",e)}async function B(){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications")){var e;return(null===(e=await j())||void 0===e?void 0:e.authorizationStatus)==="authorized"}return null!=U&&"granted"===U.permission}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;e.includes("message")?D(e,t,n):y(e,t,n)}async function G(e){return E.Z.disableNotifications&&null==e.overrideStreamerMode||!await B()||N.isPlatformEmbedded&&!v.ZP.shouldDisplayNotifications()}let F={hasPermission:B,requestPermission:function(e){if(null===c.Z||void 0===c.Z?void 0:c.Z.features.supports("notifications"))try{v.ZP.invoke("NOTIFICATIONS_GET_AUTHORIZATION").then(t=>{e(t)}).catch(()=>{e(!1)}).finally(()=>{i=void 0});return}catch(e){R.warn("Native notification authorization failed with error: ",e)}null!=U&&U.requestPermission(async()=>{null!=e&&e(await B())})},showNotification:async function(e,t,n,i,r){var l,a,o,s;let c;if(await G(r)){null!=r.sound&&!1!==r.playSoundIfDisabled&&M(r.sound,null!==(l=r.volume)&&void 0!==l?l:1,r.soundpack);return}let u=null!==(a=null==r?void 0:r.tag)&&void 0!==a?a:null,h=await j(),_=(null==h?void 0:h.authorizationStatus)==="authorized",g=_&&(null==h?void 0:h.sound)===!0,E=e=>{var t;null===(t=r.onShown)||void 0===t||t.call(r),r.omitViewTracking||x.default.track(T.rMx.NOTIFICATION_VIEWED,i),L&&setTimeout(()=>e.close(),5e3)};if(null==r.sound||g||M(r.sound,null!==(o=r.volume)&&void 0!==o?o:1,r.soundpack),_){let l={title:t,body:n};null!=e&&(l.icon=e),(null==r?void 0:r.sound)!=null&&(l.sound=P(r.sound,r.soundpack)),(null==r?void 0:r.tag)!=null&&(l.identifier=r.tag);let a="string"==typeof(null==i?void 0:i.guild_id)?i.guild_id:null,o="string"==typeof(null==i?void 0:i.channel_id)?i.channel_id:null,s="string"==typeof(null==i?void 0:i.notif_user_id)?i.notif_user_id:null;if(null!=o){l.threadIdentifier=o;let e=p.Z.getChannel(o);null!=e&&(l.groupName=(0,d.F6)(e,I.default,f.Z))}null!=s&&(l.senderIdentifier=s,null!=a&&(l.senderDisplayName=C.ZP.getName(a,o,I.default.getUser(s))));try{let e=await v.ZP.invoke("NOTIFICATIONS_SEND_NOTIFICATION",l);w[e]={options:r,trackingProps:i};let t={close(){try{v.ZP.invoke("NOTIFICATIONS_REMOVE_NOTIFICATIONS",[e])}catch(e){R.warn("Native notification removal failed with error: ",e)}}};return E(t),t}catch(e){R.warn("Native notification failed with error: ",e)}}null!=r.sound&&_&&M(r.sound,null!==(s=r.volume)&&void 0!==s?s:1,r.soundpack),A&&m.Z.taskbarFlash&&v.ZP.flashFrame(!0);try{c=new U(t,{icon:e,body:n,tag:u,silent:!0})}catch(e){return null}return(E(c),c.onclick=()=>{var e;N.isPlatformEmbedded?v.ZP.focus():(window.focus(),c.close()),r.omitClickTracking||x.default.track(T.rMx.NOTIFICATION_CLICKED,i),null===(e=r.onClick)||void 0===e||e.call(r)},Z)?c:{close(){var e;null==c||null===(e=c.onclose)||void 0===e||e.call(c)}}},disabled:G,playNotificationSound:y}},3570:function(e,t,n){n.d(t,{T:()=>s,s:()=>c});var i=n(536285),r=n(703656),l=n(314897),a=n(358085),o=n(981631);let s=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!(0,r.DB)())return i.default.request(o.Etm.DEEP_LINK,{type:e,params:t})},c=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!l.default.isAuthenticated())return s(e,{...t||{},fingerprint:l.default.getFingerprint()})}},230278:function(e,t,n){e.exports={premiumIcon:"premiumIcon__9671b",platformIcon:"platformIcon__9671b",giftIcon:"giftIcon__9671b",icon:"icon__9671b",iconWindows:"iconWindows__9671b icon__9671b",iconApple:"iconApple__9671b icon__9671b",iconAndroid:"iconAndroid__9671b icon__9671b",textLink:"textLink__9671b",textLinkSmall:"textLinkSmall__9671b textLink__9671b",testModeSKUSelector:"testModeSKUSelector__9671b",premiumLogo:"premiumLogo__9671b",premiumText:"premiumText__9671b",premiumAction:"premiumAction__9671b",ellipsis:"ellipsis__9671b",quarantineNotice:"quarantineNotice__9671b",quarantineLearnMoreLink:"quarantineLearnMoreLink__9671b"}},744149:function(e,t,n){e.exports={button:"button_e18686",default:"default_e18686",filled:"filled_e18686"}},261121:function(e,t,n){e.exports={streamerModeEnabled:"streamerModeEnabled_aa3ffd",streamerModeEnabledImage:"streamerModeEnabledImage_aa3ffd",streamerModeEnabledBtn:"streamerModeEnabledBtn_aa3ffd",disabled:"disabled_aa3ffd"}},610385:function(e,t,n){e.exports={wrapper:"wrapper_b97385"}},687e3:function(e,t,n){e.exports={characterBackground:"characterBackground_eb4069",artwork:"artwork_eb4069",logoWithText:"logoWithText_eb4069",logo:"logo_eb4069"}},93008:function(e,t,n){e.exports={applicationIcon:"applicationIcon_c4891f",seasonalIcon:"seasonalIcon_c4891f"}},640936:function(e,t,n){e.exports={authBox:"authBox_fd23fc",createButton:"createButton_fd23fc",header:"header_fd23fc",formContainer:"formContainer_fd23fc"}},897927:function(e,t,n){e.exports={elevated:"elevated__3f12a",button:"button__3f12a elevated__3f12a",buttonTitle:"buttonTitle__3f12a",card:"card__3f12a elevated__3f12a",cardContents:"cardContents__3f12a",cardAccentLeft:"cardAccentLeft__3f12a",cardAccentRight:"cardAccentRight__3f12a"}},594193:function(e,t,n){e.exports={container:"container_fa285e",guildBadge:"guildBadge_fa285e",appIcon:"appIcon_fa285e",appIconSize:"appIconSize_fa285e",avatar:"avatar_fa285e",guildIcon:"guildIcon_fa285e",compactAvatar:"compactAvatar_fa285e",inviteResolvingGuildName:"inviteResolvingGuildName_fa285e",title:"title_fa285e",activityCount:"activityCount_fa285e",directInviteSubTitle:"directInviteSubTitle_fa285e",guildContainer:"guildContainer_fa285e",appIn:"appIn_fa285e",appGuildName:"appGuildName_fa285e",icon:"icon_fa285e"}},32817:function(e,t,n){e.exports={header:"header__1d5fc",horizontalAuthBox:"horizontalAuthBox__1d5fc",needAccount:"needAccount__1d5fc",smallRegisterLink:"smallRegisterLink__1d5fc",mainLoginContainer:"mainLoginContainer__1d5fc",mobile:"mobile__1d5fc",goBackButton:"goBackButton__1d5fc",content:"content__1d5fc",caret:"caret__1d5fc"}},360860:function(e,t,n){e.exports={qrLogin:"qrLogin_e16417",qrLoginInner:"qrLoginInner_e16417",qrCode:"qrCode_e16417",qrCodeContainer:"qrCodeContainer_e16417",qrCodeOverlay:"qrCodeOverlay_e16417",qrAvatar:"qrAvatar_e16417",startOverButton:"startOverButton_e16417",verticalSeparator:"verticalSeparator_e16417"}},854674:function(e,t,n){e.exports={column:"column__1e128",container:"container__1e128",content:"content__1e128"}},240854:function(e,t,n){e.exports={errorMessage:"errorMessage_d332d2",createAccountTemplateHeader:"createAccountTemplateHeader_d332d2",horizontalAuthBox:"horizontalAuthBox_d332d2",flex:"flex_d332d2",divider:"divider_d332d2",goBackButton:"goBackButton_d332d2",content:"content_d332d2",caret:"caret_d332d2",messageNegative:"messageNegative_d332d2",messagePositive:"messagePositive_d332d2"}},57717:function(e,t,n){e.exports={container:"container_bba364",buttonColumn:"buttonColumn_bba364"}},823793:function(e,t,n){e.exports={image:"image_d92626"}},272786:function(e,t,n){e.exports={container:"container_fea832",inner:"inner_fea832",disabled:"disabled_fea832",input:"input_fea832",tag:"tag_fea832",small:"small_fea832",medium:"medium_fea832",large:"large_fea832",richTag:"richTag_fea832",richTagInput:"richTagInput_fea832",tagLabel:"tagLabel_fea832",tagRoleColor:"tagRoleColor_fea832",close:"close_fea832",iconLayout:"iconLayout_fea832",iconContainer:"iconContainer_fea832",icon:"icon_fea832",visible:"visible_fea832",clear:"clear_fea832"}},840814:function(e,t,n){e.exports={container:"container_fcf29c",flexContainer:"flexContainer_fcf29c",shrinkingContainer:"shrinkingContainer_fcf29c",actions:"actions_fcf29c",resetButton:"resetButton_fcf29c",message:"message_fcf29c"}},583535:function(e,t,n){e.exports={tabBarItemContainer:"tabBarItemContainer_c7e907",searchFilterCount:"searchFilterCount_c7e907",searchBar:"searchBar_c7e907"}},670189:function(e,t,n){n.r(e.exports={standardSidebarView:"standardSidebarView__23e6b",withUpsell:"withUpsell__23e6b",sidebarRegion:"sidebarRegion__23e6b",sidebarRegionScroller:"sidebarRegionScroller__23e6b",sidebar:"sidebar__23e6b",mobileSidebar:"mobileSidebar__23e6b",contentTransitionWrap:"contentTransitionWrap__23e6b",contentRegionScroller:"contentRegionScroller__23e6b",toolsContainer:"toolsContainer__23e6b",tools:"tools__23e6b",contentRegionHiddenSidebar:"contentRegionHiddenSidebar__23e6b",contentRegionShownSidebar:"contentRegionShownSidebar__23e6b",contentRegion:"contentRegion__23e6b",contentColumn:"contentColumn__23e6b",customColumn:"customColumn__23e6b",contentColumnWide:"contentColumnWide__23e6b",contentColumnDefault:"contentColumnDefault__23e6b",contentColumnMinimal:"contentColumnMinimal__23e6b",customHeader:"customHeader__23e6b",customContainer:"customContainer__23e6b",customScroller:"customScroller__23e6b",noticeRegion:"noticeRegion__23e6b",noticeRegionHiddenSidebar:"noticeRegionHiddenSidebar__23e6b",mobileSidebarTools:"mobileSidebarTools__23e6b",flexFullWidth:"flexFullWidth__23e6b",hidden:"hidden__23e6b",mobileContent:"mobileContent__23e6b",mobileContentHeader:"mobileContentHeader__23e6b",hideHamburger:"hideHamburger__23e6b",mobileToolsContainer:"mobileToolsContainer__23e6b",closeIconOnly:"closeIconOnly__23e6b",isMobileAndroid:"isMobileAndroid__23e6b",mobileToolsCloseIcon:"mobileToolsCloseIcon__23e6b",mobileSidebarHeader:"mobileSidebarHeader__23e6b"})},693385:function(e,t,n){e.exports={iconContainer:"iconContainer__98cf7",filledIcon:"filledIcon__98cf7"}},114969:function(e,t,n){e.exports={buttonContainer:"buttonContainer__2215e",listContainer:"listContainer__2215e",listItem:"listItem__2215e"}},750472:function(e,t,n){e.exports={iconRow:"iconRow_a653e3",icon:"icon_a653e3",overflow:"overflow_a653e3 icon_a653e3"}},514491:function(e,t,n){e.exports={title:"title_efe2ea",subtitle:"subtitle_efe2ea",img:"img_efe2ea"}},234293:function(e,t,n){n.r(e.exports={container:"container_b0f4cc",title:"title_b0f4cc",inputs:"inputs_b0f4cc",day:"day_b0f4cc",month:"month_b0f4cc",year:"year_b0f4cc",errors:"errors_b0f4cc"})},971139:function(e,t,n){e.exports={hoverRoll:"hoverRoll__0263c",forceHover:"forceHover__0263c",disabled:"disabled__0263c",default:"default__0263c",hovered:"hovered__0263c"}},749880:function(e,t,n){e.exports={image:"image__5901e",loaded:"loaded__5901e"}},817623:function(e,t,n){e.exports={logo:"logo__11f7b"}},262437:function(e,t,n){e.exports={checkbox:"checkbox_e17bcd",subText:"subText_e17bcd"}},180483:function(e,t,n){e.exports={container:"container__56b49",statusContainer:"statusContainer__56b49",channelInfoContainer:"channelInfoContainer__56b49",channelInfoText:"channelInfoText__56b49"}},988750:function(e,t,n){e.exports={error:"error__584e1",subTitle:"subTitle__584e1",button:"button__584e1",codeInput:"codeInput__584e1"}},503645:function(e,t,n){e.exports={canvas:"canvas_e99198",fallbackImage:"fallbackImage_e99198",visible:"visible_e99198",embedded:"embedded_e99198"}},407530:function(e,t,n){var i={wrapper:"wrapper__8bf38 "+n(763971).scrollbarGhost,rightSplit:"rightSplit__8bf38",embedded:"embedded__8bf38",leftSplit:"leftSplit__8bf38",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit__8bf38",mobileWave:"mobileWave__8bf38",logo:"logo__8bf38"};e.exports=i},982823:function(e,t,n){n.r(e.exports={qrCodeOverlay:"qrCodeOverlay_c28498","size-40":"size-40_c28498","size-60":"size-60_c28498",qrCodeOverlayContainer:"qrCodeOverlayContainer_c28498",qrCodeContainer:"qrCodeContainer_c28498"})},542508:function(e,t,n){e.exports={container:"container__06f11",imageContainer:"imageContainer__06f11",image:"image__06f11",backgroundImage:"backgroundImage__06f11",backgroundImageFilter:"backgroundImageFilter__06f11",loader:"loader__06f11"}},428670:function(e,t,n){e.exports={lineClamp:"lineClamp__0b48b"}},808786:function(e,t,n){e.exports={select:"select_d48ec6",error:"error_d48ec6",errorMessage:"errorMessage_d48ec6"}},680475:function(e,t,n){e.exports={pill:"pill_a2c9e8",clickable:"clickable_a2c9e8",disabled:"disabled_a2c9e8",small:"small_a2c9e8",selected:"selected_a2c9e8",emoji:"emoji_a2c9e8",closeCircle:"closeCircle_a2c9e8 emoji_a2c9e8",close:"close_a2c9e8",tooltipPill:"tooltipPill_a2c9e8"}},566751:function(e,t,n){e.exports={notice:"notice__36c3e",guildIcon:"guildIcon__36c3e",actionButton:"actionButton__36c3e",actionButtonInner:"actionButtonInner__36c3e"}},201950:function(e,t,n){e.exports={boostedGuildIconGem:"boostedGuildIconGem__97677",iconBackgroundTierNone:"iconBackgroundTierNone__97677",iconBackgroundTierOne:"iconBackgroundTierOne__97677",iconBackgroundTierThree:"iconBackgroundTierThree__97677",iconBackgroundTierTwo:"iconBackgroundTierTwo__97677",iconTierNone:"iconTierNone__97677",iconTierOne:"iconTierOne__97677",iconTierTwo:"iconTierTwo__97677",iconTierThree:"iconTierThree__97677"}},671149:function(e,t,n){e.exports={editProfileContainer:"editProfileContainer__42179",opened:"opened__42179",customizationSection:"customizationSection__42179",condensed:"condensed__42179",header:"header__42179",headerIconWrapper:"headerIconWrapper__42179",title:"title__42179",caret:"caret__42179",serverNickname:"serverNickname__42179"}},59220:function(e,t,n){e.exports={notice:"notice__30f28",error:"error__30f28",button:"button__30f28",header:"header__30f28"}},24753:function(e,t,n){e.exports={productCard:"productCard__8d9f6",productCardClickable:"productCardClickable__8d9f6",productThumbnail:"productThumbnail__8d9f6",productInfo:"productInfo__8d9f6",productInfoContent:"productInfoContent__8d9f6",productName:"productName__8d9f6",productDetails:"productDetails__8d9f6",dotSeparator:"dotSeparator__8d9f6",productActionMenuButton:"productActionMenuButton__8d9f6",productActionMenuIcon:"productActionMenuIcon__8d9f6",menuContainer:"menuContainer__8d9f6",disabled:"disabled__8d9f6"}},383011:function(e,t,n){e.exports={badge:"badge__436c9",badgeIcon:"badgeIcon__436c9"}},139266:function(e,t,n){e.exports={container:"container_cbb93a",body:"body_cbb93a"}},989384:function(e,t,n){e.exports={emojiIcon:"emojiIcon_ff168a"}},507641:function(e,t,n){e.exports={icon:"icon__0e5a2"}},759821:function(e,t,n){e.exports={messageBlock:"messageBlock__2d815",yellowMessageBlock:"yellowMessageBlock__2d815 messageBlock__2d815",messageBlockIcon:"messageBlockIcon__2d815",redMessageBlock:"redMessageBlock__2d815 messageBlock__2d815",brownMessageBlock:"brownMessageBlock__2d815 messageBlock__2d815"}},674055:function(e,t,n){e.exports={container:"container_de50c1"}},776394:function(e,t,n){e.exports={container:"container_e2461d",innerContainer:"innerContainer_e2461d",iconWrapper:"iconWrapper_e2461d",star:"star_e2461d",sparkle:"sparkle_e2461d"}},529819:function(e,t,n){e.exports={statusWarningBlock:"statusWarningBlock__1066d",statusWarningBlockWithCta:"statusWarningBlockWithCta__1066d",horizontalStatusWarningBlock:"horizontalStatusWarningBlock__1066d",verticalStatusWarningBlock:"verticalStatusWarningBlock__1066d",ctaButtonContainer:"ctaButtonContainer__1066d",ctaButton:"ctaButton__1066d",ctaBlackButton:"ctaBlackButton__1066d",ctaButtonText:"ctaButtonText__1066d"}},43530:function(e,t,n){e.exports={backButtonInner:"backButtonInner__84419",backButton:"backButton__84419",backNotice:"backNotice__84419"}},295267:function(e,t,n){e.exports={header:"header__4591d",description:"description__4591d",title:"title__4591d",guildBadge:"guildBadge__4591d",row:"row__4591d",guildIcon:"guildIcon__4591d",body:"body__4591d",divider:"divider__4591d",channelIcon:"channelIcon__4591d",icon:"icon__4591d",clickable:"clickable__4591d",linkText:"linkText__4591d",channelLocation:"channelLocation__4591d",locationText:"locationText__4591d",externalLocation:"externalLocation__4591d",interestedCount:"interestedCount__4591d",creator:"creator__4591d"}},70172:function(e,t,n){e.exports={guildIconContainer:"guildIconContainer__85d16",guildIconV2Container:"guildIconV2Container__85d16",guildBadge:"guildBadge__85d16",disableColor:"disableColor__85d16",tierTooltipTitle:"tierTooltipTitle__85d16",boostedGuildTierMutedIconWithVisibleBanner:"boostedGuildTierMutedIconWithVisibleBanner__85d16",boostedGuildTierIconBackgroundWithVisibleBanner:"boostedGuildTierIconBackgroundWithVisibleBanner__85d16",guildBadgeIcon:"guildBadgeIcon__85d16"}},809893:function(e,t,n){e.exports={icon:"icon__5c799",guidelines:"guidelines__5c799",divider:"divider__5c799",previewSection:"previewSection__5c799",channelsWrapper:"channelsWrapper__5c799",rolesWrapper:"rolesWrapper__5c799",protip:"protip__5c799",protipText:"protipText__5c799",channel:"channel__5c799",category:"category__5c799",channelIcon:"channelIcon__5c799",channelText:"channelText__5c799",role:"role__5c799",roleCircle:"roleCircle__5c799",roleName:"roleName__5c799"}},860693:function(e,t,n){e.exports={image:"image__74f72",header:"header__74f72",usagePill:"usagePill__74f72"}},262484:function(e,t,n){e.exports={container:"container__8d70a",title:"title__8d70a",subtitle:"subtitle__8d70a",userText:"userText__8d70a",usagePill:"usagePill__8d70a",verifiedIcon:"verifiedIcon__8d70a",verifiedNameContainer:"verifiedNameContainer__8d70a",verifiedCheckContainer:"verifiedCheckContainer__8d70a",verifiedCheck:"verifiedCheck__8d70a"}},841094:function(e,t,n){e.exports={image:"image_f4cef4",subtitle:"subtitle_f4cef4",title:"title_f4cef4",spacedButton:"spacedButton_f4cef4"}},105401:function(e,t,n){e.exports={guildBadge:"guildBadge_d69818",appIcon:"appIcon_d69818",appIconSize:"appIconSize_d69818",avatar:"avatar_d69818",guildIcon:"guildIcon_d69818",title:"title_d69818",activityCount:"activityCount_d69818",directInviteSubTitle:"directInviteSubTitle_d69818",guildContainer:"guildContainer_d69818",appIn:"appIn_d69818",appGuildName:"appGuildName_d69818",inviteJoinContainer:"inviteJoinContainer_d69818",inviterIconWrapper:"inviterIconWrapper_d69818"}},461342:function(e,t,n){e.exports={container:"container_fb2e73",acceptButton:"acceptButton_fb2e73"}},357070:function(e,t,n){e.exports={splashBackground:"splashBackground__742a4",centerFlex:"centerFlex__742a4",centerAuthBoxContent:"centerAuthBoxContent__742a4 centerFlex__742a4",inviteCard:"inviteCard__742a4",inviteChildContainer:"inviteChildContainer__742a4",inviteCardInner:"inviteCardInner__742a4",guildInfoInner:"guildInfoInner__742a4",inviteCardInnerError:"inviteCardInnerError__742a4",inviteCardInnerLoading:"inviteCardInnerLoading__742a4"}},161669:function(e,t,n){e.exports={guildInfoCard:"guildInfoCard__50dcd",presentedBy:"presentedBy__50dcd",guildContainer:"guildContainer__50dcd",guildDetailsContanier:"guildDetailsContanier__50dcd",guildName:"guildName__50dcd",guildBadge:"guildBadge__50dcd",guildInfoMemberCount:"guildInfoMemberCount__50dcd",guildInfoMemberCountText:"guildInfoMemberCountText__50dcd",guildDescriptionContainer:"guildDescriptionContainer__50dcd",guildEventCard:"guildEventCard__50dcd",channelInfo:"channelInfo__50dcd",acceptButton:"acceptButton__50dcd"}},216594:function(e,t,n){e.exports={notice:"notice_c5cd6a",button:"button_c5cd6a",back:"back_c5cd6a",iconButton:"iconButton_c5cd6a",arrow:"arrow_c5cd6a",header:"header_c5cd6a"}},452091:function(e,t,n){e.exports={header:"header__7c901",subtitle:"subtitle__7c901",closeButton:"closeButton__7c901",content:"content__7c901",smsInputContainer:"smsInputContainer__7c901",smsInput:"smsInput__7c901",error:"error__7c901",footer:"footer__7c901",listItemContainer:"listItemContainer__7c901",listItemText:"listItemText__7c901",listItemArrow:"listItemArrow__7c901"}},924469:function(e,t,n){e.exports={container:"container__733ad",errorContainer:"errorContainer__733ad container__733ad",buttonText:"buttonText__733ad"}},99375:function(e,t,n){e.exports={chooseAccountAuthBox:"chooseAccountAuthBox_df9c06",chooseAccountHelpText:"chooseAccountHelpText_df9c06",actions:"actions_df9c06"}},536554:function(e,t,n){e.exports={list:"list__920b8",accountCard:"accountCard__920b8",separator:"separator__920b8",userDetails:"userDetails__920b8",usernameSection:"usernameSection__920b8",hasActionMaxWidth:"hasActionMaxWidth__920b8",userActions:"userActions__920b8",username:"username__920b8",userActionMenu:"userActionMenu__920b8",overflowMenuIcon:"overflowMenuIcon__920b8",textOverflow:"textOverflow__920b8",hintText:"hintText__920b8"}},373780:function(e,t,n){e.exports={wrapper:"wrapper_e03935",disabledSelected:"disabledSelected_e03935",option:"option_e03935",hiddenInput:"hiddenInput_e03935",bottomLeft:"bottomLeft_e03935 option_e03935",bottomRight:"bottomRight_e03935 option_e03935",topLeft:"topLeft_e03935 option_e03935",topRight:"topRight_e03935 option_e03935",disabled:"disabled_e03935",disabledIcon:"disabledIcon_e03935",selected:"selected_e03935"}},149938:function(e,t,n){e.exports={outerContainer:"outerContainer__310be",container:"container__310be",innerContainer:"innerContainer__310be",countryCode:"countryCode__310be",separator:"separator__310be",popout:"popout__310be",hidden:"hidden__310be"}},208689:function(e,t,n){e.exports={input:"input_d64f22",inputField:"inputField_d64f22",inputWrapper:"inputWrapper_d64f22"}},941253:function(e,t,n){e.exports={container:"container__8a969",iconContainer:"iconContainer__8a969",actionable:"actionable__8a969",flair:"flair__8a969"}},614990:function(e,t,n){e.exports={text:"text__18089",premiumIcon:"premiumIcon__18089"}},767493:function(e,t,n){n.r(e.exports={badgeIconPrivateMessages:"badgeIconPrivateMessages__80f39",badgeIconSettingsMenu:"badgeIconSettingsMenu__80f39"})},229830:function(e,t,n){e.exports={premiumTrialBadge:"premiumTrialBadge__4c1e4",premiumTrialBadgeV2:"premiumTrialBadgeV2__4c1e4",premiumTrialBadgeIcon:"premiumTrialBadgeIcon__4c1e4",premiumTrialTier0UnacknowledgedBadge:"premiumTrialTier0UnacknowledgedBadge__4c1e4",premiumDiscountUnacknowledgedBadge:"premiumDiscountUnacknowledgedBadge__4c1e4",premiumTrialTier2UnacknowledgedBadge:"premiumTrialTier2UnacknowledgedBadge__4c1e4",premiumTrialAcknowledgedBadge:"premiumTrialAcknowledgedBadge__4c1e4",premiumTrialBadgeSelected:"premiumTrialBadgeSelected__4c1e4",premiumOfferBadgeCopy:"premiumOfferBadgeCopy__4c1e4"}},844812:function(e,t,n){e.exports={badgeContainer:"badgeContainer__98c7b",newBadge:"newBadge__98c7b",star:"star__98c7b",starLeft:"starLeft__98c7b",starRight:"starRight__98c7b"}},360686:function(e,t,n){e.exports={container:"container__477aa",acceptButton:"acceptButton__477aa",acceptText:"acceptText__477aa",declineButton:"declineButton__477aa",declineText:"declineText__477aa",blocked:"blocked__477aa",blockedIcon:"blockedIcon__477aa",blockedText:"blockedText__477aa",noIcon:"noIcon__477aa"}},770082:function(e,t,n){e.exports={settingsItemHighlight:"settingsItemHighlight__7cd2d",settingsBackgroundFlashElement:"settingsBackgroundFlashElement__7cd2d"}},913074:function(e,t,n){e.exports={premiumLabel:"premiumLabel_e681d1",selected:"selected_e681d1",background:"background_e681d1",selectedBackground:"selectedBackground_e681d1",auPromo:"auPromo_e681d1",auPromoSelected:"auPromoSelected_e681d1"}},231220:function(e,t,n){e.exports={container:"container_b2d72f",iconContainer:"iconContainer_b2d72f",icon:"icon_b2d72f",foreground:"foreground_b2d72f",avatar:"avatar_b2d72f",avatarSize:"avatarSize_b2d72f",emptyUser:"emptyUser_b2d72f",avatarMasked:"avatarMasked_b2d72f avatar_b2d72f",moreUsers:"moreUsers_b2d72f"}},684309:function(e,t,n){e.exports={card:"card_b846e5"}},107720:function(e,t,n){e.exports={cursorPointer:"cursorPointer_c8743f"}},73004:function(e,t,n){e.exports={base:"base_e42a84",sparkle:"sparkle_e42a84 base_e42a84",pop:"pop_e42a84 base_e42a84",light:"light_e42a84 base_e42a84",cross:"cross_e42a84 base_e42a84",sparkleWhite:"sparkleWhite_e42a84 sparkle_e42a84 base_e42a84",popWhite:"popWhite_e42a84 pop_e42a84 base_e42a84",lightWhite:"lightWhite_e42a84 light_e42a84 base_e42a84",crossGrey:"crossGrey_e42a84 cross_e42a84 base_e42a84",crossWhite:"crossWhite_e42a84 cross_e42a84 base_e42a84"}},485270:function(e,t,n){e.exports={left:"left_caab99",right:"right_caab99",down:"down_caab99",downRight:"downRight_caab99",upLeft:"upLeft_caab99"}},717729:function(e,t,n){e.exports={hoverCard:"hoverCard__26e8b"}},533126:function(e,t,n){function i(e){let t="==".slice(0,(4-e.length%4)%4),n=atob(e.replace(/-/g,"+").replace(/_/g,"/")+t),i=new ArrayBuffer(n.length),r=new Uint8Array(i);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return i}function r(e){let t=new Uint8Array(e),n="";for(let e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}n.d(t,{U2:()=>f,wz:()=>m});var l="copy",a="convert";function o(e,t,n){if(t===l)return n;if(t===a)return e(n);if(t instanceof Array)return n.map(n=>o(e,t[0],n));if(t instanceof Object){let i={};for(let[r,l]of Object.entries(t)){if(l.derive){let e=l.derive(n);void 0!==e&&(n[r]=e)}if(!(r in n)){if(l.required)throw Error(`Missing key: ${r}`);continue}if(null==n[r]){i[r]=null;continue}i[r]=o(e,l.schema,n[r])}return i}}function s(e,t){return{required:!0,schema:e,derive:t}}function c(e){return{required:!0,schema:e}}function d(e){return{required:!1,schema:e}}var u={type:c(l),id:c(a),transports:d(l)},h={appid:d(l),appidExclude:d(l),credProps:d(l)},_={appid:d(l),appidExclude:d(l),credProps:d(l)};c({rp:c(l),user:c({id:c(a),name:c(l),displayName:c(l)}),challenge:c(a),pubKeyCredParams:c(l),timeout:d(l),excludeCredentials:d([u]),authenticatorSelection:d(l),attestation:d(l),extensions:d(h)}),d(l),c(l),c(l),c(a),d(l),c({clientDataJSON:c(a),attestationObject:c(a),transports:s(l,e=>{var t;return(null==(t=e.getTransports)?void 0:t.call(e))||[]})}),s(_,e=>e.getClientExtensionResults());var g={mediation:d(l),publicKey:c({challenge:c(a),timeout:d(l),rpId:d(l),allowCredentials:d([u]),userVerification:d(l),extensions:d(h)}),signal:d(l)},p={type:c(l),id:c(l),rawId:c(a),authenticatorAttachment:d(l),response:c({clientDataJSON:c(a),authenticatorData:c(a),signature:c(a),userHandle:c(a)}),clientExtensionResults:s(_,e=>e.getClientExtensionResults())};function m(e){return o(i,g,e)}async function f(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>o(r,p,t),t}}}]);
//# sourceMappingURL=36801d892bc214d3.js.map