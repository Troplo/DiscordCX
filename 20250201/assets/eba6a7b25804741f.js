"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["13125"],{91176:function(e,l,n){n.d(l,{Z:()=>r});var t=n(913527),i=n.n(t),a=n(749210);let r={async setCommunicationDisabledDuration(e,l,n,t,r){let d=null!=n?i()().add(n,"s").toISOString():null;await a.Z.setCommunicationDisabledUntil({guildId:e,userId:l,communicationDisabledUntilTimestamp:d,duration:n,reason:t,location:r})}}},933409:function(e,l,n){n.d(l,{Z:()=>T}),n(47120),n(789020);var t=n(200651),i=n(192379),a=n(442837),r=n(481060),d=n(91176),o=n(749210),s=n(616780),u=n(251794),c=n(386696),Z=n(71619),g=n(946273),E=n(910693),h=n(592125),m=n(271383),v=n(430824),f=n(496675),P=n(594174),M=n(979651),C=n(630388),S=n(5192),N=n(813872),O=n(981631),b=n(590433),I=n(372897),R=n(388032);function T(e,l,T,j){let p=i.useMemo(()=>({[l]:[e.id]}),[l,e.id]),x=null!=j?[j]:[];(0,s.$)(p),(0,a.e7)([f.Z],()=>f.Z.getGuildVersion(l),[l]);let _=(0,a.e7)([v.Z],()=>v.Z.getGuild(l),[l]),A=(0,a.e7)([P.default],()=>{var l;return(null===(l=P.default.getCurrentUser())||void 0===l?void 0:l.id)===e.id},[e.id]),U=(0,a.e7)([m.ZP],()=>m.ZP.isGuestOrLurker(l,e.id),[l,e.id]),y=(0,a.e7)([h.Z],()=>h.Z.getChannel(T),[T]),[,q]=(0,Z.ZP)(e.id,l),B=null==y?void 0:y.isGuildStageVoice(),{muted:k,deafened:D,suppressed:L,voiceChannelId:V}=(0,a.cj)([M.Z],()=>{var n,t,i;let a=M.Z.getVoiceState(l,e.id);return{muted:null!==(n=null==a?void 0:a.mute)&&void 0!==n&&n,deafened:null!==(t=null==a?void 0:a.deaf)&&void 0!==t&&t,suppressed:null!==(i=null==a?void 0:a.suppress)&&void 0!==i&&i,voiceChannelId:null==a?void 0:a.channelId}}),G=(0,a.e7)([m.ZP],()=>m.ZP.getMember(l,e.id)),F=(0,N.Z)({userId:e.id,guildId:l,channelId:T,location:j}),w=(0,E.sE)(l,{location:j,targetUserId:e.id}),K=(0,c.Z)(l,e.id),Y=null!=V&&null!=T&&f.Z.canWithPartialContext(O.Plq.VIEW_CHANNEL,{channelId:V})&&!U?[(!B||B&&!L)&&f.Z.canWithPartialContext(O.Plq.MUTE_MEMBERS,{channelId:T})?(0,t.jsx)(r.S89,{id:"voice-mute",label:R.intl.string(R.t.e9e9UV),checked:k,color:"danger",action:()=>{!1===k&&w(E.jQ.MUTE),o.Z.setServerMute(l,e.id,!k)}},"voice-mute"):null,(!B||B&&!L)&&f.Z.canWithPartialContext(O.Plq.DEAFEN_MEMBERS,{channelId:T})?(0,t.jsx)(r.S89,{id:"voice-deafen",label:R.intl.string(R.t.hMA2GB),checked:D,color:"danger",action:()=>o.Z.setServerDeaf(l,e.id,!D)},"voice-deafen"):null,!A&&null!=_&&f.Z.canWithPartialContext(O.Plq.MOVE_MEMBERS,{channelId:T})?(0,t.jsx)(r.sNh,{id:"voice-disconnect",label:A?R.intl.string(R.t["6vrfgo"]):R.intl.string(R.t["/jERiI"]),color:"danger",action:()=>o.Z.setChannel(l,e.id,null)},"voice-disconnect"):null]:[],Q=async(l,n,t)=>{if(l.ctrlKey||l.metaKey)try{var i;await d.Z.setCommunicationDisabledDuration(n,t,b.UK.DURATION_60_SEC,null,j),w(E.jQ.TIMEOUT),(0,r.showToast)((0,r.createToast)(R.intl.formatToPlainString(R.t.O9C3Nj,{user:null!==(i=S.ZP.getName(n,null,e))&&void 0!==i?i:""}),r.ToastType.SUCCESS))}catch(e){(0,r.showToast)((0,r.createToast)(R.intl.string(R.t.epyCur),r.ToastType.FAILURE))}},W=null,H=null!=_&&f.Z.canManageUser(O.Plq.MODERATE_MEMBERS,e,_)&&f.Z.canManageUser(O.Plq.KICK_MEMBERS,e,_)&&f.Z.canManageUser(O.Plq.BAN_MEMBERS,e,_),z=null!=_&&(f.Z.canManageUser(O.Plq.MANAGE_GUILD,e,_)||f.Z.canManageUser(O.Plq.MANAGE_ROLES,e,_));if(!A&&null!=_&&null!=G&&null!=G.joinedAt&&(H||z)&&_.hasFeature(O.oNc.GUILD_ONBOARDING_EVER_ENABLED)){var J;W=(0,C.yE)(null!==(J=G.flags)&&void 0!==J?J:0,I.q.BYPASSES_VERIFICATION)?(0,t.jsx)(r.sNh,{id:"verify",label:R.intl.string(R.t.NbhSIy),action:()=>{var l;return o.Z.setMemberFlags(_.id,e.id,(0,C.mB)(null!==(l=G.flags)&&void 0!==l?l:0,I.q.BYPASSES_VERIFICATION,!1))}},"verify"):(0,t.jsx)(r.sNh,{id:"verify",label:R.intl.string(R.t["6QlTeH"]),action:()=>{var l;return o.Z.setMemberFlags(_.id,e.id,(0,C.mB)(null!==(l=G.flags)&&void 0!==l?l:0,I.q.BYPASSES_VERIFICATION,!0))}},"verify")}return[...Y,...A||null==_?[]:[F,W,K&&!U?q?(0,t.jsx)(r.sNh,{id:"removetimeout",label:R.intl.formatToPlainString(R.t.csKetb,{user:e.username}),color:"danger",action:()=>{(0,u.q)({guildId:l,userId:e.id,anaylticsLocations:x})}},"removetimeout"):(0,t.jsx)(r.sNh,{id:"timeout",label:R.intl.formatToPlainString(R.t.OhsOy8,{user:e.username}),color:"danger",action:n=>{if(n.ctrlKey||n.metaKey)return Q(n,l,e.id);(0,u.z)({guildId:l,userId:e.id,anaylticsLocations:x})}},"timeout"):null,(0,g.BK)(e,_)?(0,t.jsx)(r.sNh,{id:"kick",label:R.intl.formatToPlainString(R.t["9l/iTU"],{user:e.username}),color:"danger",action:()=>(0,r.ZDy)(async()=>{let{default:i}=await n.e("5454").then(n.bind(n,854360));return n=>(0,t.jsx)(i,{...n,location:j,guildId:l,user:e})})},"kick"):null,(0,g.mm)(e,_)?(0,t.jsx)(r.sNh,{id:"ban",label:R.intl.formatToPlainString(R.t.WnpUBg,{user:e.username}),color:"danger",action:()=>(0,r.ZDy)(async()=>{let{default:i}=await n.e("43350").then(n.bind(n,98746));return n=>(0,t.jsx)(i,{...n,location:j,guildId:l,user:e})})},"ban"):null]]}},813872:function(e,l,n){n.d(l,{Z:()=>m});var t=n(200651),i=n(192379),a=n(442837),r=n(481060),d=n(40851),o=n(189432),s=n(189357),u=n(944486),c=n(626135),Z=n(981631),g=n(176505),E=n(50493),h=n(388032);function m(e){let{userId:l,guildId:n,channelId:m,location:v,onAction:f}=e,P=i.useContext(c.AnalyticsContext),M=(0,d.Aq)(),C=(0,a.e7)([u.Z],()=>null!=m?m:u.Z.getChannelId(n,!0),[m,n]),S=(0,s.m)(n);return null!=n&&S?(0,t.jsx)(r.sNh,{id:"mod-view",label:h.intl.string(h.t.kj3tz8),action:()=>{null==f||f(),(0,o.r)(n,l,null!=C?C:g.oC.MEMBER_SAFETY,{modViewPanel:E.k.INFO,sourceLocation:null!=v?v:P.location}),M.dispatch(Z.CkL.POPOUT_CLOSE)}}):null}},88966:function(e,l,n){n.d(l,{Z:()=>c});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(493683),d=n(40851),o=n(314897),s=n(981631),u=n(388032);function c(e,l){let n=(0,d.Aq)();return(0,i.e7)([o.default],()=>o.default.getId()===e)||l===s.IlC.POPOUT?null:(0,t.jsx)(a.sNh,{id:"message-user",label:u.intl.string(u.t.OAJQlJ),action:()=>{r.Z.openPrivateChannel(e),n.dispatch(s.CkL.POPOUT_CLOSE),(0,a.pTH)()}})}},712301:function(e,l,n){n.d(l,{Z:()=>S});var t=n(200651);n(192379);var i=n(442837),a=n(481060),r=n(749210),d=n(287734),o=n(933557),s=n(314897),u=n(592125),c=n(984933),Z=n(271383),g=n(430824),E=n(496675),h=n(699516),m=n(594174),v=n(979651),f=n(934415),P=n(700785),M=n(981631),C=n(388032);function S(e,l){let n=(0,i.e7)([c.ZP],()=>c.ZP.getChannels(l)[c.Zb],[l]),S=(0,i.e7)([v.Z,u.Z],()=>{let n=v.Z.getUserVoiceChannelId(l,e.id);return u.Z.getChannel(n)},[l,e.id]);if((0,i.e7)([Z.ZP],()=>Z.ZP.isGuestOrLurker(l,e.id),[l,e.id])||null==S)return null;let N=e.id===s.default.getId();if(!N&&!E.Z.can(M.Plq.MOVE_MEMBERS,S))return null;let O=n.filter(l=>{let{channel:n}=l;return n.id!==S.id&&(N?E.Z.can(M.Plq.CONNECT,n)&&!(0,f.rY)(n,v.Z,g.Z):E.Z.can(M.Plq.MOVE_MEMBERS,n)&&(E.Z.can(M.Plq.CONNECT,n)||P.BT({permission:M.Plq.CONNECT,user:e,context:n}))&&!(0,f.rY)(n,v.Z,g.Z))});return 0===O.length?null:(0,t.jsx)(a.sNh,{id:"voice-move",label:C.intl.string(C.t.FAplmp),children:O.map(n=>{let{channel:i}=n;return(0,t.jsx)(a.sNh,{id:i.id,action:()=>{e.id===s.default.getId()?d.default.selectVoiceChannel(i.id):r.Z.setChannel(l,e.id,i.id)},label:(0,o.F6)(i,m.default,h.Z)},i.id)})})}},931617:function(e,l,n){n.d(l,{Z:()=>P});var t=n(200651);n(192379);var i=n(866442),a=n(442837),r=n(481060),d=n(607070),o=n(605436),s=n(910693),u=n(434404),c=n(271383),Z=n(430824),g=n(496675),E=n(823379),h=n(981631),m=n(388032),v=n(849324);function f(e,l){var n,a;return(0,t.jsxs)("div",{className:v.roleRow,children:["dot"===l?(0,t.jsx)(r.FhE,{className:v.roleDot,color:null!==(n=e.colorString)&&void 0!==n?n:(0,i.Rf)(h.p6O),background:!1,tooltip:!1}):(0,t.jsx)(r.xko,{className:v.roleDot,color:null!==(a=e.colorString)&&void 0!==a?a:(0,i.Rf)(h.p6O)}),(0,t.jsx)("div",{children:e.name})]})}function P(e,l){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=arguments.length>4&&void 0!==arguments[4]&&arguments[4],P=(0,a.e7)([Z.Z],()=>Z.Z.getGuild(l)),M=(0,a.e7)([Z.Z],()=>Z.Z.getRoles(l)),C=(0,a.e7)([d.Z],()=>d.Z.roleStyle),S=(0,s.sE)(l,{location:i,targetUserId:e}),{userRoles:N,isGuildMember:O,canManageRoles:b}=(0,a.cj)([c.ZP,g.Z],()=>{let n=c.ZP.getMember(l,e);return{userRoles:null!=n?n.roles:[],isGuildMember:null!=n,canManageRoles:null!=P&&g.Z.can(h.Plq.MANAGE_ROLES,P)}},[e,l,P]);if(__OVERLAY__||null==N||null==P||!O)return null;let I=g.Z.getHighestRole(P),R=Object.values(M).filter(e=>!(0,o.pM)(P.id,e.id)),T=b&&!v?R.map(n=>{let i=n.managed||!g.Z.isRoleHigher(P,I,n),a=-1!==N.indexOf(n.id);return i&&!a?null:(0,t.jsx)(r.S89,{id:n.id,label:()=>f(n,C),disabled:i,action:()=>{N.includes(n.id)?(u.Z.updateMemberRoles(l,e,N.filter(e=>e!==n.id),[],[n.id]),S(s.jQ.REMOVE_ROLE)):(u.Z.updateMemberRoles(l,e,N.concat([n.id]),[n.id],[]),S(s.jQ.ADD_ROLE))},checked:a},n.id)}):R.filter(e=>-1!==N.indexOf(e.id)).map(e=>(0,o.pM)(P.id,e.id)?null:(0,t.jsx)(r.sNh,{id:e.id,label:()=>f(e,C)},e.id));return 0===T.filter(E.lm).length?null:n?T:(0,t.jsx)(r.sNh,{id:"roles",label:m.intl.formatToPlainString(m.t.PCs0oq,{numRoles:T.length}),children:T})}}}]);
//# sourceMappingURL=eba6a7b25804741f.js.map