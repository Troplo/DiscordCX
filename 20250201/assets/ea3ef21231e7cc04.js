"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["70336"],{667142:function(e,t,n){n.d(t,{Df:()=>u,S_:()=>d,V5:()=>l,VX:()=>a,ZP:()=>h,ih:()=>s,xc:()=>c});var i=n(972959);let r={timeToLiveMs:5e3,reappearTimeMs:1e4},o=(0,i.H)(()=>r),a=1e4,l=2e4,s=500,c=1e3;function d(e){o.setState({timeToLiveMs:e})}function u(e){o.setState({reappearTimeMs:e})}let h=o},926086:function(e,t,n){n.d(t,{Z:()=>g}),n(47120),n(411104);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(348327),s=n.n(l),c=n(642128),d=n(481060),u=n(667142),h=n(333031),_=n(70491);let m={mass:1,tension:600,friction:60,clamp:!0};function g(e){let{locked:t,pinned:n}=e,[o,l]=r.useState(0),[g,p]=r.useState(0),[f,x]=r.useState(0),v=r.useRef(0),[C,b]=r.useState(0),{timeToLiveMs:Z,reappearTimeMs:I}=u.ZP.useState(e=>({timeToLiveMs:e.timeToLiveMs,reappearTimeMs:e.reappearTimeMs}),s()),j={timeToLiveMs:Z,reappearTimeMs:I},w=r.useRef(j);r.useEffect(()=>void(w.current=j)),r.useEffect(()=>(v.current=setInterval(()=>{let e=Date.now();p(e),x(t=>{if(0===t)return e;let n=e-t,i=w.current.timeToLiveMs,r=i+w.current.reappearTimeMs;return n>i?t+r:t})},100),()=>{clearInterval(v.current)}),[]);let y=()=>{l(Date.now()),b(e=>e+1)},E=o>0&&g-o<1e3,k=(0,d.Yzy)(f>0&&f<g&&g-f<Z,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:m}),[N,S]=r.useState(!1);if(r.useEffect(()=>{C>10&&S(!0)},[C]),N)throw Error("ClickZoneDebugWidget crashed, too many clicks");return t&&!n?null:(0,i.jsx)(i.Fragment,{children:k((e,t)=>t&&(0,i.jsx)(c.animated.div,{style:e,className:_.clickZoneDebugContainer,children:(0,i.jsx)(h.Z,{className:a()(_.clickZone,E&&_.clickBackground),children:(0,i.jsx)(d.P3F,{onClick:y,className:_.clickable,children:(0,i.jsxs)(d.Text,{variant:"text-md/semibold",color:"always-white",children:["Click Me (",C,")"]})})})}))})}},804570:function(e,t,n){n.d(t,{E:()=>c});var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(481060),s=n(892196);let c=r.memo(function(e){let{emptyText:t,icon:n,absolute:r=!1}=e;return(0,i.jsx)("div",{className:a()(s.emptyWidgetContainer,r&&s.absolute),children:(0,i.jsx)(l.ua7,{text:t,children:e=>(0,i.jsx)("div",{...e,children:(0,i.jsx)(n,{size:"md",color:l.TVs.colors.WHITE,className:s.emptyWidgetIcon})})})})})},350663:function(e,t,n){n.d(t,{Z:()=>p,z:()=>_});var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(642128),s=n(481060),c=n(110924),d=n(752802),u=n(340101),h=n(228680);let _=8,m=e=>{let{participant:t,width:n,locked:r,widgetId:o,pinned:a}=e;return(0,i.jsx)("div",{className:h.tileContainer,children:(0,i.jsx)(d.Z,{participant:t,width:n,locked:r,widgetId:o,pinned:a},t.user.id)})},g={mass:1,tension:250,friction:18,clamp:!0},p=r.memo(function(e){let{widgetId:t,tileWidth:n,layout:r,locked:o,streamParticipants:d,participantsVersion:p,pinned:f}=e,x=9/16*n,v=d.map(e=>({participant:e,key:e.user.id,width:n,locked:o,widgetId:t,height:x,pinned:f})),C=(0,c.Z)(n),b=r===u.C5.VERTICAL,Z=0,I=0,j=(0,s.Yzy)(b?v.map((e,t)=>({...e,y:(Z+=e.height+(t>0?_:0))-e.height,x:0})):v.map((e,t)=>({...e,x:(I+=e.width+(t>0?_:0))-e.width,y:0})),{key:e=>e.key,from:{height:0,opacity:0},leave:{height:0,opacity:0},enter:e=>{let{x:t,y:n,width:i,height:r}=e;return{x:t,y:n,width:i,height:r,opacity:1}},update:e=>{let{x:t,y:n,width:i,height:r}=e;return{x:t,y:n,width:i,height:r}},config:g,trail:n!==C?0:100},n!==C?"animate-never":"respect-motion-settings");return(0,i.jsx)("div",{className:a()({[h.gridContainer]:!0,[h.vertical]:b,[h.horizontal]:!b}),style:b?{height:Z}:{width:I},children:j((e,t,r,o)=>(0,i.jsx)(l.animated.div,{className:h.gridItem,style:Object.assign({},e,{width:n,height:x,zIndex:v.length-o}),children:m(t)}))})})},1226:function(e,t,n){n.d(t,{BO:()=>s,cq:()=>d,gI:()=>u,xN:()=>h,yA:()=>c});var i=n(348327),r=n.n(i),o=n(972959),a=n(569545);let l=(0,o.H)(()=>({streams:{}}));function s(e){var t,n;let i=(0,a.V9)(e);return null!==(n=null===(t=l.useState(e=>e.streams,r())[i])||void 0===t?void 0:t.zoom)&&void 0!==n?n:100}function c(e){return s(e)/100}function d(e,t){let n=(0,a.V9)(e);l.setState(e=>{var i;return{...e,streams:{...e.streams,[n]:{zoom:t,fitOverride:null===(i=e.streams[n])||void 0===i?void 0:i.fitOverride}}}},!0)}function u(e,t){let n=(0,a.V9)(e);l.setState(e=>{var i;return{...e,streams:{...e.streams,[n]:{zoom:null===(i=e.streams[n])||void 0===i?void 0:i.zoom,fitOverride:t}}}})}function h(e){var t;let n=(0,a.V9)(e);return null===(t=l.useState(e=>e.streams,r())[n])||void 0===t?void 0:t.fitOverride}},752802:function(e,t,n){n.d(t,{Z:()=>A}),n(47120);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(399606),s=n(46973),c=n(481060),d=n(846027),u=n(239091),h=n(765250),_=n(872810),m=n(40851),g=n(414910),p=n(194082),f=n(979264),x=n(871118),v=n(352978),C=n(833519),b=n(839662),Z=n(199902),I=n(314897),j=n(131951),w=n(594174),y=n(5192),E=n(1226),k=n(981631),N=n(388032),S=n(2847);function T(e){let{participant:t}=e,n=t.user.id,o=(0,l.e7)([j.Z],()=>{let e=(0,g.Z)(t.type);return j.Z.isLocalMute(t.user.id,e)},[t]),a=(0,l.e7)([I.default],()=>I.default.getId()),{hasVideo:u}=(0,b.Z)(t,a),h=o&&u,_=r.useCallback(()=>{d.Z.toggleLocalMute(n,s.Yn.STREAM)},[n]);return(0,i.jsx)(c.ua7,{text:h?N.intl.string(N.t.YqAjX1):N.intl.string(N.t["w4m94+"]),children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(c.P3F,{...n,className:S.controlAction,onClick:e=>{e.stopPropagation(),null==t||t(),_()},children:h?(0,i.jsx)(c.OyP,{size:"sm",color:"currentColor"}):(0,i.jsx)(c.gj8,{size:"sm",color:"currentColor"})})}})}function O(e,t,r){return o=>{o.stopPropagation(),null==r||r(),(0,u.jW)(o,async()=>{let{default:r}=await n.e("5704").then(n.bind(n,360429));return n=>(0,i.jsx)(r,{...n,stream:e.stream,exitFullscreen:()=>{},appContext:t})})}}function P(e){let{hasActiveStream:t,participant:n,onEnablePin:r}=e,o=(0,m.bp)(),s=n.user,d=(0,l.e7)([w.default],()=>{var e;return null!==(e=w.default.getUser(s.id))&&void 0!==e?e:s},[s]),u=t?N.intl.string(N.t.tLxK4u):N.intl.string(N.t.E5RDnJ);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:a()(S.controlBackground,{[S.controlsWithActiveStream]:t})}),!t&&(0,i.jsx)("div",{className:S.watchActionContainer,children:(0,i.jsx)(c.ua7,{text:u,children:e=>(0,i.jsxs)(c.P3F,{...e,className:S.watchButton,onClick:()=>{var t;null===(t=e.onClick)||void 0===t||t.call(e),(0,_.rn)(n.stream,{forceMultiple:!0,noFocus:!0}),r()},children:[(0,i.jsx)(c.Text,{variant:"text-sm/semibold",color:"always-white",children:N.intl.string(N.t["I6JG4+"])}),(0,i.jsx)(c.OgY,{size:"sm",color:"currentColor"})]})})}),(0,i.jsxs)("div",{className:S.controls,children:[(0,i.jsx)("div",{className:S.controlUser,children:(0,i.jsxs)("div",{className:S.controlUserContainer,children:[(0,i.jsx)(c.pzj,{size:"xs",color:c.TVs.colors.INTERACTIVE_ACTIVE}),(0,i.jsx)(c.Text,{variant:"text-md/medium",color:"always-white",children:y.ZP.getName(n.stream.guildId,n.stream.channelId,s)}),(0,i.jsx)(f.ZP,{primaryGuild:d.primaryGuild,userId:s.id})]})}),(0,i.jsx)("div",{className:S.controlActions,children:t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T,{participant:n}),(0,i.jsx)(c.ua7,{text:N.intl.string(N.t["3D5yo6"]),children:e=>{let{onClick:t,...r}=e;return(0,i.jsx)(c.P3F,{...r,className:S.controlAction,onClick:O(n,o,t),children:(0,i.jsx)(c.xhG,{size:"sm",color:"currentColor"})})}})]})})]})]})}let L=new Set([k.jm8.ENDED,k.jm8.FAILED,k.jm8.PAUSED]),A=r.memo(function(e){let{participant:t,width:n,locked:r,widgetId:o,pinned:s}=e,d=(0,l.e7)([Z.Z],()=>Z.Z.getActiveStreamForUser(t.user.id,t.stream.guildId),[t.user.id,t.stream.guildId]),u=(0,m.bp)(),_=null!=d&&L.has(d.state),g=null!=d,f=(0,E.yA)(t.stream),b=(0,E.xN)(t.stream);return!g&&r||_?null:(0,i.jsxs)("div",{className:S.tile,children:[g&&!r&&(0,i.jsx)(p.ZP,{size:p.ZP.Sizes.SMALL,className:S.liveIndicator}),g?(0,i.jsx)("div",{className:S.streamTile,children:(0,i.jsx)(c.kL8,{"aria-label":N.intl.formatToPlainString(N.t.gHPz3d,{streamerName:t.user.username}),onClick:()=>{},onContextMenu:O(t,u),className:S.streamTile,style:{transform:"scale(".concat(f,")")},children:(0,i.jsx)(C.Z,{participant:t,width:n,fit:null!=b?b:v.L.CONTAIN,inPopout:!0,focused:!r,paused:!1,selected:!1,wrapperClassName:r?S.streamTileWrapper:void 0,inOverlayPopout:!0})})}):(0,i.jsx)("div",{className:S.streamPreview,children:(0,i.jsx)(x.Z,{noText:!0,className:a()(S.absoluteFill),stream:t.stream})}),r?null:(0,i.jsx)(P,{participant:t,hasActiveStream:g,onEnablePin:()=>{s||(0,h.xh)(o)}})]})})},761374:function(e,t,n){n.d(t,{Z:()=>y}),n(47120);var i=n(200651),r=n(192379),o=n(442837),a=n(481060),l=n(765250),s=n(13245),c=n(393238),d=n(493773),u=n(358221),h=n(569545),_=n(199902),m=n(314897),g=n(592125),p=n(355863),f=n(944486),x=n(804570),v=n(350663),C=n(610394),b=n(340101),Z=n(388032),I=n(666540);let j=[];function w(e,t,n,i){let r=(i-1)*v.z;return e===b.C5.HORIZONTAL?Math.min(Math.max((t-r)/i,256),Math.max(16*n/9,256)):Math.min(Math.max(t,256),Math.max((n-r)/i*16/9,256))}function y(e){let{id:t,size:n,locked:y,padding:E,borderWidth:k,opacity:N,horizontal:S,pinned:T,anchorTop:O,anchorLeft:P}=e,L=2*E+2*k,{width:A,height:R}={width:"number"==typeof n.width?n.width:256,height:"number"==typeof n.height?n.height:144},V=(0,o.e7)([f.Z],()=>f.Z.getVoiceChannelId()),{width:W,height:M,ref:D}=(0,c.Z)(),z=(0,o.e7)([p.Z],()=>{var e;let n=p.Z.getWidget(t);return!!(0,b.ZL)(n)&&(null===(e=n.meta.showAllStreams)||void 0===e||e)},[t]),F=!S,G=(0,o.e7)([g.Z],()=>g.Z.getChannel(V)),B=(0,o.e7)([m.default],()=>m.default.getId()),U=O&&F||P&&S,H=!O&&F||!P&&S,{participantsVersion:Y,streamParticipants:X}=(0,o.cj)([_.Z,u.Z],()=>{if(null==V)return{streamParticipants:j,participantsVersion:-1};let e=new Set(_.Z.getAllActiveStreamsForChannel(V).map(e=>(0,h.V9)(e))),t=t=>e.has((0,h.V9)(t.stream)),n=u.Z.getStreamParticipants(V).filter(e=>e.user.id!==B&&(!!z||t(e)));return n.sort((e,n)=>{if(U){if(t(e)&&!t(n))return -1;if(!t(e)&&t(n))return 1}else if(H){if(t(e)&&!t(n))return 1;if(!t(e)&&t(n))return -1}return e.user.username.localeCompare(n.user.username)}),{streamParticipants:n,activeStreams:e,participantsVersion:u.Z.getParticipantsVersion(V)}},[V,B,z,U,H]),K=X.length,Q=null==G||0===K,q=S?b.C5.HORIZONTAL:b.C5.VERTICAL,{tileWidth:J,layout:$}=function(e,t,n,i,o){let a=function(e,t,n,i){let r=w(b.C5.HORIZONTAL,e,t,n),o=w(b.C5.VERTICAL,e,t,n);switch(i){case b.C5.VERTICAL:return o;case b.C5.HORIZONTAL:return r}let a=(9*o/16+v.z)*n-v.z;return e>16*t/9?r:a<=t?o:9*r/16<=t?r:o}(n,i,t,o),l=w(b.C5.VERTICAL,n,i,t),s=null!=o?o:a===l?b.C5.VERTICAL:b.C5.HORIZONTAL,[c,d]=r.useState(a);return r.useEffect(()=>{e||d(a)},[e,a]),{layout:s,tileWidth:c}}(!1,X.length,null!=W?W:A-L,null!=M?M:R-L,q),ee={id:t,width:A,height:R,sizeOffset:L,layout:$,padding:E,participants:X.length};return(!function(e){let{id:t,streamParticipants:n,layout:i,widgetLayoutSpecs:o}=e,a=r.useRef(o);r.useEffect(()=>void(a.current=o));let s=n.length;r.useEffect(()=>{let{id:e,width:t,height:n,sizeOffset:i,layout:r,padding:o}=a.current;if(0===s){(256!==t||144!==n)&&(0,l.nv)({widgetId:e,size:{fixed:!0,width:256,height:144}});return}if(r===b.C5.HORIZONTAL){let t=16/9*(n-i);(0,l.nv)({widgetId:e,size:{fixed:!0,height:n,width:t*s+o*(s-1)+i}})}else{let n=9/16*(t-i);(0,l.nv)({widgetId:e,size:{fixed:!0,width:t,height:n*s+o*(s-1)+i}})}},[s]),r.useEffect(()=>{if(a.current.participants<=1)return;let{id:e,width:t,height:n,sizeOffset:r,padding:o,participants:s}=a.current;if(i===b.C5.HORIZONTAL){let n=t-r;(0,l.nv)({widgetId:e,size:{fixed:!0,width:n*s+o*(s-1)+r,height:9/16*n+r}})}else{let t=n-r;(0,l.nv)({widgetId:e,size:{fixed:!0,width:16/9*t+r,height:t*s+o*(s-1)+r}})}},[i]),r.useEffect(()=>()=>{(0,l.nv)({widgetId:t,size:{fixed:!0,width:256,height:144}})},[t])}({id:t,streamParticipants:X,layout:$,widgetLayoutSpecs:ee}),r.useEffect(()=>{s.Z.setGpuBoostRequested(C.zS.OVERLAY_VIDEO_STREAM_RENDERING,!Q)},[Q]),(0,d.Z)(()=>()=>{s.Z.setGpuBoostRequested(C.zS.OVERLAY_VIDEO_STREAM_RENDERING,!1)}),Q&&y)?null:Q&&!y?y?null:(0,i.jsx)(x.E,{emptyText:Z.intl.string(Z.t["T6+rX1"]),icon:a.hGI,absolute:!0}):(0,i.jsx)("div",{className:I.goLiveGridContainer,style:{opacity:N},ref:D,children:(0,i.jsx)(v.Z,{widgetId:t,tileWidth:J,locked:y,layout:$,streamParticipants:X,participantsVersion:Y,pinned:T})})}},554370:function(e,t,n){n.d(t,{Z:()=>el}),n(653041),n(47120);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(442837),s=n(952265),c=n(481060),d=n(239091),u=n(13245),h=n(615287),_=n(100527),m=n(906732),g=n(146282),p=n(70097),f=n(567409),x=n(74299),v=n(199902),C=n(592125),b=n(430824),Z=n(131951),I=n(944486),j=n(574254),w=n(556296),y=n(808506),E=n(237997),k=n(451478),N=n(585483),S=n(358085),T=n(13140),O=n(145597),P=n(830917),L=n(86071),A=n(681603),R=n(915614),V=n(690336),W=n(333031),M=n(371651),D=n(610394),z=n(388627),F=n(319414),G=n(561064),B=n(987650),U=n(501787),H=n(981631),Y=n(206583),X=n(388032),K=n(167566);let Q=!S.isPlatformEmbedded&&!1,q=Q?(0,i.jsx)(p.Z,{src:"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzdpcnRrYXdrNzVuNjZ3NXpmeTJvNGl4Z2N4OXBsamx5aXphdHhxaCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9dg/OPg2B0FPBL94H12uM0/giphy480p.mp4",className:K.videoDev,autoPlay:!0,loop:!0,muted:!0}):null,J=null;function $(e){e.preventDefault()}function ee(e){(0,d.jW)(e,async()=>{let{default:e}=await n.e("17610").then(n.bind(n,385620));return t=>(0,i.jsx)(e,{...t,layoutId:U.OVERLAY_V3_LAYOUT_ID,version:1})})}let et=r.memo(function(e){let{keybind:t,onClick:n,locked:r}=e;return(0,i.jsx)(c.P3F,{className:a()(K.overlayBackground,{[K.overlayActive]:!r,[K.overlayLocked]:r}),onMouseDown:e=>{let{currentTarget:t,target:i,button:r}=e;r===H.AeJ.PRIMARY&&t===i&&n()},onContextMenu:ee,children:r?null:(0,i.jsx)(W.Z,{className:K.closeContainer,children:(0,i.jsx)(R.Z,{keybind:t,onClick:n,IconComponent:c.Uz9})})})}),en=r.memo(function(e){let{locked:t,focused:n}=e;return t&&n?(0,i.jsx)(W.Z,{className:K.closeContainer,children:(0,i.jsx)(R.Z,{onClick:()=>u.Z.setInputLocked(!1,(0,O.QF)()),IconComponent:c.d$P})}):null});function ei(){if(null!=j.Z.getContextMenu()){(0,d.Zy)();return}u.Z.setInputLocked(!0,(0,O.QF)())}function er(){u.Z.setFocusedPID(O.Js)}function eo(){u.Z.setFocusedPID(null)}function ea(e){let t=D.ZP.isInputLocked((0,O.QF)());"alt"!==e.key.toLowerCase()||t||("keyup"===e.type.toLowerCase()?N.S.dispatch(H.CkL.OVERLAY_V3_SHOW_WIDGETS,{show:!0}):"keydown"===e.type.toLowerCase()&&N.S.dispatch(H.CkL.OVERLAY_V3_SHOW_WIDGETS,{show:!1}))}function el(e){let{isEmbeddedActivity:t}=e,n=(0,G.Z)(),{locked:o,focused:d,incompatibleApp:p,hasValidResolution:j,hasZeroSizeDimension:N,keybind:S}=(0,l.cj)([D.ZP,E.Z,k.Z,w.Z],()=>{let e=k.Z.windowSize((0,P.ZY)(n)),t=w.Z.getOverlayKeybind();return{locked:D.ZP.isInputLocked((0,O.QF)()),focused:D.ZP.isFocused((0,O.QF)()),incompatibleApp:E.Z.incompatibleApp,hasValidResolution:(0,O.Te)(e),hasZeroSizeDimension:0===e.height||0===e.width,keybind:null!=t?(0,T.BB)(t.shortcut,!0):"???"}},[n]),{analyticsLocations:R}=(0,m.ZP)(_.Z.OVERLAY);return!function(e,t){let n=r.useRef({mount:e,unmount:t});r.useEffect(()=>void(n.current={mount:e,unmount:t})),r.useEffect(()=>(n.current.mount(),()=>{n.current.unmount()}),[])}(()=>{u.Z.overlayReady((0,O.QF)()),n.addEventListener("keydown",ea),n.addEventListener("keyup",ea),Q&&(n.document.hasFocus()&&u.Z.setFocusedPID(O.Js),n.addEventListener("focus",er),n.addEventListener("blur",eo))},()=>{n.removeEventListener("keydown",ea),n.removeEventListener("keyup",ea),Q&&(n.removeEventListener("focus",er),n.removeEventListener("blur",eo))}),!function(){let e=r.useRef(!1),t=(0,z.pL)(),n=I.Z.getVoiceChannelId(),i=C.Z.getChannel(n),o=null!=i?b.Z.getGuild(i.guild_id):null,a=null!=v.Z.getCurrentUserActiveStream(),s=null!=n,c=(0,x.Z)(Z.Z)&&!a&&null!=t,d=s&&null!=o&&null!=n,_=(0,f.Ns)(null==t?void 0:t.id),m=(0,l.e7)([g.Z],()=>null!=g.Z.getLastFeedFetchDate(Y.YN.GAME_PROFILE_FEED));r.useEffect(()=>{var i;if(!m||e.current)return;e.current=!0,u.Z.track(H.rMx.OVERLAY_INITIALIZED,{voice_widget_connected:s,text_widget_connected:!1,overlay_render_method:h.gl[h.gl.OutOfProcess]});let r=null!==(i=y.Z.getFocusedPID())&&void 0!==i?i:(0,O.QF)();if(M.Z.hasChangedRenderMode(r))return;let a=[{type:B.nc.WELCOME}];if(c&&d?a.push({type:B.nc.GO_LIVE_VOICE,game:t,voiceChannelId:n,voiceGuild:o}):c&&a.push({type:B.nc.GO_LIVE_NON_VOICE,game:t}),_.length>0){let{enabled:e}=L.Z.getCurrentConfig({location:"Overlay"},{autoTrackExposure:!0});e&&a.push({type:B.nc.CONTENT_INVENTORY,entries:_})}u.Z.overlayMounted(...a)},[m,_,s,c,d,t,n,o])}(),r.useEffect(()=>{if(o){if((0,s.Ay)(c.u1M),n.addEventListener("contextmenu",$,!1),null!=J){let e=Date.now()-J;u.Z.track(H.rMx.OVERLAY_LOCKED,{unlocked_duration:e}),J=null}return()=>{n.removeEventListener("contextmenu",$,!1)}}n.removeEventListener("contextmenu",$,!1),null==J&&(J=Date.now(),u.Z.track(H.rMx.OVERLAY_UNLOCKED))},[o,n]),(0,i.jsx)(m.Gt,{value:R,children:(0,i.jsx)(c.vWI,{children:N||p?null:(0,i.jsx)(c.f6W,{theme:H.BRd.DARK,children:e=>(0,i.jsxs)("div",{className:a()(K.overlay,e),children:[!t&&q,(0,i.jsx)(et,{locked:o,keybind:S,onClick:ei}),j?(0,i.jsx)(V.Z,{className:a()({[K.layoutLocked]:o,[K.layoutUnlocked]:!o})}):o?null:(0,i.jsx)("div",{className:K.invalidContainer,children:(0,i.jsx)("div",{className:K.inactiveContainer,children:X.intl.format(X.t.ketnW1,O.FW)})}),(0,i.jsx)(F.Z,{}),!t&&Q&&(0,i.jsx)(en,{locked:o,focused:d}),(0,i.jsx)(A.Z,{})]})})})})}},690336:function(e,t,n){n.d(t,{Z:()=>x}),n(653041),n(47120);var i=n(200651),r=n(192379),o=n(442837),a=n(481060),l=n(355863),s=n(451478),c=n(830917),d=n(388627),u=n(892127),h=n(84346),_=n(561064),m=n(501787);function g(e){return e.widget.id}function p(e,t,n,r){return n===a.pJH.YEETED?null:(0,i.jsx)(u.Z,{...t,transitionState:n,cleanUp:r},e)}let f=[],x=r.memo(function(e){let{className:t}=e,n=(0,_.Z)(),u=(0,o.e7)([s.Z],()=>s.Z.windowSize((0,c.ZY)(n))),x=(0,o.e7)([l.Z],()=>{let e=l.Z.getLayout(m.OVERLAY_V3_LAYOUT_ID);if(null==e)return f;let t=[];for(let n of e.widgets){let e=l.Z.getWidget(n);if(null==e)continue;let i=h.Z[e.type];null!=i&&t.push({widget:e,...i})}return t},[],d.HP),v=r.useCallback(e=>(0,i.jsx)("div",{className:t,style:u,children:e}),[t,u]);return(0,i.jsx)(a.W3x,{items:x,renderItem:p,getItemKey:g,wrapChildren:v})})},273816:function(e,t,n){n.d(t,{Z:()=>m}),n(47120);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(442837),s=n(481060),c=n(493773),d=n(178821),u=n(38618),h=n(333031),_=n(992813);function m(e){let{locked:t,pinned:n,anchorLeft:o}=e,m=(0,l.e7)([u.Z],()=>u.Z.getSocket());(0,d.nU)();let[g,p]=(0,d.m8)(m),{currentFPS:f,averageFrameTime:x,timeSinceLastDrop:v,onResetFrameData:C,droppedFramesRef:b,renderedFrameCount:Z,bufferFramecountRef:I,frameCheckerEffect:j}=(0,d.d6)(!0,g,!0),[w,y,E]=(0,d.ZF)(m),[k,N]=(0,d.Y5)(w,j),S=performance.now()-p.current<d.MC,T=y(x,I.current);(0,c.Z)(()=>(k(),()=>{N()}));let O=r.useCallback(()=>{C(),E(),k()},[C,E,k]),[P,L]=r.useState(!0),[A,R]=r.useState(!0),[V,W]=r.useState(!0),[M,D]=r.useState(!0),[z,F]=r.useState(!0);return t&&!n?null:(0,i.jsxs)("div",{className:a()(_.panelGroup,!o&&_.rightAligned),children:[(P||!t)&&(0,i.jsxs)("div",{className:_.measurement,children:[!t&&(0,i.jsx)("div",{className:_.measurementCheckbox,children:(0,i.jsx)(s.XZJ,{size:16,value:P,onChange:(e,t)=>L(t)})}),(0,i.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:_.measurementText,children:["FPS:"," ",(0,i.jsx)(s.Text,{tag:"span",variant:"code",color:f<30?"text-danger":f<45?"text-warning":"text-primary",children:f.toFixed(2)})]})]}),(A||!t)&&(0,i.jsxs)("div",{className:_.measurement,children:[!t&&(0,i.jsx)("div",{className:_.measurementCheckbox,children:(0,i.jsx)(s.XZJ,{size:16,value:A,onChange:(e,t)=>R(t)})}),(0,i.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:_.measurementText,children:["Frame Times:"," ",(0,i.jsxs)(s.Text,{tag:"span",variant:"code",color:x>1.1*d.tO?"text-warning":"text-primary",children:[x.toFixed(2),"ms"]})]})]}),(V||!t)&&(0,i.jsxs)("div",{className:_.measurement,children:[!t&&(0,i.jsx)("div",{className:_.measurementCheckbox,children:(0,i.jsx)(s.XZJ,{size:16,value:V,onChange:(e,t)=>W(t)})}),(0,i.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:_.measurementText,children:["Dropped Frames:"," ",(0,i.jsx)(s.Text,{tag:"span",variant:"code",color:v<2?"text-danger":v<5?"text-warning":"text-primary",children:b.current}),(0,i.jsxs)(s.Text,{tag:"span",variant:"code",color:"text-secondary",className:_.secondaryInfoText,children:["(",(b.current/Z.current*100).toFixed(3),"%)"]})]})]}),(M||!t)&&(0,i.jsxs)("div",{className:_.measurement,children:[!t&&(0,i.jsx)("div",{className:_.measurementCheckbox,children:(0,i.jsx)(s.XZJ,{size:16,value:M,onChange:(e,t)=>D(t)})}),(0,i.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:_.measurementText,children:["Rendered Frames:"," ",(0,i.jsx)(s.Text,{tag:"span",variant:"code",color:"text-primary",children:Z.current.toFixed(0)})]})]}),(z||!t)&&(0,i.jsxs)("div",{className:_.measurement,children:[!t&&(0,i.jsx)("div",{className:_.measurementCheckbox,children:(0,i.jsx)(s.XZJ,{size:16,value:z,onChange:(e,t)=>F(t)})}),(0,i.jsx)(s.ua7,{position:"left",text:"The average amount of 'lag' between us rendering a frame and being able to process background tasks. Values constantly above 1-2ms means our main thread is being burried by work and is taking all of its time in animation frames, most likely producing user interaciton blocking jank. (This doesn't work when the app is backgrounded though)",children:e=>(0,i.jsx)("div",{...e,children:(0,i.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:_.measurementText,children:["Idle Frame Delta:"," ",(0,i.jsxs)(s.Text,{tag:"span",variant:"code",color:T>1?"text-danger":"text-primary",children:[T.toFixed(2),"ms"]})]})})})]}),S&&(0,i.jsx)(s.ua7,{position:"left",text:"We don't track frames while the app is in the background, because requestAnimationFrame doesn't fire in the background",children:e=>(0,i.jsx)("span",{...e,children:(0,i.jsx)(s.Text,{tag:"span",variant:"code",color:"text-danger",children:"(Main App Backgrounded)"})})}),!t&&(0,i.jsx)("div",{className:_.bottomPanelButton,children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(s.zxk,{onClick:O,children:"Reset Frame Data"})})})]})}},293224:function(e,t,n){n.d(t,{L:()=>ed,N3:()=>er,Ox:()=>en,SE:()=>ei,aG:()=>ea,c_:()=>el,sm:()=>eo});var i=n(200651),r=n(192379),o=n(691324),a=n(442837),l=n(685072),s=n(400354),c=n(652844),d=n(864094),u=n(582019),h=n(75735),_=n(481060),m=n(846027),g=n(239091),p=n(287734),f=n(40851),x=n(571250),v=n(628581),C=n(659580),b=n(793865),Z=n(55311),I=n(575175),j=n(933557),w=n(471445),y=n(44315),E=n(74299),k=n(803647),N=n(565138),S=n(917405),T=n(763296),O=n(603074),P=n(879815),L=n(189771),A=n(294629),R=n(67844),V=n(544384),W=n(892807),M=n(560688),D=n(871499),z=n(199902),F=n(314897),G=n(430824),B=n(131951),U=n(19780),H=n(944486),Y=n(594174),X=n(979651),K=n(388627),Q=n(810632),q=n(981631),J=n(388032),$=n(725775);function ee(e){let t=r.useRef(null);return r.useEffect(()=>{if(e){var n;null===(n=t.current)||void 0===n||n.call(t),t.current=null}},[e]),e=>(t.current=e,e)}function et(e){let{isToggled:t,disabled:n,iconComponent:r,iconColor:o,tooltip:a,defaultColor:l="primaryDark",highlightedColor:s="white",popoutOpen:c,onClick:d,popoutDisabled:u,onPopoutClick:h,onMouseEnter:_,onMouseLeave:m,onContextMenu:g,fullRegionButton:p,...f}=e;return(0,i.jsx)(D.d,{onClick:null!=d?d:()=>{},color:t?s:l,className:$.button,disabled:n,popoutOpen:c,popoutDisabled:u,label:a,fullRegionButton:p,onMouseEnter:e=>{null==_||_(e)},onMouseLeave:e=>{null==m||m(e)},ignoreColorForCaret:!c,iconComponent:r,iconColor:o,isActive:t,onContextMenu:g,onPopoutClick:h,"aria-label":f["aria-label"]})}function en(e){let{voiceChannel:t,locked:n}=e,{suppress:a,selfMute:l,mute:s}=(0,A.Z)(t),d=l||s||a,u=(0,v.Z)(l,s,a,!1),{Component:h,play:m,events:g}=(0,c.O)(d?"unmute":"mute");r.useEffect(()=>()=>m(),[m,d]);let p=ee(n);return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(C.default,{onClose:p(t),renderInputDevices:!0,renderInputModes:!0})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:r}=t;return(0,i.jsx)(et,{iconComponent:h,tooltip:u,onClick:()=>(0,I.Z)(s,a,q.jXE.OVERLAY),onPopoutClick:n,popoutOpen:r,onContextMenu:n,iconColor:d?(0,y.Lq)(o.I.RED_400):void 0,onMouseEnter:()=>{g.onMouseEnter()},onMouseLeave:()=>{g.onMouseLeave()}})}})}function ei(e){let{voiceChannel:t,locked:n}=e,{selfDeaf:o,deaf:a}=(0,P.Z)(t),l=o||a,{Component:c,play:d,events:{onMouseEnter:u,onMouseLeave:h}}=(0,s.l)(l?"undeafen":"deafen"),m=a?_.Vm4:c;r.useEffect(()=>()=>d(),[l,d]);let g=()=>{(0,Z.Z)(a,q.jXE.OVERLAY)},p=ee(n);return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(C.default,{onClose:p(t),renderOutputDevices:!0,renderOutputVolume:!0})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:r}=t;return(0,i.jsx)(et,{iconComponent:m,tooltip:(0,x.Z)(o,a,!1),isToggled:l,onClick:g,onContextMenu:n,onMouseEnter:u,onMouseLeave:h,onPopoutClick:n,popoutOpen:r})}})}function er(e){var t;let{voiceChannel:n,locked:o}=e,l=(0,a.e7)([B.Z],()=>B.Z.isVideoEnabled()),s=(0,a.e7)([B.Z],()=>Object.values(B.Z.getVideoDevices())[0]),c=null===(t=null==s?void 0:s.disabled)||void 0===t||t,d=!1===c,u=(0,L.Z)(n),g=e=>{m.Z.setVideoEnabled(e)},p=()=>{d?g(!0):(0,M.Z)()},f=c?()=>p():()=>g(!l),{Component:x,play:v,events:{onMouseEnter:C,onMouseLeave:Z}}=(0,h.o)(l?"disable":"enable"),I=null!=n?(0,R.X)({enabled:l,cameraUnavailable:c,hasPermission:u,channel:n}):void 0;r.useEffect(()=>()=>v(),[l,v]);let j=ee(o),w=null==n||!u;return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(b.Z,{onClose:j(t)})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:r}=t;return(0,i.jsx)(et,{iconComponent:x,tooltip:I,onClick:f,isToggled:l,highlightedColor:l?"green":"white",defaultColor:l?"green":"primaryDark",onPopoutClick:n,popoutOpen:r,onContextMenu:n,onMouseEnter:C,onMouseLeave:Z,disabled:w})}})}function eo(e){let t,{voiceChannel:n,locked:o}=e,l=(0,a.e7)([Y.default],()=>Y.default.getCurrentUser()),s=(0,L.Z)(n),c=(0,a.cj)([B.Z],()=>(0,E.Z)(B.Z)),u=(0,a.e7)([z.Z],()=>z.Z.getCurrentUserActiveStream()),h=(0,f.bp)(),m=(0,Q.B)(),g=null!=u;if(g)t=J.intl.string(J.t.S5anIS);else if(null!=n){let e=(0,K.pL)();t=s?null!=e?J.intl.format(J.t.AB5gT0,{game:e.name}):J.intl.string(J.t.FeUKeH):J.intl.string(J.t.uQn9Bw)}let p=()=>{if(g)return(0,k.Z)(u,!1);m()},{Component:x,events:{onMouseEnter:v,onMouseLeave:C},play:b}=(0,d.P)(g?"disable":"enable");r.useEffect(()=>()=>b(),[g,b]);let Z=ee(o);return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(V.Z,{channel:n,currentUser:l,activeStreams:g?[u]:[],handleGoLive:m,onClose:Z(t),appContext:h,disableChangeWindows:!0})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,n)=>{let{onClick:r}=e,{isShown:o}=n;return(0,i.jsx)(et,{iconComponent:x,tooltip:t,"aria-label":J.intl.string(J.t.FeUKeH),isToggled:g,onClick:p,popoutOpen:o,popoutDisabled:!g,onPopoutClick:r,onContextMenu:r,onMouseEnter:v,onMouseLeave:C,highlightedColor:g?"green":"white",defaultColor:g?"green":"primaryDark",disabled:!c||!s})}})}function ea(e){var t;let{voiceChannel:r,locked:o}=e,l=null!==(t=null==r?void 0:r.getGuildId())&&void 0!==t?t:null,{mute:s,suppress:c}=(0,A.Z)(r),d=(0,a.e7)([B.Z],()=>B.Z.isDeaf()),h=null==r||s||c||d;function m(e){null!=l&&(0,g.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:l,...t})})}let{Component:p,events:{onClick:f,onMouseEnter:x,onMouseLeave:v}}=(0,u.j)(),C=ee(o),b=(0,a.e7)([T.Z,F.default],()=>T.Z.isUserPlayingSounds(F.default.getId()),[]);return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:t}=e;return h||null==r?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(O.Z,{guildId:l,channel:r,onClose:C(t),analyticsSource:"action bar button"})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:r}=t;return(0,i.jsx)(et,{iconComponent:p,tooltip:s?J.intl.string(J.t["Ox4/zc"]):c?J.intl.string(J.t["+YBKYG"]):d?J.intl.string(J.t.X1lQlp):void 0,onClick:e=>{f(),n(e)},highlightedColor:b?"green":"white",defaultColor:b?"green":"primaryDark",onContextMenu:m,onMouseEnter:x,onMouseLeave:v,isToggled:r,popoutOpen:r,disabled:h})}})}function el(e){let{voiceChannel:t,locked:n}=e,r=(0,a.e7)([H.Z],()=>H.Z.getVoiceChannelId()===(null==t?void 0:t.id)),o=()=>{r&&p.default.disconnect()},s=e=>{p.default.selectVoiceChannel(e.id)},{Component:c,events:{onMouseEnter:d,onMouseLeave:u}}=(0,l.K)(),h=ee(n),m=r?c:_.Csw;return(0,i.jsx)(_.yRy,{renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(W.Z,{currentVoiceChannel:t,onClose:h(n),onSelect:s})},align:"center",position:"top",animation:_.yRy.Animation.FADE,children:(e,n)=>{let{onClick:a}=e,{isShown:l}=n;return(0,i.jsx)(et,{iconComponent:m,tooltip:null!=t?J.intl.string(J.t["6vrfgo"]):J.intl.string(J.t.S0W8Z2),onClick:r?o:a,defaultColor:r?"red":"primaryDark",onMouseEnter:d,onMouseLeave:u,onContextMenu:a,isToggled:l,onPopoutClick:r?a:void 0,popoutOpen:l})}})}function es(e){let{voiceChannel:t}=e,n=(0,a.e7)([G.Z],()=>G.Z.getGuild(t.getGuildId()),[t]);switch(!0){case t.isGroupDM()||t.isDM():case t.isDM():return null;case null!=n:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:$.separatorDot}),(0,i.jsxs)("div",{className:$.guildIconContainer,children:[(0,i.jsx)(N.Z,{guild:n,size:N.Z.Sizes.SMOL,className:$.guildIcon}),(0,i.jsx)(_.Text,{tag:"div",variant:"text-xs/semibold",color:"text-primary",className:$.guildName,children:n.name})]})]});default:return null}}function ec(e){let{voiceChannel:t}=e,n=(0,w.KS)(t),r=(0,j.ZP)(t);return(0,i.jsxs)("div",{className:$.voiceChannelNameContainer,children:[null!=n&&(0,i.jsx)(_.Text,{tag:"div",color:"text-muted",variant:"text-xs/normal",className:$.channelIcon,children:(0,i.jsx)(n,{size:"sm",color:"currentColor"})}),null!=r&&(0,i.jsx)(_.Text,{variant:"text-xs/semibold",color:"text-muted",className:$.channelName,children:r})]})}function ed(e){let{voiceChannel:t}=e,n=null==t?void 0:t.id,r=(0,a.cj)([U.Z],()=>({channelId:U.Z.getChannelId(),quality:U.Z.getQuality(),state:U.Z.getState(),lastPing:U.Z.getLastPing()})),o=null!=n,l=(0,a.e7)([X.Z],()=>null!=n&&X.Z.hasVideo(n),[n]);return o&&null!=t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.Z,{...r,hasVideo:l,connectionStatusTextVariant:"text-xs/semibold"}),(0,i.jsx)(es,{voiceChannel:t}),(0,i.jsx)("div",{className:$.separatorDot}),(0,i.jsx)(ec,{voiceChannel:t})]})}},810632:function(e,t,n){n.d(t,{B:()=>N}),n(47120);var i=n(200651),r=n(192379),o=n(512722),a=n.n(o),l=n(442837),s=n(481060),c=n(872810),d=n(594190),u=n(74299),h=n(451467),_=n(537413),m=n(989941),g=n(567126),p=n(143135),f=n(751571),x=n(361291),v=n(592125),C=n(430824),b=n(131951),Z=n(944486),I=n(594174),j=n(449224),w=n(358085),y=n(981631),E=n(37113),k=n(761274);function N(){let e=(0,l.e7)([Z.Z],()=>Z.Z.getVoiceChannelId()),t=(0,l.e7)([v.Z],()=>v.Z.getChannel(e),[e]),o=(0,l.e7)([I.default],()=>{let e=I.default.getCurrentUser();return a()(null!=e,"useGoLiveImmidateAction: user cannot be undefined"),e}),N=null==t?void 0:t.getGuildId(),S=(0,l.e7)([b.Z],()=>(0,u.Z)(b.Z));async function T(){var e;return null!==(e=(await (0,g._Q)()).sort((e,t)=>(0,g.ov)(t)-(0,g.ov)(e))[0])&&void 0!==e?e:null}let O=r.useCallback(async()=>{var n,i;if(null==t||null==e)return!1;let r=await T(),a=(0,w.isWindows)()?(0,m.Z)(d.ZP,j.Z):null;if(null==a&&null==r)return!1;let l=null!=N?null===(n=C.Z.getGuild(N))||void 0===n?void 0:n.premiumTier:null,{preset:s,resolution:u,fps:g,soundshareEnabled:v}=x.Z.getState(),[Z,I]=null!==(i=(0,_.Z)(s,o,l))&&void 0!==i?i:[E.LY.RESOLUTION_720,E.ws.FPS_30],y=s,S=u,O=g;y!==E.tI.PRESET_CUSTOM&&(S=Z,O=I),(0,h.Z)(y,S,O,o,l)||(S=Z,O=I),(0,h.Z)(y,S,O,o,l,t)||(y=E.tI.PRESET_VIDEO,S=E.LY.RESOLUTION_720,O=E.ws.FPS_30),(0,c.Rc)({preset:y,resolution:S,frameRate:O,soundshareEnabled:v});let P=(0,p.Z)(a,r,d.ZP.getRunningGames()),L=!(0,w.isWindows)()||null==P||(null==r?void 0:r.id.startsWith("camera:"))||null==P?null:P.pid,A=null,R=null;return null==L&&null!=r&&(A=r.id,R=r.name),!!(b.Z.getUseSystemScreensharePicker()||await f.Z.hasPermission(k.Eu.SCREEN_RECORDING,{showAuthorizationError:!1}))&&((0,c.WH)(N,e,{pid:L,sourceId:A,sourceName:R,audioSourceId:null,sound:v,previewDisabled:!0}),!0)},[t,N,o,e]);return r.useCallback(async()=>{!(!S||null==e||await O())&&(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("79477"),n.e("73554")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,selectSource:!1,guildId:N,analyticsLocation:y.Sbl.UNLOCKED_OVERLAY})})},[S,O,N,e])}},2923:function(e,t,n){n.d(t,{Z:()=>u});var i=n(200651);n(192379);var r=n(120356),o=n.n(r),a=n(442837),l=n(592125),s=n(944486),c=n(293224),d=n(201636);function u(e){let{locked:t}=e,n=(0,a.e7)([s.Z],()=>s.Z.getVoiceChannelId()),r=(0,a.e7)([l.Z],()=>l.Z.getChannel(n)),u=null!=r;return(0,i.jsxs)("div",{className:o()({[d.panelContainer]:!0,[d.locked]:t}),children:[(0,i.jsxs)("div",{className:d.panelRow,children:[(0,i.jsxs)("div",{className:d.buttonSection,children:[(0,i.jsx)(c.Ox,{voiceChannel:r,locked:t}),(0,i.jsx)(c.SE,{voiceChannel:r,locked:t}),(0,i.jsx)(c.N3,{voiceChannel:r,locked:t})]}),(0,i.jsxs)("div",{className:d.buttonSection,children:[(0,i.jsx)(c.sm,{voiceChannel:r,locked:t}),(0,i.jsx)(c.aG,{voiceChannel:r,locked:t})]}),(0,i.jsx)("div",{className:o()(d.buttonSection,u&&d.inCall),children:(0,i.jsx)(c.c_,{voiceChannel:r,locked:t})})]}),u&&(0,i.jsx)("div",{className:d.panelRow,children:(0,i.jsx)(c.L,{voiceChannel:r,locked:t})})]})}},586742:function(e,t,n){n.d(t,{Z:()=>k});var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(442837),s=n(481060),c=n(239091),d=n(765250),u=n(393238),h=n(358221),_=n(933557),m=n(352978),g=n(27457),p=n(796638),f=n(592125),x=n(131951),v=n(944486),C=n(906037),b=n(804570),Z=n(501787),I=n(65154),j=n(388032),w=n(827202);function y(e){var t;let{participant:n,channel:r,context:o}=e,a=null===(t=n.user)||void 0===t?void 0:t.id;return(0,l.e7)([x.Z],()=>null!=n.user&&null!=o&&null!=r&&x.Z.isLocalVideoDisabled(a,o),[a,n.user,o,r])?null:(0,i.jsx)(g.ZP,{...e})}function E(e){let{context:t=I.Yn.DEFAULT,participants:o,locked:l,widget:d,channel:u,width:h,height:_,containerRef:g}=e,p=(e,r)=>{(0,c.jW)(r,async()=>{let{default:r}=await Promise.all([n.e("79695"),n.e("69220"),n.e("351")]).then(n.bind(n,881351));return n=>(0,i.jsx)(r,{...n,user:e.user,showMediaItems:!0,mediaEngineContext:t})})},f=o.length>0&&null!=t&&null!=u&&(!l||d.pinned);r.useEffect(()=>{(0,C.m3)({locked:l,pinned:d.pinned,widget:d.type,isPreviewingInGame:!1},f)},[l,d,f]);let x="boolean"!=typeof d.meta.horizontal||d.meta.horizontal;return 0!==o.length||l?null==u?null:(0,i.jsx)("div",{ref:g,className:a()({[w.videoList]:!0,[w.vertical]:!x,[w.hidden]:!f&&l}),style:{opacity:d.opacity},children:o.map(e=>(0,i.jsx)(y,{participant:e,width:h,className:w.tile,containerStyle:{width:h,height:_},fit:m.L.COVER,channel:u,inPopout:!0,inCall:!0,noBorder:!0,onContextMenu:l?void 0:p,forceIdle:l,paused:!f,inOverlayPopout:!0,context:t},e.id))}):l?null:(0,i.jsx)(b.E,{emptyText:j.intl.string(j.t["aTiM4+"]),icon:s.Odl,absolute:!0})}function k(e){let t=(0,l.e7)([v.Z,f.Z],()=>f.Z.getChannel(v.Z.getVoiceChannelId())),n=(0,_.ZP)(t),o=(0,l.Wu)([h.Z],()=>null!=t?h.Z.getVideoParticipants(t.id):[]),a=(0,l.e7)([h.Z],()=>null!=t?h.Z.getParticipantsVersion(t.id):0),s="boolean"!=typeof e.widget.meta.horizontal||e.widget.meta.horizontal,{width:c,height:m,ref:g}=(0,u.Z)(e.locked,e.widget.pinned),{participantTileWidth:x,visibleParticipants:C}=(0,p.ZB)(s?null!=c?c:e.width:null!=m?m:e.height,o,{tileWidth:Z.vZ,tileMinWidth:Z.mo,tileMargin:Z.F$,limit:8,cropSelfVideo:!0,version:a}),b={id:e.widget.id,size:e.widget.size,containerWidth:e.width,containerHeight:e.height},I=r.useRef(b);return r.useLayoutEffect(()=>void(I.current=b)),r.useLayoutEffect(()=>{let{size:e,id:t,containerWidth:n,containerHeight:i}=I.current;(s&&e.height>e.width||!s&&e.width>e.height)&&(0,d.nv)({widgetId:t,size:{fixed:!0,width:i,height:n}})},[s]),(0,i.jsx)(E,{...e,channel:t,title:null!=n?n:"",participants:C,participantsVersion:a,width:s?x:null!=c?c:e.width,height:s?null!=m?m:e.height:x,containerRef:g})}},243487:function(e,t,n){n.d(t,{Z:()=>B}),n(47120);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(442837),s=n(481060),c=n(239091),d=n(765250),u=n(13245),h=n(872810),_=n(586902),m=n(835473),g=n(415635),p=n(933557),f=n(979264),x=n(701362),v=n(552282),C=n(565799),b=n(501655),Z=n(597998),I=n(199902),j=n(314897),w=n(592125),y=n(355863),E=n(131951),k=n(944486),N=n(979651),S=n(938475),T=n(237997),O=n(136015),P=n(51144),L=n(145597),A=n(804570),R=n(388627),V=n(981631),W=n(65154),M=n(388032),D=n(882110);function z(e){let{avatarSize:t,userId:n,channelId:r,guildId:o}=e,a=2*t,l=-(t/2);return(0,i.jsx)("div",{className:D.effect,style:{top:l,left:l,width:a,height:a},children:(0,i.jsx)(g.Z,{userId:n,channelId:r,guildId:o,containerDimensions:{width:a,height:a}})})}function F(e){let{channel:t,flipped:n=!1,locked:o=!1,user:c,nick:d,displayNameMode:u,displayUserMode:m,size:g=V.ipw.LARGE,onClick:p,onContextMenu:v,context:C,guildId:b,voiceState:w,showStreamPreview:y,onShowStreamPreview:k,onWatchStream:S}=e,T=(0,l.e7)([j.default],()=>j.default.getId()===c.id,[c.id]),O=null==w?void 0:w.sessionId,P=(0,l.e7)([N.Z],()=>N.Z.getVoiceStateForSession(c.id,O),[O,c.id]),[L,A,R]=(0,l.Wu)([E.Z],()=>T?[!E.Z.isSupported()||E.Z.isSelfMute()||E.Z.isSelfMutedTemporarily(),E.Z.isSelfDeaf(),!1]:[!E.Z.isSupported()||E.Z.isLocalMute(c.id),!1,E.Z.isLocalVideoDisabled(c.id)],[T,c.id]),W=(0,l.e7)([I.Z],()=>I.Z.getCurrentUserActiveStream()),M=(0,l.Wu)([I.Z],()=>null!=W?I.Z.getViewerIds(W):[]),F=(0,_.Z)({userId:c.id,context:C}),G=(0,l.e7)([I.Z],()=>I.Z.getStreamForUser(c.id,b)),B=null!=G,U=r.useMemo(()=>null!=W&&W.ownerId!==c.id&&M.includes(c.id),[W,c.id,M]),H=r.useCallback(()=>k(null),[k]),Y=r.useCallback(()=>(0,i.jsx)(x.Z,{user:c,channel:t,onWatch:()=>{(0,h.rn)(G,{forceMultiple:!0,noFocus:!0}),H(),S()},onAction:S,previewIsOpen:y,location:V.Sbl.UNLOCKED_OVERLAY,hideTip:!0}),[c,t,G,y,H,S]);if(m===V.OYC.ONLY_WHILE_SPEAKING&&o&&!F||null==P)return null;let{mute:X,suppress:K,deaf:Q}=P,q=g===V.ipw.LARGE?32:24;return(0,i.jsxs)(s.P3F,{className:a()(D.voiceUser,{[D.speaking]:F,[D.interactive]:!o,[D.flipped]:n}),onClick:o?void 0:e=>null==p?void 0:p(e,c),onContextMenu:o?void 0:e=>null==v?void 0:v(e,c),onMouseEnter:()=>k(c.id),onMouseLeave:H,children:[(0,i.jsx)(s.qEK,{className:D.avatar,size:g===V.ipw.LARGE?s.EFr.SIZE_32:s.EFr.SIZE_24,src:c.getAvatarURL(b,q),"aria-hidden":!0}),(0,i.jsx)(z,{avatarSize:q,userId:c.id,channelId:t.id,guildId:t.getGuildId()}),o&&(u===V.wC$.NEVER||!F&&u===V.wC$.ONLY_WHILE_SPEAKING)?null:(0,i.jsx)(s.yRy,{position:"right",renderPopout:Y,shouldShow:y,onRequestClose:H,spacing:0,children:()=>(0,i.jsxs)(s.P3F,{className:D.username,children:[(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-normal",children:d}),(0,i.jsx)(f.ZP,{primaryGuild:c.primaryGuild,userId:c.id,contextGuildId:b,className:D.clanTag}),(0,i.jsx)(Z.nm,{guildId:b,user:c,video:P.selfVideo,isStreaming:B,className:D.voiceIcons,iconClassName:D.voiceIcon,isWatching:U,localMute:L&&!T,localVideoDisabled:R,mute:X||L,deaf:Q||A,serverMute:X||K,serverDeaf:Q,disabled:!1})]})})]})}function G(e){let{id:t,context:o=W.Yn.DEFAULT,channel:a,sortedVoiceStates:l,displayNameMode:h,displayUserMode:_,locked:m,pinned:g,isPreviewingInGame:p,anchorLeft:f,avatarSizeMode:x}=e,[v,C]=r.useState(null),b=(e,t)=>{(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("351")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t,showMediaItems:!0,mediaEngineContext:o})})},Z=l.length>0&&null!=o&&null!=a&&(!m||g),I=r.useCallback(()=>{var e,n;let i=null===(e=y.Z.getWidget(t))||void 0===e?void 0:e.layoutId,r=null!=i?null===(n=y.Z.getWidgetsForLayout(i))||void 0===n?void 0:n.find(e=>e.type===V.Odu.GO_LIVE):null;null==r||r.pinned||((0,d.xh)(r.id),u.Z.track(V.rMx.OVERLAY_PIN_TOGGLED,{pinned:!0,guild_id:null==a?void 0:a.guild_id,channel_id:null==a?void 0:a.id,channel_type:null==a?void 0:a.type,widget_type:V.Odu.GO_LIVE}))},[a,t]);return Z?(0,i.jsx)(i.Fragment,{children:l.map(e=>{var t;let{user:n,voiceState:r,member:l}=e;return null==n?null:(0,i.jsx)(F,{guildId:null==a?void 0:a.guild_id,user:n,nick:null!==(t=null==l?void 0:l.nick)&&void 0!==t?t:P.ZP.getName(n),flipped:!f,voiceState:r,displayNameMode:h,displayUserMode:_,size:x,locked:m||p,onContextMenu:b,onClick:b,context:o,channel:a,showStreamPreview:n.id===v,onShowStreamPreview:C,onWatchStream:I},n.id)})}):m?null:(0,i.jsx)(A.E,{emptyText:M.intl.string(M.t.hEh0l5),icon:s.gj8})}function B(e){var t;let n=(0,l.e7)([k.Z,w.Z],()=>w.Z.getChannel(k.Z.getVoiceChannelId())),r=(0,p.ZP)(n),o=function(){let[e]=(0,l.e7)([S.ZP,C.Z,k.Z,w.Z],()=>{let e=w.Z.getChannel(k.Z.getVoiceChannelId());return null==e?[[],-1]:e.isGuildStageVoice()?[C.Z.getMutableParticipants(e.id,b.pV.SPEAKER),C.Z.getParticipantsVersion(e.id)]:[S.ZP.getVoiceStatesForChannel(e),S.ZP.getVoiceStateVersion(e.getGuildId())]},[],O.Q);return e}(),a=(0,l.e7)([I.Z],()=>I.Z.getStreamerActiveStreamMetadata()),s=(0,R.II)(),c=(0,m.q)(null==s?void 0:s.id),d=(0,l.cj)([I.Z,T.Z],()=>{let e=I.Z.getCurrentUserActiveStream();return{displayUserMode:T.Z.getDisplayUserMode(),displayNameMode:T.Z.getDisplayNameMode(),avatarSizeMode:T.Z.getAvatarSizeMode(),streamApplication:(null==a?void 0:a.pid)===(0,L.QF)()?(0,v.Z)(s):null,stream:e}});return(0,i.jsx)(G,{...d,application:c,...e,sortedVoiceStates:o,channel:n,title:null!=r?r:"",streamMetadata:a,streamApplication:null!==(t=d.streamApplication)&&void 0!==t?t:{id:null,name:null==a?void 0:a.sourceName}})}},84346:function(e,t,n){n.d(t,{Z:()=>v});var i=n(200651),r=n(239091),o=n(603618),a=n(926086),l=n(353038),s=n(761374),c=n(340101),d=n(273816),u=n(2923),h=n(586742),_=n(243487),m=n(430561),g=n(134849),p=n(501787),f=n(981631),x=n(388032);let v={[f.Odu.VIDEO]:{renderWidget(e){let{widget:t,locked:n,size:r,padding:o,borderWidth:a}=e;return(0,i.jsx)(h.Z,{id:t.id,locked:n,widget:t,height:"auto"===r.height?0:r.height-2*o-2*a,width:"auto"===r.width?0:r.width-2*o-2*a})},renderTitle:()=>(0,i.jsx)(m.PI,{children:x.intl.string(x.t.UPvOiY)}),renderButtons:(e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ls,{onClick:o=>{var a,l,s;return a=o,l=e,s=t,void((0,c.js)(l)&&(0,r.jW)(a,async()=>{let{default:e}=await n.e("26775").then(n.bind(n,740579));return s(!0),t=>(0,i.jsx)(e,{...t,widget:l,onClose:()=>s(!1)})}))}}),(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})]}),resizeValidation(e){let{widget:t,computedSize:n,borderWidth:i,padding:r}=e;return(0,c.js)(t)?"boolean"!=typeof t.meta.horizontal||t.meta.horizontal?{width:Math.max(n.width,p.vZ),height:Math.min(n.height,2*p.mo+2*i+2*r)}:{height:Math.max(n.height,p.vZ),width:Math.min(n.width,2*p.mo+2*i+2*r)}:n}},[f.Odu.VOICE_V3]:{renderWidget(e){let{widget:t,anchorLeft:n,locked:r}=e;return(0,i.jsx)(_.Z,{anchorLeft:n,id:t.id,locked:r,pinned:t.pinned,widget:f.Odu.VOICE,isPreviewingInGame:!1})},renderTitle:()=>(0,i.jsx)(m.PI,{children:x.intl.string(x.t.nFv3GR)}),renderButtons:(e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ls,{onClick:e=>{(0,r.jW)(e,async()=>{let{default:e}=await n.e("32382").then(n.bind(n,955280));return t(!0),n=>(0,i.jsx)(e,{...n,onClose:()=>t(!1)})})}}),(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})]})},[f.Odu.CLICK_ZONE_DEBUG]:{renderWidget(e){let{widget:t,locked:n}=e;return(0,i.jsx)(a.Z,{id:t.id,locked:n,pinned:t.pinned})},renderTitle:()=>(0,i.jsx)(m.PI,{children:"Click Zone Tester"}),renderButtons:(e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ls,{onClick:e=>{(0,r.jW)(e,async()=>{let{default:e}=await n.e("38813").then(n.bind(n,541501));return t(!0),n=>(0,i.jsx)(e,{...n,onClose:()=>t(!1)})})}}),(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})]})},[f.Odu.PERFORMANCE_DEBUG]:{renderWidget(e){let{widget:t,locked:n,anchorLeft:r}=e;return(0,i.jsx)(d.Z,{id:t.id,anchorLeft:r,locked:n,pinned:t.pinned})},renderTitle:()=>(0,i.jsx)(m.PI,{children:"Overlay Performance"}),renderButtons:e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})})},[f.Odu.GO_LIVE]:{renderWidget(e){var t;let{widget:n,locked:r,size:o,dragStart:a,anchorTop:l,anchorLeft:d}=e;return(0,c.ZL)(n)?(0,i.jsx)(s.Z,{id:n.id,locked:r,pinned:n.pinned,opacity:n.opacity,size:o,anchorTop:l,anchorLeft:d,widget:f.Odu.GO_LIVE,isPreviewingInGame:!1,dragStart:a,horizontal:null!==(t=n.meta.horizontal)&&void 0!==t&&t,padding:8,borderWidth:2}):null},renderTitle:()=>(0,i.jsx)(m.PI,{children:x.intl.string(x.t["386XRk"])}),renderButtons(e,t){var o;return(0,c.ZL)(e)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ls,{onClick:o=>{var a,l,s;return a=o,l=e,s=t,void((0,c.ZL)(l)&&(0,r.jW)(a,async()=>{let{default:e}=await n.e("34684").then(n.bind(n,68738));return s(!0),t=>(0,i.jsx)(e,{...t,widget:l,onClose:()=>s(!1)})}))}}),(0,i.jsx)(m.GY,{widgetId:e.id,showAllStreams:null===(o=e.meta.showAllStreams)||void 0===o||o}),(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})]}):null},resizeValidation(e){let{operation:t,computedSize:n,originSize:i,borderWidth:r,padding:o,containerSpecs:a}=e,s=2*r+2*o,c=i.width-s,d=i.height-s,u=c/d,h=d/c,_=(()=>{switch(t){case l.B.RESIZE_NORTH:case l.B.RESIZE_SOUTH:return{height:n.height,width:Math.round((n.height-s)*u+s)};default:return{width:n.width,height:Math.round((n.width-s)*h+s)}}})();return _.width>a.maxX&&(_.width=a.maxX,_.height=(a.maxX-s)*h+s),_.height>a.maxY&&(_.height=a.maxY,_.width=(a.maxY-s)*u+s),_}},[f.Odu.QUICK_ACTIONS]:{renderWidget(e){let{locked:t}=e;return(0,i.jsx)(u.Z,{locked:t})}},[f.Odu.NOTIFICATIONS]:{renderWidget(e){let{locked:t}=e;return(0,i.jsx)(g.Z,{locked:t})},renderTitle:()=>(0,i.jsx)(m.PI,{children:x.intl.string(x.t.gnKWdX)}),renderButtons:(e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.ls,{onClick:e=>{(0,r.jW)(e,async()=>{let{default:e}=await n.e("94706").then(n.bind(n,168133));return t(!0),n=>(0,i.jsx)(e,{...n,onClose:()=>t(!1)})})}}),(0,i.jsx)(m.RT,{id:e.id,pinned:e.pinned})]})},[f.Odu.ACTIVITY]:{renderWidget:()=>(0,i.jsx)(o.Z,{}),renderTitle:()=>(0,i.jsx)(m.PI,{children:x.intl.string(x.t["6gwSFR"])}),renderButtons:()=>null}}},430561:function(e,t,n){n.d(t,{GY:()=>_,PI:()=>u,RT:()=>m,ls:()=>h});var i=n(200651);n(192379);var r=n(120356),o=n.n(r),a=n(692547),l=n(481060),s=n(765250),c=n(388032),d=n(122087);function u(e){let{children:t}=e;return(0,i.jsx)("div",{className:d.titleWrapper,children:(0,i.jsx)(l.Text,{variant:"text-xs/semibold",color:"header-primary",children:t})})}function h(e){let{onClick:t}=e,n=c.intl.string(c.t["3D5yo6"]);return(0,i.jsx)(l.ua7,{text:n,"aria-label":n,children:e=>(0,i.jsx)(l.P3F,{...e,className:d.button,onClick:t,children:(0,i.jsx)(l.ewm,{size:"xxs",color:a.Z.colors.INTERACTIVE_ACTIVE})})})}function _(e){let{widgetId:t,showAllStreams:n}=e,r=n?c.intl.string(c.t.q2B3rq):c.intl.string(c.t.JKGi6u),u=()=>{(0,s.zG)(t,{showAllStreams:!n})};return(0,i.jsx)(l.ua7,{text:r,"aria-label":r,children:e=>(0,i.jsx)(l.P3F,{...e,className:o()(d.button,n&&d.active),onClick:u,children:(0,i.jsx)(l.pzj,{size:"xxs",color:n?a.Z.colors.BG_BRAND:a.Z.colors.INTERACTIVE_ACTIVE})})})}function m(e){let{id:t,pinned:n}=e,r=n?c.intl.string(c.t.cSu80t):c.intl.string(c.t.cM8Vnp);return(0,i.jsx)(l.ua7,{text:r,"aria-label":r,children:e=>(0,i.jsx)(l.P3F,{...e,className:o()(d.button,n&&d.active),onClick:()=>(0,s.xh)(t),children:(0,i.jsx)(l.k5M,{size:"xxs",color:n?a.Z.colors.BG_BRAND:a.Z.colors.INTERACTIVE_ACTIVE})})})}},134849:function(e,t,n){n.d(t,{Z:()=>Z}),n(653041),n(47120);var i=n(200651),r=n(192379),o=n(442837),a=n(481060),l=n(237997),s=n(804570),c=n(388627),d=n(561064),u=n(380736),h=n(693091),_=n(371467),m=n(981631),g=n(388032),p=n(109020);let f=[];function x(e){return e.notification.id}function v(e,t,n,r){let{index:o,notification:a,locked:l}=t;return(0,i.jsx)(u.ZP,{index:o,notification:a,locked:l,transitionState:n,cleanUp:r},e)}function C(e){return(0,i.jsx)("div",{className:p.container,children:e})}let b=e=>r.useState(()=>new h.AS(e))[0],Z=r.memo(function(e){let{locked:t}=e,n=(0,o.e7)([l.Z,_.Z],()=>{if(l.Z.getNotificationPositionMode()===m._vf.DISABLED)return f;let e=[],n=0;for(let i of _.Z.getNotifications()){if(n>4)break;(!t||i.status!==m._1z.TIMED_OUT)&&(e.push({index:n,locked:t,notification:i}),n++)}return e},[t],c.E6),u=b(t);return(r.useLayoutEffect(()=>u.updateState(n,t)),r.useLayoutEffect(()=>(u.initialize((0,d.i)()),()=>u.cleanUp()),[u]),0!==n.length||t)?(0,i.jsx)(h.S4.Provider,{value:u,children:(0,i.jsx)(a.W3x,{items:n,renderItem:v,getItemKey:x,wrapChildren:C})}):t?null:(0,i.jsx)(s.E,{emptyText:g.intl.string(g.t.O1Nbjo),icon:a.Dkj,absolute:!0})})},892807:function(e,t,n){n.d(t,{Z:()=>k}),n(724458),n(653041),n(47120);var i=n(200651),r=n(192379),o=n(120356),a=n.n(o),l=n(442837),s=n(481060),c=n(410575),d=n(933557),u=n(471445),h=n(318374),_=n(46145),m=n(814443),g=n(592125),p=n(430824),f=n(496675),x=n(699516),v=n(594174),C=n(979651),b=n(823379),Z=n(981631),I=n(388032),j=n(693215);function w(e){let{channel:t,currentVoiceChannel:n}=e,r=(0,u.KS)(t),o=t.id===(null==n?void 0:n.id),l=o?s.TVs.colors.TEXT_POSITIVE:s.TVs.colors.INTERACTIVE_NORMAL;return(0,i.jsxs)("div",{className:j.channelNameContainer,children:[null!=r?(0,i.jsx)(r,{color:l,size:"xs"}):void 0,(0,i.jsx)(s.Text,{variant:"text-sm/semibold",className:a()(j.label,j.channelName),color:o?"text-positive":"text-normal",children:(0,d.F6)(t,v.default,x.Z)})]})}function y(e){let{channel:t,currentVoiceChannel:n}=e,r=t.getGuildId(),o=(0,l.e7)([p.Z],()=>p.Z.getGuild(r),[r]),a=t.id===(null==n?void 0:n.id);return null==o?null:(0,i.jsx)("div",{className:j.channelMenuSubContainer,children:(0,i.jsx)(s.Text,{variant:"text-xs/normal",color:a?"text-positive":void 0,children:o.name})})}function E(e){let{channel:t}=e,n=(0,l.Wu)([C.Z,v.default,m.Z],()=>Object.values(C.Z.getVoiceStatesForChannel(t.id)).map(e=>v.default.getUser(e.userId)).filter(b.lm).sort((e,t)=>{var n,i,r,o;return(null!==(r=null===(n=m.Z.getUserAffinity(t.id))||void 0===n?void 0:n.affinity)&&void 0!==r?r:0)-(null!==(o=null===(i=m.Z.getUserAffinity(e.id))||void 0===i?void 0:i.affinity)&&void 0!==o?o:0)}),[t.id]),r=t.getGuildId();return null==r?null:(0,i.jsx)(h.Z,{users:n,guildId:r,maxUsers:3,size:s.EFr.SIZE_20,overflowCountClassName:j.overflowCount,overflowCountVariant:"text-xxs/semibold",disableUserPopout:!0})}function k(e){let{currentVoiceChannel:t,onClose:n,onSelect:o}=e,a=(0,l.Wu)([x.Z,m.Z],()=>x.Z.getFriendIDs().sort((e,t)=>{var n,i,r,o;return null==e&&null==t?0:null==e?1:null==t?-1:(null!==(r=null===(n=m.Z.getUserAffinity(t))||void 0===n?void 0:n.affinity)&&void 0!==r?r:0)-(null!==(o=null===(i=m.Z.getUserAffinity(e))||void 0===i?void 0:i.affinity)&&void 0!==o?o:0)})),d=(0,l.Wu)([v.default],()=>a.reduce((e,t)=>{let n=v.default.getUser(t);return null!=n&&e.push(n),e},[]),[a]),u=(0,l.Wu)([_.Z,C.Z,g.Z,f.Z],()=>{let e=new Set(_.Z.getChannelHistory().reduce((e,t)=>{let n=g.Z.getChannel(t);return null!=n&&f.Z.can(Z.Plq.CONNECT,n)&&e.length<5&&e.push(t),e},[])),t=d.map(e=>C.Z.getDiscoverableVoiceStateForUser(e.id)).reduce((t,n)=>{let i=null==n?void 0:n.channelId;if(null==i)return t;let r=g.Z.getChannel(i);return null!=r&&f.Z.can(Z.Plq.CONNECT,r)&&!e.has(i)&&t.size<3&&t.add(i),t},new Set);return[...Array.from(e),...t].map(e=>g.Z.getChannel(e)).filter(b.lm)},[d]),h=r.useCallback(e=>{o(e),n()},[o,n]);return(0,i.jsx)(c.Z,{section:Z.jXE.CONTEXT_MENU,children:(0,i.jsx)(s.v2r,{onSelect:n,navId:"manage-streams",onClose:n,"aria-label":I.intl.string(I.t["+9QSnp"]),children:(0,i.jsx)(s.kSQ,{children:u.map(e=>(0,i.jsx)(s.sNh,{id:e.id,label:(0,i.jsx)(w,{channel:e,currentVoiceChannel:t}),subtext:(0,i.jsx)(y,{channel:e,currentVoiceChannel:t}),icon:(0,i.jsx)("div",{className:j.icon,children:(0,i.jsx)(E,{channel:e,currentVoiceChannel:t})}),subtextLineClamp:1,action:()=>h(e)},e.id))})})})}},82126:function(e,t,n){e.exports={grid:"grid__8ca5f",tile:"tile__8ca5f"}},719967:function(e,t,n){e.exports={panel:"panel_ef5082",panelGroup:"panelGroup_ef5082",bottomPanelButton:"bottomPanelButton_ef5082",topPanelToggle:"topPanelToggle_ef5082",secondaryInfoText:"secondaryInfoText_ef5082"}},941469:function(e,t,n){e.exports={panel:"panel_fe7ab2",headerBar:"headerBar_fe7ab2",headerTitle:"headerTitle_fe7ab2",inspectorWrapper:"inspectorWrapper_fe7ab2",tabBar:"tabBar_fe7ab2",tabItem:"tabItem_fe7ab2",selected:"selected_fe7ab2",overflowChevron:"overflowChevron_fe7ab2",table:"table_fe7ab2",tableContainer:"tableContainer_fe7ab2",tableHeader:"tableHeader_fe7ab2",tableRow:"tableRow_fe7ab2",selectedTableRow:"selectedTableRow_fe7ab2",properties:"properties_fe7ab2",propertyName:"propertyName_fe7ab2",toolbar:"toolbar_fe7ab2",toolbarGroup:"toolbarGroup_fe7ab2",toolbarButton:"toolbarButton_fe7ab2"}},66011:function(e,t,n){e.exports={divider:"divider__33f29",separator:"separator__33f29"}},468516:function(e,t,n){e.exports={nativePickerGuide:"nativePickerGuide_afdbcd",windowIcon_to:"windowIcon_to_afdbcd",windowIcon_to__to:"windowIcon_to__to_afdbcd",windowIcon_ts:"windowIcon_ts_afdbcd",windowIcon_ts__ts:"windowIcon_ts__ts_afdbcd",windowIcon:"windowIcon_afdbcd",windowIcon_c_o:"windowIcon_c_o_afdbcd",clydeIcon_to:"clydeIcon_to_afdbcd",clydeIcon_to__to:"clydeIcon_to__to_afdbcd",clydeIcon_ts:"clydeIcon_ts_afdbcd",clydeIcon_ts__ts:"clydeIcon_ts__ts_afdbcd",clydeIcon:"clydeIcon_afdbcd",clydeIcon_c_o:"clydeIcon_c_o_afdbcd",screenIcon_to:"screenIcon_to_afdbcd",screenIcon_to__to:"screenIcon_to__to_afdbcd",screenIcon_ts:"screenIcon_ts_afdbcd",screenIcon_ts__ts:"screenIcon_ts__ts_afdbcd",screenIcon:"screenIcon_afdbcd",screenIcon_c_o:"screenIcon_c_o_afdbcd",screenIconHighlight_fill_g1_0:"screenIconHighlight_fill_g1_0_afdbcd",screenIconHighlight_fill_g1_0__c:"screenIconHighlight_fill_g1_0__c_afdbcd",screenIconHighlight_fill_g1_1:"screenIconHighlight_fill_g1_1_afdbcd",screenIconHighlight_fill_g1_1__c:"screenIconHighlight_fill_g1_1__c_afdbcd",screenIconHighlight:"screenIconHighlight_afdbcd",screenIconHighlight_f_o:"screenIconHighlight_f_o_afdbcd",windowCard_ts:"windowCard_ts_afdbcd",windowCard_ts__ts:"windowCard_ts__ts_afdbcd",windowCard:"windowCard_afdbcd",windowCard_c_o:"windowCard_c_o_afdbcd",buttonOverWindow_ts:"buttonOverWindow_ts_afdbcd",buttonOverWindow_ts__ts:"buttonOverWindow_ts__ts_afdbcd",buttonOverWindow:"buttonOverWindow_afdbcd",buttonOverWindow_c_o:"buttonOverWindow_c_o_afdbcd",buttonOverWindowHighlight_fill_g1_0:"buttonOverWindowHighlight_fill_g1_0_afdbcd",buttonOverWindowHighlight_fill_g1_0__c:"buttonOverWindowHighlight_fill_g1_0__c_afdbcd",buttonOverWindowHighlight_fill_g1_1:"buttonOverWindowHighlight_fill_g1_1_afdbcd",buttonOverWindowHighlight_fill_g1_1__c:"buttonOverWindowHighlight_fill_g1_1__c_afdbcd",buttonOverWindowHighlight:"buttonOverWindowHighlight_afdbcd",buttonOverWindowHighlight_f_p:"buttonOverWindowHighlight_f_p_afdbcd",buttonOverWindowHighlight_f_o:"buttonOverWindowHighlight_f_o_afdbcd",cursor_to:"cursor_to_afdbcd",cursor_to__to:"cursor_to__to_afdbcd",cursor_ts:"cursor_ts_afdbcd",cursor_ts__ts:"cursor_ts__ts_afdbcd",cursor:"cursor_afdbcd",cursor_c_o:"cursor_c_o_afdbcd"}},545477:function(e,t,n){e.exports={spinner:"spinner_a2de16",tile:"tile_a2de16",sourceThumbnail:"sourceThumbnail_a2de16",sourceScroller:"sourceScroller_a2de16",sourceContainer:"sourceContainer_a2de16",selected:"selected_a2de16",sourceName:"sourceName_a2de16",segmentContainer:"segmentContainer_a2de16",segmentControl:"segmentControl_a2de16",segmentControlOption:"segmentControlOption_a2de16",errorMessage:"errorMessage_a2de16",nativePickerScroll:"nativePickerScroll_a2de16",nativeCaptureDevicesText:"nativeCaptureDevicesText_a2de16",captureDevicesToggleIndicator:"captureDevicesToggleIndicator_a2de16",nativePickerCollapsed:"nativePickerCollapsed_a2de16",nativePickerCaptureList:"nativePickerCaptureList_a2de16",nativePickerRadioItem:"nativePickerRadioItem_a2de16",nativePickerGuide:"nativePickerGuide_a2de16",nativePickerLabel:"nativePickerLabel_a2de16",nativePickerCaptureSection:"nativePickerCaptureSection_a2de16",nativeSourceSingleTypeButton:"nativeSourceSingleTypeButton_a2de16",nativeSourceSingleTypeButtonInner:"nativeSourceSingleTypeButtonInner_a2de16",nativeSourceSingleTypeImage:"nativeSourceSingleTypeImage_a2de16",nativePickerTypes:"nativePickerTypes_a2de16",nativeSourceTypeButton:"nativeSourceTypeButton_a2de16",nativeSourceTypeButtonInner:"nativeSourceTypeButtonInner_a2de16",hideRadioCheckbox:"hideRadioCheckbox_a2de16"}},13663:function(e,t,n){e.exports={container:"container__2af41",activityCard:"activityCard__2af41",row:"row__2af41",inviteFriendsButton:"inviteFriendsButton__2af41",avatar:"avatar__2af41",details:"details__2af41",usernameWrapper:"usernameWrapper__2af41",username:"username__2af41",inviteButton:"inviteButton__2af41",inviteButtonWrapper:"inviteButtonWrapper__2af41",inviteButtonInner:"inviteButtonInner__2af41",liveIndicator:"liveIndicator__2af41",badgesContainer:"badgesContainer__2af41"}},70491:function(e,t,n){e.exports={clickZone:"clickZone__29c87",clickZoneDebugContainer:"clickZoneDebugContainer__29c87",clickBackground:"clickBackground__29c87",clickable:"clickable__29c87"}},706446:function(e,t,n){e.exports={wrapper:"wrapper__58ece",unlocked:"unlocked__58ece",lockExtras:"lockExtras__58ece",operation:"operation__58ece",handle:"handle__58ece",resizeNorth:"resizeNorth__58ece handle__58ece",resizeSouth:"resizeSouth__58ece handle__58ece",resizeNSCursor:"resizeNSCursor__58ece",resizeWest:"resizeWest__58ece handle__58ece",resizeEast:"resizeEast__58ece handle__58ece",resizeEWCursor:"resizeEWCursor__58ece",resizeNorthWest:"resizeNorthWest__58ece handle__58ece",resizeNorthEast:"resizeNorthEast__58ece handle__58ece",resizeSouthWest:"resizeSouthWest__58ece handle__58ece",resizeSouthEast:"resizeSouthEast__58ece handle__58ece",resizeNWSECursor:"resizeNWSECursor__58ece",resizeNESWCursor:"resizeNESWCursor__58ece",extras:"extras__58ece",extrasBottomOriented:"extrasBottomOriented__58ece",extrasRightOriented:"extrasRightOriented__58ece"}},892196:function(e,t,n){e.exports={emptyWidgetContainer:"emptyWidgetContainer_cc1cc5",absolute:"absolute_cc1cc5",emptyWidgetIcon:"emptyWidgetIcon_cc1cc5"}},228680:function(e,t,n){e.exports={gridContainer:"gridContainer_ad58e7",gridItem:"gridItem_ad58e7",horizontal:"horizontal_ad58e7",vertical:"vertical_ad58e7",tileContainer:"tileContainer_ad58e7"}},2847:function(e,t,n){e.exports={streamTile:"streamTile__8151b",tile:"tile__8151b",streamTileWrapper:"streamTileWrapper__8151b",controls:"controls__8151b",controlBackground:"controlBackground__8151b",controlsWithActiveStream:"controlsWithActiveStream__8151b",controlUser:"controlUser__8151b",controlUserContainer:"controlUserContainer__8151b",controlAction:"controlAction__8151b",controlActions:"controlActions__8151b",absoluteFill:"absoluteFill__8151b",streamPreview:"streamPreview__8151b",liveIndicator:"liveIndicator__8151b",watchActionContainer:"watchActionContainer__8151b",watchButton:"watchButton__8151b"}},666540:function(e,t,n){e.exports={goLiveGridContainer:"goLiveGridContainer__466c6"}},163752:function(e,t,n){e.exports={buttonContainer:"buttonContainer__7e329",keybind:"keybind__7e329",button:"button__7e329"}},167566:function(e,t,n){e.exports={videoDev:"videoDev_eb35c5",overlay:"overlay_eb35c5",overlayBackground:"overlayBackground_eb35c5",overlayActive:"overlayActive_eb35c5",overlayLocked:"overlayLocked_eb35c5",closeContainer:"closeContainer_eb35c5",invalidContainer:"invalidContainer_eb35c5",inactiveContainer:"inactiveContainer_eb35c5",layoutLocked:"layoutLocked_eb35c5",layoutUnlocked:"layoutUnlocked_eb35c5 layoutLocked_eb35c5"}},992813:function(e,t,n){e.exports={panelGroup:"panelGroup__2f37f",rightAligned:"rightAligned__2f37f",measurement:"measurement__2f37f",measurementText:"measurementText__2f37f",measurementCheckbox:"measurementCheckbox__2f37f",bottomPanelButton:"bottomPanelButton__2f37f",secondaryInfoText:"secondaryInfoText__2f37f"}},725775:function(e,t,n){e.exports={button:"button__46219",separatorDot:"separatorDot__46219",guildIconContainer:"guildIconContainer__46219",guildName:"guildName__46219",guildIcon:"guildIcon__46219",voiceChannelNameContainer:"voiceChannelNameContainer__46219",channelIcon:"channelIcon__46219",channelName:"channelName__46219"}},201636:function(e,t,n){e.exports={panelContainer:"panelContainer_a83780",locked:"locked_a83780",buttonSection:"buttonSection_a83780",panelRow:"panelRow_a83780",inCall:"inCall_a83780"}},714902:function(e,t,n){e.exports={container:"container_c39fe3"}},827202:function(e,t,n){e.exports={videoList:"videoList__95c18",vertical:"vertical__95c18",tile:"tile__95c18",hidden:"hidden__95c18"}},882110:function(e,t,n){e.exports={voiceUser:"voiceUser_adebba",flipped:"flipped_adebba",avatar:"avatar_adebba",username:"username_adebba",effect:"effect_adebba",clanTag:"clanTag_adebba",voiceIcons:"voiceIcons_adebba",voiceIcon:"voiceIcon_adebba",interactive:"interactive_adebba",speaking:"speaking_adebba"}},152397:function(e,t,n){e.exports={extrasContainer:"extrasContainer__19b74",debug:"debug__19b74",debugUnpinned:"debugUnpinned__19b74",debugPinned:"debugPinned__19b74"}},122087:function(e,t,n){e.exports={bgShade:"bgShade__6d791",titleWrapper:"titleWrapper__6d791 bgShade__6d791",button:"button__6d791 bgShade__6d791",active:"active__6d791"}},640784:function(e,t,n){e.exports={textArea:"textArea_ab8e5c"}},109020:function(e,t,n){e.exports={container:"container_fb1c43"}},802334:function(e,t,n){e.exports={container:"container__32c39"}},81959:function(e,t,n){e.exports={wrapper:"wrapper_d5ee5c",content:"content_d5ee5c",gameTile:"gameTile_d5ee5c",copy:"copy_d5ee5c",subheading:"subheading_d5ee5c"}},693215:function(e,t,n){e.exports={channelNameContainer:"channelNameContainer_c99562",label:"label_c99562",channelName:"channelName_c99562",channelMenuSubContainer:"channelMenuSubContainer_c99562",icon:"icon_c99562",overflowCount:"overflowCount_c99562"}}}]);
//# sourceMappingURL=ea3ef21231e7cc04.js.map