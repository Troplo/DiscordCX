"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["19582"],{567409:function(t,e,i){i.d(e,{Ns:()=>S}),i(47120);var n=i(192379),l=i(392711),s=i.n(l),o=i(876215),r=i(442837),a=i(146282),d=i(26033),u=i(897674),c=i(709054),h=i(206583);let E=new Set([o.s.PLAYED_GAME,o.s.LAUNCHED_ACTIVITY]),p=t=>E.has(t.content_type);function S(t){let{entries:e}=function(){let t=(0,u.Z)(h.YN.GAME_PROFILE_FEED),e=(0,u.Z)(h.YN.GLOBAL_FEED),i=n.useMemo(()=>s()(e).unionBy(t,t=>t.id).filter(p).orderBy(t=>c.default.extractTimestamp(t.id),"desc").uniqWith((t,e)=>t.author_id===e.author_id&&t.extra.application_id===e.extra.application_id).value(),[t,e]);return{requestId:(0,r.e7)([a.Z],()=>a.Z.getFeedRequestId(h.YN.GAME_PROFILE_FEED)),entries:i}}();return n.useMemo(()=>null==e?void 0:e.filter(e=>((0,d.dX)(e)||(0,d.Mq)(e))&&e.extra.application_id===t),[e,t])}},552282:function(t,e,i){i.d(e,{Z:()=>n});function n(t){var e;return null!=t?{id:t.id,name:null!==(e=t.name)&&void 0!==e?e:""}:null}},614554:function(t,e,i){i.d(e,{Z:()=>s});var n=i(314897),l=i(981631);function s(t){if(l.TPd.CALLABLE.has(t.type)){var e;return(null===(e=t.recipients)||void 0===e?void 0:e.length)===1?t.recipients[0]:null}return n.default.getId()}},681603:function(t,e,i){i.d(e,{Z:()=>Z});var n=i(192379),l=i(149765),s=i(442837),o=i(367907),r=i(731429),a=i(188471),d=i(318885),u=i(592125),c=i(984933),h=i(271383),E=i(430824),p=i(496675),S=i(944486),f=i(914010),g=i(594174),_=i(237997),m=i(145597),v=i(981631);class I extends n.Component{componentDidUpdate(t){if(this.props.locked)return null;let{selectedGuild:e,selectedChannel:i,isMemberPending:n,hasPreviewEnabled:l,postableChannelCount:s}=this.props;if(null!=e&&(e!==t.selectedGuild||n&&!t.isMemberPending)&&((0,d.Q)(v.rMx.GUILD_VIEWED,{...n?{is_pending:n,preview_enabled:l}:{},postable_channels:s}),(0,a.a)(v.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:e})),null!=i&&i!==t.selectedChannel){let t=(0,r.K)(u.Z.getChannel(i),!0);(0,d.Q)(v.rMx.CHANNEL_OPENED,{...t,...(0,o.$H)(i)}),(0,a.a)(v.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:i})}}render(){return null}}let Z=s.ZP.connectStores([f.Z,S.Z,E.Z,g.default,_.Z,c.ZP,p.Z,h.ZP],()=>{var t,e,i;let n=f.Z.getGuildId(),s=S.Z.getChannelId(n),o=E.Z.getGuild(n),r=g.default.getCurrentUser(),a=null!==(e=c.ZP.getChannels(null==o?void 0:o.id)[c.sH])&&void 0!==e?e:[],d=a.length>0?a.filter(t=>{let{channel:e}=t;return p.Z.can(l.$e(v.Plq.SEND_MESSAGES,v.Plq.VIEW_CHANNEL),e)}).length:0,u=null!=r&&null!=n&&null!==(i=null===(t=h.ZP.getMember(n,r.id))||void 0===t?void 0:t.isPending)&&void 0!==i&&i;return{selectedGuild:n,selectedChannel:s,locked:_.Z.isLocked((0,m.QF)()),hasPreviewEnabled:null==o?void 0:o.features.has(v.oNc.PREVIEW_ENABLED),isMemberPending:u,postableChannelCount:d}})(I)},906037:function(t,e,i){i.d(e,{CR:()=>o,eM:()=>s,m3:()=>r});var n=i(570140),l=i(449224);function s(t){return!t.isPreviewingInGame&&!t.locked||t.pinned}function o(t,e,i){(t.locked!==e.locked||t.pinned!==e.pinned||i(t)!==i(e)||s(t)!==s(e))&&r(e,i(e))}function r(t,e){var i,o;let r=s(t),a=l.Z.getGame();n.Z.dispatch({type:"OVERLAY_WIDGET_CHANGED",gameName:null!==(i=null==a?void 0:a.name)&&void 0!==i?i:null,gameId:null!==(o=null==a?void 0:a.id)&&void 0!==o?o:null,widgetType:t.widget,visible:r&&e,locked:t.locked,pinned:t.pinned})}},603618:function(t,e,i){i.d(e,{Z:()=>U,i:()=>P}),i(47120),i(789020);var n=i(200651),l=i(192379),s=i(512722),o=i.n(s),r=i(442837),a=i(481060),d=i(278323),u=i(24124),c=i(493683),h=i(13245),E=i(99690),p=i(620662),S=i(835473),f=i(194082),g=i(297781),_=i(656709),m=i(567409),v=i(703656),I=i(409057),Z=i(199902),O=i(592125),C=i(293273),N=i(158776),y=i(594174),T=i(630388),R=i(5192),x=i(358085),A=i(998502),D=i(388627),L=i(981631),M=i(388032),w=i(13663);function z(t){let{entry:e,currentUserActivity:i,idx:s}=t,u=(0,r.e7)([y.default],()=>y.default.getUser(e.author_id)),[E,S]=l.useState("unsent"),[f,g]=l.useState(!1);l.useEffect(()=>{if("sent"===E){let t=setTimeout(()=>g(!0),2e3);return()=>clearTimeout(t)}},[E]);let m=null!=i&&(0,p.Z)(i,L.xjy.JOIN),I=async t=>{if(null!=u&&"unsent"===E){t.stopPropagation();try{if(S("sending"),m)await d.Z.sendActivityInviteUser({type:L.mFx.JOIN,userId:u.id,activity:i,location:L.Sbl.UNLOCKED_OVERLAY});else{var n;let t=await c.Z.getOrEnsurePrivateChannel(u.id),i=null!==(n=O.Z.getChannel(t))&&void 0!==n?n:null;o()(null!=i,"Send channel must be defined"),(0,v.uL)(L.Z5c.CHANNEL(i.guild_id,i.id)),await (0,_.p)({channel:i,content:M.intl.string(M.t.DwAcMz),entry:e,whenReady:!0})}h.Z.track(L.rMx.OVERLAY_GAME_INVITE_SENT,{target_user_id:u.id,target_content_entry_id:e.id,target_index:s}),S("sent")}catch(t){S("unsent")}}},Z=async()=>{var t;if(null==u)return;let e=await c.Z.getOrEnsurePrivateChannel(u.id),i=null!==(t=O.Z.getChannel(e))&&void 0!==t?t:null;o()(null!=i,"Send channel must be defined"),(0,v.uL)(L.Z5c.CHANNEL(i.guild_id,i.id)),x.isPlatformEmbedded&&A.ZP.focus()},C=m?M.intl.string(M.t["3fRyS0"]):M.intl.string(M.t.y9eo7e),N=m?(0,n.jsx)(a.ejJ,{color:"currentColor",size:"sm"}):(0,n.jsx)(a.Uuj,{color:"currentColor",size:"sm"});return(0,n.jsx)(a.ua7,{text:C,"aria-label":C,children:t=>(0,n.jsx)(a.zxk,{...t,submitting:"sending"===E,onClick:f?Z:I,className:w.inviteButton,wrapperClassName:w.inviteButtonWrapper,innerClassName:w.inviteButtonInner,color:a.Ttl.TRANSPARENT,look:a.iLD.FILLED,size:a.PhG.ICON,grow:!1,children:"sent"===E?f?(0,n.jsx)(a.kBi,{color:"currentColor",size:"sm"}):(0,n.jsx)(a.kSu,{color:"currentColor",size:"sm"}):N})})}function k(t){var e;let{entry:i,currentUserActivity:s}=t,o=(0,r.e7)([y.default],()=>y.default.getUser(i.author_id)),u=null!==(e=null==s?void 0:s.application_id)&&void 0!==e?e:i.extra.application_id,c=(0,r.e7)([N.Z],()=>null!=o?N.Z.getApplicationActivity(o.id,u):null,[u,o]),[h,E]=l.useState("unsent");if(!(null!=c&&(0,p.Z)(c,L.xjy.JOIN)))return null;let S=async t=>{if(null!=o&&"unsent"===h){t.stopPropagation();try{E("sending"),await d.Z.sendActivityInviteUser({type:L.mFx.JOIN_REQUEST,userId:o.id,activity:c,location:L.Sbl.UNLOCKED_OVERLAY}),E("sent")}catch(t){E("unsent")}}},f=M.intl.string(M.t.OKsSCQ);return(0,n.jsx)(a.ua7,{text:f,"aria-label":f,children:t=>(0,n.jsx)(a.zxk,{...t,submitting:"sending"===h,onClick:S,className:w.inviteButton,wrapperClassName:w.inviteButtonWrapper,innerClassName:w.inviteButtonInner,color:a.Ttl.TRANSPARENT,look:a.iLD.FILLED,size:a.PhG.ICON,grow:!1,children:"sent"===h?(0,n.jsx)(a.kSu,{color:"currentColor",size:"sm"}):(0,n.jsx)(a.V9,{color:"currentColor",size:"sm"})})})}function b(t){let{entry:e,currentUserActivity:i,idx:l}=t,s=(0,r.e7)([y.default],()=>y.default.getUser(e.author_id)),o=(0,r.e7)([Z.Z],()=>null!=s?Z.Z.getAnyStreamForUser(s.id):null,[s]),{isMobileOnline:d,status:u}=(0,r.cj)([N.Z],()=>null==s?{isMobileOnline:void 0,status:void 0}:{isMobileOnline:N.Z.isMobileOnline(s.id),status:N.Z.getStatus(s.id)},[s]);return null==s?null:(0,n.jsxs)("div",{className:w.row,children:[(0,n.jsx)(E.Z,{className:w.avatar,user:s,isMobile:d,status:u}),(0,n.jsxs)("div",{className:w.details,children:[(0,n.jsxs)("div",{className:w.usernameWrapper,children:[(0,n.jsx)(a.Text,{className:w.username,variant:"text-md/medium",color:"header-primary",children:R.ZP.getName(void 0,void 0,s)}),null!=o&&(0,n.jsx)(f.ZP,{className:w.liveIndicator})]}),(0,n.jsx)(g.Gk,{location:g.Gt.OVERLAY,className:w.badgesContainer,children:[g.OV,g.wO,g.f,g.v1,g.pQ].map((t,i)=>(0,n.jsx)(t,{entry:e},"entry-".concat(i)))})]}),(0,n.jsx)(k,{entry:e,currentUserActivity:i,idx:l}),(0,n.jsx)(z,{entry:e,currentUserActivity:i,idx:l})]})}function P(t){let{entries:e,currentUserActivity:i}=t,l=e.slice(0,5);return(0,n.jsx)(n.Fragment,{children:l.map((t,e)=>(0,n.jsx)(b,{idx:e,entry:t,currentUserActivity:i},e))})}function U(){let t=(0,D.II)(),e=null==t?void 0:t.id,i=null==t?void 0:t.altId,l=(0,m.Ns)(e),s=(0,r.e7)([y.default],()=>y.default.getCurrentUser()),o=(0,r.e7)([C.Z],()=>null!=i?C.Z.getApplicationActivity(i):null!=e?C.Z.getApplicationActivity(e):null),d=null!=o&&(0,p.Z)(o,L.xjy.JOIN),c=(0,S.q)(null==o?void 0:o.application_id),h=null!=c&&(0,T.yE)(c.flags,L.udG.EMBEDDED);return 0===l.length&&null==o?null:(0,n.jsxs)("div",{className:w.container,children:[null!=o&&null!=s?(0,n.jsx)(I.Z,{className:w.activityCard,activity:o,user:s,currentUser:s}):null,d&&!h?(0,n.jsx)(a.zxk,{className:w.inviteFriendsButton,onClick:()=>(0,u.h7)(o,!1,L.IlC.POPOUT),size:a.PhG.SMALL,color:a.Ttl.PRIMARY,children:M.intl.string(M.t["6Qgren"])}):null,(0,n.jsx)(P,{entries:l,currentUserActivity:o})]})}},353038:function(t,e,i){i.d(e,{B:()=>g,Z:()=>N}),i(47120),i(411104);var n,l,s=i(200651),o=i(192379),r=i(120356),a=i.n(r),d=i(642128),u=i(902704),c=i(585483),h=i(434529),E=i(981631),p=i(706446);function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let f=(t,e,i,n)=>Math.pow(t-i,2)+Math.pow(e-n,2);var g=((l={}).MOVE="MOVE",l.RESIZE_NORTH="RESIZE_NORTH",l.RESIZE_WEST="RESIZE_WEST",l.RESIZE_EAST="RESIZE_EAST",l.RESIZE_SOUTH="RESIZE_SOUTH",l.RESIZE_NORTH_WEST="RESIZE_NORTH_WEST",l.RESIZE_NORTH_EAST="RESIZE_NORTH_EAST",l.RESIZE_SOUTH_WEST="RESIZE_SOUTH_WEST",l.RESIZE_SOUTH_EAST="RESIZE_SOUTH_EAST",l);let _=new Set(["RESIZE_NORTH","RESIZE_WEST","RESIZE_EAST","RESIZE_SOUTH","RESIZE_NORTH_WEST","RESIZE_NORTH_EAST","RESIZE_SOUTH_WEST","RESIZE_SOUTH_EAST"]);function m(t,e,i){let{width:n,height:l}=t;return{width:"auto"===n?"auto":Math.max(e,n),height:"auto"===l?"auto":Math.max(i,l)}}function v(t){let{top:e,left:i,bottom:n,right:l}=t;return null==i&&null==l&&(i=0),null!=i&&null!=l&&(l=void 0),null==e&&null==n&&(e=0),null!=e&&null!=n&&(n=void 0),{top:e,left:i,bottom:n,right:l}}function I(t){return"auto"===t||null==t?"auto":"".concat(t,"px")}function Z(t,e){let i=0,n=0;return{width:i="auto"===e.width?null!=t?t.clientWidth:0:e.width,height:"auto"===e.height?null!=t?t.clientHeight:0:e.height}}function O(t,e){let{top:i,left:n,bottom:l,right:s}=e;switch(t){case"RESIZE_EAST":case"RESIZE_NORTH_EAST":case"RESIZE_NORTH":return{bottom:l,left:n,right:void 0,top:void 0};case"RESIZE_WEST":case"RESIZE_NORTH_WEST":return{bottom:l,right:s,left:void 0,top:void 0};case"RESIZE_SOUTH_EAST":return{top:i,left:n,bottom:void 0,right:void 0};case"RESIZE_SOUTH":case"RESIZE_SOUTH_WEST":return{top:i,right:s,bottom:void 0,left:void 0};default:throw Error("getOrientedCoords: Invalid orientation: ".concat(t))}}function C(t){let{computedSize:e}=t;return e}class N extends(n=o.Component){shouldComponentUpdate(t,e){return!(0,u.Z)(e,this.state)||!(0,u.Z)(t,this.props,["anchor","size","minSize","container"])||!(0,u.Z)(t.anchor,this.props.anchor)||!(0,u.Z)(t.size,this.props.size)||!(0,u.Z)(t.minSize,this.props.minSize)||!(0,u.Z)(t.container,this.props.container)}componentDidMount(){this.setDOMPositions(v(this.props.anchor)),this.setDOMSize(m(this.props.size,this.props.minSize.width,this.props.minSize.height)),c.S.subscribe(E.CkL.OVERLAY_V3_SHOW_WIDGETS,this.handleShowUI)}componentDidUpdate(t,e){null!=e.operation||((0,u.Z)(this.props.anchor,t.anchor)||this.setDOMPositions(v(this.props.anchor)),(0,u.Z)(this.props.size,t.size)||this.setDOMSize(m(this.props.size,this.props.minSize.width,this.props.minSize.height)))}componentWillUnmount(){this.handleOperationEnd(),c.S.unsubscribe(E.CkL.OVERLAY_V3_SHOW_WIDGETS,this.handleShowUI)}handleResizeMouseDown(t,e){let{clientX:i,clientY:n}=t;t.stopPropagation(),this.handleOperationStart(e,i,n)}handleDragMove(t,e){let{ref:{current:i},props:{id:n,container:{maxX:l,maxY:s,minX:o,minY:r},onDragStart:a,onDrag:d,snapOrientation:u=!0},dragState:{offsetX:c,offsetY:E},state:{operationStarted:p}}=this;if(null==i)return null;t=Math.max(Math.min(l,t),o),e=Math.max(Math.min(s,e),r);let{width:S,height:f}=Z(i,this.size),g=e-E,_=t-c,m=(0,h.ou)((0,h.PY)({top:g,left:_,bottom:void 0,right:void 0},l,s,S,f)),v=u?(0,h.R)(m):O("RESIZE_SOUTH_EAST",m);this.setDOMPositions(v),this.setState({operationStarted:!0,anchorTopOverride:null!=v.top,anchorLeftOverride:null!=v.left},()=>{p||null==a||a(),null!=d&&d(n,"MOVE",this.anchor,this.size)})}handleResizeMove(t,e){let{props:{id:i,minSize:n,container:{maxX:l,maxY:s,minX:o,minY:r},onDragStart:a,onDrag:d,resizeValidation:c=C},state:{operation:E,operationStarted:p}}=this,{startX:S,startY:f}=this.dragState,g=0,_=0;if(null==E)return;switch(t=Math.max(Math.min(l,t),o),e=Math.max(Math.min(s,e),r),E){case"RESIZE_EAST":case"RESIZE_SOUTH_EAST":case"RESIZE_NORTH_EAST":g-=S-t;break;case"RESIZE_WEST":case"RESIZE_SOUTH_WEST":case"RESIZE_NORTH_WEST":g+=S-t}switch(E){case"RESIZE_SOUTH":case"RESIZE_SOUTH_WEST":case"RESIZE_SOUTH_EAST":_-=f-e;break;case"RESIZE_NORTH":case"RESIZE_NORTH_WEST":case"RESIZE_NORTH_EAST":_+=f-e}let m=c({padding:8,borderWidth:2,operation:E,computedSize:{width:Math.max(this.dragState.offsetWidth+g,n.width),height:Math.max(this.dragState.offsetHeight+_,n.height)},originSize:{width:this.dragState.offsetWidth,height:this.dragState.offsetHeight},containerSpecs:this.props.container,orientedPosition:this.dragState.dragOrientedCoords}),v=(0,h.BL)((0,h.ou)((0,h.PY)(this.dragState.dragOrientedCoords,l,s,m.width,m.height)),this.dragState.dragOrientedCoords);this.setDOMSize(m,!0),(0,u.Z)(v,this.dragState.dragOrientedCoords)||(this.dragState.dragOrientedCoords=v,this.setDOMPositions(this.dragState.dragOrientedCoords)),p||(null!=a&&a(),this.setState({operationStarted:!0})),null!=d&&d(i,E,this.anchor,this.size)}setDOMPositions(t){let{top:e,left:i,bottom:n,right:l}=t,{current:s}=this.ref;this.anchor={top:e,left:i,bottom:n,right:l},null!=s&&(s.style.top=I(e),s.style.bottom=I(n),s.style.left=I(i),s.style.right=I(l))}setDOMSize(t){let{width:e,height:i}=t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{current:l}=this.ref;e="auto"!==this.size.width||n?e:"auto",i="auto"!==this.size.height||n?i:"auto",this.size={width:e,height:i},null!=l&&(l.style.width=I(e),l.style.height=I(i))}renderResizeHandles(){let{resizeY:t,resizeX:e,active:i}=this.props;return(0,s.jsxs)(s.Fragment,{children:[t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:a()(p.resizeNorth,{[p.resizeNSCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_NORTH")}),(0,s.jsx)("div",{className:a()(p.resizeSouth,{[p.resizeNSCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_SOUTH")})]}):null,e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:a()(p.resizeEast,{[p.resizeEWCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_EAST")}),(0,s.jsx)("div",{className:a()(p.resizeWest,{[p.resizeEWCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_WEST")})]}):null,e&&t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:a()(p.resizeNorthWest,{[p.resizeNWSECursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_NORTH_WEST")}),(0,s.jsx)("div",{className:a()(p.resizeNorthEast,{[p.resizeNESWCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_NORTH_EAST")}),(0,s.jsx)("div",{className:a()(p.resizeSouthWest,{[p.resizeNESWCursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_SOUTH_WEST")}),(0,s.jsx)("div",{className:a()(p.resizeSouthEast,{[p.resizeNWSECursor]:i}),onMouseDown:t=>this.handleResizeMouseDown(t,"RESIZE_SOUTH_EAST")})]}):null]})}renderExtras(){let{props:{renderExtras:t,anchor:e},setLockExtras:i}=this,n=null==t?void 0:t(i);return null!=n?(0,s.jsx)("div",{className:a()({[p.extras]:!0,[p.extrasBottomOriented]:null!=e.bottom,[p.extrasRightOriented]:null!=e.right}),children:n}):null}getInlineStyles(){let{props:{hidden:t,style:e,minSize:i,padding:n=8,borderWidth:l=2,borderRadius:s=12},state:{operation:o}}=this;return{...e,minWidth:i.width,minHeight:i.height,borderWidth:l,padding:n,borderRadius:s+l+n,zIndex:null!=o?1e3:void 0,visibility:t?"hidden":void 0}}renderChildren(){let{props:{children:t,hidden:e,padding:i=8,borderWidth:n=2,locked:l},size:s,anchor:o,setLockExtras:r,state:{anchorTopOverride:a,anchorLeftOverride:d}}=this;return t({dragStart:this.handleOperationStart,dragOperation:this.state.operation,anchorTop:null!=a?a:null!=o.top,anchorLeft:null!=d?d:null!=o.left,size:s,padding:i,borderWidth:n,setLockExtras:r,locked:l,hidden:e})}render(){let{props:{onClick:t,id:e,locked:i,className:n},state:{operationStarted:l,lockExtras:o}}=this;return(0,s.jsxs)(d.animated.div,{ref:this.ref,style:this.getInlineStyles(),className:a()({[p.wrapper]:!0,[p.operation]:l,[p.unlocked]:!i,[p.lockExtras]:o},n),onMouseDown:this.handleMouseDown,onClick:null!=t?()=>t(e):void 0,children:[this.renderChildren(),this.renderResizeHandles(),this.renderExtras()]})}constructor(t){super(t),S(this,"anchor",void 0),S(this,"size",void 0),S(this,"ref",o.createRef()),S(this,"dragState",{startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0,dragOrientedCoords:{top:0,left:0}}),S(this,"state",{lockExtras:!0,operation:null,operationStarted:!1,anchorTopOverride:void 0,anchorLeftOverride:void 0}),S(this,"handleShowUI",t=>{let{show:e}=t;this.setLockExtras(e)}),S(this,"handleMouseDown",t=>{t.stopPropagation();let{dragAnywhere:e}=this.props,{current:i}=this.ref;null!=i&&t.button===E.AeJ.PRIMARY&&e&&this.handleOperationStart("MOVE",t.clientX,t.clientY)}),S(this,"handleMouseMove",t=>{t.preventDefault(),t.stopPropagation();let{clientX:e,clientY:i}=t,{dragState:{startX:n,startY:l},state:{operation:s,operationStarted:o}}=this;!(null==s||!o&&3>f(n,l,e,i))&&("MOVE"===s?this.handleDragMove(e,i):_.has(s)&&this.handleResizeMove(e,i))}),S(this,"handleOperationStart",(t,e,i)=>{let{ref:{current:n},props:{targetWindow:l,active:s,container:{maxX:o,maxY:r}}}=this;if(null==n||!s)return;let{width:a,height:d}=Z(n,this.size),u=(0,h.PY)(this.anchor,o,r,a,d);if("MOVE"===t){let{x:t,y:n}=function(t){let{top:e,left:i}=t;return{x:i,y:e}}(u);this.dragState={...this.dragState,startX:e,startY:i,offsetX:e-t,offsetY:i-n}}else{let n=O(t,u);this.setDOMPositions(n),this.dragState={...this.dragState,startX:e,startY:i,offsetWidth:a,offsetHeight:d,dragOrientedCoords:n}}this.setState({operation:t,operationStarted:!1},()=>{l.addEventListener("mousemove",this.handleMouseMove),l.addEventListener("mouseup",this.handleOperationEnd)})}),S(this,"handleOperationEnd",()=>{let{operation:t,operationStarted:e}=this.state,{targetWindow:i,onDragEnd:n}=this.props;i.removeEventListener("mousemove",this.handleMouseMove),i.removeEventListener("mouseup",this.handleOperationEnd);let l=e?()=>{let{onUpdate:e,id:i}=this.props;e(t,i,this.anchor,this.size,Z(this.ref.current,this.size))}:void 0;if(e){let{maxX:t,maxY:e}=this.props.container,{width:i,height:l}=Z(this.ref.current,this.size),s=(0,h.PY)(this.anchor,t,e,i,l),o=(0,h.R)(s);this.setDOMPositions(o),this.setDOMSize({width:i,height:l}),null!=n&&n()}this.setState({operation:null,operationStarted:!1},l)}),S(this,"setLockExtras",t=>{this.setState({lockExtras:t})}),this.anchor=v(t.anchor),this.size=m(t.size,t.minSize.width,t.minSize.height)}}S(N,"Operations",g)},915614:function(t,e,i){i.d(e,{Z:()=>d});var n=i(200651);i(192379);var l=i(120356),s=i.n(l),o=i(481060),r=i(809357),a=i(163752);function d(t){let{onClick:e,keybind:i,className:l,IconComponent:d}=t,u=(0,r.o)();return(0,n.jsxs)("div",{className:s()(a.buttonContainer,l),children:[(0,n.jsx)(o.P3F,{className:a.button,onClick:e,"aria-hidden":!0,children:(0,n.jsx)(d,{size:"md",color:"currentColor","aria-hidden":!0})}),null!=i&&u?(0,n.jsx)(o.Text,{className:s()(a.keybind),"aria-hidden":!0,variant:"text-xxs/bold",color:"interactive-normal",children:i}):null]})}},319414:function(t,e,i){i.d(e,{Z:()=>E}),i(47120);var n=i(200651);i(192379);var l=i(442837),s=i(352527),o=i(183584),r=i(487029),a=i(592125),d=i(944486),u=i(554174),c=i(710111),h=i(714902);function E(){let[t,e]=(0,l.Wu)([s.Z],()=>[s.Z.enabled,s.Z.keepOpen]),i=(0,l.e7)([d.Z],()=>d.Z.getVoiceChannelId()),E=(0,l.e7)([a.Z],()=>a.Z.getChannel(i),[i]),p=null==E?void 0:E.getGuildId();return t&&null!=E?(0,n.jsx)("div",{className:h.container,children:(0,n.jsx)(r.Z,{width:c.FW.width,height:c.FW.height,guildId:p,channel:E,keepOpen:e,onClose:function(){let t=(0,u.Z)();null!=t&&(0,o.oZ)(t)},analyticsSource:"overlay"})}):null}},892127:function(t,e,i){i.d(e,{Z:()=>Z});var n=i(200651),l=i(192379),s=i(120356),o=i.n(s),r=i(442837),a=i(765250),d=i(13245),u=i(355863),c=i(237997),h=i(451478),E=i(434529),p=i(145597),S=i(830917),f=i(353038),g=i(306381),_=i(610394),m=i(561064),v=i(981631),I=i(152397);let Z=l.memo(function(t){let{widget:e,renderWidget:i,renderTitle:s,renderButtons:Z,resizeValidation:O,className:C,dragContainerClassName:N}=t,y=u.Z.getWidgetConfig(e.type),T=(0,r.e7)([c.Z],()=>c.Z.isLocked((0,p.QF)())),R=(0,m.Z)(),x=(0,r.e7)([h.Z],()=>h.Z.windowSize((0,S.ZY)(R))),A=l.useCallback((t,e,i,n,l)=>{let s=h.Z.windowSize((0,S.ZY)((0,m.i)())),o=(0,E.jL)(i,s),r=(0,E.Ox)(n,s);(0,a.Os)(e),(0,a.nv)({widgetId:e,anchor:o,size:r});let c=t===f.B.MOVE,p=(0,E.PY)(i,s.width,s.height,l.width,l.height);d.Z.track(v.rMx.OVERLAY_LAYOUT_UPDATED,{was_resized:!c,was_dragged:c,widget_type:u.Z.getWidgetType(e),window_width:s.width,window_height:s.height,widget_width:l.width,widget_height:l.height,widget_left:p.left,widget_top:p.top})},[]),D=l.useCallback(t=>{(0,a.Os)(t)},[]),{id:L,pinned:M,zIndex:w,size:z,anchor:k}=e,b=(0,E.w_)(z,x),P=(0,E.KR)(k,x),{minSize:U,resizeX:j,resizeY:V,dragAnywhere:H}=y,W=M||!T,F=l.useMemo(()=>({minX:0,minY:0,maxX:x.width,maxY:x.height}),[x]),Y=l.useCallback(t=>i({...t,widget:e,dragging:null!=t.dragOperation,className:C}),[e,i,C]),G=l.useCallback(t=>null!=s||null!=Z?(0,n.jsxs)("div",{className:I.extrasContainer,children:[null==s?void 0:s(e),null==Z?void 0:Z(e,t)]}):null,[e,s,Z]),B=(0,r.e7)([_.ZP],()=>_.ZP.hasRenderDebugMode(g.G.WidgetAreas)),Q=l.useMemo(()=>{if(null!=O)return t=>O({...t,widget:e})},[O,e]);return(0,n.jsx)(f.Z,{className:o()({[I.debug]:B,[I.debugUnpinned]:B&&!M,[I.debugPinned]:B&&M},N),id:L,size:b,anchor:P,container:F,minSize:U,hidden:!W,locked:T,resizeX:j,resizeY:V,style:{zIndex:w},dragAnywhere:H,active:!T,onUpdate:A,onClick:D,targetWindow:R,renderExtras:G,resizeValidation:Q,children:Y})})},516542:function(t,e,i){i.d(e,{Z:()=>f}),i(47120);var n=i(200651),l=i(192379),s=i(904245),o=i(13245),r=i(655687),a=i(541716),d=i(752305),u=i(893718),c=i(957730),h=i(849522),E=i(145597),p=i(981631),S=i(640784);function f(t){let{id:e,channel:i,onSend:f}=t,g=(0,h.Z)(),{placeholder:_,accessibilityLabel:m}=(0,r.Z)({channel:i}),[v,I]=l.useState(()=>(0,d.H2)()),{textValue:Z,richValue:O}=v,[C,N]=l.useState(!1),y=l.useCallback(()=>N(!0),[]),T=l.useCallback(()=>N(!1),[]),R=l.useCallback((t,e,i)=>{I({textValue:e,richValue:i})},[]),x=l.useCallback(t=>{"Escape"===t.key&&o.Z.updateNotificationStatus(e,p._1z.ACTIVE)},[e]),A=l.useCallback(()=>(Z.length>g||(s.Z.sendMessage(i.id,c.ZP.parse(i,Z),!1),o.Z.setInputLocked(!0,(0,E.QF)()),o.Z.updateNotificationStatus(e,p._1z.DISMISSED),null==f||f(Z)),Promise.resolve({shouldClear:!1,shouldRefocus:!0})),[Z,g,i,e,f]);return(0,n.jsx)(u.Z,{innerClassName:S.textArea,onChange:R,placeholder:_,accessibilityLabel:m,channel:i,textValue:Z,richValue:O,type:a.Ie.OVERLAY_INLINE_REPLY,onBlur:T,onFocus:y,focused:C,onSubmit:A,onKeyDown:x,autoCompletePosition:"bottom",disableThemedBackground:!0})}},371467:function(t,e,i){i.d(e,{Z:()=>tl}),i(47120),i(733860),i(653041);var n,l,s,o=i(512722),r=i.n(o),a=i(772848),d=i(442837),u=i(570140),c=i(13245),h=i(435064),E=i(786761),p=i(695346),S=i(163612),f=i(314897),g=i(592125),_=i(375954),m=i(292959),v=i(158776),I=i(885110),Z=i(246946),O=i(594174),C=i(974180),N=i(237997),y=i(70956),T=i(150097),R=i(129724),x=i(145597),A=i(371651),D=i(610394),L=i(388627),M=i(996050),w=i(609626),z=i(421824),k=i(777036),b=i(333727),P=i(585708),U=i(588909),j=i(981631),V=i(388032);let H=5*y.Z.Millis.SECOND,W=8*y.Z.Millis.SECOND,F=30*y.Z.Millis.SECOND,Y=30*y.Z.Millis.SECOND,G=Object.freeze({timestamp:0,priority:0,duration:H,expirationExternallyManaged:!1,type:0}),B=[],Q=!1,K=[];function J(){if(Q&&null==B.find(t=>t.status===j._1z.FOCUSED))for(let t of(Q=!1,B=[...B,...K],K=[],B.length>40&&(B.length=40),B))t.timer.start()}function X(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;B.filter(t=>1===t.type&&t.status===j._1z.TIMED_OUT).sort((t,e)=>e.timestamp-t.timestamp).forEach((e,i)=>{(i>=t||e.timestamp<Date.now()-F)&&q(e.id,j._1z.DISMISSED)})}function q(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j._1z.DISMISSED;if(null==t)return!1;let i=B.findIndex(e=>e.id===t);if(-1===i)return!1;let n=B[i];if(n.timer.stop(),B=[...B],e===j._1z.FOCUSED){let[t]=B.splice(i,1);t={...t,status:e},B.unshift(t),Q=!0;return}e===j._1z.DISMISSED?B.splice(i,1):B[i]={...n,status:e},J()}function $(t){let e=B.length,i=(B=B.filter(e=>1!==e.type||e.channelId!==t)).length!==e;return i&&J(),i}function tt(t){let e=B.find(e=>2===e.type&&e.channelId===t);return null!=e?e.id:null}function te(t,e){let i={...G,timestamp:Date.now(),...e},n=(0,a.Z)(),l=!1,s={id:n,status:j._1z.ACTIVE,timer:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=-1;return{start(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,s=l?j._1z.TIMED_OUT:j._1z.DISMISSED;-1===n&&(n=setTimeout(()=>c.Z.updateNotificationStatus(t,s),null!=i?i:H))},stop(){clearTimeout(n),n=-1}}}(n,i.expirationExternallyManaged,i.duration),props:{...t,onNotificationShow:()=>{var e;l||(l=!0,null===(e=t.onNotificationShow)||void 0===e||e.call(t,n))}},...i},o=Q?K:[...B],r=o.findIndex(t=>t.priority<=i.priority);if(-1===r?o.push(s):o.splice(r,0,s),o.length>40){let t=o.pop();Q||t.timer.stop()}return Q||(B=o,s.timer.start()),n}function ti(t){let{channelId:e,ringing:i}=t,n=tt(e);if(!i.includes(f.default.getId()))return q(n);if(null!=n)return!1;let l=g.Z.getChannel(e);if(null==l||!l.isRingable()||"GUILD_RING_START"===t.type&&!S.Z.getCurrentConfig({guildId:t.guildId,location:"OverlayV3StartRinging"}).enabled||I.Z.getStatus()===j.Skl.DND||p.QZ.getSetting())return!1;let s=B.find(t=>1===t.type&&t.channelId===e&&t.messageType===j.uaV.CALL);null!=s&&q(s.id),te((0,k.Z)(l),{priority:1,expirationExternallyManaged:!0,type:2,channelId:l.id})}class tn extends(n=d.ZP.Store){initialize(){this.waitFor(g.Z,O.default)}getNotifications(){return B}}s="OverlayNotificationsStore",(l="displayName")in tn?Object.defineProperty(tn,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):tn[l]=s;let tl=new tn(u.Z,{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(t){let{notificationId:e,status:i}=t;q(e,i)},OVERLAY_MOUNTED:function(t){var e;let{nudges:i}=t;X(0);let n=null!==(e=D.ZP.getFocusedPID())&&void 0!==e?e:x.R2;if(A.Z.hasChangedRenderMode(n))return;let l=(0,U.Z)((0,L.pL)(),i);null!=l&&te(l,{priority:2,type:3,duration:W})},OVERLAY_SET_INPUT_LOCKED:function(t){let{locked:e}=t;if(e){for(let t of B)t.status===j._1z.FOCUSED&&q(t.id,j._1z.ACTIVE);return!0}for(let t of(X(),B))3===t.type?q(t.id,j._1z.DISMISSED):t.status!==j._1z.ACTIVE||t.expirationExternallyManaged||(t.timer.stop(),t.timer.start(t.expirationExternallyManaged));if(B.length>0){var i;return q(null===(i=B.filter(t=>1===t.type).sort((t,e)=>e.timestamp-t.timestamp)[0])||void 0===i?void 0:i.id,j._1z.FOCUSED)}},MESSAGE_CREATE:function(t){var e,i,n,l;let{channelId:s,message:o}=t,a=g.Z.getChannel(s),d=O.default.getUser(null===(e=o.author)||void 0===e?void 0:e.id);if(null==a||null==d)return!1;if((null===(i=o.activity)||void 0===i?void 0:i.type)===j.mFx.JOIN||(null===(n=o.activity)||void 0===n?void 0:n.type)===j.mFx.JOIN_REQUEST){if(!(0,T.eF)(o,s,!0,!0))return!1;let t=function(t,e,i){var n;let l,s;if(r()(null!=e.activity,"received null message activity"),i.id===f.default.getId())return!1;let o=(0,L.pL)(),a=null!==(n=null==o?void 0:o.altId)&&void 0!==n?n:null==o?void 0:o.id;if(null==o||null==a)return!1;switch(e.activity.type){case j.mFx.JOIN:if(null==(l=v.Z.getApplicationActivity(i.id,a))||null==l.party||l.party.id!==e.activity.party_id)return!1;s=(0,M.Z)(t,e,i,o,l);break;case j.mFx.JOIN_REQUEST:if(null==(l=I.Z.getApplicationActivity(a))||null==l.party||l.party.id!==e.activity.party_id)return!1;s=(0,b.Z)(t,i,o,l)}return null!=s&&(te(s,{priority:2,expirationExternallyManaged:!0,channelId:t.id,duration:Y}),!0)}(a,o,d);if(!1!==t)return t}if(N.Z.getTextChatNotificationMode()===j.Ypu.DISABLED||Z.Z.disableNotifications||!(0,T.eF)(o,s))return!1;let u=!m.Z.isSoundDisabled(C.Ay),c=null!==(l=_.Z.getMessage(s,o.id))&&void 0!==l?l:(0,E.e5)(o);te((0,P.Z)(a,c,d,u),{type:1,channelId:a.id,expirationExternallyManaged:!0,messageType:o.type}),X()},CHANNEL_SELECT:function(t){let{channelId:e}=t;return null!=e&&$(e)},MESSAGE_ACK:function(t){let{channelId:e}=t;return $(e)},CALL_CREATE:ti,CALL_UPDATE:ti,CALL_DELETE:function(t){let{channelId:e}=t;q(tt(e))},GUILD_RING_START:ti,GUILD_RING_STOP:function(t){let{channelId:e,guildId:i,ringing:n}=t;if(!S.Z.getCurrentConfig({guildId:i,location:"OverlayV3StopRinging"}).enabled)return!1;n.includes(f.default.getId())&&q(tt(e))},ACTIVITY_USER_ACTION:function(t){let e,{actionType:i,user:n,applicationId:l}=t,s=(0,L.pL)();return null!=s&&(null==s?void 0:s.id)!=null&&(s.id===l||s.altId===l)&&(i===j.mFx.JOIN&&(e=(0,w.Z)(n,s)),null!=e&&void te(e,{priority:2,type:0}))},CLIPS_SAVE_CLIP_START:function(){te((0,z.f)(V.intl.string(V.t.NBMK9v)))},CLIPS_SAVE_CLIP:function(){te((0,z.f)(V.intl.format(V.t.KLhk6u,{duration:(0,R.A)(h.Z.getSettings().clipsLength/1e3,!0)})))},CLIPS_SAVE_CLIP_ERROR:function(){te((0,z.f)(V.intl.string(V.t["1ZbZur"])))},STREAM_START:function(t){let e=(0,z.y)();null!=e&&te(e)}})},620954:function(t,e,i){i.d(e,{P:()=>c,R:()=>u});var n=i(13245),l=i(556296),s=i(237997),o=i(13140),r=i(145597),a=i(987650),d=i(981631);function u(t,e){return{trackView(){n.Z.track(d.rMx.NOTIFICATION_VIEWED,e),n.Z.notificationEvent(t,a.bv.Viewed)},trackClick(i){let l=s.Z.isLocked((0,r.QF)())?d.Sbl.LOCKED_OVERLAY:d.Sbl.UNLOCKED_OVERLAY;n.Z.track(d.rMx.NOTIFICATION_CLICKED,{...e,location:l,action_type:i}),n.Z.notificationEvent(t,a.bv.Clicked)}}}function c(){let t=l.Z.getOverlayKeybind();return null!=t?(0,o.BB)(t.shortcut,!0).split(" + "):["???"]}},996050:function(t,e,i){i.d(e,{Z:()=>d});var n=i(224706),l=i(13245),s=i(150097),o=i(620954),r=i(987650),a=i(388032);function d(t,e,i,d,u){if(null==e.activity||null==d.id)return null;let c=e.activity.type,h=u.session_id;if(null==h)return null;let{icon:E,title:p,body:S}=(0,s.Xi)(t,e,i),{trackView:f,trackClick:g}=(0,o.R)(r.n0.ActivityInvite,{notif_type:r.n0.ActivityInvite,notif_user_id:i.id,message_id:e.id,message_type:e.type,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type,activity_type:c,activity_name:u.name});return{icon:E,title:p,body:S,onNotificationShow:()=>{f()},confirmText:a.intl.string(a.t.VJlc0d),onConfirmClick:(s,o)=>{var r;n.Z.join({userId:i.id,sessionId:h,applicationId:null!==(r=d.altId)&&void 0!==r?r:d.id,channelId:t.id,messageId:e.id}),l.Z.updateNotificationStatus(o),g("join")},onDismissClick:()=>{g("dismiss")}}}},609626:function(t,e,i){i.d(e,{Z:()=>a});var n=i(768581),l=i(620954),s=i(987650),o=i(981631),r=i(388032);function a(t,e){let i=t.username,a=r.intl.format(r.t["Yk+uYG"],{username:""}),d=(0,n.ov)(t),u=r.intl.string(r.t.WRj1Wl),{trackView:c,trackClick:h}=(0,l.R)(s.n0.ActivityUserJoin,{notif_type:s.n0.ActivityUserJoin,notif_user_id:t.id,activity_type:o.mFx.JOIN,activity_name:e.name});return{icon:d,title:i,body:a,hint:u,onNotificationShow:()=>{c()},onDismissClick:()=>{h("dismiss")}}}},421824:function(t,e,i){i.d(e,{f:()=>p,y:()=>E});var n=i(200651);i(192379);var l=i(481060),s=i(522474),o=i(556296),r=i(13140),a=i(44359),d=i(620954),u=i(987650),c=i(981631),h=i(388032);function E(){if(s.Z.getWindowOpen(c.KJ3.ACTIVITY_POPOUT))return null;let{trackView:t,trackClick:e}=(0,d.R)(u.n0.ClipsReminderNotification,{notif_type:u.n0.ClipsReminderNotification}),i=o.Z.getKeybindForAction(c.kg4.SAVE_CLIP);if(null==i)return null;let E=r.BB(i.shortcut,!0);return{title:h.intl.format(h.t.S5uhCA,{keybind:E,keybindHook:(t,e)=>(0,n.jsx)(a.Z,{keybind:E.split("+")},e)}),icon:(0,n.jsx)(l.AlX,{size:"lg",color:"currentColor"}),onNotificationShow:()=>{t()},onDismissClick:()=>{e("dismiss")}}}function p(t){let{trackView:e,trackClick:i}=(0,d.R)(u.n0.ClipsNotification,{notif_type:u.n0.ClipsNotification});return{title:t,icon:(0,n.jsx)(l.AlX,{size:"lg",color:"currentColor"}),onNotificationShow:()=>{e()},onDismissClick:()=>{i("dismiss")}}}},777036:function(t,e,i){i.d(e,{Z:()=>S});var n=i(26151),l=i(13245),s=i(287734),o=i(43267),r=i(933557),a=i(699516),d=i(594174),u=i(614554),c=i(620954),h=i(987650),E=i(981631),p=i(388032);function S(t){let e=(0,r.F6)(t,d.default,a.Z),i=p.intl.string(p.t.ssrVzM),S=(0,o.x)(t),f=(0,u.Z)(t),{trackView:g,trackClick:_}=(0,c.R)(h.n0.IncomingCall,{notif_type:h.n0.IncomingCall,notif_user_id:f,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type});return{icon:S,title:e,body:i,confirmText:p.intl.string(p.t["0D/6R0"]),cancelText:p.intl.string(p.t.BVN4pK),onNotificationShow:()=>{g()},onConfirmClick:(e,i)=>{if(_("join"),E.TPd.CALLABLE.has(t.type))n.Z.call(t.id,!1,!1);else{if(t.type!==E.d4z.GUILD_VOICE)return;s.default.selectVoiceChannel(t.id)}l.Z.updateNotificationStatus(i),l.Z.track(E.rMx.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:t.guild_id,channel_id:t.id,video_enabled:!1})},onCancelClick:()=>{_("decline"),n.Z.stopRinging(t.id)},onDismissClick:()=>{_("dismiss")}}}},333727:function(t,e,i){i.d(e,{Z:()=>h});var n=i(278323),l=i(13245),s=i(45114),o=i(237997),r=i(145597),a=i(620954),d=i(987650),u=i(981631),c=i(388032);function h(t,e,i,h){let E=e.username,p=c.intl.format(c.t.VDODnp,{username:"",game:i.name}),S=e.getAvatarURL(t.guild_id,80),{trackView:f,trackClick:g}=(0,a.R)(d.n0.ActivityInvite,{notif_type:d.n0.ActivityInvite,notif_user_id:e.id,activity_type:u.mFx.JOIN_REQUEST,activity_name:h.name});return{icon:S,title:E,body:p,confirmText:c.intl.string(c.t["fgP/wc"]),cancelText:c.intl.string(c.t.tpXzJy),onNotificationShow:()=>{f()},onConfirmClick:(e,i)=>{n.Z.sendActivityInvite({channelId:t.id,type:u.mFx.JOIN,activity:h,location:o.Z.isLocked((0,r.QF)())?u.Sbl.LOCKED_OVERLAY:u.Sbl.UNLOCKED_OVERLAY}),g("join"),l.Z.updateNotificationStatus(i)},onCancelClick:(e,i)=>{(0,s.In)(t.id,!0,!0),l.Z.updateNotificationStatus(i),g("decline")},onDismissClick:()=>{g("dismiss")}}}},585708:function(t,e,i){i.d(e,{Z:()=>v});var n=i(200651);i(192379);var l=i(13245),s=i(937889),o=i(703656),r=i(460181),a=i(974180),d=i(150097),u=i(358085),c=i(998502),h=i(145597),E=i(610394),p=i(516542),S=i(380736),f=i(620954),g=i(987650),_=i(981631),m=i(388032);function v(t,e,i,v){var I;let{icon:Z,title:O,body:C}=(0,d.Xi)(t,e,i),{trackView:N,trackClick:y}=(0,f.R)(g.n0.TextChat,{notif_type:g.n0.TextChat,notif_user_id:null===(I=e.author)||void 0===I?void 0:I.id,message_id:e.id,message_type:e.type,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type});return{icon:Z,title:O,body:e.content.length>0?(0,s.ZP)(e,{noStyleAndInteraction:!0,formatInline:!0,hideSimpleEmbedContent:!1}).content:C,hint:t=>t?null:(0,S.QR)((0,f.P)(),m.t.ykjOAA,m.intl.string(m.t.jZkzVF)),maxBodyLines:2,renderFooter:(e,i)=>e?(0,n.jsx)(p.Z,{id:i,channel:t,onSend:()=>y("send")}):null,onNotificationShow:()=>{v&&(0,r.GN)(a.Ay,a.yk),N()},onNotificationClick:()=>{let i=(0,h.QF)();E.ZP.isInputLocked(i)?(y("unlock"),l.Z.setInputLocked(!1,i)):(y("jump"),(0,o.uL)(_.Z5c.CHANNEL(t.guild_id,t.id,e.id)),u.isPlatformEmbedded&&c.ZP.focus())},onDismissClick:()=>{y("dismiss")}}}},588909:function(t,e,i){i.d(e,{Z:()=>O}),i(47120);var n=i(200651);i(192379);var l=i(952265),s=i(24124),o=i(13245),r=i(620662),a=i(835473),d=i(442550),u=i(293273),c=i(145597),h=i(603618),E=i(380736),p=i(620954),S=i(987650),f=i(981631),g=i(602091),_=i(701488),m=i(388032),v=i(176463),I=i(802334);function Z(t){let{game:e}=t,i=(0,a.q)(e.id);return null==i?null:(0,n.jsx)(d.f,{src:i.getIconURL(_.Si.LARGE),size:40})}function O(t,e){let{trackView:a,trackClick:d}=(0,p.R)(S.n0.WelcomeNudge,{notif_type:S.n0.WelcomeNudge}),_={};for(let a of e)switch(a.type){case S.nc.WELCOME:{let e=(null==t?void 0:t.altId)!=null?u.Z.getApplicationActivity(t.altId):(null==t?void 0:t.id)!=null?u.Z.getApplicationActivity(t.id):null;null!=e&&(0,r.Z)(e,f.xjy.JOIN)&&(_.cancelText=m.intl.string(m.t["6F9ivr"]),_.onCancelClick=(t,i)=>{d("unlock"),o.Z.updateNotificationStatus(i),o.Z.setInputLocked(!1,(0,c.QF)()),(0,s.h7)(e,!1,f.IlC.POPOUT)});break}case S.nc.GO_LIVE_VOICE:case S.nc.GO_LIVE_NON_VOICE:_.confirmText=m.intl.string(m.t.U76Ft7),_.onConfirmClick=(t,e)=>{d("unlock"),o.Z.updateNotificationStatus(e),o.Z.setInputLocked(!1,(0,c.QF)()),(0,l.ZD)(async()=>{let{default:t}=await Promise.all([i.e("93382"),i.e("79477"),i.e("53424")]).then(i.bind(i,60594));return e=>(0,n.jsx)(t,{...e,selectSource:!1,guildId:a.type===S.nc.GO_LIVE_VOICE?a.voiceGuild.id:void 0,selectGuild:a.type===S.nc.GO_LIVE_NON_VOICE,analyticsLocation:f.Sbl.OVERLAY_NUDGE})},{contextKey:g.u1})};break;case S.nc.CONTENT_INVENTORY:_.renderFooter=()=>(0,n.jsx)("div",{className:I.container,children:(0,n.jsx)(h.i,{entries:a.entries})}),_.onNotificationShow=()=>{o.Z.track(f.rMx.OVERLAY_GAME_INVITE_NOTIFICATION_SHOWN,{user_ids:a.entries.map(t=>t.author_id),entry_ids:a.entries.map(t=>t.id)})}}return{icon:null!=t?(0,n.jsx)(Z,{game:t}):(0,n.jsx)("img",{src:i(328756),className:v.icon,alt:""}),title:null!=t?t.name:m.intl.string(m.t.pkXAeH),body:null,hint:()=>(0,E.QR)((0,p.P)(),m.t.e6giBQ,m.intl.string(m.t.jZkzVF)),onNotificationShow:t=>{var e;a(),null===(e=_.onNotificationShow)||void 0===e||e.call(_,t)},onNotificationClick:()=>{d("unlock"),o.Z.setInputLocked(!1,(0,c.QF)())},onDismissClick:()=>{d("dismiss")},..._}}},352527:function(t,e,i){i.d(e,{Z:()=>c});var n,l,s,o=i(442837),r=i(570140);let a=!1,d=!1;class u extends(s=o.ZP.Store){get keepOpen(){return d}get enabled(){return a}}l="SoundboardOverlayStore",(n="displayName")in u?Object.defineProperty(u,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):u[n]=l;let c=new u(r.Z,{SOUNDBOARD_SET_OVERLAY_ENABLED:function(t){if(a=t.enabled,t.enabled){var e;d=null!==(e=t.keepOpen)&&void 0!==e&&e}}})},129724:function(t,e,i){i.d(e,{A:()=>o});var n=i(913527),l=i.n(n),s=i(388032);function o(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.intl.string(s.t["Yl1D8/"]),n=l().duration(t,"seconds");return n.days()>0?s.intl.formatToPlainString(e?s.t.GBLpQ0:s.t.k2UNz8,{days:n.days()}):n.hours()>0?s.intl.formatToPlainString(e?s.t.rhY1Rk:s.t.xCjYxM,{hours:n.hours()}):n.minutes()>0?s.intl.formatToPlainString(e?s.t["XIGt+f"]:s.t.iXLF9f,{minutes:n.minutes()}):t>0?s.intl.formatToPlainString(e?s.t.pyvjRk:s.t.geSp4O,{seconds:n.seconds()}):e?s.intl.string(s.t["Yl1D8/"]):i}}}]);
//# sourceMappingURL=7c9c2c1b4d03ba88.js.map