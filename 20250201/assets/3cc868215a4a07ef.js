"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["99916"],{419851:function(e){e.exports="/assets/138ad5b31e172be7.svg"},246403:function(e){e.exports="/assets/733e8e16d7ff7288.svg"},990686:function(e,t,n){n.d(t,{i:()=>o});var i=n(442837),l=n(430824),r=n(944163),s=n(981631);function o(e){let{guildId:t}=e;return(0,i.e7)([r.Z,l.Z],()=>{var e;let n=r.Z.get(t),i=null==n?void 0:n.guild,o=l.Z.getGuild(t),a=null==o?void 0:o.verificationLevel,u=null==i?void 0:i.verification_level;return null!==(e=null!=a?a:u)&&void 0!==e?e:s.sFg.NONE},[t])}},187565:function(e,t,n){n.d(t,{KJ:()=>g,N0:()=>C,k3:()=>T,lk:()=>p,ng:()=>v}),n(47120);var i,l=n(192379),r=n(442837),s=n(658666),o=n(384632),a=n(601964),u=n(430824),c=n(863249),d=n(944163),m=n(63568),x=n(246364),f=n(983736),h=n(266395),j=n(388032),g=((i={})[i.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT",i[i.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION",i[i.VERIFICATION_FORM=2]="VERIFICATION_FORM",i);function v(e,t,n){let i=(0,m.jS)(e,"MemberVerificationScreens"),a=(0,r.e7)([d.Z],()=>d.Z.get(e)),u=(0,r.e7)([s.Z],()=>s.Z.pendingState);l.useEffect(()=>{!n&&c.ZP.fetchVerificationForm(e,t)},[e,t,n]);let f=l.useMemo(()=>{var e,t;let l;if(!n||!i||null==u)return null;if(u.joinType===o.A.APPLY)l=null!=u.pendingVerificationFields?[...u.pendingVerificationFields]:void 0;else if(null!=u.termRules){let e=u.termRules.map(e=>e.value.trim()).filter(e=>""!==e);l=[{field_type:x.QJ.TERMS,label:j.intl.string(j.t["9suSIC"]),values:e,required:!0}]}return null==l?null:{version:null!==(e=null==a?void 0:a.version)&&void 0!==e?e:"",description:null!==(t=null==a?void 0:a.description)&&void 0!==t?t:"",formFields:l,guild:null==a?void 0:a.guild}},[n,i,u,a]);return null!=f?f:a}function C(e,t){let n=(0,r.e7)([u.Z],()=>u.Z.getGuild(e));return l.useMemo(()=>null!=n?n:null!=t?new a.ZP(t):null,[n,t])}function T(e,t){let n=!(null==e?void 0:e.isClaimed()),i=null==e?void 0:e.verified,[r,s]=l.useState(!t&&n?0:2);return l.useEffect(()=>{null!=e&&e.isClaimed()&&s(2)},[e]),l.useEffect(()=>{1===r&&i&&s(2)},[r,i]),{currentStep:r,setCurrentStep:s}}function p(e){let t=(0,h.rb)(e=>e.hasUnsubmittedChanges);l.useEffect(()=>((0,h.a5)(!1),()=>{(0,h.a5)(!1)}),[]),l.useEffect(()=>{let n=e.some(e=>e.field_type!==x.QJ.TERMS&&(0,f.OA)(e));n&&!t?(0,h.a5)(!0):!n&&t&&(0,h.a5)(!1)},[e,t])}},118346:function(e,t,n){n.d(t,{B:()=>m,b:()=>d}),n(47120);var i=n(200651),l=n(192379),r=n(481060),s=n(893776),o=n(489813),a=n(388032),u=n(119866);function c(){let[e,t]=l.useState(!1),[n,o]=l.useState(!1),[c,d]=l.useState(!1);l.useEffect(()=>{let e;return n&&(e=setTimeout(()=>{o(!1)},2e3)),()=>{null!=e&&clearTimeout(e)}},[n]);let m=async()=>{if(!e){t(!0);try{await s.Z.verifyResend(),o(!0),d(!0)}catch(e){}finally{t(!1)}}};return n?(0,i.jsx)(r.Text,{className:u.verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:a.intl.string(a.t.H3Q7U1)}):(0,i.jsx)(r.zxk,{size:r.zxk.Sizes.SMALL,submitting:e,onClick:m,children:c?a.intl.string(a.t.WnX4Jy):a.intl.string(a.t["13ofGh"])})}function d(){return(0,i.jsx)(o.PU,{icon:r._XJ,text:a.intl.string(a.t.c6EUJC),footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(r.ua7,{text:a.intl.string(a.t.mGlP39),children:e=>(0,i.jsx)(r.zxk,{...e,size:r.zxk.Sizes.SMALL,disabled:!0,children:a.intl.string(a.t["13ofGh"])})})})}function m(e){let{isUserVerified:t}=e,n=t?a.intl.string(a.t.qY1jHB):a.intl.string(a.t.c6EUJC);return(0,i.jsx)(o.PU,{icon:r._XJ,text:n,footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(c,{})})}},276486:function(e,t,n){n.d(t,{l:()=>u,v:()=>c});var i=n(200651);n(192379);var l=n(481060),r=n(144114),s=n(489813),o=n(815660),a=n(388032);function u(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{icon:l.AtH,text:a.intl.string(a.t.woMjLS),footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(l.ua7,{text:a.intl.string(a.t.mGlP39),children:e=>(0,i.jsx)(l.zxk,{...e,size:l.zxk.Sizes.SMALL,disabled:!0,children:a.intl.string(a.t["13ofGh"])})})})})}function c(e){let{isUserVerified:t}=e,u=t?a.intl.string(a.t.WWzQtb):a.intl.string(a.t.woMjLS);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{icon:l.AtH,text:u,footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(l.zxk,{size:l.zxk.Sizes.SMALL,onClick:()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("47528")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:r.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:o.M})},children:a.intl.string(a.t["13ofGh"])})})})}},23262:function(e,t,n){n.d(t,{B:()=>m,b:()=>d}),n(47120);var i=n(200651),l=n(192379),r=n(481060),s=n(893776),o=n(476770),a=n(388032),u=n(484979);function c(){let[e,t]=l.useState(!1),[n,o]=l.useState(!1),[c,d]=l.useState(!1);l.useEffect(()=>{let e;return n&&(e=setTimeout(()=>{o(!1)},2e3)),()=>{null!=e&&clearTimeout(e)}},[n]);let m=async()=>{if(!e){t(!0);try{await s.Z.verifyResend(),o(!0),d(!0)}catch(e){}finally{t(!1)}}};return n?(0,i.jsx)(r.Text,{className:u.verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:a.intl.string(a.t.H3Q7U1)}):(0,i.jsx)(r.zxk,{size:r.zxk.Sizes.SMALL,submitting:e,onClick:m,children:c?a.intl.string(a.t.WnX4Jy):a.intl.string(a.t["13ofGh"])})}function d(){return(0,i.jsx)(o.PU,{className:u.editableRequirementContainer,icon:r._XJ,text:a.intl.string(a.t.c6EUJC),footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(r.ua7,{text:a.intl.string(a.t.mGlP39),children:e=>(0,i.jsx)(r.zxk,{...e,size:r.zxk.Sizes.SMALL,disabled:!0,children:a.intl.string(a.t["13ofGh"])})})})}function m(e){let{isUserVerified:t}=e,n=t?a.intl.string(a.t.qY1jHB):a.intl.string(a.t.c6EUJC);return(0,i.jsx)(o.PU,{className:u.editableRequirementContainer,icon:r._XJ,text:n,footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(c,{})})}},476770:function(e,t,n){n.d(t,{CA:()=>c,Ih:()=>d,PU:()=>m,hK:()=>u});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(692547),o=n(481060),a=n(130948);function u(e){let{title:t,children:n}=e;return(0,i.jsxs)("div",{className:a.questionContainer,children:[(0,i.jsx)(o.Text,{className:a.questionTitle,variant:"text-md/normal",color:"header-primary",children:t}),n]})}function c(e){let{title:t,children:n}=e;return(0,i.jsxs)("div",{className:a.disabledQuestionContainer,children:[(0,i.jsx)(o.Text,{className:a.questionTitle,variant:"text-sm/medium",color:"text-muted",children:t}),n]})}function d(e){let{icon:t,text:n,meetsRequirement:l}=e;return(0,i.jsxs)("div",{className:a.requirementContainer,children:[(0,i.jsx)(t,{className:a.requirementIcon,height:16,width:16,size:"custom",color:"currentColor"}),(0,i.jsx)(o.Text,{className:a.requirementText,variant:"text-sm/medium",children:n}),l?(0,i.jsx)(o.owK,{size:"sm",color:"currentColor",className:a.requirementSuccess,secondaryColor:s.Z.colors.WHITE.css}):(0,i.jsx)(o.k$p,{size:"sm",color:"currentColor",className:a.requirementFailure,secondaryColor:s.Z.colors.WHITE.css})]})}function m(e){let{icon:t,text:n,footnote:l,meetsRequirement:u,children:c,className:d}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:r()(a.requirementContainer,d),children:[(0,i.jsx)(t,{className:a.requirementIcon,height:20,width:20,size:"custom",color:"currentColor"}),(0,i.jsx)(o.Text,{className:a.requirementText,variant:"text-md/normal",children:n}),u?(0,i.jsx)(o.owK,{size:"md",color:"currentColor",className:a.requirementSuccess,secondaryColor:s.Z.colors.WHITE.css}):c]}),null!=l&&(0,i.jsx)(o.Text,{color:"header-secondary",className:a.footnote,variant:"text-xs/normal",children:l})]})}},483760:function(e,t,n){n.d(t,{QH:()=>m,sp:()=>x});var i=n(200651),l=n(192379),r=n(120356),s=n.n(r),o=n(481060),a=n(476770),u=n(814960),c=n(484979);function d(e){let{disabled:t,field:n,value:r,radioItemClassName:a,radioItemIconClassName:u,onChange:d}=e,{choices:m}=n,x=l.useMemo(()=>m.map((e,t)=>({name:e,value:t,radioItemIconClassName:s()(c.multipleChoiceIcon,u)})),[m,u]);return(0,i.jsx)(o.FXm,{radioPosition:"right",disabled:t,options:x,value:r,onChange:d,radioItemClassName:a,itemTitleClassName:c.multipleChoiceTitle})}function m(e){let{formField:t}=e,n=null!=t.response?t.choices[t.response]:"";return(0,i.jsx)(a.CA,{title:t.label,children:(0,i.jsx)(u.Gi,{className:c.disabledFieldBackground,value:n,disabled:!0})})}function x(e){let{formField:t,onChange:n}=e;return(0,i.jsx)(a.hK,{title:t.label,children:(0,i.jsx)(d,{field:t,value:t.response,onChange:n})})}},465588:function(e,t,n){n.d(t,{jn:()=>m,lX:()=>x});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(481060),o=n(476770),a=n(592286),u=n(388032),c=n(484979);function d(e){let{value:t,placeholder:n,onChange:l,disabled:o,className:u,autofocus:d}=e;return(0,i.jsx)(s.Kx8,{className:r()(c.paragraphFieldBody,u),maxLength:a.RS,value:null!=t?t:"",placeholder:null!=n?n:"",onChange:l,disabled:o,autoFocus:d,autosize:!0,showRemainingCharacterCount:!o})}function m(e){let{formField:t}=e;return(0,i.jsx)(o.CA,{title:t.label,children:(0,i.jsx)(d,{className:c.disabledFieldBackground,value:t.response,disabled:!0})})}function x(e){let{formField:t,autofocus:n,onChange:l}=e;return(0,i.jsx)(o.hK,{title:t.label,children:(0,i.jsx)(d,{value:t.response,onChange:l,autofocus:n,placeholder:u.intl.string(u.t["Sqn+Wl"])})})}},842310:function(e,t,n){n.d(t,{l:()=>c,v:()=>d});var i=n(200651);n(192379);var l=n(481060),r=n(144114),s=n(476770),o=n(815660),a=n(388032),u=n(484979);function c(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{className:u.editableRequirementContainer,icon:l.AtH,text:a.intl.string(a.t.woMjLS),footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:!1,children:(0,i.jsx)(l.ua7,{text:a.intl.string(a.t.mGlP39),children:e=>(0,i.jsx)(l.zxk,{...e,size:l.zxk.Sizes.SMALL,disabled:!0,children:a.intl.string(a.t["13ofGh"])})})})})}function d(e){let{isUserVerified:t}=e,c=t?a.intl.string(a.t.WWzQtb):a.intl.string(a.t.woMjLS);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.PU,{className:u.editableRequirementContainer,icon:l.AtH,text:c,footnote:a.intl.string(a.t["jMh+TU"]),meetsRequirement:t,children:(0,i.jsx)(l.zxk,{size:l.zxk.Sizes.SMALL,onClick:()=>{(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("47528")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:r.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:o.M})},children:a.intl.string(a.t["13ofGh"])})})})}},644929:function(e,t,n){n.d(t,{QC:()=>x,dd:()=>f}),n(47120);var i=n(200651);n(192379);var l=n(120356),r=n.n(l),s=n(481060),o=n(454585),a=n(476770),u=n(388032),c=n(484979);function d(e){let{terms:t,channelId:n,className:l}=e;return(0,i.jsx)("div",{className:r()(c.termsFieldBody,l),children:t.map((e,t)=>(0,i.jsxs)("div",{className:c.termsRow,children:[(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"text-muted",children:"".concat(t+1,".")}),(0,i.jsx)(s.Text,{variant:"text-md/normal",className:c.termsRowContent,children:o.Z.parseGuildVerificationFormRule(e,!0,{channelId:n})})]},"term-".concat(t)))})}function m(e){let{onChange:t,checked:n,disabled:l}=e;return(0,i.jsx)(s.XZJ,{size:20,type:s.XZJ.Types.INVERTED,value:n,onChange:t,disabled:l,style:{borderWidth:2},className:c.checkbox,children:(0,i.jsx)(s.Text,{variant:"text-sm/normal",children:u.intl.string(u.t["2EXfGB"])})})}function x(e){let{formField:t}=e;return(0,i.jsx)(a.Ih,{icon:s.snC,text:u.intl.string(u.t["2xbmoK"]),meetsRequirement:!!t.response})}let f=e=>{let{channelId:t,formField:n,onChange:l}=e;return(0,i.jsxs)(a.hK,{title:u.intl.string(u.t.Q8OFNz),children:[(0,i.jsx)(d,{className:c.disabledFieldBackground,terms:n.values,channelId:t}),(0,i.jsx)(m,{onChange:l,checked:n.response})]})}},990488:function(e,t,n){n.d(t,{W:()=>I,r:()=>b}),n(47120);var i=n(200651),l=n(192379),r=n(442837),s=n(430824),o=n(594174),a=n(63568),u=n(246364),c=n(990686),d=n(118346),m=n(186078),x=n(73880),f=n(276486),h=n(196345),j=n(707592),g=n(23262),v=n(483760),C=n(465588),T=n(842310),p=n(644929),N=n(814960),F=n(981631);function R(e){let{guildId:t,formFields:n,updateFormFields:l,v2Enabled:o}=e,a=(0,r.e7)([s.Z],()=>{var e;return null===(e=s.Z.getGuild(t))||void 0===e?void 0:e.rulesChannelId}),c=(e,t)=>{let i=n[e];l([...n.slice(0,e),{...i,response:t},...n.slice(e+1)])},d=(e,t)=>{let i=n[e];l([...n.slice(0,e),{...i,response:t},...n.slice(e+1)])},f=(e,t)=>{let{value:i}=t,r=n[e];l([...n.slice(0,e),{...r,response:i},...n.slice(e+1)])},g=(e,t)=>{switch(e.field_type){case u.QJ.TERMS:return(0,i.jsx)(h.dd,{channelId:a,formField:e,onChange:(e,n)=>c(t,n)},t);case u.QJ.TEXT_INPUT:return(0,i.jsx)(j.zY,{formField:e,autofocus:0===t,onChange:e=>d(t,e)},t);case u.QJ.PARAGRAPH:return(0,i.jsx)(x.lX,{formField:e,autofocus:0===t,onChange:e=>d(t,e)},t);case u.QJ.MULTIPLE_CHOICE:return(0,i.jsx)(m.sp,{formField:e,onChange:e=>f(t,e)},t)}},T=(e,t)=>{switch(e.field_type){case u.QJ.TERMS:return(0,i.jsx)(p.dd,{channelId:a,formField:e,onChange:(e,n)=>c(t,n)},t);case u.QJ.TEXT_INPUT:return(0,i.jsx)(N.zY,{formField:e,autofocus:0===t,onChange:e=>d(t,e)},t);case u.QJ.PARAGRAPH:return(0,i.jsx)(C.lX,{formField:e,autofocus:0===t,onChange:e=>d(t,e)},t);case u.QJ.MULTIPLE_CHOICE:return(0,i.jsx)(v.sp,{formField:e,onChange:e=>f(t,e)},t)}};return(0,i.jsx)(i.Fragment,{children:n.map((e,t)=>o?T(e,t):g(e,t))})}function I(e){let t,{guildId:n,formFields:l,updateFormFields:s,disableVerification:u}=e,m=(0,r.e7)([o.default],()=>o.default.getCurrentUser()),x=(0,c.i)({guildId:n}),h=(0,a.jS)(n,"PreviewFormRenderer");return(t=x===F.sFg.NONE?null:x===F.sFg.VERY_HIGH?h?T.l:f.l:h?g.b:d.b,null==m)?null:(0,i.jsxs)(i.Fragment,{children:[!u&&null!=t&&(0,i.jsx)(t,{}),(0,i.jsx)(R,{guildId:n,formFields:l,updateFormFields:s,v2Enabled:h})]})}function b(e){let t,{guildId:n,formFields:s,updateFormFields:u,disableVerification:m}=e,x=(0,r.e7)([o.default],()=>o.default.getCurrentUser()),h=(0,c.i)({guildId:n}),j=(0,a.jS)(n,"PreviewFormRenderer"),v=(null==x?void 0:x.isPhoneVerified())||(null==x?void 0:x.isStaff()),C=(null==x?void 0:x.verified)||v,p=!1;h===F.sFg.NONE?(p=!0,t=null):h===F.sFg.VERY_HIGH?(p=null!=v&&v,t=j?T.v:f.v):(p=null!=C&&C,t=j?g.B:d.B);let N=l.useRef(p);return null==x?null:(0,i.jsxs)(i.Fragment,{children:[!m&&!N.current&&null!=t&&(0,i.jsx)(t,{isUserVerified:p}),(0,i.jsx)(R,{guildId:n,formFields:s,updateFormFields:u,v2Enabled:j})]})}}}]);
//# sourceMappingURL=3cc868215a4a07ef.js.map