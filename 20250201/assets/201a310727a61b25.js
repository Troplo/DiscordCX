"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["68241"],{892561:function(e){e.exports="/assets/21190bc58471d8ab.svg"},494536:function(e){e.exports="/assets/cb41612cfd13681f.svg"},249842:function(e,l,n){n.d(l,{P:()=>s});var i=n(544891),t=n(570140),a=n(981631);async function s(e){t.Z.dispatch({type:"GUILD_POPOUT_FETCH_START",guildId:e});try{let l=await i.tn.get({url:a.ANM.GUILD_PREVIEW(e),oldFormErrors:!0,rejectWithError:!0});t.Z.dispatch({type:"GUILD_POPOUT_FETCH_SUCCESS",guildId:e,guild:l.body})}catch(l){t.Z.dispatch({type:"GUILD_POPOUT_FETCH_FAILURE",guildId:e})}}},838367:function(e,l,n){n.d(l,{Z:()=>m});var i,t,a,s=n(442837),r=n(570140),c=n(314897),d=n(900849);let o={};class u extends(a=s.ZP.Store){initialize(){this.waitFor(c.default)}isFetchingGuild(e){let l=o[e];return null!=l&&"fetching"===l.fetchState}getGuild(e){let l=o[e];return null!=l?l.guild:null}hasFetchFailed(e){let l=o[e];return null!=l&&"failed"===l.fetchState}}t="GuildPopoutStore",(i="displayName")in u?Object.defineProperty(u,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):u[i]=t;let m=new u(r.Z,{GUILD_POPOUT_FETCH_START:function(e){let{guildId:l}=e;o[l]={...o[l],fetchState:"fetching"}},GUILD_POPOUT_FETCH_SUCCESS:function(e){let{guildId:l,guild:n}=e,i=(0,d.PP)(n);o[l]={...o[l],guild:i,fetchState:"succeeded"}},GUILD_POPOUT_FETCH_FAILURE:function(e){let{guildId:l}=e;o[l]={...o[l],fetchState:"failed"}}})},699553:function(e,l,n){n.d(l,{C:()=>s});var i=n(544891),t=n(405222),a=n(981631);async function s(e){let l=await i.tn.get({url:a.ANM.GUILD_PROFILE(e),rejectWithError:!1});return(0,t.x)(l.body)}},576306:function(e,l,n){n.d(l,{h:()=>t});let i=(0,n(818083).B)({kind:"user",id:"2024-12_new_guild_profile",label:"Enables new guild profile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"On",config:{enabled:!0}}]});function t(){let{enabled:e}=i.useExperiment({location:"GuildProfileExperiment"},{autoTrackExposure:!1});return e}},405222:function(e,l,n){n.d(l,{x:()=>i});function i(e){return{id:e.id,name:e.name,description:e.description,icon:e.icon_hash,onlineCount:e.online_count,memberCount:e.member_count,brandColorPrimary:e.brand_color_primary}}},934269:function(e,l,n){n.d(l,{u:()=>o});var i=n(192379),t=n(731965),a=n(881052),s=n(972959),r=n(699553);let c={},d=(0,s.H)((e,l)=>({profiles:{},isFetchingGuild:e=>null!=l().fetchPromises[e],error:null,fetchPromises:{},fetchGuildProfile:async function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=l().fetchPromises[n];if(!function(e){var l;let n=Date.now();return n-(null!==(l=c[e])&&void 0!==l?l:0)>6e4}(n)&&!i){var d;return null!=s?await s:Promise.resolve(null!==(d=l().profiles[n])&&void 0!==d?d:null)}c[n]=Date.now();try{if(null!=s)return await s;{let i=(async()=>{let i=await (0,r.C)(n),a=l().profiles,s=l().fetchPromises;return null==s[n]||(delete s[n],(0,t.j)(()=>{e({profiles:{...a,[n]:i},error:null,fetchPromises:s})})),i})();return(0,t.j)(()=>{e({fetchPromises:{...l().fetchPromises,[n]:i}})}),await i}}catch(r){let i=new a.Hx(r),s=l().fetchPromises;null!=s[n]&&delete s[n],(0,t.j)(()=>{e({error:i,fetchPromises:s})})}return null}}));function o(e){let l=d.useState(l=>null!=e?l.profiles[e]:null,Object.is),n=d.useState(l=>null!=e&&null!=l.fetchPromises[e],Object.is),t=d.useField("fetchGuildProfile");return{guildProfile:l,fetchGuildProfile:i.useCallback(async function(){let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==e)return null;try{return await t(e,l)}catch(e){return null}},[e,t]),isFetching:n}}},997431:function(e,l,n){n.d(l,{M:()=>i});function i(e,l){if(null==e||""===e)return null;let n=new Date(e);return!(n instanceof Date)||isNaN(n.getTime())?null:n.toLocaleDateString(l,{year:"numeric",month:"short"})}},83474:function(e,l,n){n.d(l,{SK:()=>S,ZP:()=>w,sK:()=>R}),n(47120);var i=n(200651),t=n(192379),a=n(120356),s=n.n(a),r=n(442837),c=n(692547),d=n(780384),o=n(481060),u=n(410030),m=n(686546),h=n(372769),x=n(134432),j=n(703656),f=n(314897),v=n(271383),g=n(768581),N=n(900849),P=n(249842),p=n(838367),b=n(576306),C=n(914620),Z=n(981631),I=n(388032),y=n(302602),_=n(892561),T=n(494536);function E(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:y.splashPlaceholder}),(0,i.jsxs)("div",{className:s()(y.body,y.hasSplash),children:[(0,i.jsx)("div",{className:y.iconPlaceholder}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:y.namePlaceholder})}),(0,i.jsxs)("div",{className:y.memberInfo,children:[(0,i.jsx)("div",{className:y.memberCount,children:(0,i.jsx)("div",{className:y.memberInfoPlaceholder})}),(0,i.jsx)("div",{className:y.memberCount,children:(0,i.jsx)("div",{className:y.memberInfoPlaceholder})})]}),(0,i.jsx)("div",{className:y.viewButtonPlaceholder})]})]})}function S(){let e=(0,u.ZP)();return(0,i.jsx)(o.VqE,{"aria-label":I.intl.string(I.t["8LKcho"]),className:y.guildPopout,children:(0,i.jsxs)("div",{className:y.body,children:[(0,i.jsx)("img",{src:(0,d.wj)(e)?_:T,className:y.unavailableIcon,width:80,height:80,alt:""}),(0,i.jsx)(o.X6q,{className:y.unavailableHeader,variant:"heading-md/semibold",children:I.intl.string(I.t["+kdPHx"])}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:I.intl.string(I.t["Yn1+xs"])})]})})}function R(e){var l,n;let{guild:a,channelId:d,messageId:u}=e,{name:P,id:p,discoverySplash:b,icon:C,description:_,presenceCount:T,memberCount:E,emojis:S}=a,R=(0,r.e7)([f.default],()=>f.default.getId()),L=(0,r.e7)([v.ZP],()=>v.ZP.isMember(p,R),[p,R]),[w,k]=t.useState(!1),U=e=>{if(e.stopPropagation(),L)(0,j.XU)(p,d,u);else{let e={page:Z.ZY5.GUILD_CHANNEL,section:Z.jXE.GUILD_POPOUT,object:Z.qAy.CARD};(0,N.Ub)(p,e)}k(!0)},F=g.ZP.getGuildDiscoverySplashURL({id:p,splash:b,size:250*(0,x.x_)()}),G=null!==(l=g.ZP.getGuildIconURL({id:p,icon:C,size:80}))&&void 0!==l?l:void 0,O=S,D=null;return null!=O&&O.length>6&&null!=S&&(O=null!==(n=null==S?void 0:S.slice(Math.max((null==S?void 0:S.length)-6,0)))&&void 0!==n?n:[],D=S.length-6),(0,i.jsxs)(o.VqE,{"aria-label":P,className:y.guildPopout,children:[null!=F?(0,i.jsx)("img",{src:F,alt:"",className:y.splashImage}):null,(0,i.jsxs)("div",{className:s()(y.body,{[y.hasSplash]:null!=F}),children:[(0,i.jsx)("div",{className:s()({[y.iconWithSplash]:null!=F}),children:(0,i.jsx)(o.P3F,{onClick:U,children:(0,i.jsx)(m.ZP,{mask:m.ZP.Masks.SQUIRCLE,width:88,height:88,children:(0,i.jsx)("div",{className:y.iconMask,children:(0,i.jsx)(m.ZP,{mask:m.ZP.Masks.SQUIRCLE,width:80,height:80,children:(0,i.jsx)("img",{src:G,alt:"",className:y.avatar})})})})})}),null!=P?(0,i.jsxs)("div",{className:y.guildNameWrapper,children:[(0,i.jsx)(h.Z,{className:y.badge,guild:a,tooltipPosition:"top",tooltipColor:o.ua7.Colors.PRIMARY,badgeColor:c.Z.unsafe_rawColors.PRIMARY_500.css}),(0,i.jsx)(o.Text,{variant:"text-md/semibold",className:y.guildName,children:P})]}):null,null!=_?(0,i.jsx)(o.Text,{color:"header-secondary",className:y.description,variant:"text-sm/normal",children:_}):null,(0,i.jsxs)("div",{className:y.memberInfo,children:[null!=T?(0,i.jsxs)("div",{className:y.memberCount,children:[(0,i.jsx)("div",{className:y.dotOnline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",className:y.memberText,children:I.intl.format(I.t["LC+S+v"],{membersOnline:T})})]}):null,null!=E?(0,i.jsxs)("div",{className:y.memberCount,children:[(0,i.jsx)("div",{className:y.dotOffline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",className:y.memberText,children:I.intl.format(I.t.zRl6XV,{count:E})})]}):null]})]}),(0,i.jsxs)("div",{className:y.footer,children:[null!=O&&O.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.X6q,{variant:"heading-deprecated-12/semibold",className:y.emojiHeader,color:"header-secondary",children:I.intl.string(I.t.Q60n1N)}),(0,i.jsxs)("div",{className:s()(y.emojiContainer,{[y.withCounter]:null!=D}),children:[O.map(e=>{let l=g.ZP.getEmojiURL({id:e.id,animated:!1,size:24});return(0,i.jsx)(o.ua7,{text:":".concat(e.name,":"),children:e=>(0,i.jsx)("img",{...e,width:24,height:24,src:l,className:s()({[y.emoji]:null==D}),alt:""})},e.id)}),null!=D?(0,i.jsx)(o.X6q,{variant:"heading-deprecated-12/semibold",className:y.emojiCounter,color:"header-secondary",children:"+".concat(D)}):null]})]}):null,(0,i.jsx)(o.zxk,{look:o.zxk.Looks.FILLED,color:o.zxk.Colors.BRAND,size:o.zxk.Sizes.SMALL,onClick:U,submitting:w,autoFocus:!0,children:I.intl.string(I.t["K+WeR0"])})]})]})}function L(e){let{guildId:l,channelId:n,messageId:a}=e,{loading:s,unavailable:c,guild:d}=(0,r.cj)([p.Z],()=>({guild:p.Z.getGuild(l),loading:p.Z.isFetchingGuild(l),unavailable:p.Z.hasFetchFailed(l)}),[l]);return(t.useEffect(()=>{null!=d||s||c||(0,P.P)(l)},[d,l,s,c]),s)?(0,i.jsx)(o.VqE,{"aria-label":I.intl.string(I.t.ZTNur6),className:y.guildPopout,children:(0,i.jsx)(E,{})}):null==d||c?(0,i.jsx)(S,{}):(0,i.jsx)(R,{guild:d,channelId:n,messageId:a})}function w(e){return(0,b.h)()?(0,i.jsx)(C.Z,{setPopoutRef:e.setPopoutRef,guildId:e.guildId,name:e.name}):(0,i.jsx)(L,{...e})}},857395:function(e,l,n){n.d(l,{Z:()=>m});var i=n(200651),t=n(192379),a=n(442837),s=n(481060),r=n(249842),c=n(838367),d=n(576306),o=n(83474),u=n(914620);function m(e){let{guildId:l,channelId:n,messageId:m,name:h,...x}=e,j=(0,d.h)(),{unavailable:f,guild:v}=(0,a.cj)([c.Z],()=>({guild:c.Z.getGuild(l),unavailable:c.Z.hasFetchFailed(l)}),[l]),g=null!=v,N=t.useCallback(async()=>{if(!j)try{g||await (0,r.P)(l)}catch{}},[j,g,l]);return f?(0,i.jsx)(s.yRy,{position:"right",renderPopout:e=>(0,i.jsx)(o.SK,{}),...x,clickTrap:!0}):(0,i.jsx)(s.yRy,{position:"right",preload:N,clickTrap:!0,renderPopout:e=>j?(0,i.jsx)(u.Z,{...e,guildId:l,name:h}):null==v?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(o.sK,{...e,guild:v,channelId:n,messageId:m}),...x})}},60034:function(e,l,n){n.d(l,{R:()=>d});var i=n(200651);n(192379);var t=n(120356),a=n.n(t),s=n(686546),r=n(624138),c=n(404677);function d(e){let{guildName:l,iconSize:n,className:t}=e,d=(0,r.Zg)(l);return(0,i.jsx)(s.ZP,{mask:s.ZP.Masks.CLAN_ICON,width:n,height:n,className:t,children:(0,i.jsx)("div",{className:a()(c.guildIconImage,c.acronym),children:d})})}},914620:function(e,l,n){n.d(l,{Z:()=>m});var i=n(200651),t=n(192379),a=n(120356),s=n.n(a),r=n(481060),c=n(934269),d=n(722300),o=n(910200),u=n(37633);function m(e){let{guildId:l,name:n,setPopoutRef:a}=e,{guildProfile:m,fetchGuildProfile:h,isFetching:x}=(0,c.u)(l),j=t.useRef(null),f=t.useCallback(()=>{h(!0)},[h]);t.useEffect(()=>{h()},[h]),t.useEffect(()=>{null==a||a(null==j?void 0:j.current)},[j,a]);let v=null;return v=x?(0,i.jsx)("div",{className:s()(u.container,u.spinnerContainer),children:(0,i.jsx)(r.$jN,{})}):null==m?(0,i.jsx)("div",{className:u.container,children:(0,i.jsx)(d.Z,{name:n,onRetry:f})}):(0,i.jsx)("div",{className:u.container,children:(0,i.jsx)(o.Z,{profile:m})}),(0,i.jsx)(r.VqE,{ref:j,"aria-label":null==m?void 0:m.name,children:v})}},722300:function(e,l,n){n.d(l,{Z:()=>m});var i=n(200651);n(192379);var t=n(692547),a=n(481060),s=n(410030),r=n(686546),c=n(60034),d=n(686369),o=n(388032),u=n(950039);function m(e){let{name:l,onRetry:n}=e,m=(0,s.ZP)(),h=(0,a.dQu)(t.Z.colors.BG_BASE_TERTIARY),x=(0,d.d)(m,h.hex()),j=null!=l?l:o.intl.string(o.t.DmIUGB);return(0,i.jsxs)("div",{className:u.container,children:[(0,i.jsx)("div",{className:u.banner,style:{background:x}}),(0,i.jsx)("div",{className:u.avatarContainer,children:(0,i.jsx)(r.ZP,{mask:r.QS.CLAN_ICON,width:70,height:70,children:(0,i.jsx)("div",{className:u.avatarWrapper,children:(0,i.jsx)(c.R,{guildName:j,iconSize:64})})})}),(0,i.jsxs)("div",{className:u.header,children:[(0,i.jsx)(a.X6q,{variant:"heading-lg/medium",color:"header-primary",children:j}),(0,i.jsxs)(a.P3F,{className:u.error,onClick:n,children:[(0,i.jsx)(a.P4T,{size:"sm",color:"currentColor"}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"text-warning",children:o.intl.string(o.t.tmGHjY)})]})]})]})}},686369:function(e,l,n){n.d(l,{d:()=>s});var i=n(950104),t=n(780384),a=n(981631);function s(e,l){let n=e===a.BRd.DARK?(0,i.DT)(l,.8):(0,t.r5)(l,.8);return"linear-gradient(45deg, ".concat(l," 0%, ").concat(n," 100%)")}},910200:function(e,l,n){n.d(l,{Z:()=>g});var i=n(200651),t=n(442837),a=n(692547),s=n(481060),r=n(410030),c=n(220082),d=n(114487),o=n(686546),u=n(706454),m=n(768581),h=n(709054),x=n(997431),j=n(686369),f=n(388032),v=n(950039);function g(e){let{profile:l}=e,n=(0,r.ZP)(),g=function(e,l){let n=m.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:64});return(0,c.ZP)(n,l)}(l,(0,s.dQu)(a.Z.colors.BG_BASE_TERTIARY).hex()),N=(0,t.e7)([u.default],()=>u.default.locale),P=(0,j.d)(n,g),p=(0,x.M)(h.default.extractTimestamp(l.id),N);return(0,i.jsxs)("div",{className:v.container,children:[(0,i.jsx)("div",{className:v.banner,style:{background:P}}),(0,i.jsx)("div",{className:v.avatarContainer,children:(0,i.jsx)(o.ZP,{mask:o.QS.CLAN_ICON,width:70,height:70,children:(0,i.jsx)("div",{className:v.avatarWrapper,children:(0,i.jsx)(d.b,{guildId:l.id,guildName:l.name,guildIcon:l.icon,iconSize:64})})})}),(0,i.jsxs)("div",{className:v.header,children:[(0,i.jsx)(s.X6q,{variant:"heading-lg/medium",color:"header-primary",children:l.name}),(0,i.jsxs)("div",{className:v.members,children:[(0,i.jsxs)("div",{className:v.memberCount,children:[(0,i.jsx)("div",{className:v.dot}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-secondary",children:f.intl.format(f.t.zRl6XV,{count:l.memberCount})})]}),(0,i.jsxs)("div",{className:v.memberCount,children:[(0,i.jsx)("div",{className:v.dotOnline}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-secondary",children:f.intl.format(f.t["LC+S+v"],{membersOnline:l.onlineCount})})]})]}),(0,i.jsx)("div",{className:v.established,children:(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-secondary",children:f.intl.format(f.t["zb2Q5+"],{createdAtDate:p})})})]}),(0,i.jsx)("div",{className:v.body,children:(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-secondary",children:l.description})})]})}}}]);
//# sourceMappingURL=201a310727a61b25.js.map