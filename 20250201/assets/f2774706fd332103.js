"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["9924"],{369994:function(e,n,t){t.d(n,{C4:()=>j,Fi:()=>h,KK:()=>u,f6:()=>m,n:()=>x}),t(47120);var l=t(913527),i=t.n(l),r=t(544891),a=t(367907),s=t(434404),o=t(430824),d=t(626135),c=t(981631);function u(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0!==n.length&&d.default.track(c.rMx.GUILD_RAID_REPORTED,{...(0,a.hH)(e),guild_id:e,raid_types:n})}async function m(e,n){let t=new Set(e.features);t.has(c.oNc.COMMUNITY)?n?t.delete(c.oNc.RAID_ALERTS_DISABLED):t.add(c.oNc.RAID_ALERTS_DISABLED):n?t.add(c.oNc.NON_COMMUNITY_RAID_ALERTS):t.delete(c.oNc.NON_COMMUNITY_RAID_ALERTS),await s.Z.saveGuild(e.id,{features:t},{throwErr:!0})}async function x(e,n,t,l){let a=i()().add(l,"hours").toISOString();return await r.tn.put({url:c.ANM.GUILD_INCIDENT_ACTIONS(e),body:{invites_disabled_until:n?a:null,dms_disabled_until:t?a:null},rejectWithError:!1})}async function h(e,n,t){let l=o.Z.getGuild(e);return null==(null==l?void 0:l.getSafetyAlertsChannelId())?null:await r.tn.post({url:c.ANM.GUILD_INCIDENT_REPORT_FALSE_ALARM(e),body:{alert_message_id:n,reason:t},rejectWithError:!1})}async function j(e){let n=o.Z.getGuild(e);return null==(null==n?void 0:n.getSafetyAlertsChannelId())?null:await r.tn.post({url:c.ANM.GUILD_INCIDENT_REPORT_RAID(e),rejectWithError:!1})}},162157:function(e,n,t){t.d(n,{BT:()=>d,N8:()=>o});var l=t(442837);t(467319);var i=t(496675),r=t(533244),a=t(487419),s=t(981631);function o(e){let n=(0,l.e7)([i.Z],()=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;return n.can(s.Plq.BAN_MEMBERS,e)||n.can(s.Plq.KICK_MEMBERS,e)||n.can(s.Plq.MANAGE_GUILD,e)})(e,i.Z),[e]),t=(0,l.e7)([a.Z],()=>null!=e?a.Z.getGuildIncident(e.id):null,[e]);return!(null!=t&&(0,r.i9)(t))&&n}function d(e){return(0,l.e7)([i.Z],()=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;return n.can(s.Plq.MANAGE_GUILD,e)})(e,i.Z),[e])}},821312:function(e,n,t){t.d(n,{Z:()=>h}),t(47120);var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(831209),o=t(481060),d=t(367907),c=t(177862),u=t(981631),m=t(388032),x=t(506452);function h(e){let{guildId:n,transitionState:t,onClose:r}=e,[h,j]=i.useState([]),[_,C]=i.useState(),f=[{text:m.intl.string(m.t["//3pvr"]),value:c.C2.DM_SPAM},{text:m.intl.string(m.t.SdVsio),value:c.C2.MENTION_SPAM},{text:m.intl.string(m.t.uTiSVF),value:c.C2.CHANNEL_SPAM},{text:m.intl.string(m.t.GQczU1),value:c.C2.SUS_NEW_MEMBERS},{text:m.intl.string(m.t.AAgqy8),value:c.C2.CHANGING_SETTINGS},{text:m.intl.string(m.t.ryPKb2),value:c.C2.OTHER}];function v(e){h.includes(e)?j(n=>n.filter(n=>n!==e)):j(n=>[...n,e])}return null==n?(r(),null):(0,l.jsxs)(o.Y0X,{transitionState:t,size:o.CgR.MEDIUM,children:[(0,l.jsx)(o.xBx,{separator:!0,children:(0,l.jsxs)("div",{className:x.headerContainer,children:[(0,l.jsxs)("div",{className:x.headerText,children:[(0,l.jsx)(o.mBM,{size:"xs",color:s.Z.INTERACTIVE_NORMAL}),(0,l.jsx)(o.X6q,{color:"header-primary",variant:"heading-md/semibold",children:m.intl.string(m.t.f5hd9P)})]}),(0,l.jsx)(o.P3F,{onClick:r,children:(0,l.jsx)(o.Dio,{size:"xs",color:"currentColor",className:x.closeIcon})})]})}),(0,l.jsx)(o.hzk,{children:(0,l.jsx)("div",{className:x.options,children:f.map(e=>{let{text:n,value:t}=e;return(0,l.jsxs)("div",{className:a()(x.optionContainer,{[x.optionContainerOther]:t===c.C2.OTHER}),children:[(0,l.jsxs)(o.P3F,{className:x.optionText,onClick:()=>v(t),children:[(0,l.jsx)("div",{children:(0,l.jsx)(o.XZJ,{type:o.XZJ.Types.INVERTED,size:20,value:h.includes(t),onChange:()=>v(t)})}),(0,l.jsx)(o.Text,{variant:"text-md/medium",color:h.includes(t)?"interactive-active":"interactive-normal",children:n})]}),t===c.C2.OTHER&&h.includes(c.C2.OTHER)&&(0,l.jsx)("div",{className:x.textboxContainer,children:(0,l.jsx)(o.Kx8,{className:x.serverLockdownReasonText,placeholder:m.intl.string(m.t["PAM+JS"]),onChange:e=>C(e),value:_,rows:2,autoFocus:!0,flex:!0})})]},t)})})}),(0,l.jsx)(o.mzw,{children:(0,l.jsx)(o.zxk,{onClick:function(){(0,d.yw)(u.rMx.GUILD_RAID_LOCKDOWN_FEEDBACK,{raid_lockdown_feedback_type:h,raid_lockdown_feedback_other_reason:_,guild_id:n}),r()},color:o.zxk.Colors.BRAND,look:o.zxk.Looks.FILLED,submitting:!1,children:m.intl.string(m.t.nAt0rK)})})]})}},664452:function(e,n,t){t.d(n,{default:()=>N}),t(47120);var l=t(200651),i=t(192379),r=t(831209),a=t(442837),s=t(481060),o=t(688465),d=t(430824),c=t(626135),u=t(369994),m=t(162157),x=t(533244),h=t(487419),j=t(821312),_=t(676770),C=t(981631),f=t(388032),v=t(343854);function N(e){let{guildId:n,transitionState:t,onClose:N,analyticsData:b}=e,E=(0,a.e7)([d.Z],()=>d.Z.getGuild(n),[n]),g=!!(null==E?void 0:E.hasFeature(C.oNc.INVITES_DISABLED)),[T]=i.useState(!1),[I,S]=i.useState(_.Fl),p=(0,a.e7)([h.Z],()=>h.Z.getGuildIncident(n)),R=(0,m.BT)(E),M=(0,x.SG)(p)||g,A=(0,x.sN)(p),[Z,P]=i.useState(M),[k,L]=i.useState(A),[w,D]=i.useState(!1),B=Z!==M||k!==A||w,y=g&&!R;if(null==E)return N(),null;function G(){P(e=>!e)}return(0,l.jsxs)(s.Y0X,{transitionState:t,size:s.CgR.MEDIUM,children:[(0,l.jsx)(s.xBx,{separator:!0,children:(0,l.jsxs)("div",{className:v.headerContainer,children:[(0,l.jsx)(s.mBM,{size:"xs",color:r.Z.INTERACTIVE_NORMAL}),(0,l.jsx)(s.X6q,{color:"header-primary",variant:"heading-md/semibold",children:f.intl.string(f.t.oCYAc3)}),(0,l.jsx)(o.Z,{})]})}),(0,l.jsx)(s.hzk,{children:(0,l.jsxs)("div",{className:v.mainContainer,children:[(0,l.jsx)(s.PhF,{placeholder:f.intl.string(f.t.vKYZzc),options:(0,_.c1)(),select:e=>{S(e),D(!0)},isSelected:e=>e===I,serialize:e=>String(e)}),(0,l.jsxs)("div",{className:v.pauseContainer,children:[(0,l.jsxs)("div",{className:v.pauseText,children:[(0,l.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:f.intl.string(f.t.Uwsjn5)}),(0,l.jsx)(s.Text,{variant:"text-sm/normal",color:"text-muted",children:f.intl.string(f.t.qPJkZm)})]}),(0,l.jsx)(s.ua7,{text:f.intl.string(f.t["9GPbsb"]),shouldShow:g,children:e=>(0,l.jsx)("div",{...e,children:(0,l.jsx)(s.rsf,{className:v.toggle,onChange:G,checked:Z,disabled:y})})})]}),(0,l.jsxs)("div",{className:v.pauseContainer,children:[(0,l.jsxs)("div",{className:v.pauseText,children:[(0,l.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:f.intl.string(f.t.wrDmAw)}),(0,l.jsx)(s.Text,{variant:"text-sm/normal",color:"text-muted",children:f.intl.string(f.t.UQbJW1)})]}),(0,l.jsx)(s.rsf,{className:v.toggle,onChange:function(){L(e=>!e)},checked:k})]})]})}),(0,l.jsxs)(s.mzw,{children:[(0,l.jsx)(s.zxk,{onClick:()=>{(M||A)&&!Z&&!k?((0,u.n)(E.id,!1,!1),(0,s.ZDy)(()=>Promise.resolve(e=>(0,l.jsx)(j.Z,{...e,guildId:n})))):(0,u.n)(E.id,Z,k,I);let{source:e,alertType:t,messageId:i}=b;c.default.track(C.rMx.GUILD_RAID_INTERVENTION_STATE_CHANGE,{guild_id:n,source:e,raid_alert_id:i,raid_alert_type:t,intervention_type_enabled:(0,x.sO)(Z,k),intervention_type_disabled:(0,x.lk)(Z,k),duration:60*I}),N()},color:s.zxk.Colors.BRAND,look:s.zxk.Looks.FILLED,submitting:T,disabled:!B,children:f.intl.string(f.t["pwm/z8"])}),(0,l.jsx)(s.zxk,{onClick:N,color:s.zxk.Colors.PRIMARY,look:s.zxk.Looks.LINK,disabled:T,children:f.intl.string(f.t["ETE/oK"])})]})]})}},328977:function(e,n,t){t.d(n,{L:()=>r});var l=t(442837),i=t(826581);function r(e){let{guildId:n}=e;return(0,l.e7)([i.Z],()=>i.Z.getSelectedGuildJoinRequest(n),[n])}},412222:function(e,n,t){t.d(n,{C:()=>r});var l=t(442837),i=t(826581);function r(e){let{guildId:n}=e;return(0,l.e7)([i.Z],()=>i.Z.getSelectedSortOrder(n),[n])}},223312:function(e,n,t){t.d(n,{j:()=>s}),t(47120);var l=t(192379),i=t(442837),r=t(826581),a=t(246364);function s(e){let{guildId:n,applicationStatus:t,sortOrder:s}=e,o=(0,i.e7)([r.Z],()=>r.Z.getRequests(n,t),[t,n]);return{guildJoinRequests:l.useMemo(()=>s===a.Nw.TIMESTAMP_DESC?[...o].reverse():o,[s,o])}}},666233:function(e,n,t){t.d(n,{Z:()=>N});var l=t(200651);t(192379);var i=t(442837),r=t(481060),a=t(594174),s=t(63568),o=t(246364),d=t(489813),c=t(186078),u=t(73880),m=t(196345),x=t(707592),h=t(476770),j=t(483760),_=t(465588),C=t(644929),f=t(814960),v=t(388032);let N=function(e){let{guildId:n,formFields:t,user:N,showRequirements:b=!0}=e,E=(0,i.e7)([a.default],()=>null!=N?N:a.default.getCurrentUser()),g=(0,s.jS)(n,"DisabledFormRenderer");if(null==E)return null;let T=g?h.Ih:d.Ih;return(0,l.jsxs)(l.Fragment,{children:[b&&(0,l.jsx)(T,{icon:r.b7C,text:v.intl.string(v.t.v2z4c3),meetsRequirement:!0}),t.map((e,n)=>g?function(e,n){switch(e.field_type){case o.QJ.TERMS:return(0,l.jsx)(C.QC,{formField:e},n);case o.QJ.TEXT_INPUT:return(0,l.jsx)(f.YJ,{formField:e},n);case o.QJ.PARAGRAPH:return(0,l.jsx)(_.jn,{formField:e},n);case o.QJ.MULTIPLE_CHOICE:return(0,l.jsx)(j.QH,{formField:e},n)}}(e,n):function(e,n){switch(e.field_type){case o.QJ.TERMS:return(0,l.jsx)(m.QC,{formField:e},n);case o.QJ.TEXT_INPUT:return(0,l.jsx)(x.YJ,{formField:e},n);case o.QJ.PARAGRAPH:return(0,l.jsx)(u.jn,{formField:e},n);case o.QJ.MULTIPLE_CHOICE:return(0,l.jsx)(c.QH,{formField:e},n)}}(e,n))]})}},384433:function(e,n,t){t.d(n,{e:()=>r});var l,i=t(246364),r=((l={}).ALL_MEMBERS="ALL_MEMBERS",l[l.PENDING=i.wB.SUBMITTED]="PENDING",l[l.REJECTED=i.wB.REJECTED]="REJECTED",l)},575766:function(e,n,t){t.d(n,{n:()=>r});var l=t(192379),i=t(941028);function r(e){l.useEffect(()=>(i.k$(e),()=>{i.kr(e)}),[e])}},901066:function(e,n,t){t.d(n,{Z:()=>L});var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(913527),o=t.n(s),d=t(442837),c=t(481060),u=t(906732),m=t(979264),x=t(252618),h=t(693546),j=t(246364),_=t(328977),C=t(666233),f=t(360328),v=t(171368),N=t(598077),b=t(430824),E=t(709054),g=t(51144),T=t(981631),I=t(308083),S=t(388032),p=t(861683),R=t(125712);function M(e){let{icon:n,label:t,onClick:i,disabled:r}=e;return(0,l.jsxs)(c.P3F,{className:a()(p.actionButton,{[p.disabled]:r}),onClick:r?T.dG4:i,"aria-label":t,children:[(0,l.jsx)(n,{size:"custom",color:"currentColor",width:20,height:20}),(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"none",children:t})]})}function A(e){let{user:n,guildId:t,joinRequest:i}=e,{analyticsLocations:r}=(0,u.ZP)(),s=()=>{(0,v.openUserProfileModal)({userId:n.id,joinRequestId:i.joinRequestId,sourceAnalyticsLocations:r,analyticsLocation:{section:T.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:T.qAy.JOIN_REQUEST}})};return(0,l.jsxs)("div",{className:p.infoContainer,children:[(0,l.jsxs)("div",{className:R.memberNameContainer,children:[(0,l.jsx)(c.P3F,{onClick:s,className:a()(p.clickable,R.memberAvatar),children:(0,l.jsx)(c.qEK,{src:n.getAvatarURL(t,48),"aria-label":n.username,size:c.EFr.SIZE_48})}),(0,l.jsxs)("div",{className:R.memberNameAndTagContainer,children:[(0,l.jsxs)("div",{className:R.memberNameTextContainer,children:[(0,l.jsx)(c.P3F,{onClick:s,className:p.clickable,children:(0,l.jsx)(c.Text,{variant:"text-lg/medium",children:null==n?void 0:n.globalName})}),(0,l.jsx)(m.ZP,{primaryGuild:null==n?void 0:n.primaryGuild,userId:null==n?void 0:n.id,contextGuildId:t,badgeSize:I.NC.SIZE_16,textVariant:"heading-md/semibold",className:R.memberClanTag,containerClassName:R.memberClanTagContainer})]}),(0,l.jsx)(c.P3F,{onClick:s,className:p.clickable,children:(0,l.jsx)(c.Text,{variant:"text-md/medium",color:"text-normal",children:g.ZP.getUserTag(n)})})]})]}),(0,l.jsx)(c.P3F,{className:R.closeAction,onClick:()=>h.Z.setSelectedGuildJoinRequest(t,null),children:(0,l.jsx)(c.Dio,{size:"md",color:"currentColor"})})]})}function Z(e){let{user:n,guildId:t,joinRequest:i}=e,{approveRequest:r,rejectRequest:a,handleOpenInterview:s,submitting:o}=(0,f.s)(t,n.id,i.joinRequestId,i.interviewChannelId);return(0,l.jsxs)("div",{className:p.actionRow,children:[(0,l.jsx)(M,{icon:c.owK,label:S.intl.string(S.t.BzjDQE),onClick:r,disabled:o}),(0,l.jsx)(M,{icon:c.k$p,label:S.intl.string(S.t.hDtbs7),onClick:a,disabled:o}),(0,l.jsx)(M,{icon:c.kBi,label:S.intl.string(S.t.KQeYoK),onClick:s,disabled:o})]})}function P(e){var n;let{joinRequest:t}=e,{actionedAt:i,actionedByUser:r,rejectionReason:a}=t;return(0,l.jsxs)("div",{className:p.rejectionReasonContainer,children:[(0,l.jsx)(c.k$p,{size:"lg",color:c.TVs.colors.BG_BASE_SECONDARY,secondaryColor:c.TVs.colors.INTERACTIVE_NORMAL}),(0,l.jsxs)("div",{children:[(0,l.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",children:S.intl.string(S.t.bSZklZ)}),null!=r&&null!=i?(0,l.jsxs)("div",{className:p.actionedInfo,children:[(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",children:S.intl.formatToPlainString(S.t.qnimbG,{username:null!==(n=r.global_name)&&void 0!==n?n:r.username})}),(0,l.jsx)("div",{className:p.dot}),(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",children:o()(E.default.extractTimestamp(i)).format("ll")})]}):null,null!=a&&(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",children:S.intl.formatToPlainString(S.t.fU5PPD,{rejectionReason:a})})]})]})}function k(e){let{user:n,joinRequest:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Text,{className:p.accountLabel,variant:"text-sm/medium",color:"text-muted",children:S.intl.string(S.t["ldCE/v"])}),(0,l.jsxs)("div",{className:p.userInfoContainer,children:[(0,l.jsxs)("div",{className:p.infoRow,children:[(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-normal",children:S.intl.string(S.t.SaDIpK)}),(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-normal",children:o()(E.default.extractTimestamp(n.id)).format("ll")})]}),(0,l.jsxs)("div",{className:p.infoRow,children:[(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-normal",children:S.intl.string(S.t.Vt4cn5)}),(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-normal",children:o()(t.createdAt).format("ll")})]})]})]})}function L(e){let{guildId:n}=e,t=(0,_.L)({guildId:n}),{user:r}=null!=t?t:{},s=i.useMemo(()=>{var e;return null!==(e=null==t?void 0:t.formResponses)&&void 0!==e?e:[]},[null==t?void 0:t.formResponses]),o=i.useMemo(()=>null!=r?new N.Z(r):null,[r]),u=(0,d.e7)([b.Z],()=>b.Z.getGuild(n),[n]);return((0,x.Tt)({subsection:S.intl.string(S.t.nqrK8f),location:null==u?void 0:u.name}),null!=t&&null!=u&&null!=o&&null!=r)?(0,l.jsx)("section",{className:p.sidebar,children:(0,l.jsx)(c.Ttm,{children:(0,l.jsxs)("div",{className:p.innerContainer,children:[(0,l.jsxs)("div",{className:p.cardContainer,children:[(0,l.jsx)(A,{user:o,guildId:n,joinRequest:t}),t.applicationStatus===j.wB.SUBMITTED&&(0,l.jsx)(Z,{user:o,guildId:n,joinRequest:t}),t.applicationStatus===j.wB.REJECTED&&(0,l.jsx)(P,{joinRequest:t})]}),(0,l.jsxs)("div",{className:a()(p.cardContainer,p.responsesContainer),children:[(0,l.jsx)(C.Z,{guildId:u.id,formFields:s,user:o,showRequirements:!1}),(0,l.jsx)(k,{guildId:n,user:o,joinRequest:t})]})]})})}):null}},987491:function(e,n,t){t.d(n,{Z:()=>D});var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(913527),o=t.n(s),d=t(442837),c=t(481060),u=t(239091),m=t(700582),x=t(979264),h=t(693546),j=t(826581),_=t(246364),C=t(98493),f=t(328977),v=t(412222),N=t(223312),b=t(768762),E=t(171368),g=t(598077),T=t(430824),I=t(51144),S=t(388032),p=t(174598),R=t(676391),M=t(338648),A=t(216412);function Z(e){let{status:n}=e;return(0,l.jsxs)("div",{className:p.emptyContainer,children:[(0,l.jsx)(c.dz2,{size:"md",color:"currentColor",className:p.checkmark}),(0,l.jsx)(c.X6q,{variant:"heading-md/medium",children:n===_.wB.REJECTED?S.intl.string(S.t["7YSJ6e"]):S.intl.string(S.t["/wqiSk"])}),(0,l.jsx)(c.Text,{color:"text-muted",variant:"text-sm/medium",children:n===_.wB.REJECTED?S.intl.string(S.t.i05OUV):S.intl.string(S.t.o47YZm)})]})}function P(e){let{sortOrder:n,onSortChange:t}=e;return(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:M.tableHeaderRow,children:[(0,l.jsx)("th",{className:p.headerCell,children:(0,l.jsx)(c.Text,{variant:"eyebrow",color:"interactive-normal",children:S.intl.string(S.t.Es7n9f)})}),(0,l.jsx)("th",{className:a()(p.headerCell,A.mediumCol),children:(0,l.jsxs)(c.P3F,{className:p.sortItem,onClick:t,children:[(0,l.jsx)(c.Text,{variant:"eyebrow",color:"interactive-normal",children:S.intl.string(S.t.EZ5QWF)}),n===_.Nw.TIMESTAMP_ASC?(0,l.jsx)(b.Z,{className:p.sortIcon,direction:b.Z.Directions.UP}):(0,l.jsx)(b.Z,{className:p.sortIcon,direction:b.Z.Directions.DOWN})]})}),(0,l.jsx)("th",{className:a()(p.headerCell,p.moreOptionsCol),children:(0,l.jsx)(c.Text,{variant:"eyebrow",color:"interactive-normal",children:S.intl.string(S.t["5Q9xGh"])})})]})})}let k=i.memo(function(e){let{joinRequest:n,user:t}=e,{joinRequestId:r,guildId:a}=n,s=i.useCallback(e=>{e.stopPropagation(),e.preventDefault(),(0,E.openUserProfileModal)({userId:t.id,joinRequestId:r})},[t,r]);return(0,l.jsxs)("div",{className:A.memberNameContainer,children:[(0,l.jsx)(c.P3F,{className:A.memberAvatar,onClick:s,children:(0,l.jsx)(m.Z,{user:t})}),(0,l.jsx)("div",{className:A.memberName,children:(0,l.jsx)(c.Text,{variant:"text-sm/medium",children:(0,l.jsxs)(c.P3F,{onClick:s,className:A.nameContainer,children:[t.globalName,(0,l.jsx)(x.ZP,{primaryGuild:null==t?void 0:t.primaryGuild,userId:null==t?void 0:t.id,contextGuildId:a,containerClassName:A.memberClanTag})]})})}),(0,l.jsx)("div",{className:A.memberGlobalName,children:(0,l.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",tag:"span",children:(0,l.jsx)(c.P3F,{onClick:s,tag:"span",children:I.ZP.getUserTag(t)})})})]})}),L=i.memo(function(e){let{joinRequest:n,onSelect:r}=e,{guildId:s,createdAt:m,applicationStatus:x}=n,h=i.useMemo(()=>new g.Z(n.user),[n.user]),j=(0,f.L)({guildId:s}),C=(0,d.e7)([T.Z],()=>T.Z.getGuild(s)),v=x===_.wB.SUBMITTED,N=e=>{(0,u.jW)(e,async()=>{let{default:e}=await t.e("11451").then(t.bind(t,597409));return n=>(0,l.jsx)(e,{...n,guild:C,user:h})},{position:"bottom",align:"right"})};return null==h?null:(0,l.jsxs)("tr",{onClick:r,className:a()(A.roundedRow,A.memberRowContainer,{[A.selected]:(null==j?void 0:j.joinRequestId)===n.joinRequestId}),children:[(0,l.jsx)("td",{children:(0,l.jsx)(k,{joinRequest:n,user:h})}),(0,l.jsx)("td",{className:A.mediumCol,children:(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"header-secondary",children:o()(m).format("lll")})}),(0,l.jsx)("td",{className:p.moreOptionsCol,children:v&&(0,l.jsx)(c.ua7,{text:S.intl.string(S.t.x8Nn4O),children:e=>{let{onMouseEnter:n,onMouseLeave:t}=e;return(0,l.jsx)(c.P3F,{onMouseEnter:n,onMouseLeave:t,onClick:N,className:a()(A.button),children:(0,l.jsx)(c.Huf,{size:"custom",color:"currentColor",width:18,height:18})})}})})]})}),w=()=>{let e="".concat(Math.floor(50*Math.random())+100,"px"),n="".concat(Math.floor(50*Math.random())+100,"px"),t="".concat(Math.floor(25*Math.random())+50,"px");return(0,l.jsxs)("tr",{className:a()(A.roundedRow,A.memberRowContainer),children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:A.memberNameContainer,children:[(0,l.jsx)("div",{className:a()(p.placeholderAvatar,A.memberAvatar)}),(0,l.jsx)("div",{className:A.memberName,children:(0,l.jsx)("div",{className:p.placeholderText,style:{width:e}})}),(0,l.jsx)("div",{className:A.memberGlobalName,children:(0,l.jsx)("div",{className:p.placeholderTextSmall,style:{width:n}})})]})}),(0,l.jsx)("td",{className:A.mediumCol,children:(0,l.jsx)("div",{className:p.placeholderText,style:{width:t}})}),(0,l.jsx)("td",{className:p.moreOptionsCol})]})};function D(e){let{guildId:n,currentTab:t}=e,r=i.useRef(null),s=(0,d.e7)([T.Z],()=>T.Z.getGuild(n)),o=(0,v.C)({guildId:n}),u=(0,d.e7)([j.Z],()=>j.Z.isFetching()),{guildJoinRequests:m}=(0,N.j)({guildId:n,applicationStatus:t,sortOrder:o}),{fetchNextPage:x}=(0,C.m)({guildId:n,guildJoinRequests:m}),f=i.useCallback(async()=>{let e=o===_.Nw.TIMESTAMP_ASC?_.Nw.TIMESTAMP_DESC:_.Nw.TIMESTAMP_ASC;h.Z.setSelectedSortOrder(n,e),await x(e,t)},[o,n,x,t]);return null==s?null:(0,l.jsx)("div",{className:R.mainTableContainer,children:(0,l.jsx)(c.Den,{className:R.horizatonalScroller,ref:r,orientation:"horizontal",children:(0,l.jsxs)("table",{className:a()(p.table),children:[(0,l.jsx)(P,{sortOrder:o,onSortChange:f}),(0,l.jsx)("tbody",{children:u?[,,,,,].fill(0).map((e,n)=>(0,l.jsx)(w,{},"placeholder-".concat(n))):0===m.length?(0,l.jsx)("td",{colSpan:3,children:(0,l.jsx)(Z,{status:t})}):m.map(e=>(0,l.jsx)(L,{joinRequest:e,onSelect:()=>h.Z.setSelectedGuildJoinRequest(n,e)},e.joinRequestId))})]})})})}},995596:function(e,n,t){t.d(n,{Z:()=>g}),t(47120);var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(442837),o=t(21260),d=t(780384),c=t(481060),u=t(410030),m=t(328977),x=t(571728),h=t(984370),j=t(433355),_=t(889711),C=t(384433),f=t(388032),v=t(998810);let N=e=>[{id:C.e.ALL_MEMBERS,label:f.intl.string(f.t.NOOm1d)},{id:C.e.PENDING,label:e>0?f.intl.formatToPlainString(f.t["Wo+zLy"],{count:e}):f.intl.string(f.t["4eQVBA"])},{id:C.e.REJECTED,label:f.intl.string(f.t.bSZklZ)}],b=e=>{let{tabs:n,selectedTab:t,onTabSelect:i,onClose:r}=e;return(0,l.jsx)(c.v2r,{navId:"members-tabs-overflow-menu","aria-label":f.intl.string(f.t.riPnr6),hideScroller:!0,onClose:r,onSelect:r,children:(0,l.jsx)(c.kSQ,{children:n.map(e=>{let{id:n,label:r}=e;return(0,l.jsx)(c.sNh,{id:n,label:r,icon:n===t?c.owK:void 0,action:()=>i(n)},n)})},"applications-overflow-tabs")})};function E(e){let{onTabSelect:n,tabs:t,selectedTab:r}=e,s=(0,u.ZP)(),o=(0,d.wj)(s),m=i.useMemo(()=>null!=t.find(e=>{let{id:n}=e;return n===r}),[r,t]),x=m?"header-primary":o?"text-muted":"header-primary",h=m?c.TVs.colors.HEADER_PRIMARY:o?c.TVs.colors.TEXT_MUTED:c.TVs.colors.HEADER_PRIMARY;return(0,l.jsx)(c.yRy,{renderPopout:e=>{let{closePopout:i}=e;return(0,l.jsx)(b,{selectedTab:r,onClose:i,tabs:t,onTabSelect:n})},position:"bottom",align:"left",children:(e,n)=>{let{isShown:t}=n;return(0,l.jsxs)(c.njP.Item,{...e,id:"more",color:"text-muted",className:a()(v.more,{[v.selected]:m}),"aria-label":f.intl.string(f.t.UKOtz8),children:[(0,l.jsx)(c.Text,{variant:"text-md/medium",color:x,children:f.intl.string(f.t.UKOtz8)}),t?(0,l.jsx)(c.u04,{size:"sm",color:h}):(0,l.jsx)(c.CJ0,{size:"sm",color:h})]})}})}function g(e){let{guildId:n,currentTab:t,onTabSelect:r}=e,[a,d]=i.useState(0),u=i.useRef(null),b=i.useRef(a),g=(0,x.A)({guildId:n}),T=N(null!=g?g:0),{lastVisibleIndex:I,onItemLayout:S,overflowItemsRef:p}=(0,o.zP)({items:T,itemGapPx:16,maxLines:1,containerWidth:a-200}),R=(0,s.e7)([j.ZP],()=>null!=j.ZP.getGuildSidebarState(n),[n]),M=(0,m.L)({guildId:n}),A=i.useMemo(()=>t===C.e.ALL_MEMBERS?R:null!=M&&null!=M.user,[t,R,M]),Z=i.useMemo(()=>T.slice(0,I+1),[I,T]),P=i.useMemo(()=>T.slice(I+1),[I,T]),k=i.useCallback(()=>{var e;let n=null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect();null!=n&&b.current!==n.width&&(d(n.width),b.current=n.width)},[]);return i.useEffect(()=>{let e=(0,_.pP)(k);return(0,_.YP)(e,document.body),()=>(0,_.UC)(e,document.body)},[k]),i.useEffect(()=>{k()},[k,A]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z.Divider,{className:v.divider}),(0,l.jsxs)("div",{className:v.tabsContainer,ref:u,children:[(0,l.jsxs)("div",{className:v.measurements,children:[T.map((e,n)=>(0,l.jsx)(o.AJ,{index:n,onItemLayout:S,children:(0,l.jsx)(c.njP.Item,{id:e.id,"aria-label":e.label,children:e.label})},e.id)),(0,l.jsx)("div",{ref:p,children:(0,l.jsx)(E,{tabs:P,onTabSelect:r,selectedTab:t})})]}),(0,l.jsxs)(c.njP,{"aria-label":f.intl.string(f.t.tcvVXF),selectedItem:t,type:"top-pill",onItemSelect:r,children:[Z.map(e=>(0,l.jsx)(c.njP.Item,{id:e.id,"aria-label":e.label,children:e.label},e.id)),0!==P.length?(0,l.jsx)(E,{tabs:P,onTabSelect:r,selectedTab:t}):null]})]})]})}},937283:function(e,n,t){t.d(n,{Z:()=>h});var l=t(200651),i=t(192379),r=t(442837),a=t(100527),s=t(906732),o=t(613464),d=t(6025),c=t(433355),u=t(430824),m=t(981631),x=t(998810);function h(e){let{guildId:n}=e,t=(0,r.e7)([u.Z],()=>u.Z.getGuild(n)),{analyticsLocations:h}=(0,s.ZP)(a.Z.MEMBER_SAFETY_PAGE),j=(0,r.e7)([c.ZP],()=>c.ZP.getGuildSidebarState(n),[n]),_=i.useCallback(()=>{d.Z.closeGuildSidebar(n)},[n]),C=null!=j;return null!=t&&C&&null!=j?(0,l.jsx)(s.Gt,{value:h,children:(0,l.jsx)("div",{className:x.__invalid_sidebarContainer,style:{width:m.$Y6},children:(0,l.jsx)(o.Z,{userId:j.details.userId,guildId:j.details.guildId,onClose:_})})}):null}},545918:function(e,n,t){t.r(n),t.d(n,{default:()=>K}),t(47120);var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(442837),o=t(481060),d=t(100527),c=t(906732),u=t(111028),m=t(252618),x=t(189432),h=t(189357),j=t(693546),_=t(63568),C=t(246364),f=t(697379),v=t(98493),N=t(412222),b=t(223312),E=t(571728),g=t(473403),T=t(984370),I=t(703656),S=t(171368),p=t(433355),R=t(592125),M=t(984933),A=t(430824),Z=t(944486),P=t(384433),k=t(241559),L=t(575766),w=t(901066),D=t(987491),B=t(305473),y=t(995596),G=t(937283),z=t(440857),F=t(707113),O=t(981631),U=t(176505),q=t(50493),J=t(388032),Y=t(998810),V=t(247627);function H(e){let{guild:n,previousChannel:t,currentTab:r,onTabSelect:a}=e,s=(0,_.jS)(n.id,"Member Safety Page"),d=(0,f.W)(n.id),c=J.intl.string(J.t.oclz3d),x=J.intl.string(J.t.oclz3d);return(0,m.Tt)({location:n.name,subsection:c}),(0,l.jsxs)(T.Z,{className:Y.header,innerClassname:Y.__invalid_innerHeader,channelId:U.oC.MEMBER_SAFETY,guildId:n.id,hideSearch:!0,toolbar:null!=t?(0,l.jsx)(o.zxk,{className:Y.returnButton,size:o.zxk.Sizes.SMALL,look:o.zxk.Looks.OUTLINED,color:o.zxk.Colors.PRIMARY,onClick:()=>{null!=t&&(0,I.XU)(n.id,t.id)},children:(0,l.jsx)(o.Text,{className:Y.returnButtonText,variant:"text-xs/medium",color:"none",children:J.intl.format(J.t.IX7oWl,{channelNameHook:()=>null==t?null:(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(g._,{className:Y.returnIcon,guild:n,channel:t}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(o.Text,{variant:"text-xs/medium",color:"none",children:t.name})})]},t.id)})})}):(0,l.jsx)("div",{}),children:[(0,l.jsx)(T.Z.Icon,{icon:o.BFJ,"aria-hidden":!0}),(0,l.jsx)(T.Z.Title,{children:x}),s&&d&&(0,l.jsx)(y.Z,{guildId:n.id,currentTab:r,onTabSelect:a})]})}function K(e){var n;let{guildId:t}=e,r=null!==(n=(0,E.A)({guildId:t}))&&void 0!==n?n:0,u=(0,_.jS)(t,"Member Safety Page"),[m,f]=i.useState(u&&r>0?P.e.PENDING:P.e.ALL_MEMBERS),g=(0,s.e7)([A.Z],()=>A.Z.getGuild(t)),{analyticsLocations:T}=(0,c.ZP)(d.Z.MEMBER_SAFETY_PAGE),y=(0,N.C)({guildId:t}),{guildJoinRequests:J}=(0,b.j)({guildId:t,applicationStatus:"ALL_MEMBERS"===m?C.wB.SUBMITTED:m,sortOrder:y});i.useEffect(()=>{(null==g?void 0:g.hasFeature(O.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL))||f(P.e.ALL_MEMBERS)},[g]);let K=(0,k.n2)(t),Q=(0,h.m)(t),X=(0,s.e7)([Z.Z],()=>Z.Z.getLastSelectedChannelId(t)),W=(0,s.e7)([R.Z],()=>R.Z.getChannel(X)),$=i.useRef(null);(0,L.n)(t);let{fetchNextPage:ee}=(0,v.m)({guildId:t,guildJoinRequests:J}),en=i.useCallback(async()=>{var e;if(m===P.e.ALL_MEMBERS)return;let n=null===(e=$.current)||void 0===e?void 0:e.getScrollerState();null!=n&&n.scrollHeight-n.scrollTop-n.offsetHeight<200&&await ee(y,m)},[m,m,y,ee]),et=i.useCallback(async e=>{if(m!==e&&u){if(f(e),j.Z.setSelectedGuildJoinRequest(t,null),"ALL_MEMBERS"!==e)await ee(y,e)}},[m,u,t,ee,y]);i.useEffect(()=>{if(!K&&null!=g){var e;let n=null===(e=M.ZP.getDefaultChannel(g.id))||void 0===e?void 0:e.id;(0,I.XU)(g.id,n)}},[g,K]);let el=(0,s.e7)([p.ZP],()=>null!=p.ZP.getGuildSidebarState(t),[t]),ei=i.useCallback(e=>{(0,h.Y)(e.guildId)?(0,x.r)(e.guildId,e.userId,U.oC.MEMBER_SAFETY,{modViewPanel:q.k.INFO}):(0,S.openUserProfileModal)({userId:e.userId,guildId:e.guildId,sourceAnalyticsLocations:T,analyticsLocation:{section:O.jXE.MEMBER_SAFETY_PAGE}})},[T]);if(null==g||!K)return null;let er=m===P.e.ALL_MEMBERS?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(B.Z,{guild:g}),(0,l.jsx)(F.Z,{guild:g,onMemberSelect:ei})]}):(0,l.jsx)(D.Z,{guildId:g.id,currentTab:m}),ea=m===P.e.ALL_MEMBERS?(0,l.jsx)(G.Z,{guildId:g.id}):(0,l.jsx)(w.Z,{guildId:g.id});return(0,l.jsxs)(c.Gt,{value:T,children:[(0,l.jsxs)("div",{className:a()(V.chat,Y.page,{[V.threadSidebarOpen]:el}),children:[(0,l.jsx)(H,{guild:g,previousChannel:W,currentTab:m,onTabSelect:et}),(0,l.jsx)(o.Den,{onScroll:en,ref:$,orientation:"vertical",children:(0,l.jsx)("div",{className:a()(V.content,Y.container),children:er})}),(0,l.jsx)(z.Z,{guildId:g.id})]}),Q&&ea]})}},707113:function(e,n,t){t.d(n,{Z:()=>f});var l=t(200651),i=t(192379),r=t(120356),a=t.n(r),s=t(642128),o=t(399606),d=t(481060),c=t(201070),u=t(893966),m=t(472596),x=t(598948),h=t(428936),j=t(41586),_=t(676391);function C(e){let{guild:n}=e,t=(0,c.$j)(n.id),i=(0,d.q_F)({height:t?3:0,config:s.config.stiff});return(0,l.jsx)("div",{className:_.loaderContainer,children:(0,l.jsx)(s.animated.div,{className:_.loaderBar,style:i})})}function f(e){let{guild:n,className:t,onPageChange:r,onMemberSelect:s}=e,f=n.id,v=(0,o.e7)([u.Z],()=>u.Z.getEstimatedMemberSearchCountByGuildId(f),[f]),N=(0,c.$j)(f),b=(0,c.M3)(f),E=i.useCallback(e=>{null!=e&&(null==s||s(e))},[s]),g=(0,m.xb)(b,N,v),T=i.useRef(null),I=i.useRef(null),S=i.useCallback(()=>{var e;null===(e=T.current)||void 0===e||e.resetSearchText()},[]);return(0,l.jsx)("div",{className:a()(_.mainTableContainer,t),children:(0,l.jsxs)(d.Den,{className:a()(_.horizatonalScroller),ref:I,orientation:"horizontal",children:[(0,l.jsx)(j.Z,{guild:n,ref:T}),(0,l.jsx)(C,{guild:n}),(0,l.jsx)(x.Z,{guild:n,onSelectRow:E,searchState:g,onResetForNewMembers:S}),g!==m.po.SUCCESS_STILL_INDEXING&&(0,l.jsx)(h.Z,{guildId:n.id,onPageChange:r})]})})}},506452:function(e,n,t){e.exports={headerContainer:"headerContainer__7e1d8",headerText:"headerText__7e1d8",closeIcon:"closeIcon__7e1d8",options:"options__7e1d8",optionContainer:"optionContainer__7e1d8",optionContainerOther:"optionContainerOther__7e1d8",optionText:"optionText__7e1d8",textboxContainer:"textboxContainer__7e1d8",serverLockdownReasonText:"serverLockdownReasonText__7e1d8"}},343854:function(e,n,t){e.exports={headerContainer:"headerContainer_c38e9f",mainContainer:"mainContainer_c38e9f",pauseContainer:"pauseContainer_c38e9f",pauseText:"pauseText_c38e9f",toggle:"toggle_c38e9f"}},861683:function(e,n,t){e.exports={sidebar:"sidebar__6b102",innerContainer:"innerContainer__6b102",cardContainer:"cardContainer__6b102",clickable:"clickable__6b102",infoContainer:"infoContainer__6b102",responsesContainer:"responsesContainer__6b102",actionRow:"actionRow__6b102",actionButton:"actionButton__6b102",disabled:"disabled__6b102",userInfoContainer:"userInfoContainer__6b102",infoRow:"infoRow__6b102",accountLabel:"accountLabel__6b102",rejectionReasonContainer:"rejectionReasonContainer__6b102",actionedInfo:"actionedInfo__6b102",dot:"dot__6b102"}},174598:function(e,n,t){e.exports={table:"table_ce03f4",headerCell:"headerCell_ce03f4",moreOptionsCol:"moreOptionsCol_ce03f4",sortItem:"sortItem_ce03f4",sortIcon:"sortIcon_ce03f4",placeholderText:"placeholderText_ce03f4",placeholderTextSmall:"placeholderTextSmall_ce03f4",placeholderAvatar:"placeholderAvatar_ce03f4",placeholderPulse:"placeholderPulse_ce03f4",emptyContainer:"emptyContainer_ce03f4",checkmark:"checkmark_ce03f4"}},998810:function(e,n,t){e.exports={returnButton:"returnButton_c791b2",returnButtonText:"returnButtonText_c791b2",returnIcon:"returnIcon_c791b2",container:"container_c791b2",page:"page_c791b2",header:"header_c791b2",measurements:"measurements_c791b2",more:"more_c791b2",selected:"selected_c791b2",divider:"divider_c791b2",tabsContainer:"tabsContainer_c791b2"}},676391:function(e,n,t){e.exports={mainTableContainer:"mainTableContainer__09a38",horizatonalScroller:"horizatonalScroller__09a38",loaderContainer:"loaderContainer__09a38",loaderBar:"loaderBar__09a38",loadingBar:"loadingBar__09a38"}}}]);
//# sourceMappingURL=f2774706fd332103.js.map