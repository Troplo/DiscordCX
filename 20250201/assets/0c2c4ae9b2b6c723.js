"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["28253"],{678420:function(e,t,n){n.d(t,{default:()=>g}),n(47120);var r=n(200651),i=n(192379),d=n(481060),o=n(661111),a=n(766411),l=n(626135),s=n(388080),c=n(981631),m=n(596401),_=n(388032),h=n(598092);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{componentDidMount(){this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.track(c.rMx.CHANGE_LOG_OPENED,{},!0)}componentWillUnmount(){this.track(c.rMx.CHANGE_LOG_CLOSED)}render(){return(0,r.jsx)(s.Z,{...this.props,onClose:this.close,onScroll:this.handleScroll,track:this.track})}constructor(...e){var t;super(...e),t=this,b(this,"maxScrolledPercentage",0),b(this,"mountedAt",0),b(this,"close",()=>{(0,d.Mr3)(m.Xd)}),b(this,"handleScroll",e=>{let{offsetHeight:t,scrollHeight:n,scrollTop:r}=e.getScrollerState();this.maxScrolledPercentage=Math.min(Math.max(this.maxScrolledPercentage,r/(n-t)),1)}),b(this,"track",function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{changeLog:i}=t.props,{date:d,revision:o}=i,a={change_log_id:"".concat(d,":").concat(o),...n};r||(a={seconds_open:Math.round((Date.now()-t.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(t.maxScrolledPercentage.toPrecision(4),10),...a}),l.default.track(e,a)})}}function g(e){let{changelog:t,loaded:n,clientTooOld:l}=(0,a.E)();return(i.useEffect(()=>{if(n&&null!=t)return()=>o.Z.markChangelogAsSeen(t.id,t.date)},[n,t]),l)?(0,r.jsx)(d.Y0X,{transitionState:e.transitionState,children:(0,r.jsx)("div",{className:h.empty,children:(0,r.jsx)(d.X6q,{variant:"heading-lg/medium",children:_.intl.string(_.t.V9ospq)})})}):null==t?n?(0,r.jsx)(d.Y0X,{transitionState:e.transitionState,children:(0,r.jsx)("div",{className:h.empty,children:(0,r.jsx)(d.Text,{variant:"text-md/semibold",children:_.intl.string(_.t.O1iRT0)})})}):(0,r.jsx)(d.Y0X,{transitionState:e.transitionState,children:(0,r.jsx)("div",{className:h.empty,children:(0,r.jsx)(d.$jN,{type:d.$jN.Type.WANDERING_CUBES})})}):(0,r.jsx)(d.Y0X,{transitionState:e.transitionState,children:(0,r.jsx)(u,{changeLog:t})})}},388080:function(e,t,n){n.d(t,{Z:()=>I}),n(47120);var r=n(200651),i=n(192379),d=n(120356),o=n.n(d),a=n(913527),l=n.n(a),s=n(481060),c=n(446411),m=n(468846),_=n(600164),h=n(70097),b=n(299379),u=n(454585),g=n(524444),p=n(55406),x=n(981631),f=n(388032),C=n(617768),E=n(811628);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=u.Z.reactParserFor(p.default.getDefaultRules(C)),k={};class j extends i.PureComponent{track(e,t,n){this.props.track(e,t,n)}renderFooter(){return(0,r.jsxs)("div",{className:C.footer,children:[(0,r.jsx)(s.eee,{"aria-label":f.intl.string(f.t["/84uiI"]),className:C.socialLink,href:(0,b.Z)(x.RK.TWITTER),target:"blank",children:(0,r.jsx)(s.TAi,{size:"xs",color:"currentColor"})}),(0,r.jsx)(s.eee,{"aria-label":f.intl.string(f.t["h0or/v"]),className:C.socialLink,href:x.fK7.FACEBOOK_URL,target:"blank",children:(0,r.jsx)(s.tdR,{size:"xs",color:"currentColor"})}),(0,r.jsx)(s.eee,{"aria-label":f.intl.string(f.t["5uVPyc"]),className:C.socialLink,href:x.fK7.INSTAGRAM_URL,target:"blank",children:(0,r.jsx)(s.gST,{size:"xs",color:"currentColor"})}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",children:f.intl.string(f.t.EjVVIy)})]})}renderVideo(){let{changeLog:e}=this.props,t=e.youtube_video_id,i=e.video,d=e.image;if(null!=t&&""!==t)return(0,r.jsx)(c.BC,{className:o()(C.video),allowFullScreen:!1,href:"https://youtu.be/".concat(t),thumbnail:{url:"https://i.ytimg.com/vi/".concat(t,"/hqdefault.jpg"),width:451,height:254},video:{url:"https://www.youtube.com/embed/".concat(t,"?vq=large&rel=0&controls=0&showinfo=0"),width:451,height:254},provider:m.pn.YOUTUBE,maxWidth:451,maxHeight:254,renderVideoComponent:g.lV,renderImageComponent:g.Yi,renderLinkComponent:g.iT,onPlay:()=>{this.track(x.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}});if(null!=i&&""!==i){let e=i.startsWith("https://")?i:n(595173)("./".concat(i));return(0,r.jsx)(h.Z,{src:e,poster:d,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:C.video,onPlay:()=>{this.track(x.rMx.CHANGE_LOG_VIDEO_INTERACTED,{},!0)}})}if(null==d||""===d)return null;{let e=d.startsWith("https://")?d:n(595173)("./".concat(d));return(0,r.jsx)("img",{className:C.image,alt:"",src:e,width:451,height:254})}}render(){let{changeLog:e}=this.props;return(0,r.jsxs)(s.Y0X,{transitionState:s.Dvm.ENTERED,className:E.modal,children:[(0,r.jsxs)(s.xBx,{align:_.Z.Justify.BETWEEN,separator:!1,children:[this.renderHeader(),(0,r.jsx)(_.Z.Child,{grow:0,children:(0,r.jsx)(s.olH,{onClick:this.props.onClose})})]}),(0,r.jsx)(s.hzk,{className:o()(E.content,C.container,{}),scrollerRef:this.scrollerRef,onScroll:this.handleScroll,children:(0,r.jsxs)("div",{tabIndex:0,role:"region","aria-label":f.intl.string(f.t.HzBchI),children:[this.renderVideo(),A(e.body,!1,{changeLog:this,interpolations:k,onLinkClick:this.trackLinkClick})]})}),(0,r.jsx)(s.mzw,{direction:_.Z.Direction.HORIZONTAL,children:this.renderFooter()})]})}constructor(...e){super(...e),S(this,"scrollerRef",i.createRef()),S(this,"handleScroll",()=>{let{current:e}=this.scrollerRef;if(null!=e){var t,n;null===(t=(n=this.props).onScroll)||void 0===t||t.call(n,e)}}),S(this,"trackLinkClick",e=>{this.props.track(x.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"inline_link",target:e},!1)}),S(this,"renderHeader",()=>{let{changeLog:e}=this.props;return(0,r.jsxs)(_.Z.Child,{grow:1,shrink:1,children:[(0,r.jsx)(s.X6q,{variant:"heading-lg/semibold",children:f.intl.string(f.t.LRmNAg)}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:C.date,children:f.intl.format(f.t.Fb8xx8,{date:null!=e.date&&""!==e.date?l()(e.date).toDate():new Date})})]})})}}let I=j},766411:function(e,t,n){n.d(t,{E:()=>c});var r=n(192379),i=n(399606),d=n(661111),o=n(706454),a=n(802098),l=n(596401);function s(e,t){let{changelog:n,loadState:o,defaultChangelog:s,defaultLoadState:c}=(0,i.cj)([a.Z],()=>{let n=null!=e?a.Z.getChangelog(e,t):null,r=null!=e?a.Z.getChangelog(e,"en-US"):null,i=null!=e&&a.Z.getChangelogLoadStatus(e,"en-US");return{changelog:n,loadState:null!=e&&a.Z.getChangelogLoadStatus(e,t),defaultChangelog:r,defaultLoadState:i}},[e,t]);return(r.useEffect(()=>{null!=e&&null==n&&o===l.LU.NOT_LOADED&&d.Z.fetchChangelog(e,t)},[e,n,o,t]),null==e)?{id:e,changelog:null,loaded:!1}:null==n&&o===l.LU.LOADED_FAILURE?{id:e,changelog:s,loaded:c!==l.LU.NOT_LOADED}:{id:e,changelog:n,loaded:o!==l.LU.NOT_LOADED}}function c(){let e=(0,i.e7)([o.default],()=>o.default.locale),t=(0,i.e7)([a.Z],()=>a.Z.latestChangelogId()),n=(0,i.e7)([a.Z],()=>a.Z.getConfig()),r=null!=n&&0===Object.keys(n).length,d=null!=n&&Object.keys(n).length>0&&null==t,l=(0,i.e7)([a.Z],()=>a.Z.overrideId()),{changelog:c,loaded:m}=s(t,e),{changelog:_,loaded:h}=s(l,e);return null==l||null==_&&h?{id:t,changelog:c,loaded:!!r||m,clientTooOld:d}:{id:l,changelog:_,loaded:h,clientTooOld:!1}}},598092:function(e,t,n){e.exports={empty:"empty__01a6a"}},974378:function(e,t,n){e.exports={title:"title_a9fc04"}},340702:function(e,t,n){e.exports={embedFull:"embedFull__623de embed__623de",embed:"embed__623de",inlineMediaEmbed:"inlineMediaEmbed__623de embed__623de",embedAuthorName:"embedAuthorName__623de",embedAuthorNameLink:"embedAuthorNameLink__623de embedLink__623de embedAuthorName__623de",embedDescription:"embedDescription__623de",embedFieldName:"embedFieldName__623de",embedFieldValue:"embedFieldValue__623de",embedFooterText:"embedFooterText__623de",embedLink:"embedLink__623de",embedProvider:"embedProvider__623de",embedTitle:"embedTitle__623de",embedTitleLink:"embedTitleLink__623de embedLink__623de embedTitle__623de",gridContainer:"gridContainer__623de",grid:"grid__623de",hasThumbnail:"hasThumbnail__623de",embedMargin:"embedMargin__623de",embedSuppressButton:"embedSuppressButton__623de",embedAuthor:"embedAuthor__623de",embedAuthorIcon:"embedAuthorIcon__623de",embedImage:"embedImage__623de",embedThumbnail:"embedThumbnail__623de",embedVideo:"embedVideo__623de",embedGalleryImagesWrapper:"embedGalleryImagesWrapper__623de",embedGallerySide:"embedGallerySide__623de",galleryImage:"galleryImage__623de",obscureVideoSpacing:"obscureVideoSpacing__623de",galleryImageContainer:"galleryImageContainer__623de",embedGalleryImageElement:"embedGalleryImageElement__623de",centerContent:"centerContent__623de",embedVideoActions:"embedVideoActions__623de",embedVideoImageComponent:"embedVideoImageComponent__623de",embedVideoImageComponentInner:"embedVideoImageComponentInner__623de",embedIframe:"embedIframe__623de",embedFooter:"embedFooter__623de",embedFooterSeparator:"embedFooterSeparator__623de",embedFooterIcon:"embedFooterIcon__623de",embedFields:"embedFields__623de",embedField:"embedField__623de",embedMedia:"embedMedia__623de",embedAmazonMusic:"embedAmazonMusic__623de",embedSpotify:"embedSpotify__623de",hiddenEmbed:"hiddenEmbed__623de",isHidden:"isHidden__623de",spoilerEmbed:"spoilerEmbed__623de hiddenEmbed__623de",hiddenExplicitEmbed:"hiddenExplicitEmbed__623de hiddenEmbed__623de",justifyAuto:"justifyAuto__623de",hiddenAttachment:"hiddenAttachment__623de",spoilerAttachment:"spoilerAttachment__623de hiddenAttachment__623de",hiddenExplicitAttachment:"hiddenExplicitAttachment__623de hiddenAttachment__623de"}},112197:function(e,t,n){e.exports={embedIFrame:"embedIFrame__49997"}},740909:function(e,t,n){e.exports={hoverButtonGroup:"hoverButtonGroup__06ab4",forceShowHover:"forceShowHover__06ab4",hoverButton:"hoverButton__06ab4",selected:"selected__06ab4",nonMediaMosaicItem:"nonMediaMosaicItem__06ab4",sizer:"sizer__06ab4"}},303511:function(e,t,n){e.exports={loadingWrapper:"loadingWrapper__5a143"}},230569:function(e,t,n){e.exports={carouselModal:"carouselModal__8a837",mobileCloseWrapper:"mobileCloseWrapper__8a837",forcedTransparency:"forcedTransparency__8a837"}},803205:function(e,t,n){e.exports={container:"container_b7e1cb",gifFavoriteButton:"gifFavoriteButton_b7e1cb",embedWrapper:"embedWrapper_b7e1cb",giftCodeContainer:"giftCodeContainer_b7e1cb",referralContainer:"referralContainer_b7e1cb",pollContainer:"pollContainer_b7e1cb",confirmText:"confirmText_b7e1cb",threadRoleMentionFailure:"threadRoleMentionFailure_b7e1cb",nitroFileSizeUpsell:"nitroFileSizeUpsell_b7e1cb",nitroBadgeSvg:"nitroBadgeSvg_b7e1cb",ctaButtonContainer:"ctaButtonContainer_b7e1cb",embedContainer:"embedContainer_b7e1cb",embedFlexGrow:"embedFlexGrow_b7e1cb"}},811628:function(e,t,n){e.exports={modal:"modal__487be",content:"content__487be"}}}]);
//# sourceMappingURL=0c2c4ae9b2b6c723.js.map