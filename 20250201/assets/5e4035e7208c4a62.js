"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["86778"],{915863:function(e,t,n){n.d(t,{Z:()=>s});var l=n(200651);n(192379);var i=n(120356),r=n.n(i),a=n(481060),o=n(472113);function s(e){let{className:t,size:n,...i}=e;return(0,l.jsx)(a.zxk,{className:r()(o.button,t),size:r()(o.buttonSize,n),...i})}},429589:function(e,t,n){n.d(t,{Z:()=>o});var l=n(200651);n(192379);var i=n(481060),r=n(103450),a=n(915863);function o(e){let{activity:t,embeddedActivity:n,user:o,onAction:s,ButtonComponent:u=a.Z,...c}=e,d=(0,r.e)({activity:null!=t?t:void 0,embeddedActivity:n,user:o,onGameJoin:s});if(null==d)return null;let{isJoining:f,handleJoinRequest:m,buttonCTA:p,tooltip:h,isEnabled:v}=d;return(0,l.jsx)(i.ua7,{text:h,children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,l.jsx)(u,{onClick:m,onMouseEnter:t,onMouseLeave:n,disabled:!v,submitting:f,fullWidth:!0,...c,children:p})}},"join")}},757182:function(e,t,n){n.d(t,{Z:()=>s});var l=n(200651);n(192379);var i=n(655922),r=n(420660),a=n(915863),o=n(388032);function s(e){let{activity:t,onAction:n,ButtonComponent:s=a.Z,...u}=e;return(0,r.Z)(t)?(0,l.jsx)(s,{onClick:()=>{null==n||n();let e=(0,i.Z)(t);return window.open(null!=e?e:void 0)},fullWidth:!0,...u,children:o.intl.string(o.t["I6JG4+"])},"play-activity"):null}},220779:function(e,t,n){n.d(t,{A7:()=>C,ZP:()=>w,dE:()=>j}),n(47120);var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),o=n(481060),s=n(410030),u=n(541716),c=n(752305),d=n(893718),f=n(318766),m=n(931651),p=n(131704),h=n(142550),v=n(981631),g=n(388032),x=n(26858);let E=(0,p.kt)({id:"1",type:v.d4z.DM}),P=i.forwardRef(function(e,t){let{placeholder:n,headerText:i,onEnter:r,showPopout:u,children:c,body:d,hide:f}=e,m=(0,s.ZP)();return(0,l.jsx)(o.yRy,{align:"right",position:"bottom",shouldShow:u,disablePointerEvents:!1,renderPopout:()=>(0,l.jsx)(o.f6W,{theme:m,children:e=>(0,l.jsx)("div",{className:a()([x.reply,e]),ref:t,children:(0,l.jsx)(o.EqS,{containerRef:t,children:(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Text,{variant:"text-xs/bold",className:x.replyHeader,children:null!=i?i:g.intl.string(g.t["/VQax8"])}),d,(0,l.jsx)(C,{onEnter:e=>{r(e),f()},placeholder:null!=n?n:g.intl.string(g.t["/VQax8"])})]})})})}),children:()=>c})});function C(e){let{placeholder:t,onEnter:n,setEditorRef:r,showEmojiButton:o=!1,renderAttachButton:s,autoFocus:f=!0,onFocus:m,channel:p,className:v}=e,[g,P]=i.useState(""),[C,Z]=i.useState((0,c.JM)("")),j=()=>{P(""),Z((0,c.JM)(""))},w=u.Ie.ATOMIC_REACTOR_REPLY_INPUT,b=i.useRef(null);return(0,l.jsx)(d.Z,{ref:b,placeholder:t,editorClassName:v,className:a()(x.replyInput,v),showRemainingCharsAfterCount:-1,allowNewLines:!1,maxCharacterCount:h.z,channel:null!=p?p:E,onChange:(e,t,n)=>{P(t),Z(n)},type:o?{...w,emojis:{button:!0}}:w,textValue:g,richValue:C,onSubmit:e=>{let{value:t}=e;return t.length>h.z?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(n(t),j(),Promise.resolve({shouldClear:!0,shouldRefocus:!1}))},setEditorRef:r,focused:f,onFocus:m,disableThemedBackground:!0,emojiPickerCloseOnModalOuterClick:!0,disabled:!1,autoCompletePosition:(()=>{if(null==b.current)return"top";let e=b.current.getBoundingClientRect(),t=window.innerHeight;return e.top<t/2?"bottom":"top"})(),renderAttachButton:s})}let Z=(e,t)=>{i.useEffect(()=>{let n=t=>{"Escape"===t.key&&e()},l=n=>{var l;null==n.target||(null==t?void 0:null===(l=t.current)||void 0===l?void 0:l.contains(null==n?void 0:n.target))||e()};return document.addEventListener("keydown",n),document.addEventListener("mousedown",l),()=>{document.removeEventListener("keydown",n),document.removeEventListener("mousedown",l)}},[e,t])},j=e=>{let{onSelectEmoji:t,onClick:n}=e,r=(0,s.ZP)(),[a,u]=i.useState(!1),c=i.useRef(null);return Z(()=>u(!1),c),(0,l.jsx)(o.yRy,{align:"right",position:"top",shouldShow:a,disablePointerEvents:!1,renderPopout:()=>(0,l.jsx)(o.f6W,{theme:r,children:e=>(0,l.jsx)("div",{className:e,ref:c,children:(0,l.jsx)(m.$,{messageId:v.lds,channel:E,closePopout:()=>{u(!1)},onSelectEmoji:(e,n,l)=>{null!=e&&(t(e,n,l),u(!1))}})})}),children:()=>(0,l.jsx)(o.ua7,{text:g.intl.string(g.t.lfIHs7),children:e=>(0,l.jsx)("div",{...e,className:x.reaction,children:(0,l.jsx)(f.Z,{active:!1,tabIndex:0,onClick:()=>{null==n||n(),u(!0)}})})})})},w=e=>{let{onInteraction:t,showReact:n=!0,showReply:r=!0,popoutProps:s={}}=e,{replyHeaderText:u,replyPlaceholder:c,popoutBody:d}=s,[f,m]=i.useState(!1),p=i.useRef(null);return Z(()=>m(!1),p),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:x.reactions,children:[n&&(0,l.jsx)(j,{onSelectEmoji:e=>{null!=e&&t({interactionType:h.L.ReactSubmit,emoji:e,reply:null})},onClick:()=>{t({interactionType:h.L.ReactBegin,emoji:null,reply:null}),m(!1)}}),r&&(0,l.jsx)(P,{hide:()=>m(!1),ref:p,headerText:u,placeholder:c,showPopout:f,body:d,onEnter:e=>{t({interactionType:h.L.ReplySubmit,emoji:null,reply:e})},children:(0,l.jsx)(o.ua7,{text:g.intl.string(g.t["5IEsGx"]),children:e=>(0,l.jsx)("button",{...e,className:a()(x.reaction,x.emojiButton),onClick:()=>{t({interactionType:h.L.ReplyBegin,emoji:null,reply:null}),m(!0)},children:(0,l.jsx)(o.n$P,{})})})})]})})}},142550:function(e,t,n){n.d(t,{L:()=>r,z:()=>l});let l=200;var i,r=((i={}).ReactBegin="React Begin",i.ReplyBegin="Reply Begin",i.ReactSubmit="React Submit",i.ReplySubmit="Reply Submit",i.ReactSend="React Send",i.ReplySend="Reply Send",i)},55e3:function(e,t,n){n.d(t,{Cv:()=>h,En:()=>l,Nv:()=>c,SG:()=>u,W3:()=>a,dI:()=>i,ee:()=>p,ez:()=>d,o3:()=>o,sB:()=>s,sp:()=>m,vS:()=>f});let l=348,i=88;var r,a=((r={}).AssetImage="AssetImage",r.ApplicationImage="ApplicationImage",r.Platform="Platform",r.StreamPreview="StreamPreview",r);let o=12,s=12,u=24,c=16,d=24,f=64,m=335,p=310,h="M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H5Zm6.81 7c-.54 0-1 .26-1.23.61A1 1 0 0 1 8.92 8.5 3.49 3.49 0 0 1 11.82 7c1.81 0 3.43 1.38 3.43 3.25 0 1.45-.98 2.61-2.27 3.06a1 1 0 0 1-1.96.37l-.19-1a1 1 0 0 1 .98-1.18c.87 0 1.44-.63 1.44-1.25S12.68 9 11.81 9ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm7-10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM18.5 20a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM7 18.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM5.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"},201133:function(e,t,n){n.d(t,{B:()=>v,a:()=>h}),n(411104);var l=n(570140),i=n(493683),r=n(957730),a=n(222677),o=n(995774),s=n(314897),u=n(592125),c=n(703558),d=n(62817),f=n(960048);let m=e=>{let t=d.Z.getFiles(e)[0];return null==d.Z.getMessageForFile(t.id)?(f.Z.addBreadcrumb({message:"No message found for upload"}),Promise.reject()):new Promise((e,n)=>{let i=r=>{r.file.id===t.id&&(l.Z.unsubscribe("UPLOAD_COMPLETE",i),l.Z.unsubscribe("UPLOAD_FAIL",i),"UPLOAD_COMPLETE"===r.type?e(r.messageRecord):n(Error("Upload failed")))};l.Z.subscribe("UPLOAD_COMPLETE",i),l.Z.subscribe("UPLOAD_FAIL",i)})},p=async function(e,t){var l;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,d=u.Z.getChannel(t);if(s.default.getToken(),r.ZP.parse(d,""),i);else{if(null==u.Z.getChannel(t))throw Error("AtomicReactor sendUtils: Couldn't resolve channel with id ".concat(t));{let l=n(966390).Z;e.description=a,await l.uploadFiles({channelId:t,uploads:[e],draftType:c.d.ChannelMessage,parsedMessage:o})}}},h=async e=>{let{file:t,reaction:n,user:l,altText:r,requireConfirmation:s=!1}=e,u=await i.Z.openPrivateChannel(l.id,!1,!1);p(t,u,s,r);let c=await m(u);if(null!=c){let e=(0,o.g1)(n);await (0,a.rU)(u,c.id,e)}},v=e=>{let{file:t,reply:n,channel:l,altText:i,requireConfirmation:a=!1}=e,o=r.ZP.parse(l,n);return p(t,l.id,a,i,o)}},665672:function(e,t,n){n.d(t,{Z:()=>a});var l=n(512722),i=n.n(l);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{setExporter(e){this.exporter=e}export(e){i()(null!=this.exporter,"DiscordCanvas: Exporting the canvas requires a valid DiscordCanvasExporter to be initialized.");let t=this.canvas.getCanvasForExport();return i()(null!=t,"DiscordCanvas: Couldn't get a canvas for export."),this.exporter.exportCanvas(t,e)}constructor(e,t){r(this,"canvas",void 0),r(this,"exporter",void 0),this.canvas=e,this.exporter=t}}},97008:function(e,t,n){n.d(t,{Z:()=>o}),n(411104);var l=n(141795),i=n(476326),r=n(956664),a=n(693824);let o=class{toDataUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.toDataURL(t,n)}async exportCanvas(e,t){let{format:n,fileType:o="png",quality:s=1,fileName:u}=t;if(n===a.kH.Base64)return this.toDataUrl(e,o,s);if(n===a.kH.Blob){let t=this.toDataUrl(e,o,s);return(0,r.kD)(t)}if(n===a.kH.File){let t=this.toDataUrl(e,o,s);return await (0,r.Bo)(t,u,"image/png")}if(n===a.kH.CloudUpload){let{channelId:n}=t,a=this.toDataUrl(e,o,s),c=await (0,r.Bo)(a,u,"image/png");return new l.n({file:c,platform:i.ow.WEB,isThumbnail:!1},n)}throw Error("DiscordCanvas: ".concat(n," is not a valid export format."))}}},690725:function(e,t,n){n.d(t,{f:()=>r}),n(411104);var l=n(4646),i=n(665672);async function r(e){let{assetsToLoad:t,drawImage:r,exportConfigs:a}=e,o=await (0,l.k2)(t);await o.loadFonts();{let e=n(503082).Z,t=n(97008).Z,l=document.createElement("canvas"),s=new e(l,o),u=new t,c=new i.Z(s,u);r(c.canvas);let d=await c.export(a);return l.remove(),d}}},871118:function(e,t,n){n.d(t,{Z:()=>v});var l=n(200651),i=n(192379),r=n(120356),a=n.n(r),o=n(442837),s=n(481060),u=n(592125),c=n(496675),d=n(449605),f=n(981631),m=n(388032),p=n(680809);function h(e){let{isLoading:t,noText:n,previewText:i,className:r}=e;return(0,l.jsx)("div",{className:a()(p.emptyPreviewContainer,r),children:t?(0,l.jsx)(s.$jN,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:p.emptyPreviewImage}),n?null:(0,l.jsx)(s.Text,{variant:"text-sm/normal",color:"none",className:p.emptyPreviewText,children:null!=i?i:m.intl.string(m.t.uQZTBQ)})]})})}function v(e){let{stream:t,className:n,noText:r=!1}=e,a=(0,o.e7)([u.Z],()=>u.Z.getBasicChannel(t.channelId)),s=(0,o.e7)([c.Z],()=>null!=a&&c.Z.canBasicChannel(f.S7T.CONNECT,a)),{previewUrl:v,isLoading:g}=(0,d.Z)(t.guildId,t.channelId,t.ownerId),x=i.useRef(g?null:v);i.useEffect(()=>{g||(x.current=v)},[v,g]);let E=null==v||g?x.current:v;return null==E?(0,l.jsx)(h,{className:n,isLoading:g,noText:r,previewText:s?void 0:m.intl.string(m.t.pgUTZG)}):(0,l.jsx)("div",{className:n,children:(0,l.jsx)("img",{src:E,alt:"",className:p.image})})}},62817:function(e,t,n){n.d(t,{Z:()=>E}),n(47120),n(177593);var l,i,r,a=n(442837),o=n(570140),s=n(375954);let u=Object.freeze([]),c={},d={},f={},m={},p={};function h(e,t){}function v(e,t){let n=c[e];return null!=n&&(c[e]=n.filter(e=>e.id!==t),delete d[t],delete f[t],n.length!==c[e].length)}function g(e,t){let n=c[e];if(null==n)return!1;c[e]=n.map(e=>e.id===t.id?{...e,...t}:e);let l=f[t.id];null!=l&&null!=m[l.id]&&(m[l.id]={...m[l.id],...t})}class x extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z)}getFiles(e){var t;return null!==(t=c[e])&&void 0!==t?t:u}getMessageForFile(e){return f[e]}getUploaderFileForMessageId(e){return m[e]}getUploadAttachments(e){if(null!=e)return p[e]}}r="UploadStore",(i="displayName")in x?Object.defineProperty(x,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):x[i]=r;let E=new x(o.Z,{CONNECTION_OPEN:function(){p={}},LOGOUT:function(){p={}},UPLOAD_START:function(e){var t;let{channelId:n,file:l,uploader:i,message:r}=e;if(i._aborted||i._errored)return;let a=null!==(t=c[n])&&void 0!==t?t:u;d[l.id]=i,c[n]=[...a,l],f[l.id]=r;let{items:o}=l;null!=o&&(m[r.id]={...l,items:o}),r.nonce},UPLOAD_COMPRESSION_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_PROGRESS:function(e){let{channelId:t,file:n}=e;g(t,n)},UPLOAD_COMPLETE:function(e){let{channelId:t,file:n}=e;return v(t,n.id)},UPLOAD_FAIL:function(e){let{channelId:t,file:n}=e;return v(t,n.id)},UPLOAD_CANCEL_REQUEST:function(e){let{file:t}=e,n=d[t.id];if(null==n)return!1;setImmediate(()=>{var e;return null===(e=n.cancel)||void 0===e?void 0:e.call(n)})},UPLOAD_ITEM_CANCEL_REQUEST:function(e){let{file:t,itemId:n}=e,l=d[t.id];if(null==l)return!1;setImmediate(()=>l.cancelItem(n))},UPLOAD_FILE_UPDATE:function(e){let{channelId:t,file:n}=e,l=f[n.id];null!=l&&l.nonce,g(t,n)},UPLOAD_RESTORE_FAILED_UPLOAD:function(e){let{file:t,messageId:n}=e;m[n]=t}})}}]);
//# sourceMappingURL=5e4035e7208c4a62.js.map