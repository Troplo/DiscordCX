"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["53967"],{489813:function(e,i,n){n.d(i,{Ih:()=>o,PU:()=>u,hK:()=>s});var t=n(200651);n(192379);var l=n(692547),r=n(481060),a=n(933078);function s(e){let{title:i,children:n}=e;return(0,t.jsxs)("div",{className:a.questionContainer,children:[(0,t.jsx)(r.Text,{className:a.questionTitle,variant:"text-md/semibold",color:"header-primary",children:i}),n]})}function o(e){let{icon:i,text:n,meetsRequirement:s}=e;return(0,t.jsxs)("div",{className:a.requirementContainer,children:[(0,t.jsx)(i,{className:a.requirementIcon,height:20,width:20,size:"custom",color:"currentColor"}),(0,t.jsx)(r.Text,{className:a.requirementText,variant:"text-md/normal",children:n}),s?(0,t.jsx)(r.owK,{size:"md",color:"currentColor",className:a.requirementSuccess,secondaryColor:l.Z.colors.WHITE.css}):(0,t.jsx)(r.k$p,{size:"md",color:"currentColor",className:a.requirementFailure,secondaryColor:l.Z.colors.WHITE.css})]})}function u(e){let{icon:i,text:n,footnote:s,meetsRequirement:o,children:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:a.requirementContainer,children:[(0,t.jsx)(i,{className:a.requirementIcon,height:20,width:20,size:"custom",color:"currentColor"}),(0,t.jsx)(r.Text,{className:a.requirementText,variant:"text-md/normal",children:n}),o?(0,t.jsx)(r.owK,{size:"md",color:"currentColor",className:a.requirementSuccess,secondaryColor:l.Z.colors.WHITE.css}):u]}),null!=s&&(0,t.jsx)(r.Text,{color:"header-secondary",className:a.footnote,variant:"text-xs/normal",children:s})]})}},186078:function(e,i,n){n.d(i,{BO:()=>d,QH:()=>E,sp:()=>I});var t=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(489813),u=n(707592),c=n(119866);function d(e){let{disabled:i,field:n,value:r,radioItemClassName:o,radioItemIconClassName:u,onChange:d}=e,{choices:E}=n,I=l.useMemo(()=>E.map((e,i)=>({name:e,value:i,radioItemIconClassName:a()(c.multipleChoiceIcon,u)})),[E,u]);return(0,t.jsx)(s.FXm,{disabled:i,options:I,value:r,onChange:d,radioItemClassName:o,withTransparentBackground:!0})}function E(e){let{formField:i}=e,n=null!=i.response?i.choices[i.response]:"";return(0,t.jsx)(o.hK,{title:i.label,children:(0,t.jsx)(u.Gi,{className:c.fieldBackground,value:n,disabled:!0})})}function I(e){let{formField:i,onChange:n}=e;return(0,t.jsx)(o.hK,{title:i.label,children:(0,t.jsx)(d,{radioItemClassName:c.fieldBackground,field:i,value:i.response,onChange:n})})}},73880:function(e,i,n){n.d(i,{Q8:()=>c,jn:()=>d,lX:()=>E});var t=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(489813),o=n(592286),u=n(119866);function c(e){let{value:i,placeholder:n,onChange:l,disabled:s,className:c,autofocus:d}=e;return(0,t.jsx)(a.Kx8,{className:r()(u.paragraphFieldBody,c),maxLength:o.RS,value:null!=i?i:"",placeholder:null!=n?n:"",onChange:l,disabled:s,autoFocus:d,autosize:!0,showRemainingCharacterCount:!s})}function d(e){let{formField:i}=e;return(0,t.jsx)(s.hK,{title:i.label,children:(0,t.jsx)(c,{className:u.fieldBackground,value:i.response,disabled:!0})})}function E(e){let{formField:i,autofocus:n,onChange:l}=e;return(0,t.jsx)(s.hK,{title:i.label,children:(0,t.jsx)(c,{className:u.fieldBackground,value:i.response,onChange:l,autofocus:n})})}},196345:function(e,i,n){n.d(i,{EK:()=>d,G0:()=>E,QC:()=>I,dd:()=>f}),n(47120);var t=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(454585),o=n(489813),u=n(388032),c=n(119866);function d(e){let{terms:i,channelId:n,className:l}=e;return(0,t.jsx)("div",{className:r()(c.termsFieldBody,l),children:i.map((e,i)=>(0,t.jsxs)("div",{className:c.termsRow,children:[(0,t.jsx)(a.Text,{variant:"text-md/normal",color:"text-muted",children:"".concat(i+1,".")}),(0,t.jsx)(a.Text,{variant:"text-md/normal",className:c.termsRowContent,children:s.Z.parseGuildVerificationFormRule(e,!0,{channelId:n})})]},"term-".concat(i)))})}function E(e){let{onChange:i,checked:n,disabled:l}=e;return(0,t.jsx)(a.XZJ,{size:20,type:a.XZJ.Types.INVERTED,value:n,onChange:i,disabled:l,style:{borderWidth:2},className:c.checkbox,children:(0,t.jsx)(a.Text,{variant:"text-sm/normal",children:u.intl.string(u.t["2EXfGB"])})})}function I(e){let{formField:i}=e;return(0,t.jsx)(o.Ih,{icon:a.snC,text:u.intl.string(u.t["2xbmoK"]),meetsRequirement:!!i.response})}let f=e=>{let{channelId:i,formField:n,onChange:l}=e;return(0,t.jsxs)(o.hK,{title:u.intl.string(u.t.Q8OFNz),children:[(0,t.jsx)(d,{className:c.fieldBackground,terms:n.values,channelId:i}),(0,t.jsx)(E,{onChange:l,checked:n.response})]})}},118215:function(e,i,n){n.d(i,{ZP:()=>d});var t,l,r,a=n(442837),s=n(570140);let o={},u=!1;class c extends(r=a.ZP.Store){isLoading(){return u}passesChecklist(e){var i;return!u&&(null===(i=o[e])||void 0===i?void 0:i.sufficient)}isPendingSuccess(e){let i=o[e];return null!=i&&!u&&i.healthScorePending&&i.safeEnvironment&&0===Object.keys(i.nsfwProperties).length&&i.size&&i.protected}getDiscoveryChecklist(e){return o[e]}}l="DiscoverGuildChecklistStore",(t="displayName")in c?Object.defineProperty(c,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[t]=l;let d=new c(s.Z,{DISCOVER_CHECKLIST_FETCH_START:function(e){u=!0},DISCOVER_CHECKLIST_FETCH_FAILURE:function(e){u=!1},DISCOVER_CHECKLIST_FETCH_SUCCESS:function(e){var i;let{checklist:n,guildId:t}=e;u=!1,o[t]={guildId:n.guild_id,safeEnvironment:n.safe_environment,healthy:n.healthy,healthScorePending:n.health_score_pending,nsfwProperties:n.nsfw_properties,size:n.size,protected:n.protected,sufficient:n.sufficient,sufficientWithoutGracePeriod:n.sufficient_without_grace_period,gracePeriodEndDate:null!=n.grace_period_end_date?new Date(n.grace_period_end_date):null,retentionHealthy:n.retention_healthy,engagementHealthy:n.engagement_healthy,minimumGuildSize:null!=n.minimum_size?n.minimum_size:1e3,healthScore:n.health_score,minimumGuildAge:null!==(i=n.minimum_age)&&void 0!==i?i:0,age:n.age}}})},658666:function(e,i,n){let t;n.d(i,{Z:()=>P}),n(47120);var l,r,a,s=n(392711),o=n.n(s),u=n(442837),c=n(570140),d=n(944163),E=n(246364),I=n(999382),f=n(118215),h=n(384632),_=n(386885),m=n(981631),T=n(388032);let g={verificationDirty:!1,guildDirty:!1};function N(){let e=I.Z.getGuild();if(null==e)return;let i=f.ZP.getDiscoveryChecklist(e.id);if(null!=i)return(0,_.V)(e,i)}function C(){var e;let i=I.Z.getGuildId();return null==i?null:null===(e=d.Z.get(i))||void 0===e?void 0:e.formFields}function A(){let e=C();if(null==e)return;let i=e.find(e=>(0,E.J)(e));return null==i?[{id:(0,s.uniqueId)(),value:""}]:i.values.map(e=>({id:(0,s.uniqueId)(),value:e}))}function v(){let e=C();if(null==e)return;let i=e.find(e=>(0,E.J)(e));if(0===e.length||1===e.length&&null!=i){let e={field_type:E.QJ.TEXT_INPUT,label:T.intl.string(T.t["83ZsRU"]),required:!0};return null!=i?[i,e]:[e]}return[...e]}function S(e){return e.hasFeature(m.oNc.DISCOVERABLE)?h.A.DISCOVERABLE:e.hasFeature(m.oNc.MEMBER_VERIFICATION_GATE_ENABLED)&&e.hasFeature(m.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL)?h.A.APPLY:h.A.INVITE}function p(e,i){let n=e.hasFeature(m.oNc.MEMBER_VERIFICATION_GATE_ENABLED)||e.hasFeature(m.oNc.CLAN);switch(i){case h.A.INVITE:return{joinType:h.A.INVITE,requireTerms:n,termRules:A()};case h.A.APPLY:return{joinType:h.A.APPLY,pendingVerificationFields:v()};case h.A.DISCOVERABLE:return{joinType:h.A.DISCOVERABLE,settingsView:N(),requireTerms:n,termRules:A()}}}function D(e,i){var n,t,l,r;let{requireTerms:a,termRules:s}=i;if(e.hasFeature(m.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL)||e.hasFeature(m.oNc.MEMBER_VERIFICATION_GATE_ENABLED)!==a)return!0;let u=null!==(t=C())&&void 0!==t?t:[];if(u.length>1)return!0;let c=null!==(l=null===(n=u.find(e=>(0,E.J)(e)))||void 0===n?void 0:n.values)&&void 0!==l?l:[],d=null!==(r=null==s?void 0:s.map(e=>e.value.trim()).filter(e=>""!==e))&&void 0!==r?r:[];return!o().isEqual(c,d)}function L(){let e=I.Z.getGuild();if(null==e||null==t){g={verificationDirty:!1,guildDirty:!1};return}let i=S(e)!==t.joinType;switch(t.joinType){case h.A.INVITE:g={verificationDirty:D(e,t),guildDirty:i};break;case h.A.APPLY:let n;let l=C(),{pendingVerificationFields:r}=t,a=!e.hasFeature(m.oNc.MEMBER_VERIFICATION_GATE_ENABLED)||!e.hasFeature(m.oNc.MEMBER_VERIFICATION_MANUAL_APPROVAL);n=null==l?null!=r:null!=r&&!o().isEqual(l,r),g={verificationDirty:a||n,guildDirty:i};break;case h.A.DISCOVERABLE:g={verificationDirty:D(e,t),guildDirty:i||I.Z.hasChanges()}}}function R(){if(null==I.Z.getGuildId()||null==t)return!1;t=t.joinType===h.A.APPLY?{...t,pendingVerificationFields:v()}:{...t,termRules:A()},L()}function x(e){let{section:i}=e;if(i!==m.pNK.ACCESS)return y();let n=I.Z.getGuild();if(null==n)return!1;let l=S(n);t=p(n,l),L()}function y(){t=void 0,g={verificationDirty:!1,guildDirty:!1}}function j(){if((null==t?void 0:t.joinType)!==h.A.DISCOVERABLE)return!1;t={...t,settingsView:N()},L()}class F extends(l=u.ZP.Store){initialize(){this.waitFor(I.Z,d.Z,f.ZP),this.syncWith([I.Z,d.Z],()=>{L()})}get pendingState(){return t}get dirtyState(){return g}showNotice(){return g.guildDirty||g.verificationDirty}}a="GuildSettingsJoinRulesStore",(r="displayName")in F?Object.defineProperty(F,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):F[r]=a;let P=new F(c.Z,{GUILD_SETTINGS_JOIN_RULES_INVITE_SET_PENDING_RULES:function(e){let{guildId:i,requireTerms:n,termRules:l}=e;if(i!==I.Z.getGuildId()||(null==t?void 0:t.joinType)!==h.A.INVITE&&(null==t?void 0:t.joinType)!==h.A.DISCOVERABLE)return!1;t={...t,requireTerms:n,termRules:l},L()},GUILD_SETTINGS_JOIN_RULES_APPLY_SET_PENDING_FORM_FIELDS:function(e){let{guildId:i,formFields:n}=e;if(i!==I.Z.getGuildId()||(null==t?void 0:t.joinType)!==h.A.APPLY)return!1;t={...t,pendingVerificationFields:n},L()},GUILD_SETTINGS_JOIN_RULES_SET_SELECTED_TYPE:function(e){let{guildId:i,joinType:n}=e,l=I.Z.getGuild();if(i!==(null==l?void 0:l.id))return!1;t=p(l,n),L()},MEMBER_VERIFICATION_FORM_UPDATE:R,MEMBER_VERIFICATION_FORM_FETCH_FAIL:R,GUILD_SETTINGS_INIT:x,GUILD_SETTINGS_SET_SECTION:x,GUILD_SETTINGS_CLOSE:y,DISCOVER_CHECKLIST_FETCH_SUCCESS:j,GUILD_UPDATE_DISCOVERY_METADATA_FROM_SERVER:j,GUILD_SETTINGS_SUBMIT_SUCCESS:j})},384632:function(e,i,n){n.d(i,{A:()=>l});var t,l=((t={}).INVITE="invite",t.APPLY="apply",t.DISCOVERABLE="discoverable",t)},386885:function(e,i,n){n.d(i,{U:()=>r,V:()=>a});var t,l=n(981631),r=((t={}).INELIGIBLE="ineligible",t.DISQUALIFIED="disqualified",t.ELIGIBLE_DISABLED="eligible_disabled",t.ELIGIBLE_ENABLED="eligible_enabled",t);function a(e,i){let n=e.hasFeature(l.oNc.VERIFIED),t=e.hasFeature(l.oNc.DISCOVERABLE);if(n)return t?"eligible_enabled":"eligible_disabled";if(t){let e=i.sufficientWithoutGracePeriod&&null!=i.gracePeriodEndDate&&i.gracePeriodEndDate>new Date;return i.sufficient||e?"eligible_enabled":"disqualified"}return i.sufficient?"eligible_disabled":"ineligible"}}}]);
//# sourceMappingURL=d8ee6faff6618203.js.map