!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/assets/",e(e.s=12)}([function(t,e){function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=r},function(t,e,r){"use strict";function n(t,e){if(t.score===e.score){var r=t.comparator.toLocaleLowerCase(),n=e.comparator.toLocaleLowerCase();if(r<n)return-1;if(r>n)return 1}return e.score-t.score}e.__esModule=!0,e.sortByMatchScore=n},function(t,e,r){"use strict";e.__esModule=!0,e.default={escape:function(t){return t.replace(/[\-\[\]\/\{}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},t.exports=e.default},function(t,e,r){"use strict";function n(t,e){var r=e.length,n=t.length;if(n>r)return!1;if(n===r)return t===e;t:for(var o=0,i=0;o<n;o++){for(var u=t.charCodeAt(o);i<r;)if(e.charCodeAt(i++)===u)continue t;return!1}return!0}t.exports=n},function(t,e,r){function n(t,e,r){function n(e){var r=b,n=x;return b=x=void 0,O=e,m=t.apply(n,r)}function s(t){return O=t,w=setTimeout(d,e),R?n(t):m}function l(t){var r=t-S,n=t-O,o=e-r;return _?f(o,g-n):o}function p(t){var r=t-S,n=t-O;return void 0===S||r>=e||r<0||_&&n>=g}function d(){var t=i();if(p(t))return v(t);w=setTimeout(d,l(t))}function v(t){return w=void 0,j&&b?n(t):(b=x=void 0,m)}function E(){void 0!==w&&clearTimeout(w),O=0,b=S=x=w=void 0}function h(){return void 0===w?m:v(i())}function y(){var t=i(),r=p(t);if(b=arguments,x=this,S=t,r){if(void 0===w)return s(S);if(_)return w=setTimeout(d,e),n(S)}return void 0===w&&(w=setTimeout(d,e)),m}var b,x,g,m,w,S,O=0,R=!1,_=!1,j=!0;if("function"!=typeof t)throw new TypeError(a);return e=u(e)||0,o(r)&&(R=!!r.leading,_="maxWait"in r,g=_?c(u(r.maxWait)||0,e):g,j="trailing"in r?!!r.trailing:j),y.cancel=E,y.flush=h,y}var o=r(0),i=r(9),u=r(10),a="Expected a function",c=Math.max,f=Math.min;t.exports=n},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(e,r(11))},function(t,e,r){var n=r(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},function(t,e){function r(t){return!!t&&"object"==typeof t}t.exports=r},function(t,e,r){function n(t){return"symbol"==typeof t||o(t)&&a.call(t)==i}var o=r(7),i="[object Symbol]",u=Object.prototype,a=u.toString;t.exports=n},function(t,e,r){var n=r(6),o=function(){return n.Date.now()};t.exports=o},function(t,e,r){function n(t){if("number"==typeof t)return t;if(i(t))return u;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=f.test(t);return r||s.test(t)?l(t.slice(2),r?2:8):c.test(t)?u:+t}var o=r(0),i=r(8),u=NaN,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t){var e=!1,r=new Set;t.forEach(function(t){var n=t.id,i=o(t,["id"]),u=m.get(n)||{},a=p({},u,i);m.set(n,a),w.size>0&&(a.isFriend&&(e=!0),Object.keys(a).forEach(function(t){t!==U&&t!==j&&t!==L&&r.add(t)}))}),w.forEach(function(t,n){var o=t.filters;(null==o||o.friends===e||r.has(o.guild))&&S.add(n)}),S.size>0&&T()}function u(t,e){w.set(t,e),s(t,e)}function a(t){w.delete(t),S.delete(t),0===S.size&&T.cancel()}function c(t,e,r,n,o){if(null!=n&&n.indexOf(t)>=0)return!1;if(null!=o&&o.indexOf(t)>=0)return!0;if(null!=r){var i=r.friends,u=r.guild;return i===!0&&e.isFriend===!0||(null!=e[u]||null===e[u])}return!0}function f(t,e){return t*(e||1)}function s(t,e){var r=e.query,n=e.limit,o=e.filters,i=e.blacklist,u=e.whitelist,a=e.boosters,s=new RegExp("^"+b.default.escape(r),"i"),p=new RegExp(b.default.escape(r),"i"),d=[];if(""===r)return l(r,d,t);var E=r.toLocaleLowerCase();m.forEach(function(t,e){if(c(e,t,o,i,u)){var r=t.username,n=void 0;Object.keys(t).forEach(function(o){var i=t[o];if(o!==U&&o!==j&&i){var u=void 0;s.test(i)?u={comparator:i,score:f(O,a[e])}:p.test(i)?u={comparator:i,score:f(R,a[e])}:(0,v.default)(E,i.toLocaleLowerCase())&&(u={comparator:i,score:f(_,a[e])}),u&&((null==n||n.score<u.score)&&(n=u),n.id=e,n.username=r)}}),null!=n&&d.push(n)}}),d.sort(x.sortByMatchScore),d.length>n&&(d.length=n),l(r,d,t)}function l(t,e,r){postMessage({uuid:r,type:g.USER_RESULTS,payload:{query:t,results:e}})}var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d=r(3),v=n(d),E=r(4),h=n(E),y=r(2),b=n(y),x=r(1),g={UPDATE_USERS:"UPDATE_USERS",USER_RESULTS:"USER_RESULTS",QUERY_SET:"QUERY_SET",QUERY_CLEAR:"QUERY_CLEAR"},m=new Map,w=new Map,S=new Set,O=10,R=5,_=1,j="isFriend",U="isBot",L="username",T=(0,h.default)(function(){S.forEach(function(t){var e=w.get(t);e&&s(t,e)}),S.clear()},100,{leading:!0,trailing:!0});addEventListener("message",function(t){var e=t.data;if(!e)throw new Error("Invalid data");var r=e.uuid,n=e.type,o=e.payload;switch(n){case g.UPDATE_USERS:return i(o);case g.QUERY_SET:return u(r,o);case g.QUERY_CLEAR:return a(r)}})}]);
//# sourceMappingURL=8af912e6a77b8193e752.worker.js.map