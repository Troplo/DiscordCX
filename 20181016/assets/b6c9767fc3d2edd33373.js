(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{5885:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=P(n(1)),i=n(218),l=R(n(3)),s=R(n(7804)),u=R(n(7803)),d=R(n(6920)),f=R(n(921)),c=R(n(373)),p=R(n(929)),h=R(n(14)),m=R(n(71)),y=R(n(63)),v=R(n(164)),g=R(n(918)),_=R(n(355)),E=R(n(1002)),S=R(n(280)),T=R(n(6010)),C=n(523),b=P(n(143)),N=R(n(11)),O=P(n(140)),I=P(n(229)),A=n(6095),M=n(0);function R(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e){var t=e.match.params.id;return E.default.call(function(){return S.default.open(t)}),o(i.Redirect,{to:p.default.defaultRoute})}function k(e){var t=e.match,n=/-/g,a=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),r=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!M.UserSettingsSections.hasOwnProperty(a)||r&&!M.UserSettingsSections.hasOwnProperty(r)||E.default.call(function(){return _.default.open(M.UserSettingsSections[a],r)}),o(i.Redirect,{to:p.default.defaultRoute})}function F(){return E.default.call(function(){return T.default.open(M.CreateGuildModalScreens.CreateGuild,"External link")}),o(i.Redirect,{to:p.default.defaultRoute})}function x(e){var t=e.match.params,n=t.guildId,a=t.channelId,r=t.type;return E.default.call(function(){return(0,C.open)()}),o(i.Redirect,{to:parseInt(r)===M.ChannelTypes.GUILD_VOICE?M.Routes.CHANNEL(n):M.Routes.CHANNEL(n,a)})}n(1011),n(397),n(529),n(6835),n(1205),n(1204),n(6834),n(6260),n(6272),n(221),n(6833),n(943),n(6832),n(6831),n(6829),n(6826),n(171),n(920),n(219),l.default.initialize(),N.default.embedded&&(N.default.on("USER_SETTINGS_OPEN",function(){return _.default.open(M.UserSettingsSections.ACCOUNT)}),N.default.on("LAUNCH_APPLICATION",function(e,t){var n=O.getLibraryApplicationForApplicationId(t,y.default,v.default);I.playApplication(t,n,{analyticsParams:{location:{page:M.AnalyticsPages.DIRECT,object:M.AnalyticsObjects.WEB_URL}}})})),U.displayName="userProfileRedirector",k.displayName="userSettingsRedirector",F.displayName="createGuildModalRedirector",x.displayName="welcomeRedirector";var G=(0,A.makeAuthenticated)(u.default);f.default.registerModals(d.default);var B=l.default.connectStores([c.default,p.default,h.default],function(){return{isConnected:c.default.isConnected(),defaultRoute:p.default.defaultRoute,token:h.default.getToken()}})(function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props,t=e.isConnected,n=e.token;t||null==n||g.default.startSession()},t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?o(i.Redirect,{to:M.Routes.LOGIN}):t?o(i.Redirect,{to:n}):null},t}(r.Component));function j(e){var t=e.match.params,n=t.gameId,a=t.action;return m.default.whenInitialized(function(){y.default.whenInitialized(function(){switch(a){case"launch":var e=y.default.getFirstLibraryApplication(n);if(null==e)return;I.playApplication(e.id,e,{analyticsParams:{location:{page:M.AnalyticsPages.DIRECT,object:M.AnalyticsObjects.WEB_URL}}});break;case"uninstall":var t=y.default.getFirstLibraryApplication(n);b.uninstallBranchPrompt(t.id,t.branchId,M.AnalyticsLocations.URI_SCHEME)}})}),o(i.Redirect,{to:M.Routes.GAME_LIBRARY})}j.displayName="gameLibraryActionRedirector";var H=o(i.Redirect,{exact:!0,from:"/channels",to:"/"}),V=o(i.Redirect,{to:"/"}),Y=o(s.default,{}),W=function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.render=function(){return o(r.Fragment,{},void 0,o(i.Switch,{},void 0,H,o(i.Route,{path:M.Routes.APP,component:B}),o(i.Route,{path:M.Routes.USERS(":id"),render:U}),o(i.Route,{path:M.Routes.SETTINGS(":section"),render:k}),o(i.Route,{path:M.Routes.SETTINGS(":section",":subsection"),render:k}),o(i.Route,{path:M.Routes.WELCOME(":guildId",":channelId",":type"),render:x}),o(i.Route,{path:M.Routes.MESSAGE(":guildId",":channelId",":messageId"),render:G}),o(i.Route,{path:M.Routes.CHANNEL(":guildId",":channelId?"),render:G}),o(i.Route,{path:M.Routes.ACTIVITY,render:G}),o(i.Route,{path:M.Routes.GAME_LIBRARY_ACTION(":gameId",":action"),render:j}),o(i.Route,{path:M.Routes.GAME_LIBRARY,render:G}),o(i.Route,{path:M.Routes.GUILD_CREATE,render:F}),o(i.Route,{path:M.Routes.APPLICATION_STORE,render:G}),V),Y)},t}(r.PureComponent);W.displayName="ViewsWithMainInterface",t.default=W,e.exports=t.default},5952:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(6033)),o=n(0),r=l(n(5929)),i=l(n(190));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e,n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(a>=t.length)break;o=t[a++]}else{if((a=t.next()).done)break;o=a.value}var r=o,l=i.default.getEligibleExperiment(r);if(null!=l)return l}return null}t.default={getFirstEligibleUserExperiment:s,isInExperimentBucket:function(e,t){return i.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===o.ExperimentTypes.USER&&t.type===o.ExperimentTypes.USER)return(0,a.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=s(e);if(t)return r.default.trigger(t),t},getExperimentBucketName:function(e){return e===o.ExperimentBuckets.CONTROL?"Control":e===o.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},5968:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=m(n(3)),r=m(n(2)),i=n(0),l=m(n(18)),s=m(n(89)),u=m(n(222)),d=m(n(125)),f=m(n(6077)),c=m(n(13)),p=m(n(5)),h=m(n(7));function m(e){return e&&e.__esModule?e:{default:e}}var y=i.FormStates.CLOSED,v=void 0,g=void 0,_=void 0,E=void 0,S={},T={},C=void 0,b=!1,N=!1,O=["name","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function I(e){var t=l.default.getChannel(e.channelId);if(null==t)return M();y=i.FormStates.OPEN,null!=(_=g=t)&&(_=_.set("nsfw",_.isNSFW())),E=l.default.getChannel(_.parent_id),C=_.getGuildId(),S={},A({section:v||i.ChannelSettingsSections.OVERVIEW})}function A(e){(v=e.section)===i.ChannelSettingsSections.INSTANT_INVITES&&(b=!0,c.default.get(i.Endpoints.INSTANT_INVITES(_.id)).then(function(e){b=!1,r.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return b=!1}))}function M(){N=!1,y=i.FormStates.CLOSED,v=null,_=g=null,E=null,T={}}var R=h.default.debounce(function(){var e=_.toJS(),t=g.toJS();O.every(function(n){return e[n]===t[n]})&&_!==g&&(_=g,L.emitChange())},500);function P(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new s.default(e.inviter):null,channel:new d.default(e.channel),guild:null!=e.guild?new u.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,p.default)(e.created_at)})}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return _!==g},t.prototype.isOpen=function(){return N},t.prototype.getSection=function(){return v},t.prototype.getInvites=function(){return{invites:T,loading:b}},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getChannel=function(){return _},t.prototype.getFormState=function(){return y},t.prototype.getCategory=function(){return E},t.prototype.getProps=function(){return{submitting:y===i.FormStates.SUBMITTING,errors:S,channel:_,section:v,invites:T,selectedOverwriteId:C,hasChanges:this.hasChanges()}},t}(o.default.Store))(r.default,{CHANNEL_SETTINGS_INIT:I,CHANNEL_SETTINGS_OPEN:function(e){N=!0,I(e)},CHANNEL_SETTINGS_SUBMIT:function(e){y=i.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){I(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){y=i.FormStates.OPEN,S=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(e){return M()},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;C=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.topic,a=e.bitrate,o=e.userLimit,r=e.nsfw,i=e.rateLimitPerUser;null!=t&&(_=_.set("name",t)),null!=n&&(_=_.set("topic",n)),null!=a&&(_=_.set("bitrate",a)),null!=o&&(_=_.set("userLimit",o)),null!=r&&(_=_.set("nsfw",r)),null!=i&&(_=_.set("rateLimitPerUser",i)),R()},CHANNEL_SETTINGS_SET_SECTION:A,CHANNEL_SETTINGS_LOADED_INVITES:function(e){T={},e.invites.forEach(function(e){T[e.code]=P(e)})},CHANNEL_UPDATE:function(e){if(!function(e){if(null==g||g.id!==e)return!1;if(g===_){var t=l.default.getChannel(e);if(null==t)return!1;_=g=t,E=l.default.getChannel(_.parent_id)}else{var n=l.default.getChannel(e);if(null==n)return!1;g=n,_=_.set("permissionOverwrites",g.permissionOverwrites),E=l.default.getChannel(_.parent_id)}return!0}(e.channel.id))return!1;null!=C&&null==_.permissionOverwrites[C]&&(C=_.getGuildId())},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=_&&_.id===t&&void(y=i.FormStates.CLOSED)},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(T=a({},T))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;T=a({},T,((t={})[e.invite.code]=P(e.invite),t))}});t.default=L,e.exports=t.default},5970:function(e,t,n){"use strict";t.__esModule=!0,t.changePaymentSource=t.upgrade=t.resubscribe=t.subscribe=void 0;var a,o,r,i;t.subscribe=(a=p(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_START}),e.prev=1,e.next=4,u.createSubscription(t,n);case 4:return a=e.sent,l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS}),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_SUBSCRIBE_FAIL,error:e.t0}),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e,t){return a.apply(this,arguments)}),t.resubscribe=(o=p(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.resubscribeToSubscription(t,n);case 3:l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_FAIL,error:e.t0}),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return o.apply(this,arguments)}),t.upgrade=(r=p(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.upgradeSubscription(t,n);case 3:l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_FAIL,error:e.t0}),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return r.apply(this,arguments)}),t.changePaymentSource=(i=p(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.changePaymentSource(t,n);case 3:l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_SUCCESS}),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_UPDATE_FAIL,error:e.t0}),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,6]])})),function(e,t){return i.apply(this,arguments)});t.openModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.PremiumPaymentSubscriptionModes.NEW,t=arguments[1];l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_MODAL_OPEN,mode:e,plan:t})},t.closeModal=function(){l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_MODAL_CLOSE})},t.cancel=function(e){return new Promise(function(t,n){u.cancelSubscription(e).then(t).catch(function(e){s.default.show({body:d.default.Messages.PREMIUM_CANCEL_FAILED_BODY}),n(e)})})},t.clearError=function(){l.default.dispatch({type:f.ActionTypes.PREMIUM_PAYMENT_ERROR_CLEAR})};var l=c(n(2)),s=c(n(266)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(368)),d=c(n(6)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}},5995:function(e,t,n){"use strict";t.__esModule=!0,t.Pages=void 0;var a,o,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=g(n(3)),s=g(n(2)),u=g(n(139)),d=g(n(190)),f=g(n(12)),c=g(n(27)),p=g(n(5929)),h=g(n(11)),m=g(n(17)),y=g(n(23)),v=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var _="homepageNUFComplete",E="homepageNUFPage",S="NUX_WEB_WELCOME",T=h.default.isWeb(),C=t.Pages=(0,u.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null}),b=((a={})[C.CLAIM]=function(){var e=f.default.getCurrentUser();return null!=e&&(T&&!e.isClaimed())},a[C.JOIN]=function(){return T&&!(Object.keys(c.default.getGuilds()).length>0)},a[C.CREATE]=function(){return T&&!(Object.keys(c.default.getGuilds()).length>0)},a[C.DOWNLOAD]=function(){return T},a),N=[[C.CLAIM,!0],[C.JOIN,!0],[C.CREATE,!0],[C.DOWNLOAD,!1]],O=[[C.JOIN,!0],[C.CREATE,!0],[C.CLAIM,!0],[C.DOWNLOAD,!1]],I=!1,A=null,M=null,R=y.default.get(_)||!1,P=null;function L(e){return null!=e&&null!=M&&null!=M[e]?M[e][0]:C.INITIAL}function w(e,t,n){T&&m.default.track(v.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:S,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=P?(Date.now()-P)/1e3:0})}function D(){if(I=!0,!R){M=function(){var e=k.getExperimentDescriptor();if(null==e||e.bucket===v.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===v.ExperimentBuckets.TREATMENT_1?N:O).filter(function(e){var t=e[0];return null!=b[t]&&b[t]()});return t.length>0?t:null}();var e=k.getExperimentDescriptor();if(null!=e&&T&&p.default.trigger(e),null==M)return void U(!0);var t=y.default.get(E,null);null!=t&&M.forEach(function(e,n){e[0]===t&&(A=n)}),null==A&&(A=0),P=Date.now(),w(C.INITIAL,L(A),!1)}}function U(e){var t=k.getExperimentDescriptor();null!=t&&t.bucket!==v.ExperimentBuckets.CONTROL&&(R=!0,y.default.remove(E),y.default.set(_,!0),w(L(A),C.DISABLED,e))}var k=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExperimentId=function(){return v.Experiments.HOMEPAGE_NUF},t.prototype.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},t.prototype.initialize=function(){this.waitFor(d.default,f.default,c.default)},t.prototype.getExperimentDescriptor=function(){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||d.default.getEligibleExperiment(this.getExperimentId())},t.prototype.isInExperiment=function(){return null!=this.getExperimentDescriptor()},t.prototype.isOpen=function(){var e=this.getExperimentDescriptor();return!R&&I&&null!=e&&e.bucket!==v.ExperimentBuckets.CONTROL},t.prototype.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===v.ExperimentBuckets.TREATMENT_1},t.prototype.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},i(t,[{key:"page",get:function(){return A}},{key:"pages",get:function(){return M}},{key:"progress",get:function(){var e=this.page;return null==e||null==M?1:Math.min((e+1)/M.length,1)}}]),t}(l.default.Store))(s.default,{CONNECTION_OPEN:function(e){return D()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return A=null,M=null,void(I=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==M)return!1;var a=A;null==M[A+=n?2:1]?U(t):(y.default.set(E,M[A][0]),w(L(a),L(A),t)),P=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){U(e.isSkip)}});p.default.register(k,((r={})[v.ExperimentTypes.NONE]=function(){return null},r[v.ExperimentTypes.USER]=((o={})[v.ExperimentBuckets.CONTROL]=function(){return null},o[v.ExperimentBuckets.TREATMENT_1]=function(){return null},o[v.ExperimentBuckets.TREATMENT_2]=function(){return null},o),r)),t.default=k},5997:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(2)),o=s(n(358)),r=s(n(266)),i=(s(n(125)),n(0)),l=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(null!=e)switch(e.type){case i.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){o.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||r.default.show({title:l.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:l.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:l.default.Messages.YES_TEXT,cancelText:l.default.Messages.NO_TEXT,onConfirm:window.chrome.webstore.install})}t.default={open:function(e){null!=window.chrome?window.chrome.runtime.sendMessage(i.SCREENSHARE_CHROME_EXTENSION_ID,{command:i.ScreenshareChromeExtensionCommands.SCREENSHARE},u):a.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){a.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){a.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}},e.exports=t.default},6025:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(156)),u=f(n(26)),d=f(n(5517));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.Title=function(e){var t=e.children,n=e.className;return r("h1",{className:(0,l.default)(n,d.default.title)},void 0,t)}).displayName="Title",(t.Text=function(e){var t=e.children,n=e.className;return r("div",{className:(0,l.default)(n,d.default.text)},void 0,t)}).displayName="Text",(t.PageWrapper=function(e){var t=e.illustration,n=e.children,a=e.style,o=e.illustrationStyle;return r(s.default.div,{className:d.default.modalContent,style:a},void 0,r(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:d.default.illustrationWrapper,grow:0,shrink:0},void 0,r(s.default.div,{style:o},void 0,r("img",{alt:"",src:t}))),r(u.default,{align:u.default.Align.START},void 0,r("div",{className:d.default.padded},void 0,n)))}).displayName="PageWrapper";var p={friction:15,tension:200};t.AnimatedPage=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.translateX=new s.default.Value(0),c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){(0,this.props.setRef)(this),this.translateX.setValue(0)},t.prototype.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){s.default.spring(t,o({toValue:0},p)).start(e)},220)},t.prototype.componentWillLeave=function(e){var t=this.translateX;s.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){s.default.spring(t,o({toValue:-1},p)).start(e)},220)},t.prototype.submit=function(){return new Promise(function(e){return e()})},t.prototype.getAnimatedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t=this.translateX;return s.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},t}(i.Component)},6026:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(2)),r=s(n(60)),i=n(57),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.RTCDebugSections.TRANSPORT,d=void 0,f=new i.Interval;function c(){r.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){o.default.dispatch({type:l.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e})})})}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSection=function(){return u},t.prototype.getStats=function(){return d},t}(a.default.Store);t.default=new p(o.default,{RTC_DEBUG_MODAL_OPEN:function(e){u=e.section||l.RTCDebugSections.TRANSPORT,d=null,c(),f.start(1e3,c)},RTC_DEBUG_MODAL_CLOSE:function(e){return f.stop(),void(d=null)},RTC_DEBUG_MODAL_SET_SECTION:function(e){u=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){d=e.stats}}),e.exports=t.default},6030:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(139))),l=c(n(44)),s=c(n(158)),u=c(n(26)),d=c(n(88)),f=c(n(5730));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.default)({UPGRADE:null,CANCEL:null,UNVERIFIED:null,UNCLAIMED:null,GRANDFATHERED:null}),h=((o={})[p.UPGRADE]="imageUpgrade",o[p.CANCEL]="imageCancel",o[p.UNVERIFIED]="imageUnverified",o[p.UNCLAIMED]="imageUnclaimed",o[p.GRANDFATHERED]="imageCancel",o),m=function(e){var t=e.children;return r(d.default.Header,{separator:!1},void 0,r(s.default.FormTitle,{tag:s.default.FormTitleTags.H4},void 0,t))};m.displayName="Header";var y=function(e){var t=e.children,n=e.type;return r(d.default.Content,{},void 0,r("div",{className:f.default[h[n]]}),r("div",{className:f.default.message},void 0,t))};y.displayName="Content";var v=function(e){var t=e.primary,n=e.primaryRenderer,a=e.secondary;return r(d.default.Footer,{},void 0,r(u.default,{justify:u.default.Justify.END},void 0,r(l.default,{onClick:a.onClick,look:l.default.Looks.LINK,innerClassName:f.default.secondaryButton},void 0,a.label),null!=t?r(l.default,{onClick:t.onClick,color:l.default.Colors.BRAND},void 0,t.label):n))};v.displayName="Footer";var g=function(e){var t=e.children;return r(d.default,{},void 0,t)};g.displayName="PremiumModal",g.Header=m,g.Content=y,g.Footer=v,g.Types=p,t.default=g,e.exports=t.default},6032:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(2)),o=s(n(6)),r=s(n(13)),i=n(0),l=s(n(396));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}t.default={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:i.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,l.default)({title:o.default.Messages.TWO_FA_DISABLE,actionText:o.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:i.Endpoints.MFA_TOTP_DISABLE,body:e})},!0).then(function(e){var t=e.body.token;return a.default.dispatch({type:i.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return u(i.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return u(i.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.post({url:i.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){a.default.dirtyDispatch({type:i.ActionTypes.MFA_CLEAR_BACKUP_CODES})}},e.exports=t.default},6034:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&u.default.register(e,t);var p=e.getExperimentId();return(0,a.default)({displayName:"ExperimentContainer",mixins:[o.default.LazyStoreListenerMixin(e,i.default,l.default,s.default,f.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,r.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!d.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||l.default.getGuildId(),n=this.props.channelId||i.default.getChannelId(t),a=null,o=f.default.getOverrideExperimentDescriptor(p);return a=o||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:a}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[c.ExperimentTypes.NONE]||h;var n=e.type,a=e.bucket,o=t[n];return null==o?t[c.ExperimentTypes.NONE]||h:null!=o[a]?o[a]:t[c.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;u.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;d.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,a=(n.renderFunctions,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["renderFunctions"]));return e(a,t)}})};var a=p(n(45)),o=p(n(3)),r=p(n(270)),i=p(n(66)),l=p(n(188)),s=p(n(14)),u=p(n(5929)),d=p(n(5952)),f=p(n(190)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6035:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var a=r(n(2)),o=n(0);r(n(222));function r(e){return e&&e.__esModule?e:{default:e}}},6092:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6093:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6094:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6095:function(e,t,n){"use strict";t.__esModule=!0,t.getArtForPath=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.makeAuthenticated=function(e,t){var n=o(t,{});return function(a){if(!l.default.isAuthenticated()){if(null!=t)return n;var u=location.pathname+location.search;return o(i.Redirect,{to:(0,s.getLoginPath)(u,!1)})}return r.createElement(e,a)}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(218),l=f(n(14)),s=n(948),u=f(n(6094)),d=f(n(6093));function f(e){return e&&e.__esModule?e:{default:e}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6092);var t=(new Date).getHours();return t>=6&&t<20?u.default:d.default}},6096:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={clearVADWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_VAD_WARNING})},clearSuppressWarning:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_SUPPRESS_WARNING,forever:e})},clearPTTAdminWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_PTT_ADMIN_WARNING})}},e.exports=t.default},6097:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.renderTwoColumns=f,t.renderStreams=function(e,t){return e.map(function(e){var n=r.default.map(e,function(e,n){return"type"===n?null:o(s.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return o(i.default,{className:u.default.marginBottom40,title:e.type},e.type,f(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=d(n(7)),i=d(n(507)),l=d(n(26)),s=n(6275),u=d(n(504));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=[],n=0;for(e.length%2!=0&&e.push(o(l.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(o(l.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6100:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(191)),s=v(n(36)),u=v(n(982)),d=n(35),f=v(n(5997)),c=v(n(358)),p=v(n(60)),h=v(n(12)),m=v(n(11)),y=v(n(359));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=g(this,e.call.apply(e,[this].concat(r))),a.handleChangeWindows=function(){var e=a.props.channel;f.default.open(e),(0,d.closeContextMenu)()},a.handleStop=function(){c.default.setDesktopSource(null),(0,d.closeContextMenu)()},a.handleVolumeChange=function(e){c.default.setSoundshareVolume(e)},a.handleStreamGame=function(){var e=a.props.game;if(null!=e){var t=m.default.getDesktopSourceFromPid(e.pid),n=h.default.getCurrentUser();c.default.setDesktopSource(t,720,y.default.canUseHigherFramerate(n)?60:30,!0),(0,d.closeContextMenu)()}else a.handleChangeWindows()},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,a=e.game,r=void 0;if(null!=a&&(r=o(s.default,{label:i.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:a.name}),action:this.handleStreamGame})),!p.default.isScreenSharing())return o("div",{className:t,style:n},void 0,o(l.default,{},void 0,r,o(s.default,{label:i.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})));var d=void 0;return p.default.isSoundSharing()&&(d=o(l.default,{},void 0,o(u.default,{label:i.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:p.default.getSoundshareVolume()}))),o("div",{className:t,style:n},void 0,d,o(l.default,{},void 0,r,o(s.default,{label:i.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),o(s.default,{label:i.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))},t}(r.PureComponent);_.displayName="ScreenshareContextMenu",t.default=_,e.exports=t.default},6101:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=l(n(34)),i=l(n(7029));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleDismiss=a.handleDismiss.bind(a),a.handleConfirm=a.handleConfirm.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.createElement(i.default,a({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},t.prototype.close=function(){r.default.pop()},t.prototype.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},t.prototype.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},t}(o.PureComponent);s.displayName="VideoDevicesWarningModal",t.default=s,e.exports=t.default},6102:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(26)),l=d(n(260)),s=d(n(5688)),u=d(n(5500));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,a=e.style,r=n.getAvatarURL();return null==r?null:o(i.default,{style:a,className:s.default.background,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER},void 0,o("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+r+"')"}}),o("div",{className:s.default.backgroundBlurOverlay}),o(l.default,{className:u.default.elevationHigh,size:t,src:r}))},t}(r.PureComponent);f.AvatarSizes=l.default.Sizes,f.displayName="VideoBackground",t.default=f,e.exports=t.default},6103:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(160)),s=d(n(5689)),u=n(100);function d(e){return e&&e.__esModule?e:{default:e}}var f={CONTAIN:"contain",COVER:"cover"},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={loading:null==n.streamId},a.handleReady=a.handleReady.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSpinner=function(){return this.state.loading?o("div",{className:s.default.spinner},void 0,o(l.default,{type:l.default.Type.SPINNING_CIRCLE})):null},t.prototype.render=function(){var e,t=this.props,n=t.streamId,a=t.videoComponent,r=t.className,l=t.fit,d=t.mirror;return o("div",{className:s.default.wrapper},void 0,o(a,{className:(0,i.default)(s.default.video,(0,u.getClass)(s.default,"video",l),(e={},e[s.default.mirror]=d,e),r),streamId:n,onReady:this.handleReady}),this.renderSpinner())},t.prototype.handleReady=function(){this.state.loading&&this.setState({loading:!1})},t}(r.PureComponent);c.Fit=f,c.defaultProps={fit:f.CONTAIN,mirror:!1},c.displayName="VideoStream",t.default=c,e.exports=t.default},6106:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={showChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_OPEN})},hideChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_CLOSE})}},e.exports=t.default},6107:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=n(7088),u=n(226),d=y(n(26)),f=y(n(69)),c=y(n(290)),p=n(372),h=(y(p),y(n(6))),m=y(n(5717));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return o(f.default,{className:(0,l.default)(m.default.description,n)},void 0,t instanceof p.CreditCardSourceRecord?h.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,u.upperCaseFirstChar)(t.brand),last_4:t.last4}):h.default.Messages.PAYMENT_SOURCE_PAYPAL)},t.prototype.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,a="";return t instanceof p.CreditCardSourceRecord?a=h.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,s.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof p.PaypalSourceRecord&&(a=t.email),a},t.prototype.render=function(){var e=this.props,t=e.isDefault,n=e.showSubtext,a=e.isPremium;return o(d.default,{},void 0,o(c.default,{type:this.typeString}),o(d.default,{direction:d.default.Direction.VERTICAL,className:m.default.descriptionWrapper},void 0,o(d.default,{align:d.default.Align.CENTER},void 0,this.renderDescription(),t?o("div",{className:m.default.defaultIndicator},void 0,h.default.Messages.DEFAULT):null,a?o("div",{className:m.default.premiumIndicator},void 0,h.default.Messages.PREMIUM):null),n?o("div",{className:m.default.subText},void 0,this.renderSubText()):null))},r(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof p.PaypalSourceRecord?c.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?c.default.getType(e.brand):c.default.Types.UNKNOWN}}]),t}(i.PureComponent);v.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1},v.displayName="PaymentDescription",t.default=v,e.exports=t.default},6109:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(70)),r=u(n(372)),i=u(n(6048)),l=u(n(519)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=null!=e.payment_source?r.default.createFromServer(e.payment_source):null,a=null!=e.sku?l.default.createFromServer(e.sku):null,o=null!=e.subscription?i.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:e.created_at,currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,subscription:o,skuId:e.sku_id,skuPrice:e.sku_price,sku:a})},t.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku},a(t,[{key:"isPremiumPayment",get:function(){return null!=this.subscription&&(null==this.subscription.plan||s.PREMIUM_PLANS.has(this.subscription.plan))}}]),t}(o.default);t.default=d,e.exports=t.default},6137:function(e,t,n){var a={"./bg.png":6136,"./cs.png":6135,"./da.png":6134,"./de.png":6133,"./el.png":6132,"./en-GB.png":6131,"./en-US.png":6130,"./es-ES.png":6129,"./fi.png":6128,"./fr.png":6127,"./hr.png":6126,"./hu.png":6125,"./it.png":6124,"./ja.png":6123,"./ko.png":6122,"./lt.png":6121,"./nl.png":6120,"./no.png":6119,"./pl.png":6118,"./pt-BR.png":6117,"./ro.png":6116,"./ru.png":6115,"./sv-SE.png":6114,"./tr.png":6113,"./uk.png":6112,"./zh-CN.png":6111,"./zh-TW.png":6110};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=6137},6138:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(11)),l=c(n(1161)),s=n(7134),u=c(s),d=n(0),f=c(n(1005));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a._mounted=!1,a.recordStart=function(){i.default.embedded&&(a.gs=new l.default,a.gs.on("change",a.handleGSChange)),a.setState({mode:s.RecordModes.RECORDING})},a.recordEnd=function(){a.cleanUp(),a.setState({mode:s.RecordModes.DEFAULT})},a.toggleRecordMode=function(){a.state.mode===s.RecordModes.DEFAULT?a.recordStart():a.recordEnd()},a.handleComboKeys=function(e,t,n){if(n.preventDefault(),"keydown"===n.type){var o=t.map(function(e){return[d.KeyboardDeviceTypes.KEYBOARD_KEY,(0,f.default)(e),d.KeyboardEnvs.BROWSER]}),r=n.keyCode;o.find(function(e){var t=e[1];return r===t})||o.push([d.KeyboardDeviceTypes.KEYBOARD_KEY,r,d.KeyboardEnvs.BROWSER]),a.handleComboChange(o)}},a.handleGSChange=function(e){if(!1!==a._mounted){var t=[].concat(e.combo);a.handleComboChange(t)}};var o=n.defaultValue;return a.state={codes:o,mode:s.RecordModes.DEFAULT},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._mounted=!0},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},t.prototype.cleanUp=function(){i.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},t.prototype.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},t.prototype.render=function(){var e=this.state,t=e.codes,n=e.mode,a=this.props.disabled,r=void 0;return i.default.embedded||(r=this.handleComboKeys),o(u.default,{disabled:a,value:t,mode:n,onClick:this.toggleRecordMode,onChange:r})},t}(r.PureComponent);p.displayName="KeybindRecorder",t.default=p,e.exports=t.default},6139:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(3)),s=y(n(12)),u=y(n(364)),d=y(n(161)),f=y(n(44)),c=y(n(69)),p=y(n(6)),h=y(n(34)),m=y(n(918));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=a=v(this,e.call.apply(e,[this].concat(s))),a.state={isSendingVerificationEmail:!1},a.handleResendVerification=function(){var e=a.props,t=e.currentUser,n=e.onClick;n&&n(),a.setState({isSendingVerificationEmail:!0},function(){m.default.verifyResend().then(function(){return h.default.push(function(e){return i.createElement(d.default,o({header:p.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.default.Messages.OKAY,red:!1},e),r(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,p.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email})))})}).catch(function(e){var t=e.body,n=p.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),h.default.push(function(e){return i.createElement(u.default,o({title:p.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return a.setState({isSendingVerificationEmail:!1})})})},v(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,a=e.size;return r(f.default,{look:n,size:a,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,p.default.Messages.RESEND_VERIFICATION_EMAIL)},t}(i.Component);g.defaultProps={size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND},g.displayName="ResendEmailVerificationButton",t.default=l.default.connectStores([s.default],function(){return{currentUser:s.default.getCurrentUser()}})(g),e.exports=t.default},6140:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(7)),r=s(n(3)),i=s(n(2)),l=s(n(381));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,d=[];var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackupCodes=function(){return d},a(t,[{key:"togglingSMS",get:function(){return u}}]),t}(r.default.Store);t.default=new f(i.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;l.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;l.default.setToken(t)},MFA_SMS_TOGGLE:function(e){u=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){u=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=o.default.sortBy(t,"code")}}),e.exports=t.default},6142:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(6)),l=m(n(88)),s=m(n(78)),u=m(n(263)),d=m(n(69)),f=m(n(159)),c=m(n(44)),p=m(n(506)),h=m(n(5756));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleSubmit=a.handleSubmit.bind(a),a.handleCancel=a.handleCancel.bind(a),a.handlePasswordChange=a.handlePasswordChange.bind(a),a.state={value:"",error:null,isLoading:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,a=e.children,m=this.state,y=m.error,v=m.isLoading,g=m.value,_=r.Children.count(a)?o(p.default,{type:p.default.Types.WARNING,className:h.default.card},void 0,o(d.default,{color:d.default.Colors.WHITE,size:d.default.Sizes.MEDIUM},void 0,a)):null;return o(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,t)),o(l.default.Content,{},void 0,_,o(u.default,{title:i.default.Messages.FORM_LABEL_PASSWORD,className:h.default.spacing},void 0,o(f.default,{type:"password",autoComplete:"off",autoFocus:!0,value:g,onChange:this.handlePasswordChange}),y?o(d.default,{size:d.default.Sizes.SMALL,color:d.default.Colors.RED,className:h.default.error},void 0," ",y," "):null)),o(l.default.Footer,{},void 0,o(c.default,{type:"submit",disabled:v},void 0,n||i.default.Messages.CONFIRM),o(c.default,{onClick:this.handleCancel,look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY},void 0,i.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,a=this.props,o=a.handleSubmit,r=a.onClose;this.setState({isLoading:!0}),o(n).then(function(){return r()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},t.prototype.handleCancel=function(){(0,this.props.onClose)()},t.prototype.handlePasswordChange=function(e){this.setState({value:e})},t}(r.PureComponent);y.key=function(){return"password-confirm-modal"},y.displayName="PasswordConfirm",t.default=y,e.exports=t.default},6144:function(e,t,n){"use strict";t.__esModule=!0,t.authorizeAndSetTestModeApplication=void 0;var a,o;t.authorizeAndSetTestModeApplication=(a=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({applicationId:t,type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_START}),e.prev=1,e.next=4,(0,s.fetchSKUsForApplication)(t,!1);case 4:if(null!=e.sent){e.next=7;break}throw new Error("Did not get a successful response from endpoint.");case 7:return l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS,applicationId:t}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL,applicationId:t}),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this,[[1,11]])}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)});t.reset=function(){l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_RESET})},t.resetError=function(){l.default.dispatch({type:u.ActionTypes.DEVELOPER_TEST_MODE_RESET_ERROR})};var r,i=n(2),l=(r=i)&&r.__esModule?r:{default:r},s=n(385),u=n(0)},6177:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.MasonryNodeInsertedEmitter=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(75)),l=p(n(7)),s=p(n(46)),u=p(n(26)),d=p(n(932)),f=n(6176),c=p(n(5835));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){h(this,t);var n=m(this,e.call(this));return n.node=document.createElement("div"),n}return y(t,e),t.prototype.getNode=function(){return this.node},t.prototype.componentWillUnmount=function(){(0,f.removeNode)(this.node)},t.prototype.render=function(){return i.default.createPortal(this.props.children,this.node)},t}(r.Component);v.displayName="MasonryItem";var g=t.MasonryNodeInsertedEmitter=new s.default;g.setMaxListeners(0);var _=function(t){function n(){var e,a;h(this,n);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return e=a=m(this,t.call.apply(t,[this].concat(r))),a._didMount=!1,a._columnNodes={},a._itemNodes={},a._columns=[],a._itemHeightsForRender={},a.debouncedUpdateColumns=l.default.debounce(function(){a.updateColumns(a.props)}),a.setColumnRef=function(e,t){null!=t&&(a._columnNodes[e]=t)},a.setMeasurementSectionRef=function(e){null!=e&&(a._measurementNode=e)},m(a,e)}return y(n,t),n.prototype.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(e.width!==this.props.width||this.getNumColumns(e)!==this.getNumColumns(this.props))this._itemHeightsForRender={};else{var n=e.items.map(e.getItemId),a=this.props.items.map(e.getItemId);l.default.isEqual(n,a)||(l.default.difference(a,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())}},n.prototype.componentWillUnmount=function(){this.debouncedUpdateColumns.cancel()},n.prototype.getNumColumns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.width,n=e.desiredItemWidth,a=e.maxColumns,o=Math.max(Math.floor(t/n),1);return Math.min(o,a)},n.prototype.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,a=this.getNumColumns(e),o=20*(a-1);return Math.floor(Math.min(n/a,t))-Math.ceil(o/a)},n.prototype.updateColumns=function(e){for(var t=this,n=e.items,a=e.getItemId,o=e.onColumnChange,r=this.getNumColumns(e),i=l.default.times(r,function(){return[]}),s=l.default.times(r,function(e){return{index:e,height:0}}),u=0;u<n.length;u++){var d=a(n[u]);if(null!=this._itemHeightsForRender[d]){var f=l.default.minBy(s,function(e){return e.height}).index;s[f].height+=this._itemHeightsForRender[d],i[f].push(d)}}this._columns=i,i.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=o&&o()},n.prototype.setMeasurementRef=function(t,n){if(null!=n){var a=n.getNode();this._itemNodes[t]=a,null==a.parentNode&&(this._measurementNode.appendChild(a),e(function(){return g.emit("change",{node:a})})),this._itemHeightsForRender[t]=a.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},n.prototype.render=function(){var e=this,t=this.props,n=t.items,a=t.getItemId,i=t.renderItem,l=t.renderHeader,s=t.className,d=t.renderEmpty,f=this.getNumColumns(this.props),p=this.getItemWidth(this.props),h=20-20/f;return o("div",{className:s},void 0,o(u.default,{direction:u.default.Direction.VERTICAL},void 0,null!=l?l():null,null!=d&&0===n.length?d():null,o(u.default,{justify:u.default.Justify.CENTER},void 0,0!==n.length?Array(f).fill().map(function(t,n){return r.createElement("div",{className:c.default.column,style:{width:"calc("+100/f+"% - "+h+"px)"},key:n,ref:e.setColumnRef.bind(e,n)})}):null)),r.createElement("div",{className:c.default.measureWrapper,style:{width:p},ref:this.setMeasurementSectionRef}),n.map(function(t,n){var o=a(t);return r.createElement(v,{id:o,ref:null==e._itemHeightsForRender[o]?e.setMeasurementRef.bind(e,o):null,key:o},i(t,p,n))}))},n}(r.PureComponent);_.defaultProps={maxColumns:1/0,maxItemWidth:1/0},_.displayName="MasonryLayout",t.default=(0,d.default)(_)}).call(this,n(37).setImmediate)},6211:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(26)),s=m(n(260)),u=m(n(262)),d=m(n(520)),f=n(35),c=m(n(916)),p=n(0),h=m(n(5881));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e,t){(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:p.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.prototype.renderUser=function(e){var t=this;return null==e?null:o(l.default,{className:h.default.user,align:l.default.Align.CENTER,onContextMenu:function(n){return null!=e&&t.handleContextMenu(n,e)}},e.id,o(s.default,{src:e.getAvatarURL(),size:s.default.Sizes.XSMALL}),o(d.default,{user:e,className:h.default.tag,usernameClass:h.default.username,discriminatorClass:h.default.discriminator}))},t.prototype.render=function(){var e=this,t=this.props,n=t.party,a=t.header,r=n.map(function(t){return e.renderUser(t)});return o("div",{className:h.default.userList},void 0,o("div",{className:h.default.header},void 0,a),o(u.default,{className:h.default.content,fade:!0,theme:u.default.Themes.GHOST_HAIRLINE},void 0,r))},t}(i.PureComponent);y.displayName="UserListPopout",t.default=y,e.exports=t.default},6212:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=m(n(1)),l=h(n(9)),s=n(167),u=m(n(530)),d=h(n(264)),f=n(529),c=h(n(217)),p=h(n(957));n(0);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=y(this,e.call.apply(e,[this].concat(l))),a.handleGamePopoutOpen=function(){var e=a.props,t=e.game,n=e.source,o=e.onOpen,r=e.analyticsContext;null!=t&&(u.trackGamePopoutOpened(t,n,r.location),o&&o())},a.renderGamePopout=function(e){var t=a.props,n=t.game,o=t.source,l=t.analyticsContext;return i.createElement(p.default,r({},e,{game:n,source:o,analyticsContext:l}))},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,a=e.interactiveClassName,r=e.game;return null==r||r.id===s.SPOTIFY_APPLICATION_ID||r instanceof f.TwitchGameRecord||r instanceof f.XboxGameRecord?t:o(c.default,{render:this.renderGamePopout,position:c.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,i.cloneElement(t,{className:(0,l.default)(t.props.className,a)}))},t}(i.PureComponent);v.displayName="GamePopoutOpener",t.default=(0,d.default)(v),e.exports=t.default},6215:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){r.default.dirtyDispatch({type:i.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},6262:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},6265:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(26)),s=u(n(5642));function u(e){return e&&e.__esModule?e:{default:e}}var d={WRAP:"wrap",STACK:"stack"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.layout,a=e.columns,r=void 0;switch(n){case d.STACK:r="100%";break;case d.WRAP:r=1/a*100+"%"}return t.map(function(e,t){return o(l.default.Child,{className:s.default.tile,basis:r,grow:0},t,e)})},t.prototype.render=function(){var e=this.props.className;return o(l.default,{className:(0,i.default)(e,s.default.grid),wrap:l.default.Wrap.WRAP},void 0,this.renderChildren())},t}(r.PureComponent);f.defaultProps={children:[],layout:d.WRAP,columns:4},f.displayName="Grid",f.Layout=d,t.default=f,e.exports=t.default},6270:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=h(n(3)),r=h(n(23)),i=h(n(2)),l=h(n(277)),s=h(n(6015)),u=h(n(5978)),d=h(n(11)),f=h(n(17)),c=h(n(5995)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=0,y=2,v="newUserModalStep",g="nuo_transition",_="NUX_WEB_WELCOME",E=0,S=m,T=!1,C={},b=void 0,N={name:"",icon:null,region:null};function O(e){if(A.isOpen()){var t=Date.now();E||(E=t);var n,o,r=(o=e,0===(n=S)&&0===o?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===o?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===o?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===o?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===o?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=r&&(f.default.track(g,a({},r,{flow_type:_,seconds_on_from_step:(t-E)/1e3})),S=e)}}function I(e){var t=e.step;O(t),S=t,r.default.set(v,t)}var A=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){S=r.default.get(v)||S,this.waitFor(l.default,s.default,u.default,c.default)},t.prototype.getNewUserModalStep=function(){return S},t.prototype.isOpen=function(){if(null!=u.default.getAction())return!1;var e=c.default.getExperimentDescriptor();return(!e||e.bucket===p.ExperimentBuckets.CONTROL)&&((0!==S||!(l.default.totalGuilds>0||d.default.embedded))&&(T&&S>=0&&S<y))},t.prototype.getProps=function(){return{step:S,errors:C,guildSubmitting:b===p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:N}},t}(o.default.Store))(i.default,{NEW_USER_FLOW_SET_STEP:I,NEW_USER_FLOW_GUILD_UPDATE:function(e){N=a({},N,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(e){return b=p.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,void I({step:y})},NEW_USER_FLOW_GUILD_FAILURE:function(e){b=p.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,C=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(e){b=p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(e){return T=!0,void O(0)},CONNECTION_CLOSED:function(e){T=!1},LOAD_REGIONS:function(e){null==e.guildId&&(N=a({},N,{region:N.region||s.default.getOptimalRegionId()}))},REGISTER:function(e){return E=0,void(S=m)},LOGOUT:function(e){return r.default.remove(v),void(T=!1)},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=A,e.exports=t.default},6271:function(e,t,n){var a={"./2017-11-16.mp4":6916,"./discriminator.mp4":6915,"./g250k-cl.mp4":6914,"./header.mp4":6913,"./league-rp-cl.mp4":6912,"./store.jpg":6911};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=6271},6272:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=h(n(3)),i=h(n(23)),l=h(n(2)),s=n(0),u=h(n(12)),d=h(n(30)),f=h(n(190)),c=h(n(5952)),p=h(n(555));function h(e){return e&&e.__esModule?e:{default:e}}var m="lastChangeLog",y="shouldShowChangeLog",v="en-us",g={},_={},E=void 0,S=!1,T=void 0,C=!1;function b(e){return e.locale||v}if(n(6919).replace(/\r\n/g,"\n").split("---changelog---\n").slice(1).forEach(function(e){var t=!1,n={},a=e.split("\n").filter(function(e){if("---"===e)return t=!0,!1;if(!t){var a=e.split(": "),o=a.shift(),r=a.join(": ");n[o]=JSON.parse(r)}return t}).join("\n");if(null==n.date||null==n.revision)throw new Error("ChangeLogStore: A changelog does not contain a date or revision property");var r=o({},n,{date:n.date,revision:n.revision,locale:null!=n.locale?n.locale.toLowerCase():v,body:a});if(null!=n.experiment_names&&n.experiment_names.length>0)n.experiment_names.forEach(function(e){var t=_[e]||(_[e]={}),n=r.experiment_bucket||(r.experiment_bucket=s.ExperimentBuckets.CONTROL),a=t[String(n)]||(t[String(n)]={}),o=b(r);if(null!=a[o])throw new Error("ChangeLogStore: Locale ("+o+") already defined for "+e);a[o]=r});else{var i=b(r);if(null!=g[i])throw new Error("ChangeLogStore: Locale ("+i+") already defined for default changelogs");g[i]=r}}),null==g[v])throw new Error("ChangeLogStore: No default changeLog");function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null!=_?Object.keys(_):[],n=d.default.locale.toLowerCase(),a=null;if(!e&&t.length>0){var o=c.default.getFirstEligibleUserExperiment(t);if(null!=o){var r=o.name;if(null==r||null==_[r])throw new Error("ChangeLogStore: This changelog experiment has not been registered");var i=String(o.bucket);null!=_[o.name][i]&&(a=_[o.name][i][n]||_[o.name][i][v])}}return null==a&&(a=g[n]||g[v]),a}function O(){var e=function(e){if(!e)return null;var t=e.date,n=e.revision,a=e.experiment_names;return p.default.v3(JSON.stringify({date:t,revision:n,experiment_names:a}))}(E=N());T!==e&&u.default.getCurrentUser().isClaimed()&&(C=null!=T,T=e,i.default.set(m,T),i.default.set(y,C)),S=!0}E=N(!0);var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){T=i.default.get(m)||T,C=i.default.get(y)||C,this.waitFor(u.default,f.default,d.default)},t.prototype.isOpen=function(){return S&&C},a(t,[{key:"changeLog",get:function(){return E}}]),t}(r.default.Store);t.default=new I(l.default,{CHANGE_LOG_OPEN:function(e){return C=!0,void i.default.set(y,C)},CHANGE_LOG_CLOSE:function(e){return C=!1,void i.default.set(y,C)},CONNECTION_OPEN:function(e){return O()},CONNECTION_CLOSED:function(e){S=!1},USER_SETTINGS_UPDATE:function(e){return function(e){if(null==e.locale)return!1;E=N()}(e.settings)}}),e.exports=t.default},6273:function(e,t,n){"use strict";t.__esModule=!0,t.LHeading=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(9)),s=C(n(281)),u=C(n(6306)),d=C(n(6106)),f=C(n(6272)),c=C(n(6918)),p=C(n(5952)),h=C(n(6)),m=n(956),y=C(n(17)),v=C(n(5)),g=C(n(69)),_=C(n(26)),E=C(n(78)),S=n(0),T=C(n(5656));function C(e){return e&&e.__esModule?e:{default:e}}var b=s.default.parserFor(c.default.getDefaultRules()),N=(t.LHeading=function(e){var t,n=e.level,a=e.children,o=e.className;return i.createElement("h"+n,{className:l.default.apply(void 0,(t=o,null==t?[]:t.split(" ").map(function(e){return T.default[e]})))},a)},function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.getScrollerRef=a.getScrollerRef.bind(a),a.handleScroll=a.handleScroll.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){d.default.hideChangeLog()},t.prototype.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=f.default.changeLog;if(a){var o=a.date,i=a.revision,l=r({change_log_id:o+":"+i},t);n||(l=r({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},l)),y.default.track(e,l)}},t.prototype.joinEligibleExperiment=function(){var e=f.default.changeLog;null!=e&&e.experiment_names&&p.default.triggerFirstEligibleUserExperiment(e.experiment_names)},t.prototype.getScrollerRef=function(e){this._scrollerNode=null!=e?e._scroller:null},t.prototype.componentDidMount=function(){if(null==f.default.changeLog)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(S.AnalyticEvents.CHANGE_LOG_OPENED,{},!0)},t.prototype.componentWillUnmount=function(){this.track(S.AnalyticEvents.CHANGE_LOG_CLOSED)},t.prototype.handleScroll=function(){if(null!=this._scrollerNode){var e=this._scrollerNode.getScrollData(),t=e.offsetHeight,n=e.scrollHeight,a=e.scrollTop/(n-t);this.maxScrolledPercentage=Math.max(this.maxScrolledPercentage,a)}},t.prototype.renderHeader=function(){var e=f.default.changeLog;return null==e?null:o(_.default.Child,{grow:1,shrink:1},void 0,o(E.default,{tag:E.default.Tags.H4},void 0,h.default.Messages.WHATS_NEW),o(g.default,{size:g.default.Sizes.SMALL,color:g.default.Colors.PRIMARY,className:T.default.date},void 0,h.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,v.default)(e.date).toDate():new Date})))},t.prototype.renderFooter=function(){return o(g.default,{size:g.default.Sizes.SMALL,color:g.default.Colors.PRIMARY},void 0,h.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.ChatXapp.com/tagged/changelog"}))},t.prototype.renderVideo=function(){var e=f.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,a=e.video;if(t)return o(m.EmbedVideo,{className:T.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254});if(a){var r=n(6271)("./"+a);return o("video",{src:r,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:T.default.video})}var i=n(6271)("./"+(e.image||"header.png"));return o("img",{alt:"",src:i,width:451,height:254})},t.prototype.render=function(){var e=f.default.changeLog||{};return i.createElement(u.default,{className:T.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),b(e.body,!1,{changeLog:this}))},t}(i.PureComponent));N.modalConfig={store:f.default,center:!0},N.displayName="ChangeLog",t.default=N},6274:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={open:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}},e.exports=t.default},6275:function(e,t,n){"use strict";t.__esModule=!0,t.valueRenderers=t.graphs=t.labelRenderers=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.Item=g;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=s(n(6927)),i=s(n(6926)),l=s(n(6209));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.labelRenderers={audioDetected:"Audio Detected",audioLevel:"Audio Level",availableIncomingBitrate:"Available Incoming Bitrate",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitratePreferred:"Bitrate (Preferred)",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",encodeUsage:"Encode Usage",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",nackCount:"NACK",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",qpSum:"qpSum",resolution:"Resolution",ssrc:"SSRC",localAddress:"Local Address"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function f(e){return l.default.filesize(e)}function c(e){return e+" ms"}function p(e){return e.toFixed(0)+"%"}function h(e){return e?"Yes":"No"}var m=t.graphs={availableIncomingBitrate:!0,availableOutgoingBitrate:!0,bytesReceived:!0,bytesSent:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0},y={audioDetected:h,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableIncomingBitrate:d,availableOutgoingBitrate:d,averageDecodeTime:c,averageEncodeTime:c,bandwidthLimitedResolution:h,bitrate:d,bitratePreferred:d,bitrateTarget:d,bytesReceived:f,bytesSent:f,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:h,delayEstimate:c,encodeUsage:p,fractionLost:p,jitter:c,jitterBuffer:c,jitterBufferPreferred:c,ping:c,resolution:function(e){return e.width+"x"+e.height}};function v(e){return o(i.default,{datapoint:e})}function g(e){var t=e.label,n=e.value,a=e.section,i=y[t]||function(e){return e};return o(r.default,{label:t,value:n,valueRendered:i(n),section:a,renderGraph:m[t]&&v.bind(null,n)},void 0,u[t]||t)}t.valueRenderers=y,v.displayName="renderGraph",g.displayName="Item"},6276:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(3)),i=c(n(7)),l=c(n(2)),s=c(n(5968)),u=c(n(18)),d=c(n(79)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,m=!1,y=void 0,v=void 0,g=null,_=null,E=null,S=null,T=null,C=null;function b(){E=s.default.getChannel(),S=s.default.getCategory();var e=E.getGuildId();_=g=function(e){var t=e.getGuildId(),n=o({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),n}(E),null==g[T]&&(T=e),v=null!=S,y=d.default.areChannelsLocked(E,S),C=null,m=!1,h=f.FormStates.CLOSED,p.clear()}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default)},t.prototype.hasChanges=function(){return m},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getPermissionOverwrite=function(e){return g&&g[e]},a(t,[{key:"editedPermissionIds",get:function(){return Array.from(p)}},{key:"permissionOverwrites",get:function(){return g}},{key:"selectedOverwriteId",get:function(){return T}},{key:"formState",get:function(){return h}},{key:"isLockable",get:function(){return v}},{key:"locked",get:function(){return y}},{key:"channel",get:function(){return E}},{key:"category",get:function(){return S}}]),t}(r.default.Store);t.default=new N(l.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=E||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;b()},CHANNEL_SETTINGS_PERMISSIONS_INIT:function(e){return b()},CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,a=e.allow,r=e.deny,l=g&&g[n];if(null==l||null==E)return!1;l=o({},l,{allow:a,deny:r}),g=o({},g,((t={})[n]=l,t)),p.add(n),h=f.FormStates.OPEN,m=!i.default.isEqual(g,_),y=d.default.areChannelsLocked(E,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=g&&null!=g[t])T=t;else{if(null==E)return!1;C=t}},CHANNEL_SETTINGS_CLOSE:function(e){return h=f.FormStates.CLOSED,g=null,_=null,E=null,S=null,m=!1,p.clear(),T=null,void(C=null)},CHANNEL_UPDATE:function(e){return function(e){if(null==E||E.id!==e)return!1;if(null==(E=u.default.getChannel(e)))return!1;S=s.default.getCategory();var t=E.getGuildId();if(null==t)return!1;var n={};p.forEach(function(e){null!=g&&(n[e]=g[e])}),null==n[t]&&null==E.permissionOverwrites[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),null==(g=o({},E.permissionOverwrites,n))[T]?T=t:C&&g[C]&&(T=C,C=null),y=d.default.areChannelsLocked(E,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(e){h=f.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){return h=f.FormStates.CLOSED,void b()}}),e.exports=t.default},6294:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=s(n(3)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.has=function(e){return null!=e&&null!=u[e]},a(t,[{key:"windows",get:function(){return u}}]),t}(r.default.Store);t.default=new d(i.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t,n=e.id,a=e.component,r=e.position,i=e.props,s=e.offsets;null==r&&(r=l.PictureInPicturePositions.BOTTOM_LEFT),u=o({},u,((t={})[n]={component:a,position:r,props:i,offsets:s},t))},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==u[t])return!1;delete u[t],u=o({},u)},PICTURE_IN_PICTURE_MOVE:function(e){var t,n=e.id,a=e.position;u=o({},u,((t={})[n]=o({},u[n],{position:a}),t))},LOGOUT:function(e){u={}}}),e.exports=t.default},6295:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments[4];r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,position:n,props:a,offsets:o})},t.close=function(e){r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){r.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},6296:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=c(n(3)),r=c(n(2)),i=c(n(23)),l=c(n(126)),s=c(n(18)),u=c(n(14)),d=c(n(227)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p="IncomingCallStore",h={width:240,height:340},m=10,y=new Set,v=Object.freeze({}),g={},_=new Set,E=0,S=0,T=!1;function C(e){return null!=e&&(null!=g[e]&&(delete g[e],g=a({},g),void(_=new Set(_)).delete(e)))}function b(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!_.has(t)&&n){var o,r=s.default.getChannel(t);if(null==r)return!1;var i=m*_.size;g=a({},g,((o={})[t]={channel:r,x:E+i,y:S+i},o)),(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;C(t)}}function N(){T=d.default.getStatus()===f.StatusTypes.DND}!function(){var e=i.default.get(p);if(e)E=+e.x,S=+e.y;else{var t=l.default.windowSize();E=t.width/2-h.width/2,S=t.height/2-h.height/2}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default),this.syncWith([d.default],N)},t.prototype.getIncomingCalls=function(){return T?v:g},t.prototype.getIncomingCallChannelIds=function(){return T?y:_},t.prototype.getFirstIncomingCallId=function(){return T?null:_.values().next().value},t.prototype.hasIncomingCalls=function(){return!T&&_.size>0},t}(o.default.Store);t.default=new O(r.default,{CALL_CREATE:b,CALL_UPDATE:b,CALL_DELETE:function(e){return C(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return C(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return E=t,S=n,i.default.set(p,{x:E,y:S}),!1},CHANNEL_DELETE:function(e){return C(e.channel.id)}}),e.exports=t.default},6303:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=m(n(3)),i=m(n(7)),l=m(n(2)),s=m(n(12)),u=m(n(27)),d=m(n(62)),f=m(n(82)),c=m(n(61)),p=m(n(276)),h=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t=s.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function E(e){return{status:f.default.getStatus(e),activity:f.default.getPrimaryActivity(e)}}var S=function(e){function t(){return y(this,t),v(this,e.apply(this,arguments))}return g(t,e),t.prototype.initialize=function(e){this.key=e.key,this.type=e.type,this.status=e.status,this.activity=e.activity,this.user=e.user,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds},o(t,[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}]),t}(m(n(70)).default),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),this._rows=t}return e.prototype.reset=function(){return new e(i.default.map(c.default.getRelationships(),function(e,t){return new S(a({key:t,type:e},_(t),E(t),function(e){var t=[];return(0,i.default)(d.default.memberOf(e)).map(u.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}(t)))}))},e.prototype.clone=function(){return new e(this._rows)},e.prototype.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var a=this._rows[n],o=a.merge(e(a.key));t=t||o!==a,this._rows[n]=o}return t},e.prototype.filter=function(e){return(0,i.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},e.prototype.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[h.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}(),C=!0,b=!1,N=h.FriendsSections.ONLINE,O=new T,I=!0;function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C&&(e||N!==h.FriendsSections.ONLINE&&N!==h.FriendsSections.ADD_FRIEND)&&!b&&(C=!1,b=!0,p.default.fetchRelationships())}function M(){O=I?new T:O.reset()}function R(e){return function(){return!I&&(!!O.update(e)&&(O=O.clone(),!0))}}var P=function(e){function t(){return y(this,t),v(this,e.apply(this,arguments))}return g(t,e),t.prototype.initialize=function(){this.waitFor(c.default,f.default,s.default,u.default,d.default),this.syncWith([c.default],M),this.syncWith([s.default],R(_)),this.syncWith([f.default],R(E))},t.prototype.getState=function(){return{fetching:b,section:N,pendingCount:c.default.getPendingCount(),rows:O}},t}(r.default.Store);t.default=new P(l.default,{CONNECTION_OPEN:function(e){return function(){C=!0,I?b=!1:A();var e=(O=O.reset()).getRelationshipCounts();0===e[h.RelationshipTypes.FRIEND]&&(N=0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND)}()},FRIENDS_SET_SECTION:function(e){N=e.section,A()},CHANNEL_SELECT:function(e){var t=e.channelId;return I=null!=t,M()},LOAD_RELATIONSHIPS_SUCCESS:function(e){b=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return C=!0,void(b=!0)}}),e.exports=t.default},6306:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(88)),s=d(n(26)),u=d(n(5676));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.setRef=a.setRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},t.prototype.render=function(){var e=this.props,t=e.renderFooter,n=e.selectable,a=e.renderHeader,d=e.className,f=e.onClose,c=e.children,p=e.onScroll,h=void 0;return t&&(h=o(l.default.Footer,{direction:s.default.Direction.HORIZONTAL},void 0,t())),r.createElement(l.default,{className:u.default.modal,size:u.default.size,ref:this.setRef,onScroll:p},o(l.default.Header,{},void 0,a(),o(s.default.Child,{grow:0},void 0,o(l.default.CloseButton,{onClick:f}))),o(l.default.Content,{className:(0,i.default)(d,u.default.content,{selectable:n})},void 0,c),h)},t}(r.PureComponent);f.defaultProps={selectable:!1},f.displayName="Markdown",t.default=f,e.exports=t.default},6308:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_AVATAR_VIDEO_RATIO=t.CallAvatarPixelSizes=t.CallAvatarSizes=void 0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=n(0),u=m(n(26)),d=m(n(6103)),f=m(n(77)),c=m(n(58)),p=m(n(112)),h=m(n(5687));function m(e){return e&&e.__esModule?e:{default:e}}var y=t.CallAvatarSizes={XXLARGE:"xxlarge",XLARGE:"xlarge",LARGE:"large",SMALL:"small"},v=(t.CallAvatarPixelSizes=((o={})[y.XXLARGE]=100,o[y.XLARGE]=60,o[y.LARGE]=40,o[y.SMALL]=30,o),t.CALL_AVATAR_VIDEO_RATIO=1.78,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.selected,a=e.streamId,o=e.hasVideo,i=e.mirror,l=e.videoComponent,f=e.disabled,p=e.poorConnection;if(f)return null;if(t===s.ChannelModes.VIDEO&&(n||p)){var m=void 0;return m=r(c.default,p?{className:h.default.poorConnectionIcon,width:24,height:24,color:s.Colors.WHITE,name:c.default.Names.CAMERA_OFF}:{width:36,height:36,className:h.default.cameraIcon,color:s.Colors.WHITE,name:c.default.Names.VIDEO_CAMERA}),r(u.default,{className:h.default.callAvatarOverlay,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,direction:u.default.Direction.VERTICAL},void 0,m)}return t===s.ChannelModes.VIDEO&&o&&null!=l?r(d.default,{className:h.default.callAvatarVideo,mirror:i,streamId:a,videoComponent:l,fit:d.default.Fit.COVER}):null},t.prototype.renderRipples=function(){return this.props.ringing?[r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple0)},"ripple-0"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple1)},"ripple-1"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple2)},"ripple-2")]:null},t.prototype.renderTopLayer=function(){var e,t=this.props,n=t.mode,a=t.speaking,o=t.soundsharing,i=t.selected,u=t.muted,d=t.deafen,f=t.disabled,p=a&&!f,m=o&&!f,y=i&&!f,v=u&&!f,g=d&&!f,_=r("div",{className:(0,l.default)(h.default.callAvatarBorder,h.default[n],(e={},e[h.default.selected]=y,e[h.default.soundsharing]=m,e[h.default.speaking]=p,e))},"border"),E=n===s.ChannelModes.VOICE,S=void 0;if(v||g){var T=E?24:20;S=r(c.default,{className:h.default.callAvatarStatus,width:T,height:T,color:s.Colors.WHITE,name:g?c.default.Names.DEAFENED:c.default.Names.MUTED},"status")}return E?[_,S]:[S,_]},t.prototype.render=function(){var e,t,n=this.props,a=n.src,o=n.mode,i=n.size,u=n.id,d=n.onClick,c=n.onContextMenu,m=n.className,y=n.disabled,v=n.name,g={backgroundImage:"url('"+a+"')"},_=r("div",{className:(0,l.default)(h.default.callAvatarWrapper,h.default[o],h.default[i],(e={},e[h.default.disabled]=y,e),m)},void 0,this.renderRipples(),r(f.default,{className:(0,l.default)(h.default.callAvatar,h.default[o],(t={},t[h.default.disabled]=y,t)),style:g,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d&&d(u,e)}),onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return c&&c(e,u)})},void 0,this.renderContent(),this.renderTopLayer()));return o===s.ChannelModes.VOICE||y?_:r(p.default,{text:v,position:p.default.Positions.LEFT},void 0,_)},t}(i.PureComponent));v.defaultProps={mode:s.ChannelModes.VOICE,size:y.XXLARGE,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1},v.displayName="CallAvatar",t.default=v},6309:function(e,t,n){"use strict";t.__esModule=!0,t.BackgroundTransition=void 0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=m(n(7)),u=m(n(156)),d=m(n(356)),f=n(57),c=m(n(26)),p=n(0),h=m(n(5690));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=((o={})[p.ChannelLayouts.NORMAL]=h.default.normal,o[p.ChannelLayouts.MINIMUM]=h.default.minimum,o[p.ChannelLayouts.NO_CHAT]=h.default.noChat,o[p.ChannelLayouts.FULL_SCREEN]=h.default.fullScreen,o),E=t.BackgroundTransition=function(e){function t(n){y(this,t);var a=v(this,e.call(this,n));return a.state={animation:new u.default.Value(0)},a}return g(t,e),t.prototype.componentDidAppear=function(){this.state.animation.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},t.prototype.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},t.prototype.render=function(){return r(u.default.div,{className:h.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(i.PureComponent);E.displayName="BackgroundTransition";var S=function(e){function t(n){y(this,t);var a=v(this,e.call(this,n));return a._timeout=new f.Timeout,a.state={idle:!1,backgroundAnimation:new u.default.Value(0)},s.default.bindAll(a,["handleMouseEvent"]),a}return g(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.layout!==e.layout&&(this._timeout.stop(),this.state.idle&&this.setState({idle:!1}))},t.prototype.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==p.ChannelLayouts.FULL_SCREEN&&t!==p.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},t.prototype.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,a=e.layout+"-"+(n||"");return r(d.default,{className:h.default.videoBackground,component:"div"},void 0,r(E,{},a,t))},t.prototype.renderContents=function(){var e,t,n=this.props,a=n.top,o=n.center,i=n.bottom,s=n.layout,u=n.focused,d=this.state.idle;return r(c.default,{className:(0,l.default)(h.default.video,_[s],(e={},e[h.default.idle]=d,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,r(c.default,{className:h.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),r(c.default,{className:(0,l.default)(h.default.videoInner,(t={},t[h.default.focused]=u,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,r(c.default,{className:h.default.videoTop,grow:0},void 0,a),r(c.default,{className:h.default.videoCenter},void 0,o),r(c.default,{className:h.default.videoBottom,grow:0},void 0,i))))},t.prototype.render=function(){var e,t=this.props,n=t.layout,a=t.className,o=t.animated;return r("div",{className:(0,l.default)(h.default.videoHeight,_[n],a,(e={},e[h.default.animated]=o,e))},void 0,this.renderContents())},t}(i.PureComponent);S.defaultProps={layout:p.ChannelLayouts.MINIMUM,animated:!0},S.displayName="Video",t.default=S},6310:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=X(n(3)),s=X(n(9)),u=X(n(6)),d=X(n(7043)),f=X(n(284)),c=X(n(138)),p=X(n(268)),h=X(n(276)),m=X(n(7042)),y=X(n(374)),v=X(n(6204)),g=X(n(923)),_=X(n(82)),E=X(n(61)),S=X(n(124)),T=X(n(30)),C=X(n(12)),b=X(n(919)),N=n(522),O=X(N),I=X(n(5962)),A=X(n(44)),M=X(n(365)),R=X(n(26)),P=X(n(5974)),L=X(n(58)),w=X(n(88)),D=X(n(972)),U=X(n(77)),k=X(n(217)),F=X(n(69)),x=X(n(159)),G=X(n(112)),B=n(158),j=X(n(17)),H=n(193),V=n(275),Y=n(518),W=n(0),z=X(n(5691)),K=X(n(1211)),$=X(n(504)),q=X(n(544));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=42;function te(e){var t=e.className,n=e.children;return r(R.default,{align:R.default.Align.CENTER,justify:R.default.Justify.CENTER,direction:R.default.Direction.VERTICAL,className:(0,s.default)(z.default.errorState,t)},void 0,r("div",{className:(0,s.default)(z.default.errorStateIcon,$.default.marginBottom20)}),n)}te.displayName="ErrorState";var ne=function(e){function t(){var n,a;Q(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=J(this,e.call.apply(e,[this].concat(r))),a.handleMouseEnter=function(){var e=a.props,t=e.onMouseEnter,n=e.row;null!=t&&t(n)},a.handleClick=function(){var e=a.props,t=e.onClick,n=e.user;null!=t&&t(n.id)},J(a,n)}return Z(t,e),t.prototype.getDisplayName=function(){var e=this.props,t=e.user,n=e.comparator;return null!=n&&n===t.tag?t.username:n||t.username},t.prototype.render=function(){var e,t=this.props,n=t.user,a=t.hideDiscriminator,o=t.selected,i=t.checked;return r(U.default,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:z.default.friendWrapper},void 0,r(R.default,{align:R.default.Align.CENTER,className:(0,s.default)(z.default.friend,(e={},e[z.default.friendSelected]=o,e))},void 0,r(b.default,{user:n,status:_.default.getStatus(n.id)}),r(R.default,{className:z.default.match,align:R.default.Align.BASELINE},void 0,r(F.default,{weight:F.default.Weights.MEDIUM,className:z.default.nickname},void 0,this.getDisplayName()),r(D.default,{user:n,hideDiscriminator:a,className:z.default.ChatXTag,usernameClass:K.default.weightMedium,discriminatorClass:K.default.weightMedium})),r(M.default,{color:W.Colors.PRIMARY,size:22,value:i})))},t}(i.PureComponent);ne.displayName="UserRow";var ae=function(e){function t(){var n,a;Q(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=J(this,e.call.apply(e,[this].concat(l))),a.state={separator:!1,copied:!1},a.scrollerRef=i.createRef(),a.searchBarRef=i.createRef(),a.renderRow=function(e,t){var n=e.user,o=e.comparator,i=a.props,l=i.selectedUsers,s=i.selectedRow,u=i.hideDiscriminator,d=l.has(n.id);return r(ne,{row:t,user:n,hideDiscriminator:u,comparator:o,checked:d,selected:t===s,onClick:a.handleClick,onMouseEnter:a.focusResult},n.id)},a.forceFocus=function(){var e=a.searchBarRef.current;e&&e.focus()},a.focusResult=function(e){d.default.select(e)},a.handleSelect=function(e,t){var n=a.props.results;null==t?d.default.clear():null!=n&&a.handleClick(n[t].user.id)},a.handleSelectionChange=function(e,t){d.default.select(t);var n=a.scrollerRef.current;null!=n&&n.scrollIntoViewRect(t*ee,t*ee+ee)},a.handleRemoveUser=function(e){var t=Array.from(a.props.selectedUsers);d.default.removeUser(t[e]),a.forceFocus()},a.handleClick=function(e){var t=a.props,n=t.selectedUsers,o=t.query;!n.has(e)?(d.default.addUser(e),o.length>0&&d.default.clear()):d.default.removeUser(e),a.forceFocus()},a.handleScroll=function(){var e=a.scrollerRef.current;null!=e&&a.setState({separator:0!==e.getScrollTop()})},a.handleInviteUsers=function(){var e=a.props,t=e.channel,n=e.selectedUsers,o=e.onClose,r=Array.from(n);if(null!=t){var i=y.default.isCallActive(t.id);c.default.addRecipients(t.id,r,"Add Friends to DM").then(function(e){i&&f.default.ring(e,r)})}else c.default.openPrivateChannel(C.default.getCurrentUser().id,r,!1,!1,"New Group DM");o()},a.handleCopyInvite=function(e){var t=a.props,n=t.channel,o=t.invite;null!=o&&(0,Y.copy)(e),null!=a.copyTimeout&&clearTimeout(a.copyTimeout),a.setState({copied:!0}),a.copyTimeout=setTimeout(function(){a.setState({copied:!1})},1e3),j.default.track(W.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=n?n.id:null,channel_type:null!=n?n.type:null,location:"Add Friends to DM",code:null!=o?o.code:null})},J(a,n)}return Z(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&!this.isPartyFull()){var t={max_age:10800};p.default.createInvite(e.id,t,"Group DM Invite Mount")}var n=(0,H.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?j.default.track(W.AnalyticEvents.OPEN_POPOUT,o({},n,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):j.default.track(W.AnalyticEvents.OPEN_POPOUT,o({},n,{type:"Add Friends to DM",source:"Group DM"})):j.default.track(W.AnalyticEvents.OPEN_POPOUT,o({},n,{type:"New Group DM",source:"Friends List"}))},t.prototype.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout)},t.prototype.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!E.default.isFriend(t)},t.prototype.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},t.prototype.getMaxParticipants=function(){return W.MAX_GROUP_DM_PARTICIPANTS},t.prototype.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,a=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-a},t.prototype.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,a=this.getRemaining(),o=null!=t&&0===n.size||a<0;return r(A.default,{fullWidth:!0,disabled:o,onClick:this.handleInviteUsers},void 0,u.default.Messages.CREATE_GROUP_DM)},t.prototype.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var a=this.getRemaining(),o=0===n.size||a<0;return r("div",{className:z.default.addButton},void 0,r(A.default,{size:A.default.Sizes.SMALL,disabled:o,onClick:this.handleInviteUsers},void 0,u.default.Messages.ADD))}},t.prototype.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?u.default.Messages.GROUP_DM_INVITE_FULL_SUB:u.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)(z.default.subtitle,(e={},e[z.default.subtitleWarning]=t<0,e),$.default.marginTop4)},void 0,n)},t.prototype.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,a=e.results,o=e.selectedRow,l=e.selectedUsers,d=T.default.theme;if(!n||this.isNotFriends())return null;var f=[];return l.forEach(function(e){var t=C.default.getUser(e);null!=t&&f.push(t.username)}),r(R.default,{className:(0,s.default)(z.default.searchBar,$.default.marginTop20)},void 0,i.createElement(I.default,{ref:this.searchBarRef,query:t,selectedSection:0,selectedRow:o,sections:[a?a.length:0],tags:f,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,light:d===W.ThemeTypes.LIGHT,placeholder:0===l.size?u.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),autoFocus:!0}),this.renderAddUsersButton())},t.prototype.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?u.default.Messages.GROUP_DM_ADD_FRIENDS:u.default.Messages.GROUP_DM_HEADER;return r(w.default.Header,{direction:R.default.Direction.VERTICAL,align:R.default.Align.STRETCH,className:z.default.header,separator:e},void 0,r(B.FormTitle,{tag:B.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},t.prototype.renderBody=function(){var e=this,t=this.props,n=t.channel,a=t.hasFriends,o=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var d=C.default.getUser(l),f=null!=d?d.username:"";return r(te,{className:z.default.notFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:f})),r(A.default,{size:A.default.Sizes.SMALL,onClick:function(){return d?e.handleAddFriend(d):null},className:$.default.marginTop20},void 0,u.default.Messages.ADD_FRIEND_BUTTON))}if(!a)return r(te,{className:z.default.noFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return r(te,{className:z.default.partyFull},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_MAIN),r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_SUB));if(0===o.length)return r(te,{className:(0,s.default)(z.default.noResults,$.default.marginBottom20)},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_EMPTY));var c=T.default.theme,p=o.map(this.renderRow);return i.createElement(O.default,{ref:this.scrollerRef,className:z.default.scroller,elementHeight:ee,theme:N.Themes.GHOST_HAIRLINE,backgroundColor:c===W.ThemeTypes.LIGHT?void 0:W.Colors.CHANNELS_GREY,onUpdate:this.handleScroll,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},p)},t.prototype.renderInviteLink=function(){var e,t=this,n=this.props,a=n.channel,o=n.invite,l=n.hideInstantInvites,d=this.state.copied;if(null==a||!a.isGroupDM()||this.isPartyFull())return null;var f=null!=o?(0,V.getInviteURL)(o.code):"";return r(i.Fragment,{},void 0,r(B.FormTitle,{tag:B.FormTitle.Tags.H5,className:$.default.marginBottom8},void 0,u.default.Messages.GROUP_DM_INVITE_LINK_TITLE),r(R.default,{className:(0,s.default)(q.default.input,(e={},e[q.default.success]=d,e)),justify:R.default.Justify.BETWEEN,align:R.default.Align.CENTER},void 0,r(x.default,{className:z.default.copyInput,name:"invite",value:l?u.default.Messages.INSTANT_INVITE_HIDDEN:f,editable:!1,inputClassName:z.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),Y.SUPPORTS_COPY?r(A.default,{size:A.default.Sizes.SMALL,color:d?A.default.Colors.GREEN:A.default.Colors.BRAND,className:z.default.copyButton,onClick:function(){return t.handleCopyInvite(f)}},void 0,d?u.default.Messages.INVITE_COPIED:u.default.Messages.COPY):null),r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)($.default.marginTop8,z.default.footerText)},void 0,u.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})))},t.prototype.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var a=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=a?r(i.Fragment,{},void 0,r("div",{className:z.default.footerSeparator}),r(R.default,{direction:R.default.Direction.VERTICAL,className:z.default.footer},void 0,a)):void 0},t.prototype.render=function(){return r(w.default,{className:z.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t.prototype.handleAddFriend=function(e){this.props.onClose(),h.default.sendRequest(e.tag,{location:"Group DM"})},t.prototype.handleQueryChange=function(e){d.default.search(e)},t}(i.PureComponent);ae.displayName="PrivateChannelRecipientsInvitePopout";var oe=l.default.connectStores([m.default,v.default,S.default],function(e){var t=e.channel,n=void 0;return null!=t&&null!=(n=v.default.getInvite(t.id))&&n.isExpired()&&(n=null),o({},m.default.getState(),{invite:n,hideDiscriminator:S.default.hidePersonalInformation,hideInstantInvites:S.default.hideInstantInvites})})(ae),re=function(e){function t(){var n,a;Q(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=a=J(this,e.call.apply(e,[this].concat(l))),a.popoutRef=i.createRef(),a.renderPopout=function(e){return i.createElement(oe,o({},e,{channel:a.props.channel}))},J(a,n)}return Z(t,e),t.prototype.componentDidMount=function(){this.maybeForceOpen()},t.prototype.componentDidUpdate=function(e){e.channel!==this.props.channel&&this.maybeForceOpen()},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.tooltip;return i.createElement(k.default,{ref:this.popoutRef,closeOnScroll:!1,render:this.renderPopout,position:k.default.Positions.TOP_RIGHT,shadow:!1,offsetX:5,uniqueId:W.NEW_GROUP_DM_POPOUT_ID,animationType:k.default.Animations.NONE,subscribeTo:W.ComponentActions.TOGGLE_DM_CREATE},r(G.default,{text:n,position:G.default.Positions.BOTTOM},void 0,r(P.default.Icon,{name:null==t?L.default.Names.COMPOSE:L.default.Names.PERSON_PLUS})))},t.prototype.maybeForceOpen=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&0===e.recipients.length&&!g.default.isOpen(W.NEW_GROUP_DM_POPOUT_ID)){var t=this.popoutRef.current;null!=t&&t.open()}},t}(i.Component);re.displayName="PrivateChannelRecipientsInviteButton",t.default=re,e.exports=t.default},6318:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=v(n(9)),s=n(0),u=n(260),d=v(u),f=v(n(972)),c=v(n(58)),p=v(n(26)),h=v(n(7053)),m=n(102),y=v(n(5698));v(n(89));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActivity=function(){var e=this.props.activity;return null==e?null:r(p.default,{className:y.default.activity,align:p.default.Align.CENTER},void 0,r("div",{className:y.default.activityText},void 0,(0,m.renderActivity)(e)),(0,m.hasRichActivity)(e)?r(c.default,{name:c.default.Names.RICH_ACTIVITY,className:y.default.activityIcon,foreground:y.default.activityIconForeground}):null)},t.prototype.render=function(){var e,t=this.props,n=t.user,a=t.nick,c=t.colorString,p=t.className,v=t.darkenColor,g=t.status,_=t.isTyping,E=t.isOwner,S=t.ownerTooltipText,T=t.activity,C=t.shouldAnimateTypingIndicator,b=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["user","nick","colorString","className","darkenColor","status","isTyping","isOwner","ownerTooltipText","activity","shouldAnimateTypingIndicator"]);if(null==n)return r(h.default,{avatarSize:u.AvatarSizes.SMALL,className:y.default.placeholder});var N={};null!=c&&(N.color=c);var O=g===s.StatusTypes.OFFLINE,I=O?y.default.avatarOffline:null,A=O?y.default.memberOffline:y.default.memberOnline,M=O?y.default.usernameOffline:y.default.usernameOnline,R=(0,m.isStreaming)(T)?d.default.Statuses.STREAMING:g;return R=O?null:R,i.createElement("div",o({},b,{className:(0,l.default)(A,p)}),r("div",{className:y.default.content},void 0,r("span",{className:y.default.avatarWrapper},void 0,r(d.default,{size:d.default.Sizes.SMALL,src:n.getAvatarURL(),className:I,status:R,statusClassName:C?y.default.statusAnimated:y.default.statusStatic,isTyping:_,shouldAnimateTypingIndicator:C})),r("div",{className:y.default.memberInner},void 0,r(f.default,{className:(0,l.default)(y.default.nameTag,(e={},e[y.default.darken]=null!=c&&v,e)),usernameClass:M,hideDiscriminator:!0,nick:a,isOwner:E,ownerTooltipText:S,ownerIconClass:y.default.ownerIcon,user:n,style:N}),this.renderActivity())))},t}(i.PureComponent);g.defaultProps={shouldAnimateTypingIndicator:!0},g.displayName="MemberListItem",t.default=g,e.exports=t.default},6321:function(e,t,n){"use strict";var a;t.__esModule=!0;var o=s(n(2)),r=s(n(13)),i=n(127),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=((a={})[l.HypeSquadHouses.HOUSE_1]=1,a[l.HypeSquadHouses.HOUSE_2]=2,a[l.HypeSquadHouses.HOUSE_3]=3,a);t.default={joinHypeSquadOnline:function(e){return r.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:u[e.houseID]}}).then(function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new i.APIError(e)})},leaveHypeSquadOnline:function(){return r.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE}).then(function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new i.APIError(e)})}},e.exports=t.default},6322:function(e,t,n){"use strict";t.__esModule=!0,t.ShineAnimation=void 0;var a,o,r,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=h(n(9)),u=h(n(139)),d=h(n(156)),f=n(291),c=n(0),p=h(n(5723));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=Object.freeze({DURATION:(o={},o[c.PremiumTypes.TIER_1]=1e3,o[c.PremiumTypes.TIER_2]=1500,o),DELAY:(r={},r[c.PremiumTypes.TIER_1]=400,r[c.PremiumTypes.TIER_2]=2200,r),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),v=(0,u.default)({ACTIVATED:null,UPGRADE:null}),g=i("svg",{viewBox:"0 0 224 20"},void 0,i("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),_=i("svg",{viewBox:"0 0 226 20"},void 0,i("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),E=t.ShineAnimation=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=m(this,e.call.apply(e,[this].concat(r))),a.animation=new d.default.Value(0),m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.animate()},t.prototype.animate=function(){var e=this.props.premiumType;d.default.timing(this.animation,{toValue:1,delay:y.DELAY[e],duration:y.DURATION[e]}).start()},t.prototype.getContainerStyle=function(){var e=y.FLASH_TIME_PERCENT,t=y.FLASH_DURATION_PERCENT,n=this.props.theme===c.ThemeTypes.DARK?c.Colors.WHITE:c.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[c.Colors.TRANSPARENT_WHITE,c.Colors.TRANSPARENT_WHITE,n,n,c.Colors.TRANSPARENT_WHITE]})}},t.prototype.getShineStyle=function(){return d.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},t.prototype.renderSvg=function(){return this.props.type===v.ACTIVATED?g:_},t.prototype.render=function(){return i(d.default.div,{className:(0,s.default)(p.default.container,this.props.className),style:this.getContainerStyle()},void 0,i(f.Shine,{className:p.default.shine,style:this.getShineStyle()}),this.renderSvg())},t}(l.PureComponent);E.Types=v,E.displayName="ShineAnimation",t.default=E},6323:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(9))),i=h(n(359)),l=n(271),s=h(n(26)),u=h(n(58)),d=h(n(88)),f=n(0),c=h(n(6)),p=h(n(5724));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){var t,n,a=e.shouldShowPrice,h=e.plan,m=e.renderAnimation,y=e.onClose,v=i.default.getPremiumType(h),g=v===f.PremiumTypes.TIER_1;return o("div",{className:(0,r.default)((t={},t[p.default.tier1HeaderBackground]=v===f.PremiumTypes.TIER_1,t[p.default.tier2HeaderBackground]=v===f.PremiumTypes.TIER_2,t))},void 0,m(),o(s.default,{align:s.default.Align.START,justify:s.default.Justify.BETWEEN,className:p.default.headerTop},void 0,o(u.default,{name:g?u.default.Names.Premium_CLASSIC:u.default.Names.Premium,className:(0,r.default)(p.default.headerIcon,(n={},n[p.default.tier1]=g,n))}),o(d.default.CloseButton,{className:p.default.closeIcon,onClick:y})),a?o("div",{className:p.default.price},void 0,function(e){var t=i.default.getPrice(e);switch(i.default.getPeriod(e)){case f.SubscriptionPeriods.MONTHLY:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,l.formatPrice)(t.amount,t.currency)});case f.SubscriptionPeriods.YEARLY:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,l.formatPrice)(t.amount,t.currency)})}}(h)):null)}m.displayName="PremiumPaymentHeader",t.default=m,e.exports=t.default},6324:function(e,t,n){"use strict";t.__esModule=!0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(7),i=(a=r)&&a.__esModule?a:{default:a};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return n=a=l(this,e.call.apply(e,[this].concat(s))),a.ref=o.createRef(),a.shouldRenderFrame=!0,a.animate=function(){var e=a.props,t=e.intensity;if(e.isShaking){var n=a.ref.current;if(a.shouldRenderFrame&&null!=n){var o=i.default.random(-t,t,!0),r=i.default.random(-t,t,!0);n.style.transform="translate3d("+o+"px,"+r+"px,0px)"}a.shouldRenderFrame=!a.shouldRenderFrame,a.animationFrame=requestAnimationFrame(a.animate)}},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.isShaking&&this.startShaking()},t.prototype.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},t.prototype.setShaking=function(e){e?this.startShaking():this.stopShaking()},t.prototype.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},t.prototype.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},t.prototype.render=function(){return o.createElement("div",{ref:this.ref},this.props.children)},t}(o.Component);s.defaultProps={isShaking:!0,intensity:5},s.displayName="Shaker",t.default=s,e.exports=t.default},6325:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var a,o,r,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=c(n(9)),u=c(n(156)),d=c(n(7097)),f=c(n(5725));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),v=Object.freeze(((o={})[y.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},o[y.SPEED_START]={BEG:601,END:636},o[y.SPEED_LOOP]={BEG:637,END:668},o[y.FINISH]={BEG:669,END:870},o[y.IDLE]={BEG:871,END:878},o)),g=t.PremiumPaymentAnimationTier1=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return m(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}},t.prototype.importData=function(){return n.e(201).then(n.t.bind(null,6700,7))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.scene,a=e.onScenePlay,o=e.onSceneComplete;return i(d.default,{className:t,importData:this.importData,scene:n,sceneSegments:v,onScenePlay:a,onSceneComplete:o})},t}(l.PureComponent);g.Scenes=y,g.displayName="PremiumPaymentAnimationTier1";var _=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),E=Object.freeze(((r={})[_.IDLE_ENTRY]={BEG:0,END:50},r[_.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},r[_.BOOST_START]={BEG:230,END:275},r[_.BOOST_LOOP]={BEG:275,END:290},r[_.BOOST_END]={BEG:386,END:455},r[_.VICTORY]={BEG:470,END:525},r[_.ERROR]={BEG:290,END:375},r)),S=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return m(t,e),t.prototype.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},t.prototype.render=function(){var e=this.props.className;return i("div",{className:f.default.panningAnimation},void 0,i(u.default.div,{className:e,style:this.getStyle(!1)}),i(u.default.div,{className:e,style:this.getStyle(!0)}))},t}(l.PureComponent);S.displayName="PanningAnimation";var T=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:u.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),C=1.2,b=t.PremiumPaymentAnimationTier2=function(e){function t(){var n,a;p(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,e.call.apply(e,[this].concat(r))),a.backgroundAnimation=new u.default.ValueXY({x:0,y:0}),a.foregroundAnimation=new u.default.ValueXY({x:0,y:0}),a.didUnmount=!1,a.animateIdleLoopBackground=function(){a.didUnmount||(a.backgroundAnimation.x.setValue(0),u.default.timing(a.backgroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration*C,easing:u.default.Easing.linear}).start(a.animateIdleLoopBackground))},a.animateIdleLoopForeground=function(){a.didUnmount||(a.foregroundAnimation.x.setValue(0),u.default.timing(a.foregroundAnimation.x,{toValue:T.IDLE_LOOP.toValue,duration:T.IDLE_LOOP.duration,easing:T.IDLE_LOOP.easing}).start(a.animateIdleLoopForeground))},a.handleScenePlay=function(e){switch(e){case _.IDLE_ENTRY:a.animateIdleEntry(),a.animateIdleLoop();break;case _.ERROR:a.animateError();break;case _.BOOST_START:a.animateBoostStart()}var t=a.props.onScenePlay;null!=t&&t(e)},h(a,n)}return m(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}},t.prototype.componentWillUnmount=function(){this.didUnmount=!0},t.prototype.importData=function(){return n.e(199).then(n.t.bind(null,6658,7))},t.prototype.animateEntry=function(e){u.default.parallel([u.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),u.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*C,delay:e.delay||0})]).start()},t.prototype.animateIdleEntry=function(){this.animateEntry(T.IDLE_ENTRY)},t.prototype.animateError=function(){this.animateEntry(T.ERROR)},t.prototype.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},t.prototype.animateBoostStart=function(){u.default.parallel([u.default.timing(this.foregroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration,delay:T.BOOST_START.delay}),u.default.timing(this.backgroundAnimation.y,{toValue:T.BOOST_START.toValue,duration:T.BOOST_START.duration*C,delay:T.BOOST_START.delay})]).start()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.scene,a=e.onSceneComplete;return i("div",{className:(0,s.default)(f.default.tier2Animation,t)},void 0,i(S,{className:f.default.tier2Background,animation:this.backgroundAnimation}),i(S,{className:f.default.tier2Foreground,animation:this.foregroundAnimation}),i(d.default,{importData:this.importData,scene:n,sceneSegments:E,onScenePlay:this.handleScenePlay,onSceneComplete:a}))},t}(l.PureComponent);b.Scenes=_,b.displayName="PremiumPaymentAnimationTier2";t.ShakeScenes=new Set([g.Scenes.SPEED_LOOP,g.Scenes.SPEED_START,b.Scenes.BOOST_LOOP,b.Scenes.BOOST_START])},6326:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(3)),r=s(n(2)),i=n(127),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.PremiumPaymentSubscriptionModes.NEW,d=l.FormStates.CLOSED,f=null,c=null;function p(){d=l.FormStates.CLOSED,f=null}function h(e){var t=e.error;f=t,d!==l.FormStates.CLOSED&&(d=l.FormStates.OPEN)}function m(){f=null}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d===l.FormStates.OPEN},a(t,[{key:"subscriptionMode",get:function(){return u}},{key:"paymentError",get:function(){return f}},{key:"plan",get:function(){return c}},{key:"formState",get:function(){return d}}]),t}(o.default.Store);t.default=new y(r.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.plan;d=l.FormStates.OPEN,u=t,c=n},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return p()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:h,PREMIUM_PAYMENT_UPDATE_FAIL:h,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return m()},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return m()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return m()},STRIPE_TOKEN_FAILURE:function(e){return function(){if(d===l.FormStates.CLOSED)return!1;d=l.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){u!==l.PremiumPaymentSubscriptionModes.NEW&&p()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;f=new i.BillingError(t,n)}}),e.exports=t.default},6327:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=w(n(1)),u=L(n(3)),d=L(n(2)),f=(n(127),L(n(565))),c=L(n(946)),p=L(n(279)),h=L(n(34)),m=w(n(368)),y=w(n(384)),v=w(n(1187)),g=L(n(1185)),_=L(n(1183)),E=L(n(989)),S=L(n(532)),T=L(n(1184)),C=L(n(988)),b=L(n(26)),N=L(n(88)),O=L(n(987)),I=L(n(158)),A=L(n(44)),M=L(n(6)),R=n(0),P=L(n(5728));function L(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYPAL:"paypal"}),F=((o={})[k.PAYMENT_TYPE]=M.default.Messages.PAYMENT_SOURCE_TYPE,o[k.CARD_INFO]=M.default.Messages.PAYMENT_SOURCE_INFORMATION,o[k.ADDRESS]=M.default.Messages.BILLING_ADDRESS,o[k.PAYPAL]=M.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,o),x=[k.PAYMENT_TYPE,k.CARD_INFO,k.ADDRESS],G=[k.PAYMENT_TYPE,k.PAYPAL,k.ADDRESS];function B(e){return e.hasCardError()?k.CARD_INFO:e.hasAddressError()?k.ADDRESS:null}var j=i(T.default,{}),H=function(e){function t(){var n,a,o,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return a=o=U(this,e.call.apply(e,[this].concat(f))),o.state={step:k.PAYMENT_TYPE,errorStep:null,type:null},o.STEPS_DATA=((n={})[k.PAYMENT_TYPE]={renderBody:function(){return i(g.default,{onChooseType:o.handleChooseType})}},n[k.CARD_INFO]={renderBody:function(){var e=o.props,t=e.creditCardInfo,n=e.error,a=null!=n&&(null==n.code||B(n)===k.CARD_INFO);return i(s.Fragment,{},void 0,a?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_CARD):null,s.createElement(_.default,r({},t,{onCardInfoChange:o.handleCardInfoChange,error:a?n:null})))},renderNextButton:function(){var e=o.props,t=e.isCreditCardInfoValid,n=e.submitting;return i(A.default,{disabled:!t,onClick:o.handleNextClick,type:"submit",submitting:n},void 0,M.default.Messages.NEXT)}},n[k.ADDRESS]={renderBody:function(){var e=o.props,t=e.billingAddressInfo,n=e.error,a=null!=n&&(null==n.code||B(n)===k.ADDRESS);return i(s.Fragment,{},void 0,a?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,s.createElement(E.default,r({},t,{onBillingAddressChange:o.handleBillingAddressChange,error:a?n:null})))},renderNextButton:function(){var e=o.props,t=e.submitting,n=e.isBillingAddressInfoValid;return i(A.default,{type:"submit",submitting:t,disabled:!n,onClick:o.state.type===R.PaymentSourceTypes.PAYPAL?o.handlePaypalSave:o.handleCardSave},void 0,M.default.Messages.SAVE)}},n[k.PAYPAL]={renderBody:function(){return j},renderNextButton:function(){var e=o.props,t=e.submitting,n=e.braintreeNonce,a=null!=e.braintreeEmail&&null!=n;return i(A.default,{submitting:t,look:a?A.default.Looks.FILLED:A.default.Looks.OUTLINED,onClick:a?o.handleNextClick:o.handleReopenPaypal},void 0,a?M.default.Messages.NEXT:M.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},n),o.handleChooseType=function(e){var t=o.getNextStep(e);null!=t&&o.setState({type:e,step:t})},o.handleCardInfoChange=function(e,t){v.updateCardInfo(e,t)},o.handleBillingAddressChange=function(e,t){d.default.wait(function(){return v.updateAddressInfo(e,t)})},o.handleBackClick=function(){var e=o.getPreviousStep();null!=e&&(e===k.PAYMENT_TYPE&&v.clearError(),o.setState({step:e}))},o.handleNextClick=function(){var e=o.getNextStep();null!=e&&o.setState({step:e})},o.handleCardSave=D(regeneratorRuntime.mark(function e(){var t,n,a,i,s,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.creditCardInfo,a=t.billingAddressInfo,i=t.isCreditCardInfoValid,s=t.isBillingAddressInfoValid,u=t.onAddPaymentSource,i&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,m.createCardPaymentSource(r({},n,{billingAddress:a,type:R.PaymentSourceTypes.CARD,isDefault:!1}));case 6:d=e.sent,u&&u(d),h.default.pop(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,l,[[3,11]])})),o.handlePaypalSave=D(regeneratorRuntime.mark(function e(){var t,n,a,r,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props,n=t.braintreeEmail,a=t.braintreeNonce,r=t.billingAddressInfo,i=t.onAddPaymentSource,null==n||null==a){e.next=12;break}return e.prev=2,e.next=5,m.createPaypalPaymentSource(a,r);case 5:s=e.sent,i&&i(s),h.default.pop(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,l,[[2,10]])})),U(o,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.error,a=t.errorStep;if(null==n)return null==a?null:{errorStep:null};var o=B(n);return null!=o&&o!==t.errorStep?{step:o,errorStep:o}:null},t.prototype.componentDidMount=function(){y.createClient()},t.prototype.componentWillUnmount=function(){d.default.wait(function(){return y.teardown()}),v.clearCardInfo()},t.prototype.getSteps=function(e){return(null!=e?e:this.state.type)===R.PaymentSourceTypes.PAYPAL?G:x},t.prototype.getNextStep=function(e){var t=this.state.step,n=this.getSteps(e);return n[n.indexOf(t)+1]},t.prototype.getPreviousStep=function(){var e=this.state.step,t=this.getSteps();return t[t.indexOf(e)-1]},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.handleReopenPaypal=function(){y.reopenPayPalWindow()},t.prototype.handleClose=function(){h.default.pop()},t.prototype.renderGenericError=function(){var e=this.props.error;return null==e||null!=B(e)?null:i(S.default,{className:P.default.errorBlock},void 0,e.message)},t.prototype.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:i(N.default.Footer,{},void 0,i(b.default,{justify:b.default.Justify.BETWEEN},void 0,i(A.default,{onClick:this.handleBackClick,color:A.default.Colors.WHITE,look:A.default.Looks.LINK,size:A.default.Sizes.MIN},void 0,M.default.Messages.BACK),e.renderNextButton()))},t.prototype.render=function(){var e=this.state.step,t=this.getSteps(),n=(e===k.PAYMENT_TYPE?x:t).map(function(e){return{id:e,label:F[e]}});return i(N.default,{size:N.default.Sizes.SMALL,className:P.default.modal},void 0,i("form",{className:P.default.form,onSubmit:this.preventDefault},void 0,i(N.default.Header,{separator:!1},void 0,i(b.default,{direction:b.default.Direction.VERTICAL},void 0,i(b.default,{className:P.default.modalTitle,justify:b.default.Justify.BETWEEN,align:b.default.Align.CENTER},void 0,i(I.default.FormTitle,{tag:I.default.FormTitleTags.H4},void 0,M.default.Messages.PAYMENT_SOURCES_ADD),i(N.default.CloseButton,{onClick:this.handleClose})),this.renderGenericError(),i(O.default,{breadcrumbs:n,activeId:e}))),i("div",{className:P.default.divider}),i(N.default.Content,{className:P.default.modalContent},void 0,i(C.default,{step:e,steps:t},void 0,this.stepData.renderBody())),this.renderFooter()))},l(t,[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}]),t}(s.PureComponent);H.displayName="AddPaymentModal",t.default=u.default.connectStores([f.default,p.default,c.default],function(){return{braintreeEmail:f.default.braintreeEmail,braintreeNonce:f.default.braintreeNonce,creditCardInfo:f.default.getCreditCardInfo(),isCreditCardInfoValid:f.default.isCardInfoValid,billingAddressInfo:f.default.getBillingAddressInfo(),isBillingAddressInfoValid:f.default.isBillingAddressInfoValid,error:f.default.error,submitting:c.default.isBusy}})(H),e.exports=t.default},6328:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(44)),l=u(n(6030)),s=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=d(this,e.call.apply(e,[this].concat(r))),a.cancel=function(){var e=a.props.onClose;e&&e()},a.confirm=function(){var e=a.props,t=e.onConfirm,n=e.onClose;n&&n(),t()},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(l.default,{},void 0,o(l.default.Header,{},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING_TITLE),o(l.default.Content,{type:l.default.Types.GRANDFATHERED},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING.format()),o(l.default.Footer,{secondary:{onClick:this.cancel,label:s.default.Messages.NEVERMIND},primaryRenderer:o(i.default,{color:i.default.Colors.RED,onClick:this.confirm},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING_CONFIRM)}))},t}(r.Component);f.displayName="GrandfatheredWarningModal",t.default=f,e.exports=t.default},6329:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(3)),o=i(n(2)),r=(n(0),i(n(6109)));function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPayment=function(e){return l.find(function(t){return t.id===e})},t.prototype.getPayments=function(){return l},t}(a.default.Store);t.default=new s(o.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments;l=t.map(function(e){return r.default.createFromServer(e)})},LOGOUT:function(e){l=[]}}),e.exports=t.default},6330:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=o.default.restrictedGuilds;0===a.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=r.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=o.default.friendSourceFlags;return n[i.FriendSourceFlagKeys.ALL]?((t={})[i.FriendSourceFlagKeys.ALL]=!0,t[i.FriendSourceFlagKeys.FRIENDS]=!0,t[i.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[i.FriendSourceFlagKeys.ALL]=!1,e[i.FriendSourceFlagKeys.FRIENDS]=!!n[i.FriendSourceFlagKeys.FRIENDS],e[i.FriendSourceFlagKeys.GUILDS]=!!n[i.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};var a=l(n(277)),o=l(n(30)),r=l(n(27)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=864e5*i.REQUEST_DATA_LIMIT_DAYS},6332:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5740));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,a=e.hoverText,u=e.className,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["tag","children","hoverText","className"]);return i.createElement("div",o({},d,{className:(0,l.default)(u,s.default.hoverRoll)}),r(t,{className:s.default.default},void 0,n),r(t,{className:s.default.hovered},void 0,a))},t}(i.PureComponent);d.defaultProps={tag:"div"},d.displayName="HoverRoll",t.default=d,e.exports=t.default},6333:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={addKeybind:function(){r.default.dispatch({type:i.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){r.default.dirtyDispatch({type:i.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}},e.exports=t.default},6334:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},6335:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=s(n(3)),r=s(n(2)),i=n(0),l=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var u={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=i.FormStates.CLOSED,f=null,c=null,p=a({},u),h=!1,m=null,y=null,v=null;function g(){d=i.FormStates.OPEN,f={},c=l.default.getCurrentUser(),p=a({},u),h=null!=c.email,m=c.verified,v=!1,h?y=!1:_({isEditingProfile:!0})}function _(e){(y=e.isEditingProfile)&&null!=c?p={avatar:c.avatar,discriminator:c.discriminator,username:c.username,email:c.email,password:"",newPassword:null}:(d=i.FormStates.OPEN,p=a({},u),f={},v=!1)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return{formState:d,errors:f,user:c,accountInfo:p,claimed:h,verified:m,isEditingProfile:y,isEditingPassword:v}},t}(o.default.Store);t.default=new E(r.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return g()},USER_SETTINGS_MODAL_INIT:function(e){return g()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return g()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===i.UserSettingsSections.ACCOUNT&&g()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=i.FormStates.CLOSED,f=null,c=null,p=a({},u),h=!1,m=null,y=null,void(v=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:_,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(v=e.isEditingPassword)&&(t=""),p=a({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=a({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=i.FormStates.SUBMITTING,void(f={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==i.FormStates.SUBMITTING)return!1;d=i.FormStates.OPEN,f=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!m;m=t.verified,n&&m&&_({isEditingProfile:!1})}}),e.exports=t.default},6336:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=l(n(11)),r=l(n(103)),i=n(7154);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},t.prototype.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;o.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},t.prototype.downloadNative=function(e,t){r.default.fileManager.saveWithDialog(e,t)},t.prototype.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,i.saveAs)(n,t)},t.prototype.render=function(){var e=this.props.children,t=a.Children.only(e);return a.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},t}(a.Component);s.displayName="FileDownloader",t.default=s,e.exports=t.default},6337:function(e,t,n){"use strict";t.__esModule=!0,t.hasCrypto=void 0,t.generateTotpSecret=function(){return e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return i.getRandomValues(new Uint8Array(e))}(),r.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e},t.encodeTotpSecret=l,t.encodeTotpSecretAsUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ChatX";return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+l(t)+"&issuer="+encodeURIComponent(n)};var a,o=n(7163),r=(a=o)&&a.__esModule?a:{default:a};var i=window&&window.crypto||window.msCrypto;t.hasCrypto=i&&"getRandomValues"in i&&"Uint8Array"in window;function l(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},6338:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getUserSettingsSections=function(){return X().filter(function(e){var t=e.section;return t!==W.SectionTypes.HEADER&&t!==W.SectionTypes.CUSTOM&&t!==W.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=$(n(3)),s=$(n(6)),u=$(n(6076)),d=$(n(161)),f=$(n(69)),c=$(n(7165)),p=$(n(7144)),h=$(n(7143)),m=$(n(7141)),y=$(n(7140)),v=$(n(7137)),g=$(n(7135)),_=$(n(7131)),E=$(n(7129)),S=$(n(7124)),T=$(n(7121)),C=$(n(7118)),b=$(n(7115)),N=$(n(7114)),O=$(n(7106)),I=$(n(7105)),A=$(n(7104)),M=$(n(7103)),R=$(n(7091)),P=$(n(7082)),L=$(n(7064)),w=$(n(34)),D=$(n(918)),U=$(n(355)),k=$(n(6106)),F=n(265),x=$(n(30)),G=$(n(7063)),B=$(n(557)),j=$(n(60)),H=$(n(526)),V=$(n(193)),Y=$(n(11)),W=n(5951),z=$(n(367)),K=n(0);function $(e){return e&&e.__esModule?e:{default:e}}var q=I.default;function X(){return[{section:W.SectionTypes.HEADER,label:s.default.Messages.USER_SETTINGS},{section:K.UserSettingsSections.ACCOUNT,label:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:c.default},{section:K.UserSettingsSections.PRIVACY_AND_SAFETY,label:s.default.Messages.PRIVACY_AND_SAFETY,element:A.default},{section:K.UserSettingsSections.AUTHORIZED_APPS,label:s.default.Messages.AUTHORIZED_APPS,element:E.default},{section:K.UserSettingsSections.CONNECTIONS,label:s.default.Messages.CONNECTIONS,element:y.default},{section:K.UserSettingsSections.BILLING,label:s.default.Messages.BILLING,element:R.default},{section:W.SectionTypes.DIVIDER},{section:K.UserSettingsSections.PREMIUM,label:s.default.Messages.PREMIUM_TITLE,element:M.default,color:K.Colors.BRAND},{section:K.UserSettingsSections.HYPESQUAD_ONLINE,label:s.default.Messages.USER_SETTINGS_HYPESQUAD,element:P.default},{section:W.SectionTypes.DIVIDER},{section:W.SectionTypes.HEADER,label:s.default.Messages.APP_SETTINGS},{section:K.UserSettingsSections.VOICE,label:s.default.Messages.VOICE_AND_VIDEO,element:N.default,predicate:function(){return j.default.isSupported()}},{section:K.UserSettingsSections.OVERLAY,label:s.default.Messages.OVERLAY,element:O.default,predicate:function(){return H.default.isSupported()}},{section:K.UserSettingsSections.NOTIFICATIONS,label:s.default.Messages.NOTIFICATIONS,element:b.default},{section:K.UserSettingsSections.KEYBINDS,label:s.default.Messages.KEYBINDS,element:g.default,predicate:function(){return Y.default.embedded||!1}},{section:K.UserSettingsSections.GAME_ACTIVITY,label:s.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:T.default,predicate:function(){return Y.default.embedded||!1}},{section:K.UserSettingsSections.GAME_LIBRARY,label:s.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:C.default,predicate:function(){return Y.default.isWindows()||!1}},{section:K.UserSettingsSections.TEXT,label:s.default.Messages.TEXT_AND_IMAGES,element:m.default},{section:K.UserSettingsSections.APPEARANCE,label:s.default.Messages.APPEARANCE,element:v.default},{section:K.UserSettingsSections.STREAMER_MODE,label:s.default.Messages.STREAMER_MODE,element:_.default},{section:K.UserSettingsSections.LOCALE,label:s.default.Messages.LANGUAGE,element:S.default},{section:K.UserSettingsSections.WINDOWS,label:s.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:I.default,predicate:function(){return Y.default.embedded&&Y.default.isWindows()&&Y.default.supportsFeature("app_configs")}},{section:K.UserSettingsSections.LINUX,label:s.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:q,predicate:function(){return Y.default.embedded&&Y.default.isLinux()&&Y.default.supportsFeature("app_configs")}},{section:W.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return k.default.showChangeLog()},label:s.default.Messages.CHANGE_LOG},{section:K.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:p.default,predicate:function(){return B.default.isDeveloper}},{section:K.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:h.default,predicate:function(){return B.default.isDeveloper}},{section:W.SectionTypes.DIVIDER},{section:"logout",onClick:function(){w.default.push(function(e){return i.createElement(d.default,o({header:s.default.Messages.LOGOUT,confirmText:s.default.Messages.LOGOUT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return D.default.logout()}},e),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,s.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:s.default.Messages.LOGOUT,color:K.Colors.STATUS_RED},{section:W.SectionTypes.DIVIDER},{section:W.SectionTypes.CUSTOM,element:L.default}]}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;V.default.trackWithMetadata(K.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}t.default=l.default.connectStores([G.default,x.default],function(){return{theme:x.default.theme,section:G.default.getSection()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){Q(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&Q(n,t)},t.prototype.generateSections=function(){return X()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section;return r(z.default,{root:!0,page:K.AnalyticsPages.USER_SETTINGS},void 0,r(u.default,{theme:t,section:n,onSetSection:U.default.setSection,onClose:F.popLayer,sections:this.generateSections()}))},t}(i.PureComponent))},6339:function(e,t,n){"use strict";t.__esModule=!0;var a=r(n(13)),o=r(n(14));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return location.protocol+"//"+location.host+e};t.default={get:function(){return a.default.get(i("/__development/build_overrides")).then(function(e){return e.body||{}})},put:function(e){return a.default.put({url:i("/__development/build_overrides"),body:e,headers:{Authorization:o.default.getToken()||""}}).catch(function(e){return e})},clear:function(){return a.default.delete({url:i("/__development/build_overrides")})},getPublicLink:function(e){return a.default.post({url:i("/__development/create_build_override_link"),body:e,headers:{Authorization:o.default.getToken()||""}}).then(function(e){return{url:e.body.url,error:!1}},function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request ("+e.status+")"}})},shouldCheckForBuildOverride:function(){return-1!==window.document.cookie.indexOf("buildOverride=")},EXPIRATION_OPTIONS:[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}]},e.exports=t.default},6345:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=u(n(3)),r=u(n(23)),i=u(n(2)),l=u(n(193)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d="channelNotices",f="lastHiddenChannelNotice",c={},p=0,h=!1,m=0;function y(){r.default.set(d,c),r.default.set(f,p)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=r.default.get("showInviteNotice"),t=r.default.get(d)||{};p=r.default.get(f)||0,Object.keys(s.ChannelNoticeTypes).forEach(function(e){return c[e]=!0}),Object.keys(t).forEach(function(e){c[e]&&"boolean"==typeof t[e]&&(c[e]=t[e])}),null!=e&&(r.default.remove("showInviteNotice"),"boolean"==typeof e&&(c.INVITE=e)),y()},t.prototype.getState=function(){return h?{noticeStates:c,lastHidden:p}:{noticeStates:{},lastHidden:0}},t.prototype.shouldShowInviteNotice=function(){return r.default.get("showInviteNotice")||!1},t.prototype.getVersion=function(){return m},t}(o.default.Store);t.default=new v(i.default,{CONNECTION_OPEN:function(e){return h=!0,void(m+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(m+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;c[t]=!1,c=a({},c),t!==s.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),y(),l.default.trackWithMetadata(s.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),m+=1}}),e.exports=t.default},6352:function(e,t,n){"use strict";t.__esModule=!0,t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(156)),u=c(n(6036)),d=n(994),f=c(n(5772));function c(e){return e&&e.__esModule?e:{default:e}}(t.PopoutMenuIcon=function(e){var t=e.icon;return r("div",{className:f.default.icon,style:{backgroundImage:'url("'+t+'")'}})}).displayName="PopoutMenuIcon";var p=function(e){var t=e.children,n=e.type,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","type"]);return i.createElement("div",o({className:(0,l.default)(f.default.item,null!=n?f.default[n]:null)},a),t)};p.displayName="PopoutMenuItem",t.PopoutMenuItem=p,(t.PopoutMenuItemLabel=function(e){var t=e.children;return r("div",{className:f.default.label},void 0,t)}).displayName="PopoutMenuItemLabel",(t.PopoutMenuSeparator=function(){return r("div",{className:f.default.separator})}).displayName="PopoutMenuSeparator",(t.StatusItem=function(e){var t=e.status,n=e.children,a=e.onSelect;return r(p,{onClick:function(){return a(t)}},void 0,r("div",{className:f.default.statusIconText},void 0,r(u.default,{defaultStatus:t,style:{marginRight:14},hideTooltip:!0}),r("div",{},void 0,(0,d.humanizeStatus)(t))),r("div",{className:f.default.helper},void 0,n))}).displayName="StatusItem";var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,a=t.alt;return r(s.default.div,{className:(0,l.default)(n,f.default.menu,(e={},e[f.default.alt]=a,e))},void 0,this.props.children)},t}(i.PureComponent);h.displayName="PopoutMenu",t.default=h},6359:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(58)),u=c(n(77)),d=c(n(5784)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return r("div",{className:e.className},void 0,e.children)};h.displayName="RowHeader";var m=function(e){return r("div",{className:e.className},void 0,e.children)};m.displayName="Row";var y=function(e){return r("div",{className:e.className},void 0,e.children)};y.displayName="Cell";var v=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.handleSort=function(e){var t=a.props,n=t.sortKey,o=t.sortDirection,r=t.onSort;null!=r&&r(e,n===e&&o===f.TableSortDirections.ASCENDING?f.TableSortDirections.DESCENDING:f.TableSortDirections.ASCENDING)},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSortable=function(e){return null!=e.sort&&!1!==e.sort},t.prototype.getDefaultSort=function(e){return function(t,n){var a=t[e],o=n[e];return null!=a&&null!=o?a===o?0:a<o?-1:1:0}},t.prototype.renderHeader=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.props,o=a.columns,i=a.data,c=a.sortDirection,p=a.sortKey,m=a.headerCellClassName,y=a.headerClassName,v=a.sortedHeaderCellClassName,g=a.stickyHeader,_=o.map(function(e){var n,a=null!=e.renderHeader?e.renderHeader(e,i):e.key;return r(u.default,{className:(0,l.default)(d.default.headerCell,m,e.headerCellClassName,e.cellClassName,(n={},n[v||d.default.sortedHeaderCell]=p===e.key,n[d.default.clickable]=t.isSortable(e),n)),onClick:t.isSortable(e)?function(){return t.handleSort(e.key)}:null},e.key,r("div",{className:d.default.headerCellContent},void 0,a,t.isSortable(e)&&p===e.key?r(s.default,{name:c===f.TableSortDirections.ASCENDING?s.default.Names.ARROW_DROP_UP:s.default.Names.ARROW_DROP_DOWN,className:d.default.sortIcon}):null))});return r(h,{className:(0,l.default)(y,d.default.row,(e={},e[d.default.stickyHeader]=g&&!n,e[d.default.spacerHeader]=g&&n,e))},void 0,_)},t.prototype.renderBody=function(){var e=this.props,t=e.columns,n=e.data,a=e.sortData,r=e.sortKey,s=e.sortDirection,u=e.bodyCellClassName,c=e.rowClassName,p=e.cellProps,h=e.rowProps,m=e.rowComponent,y=e.cellComponent,v=n;if(a){var g=null!=r?t.find(function(e){return e.key===r}):null,_=[].concat(n),E=null!=g&&g.sort,S=null!=g&&null!=r&&this.isSortable(g)?_.sort("function"==typeof E?function(e,t){return E(e,t,s)}:this.getDefaultSort(r)):_;v=null!=g&&s===f.TableSortDirections.DESCENDING?S.reverse():S}return v.map(function(e,n){var a=t.map(function(t){return i.createElement(y,o({},p,{key:t.key,item:e,className:(0,l.default)(u,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p,n):e[t.key])});return i.createElement(m,o({},h,{key:e.id,item:e,className:(0,l.default)(d.default.row,c)}),a)})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.hasHeader,a=e.stickyHeader;return r("div",{className:t},void 0,n?this.renderHeader():null,n&&a?this.renderHeader(!0):null,this.renderBody())},t}(i.PureComponent);v.SortDirection=f.TableSortDirections,v.defaultProps={initialSortDirection:f.TableSortDirections.ASCENDING,rowHeaderComponent:h,rowComponent:m,cellComponent:y,hasHeader:!0,sortData:!0,stickyHeader:!1},v.displayName="Table",t.default=v,e.exports=t.default},6360:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){r.default.dispatch({type:i.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,id:e,isKeyboardEvent:t})};var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},6361:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(9)),l=g(n(156)),s=g(n(5)),u=n(514),d=n(165),f=g(n(157)),c=g(n(44)),p=g(n(955)),h=g(n(6212)),m=n(0),y=g(n(5796)),v=g(n(967));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=_(this,e.call.apply(e,[this].concat(i))),a.state={hasVideoError:!1,hasVideoEnded:!1,isMouseOver:!1},a._animatedBackground=new l.default.Value(0),a._animatedText=new l.default.Value(0),a._zIndex=new l.default.Value(1),a.promotionVideoRef=r.createRef(),a.componentWillEnter=function(e){var t=a.props.getDirection();a._zIndex.setValue(1===t?2:1),1===t&&(a._animatedBackground.setValue(-1),l.default.timing(a._animatedBackground,{toValue:0,duration:250,delay:100}).start()),a._animatedText.setValue(-t),l.default.timing(a._animatedText,{toValue:0,delay:300,duration:200}).start(e)},a.handleVideoError=function(){a.setState({hasVideoError:!0})},a.handlePromotionBuyClick=function(e){var t=a.props.onPromotionBuyClick;null!=t&&t(e),e.stopPropagation()},a.handlePromotionViewInStoreClick=function(e){var t=a.props.onOpen;null!=t&&t(e),e.stopPropagation()},a.handlePromotionVideoEnd=function(){a.setState({hasVideoEnded:!0}),a.state.isMouseOver&&null!=a.promotionVideoRef.current&&a.promotionVideoRef.current.play()},a.handleMouseEnter=function(){a.setState({isMouseOver:!0}),a.state.hasVideoEnded&&null!=a.promotionVideoRef.current&&(a.promotionVideoRef.current.currentTime=0,a.promotionVideoRef.current.play())},a.handleMouseLeave=function(){a.setState({isMouseOver:!1})},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillLeave=function(e){var t=this.props.getDirection();this._zIndex.setValue(1===t?1:2),l.default.timing(this._animatedText,{toValue:t,duration:200}).start(),1===t?setTimeout(e,350):l.default.timing(this._animatedBackground,{toValue:-1,delay:200,duration:200}).start(e)},t.prototype.getRootStyle=function(){var e=this.props.horizontal?{translateX:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})};return l.default.accelerate({transform:[{scale:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[1.015,1,1.015]})},e],opacity:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.out(l.default.Easing.ease)}),zIndex:this._zIndex})},t.prototype.getTextStyle=function(){return{transform:[this.props.horizontal?{translateX:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})}],opacity:this._animatedText.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.in(l.default.Easing.ease)}),zIndex:1}},t.prototype.renderBackground=function(){var e,t,n=this.props,a=n.item,l=n.application,s=n.itemHeight,u=n.simple,f=this.state,c=f.hasVideoError,p=f.hasVideoEnded,h=f.isMouseOver,v=void 0;a.type===m.FeedCarouselItemTypes.PROMOTION&&null!=a.promotion.videoUrl&&(v=r.createElement("video",{className:(0,i.default)(y.default.backgroundVideo,(t={},t[y.default.backgroundVideoInvisible]=(c||p)&&!h,t)),onEnded:this.handlePromotionVideoEnd,muted:!0,autoPlay:!0,ref:this.promotionVideoRef,onError:this.handleVideoError},o("source",{src:a.promotion.videoUrl,type:"video/mp4"})));var g=void 0,_=void 0,E=void 0,S=void 0;if(a.type===m.FeedCarouselItemTypes.APPLICATION_NEWS){var T=a.news.thumbnail;null!=T&&(_=T.proxy_url||T.url,E=u&&null!=s?2*s:T.height,S=T.width)}else a.type===m.FeedCarouselItemTypes.PROMOTION&&null!=a.promotion.imageUrl&&(_=a.promotion.imageUrl,E=m.PROMOTION_ASSET_HEIGHT,S=m.PROMOTION_ASSET_WIDTH);if(null!=_&&null!=E&&null!=S){var C=800*(E/S);g=(0,d.getSizedImageSrc)(_,800,C,"png")}else null!=l&&(g=l.getSplashURL(800));return o("div",{className:y.default.background},void 0,o("div",{className:(0,i.default)(y.default.backgroundImage,null==g?y.default.backgroundBackup:null,(e={},e[y.default.backgroundImageInvisible]=null!=v&&!p&&!c,e)),style:null!=g?{backgroundImage:"url("+g+")"}:null}),v)},t.prototype.renderApplicationName=function(){var e=this.props,t=e.application,n=e.item,a=e.onGamePopoutOpen,r=e.onGamePopoutClose;if(null==t||n.type===m.FeedCarouselItemTypes.PROMOTION)return null;var i=o(h.default,{game:t,onOpen:a,onClose:r,source:m.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:v.default.textHover},void 0,o("div",{className:y.default.applicationName},void 0,t.name));return o("div",{className:y.default.applicationArea},void 0,i)},t.prototype.renderExclusive=function(){var e=this.props.item;return e.type===m.FeedCarouselItemTypes.PROMOTION&&e.promotion.destination.type===m.PromotionTypes.GAME&&e.promotion.destination.sku.exclusive?o("span",{className:y.default.exclusive},void 0,"First on ChatX"):null},t.prototype.renderPromotionActionButton=function(){var e=this.props,t=e.item,n=e.application,a=e.simple;return t.type!==m.FeedCarouselItemTypes.PROMOTION||t.promotion.destination.type!==m.PromotionTypes.GAME||null==n?null:o("div",{className:a?y.default.promotionActionButtonSimple:y.default.promotionActionButtonStandard},void 0,o(p.default,{game:n,size:c.default.Sizes.SMALL,onClick:this.handlePromotionBuyClick,source:m.AnalyticsLocations.CAROUSEL_PROMOTION_UNIT,showBuyButtonIfPaymentNotRequired:!0}))},t.prototype.render=function(){var e=this.props,t=e.item,n=e.onOpen,a=e.className,r=e.simple,d=void 0,c=void 0,p=void 0,h=void 0;return t.type===m.FeedCarouselItemTypes.APPLICATION_NEWS?(d=t.news.url,c=t.news.title,p=t.news.description,h=t.news.timestamp):(c=t.promotion.title,p=t.promotion.description),o(f.default,{href:d,target:"_blank",onClick:n},void 0,o(l.default.div,{style:this.getRootStyle(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,i.default)(r?y.default.articleSimple:y.default.articleStandard,a)},void 0,this.renderBackground(),o(l.default.div,{style:this.getTextStyle()},void 0,this.renderApplicationName(),this.renderExclusive(),!0===r?o("div",{className:y.default.titleRowSimple},void 0,o("div",{className:y.default.titleStandard},void 0,c),this.renderPromotionActionButton()):o("div",{className:y.default.details},void 0,o("div",{className:y.default.titleStandard},void 0,c),null!=p?o("div",{className:y.default.description},void 0,p):null,null!=h?o("div",{className:y.default.timestamp},void 0,(0,u.dateFormat)((0,s.default)(h),"LL")):null,o("div",{},void 0,this.renderPromotionActionButton())))))},t}(r.PureComponent);E.displayName="ActivityFeedCarouselItem",t.default=E,e.exports=t.default},6631:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){return(0,p.default)(function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return r=y(this,t.call.apply(t,[this].concat(l))),e=r,r.handleApplicationContextMenu=function(e,t,n){var i=r.props.analyticsContext;(0,s.openContextMenu)(e,function(e){return o.createElement(u.default,a({},e,{type:h.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,applicationId:t.id,analyticsContext:i}))},{onClose:n})},y(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){return o.createElement(e,a({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},n.prototype.handleMessageUser=function(e,t){return l.default.openPrivateChannel(r.default.getId(),t.id)},n.prototype.handleUserContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.ContextMenuTypes.USER_GENERIC_LIST,r=arguments[3];(0,s.openContextMenu)(e,function(e){return o.createElement(f.default,a({},e,{type:n,user:t}))},{onClose:r})},n.prototype.handleGuildContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return o.createElement(d.default,a({},e,{type:h.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},n.prototype.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=i.default.getGuild(t.getGuildId());(0,s.openContextMenu)(e,function(e){return o.createElement(c.default,a({},e,{type:h.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},n}(o.Component))};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=m(n(14)),i=m(n(27)),l=m(n(138)),s=n(35),u=m(n(954)),d=m(n(5990)),f=m(n(916)),c=m(n(5988)),p=m(n(264)),h=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6632:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(26)),l=s(n(5882));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.title,n=e.children,a=e.className;return o("div",{className:(0,r.default)(l.default.section,a)},void 0,null!=t?o(i.default,{align:i.default.Align.CENTER},void 0,o("div",{className:l.default.sectionTitle},void 0,t),o("div",{className:l.default.sectionLine})):null,n)};u.displayName="Section",t.default=u,e.exports=t.default},6633:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(26)),s=u(n(5510));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.children,n=e.className,a=e.splashArtURL;return o(l.default,{className:(0,i.default)(s.default.header,n),align:l.default.Align.CENTER},void 0,o("div",{className:s.default.splashArt,style:null!=a?{backgroundImage:"url("+a+")"}:null}),t)};d.displayName="ActivityFeedCardHeader";var f=function(e){var t=e.children,n=e.className;return o("div",{className:(0,i.default)(s.default.body,n)},void 0,t)};f.displayName="ActivityFeedCardBody";var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.onMouseEnter,r=e.onMouseLeave;return o("div",{className:(0,i.default)(s.default.card,n),onMouseEnter:a,onMouseLeave:r},void 0,t)},t}(r.PureComponent);c.Header=d,c.Body=f,c.displayName="ActivityFeedCard",t.default=c,e.exports=t.default},6634:function(e,t,n){"use strict";t.__esModule=!0,t.GameCardTypes=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=H(n(1)),l=j(n(3)),s=j(n(9)),u=j(n(17)),d=H(n(530)),f=n(287),c=j(n(82)),p=j(n(529)),h=j(n(28)),m=j(n(197)),y=j(n(71)),v=j(n(63)),g=j(n(26)),_=j(n(217)),E=j(n(112)),S=j(n(260)),T=j(n(6212)),C=j(n(228)),b=j(n(520)),N=j(n(6633)),O=j(n(1191)),I=j(n(939)),A=j(n(58)),M=j(n(937)),R=j(n(44)),P=j(n(955)),L=j(n(6632)),w=j(n(513)),D=j(n(6211)),U=n(0),k=j(n(6631)),F=j(n(6)),x=j(n(5836)),G=j(n(5510)),B=j(n(967));function j(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var z=function(e){function t(){return V(this,t),Y(this,e.apply(this,arguments))}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.status,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["user","status"]);return i.createElement(S.default,r({},a,{src:t.getAvatarURL(),status:n}))},t}(i.PureComponent);z.displayName="GameCardAvatar";var K=l.default.connectStores([c.default],function(e){var t=e.user;return{status:c.default.getStatus(t.id)}})(z),$=t.GameCardTypes=Object.freeze({NOW_PLAYING:"1",RECENTLY_PLAYED:"2"}),q=function(e){function t(){var n,a;V(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=a=Y(this,e.call.apply(e,[this].concat(s))),a.state={hoveredUserId:null,isOverflowOpen:!1},a.renderUserPopout=function(e,t){return i.createElement(w.default,r({},t,{user:e}))},a.renderUserTooltip=function(e){var t=e.user,n=e.startedPlaying,a=e.stoppedPlaying;return o("div",{className:x.default.soloAvatarTooltip},void 0,o("div",{},void 0,t.tag),o(M.default,{className:x.default.soloAvatarTooltipTimestamp,start:n,end:a,location:M.default.Locations.ACTIVITY_FEED}))},a.renderOverflowPlayer=function(e,t,n,r){if(null!=e){var i=e.user;return o(_.default,{render:function(e){return a.renderUserPopout(i,e)},position:_.default.Positions.LEFT,closeOnScroll:!1,shadow:!1},n,o(E.default,{text:a.renderUserTooltip(e)},void 0,o(S.default,{onContextMenu:function(e){return a.props.onUserContextMenu(e,i)},src:i.getAvatarURL(),size:S.default.Sizes.SMALL,className:x.default.soloAvatar})))}},a.renderOverflowPlayerOverflow=function(e,t,n,r){if(null==r)throw new Error("player overflow number cannot be null");var i=a.props.players.map(function(e){return e.user});return o(_.default,{render:function(){return o(D.default,{party:i,header:F.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:i.length})})}},"overflow",o(E.default,{text:F.default.Messages.GAME_FEED_USER_OVERFLOW.format({overflow:r})},void 0,o("div",{className:x.default.overflowUserOverflow},void 0,e)))},a.setActivityFeedCardRef=function(e){var t=a.props.setActivityFeedCardRef;null!=t&&t(e)},a.handleMouseEnterUser=function(e){a.setState({hoveredUserId:e})},a.handleMouseLeaveUser=function(){a.setState({hoveredUserId:null})},a.handleUserPopoutOpen=function(e,t){u.default.track(U.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,r({},a.getMetadata(),{popout_user_id:e.id,avatar_position:t}))},a.handleOverflowOpen=function(e,t){a.setState({isOverflowOpen:!0}),a.props.onApplicationContextMenu(e,t,a.handleOverflowClose)},a.handleOverflowClose=function(){a.setState({isOverflowOpen:!1})},a.handleMessage=function(e,t){var n=a.props,o=n.loadId,r=n.index,i=n.game;(0,n.onMessageUser)(e,t).then(function(e){d.trackUserMessaged(t,e,i,null,{loadId:o,index:r,type:U.ActivityCardTypes.GAME})})},a.handleNewsClick=function(e){var t=a.props,n=t.game,o=t.index;d.trackGameNewsOpened(U.AnalyticsLocations.ACTIVITY_FEED,e,null,n,{loadId:p.default.loadId,index:o,type:U.ActivityCardTypes.GAME})},Y(a,n)}return W(t,e),t.prototype.renderPlayer=function(e,t){var n=this,a=this.props.onUserContextMenu,r=e.user,i=e.startedPlaying,l=e.stoppedPlaying;return o("div",{className:x.default.player,onMouseEnter:function(){return n.handleMouseEnterUser(r.id)},onMouseLeave:this.handleMouseLeaveUser,onContextMenu:function(e){return a(e,r)}},r.id,o(g.default,{},void 0,o(_.default,{render:function(e){return n.renderUserPopout(r,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,o(K,{user:r,className:x.default.avatar})),o("div",{className:x.default.info},void 0,o(_.default,{render:function(e){return n.renderUserPopout(r,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,o(b.default,{user:r,className:x.default.tag,usernameClass:x.default.username,discriminatorClass:x.default.discriminator})),o(M.default,{className:x.default.playTime,start:i,end:l,location:M.default.Locations.ACTIVITY_FEED})),this.state.hoveredUserId===r.id?o(R.default,{color:R.default.Colors.PRIMARY,hover:R.default.Hovers.BRAND,onClick:function(e){return n.handleMessage(e,r)}},void 0,F.default.Messages.GAME_FEED_ACTION_MESSAGE):null))},t.prototype.getMaxToShowWithoutOverflow=function(){var e=this.props.players;return null==e?0:e.length>4?3:4},t.prototype.getMaxOverflowUsers=function(){return Math.floor((this.props.width-40-28)/38)+1},t.prototype.getMetadata=function(){var e=this.props,t=e.game,n=e.index;return{load_id:p.default.loadId,card_index:n,card_type:U.ActivityCardTypes.GAME,game_id:t.id,game_name:t.name,af_news:null!=p.default.news}},t.prototype.renderPlayers=function(){var e=this,t=this.props.players;if(null==t||0===t.length)return null;var n=this.getMaxToShowWithoutOverflow(),a=t.slice(0,n).map(function(t,n){return e.renderPlayer(t,n)});return o(L.default,{},void 0,a)},t.prototype.renderPlayersOverflow=function(){var e=this.props,t=e.type,n=e.players,a=this.getMaxToShowWithoutOverflow();if(null==n||n.length<=a)return null;var r=t===$.NOW_PLAYING?F.default.Messages.GAME_FEED_ACTIVITY_MORE_PLAYING_COUNT.format({count:n.length-a}):F.default.Messages.GAME_FEED_ACTIVITY_MORE_RECENTLY_PLAYED_COUNT.format({count:n.length-a}),i=o(I.default,{users:n.slice(a),max:this.getMaxOverflowUsers(),className:x.default.overflownPlayers,renderUser:this.renderOverflowPlayer,renderMoreUsers:this.renderOverflowPlayerOverflow});return o(L.default,{className:x.default.playerBottomPadding,title:r},void 0,i)},t.prototype.renderNews=function(){var e=this,t=this.props,n=t.game,a=t.news,r=t.onVideoPlay;if(null!=a)return o(L.default,{className:x.default.sectionBottomPadding,title:F.default.Messages.GAME_FEED_ARTICLE_TYPE_NEWS},void 0,o(O.default,{news:a,game:n,onClick:function(){return e.handleNewsClick(a)},onVideoPlay:r,className:x.default.news}))},t.prototype.renderHeaderActions=function(){var e=this,t=this.props,n=t.game,a=t.hasLibraryApplication,r=null==n.getChatXSkuId()||a;return o(g.default,{grow:0,align:g.default.Align.CENTER,className:r?x.default.headerActionsHide:null},void 0,o(P.default,{source:U.AnalyticsLocations.ACTIVITY_FEED,game:n,size:R.default.Sizes.SMALL,customColor:G.default.headerButtonColor}),o(R.default,{look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,onClick:function(t){return e.handleOverflowOpen(t,n)},className:x.default.overflowMenu},void 0,o(A.default,{name:A.default.Names.OVERFLOW_MENU})))},t.prototype.render=function(){var e,t=this.props,n=t.game,a=t.onApplicationContextMenu,r=this.state.isOverflowOpen;return i.createElement(N.default,{className:x.default.card,ref:this.setActivityFeedCardRef},o(N.default.Header,{className:(0,s.default)(x.default.cardHeader,(e={},e[x.default.headerOverflowOpen]=r,e)),splashArtURL:n.getSplashURL(512)},void 0,o("div",{className:x.default.headerContent,onContextMenu:function(e){return a(e,n)}},void 0,o(T.default,{game:n,source:U.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.iconHover},void 0,o(C.default,{game:n,onContextMenu:function(e){return a(e,n)}})),o(T.default,{game:n,source:U.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.textHover},void 0,o("div",{className:x.default.headerTitle},void 0,n.name))),this.renderHeaderActions()),o(N.default.Body,{className:x.default.cardBody},void 0,this.renderPlayers(),this.renderPlayersOverflow(),this.renderNews()))},t}(i.PureComponent);q.displayName="GameCard",t.default=l.default.connectStores([h.default,y.default,v.default,m.default,y.default],function(e){var t=e.game,n=v.default.getFirstLibraryApplication(t.id),a=null!=n?n.branchId:null;return{hasLibraryApplication:null!=n,canPlay:(0,f.isLaunchable)(v.default,h.default,y.default,m.default,t.id,a)}})((0,k.default)(q))},6635:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.fetchConsents=function(){return i.default.get({url:l.Endpoints.SETTINGS_CONSENT}).then(u,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return i.default.post({url:l.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(u,d)};var o=s(n(6)),r=s(n(2)),i=s(n(13)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return null!=e&&null!=e.body&&r.default.dispatch({type:l.ActionTypes.UPDATE_CONSENTS,consents:a({},e.body)}),e.body}function d(e){var t=void 0;throw t=e.status>=500&&e.status<=599?o.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:o.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},6636:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPromotions=void 0;var a,o;t.fetchPromotions=(a=regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:d.ActionTypes.PROMOTIONS_FETCH_START}),e.prev=1,e.next=4,(0,l.httpGetWithCountryCodeQuery)(d.Endpoints.PROMOTIONS);case 4:return t=e.sent,n=t.body.map(function(e){return u.default.createFromServer(e)}),i.default.dispatch({type:d.ActionTypes.PROMOTIONS_FETCH_SUCCESS,promotions:n}),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(1),a=new s.default(e.t0),i.default.dispatch({type:d.ActionTypes.PROMOTIONS_FETCH_FAIL,error:a}),a;case 15:case"end":return e.stop()}},e,this,[[1,10]])}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})},function(){return o.apply(this,arguments)});t.ackPromotion=function(e,t){return r.default.put({url:d.Endpoints.PROMOTION_ACK,body:{ack_key:e,ack_type:t}})};var r=f(n(13)),i=f(n(2)),l=n(220),s=f(n(386)),u=f(n(1197)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}},6826:function(e,t,n){"use strict";t.__esModule=!0;var a=h(n(3)),o=n(57),r=h(n(23)),i=h(n(2)),l=n(140),s=h(n(28)),u=h(n(53)),d=h(n(30)),f=h(n(63)),c=h(n(164)),p=h(n(534));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m="ActivityTrackingStore",y=18e5,v=3e5,g=4004,_=r.default.get(m)||{},E={};function S(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&T(e,!0);var t=E[e.applicationId];null!=t&&(t.stop(),delete E[e.applicationId]),delete _[e.applicationId],r.default.set(m,_)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),a=null!=e.updatedAt?n-e.updatedAt:0;a>y+v&&(a=0),p.default.updateActivity(e.applicationId,e.isChatXApplication,(0,l.shouldShareApplicationActivity)(e.applicationId,d.default,f.default,c.default),e.token,Math.floor(a/1e3),t),e.updatedAt=n;var i=E[e.applicationId];null==i&&(i=E[e.applicationId]=new o.Interval).start(y,function(){return T(e)}),t||(_[e.applicationId]=e,r.default.set(m,_))}function C(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=u.default.getRunningGames(),n=new Set(u.default.getRunningChatXApplicationIds()),a=new Set,o=t,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var l;if(r){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var d=l.gameName,f=s.default.getGameByName(d);null!=f&&(a.add(f.id),f.id in _||T({applicationId:f.id,updatedAt:Date.now(),isChatXApplication:n.has(f.id)}))}var c=Object.keys(_),p=Array.isArray(c),h=0;for(c=p?c:c[Symbol.iterator]();;){var m;if(p){if(h>=c.length)break;m=c[h++]}else{if((h=c.next()).done)break;m=h.value}var y=m;a.has(y)||S(_[y],e)}}function b(){var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var a;if(t){if(n>=e.length)break;a=e[n++]}else{if((n=e.next()).done)break;a=n.value}S(_[a])}}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,f.default,c.default),this.syncWith([d.default],C)},t.prototype.getActivities=function(){return _},t}(a.default.Store);t.default=new N(i.default,{RUNNING_GAMES_CHANGE:function(e){return C()},CONNECTION_OPEN:function(e){return function(){var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var a;if(t){if(n>=e.length)break;a=e[n++]}else{if((n=e.next()).done)break;a=n.value}T(_[a])}C(!1)}()},CONNECTION_CLOSED:function(e){e.code===g&&b()},LOGOUT:function(e){return b()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,a=_[t];if(null==a)return!1;a.token=n,r.default.set(m,_)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=_[t];if(null==n)return!1;n.token=null,n.updatedAt=null,r.default.set(m,_)}}),e.exports=t.default},6827:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(57),r=n(7),i=(a=r)&&a.__esModule?a:{default:a};var l=6e4,s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new o.DelayedCall(l,function(){return n.flushUnsubscriptions()}),this._onChange=t}return e.prototype.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},e.prototype.get=function(e){var t=this._subscriptions[e]||{};return i.default.keys(t)},e.prototype.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},e.prototype.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},e.prototype.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},e.prototype.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},e.prototype.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},e.prototype.flushUnsubscriptions=function(){var e=this;i.default.isEmpty(this._unsubscriptions)||(i.default.forEach(this._unsubscriptions,function(t,n){var a=e._subscriptions[n];i.default.forEach(t,function(e,t){a[t]=(a[t]||0)-e,a[t]<=0&&delete a[t]}),i.default.isEmpty(a)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=s,e.exports=t.default},6828:function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(1171);Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return o.MINIMUM_RANGE}}),Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return o.DEFAULT_RANGES}});var r=d(n(7)),i=n(57),l=d(n(6827)),s=d(o),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return null!=e&&"null"!==e&&e!==u.ME&&"undefined"!==e}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._members=new l.default(function(e,t){return n._enqueue(e,{members:t})}),this._channels=new s.default(function(e,t){return n._enqueue(e,{channels:t})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new i.DelayedCall(0,function(){return n.flush()}),this._onChange=t}return e.prototype._enqueue=function(e,t){this._pending[e]=a({},this._pending[e],t),this._flush.delay()},e.prototype.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},e.prototype.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},e.prototype.forEach=function(e){this._subscribed.forEach(e)},e.prototype.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},e.prototype.flush=function(){var e=this;r.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},e.prototype.subscribeUser=function(e,t){f(e)&&this._members.subscribe(e,t)},e.prototype.unsubscribeUser=function(e,t){f(e)&&this._members.unsubscribe(e,t)},e.prototype.subscribeChannel=function(e,t,n){f(e)&&this._channels.subscribe(e,t,n)},e.prototype.subscribeTyping=function(e){f(e)&&(this._typing.has(e)||(this._typing.add(e),this._enqueue(e,{typing:!0})))},e.prototype.subscribeActivities=function(e){f(e)&&(this._activities.has(e)||(this._activities.add(e),this._enqueue(e,{activities:!0})))},e}();t.default=c},6829:function(e,t,n){"use strict";t.__esModule=!0;var a=v(n(3)),o=n(6828),r=v(o),i=v(n(27)),l=v(n(62)),s=v(n(14)),u=v(n(188)),d=v(n(66)),f=v(n(221)),c=v(n(6047)),p=v(n(233)),h=v(n(61)),m=v(n(2)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=void 0;function _(){S.forEach(function(e){e===u.default.getGuildId()||e===f.default.getGuildId()||null!=g&&g.guildId===e||S.clear(e)})}function E(e,t){S.subscribeTyping(e),S.subscribeActivities(e),null!=t&&c.default.getSection()===y.ChannelSections.MEMBERS&&S.subscribeChannel(e,t,o.DEFAULT_RANGES)}var S=new r.default(function(e,t){m.default.dispatch({type:y.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function T(e){e.type===y.ActionTypes.CONNECTION_OPEN&&_();var t=u.default.getGuildId();return null!=t&&E(t,d.default.getChannelId(t)),S.forEach(function(e){null==i.default.getGuild(e)?S.clear(e):m.default.dirtyDispatch({type:y.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:S.get(e)})}),!1}function C(){var e=p.default.getSyncingWith();if(null==e)null!=g&&(S.unsubscribeUser(g.guildId,g.userId),g=null);else{var t=e.userId;if(null!=g&&g.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=l.default.memberOf(t);if(0===n.length)return!1;var a=n[0];g={guildId:a,userId:t},S.subscribeUser(a,t)}return!1}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default,d.default,f.default,s.default,c.default),this.syncWith([p.default],C)},t}(a.default.Store);t.default=new b(m.default,{CONNECTION_OPEN:T,CONNECTION_RESUMED:T,CONNECTION_CLOSED:function(e){return _(),!1},IDLE:function(e){return e.idle&&_(),!1},LOGOUT:function(e){return S.reset(),!1},GUILD_SELECT:function(e){return E(e.guildId),!1},GUILD_DELETE:function(e){var t=e.guild;return S.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==s.default.getId()&&S.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){S.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,a=e.ranges;return S.subscribeChannel(t,n,a),!1},CHANNEL_PRELOAD:function(e){return E(e.guildId,e.channelId),!1}}),e.exports=t.default},6830:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(57),r=n(7),i=(a=r)&&a.__esModule?a:{default:a};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){l(this,e),this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=t,this._guildMemberExists=function(e){return n(t,e)}}return e.prototype.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},e.prototype.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},e.prototype.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},e.prototype.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),u=function(){function e(t,n){var a=this;l(this,e),this._guildStates={},this._flush=new o.DelayedCall(0,function(){return a.flushRequests()}),this._guildMemberExists=t,this._onChange=n}return e.prototype.reset=function(){this._guildStates={},this._flush.cancel()},e.prototype.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay()},e.prototype.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},e.prototype.flushRequests=function(){var e=this;i.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},e.prototype.requestUnacknowledged=function(){i.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},e.prototype._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new s(e,this._guildMemberExists)),t},e}();t.default=u,e.exports=t.default},6831:function(e,t,n){"use strict";t.__esModule=!0;var a=d(n(3)),o=d(n(7)),r=d(n(18)),i=d(n(62)),l=d(n(6830)),s=d(n(2)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new l.default(i.default.isMember,function(e,t){s.default.dispatch({type:u.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function c(){f.reset()}function p(e,t){return f.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,a=t.mentions;null!=n&&p(e,n.id),a.forEach(function(t){return p(e,t.id)})}),!1}function m(e){var t=e.channelId,n=e.messages,a=r.default.getChannel(t);return null!=a&&null!=a.guild_id&&h(a.guild_id,n)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(r.default,i.default)},t}(a.default.Store);t.default=new y(s.default,{CONNECTION_CLOSED:function(e){return c()},CONNECTION_OPEN:function(e){return c()},CONNECTION_RESUMED:function(e){return f.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,a=e.notFound;return n.forEach(function(e){f.acknowledge(t,e.user.id)}),null!=a&&a.forEach(function(e){return f.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,o.default.flatten(n))},LOAD_MESSAGES_SUCCESS:m,LOAD_MESSAGES_AROUND_SUCCESS:m,LOAD_PINNED_MESSAGES_SUCCESS:m,LOAD_RECENT_MENTIONS_SUCCESS:m}),e.exports=t.default},6832:function(e,t,n){"use strict";t.__esModule=!0;var a=u(n(3)),o=u(n(2)),r=u(n(11)),i=(n(0),u(n(28))),l=u(n(53)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var d={};function f(){r.default.embedded&&r.default.isWindows()&&r.default.ensureModule("ChatX_vigilante").then(function(){var e=r.default.requireModule("ChatX_vigilante"),t=l.default.getRunningGames(),n=s.default.map(t,function(e){return e.pid.toString()});d=s.default.pick(d,n);var a=(0,s.default)(t).reject(function(e){return e.pid in d}).map(function(e){return[e.pid,i.default.getGameByName(e.gameName)||i.default.getGameByName(e.name)]}).filter(function(e){return null!=e[1]}).filter(function(t){var n=t[1];return e.hasSidekick(n.id)}).map(function(t){var n=t[0],a=t[1];return[n,e.spawnSidekick(n,a.id)]}).value();d=s.default.assign(d,s.default.fromPairs(a))})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default)},t}(a.default.Store);t.default=new c(o.default,{RUNNING_GAMES_CHANGE:function(e){return f()},GAMES_DATABASE_UPDATE:function(e){return f()}}),e.exports=t.default},6833:function(e,t,n){"use strict";t.__esModule=!0;var a=d(n(3)),o=d(n(2)),r=(n(0),d(n(11))),i=d(n(395)),l=d(n(27)),s=d(n(221)),u=d(n(162));function d(e){return e&&e.__esModule?e:{default:e}}var f=18e6,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(a.default.Store);t.default=new h(o.default,{IDLE:function(e){var t=e.idleSince;if(r.default.embedded&&(clearTimeout(c),clearTimeout(p),null!=t&&!s.default.isDisabled())){var n=s.default.getChannelId();if(null!=n){p=setTimeout(function(){u.default.selectVoiceChannel(null,null)},f);var a=l.default.getGuild(s.default.getGuildId());null!=a&&null!=a.afkChannelId&&a.afkChannelId!==n&&null!=a.afkTimeout&&(c=setTimeout(function(){null!=(a=l.default.getGuild(s.default.getGuildId()))&&null!=a.afkChannelId&&u.default.selectVoiceChannel(a.id,a.afkChannelId)},t+1e3*a.afkTimeout-Date.now()))}}}}),e.exports=t.default},6834:function(e,t,n){"use strict";t.__esModule=!0;var a=h(n(7)),o=h(n(3)),r=h(n(2)),i=n(0),l=h(n(289)),s=h(n(14)),u=n(1180),d=h(n(23)),f=h(n(1179)),c=h(n(13)),p=h(n(11));function h(e){return e&&e.__esModule?e:{default:e}}var m={},y="FriendSyncResultHashes";function v(){d.default.set(y,{userId:s.default.getId(),resultHashes:m})}function g(e){return e.type+":"+e.id}var _=new f.default(function(e){var t=l.default.getAccounts(),n=(0,a.default)(t).filter(function(e){return e.friendSync&&i.UNSAFE_PLATFORM_TYPES.has(e.type)&&i.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type}).uniq().value();(0,u.fetchAccounts)(n).then(function(t){var n=t.filter(function(e){if(m[g(e)]===e.resultHash)return!1;var t=l.default.getAccount(e.id,e.type);return null!=t&&t.friendSync});n.length>0&&c.default.post({url:i.Endpoints.FRIEND_SUGGESTIONS+"/sync",body:n.map(function(e){return{id:e.id,name:e.name,id_hash:e.idHash,platform_type:e.type,friend_id_hashes:e.friendIdHashes}})}).then(function(){n.forEach(function(e){m[g(e)]=e.resultHash}),v()}),e()})});function E(){var e;return p.default.embedded&&((e=d.default.get(y))&&(e.userId===s.default.getId()?m=e.resultHashes:d.default.remove(y)),_.start(36e5)),!1}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default)},t}(o.default.Store);t.default=new S(r.default,{CONNECTION_OPEN:function(e){return E()},CONNECTION_CLOSED:function(e){return _.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return function(){var e,t,n=!1,a=Object.keys(m),o=Array.isArray(a),r=0;for(a=o?a:a[Symbol.iterator]();;){var i;if(o){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var s=i,u=(t=(e=s).indexOf(":"),{type:e.substr(0,t),id:e.substr(t+1)}),d=u.type,f=u.id,c=l.default.getAccount(f,d);null!=c&&c.friendSync||(delete m[s],n=!0)}return n&&v(),p.default.embedded&&_.run(),!1}()},LOGOUT:function(e){return _.stop(),void d.default.remove(y)}}),e.exports=t.default},6835:function(e,t,n){"use strict";t.__esModule=!0;var a=f(n(3)),o=n(57),r=f(n(2)),i=f(n(90)),l=f(n(14)),s=f(n(162)),u=f(n(137)),d=(n(0),f(n(6)));function f(e){return e&&e.__esModule?e:{default:e}}var c=void 0,p=new o.Timeout,h=3e5;function m(){null!=c&&(u.default.sendBotMessage(c,d.default.Messages.BOT_CALL_IDLE_DISCONNECT),s.default.selectVoiceChannel(null,null))}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(a.default.Store);t.default=new y(r.default,{CONNECTION_CLOSED:function(e){return c=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=i.default.getCurrentVoiceChannelId(null,l.default.getId());return null==t?(p.stop(),!1):(1===i.default.getVoiceStatesForChannel(null,t).length?(c=t,p.start(h,m,!1)):p.stop(),!1)}}),e.exports=t.default},6837:function(e,t,n){"use strict";t.__esModule=!0;var a=f(n(3)),o=f(n(23)),r=f(n(7)),i=f(n(2)),l=n(101),s=f(n(60)),u=f(n(221)),d=f(n(543));n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c="CertifiedDeviceRecommendationStore",p=[],h=new Set;function m(){var e;return!(!u.default.isConnected()||!r.default.some(((e={})[l.DeviceTypes.AUDIO_INPUT]=[s.default.getInputDeviceId(),s.default.getInputDevices()],e[l.DeviceTypes.AUDIO_OUTPUT]=[s.default.getOutputDeviceId(),s.default.getOutputDevices()],e[l.DeviceTypes.VIDEO_INPUT]=[s.default.getVideoDeviceId(),s.default.getVideoDevices()],e),function(e,t){var n=e[0],a=e[1];if(d.default.isCertified(n))return!1;var o=d.default.getCertifiedDeviceByType(t);return null!=o&&(null!=a[o.id]&&(!h.has(o.id)&&(p=[o],o.related.forEach(function(e){var t=d.default.getCertifiedDevice(e);null!=t&&p.push(t)}),!0)))}))||p.length>0&&(p=[],!0)}function y(e){var t=e.id,n=p.filter(function(e){return e.id!==t});if(n.length===p.length)return!1;p=n}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=new Set(o.default.get(c)),this.waitFor(d.default,s.default,u.default)},t.prototype.getRecommendedDevices=function(){return p},t.prototype.isOpen=function(){return p.length>0},t.prototype.getProps=function(){return{recommendedDevices:p}},t}(a.default.Store);t.default=new v(i.default,{CERTIFIED_DEVICES_SET:function(e){return m()},MEDIA_ENGINE_DEVICES:function(e){return m()},RTC_CONNECTION_STATE:function(e){return m()},AUDIO_SET_INPUT_DEVICE:y,AUDIO_SET_OUTPUT_DEVICE:y,CERTIFIED_DEVICE_RECOMMENDATIONS_IGNORE:function(e){return p.forEach(function(e){return h.add(e.id)}),p=[],void o.default.set(c,h)}}),e.exports=t.default},6838:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(101),l=h(n(6)),s=h(n(364)),u=h(n(358)),d=n(1162),f=h(n(6837)),c=n(0),p=h(n(17));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=m(this,e.call.apply(e,[this].concat(r))),a.handleConfirm=function(){a.props.recommendedDevices.forEach(function(e){switch(e.type){case i.DeviceTypes.AUDIO_INPUT:u.default.setInputDevice(e.id,"Certified Device Modal");break;case i.DeviceTypes.AUDIO_OUTPUT:u.default.setOutputDevice(e.id,"Certified Device Modal");break;case i.DeviceTypes.VIDEO_INPUT:u.default.setVideoDevice(e.id,"Certified Device Modal")}})},a.handleCancel=function(){(0,d.ignoreCertifiedDeviceRecommendations)()},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.recommendedDevices[0];p.default.track(c.AnalyticEvents.OPEN_MODAL,{type:"Certified Device Modal",device_name:e.vendor.name+" "+e.model.name})},t.prototype.render=function(){var e=this.props.recommendedDevices[0],t=void 0;switch(e.type){case i.DeviceTypes.AUDIO_INPUT:default:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY;break;case i.DeviceTypes.AUDIO_OUTPUT:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY;break;case i.DeviceTypes.VIDEO_INPUT:t=l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_VIDEO_INPUT_BODY}return o(s.default,{title:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE,body:t.format({vendorName:e.vendor.name,modelName:e.model.name}),onConfirm:this.handleConfirm,onCancel:this.handleCancel,confirmText:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_CONFIRM,cancelText:l.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_CANCEL})},t}(r.Component);y.modalConfig={store:f.default},y.displayName="CertifiedDeviceRecommendation",t.default=y,e.exports=t.default},6839:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},6840:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),g(n(6))),i=g(n(9)),l=n(6025),s=g(n(44)),u=g(n(26)),d=n(986),f=g(n(548)),c=n(6262),p=g(n(42)),h=g(n(17)),m=g(n(12)),y=n(0),v=g(n(504));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={LINUX:"linux",OSX:"osx",WINDOWS:"win"};var S=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=_(this,e.call.apply(e,[this].concat(r))),a.state={platform:function(){switch((p.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return E.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return E.LINUX;default:return E.WINDOWS}}()},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.download=function(e,t){window.location=(0,d.makeDesktopDownloadURL)(e,!1,null!=t?t:null),f.default.disable(y.NoticeTypes.DOWNLOAD_NAG);var n=m.default.getCurrentUser();h.default.track(y.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,c.dismiss)()},t.prototype.renderButtons=function(){var e=this,t=this.state.platform;return t!==E.LINUX?o(s.default,{color:s.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:function(e){switch(e){case E.OSX:return r.default.Messages.PLATFORM_MACOS;case E.LINUX:return r.default.Messages.PLATFORM_LINUX;default:return r.default.Messages.PLATFORM_WINDOWS}}(t)})):o(u.default,{},void 0,o(u.default.Child,{},void 0,o(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.DEB}))),o(u.default.Child,{},void 0,o(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.TAR_GZ}))))},t.prototype.render=function(){return o(l.PageWrapper,{illustration:n(6839),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(l.Text,{className:(0,i.default)(v.default.marginBottom20,v.default.marginTop60)},void 0,r.default.Messages.NUF_DOWNLOAD_APP_INTRO),o(l.Title,{className:v.default.marginBottom8},void 0,r.default.Messages.NUF_DOWNLOAD_APP_TITLE),o(l.Text,{className:v.default.marginBottom20},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},t}(l.AnimatedPage);S.displayName="Download",t.default=S,e.exports=t.default},6841:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},6842:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6025),s=h(n(263)),u=h(n(261)),d=h(n(159)),f=h(n(13)),c=n(0),p=h(n(504));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=m(this,e.call.apply(e,[this].concat(r))),a.state={name:"",submitting:!1,hasError:!1},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,a){e.setState({submitting:!0,hasError:!1},function(){return f.default.post({url:c.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),a(new Error("Invalid guild name"))})})})},t.prototype.render=function(){var e=this,t=this.state,a=t.name,f=t.submitting,c=t.hasError;return o(l.PageWrapper,{illustration:n(6841),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(l.Title,{className:(0,i.default)(p.default.marginBottom8,p.default.marginTop20)},void 0,r.default.Messages.NUF_CREATE_SERVER_TITLE),o(l.Text,{className:p.default.marginBottom20},void 0,r.default.Messages.NUF_CREATE_SERVER_BODY.format()),o(s.default,{title:r.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:p.default.marginBottom20},void 0,o(d.default,{autoFocus:!0,name:"name",type:"text",error:c?r.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:f,value:a,className:p.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),c?null:o(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},t}(l.AnimatedPage);y.displayName="Create",t.default=y,e.exports=t.default},6843:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},6844:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6025),s=h(n(263)),u=h(n(261)),d=h(n(159)),f=h(n(268)),c=h(n(5995)),p=h(n(504));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=m(this,e.call.apply(e,[this].concat(r))),a.state={code:null,invite:"",hasError:!1,submitting:!1},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),a=n[n.length-1];return new Promise(function(t,n){e.setState({code:a,submitting:!0,hasError:!1},function(){f.default.resolveInvite(a,"New Homepage NUF").then(function(a){var o=a.invite;null!=o?f.default.acceptInvite(o.code,{location:"New Homepage NUF"}).then(function(){null!=o.guild&&null!=o.channel&&(f.default.transitionToInviteChannel(o.guild.id,o.channel.id,o.channel.type),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED))})})})},t.prototype.render=function(){var e=this,t=this.state,a=t.invite,f=t.submitting,h=t.hasError,m=c.default.isTreatment1();return o(l.PageWrapper,{illustration:n(6843),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(l.Title,{className:(0,i.default)(p.default.marginBottom8,m?p.default.marginTop60:p.default.marginTop20)},void 0,m?r.default.Messages.NUF_JOIN_SERVER_TITLE_1:r.default.Messages.NUF_JOIN_SERVER_TITLE_2),o(l.Text,{className:p.default.marginBottom20},void 0,m?r.default.Messages.NUF_JOIN_SERVER_BODY_1:r.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),o(s.default,{title:r.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:p.default.marginBottom20},void 0,o(d.default,{autoFocus:!0,name:"invite",type:"text",error:h?r.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:f,value:a,className:p.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),h?null:o(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},t}(l.AnimatedPage);y.displayName="Join",t.default=y,e.exports=t.default},6845:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},6846:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(6))),i=p(n(9)),l=n(6025),s=p(n(263)),u=p(n(159)),d=n(926),f=p(n(5995)),c=p(n(504));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,e.call.apply(e,[this].concat(r))),a.state={email:"",password:"",errors:null,submitting:!1},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var a=e.state,o=a.email,i=a.password;(0,d.saveAccountRequest)({email:o,password:i}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[r.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},t.prototype.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},t.prototype.render=function(){var e=this,t=this.state,a=t.email,d=t.password,p=t.submitting,h=f.default.isTreatment1();return o(l.PageWrapper,{illustration:n(6845),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,o(l.Title,{className:(0,i.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,r.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),o(l.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),o(s.default,{title:r.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,o(u.default,{autoFocus:!0,name:"email",disabled:p,value:a,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),o(s.default,{title:r.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,o(u.default,{name:"password",type:"password",error:this.renderError("password"),value:d,disabled:p,onChange:function(t){return e.setState({password:t})}})))},t}(l.AnimatedPage);m.displayName="PageClaim",t.default=m,e.exports=t.default},6847:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(88)),s=_(n(44)),u=_(n(969)),d=_(n(6846)),f=_(n(6844)),c=_(n(6842)),p=_(n(6840)),h=_(n(356)),m=n(5995),y=_(m),v=n(6262),g=_(n(5517));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e){switch(null!=e?e[0]:null){case m.Pages.CLAIM:return{Component:d.default,buttonText:i.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.JOIN:return{Component:f.default,buttonText:i.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.CREATE:return{Component:c.default,buttonText:i.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case m.Pages.DOWNLOAD:return{Component:p.default,buttonText:i.default.Messages.DONE,buttonLook:s.default.Looks.LINK,buttonColor:s.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var T=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=E(this,e.call.apply(e,[this].concat(r))),a.state={submitting:!1},a.handleSubmit=function(e){e.preventDefault();var t=a.pageRef;if(null==t||"function"!=typeof t.submit)return console.warn("HomepageNUF: No valid ref");a.setState({submitting:!0},function(){t.submit().then(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.setState({submitting:!1},function(){return a.handlePageAdvance(!1,e||!1)})},function(){return a.setState({submitting:!1})})})},a.handleSkipClick=function(){a.handlePageAdvance(!0)},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePageAdvance=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.pages,a=this.props.page;null!=a&&null!=n&&((a+=t?2:1)>=n.length?(0,v.dismiss)(e):(0,v.nextStep)(e,t))},t.prototype.renderContent=function(){var e=this,t=this.props,n=t.page,a=t.pages;if(null==n||null==a)return null;var r=S(a[n]).Component;return null==r?null:o(r,{setRef:function(t){return e.pageRef=t}},a[n][0])},t.prototype.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,a=e.progress,l=this.state.submitting;if(null==t||null==n)return null;var d=n[t];if(null==d)return null;var f=S(d),c=f.buttonText,p=f.buttonLook,h=f.buttonColor,m=void 0;return null!=c&&null!=p&&null!=h&&(m=o(s.default,{type:"submit",submitting:l,look:p,color:h},void 0,c)),o(r.Fragment,{},void 0,m,d[1]?o(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,i.default.Messages.SKIP):null,o("div",{className:g.default.progressContainer},void 0,o(u.default,{size:u.default.Sizes.LARGE,percent:100*a,className:g.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},t.prototype.render=function(){return o(l.default,{size:g.default.size,className:g.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,o(h.default,{component:"div",className:g.default.pageSize},void 0,this.renderContent()),o(l.default.Footer,{},void 0,this.renderFooter()))},t}(r.PureComponent);T.modalConfig={store:y.default},T.displayName="HomepageNUF",t.default=T,e.exports=t.default},6860:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(26)),l=f(n(88)),s=f(n(44)),u=f(n(6)),d=f(n(5635));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:o(l.default.CloseButton,{className:d.default.closeButton,onClick:n})},t.prototype.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,a=e.onClickGetApp,r=e.onClose;return t||n?o(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,o(s.default,{size:s.default.Sizes.LARGE,onClick:r},void 0,u.default.Messages.OKAY)):o(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,o("div",{className:d.default.appPromotion},void 0,u.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),o(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.LARGE,onClick:a},void 0,u.default.Messages.CLAIM_ACCOUNT_GET_APP))},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,a=e.email,r=t||n?u.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:u.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return o(l.default,{className:d.default.modal},void 0,o(l.default.Content,{className:d.default.content},void 0,this.renderCloseButton(),o("div",{className:d.default.image}),o("div",{className:d.default.title},void 0,r.format({email:a}))),this.renderFooter())},t}(r.PureComponent);c.displayName="ClaimAccountModalSuccess",t.default=c,e.exports=t.default},6861:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(26)),l=h(n(88)),s=h(n(44)),u=h(n(69)),d=n(158),f=h(n(159)),c=h(n(6)),p=h(n(5636));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleEmailChange=function(e){a.setState({email:e})},a.handlePasswordChange=function(e){a.setState({password:e})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.onClaim,n=a.state,o=n.email,r=n.password;t&&t(o,r)},a.handleLogOut=function(){var e=a.props.onLogOut;e&&e()},a.state={email:"",password:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},t.prototype.renderEmailInput=function(){return o(d.FormItem,{title:c.default.Messages.FORM_LABEL_EMAIL,className:p.default.formItem},void 0,o(f.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},t.prototype.renderPasswordInput=function(){return o(d.FormItem,{title:c.default.Messages.FORM_LABEL_PASSWORD,className:p.default.formItem},void 0,o(f.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},t.prototype.renderClaimButton=function(){return o(s.default,{type:"submit",size:s.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,c.default.Messages.CLAIM_ACCOUNT)},t.prototype.renderLogOut=function(){if(this.props.forced)return o(u.default,{color:u.default.Colors.PRIMARY,className:p.default.logout,onClick:this.handleLogOut,size:u.default.Sizes.SMALL},void 0,c.default.Messages.LOGOUT)},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,a=void 0;return a=t?c.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:n?c.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED:c.default.Messages.CLAIM_ACCOUNT_BODY,o(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,o(l.default.Content,{className:p.default.content},void 0,o("div",{className:p.default.image}),o("div",{className:p.default.title},void 0,a)),o(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,this.renderEmailInput(),this.renderPasswordInput(),this.renderClaimButton(),this.renderLogOut()))},t}(r.PureComponent);m.displayName="ClaimAccountModal",t.default=m,e.exports=t.default},6862:function(e,t,n){"use strict";t.__esModule=!0;var a=d(n(3)),o=d(n(2)),r=n(0),i=d(n(11)),l=d(n(12)),s=d(n(5978)),u=d(n(5995));function d(e){return e&&e.__esModule?e:{default:e}}var f=r.FormStates.CLOSED,c=r.ClaimAccountModalSteps.CLAIM,p=!1,h=!1,m=null,y={};function v(e){var t=l.default.getCurrentUser();if(null==t||t.isClaimed())return!1;f=r.FormStates.OPEN,y={},h=e.openedByChatBox||!1}function g(){f=r.FormStates.CLOSED,y={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default)},t.prototype.isOpen=function(){return!s.default.hasAction()&&f!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:f===r.FormStates.SUBMITTING,step:c,forced:p,openedByChatBox:h,email:m,errors:y}},t}(a.default.Store);t.default=new _(o.default,{CONNECTION_OPEN:function(e){return t=u.default.getExperimentDescriptor(),!(l.default.getCurrentUser().isClaimed()||!i.default.embedded||null!=t&&t.bucket!==r.ExperimentBuckets.CONTROL)&&(p=!0,void v({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:v,NEW_USER_FLOW_GUILD_CREATED:v,CLAIM_ACCOUNT_SUBMITTED:function(e){f=r.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){f=r.FormStates.OPEN,c=r.ClaimAccountModalSteps.CLAIM_SUCCESS,m=e.email},CLAIM_ACCOUNT_FAILURE:function(e){f=r.FormStates.OPEN,y=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return g()},CONNECTION_CLOSED:function(e){return g()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&v({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},6863:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=y(n(1)),i=n(0),l=y(n(523)),s=m(n(918)),u=m(n(6862)),d=m(n(6861)),f=m(n(6860)),c=n(986),p=m(n(17)),h=m(n(11));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.render=function(){var e=this.props,t=e.step,n=e.forced,a=e.openedByChatBox,r=e.submitting,l=e.email;switch(t){case i.ClaimAccountModalSteps.CLAIM:default:return o(d.default,{forced:n,openedByChatBox:a,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:r,onClaim:this.handleClaim,onLogOut:this.handleLogOut});case i.ClaimAccountModalSteps.CLAIM_SUCCESS:return o(f.default,{forced:n,openedByChatBox:a,email:l,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},t.prototype.handleClaim=function(e,t){l.claim(e,t)},t.prototype.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),p.default.track(i.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},t.prototype.handleLogOut=function(){s.default.logout()},t.prototype.close=function(){l.close()},t}(r.PureComponent);v.modalConfig={store:u.default,closable:h.default.isWeb()},v.displayName="ClaimAccount",t.default=v,e.exports=t.default},6864:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},6865:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(26)),s=m(n(44)),u=m(n(365)),d=m(n(261)),f=m(n(508)),c=m(n(6)),p=n(0),h=m(n(5637));function m(e){return e&&e.__esModule?e:{default:e}}var y=o(f.default,{}),v=o(f.default,{}),g=o(f.default,{}),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={checked:!1},a.handleCheck=a.handleCheck.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.accepting,r=e.onAccept,f=this.state.checked;return o("div",{className:(0,i.default)(h.default.modal,t)},void 0,o("div",{className:h.default.title},void 0,c.default.Messages.NEW_TERMS_TITLE),y,o(d.default,{className:h.default.description},void 0,c.default.Messages.NEW_TERMS_DESCRIPTION),o(l.default,{className:h.default.container,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,o(l.default,{direction:l.default.Direction.VERTICAL},void 0,o("div",{className:h.default.link},void 0,c.default.Messages.TERMS_OF_SERVICE.format({url:p.MarketingURLs.TERMS})),o("div",{className:h.default.link},void 0,c.default.Messages.PRIVACY_POLICY.format({url:p.MarketingURLs.PRIVACY}))),o("img",{alt:"",src:n(6864)})),v,o("div",{className:h.default.container},void 0,o(u.default,{onChange:this.handleCheck,value:f},void 0,o("div",{className:h.default.ack},void 0,c.default.Messages.NEW_TERMS_ACK))),g,o(l.default,{className:h.default.buttonContainer,justify:l.default.Justify.END},void 0,o(s.default,{className:h.default.button,disabled:!f,submitting:a,onClick:r},void 0,c.default.Messages.NEW_TERMS_CONTINUE)))},t.prototype.handleCheck=function(){this.setState({checked:!this.state.checked})},t}(r.PureComponent);_.defaultProps={onAccept:p.NOOP,accepting:!1},_.displayName="NewTermsModal",t.default=_,e.exports=t.default},6866:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(7)),l=f(n(6865)),s=f(n(5978)),u=n(979),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={accepting:!1},i.default.bindAll(a,["handleAccept"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,u.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},t.prototype.render=function(){return o(l.default,{className:"theme-light",onAccept:this.handleAccept,accepting:this.state.accepting})},t}(r.PureComponent);c.modalConfig={store:s.default,center:!0,isOpen:function(){return s.default.getAction()===d.UserRequiredActions.AGREEMENTS}},c.displayName="UserAgreements",t.default=c,e.exports=t.default},6867:function(e,t,n){e.exports=n.p+"045ea1ae8202098575f9b31a9faccb2c.svg"},6868:function(e,t,n){e.exports=n.p+"ba7676b3791fb371b0c67266945821f7.svg"},6869:function(e,t,n){e.exports=n.p+"9aa8a052edc4b43d141fdc275623209c.svg"},6870:function(e,t,n){e.exports=n.p+"b772c1d05a4bf0368d92668509da2cbc.svg"},6871:function(e,t,n){var a={"./img_account_sync_stars1.svg":6870,"./img_account_sync_stars2.svg":6869,"./img_account_sync_stars3.svg":6868,"./img_account_sync_stars4.svg":6867};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=6871},6872:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(77)),s=u(n(5639));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f="SWITCH_REF",c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=d(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(){a.refs[f].click()},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return r(l.default,{className:s.default.switch,onClick:this.handleClick},void 0,i.createElement("input",o({ref:f},this.props,{type:"checkbox"})),r("div",{className:s.default.slider}))},t}(i.Component);c.displayName="Switch",t.default=c,e.exports=t.default},6873:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(7)),l=g(n(91)),s=g(n(953)),u=g(n(6872)),d=g(n(40)),f=g(n(973)),c=g(n(550)),p=g(n(288)),h=g(n(6)),m=n(0),y=g(n(537)),v=g(n(505));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(5638);var E=function(e){var t=e.account,n=e.platform,a=e.connect,r=e.onToggle;return o("div",{className:"detected-account"},void 0,o("img",{alt:h.default.Messages.IMG_ALT_LOGO.format({name:n.name}),className:"detected-account-icon",src:n.icon.color}),o("div",{className:"detected-account-details"},void 0,o("h3",{},void 0,t.name),o("h4",{},void 0,h.default.Messages.NUM_FRIENDS.format({friendCount:t.friendIdHashes.length}))),o(u.default,{checked:a,onChange:function(e){return r(t.id,e.currentTarget.checked)}}))};E.displayName="DetectedPlatformAccount";var S=o("div",{className:"divider"}),T=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=_(this,e.call.apply(e,[this].concat(r))),a.state={noConnect:new Set},a.close=function(){c.default.ignore()},a.handleEnable=function(){var e=a.props,t=e.detectedAccounts,n=e.analyticsLocation,o=a.state.noConnect,r=new Set;t.forEach(function(e){o.has(e.id)?r.add(e.type):p.default.connect(e.type,e.id,e.name,n)}),d.default.transitionTo(m.Routes.FRIENDS),f.default.setSection(m.FriendsSections.ADD_FRIEND),c.default.ignore(Array.from(r))},a.handleToggle=function(e,t){var n=a.state.noConnect;t&&n.has(e)?(n.delete(e),a.forceUpdate()):t||n.has(e)||(n.add(e),a.forceUpdate())},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props.detectedAccounts,a=this.state.noConnect,r=(0,i.default)(t).map(function(e){return l.default.get(e.type)}).uniq().map(function(e){return o("img",{alt:h.default.Messages.IMG_ALT_LOGO.format({name:e.name}),className:"icon",src:e.icon.color},e.type)}).value(),s=n(6871)("./img_account_sync_stars"+r.length+".svg"),u=void 0,d=i.default.uniq(t.map(function(e){return l.default.get(e.type).name})),f=d[0],c=d[1],p=d[2];switch(d.length){case 1:u=h.default.Messages.ONE_PLATFORM_ACCOUNT_DETECTED.format({a:f});break;case 2:u=h.default.Messages.TWO_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:c});break;case 3:u=h.default.Messages.THREE_PLATFORM_ACCOUNTS_DETECTED.format({a:f,b:c,c:p});break;default:u=h.default.Messages.FOUR_OR_MORE_PLATFORM_ACCOUNTS_DETECTED}var y=t.map(function(t){return o(E,{account:t,platform:l.default.get(t.type),connect:!a.has(t.id),onToggle:e.handleToggle},t.id)});return o("div",{className:"detected-platform-accounts-modal"},void 0,o("div",{className:"icons",style:{backgroundImage:"url("+s+")"}},void 0,r),o("div",{className:"body"},void 0,u),o("div",{className:"detected-accounts"},void 0,y),S,o("div",{className:"btn-group"},void 0,o("button",{type:"button",className:"btn btn-default",onClick:this.close},void 0,h.default.Messages.NOT_NOW),o("button",{type:"button",className:"btn btn-primary",onClick:this.handleEnable,disabled:t.length-a.size==0},void 0,h.default.Messages.ENABLE)),o("div",{className:"privacy"},void 0,h.default.Messages.PLATFORM_ACCOUNT_PRIVACY.format({articleURL:v.default.getArticleURL(m.HelpdeskArticles.FRIEND_SYNC_PRIVACY)})))},t}(r.PureComponent);T.modalConfig={store:s.default,backdropStyle:y.default.Styles.SOLID,closable:!1},T.displayName="DetectedPlatformAccounts",t.default=T,e.exports=t.default},6874:function(e,t,n){"use strict";t.__esModule=!0;var a=r(n(3)),o=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=!1;function l(){i=!1}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t}(a.default.Store);t.default=new s(o.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){i=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return l()},CURRENT_USER_UPDATE:function(e){e.user.verified&&l()}}),e.exports=t.default},6875:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(966)),l=E(n(9)),s=E(n(7)),u=E(n(88)),d=n(44),f=E(d),c=n(158),p=E(n(159)),h=E(n(6)),m=n(0),y=n(57),v=E(n(5640)),g=E(n(504)),_=E(n(917));function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a._animItem=null,a._timeout=new y.Timeout,a.state={canResend:n.canResend,resent:!1,shouldClose:!1,email:"",password:""},s.default.bindAll(a,["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(204).then(function(t){var a=n(6657);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.canResend!==this.state.canResend&&this.setState({canResend:e.canResend})},t.prototype.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,a=e.submitting,r=this.state,i=r.email,l=r.password;return o("div",{className:v.default.container},void 0,o(c.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:g.default.marginBottom20},void 0,o(p.default,{value:i,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),o(c.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:g.default.marginBottom40},void 0,o(p.default,{type:"password",value:l,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),o(f.default,{fullWidth:!0,size:f.default.Sizes.LARGE,onClick:this.handleVerify,submitting:a,disabled:0===i.length||0===l.length},void 0,h.default.Messages.VERIFY_ACCOUNT))},t.prototype.renderActions=function(){return o("div",{className:v.default.container},void 0,o(f.default,{className:g.default.marginTop20,fullWidth:!0,size:f.default.Sizes.LARGE,look:d.ButtonLooks.INVERTED,color:d.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,h.default.Messages.RESEND_EMAIL),o(f.default,{className:g.default.marginTop20,fullWidth:!0,size:f.default.Sizes.MEDIUM,look:d.ButtonLooks.LINK,color:d.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,h.default.Messages.CHANGE_EMAIL))},t.prototype.render=function(){var e=this.state,t=e.canResend,n=e.resent,a=this.props.email,i=void 0;return i=n&&null!=a?h.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:a}):t?h.default.Messages.VERIFY_EMAIL_BODY:h.default.Messages.ENTER_EMAIL_BODY,o(u.default,{className:(0,l.default)(v.default.emailVerificationModal,_.default.vertical,_.default.alignCenter,_.default.justifyCenter,g.default.marginTop60)},void 0,r.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),o("div",{className:(0,l.default)(v.default.title,g.default.marginBottom8)},void 0,h.default.Messages.VERIFY_BY_EMAIL),o("div",{className:(0,l.default)(v.default.body,g.default.marginBottom20)},void 0,i),t?this.renderActions():this.renderInputs())},t.prototype.setLottieRef=function(e){this._lottieRef=e},t.prototype.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},t.prototype.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,a=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&a()}))},t.prototype.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},t.prototype.handleEmailChange=function(e){this.setState({email:e})},t.prototype.handlePasswordChange=function(e){this.setState({password:e})},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.email,a=t.password;13===e.which&&n.length>0&&a.length>0&&(e.preventDefault(),this.handleVerify())},t}(r.PureComponent);S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:m.NOOP,onClose:m.NOOP},S.displayName="EmailVerificationModal",t.default=S,e.exports=t.default},6876:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(45))),i=y(n(3)),l=y(n(59)),s=y(n(918)),u=y(n(6274)),d=n(926),f=y(n(6875)),c=y(n(6335)),p=y(n(6874)),h=y(n(12)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,r.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:p.default}},mixins:[i.default.LazyStoreListenerMixin(c.default,h.default),l.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,a=e.formState;return{user:h.default.getCurrentUser(),claimed:t,errors:n,submitting:a===m.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,a=e.user,r=this.getError("email"),i=this.getError("password");return o(f.default,{email:a.email,emailError:r,passwordError:i,submitting:n,canResend:!n&&t&&0===r.length&&0===i.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,a=n.username,o=n.avatar;(0,d.saveAccountChanges)(a,e,t,o,null)},handleResend:function(){s.default.verifyResend()},close:function(){u.default.close()}});t.default=v,e.exports=t.default},6877:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(26)),s=f(n(77)),u=n(0),d=f(n(5643));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(n){c(this,t);var a=p(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return h(t,e),t.prototype.handleClick=function(e){var t=this.props.onClick;return t&&t(this.props.option,e)},t.prototype.render=function(){var e,t=this.props.selected,n=this.props.option.name;return o(s.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.selected]=t,e)),onClick:this.handleClick},void 0,n)},t}(r.PureComponent);m.displayName="SegmentControlItem";var y=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.renderItem=function(e){var t=this.props.value===e.value;return o(m,{selected:t,option:e,onClick:this.props.onChange},e.value)},t.prototype.render=function(){var e=this.props.className;return o(l.default,{className:(0,i.default)(d.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(r.PureComponent);y.defaultProps={options:[],onChange:u.NOOP,value:null},y.displayName="SegmentControl",t.default=y,e.exports=t.default},6878:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(7)),l=n(545),s=A(n(9)),u=A(n(6877)),d=A(n(6265)),f=n(44),c=A(f),p=A(n(6549)),h=A(n(261)),m=A(n(949)),y=A(n(69)),v=A(n(77)),g=A(n(78)),_=n(0),E=A(n(6)),S=A(n(262)),T=A(n(160)),C=A(n(26)),b=A(n(88)),N=A(n(58)),O=A(n(5641)),I=n(100);function A(e){return e&&e.__esModule?e:{default:e}}var M=o(T.default,{}),R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={selectedSegment:n.value,selectedTile:null,selectedResolution:n.resolution,selectedFrameRate:n.frameRate,sound:n.sound},i.default.bindAll(a,["handleSelectSegment","handleSoundChange","handleShare"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({selectedSegment:e.value})},t.prototype.getButton=function(e,t){var n=this,a=this.props,r=a.premium,i=a.onPromptPremium,l=this.state,s=l.selectedResolution,u=l.selectedFrameRate,d=t?e===s:e===u,f=!1;r||(f=t?0===e||e>=1080:60===e);var c=void 0;t||60!==e?t&&(0===e||e>=1080)&&(c=60===u):c=0===s||s>=1080;var p=void 0,h=void 0;return f?(p=o(C.default,{align:C.default.Align.CENTER},void 0,o(y.default,{size:y.default.Sizes.SMALL,weight:y.default.Weights.SEMIBOLD,color:y.default.Colors.PRIMARY,className:O.default.selectorPremiumText},void 0,0===e?E.default.Messages.SCREENSHARE_SOURCE:e),o(N.default,{name:N.default.Names.Premium,color:_.Colors.BRAND,className:O.default.selectorPremiumIcon})),h=i):(p=o(y.default,{size:y.default.Sizes.SMALL,weight:y.default.Weights.SEMIBOLD,className:(0,I.getClass)(O.default,"selectorText",d?"Selected":null)},void 0,0===e?E.default.Messages.SCREENSHARE_SOURCE:e),h=t?function(){return n.handleSelectResolution(e)}:function(){return n.handleSelectFrameRate(e)}),{content:p,className:(0,I.getClass)(O.default,"selectorButton",d?"Selected":null),onClick:h,disabled:c}},t.prototype.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return o(C.default,{align:C.default.Align.CENTER,shrink:0,className:O.default.selector},void 0,o(C.default.Child,{grow:0},void 0,o(g.default,{tag:g.default.Tags.H5},void 0,E.default.Messages.SCREENSHARE_STREAM_QUALITY),o(p.default,{buttons:t})),o(C.default.Child,{grow:0},void 0,o(g.default,{tag:g.default.Tags.H5},void 0,E.default.Messages.SCREENSHARE_FRAME_RATE),o(p.default,{buttons:n})),this.renderSound())},t.prototype.renderSound=function(){var e=this,t=this.props.items,n=this.state,a=n.selectedSegment,r=n.sound,s=(0,i.default)(t).filter(function(e){return e.value===a}).first();return null!=s&&s.sound?o(l.SmartUID,{},void 0,function(t){return o(C.default.Child,{grow:0},void 0,o("label",{htmlFor:t,className:O.default.label},void 0,E.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),o(C.default,{align:C.default.Align.CENTER,style:{height:30}},void 0,o(m.default,{id:t,value:r,onChange:e.handleSoundChange})))}):null},t.prototype.renderGrids=function(){var e=this,t=this.props.items,n=this.state,a=n.selectedSegment,r=n.selectedTile,l=(0,i.default)(t).filter(function(e){return e.value===a}).first();if(null==l||null==l.options)return o(C.default,{className:O.default.spinner,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,M);var u=l.layout,f=l.options,c=u===d.default.Layout.STACK,p=f.map(function(t){var n,a,i,l=t.id,u=t.name,d=t.url,f=r===l;return o(v.default,{className:O.default.tile,onClick:function(){return e.handleSelectTile(l)}},l,o(C.default,{direction:C.default.Direction.VERTICAL,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,o(C.default,{justify:C.default.Justify.CENTER,align:C.default.Align.CENTER,className:(0,s.default)((n={},n[O.default.imageContainerStack]=c,n[O.default.imageContainerWrap]=!c,n))},void 0,o("img",{alt:"",className:(0,s.default)((a={},a[O.default.imageSelected]=f,a[O.default.imageStack]=c,a[O.default.imageWrap]=!c,a)),src:d})),o("div",{className:(0,s.default)((i={},i[O.default.titleStack]=c,i[O.default.titleWrap]=!c,i[O.default.titleSelected]=f,i))},void 0,u)))});return o(S.default,{theme:S.default.Themes.GHOST_HAIRLINE},void 0,o(d.default,{layout:u,columns:3,className:O.default.container},void 0,p))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.description,a=e.onCancel,r=this.state,l=r.selectedSegment,s=r.selectedTile,d=[];return(0,i.default)(t).forEach(function(e){var t=e.name,n=e.value;d.push({name:t,value:n})}),o(b.default,{size:O.default.size},void 0,o(C.default,{className:O.default.content,direction:C.default.Direction.VERTICAL},void 0,o(u.default,{options:d,value:l,onChange:this.handleSelectSegment,className:O.default.border}),this.renderSelectors(),o(C.default,{className:O.default.tiles,direction:C.default.Direction.VERTICAL,align:C.default.Align.STRETCH},void 0,this.renderGrids()),o(h.default,{type:h.default.Types.DESCRIPTION,className:O.default.description},void 0,n)),o(b.default.Footer,{},void 0,o(c.default,{disabled:null==s,onClick:this.handleShare},void 0,E.default.Messages.SHARE),o(c.default,{look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:a},void 0,E.default.Messages.CANCEL)))},t.prototype.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t}),(0,this.props.onSelectSourceType)(t))},t.prototype.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},t.prototype.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},t.prototype.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},t.prototype.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},t.prototype.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},t}(r.PureComponent);R.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:_.NOOP,onShare:_.NOOP,onSelectSourceType:_.NOOP,onPromptPremium:_.NOOP},R.displayName="ScreenshareModal",t.default=R,e.exports=t.default},6880:function(e,t,n){"use strict";t.__esModule=!0;var a=u(n(3)),o=n(57),r=u(n(2)),i=(n(0),n(101)),l=u(n(6879)),s=u(n(144));function u(e){return e&&e.__esModule?e:{default:e}}var d=!1,f=i.DesktopSources.SCREEN,c=void 0,p=void 0,h=void 0,m=new o.Interval;function y(){var e=f===i.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=f===i.DesktopSources.WINDOW?c:p,n=f;(0,l.default)([f],e).then(function(e){n!==f||null!=t&&(0,s.default)(t,e)||(f===i.DesktopSources.WINDOW?c=e:p=e,v.emitChange())})}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d},t.prototype.getProps=function(){return{windowSources:c,screenSources:p,channel:h}},t}(a.default.Store))(r.default,{SCREENSHARE_MODAL_OPEN:function(e){d=!0,h=e.channel,y(),m.start(1e3,y)},SCREENSHARE_MODAL_CLOSE:function(e){return d=!1,f=i.DesktopSources.SCREEN,h=null,m.stop(),c=null,void(p=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;f=t,c=null,p=null,y()}});t.default=v,e.exports=t.default},6881:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(17)),s=_(n(359)),u=_(n(6880)),d=_(n(60)),f=_(n(5997)),c=_(n(358)),p=_(n(355)),h=_(n(12)),m=_(n(6878)),y=_(n(6265)),v=n(0),g=n(101);function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleShare=a.handleShare.bind(a),a.handlePromptPremium=a.handlePromptPremium.bind(a),a.close=a.close.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getItems=function(){return[{name:i.default.Messages.SCREENSHARE_SCREEN,value:g.DesktopSources.SCREEN,layout:y.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:i.default.Messages.SCREENSHARE_WINDOW,value:g.DesktopSources.WINDOW,layout:y.default.Layout.WRAP,options:this.props.windowSources,sound:d.default.supports(g.Features.SOUNDSHARE)}]},t.prototype.render=function(){return o(m.default,{items:this.getItems(),value:g.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:d.default.supports(g.Features.SOUNDSHARE),premium:s.default.canUseHigherFramerate(h.default.getCurrentUser()),description:i.default.Messages.SCREENSHARE_DESCRIPTION.format({name:this.props.channel.toString()}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},t.prototype.close=function(){f.default.close()},t.prototype.handleShare=function(e,t,n,a){this.close(),c.default.setDesktopSource(e,t,n,a)},t.prototype.handleSelectSourceType=function(e){f.default.selectSourceType(e)},t.prototype.handlePromptPremium=function(){l.default.track(v.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:v.AnalyticsPages.DM_CHANNEL,location_section:v.AnalyticsSections.SCREENSHARE_POPOUT}),this.close(),p.default.open(v.UserSettingsSections.PREMIUM)},t}(r.PureComponent);E.modalConfig={store:u.default},E.displayName="Screenshare",t.default=E,e.exports=t.default},6889:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=U(n(1)),l=D(n(104)),s=D(n(3)),u=D(n(40)),d=D(n(17)),f=D(n(359)),c=D(n(11)),p=(n(127),D(n(30))),h=D(n(6326)),m=D(n(279)),y=D(n(6006)),v=U(n(5970)),g=U(n(265)),_=D(n(88)),E=D(n(58)),S=D(n(26)),T=D(n(44)),C=D(n(6324)),b=D(n(987)),N=n(6325),O=n(1188),I=D(O),A=D(n(532)),M=D(n(6323)),R=D(n(6322)),P=D(n(6)),L=n(0),w=D(n(5648));function D(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=function(e){function t(){var n,a,i,s,p=this;F(this,t);for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];return n=a=x(this,e.call.apply(e,[this].concat(m))),a.state={paymentSource:null,playingAnimationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},a._loadId=l.default.v4(),a._stepStartTime=Date.now(),a._flowStartTime=Date.now(),a.handlePaymentSourceChange=function(e){a.setState({paymentSource:e})},a.handleSubscribe=(s=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),e.prev=1,d.default.track(L.AnalyticEvents.PAYMENT_FLOW_COMPLETED,r({},a.getBaseAnalyticsData(),{duration_ms:Date.now()-a._flowStartTime})),e.next=5,a.subscribe(t);case 5:a.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),a.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:N.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),d.default.track(L.AnalyticEvents.PAYMENT_FLOW_FAILED,r({},a.getBaseAnalyticsData(),{payment_gateway:t.type===L.PaymentSourceTypes.CARD?L.PaymentGateways.STRIPE:L.PaymentGateways.BRAINTREE,payment_source_id:t.id,duration_ms:Date.now()-a._flowStartTime})),e.t0;case 13:case"end":return e.stop()}},e,p,[[1,8]])})),function(e){return s.apply(this,arguments)}),a.handleChangePaymentSource=(i=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isPurchasing:!0}),e.prev=1,e.next=4,a.subscribe(t);case 4:a.close(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.setState({isPurchasing:!1});case 10:case"end":return e.stop()}},e,p,[[1,7]])})),function(e){return i.apply(this,arguments)}),a.handlePurchase=function(e){return a.props.subscriptionMode===L.PremiumPaymentSubscriptionModes.CHANGE?a.handleChangePaymentSource(e):a.handleSubscribe(e)},a.handleConfirmContinue=function(){var e=a.props.plan;f.default.getPremiumType(e)===L.PremiumTypes.TIER_2&&(location.pathname===L.Routes.APPLICATION_STORE?u.default.replaceWith(""+L.Routes.APPLICATION_STORE+L.PREMIUM_ROUTE_HASH):u.default.transitionTo(""+L.Routes.APPLICATION_STORE+L.PREMIUM_ROUTE_HASH),g.popLayer()),a.close()},a.handleAnimationScenePlayTier1=function(e){return a.setState({animationSceneTier1:N.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},a.handleAnimationScenePlayTier2=function(e){return a.setState({animationSceneTier2:N.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},a.trackStepChange=function(e,t){var n=Date.now();d.default.track(L.AnalyticEvents.PAYMENT_FLOW_STEP,r({},a.getBaseAnalyticsData(),{from_step:e,to_step:t,step_duration_ms:n-a._stepStartTime,flow_duration_ms:n-a._flowStartTime})),a._stepStartTime=n},a.renderAnimation=function(){var e=a.props.plan;return f.default.getPremiumType(e)===L.PremiumTypes.TIER_1?o(N.PremiumPaymentAnimationTier1,{className:w.default.headerAnimation,scene:a.state.animationSceneTier1,onScenePlay:a.handleAnimationScenePlayTier1}):o(N.PremiumPaymentAnimationTier2,{className:w.default.headerAnimation,scene:a.state.animationSceneTier2,onScenePlay:a.handleAnimationScenePlayTier2})},a.renderHeader=function(e,t){var n=a.props,r=n.subscriptionMode,i=n.paymentError,l=n.plan,s=f.default.getPremiumType(l);return o(_.default.Header,{className:w.default.header,direction:S.default.Direction.VERTICAL,align:S.default.Align.START,separator:!1},void 0,o(M.default,{shouldShowPrice:r!==L.PremiumPaymentSubscriptionModes.CHANGE,plan:l,renderAnimation:a.renderAnimation,onClose:a.close}),null==i||a.shouldShake()?null:o(A.default,{className:w.default.errorBlock},void 0,i.message),e===O.Steps.CONFIRM||s!==L.PremiumTypes.TIER_2||c.default.isWindows()?null:o("div",{className:w.default.warningBlock},void 0,o(E.default,{name:E.default.Names.WARNING_BOX}),P.default.Messages.PREMIUM_PAYMENT_APPLICATIONS_OS_WARNING),e!==O.Steps.CONFIRM&&t.length>1?o(b.default,{activeId:e,breadcrumbs:t}):null)},a.renderConfirmationBody=function(){var e=a.props,t=e.plan,n=e.theme,r=f.default.getPremiumType(t),i=r===L.PremiumTypes.TIER_2;return o(_.default.Content,{className:w.default.confirmationContent,align:S.default.Align.CENTER},void 0,o(R.default,{className:w.default.confirmationActivated,theme:n,premiumType:r,type:R.default.Types.ACTIVATED}),o("div",{className:w.default.confirmationBlurb},void 0,i?P.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS:P.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR),o(T.default,{onClick:a.handleConfirmContinue,className:w.default.confirmationButton},void 0,i?P.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS:P.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR))},x(a,n)}return G(t,e),t.prototype.componentDidMount=function(){d.default.track(L.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},t.prototype.close=function(){v.closeModal()},t.prototype.getBaseAnalyticsData=function(){var e=this.getPrice();return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:this.props.plan,subscription_type:L.SubscriptionTypes.PREMIUM,price:e.amount,regular_price:e.amount,currency:e.currency}},t.prototype.getValidPaymentTypes=function(){switch(this.props.paymentSourceType){case L.PaymentSourceTypes.CARD:return[L.PaymentSourceTypes.CARD];case L.PaymentSourceTypes.PAYPAL:return[L.PaymentSourceTypes.PAYPAL]}return null},t.prototype.getLegalNotice=function(){var e=this.props,t=e.subscriptionMode,n=e.plan;if(t===L.PremiumPaymentSubscriptionModes.CHANGE)return null;var a=this.getPeriod(),o=f.default.getDisplayPremiumType(n);switch(a){case L.SubscriptionPeriods.MONTHLY:return P.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:L.MarketingURLs.TERMS,planPremiumType:o});case L.SubscriptionPeriods.YEARLY:return P.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:L.MarketingURLs.TERMS,planPremiumType:o})}},t.prototype.getSubmitText=function(){var e=this.props,t=e.plan,n=e.subscriptionMode,a=e.paymentSourceType,o=f.default.getDisplayPremiumType(t);switch(n){case L.PremiumPaymentSubscriptionModes.NEW:return P.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:o});case L.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return P.default.Messages.RESUBSCRIBE;case L.PremiumPaymentSubscriptionModes.CHANGE:return a===L.PaymentSourceTypes.CARD?P.default.Messages.PAYMENT_MODAL_BUTTON_CHANGE_CARD:P.default.Messages.PAYMENT_MODAL_BUTTON_CHANGE_PAYPAL;default:return null}},t.prototype.getPrice=function(){var e=this.props.plan;return f.default.getPrice(e)},t.prototype.getPeriod=function(){var e=this.props.plan;return f.default.getPeriod(e)},t.prototype.subscribe=function(e){var t=this.props,n=t.subscriptionMode,a=t.plan,o=t.subscription;if(n===L.PremiumPaymentSubscriptionModes.NEW)return v.subscribe(a,e);if(n===L.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=o)return v.resubscribe(o,e);if(n===L.PremiumPaymentSubscriptionModes.CHANGE&&null!=o)return v.changePaymentSource(o,e);throw new Error("Failed to subscribe")},t.prototype.shouldShake=function(){var e=this.state,t=e.playingAnimationSceneTier1,n=e.playingAnimationSceneTier2;return N.ShakeScenes.has(t)||N.ShakeScenes.has(n)},t.prototype.render=function(){var e=this.props.subscriptionMode===L.PremiumPaymentSubscriptionModes.CHANGE,t=this.shouldShake();return o(C.default,{isShaking:t,intensity:2},void 0,o(I.default,{useShinySubmitButton:!e,isPurchasing:this.state.isPurchasing||t,legalNotice:this.getLegalNotice(),requireAcceptingTerms:!e,showConfirmation:!e,price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:v.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,submitButtonText:this.getSubmitText(),validPaymentTypes:this.getValidPaymentTypes(),onStepChange:this.trackStepChange}))},t}(i.Component);B.displayName="PremiumPayment";var j=s.default.connectStores([m.default,y.default,h.default,p.default],function(){var e=y.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null;return{subscription:e,subscriptionMode:h.default.subscriptionMode,plan:h.default.plan,paymentSourceType:t,paymentError:h.default.paymentError,theme:p.default.theme}})(B),H=function(e){function t(){var n,a;F(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=x(this,e.call.apply(e,[this].concat(r))),a.ref=i.createRef(),a.close=function(){null!=a.ref.current&&a.ref.current.close()},x(a,n)}return G(t,e),t.prototype.render=function(){return o(j,{setRef:this.ref})},t}(i.PureComponent);H.modalConfig={store:h.default,closable:!1},H.displayName="PremiumPaymentModal",t.default=H,e.exports=t.default},6892:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(3)),o=i(n(2)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=r.FormStates.CLOSED,s=void 0,u=void 0,d=void 0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return l!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:s,days:u,estimate:d}},t}(a.default.Store);t.default=new f(o.default,{PRUNE_GUILD_MODAL_OPEN:function(e){l=r.FormStates.OPEN,s=e.guildId,u=e.days,d=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===s&&e.days===u&&(d=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(e){return l=r.FormStates.CLOSED,s=null,u=null,void(d=null)}}),e.exports=t.default},6893:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(88)),s=v(n(78)),u=v(n(263)),d=v(n(261)),f=v(n(44)),c=v(n(5928)),p=v(n(6892)),h=v(n(27)),m=v(n(6601)),y=v(n(5651));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleDaysChange=a.handleDaysChange.bind(a),a.handlePrune=a.handlePrune.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){m.default.close()},t.prototype.render=function(){var e=this.props,t=e.estimate,n=e.guildId,a=e.days,r=h.default.getGuild(n);return o(l.default,{tag:"form",onSubmit:this.handlePrune},void 0,o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRUNE_MEMBERS,"",null!=r?r.toString():"")),o(l.default.Content,{},void 0,o(u.default,{title:i.default.Messages.FORM_LABEL_LAST_SEEN},void 0,o(c.default,{value:a,options:[{name:i.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:i.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:i.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:y.default.spacing}),o(d.default,{type:d.default.Types.DESCRIPTION,className:y.default.spacing},void 0,i.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:a})))),o(l.default.Footer,{},void 0,o(f.default,{type:"submit",disabled:0===t},void 0,i.default.Messages.PRUNE),o(f.default,{type:"button",look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:this.close},void 0,i.default.Messages.CANCEL)))},t.prototype.handleDaysChange=function(e){var t=e.value;m.default.open(this.props.guildId,parseInt(t,10))},t.prototype.handlePrune=function(e){e.preventDefault();var t=this.props,n=t.days,a=t.guildId;m.default.prune(a,n)},t}(r.PureComponent);g.modalConfig={store:p.default},g.displayName="PruneGuild",t.default=g,e.exports=t.default},6894:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(2)),r=s(n(27)),i=s(n(30)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0;function p(){if(u===l.FormStates.CLOSED)return!1;var e=r.default.getGuild(d),t=i.default.isGuildRestricted(d),n=!1;return f!==e&&(f=e,n=!0),c!==t&&(c=t,n=!0),n}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([r.default,i.default],p)},t.prototype.isOpen=function(){return u!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:d,guild:f,isGuildRestricted:c}},t}(a.default.Store);t.default=new h(o.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){u=l.FormStates.OPEN,d=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return u=l.FormStates.CLOSED,f=null,void(c=null)}}),e.exports=t.default},6895:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(6)),l=y(n(88)),s=y(n(78)),u=y(n(263)),d=y(n(915)),f=y(n(44)),c=y(n(6894)),p=y(n(6178)),h=y(n(509)),m=n(6330);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleRestrictedGuildChange=a.handleRestrictedGuildChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){p.default.close()},t.prototype.handleRestrictedGuildChange=function(e){var t=new Set((0,m.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),h.default.updateRemoteSettings({restrictedGuilds:t})},t.prototype.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return o(l.default,{},void 0,o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRIVACY_SETTINGS,"",null!=n?n.toString():"??")),o(l.default.Content,{},void 0,o(u.default,{},void 0,o(s.default,{tag:s.default.Tags.H5,style:{marginBottom:4}},void 0,i.default.Messages.DIRECT_MESSAGES),o(d.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,i.default.Messages.ALLOW_SERVER_DMS))),o(l.default.Footer,{},void 0,o(f.default,{onClick:this.close},void 0,i.default.Messages.DONE)))},t}(r.PureComponent);v.modalConfig={store:c.default},v.displayName="PrivacySettings",t.default=v,e.exports=t.default},6896:function(e,t,n){"use strict";t.__esModule=!0;var a=f(n(3)),o=f(n(2)),r=f(n(267)),i=f(n(114)),l=f(n(925)),s=f(n(27)),u=n(366),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.FormStates.CLOSED,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=this;this.syncWith([r.default,i.default,s.default],function(){return e.isOpen()})},t.prototype.isOpen=function(){return c!==d.FormStates.CLOSED},t.prototype.getProps=function(){var e=l.default.getCategories(p);return{guildId:p,categories:e,guild:s.default.getGuild(p),suppressEveryone:r.default.isSuppressEveryoneEnabled(p),mobilePush:r.default.isMobilePushEnabled(p),muted:r.default.isMuted(p),messageNotifications:r.default.getMessageNotifications(p),channelOverrides:r.default.getChannelOverrides(p),channels:(0,u.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return t===d.ChannelTypes.GUILD_TEXT||t===d.ChannelTypes.GUILD_CATEGORY})}},t}(a.default.Store);t.default=new h(o.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;c=d.FormStates.OPEN,p=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(e){return c=d.FormStates.CLOSED,void(p=null)}}),e.exports=t.default},6897:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(75),l=L(n(6)),s=L(n(9)),u=L(n(7)),d=L(n(88)),f=L(n(78)),c=L(n(69)),p=L(n(44)),h=L(n(26)),m=L(n(58)),y=L(n(506)),v=L(n(263)),g=L(n(261)),_=L(n(6620)),E=L(n(915)),S=L(n(5928)),T=L(n(511)),C=L(n(365)),b=L(n(112)),N=L(n(6896)),O=L(n(18)),I=L(n(925)),A=L(n(5986)),M=n(0),R=L(n(5652)),P=L(n(5498));function L(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){return e.type===M.ChannelTypes.GUILD_CATEGORY?m.default.Names.CHANNEL_CATEGORY:e.isNSFW()?m.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?m.default.Names.CHANNEL_TEXT_LIMITED:m.default.Names.CHANNEL_TEXT}var F=function(e){function t(n){w(this,t);var a=D(this,e.call(this,n));return a.handleMute=a.handleMute.bind(a),a.handleDelete=a.handleDelete.bind(a),a.unhighlight=a.unhighlight.bind(a),a.state={highlight:!1},a}return U(t,e),t.prototype.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},t.prototype.unhighlight=function(){this.setState({highlight:!1})},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,a=n.getGuildId();null!=a&&A.default.updateChannelOverrideSettings(a,n.id,{message_notifications:e,muted:t})},t.prototype.handleRadioChange=function(e){this.setMessageNotification(e)},t.prototype.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||M.UserNotificationSettings.NULL,t)},t.prototype.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(M.UserNotificationSettings.NULL,!1),t(n.id)},t.prototype.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,a=t.guildMuted,r=t.muted,i=t.guildMessageNotifications,l=n===e;null!=n&&n!==M.UserNotificationSettings.NULL||e!==i||(l=!0);var s=C.default.Types.INVERTED;return(r||n===M.UserNotificationSettings.NULL||null==n)&&(s=C.default.Types.GHOST),o(C.default,{value:!a&&l,disabled:a,shape:C.default.Shapes.ROUND,color:M.Colors.STATUS_GREEN,type:s,onChange:this.handleRadioChange.bind(this,e)})},t.prototype.renderName=function(){var e=this.props.channel,t=void 0;e.parent_id&&(t=O.default.getChannel(e.parent_id));var n=k(e),a=void 0;if(e.type===M.ChannelTypes.GUILD_CATEGORY&&e.guild_id){var r=I.default.getCategories(e.guild_id);a=l.default.Messages.NUM_CHANNELS.format({num:r[e.id]?r[e.id].length:0})}else a=null!=t?l.default.Messages.IN_CATEGORY.format({categoryName:t.toString()}):l.default.Messages.NO_CATEGORY;return o(h.default,{align:h.default.Align.START},void 0,o(h.default,{grow:0,shrink:0,className:R.default.iconContainer,align:h.default.Align.CENTER},void 0,o(m.default,{name:n,className:R.default.icon})),o(h.default.Child,{grow:1,shrink:1,className:"margin-reset"},void 0,o(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:R.default.channelName},void 0,e.toString()),o(c.default,{weight:c.default.Weights.NORMAL,size:c.default.Sizes.SMALL,className:R.default.channelNameByline},void 0,a)))},t.prototype.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return o(h.default,{grow:0,shrink:0,className:R.default.checkboxGroup,justify:h.default.Justify.AROUND,align:h.default.Align.CENTER},void 0,o(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ALL_MESSAGES)),o(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ONLY_MENTIONS)),o(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.NO_MESSAGES)),o(h.default.Child,{wrap:!0,grow:0,shrink:0,className:R.default.checkboxMute},void 0,o(C.default,{value:t,shape:C.default.Shapes.BOX,type:C.default.Types.INVERTED,onChange:this.handleMute})))},t.prototype.render=function(){var e=this.state.highlight;return o(y.default,{outline:!0,editable:!0,className:e?R.default.overrideHighlight:R.default.override},void 0,this.renderName(),this.renderOptions(),o("button",{className:(0,s.default)(R.default.removeOverride,P.default.button),onClick:this.handleDelete}))},t}(r.PureComponent);function x(e){return Object.keys(e).filter(function(t){return!0===e[t].muted||e[t].message_notifications!==M.UserNotificationSettings.NULL})}F.displayName="ChannelNotificationSettings";var G=function(e){function t(n){w(this,t);var a=D(this,e.call(this,n));return a.handleSelectChange=a.handleSelectChange.bind(a),a.handleDeleteOverride=a.handleDeleteOverride.bind(a),a.setScrollerRef=a.setScrollerRef.bind(a),a.renderOption=a.renderOption.bind(a),a.state={overrides:new Set(x(n.channelOverrides)),lastSelected:null},a}return U(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.channelOverrides,n=this.state.overrides;n=new Set(n),x(t).forEach(function(e){return n.add(e)}),this.setState({overrides:n})},t.prototype.close=function(){A.default.close()},t.prototype.setScrollerRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.componentDidUpdate=function(e,t){var n=this,a=this.state.lastSelected;null!=this._scroller&&null!=a&&null!=this.refs[a]&&a!==t.lastSelected&&(this._scroller.scrollIntoView((0,i.findDOMNode)(this.refs[a]),!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),this.refs[a].highlight())},t.prototype.handleCheckboxChange=function(e,t){var n;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleRadioChange=function(e,t){var n,a=t.value;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=a,n))},t.prototype.handleSelectChange=function(e){if(null!=e){var t=this.state.overrides;(t=new Set(t)).add(e.value),this.setState({overrides:t,lastSelected:e.value})}},t.prototype.handleDeleteOverride=function(e){var t=this.state.overrides;(t=new Set(t)).delete(e),this.setState({overrides:t})},t.prototype.renderHeader=function(){var e=this.props.guild;return o(d.default.Header,{},void 0,o(h.default.Child,{},void 0,o(f.default,{tag:f.default.Tags.H4},void 0,l.default.Messages.NOTIFICATION_SETTINGS),o(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:R.default.guildName},void 0,e.name)),o(h.default.Child,{grow:0},void 0,o(d.default.CloseButton,{onClick:this.close})))},t.prototype.renderFooter=function(){return o(d.default.Footer,{},void 0,o(p.default,{onClick:A.default.close},void 0,l.default.Messages.DONE))},t.prototype.renderMute=function(){var e=this.props.muted;return o(E.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,l.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},t.prototype.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return o(v.default,{title:l.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:R.default.spacing},void 0,o(S.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:l.default.Messages.FORM_LABEL_ALL_MESSAGES,value:M.UserNotificationSettings.ALL_MESSAGES},{name:l.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:M.UserNotificationSettings.ONLY_MENTIONS},{name:l.default.Messages.FORM_LABEL_NOTHING,value:M.UserNotificationSettings.NO_MESSAGES}]}))},t.prototype.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,a=e.muted;return o(v.default,{className:R.default.largeSpacing},void 0,o(E.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,l.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),o(E.default,{value:!a&&n,disabled:a,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,l.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},t.prototype.renderOption=function(e){var t=O.default.getChannel(e.value);if(null==t)return e.label;var n=O.default.getChannel(t.parent_id),a=null!=n?n.name:null;return o(_.default,{iconType:k(t),title:e.label,subtitle:a})},t.prototype.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,a=(0,u.default)(t).filter(function(e){var t=e.channel;return t.type!==M.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString()}}).value();return o(v.default,{title:l.default.Messages.NOTIFICATION_OVERRIDES,className:R.default.largeSpacing},void 0,o(g.default,{type:g.default.Types.DESCRIPTION,className:R.default.smallSpacing},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE),o(T.default,{searchable:!0,scrollMenuIntoView:!1,placeholder:l.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:a,onChange:this.handleSelectChange}))},t.prototype.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,a=t.muted,i=t.channels,s=t.messageNotifications,u=t.categories,d=this.state.overrides,f=i.map(function(t){var o=t.channel;if(!d.has(o.id)||null!=u[o.id]&&0===u[o.id].length)return null;var i=n[o.id];return r.createElement(F,{key:o.id,ref:o.id,channel:o,guildMuted:a,muted:null!=i&&i.muted,messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:s,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==d.size&&0!==f.length||f.push(o("div",{className:R.default.overridePlaceholder},"placeholder",o(c.default,{color:c.default.Colors.PRIMARY,weight:c.default.Weights.SEMIBOLD,className:R.default.lighten},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),o("div",{className:R.default.overrideList},void 0,o(h.default,{},void 0,o(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerName},void 0,l.default.Messages.CHANNEL_OR_CATEGORY),o(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_ALL),o(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_MENTIONS),o(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_NOTHING),o(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,o(b.default,{text:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:b.default.Positions.BOTTOM},void 0,o("span",{},void 0,l.default.Messages.SOUND_MUTE)))),f)},t.prototype.render=function(){return r.createElement(d.default,{size:d.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),o(d.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(r.PureComponent);G.modalConfig={store:N.default},G.displayName="NotificationSettings",t.default=G,e.exports=t.default},6898:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6270),s=(o=l)&&o.__esModule?o:{default:o};var u=r("div",{},void 0,"NewUserNew"),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return u},t}(i.PureComponent);d.modalConfig={store:s.default,center:!0,closable:!1},d.displayName="NewUser",t.default=d,e.exports=t.default},6899:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(2)),o=n(0),r=l(n(13)),i=n(926);function l(e){return e&&e.__esModule?e:{default:e}}t.default={setStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:o.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){return a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},claimAccount:function(e){return a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,i.saveAccountRequest)(t).then(function(){a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return a.default.dispatch({type:o.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}},e.exports=t.default},6900:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(56)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(45)),s=_(n(59)),u=_(n(356)),d=_(n(3)),f=_(n(9)),c=_(n(6)),p=_(n(6074)),h=_(n(6210)),m=_(n(12)),y=_(n(6270)),v=_(n(6899)),g=_(n(156));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{getInitialState:function(){return{translateX:new g.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){g.default.spring(this.state.translateX,{toValue:1}).start(e)},componentWillLeave:function(e){g.default.spring(this.state.translateX,{toValue:0}).start(e)},getAnimatedStyle:function(){return g.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}n(5653),n(5518);var T=(0,l.default)({displayName:"Step1",mixins:[s.default,d.default.StoreListenerMixin(y.default,m.default),S(!0)],getStateFromStores:function(){return{user:m.default.getCurrentUser()}},render:function(){return o(g.default.li,{className:"step-1",style:this.getAnimatedStyle()},void 0,o("h5",{},void 0,c.default.Messages.NUF_TITLE.format({username:this.state.user.toString()})),o("p",{},void 0,c.default.Messages.NUF_BODY.format()))}}),C=(0,l.default)({displayName:"Step2",mixins:[s.default,S()],propTypes:{guild:r.default.shape({name:r.default.string.isRequired,region:r.default.string}).isRequired,onGuildChange:r.default.func.isRequired,errors:r.default.object.isRequired},componentDidMount:function(){0===this.props.guild.name.length&&this.refs["guild-name"].focus()},handleNameChange:function(e){this.props.onGuildChange({name:e.currentTarget.value})},handleRegionChange:function(e){this.props.onGuildChange({region:e})},handleIconChange:function(e){this.props.onGuildChange({icon:e})},render:function(){var e,t=this,n=function(e){return null!=t.props.errors[e]};return o(g.default.li,{className:"step-2",style:this.getAnimatedStyle()},void 0,o("h5",{},void 0,c.default.Messages.CREATE_SERVER_TITLE),o("p",{},void 0,c.default.Messages.CREATE_SERVER_DESCRIPTION.format()),o("ul",{className:"guild-form"},void 0,o("li",{},void 0,o("div",{className:(0,f.default)({"control-group":!0,error:n("name")})},void 0,o("label",{htmlFor:"guild-name"},void 0,c.default.Messages.FORM_LABEL_SERVER_NAME," ",n(e="name")?o("span",{className:"error"},void 0,"(",t.props.errors[e],")"):null),i.createElement("input",{id:"guild-name",ref:"guild-name",type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:c.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),o("div",{className:"control-group"},void 0,o("label",{htmlFor:"guild-region"},void 0,c.default.Messages.FORM_LABEL_SERVER_REGION),o(p.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),o("li",{},void 0,o(h.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange}))))}}),b=o("li",{className:"divider"}),N=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=E(this,e.call.apply(e,[this].concat(r))),a.close=function(){v.default.setStep()},a.handleGuildChange=function(e){v.default.updateTemporaryGuild(e)},a.handleNextStep=function(e){e.preventDefault(),1===a.props.step?v.default.createGuild(a.props.guild.name,a.props.guild.region,a.props.guild.icon):v.default.setStep(a.props.step+1)},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;switch(this.props.step){case 0:t=o(T,{},this.props.step),e=c.default.Messages.GET_STARTED;break;case 1:default:t=o(C,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),e=c.default.Messages.DONE}return o("form",{className:"modal-content modal-new-user form deprecated",onSubmit:this.handleNextStep},void 0,o(u.default,{className:"steps",component:"ul"},void 0,t),o("div",{className:"form-actions"},void 0,o("div",{className:"steps-wrap"},void 0,o("ul",{className:"steps"},void 0,o("li",{className:(0,f.default)({active:0===this.props.step,on:this.props.step>=0})}),b,o("li",{className:(0,f.default)({active:1===this.props.step,on:this.props.step>=1})}))),o("button",{type:"button",className:(0,f.default)({btn:!0,"btn-default":!0,hide:!1}),onClick:this.close},void 0,c.default.Messages.SKIP),o("button",{type:"submit",className:(0,f.default)({btn:!0,"btn-primary":!0}),disabled:this.props.guildSubmitting},void 0,e)))},t}(i.PureComponent);N.modalConfig={store:y.default,center:!0,closable:!1},N.displayName="NewUser",t.default=N,e.exports=t.default},6901:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6098),s=(o=l)&&o.__esModule?o:{default:o};var u=r("div",{},void 0,"CreateGuildNew"),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return u},t}(i.PureComponent);d.modalConfig={store:s.default,center:!0,closable:!1},d.displayName="CreateGuild",t.default=d,e.exports=t.default},6902:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=T(n(45)),s=T(n(9)),u=T(n(3)),d=T(n(356)),f=T(n(6074)),c=T(n(6210)),p=T(n(77)),h=T(n(6098)),m=T(n(6010)),y=T(n(6)),v=T(n(268)),g=T(n(5948)),_=T(n(12)),E=T(n(156)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.default.Easing.inOut(E.default.Easing.cubic);return{getInitialState:function(){return{translateX:new E.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){E.default.timing(this.state.translateX,{toValue:1,duration:t,easing:n}).start(e)},componentWillLeave:function(e){E.default.timing(this.state.translateX,{toValue:0,duration:t,easing:n}).start(e)},getAnimatedStyle:function(){return E.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}n(5654),n(5518);var I=r("p",{className:"sample-link"},void 0,"qJq5C"),A=(0,l.default)({displayName:"JoinGuildModal",mixins:[u.default.StoreListenerMixin(g.default),O()],getInitialState:function(){return{code:null,submitting:!1,hasError:!1}},getStateFromStores:function(){var e=this.state?this.state.code:null;return{invite:e&&g.default.getInvite(e)||{}}},UNSAFE_componentWillUpdate:function(e,t){if(null!=t.invite&&this.state.invite!==t.invite){var n=t.invite;if(n.state===S.InviteStates.RESOLVED){var a=v.default.getInviteContext("Join a Server Modal",n);v.default.acceptInvite(t.invite.code,a,function(){m.default.close(),v.default.transitionToInviteChannel(null!=n.guild?n.guild.id:S.ME,n.channel.id,n.channel.type)})}else n.state===S.InviteStates.EXPIRED&&this.setState({submitting:!1,hasError:!0})}},render:function(){var e=this.state.hasError,t=e?r("span",{className:"error"},void 0,"(",y.default.Messages.INSTANT_INVITE_EXPIRED,")"):null,n=window.GLOBAL_ENV.INVITE_HOST,a="/";null==n&&(n=location.host,a=S.Routes.INVITE(""));var o=location.protocol+"//"+n+a;return r(E.default.form,{className:"form deprecated join-server",onSubmit:this.handleSubmit,style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("h5",{},void 0,y.default.Messages.JOIN_SERVER_TITLE),r("div",{className:(0,s.default)({"control-group":!0})},void 0,r("div",{className:"instructions"},void 0,r("p",{},void 0,y.default.Messages.JOIN_SERVER_DESCRIPTION),r("p",{className:"sample-link"},void 0,o,"qJq5C"),r("p",{className:"sample-link"},void 0,o,"ChatX-developers"),I)),r("div",{className:"link-container control-group"},void 0,i.createElement("input",{className:(0,s.default)({error:e}),type:"text",ref:"invite",onChange:this.handleTyped,autoFocus:!0}),r("label",{htmlFor:"invite"},void 0,y.default.Messages.FORM_LABEL_INSTANT_INVITE," ",t))),r("div",{className:"form-actions"},void 0,r("button",{type:"button",className:"btn btn-default",onClick:this.props.onCancel},void 0,y.default.Messages.BACK),r("button",{type:"submit",className:"btn btn-primary",disabled:this.state.submitting},void 0,y.default.Messages.JOIN)))},handleTyped:function(){this.state.hasError&&this.setState({hasError:!1})},handleSubmit:function(e){e.preventDefault();var t=this.refs.invite.value.trim();if(""!==t){var n=t.split("/"),a=n[n.length-1];v.default.resolveInvite(a,"Join Guild Modal"),this.setState({code:a,submitting:!0})}else this.setState({hasError:!0})}}),M=(0,l.default)({displayName:"CreateGuildModal",mixins:[O()],componentDidMount:function(){0===this.props.guild.name.length&&this.refs.name.focus()},render:function(){var e,t=this,n=function(e){return t.props.errors&&null!=t.props.errors[e]};return r(E.default.form,{className:"form deprecated create-guild",onSubmit:this.handleSubmit,style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("h5",{},void 0,y.default.Messages.CREATE_SERVER_TITLE),r("p",{},void 0,y.default.Messages.CREATE_SERVER_DESCRIPTION.format()),r("ul",{className:"guild-form"},void 0,r("li",{},void 0,r("div",{className:(0,s.default)({"control-group":!0,error:n("name")})},void 0,r("label",{htmlFor:"guild-name"},void 0,y.default.Messages.FORM_LABEL_SERVER_NAME," ",n(e="name")?r("span",{className:"error"},void 0,"(",t.props.errors[e],")"):null),i.createElement("input",{id:"guild-name",ref:"name",type:"text",onChange:this.handleNameChange,defaultValue:this.props.guild.name,placeholder:y.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),r("div",{className:"control-group"},void 0,r("label",{htmlFor:"guild-region"},void 0,y.default.Messages.FORM_LABEL_SERVER_REGION),i.createElement(f.default,{id:"guild-region",ref:"region",value:this.props.guild.region,onChange:this.handleRegionChange}),r("div",{className:"help-text"},void 0,y.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:S.MarketingURLs.GUIDELINES})))),r("li",{},void 0,r(c.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange})))),r("div",{className:"form-actions"},void 0,r("button",{type:"button",className:"btn btn-default",onClick:this.props.onCancel},void 0,y.default.Messages.BACK),r("button",{type:"submit",className:"btn btn-primary",disabled:this.props.submitting},void 0,y.default.Messages.CREATE)))},handleNameChange:function(e){m.default.updateTemporaryGuild({name:e.currentTarget.value})},handleRegionChange:function(e){m.default.updateTemporaryGuild({region:e})},handleIconChange:function(e){m.default.updateTemporaryGuild({icon:e})},handleSubmit:function(e){e.preventDefault(),m.default.createGuild(this.props.guild.name,this.props.guild.region,this.props.guild.icon)}}),R=r("div",{className:"action-icon"}),P=function(e){function t(){return C(this,t),b(this,e.apply(this,arguments))}return N(t,e),t.prototype.render=function(){var e=void 0,t=void 0,n=void 0;switch(this.props.type){case"create":e=y.default.Messages.CREATE,t=y.default.Messages.CREATE_SERVER_BUTTON_BODY,n=y.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case"join":e=y.default.Messages.JOIN,t=y.default.Messages.JOIN_SERVER_BUTTON_BODY,n=y.default.Messages.JOIN_SERVER_BUTTON_CTA}return r(p.default,{className:"action "+this.props.type,onClick:this.props.onClick},void 0,r("div",{className:"action-header"},void 0,e),r("div",{className:"action-body"},void 0,t),R,r("button",{className:"btn btn-primary",type:"button",onClick:this.props.onClick},void 0,n))},t}(i.Component);P.displayName="GuildActionButton";var L=r("div",{className:"or"},void 0,"or"),w=(0,l.default)({displayName:"CreateOrJoinGuildModal",mixins:[O(!0),u.default.LazyStoreListenerMixin(_.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{currentUser:_.default.getCurrentUser()}},render:function(){var e=this.state.currentUser,t=void 0;return t=this.props.nuf&&null!=e?y.default.Messages.NUF_TITLE.format({username:e.toString()}):y.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,r(E.default.div,{className:"form deprecated create-or-join",style:this.getAnimatedStyle()},void 0,r("div",{className:"form-inner"},void 0,r("header",{},void 0,t),r("div",{className:"actions"},void 0,r(P,{type:"create",onClick:this.handleClick.bind(this,S.CreateGuildModalScreens.CreateGuild)}),r(P,{type:"join",onClick:this.handleClick.bind(this,S.CreateGuildModalScreens.JoinGuild)}),L)))},handleClick:function(e){this.props.onClick(e)}}),D=function(e){function t(){var n,a;C(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=b(this,e.call.apply(e,[this].concat(r))),a.close=function(){m.default.close()},a.handleNavigateScreen=function(e){m.default.setScreen(e)},b(a,n)}return N(t,e),t.prototype.render=function(){var e=this,t=void 0;return this.props.screen===S.CreateGuildModalScreens.Choose?t=r(w,{onClick:this.handleNavigateScreen,nuf:this.props.nuf},S.CreateGuildModalScreens.Choose):this.props.screen===S.CreateGuildModalScreens.CreateGuild?t=i.createElement(M,o({key:S.CreateGuildModalScreens.CreateGuild,onCancel:function(){return e.handleNavigateScreen(S.CreateGuildModalScreens.Choose)}},this.props)):this.props.screen===S.CreateGuildModalScreens.JoinGuild&&(t=i.createElement(A,o({key:S.CreateGuildModalScreens.JoinGuild,onCancel:function(){return e.handleNavigateScreen(S.CreateGuildModalScreens.Choose)}},this.props))),r(d.default,{className:"create-guild-container deprecated",component:"div"},void 0,t)},t}(i.Component);D.modalConfig={store:h.default},D.displayName="CreateOrJoinGuildContainer",t.default=D,e.exports=t.default},6903:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(3)),o=l(n(2)),r=l(n(18)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.FormStates.CLOSED,u=void 0,d={},f=void 0,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return s!==i.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:s===i.FormStates.SUBMITTING,categoryId:p,errors:d,channelType:u,cloneChannel:c,guildId:f}},t}(a.default.Store);t.default=new h(o.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){s=i.FormStates.OPEN,d={},f=e.guildId,p=e.categoryId,null!=e.cloneChannelId?null!=(c=r.default.getChannel(e.cloneChannelId))?u=c.type:s=i.FormStates.CLOSED:(c=null,u=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(e){s=i.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){s=i.FormStates.OPEN,d=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(e){s=i.FormStates.CLOSED}}),e.exports=t.default},6904:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=O(n(7)),l=O(n(6)),s=O(n(88)),u=O(n(78)),d=O(n(263)),f=O(n(159)),c=O(n(69)),p=O(n(261)),h=O(n(5928)),m=O(n(915)),y=O(n(26)),v=O(n(44)),g=O(n(58)),_=O(n(6903)),E=O(n(27)),S=O(n(18)),T=O(n(6012)),C=n(366),b=n(0),N=O(n(5655));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.default.bindAll(a,["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var o=n.channelType,r=n.cloneChannel;return a.state={channelType:o||b.ChannelTypes.GUILD_TEXT,name:null!=r?r.toString():"",permissionOverwrites:new Set,roles:a.getRolesForGuild(n),isPrivate:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({permissionOverwrites:this.getGuildId()!==this.getGuildId(e)?new Set:this.state.permissionOverwrites,roles:this.getRolesForGuild(e)})},t.prototype.getGuildId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).guildId},t.prototype.getRolesForGuild=function(e){var t=this.getGuildId(e),n=null!=t?E.default.getGuild(t):null;return null!=n?(0,i.default)(n.roles).sortBy(function(e){return e.position}).value():[]},t.prototype.setInputRef=function(e){this._input=e},t.prototype.handleNameChange=function(e){this.state.channelType===b.ChannelTypes.GUILD_TEXT&&(e=(0,C.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},t.prototype.handleTypeChange=function(e){var t=e.value,n=this.state.name;t===b.ChannelTypes.GUILD_TEXT&&(n=(0,C.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},t.prototype.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},t.prototype.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.props,n=t.cloneChannel,a=t.categoryId,o=this.state,r=o.name,l=o.permissionOverwrites,s=o.channelType,u=this.getGuildId();if(null!=u){var d=void 0,f=void 0,c=void 0;null!=n?(d=i.default.values(n.permissionOverwrites),f=n.bitrate,c=n.userLimit):d=(0,C.permissionOverwritesForRoles)(u,s,Array.from(l)),T.default.createChannel(u,s,r,d,f,c,s!==b.ChannelTypes.GUILD_CATEGORY?a:null)}},t.prototype.renderHeader=function(){var e=this.props,t=e.cloneChannel,n=e.categoryId,a=this.state.channelType,r=void 0,i=void 0;if(r=null!=t?l.default.Messages.CLONE_CHANNEL:a===b.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:a===b.ChannelTypes.GUILD_TEXT?l.default.Messages.CREATE_TEXT_CHANNEL:l.default.Messages.CREATE_VOICE_CHANNEL,null!=n){var d=S.default.getChannel(n);i=o(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:N.default.subtitle},void 0,l.default.Messages.IN_CATEGORY.format({categoryName:d?d.name:""}))}return o(s.default.Header,{},void 0,o(y.default.Child,{grow:1,shrink:1},void 0,o(u.default,{tag:u.default.Tags.H4,className:N.default.header},void 0,r),i))},t.prototype.renderName=function(){var e=this.props,t=e.errors,n=e.cloneChannel,a=e.channelType,r=void 0;null!=t.name&&(r=o(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:N.default.error},void 0,t.name));var i=void 0;null!=n&&(i=o(p.default,{className:N.default.cloneInfo,type:p.default.Types.DESCRIPTION},void 0,l.default.Messages.CLONE_CHANNEL_HELP.format({name:n.toString(!0)})));var s=void 0;return s=a===b.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CATEGORY_NAME:l.default.Messages.FORM_LABEL_CHANNEL_NAME,o(d.default,{title:s,className:N.default.name},void 0,o(f.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),r,i)},t.prototype.renderType=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,a=t.isPrivate;if(null==e&&n!==b.ChannelTypes.GUILD_CATEGORY)return o(d.default,{title:l.default.Messages.CHANNEL_TYPE,className:N.default.type},void 0,o(h.default,{options:function(e){return[{icon:e?g.default.Names.CHANNEL_TEXT_LIMITED:g.default.Names.CHANNEL_TEXT,label:l.default.Messages.TEXT_CHANNEL,value:b.ChannelTypes.GUILD_TEXT},{icon:e?g.default.Names.SPEAKER_LIMITED:g.default.Names.SPEAKER,label:l.default.Messages.VOICE_CHANNEL,value:b.ChannelTypes.GUILD_VOICE}].map(function(e){var t=e.icon,n=e.label,a=e.value;return{name:o(y.default,{align:y.default.Align.CENTER},void 0,o(g.default,{name:t,className:N.default.icon,background:N.default.background,foreground:N.default.foreground}),n),value:a}})}(a),value:n,onChange:this.handleTypeChange}))},t.prototype.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,a=0===n.size&&e.id===this.getGuildId(),r=n.has(e.id)||a;return o(m.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:a,value:r,fill:e.colorString},e.id,o("span",{style:{color:e.colorString}},void 0,e.name))},t.prototype.renderOptions=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,a=t.isPrivate,r=t.roles;if(null!=e||r.length<=1)return null;var i=void 0,s=void 0;return n===b.ChannelTypes.GUILD_CATEGORY?(i=l.default.Messages.PRIVATE_CATEGORY,s=l.default.Messages.PRIVATE_CATEGORY_NOTE):(i=l.default.Messages.PRIVATE_CHANNEL,s=l.default.Messages.PRIVATE_CHANNEL_NOTE),o(d.default,{},"privacy-switch",o(m.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:a,note:s},void 0,o(g.default,{name:g.default.Names.LOCK_CLOSED,width:16,height:16,className:N.default.lockIcon}),i))},t.prototype.renderPermissions=function(){var e=this.props.cloneChannel,t=this.state,n=t.roles,a=t.channelType;if(!1===t.isPrivate||null!=e)return null;var r=void 0;return r=a===b.ChannelTypes.GUILD_CATEGORY?l.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:a===b.ChannelTypes.GUILD_VOICE?l.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:l.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,o("div",{},void 0,o(u.default,{tag:u.default.Tags.H5,className:N.default.permissionsTitle},void 0,r),n.map(this.renderRole,this))},t.prototype.renderFooter=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,a=void 0;return a=this.props.channelType===b.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:l.default.Messages.CREATE_CHANNEL,o(s.default.Footer,{},void 0,o(v.default,{type:"submit",disabled:t&&0===n.size},void 0,a),o(v.default,{onClick:this.close,look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY},void 0,l.default.Messages.CANCEL))},t.prototype.render=function(){return o(s.default,{className:N.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),o(s.default.Content,{},void 0,this.renderName(),this.renderType(),this.renderOptions(),this.renderPermissions()),this.renderFooter())},t.prototype.close=function(){T.default.close()},t}(r.PureComponent);I.modalConfig={store:_.default},I.displayName="CreateChannel",t.default=I,e.exports=t.default},6905:function(e,t,n){"use strict";var a,o;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(190)),s=d(n(5929)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.getExperimentId=function(){return u.Experiments.REDESIGNED_NUF},t.prototype.getMetaData=function(){return{title:"Redesigned NUF Experiment",description:["Control: Old NUF Modals","Treatment 1: Redesigned NUF Modals"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getOverrideExperimentDescriptor(this.getExperimentId())||l.default.getEligibleExperiment(this.getExperimentId())},t.prototype.showRedesignedModals=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===u.ExperimentBuckets.TREATMENT_1},t.prototype.isOpen=function(){return!1},t}(r.default.Store))(i.default);s.default.register(f,((o={})[u.ExperimentTypes.USER]=((a={})[u.ExperimentBuckets.CONTROL]=function(){return null},a[u.ExperimentBuckets.TREATMENT_1]=function(){return null},a),o)),t.default=f,e.exports=t.default},6906:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},6907:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(2)),r=(n(0),s(n(27))),i=s(n(18)),l=s(n(23));function s(e){return e&&e.__esModule?e:{default:e}}var u="hideSuppressWarning",d=void 0,f=void 0,c=!1,p=!0,h=!1;var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=l.default.get(u)||h},t.prototype.isAFKChannel=function(){var e=i.default.getChannel(f);if(null==e)return!1;var t=r.default.getGuild(e.getGuildId());return null!=t&&e.id===t.afkChannelId},t.prototype.shouldShowWarning=function(){return!p},t}(a.default.Store);t.default=new m(o.default,{CONNECTION_OPEN:function(e){d=e.sessionId,c=!1},CONNECTION_CLOSED:function(e){return d=null,f=null,void(p=!0)},VOICE_STATE_UPDATE:function(e){if(d!==e.sessionId)return!1;c!==e.suppress&&(c=e.suppress,p=!c),f!==e.channelId&&(f=e.channelId,p=!c),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,l.default.set(u,h))}}),e.exports=t.default},6908:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6907)),l=d(n(6096)),s=d(n(6)),u=d(n(364));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.close=function(){l.default.clearSuppressWarning()},a.handleCloseForever=function(){l.default.clearSuppressWarning(!0)},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;return i.default.isAFKChannel()?(e=s.default.Messages.SUPPRESSED_AFK_TITLE,t=s.default.Messages.SUPPRESSED_AFK_BODY):(e=s.default.Messages.SUPPRESSED,t=s.default.Messages.SUPPRESSED_PERMISSION_BODY),o(u.default,{title:e,body:t,onConfirm:this.close,confirmText:s.default.Messages.OKAY,minorText:s.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(6906)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},c.displayName="Suppressed",t.default=c,e.exports=t.default},6909:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(1206)),l=d(n(6096)),s=d(n(6)),u=d(n(364));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.close=function(){l.default.clearVADWarning()},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{title:s.default.Messages.VAD_PERMISSION_TITLE,body:s.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY,iconUrl:n(964)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},c.displayName="VADPermission",t.default=c,e.exports=t.default},6910:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(60)),l=h(n(221)),s=h(n(53)),u=h(n(6096)),d=h(n(6)),f=h(n(505)),c=n(0),p=h(n(364));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(p.default,{title:d.default.Messages.PTT_PERMISSION_TITLE,body:d.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:d.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return u.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(f.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:d.default.Messages.HELP_DESK,iconUrl:n(964)})},t}(r.Component);m.modalConfig={stores:[s.default,i.default],isOpen:function(){var e=s.default.getVisibleGame();return null!=e&&e.elevated&&l.default.isConnected()&&i.default.getMode()===c.InputModes.PUSH_TO_TALK&&s.default.canShowAdminWarning},getProps:function(){var e=s.default.getVisibleGame();return{gameName:null!=e?e.gameName:null}}},m.displayName="PTTPermission",t.default=m,e.exports=t.default},6911:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},6912:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},6913:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},6914:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},6915:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},6916:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},6917:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(230))),l=y(n(157)),s=y(n(355)),u=y(n(6106)),d=y(n(17)),f=y(n(281)),c=y(n(40)),p=n(265),h=n(6273),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var v=i.default.defaultRules.link,g=(t.baseRules=f.default.getDefaultRules(),{section:m.AnalyticsSections.SETTINGS_CHANGELOG});t.customRules={link:{parse:function(e,t,n){var a=void 0,o=e[2],i=o.startsWith("https://ChatXapp.com/Premium"),l=o.startsWith("https://ChatXapp.com/hypesquad");return(i||l)&&(a=function(e){d.default.track(m.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:g}),i?s.default.open(m.UserSettingsSections.PREMIUM):l&&s.default.open(m.UserSettingsSections.HYPESQUAD_ONLINE),n.changeLog.track(m.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"Premium"}),u.default.hideChangeLog(),e.preventDefault()}),o.startsWith("https://ChatXapp.com/store")&&(a=function(e){var t=void 0;"https://ChatXapp.com/store#premium"===o?(c.default.transitionTo(""+m.Routes.APPLICATION_STORE+m.PREMIUM_ROUTE_HASH),t="store-premium"):(c.default.transitionTo(m.Routes.APPLICATION_STORE,{state:{analyticsSource:r({},g,{object:m.AnalyticsObjects.BUTTON_CTA})}}),t="store"),n.changeLog.track(m.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:t}),(0,p.popAllLayers)(),u.default.hideChangeLog(),e.preventDefault()}),r({},v.parse(e,t,n),{callToAction:a})},react:function(e,t,n){return o(l.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return o(h.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}}}},6918:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(230),i=(a=r)&&a.__esModule?a:{default:a};var l=i.default.defaultRules.lheading,s=i.default.defaultRules.link,u=i.default.defaultRules.image,d=i.default.defaultRules.list,f=/\{(.+?)}/,c=void 0;c=n(6917);var p=o({},c.baseRules,{image:o({},u,c.customRules.image),link:o({},s,c.customRules.link),list:o({},d,c.customRules.list),lheading:o({},l,{parse:function(e,t,n){var a=f.exec(e[1]);return{className:null!=a?a[1]:null,level:"="===e[2]?1:2,content:i.default.parseInline(t,e[1].replace(f,"").toUpperCase(),n)}}},c.customRules.lheading)});t.default={getDefaultRules:function(){return o({},p)}},e.exports=t.default},6919:function(e,t){e.exports='---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "es-es"\nyoutube_video_id: "1h9F_oPxtes"\n---\nLA "BETA" ES IMPORTANTE! {added margintop}\n======================\n\n* **La [beta de la tienda de juegos](https://ChatXapp.com/store) de ChatX est disponible para todos!** Hace tres aos nos propusimos unir a la gente en torno a los juegos. Ahora, os traeremos los juegos.\n* **[ChatX Premium](https://ChatXapp.com/Premium) ha evolucionado!** Por $9.99 al mes, gana acceso a una biblioteca de ttulos aclamados por la crtica que pensamos que deberas jugar con tus amigos.\n* **No quieres juegos?** Por $4.99 al mes, potencia tu cuenta con [Premium Classic](https://ChatXapp.com/Premium) y gana una variedad de ventajas para el chat (estas ventajas por supuesto tambin estn incluidas en el plan de $9.99).\n* **La biblioteca universal de ChatX** est aqu para evitar que tengas que usar otro lanzador para tus juegos. Si lo deseas, ChatX buscar juegos en tu equipo. As, podrs ejecutar tus juegos directamente desde ChatX aunque requieran otro lanzador (ChatX ejecutar el otro lanzador y el juego).\n* **Quieres saber ms?** [Hay ms palabras en nuestro blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nTAMBIN HAY CARACTERSTICAS {fixed}\n======================\n\n* **Tranquiliza las cosas con el modo lento.** Cuando est habilitado, los usuarios solo podrn enviar mensajes cada N segundos. Controla el caos.\n* **Hemos aadido la habilidad de cerrar MDs desde el Overlay.** Para aquellos momentos en los que no te da tiempo de cambiar de tarea ni para abandonar el barco.\n* **Hemos arreglado el retraso al entrar y salir del Overlay.** Esta es buena.\n* **Hemos aadido una pequea notificacin cuando el Overlay penca** para que puedas volver a la carretera en UN SUSPIRO.\n* ***Palmeando el techo del Overlay.*** Este bribn ahora se porta mucho mejor. Hay toneladas de mejoras y arreglos bajo su cap.\n\nLA TERCERA CATEGORA {progress}\n======================\n\n* Quieres ver entre bambalinas? [Sguenos en Instagram.](https://www.instagram.com/ChatXapp/)\n* Eres un guerrero de la bravura? Un discpulo de la brillantez? Un rbitro del equilibrio? [Haz nuestro test de personalidad](https://ChatXapp.com/hypesquad) para unirte la HypeSquad de ChatX y consigue una insignia de casa para tu perfil.\n* Necesitamos ms granjas. [Aydanos a construirlas.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "fr"\nyoutube_video_id: "1h9F_oPxtes"\n---\nBTA GLOBALE GAME STORE {added margintop}\n======================\n\n* **La bta [game store ChatX](https://ChatXapp.com/store) est disponible pour tous !** Il y a trois ans, nous avons entrepris de rassembler les gens autour des jeux vido. Aujourd\'hui, nous vous les apportons directement.\n* **[ChatX Premium](https://ChatXapp.com/Premium) a volu !** Pour 9.99 $ par mois, vous avez accs  une bibliothque grandissante de jeux encenss par la critique. Des titres que nous pensons que vous devriez explorer avec vos amis.\n* **Vous ne voulez pas de jeux ?** Pour 4.99 $ par mois, donnez un coup de boost  votre compte avec [Premium Classic](https://ChatXapp.com/Premium) et obtenez un nombre d\'avantages pour le chat (ces avantages sont galement inclus dans le forfait  9.99 $).\n* **La Bibliothque Universelle ChatX** est l pour vous viter un nime programme de lancement pour vos jeux. Si vous le souhaitez, ChatX peut rechercher les jeux installs sur votre ordinateur et vous permettre de les lancer directement depuis ChatX mme si ils requirent normalement une autre plateforme (ChatX dmarrera l\'autre programme de lancement et le jeu).\n* **Vous voulez en savoir plus ?** [On en parle plus en dtail sur notre blog !](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nDES FONCTIONNALITS AUSSI {fixed}\n======================\n\n* **Dtendez-vous grce au Slow Mode.** Lorsqu\'il est activ, les utilisateurs ne pourront envoyer de messages que toutes les N secondes. Le chaos est dsormais sous contrle.\n* **Les MPs peuvent maintenant tre ferms depuis l\'Overlay.** Parfait pour ces moments o mme un alt-tab rapide peut vous coter votre game.\n* **Le lag qui survenait lors de l\'ouverture et de la fermeture de l\'Overlay est rpar.** C\'est une bonne chose.\n* **Ajout d\'une petite notification lorsque l\'Overlay plante,** pour vous permettre de le rtablir EN UN CLIN DIL.\n* ***Tape le toit de l\'Overlay.*** Ce bad boy fonctionne tellement mieux maintenant. Une tonne d\'autres bugs rpars et d\'amliorations sous le capot.\n\nLA TROISIME CATGORIE {progress}\n======================\n\n* Vous voulez voir en coulisses ? [Suivez notre Instagram.](https://www.instagram.com/ChatXapp/)\n* tes-vous un guerrier de Bravoure ? Un disciple de Brillance ? Un arbitre dquilibre ? [Faites notre test de personnalit](https://ChatXapp.com/hypesquad) pour rejoindre la HypeSquad ChatX et obtenir un badge pour votre profil.\n* Il nous faut plus de fermes. [Aidez-nous  les construire.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "de"\nyoutube_video_id: "1h9F_oPxtes"\n---\nGAME STORE GLOBAL BETA {added margintop}\n======================\n\n* **Die ChatX [Game-Store-Beta](https://ChatXapp.com/store) ist fr jeden zugnglich!** Vor drei Jahren haben wir damit angefangen, Spieler zusammenzubringen. Jetzt bringen wir die Spiele zu euch.\n* **[ChatX Premium](https://ChatXapp.com/Premium) hat sich weiterentwickelt!** Fr 9,99$ erhaltet ihr Zugang zu einer stets wachsenden Bibliothek von besonders empfehlenswerten Spielen, von denen wir denken, dass ihr und eure Freunde sie spielen solltet.\n* **Ihr wollt keine Spiele?** Fr 4,99$ pro Monat knnt ihr euren Account mit [Premium Classic](https://ChatXapp.com/Premium) aufwerten und euch diverse Chat-Vorteile sichern (diese Vorteile sind natrlich auch im Abo fr 9,99$ enthalten).\n* **Die ChatX-Universal-Bibliothek** bewahrt euch davor, noch einen Launcher fr eure Spiele installieren zu mssen. Wenn ihr mchtet, kann ChatX euren PC nach Spielen durchsuchen. Danach kannst du alle Spiele ber ChatX starten, selbst wenn sie einen weiteren Launcher bentigen sollten (ChatX startet den bentigten Launcher und das Spiel).\n* **Wollt ihr mehr wissen?** [Unser Blog ist ausfhrlicher](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nFEATURES GIBT ES AUCH {fixed}\n======================\n\n* **Entspann dich im Slow Mode.** Aktiviert man ihn, knnen Nutzer nur alle N Sekunden eine Nachricht senden. Kontrolliertes Chaos sozusagen.\n* **Eine Funktion, um DN direkt im Overlay zu schlieen, wurde hinzugefgt.** wenn du nicht schnell genug Alt-Tabben kannst, um das Schiff zu verlassen.\n* **Der Lag beim Aufrufen und Schlieen des Overlays wurde behoben.** Das ist gut\n* **Eine Benachrichtigung wurde hinzugefgt, wenn das Overlay abstrzt.** Damit ihr schnell wieder auf den Beinen seid.\n* ***Ttschelt das Overlay.*** Der Kleine luft jetzt wesentlich besser, mit all den Patches und Verbesserungen unter der Haube.\n\nDIE DRITTE KATEGORIE {progress}\n======================\n\n* Willst du hinter den Vorhang blicken? [Folgt uns auf Instagram.](https://www.instagram.com/ChatXapp/)\n* Bist du ein heldenhafter Krieger? Ein Anhnger der Perfektion? Ein Verfechter des Gleichgewichts? [Mach unseren Persnlichkeitstest](https://ChatXapp.com/hypesquad), um der HypeSquad beizutreten und ein Hausabzeichen fr dein Profil zu bekommen.\n* Wir brauchen mehr Farmen. [Helft uns, diese zu bauen.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "pt-br"\nyoutube_video_id: "1h9F_oPxtes"\n---\nLOJA DE GAMES GLOBAL BETA {added margintop}\n======================\n\n* **A [loja de games beta](https://ChatXapp.com/store) do ChatX est disponvel para todo mundo!** Trs anos atrs, ns partimos em uma misso de juntar as pessoas ao redor de games. Agora, ns vamos trazer os games pra voc.\n* **O [ChatX Premium](https://ChatXapp.com/Premium) evoluiu!** Por US$9.99 por ms, receba acesso a uma biblioteca crescente de games aclamados pela crtica que ns acreditamos que voc e seus amigos deviam jogar.\n* **No liga para os games?** Por US$4.99 por ms, turbine sua conta com o [Premium Classic](https://ChatXapp.com/Premium) e receba uma variedade de benefcios no bate-papo (estes benefcios tambm valem para o plano de US$9.99).\n* **A Biblioteca Universal do ChatX** est aqui pra lhe salvar de precisar de outros iniciadores para seus jogos. Se voc desejar, o ChatX poder vasculhar seu computador para encontrar seus games. Assim, voc poder iniciar qualquer um dos seus jogos atravs do ChatX mesmo que eles necessitem de outro iniciador (o ChatX vai inici-lo por voc e iniciar o jogo tambm).\n* **Quer saber mais?** [Tem mais palavras no nosso blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nFUNCIONALIDADES TAMBM {fixed}\n======================\n\n* **Pegue leve na correria com o Slow Mode.** Quando ativado, os usurios s podero enviar mensagens a cada N segundos. Controle o caos!\n* **Adicionamos a possibilidade de fechar Mensagens Diretas pela Sobreposio.** Para quando voc no consegue dar um alt-tab rapidinho pra abandonar o navio. HOMEM AO MAAAAR!\n* **Arrumamos o lag de quando voc entrava ou saa da Sobreposio.** Isso  boooooom.\n* **Adicionamos uma notificao para quando a Sobreposio trava** pra botar voc de volta na corrida rapidinho! HOJE NO? HOJE SIM!\n* ***Bate no cap da Sobreposio.*** Essa belezinha aqui recebeu um monte de peas novas e deve funcionar em potncia mxima agora. Consertamos bugs e fizemos melhorias. P na tbua!\n\nCATEGORIA TRS  {progress}\n======================\n\n* Quer espiar por trs das cortinas? [Follow our Instagram.](https://www.instagram.com/ChatXapp/)\n* Voc  um guerreiro da Bravery? Um discpulo da Brilliance? Um juiz da Balance? [Faa nosso quiz de personalidade](https://ChatXapp.com/hypesquad) para se juntar ao HypeSquad do ChatX  e descolar uma insgnia de uma das trs casas para o seu perfil!\n* Wololo! Wololo!. [Voc foi convertido e agora trabalhar para ns.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "it"\nyoutube_video_id: "1h9F_oPxtes"\n---\nBETA GLOBALE DELLO STORE DI GIOCHI {added margintop}\n======================\n\n* **La [beta dello store di giochi di ChatX](https://ChatXapp.com/store)  ora disponibile per tutti!** Tre anni fa abbiamo deciso di raggruppare la gente intorno ai giochi. Oggi ve li portiamo direttamente,\n* **[ChatX Premium](https://ChatXapp.com/Premium) si  evoluto!** Per 9.99$ al mese, avrai accesso illimitato ad una crescente libreria di giochi acclamati dalla critica ai quali pensiamo che tu e i tuoi amici dovreste giocare.\n* **Non vuoi i giochi?** Per 4.99$ al mese, pimpa il tuo account con [Premium Classic](https://ChatXapp.com/Premium) e guadagna una grande variet di benefici extra per la chat (inclusi anche nel piano da 9.99$).\n* **La Biblioteca Universale di Discors**  qui per salvarti dall\'avere un altro launcher per i tuoi giochi. Se vuoi, ChatX pu scansionare i giochi nel tuo computer. Poi potrai far partire qualsiasi dei tuoi giochi tramite ChatX anche se hanno bisogno di un altro launcher (ChatX far partire sia il launcher che il gioco).\n* **Vuoi saperne di pi?** [C\' di pi nel nostro blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nANCHE FUNZIONALIT {fixed}\n======================\n\n* **Rallenta il ritmo con lo Slow Mode.** Se  attivo, gli utenti potranno mandare messaggi solo ogni N secondi. Il caos  sotto controllo.\n* **Aggiunta la possibilit di chiudere i Messaggi Diretti dall\'Overlay.** Per quei momenti nei quali alt-tab non  abbastanza veloce per non abbandonare la nave.\n* **Corretto il lag all\'apertura e alla chiusura dell\'Overlay.**  cosa buona e giusta.\n* **Aggiunta una piccola notifica quando Overlay crasha** cos che si possa tornare nel gioco IN UN ATTIMO.\n* ***Sistemato il tetto dell\'Overlay.*** Ora questo b-boy funziona molto meglio. Un sacco di altre correzioni e miglioramenti qua e l.\n\nTERZA CATEGORIA {progress}\n======================\n\n* Vuoi vedere ditro le quinte? [Seguici su Instagram.](https://www.instagram.com/ChatXapp/)\n* Sei un guerriero di Bravery? Un discepolo di Brilliance? Un arbitro di Balance? [Fai il nostro quiz sulla personalit](https://ChatXapp.com/hypesquad) e unisciti all\'HypeSquad di ChatX, ottenendo cos un badge per il tuo profilo..\n* Ci servono pi fattorie. [Aiutaci a costruirle.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "nl"\nyoutube_video_id: "1h9F_oPxtes"\n---\nWERELDWIJDE GAMESHOPBTA {added margintop}\n======================\n\n* **De [gameshopbta](https://ChatXapp.com/store) van ChatX is nu voor iedereen beschikbaar!** Drie jaar geleden zijn we begonnen om mensen samen te brengen rondom games. Nu gaan we de games naar jou brengen.\n* **[ChatX Premium](https://ChatXapp.com/Premium) heeft een upgrade gekregen!** Voor $9,99 per maand krijg je toegang tot een bibliotheek van gerenommeerde games waarvan we denken dat jij en je vrienden ze graag gaan spelen.\n* **Wil je geen spellen?** Voor $4,99 kun je jouw account een boost geven met [Premium Classic](https://ChatXapp.com/Premium). Dit abonnement komt met een aantal handige chatvoordelen (dezelfde voordelen zitten ook in het abonnement van $9,99).\n* **ChatXs Universele Bibliotheek** voorkomt dat je steeds een andere launcher moet openen. Als je wilt kan ChatX je computer scannen op games. Vervolgens kun je al deze spellen laden via ChatX, zelfs als ze een andere launcher vereisen. ChatX opent zowel de launcher als het spel.\n* **Wil je meer weten?** [Er staat meer informatie in onze blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nDEZE DINGEN OOK {fixed}\n======================\n\n* **Lekker chillen met de Slow-modus.** Wanneer deze is ingeschakeld kunnen gebruikers alleen om de N seconden berichten verzenden. Alles onder controle.\n* **Mogelijkheid toegevoegd om PB\'s te sluiten vanuit de overlay.** Voor wanneer je niet eens snel genoeg kunt alt-tabben om het schip te verlaten.\n* **Vertraging bij het openen en sluiten van de overlay is opgelost.** Dit is goed.\n* **Een notificatie toegevoegd wanneer de overlay crasht** zodat je ZO SNEL MOGELIJK weer kunt herstarten.\n* ***Slaat op dak van de overlay.*** Deze jongen loopt nu veel beter dankzij allerlei verbeteringen onder de motorkap.\n\nDE DERDE CATEGORIE {progress}\n======================\n\n* Kijkje achter de schermen? [Volg ons op Instagram.](https://www.instagram.com/ChatXapp/)\n* Ben jij een moedige strijder? Een aanhanger van genialiteit? Of een expert in evenwicht? [Doe onze persoonlijkheidsquiz](https://ChatXapp.com/hypesquad) om lid te worden van ChatXs HypeSquad. Je krijgt ook een badge voor op jouw profiel.\n* We zoeken mensen. [Solliciteer bij ons.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "sv-se"\nyoutube_video_id: "1h9F_oPxtes"\n---\nGAME STORE GLOBAL BETA {added margintop}\n======================\n\n* **ChatXs [game store-beta](https://ChatXapp.com/store) r tillgnglig fr alla!** Fr tre r sedan bestmde vi oss fr att fra samma mnniskor kring spel. Nu ska vi leverera spelen till er.\n* **[ChatX Premium](https://ChatXapp.com/Premium) har utvecklats!** Fr $9.99 per mnad fr du tillgng till ett vxande bibliotek av topprankade spel som vi tycker du och dina vnner borde spela.\n**Vill du inte ha spel?** Fr $4.99 i mnaden kan du utka ditt konto med [Premium Classic](https://ChatXapp.com/Premium) och f en mngd olika chatt-frdelar (dessa frdelar ingr i prenumerationen fr $9.99 ocks).\n* **ChatXs Universella Bibliotek** r hr fr att se till att du inte behver ngra fler launchers till dina spel. Om du vill kan ChatX scanna din dator efter spel. Sedan kan du starta vilket som helst och dina spel genom ChatX, ven om de behver en annan launcher (ChatX kommer boosta till den andra launchern och spelet).\n* **Vill du veta mer?** [Det finns fler ord p vr blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nFUNKTIONER OCKS {fixed}\n======================\n\n* **Lugna ner saker med Slow Mode.** Nr detta r igng kan anvndare bara skicka meddelanden var N:e sekund. Kaos-kontroll.\n** *La till mjligheten att stnga direktmeddelanden direkt frn overlayen.** Nr du inte ens kan alt-tabba tillrckligt snabbt fr att verge skeppet.\n* **Fixade laggen nr man gr in i eller ut frn overlayen.** Det hr r bra.\n* **La till ett litet meddelande nr overlayen kraschar** s att kan komma igng igen P NOLLTID.\n* ***Klappa taket p overlayen.*** Den hr grejen knns s mycket bttre nu. En massa andra bugfixar och frbttringar under huven.\n\nKATEGORI TRE {progress}\n======================\n\n* Vill du titta in bakom kulisserna? [Flj oss p Instagram.](https://www.instagram.com/ChatXapp/)\n* r du en Modets krigare? En Briljansens lrjunge? En Balansens skiljedomare? [Gr vrt personlighetstext](https://ChatXapp.com/hypesquad) fr att g med i ChatXs HypeSquad och f ett husmrke till din profil.\n* Vi behver fler farms. [Hjlp oss bygga dem.](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "ru"\nyoutube_video_id: "1h9F_oPxtes"\n---\n   BETA {added margintop}\n======================\n\n* **ChatX [beta  ](https://ChatXapp.com/store)    !**   ,       . ,      \n* **[ChatX Premium](https://ChatXapp.com/Premium) !**   $9.99  ,         ,  ,   ,     .\n* **  ?**  $4.99  ,     [Premium Classic](https://ChatXapp.com/Premium)     (       $9.99).\n* **  ChatX** ,         .  , ChatX       .  ,       ChatX, ,     (ChatX      ).\n* **  ?** [    !](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\n  {fixed}\n======================\n\n* **    Slow Mode.**  ,       N .    .\n* **     .**  ,       ,     .\n* ** ,      .**   .\n* **  ,     **,       .\n* ***   .***      .        .\n\n  {progress}\n======================\n\n*   ? [    Instagram](https://www.instagram.com/ChatXapp/)\n*   ?  ?  ? [    ](https://ChatXapp.com/hypesquad),    ChatX HypeSquad       .\n*   . [   ](https://ChatXapp.com/jobs).\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "ko"\nyoutube_video_id: "1h9F_oPxtes"\n---\n   BETA {added margintop}\n======================\n\n* **ChatX [  beta](https://ChatXapp.com/store)    !** 3,       . ,     .\n* **[ChatX ](https://ChatXapp.com/Premium) !**   9.99           .\n* **  ?**   4.99  [ ](https://ChatXapp.com/Premium)   ,       (  $9.99  ).\n* **ChatX  **         . , ChatX      ,     ChatX     . (ChatX    ).\n* **   ?** [    !](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\n {fixed}\n======================\n\n* **  **   N    .  .\n* **  DM(Direct Message)     . ** Alt+tab        .\n* **       . ** .!\n* **     **       .\n* ***  , !***      .     .\n\n 3  {progress}\n======================\n\n*   ? [ Instagram  .](https://www.instagram.com/ChatXapp/)\n*  Bravery ? , Brilliance ? Balance ? ChatX HypeSquad       [  .](https://ChatXapp.com/hypesquad)\n*    . [    .](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nlocale: "ja"\nyoutube_video_id: "1h9F_oPxtes"\n---\n BETA {added margintop}\n======================\n\n* **ChatX [ BETA](https://ChatXapp.com/store)**3\n* **[ChatX Premium](https://ChatXapp.com/Premium)**$9.99\n* ****$4.99[Premium Classic](https://ChatXapp.com/Premium)$9.99\n* **ChatX **ChatXPCChatXChatX\n* ****[](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\n {fixed}\n======================\n\n* ****N\n* **DM**Alt-Tab\n* ****\n* ****\n* ******\n\n {progress}\n======================\n\n* [Instagram](https://www.instagram.com/ChatXapp/)\n* [](https://ChatXapp.com/hypesquad)ChatX HypeSquad\n* [](https://ChatXapp.com/jobs)\n\n---changelog---\ndate: "2018-10-16"\nrevision: 1\nyoutube_video_id: "1h9F_oPxtes"\n---\nGAME STORE GLOBAL BETA {added margintop}\n=====================\n\n* **The ChatX [game store beta](https://ChatXapp.com/store) is available to everyone!** Three years ago, we set out to bring people together around games. Now, were going to bring the games to you.\n* **[ChatX Premium](https://ChatXapp.com/Premium) has evolved!** For $9.99 a month, gain access to a growing library of critically acclaimed games that we think you and your friends should play.\n* **Don\'t want games?** For $4.99 a month, boost your account with [Premium Classic](https://ChatXapp.com/Premium) and gain a variety of chat perks (these perks are included in the $9.99 plan as well).\n* **ChatX\'s Universal Library** is here to save you from having yet another launcher for your games. If you want, ChatX can scan your computer for games. Then, youll be able to launch any of your games through ChatX even if they require another launcher (ChatX will boot the other launcher and game).\n* **Wanna know more?** [There\'s more words in our blog!](https://blog.ChatXapp.com/ChatX-store-global-beta-is-live-38bfd044d648)\n\nFEATURES TOO {fixed}\n======================\n\n* **Chill things out with Slow Mode.** Enabled, users will only be able to send messages every N seconds. Chaos control.\n* **Added ability to close DMs from the Overlay.** For when you can\'t even alt-tab fast enough to abandon ship.\n* **Fixed the lag when entering and exiting the Overlay.** This is good.\n* **Added a little notification when the Overlay crashes** to get you back up and running in NO TIME.\n* ***Slaps roof of Overlay.*** This bad boy runs so much better now. Tons of other bug fixes and improvements under the hood.\n\nTHE THIRD CATEGORY {progress}\n======================\n\n* Wanna see behind the curtain? [Follow our Instagram.](https://www.instagram.com/ChatXapp/)\n* Are you a warrior of Bravery? A disciple of Brilliance? An arbiter of Balance? [Take our personality quiz](https://ChatXapp.com/hypesquad) to join the ChatX HypeSquad and get a house badge for your profile.\n* We need more farms. [Help us build them.](https://ChatXapp.com/jobs)'},6920:function(e,t,n){"use strict";t.__esModule=!0;var a=L(n(3)),o=L(n(6273)),r=L(n(6910)),i=L(n(6909)),l=L(n(6908)),s=L(n(6905)),u=L(n(6904)),d=L(n(6902)),f=L(n(6901)),c=L(n(6900)),p=L(n(6898)),h=L(n(6897)),m=L(n(6895)),y=L(n(6893)),v=L(n(6269)),g=L(n(6268)),_=L(n(6889)),E=L(n(6267)),S=L(n(6266)),T=L(n(6881)),C=L(n(6876)),b=L(n(6873)),N=L(n(6866)),O=L(n(6863)),I=L(n(6264)),A=L(n(6847)),M=L(n(6838)),R=L(n(6261)),P=L(n(990));function L(e){return e&&e.__esModule?e:{default:e}}var w=s.default.showRedesignedModals(),D=w?p.default:c.default,U=w?f.default:d.default;a.default.initialize();var k=[A.default,C.default,N.default,T.default,S.default,E.default,o.default,b.default,g.default,v.default,u.default,U,y.default,_.default,m.default,h.default,D,r.default,i.default,l.default,I.default,O.default,M.default,R.default,P.default];t.default=k,e.exports=t.default},6921:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),r=n(136),i=s(n(6278)),l=s(n(943));function s(e){return e&&e.__esModule?e:{default:e}}t.SETTINGS_LAYERS_LAYOUT=a({POP_LAYER:{binds:["esc"],global:!0,action:function(){return r.ComponentDispatch.hasSubscribers(o.ComponentActions.CALL_DECLINE)?(r.ComponentDispatch.dispatch(o.ComponentActions.CALL_DECLINE),!1):l.default.isOpen()?(r.ComponentDispatch.dispatch(o.ComponentActions.CONTEXT_MENU_CLOSE),!1):r.ComponentDispatch.hasSubscribers(o.ComponentActions.POPOUT_CLOSE)?(r.ComponentDispatch.dispatch(o.ComponentActions.POPOUT_CLOSE),!1):r.ComponentDispatch.hasSubscribers(o.ComponentActions.MODAL_CLOSE)?(r.ComponentDispatch.dispatch(o.ComponentActions.MODAL_CLOSE),!1):void r.ComponentDispatch.dispatch(o.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},i.default)},6922:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(6)),s=h(n(505)),u=h(n(26)),d=n(0),f=h(n(961)),c=h(n(5658)),p=h(n(504));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(n){m(this,t);var a=y(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===d.VerificationTypes.EMAIL_OR_PHONE?l.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():l.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return o(u.default,{className:c.default.verificationBlock,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,onClick:this.handleClick},void 0,o("div",{className:(0,i.default)(c.default.image,c.default[e])}),o("div",{className:c.default.body},void 0,t))},t.prototype.handleClick=function(){var e=this.props;(0,e.onClick)(e.type)},t}(r.PureComponent);g.displayName="VerificationBlock";var _=function(e){function t(n){m(this,t);var a=y(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return v(t,e),t.prototype.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,a=e.theme,r=e.onCaptchaVerify,i=[];switch(t){case d.VerificationTypes.CAPTCHA:return o(f.default,{onVerify:r,theme:a},n);case d.VerificationTypes.EMAIL_OR_PHONE:i.push(o(g,{type:d.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},d.VerificationTypes.EMAIL_OR_PHONE));case d.VerificationTypes.PHONE:i.push(o(g,{type:d.VerificationTypes.PHONE,onClick:this.handleClick},d.VerificationTypes.PHONE))}return i},t.prototype.render=function(){return o(u.default,{className:c.default.verification,align:u.default.Align.CENTER,direction:u.default.Direction.VERTICAL},void 0,o(u.default,{className:c.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,o("div",{className:c.default.image}),o("div",{className:(0,i.default)(c.default.title,p.default.marginTop20)},void 0,l.default.Messages.VERIFICATION_TITLE),o("div",{className:(0,i.default)(c.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,l.default.Messages.VERIFICATION_BODY.format()),o(u.default,{grow:0,justify:u.default.Justify.CENTER},void 0,this.renderFields())),o("div",{className:c.default.footer},void 0,l.default.Messages.VERIFICATION_FOOTER),o(u.default,{className:(0,i.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,o("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:s.default.getSubmitRequestURL()})),o("div",{className:(0,i.default)(c.default.footer,c.default.footerBullet)},void 0,""),o("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t.prototype.handleClick=function(e){var t=this.props.onClick;t&&t(e)},t}(r.PureComponent);_.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP},_.displayName="Verification",t.default=_,e.exports=t.default},6923:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=T(n(3)),s=T(n(13)),u=T(n(6922)),d=T(n(6031)),f=T(n(34)),c=n(265),p=T(n(918)),h=T(n(6274)),m=n(926),y=T(n(30)),v=T(n(5978)),g=n(0),_=T(n(161)),E=T(n(69)),S=T(n(6));function T(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={captchaKey:0},a.handleVerifyCaptcha=a.handleVerifyCaptcha.bind(a),a.handleClick=a.handleClick.bind(a),a.handleLogout=a.handleLogout.bind(a),a.close=a.close.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.theme;return r(u.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaVerify:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},t.prototype.handleVerifyCaptcha=function(e){var t=this;s.default.post({url:g.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},t.prototype.handleClick=function(e){e===g.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},t.prototype.handleVerifyEmail=function(){(0,m.accountDetailsInit)(),h.default.open()},t.prototype.handleVerifyPhone=function(){f.default.push(function(e){return i.createElement(d.default,e)})},t.prototype.close=function(){(0,c.popLayer)()},t.prototype.handleLogout=function(){f.default.push(function(e){return i.createElement(_.default,o({header:S.default.Messages.LOGOUT,confirmText:S.default.Messages.LOGOUT,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return p.default.logout()}},e),r(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,S.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},t}(i.PureComponent);C.displayName="Verification",t.default=l.default.connectStores([y.default,v.default],function(){var e=v.default.getAction(),t=g.VerificationTypes.CAPTCHA;return e===g.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=g.VerificationTypes.EMAIL_OR_PHONE:e===g.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=g.VerificationTypes.PHONE),{theme:y.default.theme,type:t}})(C),e.exports=t.default},6924:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(3)),l=h(n(6)),s=h(n(507)),u=n(78),d=h(n(160)),f=n(6097),c=h(n(12)),p=h(n(6026));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return o(d.default,{type:d.default.Type.SPINNING_CIRCLE});var a=c.default.getUser(n),r=null==a?l.default.Messages.RTC_DEBUG_RTP_INBOUND:l.default.Messages.RTC_DEBUG_RTP_INBOUND+"  "+a.toString();return o(s.default,{tag:u.Tags.H2,title:r},void 0,(0,f.renderStreams)(t,n))},t}(r.PureComponent);m.displayName="RTCDebugInbound",t.default=i.default.connectStores([p.default],function(){var e=p.default.getStats(),t=p.default.getSection(),n=null;return null!=e&&null!=e.rtp.inbound&&(n=e.rtp.inbound[t]||[]),{userId:t,streams:n}})(m),e.exports=t.default},6925:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(3)),l=p(n(6)),s=p(n(507)),u=n(78),d=p(n(160)),f=n(6097),c=p(n(6026));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.outbound;return null==e?o(d.default,{type:d.default.Type.SPINNING_CIRCLE}):o(s.default,{tag:u.Tags.H2,title:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,f.renderStreams)(e))},t}(r.PureComponent);h.displayName="RTCDebugOutbound",t.default=i.default.connectStores([c.default],function(){var e=c.default.getStats();return{outbound:null!=e?e.rtp.outbound:null}})(h),e.exports=t.default},6926:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(6299);var l=o(i.SparklinesCurve,{}),s=o(i.SparklinesReferenceLine,{type:"median"}),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.datapoints=[n.datapoint],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.datapoints.push(e.datapoint)},t.prototype.render=function(){return o(i.Sparklines,{data:this.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,l,s)},t}(r.PureComponent);u.displayName="RTCDebugGraph",t.default=u,e.exports=t.default},6927:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(261),s=h(l),u=h(n(508)),d=h(n(26)),f=h(n(58)),c=h(n(5507)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=["audioLevel"],y=["firCount","nackCount"],v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={change:0,warn:-1!==y.indexOf(n.label)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){-1!==m.indexOf(e.label)&&(e.value>this.props.value?this.setState({change:1}):e.value<this.props.value?this.setState({change:-1}):this.setState({change:0}))},t.prototype.renderValueIcon=function(){var e=this.state,t=e.warn,n=e.change;return t?o(f.default,{name:f.default.Names.WARNING_BOX,color:p.Colors.STATUS_YELLOW,className:c.default.valueIcon}):n>0?o(f.default,{name:f.default.Names.CHANGE_UP,color:p.Colors.STATUS_GREEN,className:c.default.valueIcon}):n<0?o(f.default,{name:f.default.Names.CHANGE_DOWN,color:p.Colors.STATUS_RED,className:c.default.valueIcon}):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.valueRendered,r=e.section,f=e.label,p=e.renderGraph;return o(d.default,{className:(0,i.default)(c.default.item,n),direction:d.default.Direction.VERTICAL,basis:"50%"},void 0,o(d.default,{align:d.default.Align.START},void 0,o(d.default.Child,{},void 0,o("h3",{className:c.default.title},void 0,t)),o(d.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),o("span",{className:c.default.itemValue},void 0,a))),p&&o(d.default.Child,{className:c.default.graph},null!=r?r+"-"+f:f,o(s.default,{type:l.Types.DESCRIPTION},void 0,p())),o(u.default,{className:c.default.divider}))},t}(r.PureComponent);v.displayName="RTCDebugItem",t.default=v,e.exports=t.default},6928:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(7)),l=g(n(3)),s=g(n(6)),u=g(n(507)),d=n(78),f=n(6097),c=g(n(160)),p=g(n(6026)),h=g(n(221)),m=n(6275),y=g(n(124)),v=g(n(5507));function g(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,a=e.hidePersonalInformation;if(null==t)return o(c.default,{type:c.default.Type.SPINNING_CIRCLE});var r=i.default.map(t,function(e,t){if(!a||"localAddress"!==t)return o(m.Item,{label:t,value:e},t)});return o(u.default,{tag:d.Tags.H2,title:s.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:v.default.allowSelection},void 0,(0,f.renderTwoColumns)(r))},t}(r.PureComponent);_.displayName="RTCDebugTransport",t.default=l.default.connectStores([p.default,h.default,y.default],function(){var e=p.default.getStats();return{hidePersonalInformation:y.default.hidePersonalInformation,transport:null!=e?e.transport:null,mediaSessionId:h.default.getMediaSessionId()}})(_),e.exports=t.default},6929:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(3)),l=T(n(6)),s=T(n(7)),u=n(5951),d=T(n(26)),f=T(n(260)),c=T(n(6076)),p=T(n(6928)),h=T(n(6925)),m=T(n(6924)),y=n(6298),v=T(n(30)),g=T(n(6026)),_=T(n(12)),E=n(0),S=T(n(5507));function T(e){return e&&e.__esModule?e:{default:e}}var C=function(e){return o(d.default,{align:d.default.Align.CENTER},void 0,o(d.default.Child,{},void 0,o(d.default,{align:d.default.Align.CENTER},void 0,o(f.default,{size:f.default.Sizes.XSMALL,src:e.getAvatarURL()}),o("span",{className:S.default.username},void 0,e.toString()))))};C.displayName="UserItem",t.default=i.default.connectStores([g.default,v.default],function(){var e=g.default.getStats();return{theme:v.default.theme,section:g.default.getSection(),inbound:null!=e?e.rtp.inbound:void 0}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,a=e.inbound;return o(c.default,{theme:t,section:n,onSetSection:y.setSection,onClose:y.close,sections:function(e){var t=[];return null==e||s.default.isEmpty(e)||(t.push({section:u.SectionTypes.DIVIDER}),t.push({section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(e).forEach(function(e){var n=_.default.getUser(e);null!=n&&t.push({section:n.id,label:C(n),onClick:function(){(0,y.setSection)(n.id)},element:m.default})})),[{section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG},{section:E.RTCDebugSections.TRANSPORT,label:l.default.Messages.RTC_DEBUG_TRANSPORT,element:p.default},{section:E.RTCDebugSections.OUTBOUND,label:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:h.default}].concat(t)}(a)})},t}(r.PureComponent)),e.exports=t.default},6930:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){a.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){a.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){a.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return a.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function a(){if(0===t.length)return n();var r=t.pop();if(null==r)return a();o.default.updatePermissionOverwrite(e,r).then(a,a)}()}).then(function(){return a.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var a=i(n(2)),o=i(n(138)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6931:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(9))),i=p(n(506)),l=p(n(58)),s=p(n(44)),u=p(n(26)),d=p(n(69)),f=n(0),c=p(n(5661));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.iconName,n=e.noticeText,a=e.buttonText,p=e.className,h=e.submitting,m=e.onClick;return o(i.default,{className:(0,r.default)(c.default.card,p)},void 0,o(u.default,{},void 0,o(u.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,o(l.default,{name:t,width:18,height:18,color:f.Colors.STATUS_YELLOW,className:c.default.lockIcon})),o(u.default.Child,{wrap:!0,className:c.default.noticeText},void 0,o(d.default,{color:d.default.Colors.PRIMARY},void 0,n))),null!=a&&null!=m?o(s.default,{size:s.default.Sizes.SMALL,onClick:m,className:c.default.button,submitting:h},void 0,a):null)};h.displayName="SidebarNotice",t.default=h,e.exports=t.default},6932:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsPermissionsNotice=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=V(n(3)),s=V(n(6)),u=V(n(7)),d=V(n(1173)),f=V(n(6600)),c=V(n(6550)),p=V(n(6931)),h=V(n(217)),m=V(n(5989)),y=V(n(6599)),v=V(n(157)),g=V(n(26)),_=V(n(6013)),E=V(n(260)),S=V(n(44)),T=n(261),C=V(T),b=V(n(58)),N=V(n(6348)),O=V(n(138)),I=n(6930),A=n(5987),M=V(n(266)),R=V(n(34)),P=V(n(27)),L=V(n(5968)),w=V(n(12)),D=V(n(30)),U=V(n(62)),k=V(n(6276)),F=V(n(113)),x=V(n(79)),G=V(n(505)),B=V(n(6071)),j=n(0),H=V(n(5660));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},$={ROLE:"role",MEMBER:"member"},q=(t.ChannelSettingsPermissionsNotice=l.default.connectStores([k.default,L.default],function(){var e=L.default.getChannel();return{submitting:k.default.formState===j.FormStates.SUBMITTING,onReset:function(){(0,I.init)()},onSave:function(){var t=k.default.editedPermissionIds.reduce(function(e,t){var n=k.default.getPermissionOverwrite(t);return null!=n&&e.push(n),e},[]);(0,I.savePermissionUpdates)(e.id,t)}}})(_.default),function(e){function t(n){Y(this,t);var a=W(this,e.call(this,n)),o=n.type;return a.generalSpec=x.default.generateChannelGeneralPermissionSpec(o===j.ChannelTypes.GUILD_CATEGORY),a.textSpec=x.default.generateChannelTextPermissionSpec(o===j.ChannelTypes.GUILD_TEXT),a.voiceSpec=x.default.generateChannelVoicePermissionSpec(o===j.ChannelTypes.GUILD_VOICE),a.handlePermissionChange=a.handlePermissionChange.bind(a),a.handleDeletePermission=a.handleDeletePermission.bind(a),a}return z(t,e),t.prototype.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,a=P.default.getGuild(t);if(null==a)return"";var o=a.getRole(n),r=w.default.getUser(n),i=r?r.username:"";return o?o.name:i},t.prototype.handlePermissionChange=function(e,t){var a,o=this.props,i=o.overwrite,l=o.channel,u=i.id,d=i.allow,f=i.deny;switch(f^=f&e,d^=d&e,t){case"ALLOW":d|=e;break;case"DENY":f|=e}if(x.default.can(e,w.default.getCurrentUser(),l,((a={})[u]=r({},i,{allow:d,deny:f}),a)))(0,I.updatePermission)(u,d,f);else{var c=void 0;if("member"===i.type){var p=w.default.getUser(i.id);null!=p&&(c=p.toString())}else if("role"===i.type){var h=P.default.getGuild(l.getGuildId());if(null!=h){var m=h.getRole(i.id);null!=m&&(c=m.name)}}M.default.show({title:s.default.Messages.SELF_DENY_PERMISSION_TITLE,body:s.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:c}),cancelText:s.default.Messages.HELP_DESK,onCancel:function(){window.open(G.default.getArticleURL(j.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6179)})}},t.prototype.handleDeletePermission=function(){var e=this.props,t=e.channel.id,a=e.overwrite.id,o=this.getOverwriteName();M.default.show({title:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:o}),cancelText:s.default.Messages.CANCEL,onConfirm:function(){return O.default.clearPermissionOverwrite(t,a)},iconUrl:n(6179)})},t.prototype.renderTextPermissions=function(){var e=this.props.type;if(e!==j.ChannelTypes.GUILD_TEXT&&e!==j.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return o(c.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderVoicePermissions=function(){var e=this.props.type;if(e!==j.ChannelTypes.GUILD_VOICE&&e!==j.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return o(c.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:o(S.default,{look:S.default.Looks.OUTLINED,color:S.default.Colors.RED,onClick:this.handleDeletePermission},void 0,s.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},t.prototype.render=function(){var e=this.props.overwrite;return o(y.default.Content,{style:K},void 0,o(c.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:"margin-bottom-40"}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(i.PureComponent));q.displayName="Content";var X=function(e){function t(){var n,a;Y(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=W(this,e.call.apply(e,[this].concat(r))),a.handlerFilterResults=function(e,t){var n=a.props.permissionOverwrites;return 0===t?(0,u.default)(a.props.guild.roles).filter(function(t){return null==n[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,u.default)(a.props.guildMemberIds).map(w.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==n[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},a.handleCreateOverwrite=function(e,t){0===t?a.props.onSelect(e.id,$.ROLE):1===t&&a.props.onSelect(e.id,$.MEMBER)},a.handleQueryChange=function(e){B.default.requestMembers(a.props.guild.id,e,20)},W(a,n)}return z(t,e),t.prototype.renderResult=function(e,t){if(0===t){var n=void 0;return e.colorString&&(n={color:e.colorString}),o("span",{style:n},void 0,e.name)}var a=e.avatarURL||e.getAvatarURL("jpg");return o(g.default,{align:g.default.Align.CENTER},void 0,o(E.default,{size:E.default.Sizes.SMALL,src:a}),o("span",{className:H.default.username},void 0,e.toString()))},t.prototype.render=function(){return o(d.default,{label:s.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:s.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[s.default.Messages.ROLES,s.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:this.props.onClose})},t}(i.PureComponent);X.displayName="CreateOverwritePopout";var Q=l.default.connectStores([U.default],function(e){var t=e.guild;return{guildMemberIds:U.default.getMemberIds(t.id)}})(X),J=function(e){function t(n){Y(this,t);var a=W(this,e.call(this,n));return u.default.bindAll(a,["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),a}return z(t,e),t.prototype.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,a=t.theme;return o(f.default,{theme:a,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},t.prototype.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,a=t.theme,r=e.avatarURL||e.getAvatarURL("jpg");return o(f.default,{id:e.id,theme:a},n+"-"+e.id,o(g.default,{align:g.default.Align.CENTER},void 0,o(E.default,{size:E.default.Sizes.XSMALL,src:r}),o("span",{className:H.default.username},void 0,e.toString())))},t.prototype.renderCreateOverwritePopout=function(e){return i.createElement(Q,r({},this.props,{onSelect:this.handleCreatePermissionOverwrite},e))},t.prototype.renderHeader=function(){var e=this.props.theme===j.ThemeTypes.DARK?n(6548):n(6547);return o(h.default,{render:this.renderCreateOverwritePopout,position:h.default.Positions.BOTTOM,preventInvert:!0},void 0,o(m.default.Header,{},void 0,o(g.default,{className:H.default.sidebarHeaderDefault,justify:g.default.Justify.BETWEEN,align:g.default.Align.CENTER},void 0,o("span",{},void 0,s.default.Messages.ROLES,"/",s.default.Messages.MEMBERS),o("img",{alt:"",className:H.default.sidebarHeader,src:e}))))},t.prototype.renderHelpfulNote=function(){return o("div",{},void 0,o(m.default.Separator,{style:{marginTop:20,marginBottom:14}}),o(C.default,{type:T.Types.DESCRIPTION},void 0,o(v.default,{href:G.default.getArticleURL(j.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,s.default.Messages.PERMISSION_HELPDESK)))},t.prototype.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,a=e.category,r=e.canSyncChannel;return t&&null!=a?o(p.default,n?{iconName:b.default.Names.SYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:a.name})}:{iconName:b.default.Names.UNSYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:a.name}),buttonText:r?s.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,a=e.theme,i=e.permissionOverwrites;null==i[t.id]&&(i[t.id]=x.default.makeEveryoneOverwrite(t.id));var l=(0,u.default)(i).filter(function(e){return e.type===$.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),s=(0,u.default)(i).filter(function(e){return e.type===$.MEMBER}).map(function(e){return w.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return o(y.default.Sidebar,{style:r({},K,{overflow:"hidden"}),scrollable:!0,theme:a},void 0,this.renderSyncStatus(),o(m.default,{onItemSelect:I.selectPermission,selectedItem:n},void 0,this.renderHeader(),l,s,this.renderHelpfulNote()))},t.prototype.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;O.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:x.default.NONE,deny:x.default.NONE}).then(function(){return(0,I.selectPermission)(e)})},t.prototype.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&R.default.push(N.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,a=r({},t.permissionOverwrites);null!=e&&null==a[e]&&(a[e]=x.default.makeEveryoneOverwrite(e)),(0,A.saveChannel)(n.id,{permissionOverwrites:u.default.values(a)})}})},t}(i.PureComponent);J.displayName="Sidebar";var Z=function(e){function t(){return Y(this,t),W(this,e.apply(this,arguments))}return z(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,a=e.channel,r=e.locked,l=n[t];return o(y.default,{className:H.default.container},void 0,i.createElement(J,this.props),o(q,{type:a.type,channel:a,overwrite:l,locked:r}))},t}(i.PureComponent);Z.displayName="ChannelSettingsPermissions",t.default=l.default.connectStores([P.default,k.default,D.default,F.default],function(){var e=k.default.channel,t=k.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&F.default.can(j.Permissions.MANAGE_ROLES,t),permissionOverwrites:k.default.permissionOverwrites,selectedOverwriteId:k.default.selectedOverwriteId,isLockable:k.default.isLockable,locked:k.default.locked,guild:null!=e&&P.default.getGuild(e.getGuildId()),theme:D.default.theme}})(Z)},6933:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(3)),o=l(n(5968)),r=l(n(27)),i=l(n(6603));function l(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.connectStores([o.default],function(){var e=o.default.getChannel();return{guild:r.default.getGuild(e.getGuildId()),channel:e}})(i.default),e.exports=t.default},6934:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=c(n(3)),r=c(n(5968)),i=c(n(30)),l=c(n(27)),s=c(n(124)),u=c(n(113)),d=c(n(6607)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=o.default.connectStores([r.default,s.default,u.default],function(){var e=r.default.getProps().channel;return a({guild:l.default.getGuild(e.getGuildId()),theme:i.default.theme,hide:s.default.hideInstantInvites,canCreateInvites:u.default.can(f.Permissions.CREATE_INSTANT_INVITE,e)},r.default.getInvites())})(d.default);t.default=p,e.exports=t.default},6935:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},6936:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},6937:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},6938:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},6939:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsOverviewNotice=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=b(n(3)),l=b(n(7)),s=b(n(6)),u=b(n(232)),d=b(n(26)),f=n(158),c=b(n(159)),p=b(n(559)),h=b(n(915)),m=b(n(950)),y=b(n(6013)),v=n(5987),g=b(n(27)),_=b(n(5968)),E=b(n(30)),S=b(n(113)),T=(b(n(125)),n(366)),C=n(0);function b(e){return e&&e.__esModule?e:{default:e}}t.ChannelSettingsOverviewNotice=i.default.connectStores([_.default],function(){var e=_.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){(0,v.init)(t.id)},onSave:function(){var e=t.name,n=t.topic,a=t.bitrate,o=t.userLimit,r=t.nsfw,i=t.rateLimitPerUser;(0,v.saveChannel)(t.id,{name:e,topic:n,bitrate:a,userLimit:o,nsfw:r,rateLimitPerUser:i})}}})(y.default);var N=o(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),O=o(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),I=o(f.FormDivider,{className:"margin-top-40 margin-bottom-40"}),A=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return l.default.bindAll(a,["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.getCooldownSliderMarker=function(e){return e>0?e.toLocaleString():s.default.Messages.FORM_LABEL_OFF},t.prototype.renderChannelInfo=function(){var e=this.props,t=e.channel,n=e.canManageChannels,a=void 0,r=void 0,i=void 0;t.type===C.ChannelTypes.GUILD_TEXT&&(a=o(f.FormItem,{title:s.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:"margin-top-20"},void 0,o(p.default,{placeholder:s.default.Messages.CHANNEL_TOPIC_EMPTY,value:u.default.translateSurrogatesToInlineEmoji(t.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!n})),i=o("div",{},void 0,N,o(f.FormItem,{title:s.default.Messages.FORM_LABEL_SLOWMODE},void 0,o(m.default,{className:"margin-top-20",defaultValue:t.rateLimitPerUser,markers:C.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker}),o(f.FormText,{type:f.FormText.Types.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_SLOWMODE)),O),r=o("div",{},void 0,o(h.default,{note:s.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:t.isNSFW(),hideBorder:!0,disabled:!n},void 0,s.default.Messages.FORM_LABEL_NSFW_CHANNEL)));var l=void 0;return l=t.type===C.ChannelTypes.GUILD_CATEGORY?s.default.Messages.CATEGORY_NAME:s.default.Messages.FORM_LABEL_CHANNEL_NAME,o("div",{},void 0,o(f.FormItem,{title:l},void 0,o(c.default,{value:t.toString(),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!n})),a,i,r)},t.prototype.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},t.prototype.renderVoiceBitrate=function(){var e=this.props,t=e.channel,n=e.guild,a=e.canManageChannels;if(t.type!==C.ChannelTypes.GUILD_VOICE)return null;var r=n&&n.hasFeature(C.GuildFeatures.VIP_REGIONS)?C.BITRATE_MAX_VIP:C.BITRATE_MAX;return o(d.default,{direction:d.default.Direction.VERTICAL,className:"margin-bottom-40"},void 0,o(f.FormTitle,{},void 0,s.default.Messages.FORM_LABEL_BITRATE),o(f.FormText,{type:f.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:"margin-bottom-8"},void 0,this.getError("bitrate")),o(m.default,{defaultValue:Math.min(t.bitrate,r),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[C.BITRATE_MIN,C.BITRATE_DEFAULT,r],minValue:C.BITRATE_MIN,maxValue:r,disabled:!a}),o(f.FormText,{type:f.FormTextTypes.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_BITRATE.format({bitrate:C.BITRATE_DEFAULT/1e3})))},t.prototype.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?s.default.Messages.NO_USER_LIMIT:s.default.Messages.NUM_USERS.format({num:e})},t.prototype.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.canManageChannels;return t.type!==C.ChannelTypes.GUILD_VOICE?null:o(d.default,{direction:d.default.Direction.VERTICAL},void 0,o(f.FormTitle,{},void 0,s.default.Messages.FORM_LABEL_USER_LIMIT),o(f.FormText,{type:f.FormTextTypes.DESCRIPTION,style:{color:C.Colors.STATUS_RED},className:"margin-bottom-8"},void 0,this.getError("user_limit")),o(m.default,{defaultValue:Math.min(t.userLimit,C.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"":e},markers:[0,C.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:C.MAX_VOICE_USER_LIMIT,disabled:!n}),o(f.FormText,{type:f.FormTextTypes.DESCRIPTION},void 0,s.default.Messages.FORM_HELP_USER_LIMIT.format()))},t.prototype.renderJuiceImage=function(){var e=this.props,t=e.theme,a=void 0;return a=e.channel.type===C.ChannelTypes.GUILD_CATEGORY?t===C.ThemeTypes.DARK?n(6938):n(6937):t===C.ThemeTypes.DARK?n(6936):n(6935),o(d.default,{justify:d.default.Justify.CENTER,className:"margin-top-60"},void 0,o("img",{alt:"",width:280,height:165,src:a}))},t.prototype.render=function(){var e=this.props,t=e.channel;if(null==e.guild)throw new Error("[ChannelSettingsOverview]: Guild prop is null, which it should never be");return o(f.FormSection,{className:"channel-settings-overview",tag:f.FormTitleTags.H2,title:s.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(),t.type===C.ChannelTypes.GUILD_VOICE?I:null,this.renderVoiceBitrate(),this.renderUserLimit(),this.renderJuiceImage())},t.prototype.handleChangeName=function(e){this.props.channel.type===C.ChannelTypes.GUILD_TEXT&&(e=(0,T.sanitizeGuildTextChannelName)(e)),(0,v.updateChannel)({name:e})},t.prototype.handleChangeTopic=function(e){(0,v.updateChannel)({topic:u.default.translateInlineEmojiToSurrogates(e)})},t.prototype.handleChangeBitrate=function(e){(0,v.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},t.prototype.handleUserLimitChange=function(e){(0,v.updateChannel)({userLimit:Math.round(e)})},t.prototype.handleNSFWChange=function(e){(0,v.updateChannel)({nsfw:e.currentTarget.checked})},t.prototype.handleChangeSlowmode=function(e){(0,v.updateChannel)({rateLimitPerUser:e})},t}(r.PureComponent);A.displayName="ChannelSettingsOverview",t.default=i.default.connectStores([_.default,E.default,S.default],function(){var e=_.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:E.default.theme,guild:g.default.getGuild(n.getGuildId()),canManageChannels:S.default.can(C.Permissions.MANAGE_CHANNELS,n)}})(A)},6940:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=w(n(3)),s=w(n(6)),u=w(n(5968)),d=w(n(6276)),f=w(n(113)),c=w(n(30)),p=w(n(18)),h=w(n(161)),m=w(n(69)),y=w(n(6076)),v=n(6939),g=w(v),_=w(n(6934)),E=w(n(6933)),S=n(6932),T=w(S),C=n(5963),b=w(n(58)),N=n(265),O=n(5987),I=w(n(34)),A=w(n(193)),M=n(136),R=n(5951),P=n(0),L=w(n(5659));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A.default.trackWithMetadata(P.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){D(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.formState,n=e.section,a=this.props,o=a.formState,r=a.section,i=a.canManageRoles,l=a.canManageChannels,s=a.canManageWebhooks;!l&&!i&&!s||o===P.FormStates.CLOSED&&o!==t||!i&&r===P.ChannelSettingsSections.PERMISSIONS||!s&&r===P.ChannelSettingsSections.WEBHOOKS?(0,N.popLayer)():r!==n&&D(r,n)},t.prototype.render=function(){var e,t,n,a,l,f,c,p,A=this.props,w=A.theme,D=A.section;return r(y.default,{theme:w,section:D,onSetSection:O.setSection,onClose:N.popLayer,sections:(e=this.props,t=e.channel,n=e.category,a=e.canManageRoles,l=e.canManageChannels,f=e.canManageWebhooks,c=(0,C.getIconNameForChannel)(t),p=P.ChannelTypes.GUILD_CATEGORY,[{section:R.SectionTypes.HEADER,label:null!=t?r("span",{},void 0,null!=c?r(b.default,{name:c,width:11,height:11,className:L.default.channelIcon,background:L.default.background}):null,t.toString(),null!=n?r("span",{className:L.default.category},void 0,n.toString()):null):s.default.Messages.CHANNEL_SETTINGS},{section:P.ChannelSettingsSections.OVERVIEW,label:s.default.Messages.OVERVIEW,element:g.default,notice:{element:v.ChannelSettingsOverviewNotice,store:u.default}},{section:P.ChannelSettingsSections.PERMISSIONS,label:s.default.Messages.PERMISSIONS,element:T.default,type:R.ContentTypes.MINIMAL,notice:{element:S.ChannelSettingsPermissionsNotice,store:d.default},predicate:function(){return a}},{section:P.ChannelSettingsSections.INSTANT_INVITES,label:s.default.Messages.INVITES,element:_.default,type:R.ContentTypes.CUSTOM,predicate:function(){return t.type!==p&&l}},{section:P.ChannelSettingsSections.WEBHOOKS,label:s.default.Messages.WEBHOOKS,element:E.default,predicate:function(){return t.type!==p&&f}},{section:R.SectionTypes.DIVIDER},{section:P.ChannelSettingsSections.DELETE,onClick:function(){var e=t.toString();t.type!==P.ChannelTypes.GUILD_VOICE&&(e="#"+e),I.default.push(function(n){return i.createElement(h.default,o({},n,{header:s.default.Messages.DELETE_CHANNEL,cancelText:s.default.Messages.NO_TEXT,confirmText:s.default.Messages.YES_TEXT,onConfirm:function(){M.ComponentDispatch.subscribeOnce(P.ComponentActions.LAYER_POP_COMPLETE,function(){(0,O.deleteChannel)(t.id)}),(0,N.popLayer)()}}),r(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===p?s.default.Messages.DELETE_CATEGORY:s.default.Messages.DELETE_CHANNEL,color:P.Colors.STATUS_RED,predicate:function(){return l}}])})},t}(i.PureComponent);U.displayName="ChannelSettings";var k=l.default.connectStores([u.default,c.default,f.default],function(){var e=u.default.getProps().channel;return{channel:e,category:p.default.getChannel(e.parent_id),canManageRoles:f.default.can(P.Permissions.MANAGE_ROLES,e),canManageChannels:f.default.can(P.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:e.type===P.ChannelTypes.GUILD_TEXT&&f.default.can(P.Permissions.MANAGE_WEBHOOKS,e),formState:u.default.getFormState(),theme:c.default.theme,section:u.default.getSection()}})(U);k.onPop=O.close,t.default=k,e.exports=t.default},6941:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=O(n(45)),u=O(n(9)),d=O(n(3)),f=O(n(156)),c=O(n(5937)),p=O(n(59)),h=O(n(356)),m=n(136),y=O(n(6338)),v=O(n(6940)),g=O(n(6630)),_=O(n(6929)),E=O(n(6923)),S=O(n(935)),T=n(6921),C=n(265),b=n(0),N=O(n(5657));function O(e){return e&&e.__esModule?e:{default:e}}var I=((o={})[b.Layers.USER_SETTINGS]=y.default,o[b.Layers.CHANNEL_SETTINGS]=v.default,o[b.Layers.GUILD_SETTINGS]=g.default,o[b.Layers.VERIFICATION]=E.default,o[b.Layers.RTC_DEBUG]=_.default,o),A="HIDDEN",M=.93,R=1,P=0,L=1,w={friction:10,tension:100},D=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a.setRef=function(e){a._ref=e},a.getRef=function(){return a._ref||{}};var o=R,r=L;return n.mode===A&&(o=M,r=P),a.state={animating:!1,scale:new f.default.Value(o),opacity:new f.default.Value(r)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.mode,n=e.mode;("SHOWN"===n&&t===A||n===A&&"SHOWN"===t)&&this.setState({animating:!0})},t.prototype.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===A?this.animateIn():t===A&&"SHOWN"===n?this.animateUnder():void 0},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,a=n.opacity;n.scale.setValue(1.1),a.setValue(P),this.setState({animating:!0},function(){return t.animateIn(e)})},t.prototype.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},t.prototype.animateIn=function(e){var t=this;d.default.Store.pauseEmittingChanges(500);var n=this.state,a=n.opacity,o=n.scale;f.default.parallel([f.default.spring(a,i({toValue:L},w)),f.default.spring(o,i({toValue:R},w))]).start(function(){return t.animateComplete(e)})},t.prototype.animateOut=function(e){d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,a=t.scale,o=this.getRef().constructor.onPop;f.default.parallel([f.default.spring(n,i({toValue:P},w)),f.default.spring(a,i({toValue:1.1},w))]).start(function(){e(),o&&o(),m.ComponentDispatch.dispatch(b.ComponentActions.LAYER_POP_COMPLETE)})},t.prototype.animateUnder=function(){var e=this;d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,a=t.scale;f.default.parallel([f.default.spring(n,i({toValue:P},w)),f.default.spring(a,i({toValue:M},w))]).start(function(){return e.animateComplete()})},t.prototype.animateComplete=function(e){this.setState({animating:!1},e)},t.prototype.render=function(){var e,t=this.state.animating,n=this.props.mode,a=t||n===A?this.getAnimatedStyle():null,o=l.cloneElement(l.Children.only(this.props.children),{ref:this.setRef});return r(f.default.div,{className:(0,u.default)(N.default.layer,(e={},e[N.default.animating]=t,e["stop-animations"]=n===A,e)),style:a},void 0,o)},t.prototype.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(l.PureComponent);D.displayName="Layer";var U=(0,s.default)({displayName:"Layers",mixins:[p.default,d.default.LazyStoreListenerMixin(S.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{layers:S.default.getLayers()}},componentDidMount:function(){var e=this.state.layers;m.ComponentDispatch.subscribe(b.ComponentActions.LAYER_POP_ESCAPE_KEY,C.popLayer),e[e.length-1]===b.Layers.USER_SETTINGS&&(c.default.enable(),c.default.enableTemp(T.SETTINGS_LAYERS_LAYOUT))},UNSAFE_componentWillUpdate:function(e,t){var n=this.state.layers.length>0,a=t.layers.length>0;!n&&a||a&&t.layers===this.state.layers&&t.layers[0]===b.Layers.USER_SETTINGS?t.layers[t.layers.length-1]!==b.Layers.VERIFICATION?c.default.enableTemp(T.SETTINGS_LAYERS_LAYOUT):c.default.disable():n&&!a&&c.default.disableTemp()},componentWillUnmount:function(){m.ComponentDispatch.unsubscribe(b.ComponentActions.LAYER_POP_ESCAPE_KEY,C.popLayer)},renderLayers:function(){var e=this,t=this.props.children,n=this.state.layers,a=n.length,o=[];return o.push(r(D,{mode:0===a?"SHOWN":A},"layer-base",t)),n.forEach(function(t,n){return o.push(e.renderComponent(t,n,a))}),o},renderComponent:function(e,t,n){return"string"==typeof e&&(e=I[e]),r(D,{mode:t===n-1?"SHOWN":A},"layer-"+t,r(e,{}))},render:function(){return r(h.default,{component:"div",className:(0,u.default)(N.default.layers,this.props.className)},void 0,this.renderLayers())}});t.default=U,e.exports=t.default},6942:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(7),l=(a=i)&&a.__esModule?a:{default:a};var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a._animate=a._animate.bind(a),a._animationCleanup=a._animationCleanup.bind(a),a.state={shaking:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getDefaultAnimProps=function(e,t){var n=Date.now();return{duration:e||300,progress:0,last:n,intensity:t||5,lastDirection:-1,frameCount:0}},t.prototype.componentWillUnmount=function(){this._animationCleanup()},t.prototype.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},t.prototype.stop=function(){this.state.shaking&&this.setState({shaking:!1})},t.prototype._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||!this.refs.SHAKEABLE_ELEMENT)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,a=l.default.random(-e.intensity,e.intensity,!0),o=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,o),e.lastDirection*=-1,this.refs.SHAKEABLE_ELEMENT.style.transform="translate3d("+n+"px,"+a+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},t.prototype._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},t.prototype._animationCleanup=function(){this.refs.SHAKEABLE_ELEMENT&&(this.refs.SHAKEABLE_ELEMENT.style.transform=""),cancelAnimationFrame(this._animationFrame)},t.prototype.render=function(){return r.createElement("div",o({},this.props,{ref:"SHAKEABLE_ELEMENT"}))},t}(r.Component);s.displayName="Shakeable",t.default=s,e.exports=t.default},6954:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=T(n(3)),r=n(101),i=T(n(23)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6295)),s=n(0),u=T(n(2)),d=T(n(17)),f=n(193),c=T(n(362)),p=T(n(18)),h=T(n(935)),m=T(n(60)),y=T(n(6294)),v=T(n(66)),g=T(n(188)),_=T(n(90)),E=T(n(221)),S=T(n(6146));function T(e){return e&&e.__esModule?e:{default:e}}var C="PictureInPictureVideoLocation",b={top:80,bottom:132,left:80,right:32},N=void 0,O=void 0;function I(e,t){null!=e&&d.default.track(s.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,a({video_layout:t?"pip":c.default.getLayout(e)},(0,f.collectVoiceAnalyticsMetadata)(e)))}function A(){null!=N&&y.default.has(N)&&(l.close(N),I(N,!1),N=null)}function M(){var e,t,n=E.default.getGuildId(),a=E.default.getChannelId(),o=v.default.getChannelId();m.default.supports(r.Features.VIDEO)&&!h.default.hasLayers()&&a!==o&&null!=a&&_.default.hasVideo(n,a)&&(null==n||S.default.isAvailable(n))?(N!==a&&A(),e=a,null==(t=p.default.getChannel(e))||y.default.has(e)||(l.open(t.id,s.PictureInPictureComponents.VIDEO,O,{channel:t},b),I(e,!0),N=e)):A()}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([v.default,g.default,E.default,_.default,h.default],M),O=i.default.get(C,s.PictureInPicturePositions.BOTTOM_RIGHT)},t}(o.default.Store);t.default=new R(u.default,{PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;t===N&&(O=n,i.default.set(C,n))}}),e.exports=t.default},6955:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(75),l=n(156),s=(a=l)&&a.__esModule?a:{default:a},u=n(0);var d=Math.pow(3,2),f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a._height=0,a._width=0,a._dragStart={x:0,y:0},a._offsetX=0,a._offsetY=0;var o=new s.default.Value(n.initialX),r=new s.default.Value(n.initialY);return a.state={dragging:!1,position:new s.default.ValueXY({x:o,y:r})},a.handleSetRef=a.handleSetRef.bind(a),a.handleMouseDown=a.handleMouseDown.bind(a),a.handleMouseMove=a.handleMouseMove.bind(a),a.handleMouseUp=a.handleMouseUp.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.animateToPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3];(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&this.grabDimensions();var r=this.translate(e,t);s.default.spring(this.state.position,o({toValue:{x:r.x,y:r.y}},n)).start(a)},t.prototype.setPosition=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:a.x,y:a.y})},t.prototype.grabDimensions=function(){var e=(0,i.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},t.prototype.translate=function(e,t){var n=this.props,a=n.maxX,o=n.maxY;return e<0?e=0:e>a-this._width&&(e=a-this._width),t<0?t=0:t>o-this._height&&(t=o-this._height),{x:e,y:t}},t.prototype.render=function(){var e=this.state,t=e.dragging,n=e.position,a=this.props,i=a.className,l=a.children,u=[0,1],d=["0px","1px"],f=s.default.accelerate(o({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:u,outputRange:d})},{translateY:n.y.interpolate({inputRange:u,outputRange:d})}]},this.props.style));return r.createElement(s.default.div,{ref:this.handleSetRef,className:i,onMouseDown:this.handleMouseDown,style:f},l)},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,a=t.selector,o=this.state.position,r=e.target;e.button===u.MouseButtons.PRIMARY&&(n||null!=a&&r.matches(a))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-o.x._value,this._offsetY=e.clientY-o.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},t.prototype.handleMouseMove=function(e){e.preventDefault();var t,n,a,o,r,i,l=this.props,s=l.onDragStart,u=l.onDrag,f=this.state,c=f.dragging,p=f.dragging;!c&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},a=t.x,o=t.y,r=n.x,i=n.y,Math.pow(a-r,2)+Math.pow(o-i,2)>d)&&(c=!0),c&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:c},function(){p||s&&s(e.clientX,e.clientY),u&&u(e.clientX,e.clientY)}))},t.prototype.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},t}(r.PureComponent);f.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1},f.displayName="Draggable",t.default=f,e.exports=t.default},6956:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(75),s=p(n(9)),u=p(n(6955)),d=n(0),f=p(n(5662)),c=p(n(5500));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(n){h(this,t);var a=m(this,e.call(this,n));return a.ensureIsInPosition=a.ensureIsInPosition.bind(a),a.handleSetInnerDivRef=a.handleSetInnerDivRef.bind(a),a.handleSetDraggableRef=a.handleSetDraggableRef.bind(a),a.handleDragStart=a.handleDragStart.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a}return y(t,e),t.prototype.componentDidMount=function(){this.setPosition(this.props.position)},t.prototype.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},t.prototype.getPosition=function(e){var t=(0,l.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var a=this.props,o=a.edgeOffsetTop,r=a.edgeOffsetLeft,i=a.edgeOffsetBottom,s=a.edgeOffsetRight,u=o,f=window.innerHeight-i-this._height,c=r,p=window.innerWidth-s-this._width;switch(e){case d.PictureInPicturePositions.TOP_LEFT:return{y:u,x:c};case d.PictureInPicturePositions.BOTTOM_LEFT:return{y:f,x:c};case d.PictureInPicturePositions.TOP_RIGHT:return{y:u,x:p};default:return{y:f,x:p}}},t.prototype.setPosition=function(e){var t=this.getPosition(e),n=t.x,a=t.y;null!=this._draggable&&this._draggable.setPosition(n,a)},t.prototype.animateToPosition=function(e,t){var n=this.getPosition(e),a=n.x,o=n.y;null!=this._draggable&&this._draggable.animateToPosition(a,o,{},t)},t.prototype.ensureIsInPosition=function(){this.setPosition(this.props.position)},t.prototype.calculateDecayingPosition=function(e,t,n,a){return{x:e+200*n,y:t+200*a}},t.prototype.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,a=e.edgeOffsetRight;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return a}},t.prototype.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,a=e.edgeOffsetBottom;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.TOP_RIGHT:return-n;default:return a}},t.prototype.render=function(){var e=this.getXOffset(),t=this.getYOffset();return i.createElement(u.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:f.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},i.createElement("div",{ref:this.handleSetInnerDivRef,className:c.default.elevationHigh,style:{x:e,y:t}},this.props.children))},t.prototype.handleSetInnerDivRef=function(e){this._innerDiv=e},t.prototype.handleSetDraggableRef=function(e){this._draggable=e},t.prototype.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},t.prototype.handleDrag=function(e,t){var n=new Date,a=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/a,this._velocityY=(t-this._lastMoveY)/a,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},t.prototype.handleDragEnd=function(e,t){var n=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),a=!0,o=!0;n.x>window.innerWidth/2&&(o=!1),n.y>window.innerHeight/2&&(a=!1);var r=void 0;if(r=a&&o?d.PictureInPicturePositions.TOP_LEFT:a&&!o?d.PictureInPicturePositions.TOP_RIGHT:!a&&o?d.PictureInPicturePositions.BOTTOM_LEFT:d.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(r,this.ensureIsInPosition),r!==this.props.position){var i=this.props,l=i.id,s=i.onMove;s&&s(l,r)}},t}(i.PureComponent);v.displayName="Window";var g=function(e){function t(){return h(this,t),m(this,e.apply(this,arguments))}return y(t,e),t.prototype.renderWindows=function(){var e=this.props,t=e.windows,n=e.maxX,a=e.maxY,l=e.onWindowMove,s=e.pictureInPictureComponents,u=[];for(var d in t){var f=t[d],c=f.component;"string"==typeof c&&s[c]&&(c=s[c].component);var p=f.offsets.top,h=f.offsets.bottom,m=f.offsets.left,y=f.offsets.right;u.push(r(v,{position:f.position,id:d,onMove:l,maxX:n,maxY:a,edgeOffsetTop:p,edgeOffsetBottom:h,edgeOffsetLeft:m,edgeOffsetRight:y},d,i.createElement(c,o({pipId:d,pipPosition:f.position},f.props))))}return u},t.prototype.render=function(){return r("div",{className:(0,s.default)(f.default.pictureInPicture,"theme-"+this.props.theme)},void 0,this.renderWindows())},t}(i.PureComponent);g.displayName="PictureInPicture",t.default=g,e.exports=t.default},6957:function(e,t,n){"use strict";t.__esModule=!0;var a=d(n(3)),o=d(n(7)),r=d(n(2)),i=d(n(14)),l=d(n(362)),s=d(n(521)),u=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,c=void 0;function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(null==f)t=null;else if(null==(t=l.default.getSelectedParticipantId(f))){var n=i.default.getId();t=(0,o.default)(l.default.getParticipants(f)).filter(function(e){var t=e.user,a=e.voiceState;return null!=a&&a.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-s.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}c!==t&&(c=t,e&&y.emitChange())}var h=o.default.debounce(p,300);function m(){return h(),!1}var y=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,s.default),this.syncWith([l.default],m)},t.prototype.getSpeaker=function(e){return f!==e&&(f=e,p(!1)),null!=c?u.default.getUser(c):u.default.getCurrentUser()},t}(a.default.Store))(r.default,function(){return!1});t.default=y,e.exports=t.default},6958:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(356)),l=m(n(26)),s=m(n(112)),u=m(n(44)),d=m(n(58)),f=n(6309),c=m(n(77)),p=m(n(5663)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var y=o(l.default,{grow:1}),v=o(l.default,{grow:1}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return o(c.default,{className:p.default.channel,onClick:n},void 0,t.toString())},t.prototype.renderTopRight=function(){var e=this.props.onClose;return null!=e?o(c.default,{onClick:e,className:p.default.iconButtonWrapper},void 0,o(d.default,{name:d.default.Names.REMOVE,className:p.default.iconButton,foreground:p.default.iconButtonForeground})):null},t.prototype.renderScreenShareIcon=function(){var e=this.props,t=e.onStartScreenSharingWhenUnavailable,n=e.onStartScreenSharing,a=e.onChangeScreenSharing,r=e.isScreenShareAvailable,i=e.isScreenShareEnabled,l=void 0,f=void 0,c=void 0;return r?i?(l=a,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_OPTIONS):(l=n,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_ON):(l=t,f=p.default.iconButtonDisabled,c=h.default.Messages.SCREENSHARE_UNAVAILABLE),o(s.default,{text:c},void 0,o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:l,className:p.default.iconButtonWrapper},void 0,o(d.default,{name:d.default.Names.SCREENSHARE,className:f,foreground:p.default.iconButtonForeground})))},t.prototype.renderVideoIcon=function(){var e=this.props,t=e.onEnableVideoWhenUnavailable,n=e.onEnableVideo,a=e.onDisableVideo,r=e.isVideoAvailable,i=e.isVideoEnabled,l=void 0,f=void 0,c=void 0,m=void 0;return r?i?(l=d.default.Names.VIDEO_CAMERA,f=a,c=p.default.iconButton,m=h.default.Messages.CAMERA_OFF):(l=d.default.Names.VIDEO_CAMERA_DISABLED,f=n,c=p.default.iconButton,m=h.default.Messages.CAMERA_ON):(l=d.default.Names.VIDEO_CAMERA,f=t,c=p.default.iconButtonDisabled,m=h.default.Messages.CAMERA_UNAVAILABLE),o(s.default,{text:m},void 0,o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:f,className:p.default.iconButtonWrapper},void 0,o(d.default,{name:l,width:24,height:24,className:c,foreground:p.default.iconButtonForeground})))},t.prototype.renderBottomLeft=function(){return o(l.default,{align:l.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},t.prototype.renderOverlaySide=function(e,t,n){return o(l.default,{grow:0,className:n},void 0,o(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayLeft},void 0,e),y,o(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayRight},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,a=e.onJumpToChannel;return o("div",{className:p.default.pictureInPictureVideo,onDoubleClick:a},void 0,o(i.default,{},void 0,o(f.BackgroundTransition,{},n,t)),o(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),p.default.overlayTop),v,this.renderOverlaySide(this.renderBottomLeft(),null,p.default.overlayBottom)))},t}(r.PureComponent);g.displayName="PictureInPictureVideo",t.default=g,e.exports=t.default},6959:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5664));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={aStreamId:null,aReady:!1,bStreamId:n.streamId,bReady:!0},a.handleReady=a.handleReady.bind(a),a.handleDoubleClick=a.handleDoubleClick.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleReady=function(){this.state.aReady?this.setState({bReady:!0,aStreamId:null,aReady:!1}):this.setState({aReady:!0,bStreamId:null,bReady:!1})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.aReady?e.streamId!==this.state.aStreamId&&(null==e.streamId?this.setState({bStreamId:e.streamId,bReady:!0,aStreamId:null,aReady:!1}):this.setState({bStreamId:e.streamId,bReady:!1})):e.streamId!==this.state.bStreamId&&(null==e.streamId?this.setState({aStreamId:e.streamId,aReady:!0,bStreamId:null,bReady:!1}):this.setState({aStreamId:e.streamId,aReady:!1}))},t.prototype.renderVideo=function(e,t){var n=this.props,a=n.children,l=n.mirror,u=n.component;if(null==e){if(null==a)return null;var d=i.Children.only(a);return i.cloneElement(d,r({style:{display:t&&!l?void 0:"none"}},d.props))}return o(u,{className:s.default.media,streamId:e,onReady:t?null:this.handleReady})},t.prototype.render=function(){var e,t=this.props,n=t.mirror,a=t.className;return o("div",{className:(0,l.default)(s.default.video,a,(e={},e[s.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,a=t.id;n&&n(e,a)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,a=t.id;n&&n(e,a)},t}(i.PureComponent);d.displayName="BufferedVideo",t.default=d,e.exports=t.default},6960:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(7)),s=R(n(3)),u=R(n(6)),d=n(101),f=R(n(363)),c=R(n(6959)),p=R(n(6101)),h=R(n(6958)),m=R(n(6102)),y=n(35),v=R(n(6100)),g=R(n(60)),_=R(n(1170)),E=R(n(6957)),S=R(n(14)),T=R(n(362)),C=R(n(358)),b=R(n(34)),N=R(n(5933)),O=n(265),I=R(n(5997)),A=n(0),M=R(n(40));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=P(this,e.call.apply(e,[this].concat(l))),a.handleEnableVideo=function(){C.default.setVideoEnabled(!0)},a.handleEnableVideoWhenUnavailable=function(){var e=a.props.isCameraGranted;b.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.CAMERA_UNAVAILABLE,description:e?u.default.Messages.CAMERA_NO_DEVICE:u.default.Messages.CAMERA_NO_ACCESS,confirmText:e?u.default.Messages.OKAY:u.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?b.default.pop:a.handleEnableVideo}))})},a.handleDisableVideo=function(){C.default.setVideoEnabled(!1)},a.handleStartScreenSharing=function(){I.default.open(a.props.channel)},a.handleStartScreenSharingWhenUnavailable=function(){function e(){b.default.push(f.default,{source:"PiP Screenshare Unavailable"})}b.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.SCREENSHARE_UNAVAILABLE,description:u.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},a.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var t=a.props.channel;(0,y.openContextMenu)(e,function(e){return i.createElement(v.default,r({},e,{channel:t}))})}},a.handleJumpToChannel=function(){var e=a.props.channel;(0,O.popAllLayers)();var t=e.getGuildId()||A.ME;N.default.channelListScrollTo(t,e.id),M.default.transitionToGuild(t,e.id)},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.streamId,a=e.userOnScreen,r=e.isVideoAvailable,i=e.isVideoEnabled,l=e.isScreenShareAvailable,s=e.isScreenShareEnabled,u=a.id===S.default.getId()&&i&&!s;return o(h.default,{channel:t,backgroundKey:a.id,isVideoAvailable:r,isVideoEnabled:i,isScreenShareAvailable:l,isScreenShareEnabled:s,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,o(c.default,{streamId:n,component:g.default.getMediaEngine().Video,mirror:u},void 0,o(m.default,{avatarSize:m.default.AvatarSizes.XXLARGE,user:a})))},t}(i.PureComponent);L.displayName="PictureInPictureVideoContainer",t.default=s.default.connectStores([E.default,T.default,_.default],function(e){var t=e.channel,n=E.default.getSpeaker(t.id),a=(0,l.default)(g.default.getVideoDevices()).values().first(),o=null==a||a.disabled,r=g.default.isEnabled();return{channel:t,streamId:null!=n?_.default.getStreamId(n.id):null,userOnScreen:n,isVideoAvailable:r||!1===o,isVideoEnabled:r&&!o&&g.default.isVideoEnabled(),isScreenShareEnabled:g.default.isScreenSharing(),isScreenShareAvailable:g.default.supports(d.Features.DESKTOP_CAPTURE),isCameraGranted:r}})(L),e.exports=t.default},6961:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=y(n(1)),l=m(n(3)),s=y(n(6295)),u=m(n(6960)),d=m(n(6956)),f=m(n(6294)),c=m(n(6954)),p=m(n(30)),h=m(n(126));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=((o={})[n(0).PictureInPictureComponents.VIDEO]={component:u.default,store:c.default},o),g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleWindowMove=a.handleWindowMove.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.windows,n=e.maxX,a=e.maxY,o=e.theme;return r(d.default,{pictureInPictureComponents:v,windows:t,maxX:n,maxY:a,theme:o,onWindowMove:this.handleWindowMove})},t.prototype.handleWindowMove=function(e,t){s.moveTo(e,t)},t}(i.PureComponent);g.displayName="PictureInPictureContainer",t.default=l.default.connectStores([f.default,h.default,p.default],function(){var e=h.default.windowSize();return{windows:f.default.windows,maxX:e.width,maxY:e.height,theme:p.default.theme}})(g),e.exports=t.default},6962:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={move:function(e,t){r.default.dispatch({type:i.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}},e.exports=t.default},6963:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=n(0);var r=Math.pow(3,2),i=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),l=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function s(e,t,n,a,o){var r=e.top,i=e.bottom,l=e.left,s=e.right;if(null==r&&null==i?(r=0,i=n-o):null==r&&null!=i?r=n-(i+o):null!=r&&(i=n-(r+o)),null==l&&null==s?(l=0,s=t-a):null==l&&null!=s?l=t-(s+a):null==s&&null!=l&&(s=t-(l+a)),null==r||null==i||null==l||null==s)throw new Error("Logically this can never happen based on our if/else statements");return{top:r,left:l,bottom:i,right:s}}function u(e){return[null==e.bottom?l.TOP:l.BOTTOM,null==e.right?l.LEFT:l.RIGHT]}function d(e){var t=e.top,n=e.left,a=e.bottom,o=e.right;return 0===t||t<=a?a=null:t=null,0===n||n<=o?o=null:n=null,{top:t,left:n,bottom:a,right:o}}function f(e){var t=e.top,n=e.left,a=e.bottom,o=e.right;return a<0&&(t+=a,a=0),t<0&&(a+=t,t=0),o<0&&(n+=o,o=0),n<0&&(o+=n,n=0),{top:t,left:n,bottom:a,right:o}}function c(e){return null!=e?e+"px":"auto"}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));h.call(a);var o,r,i,l,s,d=u(n.initialPosition),f=d[0],c=d[1];return a.position=(o=n.initialPosition,r=o.top,i=o.left,l=o.bottom,s=o.right,null==i&&null==s&&(i=0),null!=i&&null!=s&&(s=null),null==r&&null==l&&(r=0),null!=r&&null!=l&&(l=null),{top:r,left:i,bottom:l,right:s}),a.state={dragging:!1,verticalOrientation:f,horizontalOrientation:c,atTopEdge:0===a.position.top},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.verticalOrientation,o=n.horizontalOrientation,r=n.atTopEdge,i=this.props,l=i.maxX,s=i.maxY,u=i.onRelocated,d=i.snapOrientation;(e.maxX!==l||e.maxY!==s||e.onRelocated!==u||e.snapOrientation!==d||t.verticalOrientation!==a||t.horizontalOrientation!==o||t.atTopEdge!==r)&&this.checkBounds()},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.setDOMPositions=function(e){var t=e.top,n=e.left,a=e.bottom,o=e.right,r=this.draggableRef.current;this.position={top:t,left:n,bottom:a,right:o},null!=r&&(r.style.top=c(t),r.style.bottom=c(a),r.style.left=c(n),r.style.right=c(o))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=this.state,r=o.dragging,i=o.verticalOrientation,s=o.horizontalOrientation,u=o.atTopEdge,d=this.position,f=d.top,c=d.left,p=d.right,h=d.bottom,m={pointerEvents:r?"none":"auto",position:"absolute",top:f,left:c,bottom:h,right:p};return a.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:m},a.cloneElement(a.Children.only(t),{flipped:s===l.RIGHT,verticalFlipped:i===l.BOTTOM,checkBounds:this.checkBounds,atTopEdge:u}))},t}(a.PureComponent);p.FlipTypes=i,p.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:i.DISABLED,flipHorizontal:i.DISABLED,dragAnywhere:!1};var h=function(){var e=this;this.draggableRef=a.createRef(),this._dragStart={x:0,y:0},this.handleMouseDown=function(t){var n=e.position,a=n.top,r=n.left,i=n.bottom,l=n.right,u=e.props,d=u.dragAnywhere,f=u.selector,c=u.maxX,p=u.maxY,h=t.target,m=e.draggableRef.current;if(null!=m&&t.button===o.MouseButtons.PRIMARY&&(d||null!=h&&f&&null!=h.closest(f))){var y=function(e){var t=e.top;return{x:e.left,y:t}}(s({top:a,left:r,bottom:i,right:l},c,p,m.clientWidth,m.clientHeight)),v=y.x,g=y.y;e._dragStart={x:t.clientX,y:t.clientY},e._offsetX=t.clientX-v,e._offsetY=t.clientY-g,window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){t.preventDefault();var n=t.clientX,a=t.clientY,o=e.draggableRef.current,l=e.props,c=l.maxX,p=l.maxY,h=l.flipVertical,m=l.flipHorizontal,y=l.onDragStart,v=l.onDrag,g=l.onFlip,_=l.snapOrientation,E=e.state,S=E.dragging,T=E.dragging,C=E.verticalOrientation,b=E.horizontalOrientation,N=!1;if(!(null==o||!S&&(O=e._dragStart,I={x:n,y:a},A=O.x,M=O.y,R=I.x,P=I.y,Math.pow(A-R,2)+Math.pow(M-P,2)<r))){var O,I,A,M,R,P;S=!0;var L=o.clientWidth,w=o.clientHeight,D=f(s({top:a-e._offsetY,left:n-e._offsetX},c,p,L,w));if(_){var U=u(D=d(D));C=U[0],b=U[1]}else D={top:D.top,left:D.left};m===i.OFFSET&&b!==e.state.horizontalOrientation&&(e._offsetX=L-e._offsetX,N=!0),h===i.OFFSET&&C!==e.state.verticalOrientation&&(e._offsetY=w-e._offsetY,N=!0),e.setDOMPositions(D),T||y&&y(D,o),v&&v(D,o),N&&g&&g([C,b]),e.setState({dragging:S,verticalOrientation:C,horizontalOrientation:b,atTopEdge:0===D.top})}},this.handleMouseUp=function(){window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),e.state.dragging&&e.setState({dragging:!1},function(){var t=e.props.onDragEnd,n=e.draggableRef.current;null!=n&&null!=t&&t(e.position,n)})},this._checkBoundsRAF=null,this.checkBounds=function(){null!=e._checkBoundsRAF&&cancelAnimationFrame(e._checkBoundsRAF),e._checkBoundsRAF=requestAnimationFrame(e._performCheckBounds)},this._performCheckBounds=function(){var t=e.position,n=e.state,a=e.draggableRef.current,o=e.props,r=o.maxX,i=o.maxY,l=o.onRelocated,c=o.snapOrientation,p=e.state,h=p.verticalOrientation,m=p.horizontalOrientation;if(null!=a){var y=a.clientHeight,v=s(t,r,i,a.clientWidth,y);v=f(v);var g=void 0;if(c){var _=u(g=d(v));h=_[0],m=_[1]}else g={top:v.top,left:v.left,right:null,bottom:null};if(t.left!==g.left||t.right!==g.right||t.top!==g.top||t.bottom!==g.bottom){l&&l(g,a),e.setDOMPositions(g);var E=0===g.top;h===n.verticalOrientation&&m===n.horizontalOrientation&&E===n.atTopEdge||e.setState({verticalOrientation:h,horizontalOrientation:m,atTopEdge:E})}}}};p.displayName="Draggable",t.default=p,e.exports=t.default},6964:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(44)),s=y(n(6308)),u=y(n(58)),d=y(n(26)),f=n(0),c=y(n(6)),p=y(n(917)),h=y(n(504)),m=y(n(5519));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return o(r.Fragment,{},void 0,o(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(u.default,{name:u.default.Names.VIDEO_CAMERA,className:m.default.actionIcon}),c.default.Messages.VIDEO)),o(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(u.default,{name:u.default.Names.MICROPHONE,className:m.default.actionIcon}),c.default.Messages.VOICE)))},t.prototype.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return o(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:l.default.Colors.GREEN},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,o(u.default,{name:u.default.Names.MICROPHONE,className:m.default.actionIcon}),c.default.Messages.JOIN_CALL))},t.prototype.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,a=e.mode;return o("div",{className:(0,i.default)((0,i.default)(m.default.actionButtons,h.default.marginTop20))},void 0,n&&a===f.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),o(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.TRANSPARENT},void 0,o("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},t.prototype.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,a=e.channelName,r=e.mode,l=e.shouldAnimate,u=e.className;return o("div",{className:(0,i.default)(m.default.incomingCallInner,u)},void 0,o(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,o(s.default,{className:h.default.marginTop20,ringing:l,src:t||"",id:n}),o("div",{className:(0,i.default)(m.default.members,h.default.marginTop20)},void 0,a),o("div",{className:(0,i.default)(m.default.subtitle,h.default.marginTop8)},void 0,r===f.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},t}(r.Component);v.displayName="IncomingCall",t.default=v,e.exports=t.default},6965:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=D(n(45)),s=D(n(9)),u=D(n(3)),d=D(n(59)),f=D(n(7)),c=D(n(356)),p=D(n(156)),h=n(101),m=n(517),y=D(n(40)),v=D(n(6964)),g=D(n(6963)),_=D(n(30)),E=D(n(126)),S=D(n(124)),T=D(n(6296)),C=D(n(924)),b=D(n(362)),N=D(n(60)),O=D(n(6962)),I=D(n(284)),A=D(n(162)),M=(D(n(125)),D(n(940))),R=n(0),P=D(n(5665)),L=D(n(5519)),w=D(n(5500));function D(e){return e&&e.__esModule?e:{default:e}}var U=(0,l.default)({displayName:"IncomingCallModal",mixins:[u.default.LazyStoreListenerMixin(b.default),d.default,M.default],getInitialState:function(){return r({animate:new p.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:b.default.getMode(this.props.channel.id)}},getSubscriptions:function(){var e;return(e={})[R.ComponentActions.CALL_ACCEPT]=this.handleAcceptWithAudio,e[R.ComponentActions.CALL_DECLINE]=this.handleDeclineCall,e},componentWillEnter:function(e){p.default.timing(this.state.animate,{toValue:1,duration:170,easing:p.default.Easing.inOut(p.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){p.default.timing(this.state.animate,{toValue:0,duration:170,easing:p.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?p.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,a=e.channel,r=e.shouldAnimate,l=a.getIconURL(),u=N.default.supports(h.Features.VIDEO);return o(g.default,{className:(0,s.default)(P.default.incomingCall,w.default.elevationHigh),selector:"."+L.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,o(i.Fragment,{},void 0,o(p.default.div,{style:this.getStyle()},void 0,o(v.default,{avatarUrl:l,channelId:a.id,channelName:a.toString(),mode:this.state.mode,shouldAnimate:r,supportsVideo:u,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&O.default.move(n,t)},handleDeclineCall:function(){I.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){A.default.selectVoiceChannel(null,this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;A.default.selectVoiceChannel(null,e.id,!0),y.default.transitionToGuild(R.ME,e.id)}}),k=(0,l.default)({displayName:"IncomingCalls",mixins:[u.default.LazyStoreListenerMixin(T.default,S.default,E.default,_.default),d.default],getInitialState:function(){return r({ringingSound:(0,m.createSound)(500===f.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:T.default.getIncomingCalls(),ringing:T.default.hasIncomingCalls(),isFocused:E.default.isFocused(),disableSounds:S.default.disableSounds,theme:_.default.theme}},UNSAFE_componentWillUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(n?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused,a=e.theme;return o(c.default,{component:"div",className:(0,s.default)("theme-"+a,P.default.container)},void 0,f.default.map(t,function(e){return i.createElement(U,r({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||C.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=k,e.exports=t.default},6966:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6));n(5520);var l=f(n(77)),s=f(n(189)),u=f(n(17)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.state={confirmed:!1},a.skipTheTips=function(){u.default.track(d.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:a.props.tutorialId}),null!=a.props.onSkipAll&&a.props.onSkipAll(),s.default.close(a.props.popoutKey)},a.close=function(){a.setState({confirmed:!0},function(){return s.default.close(a.props.popoutKey)})},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.default.track(d.AnalyticEvents.SHOW_TUTORIAL,{tutorial:this.props.tutorialId})},t.prototype.componentWillUnmount=function(){u.default.track(d.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.tutorialId,acknowledged:this.state.confirmed}),null!=this.props.onClose&&this.props.onClose(this.state.confirmed)},t.prototype.render=function(){var e=this.props.tutorialId.replace(/-/g,"_").toUpperCase();return o("div",{className:"tutorial-popout"},void 0,o("header",{className:"title-content"},void 0,o("div",{},void 0,i.default.Messages["TIP_"+e+"_TITLE"])),o("section",{},void 0,o("span",{className:"content"},void 0,i.default.Messages["TIP_"+e+"_BODY"].format()),o("div",{className:"button-area"},void 0,o("div",{className:"skip-tips"},void 0,i.default.Messages.TUTORIAL_SKIP.format({onSkipClick:this.skipTheTips})),o(l.default,{className:"button",onClick:this.close},void 0,i.default.Messages.TUTORIAL_CLOSE))))},t}(r.PureComponent);p.defaultProps={tutorialId:null,onClose:null,onSkipAll:null},p.displayName="TutorialPopout",t.default=p,e.exports=t.default},6967:function(e,t,n){"use strict";(function(a){t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(75),u=E(n(3)),d=E(n(9)),f=E(n(7)),c=E(n(6148)),p=E(n(126)),h=E(n(923)),m=E(n(935)),y=E(n(6354)),v=E(n(6355)),g=E(n(6966)),_=E(n(217));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(5520);var b=function(e){function t(n){S(this,t);var a=T(this,e.call(this,n));return a.state={offsetX:null,offsetY:null,definition:v.default[a.props.tutorialId]},f.default.bindAll(a,["handlePopoutRef","handleSkipTips","handlePopoutClose","renderTutorialPopout"]),a}return C(t,e),t.prototype.componentDidMount=function(){this.updateCache()},t.prototype.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,a=e.y,o=e.targetWidth,r=e.targetHeight,i=e.position,l=e.offset,s=e.offsetPercent;this.props.tutorialId===t&&this.props.x===n&&this.props.y===a&&this.props.targetWidth===o&&this.props.targetHeight===r&&this.props.position===i&&this.props.offset.x===l.x&&this.props.offset.y===l.y&&this.props.offsetPercent.x===s.x&&this.props.offsetPercent.y===s.y||this.updateCache()},t.prototype.updateCache=function(){var e=(0,s.findDOMNode)(this);if(e&&e instanceof HTMLElement){var t=e.offsetWidth,n=e.offsetHeight,a={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2};switch(this.props.position){case"left":a.offsetX=0,a.offsetY=this.props.targetHeight/2;break;case"right":a.offsetX=this.props.targetWidth,a.offsetY=this.props.targetHeight/2;break;case"bottom":a.offsetX=this.props.targetWidth/2,a.offsetY=this.props.targetHeight;break;case"top":default:a.offsetX=this.props.targetWidth/2,a.offsetY=0}var o=this.props.offset.x?this.props.offset.x:0,r=this.props.offset.y?this.props.offset.y:0,i=this.props.offsetPercent.x?this.props.offsetPercent.x:0,l=this.props.offsetPercent.y?this.props.offsetPercent.y:0;a.offsetX+=o+i/100*this.props.targetWidth,a.offsetY+=r+l/100*this.props.targetHeight,this.setState(a)}},t.prototype.handlePopoutRef=function(e){var t=this;this._popout=e,null!=e&&this.props.autoOpen&&a(function(){t._popout&&t._popout.open()})},t.prototype.handleSkipTips=function(){y.default.suppressAll()},t.prototype.handlePopoutClose=function(e){e&&y.default.dismiss(this.props.tutorialId)},t.prototype.renderTutorialPopout=function(e){return l.createElement(g.default,i({},e,{tutorialId:this.props.tutorialId,onSkipAll:this.handleSkipTips,onClose:this.handlePopoutClose}))},t.prototype.render=function(){var e={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},t=this.props.visible,n=!0!==this.state.definition.highPriority?null:r("div",{},void 0,r("div",{className:(0,d.default)("top",{animating:t,"not-animating":!t})}),r("div",{className:(0,d.default)("bottom",{animating:t,"not-animating":!t})})),a={animating:t,"not-animating":!t,highPriority:this.state.definition.highPriority};return l.createElement(_.default,{render:this.renderTutorialPopout,position:this.state.definition.popoutPosition,backdrop:!0,uniqueId:this.props.tutorialId,ref:this.handlePopoutRef},r("div",{className:"indicator",style:e},void 0,r("div",{className:(0,d.default)("animation-container",a)},void 0,n,r("div",{className:(0,d.default)("inner-circle",a)}),r("div",{className:(0,d.default)("outer-circle",a)}))))},t}(l.PureComponent);b.displayName="TutorialIndicator";var N=u.default.connectStores([c.default,m.default,p.default,h.default],function(){return{indicators:c.default.getIndicators(),shouldShowAny:c.default.shouldShowAnyIndicators()&&!m.default.hasLayers(),isFocused:p.default.isFocused()}})(function(e){function t(){return S(this,t),T(this,e.apply(this,arguments))}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,a=e.isFocused;return n?r("div",{className:"tutorial-indicators"},void 0,f.default.map(t,function(e,t){return l.createElement(b,i({key:t,tutorialId:t,visible:a&&!h.default.isOpen(t)},e))})):null},t}(l.Component));t.default=N,e.exports=t.default}).call(this,n(37).setImmediate)},6968:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=I(n(45)),r=I(n(59)),i=I(n(3)),l=I(n(7)),s=I(n(14)),u=I(n(60)),d=I(n(90)),f=I(n(221)),c=I(n(521)),p=I(n(66)),h=I(n(188)),m=I(n(373)),y=I(n(53)),v=I(n(28)),g=I(n(6303)),_=I(n(5972)),E=I(n(17)),S=n(193),T=I(n(18)),C=I(n(128)),b=n(0),N=n(102),O=I(n(227));function I(e){return e&&e.__esModule?e:{default:e}}var A=(0,o.default)({displayName:"AutoAnalytics",mixins:[i.default.StoreListenerMixin(u.default,c.default,p.default,y.default,h.default,g.default,_.default,f.default,O.default),r.default],getStateFromStores:function(){var e=p.default.getVoiceChannelId(),t=null,n=null;if(e){var a=T.default.getChannel(e);null!=a&&(t=a.getGuildId(),n=a.type)}var o=O.default.getPrimaryActivity(),r=y.default.getCurrentGame();return{selectedChannelId:p.default.getChannelId(),selectedGuildId:h.default.getGuildId(),friendsTabSection:g.default.getState().section,homeLink:_.default.getHomeLink(),connected:m.default.isConnected(),selfMute:u.default.isSelfMute(),selfDeaf:u.default.isSelfDeaf(),videoEnabled:u.default.isVideoEnabled(),isScreenSharing:u.default.isScreenSharing(),currentUserSpeaking:c.default.isCurrentUserSpeaking(),currentUserPrioritySpeaking:c.default.isCurrentUserPrioritySpeaking(),anyoneSpeaking:c.default.isAnyoneSpeaking(),anyonePrioritySpeaking:c.default.isAnyonePrioritySpeaking(),voiceChannelId:e,voiceChannelIdJoined:f.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:null!=r?r.gameName:null,runningGamePid:null!=r?r.pid:null,gamePlatform:(0,N.getGamePlatform)(o),gameName:null!=o?o.name:null,gameId:null!=o?o.application_id:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,S.trackWithMetadata)(b.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,o=n.voiceChannelId,r=n.voiceChannelIdJoined,i=n.voiceChannelGuildId,l=n.voiceChannelType,s=n.videoEnabled,d=n.isScreenSharing,c=n.anyoneSpeaking,p=n.runningGame,h=n.runningGamePid,m=n.selectedChannelId,g=n.selectedGuildId,_=n.connected,T=n.homeLink,N=n.friendsTabSection,O=n.currentUserPrioritySpeaking;if(t.currentUserSpeaking!==this.state.currentUserSpeaking&&this.state.currentUserSpeaking&&(0,S.trackWithMetadata)(b.AnalyticEvents.START_SPEAKING,a({mode:u.default.getMode(),priority:O,channel:o,server:i,channel_id:o,guild_id:i},this.getGameMetadata())),t.voiceChannelId!==o&&null!=t.voiceChannelId){var I=y.default.getCurrentGame(),A=null!=I?I.gameName:"";E.default.track(b.AnalyticEvents.LEAVE_VOICE_CHANNEL,a({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:f.default.getRTCConnectionId(),game_name:A,duration:f.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,S.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==r&&null!=r){var M=y.default.getCurrentGame(),R=null!=M?M.gameName:"";null!=r&&E.default.track(b.AnalyticEvents.JOIN_VOICE_CHANNEL,a({channel_id:o,channel_type:l,guild_id:i,rtc_connection_id:f.default.getRTCConnectionId(),game_name:R,game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,S.getVoiceStateMetadata)(i,o,s||d)))}if(t.anyoneSpeaking!==c&&c&&this.trackStartListening(),t.runningGame!==p&&null!=p){var P=v.default.getGameByName(p);if(E.default.track(b.AnalyticEvents.LAUNCH_GAME,{game:p,game_id:null==P?null:P.id,verified:null!=P,game_platform:b.AnalyticsGamePlatforms.DESKTOP,distributor:p.distributor}),v.default.shouldReport(p)){var L=p,w=h;C.default.identifyGame(w,L).then(function(e){return C.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==s||t.isScreenSharing!==d)&&o){var D="none",U=void 0,k=void 0,F=void 0,x=void 0,G=void 0;if(d){D="screen";var B=u.default.getDesktopSource();null!=B&&(U=B.resolution,k=B.frameRate,F=B.soundshareSession,x=y.default.getGameNameForPid(B.sourcePid),G=y.default.getGameIdForPid(B.sourcePid))}else s&&(D="camera");E.default.track(b.AnalyticEvents.VIDEO_INPUT_TOGGLED,a({video_input_type:D,video_input_resolution:U,video_input_frame_rate:k,soundshare_session:F,share_game_name:x,share_game_id:G},this.getGameMetadata(),(0,S.collectVoiceAnalyticsMetadata)(o)))}!_||null==g||g===t.selectedGuildId&&t.connected?!_||null!=g||T!==b.Routes.FRIENDS||t.connected&&N===t.friendsTabSection&&T===t.homeLink||E.default.track(b.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:N}):(0,S.trackWithMetadata)(b.AnalyticEvents.GUILD_VIEWED),!_||null==m||m===t.selectedChannelId&&t.connected||(0,S.trackWithMetadata)(b.AnalyticEvents.CHANNEL_OPENED)},trackStartListening:function(){var e=this;if(null!=this.state.voiceChannelId&&!u.default.isDeaf()){var t=d.default.getVoiceStates(f.default.getGuildId());(0,l.default)(c.default.getSpeakers()).keys().filter(function(e){return e!==s.default.getId()}).map(function(e){return t[e]}).some(function(t){return t&&t.channelId===e.state.voiceChannelId})&&(0,S.trackWithMetadata)(b.AnalyticEvents.START_LISTENING,a({mute:u.default.isMute(),anyone_priority:this.state.anyonePrioritySpeaking,channel:this.state.voiceChannelId,server:this.state.voiceChannelGuildId,channel_id:this.state.voiceChannelId,guild_id:this.state.voiceChannelGuildId},this.getGameMetadata()))}},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_id:this.state.gameId}},render:function(){return null}});t.default=A,e.exports=t.default},6969:function(e,t,n){"use strict";t.__esModule=!0;var a=g(n(1)),o=v(n(3)),r=v(n(7)),i=g(n(517)),l=n(0),s=v(n(60)),u=v(n(221)),d=v(n(521)),f=v(n(90)),c=v(n(12)),p=v(n(27)),h=v(n(18)),m=v(n(66)),y=v(n(924));function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(s.default.getMode()!==l.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(s.default.getMode()!==l.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId){var t=e.voiceChannelUserCount||0,n=this.props.voiceChannelUserCount||0;t>n?!this.isAFK()&&this.playSound("user_leave"):t<n&&!this.isAFK()&&this.playSound("user_join")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},t.prototype.isAFK=function(){var e=h.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=p.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},t.prototype.playSound=function(e){y.default.isSoundDisabled(e)||i.playSound(e,.4)},t.prototype.render=function(){return null},t}(a.PureComponent);_.displayName="SoundPlayer",t.default=o.default.connectStores([s.default,u.default,d.default,f.default,m.default],function(){var e=m.default.getVoiceChannelId(),t=0;if(null!=e){var n=h.default.getChannel(e),a=c.default.getCurrentUser();null!=n&&null!=a&&r.default.forEach(f.default.getVoiceStates(n.getGuildId()),function(n,o){o!==a.id&&n.channelId===e&&t++})}return{userHasBeenMovedVersion:f.default.userHasBeenMovedVersion,selfMute:s.default.isSelfMute(),selfDeaf:s.default.isSelfDeaf(),voiceDisconnected:u.default.isDisconnected(),speaking:d.default.isCurrentUserSpeaking(),tempMuted:s.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:t}})(_),e.exports=t.default},6970:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=v(n(139)),r=v(n(3)),i=v(n(11)),l=v(n(221)),s=v(n(60)),u=v(n(521)),d=v(n(5941)),f=v(n(61)),c=v(n(5998)),p=v(n(924)),h=v(n(355)),m=v(n(358)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=(0,o.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),_=i.default.isOSX(),E=i.default.isLinux(),S=_?null:g.DEFAULT,T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={icon:S},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._updateIcon=function(e){var t=e.deafened,n=e.muted,a=e.speaking,o=e.connected,r=e.unread,i=S;if(!_||o){if(E||!o)return r&&(i=g.UNREAD),void this.setState({icon:i});i=t?g.DEAFENED:n?g.MUTED:a?g.SPEAKING:g.CONNECTED,this.setState({icon:i})}else this.setState({icon:i})},t.prototype.componentDidMount=function(){this._updateIcon(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._updateIcon(e)},t.prototype.componentDidUpdate=function(){i.default.setSystemTrayIcon(this.state.icon)},t.prototype.componentWillUnmount=function(){i.default.setSystemTrayIcon(_?null:S)},t.prototype.render=function(){return null},t}(a.PureComponent);T.displayName="AppTray";var C=function(){return null};i.default.embedded&&(i.default.on("SYSTEM_TRAY_TOGGLE_MUTE",m.default.toggleSelfMute),i.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",m.default.toggleSelfDeaf),i.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){h.default.open(y.UserSettingsSections.VOICE)}),C=r.default.connectStores([l.default,s.default,u.default,d.default,f.default,c.default,p.default],function(){var e=d.default.getTotalMentionCount(),t=d.default.hasAnyUnread(),n=f.default.getPendingCount(),a=c.default.getSuggestionCount(),o=!p.default.getDisableUnreadBadge()&&!!(t||e+n+a>0);return{connected:l.default.isConnected(),speaking:u.default.isCurrentUserSpeaking(),muted:!s.default.isEnabled()||s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:o}})(T)),t.default=C,e.exports=t.default},6972:function(e,t,n){"use strict";t.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=h(n(42)),r=h(n(6971)),i=h(n(3)),l=h(n(11)),s=h(n(5941)),u=h(n(6296)),d=h(n(61)),f=h(n(5998)),c=h(n(924)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=new Set(["Blink","Gecko","WebKit"]),y=p.NOOP,v=p.NOOP;if(l.default.embedded)v=function(e){return l.default.setBadgeDeprecated(e)},y=function(e){return l.default.setBadge(e)};else if(m.has(o.default.layout)){var g=new r.default({animation:"none"});y=v=function(e){try{g.badge(-1===e?"":e)}catch(e){}}}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.cancelBounce=null,a.supportsNewBadges=l.default.supportsFeature("new_app_badge"),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;this.supportsNewBadges?y(t):v(t),n&&!this.cancelBounce?this.cancelBounce=l.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.componentWillUnmount=function(){y(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.render=function(){return null},t}(a.PureComponent);_.displayName="AppBadge";var E=function(){return null};y!==p.NOOP&&(E=i.default.connectStores([s.default,u.default,d.default,f.default,c.default],function(){var e=s.default.getTotalMentionCount(),t=d.default.getPendingCount(),n=f.default.getSuggestionCount(),a=s.default.hasAnyUnread(),o=c.default.getDisableUnreadBadge(),r=e+t+n;return 0===r&&a&&!o&&(r=-1),{badge:r,hasIncomingCalls:u.default.hasIncomingCalls()}})(_)),t.default=E,e.exports=t.default},6973:function(e,t,n){"use strict";t.__esModule=!0;var a=p(n(12)),o=p(n(6175)),r=p(n(6174)),i=p(n(6016)),l=p(n(6538)),s=p(n(34)),u=p(n(921)),d=p(n(6)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5950)),c=p(n(359));function p(e){return e&&e.__esModule?e:{default:e}}var h={promptToUpload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(f.anyFileTooLarge(e)){var h=a.default.getCurrentUser();s.default.push(i.default,{title:d.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:d.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:f.sizeString(f.maxFileSize())}),promo:!c.default.canUploadLargeFiles(h)})}else p?(o.default.pushFiles({files:e,channelId:t}),u.default.isModalOpen(l.default)||s.default.push(l.default,{backdropInstant:n})):r.default.instantBatchUpload(t,e)}};t.default=h,e.exports=t.default},6974:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),N(n(45))),i=N(n(75)),l=N(n(59)),s=N(n(3)),u=N(n(9)),d=n(0),f=N(n(6028)),c=N(n(66)),p=N(n(188)),h=N(n(225)),m=N(n(18)),y=N(n(935)),v=N(n(34)),g=N(n(921)),_=N(n(6)),E=N(n(6973)),S=N(n(938)),T=N(n(6016)),C=N(n(5509)),b=N(n(5522));function N(e){return e&&e.__esModule?e:{default:e}}var O=(0,r.default)({displayName:"UploadArea",mixins:[s.default.StoreListenerMixin(m.default,y.default,c.default,p.default),h.default,l.default,E.default,S.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){return{hasLayers:y.default.hasLayers(),channel:c.default.getChannelId()&&m.default.getChannel(c.default.getChannelId())}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=_.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=_.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var a=null;return t&&(a=o("div",{},void 0,o("div",{className:(0,u.default)(b.default.sparkleWhite,C.default.sparkleOne)}),o("div",{className:(0,u.default)(b.default.sparkleWhite,C.default.sparkleTwo)}),o("div",{className:(0,u.default)(b.default.lightWhite,C.default.lightOne)}),o("div",{className:(0,u.default)(b.default.lightWhite,C.default.lightTwo)}),o("div",{className:(0,u.default)(b.default.crossWhite,C.default.crossOne)}),o("div",{className:(0,u.default)(b.default.crossWhite,C.default.crossTwo)}),o("div",{className:(0,u.default)(b.default.popWhite,C.default.popOne)}))),o("div",{className:(0,u.default)(C.default.uploadArea,(e={},e[C.default.uploadModalIn]=t,e))},void 0,o("div",{className:C.default.uploadDropModal},void 0,a,o("div",{className:C.default.bgScale}),o("div",{className:C.default.inner},void 0,o("div",{className:C.default.icons},void 0,o("div",{className:C.default.wrapOne},void 0,o("div",{className:(0,u.default)(C.default.icon,C.default.one)})),o("div",{className:C.default.wrapThree},void 0,o("div",{className:(0,u.default)(C.default.icon,C.default.three)})),o("div",{className:C.default.wrapTwo},void 0,o("div",{className:(0,u.default)(C.default.icon,C.default.two)}))),o("div",{className:C.default.title},void 0,n),o("div",{className:C.default.instructions},void 0,o("pre",{},void 0,_.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers;return t&&!n&&(t.isPrivate()&&!t.isManaged()||this.can(d.Permissions.ATTACH_FILES,this.state.channel)&&f.default.canChatInGuild(p.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.dataTransfer,a=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),o=null!=n.items&&!this.isAllDropFiles(n.items);return!a&&!o||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),v.default.push(T.default,{title:_.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:_.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=g.default.getModal();n&&n.modal===T.default&&v.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),this.clearTimeout(this.dragOverTimeout),this.dragOverTimeout=this.setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())}});t.default=O,e.exports=t.default},6975:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(9)),l=_(n(505)),s=_(n(260)),u=_(n(26)),d=_(n(77)),f=_(n(58)),c=_(n(217)),p=_(n(157)),h=_(n(112)),m=_(n(939)),y=_(n(6)),v=n(0),g=_(n(5667));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=5,T=4,C=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=E(this,e.call.apply(e,[this].concat(l))),a.renderPartyMember=function(e,t){if(null==e)return null;var n=a.props,r=n.host,l=n.renderUserPopout,u=n.onUserContextMenu,d=void 0;d=r.id===e.id?y.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:y.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;var f=o(s.default,{src:e.getAvatarURL("png"),size:s.default.Sizes.XSMALL,className:(0,i.default)(g.default.clickable,t),onContextMenu:function(t){return null!=u&&null!=e&&u(t,e)}},e.id);return d&&(f=o(h.default,{text:d},void 0,f)),f=o(c.default,{render:function(t){return null!=e&&l(t,e)}},e.id,f)},a.renderPartyMemberOverflow=function(e,t,n){var r=a.props.renderOverflowPopout;return o(c.default,{render:r},n,o(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,o("div",{className:(0,i.default)(t,g.default.clickable)},void 0,e)))},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},t.prototype.renderTitle=function(){return o("div",{className:g.default.textWrap},void 0,o("div",{className:g.default.title},void 0,this.isHost()?y.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):y.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),o("div",{className:g.default.subtitle},void 0,y.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},t.prototype.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:o(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_STOP},void 0,o(d.default,{onClick:e},void 0,o(f.default,{name:f.default.Names.CLOSE,className:g.default.actionIcon})))},t.prototype.renderHelpIcon=function(){return this.isHost()?o(h.default,{text:y.default.Messages.SPOTIFY_LISTEN_ALONG_INFO},void 0,o(p.default,{href:l.default.getArticleURL(v.HelpdeskArticles.SPOTIFY_CONNECTION),className:g.default.iconLink},void 0,o(f.default,{name:f.default.Names.INFO,className:g.default.actionIcon}))):null},t.prototype.render=function(){return o("div",{className:g.default.listeningAlong},void 0,this.renderTitle(),o(u.default,{justify:u.default.Justify.END,className:g.default.party},void 0,o(m.default,{users:this.props.party,max:this.isHost()?S:T,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),o("div",{className:g.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},t}(r.PureComponent);C.displayName="ListeningAlong",t.default=C,e.exports=t.default},6976:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=C(n(1)),l=T(n(7)),s=T(n(3)),u=n(136),d=T(n(233)),f=T(n(12)),c=T(n(61)),p=T(n(553)),h=C(n(389)),m=T(n(6975)),y=T(n(6211)),v=n(35),g=T(n(916)),_=T(n(513)),E=T(n(6)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=b(this,e.call.apply(e,[this].concat(s))),a.handleUserContextMenu=function(e,t){(0,v.openContextMenu)(e,function(e){return i.createElement(g.default,r({},e,{type:S.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},a.renderOverflowPopout=function(){var e=a.props.party;return a.hasParty(e)?o(y.default,{party:e,header:E.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&u.ComponentDispatch.dispatch(S.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},t.prototype.hasParty=function(e){return e.length>1},t.prototype.handleStopListening=function(){h.stopSyncing()},t.prototype.renderUserPopout=function(e,t){return i.createElement(_.default,r({},e,{user:t}))},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.host,a=e.party;return this.hasParty(a)?o(m.default,{currentUser:t,host:n,party:a,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},t}(i.PureComponent);N.displayName="ListeningAlong",t.default=s.default.connectStores([d.default,f.default,p.default],function(){var e=d.default.getSyncingWith(),t=d.default.getActivity(),n=f.default.getCurrentUser(),a=void 0,o=[],r=void 0;return null!=e?(a=f.default.getUser(e.userId),r=e.partyId):null!=t&&null!=t.party&&null!=t.party.id&&(a=n,r=t.party.id),null!=r&&(o=(0,l.default)(Array.from(p.default.getParty(r)||[])).map(function(e){return f.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(e){return null==a||a.id===e.id},function(e){return c.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:n,host:a,party:o}})(N),e.exports=t.default},6978:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r,i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=n(218),d=U(n(3)),f=U(n(6)),c=U(n(26)),p=U(n(217)),h=U(n(112)),m=U(n(6300)),y=U(n(77)),v=U(n(6100)),g=U(n(221)),_=U(n(90)),E=U(n(60)),S=U(n(6297)),T=U(n(18)),C=U(n(66)),b=U(n(27)),N=U(n(6146)),O=U(n(53)),I=U(n(162)),A=U(n(5933)),M=U(n(5997)),R=n(35),P=n(0),L=U(n(974)),w=U(n(6034)),D=U(n(5521));function U(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(0,w.default)((0,L.default)(P.Experiments.EXPERIMENTAL_ADM,"Experimental Audio Subsystem","Enable experimental audio subsystem."),((r={})[P.ExperimentTypes.USER]=((o={})[P.ExperimentBuckets.CONTROL]=function(e){return null},o[P.ExperimentBuckets.TREATMENT_1]=function(e){return null},o),r));var F=d.default.connectStores([g.default],function(){return{connectionState:g.default.getState(),hostname:g.default.getHostname(),pings:g.default.getPings(),averagePing:g.default.getAveragePing(),lastPing:g.default.getLastPing(),outboundLossRate:g.default.getOutboundLossRate()}})(m.default),x=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=k(this,e.call.apply(e,[this].concat(r))),a.renderPopout=function(e){return s.createElement(F,e)},a.handleDisconnect=function(){I.default.selectVoiceChannel(null,null)},a.handleScreenShare=function(e){var t=a.props,n=t.isScreenSharing,o=t.channel,r=O.default.getCurrentGame();n||null!=r?e&&(0,R.openContextMenu)(e,function(e){return s.createElement(v.default,l({},e,{channel:o,game:r}))}):M.default.open(o)},k(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,n=e.channel,a=e.rtcConnectionQuality,o=e.rtcConnectionState,r=e.rtcConnectionLastPing,l=e.hasVideo,s=e.hasGuildVideo,d=e.selectedChannelId,m=e.isScreenSharing;if(null==n)return null;var v=n.toString(!0),g=void 0;null!=t?(g=P.Routes.CHANNEL(t.id,s?n.id:d),v=v+" / "+t.name):g=P.Routes.CHANNEL(P.ME,n.id);var _=i(S.default,{className:s?D.default.status:"",quality:a,state:o,lastPing:r,hasVideo:l}),E=void 0,T=void 0;return s?(_=i(p.default,{closeOnScroll:!1,render:this.renderPopout,position:p.default.Positions.TOP},void 0,i("div",{},void 0,_)),T=i(h.default,{text:m?f.default.Messages.SCREEN_SHARE_OPTIONS:f.default.Messages.SCREEN_SHARE_ON},void 0,i(y.default,{onClick:this.handleScreenShare},void 0,i("div",{className:D.default.buttonScreenShare})))):E=i(p.default,{closeOnScroll:!1,render:this.renderPopout,position:p.default.Positions.TOP},void 0,i(h.default,{text:f.default.Messages.RTC_CONNECTION_INFO},void 0,i("div",{className:D.default.buttonInfo}))),i("div",{className:D.default.container},void 0,i("div",{className:D.default.inner},void 0,_,i(u.Link,{to:g,className:D.default.channel,onClick:function(){return A.default.channelListScrollTo(t?t.id:P.ME,n.id)}},void 0,v)),i(c.default,{grow:0,shrink:0},void 0,E,T,i(h.default,{text:f.default.Messages.DISCONNECT},void 0,i(y.default,{onClick:this.handleDisconnect},void 0,i("div",{className:D.default.buttonDisconnect})))))},t}(s.PureComponent);x.displayName="RTCConnection",t.default=d.default.connectStores([g.default,E.default,b.default,T.default,C.default,_.default,N.default],function(){var e=g.default.getGuildId(),t=g.default.getChannelId();return{rtcConnectionQuality:g.default.getQuality(),rtcConnectionState:g.default.getState(),rtcConnectionLastPing:g.default.getLastPing(),hasVideo:null!=t&&_.default.hasVideo(e,t),isScreenSharing:E.default.isScreenSharing(),guild:b.default.getGuild(e),channel:T.default.getChannel(t),hasGuildVideo:N.default.isAvailable(e),selectedChannelId:C.default.getChannelId(e)}})(x),e.exports=t.default},6981:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=U(n(3)),s=U(n(6)),u=U(n(9)),d=U(n(6302)),f=n(6301),c=U(f),p=n(5945),h=U(p),m=U(n(5962)),y=U(n(5946)),v=U(n(58)),g=U(n(6357)),_=U(n(12)),E=U(n(82)),S=U(n(944)),T=U(n(5972)),C=U(n(515)),b=U(n(18)),N=U(n(922)),O=U(n(61)),I=U(n(5998)),A=U(n(30)),M=U(n(5996)),R=U(n(6029)),P=U(n(63)),L=n(5971),w=n(0),D=U(n(5669));function U(e){return e&&e.__esModule?e:{default:e}}var k=l.default.connectStores([R.default],function(){return{hasSeenDirectory:R.default.hasSeenDirectory}})(function(e){return e.hasSeenDirectory?null:r(y.default,{text:s.default.Messages.NEW,style:{backgroundColor:w.Colors.STATUS_YELLOW}})}),F=l.default.connectStores([O.default,I.default],function(){return{badge:O.default.getPendingCount()+I.default.getSuggestionCount()}})(function(e){var t=e.selected,n=e.badge;return r(f.LinkButton,{selected:t,route:w.Routes.FRIENDS,iconName:v.default.Names.PERSON_WAVING,text:s.default.Messages.FRIENDS},void 0,r(y.default,{value:n}))}),x=l.default.connectStores([b.default,_.default,E.default,S.default],function(e){var t=e.channel,n=_.default.getUser(t.getRecipientId());return{user:n,status:null!=n?E.default.getStatus(n.id):null,activity:null!=n?E.default.getPrimaryActivity(n.id):null,typing:null!=n?S.default.isTyping(t.id,t.getRecipientId()):null}})(c.default);function G(e,t){var n=e.type===w.ChannelTypes.GROUP_DM?c.default:x;return r(n,{channel:e,selected:t},e.id)}G.displayName="renderChannel";var B=l.default.connectStores([A.default,M.default,T.default,P.default,N.default,C.default,b.default],function(){return{shouldShowGamesTab:!A.default.disableGamesTab,hasLibraryApplication:P.default.hasLibraryApplication(),storeLink:M.default.getCurrentPath(),homeLink:T.default.getHomeLink(),selectedChannelId:N.default.getChannelId(w.ME),privateChannelIds:C.default.getPrivateChannelIds(),channels:b.default.getChannels(),version:b.default.getPrivateChannelsVersion()}})(d.default);var j=r(m.default,{onFocus:function(){return(0,L.show)("DM_SEARCH","@")}}),H=r(k,{});t.default=l.default.connectStores([A.default,M.default,T.default,P.default],function(){return{shouldShowGamesTab:!A.default.disableGamesTab,hasLibraryApplication:P.default.hasLibraryApplication(),storeLink:M.default.getCurrentPath(),homeLink:T.default.getHomeLink()}})(function(e){var t,n=e.shouldShowGamesTab,a=e.hasLibraryApplication,l=e.homeLink,d=e.storeLink,c=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["shouldShowGamesTab","hasLibraryApplication","homeLink","storeLink"]);return r("div",{className:D.default.privateChannels},void 0,r(h.default,{tutorialId:"direct-messages",position:p.TutorialIndicatorPositions.RIGHT,offsetY:-18,offsetX:-52},void 0,r("div",{className:D.default.searchBar},void 0,j)),i.createElement(B,o({},c,{renderChannel:G}),n?r(f.LinkButton,{selected:l===w.Routes.ACTIVITY,route:w.Routes.ACTIVITY,iconName:v.default.Names.ACTIVITY,text:s.default.Messages.ACTIVITY}):null,a||n?r(f.LinkButton,{selected:l===w.Routes.GAME_LIBRARY,route:w.Routes.GAME_LIBRARY,iconName:v.default.Names.LIBRARY,text:s.default.Messages.LIBRARY},void 0,r(g.default,{className:(0,u.default)(D.default.downloadProgressCircle,(t={},t[D.default.hideGameUpdateProgressIndicator]=l===w.Routes.GAME_LIBRARY,t))})):null,n?r(f.LinkButton,{selected:null!=l&&l.startsWith(w.Routes.APPLICATION_STORE),route:null==d||location.pathname.startsWith(w.Routes.APPLICATION_STORE)?w.Routes.APPLICATION_STORE:d,locationState:{analyticsSource:{page:function(e){switch(e){case w.Routes.ACTIVITY:return w.AnalyticsPages.ACTIVITY_FEED;case w.Routes.GAME_LIBRARY:return w.AnalyticsPages.LIBRARY;case w.Routes.FRIENDS:return w.AnalyticsPages.FRIENDS_LIST}return e.startsWith(w.Routes.APPLICATION_STORE)?e===w.Routes.APPLICATION_STORE?w.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(w.Routes.APPLICATION_STORE_BROWSE)?w.AnalyticsPages.STORE_DIRECTORY_BROWSE:w.AnalyticsPages.STORE_LISTING:w.AnalyticsPages.DM_CHANNEL}(l),section:w.AnalyticsSections.NAVIGATION,object:w.AnalyticsObjects.NAVIGATION_LINK}},iconName:v.default.Names.STORE,text:s.default.Messages.STORE},void 0,H):null,r(F,{selected:l===w.Routes.FRIENDS}),r("header",{},void 0,s.default.Messages.DIRECT_MESSAGES)))}),e.exports=t.default},6982:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},6983:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},6984:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},6985:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},6986:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},6987:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},6988:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},6989:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},6990:function(e,t,n){e.exports=n.p+"dd9f22c9e2365062db9d5f75c870e5d7.svg"},6991:function(e,t,n){e.exports=n.p+"77abb58874a4aa3b9a6b6efa852430cf.svg"},6992:function(e,t,n){e.exports=n.p+"88ae294007700a195d8ff49d8f5a01ac.svg"},6993:function(e,t,n){e.exports=n.p+"c7e67cd728f25433eb5b7c1f9dba225e.svg"},6994:function(e,t,n){"use strict";t.__esModule=!0,t.validateChatXTag=function(e){if(/^(.+?@.+?\..+?|.+?#\d{4})$/.test(e))return null;if(/^ChatXTag/i.test(e))return r.default.Messages.ADD_FRIEND_ERROR_ChatX_TAG_USERNAME;if(/^\d+$/.test(e))return r.default.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY;if(e.length>0&&-1===e.indexOf("#"))return r.default.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e});return r.default.Messages.ADD_FRIEND_ERROR_OTHER},t.humanizeAbortCode=function(e,t){switch(e){case i.AbortCodes.RELATIONSHIP_INCOMING_DISABLED:return r.default.Messages.ADD_FRIEND_ERROR_INVALID_ChatX_TAG.format({ChatXTag:t});case i.AbortCodes.RELATIONSHIP_INCOMING_BLOCKED:case i.AbortCodes.RELATIONSHIP_INVALID_SELF:case i.AbortCodes.RELATIONSHIP_INVALUD_USER_BOT:case i.AbortCodes.RELATIONSHIP_INVALID_ChatX_TAG:default:return r.default.Messages.ADD_FRIEND_ERROR_OTHER}};var a,o=n(6),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},6995:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(45)),l=h(n(59)),s=h(n(44)),u=h(n(276)),d=n(6994),f=h(n(6)),c=n(0),p=h(n(5674));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"AddFriendInput",mixins:[l.default],getInitialState:function(){return{canSend:!1,hint:""}},handleSubmit:function(e){var t=this;e.preventDefault();var n=this.props.onSubmit,a=this.refs.INPUT_REF.value.trim(),o=(0,d.validateChatXTag)(a);null!=o?n(o):(this.setState({canSend:!1}),u.default.sendRequest(a,{location:"Add Friend"}).then(function(){n(null,f.default.Messages.ADD_FRIEND_SUCCESS.format({ChatXTag:a})),t.refs.INPUT_REF.value="",t.setState(t.getInitialState(),t.focus)},function(e){n((0,d.humanizeAbortCode)(e.body.code,a)),t.setState({canSend:!0})}))},handleChange:function(e){var t=e.currentTarget.value;if(t.length>0){var n=t.split("#")[1];this.setState({hint:t+c.PLACEHOLDER_TAG.slice(null!=n?n.length+1:0),canSend:!0})}else this.setState({hint:"",canSend:!1});this.props.onError&&this.props.onError(null)},handleKeyPress:function(e){var t=e.currentTarget.value;if(13!==e.which){var n=t.indexOf("#");if(n>-1){var a=this.refs.INPUT_REF.selectionStart,o=8===e.which||37===e.which||39===e.which,r=e.which>=48&&e.which<=57;a>n&&/^(.+?#\d{4})$/.test(t)&&!o?e.preventDefault():a>n&&!r&&!o&&e.preventDefault()}}},focus:function(){this.refs.INPUT_REF.focus()},renderHint:function(){return o("div",{className:p.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},render:function(){var e=this.state.canSend;return o("form",{className:p.default.wrapper,onSubmit:this.handleSubmit},void 0,r.createElement("input",{ref:"INPUT_REF",className:p.default.addFriendInput,placeholder:f.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),o(s.default,{size:s.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,f.default.Messages.ADD_FRIEND_BUTTON))}});t.default=m,e.exports=t.default},6996:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=ye(n(1)),l=n(218),s=me(n(45)),u=me(n(516)),d=me(n(9)),f=me(n(356)),c=me(n(7)),p=me(n(3)),h=me(n(91)),m=n(101),y=me(n(5946)),v=me(n(919)),g=me(n(77)),_=n(260),E=me(n(6036)),S=me(n(5927)),T=n(6169),C=me(T),b=me(n(936)),N=me(n(522)),O=me(n(520)),I=n(35),A=me(n(968)),M=me(n(112)),R=me(n(26)),P=me(n(5922)),L=me(n(58)),w=me(n(44)),D=me(n(363)),U=me(n(916)),k=me(n(161)),F=me(n(69)),x=me(n(5959)),G=me(n(6310)),B=me(n(6995)),j=me(n(6303)),H=me(n(5998)),V=me(n(12)),Y=me(n(18)),W=me(n(30)),z=me(n(61)),K=me(n(124)),$=me(n(289)),q=me(n(953)),X=me(n(60)),Q=me(n(40)),J=me(n(11)),Z=me(n(59)),ee=me(n(358)),te=me(n(973)),ne=me(n(276)),ae=me(n(138)),oe=me(n(34)),re=me(n(280)),ie=me(n(6356)),le=me(n(355)),se=ye(n(6215)),ue=n(994),de=n(102),fe=me(n(6)),ce=me(n(156));n(5673);var pe=me(n(504)),he=n(0);function me(e){return e&&e.__esModule?e:{default:e}}function ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var ve={NO_SUGGESTIONS:{lightSrc:n(6993),darkSrc:n(6992),width:403,height:157},NO_CONNECTED_ACCOUNTS:{lightSrc:n(6991),darkSrc:n(6990),width:402,height:201},SECTION_ALL:{lightSrc:n(6989),darkSrc:n(6988),width:376,height:162},SECTION_ONLINE:{lightSrc:n(6987),darkSrc:n(6986),width:421,height:218},SECTION_BLOCKED:{lightSrc:n(6985),darkSrc:n(6984),width:433,height:232},SECTION_PENDING:{lightSrc:n(6983),darkSrc:n(6982),width:415,height:200}},ge=r(u.default,{title:"ChatX"}),_e=function(e){var t=e.style,n=e.hasAccounts,a=e.onDownloadApp,o=e.onConnectAccounts,i=e.theme,l=void 0,s=void 0,u=void 0;return n||J.default.embedded?!n&&J.default.embedded?(u=ve.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_ACCOUNTS,s=r(w.default,{className:pe.default.marginTop20,onClick:o},void 0,fe.default.Messages.CONNECT_ACCOUNTS)):(u=ve.NO_SUGGESTIONS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_SUGGESTION):(u=ve.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_DOWNLOAD,s=r(w.default,{className:pe.default.marginTop20,onClick:a},void 0,fe.default.Messages.DOWNLOAD)),r(ce.default.div,{className:"friends-empty",style:t},void 0,ge,r(P.default,{theme:i},void 0,r(P.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc,theme:i}),r(P.default.Text,{note:l}),s))};_e.displayName="AddFriendEmpty";var Ee=r(u.default,{title:"ChatX"}),Se=r(u.default,{title:"ChatX"}),Te=r(u.default,{title:"ChatX"}),Ce=r(u.default,{title:"ChatX"}),be=(0,s.default)({displayName:"FriendsEmptyState",mixins:[Z.default,p.default.StoreListenerMixin(W.default,$.default)],getInitialState:function(){return{opacity:new ce.default.Value(1)}},getStateFromStores:function(){return{hasAccounts:$.default.getUnsafeAccounts().length>0,accounts:$.default.getAccounts(),theme:W.default.theme}},componentWillEnter:function(e){this.state.opacity.setValue(0),ce.default.timing(this.state.opacity,{toValue:1,duration:250}).start(e)},componentWillLeave:function(e){ce.default.timing(this.state.opacity,{toValue:0,duration:250}).start(e)},handleDownloadApp:function(){oe.default.push(D.default,{source:"Suggestions"})},handleConnectAccounts:function(){le.default.open(he.UserSettingsSections.CONNECTIONS)},render:function(){var e=this.props,t=e.type,n=e.onClick,a=this.state,o=a.theme,i=a.hasAccounts,l=a.accounts,s={opacity:this.state.opacity};switch(t){case he.FriendsSections.ADD_FRIEND:return r(_e,{hasAccounts:i,accounts:l,style:s,onDownloadApp:this.handleDownloadApp,onConnectAccounts:this.handleConnectAccounts,theme:o});case he.FriendsSections.ALL:return r(ce.default.div,{className:"friends-empty section-all",style:s},void 0,Ee,r(P.default,{theme:o},void 0,r(P.default.Image,{width:ve.SECTION_ALL.width,height:ve.SECTION_ALL.height,lightSrc:ve.SECTION_ALL.lightSrc,darkSrc:ve.SECTION_ALL.darkSrc,theme:o}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ALL}),r(w.default,{className:pe.default.marginTop20,onClick:n},void 0,fe.default.Messages.ADD_FRIEND)));case he.FriendsSections.ONLINE:return r(ce.default.div,{className:"friends-empty section-online",style:s},void 0,Se,r(P.default,{theme:o},void 0,r(P.default.Image,{width:ve.SECTION_ONLINE.width,height:ve.SECTION_ONLINE.height,lightSrc:ve.SECTION_ONLINE.lightSrc,darkSrc:ve.SECTION_ONLINE.darkSrc,theme:o}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})));case he.FriendsSections.PENDING:return r(ce.default.div,{className:"friends-empty section-pending",style:s},void 0,Te,r(P.default,{theme:o},void 0,r(P.default.Image,{width:ve.SECTION_PENDING.width,height:ve.SECTION_PENDING.height,lightSrc:ve.SECTION_PENDING.lightSrc,darkSrc:ve.SECTION_PENDING.darkSrc,theme:o}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_PENDING})));case he.FriendsSections.BLOCKED:return r(ce.default.div,{className:"friends-empty section-blocked",style:s},void 0,Ce,r(P.default,{theme:o},void 0,r(P.default.Image,{width:ve.SECTION_BLOCKED.width,height:ve.SECTION_BLOCKED.height,lightSrc:ve.SECTION_BLOCKED.lightSrc,darkSrc:ve.SECTION_BLOCKED.darkSrc,theme:o}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})));default:return null}}}),Ne=function(e){var t=e.guild;return r(M.default,{text:t.toString()},void 0,r(l.Link,{to:he.Routes.GUILD(t.id),onClick:function(e){return e.stopPropagation()}},void 0,r(S.default,{guild:t,textScale:.8,size:S.default.Sizes.SMALL})))};Ne.displayName="MutualGuild";var Oe=function(e){var t=e.num,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["num"]);return i.createElement("div",o({className:"more-mutual-guilds-btn"},n),"+",t)};Oe.displayName="MoreMutualGuildsButton";var Ie=function(e){return r("div",{className:"friends-column friends-column-"+e.column},void 0,e.children)};Ie.displayName="FriendsColumn";var Ae=r("div",{className:"friends-column-separator"}),Me=function(){return Ae};Me.displayName="FriendsColumnSeparator";var Re={getInitialState:function(){return{height:new ce.default.Value(62),opacity:new ce.default.Value(1)}},componentWillEnter:function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:1,duration:200}),ce.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},componentWillLeave:function(e){ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:0,duration:200}),ce.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)}};function Pe(e){var t=e.type,n=e.tooltip,a=e.onClick,o=r(g.default,{onClick:a,className:(0,d.default)("friends-action","friends-action-"+t,null==a?"disabled":null)});return r(M.default,{text:n},void 0,o)}Pe.displayName="Action";var Le=(0,s.default)({displayName:"FriendSuggestionRow",mixins:[Re,Z.default,p.default.StoreListenerMixin(W.default,K.default)],getStateFromStores:function(){return{theme:W.default.theme,hide:K.default.hidePersonalInformation}},handleOpenProfile:function(e){e.stopPropagation();var t=this.props.user;re.default.open(t.id)},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friend Suggestion"})},handleIgnoreFriendSuggestion:function(e){e.stopPropagation();var t=this.props.user;ie.default.ignore(t.id)},render:function(){var e=this.props,t=e.user,n=e.reasons,a=this.state,o=a.hide,i=a.theme,l=void 0;return o||(l=n.map(function(e,t){var n=e.name,a=e.platform_type,o=h.default.get(a);return r("div",{className:"friends-suggestion-platform"},t,r("img",{alt:fe.default.Messages.IMG_ALT_LOGO.format({name:o.icon}),className:"friends-suggestion-platform-icon",src:i===he.ThemeTypes.DARK?o.icon.white:o.icon.grey}),r("span",{className:"friends-suggestion-platform-name"},void 0,n))})),r(ce.default.div,{className:"friends-row",onClick:this.handleOpenProfile,style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:"friends-suggestion-inner"},void 0,r(v.default,{user:t,size:_.AvatarSizes.LARGE}),r("div",{className:"friends-suggestion-info"},void 0,r(O.default,{user:t}),r("div",{className:"friends-suggestion-platforms"},void 0,l))),r("div",{className:"friends-column friends-column-actions friends-column-actions-visible"},void 0,r(Pe,{type:"add",tooltip:fe.default.Messages.SEND_FRIEND_REQUEST,onClick:this.handleAddRelationship}),r(Pe,{type:"ignore",tooltip:fe.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleIgnoreFriendSuggestion})))}}),we=(0,s.default)({displayName:"FriendRow",mixins:[Re,Z.default],handleOpenProfile:function(e){e.stopPropagation(),re.default.open(this.props.user.id)},handleOpenPrivateChannel:function(e){e.stopPropagation();var t=this.props.user,n=c.default.find(Y.default.getChannels(),function(e){return e.type===he.ChannelTypes.DM&&e.getRecipientId()===t.id});null!=n?Q.default.transitionTo(he.Routes.CHANNEL(he.ME,n.id)):ae.default.openPrivateChannel(V.default.getCurrentUser().id,t.id)},handleRemoveFriend:function(e){var t=this;e.stopPropagation(),oe.default.push(function(e){return i.createElement(k.default,o({header:fe.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:fe.default.Messages.REMOVE_FRIEND,cancelText:fe.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),r(F.default,{size:F.default.Sizes.MEDIUM,color:F.default.Colors.PRIMARY},void 0,fe.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friends"})},handleRemoveRelationship:function(e){e&&e.stopPropagation(),ne.default.removeRelationship(this.props.user.id,{location:"Friends"})},handleContextMenu:function(e,t){(0,I.openContextMenu)(e,function(e){return i.createElement(U.default,o({},e,{type:he.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},handleVideoCall:function(e){ee.default.setVideoEnabled(!0),this.handleVoiceCall(e)},handleVoiceCall:function(e){e.stopPropagation(),ae.default.openPrivateChannel(V.default.getCurrentUser().id,this.props.user.id,!0)},renderActivity:function(e){return r(R.default,{align:R.default.Align.CENTER},void 0,r("div",{className:"friend-activity-text"},void 0,(0,de.renderActivity)(e)),(0,de.hasRichActivity)(e)&&r(L.default,{name:L.default.Names.RICH_ACTIVITY,className:"friend-activity-icon",foreground:"friend-activity-icon-foreground"}))},render:function(){var e=this,t=this.props,n=t.user,a=t.type,o=t.mutualGuilds,i=t.mutualGuildsLength,l=t.activity,s=t.video,u=[],f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u.push(r(Pe,{type:e,tooltip:t,onClick:n},u.length))},c=this.props.status,p=null!=l?this.renderActivity(l):(0,ue.humanizeStatus)(this.props.status),h=!0;switch(a){case he.RelationshipTypes.FRIEND:h=!1,s&&f("video-call",fe.default.Messages.START_VIDEO_CALL,this.handleVideoCall),f("voice-call",fe.default.Messages.START_VOICE_CALL,this.handleVoiceCall),f("remove",fe.default.Messages.REMOVE_FRIEND,this.handleRemoveFriend);break;case he.RelationshipTypes.BLOCKED:c=he.StatusTypes.UNKNOWN,p=fe.default.Messages.BLOCKED,f("remove",fe.default.Messages.UNBLOCK,this.handleRemoveRelationship);break;case he.RelationshipTypes.PENDING_INCOMING:c=c===he.StatusTypes.OFFLINE?he.StatusTypes.UNKNOWN:c,p=fe.default.Messages.INCOMING_FRIEND_REQUEST,f("accept",fe.default.Messages.FRIEND_REQUEST_ACCEPT,this.handleAddRelationship),f("ignore",fe.default.Messages.FRIEND_REQUEST_IGNORE,this.handleRemoveRelationship);break;case he.RelationshipTypes.PENDING_OUTGOING:h=!1,c=c===he.StatusTypes.OFFLINE?he.StatusTypes.UNKNOWN:c,p=fe.default.Messages.OUTGOING_FRIEND_REQUEST,f("cancel",fe.default.Messages.FRIEND_REQUEST_CANCEL,this.handleRemoveRelationship)}var m=void 0;return i>he.MAX_MUTUAL_GUILDS&&(m=r(Oe,{num:i-he.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),r(ce.default.div,{className:"friends-row",onClick:this.handleOpenPrivateChannel,onContextMenu:function(t){return e.handleContextMenu(t,n)},style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:"friends-column friends-column-name"},void 0,r(v.default,{user:n}),r(O.default,{user:n})),r("div",{className:"friends-column friends-column-status"},void 0,r(E.default,{className:"status",defaultStatus:(0,de.isStreaming)(this.props.activity)?he.StatusTypes.STREAMING:c}),r("span",{className:"status-text"},void 0,p)),r("div",{className:"friends-column friends-column-guilds"},void 0,o.map(function(e){return r(Ne,{guild:e},e.id)}),m),r("div",{className:(0,d.default)("friends-column friends-column-actions",{"friends-column-actions-visible":h})},void 0,u))}}),De=r(Me,{}),Ue=r(Me,{}),ke=r(Me,{}),Fe=r(Ie,{column:"actions"}),xe=function(){return r("div",{className:"friends-table-header"},void 0,r(Ie,{column:"name"},void 0,fe.default.Messages.FRIENDS_COLUMN_NAME),De,r(Ie,{column:"status"},void 0,fe.default.Messages.FRIENDS_COLUMN_STATUS),Ue,r(Ie,{column:"guilds"},void 0,fe.default.Messages.MUTUAL_GUILDS),ke,Fe)};xe.displayName="FriendsTableHeader";var Ge=(0,s.default)({displayName:"AddFriendHeader",mixins:[p.default.StoreListenerMixin(q.default)],getInitialState:function(){return{addFriendError:null,addFriendSuccess:null}},getStateFromStores:function(){return{availablePlatformTypes:q.default.getAvailablePlatformTypes().filter(function(e){return e!==he.PlatformTypes.FACEBOOK})}},handleAddFriendSubmit:function(e,t){this.setState({addFriendError:e,addFriendSuccess:t})},render:function(){var e=this.state,t=e.availablePlatformTypes,n=e.addFriendSuccess,a=e.addFriendError,o=void 0;t.length>0&&(o=r("div",{className:"connect-accounts"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.CONNECT_ACCOUNTS_TITLE),r("h3",{},void 0,fe.default.Messages.CONNECT_ACCOUNTS_DESCRIPTION),r("div",{className:"connect-account-btn-group"},void 0,t.slice(0,4).map(function(e){return r(A.default,{type:e,location:"Friends"},e)}))));var i=!1,l=!1,s=fe.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=n?(i=!0,s=n):null!=a&&(l=!0,s=a),r("div",{className:"friend-table-add-wrapper"},void 0,r("div",{className:"friend-table-add-header"},void 0,r("div",{className:"friends-table-add"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.ADD_FRIEND),r("div",{className:(0,d.default)("friend-table-add-description",{success:i,error:l})},void 0,s),r(B.default,{onSubmit:this.handleAddFriendSubmit})),o),r("div",{className:"friend-table-suggestions-header"},void 0,r("h2",{className:"old-h2"},void 0,fe.default.Messages.FRIEND_SUGGESTIONS)))}}),Be=r(Ge,{}),je=r(xe,{}),He=r(T.TabBarSeparator,{}),Ve=r(T.TabBarSeparator,{}),Ye=(0,s.default)({displayName:"Friends",mixins:[Z.default,p.default.StoreListenerMixin(j.default,H.default,z.default)],getStateFromStores:function(){return o({suggestionCount:H.default.getSuggestionCount(),relationshipCount:z.default.getRelationshipCount(),suggestions:H.default.getSuggestions(),video:X.default.supports(m.Features.VIDEO)},j.default.getState())},componentDidMount:function(){se.setHomeLink(he.Routes.FRIENDS)},handleItemSelect:function(e){te.default.setSection(e)},handleAddFriend:function(){te.default.setSection(he.FriendsSections.ADD_FRIEND)},renderHeaderToolbar:function(){return r(G.default,{tooltip:fe.default.Messages.NEW_GROUP_DM})},render:function(){var e=this.state,t=e.section,n=e.suggestions,a=e.rows,l=e.video,s=e.suggestionCount,u=e.pendingCount,c=e.relationshipCount,p=void 0,h=void 0;t===he.FriendsSections.ADD_FRIEND?(p=n.map(function(e){return i.createElement(Le,e)}),h=Be):(p=a.filter(t).map(function(e){return i.createElement(we,o({},e.toJS(),{video:l}))}),h=je);var m=0===p.length?[r(be,{type:t,onClick:this.handleAddFriend},t)]:p;return m=c>=64?r(N.default,{className:"friends-table-body",elementHeight:62},void 0,m):r(b.default,{className:"friends-table-body"},void 0,r(f.default,{transitionAppear:!1,component:"div"},void 0,m)),r("div",{id:"friends"},void 0,r(x.default,{renderToolbar:this.renderHeaderToolbar},void 0,r(C.default,{selectedItem:this.state.section,type:T.TabBarTypes.UNIQUE,onItemSelect:this.handleItemSelect,className:(0,d.default)({"tab-bar-desktop":J.default.isDesktop()})},void 0,r(T.TabBarItem,{className:"tab-bar-item-primary"},he.FriendsSections.ADD_FRIEND,fe.default.Messages.FRIENDS_SECTION_ADD_FRIEND," ",r(y.default,{value:s,className:"badge"})),He,r(T.TabBarItem,{},he.FriendsSections.ALL,fe.default.Messages.FRIENDS_SECTION_ALL),r(T.TabBarItem,{},he.FriendsSections.ONLINE,fe.default.Messages.FRIENDS_SECTION_ONLINE),r(T.TabBarItem,{},he.FriendsSections.PENDING,fe.default.Messages.FRIENDS_SECTION_PENDING," ",r(y.default,{value:u})),Ve,r(T.TabBarItem,{},he.FriendsSections.BLOCKED,fe.default.Messages.BLOCKED))),r("div",{className:"friends-table"},void 0,h,m))}});t.default=Ye,e.exports=t.default},6997:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},6998:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},6999:function(e,t,n){"use strict";var a,o;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(190)),s=d(n(5929)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.getExperimentId=function(){return u.Experiments.CHAT_CLAIM_MODAL},t.prototype.getMetaData=function(){return{title:"Chat Claim Experiment",description:["Control: Off","Treatment 1: On"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t.prototype.shouldAllowUnclaimedChat=function(){var e=this.getExperimentDescriptor();return null!=e&&(e.override||s.default.trigger(e),e.bucket===u.ExperimentBuckets.TREATMENT_1)},t}(r.default.Store))(i.default);s.default.register(f,((o={})[u.ExperimentTypes.USER]=((a={})[u.ExperimentBuckets.CONTROL]=function(){return null},a[u.ExperimentBuckets.TREATMENT_1]=function(){return null},a),o)),t.default=f,e.exports=t.default},7000:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},7001:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},7002:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=v(n(56)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),v(n(45))),l=v(n(59)),s=v(n(3)),u=v(n(6529)),d=v(n(6050)),f=v(n(6)),c=v(n(6049)),p=v(n(357)),h=v(n(6545)),m=v(n(12)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var g=(0,i.default)({displayName:"ChannelPins",propTypes:{channel:r.default.object.isRequired,onJump:r.default.func},mixins:[s.default.StoreListenerMixin(u.default,p.default),l.default],fetchPins:function(e){d.default.ackPins(e.id),d.default.fetchPins(e.id)},UNSAFE_componentWillUpdate:function(e,t){t.hasUnreadPins&&!this.state.hasUnreadPins&&d.default.ackPins(this.props.channel.id)},getStateFromStores:function(){var e=u.default.getPinnedMessages(this.props.channel.id),t=p.default.hasUnreadPins(this.props.channel.id);return{messages:e&&e.messages,loading:!e||!e.messages||e.loading,hasUnreadPins:t}},handleUnpin:function(e,t){null!=e&&(t.shiftKey?d.default.unpinMessage(this.props.channel,e.id):c.default.confirmUnpin(this.props.channel,e))},getProTip:function(){var e=this.props.channel,t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL;if(e.isPrivate())if(e.type===y.ChannelTypes.DM){var n=m.default.getUser(e.getRecipientId()).username;t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:n})}else t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM;return t},renderEmptyState:function(e){var t=f.default.Messages.NO_PINS_IN_CHANNEL;this.props.channel.isPrivate()&&(t=f.default.Messages.NO_PINS_IN_DM);var a=e===y.ThemeTypes.LIGHT?n(7001):n(7e3);return o(h.default.EmptyStateCenter,{msg:t,image:a})},renderHeader:function(){return o(h.default.Header,{title:f.default.Messages.PINNED_MESSAGES})},render:function(){var e=this.state,t=e.messages,n=e.loading;return o(h.default,{onFetch:this.fetchPins,channel:this.props.channel,messages:t,loading:n,analyticsName:"Channel Pins",onCloseMessage:this.handleUnpin,onJump:this.props.onJump,getProTip:this.getProTip,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})}});t.default=g,e.exports=t.default},7003:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(45)),s=C(n(59)),u=C(n(3)),d=C(n(6)),f=C(n(18)),c=C(n(66)),p=C(n(6005)),h=C(n(217)),m=C(n(5974)),y=C(n(58)),v=C(n(112)),g=C(n(7002)),_=C(n(923)),E=C(n(189)),S=C(n(357)),T=n(0);function C(e){return e&&e.__esModule?e:{default:e}}var b="CHANNEL_PINS_POPOUT",N=(0,l.default)({displayName:"ChannelPinsButtons",mixins:[s.default,u.default.StoreListenerMixin(_.default,f.default,S.default,c.default,p.default)],getStateFromStores:function(){var e=c.default.getChannelId(),t=f.default.getChannel(e);return{disabled:null==t||t.isNSFW()&&!p.default.didAgree(t.getGuildId()),open:_.default.isOpen(b),hasUnread:S.default.hasUnreadPins(e),channelId:e}},UNSAFE_componentWillUpdate:function(e,t){this.state.open&&t.channelId!==this.state.channelId&&E.default.close(b)},onJump:function(e){e.shiftKey||E.default.close(b)},renderChannelPinsPopout:function(e){return i.createElement(g.default,r({},e,{onJump:this.onJump,channel:f.default.getChannel(this.state.channelId)}))},render:function(){var e=this.state.disabled,t=o(v.default,{text:d.default.Messages.PINNED_MESSAGES,position:v.default.Positions.BOTTOM},void 0,o(m.default.Icon,{name:y.default.Names.PIN,disabled:e,showBadge:this.state.hasUnread}));return e?t:o(h.default,{animationType:h.default.Animations.NONE,uniqueId:b,position:h.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderChannelPinsPopout,subscribeTo:T.ComponentActions.TOGGLE_CHANNEL_PINS,closeOnScroll:!1,zIndexBoost:-1},void 0,t)}});t.default=N,e.exports=t.default},7004:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(45))),i=h(n(3)),l=h(n(6)),s=n(0),u=h(n(5974)),d=h(n(58)),f=h(n(112)),c=h(n(6047)),p=h(n(6307));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.default)({displayName:"ChannelMembersButton",mixins:[i.default.StoreListenerMixin(c.default)],getStateFromStores:function(){return{section:c.default.getSection()}},handleClick:function(){p.default.toggleSection(s.ChannelSections.MEMBERS)},render:function(){return o(f.default,{text:l.default.Messages.MEMBER_LIST,position:f.default.Positions.BOTTOM},void 0,o(u.default.Icon,{name:d.default.Names.PEOPLE,onClick:this.handleClick,active:this.state.section===s.ChannelSections.MEMBERS}))}});t.default=m,e.exports=t.default},7005:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(42)),l=s(n(156));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)},{scale:e.scale.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}}var f=o("div",{className:"search-index-background"}),c=o("defs",{},void 0,o("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),p=o("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,o("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),o("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),o("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),o("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),o("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),o("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),o("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),h=o("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),m=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),y=o("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),v=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),g=o("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),_=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),E=o("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=o("path",{d:"M84 66h130v130H84z"}),T=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=u(this,e.call.apply(e,[this].concat(r))),a.state={x:new l.default.Value(0),y:new l.default.Value(0),scale:new l.default.Value(1)},a._isMounted=!1,a.shouldLoop=function(){return a._isMounted},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){this._isMounted=!0},t.prototype.componentDidMount=function(){var e=this.state,t=e.x,n=e.y,a=e.scale;"Firefox"!==i.default.name&&(l.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(a,{loop:!0,toValueMin:.9,toValueMax:1.1,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){return o("div",{className:"search-index-animation"},void 0,f,o("svg",{className:"search-index-foreground",width:"320",height:"280"},void 0,c,o("g",{fill:"none",fillRule:"evenodd"},void 0,o("g",{transform:"translate(120 80)"},void 0,o("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,o(l.default.use,{style:d(this.state),className:"mask",xlinkHref:"#search-index-foreground-mask-a"})),p),o(l.default.g,{className:"magnifying-glass",style:d(this.state)},void 0,h,m,y,v,g,_,E,S))))},t}(r.Component);T.displayName="SearchIndexForeground",t.default=T,e.exports=t.default},7006:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=F(n(56)),l=k(n(1)),s=F(n(45)),u=F(n(59)),d=F(n(9)),f=F(n(18)),c=F(n(40)),p=F(n(217)),h=F(n(112)),m=F(n(262)),y=F(n(157)),v=F(n(77)),g=F(n(930)),_=F(n(6008)),E=F(n(6)),S=F(n(3)),T=F(n(137)),C=k(n(6168)),b=F(n(266)),N=F(n(268)),O=F(n(5957)),I=F(n(66)),A=F(n(30)),M=F(n(61)),R=F(n(193)),P=F(n(505)),L=F(n(7)),w=F(n(7005)),D=n(0);n(5678);var U=F(n(5677));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j="HIT_REF",H=function(e){var t=e.searchNext,n=e.searchPrevious,a=e.offset,o=e.totalResults,i=e.pageLength,l=Math.ceil(o/i),s=a/i+1,u=s.toLocaleString(),f=l.toLocaleString();if(1===l)return null;var c=s>1,p=s<l;return r("div",{className:"pagination"},void 0,r(v.default,{onClick:c?n:null,className:(0,d.default)("pagination-previous",{disabled:!c}),"aria-label":E.default.Messages.PAGINATION_PREVIOUS}),E.default.Messages.PAGINATION_PAGE_OF.format({page:u,totalPages:f}),r(v.default,{onClick:p?t:null,className:(0,d.default)("pagination-next",{disabled:!p}),"aria-label":E.default.Messages.PAGINATION_NEXT}))};H.displayName="Pagination";var V=r("div",{className:"spinner-wrapper"},void 0,r(g.default,{type:"spinning-circle"})),Y=function(e){var t=e.searchMode,n=e.searchByMode,a=e.totalResults,o=e.isSearching,i=e.isIndexing,l=e.documentsIndexed,s=(0,L.default)(D.SearchModes).values().map(function(e){var a=void 0;switch(e){case D.SearchModes.RECENT:a=E.default.Messages.SEARCH_RECENT;break;case D.SearchModes.RELEVANT:a=E.default.Messages.SEARCH_RELEVANT;break;default:a=null}return r(v.default,{className:(0,d.default)("tab",{selected:t===e}),onClick:n.bind(null,e)},e,a)}).value(),u=void 0;if(o)u=E.default.Messages.SEARCHING;else if(i)u=r(y.default,{href:P.default.getArticleURL(D.HelpdeskArticles.SEARCH_INDEXING)},void 0,E.default.Messages.STILL_INDEXING);else{var f=a.toLocaleString();u=E.default.Messages.TOTAL_RESULTS.format({count:f})}var c=void 0;return(i||o)&&(c=V),i&&!o&&(u=r(h.default,{text:E.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:l})},void 0,r("div",{className:"total-results-wrapper"},void 0,u,c)),c=null),r("div",{className:"search-header"},void 0,r("div",{className:"total-results"},void 0,u,c),s)};Y.displayName="SearchHeader";var W=function(e){function t(){var n,a;x(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=G(this,e.call.apply(e,[this].concat(r))),a.autoAnalytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=a.props.searchAnalyticsId){var t=0,n=0,o=0,r=0;a.props.searchResults&&(0,L.default)(a.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var a=e.message;a.content&&(t++,/https?:\/\/[^\s]+/.test(a.content)&&r++),a.embeds&&a.embeds.length&&o++,a.attachments&&a.attachments.length&&n++}),R.default.trackWithMetadata("search_result_viewed",{search_id:a.props.searchAnalyticsId,prev_search_id:e!==a.props.searchAnalyticsId?e:null,is_error:a.props.searchHasError,limit:a.props.searchLimit,offset:a.props.searchOffset,page:Math.floor(a.props.searchOffset/a.props.searchLimit)+1,total_results:a.props.searchTotalResults,page_results:a.props.searchResults?a.props.searchResults.length:null,is_indexing:a.props.searchIsIndexing,page_num_messages:t,page_num_links:r,page_num_embeds:o,page_num_attach:n})}},G(a,n)}return B(t,e),t.prototype.componentDidMount=function(){this.autoAnalytics()},t.prototype.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},t.prototype.render=function(){return null},t}(l.Component);W.displayName="SearchResultsViewedAutoAnalytics";var z=function(e){var t=e.children;return r("div",{className:"empty-results-wrap"},void 0,r("div",{className:"empty-results-content"},void 0,t))};z.displayName="EmptyResults";var K=function(e){function t(){var n,a;x(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=G(this,e.call.apply(e,[this].concat(i))),a.state={expanded:!1},a.getDOMRect=function(e){return e.getClientRects()[0]},a.fixScroll=function(){a.state.expanded;var e=a._height;a._height=a.getDOMRect(a.refs[j]).top;var t=a.props.scrollTo;t(e-a._height)},a.renderControlButtons=function(e){var t=e.messages[0];return r("div",{className:"action-buttons"},void 0,r(v.default,{className:"jump-button",onClick:a.props.onJump.bind(null,t)},void 0,E.default.Messages.JUMP))},a.expand=function(){a.setState(function(e){var t=!e.expanded;return t&&R.default.trackWithMetadata("search_result_expanded",{message_id:a.props.result.filter(function(e){return e.hit})[0].message.id,search_id:O.default.getAnalyticsId(a.props.searchId),limit:D.SEARCH_PAGE_SIZE,offset:a.props.searchOffset,page:Math.floor(a.props.searchOffset/D.SEARCH_PAGE_SIZE)+1,page_results:a.props.pageResultsLength,result_index:a.props.index}),{expanded:t}})},G(a,n)}return B(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expanded!==t.expanded&&(this._height=this.getDOMRect(this.refs[j]).top)},t.prototype.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},t.prototype.render=function(){var e=this,t=this.state.expanded,n=this.props,a=n.result,o=n.developerMode,i=n.renderEmbeds,s=!0,u=a.map(function(t,n){var u=t.message,c=t.hit,h=f.default.getChannel(u.channel_id),m=!(s=s&&!c)&&!c,y=void 0;return!c&&s&&a[n+1].hit?y=!0:c||s||!a[n-1].hit||(y=!0),null==h?null:l.createElement("div",{ref:c?j:null,className:(0,d.default)("search-result-message",{hit:c,sibling:y,before:s,after:m}),key:u.id},r(_.default,{className:U.default.messageGroupCozy,messages:[u],channel:h,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:i,renderEmbedsSmall:!0,developerMode:o,popoutPosition:p.default.Positions.LEFT,groupOption:c?e.renderControlButtons:null,onClickAnywhere:e.expand,disableInteractionLabel:E.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return l.createElement("div",{ref:"MESSAGE_REF",className:(0,d.default)("search-result",{expanded:t})},u)},t}(l.PureComponent);K.displayName="SearchResult";var $=r("div",{className:"results-blocked-image"}),q=r(w.default,{}),X=r("div",{className:"error-image"}),Q=(0,s.default)({displayName:"SearchResults",mixins:[u.default,S.default.LazyStoreListenerMixin(O.default,A.default)],propTypes:{searchId:i.default.string.isRequired},getInitialState:function(){return o({searchMode:D.SearchModes.RECENT},this.getStateFromStores())},getStateFromStores:function(){var e=this.props.searchId;return this.getStateForSearchId(e)},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.searchId;e.searchId!==t&&this.setState(this.getStateForSearchId(e.searchId))},componentDidUpdate:function(e,t){var n=t.showBlockedResults;if(this.state.showBlockedResults!==n){var a=this.refs.SCROLLER_REF;if(!a)return;a.scrollToBottom()}},getStateForSearchId:function(e){return o({searchId:e,theme:A.default.theme,renderEmbeds:A.default.renderEmbeds,developerMode:A.default.developerMode,searchAnalyticsId:O.default.getAnalyticsId(e)},O.default.getResultsState(e))},jumpToMessage:function(e){if(e.blocked)b.default.show({title:E.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:E.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:E.default.Messages.OKAY});else{var t=f.default.getChannel(e.channel_id),n=t?t.getGuildId():null;T.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:O.default.getAnalyticsId(this.state.searchId)}),c.default.transitionTo(D.Routes.MESSAGE(n,e.channel_id,e.id))}},selectChannel:function(e){e!==I.default.getChannelId()&&N.default.transitionToInviteChannelSync(e)},searchPrevious:function(){var e=this.props.searchId;this.state.isSearching||C.searchPreviousPage(e)},searchNext:function(){var e=this.props.searchId;this.state.isSearching||C.searchNextPage(e)},searchByMode:function(e){var t=this.props.searchId,n=this.state,a=n.searchMode,o=n.isSearching;e===a||o||(R.default.trackWithMetadata("search_result_sort_changed",{search_id:O.default.getAnalyticsId(this.props.searchId),new_sort_type:e}),C.searchByMode(t,e),this.setState({searchMode:e}))},toggleShowBlockedMessages:function(){var e=this.state,t=e.searchId,n=e.showBlockedResults;C.setShowBlockedResults(t,!n)},renderHeader:function(){var e=this.state,t=e.searchMode,n=e.totalResults,a=e.isSearching,o=e.isHistoricalIndexing,i=e.documentsIndexed;return r(Y,{searchMode:t,searchByMode:this.searchByMode,totalResults:n,isSearching:a,isIndexing:o,documentsIndexed:i})},renderResults:function(){var e=this,t=this.state,n=t.results,a=t.offset,o=t.renderEmbeds,i=t.developerMode,l=t.totalResults,s=t.isSearching,u=t.showBlockedResults;if(!n)return null;var d=[],c=void 0,p=n.length;n.forEach(function(t,n){var a=t.find(function(e){return e.hit});if(u||!a||!M.default.isBlocked(a.message.author.id)){var l=f.default.getChannel(t[0].message.channel_id),s=void 0;!l||c&&c.id===l.id||(s=r("div",{className:"channel-separator"},"channel-separator-"+n,r(v.default,{tag:"span",className:"channel-name",onClick:e.selectChannel.bind(null,l.id)},void 0,l?l.toString(!0):"???")));var h=r(K,{scrollTo:e.scrollTo,searchId:e.props.searchId,renderEmbeds:o,developerMode:i,searchOffset:e.state.offset,pageResultsLength:p,result:t,index:n,onJump:e.jumpToMessage},"search-result-"+n);d.push(s,h),c=l}});var h=void 0;return s||(h=r(H,{searchPrevious:this.searchPrevious,searchNext:this.searchNext,offset:a,totalResults:l,pageLength:D.SEARCH_PAGE_SIZE})),r("div",{className:"results-wrapper"},void 0,r("div",{className:"search-results"},void 0,d,this.renderResultsBlocked()),h)},renderResultsBlocked:function(){var e=this.state,t=e.resultsBlocked,n=e.showBlockedResults;if(!t)return null;var a=n?E.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:t}):E.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:t});return r("button",{className:"results-blocked",onClick:this.toggleShowBlockedMessages},void 0,$,r("div",{className:"results-blocked-text"},void 0,a))},renderIndexing:function(){var e=O.default.getSearchType(this.props.searchId)===D.SearchTypes.GUILD?E.default.Messages.SEARCH_GUILD_STILL_INDEXING:E.default.Messages.SEARCH_DM_STILL_INDEXING;return r(z,{},void 0,q,r("div",{className:"empty-results-text still-indexing"},void 0,e))},renderNoResults:function(){var e=this.state.showNoResultsAlt,t=e?E.default.Messages.SEARCH_NO_RESULTS_ALT:E.default.Messages.SEARCH_NO_RESULTS;return r(z,{},void 0,r("div",{className:(0,d.default)("no-results-image",{alt:e})}),r("div",{className:(0,d.default)("empty-results-text no-results",{alt:e})},void 0,t))},renderError:function(){return r(z,{},void 0,X,r("div",{className:"empty-results-text error-message"},void 0,E.default.Messages.SEARCH_ERROR))},renderContent:function(){var e=this.state,t=e.totalResults,n=e.isSearching,a=e.isIndexing;return e.hasError?this.renderError():a?this.renderIndexing():n?null:t?this.renderResults():this.renderNoResults()},render:function(){return r("div",{className:"search-results-wrap"},void 0,this.renderHeader(),l.createElement(m.default,{ref:"SCROLLER_REF",theme:m.default.Themes.GHOST,backgroundColor:this.state.theme===D.ThemeTypes.LIGHT?D.Colors.PRIMARY_100:D.Colors.CHANNELS_GREY,track:!0},this.renderContent()),r(W,{searchAnalyticsId:this.state.searchAnalyticsId,searchResults:this.state.results,searchOffset:this.state.offset,searchLimit:D.SEARCH_PAGE_SIZE,searchHasError:this.state.hasError,searchTotalResults:this.state.totalResults,searchIsIndexing:this.state.isHistoricalIndexing}))},scrollTo:function(e){var t=this.refs.SCROLLER_REF;if(t){var n=t.getScrollData().scrollTop-e;t.scrollTo(n)}}});t.default=Q,e.exports=t.default},7007:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6009)),u=n(101),d=O(n(7)),f=O(n(374)),c=O(n(90)),p=O(n(60)),h=O(n(61)),m=O(n(362)),y=O(n(284)),v=O(n(162)),g=O(n(34)),_=(O(n(125)),n(0)),E=O(n(6101)),S=O(n(6)),T=O(n(5974)),C=O(n(58)),b=O(n(112)),N=O(n(363));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return d.default.bindAll(a,["handleStartCall","handleJoinCall","handleVoiceClick","handleStartVideoCall","handleJoinVideoCall","handleBrowserNotSupported","handleDownloadApps"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,a=e.callUnavailable,o=e.channel,i=e.mode;if(t||n&&i===_.ChannelModes.VOICE)return null;var l=o.isManaged(),s=void 0,d=!1,f=void 0;return p.default.supports(u.Features.VIDEO)?n&&i===_.ChannelModes.VIDEO?(f=this.handleJoinVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.JOIN_VIDEO_CALL):(f=this.handleStartVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.START_VIDEO_CALL):(d=!0,f=this.handleBrowserNotSupported,s=S.default.Messages.BROWSER_NOT_SUPPORTED),r(b.default,{text:s,position:b.default.Positions.BOTTOM},void 0,r(T.default.Icon,{name:C.default.Names.VIDEO_CAMERA,onClick:f,disabled:d||a}))},t.prototype.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,a=e.callUnavailable,o=e.channel;if(t)return null;var i=o.isManaged(),l=void 0,s=void 0,u=!1;return a?(l=i?S.default.Messages.VOICE_UNAVAILABLE:S.default.Messages.CALL_UNAVAILABLE,s=b.default.Colors.RED,u=!0):l=n?i?S.default.Messages.CONNECT:S.default.Messages.JOIN_VOICE_CALL:i?S.default.Messages.CONNECT:S.default.Messages.START_VOICE_CALL,r(b.default,{text:l,color:s,position:b.default.Positions.BOTTOM},void 0,r(T.default.Icon,{name:C.default.Names.PHONE,onClick:this.handleVoiceClick,disabled:u}))},t.prototype.render=function(){return r("div",{},void 0,this.renderVideoCallButton(),this.renderVoiceCallButton())},t.prototype.handleStartCall=function(e,t){var n=this.props,a=n.channel,o=n.notFriend,r=o?a.getRecipientId():null;y.default.call(a.id,t,!o&&!a.isManaged()&&e&&!e.shiftKey,r)},t.prototype.handleJoinCall=function(e){v.default.selectVoiceChannel(null,this.props.channel.id,e)},t.prototype.handleVoiceClick=function(e){var t=this.props,n=t.callUnavailable,a=t.callActive;if(!n)return a?this.handleJoinCall(!1):this.handleStartCall(e,!1)},t.prototype.handleStartVideoCall=function(e){this.handleStartCall(e,!0)},t.prototype.handleJoinVideoCall=function(){this.handleJoinCall(!0)},t.prototype.handleBrowserNotSupported=function(){var e=this;g.default.push(function(t){return i.createElement(E.default,o({},t,{title:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:S.default.Messages.DOWNLOAD_APP,onConfirm:e.handleDownloadApps}))})},t.prototype.handleDownloadApps=function(){g.default.push(N.default,{source:"Video unsupported browser"})},t}(i.PureComponent);I.displayName="PrivateChannelCallButton";var A=(0,s.default)(function(e,t){var n;return(n={})[_.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(I);t.default=l.default.connectStores([f.default,c.default,h.default,m.default],function(e){var t=e.channel,n=c.default.isInChannel(t.getGuildId(),t.id),a=t.getRecipientId();return{channel:t,mode:m.default.getMode(t.id),inCall:n,callActive:f.default.isCallActive(t.id),callUnavailable:f.default.isCallUnavailable(t.id),notFriend:t.type===_.ChannelTypes.DM&&null!=a&&!h.default.isFriend(a)}})(A),e.exports=t.default},7008:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},7009:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},7010:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},7011:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},7012:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},7013:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},7014:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},7015:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},7016:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},7017:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},7018:function(e,t,n){e.exports=n.p+"9bef291f60e3cd3531073c12a365a87d.svg"},7019:function(e,t,n){e.exports=n.p+"7a2984b632f742b95882d387736c7bd0.svg"},7020:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},7021:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},7022:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},7023:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},7024:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},7025:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},7026:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6615),s=f(l),u=f(n(189)),d=f(n(217));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return n=a=c(this,e.call.apply(e,[this].concat(s))),a.renderPopout=function(e){var t=a.props,n=t.options,o=t.value,s=t.renderOption,u=t.popoutClassName,d=t.scroller;return i.createElement(l.QuickSelectPopout,r({},e,{scroller:d,className:u,options:n,value:o,renderOption:s,onChange:a.handleChange}))},a.handleChange=function(e){var t=a.props,n=t.popoutId,o=t.onChange;u.default.close(n),o&&o(e)},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,a=e.renderValue,l=e.className,u=e.popoutId,f=e.popoutProps;return i.createElement(d.default,r({},f,{uniqueId:u,render:this.renderPopout}),o("div",{className:l},void 0,o(s.default,{label:t,value:n,renderValue:a})))},t}(i.PureComponent);p.displayName="QuickSelectWrapper",t.default=p,e.exports=t.default},7027:function(e,t,n){"use strict";t.__esModule=!0,t.QUICK_REGION_SELECT_KEY=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(3)),l=y(n(6)),s=y(n(9)),u=n(6074),d=y(n(7026)),f=y(n(6015)),c=y(n(6208)),p=y(n(26)),h=n(217),m=y(n(5680));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={position:h.Positions.BOTTOM,preventInvert:!0},S=t.QUICK_REGION_SELECT_KEY="quick-region-select",T=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return o(p.default,{align:p.default.Align.CENTER,className:(0,s.default)({selected:n})},void 0,o(u.RegionFlag,{region:t,className:m.default.regionSelectFlag}),o(u.RegionName,{region:t,className:m.default.regionSelectName}),n?o("i",{className:m.default.check}):null)},t}(r.PureComponent);T.displayName="RegionItem";var C=function(e){function t(){var n,a;v(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=g(this,e.call.apply(e,[this].concat(i))),a.renderOption=function(e,t){return o(T,{region:e.value,selected:t},e.value.id)},a.handleChangeVoiceRegion=function(e){var t=e.value,n=a.props.call.channelId;c.default.changeCallRegion(n,t.id)},g(a,n)}return _(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&c.default.fetchRegions(null)},t.prototype.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var a=t.find(function(e){return e.id===n.region})||{id:"unknown",name:l.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},r={label:a.name,value:a},i=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return o(d.default,{label:l.default.Messages.REGION,options:i,value:r,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:E,popoutId:S,popoutClassName:m.default.regionSelectPopout})},t}(r.PureComponent);C.displayName="QuickRegionSelect",t.default=i.default.connectStores([f.default],function(){return{regions:f.default.getRegions(null)}})(C)},7028:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},7029:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(88)),l=n(44),s=d(l),u=d(n(5681));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.description,r=e.confirmText,d=e.onConfirm;return o(i.default,{size:u.default.size},void 0,o("div",{className:u.default.container},void 0,o("img",{className:u.default.image,src:n(7028),alt:""}),o("div",{className:u.default.title},void 0,t),o("div",{className:u.default.description},void 0,a)),o("div",{className:u.default.footer},void 0,o(s.default,{className:u.default.button,size:l.ButtonSizes.LARGE,onClick:d},void 0,r)))},t}(r.PureComponent);f.displayName="VideoDevicesWarningModal",t.default=f,e.exports=t.default},7030:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(5682)),s=n(0),u=c(n(58)),d=c(n(6102)),f=c(n(6103));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleDoubleClick=a.handleDoubleClick.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,a=e.mirror,r=e.user;return e.hasVideo&&null!=n?o(f.default,{className:(0,i.default)(l.default.content,l.default.video),mirror:a,streamId:t,videoComponent:n,fit:f.default.Fit.COVER}):null!=r?o("div",{className:l.default.content},void 0,o(d.default,{user:r,avatarSize:d.default.AvatarSizes.XXLARGE})):null},t.prototype.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?o("div",{className:l.default.overlay},void 0,o(u.default,{className:l.default.poorConnection,width:24,height:24,color:s.Colors.WHITE,name:u.default.Names.CAMERA_OFF})):n||t?o(u.default,{className:l.default.status,width:20,height:20,color:s.Colors.WHITE,name:n?u.default.Names.DEAFENED:u.default.Names.MUTED}):null},t.prototype.render=function(){return o("div",{style:this.props.style,className:(0,i.default)(l.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,a=t.user;n&&n(e,a.id)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,a=t.user;n&&n(e,a.id)},t}(r.PureComponent);p.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1},p.displayName="VideoTile",t.default=p,e.exports=t.default},7031:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(5683)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u={LANDSCAPE:"landscape",PORTRAIT:"portrait"},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var a=t===u.LANDSCAPE?i.default.horizontal:i.default.vertical,r=t===u.LANDSCAPE?i.default.vertical:i.default.horizontal,s=n.length,d=s>3&&s%2>0?Math.floor(s/2):-1,f=[],c=[],p=s>3?2:1,h=0;h<s;h++)h===d?f.push(o("div",{style:{flex:2},className:i.default.flex},h,n[h])):c.push(n[h]),c.length===p&&(f.push(o("div",{style:{flex:1},className:(0,l.default)(r,"margin-reset")},h,c)),c=[]);return o("div",{className:(0,l.default)(a,i.default.content)},void 0,f)},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return o("div",{className:(0,l.default)(i.default.wrapper,n),style:t},void 0,this.renderContent())},t}(r.PureComponent);d.Mode=u,d.defaultProps={mode:u.LANDSCAPE},d.displayName="VideoGrid",t.default=d,e.exports=t.default},7032:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},7033:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},7034:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(7)),s=n(75),u=m(n(6)),d=m(n(26)),f=m(n(156)),c=n(44),p=m(c),h=m(n(5684));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={VOICE:"voice",VIDEO:"video"},E={friction:16,tension:400},S=function(e){function t(n){y(this,t);var a=v(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a}return g(t,e),t.prototype.render=function(){return r(d.default,{className:h.default.callButton,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(i.PureComponent);S.displayName="CallButton";var T=function(e){function t(n){y(this,t);var a=v(this,e.call(this,n));return a._width=0,a._left=0,a.state={hovered:!1,offsetX:new f.default.Value(0)},l.default.bindAll(a,["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),a}return g(t,e),t.prototype.renderVoiceButton=function(){return r(p.default,{className:h.default.joinVoiceCallButton,size:c.ButtonSizes.SMALL,color:c.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},t.prototype.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return r(f.default.div,{className:h.default.underlay,style:n})},t.prototype.renderVideoButton=function(){return r("div",{className:h.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),r(d.default,{className:h.default.inner,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,r(S,{type:_.VIDEO,onClick:this.props.onClick},void 0,r("img",{alt:"",className:h.default.icon,src:n(7033)}),r("div",{className:h.default.buttonText},void 0,u.default.Messages.VIDEO)),r("div",{className:h.default.callDivider}),r(S,{type:_.VOICE,onClick:this.props.onClick},void 0,r("div",{className:h.default.buttonText},void 0,u.default.Messages.VOICE),r("img",{alt:"",className:h.default.icon,src:n(7032)}))))},t.prototype.render=function(){return this.props.type===_.VOICE?this.renderVoiceButton():this.renderVideoButton()},t.prototype.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(_.VOICE)},t.prototype.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,s.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var a=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));f.default.spring(this.state.offsetX,o({toValue:a},E)).start(),this.state.hovered||this.setState({hovered:!0})},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t}(i.PureComponent);T.defaultProps={type:_.VOICE,text:u.default.Messages.JOIN_CALL},T.Type=_,T.displayName="JoinCallButton",t.default=T,e.exports=t.default},7035:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},7036:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},7037:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(75),s=d(n(5686)),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(n){f(this,t);var a=c(this,e.call(this,n));return a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleMouseLeave=a.handleMouseLeave.bind(a),a}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.children,a=e.offset,i=r({},t,{transform:"translate3d(0, "+a+"px, 0)"});return o("div",{className:s.default.card,style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(i.PureComponent);h.displayName="Card";var m=function(e){function t(n){f(this,t);var a=c(this,e.call(this,n));return a.state={hoverIndex:null,width:0,height:0},a.handleHover=a.handleHover.bind(a),a.setRef=a.setRef.bind(a),a.resize=a.resize.bind(a),a}return p(t,e),t.prototype.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,a=t.cardHeight,r=t.children,i=this.state.height,l=r.length,s=this.state.hoverIndex,u=l-1,d=l>1?(i-a)/(l-1):a,f=a*l;return r.map(function(t,r){var l=i>f?a*r:i-a-function(e){if(null==s||e===s)return d*(u-e);var t=d*(u-s);if(e>s){var n=Math.max(t-a,20);return(u-s-1>0?n/(u-s-1):0)*(u-e)}var o=i-t-2*a,r=Math.max(o,20);return i-(s>1?r/(s-1):0)*e-a-(o<20?Math.min(o,-20):0)}(r);return o(h,{index:r,offset:l,style:{width:n,height:a},onHover:e.handleHover},r,t)}).reverse()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,a=this.state,o=a.width,r=a.height;return 0===o||0===r?i.createElement("div",{ref:this.setRef,className:t,style:n}):i.createElement("div",{ref:this.setRef,className:(0,u.default)(s.default.wrapper,t),style:n},this.renderCards())},t.prototype.handleHover=function(e){this.setState({hoverIndex:e})},t.prototype.setRef=function(e){this._ref=e,this.resize()},t.prototype.resize=function(){if(null!=this._ref){var e=(0,l.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(i.PureComponent);m.displayName="CardStack",t.default=m,e.exports=t.default},7038:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(156)),d=n(57),f=O(n(356)),c=O(n(126)),p=O(n(14)),h=O(n(30)),m=O(n(362)),y=O(n(60)),v=O(n(963)),g=n(6308),_=O(g),E=O(n(5922)),S=O(n(7037)),T=n(0),C=O(n(5685)),b=O(n(917)),N=O(n(5522));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=23,P=17,L=26,w={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:u.default.Easing.inOut(u.default.Easing.back()),EASING_OUT:u.default.Easing.quad},D=200,U=125,k=function(e){function t(n){I(this,t);var a=A(this,e.call(this,n));return a.state={scaleAnimation:new u.default.Value(0),spriteAnimation:new u.default.Value(0),spriteOpacity:new u.default.Value(0),widthAnimation:new u.default.Value(0)},a}return M(t,e),t.prototype.componentDidMount=function(){this.componentDidAppear()},t.prototype.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,a=t.widthAnimation;n.setValue(0),a.setValue(0),u.default.parallel([u.default.timing(n,{toValue:1,duration:w.DURATION_IN,easing:w.EASING_IN}),u.default.timing(a,{toValue:1,duration:D})]).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,a=t.spriteAnimation,o=t.spriteOpacity,r=t.widthAnimation;o.setValue(1),a.setValue(0);for(var i=[],l=0;l<R;l++)i.push(u.default.timing(a,{toValue:-L*l,duration:P}));u.default.sequence([u.default.timing(n,{toValue:0,duration:w.DURATION_OUT,easing:w.EASING_OUT}),u.default.sequence(i),u.default.timing(r,{toValue:0,duration:U})]).start(e)},t.prototype.getScaleStyle=function(){var e=this.state.scaleAnimation;return u.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[w.SCALE_MIN,w.SCALE_MAX]})}],opacity:e})},t.prototype.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},t.prototype.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},t.prototype.render=function(){var e,t=this.props,n=t.theme,a=t.children,o=t.className,i=n===T.ThemeTypes.DARK,s=(0,l.default)(C.default.sprite,((e={})[N.default.crossWhite]=i,e[N.default.crossGrey]=!i,e));return r(u.default.div,{className:(0,l.default)(C.default.transition,o),style:this.getWidthStyle()},void 0,r("div",{className:(0,l.default)(C.default.spriteWrapper,b.default.horizontal,b.default.justifyCenter,b.default.alignCenter)},void 0,r(u.default.div,{className:s,style:this.getSpriteStyle()})),r(u.default.div,{style:this.getScaleStyle()},void 0,a))},t}(i.PureComponent);k.displayName="AvatarTransition";var F={friction:10,tension:200},x=function(e){function t(n){I(this,t);var a=A(this,e.call(this,n));return a.state={opacity:new u.default.Value(0),scale:new u.default.Value(0)},a}return M(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},t.prototype.animateTo=function(e,t){var n=this.state,a=n.opacity,r=n.scale;u.default.parallel([u.default.spring(a,o({toValue:e},F)),u.default.spring(r,o({toValue:e},F))]).start(t)},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,a=n.opacity,o=n.scale;a.setValue(0),o.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.opacity,a=t.scale;n.setValue(1),a.setValue(1),this.animateTo(0,e)},t.prototype.componentWillUnmount=function(){clearTimeout(this._timer)},t.prototype.render=function(){var e=this.props.theme,t=this.state,a=t.opacity,o=t.scale;return r(u.default.div,{className:C.default.emptyContainer,style:{opacity:a,transform:[{scale:o},{translateZ:0}]}},void 0,r(E.default,{theme:e},void 0,r(E.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(7036),darkSrc:n(7035)})))},t}(i.Component);x.displayName="CallEmpty";var G=function(e){function t(n){I(this,t);var a=A(this,e.call(this,n));return a._timeout=new d.Timeout,a.setRef=a.setRef.bind(a),a}return M(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.windowHeight,a=t.layout;n===e.windowHeight&&a===e.layout||this.delayResize()},t.prototype.componentDidMount=function(){this.delayResize()},t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){return i.createElement(S.default,o({ref:this.setRef},this.props))},t.prototype.setRef=function(e){this._ref=e},t.prototype.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(i.PureComponent);G.displayName="CardStackContainer";var B=s.default.connectStores([c.default,m.default],function(){return{windowHeight:c.default.windowSize().height}})(G),j=function(e){function t(n){I(this,t);var a=A(this,e.call(this,n));return a.handleSelectParticipant=a.handleSelectParticipant.bind(a),a}return M(t,e),t.prototype.handleSelectParticipant=function(e){var t=this.props,n=t.mode,a=t.layout,o=t.selectedParticipantId,r=t.channelId;t.inCall&&n===T.ChannelModes.VIDEO&&(v.default.selectParticipant(r,o===e?null:e),a===T.ChannelLayouts.MINIMUM&&v.default.updateLayout(r,T.ChannelLayouts.NORMAL))},t.prototype.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,a=e.participants,o=e.mode;if(null!=e.selectedParticipantId&&o===T.ChannelModes.VIDEO&&t!==T.ChannelLayouts.MINIMUM)return g.CallAvatarSizes.XLARGE;for(var r=t===T.ChannelLayouts.FULL_SCREEN||t===T.ChannelLayouts.NORMAL?g.CallAvatarSizes.XLARGE:g.CallAvatarSizes.XXLARGE,i=n-T.LEFT_PANEL_WIDTH,l=a?a.length:0,s=Object.keys(g.CallAvatarPixelSizes),u=0;u<s.length;u++){var d=g.CallAvatarPixelSizes[s[u]];if(!(d>g.CallAvatarPixelSizes[r])&&(o===T.ChannelModes.VIDEO&&(d*=g.CALL_AVATAR_VIDEO_RATIO),i>l*(d+=16)))return s[u]}return g.CallAvatarSizes.SMALL},t.prototype.render=function(){var e=this,t=this.props,n=t.participants,a=t.selectedParticipantId,o=t.theme,i=t.mode,s=t.inCall,u=t.layout,d=t.videoEnabled,c=t.onContextMenu,h=this.calculateAvatarSize(),m=n.find(function(e){return e.user.id===p.default.getId()}),v=null==m||m.ringing,E=i===T.ChannelModes.VIDEO&&v?g.CallAvatarPixelSizes[h]*g.CALL_AVATAR_VIDEO_RATIO:g.CallAvatarPixelSizes[h],S=n.map(function(t){var n,f=t.speaking,m=t.soundsharing,g=t.user,S=t.streamId,b=t.voiceState,N=t.ringing,O=g.id===p.default.getId()&&d,I=y.default.getMediaEngine().Video;return r(k,{width:E,theme:o,className:(0,l.default)((n={},n[C.default.avatarMargin]=i===T.ChannelModes.VOICE||v,n))},g.id,r(_.default,{id:g.id,name:g.username,selected:u!==T.ChannelLayouts.MINIMUM&&a===g.id,speaking:f,soundsharing:m,mode:i,muted:b&&(b.mute||b.selfMute),deafen:b&&(b.deaf||b.selfDeaf),ringing:N,src:g.getAvatarURL(),hasVideo:b&&b.selfVideo,streamId:s&&S,mirror:O,size:h,onClick:e.handleSelectParticipant,onContextMenu:c,videoComponent:I,disabled:v}))});if(0===S.length&&S.push(r(x,{theme:o},"empty")),i===T.ChannelModes.VIDEO&&!v){var N=E+8;return r(f.default,{component:B,layout:u,style:{width:N},cardWidth:N,cardHeight:N,className:(0,l.default)(C.default.wrapper,b.default.vertical,b.default.alignEnd,b.default.spacer)},void 0,S)}return r(f.default,{component:"div",className:(0,l.default)(C.default.wrapper,b.default.alignEnd,b.default.spacer,u===T.ChannelLayouts.MINIMUM?b.default.horizontal+" "+b.default.justifyCenter:b.default.vertical)},void 0,S)},t}(i.PureComponent);j.displayName="PrivateChannelCallParticipants",t.default=s.default.connectStores([c.default,m.default,h.default],function(e){return o({windowWidth:c.default.windowSize().width,selectedParticipantId:m.default.getSelectedParticipantId(e.channelId),theme:h.default.theme},e)})(j),e.exports=t.default},7039:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(75),u=ue(n(7)),d=ue(n(9)),f=ue(n(3)),c=n(57),p=n(101),h=ue(n(362)),m=ue(n(124)),y=ue(n(374)),v=ue(n(90)),g=ue(n(357)),_=ue(n(60)),E=ue(n(924)),S=ue(n(30)),T=ue(n(12)),C=ue(n(14)),b=ue(n(923)),N=ue(n(126)),O=ue(n(53)),I=(ue(n(125)),ue(n(358))),A=ue(n(162)),M=ue(n(355)),R=ue(n(963)),P=ue(n(5997)),L=ue(n(34)),w=n(517),D=n(35),U=ue(n(916)),k=ue(n(5946)),F=ue(n(1159)),x=n(0),G=ue(n(6)),B=n(6051),j=n(136),H=ue(n(6143)),V=ue(n(5984)),Y=ue(n(58)),W=ue(n(77)),z=n(44),K=ue(z),$=ue(n(6309)),q=ue(n(6103)),X=ue(n(6102)),Q=ue(n(26)),J=ue(n(7038)),Z=ue(n(7034)),ee=ue(n(112)),te=ue(n(7031)),ne=ue(n(7030)),ae=ue(n(363)),oe=ue(n(6101)),re=n(7027),ie=ue(re),le=ue(n(6100)),se=ue(n(5679));function ue(e){return e&&e.__esModule?e:{default:e}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pe=((o={})[x.ChannelLayouts.NORMAL]=se.default.normal,o[x.ChannelLayouts.MINIMUM]=se.default.minimum,o[x.ChannelLayouts.NO_CHAT]=se.default.noChat,o[x.ChannelLayouts.FULL_SCREEN]=se.default.fullScreen,o),he={grey:{screenshare:n(7025),camera:n(7024),cameraOff:n(7023),cameraOffHover:n(7022),fullScreen:n(7021),fullScreenOff:n(7020),mute:n(7019),muteHover:n(7018),muteOff:n(7017),settings:n(7016)},white:{screenshare:n(7015),camera:n(7014),cameraOff:n(7013),cameraOffHover:n(7012),fullScreen:n(7011),fullScreenOff:n(7010),mute:n(7009),muteHover:n(6104),muteOff:n(6105),settings:n(7008)}},me=function(e){var t=e.value,n=e.activeTooltip,a=e.inactiveTooltip,o=e.activeSrc,r=e.inactiveSrc,l=e.activeSrcHover,s=e.inactiveSrcHover,u=e.onChange;return i(ee.default,{text:t?n:a},void 0,i(H.default,{className:se.default.toggleButton,value:t,activeSrc:o,inactiveSrc:r,activeSrcHover:l,inactiveSrcHover:s,onChange:u}))};me.displayName="ToggleButton";var ye=function(e){function t(){return de(this,t),fe(this,e.apply(this,arguments))}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,a=e.onChange;return i(me,{value:n,activeTooltip:G.default.Messages.UNMUTE,inactiveTooltip:G.default.Messages.MUTE,activeSrc:he[t].mute,activeSrcHover:he[t].muteHover,inactiveSrc:he[t].muteOff,onChange:a})},t}(l.PureComponent);ye.displayName="MuteButton";var ve=f.default.connectStores([_.default],function(){return{muted:_.default.isSelfMute()||_.default.isSelfMutedTemporarily()}})(ye),ge=function(e){var t=e.color,n=e.onClick;return i(ee.default,{text:G.default.Messages.USER_SETTINGS},void 0,i(V.default,{className:se.default.actionButton,src:he[t].settings,onClick:n}))};ge.displayName="SettingsButton";var _e=function(e){function t(n){de(this,t);var a=fe(this,e.call(this,n));return a.handleDoubleClick=a.handleDoubleClick.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return i("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,a=t.id;n&&n(e,a)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,a=t.id;n&&n(e,a)},t}(l.PureComponent);_e.displayName="VideoWrapper";var Ee=function(e){function t(n){de(this,t);var a=fe(this,e.call(this,n));return a._ringingSound=(0,w.createSound)("call_calling"),a._prevLayout=x.ChannelLayouts.MINIMUM,a._callRef=null,a._timeout=new c.Timeout,u.default.bindAll(a,["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),a}return ce(t,e),t.prototype.componentDidMount=function(){document.addEventListener(B.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(B.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onResize,a=t.call,o=t.participants,r=t.inCall,i=t.mode,l=t.layout;e.mode===x.ChannelModes.VIDEO&&i===x.ChannelModes.VOICE&&(0,B.isFullScreen)()&&(0,B.exitFullScreen)(F.default.resized),null!=n&&e.participants!==o&&n(),null!=n&&e.layout!==l&&(this._timeout.stop(),this._timeout.start(350,n)),null!=a&&a.ringing.length>0&&r&&1===o.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},t.prototype.handleFullScreenChange=function(){(0,B.isFullScreen)()||this.props.layout!==x.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},t.prototype.handleFullScreen=function(){var e=(0,s.findDOMNode)(this._callRef);this.props.layout!==x.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(x.ChannelLayouts.FULL_SCREEN),(0,B.requestFullScreen)(e,F.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,B.exitFullScreen)(F.default.resized))},t.prototype.handleStartVideo=function(){I.default.setVideoEnabled(!0)},t.prototype.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(I.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},t.prototype.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,a=O.default.getCurrentGame();e&&null==a?P.default.open(n):t?(0,D.openContextMenu)(t,function(e){return l.createElement(le.default,r({},e,{channel:n,game:a}))}):I.default.setDesktopSource(null)}},t.prototype.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===x.ChannelLayouts.NORMAL?x.ChannelLayouts.NO_CHAT:x.ChannelLayouts.NORMAL)},t.prototype.handleChangeLayout=function(e){this.props.layout!==e&&(R.default.updateLayout(this.props.channel.id,e),e===x.ChannelLayouts.FULL_SCREEN&&j.ComponentDispatch.dispatch(x.ComponentActions.TEXTAREA_BLUR))},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleDisconnect=function(){this.props.layout===x.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),A.default.selectVoiceChannel(null,null)},t.prototype.handleConnect=function(e){var t=this.props.channel;A.default.selectVoiceChannel(t.getGuildId(),t.id,e===Z.default.Type.VIDEO)},t.prototype.handleOpenSettings=function(){M.default.open(x.UserSettingsSections.VOICE)},t.prototype.handleOpenUserContextMenu=function(e,t){var n=this;(0,D.openContextMenu)(e,function(e){return l.createElement(U.default,r({},e,{type:x.ContextMenuTypes.USER_GROUP_DM,user:T.default.getUser(t),channelId:n.props.channel.id}))})},t.prototype.handleDoubleClick=function(e,t){var n=this.props,a=n.channel,o=n.selectedParticipantId;null==o?R.default.selectParticipant(a.id,t):o===t&&R.default.selectParticipant(a.id,null)},t.prototype.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;L.default.push(function(n){return l.createElement(oe.default,r({},n,{title:G.default.Messages.CAMERA_UNAVAILABLE,description:t?G.default.Messages.CAMERA_NO_DEVICE:G.default.Messages.CAMERA_NO_ACCESS,confirmText:t?G.default.Messages.OKAY:G.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?L.default.pop:e.handleStartVideo}))})},t.prototype.handleScreenshareUnavailable=function(){function e(){L.default.push(ae.default,{source:"Screenshare Unavailable"})}L.default.push(function(t){return l.createElement(oe.default,r({},t,{title:G.default.Messages.SCREENSHARE_UNAVAILABLE,description:G.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:G.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.prototype.renderRegionSelect=function(){var e=this.props,t=e.call,n=e.channel,a=void 0;return e.layout===x.ChannelLayouts.FULL_SCREEN||null==t||n.isManaged()||(a=i(ie.default,{call:t})),i(Q.default,{justify:Q.default.Justify.END,className:se.default.info},void 0,a)},t.prototype.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,a=e.mode,o=e.layout,r=e.channel,l=e.inCall,s=e.videoEnabled;return o!==x.ChannelLayouts.MINIMUM&&null==t?null:i(J.default,{channelId:r.id,participants:n,mode:a,layout:o,inCall:l,videoEnabled:s,onContextMenu:this.handleOpenUserContextMenu})},t.prototype.renderLeftButtonGroups=function(){var e=this,t=this.props,n=t.channel,a=t.mode,o=t.layout,r=t.mentionCount;if(a===x.ChannelModes.VOICE||!n.isPrivate())return null;var l=void 0;if(o!==x.ChannelLayouts.FULL_SCREEN&&o!==x.ChannelLayouts.NO_CHAT||(l=i(k.default,{className:se.default.badge,value:r})),o===x.ChannelLayouts.FULL_SCREEN){return i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:function(){e._prevLayout=x.ChannelLayouts.NORMAL,e.handleFullScreen()}},void 0,i(Y.default,{className:se.default.iconButton,color:x.Colors.WHITE,name:Y.default.Names.ARROW_UP})),l)}return i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:this.handleToggleLayout},void 0,i(Y.default,{className:se.default.iconButton,color:x.Colors.WHITE,name:o===x.ChannelLayouts.NO_CHAT?Y.default.Names.ARROW_UP:Y.default.Names.ARROW_DOWN})),l)},t.prototype.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,a=t.layout;return n===x.ChannelModes.VOICE?null:i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(V.default,{className:se.default.actionButton,src:a===x.ChannelLayouts.FULL_SCREEN?he[e].fullScreenOff:he[e].fullScreen,onClick:this.handleFullScreen}))},t.prototype.renderVideoButton=function(e){var t=this.props,n=t.videoEnabled,a=t.cameraGranted,o=t.cameraDisabled;return!1===a||!0===o?i(ee.default,{text:a?G.default.Messages.CAMERA_UNAVAILABLE:G.default.Messages.CAMERA_NOT_ENABLED},void 0,i(V.default,{className:(0,d.default)(se.default.actionButton,se.default.unavailable),src:he[e].camera,onClick:this.handleCameraUnavailable})):i(me,{value:n,activeTooltip:G.default.Messages.CAMERA_OFF,inactiveTooltip:G.default.Messages.CAMERA_ON,activeSrc:he[e].camera,inactiveSrc:he[e].cameraOff,inactiveSrcHover:he[e].cameraOffHover,onChange:this.handleToggleCamera})},t.prototype.renderScreenshareButton=function(e){var t=this.props,n=t.screenSharingEnabled,a=t.screenshareUnavailable;return t.layout===x.ChannelLayouts.FULL_SCREEN?null:a?i(ee.default,{text:G.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i(V.default,{className:(0,d.default)(se.default.actionButton,se.default.unavailable),src:he[e].screenshare,onClick:this.handleScreenshareUnavailable})):i(me,{value:n,activeTooltip:G.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:G.default.Messages.SCREEN_SHARE_ON,activeSrc:he[e].screenshare,inactiveSrc:he[e].screenshare,onChange:this.handleStartScreenShare})},t.prototype.renderSettingsButton=function(e){return this.props.layout!==x.ChannelLayouts.FULL_SCREEN?i(ge,{color:e,onClick:this.handleOpenSettings}):null},t.prototype.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,a=e.layout,o=e.inCall,r=e.theme,l=e.cameraGranted,s=e.cameraDisabled,u=e.video,f=t.isManaged()||!t.isPrivate();if(!o){var c=n===x.ChannelModes.VIDEO&&l&&!s?Z.default.Type.VIDEO:Z.default.Type.VOICE;return i(Q.default,{className:se.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Z.default,{type:c,onClick:this.handleConnect,text:f?G.default.Messages.CONNECT:G.default.Messages.JOIN_CALL}))}var p=r===x.ThemeTypes.LIGHT&&a===x.ChannelLayouts.MINIMUM?"grey":"white";return u?i(Q.default,{className:se.default.actions,justify:Q.default.Justify.BETWEEN},void 0,i(Q.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(p),this.renderVideoButton(p),i(K.default,{className:se.default.exitButton,color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),i(ve,{color:p,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(p)),i(Q.default,{justify:Q.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(p))):i(Q.default,{className:se.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,i(ve,{color:p,onChange:this.handleToggleSelfMute}),i(K.default,{className:(0,d.default)(se.default.exitButton,se.default.voice),color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),this.renderSettingsButton(p)))},t.prototype.calculateGridSize=function(e){var t=this.props,n=t.windowSize,a=t.layout,o=n.width,r=n.height;switch(a){case x.ChannelLayouts.NORMAL:o-=x.LEFT_PANEL_WIDTH,r/=2;break;case x.ChannelLayouts.NO_CHAT:o-=x.LEFT_PANEL_WIDTH}r=Math.max(r,275),r-=120;var i=e<4?1:2,l=Math.floor(e/i)+(i>1&&e%2!=0?2:0),s=o>r?te.default.Mode.LANDSCAPE:te.default.Mode.PORTRAIT;if(s===te.default.Mode.PORTRAIT){var u=i;i=l,l=u}var d=1*l/i,f=r*(16/9*l/i);return f<o?{mode:s,style:{width:f/o*100+"%",height:"100%"}}:(f=r*d)<o?{mode:s,style:{width:"100%",height:"100%"}}:{mode:s,style:{width:"100%",height:o/d/r*100+"%"}}},t.prototype.renderBackground=function(){var e=this,t=this.props,n=t.layout,a=t.selectedParticipantId,o=t.videoEnabled,s=t.participants,u=_.default.getMediaEngine().Video,d=C.default.getId();if(n===x.ChannelLayouts.MINIMUM)return null;if(null==a){var f=s.map(function(t){var n=t.user,a=t.voiceState,r=t.streamId,l=n.id===d&&o;return i(ne.default,{user:n,mirror:l,streamId:r,videoComponent:u,muted:a&&(a.mute||a.selfMute)||!1,deafen:a&&(a.deaf||a.selfDeaf)||!1,hasVideo:a&&a.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu},n.id)});return i(Q.default,{justify:Q.default.Justify.CENTER,align:Q.default.Align.CENTER,className:se.default.videoBackgroundWrapper},void 0,l.createElement(te.default,r({className:se.default.videoBackground},this.calculateGridSize(f.length)),f))}var c=s.find(function(e){return e.user.id===a});if(null==c)return null;var p=c.voiceState,h=c.user,m=c.streamId,y=void 0;return y=p&&p.selfVideo&&null!=u?i(q.default,{streamId:m,mirror:a===d&&o,videoComponent:u}):i(X.default,{user:h,avatarSize:X.default.AvatarSizes.PROFILE}),i(_e,{className:se.default.videoBackground,id:a,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,y)},t.prototype.render=function(){var e=this.props,t=e.participants,n=e.layout,a=e.selectedParticipantId,o=e.inCall,r=e.focused;return t&&t.length?l.createElement($.default,{ref:this.setCallRef,className:(0,d.default)(se.default.wrapper,pe[n]),animated:o,layout:n,focused:r,backgroundKey:a,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},t.prototype.setCallRef=function(e){this._callRef=e},t.prototype.startRinging=function(){this.props.disableSounds||E.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},t.prototype.stopRinging=function(){this._ringingSound.stop()},t}(l.PureComponent);Ee.displayName="PrivateChannelCall",t.default=f.default.connectStores([h.default,m.default,y.default,_.default,v.default,S.default,b.default,g.default,N.default],function(e){var t=e.channel,n=_.default.supports(p.Features.VIDEO),a=h.default.getParticipants(t.id),o=v.default.isInChannel(t.getGuildId(),t.id),r=n?h.default.getMode(t.id):x.ChannelModes.VOICE,i=(0,u.default)(_.default.getVideoDevices()).values().first(),l=null==i||i.disabled,s=o&&r===x.ChannelModes.VIDEO?h.default.getLayout(t.id):x.ChannelLayouts.MINIMUM;return s!==x.ChannelLayouts.FULL_SCREEN&&t.type===x.ChannelTypes.GUILD_VOICE&&(s=x.ChannelLayouts.NO_CHAT),s===x.ChannelLayouts.NO_CHAT&&(r=x.ChannelModes.VIDEO),{channel:t,video:n,mode:r,participants:a,selectedParticipantId:h.default.getSelectedParticipantId(t.id),call:y.default.getCall(t.id),inCall:o,layout:s,disableSounds:m.default.disableSounds,videoEnabled:_.default.isVideoEnabled(),screenSharingEnabled:_.default.isScreenSharing(),theme:S.default.theme,cameraGranted:_.default.isEnabled(),cameraDisabled:l||!_.default.isEnabled(),screenshareUnavailable:!_.default.supports(p.Features.DESKTOP_CAPTURE),focused:b.default.isOpen(re.QUICK_REGION_SELECT_KEY),mentionCount:g.default.getMentionCount(t.id),windowSize:N.default.windowSize()}})(Ee),e.exports=t.default},7040:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,a.default)(e).map(o.default.getUser).filter(function(e){return null!=e}).unshift(o.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var a=r(n(7)),o=r(n(12));function r(e){return e&&e.__esModule?e:{default:e}}},7041:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=I(n(56)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(45)),u=I(n(59)),d=I(n(6)),f=I(n(3)),c=n(35),p=I(n(936)),h=I(n(513)),m=I(n(916)),y=I(n(217)),v=I(n(12)),g=I(n(82)),_=I(n(61)),E=I(n(944)),S=I(n(125)),T=n(0),C=n(7040),b=I(n(6318)),N=I(n(126)),O=I(n(5525));function I(e){return e&&e.__esModule?e:{default:e}}var A=(0,s.default)({displayName:"PrivateChannelRecipient",mixins:[f.default.LazyStoreListenerMixin(g.default,_.default,E.default,N.default),u.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.user,n=e.channel,a=void 0,o=void 0;return(_.default.isFriend(t.id)||t===v.default.getCurrentUser())&&(a=g.default.getStatus(t.id),o=g.default.getPrimaryActivity(t.id)),{typing:null!=E.default.getTypingUsers(n.id)[t.id],isFocused:N.default.isFocused(),status:a,activity:o}},handleContextMenu:function(e){var t=this.props,n=t.user,a=t.channel;(0,c.openContextMenu)(e,function(e){return l.createElement(m.default,r({},e,{type:T.ContextMenuTypes.USER_GROUP_DM,user:n,channelId:a.id}))})},renderUserPopout:function(e){var t=this.props,n=t.user,a=t.channel;return l.createElement(h.default,r({},e,{user:n,channelId:a.id}))},render:function(){var e=this.props,t=e.user,n=e.channel,a=this.state,r=a.status,i=a.activity,l=a.typing,s=a.isFocused;return o(y.default,{closeOnScroll:!1,render:this.renderUserPopout,position:y.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,o(b.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:d.default.Messages.GROUP_OWNER,shouldAnimateTypingIndicator:s,isTyping:l,status:r,activity:i,onContextMenu:this.handleContextMenu},t.id))}}),M=(0,s.default)({displayName:"PrivateChannelRecipients",mixins:[f.default.LazyStoreListenerMixin(v.default)],propTypes:{channel:i.default.instanceOf(S.default).isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{recipients:(0,C.getRecipients)(this.props.channel.recipients)}},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel;this.setState({recipients:(0,C.getRecipients)(t.recipients)})},renderMembers:function(){var e=this.props.channel;return this.state.recipients.map(function(t){return l.createElement(A,r({},t,{channel:e}))})},render:function(){var e=this.state.recipients;return o("div",{className:O.default.membersWrap},void 0,o(p.default,{className:O.default.members,fade:!0,theme:"light"},void 0,o("h2",{className:O.default.membersGroup},void 0,d.default.Messages.MEMBERS,"",e.length),this.renderMembers()))}});t.default=M,e.exports=t.default},7042:function(e,t,n){"use strict";t.__esModule=!0;var a=h(n(3)),o=h(n(2)),r=h(n(7)),i=n(0),l=h(n(12)),s=h(n(66)),u=h(n(18)),d=h(n(6167)),f=h(n(6343)),c=h(n(61)),p=h(n(125));function h(e){return e&&e.__esModule?e:{default:e}}var m=1e3,y=void 0,v=!1,g="",_=0,E=[],S=!1,T=new Set;function C(){g="",_=0,E=[],T=new Set,v=!1}function b(e){g=e,_=0,O()}function N(){var e=s.default.getChannelId();return null!=e?u.default.getChannel(e):null}function O(){if(!v)return!1;if(0===g.trim().length)return null!=y&&y.clearQuery(),E=function(){var e=c.default.getFriendIDs(),t=N();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=l.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(A)}(),!0;var e,t,n,a=N(),o=null!=a?a.recipients:[];return null!=y&&y.setQuery(g,{friends:!0},o,null,(e=f.default.getFrequently().filter(function(e){return e instanceof p.default&&e.type===i.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return f.default.getScore(t)})),n={},e.forEach(function(e){var a=f.default.getScore(e.id),o=e.getRecipientId(),r=c.default.isFriend(o)?.2:0,i=u.default.getDMFromUserId(o)?.1:0;n[o]=1+a/t+r+i}),n)),!1}function I(){if(!v)return!1;var e=S;return(S=r.default.some(c.default.getRelationships(),function(e){return e===i.RelationshipTypes.FRIEND}))!==e}function A(e,t){return e.user.usernameLowerCase.localeCompare(t.user.usernameLowerCase)}function M(e){var t=e.results;v&&""!==g&&(E=t.map(function(e){var t=e.user,n=e.id,a=e.score,o=e.comparator;return{user:null!=t?t:l.default.getUser(n),score:a,comparator:o}}),L.emitChange())}function R(e){if((e.type===i.ActionTypes.POPOUT_OPEN?e.popout.key:e.key)!==i.NEW_GROUP_DM_POPOUT_ID)return!1;v=!0,I(),y=d.default.getSearchContext(M,m),b("")}function P(e){if(e.key!==i.NEW_GROUP_DM_POPOUT_ID)return!1;null!=y&&(y.destroy(),y=null),C()}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,c.default),this.syncWith([l.default,u.default],O),this.syncWith([c.default],I)},t.prototype.getState=function(){return{query:g,selectedRow:_,selectedUsers:T,results:E,hasFriends:S}},t}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){C()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=v;C(),v=t,O()},POPOUT_OPEN:R,MODAL_PUSH:R,POPOUT_CLOSE:P,MODAL_POP:P,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){b(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){_=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;T.add(t),T=new Set(T)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;T.delete(t),T=new Set(T)}});t.default=L,e.exports=t.default},7043:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={search:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})}},e.exports=t.default},7044:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=h(n(56)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(45))),l=h(n(3)),s=h(n(112)),u=h(n(5974)),d=h(n(58)),f=h(n(267)),c=h(n(5986)),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"ChannelMuteButton",mixins:[l.default.StoreListenerMixin(f.default)],propTypes:{channel:r.default.object.isRequired,legacy:r.default.bool},getDefaultProps:function(){return{legacy:!1,channel:r.default.object.isRequired}},getStateFromStores:function(){return{isMuted:f.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({isMuted:f.default.isChannelMuted(e.channel.getGuildId(),e.channel.id)})},handleClick:function(){c.default.updateChannelOverrideSettings(this.props.channel.getGuildId(),this.props.channel.id,{muted:!this.state.isMuted})},render:function(){return o(s.default,{text:p.default.Messages.CHANNEL_MUTE_TOOLTIP,position:s.default.Positions.BOTTOM},void 0,o(u.default.Icon,{name:this.state.isMuted?d.default.Names.NOTIFICATION_BELL_OFF:d.default.Names.NOTIFICATION_BELL,onClick:this.handleClick}))}});t.default=m,e.exports=t.default},7046:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(7)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={focused:!1,lastGoodValue:n.value,value:n.value},i.default.bindAll(a,["handleChange","handleFocus","handleBlur","handleKeyPress"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},t.prototype.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs.INPUT_REF.focus()},t.prototype.handleChange=function(e){this.setState({value:e.currentTarget.value});var t=this.props.onChange;t&&t(e)},t.prototype.handleFocus=function(e){this.setState({focused:!0,lastGoodValue:e.currentTarget.value});var t=this.props.onFocus;t&&t(e)},t.prototype.handleBlur=function(e){if(this.verifyLength()){this.setState({focused:!1});var t=this.props.onBlur;t&&t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})},t.prototype.handleKeyPress=function(e){13===e.which&&this.refs.INPUT_REF.blur()},t.prototype.render=function(){var e=void 0,t={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:t.opacity=0,o("div",{className:(0,l.default)("input-autosize",{focus:this.state.focused},this.props.className)},void 0,o("div",{className:"input-autosize-inner",style:{position:"relative"}},void 0,r.createElement("input",{className:"input-autosize-input",ref:"INPUT_REF",style:t,key:this.props.value,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),r.createElement("div",{className:"input-autosize-input",style:e,ref:"VALUE_REF"},this.state.value)))},t.prototype.verifyLength=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||this.state.value||"";return!(this.props.minLen&&e.length<this.props.minLen||this.props.maxLen&&e.length>this.props.maxLen)},t}(r.Component);u.displayName="InputAutosize",t.default=u,e.exports=t.default},7053:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(26)),u=n(260),d=f(n(5699));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),h=((o={})[u.AvatarSizes.SMALL]=d.default.avatarSmall,o[u.AvatarSizes.LARGE]=d.default.avatarLarge,o),m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,a=e.className;return t===p.MULTIPLE_AVATAR?r("div",{className:(0,l.default)(d.default.multiplePlaceholder,a)},void 0,r(s.default,{},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])})),r(s.default,{grow:1,className:d.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):r(s.default,{className:(0,l.default)(d.default.placeholder,a)},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])}),r(s.default,{grow:1,className:d.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},t}(i.Component);m.defaultProps={type:p.SINGLE_AVATAR},m.Types=p,m.displayName="PlaceholderAvatarWithMessage",t.default=m,e.exports=t.default},7054:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=I(n(56)),l=I(n(7)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=I(n(45)),d=I(n(6350)),f=I(n(270)),c=I(n(916)),p=I(n(513)),h=n(35),m=n(1172),y=I(n(217)),v=I(n(6318)),g=n(985),_=I(g),E=I(n(944)),S=I(n(126)),T=I(n(3)),C=n(5945),b=I(C),N=n(0),O=I(n(5525));function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=(0,u.default)({displayName:"ChannelMember",mixins:[T.default.StoreListenerMixin(E.default,S.default)],propTypes:{colorString:i.default.any,user:i.default.object.isRequired,channelId:i.default.string.isRequired,guildId:i.default.string.isRequired,status:i.default.oneOf(Object.values(N.StatusTypes))},shouldComponentUpdate:function(e,t){return!(0,f.default)(this.props,e,["channelId"])||!(0,f.default)(this.state,t)},getStateFromStores:function(){return{isTyping:E.default.isTyping(this.props.channelId,this.props.user.id),isFocused:S.default.isFocused()}},renderUserContextMenu:function(e){var t=this;(0,h.openContextMenu)(e,function(e){return s.createElement(c.default,r({},e,{type:N.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channelId}))})},renderUserPopout:function(e){return s.createElement(p.default,r({},e,{user:this.props.user,guildId:this.props.guildId,channelId:this.props.channelId}))},render:function(){var e=this.state,t=e.isFocused,n=e.isTyping,a=this.props,r=a.colorString,i=a.isOwner,l=a.nick,s=a.user,u=a.activity,d=a.status;return o(y.default,{closeOnScroll:!1,render:this.renderUserPopout,position:y.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,o(v.default,{onContextMenu:this.renderUserContextMenu,shouldAnimateTypingIndicator:t,user:s,nick:l,status:d,activity:u,isOwner:i,colorString:r,darkenColor:d===N.StatusTypes.OFFLINE,isTyping:n}))}}),R=function(e){var t=e.id,n=e.title,a=e.count;return t===N.StatusTypes.UNKNOWN?o("div",{className:O.default.membersGroup},void 0,o("div",{className:O.default.memberGroupsPlaceholder})):o("div",{className:O.default.membersGroup},void 0,n,"",a)},P=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];return n=a=A(this,e.call.apply(e,[this].concat(u))),a.setList=function(e){a._list=e},a.renderSection=function(e){var t=a.props.groups[e];return s.createElement(R,r({},t,{key:e}))},a.renderRow=function(e,t){var n=a.props,i=n.channel,l=n.groups,u=n.rows[l[e].index+1+t];return null!=u&&u.type===g.MemberListRowTypes.MEMBER?s.createElement(M,r({key:u.user.id},u,{channelId:i.id,guildId:i.guild_id})):o(v.default,{},e+":"+t)},a.handleScroll=function(){return a.updateSubscription()},a.updateSubscription=l.default.debounce(function(){var e=a._list;if(null!=e){var t=a.props.channel,n=e.props.rowHeight,o=e.getScrollTop(),r=e.getContainerHeight();(0,m.subscribeChannelDimensions)(t.guild_id,t.id,o,r,n)}},50),A(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},t.prototype.componentDidMount=function(){this.updateSubscription()},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},t.prototype.render=function(){var e=this.props,t=e.groups,n=e.listId;return o(b.default,{tutorialId:"whos-online",position:C.TutorialIndicatorPositions.LEFT,offsetYPercent:-50,offsetX:16,offsetY:16},void 0,o("div",{className:O.default.membersWrap},void 0,s.createElement(d.default,{key:n,ref:this.setList,className:O.default.members,fade:!0,paddingTop:0,theme:d.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:40,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll})))},t}(s.Component);P.displayName="ChannelMembers",t.default=T.default.connectStores([_.default],function(e){var t=e.channel;return _.default.getProps(t.guild_id,t.id)})(P),e.exports=t.default},7055:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Re(n(56)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(218),u=Re(n(45)),d=Re(n(59)),f=Re(n(9)),c=Re(n(516)),p=Re(n(7054)),h=Re(n(6317)),m=Re(n(6315)),y=Re(n(6036)),v=n(5922),g=Re(v),_=Re(n(5988)),E=Re(n(916)),S=n(35),T=Re(n(7046)),C=Re(n(6314)),b=Re(n(5959)),N=Re(n(6312)),O=Re(n(7044)),I=Re(n(6311)),A=Re(n(6310)),M=Re(n(7041)),R=Re(n(7039)),P=Re(n(7007)),L=Re(n(7006)),w=Re(n(7004)),D=Re(n(7003)),U=Re(n(6007)),k=Re(n(69)),F=Re(n(58)),x=Re(n(77)),G=Re(n(125)),B=Re(n(18)),j=Re(n(66)),H=Re(n(188)),V=Re(n(27)),Y=Re(n(6530)),W=Re(n(6047)),z=Re(n(269)),K=Re(n(921)),$=Re(n(12)),q=Re(n(6053)),X=Re(n(5957)),Q=Re(n(6526)),J=Re(n(362)),Z=Re(n(6028)),ee=Re(n(113)),te=Re(n(6999)),ne=Re(n(3)),ae=Re(n(281)),oe=Re(n(952)),re=n(6051),ie=Re(n(6)),le=Re(n(273)),se=n(136),ue=Re(n(940)),de=Re(n(138)),fe=Re(n(280)),ce=n(523),pe=Re(n(34)),he=Re(n(137)),me=Re(n(963)),ye=Re(n(225)),ve=n(5945),ge=Re(ve),_e=Re(n(6306)),Ee=Re(n(6054)),Se=Re(n(945)),Te=Re(n(160)),Ce=Re(n(78)),be=Re(n(6305)),Ne=Re(n(6005)),Oe=Re(n(90)),Ie=Re(n(114)),Ae=n(0),Me=Re(n(5523));function Re(e){return e&&e.__esModule?e:{default:e}}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var De=/^\+(?!\w+):?(?!:)(\w+)?:?$/,Ue=function(e){function t(){var n,a;Pe(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Le(this,e.call.apply(e,[this].concat(r))),a.handleBlur=function(e){a.props.channel.toString()!==e.currentTarget.value&&de.default.setName(a.props.channel.id,e.currentTarget.value)},Le(a,n)}return we(t,e),t.prototype.render=function(){return r(T.default,{minLen:1,maxLen:100,className:Me.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur})},t}(l.Component);Ue.displayName="ChannelName";var ke=function(e){function t(){var n,a;Pe(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=Le(this,e.call.apply(e,[this].concat(i))),a.renderHeader=function(){return r(Ce.default,{tag:Ce.default.Tags.H4},void 0,a.props.channel.toString(!0))},Le(a,n)}return we(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return r(_e.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,r(k.default,{selectable:!0,size:k.default.Sizes.MEDIUM,color:k.default.Colors.PRIMARY,style:{paddingBottom:20}},void 0,ae.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(l.Component);ke.displayName="ChannelTopicModal";var Fe=function(e){function t(){var n,a;Pe(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Le(this,e.call.apply(e,[this].concat(r))),a.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&pe.default.push(ke,a.props)},a.onMouseDown=function(){a._mouseDown=!0},a.onMouseMove=function(){a._mouseDown&&(a._mouseDown=!1)},a.onMouseUp=function(e){a._mouseDown&&e.button!==Ae.MouseButtons.SECONDARY&&a.handleOpenTopic(e),a._mouseDown=!1},Le(a,n)}return we(t,e),t.prototype.render=function(){var e=this,t=this.props.channel;return null==t.topic||0===t.topic.length?r("div",{className:Me.default.noTopic}):t.type===Ae.ChannelTypes.GROUP_DM?null:r("div",{className:(0,f.default)(Me.default.topic,Me.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:function(t){return e.props.onContextMenu(t,Ae.ContextMenuTypes.CHANNEL_TOPIC)}},void 0,ae.default.parseTopic(t.topic,!0,{channelId:t.id}))},t}(l.Component);Fe.displayName="ChannelTopic";var xe=(0,u.default)({displayName:"ChannelTextAreaForm",mixins:[Se.default,d.default],UNSAFE_componentWillMount:function(){q.default.addChangeListener(this.draftDidChange)},componentWillUnmount:function(){q.default.removeChangeListener(this.draftDidChange)},getInitialState:function(){return{textValue:q.default.getDraft(this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(e)},draftDidChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=this.state.textValue,a=q.default.getDraft(t.channel.id);n!==a&&this.setState({textValue:a},function(){if(n!==a){var t=e.props.onFocus;t&&t()}})},render:function(){var e=this,t=this.props,n=t.channel,a=t.focused,o=t.onResize,i=t.onBlur,s=t.onFocus,u=t.allowUnclaimed,d=ie.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:n.toString(!0)}),f=n.isPrivate()?C.default:N.default;return r("form",{},void 0,r(f,{channel:n,allowUnclaimed:u},n.id,r(ge.default,{tutorialId:"writing-messages",position:ve.TutorialIndicatorPositions.LEFT,offsetY:-50,offsetX:90},void 0,l.createElement(U.default,{ref:function(t){e.channelTextAreaRef=t},value:this.state.textValue,focused:a,className:Me.default.channelTextArea,channel:n,placeholder:d,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:o,onFocus:s,onBlur:i,onKeyDown:this.handleKeyDown,disableAttachments:u,disableActivity:u,disableInvites:u}))),r(m.default,{channel:n}))},handleKeyDown:function(e){if(!(e.which!==Ae.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===this.state.textValue.length){e.preventDefault();var t=this.props.channel,n=z.default.getLastEditableMessage(t.id);n&&he.default.startEditMessage(t.id,n.id,n.content)}},handleTextareaChange:function(e,t){var n=this.props.channel.id;Ee.default.changeDraft(n,this.state.value),""===t||De.test(t)?oe.default.clear(n):oe.default.typing(n),J.default.getLayout(n)===Ae.ChannelLayouts.NO_CHAT&&me.default.updateLayout(n,Ae.ChannelLayouts.NORMAL),this.setState({textValue:t})},handleSendMessage:function(e){var t=this;if(0===e.length)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var n=this.props,a=n.allowUnclaimed,o=n.channel;return a?((0,ce.open)(!0),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):this.applyChatRestrictions(this.channelTextAreaRef,e,o).then(function(n){var a=n.valid,r=n.failureReason;return a?(oe.default.clear(o.id),null!=t.props.handleJumpToChat&&t.props.handleJumpToChat(),he.default.sendMessage(o.id,le.default.parse(o,e)),t.setState({textValue:""}),{shouldClear:!0,shouldRefocus:!0}):r===Ae.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(se.ComponentDispatch.dispatch(Ae.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),se.ComponentDispatch.dispatch(Ae.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}})}}),Ge=ne.default.connectStores([te.default,Z.default,ee.default],function(e){var t=e.guild,n=e.channel,a=!1;if(null!=t&&t.verificationLevel===Ae.VerificationLevels.LOW){var o=Z.default.getCheck(t.id);null!=o&&o.notClaimed&&ee.default.can(Ae.Permissions.SEND_MESSAGES,n)&&(a=te.default.shouldAllowUnclaimedChat())}return{allowUnclaimed:a}})(xe),Be=r(D.default,{},"pins"),je=r(D.default,{},"pins"),He=r(w.default,{},"members"),Ve=r(D.default,{},"pins"),Ye=r(w.default,{},"members"),We=(0,u.default)({displayName:"Channel",mixins:[ne.default.StoreListenerMixin(B.default,V.default,j.default,H.default,Y.default,K.default,W.default,X.default,J.default,Ne.default,Q.default,Oe.default),ye.default,d.default,ue.default],propTypes:{channel:i.default.instanceOf(G.default)},getStateFromStores:function(){var e=j.default.getChannelId(),t=Y.default.getEditingMessageId(),n=H.default.getGuildId(),a=J.default.getParticipants(e);return{guildId:n,channelId:e,channel:B.default.getChannel(e),isEditing:null!=t,hasModalOpen:K.default.hasModalOpen(),section:W.default.getSection(),guild:V.default.getGuild(n),searchId:X.default.getCurrentSearchId(),hasCall:a&&a.length>0,nsfwAgree:Ne.default.didAgree(n),theme:Q.default.theme,hasVideo:Oe.default.hasVideo(n,e)}},getSubscriptions:function(){var e;return(e={})[Ae.ComponentActions.TEXTAREA_FOCUS]=this.handleInputFocus,e[Ae.ComponentActions.TEXTAREA_BLUR]=this.handleInputBlur,e},componentDidUpdate:function(e,t){this.state.isEditing===t.isEditing&&this.state.hasModalOpen===t.hasModalOpen||(this.state.isEditing||this.state.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.state.channel&&t.channel&&this.state.channel.id!==t.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.state.section!==t.section&&this.resizeChat()},resizeChat:function(){se.ComponentDispatch.dispatch(Ae.ComponentActions.CHAT_RESIZE)},handleInputFocus:function(){(0,re.isFullScreen)()||this.setState({textAreaFocused:!0})},handleInputBlur:function(){(document.hasFocus()||this.state.hasModalOpen)&&this.setState({textAreaFocused:!1})},handleOpenProfile:function(){fe.default.open(this.state.channel.getRecipientId(),this.state.channel.guild_id)},handleChannelContextMenu:function(e,t){var n=this.state,a=n.guild,r=n.channel;(0,S.openContextMenu)(e,function(e){return l.createElement(_.default,o({},e,{type:t,channel:r,guild:a}))})},handleUserContextMenu:function(e){var t=this.state.channel;(0,S.openContextMenu)(e,function(e){return l.createElement(E.default,o({},e,{type:Ae.ContextMenuTypes.USER_CHANNEL_TITLE,user:$.default.getUser(t.getRecipientId()),selected:!0,channelId:t.id}))})},renderTitle:function(){var e=this,t=this.state,n=t.channel,a=t.hasVideo,o=n.toString(),i=n.getTitleIcon(a);switch(n.type){case Ae.ChannelTypes.DM:var l=n.getRecipientId();return r("div",{className:Me.default.titleText,onContextMenu:this.handleUserContextMenu},void 0,r(x.default,{tag:"span",className:(0,f.default)(Me.default.channelName,Me.default.private),onClick:this.handleOpenProfile},void 0,r(F.default,{name:i,width:16,height:16,className:Me.default.channelIcon,background:Me.default.background}),o),r(y.default,{userId:l,hideTooltip:!0}));case Ae.ChannelTypes.GROUP_DM:return n.isManaged()?r("div",{className:(0,f.default)(Me.default.titleText,Me.default.groupDMManaged)},void 0,r("span",{className:Me.default.channelName},void 0,o)):r("div",{className:(0,f.default)(Me.default.titleText,Me.default.groupDM)},void 0,r(Ue,{channel:n},"channel-"+n.id));case Ae.ChannelTypes.GUILD_TEXT:case Ae.ChannelTypes.GUILD_VOICE:return r("div",{className:Me.default.titleText,onContextMenu:function(t){return e.handleChannelContextMenu(t,Ae.ContextMenuTypes.CHANNEL_TITLE)}},void 0,r("span",{className:Me.default.channelName},void 0,r(F.default,{name:i,width:16,height:16,className:Me.default.channelIcon,background:Me.default.background}),o));default:return null}},renderTopic:function(){var e=this.state,t=e.channel,n=e.guild;switch(t.type){case Ae.ChannelTypes.DM:return r(I.default,{channel:t},t.id);case Ae.ChannelTypes.GUILD_TEXT:case Ae.ChannelTypes.GUILD_VOICE:case Ae.ChannelTypes.GROUP_DM:return r(Fe,{channel:t,guild:n,onContextMenu:this.handleChannelContextMenu},t.id);default:return null}},renderHeaderToolbar:function(){var e=this.state.channel,t=[];switch(e.type){case Ae.ChannelTypes.DM:t.push(r(P.default,{channel:e},"calls")),t.push(Be),t.push(r(A.default,{channel:e,tooltip:ie.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Ae.ChannelTypes.GROUP_DM:if(t.push(r(P.default,{channel:e},"calls")),t.push(je),!e.isManaged()){var n=ie.default.Messages.GROUP_DM_ADD_FRIENDS;t.push(r(A.default,{channel:e,tooltip:n},"invite"))}t.push(He);break;case Ae.ChannelTypes.GUILD_TEXT:t.push(r(O.default,{channel:e},"mute")),t.push(Ve),t.push(Ye)}return t},renderHeaderBar:function(){var e=this.state,t=e.channel,n=e.theme,a=e.hasCall,o=e.guildId;return r("div",{className:(0,f.default)(Me.default.titleWrapper,"theme-"+n)},void 0,r(b.default,{title:r(l.Fragment,{},void 0,this.renderTitle(),this.renderTopic()),guildId:o,channelId:t.id,renderToolbar:this.renderHeaderToolbar,className:a?Me.default.titleCall:Me.default.title}))},renderCall:function(){var e=this.state.channel;switch(e.type){case Ae.ChannelTypes.DM:case Ae.ChannelTypes.GROUP_DM:case Ae.ChannelTypes.GUILD_VOICE:return r(R.default,{channel:e,onResize:this.resizeChat},e.id);default:return null}},renderChat:function(){var e=this.state,t=e.channel,n=e.nsfwAgree,a=e.guild,o=e.textAreaFocused;return t.type===Ae.ChannelTypes.GUILD_VOICE?null:!n&&t.isNSFW()?r(be.default,{guild:a}):r("div",{className:"flex-spacer flex-vertical",style:{position:"relative"}},void 0,r(h.default,{channel:t},t.id),r(Ge,{focused:o,channel:t,guild:a,onResize:this.resizeChat,handleJumpToPresent:this.handleJumpToPresent,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur}))},renderSidebar:function(){var e=this.state,t=e.searchId,n=e.channel,a=e.section;if(a===Ae.ChannelSections.MEMBERS)switch(n.type){case Ae.ChannelTypes.GROUP_DM:return r(M.default,{channel:n});case Ae.ChannelTypes.GUILD_TEXT:return r(p.default,{channel:n})}else if(a===Ae.ChannelSections.SEARCH)return r(L.default,{searchId:t});return null},renderEmptyChannel:function(){var e=void 0;return e=null!=this.state.channelId?r(v.EmptyStateText,{},void 0,r(Te.default,{type:Te.default.Type.SPINNING_CIRCLE})):r(v.EmptyStateText,{note:ie.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,ie.default.Messages.CHANNELS_UNAVAILABLE_TITLE),r("div",{className:Me.default.noChannel},void 0,r(g.default,{theme:this.state.theme},void 0,r(v.EmptyStateImage,{darkSrc:n(6998),lightSrc:n(6997),width:272,height:222}),e))},render:function(){var e=this.state,t=e.channel,n=e.hasCall;if(!t)return this.renderEmptyChannel();if(t.type===Ae.ChannelTypes.GUILD_VOICE&&!n){var a=Ie.default.getDefaultChannel(t.guild_id);return r(s.Redirect,{to:Ae.Routes.CHANNEL(t.guild_id,null!=a?a.id:null)})}return r("div",{className:Me.default.chat},void 0,r(c.default,{title:t.toString(!0)}),this.renderHeaderBar(),this.renderCall(),r("div",{className:Me.default.content},void 0,this.renderChat(),this.renderSidebar()))},handleJumpToPresent:function(){z.default.getMessages(this.state.channel.id).hasMoreAfter&&se.ComponentDispatch.dispatch(Ae.ComponentActions.SCROLLTO_PRESENT)}});t.default=We,e.exports=t.default},7056:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(6)),s=n(0),u=c(n(509)),d=n(6352),f=c(d);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=r(d.PopoutMenuSeparator,{}),m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.handleSelect=function(e){u.default.updateRemoteSettings({status:e}),a.props.onClose()},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(this.props,[]);return i.createElement(f.default,o({alt:!0},e),r(d.StatusItem,{status:s.StatusTypes.ONLINE,onSelect:this.handleSelect}),h,r(d.StatusItem,{status:s.StatusTypes.IDLE,onSelect:this.handleSelect}),r(d.StatusItem,{status:s.StatusTypes.DND,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_DND_HELP),r(d.StatusItem,{status:s.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_INVISIBLE_HELPER))},t}(i.PureComponent);m.displayName="StatusPickerPopout",t.default=m,e.exports=t.default},7057:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(3)),l=c(n(5952)),s=c(n(190)),u=c(n(5929)),d=c(n(194)),f=c(n(282));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=p(this,e.call.apply(e,[this].concat(i))),a.renderBuckets=function(e,t){var n=a.props,r=n.currentBucket,i=n.currentType;return t.map(function(t){var n=l.default.getExperimentBucketName(t);return o(d.default,{label:n,action:function(){return a.handleOverrideSelect(e,t)},active:e===i&&t===r},t)})},a.renderOverrideTypes=function(){var e=a.props.experiment;return Object.keys(e.experiments).map(function(t){var n=e.experiments[t];return o(f.default,{invertChildY:!0,label:t,render:function(){return a.renderBuckets(t,n)}},t)})},a.handleOverrideSelect=function(e,t){var n=a.props.id;u.default.overrideType(n,e),u.default.overrideBucket(n,t)},a.handleResetOverride=function(){var e=a.props.id;u.default.overrideType(e,null),u.default.overrideBucket(e,null)},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.experiment;return o(f.default,{invertChildY:!0,label:e.title,render:this.renderOverrideTypes,action:this.handleResetOverride})},t}(r.PureComponent);h.displayName="ExperimentSettingsItem",t.default=i.default.connectStores([s.default],function(e){var t=e.id,n=s.default.getExperimentOverrides()[t],a=-1,o="";return n&&(a=n.bucket,o=n.type),{experiment:s.default.getRegisteredExperiments()[t],bucket:s.default.getExperimentBucket(t),currentBucket:a,currentType:o}})(h),e.exports=t.default},7058:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=p(n(56)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(45))),l=p(n(59)),s=p(n(3)),u=p(n(6)),d=p(n(982)),f=p(n(60)),c=p(n(358));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({displayName:"VoiceSettingsVolumeItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{type:r.default.oneOf(["input","output"])},getVolume:function(){switch(this.props.type){case"input":return f.default.getInputVolume();case"output":return f.default.getOutputVolume()/2;default:return 0}},setVolume:function(e){switch(this.props.type){case"input":c.default.setInputVolume(e);break;case"output":c.default.setOutputVolume(2*e)}},renderVolume:function(e){switch(this.props.type){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{volume:this.getVolume()}},render:function(){return o(d.default,{label:"input"===this.props.type?u.default.Messages.FORM_LABEL_INPUT_VOLUME:u.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:this.state.volume,onValueChange:this.setVolume,onValueRender:this.renderVolume})}});t.default=h,e.exports=t.default},7059:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(45))),i=p(n(59)),l=p(n(3)),s=p(n(6)),u=p(n(36)),d=p(n(60)),f=p(n(358)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"VoiceSettingsInputModeItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{inputMode:d.default.getMode()}},render:function(){return o(u.default,{label:this.state.inputMode===c.InputModes.PUSH_TO_TALK?s.default.Messages.SWITCH_TO_VOICE_ACTIVITY:s.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:this.handleAction})},handleAction:function(){f.default.setMode(this.state.inputMode===c.InputModes.PUSH_TO_TALK?c.InputModes.VOICE_ACTIVITY:c.InputModes.PUSH_TO_TALK)}});t.default=h,e.exports=t.default},7060:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(45))),i=c(n(59)),l=c(n(3)),s=c(n(6)),u=c(n(36)),d=c(n(30)),f=c(n(509));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"AppearanceMessageDisplayMenuItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCompact:d.default.messageDisplayCompact}},render:function(){return o(u.default,{label:this.state.isCompact?s.default.Messages.SWITCH_TO_COZY_MODE:s.default.Messages.SWITCH_TO_COMPACT_MODE,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({messageDisplayCompact:!this.state.isCompact})}});t.default=p,e.exports=t.default},7061:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(45))),i=p(n(59)),l=p(n(3)),s=p(n(6)),u=p(n(36)),d=p(n(30)),f=p(n(509)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"AppearanceThemeMenuItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{theme:d.default.theme}},render:function(){return o(u.default,{label:this.state.theme===c.ThemeTypes.LIGHT?s.default.Messages.SWITCH_TO_DARK_THEME:s.default.Messages.SWITCH_TO_LIGHT_THEME,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({theme:this.state.theme===c.ThemeTypes.LIGHT?c.ThemeTypes.DARK:c.ThemeTypes.LIGHT})}});t.default=h,e.exports=t.default},7062:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(45))),i=c(n(59)),l=c(n(3)),s=c(n(6)),u=c(n(194)),d=c(n(124)),f=c(n(6044));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"StreamerModeToggleItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{enabled:d.default.enabled}},render:function(){return o(u.default,{label:s.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:this.handleToggle,active:this.state.enabled})},handleToggle:function(){f.default.setEnabled(!this.state.enabled)}});t.default=p,e.exports=t.default},7063:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=u(n(7)),r=u(n(3)),i=u(n(2)),l=u(n(12)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=s.FormStates.CLOSED,f=void 0,c={},p={},h=void 0,m=void 0,y=!1;function v(e){var t,n=l.default.getCurrentUser();if(null==n)return g();f=e.section||f,e.subsection&&null!=f&&(c[f]=e.subsection),d=s.FormStates.OPEN,p={},(t={})[s.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},m=a({},h=t)}function g(){d=s.FormStates.CLOSED,y=!1,h=null,m=null,f=null,c={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return null!=m&&null!=h&&(!!this.isOpen()&&!o.default.isEqual(m,h))},t.prototype.isOpen=function(){return y},t.prototype.getSection=function(){return f},t.prototype.getProps=function(){return{submitting:d===s.FormStates.SUBMITTING,section:f,subsection:null!=c&&null!=f?c[f]:null,settings:m,errors:p,hasChanges:this.hasChanges()}},t}(r.default.Store);t.default=new _(i.default,{USER_SETTINGS_MODAL_OPEN:function(e){y=!0,v(e)},USER_SETTINGS_MODAL_INIT:v,USER_SETTINGS_MODAL_CLOSE:function(e){return g()},LOGOUT:function(e){return g()},USER_SETTINGS_MODAL_SUBMIT:function(e){d=s.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(d!==s.FormStates.SUBMITTING)return!1;d=s.FormStates.OPEN,f=s.UserSettingsSections.ACCOUNT,p=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){f=e.section,e.subsection&&(c[f]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==m&&(m={});var n=m[s.UserSettingsSections.ACCOUNT];m[s.UserSettingsSections.ACCOUNT]=a({},n,t)}}),e.exports=t.default},7064:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(58))),i=u(n(157)),l=u(n(5700)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){return o("div",{className:l.default.socialLinks},void 0,o(i.default,{target:"_blank",rel:"author",title:"Twitter",href:s.SOCIAL_LINKS.TWITTER_URL,className:l.default.link},void 0,o(r.default,{name:r.default.Names.TWITTER,foreground:l.default.foreground})),o(i.default,{target:"_blank",rel:"author",title:"Facebook",href:s.SOCIAL_LINKS.FACEBOOK_URL,className:l.default.link},void 0,o(r.default,{name:r.default.Names.FACEBOOK,foreground:l.default.foreground})),o(i.default,{target:"_blank",rel:"author",title:"Instagram",href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:l.default.link},void 0,o(r.default,{name:r.default.Names.INSTAGRAM,foreground:l.default.foreground})))};d.displayName="SocialLinks",t.default=d,e.exports=t.default},7065:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6321)),l=f(n(44)),s=f(n(69)),u=f(n(6)),d=f(n(5702));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.state={isRequestPending:!1,hasError:!1},a.handleLeaveHypeSquadError=function(){a.setState({hasError:!0})},a.handleLeaveHypeSquadClick=function(){a.setState({isRequestPending:!0},function(){i.default.leaveHypeSquadOnline().then(function(){a.setState({isRequestPending:!1})}).catch(function(){a.setState({hasError:!0,isRequestPending:!1})})})},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderErrorMessage=function(){return this.state.hasError?o("div",{className:d.default.error},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null},t.prototype.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?o("div",{className:d.default.leaveActionWrapper},void 0,this.renderErrorMessage(),o(s.default,{className:d.default.leaveActionCopy,color:s.default.Colors.PRIMARY},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,o(l.default,{className:d.default.leaveButton,color:l.default.Colors.LINK,look:l.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:l.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},t}(r.PureComponent);p.displayName="UserSettingsHypeSquad",t.default=p,e.exports=t.default},7066:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},7067:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},7068:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},7069:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},7070:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},7071:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},7072:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(69)),l=d(n(5928)),s=d(n(6)),u=d(n(5705));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.state={selectedValue:null},a.handleOptionChange=function(e){var t=a.props.onSelect;a.setState({selectedValue:e.value}),t(e.value)},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},t.prototype.render=function(){var e=this.state.selectedValue;return o(r.Fragment,{},void 0,o(i.default,{className:u.default.prompt,size:i.default.Sizes.MEDIUM,weight:i.default.Weights.SEMIBOLD},void 0,this.props.prompt),o("hr",{className:u.default.separator}),o(i.default,{className:u.default.selectYourAnswer,size:i.default.Sizes.SMALL},void 0,s.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),o(l.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},t}(r.Component);c.displayName="QuestionGroup",t.default=c,e.exports=t.default},7073:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=u(n(156)),i=u(n(88)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=u(n(5706));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=d(this,e.call.apply(e,[this].concat(i))),a.state={isExiting:!1,offset:new r.default.Value(0),selectedValue:null},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),r.default.spring(t,{toValue:0,duration:75}).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){r.default.spring(t,{toValue:-1,duration:75}).start(e)})},t.prototype.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return o(r.default.div,{className:s.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,o(i.default.Content,{className:s.default.contentWrapper},void 0,this.props.children))},t}(l.Component);f.displayName="HouseSelectionContent",t.default=f,e.exports=t.default},7074:function(e,t,n){"use strict";t.__esModule=!0,t.getQuestions=t.getRandomHouse=void 0;var a,o=n(0),r=n(6),i=(a=r)&&a.__esModule?a:{default:a};t.getRandomHouse=function(){var e=Object.keys(o.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]},t.getQuestions=function(){return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(e){return{prompt:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_PROMPT"],options:[{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_A"],house:o.HypeSquadHouses.HOUSE_1},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_B"],house:o.HypeSquadHouses.HOUSE_2},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_C"],house:o.HypeSquadHouses.HOUSE_3},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_D"],house:o.RANDOM_HYPESQUAD_HOUSE}]}})}},7075:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=C(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=C(n(356)),f=C(n(6321)),c=n(7074),p=C(n(44)),h=C(n(78)),m=C(n(7073)),y=C(n(7072)),v=C(n(88)),g=C(n(69)),_=C(n(6)),E=n(0),S=C(n(504)),T=C(n(5704));function C(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){return l("div",{className:T.default.innerContentWrapper},void 0,e.children)};N.displayName="innerContentWrapper";var O=((a={})[E.HypeSquadHouses.HOUSE_1]=n(7071),a[E.HypeSquadHouses.HOUSE_2]=n(7070),a[E.HypeSquadHouses.HOUSE_3]=n(7069),a),I=((o={})[E.HypeSquadHouses.HOUSE_1]=T.default.quizResultLogoWrapperHouse1,o[E.HypeSquadHouses.HOUSE_2]=T.default.quizResultLogoWrapperHouse2,o[E.HypeSquadHouses.HOUSE_3]=T.default.quizResultLogoWrapperHouse3,o),A=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=b(this,e.call.apply(e,[this].concat(r))),a.state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,c.getQuestions)(),responses:{},selectedHouse:null},a.handleQuestionSelect=function(e){a.setState(function(t){var n;return{responses:i({},t.responses,(n={},n[t.currentStep]=e,n))}})},a.handleSubmitButtonClick=function(){var e=a.getSelectedHouseID();a.setState({isRequestPending:!0},function(){f.default.joinHypeSquadOnline({houseID:e}).then(function(){a.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){a.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},a.handleKeyDown=function(e){e.keyCode===E.KeyboardKeys.ENTER&&a.handleSubmitButtonClick()},a.handleNextQuestionButtonClick=function(){a.setState(function(e){return{currentStep:e.currentStep+1}})},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSelectedHouseID=function(){var e=this.state.responses,t={},n=void 0,a=0;return Object.keys(e).forEach(function(o){var r=e[o];null==t[r]&&(t[r]=0),t[r]++,t[r]>a&&(n=r,a=t[r])}),null==n||n===E.RANDOM_HYPESQUAD_HOUSE?(0,c.getRandomHouse)():n},t.prototype.renderUnknownErrorMessage=function(){return l(m.default,{},"error",l(u.Fragment,{},void 0,l(g.default,{className:T.default.quizResultHeading,color:g.default.Colors.PRIMARY,size:g.default.Sizes.LARGE,weight:g.default.Weights.SEMIBOLD},void 0,_.default.Messages.HYPESQUAD_ERROR_HEADING),l(g.default,{color:g.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@ChatXapp.com",emailAddressLink:"mailto:hypesquad@ChatXapp.com"}))))},t.prototype.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,a=_.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:_.default.Messages["HYPESQUAD_"+e]});return l(m.default,{},"submit-step",l(u.Fragment,{},void 0,l("div",{className:(0,s.default)(T.default.quizResultLogoWrapper,I[e],S.default.marginBottom20)},void 0,l("img",{alt:a,className:T.default.quizResultLogo,src:O[e]})),l(g.default,{className:T.default.quizResultHeading,color:g.default.Colors.PRIMARY,size:g.default.Sizes.LARGE,weight:g.default.Weights.SEMIBOLD},void 0,a),l(g.default,{className:T.default.quizResultBody,color:g.default.Colors.PRIMARY},void 0,(t=e,((n={})[E.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[E.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[E.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},t.prototype.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,a=e.hasSubmittedHouse,o=e.questions;if(n)return this.renderUnknownErrorMessage();if(a)return this.renderQuizResult();var r=o[t];return l(m.default,{},t,l(y.default,{onSelect:this.handleQuestionSelect,options:r.options,prompt:r.prompt},t))},t.prototype.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,a=e.hasSubmittedHouse,o=e.questions;return n?_.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:a?_.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:_.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:o.length})},t.prototype.renderNewsletterWarning=function(){return l(m.default,{},void 0,l(g.default,{className:T.default.nameFormPreface,color:g.default.Colors.PRIMARY,size:g.default.Sizes.MEDIUM},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t.prototype.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,a=e.hasUnknownError,o=e.hasSubmittedHouse,r=e.isRequestPending,i=e.questions,s=null==n[t];return a?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_RETRY):o?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===i.length-1?l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,_.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},t.prototype.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:l(p.default,{type:"button",look:p.default.Looks.LINK,color:p.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CANCEL)},t.prototype.render=function(){var e=this.state.selectedHouse;return l(v.default,{size:null==e?v.default.Sizes.MEDIUM:v.default.Sizes.SMALL},void 0,l(v.default.Header,{separator:!1},void 0,l(h.default,{tag:h.default.Tags.H4},void 0,this.renderHeaderCopy())),l("div",{className:T.default.outerContentWrapper},void 0,l(d.default,{component:N},void 0,this.renderContent())),l(v.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},t}(u.Component);A.displayName="HouseSelectionModal",t.default=A,e.exports=t.default},7076:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r,i,l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=_(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=_(n(34)),f=_(n(44)),c=_(n(77)),p=_(n(26)),h=_(n(7075)),m=_(n(69)),y=_(n(6)),v=n(0),g=_(n(5703));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=((o={})[v.HypeSquadHouses.HOUSE_1]=g.default.membershipDialogHouse1,o[v.HypeSquadHouses.HOUSE_2]=g.default.membershipDialogHouse2,o[v.HypeSquadHouses.HOUSE_3]=g.default.membershipDialogHouse3,o),T=((r={})[v.HypeSquadHouses.HOUSE_1]=g.default.houseLogoHouse1,r[v.HypeSquadHouses.HOUSE_2]=g.default.houseLogoHouse2,r[v.HypeSquadHouses.HOUSE_3]=g.default.houseLogoHouse3,r),C=((i={})[v.HypeSquadHouses.HOUSE_1]=n(7068),i[v.HypeSquadHouses.HOUSE_2]=n(7067),i[v.HypeSquadHouses.HOUSE_3]=n(7066),i),b=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=E(this,e.call.apply(e,[this].concat(r))),a.handleJoinHypeSquadClick=function(){d.default.push(function(e){return u.createElement(h.default,e)})},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,a=e.isVerified;if(!n||!a)return null;if(null!=t){var o=y.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:y.default.Messages["HYPESQUAD_"+t]});return l("div",{className:(0,s.default)(g.default.membershipDialog,S[t])},void 0,l("div",{className:g.default.membershipDialogContent},void 0,l(p.default,{},void 0,l(p.default.Child,{grow:1,shrink:1},void 0,l(m.default,{className:g.default.membershipDialogHeading,color:m.default.Colors.WHITE,size:m.default.Sizes.SMALL},void 0,y.default.Messages.HYPESQUAD_YOUR_HOUSE),l(m.default,{className:g.default.membershipDialogHouseName,color:m.default.Colors.WHITE,weight:m.default.Weights.SEMIBOLD},void 0,o),l(m.default,{className:g.default.membershipDialogHouseDescription,color:m.default.Colors.WHITE,size:m.default.Sizes.MEDIUM},void 0,y.default.Messages["HYPESQUAD_DESCRIPTION_"+t])),l(p.default.Child,{className:g.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,l("img",{className:(0,s.default)(g.default.houseLogo,T[t]),src:C[t],alt:o}))),l(m.default,{className:g.default.membershipDialogSwitchHouses,color:m.default.Colors.WHITE,size:m.default.Sizes.MEDIUM},void 0,y.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,l(c.default,{className:g.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,y.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return l("div",{className:g.default.joinCTAWrapper},void 0,l(p.default,{className:g.default.joinCTA,align:p.default.Align.CENTER,justify:p.default.Justify.CENTER,direction:p.default.Direction.HORIZONTAL},void 0,l(p.default.Child,{grow:0,shrink:0},void 0,l(m.default,{color:m.default.Colors.PRIMARY},void 0,y.default.Messages.HYPESQUAD_READY_TO_REP)),l(p.default.Child,{grow:0,shrink:0},void 0,l(f.default,{onClick:this.handleJoinHypeSquadClick},void 0,y.default.Messages.HYPESQUAD_JOIN))),l(m.default,{className:g.default.newsletterWarning,color:m.default.Colors.PRIMARY},void 0,y.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t}(u.Component);b.displayName="JoinHypeSquadCTA",t.default=b,e.exports=t.default},7077:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=s(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=s(n(5708));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return o("div",{className:(0,r.default)(t,l.default.videoWrapper)},void 0,o("iframe",{type:"text/html",className:l.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://ChatXapp.com"}))},t}(i.Component);u.displayName="PromoVideo",t.default=u,e.exports=t.default},7078:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=d(n(26)),s=d(n(504)),u=d(n(5709));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["features"]);return t.map(function(e,t){var a;return null==e.predicate||e.predicate(n)?o(l.default,{align:l.default.Align.CENTER,className:(0,r.default)(s.default.marginTop20,u.default.feature,(a={},a[u.default.featureBorder]=0!==t,a))},t,null!=e.icon?o("div",{className:(0,r.default)(u.default.icon,e.icon)}):null,o("div",{},void 0,null!=e.title?o("div",{className:(0,r.default)(s.default.marginBottom8,u.default.title)},void 0,e.title):null,o("div",{className:u.default.description},void 0,e.description))):null})},t}(i.Component);f.displayName="FeatureList",t.default=f,e.exports=t.default},7079:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(7078)),l=f(n(7077)),s=f(n(69)),u=f(n(6)),d=f(n(5707));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o("div",{className:d.default.features},void 0,o(l.default,{className:d.default.video,videoID:"SWzB1mx2o5k"}),o(s.default,{className:d.default.perksHeading,color:s.default.Colors.PRIMARY,weight:s.default.Weights.BOLD},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),o(i.default,{features:[{icon:d.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:d.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:d.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},t}(r.Component);c.displayName="HypeSquadPerks",t.default=c,e.exports=t.default},7080:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(3)),s=_(n(12)),u=n(926),d=_(n(355)),f=_(n(44)),c=_(n(506)),p=_(n(26)),h=_(n(6139)),m=_(n(69)),y=_(n(6)),v=n(0),g=_(n(5710));function _(e){return e&&e.__esModule?e:{default:e}}var E=o(p.default.Child,{grow:0,shrink:0},void 0,o(h.default,{})),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,a=e.unverifiedNotice;return t?a:n},t.prototype.renderPrimaryAction=function(){return this.props.isClaimed?E:o(p.default.Child,{grow:0,shrink:0},void 0,o(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,y.default.Messages.CLAIM_ACCOUNT))},t.prototype.renderSecondaryAction=function(){return this.props.isClaimed?o(p.default.Child,{grow:0,shrink:0},void 0,o(f.default,{color:f.default.Colors.GREY,look:f.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,y.default.Messages.CHANGE_EMAIL_SHORT)):null},t.prototype.routeToEmailSettings=function(){d.default.setSection(v.UserSettingsSections.ACCOUNT),(0,u.toggleEditingProfile)(!0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.isClaimed,a=e.isVerified;return n&&a?null:o(c.default,{className:(0,r.default)(g.default.wrapper,t)},void 0,o(p.default,{align:p.default.Align.CENTER},void 0,o(p.default.Child,{className:g.default.image,grow:0,shrink:0}),o(p.default.Child,{},void 0,o(m.default,{color:m.default.Colors.PRIMARY},void 0,this.renderNotice()),o(p.default,{justify:p.default.Justify.CENTER,className:g.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},t}(i.Component);S.defaultProps={unclaimedNotice:y.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:y.default.Messages.NOTICE_UNVERIFIED_ACCOUNT},S.displayName="EmailNotice",t.default=l.default.connectStores([s.default],function(){var e=s.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S),e.exports=t.default},7081:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(12)),o=l(n(3)),r=l(n(2)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=null;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHouseMembership=function(){return s},t}(o.default.Store);t.default=new u(r.default,{CONNECTION_OPEN:function(e){var t;(t=a.default.getCurrentUser()).hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?s=i.HypeSquadHouses.HOUSE_1:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?s=i.HypeSquadHouses.HOUSE_2:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(s=i.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){s=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){s=e.houseID}}),e.exports=t.default},7082:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(3)),l=g(n(7081)),s=g(n(12)),u=g(n(30)),d=g(n(506)),f=g(n(7080)),c=g(n(7079)),p=g(n(7076)),h=g(n(7065)),m=g(n(6)),y=n(0),v=g(n(5701));function g(e){return e&&e.__esModule?e:{default:e}}var _=o(c.default,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIntroHeader=function(){return null==this.props.houseMembership?m.default.Messages.HYPESQUAD_HEADING:m.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,a=e.isVerified;return o(r.Fragment,{},void 0,o("div",{className:v.default.intro},void 0,o("div",{className:v.default.introHeader},void 0,this.renderIntroHeader()),o("div",{className:v.default.introBlurb},void 0,m.default.Messages.HYPESQUAD_SUBHEADING)),o(f.default,{className:v.default.verificationNotice,unclaimedNotice:m.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:m.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),o(p.default,{houseMembership:t,isClaimed:n,isVerified:a}),_,o(h.default,{isHypeSquadOnlineMember:null!=t}),o(d.default,{className:v.default.attendeeCTA},void 0,m.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:y.MarketingURLs.HYPESQUAD})))},t}(r.PureComponent);E.displayName="UserSettingsHypeSquad",t.default=i.default.connectStores([l.default,u.default,s.default],function(){var e=s.default.getCurrentUser();return{houseMembership:l.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(E),e.exports=t.default},7083:function(e,t,n){"use strict";t.__esModule=!0,t.activate=void 0;t.activate=(a=regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_START}),e.prev=1,e.next=4,i.default.post({url:s.Endpoints.BILLING_SUBSCRIPTION_REDEEM_CODE,body:{coupon_code:t}});case 4:return n=e.sent,r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_SUCCESS,subscription:n.body}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),a=new l.BillingError(e.t0),r.default.dispatch({type:s.ActionTypes.PREMIUM_CODE_ACTIVATION_FAIL,error:a}),a;case 14:case"end":return e.stop()}},e,this,[[1,9]])}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)});var a,o,r=u(n(2)),i=u(n(13)),l=n(127),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}},7084:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=b(n(3)),l=b(n(40)),s=b(n(28)),u=b(n(219)),d=n(265),f=b(n(34)),c=n(552),p=n(168),h=n(7083),m=b(n(44)),y=b(n(159)),v=b(n(26)),g=b(n(78)),_=b(n(228)),E=b(n(88)),S=b(n(6)),T=b(n(5712)),C=n(0);function b(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=/^WUMP-[a-zA-Z0-9]{5}-[a-zA-Z0-9]{5}-[a-zA-Z0-9]{5}$/,M="WUMP-AAAAA-BBBBB-CCCCC",R=/^[a-zA-Z]{4}-\d{4}-[a-zA-Z]{4}$/,P="aaaa-1111-bbbb",L="-",w=Object.freeze({ENTITLEMENT:1,PREMIUM:2}),D=function(e){function t(){var n,a;N(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=O(this,e.call.apply(e,[this].concat(r))),a.handleClose=function(){f.default.pop()},a.handleGoToLibrary=function(){l.default.transitionTo(C.Routes.GAME_LIBRARY),a.handleClose(),(0,d.popLayer)()},O(a,n)}return I(t,e),t.prototype.renderBackground=function(){var e=this.props.data;if(e.type===w.ENTITLEMENT){var t=e.application.getSplashURL(880),n=null!=t?"url("+t+")":null;return o("div",{className:T.default.confirmEntitlementBackground,style:{backgroundImage:n}})}if(e.type===w.PREMIUM)return o("div",{className:T.default.confirmPremiumBackground})},t.prototype.render=function(){var e=this.props.data,t=void 0;if(e.type===w.ENTITLEMENT){var n=e.application,a=e.sku;t=o(r.Fragment,{},void 0,o(_.default,{game:n}),o("div",{className:T.default.confirmTitle},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_CONFIRMATION_TITLE),o("div",{className:T.default.confirmBlurb},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_CONFIRMATION_BLURB.format({skuName:a.name})),o(m.default,{color:m.default.Colors.BRAND,className:T.default.confirmButton,onClick:this.handleGoToLibrary},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_GO_TO_LIBRARY))}else t=o(r.Fragment,{},void 0,o("div",{className:T.default.confirmPremiumIcon}),o("div",{className:T.default.confirmBlurb},void 0,S.default.Messages.PREMIUM_CODE_REDEMPTION_CONFIRMATION_BLURB.format({numMonths:1})),o(m.default,{color:m.default.Colors.BRAND,className:T.default.confirmButton,onClick:this.handleClose},void 0,S.default.Messages.PREMIUM_CODE_REDEMPTION_CONFIRMATION_BUTTON));return o(E.default,{},void 0,this.renderBackground(),o(E.default.Content,{className:T.default.confirmContent},void 0,o(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,o(E.default.CloseButton,{onClick:this.handleClose,className:T.default.confirmCloseButton}),t)))},t}(r.Component);D.displayName="CodeRedemptionConfirmation";var U=i.default.connectStores([s.default],function(e){var t=e.type,n=e.entitlement;if(t===w.ENTITLEMENT)return{data:{type:w.ENTITLEMENT,application:s.default.getGame(n.application_id),sku:u.default.get(n.sku_id)}};if(t===w.PREMIUM)return{data:{type:t}};throw new Error("Unexpected type")})(D);function k(e,t,n){var a=""+e+t.substr(e.length);return n.test(a)}var F=function(e){function t(){var n,a,o,r,i=this;N(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=O(this,e.call.apply(e,[this].concat(s))),a.state={codeInput:"",submitting:!1,hasError:!1},a.inputRef=function(e){a._inputRef=e},a.handleChange=function(e){if(e.length>0&&null!=a._inputRef&&a._inputRef.selectionStart===e.length){var t=e.substr(0,e.length-1)+L+e[e.length-1];(k(t,M,A)||k(t,P,R))&&(e=t)}a.setState({codeInput:e,hasError:!1})},a.handleSubmit=(o=regeneratorRuntime.mark(function e(t){var n,o,r,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n=a.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(o=a.processInput(n))){e.next=8;break}return a.setState({hasError:!0}),e.abrupt("return");case 8:if(a.setState({submitting:!0}),e.prev=9,r=o[0],l=o[1],r!==w.ENTITLEMENT){e.next=20;break}return e.next=14,(0,c.redeemEntitlementCode)(l);case 14:s=e.sent,u=s[0],(0,p.fetchLibraryApplications)(),f.default.push(U,{type:r,entitlement:u}),e.next=24;break;case 20:if(r!==w.PREMIUM){e.next=24;break}return e.next=23,(0,h.activate)(l);case 23:f.default.push(U,{type:r});case 24:a.setState({codeInput:""}),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(9),a.setState({hasError:!0});case 30:return e.prev=30,a.setState({submitting:!1}),e.finish(30);case 33:case"end":return e.stop()}},e,i,[[9,27,30,33]])}),r=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})},function(e){return r.apply(this,arguments)}),O(a,n)}return I(t,e),t.prototype.processInput=function(e){var t=e.trim();return R.test(t)?[w.PREMIUM,t]:t.startsWith("WUMP")?[w.ENTITLEMENT,t.substr("WUMP".length).replace(new RegExp(L,"g"),"")]:null},t.prototype.render=function(){var e=this.state,t=e.codeInput,n=e.submitting,a=e.hasError;return o("div",{className:T.default.codeRedemption},void 0,o(g.default,{tag:g.default.Tags.H2},void 0,o(v.default,{align:v.default.Align.CENTER},void 0,S.default.Messages.BILLING_REDEEM_CODES)),o("div",{className:T.default.inputPrompt},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),o("form",{onSubmit:this.handleSubmit},void 0,o(v.default,{className:T.default.codeRedemptionForm},void 0,o(y.default,{value:t,onChange:this.handleChange,placeholder:M,inputRef:this.inputRef,error:a?S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:T.default.codeRedemptionInput}),o(m.default,{type:"submit",submitting:n},void 0,S.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},t}(r.Component);F.displayName="CodeRedemption",t.default=F,e.exports=t.default},7085:function(e,t,n){"use strict";t.__esModule=!0;var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(9)),u=O(n(5)),d=O(n(139)),f=n(514),c=n(271),p=O(n(28)),h=O(n(6213)),m=O(n(157)),y=O(n(26)),v=O(n(58)),g=O(n(228)),_=O(n(377)),E=O(n(290)),S=O(n(6107)),T=(O(n(6109)),n(372)),C=n(0),b=O(n(6)),N=O(n(5527));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=14,M=5,R=2,P=function(e){return"https://support.ChatXapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},L=(0,d.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),w=[C.PaymentStatusTypes.FAILED,C.PaymentStatusTypes.REVERSED],D=function(e){var t=e.description,n=e.cost;return r("li",{className:N.default.paymentDetail},void 0,r(y.default,{justify:y.default.Justify.BETWEEN},void 0,r("div",{},void 0,t),r("div",{},void 0,n)))};D.displayName="PaymentDetail";var U=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=I(this,e.call.apply(e,[this].concat(r))),a.state={expanded:!1},a.refundRules=[{rule:L.TIME_PLAYED,canRefund:function(){var e=a.timePlayed;return null==e||e.asMilliseconds()<u.default.duration(R,"hours").asMilliseconds()}},{rule:L.PURCHASE_DATE,canRefund:function(){return a.props.payment.isPremiumPayment?a.daysSincePurchase<=M:a.daysSincePurchase<=A}},{rule:L.SKU_TYPE,canRefund:function(){var e=a.props.payment;return null==e.sku||e.sku.type!==C.SKUTypes.CONSUMABLE}},{rule:L.ALREADY_REFUNDED,canRefund:function(){var e=a.props.payment;return e.amountRefunded<e.amount}},{rule:L.PAYMENT_STATUS,canRefund:function(){var e=a.props.payment;return!w.includes(e.status)}}],a.handleExpandInfo=function(){a.setState({expanded:!a.state.expanded})},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},t.prototype.renderStatus=function(){switch(this.props.payment.status){case C.PaymentStatusTypes.PENDING:return r("span",{className:N.default.statusTagGrey},void 0,b.default.Messages.BILLING_TAG_PENDING);case C.PaymentStatusTypes.FAILED:return r("span",{className:N.default.statusTagRed},void 0,b.default.Messages.BILLING_TAG_FAILED);case C.PaymentStatusTypes.REFUNDED:return r("span",{className:N.default.statusTagGreen},void 0,b.default.Messages.BILLING_TAG_REFUNDED);case C.PaymentStatusTypes.REVERSED:return r("span",{className:N.default.statusTagRed},void 0,b.default.Messages.BILLING_TAG_REVERSED);default:return null}},t.prototype.renderPrice=function(){var e=this.props.payment;return r("span",{},void 0,(0,c.formatPrice)(e.amount,e.currency))},t.prototype.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,a=t.taxInclusive,o=t.tax,l=t.amount,u=t.currency;return r("div",{className:(0,s.default)(N.default.paymentText,N.default.paymentBreakdown)},void 0,null!=t.paymentSource?r(S.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:N.default.paymentText}):null,r("ul",{},void 0,!a&&o>0?r(i.Fragment,{},void 0,r(D,{description:t.description,cost:(0,c.formatPrice)(l-o,u)}),r(D,{description:b.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,c.formatPrice)(o,u)})):null,r(D,{description:b.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,c.formatPrice)(l,u)})))},t.prototype.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,a=this.validateRefundRules();if(a.includes(L.PAYMENT_STATUS)||a.includes(L.ALREADY_REFUNDED))return null;var o=0===a.length,l=P(t),s=void 0;return s=a.includes(L.SKU_TYPE)?b.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):o?n.isPremiumPayment?b.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:M,supportURL:l}):b.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:A,playtimeLimit:R,supportURL:l}):n.isPremiumPayment?b.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:M,supportURL:l}):b.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:A,playtimeLimit:R}),r(i.Fragment,{},void 0,r("h2",{className:N.default.paymentHeader},void 0,b.default.Messages.BILLING_REFUND_HEADER),r("div",{className:N.default.paymentText},void 0,r("div",{},void 0,s),this.renderRefundActions(a)))},t.prototype.renderRefundActions=function(e){var t=this.props,n=t.locale,a=t.payment;return e.includes(L.SKU_TYPE)?null:r(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.END},void 0,r(y.default,{},void 0,r("div",{className:N.default.refundCriteria},void 0,r("h3",{className:N.default.refundSubHeader},void 0,b.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),r(y.default,{align:y.default.Align.CENTER},void 0,r(v.default,{name:e.includes(L.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),r("div",{},void 0,b.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),a.isPremiumPayment?null:r("div",{className:N.default.refundCriteria},void 0,r("h3",{className:N.default.refundSubHeader},void 0,b.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),r(y.default,{},void 0,r(v.default,{name:e.includes(L.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:N.default.refundCriteriaIcon}),r("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():b.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),r(m.default,{href:P(n)},void 0,b.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},t.prototype.renderDescription=function(){var e=this.props.payment,t=void 0,n=void 0;return null!=e.sku?(n=e.sku.name,t=r(g.default,{className:N.default.descriptionIcon,game:p.default.getGame(e.sku.applicationId),size:g.default.Sizes.XSMALL})):(t=r(v.default,{className:N.default.descriptionIcon,name:v.default.Names.Premium_WHEEL}),n=e.description),r("div",{className:N.default.description},void 0,t,n)},t.prototype.renderExpandedSection=function(){return r("div",{className:N.default.expandedInfo},void 0,r("h2",{className:N.default.paymentHeader},void 0,b.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},t.prototype.render=function(){var e=this.state.expanded,t=this.props,n=t.payment,a=t.className;return r("div",{className:(0,s.default)(e?N.default.payment:N.default.hoverablePayment,a)},void 0,r(y.default,{onClick:this.handleExpandInfo,className:N.default.summaryInfo,align:y.default.Align.CENTER},void 0,r(y.default.Child,{className:N.default.date},void 0,(0,f.dateFormat)((0,u.default)(n.createdAt),"MM/DD/YYYY")),this.renderDescription(),r("div",{className:N.default.amount},void 0,this.renderStatus(),this.renderPrice()),r(v.default,{name:v.default.Names.CARET,className:N.default.expand,direction:e?_.default.Directions.UP:_.default.Directions.DOWN})),e?this.renderExpandedSection():null)},o(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_ChatX_sku_duration?u.default.duration(e.total_ChatX_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment;return(0,u.default)().diff(e.createdAt,"days")}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof T.PaypalSourceRecord?E.default.Types.PAYPAL:e instanceof T.CreditCardSourceRecord?E.default.getType(e.brand):E.default.Types.UNKNOWN}}]),t}(i.PureComponent);U.displayName="PaymentHistoryRow",t.default=l.default.connectStores([h.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===C.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?h.default.getCurrentUserStatisticsForApplication(n):null}})(U),e.exports=t.default},7086:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(9))),i=d(n(26)),l=d(n(58)),s=d(n(6)),u=d(n(5714));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n,a=e.currentPageIndex,d=e.numPages,f=e.onChangePage,c=e.children,p=e.className;return o("div",{className:(0,r.default)(u.default.paginator,p)},void 0,c,o(i.default,{justify:i.default.Justify.CENTER,className:u.default.pageActions},void 0,o(l.default,{name:l.default.Names.LEFT_CARET,onClick:function(){a>0&&f(a-1)},className:(0,r.default)(u.default.pageButtonPrev,(t={},t[u.default.disabled]=0===a,t))}),o("div",{className:u.default.pageIndicator},void 0,s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:a+1,numPages:d})),o(l.default,{name:l.default.Names.RIGHT_CARET,onClick:function(){a<d-1&&f(a+1)},className:(0,r.default)(u.default.pageButtonNext,(n={},n[u.default.disabled]=a>=d-1,n))})))};f.displayName="Paginator",t.default=f,e.exports=t.default},7087:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=S(n(7)),u=S(n(3)),d=S(n(6329)),f=n(6637),c=(S(n(6109)),S(n(7086))),p=S(n(5989)),h=S(n(26)),m=S(n(78)),y=S(n(7085)),v=S(n(6)),g=n(0),_=S(n(5713)),E=S(n(5527));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=Object.freeze({ALL:"0",STORE:"1",PREMIUM:"2",REFUNDED:"3"}),b=((o={})[C.ALL]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_ALL,o[C.STORE]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_STORE,o[C.PREMIUM]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_Premium,o[C.REFUNDED]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_REFUNDED,o);function N(e,t){switch(t){case C.ALL:return e;case C.STORE:return e.filter(function(e){return null!=e.skuId});case C.PREMIUM:return e.filter(function(e){return null==e.skuId});case C.REFUNDED:return e.filter(function(e){return e.status===g.PaymentStatusTypes.REFUNDED})}throw new Error("Unknown filter type")}var O=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=T(this,e.call.apply(e,[this].concat(r))),a.state={pageIndex:0,filter:C.ALL},a.handlePageChange=function(e){a.setState({pageIndex:e})},a.handleSelectTab=function(e){a.setState({filter:e})},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,f.fetchActivityStatistics)()},t.prototype.renderPage=function(){var e=this.props.locale,t=this.state.pageIndex,n=this.filteredPayments.slice(200*t,200*(t+1));return r(l.Fragment,{},void 0,n.map(function(t,n){return r(y.default,{className:_.default.paymentRow,payment:t,locale:e},n)}))},t.prototype.renderFilters=function(){var e=this.props.payments,t=this.state.filter;return r(p.default,{type:p.default.Types.TOP,selectedItem:t,onItemSelect:this.handleSelectTab},void 0,s.default.values(C).map(function(t,n){return N(e,t).length>0?r(p.default.Item,{id:t,className:_.default.tab},n,b[t]):null}))},t.prototype.render=function(){var e=this.props,t=e.payments,n=e.className,a=this.state.pageIndex;return 0===t.length?null:r("div",{className:n},void 0,r(m.default,{tag:m.default.Tags.H2},void 0,r(h.default,{align:h.default.Align.CENTER},void 0,v.default.Messages.BILLING_PAYMENT_HISTORY)),this.renderFilters(),r("div",{className:_.default.paymentPane},void 0,r("div",{className:_.default.paymentRow},void 0,r(h.default,{className:_.default.paymentRowHeader},void 0,r("div",{className:E.default.date},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),r("div",{className:E.default.description},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),r("div",{className:E.default.amount},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),r(c.default,{className:_.default.paginator,currentPageIndex:a,onChangePage:this.handlePageChange,numPages:Math.max(Math.ceil(t.length/200),1)},void 0,this.renderPage())))},i(t,[{key:"filteredPayments",get:function(){return N(this.props.payments,this.state.filter)}}]),t}(l.PureComponent);O.displayName="PaymentHistory",t.default=u.default.connectStores([d.default],function(){return{payments:d.default.getPayments()}})(O),e.exports=t.default},7088:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7089:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(2)),d=(n(127),O(n(946))),f=n(368),c=O(n(6107)),p=O(n(989)),h=O(n(532)),m=O(n(158)),y=O(n(506)),v=O(n(365)),g=O(n(69)),_=O(n(112)),E=O(n(26)),S=O(n(44)),T=n(372),C=(O(T),O(n(6))),b=n(0),N=O(n(5716));function O(e){return e&&e.__esModule?e:{default:e}}var I="isDefault",A=r(m.default.FormDivider,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));R.call(a);var o=n.paymentSource,r=n.isDefault,i=o.billingAddress;return a.state={billingAddress:{name:i.name||"",line1:i.line1||"",line2:i.line2||"",country:i.country||"",state:i.state||"",city:i.city||"",postalCode:i.postalCode||""},billingAddressValid:!1,isDefault:r,dirtyFields:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){u.default.wait(function(){(0,f.clearUpdatePaymentSourceError)(),(0,f.clearRemovePaymentSourceError)()})},t.prototype.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?r(h.default,{className:N.default.formError},void 0,n.message):null:r(h.default,{className:N.default.formError},void 0,t.message)},t.prototype.renderBillingAddressSection=function(){var e=this.state.billingAddress;return r("div",{className:N.default.addressSection},void 0,r(g.default,{color:g.default.Colors.PRIMARY,className:N.default.sectionHeader},void 0,C.default.Messages.BILLING_ADDRESS),i.createElement(p.default,o({},e,{mode:p.default.Modes.EDIT,layout:p.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},t.prototype.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,a=e.isPremium,o=this.state.billingAddressValid;return r(E.default,{justify:E.default.Justify.BETWEEN,className:N.default.formActions},void 0,r("div",{className:N.default.disabledTooltipWrapper},void 0,a?r(_.default,{text:C.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,r("div",{"aria-hidden":!0,className:N.default.disabledTooltipTarget})):null,r(S.default,{type:"button",disabled:a||t,submitting:n,onClick:this.handleDelete,look:S.default.Looks.OUTLINED,color:S.default.Colors.RED},void 0,C.default.Messages.PAYMENT_SOURCE_DELETE)),r(E.default,{grow:0},void 0,r(S.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:S.default.Looks.LINK,color:S.default.Colors.PRIMARY},void 0,C.default.Messages.CANCEL),r(S.default,{submitting:t,disabled:!o||n,type:"submit",color:S.default.Colors.GREEN},void 0,C.default.Messages.SAVE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.paymentSource,a=t.isDefault,o=t.locale,i=t.className,s=t.isPremium,u=this.state.isDefault,d=n instanceof T.CreditCardSourceRecord;return r(y.default,{editable:!0,className:(0,l.default)(N.default.card,i)},void 0,r("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),r("div",{className:N.default.paymentSection},void 0,r(c.default,{paymentSource:n,isDefault:a,isPremium:s,locale:o}),r("div",{className:N.default.subText},void 0,d?C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:b.PAYPAL_URL}))),this.renderBillingAddressSection(),r(v.default,{name:I,value:u,onChange:function(t,n){return e.handleFieldChange(n,I)},type:v.default.Types.INVERTED,className:N.default.defaultSection},void 0,r(g.default,{className:N.default.defaultCheckboxLabel,color:g.default.Colors.PRIMARY},void 0,C.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),A,this.renderActions()))},t}(i.PureComponent);M.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var R=function(){var e=this;this.handleSubmit=function(t){if(t.preventDefault(),t.stopPropagation(),0===Object.values(e.state.dirtyFields).filter(Boolean).length)e.props.onCancel();else{var n=e.state,a=n.billingAddress,o=n.isDefault;e.props.onSubmit(e.props.paymentSource.id,{billingAddress:a,isDefault:o})}},this.handleCancel=function(){e.props.onCancel()},this.handleDelete=function(){var t=e.props;(0,t.onDelete)(t.paymentSource.id)},this.handleAddressUpdate=function(t,n,a){e.setState({billingAddress:t,billingAddressValid:n,dirtyFields:o({},e.state.dirtyFields,{billingAddress:a})})},this.handleFieldChange=function(t,n){var a,r;null!=n&&e.setState(((r={})[n]=t,r.dirtyFields=o({},e.state.dirtyFields,((a={})[n]=!0,a)),r))}};M.displayName="EditPaymentSourceForm",t.default=s.default.connectStores([d.default],function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}})(M),e.exports=t.default},7090:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=b(n(1)),l=C(n(7)),s=b(n(368)),u=C(n(34)),d=C(n(7089)),f=C(n(6107)),c=C(n(6327)),p=n(58),h=C(p),m=C(n(44)),y=C(n(26)),v=C(n(112)),g=C(n(69)),_=C(n(78)),E=C(n(508)),S=(C(n(372)),C(n(6))),T=C(n(5715));function C(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(){var n,a;O(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=I(this,e.call.apply(e,[this].concat(r))),a.handleEditClick=function(){a.props.onEditClick(a.props.paymentSource.id)},I(a,n)}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,a=e.isEditing,l=e.index,s=e.hideDivider,u=(e.onEditClick,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["paymentSource","isDefault","isEditing","index","hideDivider","onEditClick"]));return a?i.createElement(d.default,r({},u,{paymentSource:t,isDefault:n})):o("div",{className:T.default.paymentSourceItem},void 0,l>0&&!s?o(E.default,{className:T.default.sourceDivider}):null,o(y.default,{align:y.default.Align.CENTER,justify:y.default.Justify.BETWEEN,className:T.default.paymentSourceRow},void 0,i.createElement(f.default,r({},this.props,{showSubtext:!0})),a?null:o(m.default,{color:m.default.Colors.PRIMARY,onClick:this.handleEditClick,size:m.default.Sizes.SMALL},void 0,S.default.Messages.EDIT)))},t}(i.PureComponent);M.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}},M.displayName="PaymentSourceItem";var R=function(e){function t(){var n,a,o,r,i=this;O(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=a=I(this,e.call.apply(e,[this].concat(u))),a.state={editingPayment:null},a.handleEditClick=function(e){a.setState({editingPayment:e})},a.handleCancel=function(){a.setState({editingPayment:null})},a.handleDelete=(r=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deletePaymentSource(t);case 3:a.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,i,[[0,6]])})),function(e){return r.apply(this,arguments)}),a.handleSubmit=(o=N(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=9;break}return e.prev=1,e.next=4,s.updatePaymentSource(t,n);case 4:a.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,i,[[1,7]])})),function(e,t){return o.apply(this,arguments)}),I(a,n)}return A(t,e),t.prototype.handleAddPaymentMethod=function(){u.default.push(function(e){return i.createElement(c.default,e)})},t.prototype.renderFooter=function(){var e=this.props.paymentSources;return o(y.default,{justify:y.default.Justify.END,className:T.default.footer},void 0,0===Object.keys(e).length?o(y.default.Child,{},void 0,o(g.default,{color:g.default.Colors.PRIMARY},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD),o("div",{className:T.default.subText},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,o(m.default,{onClick:this.handleAddPaymentMethod},void 0,S.default.Messages.BILLING_ADD_PAYMENT_METHOD))},t.prototype.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,a=t.paymentSources,r=t.locale,i=t.removing,s=t.submitting,u=t.premiumSubscriptionPaymentSourceId,d=l.default.values(a).sort(function(e,t){return e.id===n?-1:t.id===n?1:e.id>t.id?1:-1}),f=this.state.editingPayment,c=d.findIndex(function(e){return e.id===f}),m=d.map(function(t,a){return o(M,{locale:r,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isPremium:t.id===u,hideDivider:c===a-1,onSubmit:e.handleSubmit,index:a,submitting:s,removing:i,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)});return o("div",{},void 0,o(_.default,{tag:_.default.Tags.H2},void 0,o(y.default,{align:y.default.Align.CENTER},void 0,o(v.default,{position:v.default.Positions.LEFT,text:S.default.Messages.BILLING_SECURE_TOOLTIP},void 0,o(h.default,{name:p.IconNames.SECURE_LOCK,className:T.default.lockIcon})),S.default.Messages.BILLING_PAYMENT_SOURCES)),m,c!==d.length-1?o(E.default,{className:T.default.sourceDivider}):null,this.renderFooter())},t}(i.PureComponent);R.displayName="PaymentMethods",t.default=R,e.exports=t.default},7091:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(1)),i=T(n(3)),l=T(n(2)),s=T(n(946)),u=T(n(12)),d=T(n(30)),f=T(n(124)),c=T(n(279)),p=T(n(6006)),h=C(n(368)),m=T(n(5939)),y=T(n(7090)),v=T(n(7087)),g=T(n(160)),_=T(n(7084)),E=n(0),S=T(n(5711));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=o(m.default,{}),N=o(g.default,{}),O=o(_.default,{}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.wait(function(){h.fetchPaymentSources(),h.fetchPayments(),h.fetchSubscriptions()})},t.prototype.render=function(){var e=this.props,t=e.syncing,n=e.hide,a=e.paymentSources,r=e.defaultPaymentSourceId,i=e.locale,l=e.premiumSubscription,s=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?b:o("div",{className:S.default.userSettingsBilling},void 0,t&&0===a.length?o("div",{className:S.default.syncing},void 0,N):o(y.default,{paymentSources:a,defaultPaymentSourceId:r,premiumSubscriptionPaymentSourceId:null!=l&&l.status!==E.SubscriptionStatusTypes.CANCELED?l.paymentSourceId:null,locale:i,removing:s,submitting:u}),o(v.default,{locale:i,className:S.default.paymentHistory}),O)},t}(r.PureComponent);I.displayName="UserSettingsBilling",t.default=i.default.connectStores([d.default,s.default,c.default,u.default,f.default,p.default],function(){var e=p.default.getPremiumSubscription(),t=u.default.getCurrentUser();return{locale:d.default.locale,hide:f.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:c.default.defaultPaymentSourceId,paymentSources:c.default.paymentSources,syncing:s.default.isSyncing,isRemovingPaymentSource:s.default.isRemovingPaymentSource,isUpdatingPaymentSource:s.default.isUpdatingPaymentSource}})(I),e.exports=t.default},7092:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=c;var r=d(n(9)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(26))),l=n(158),s=d(n(6)),u=d(n(5720));function d(e){return e&&e.__esModule?e:{default:e}}var f=[{icon:u.default.discriminatorIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_DISCRIMINATOR,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_DISCRIMINATOR},{icon:u.default.animatedIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_ANIMATED_AVATAR_AND_EMOJI,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_ANIMATED_AVATAR_AND_EMOJI},{icon:u.default.screenshareIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_SCREENSHARE,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_SCREENSHARE},{icon:u.default.emojiIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_CUSTOM_EMOJI,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_CUSTOM_EMOJI},{icon:u.default.uploadIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_UPLOAD_LIMIT,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:s.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremium:s.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM})},{icon:u.default.badgeIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_BADGE,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_BADGE}];function c(){return o("div",{className:u.default.container},void 0,f.map(function(e,t){return o(i.default,{align:i.default.Align.CENTER,className:u.default.feature},t,o("div",{className:(0,r.default)(e.icon)}),o("div",{},void 0,o(l.FormTitle,{className:u.default.title},void 0,e.title),o("div",{className:u.default.description},void 0,e.description)))}))}c.displayName="PremiumFeatureList",e.exports=t.default},7093:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(9)),l=n(218),s=_(n(525)),u=n(220),d=n(265),f=_(n(44)),c=_(n(58)),p=_(n(160)),h=_(n(377)),m=_(n(264)),y=n(0),v=_(n(6)),g=_(n(5721));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,a=e.skuMap,m=e.storeListingMap,_=e.analyticsContext.location;return o(r.Fragment,{},void 0,o("div",{className:g.default.applications},void 0,o("div",{className:g.default.mechaWumpus}),t?o(p.default,{className:g.default.loading}):null,t?Array.from(Array(n.length)).map(function(e,t){return o("div",{className:(0,i.default)(g.default.thumbnailContainer,g.default.loadingThumbnail)},t)}):n.map(function(e){var t=m[e],n=a[e];return null==t.thumbnail?null:o(l.Link,{to:{pathname:y.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:_}},onClick:d.popLayer,className:g.default.thumbnailContainer},e,o("img",{src:(0,u.getAssetURL)(e,t.thumbnail,200),alt:n.name,className:g.default.thumbnail}))})),o("div",{className:g.default.viewAllButton},void 0,o(f.default.Link,{look:f.default.Looks.OUTLINED,color:f.default.Colors.TRANSPARENT,innerClassName:g.default.viewAllButtonInner,to:{pathname:y.Routes.APPLICATION_STORE_BROWSE,search:s.default.formatSearch({type:y.StoreApplicationTypeFilter.PREMIUM}),state:{analyticsSource:_}},onClick:d.popLayer},void 0,o("div",{},void 0,v.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS),o(c.default,{name:c.default.Names.CARET,className:g.default.viewAllIcon,direction:h.default.Directions.RIGHT}))))},t}(r.PureComponent);E.displayName="PremiumApplicationsPerk",t.default=(0,m.default)(E),e.exports=t.default},7094:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=E(n(3)),l=n(220),s=n(271),u=E(n(28)),d=E(n(6029)),f=E(n(219)),c=E(n(920)),p=S(n(272)),h=E(n(58)),m=E(n(7093)),y=E(n(7092)),v=n(0),g=E(n(6)),_=E(n(5719));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var T=["363414030188150801","425777385103949834","425442388270645248","467979045179752448","451541581778911262","360541292578471937","363412675650125825","425470408322449418"],C=o(y.default,{}),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.applicationIds;p.fetchStoreListingsForApplications(e)},t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,a=e.skuMap,r=e.storeListingMap;return o("section",{className:_.default.section},void 0,o("h4",{className:_.default.sectionHeader},void 0,o(h.default,{name:h.default.Names.Premium,className:_.default.premiumPlanName})),o("div",{className:_.default.subsection},void 0,o("h4",{className:_.default.subsectionHeader},void 0,g.default.Messages.PREMIUM_FEATURE_NEW_PREMIUM_APPLICATIONS_HEADER.format({gamesPrice:(0,s.formatPrice)(1e5,v.CurrencyCodes.USD,{minimumFractionDigits:0,maximumFractionDigits:0})})),o(m.default,{isFetching:t,applicationIds:n,skuMap:a,storeListingMap:r})),o("div",{className:_.default.subsection},void 0,o("h4",{className:_.default.subsectionHeader},void 0,g.default.Messages.PREMIUM_FEATURE_NEW_CHAT_PERKS_HEADER),C))},t}(r.PureComponent);b.displayName="PremiumFeatures",t.default=i.default.connectStores([d.default,u.default,f.default,c.default],function(){var e=!0,t={},n={},a=T,o=Array.isArray(a),r=0;for(a=o?a:a[Symbol.iterator]();;){var i;if(o){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var s=i,d=(0,l.getPrimarySKUForApplication)(s,u.default,f.default);if(null==d){e=!1;break}var p=c.default.getForSKU(d.id);if(null==p){e=!1;break}t[s]=d,n[s]=p}return{skuMap:t,storeListingMap:n,applicationIds:T,isFetching:!e}})(b),e.exports=t.default},7095:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6030)),l=f(n(355)),s=n(926),u=n(0),d=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.cancel=function(){var e=a.props.onClose;e&&e()},a.claimAccount=function(){var e=a.props.onClose;e&&e(),l.default.setSection(u.UserSettingsSections.ACCOUNT),(0,s.toggleEditingProfile)(!0)},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(i.default,{},void 0,o(i.default.Header,{},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED),o(i.default.Content,{type:i.default.Types.UNCLAIMED},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED_BODY),o(i.default.Footer,{secondary:{onClick:this.cancel,label:d.default.Messages.NEVERMIND},primary:{onClick:this.claimAccount,label:d.default.Messages.CLAIM_ACCOUNT}}))},t}(r.Component);p.displayName="UnclaimedAccountModal",t.default=p,e.exports=t.default},7096:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(44)),l=p(n(6030)),s=p(n(6139)),u=p(n(355)),d=n(926),f=n(0),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,e.call.apply(e,[this].concat(r))),a.changeEmail=function(){var e=a.props.onClose;e&&e(),u.default.setSection(f.UserSettingsSections.ACCOUNT),(0,d.toggleEditingProfile)(!0)},a.closeModal=function(){var e=a.props.onClose;e&&e()},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(l.default,{},void 0,o(l.default.Header,{},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED),o(l.default.Content,{type:l.default.Types.UNVERIFIED},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED_BODY),o(l.default.Footer,{secondary:{onClick:this.changeEmail,label:c.default.Messages.CHANGE_EMAIL_SHORT},primaryRenderer:o(s.default,{color:i.default.Colors.BRAND,onClick:this.closeModal})}))},t}(r.Component);m.displayName="UnverifiedEmailModal",t.default=m,e.exports=t.default},7097:function(e,t,n){"use strict";t.__esModule=!0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(966),i=(a=r)&&a.__esModule?a:{default:a};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=l(this,e.call.apply(e,[this].concat(i))),a.animationRef=o.createRef(),a.currentScene=a.props.scene,a.handleLoopComplete=function(){var e=a.props,t=e.onSceneComplete,n=e.scene;null!=t&&t(a.currentScene),a.playScene(n)},a.handleComplete=function(){var e=a.props.onSceneComplete;null!=e&&e(a.currentScene)},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.importData,a=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=i.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(a))})},t.prototype.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},t.prototype.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},t.prototype.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},t.prototype.playScene=function(e){var t=this.props,n=t.onScenePlay,a=t.sceneSegments[e];this.animation.playSegments([a.BEG,a.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},t.prototype.render=function(){return o.createElement("div",{ref:this.animationRef,className:this.props.className})},t}(o.PureComponent);s.displayName="SequencedLottieAnimation",t.default=s,e.exports=t.default},7098:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=k(n(1)),i=U(n(139)),l=U(n(5)),s=U(n(3)),u=U(n(2)),d=U(n(946)),f=U(n(6326)),c=U(n(30)),p=U(n(17)),h=U(n(359)),m=n(271),y=U(n(40)),v=n(226),g=U(n(525)),_=k(n(5970)),E=k(n(265)),S=U(n(44)),T=U(n(26)),C=U(n(88)),b=n(6325),N=U(n(6324)),O=U(n(158)),I=U(n(6323)),A=U(n(6322)),M=U(n(532)),R=U(n(988)),P=n(0),L=U(n(6)),w=U(n(5722)),D=U(n(570));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F=(0,v.cssValueToNumber)(D.default.innerPadding),x=(0,i.default)({CONFIRM:null,DONE:null}),G=[x.CONFIRM,x.DONE];function B(e,t){return null==e.plan?h.default.getPrice(t).amount:h.default.getPeriod(e.plan)===h.default.getPeriod(t)&&e.paymentGateway===P.PaymentGateways.STRIPE?function(e,t){var n=(0,l.default)(e.currentPeriodStart),a=(0,l.default)(e.currentPeriodEnd),o=a.diff(n,"seconds"),r=a.diff((0,l.default)(),"seconds"),i=e.plan?h.default.getPrice(e.plan).amount:0;return r/o*h.default.getPrice(t).amount-r/o*i}(e,t):function(e,t){var n=(0,l.default)(e.currentPeriodStart),a=(0,l.default)(e.currentPeriodEnd),o=a.diff(n,"seconds"),r=a.diff((0,l.default)(),"seconds"),i=e.plan?h.default.getPrice(e.plan).amount:0;return h.default.getPrice(t).amount-r/o*i}(e,t)}var j=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));H.call(a);var o=B(n.subscription,n.selectedPlan);return a.state={amount:o,playingAnimationSceneTier1:b.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:b.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:b.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:b.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,step:x.CONFIRM},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedPlan,t=this.state.amount;p.default.track(P.AnalyticEvents.PREMIUM_UPGRADE_STARTED,{plan:e,price_shown:Math.round(t)})},t.prototype.componentWillUnmount=function(){u.default.wait(function(){return _.clearError()})},t.prototype.shouldShake=function(){var e=this.state,t=e.playingAnimationSceneTier1,n=e.playingAnimationSceneTier2;return b.ShakeScenes.has(t)||b.ShakeScenes.has(n)},t.prototype.renderError=function(){var e=this.props.paymentError;return null==e?null:o(M.default,{className:w.default.error},void 0,e.message)},t.prototype.renderConfirmBody=function(){var e=this.props,t=e.subscription,n=e.selectedPlan,a=this.state.amount,i=t.plan,l=h.default.getDisplayName(n);if(null==n||null==i||null==a)return null;var s=void 0,u=h.default.getPeriod(n),d=(0,m.formatPrice)(a,P.CurrencyCodes.USD);if(function(e,t){var n=e!==P.SubscriptionPlans.PREMIUM_MONTH_TIER_2&&e!==P.SubscriptionPlans.PREMIUM_YEAR_TIER_2,a=t===P.SubscriptionPlans.PREMIUM_MONTH_TIER_2||t===P.SubscriptionPlans.PREMIUM_YEAR_TIER_2;return n&&a}(i,n)){var f=h.default.getPeriod(i);s=u===P.SubscriptionPeriods.YEARLY?f===P.SubscriptionPeriods.MONTHLY?L.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_YEAR.format({planPremiumType:h.default.getDisplayPremiumType(i),price:d}):L.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_YEAR_TIER_2_YEAR.format({planPremiumType:h.default.getDisplayPremiumType(i),price:d}):L.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_MONTH.format({planPremiumType:h.default.getDisplayPremiumType(i),price:d})}else s=L.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_YEAR.format({price:d});return o(r.Fragment,{},void 0,o(O.default.FormTitle,{tag:O.default.FormTitleTags.H4,className:w.default.title},void 0,L.default.Messages.PREMIUM_UPGRADE_CONFIRM_TITLE.format({plan:l})),this.renderError(),o("div",{className:w.default.message},void 0,s))},t.prototype.renderDoneBody=function(){var e=this.props,t=e.selectedPlan,n=e.theme,a=h.default.getPremiumType(t);return o("div",{className:w.default.doneContainer},void 0,o(A.default,{className:w.default.doneUpgraded,theme:n,premiumType:a,type:A.default.Types.UPGRADE}),o("div",{className:w.default.message},void 0,a===P.PremiumTypes.TIER_1?L.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:L.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2),a===P.PremiumTypes.TIER_1?o(S.default,{onClick:this.close},void 0,L.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1):o(S.default,{onClick:this.navigateToPremiumGames},void 0,L.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_2))},t.prototype.render=function(){var e=this.props,t=e.selectedPlan,n=e.busy,a=this.state.step,r=this.shouldShake();return o(N.default,{isShaking:r,intensity:2},void 0,o(C.default,{className:w.default.modal},void 0,o(C.default.Header,{className:w.default.header,direction:T.default.Direction.VERTICAL,align:T.default.Align.START,separator:!1},void 0,o(I.default,{shouldShowPrice:!1,plan:t,renderAnimation:this.renderAnimation,onClose:this.close})),o(C.default.Content,{},void 0,o(R.default,{step:a,steps:G,sideMargin:F},void 0,a===x.CONFIRM?this.renderConfirmBody():this.renderDoneBody())),a===x.CONFIRM?o(C.default.Footer,{},void 0,o(T.default,{justify:T.default.Justify.END},void 0,o(S.default,{onClick:this.close,look:S.default.Looks.LINK,color:w.default.secondaryButton},void 0,L.default.Messages.NEVERMIND),o(S.default,{onClick:this.confirm,color:S.default.Colors.BRAND,disabled:n},void 0,L.default.Messages.PREMIUM_UPGRADE_CONFIRM_BUTTON))):null))},t}(r.Component),H=function(){var e,t=this;this.close=function(){var e=t.props.onClose;e&&e()},this.confirm=(e=regeneratorRuntime.mark(function e(){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.subscription,null!=(o=n.selectedPlan)){e.next=3;break}return e.abrupt("return");case 3:return t.setState({animationSceneTier1:b.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:b.PremiumPaymentAnimationTier2.Scenes.BOOST_START}),e.prev=4,e.next=7,_.upgrade(a,o);case 7:t.setState({animationSceneTier1:b.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:b.PremiumPaymentAnimationTier2.Scenes.BOOST_END,step:x.DONE}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),t.setState({animationSceneTier1:b.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:b.PremiumPaymentAnimationTier2.Scenes.ERROR});case 13:case"end":return e.stop()}},e,t,[[4,10]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}),this.navigateToPremiumGames=function(){y.default.transitionTo(P.Routes.APPLICATION_STORE_BROWSE,{search:g.default.formatSearch({type:P.StoreApplicationTypeFilter.PREMIUM})}),E.popLayer(),t.close()},this.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:b.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},this.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:b.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},this.renderAnimation=function(){var e=t.props.selectedPlan;return h.default.getPremiumType(e)===P.PremiumTypes.TIER_1?o(b.PremiumPaymentAnimationTier1,{className:w.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):o(b.PremiumPaymentAnimationTier2,{className:w.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})}};j.displayName="UpgradeConfirmModal",t.default=s.default.connectStores([f.default,c.default,d.default],function(){return{theme:c.default.theme,paymentError:f.default.paymentError,busy:d.default.isBusy}})(j),e.exports=t.default},7099:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=E(n(1)),l=_(n(3)),s=_(n(44)),u=_(n(158)),d=_(n(1186)),f=_(n(6327)),c=_(n(124)),p=_(n(279)),h=_(n(6006)),m=E(n(5970)),y=_(n(34)),v=_(n(5727)),g=_(n(6));_(n(372)),_(n(6048));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=S(this,e.call.apply(e,[this].concat(l))),a.setSubscriptionPaymentSource=function(e){var t=a.props,n=t.subscription,o=t.paymentSources;if(null!=n){var r=o.find(function(t){return t.id===e});null!=r&&m.changePaymentSource(n,r)}},a.handlePaymentSourceChange=function(e,t){var n=e.value;t?y.default.push(function(e){return i.createElement(f.default,r({},e,{onAddPaymentSource:a.handlePaymentSourceAdded}))}):a.setSubscriptionPaymentSource(n)},a.handlePaymentSourceAdded=function(e){var t=e.id;a.setSubscriptionPaymentSource(t)},a.handleAddPaymentSource=function(){y.default.push(function(e){return i.createElement(f.default,e)})},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDropdown=function(){var e=this.props,t=e.paymentSources,n=e.hidePersonalInformation,a=e.defaultPaymentSourceId,r=e.premiumSubscriptionPaymentSourceId;return o(i.Fragment,{},void 0,o(u.default.FormTitle,{},void 0,g.default.Messages.BILLING_PAY_FOR_IT_WITH),o("div",{className:v.default.dropdown},void 0,o(d.default,{paymentSources:t,hidePersonalInformation:n,selectedPaymentSourceId:r,defaultPaymentSourceId:a,onChange:this.handlePaymentSourceChange})))},t.prototype.renderAddButton=function(){return o(s.default,{look:s.default.Looks.FILLED,color:s.default.Colors.PRIMARY,onClick:this.handleAddPaymentSource},void 0,g.default.Messages.BILLING_ADD_PAYMENT_METHOD)},t.prototype.render=function(){var e=this.props.paymentSources;return o("div",{className:v.default.container},void 0,e.length>0?this.renderDropdown():this.renderAddButton())},t}(i.Component);T.displayName="SubscriptionPaymentSource",t.default=l.default.connectStores([c.default,p.default,h.default],function(){var e=h.default.getPremiumSubscription(),t=null!=e?e.paymentSourceId:null,n=null!=t?p.default.getPaymentSource(t):null,a=Object.values(p.default.paymentSources);return{paymentSources:null!=n?a.filter(function(e){return e.type===n.type}):a,hidePersonalInformation:c.default.hidePersonalInformation,premiumSubscriptionPaymentSourceId:t,defaultPaymentSourceId:p.default.defaultPaymentSourceId}})(T),e.exports=t.default},7100:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=c(n(1)),i=c(n(5970)),l=f(n(359)),s=f(n(6030)),u=f(n(6)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.abort=function(){var e=a.props.onClose;e&&e()},a.continue=function(){var e=a.props,t=e.subscription,n=e.onClose;i.cancel(t.id),n&&n()},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.subscription,t=e.plan;if(null==t)return null;var n=l.default.getDisplayPremiumType(t),a=l.default.getPremiumType(t);return o(s.default,{},void 0,o(s.default.Header,{},void 0,u.default.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:n})),o(s.default.Content,{type:s.default.Types.CANCEL},void 0,a===d.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:e.currentPeriodEnd}):u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:e.currentPeriodEnd})),o(s.default.Footer,{secondary:{onClick:this.abort,label:u.default.Messages.NEVERMIND},primary:{onClick:this.continue,label:u.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:n})}}))},t}(r.Component);h.displayName="CancelConfirmModal",t.default=h,e.exports=t.default},7101:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=S(n(1)),l=E(n(9)),s=E(n(359)),u=n(271),d=E(n(34)),f=S(n(5970)),c=n(44),p=E(c),h=E(n(58)),m=E(n(7100)),y=E(n(6328)),v=n(0),g=E(n(5729)),_=E(n(6));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=a=T(this,e.call.apply(e,[this].concat(l))),a.unsubscribe=function(){var e=a.props.subscription;null!=e.plan&&s.default.isGrandfathered(e.plan)?d.default.push(function(e){return i.createElement(y.default,r({},e,{onConfirm:a.showCancelModal}))}):a.showCancelModal()},a.showCancelModal=function(){var e=a.props.subscription;d.default.push(function(t){return i.createElement(m.default,r({},t,{subscription:e}))})},a.resubscribe=function(){var e=a.props,t=e.paymentSource,n=e.subscription;null!=n&&(null!=t?f.resubscribe(n,t):f.openModal(v.PremiumPaymentSubscriptionModes.RESUBSCRIBE,n.plan))},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSubscriptionInfo=function(){var e=this.props.subscription,t=e.plan,n=e.currentPeriodEnd,a=e.status;if(null==t)return null;if(a===v.SubscriptionStatusTypes.PAST_DUE)return _.default.Messages.PREMIUM_PAST_DUE;if(a===v.SubscriptionStatusTypes.CANCELED)return _.default.Messages.PREMIUM_CANCELED.format({date:n});var o=s.default.getPrice(t),r=(0,u.formatPrice)(o.amount,o.currency);return s.default.getPeriod(t)===v.SubscriptionPeriods.YEARLY?_.default.Messages.PREMIUM_INFO_YEARLY.format({price:r,date:n}):_.default.Messages.PREMIUM_INFO_MONTHLY.format({price:r,date:n})},t.prototype.renderButtons=function(){var e=this.props,t=e.busy,n=e.subscription.status===v.SubscriptionStatusTypes.CANCELED;return o(i.Fragment,{},void 0,n?o(p.default,{className:g.default.toolsButton,size:p.default.Sizes.SMALL,look:c.ButtonLooks.INVERTED,color:c.ButtonColors.YELLOW,submitting:t,onClick:this.resubscribe},void 0,_.default.Messages.RESUBSCRIBE):o(p.default,{className:g.default.toolsButton,size:p.default.Sizes.SMALL,look:c.ButtonLooks.INVERTED,color:c.ButtonColors.BRAND,submitting:t,onClick:this.unsubscribe},void 0,_.default.Messages.CANCEL))},t.prototype.render=function(){var e,t=this.props.subscription,n=t.status,a=t.plan;if(null==a)return null;var r=n===v.SubscriptionStatusTypes.UNPAID||n===v.SubscriptionStatusTypes.ACTIVE,u=s.default.getPremiumType(a),d=s.default.isGrandfathered(a),f=((e={})[g.default.tierGrandfathered]=r&&d,e[g.default.tier1]=r&&!d&&u===v.PremiumTypes.TIER_1,e[g.default.tier2]=r&&!d&&u===v.PremiumTypes.TIER_2,e[g.default.canceled]=n===v.SubscriptionStatusTypes.CANCELED,e[g.default.pastDue]=n===v.SubscriptionStatusTypes.PAST_DUE,e);return o(i.Fragment,{},void 0,o("div",{className:(0,l.default)(g.default.banner,f)},void 0,o("div",{className:(0,l.default)(g.default.image,f)}),o("div",{className:g.default.details},void 0,u===v.PremiumTypes.TIER_2||d?o(h.default,{name:h.default.Names.Premium,className:(0,l.default)(g.default.planName,f)}):o(h.default,{name:h.default.Names.Premium_CLASSIC,className:(0,l.default)(g.default.planName,f)}),o("div",{className:g.default.periodInfo},void 0,this.renderSubscriptionInfo())),o("div",{className:g.default.buttons},void 0,this.renderButtons())))},t}(i.Component);C.displayName="SubscriptionHeader",t.default=C,e.exports=t.default},7102:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(359)),l=n(271),s=y(n(58)),u=y(n(69)),d=n(158),f=y(n(7101)),c=y(n(7099)),p=n(0),h=y(n(6)),m=y(n(5726));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGrandfathered=function(){var e=this.props.subscription.plan;if(null==e)return null;var t=i.default.getGrandfatheredEndDate(e),n=h.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_YEARLY.format({date:t}),a=h.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_MONTHLY.format({date:t});return o("div",{className:m.default.grandfatheredMessage},void 0,o(s.default,{name:s.default.Names.Premium_WHEEL,className:m.default.grandfatheredIcon}),o("span",{},void 0,i.default.getPeriod(e)===p.SubscriptionPeriods.YEARLY?n:a))},t.prototype.render=function(){var e=this.props,t=e.subscription,n=e.paymentSource,a=e.busy,r=t.plan;if(null==r)return null;var s=i.default.getPeriod(r)===p.SubscriptionPeriods.YEARLY,y=i.default.getPrice(r),v=(0,l.formatPrice)(y.amount,y.currency),g=i.default.getDisplayPremiumType(r),_=i.default.isGrandfathered(r);return o("div",{className:m.default.section},void 0,o(d.FormTitle,{tag:d.FormTitle.Tags.H2},void 0,h.default.Messages.BILLING_PAYMENT_PREMIUM),_?this.renderGrandfathered():null,o("div",{className:m.default.details},void 0,o(f.default,{subscription:t,paymentSource:n,busy:a}),o(c.default,{subscription:t})),t.status!==p.SubscriptionStatusTypes.CANCELED?o(u.default,{className:m.default.finePrint,size:u.default.Sizes.SMALL},void 0,s?h.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_YEARLY.format({price:v,url:p.MarketingURLs.TERMS,planPremiumType:g}):h.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_MONTHLY.format({price:v,url:p.MarketingURLs.TERMS,planPremiumType:g})):null)},t}(r.Component);v.displayName="SubscriptionDetails",t.default=v,e.exports=t.default},7103:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=x(n(1)),l=F(n(9)),s=F(n(3)),u=F(n(359)),d=n(271),f=F(n(124)),c=F(n(12)),p=F(n(946)),h=F(n(279)),m=F(n(6329)),y=F(n(6006)),v=F(n(30)),g=x(n(368)),_=x(n(5970)),E=F(n(34)),S=F(n(44)),T=F(n(58)),C=F(n(160)),b=n(158),N=F(n(112)),O=F(n(5939)),I=F(n(7102)),A=F(n(7098)),M=F(n(7096)),R=F(n(7095)),P=F(n(6328)),L=F(n(7094)),w=(F(n(6048)),n(0)),D=F(n(6)),U=F(n(504)),k=F(n(5718));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var G=o(O.default,{}),B=o(C.default,{}),j=o(L.default,{}),H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.fetchSubscriptions(),g.fetchPaymentSources()},t.prototype.handleUpgrade=function(e){var t=this,n=this.props,a=n.premiumSubscription,o=n.paymentSource,l=n.isClaimed,s=n.isVerified;l?s?null!=o&&null!=a?null!=a.plan&&u.default.isGrandfathered(a.plan)?E.default.push(function(n){return i.createElement(P.default,r({},n,{onConfirm:function(){return t.showUpgradeModal(e)}}))}):this.showUpgradeModal(e):_.openModal(w.PremiumPaymentSubscriptionModes.NEW,e):E.default.push(function(e){return i.createElement(M.default,e)}):E.default.push(function(e){return i.createElement(R.default,e)})},t.prototype.showUpgradeModal=function(e){var t=this.props,n=t.premiumSubscription,a=t.paymentSource;E.default.push(function(t){return i.createElement(A.default,r({},t,{subscription:n,paymentSource:a,selectedPlan:e}))})},t.prototype.renderMonthlyButton=function(e,t,n,a){var r=this;return o(S.default,{look:S.default.Looks.OUTLINED,color:S.default.Colors.GREEN,className:k.default.subscribeButton,onClick:function(){return r.handleUpgrade(e)},disabled:n},void 0,a?D.default.Messages.BILLING_PRICE_PER_MONTH_UPGRADE.format({price:(0,d.formatPrice)(t.amount,t.currency)}):D.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,d.formatPrice)(t.amount,t.currency)}))},t.prototype.renderYearlyButton=function(e,t,n,a){var r=this;return o("div",{className:k.default.yearlyButton},void 0,o(S.default,{look:S.default.Looks.FILLED,color:S.default.Colors.GREEN,onClick:function(){return r.handleUpgrade(e)},className:k.default.subscribeButton,disabled:n},void 0,a?D.default.Messages.BILLING_PRICE_PER_YEAR_UPGRADE.format({price:(0,d.formatPrice)(t.amount,t.currency)}):D.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,d.formatPrice)(t.amount,t.currency)})),o("div",{className:k.default.yearlyNote},void 0,D.default.Messages.PREMIUM_YEAR_FREE_MONTHS_SHORT))},t.prototype.renderButtonTooltip=function(e,t,n,a){var r=void 0;return a&&null!=n&&(n.plan===t||n.plan===w.SubscriptionPlans.PREMIUM_MONTH_LEGACY&&t===w.SubscriptionPlans.PREMIUM_MONTH_TIER_1||n.plan===w.SubscriptionPlans.PREMIUM_YEAR_LEGACY&&t===w.SubscriptionPlans.PREMIUM_YEAR_TIER_1?r=D.default.Messages.PREMIUM_UPGRADE_DISABLED_CURRENT_TOOLTIP:a&&(r=D.default.Messages.PREMIUM_UPGRADE_DISABLED_LOWER_TIER_TOOLTIP)),null!=r?o("div",{className:k.default.disabledButtonWrapper},void 0,e,o(N.default,{text:r},void 0,o("div",{className:k.default.disabledButtonOverlay}))):e},t.prototype.renderButtonWrapper=function(e){var t,n=this.props,a=n.premiumSubscription,r=n.upgradeEligibilities,i=u.default.getPeriod(e),s=u.default.getPrice(e),d=!r.has(e),f=null!=a&&!d,c=i===w.SubscriptionPeriods.MONTHLY?this.renderMonthlyButton(e,s,d,f):this.renderYearlyButton(e,s,d,f),p=this.renderButtonTooltip(c,e,a,d);return o("div",{className:(0,l.default)((t={},t[k.default.newSubscriptionButton]=!f,t[k.default.upgradeSubscriptionButton]=f,t))},void 0,p)},t.prototype.renderTier2Subscription=function(){return o("section",{className:k.default.sectionTier2},void 0,o("div",{className:k.default.title},void 0,D.default.Messages.PREMIUM_APPLICATIONS_TITLE),o("div",{className:k.default.subtitle},void 0,D.default.Messages.PREMIUM_APPLICATIONS_SUBTITLE),o("div",{className:k.default.horizontalButtons},void 0,o("div",{className:k.default.horizontalButton},void 0,this.renderButtonWrapper(w.SubscriptionPlans.PREMIUM_MONTH_TIER_2)),o("div",{className:k.default.horizontalButton},void 0,this.renderButtonWrapper(w.SubscriptionPlans.PREMIUM_YEAR_TIER_2))))},t.prototype.renderTier1Subscription=function(){return o("section",{className:k.default.sectionTier1},void 0,o("h3",{className:k.default.sectionHeader},void 0,D.default.Messages.PREMIUM_CHAT_PERKS_ONLY_TITLE),o("div",{className:k.default.tier1Banner},void 0,o("div",{className:k.default.tier1Image}),o("div",{className:k.default.planInfo},void 0,o(T.default,{name:T.default.Names.Premium_CLASSIC,className:k.default.headerIcon}),o("div",{className:k.default.planDescription},void 0,D.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION,o("div",{className:k.default.planFeatures},void 0,o("div",{className:(0,l.default)(k.default.planFeature,k.default.featureNotIncluded)},void 0,o(T.default,{name:T.default.Names.CLOSE,className:(0,l.default)(k.default.planFeatureIcon)}),D.default.Messages.PREMIUM_FEATURES_PREMIUM_APPLICATIONS),o("div",{className:(0,l.default)(k.default.planFeature)},void 0,o(T.default,{name:T.default.Names.CHECKMARK,className:(0,l.default)(k.default.planFeatureIcon,k.default.iconIncluded)}),D.default.Messages.PREMIUM_FEATURES_CHAT_PERKS)))),o("div",{className:k.default.verticalButtons},void 0,this.renderButtonWrapper(w.SubscriptionPlans.PREMIUM_MONTH_TIER_1),this.renderButtonWrapper(w.SubscriptionPlans.PREMIUM_YEAR_TIER_1))))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.syncing,a=e.premiumSubscription,r=e.busy,s=e.paymentSource;return t?G:n?o("div",{className:(0,l.default)(k.default.container,k.default.loading)},void 0,B):o("div",{className:k.default.container},void 0,o("div",{className:k.default.background}),o("div",{className:k.default.content},void 0,null!=a?o(i.Fragment,{},void 0,o(I.default,{subscription:a,paymentSource:s,busy:r}),o(b.FormDivider,{className:(0,l.default)(U.default.marginBottom20,U.default.marginTop20)})):null,this.renderTier2Subscription(),j,this.renderTier1Subscription()))},t}(i.PureComponent);H.displayName="UserSettingsPremium",t.default=s.default.connectStores([y.default,p.default,m.default,h.default,c.default,f.default,v.default],function(){var e=y.default.getPremiumSubscription(),t=c.default.getCurrentUser(),n=null!=e?new Set(u.default.getUpgradeEligibilities(e.plan)):new Set(u.default.getUpgradeEligibilities(null));return{locale:v.default.locale,hide:f.default.enabled,isClaimed:null!=t.email&&""!==t.email,isVerified:t.verified,syncing:p.default.isSyncing,busy:p.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?h.default.getPaymentSource(e.paymentSourceId):null,upgradeEligibilities:n}})(H),e.exports=t.default},7104:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(9)),s=j(n(3)),u=j(n(6)),d=j(n(5)),f=j(n(30)),c=j(n(27)),p=j(n(12)),h=j(n(996)),m=j(n(507)),y=j(n(915)),v=j(n(44)),g=j(n(112)),_=j(n(509)),E=j(n(355)),S=n(926),T=j(n(34)),C=j(n(266)),b=n(6635),N=j(n(508)),O=n(78),I=j(O),A=j(n(5928)),M=n(261),R=j(M),P=j(n(161)),L=j(n(69)),w=j(n(506)),D=j(n(26)),U=j(n(504)),k=j(n(5731)),F=n(6619),x=j(n(505)),G=n(6330),B=n(0);function j(e){return e&&e.__esModule?e:{default:e}}function H(e){var t=e.body,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["body"]);T.default.push(function(e){return i.createElement(P.default,o({},e,n),r(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,t))})}function V(e){var t=e.message;H({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:u.default.Messages.OKAY,red:!0,body:t})}var Y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a.handleUsageStatisticsChange=function(){!a.props.usageStatistics?(0,b.setConsents)([B.Consents.USAGE_STATISTICS],[]).catch(V):H({header:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,b.setConsents)([],[B.Consents.USAGE_STATISTICS]).catch(V)}})},a.handlePersonalizationChange=function(){!a.props.personalization?(0,b.setConsents)([B.Consents.PERSONALIZATION],[]).catch(V):H({header:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,b.setConsents)([],[B.Consents.PERSONALIZATION]).catch(V)},body:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},a.handleDataDownloadRequest=function(){H({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){a.setState({requestingHarvest:!0},function(){(0,S.requestHarvest)().then(function(e){null!=e&&null!=e.body?(a.setState({currentHarvestRequest:e.body}),C.default.show({body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return a.setState({requestingHarvest:!1})})})}})},a.handleChangeDefaultGuildsRestricted=a.handleChangeDefaultGuildsRestricted.bind(a);var o=n.defaultGuildsRestricted;return a.state={defaultGuildsRestricted:o,currentHarvestRequest:null,requestingHarvest:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this;(0,b.fetchConsents)(),(0,S.getHarvestStatus)().then(function(t){console.log("getHarvestStatus",t);var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(t){console.log("getHarvestStatus error",t),e.setState({requestingHarvest:!1})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultGuildsRestricted;t!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:t})},t.prototype.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(B.FriendSourceFlagKeys.ALL)||n(e)},t.prototype.onFieldChange=function(e,t){var n,a,r=this.props.friendSourceFlags,i=void 0;if(e===B.FriendSourceFlagKeys.ALL)t?((n={})[B.FriendSourceFlagKeys.ALL]=!0,n[B.FriendSourceFlagKeys.FRIENDS]=!0,n[B.FriendSourceFlagKeys.GUILDS]=!0,i=n):((a={})[B.FriendSourceFlagKeys.ALL]=!1,a[B.FriendSourceFlagKeys.FRIENDS]=!0,a[B.FriendSourceFlagKeys.GUILDS]=!0,i=a);else if(t){var l,s=!1;switch(e){case B.FriendSourceFlagKeys.FRIENDS:s=!0===r[B.FriendSourceFlagKeys.GUILDS];break;default:s=!0===r[B.FriendSourceFlagKeys.FRIENDS]}i=o({},r,((l={})[B.FriendSourceFlagKeys.ALL]=s,l[e]=!0,l))}else{var u;i=o({},r,((u={})[B.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(i)},t.prototype.updatePermittedFriendSourceFlags=function(e){_.default.updateRemoteSettings({friendSourceFlags:e})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;_.default.updateRemoteSettings({explicitContentFilter:t})},t.prototype.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},t.prototype.showGuildRestrictionModal=function(e){H({header:u.default.Messages.USER_DM_SETTINGS,body:u.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:u.default.Messages.YES_TEXT,cancelText:u.default.Messages.NO_TEXT,onConfirm:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(c.default.getGuilds()):[]})},onCancel:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},t.prototype.renderFriendSettings=function(){var e=this;return r(m.default,{title:u.default.Messages.FRIEND_PERMITTED_SOURCE,className:U.default.marginBottom40},void 0,r(y.default,{className:(0,l.default)(U.default.marginTop8,U.default.marginBottom20),value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),r(y.default,{value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),r(y.default,{className:U.default.marginReset,value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},t.prototype.renderDMSafety=function(){return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom4},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom8},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),r(A.default,{value:this.props.explicitContentFilter,options:(0,F.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},t.prototype.renderServerPrivacy=function(){return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom8},void 0,u.default.Messages.USER_DM_SETTINGS),r(y.default,{className:U.default.marginReset,value:!this.state.defaultGuildsRestricted,note:u.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,u.default.Messages.NEW_GUILDS_DM_ALLOWED))},t.prototype.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return r(m.default,{className:U.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:U.default.marginBottom8},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS),r(y.default,{value:t,note:u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE,onChange:this.handleUsageStatisticsChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),r(y.default,{value:n,note:u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:x.default.getArticleURL(B.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),r(I.default,{tag:O.Tags.H3,className:(0,l.default)(U.default.marginTop20,U.default.marginBottom8)},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){E.default.setSection(B.UserSettingsSections.ACCOUNT),(0,S.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},t.prototype.renderHarvestRequest=function(){var e=this.props.currentUser,t=this.state,n=t.requestingHarvest,a=t.currentHarvestRequest,o=(0,G.harvestDisabled)(a,e),l=r(v.default,{disabled:o,onClick:this.handleDataDownloadRequest,look:v.default.Looks.OUTLINED,color:v.default.Colors.BRAND,submitting:n},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD);e.verified||(l=r(g.default,{text:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,l));var s=void 0;return o&&null!=a&&(s=r(w.default,{className:k.default.card},void 0,r(L.default,{size:L.default.Sizes.MEDIUM,color:L.default.Colors.PRIMARY},void 0,u.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,d.default)(a.created_at).add(B.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),l=null),null!=l&&(l=r(D.default,{},void 0,l)),r(i.Fragment,{},void 0,r(N.default,{className:U.default.marginBottom20}),r(I.default,{tag:O.Tags.H3},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),r(R.default,{type:M.Types.DESCRIPTION,className:U.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:x.default.getArticleURL(B.HelpdeskArticles.GDPR_REQUEST_DATA)})),s,l)},t.prototype.render=function(){var e=this.props.fetchedConsents;return r(m.default,{tag:O.Tags.H2,title:u.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null)},t}(i.PureComponent);Y.displayName="UserSettingsPrivacySafety",t.default=s.default.connectStores([f.default,p.default,h.default],function(){return{currentUser:p.default.getCurrentUser(),friendSourceFlags:(0,G.computeFlags)(),explicitContentFilter:f.default.explicitContentFilter,defaultGuildsRestricted:f.default.defaultGuildsRestricted,fetchedConsents:h.default.fetchedConsents,usageStatistics:h.default.hasConsented(B.Consents.USAGE_STATISTICS),personalization:h.default.hasConsented(B.Consents.PERSONALIZATION)}})(Y),e.exports=t.default},7105:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(6)),l=h(n(9)),s=h(n(507)),u=n(78),d=h(u),f=h(n(915)),c=h(n(11)),p=h(n(504));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a.handleToggleOpenOnStartup=function(){var e=!a.state.openOnStartup;a.setState({openOnStartup:e}),c.default.send("TOGGLE_OPEN_ON_STARTUP",e)},a.handleToggleStartMinimized=function(){var e=!a.state.startMinimized;a.setState({startMinimized:e}),c.default.send("TOGGLE_START_MINIMIZED",e)},a.handleToggleMinimizeToTray=function(){var e=!a.state.minimizeToTray;a.setState({minimizeToTray:e}),c.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var o=c.default.getGlobal("appSettings");return a.state={openOnStartup:o.get("OPEN_ON_STARTUP",!0),startMinimized:o.get("START_MINIMIZED",!1),minimizeToTray:o.get("MINIMIZE_TO_TRAY",!0)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,a=e.minimizeToTray,r=c.default.isLinux()?i.default.Messages.USER_SETTINGS_LINUX_SETTINGS:i.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return o(s.default,{tag:u.Tags.H2,title:r},void 0,o(d.default,{},void 0,i.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),o(f.default,{className:p.default.marginBottom20,value:t,note:i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),c.default.isWindows()?o(f.default,{disabled:!t,className:(0,l.default)(p.default.marginTop8,p.default.marginBottom20),value:!!t&&n,note:i.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,i.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,o(d.default,{className:(0,l.default)(p.default.marginTop20,p.default.marginBottom8)},void 0,i.default.Messages.USER_SETTINGS_CLOSE_BUTTON),o(f.default,{className:p.default.marginBottom20,value:a,note:i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},t}(r.PureComponent);m.displayName="UserSettingsWindows",t.default=m,e.exports=t.default},7106:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(3)),s=I(n(7)),u=I(n(223)),d=I(n(526)),f=I(n(5977)),c=I(n(361)),p=I(n(6333)),h=I(n(17)),m=(I(n(505)),n(371)),y=n(158),v=I(n(6331)),g=I(n(26)),_=I(n(263)),E=I(n(915)),S=I(n(6138)),T=I(n(5928)),C=I(n(6)),b=n(0),N=I(n(504)),O=I(n(5732));function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(){return s.default.find(f.default.getState(),function(e){return!0===e.managed&&e.action===b.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK})}function R(){var e=u.default.getNotificationPositionMode(),t=e!==b.OverlayNotificationPositions.DISABLED,n=M(),a=f.default.getOverlayChatKeybind();h.default.track(b.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:d.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:u.default.getTextChatNotificationMode(),hotkey:null!=n?(0,m.toString)(n.shortcut):null,text_activation_hotkey:null!=a?(0,m.toString)(a.shortcut):null,text_opacity_slider:u.default.getTextWidgetOpacity()})}var P=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=A(this,e.call.apply(e,[this].concat(i))),a.handleChangeEnabled=function(e){c.default.setEnabled(e.currentTarget.checked),R(),h.default.track(b.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},a.handleChangeDisplayNameMode=function(e){var t=e.value;c.default.setDisplayNameMode(t)},a.handleChangeAvatarSizeMode=function(e){var t=e.value;c.default.setAvatarSizeMode(t)},a.handleChangeDisplayUserMode=function(e){var t=e.value;c.default.setDisplayUserMode(t)},a.handleChangeTextNotificationMode=function(){var e=b.OverlayNotificationTextChatTypes.ENABLED,t=b.OverlayNotificationTextChatTypes.DISABLED,n=a.props.textChatNotificationMode===e?t:e;c.default.setTextChatNotificationMode(n),R()},a.handleChangeNotificationPositionMode=function(e,t){c.default.setNotificationPositionMode(t),R()},a.handleInputLockShortcutChange=function(e){p.default.setKeybind(r({},a.props.inputLockKeybind,{shortcut:e})),R()},A(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderExplanation=function(){return null},t.prototype.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{basis:"50%"},void 0,o(_.default,{},void 0,o(y.FormTitle,{tag:y.FormTitleTags.H5},void 0,C.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),o(E.default,{className:"margin-bottom-20",style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,C.default.Messages.ENABLE_INGAME_OVERLAY))),o(g.default.Child,{basis:"50%"},void 0,o(_.default,{title:C.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,o(S.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},t.prototype.renderAvatarSize=function(){return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{},void 0,o(_.default,{title:C.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,o(T.default,{options:[{name:C.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:b.OverlayAvatarSizes.LARGE},{name:C.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:b.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},t.prototype.renderDisplayNames=function(){return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{},void 0,o(_.default,{title:C.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,o(T.default,{options:[{name:C.default.Messages.DISPLAY_OPTION_ALWAYS,value:b.OverlayDisplayNames.ALWAYS},{name:C.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:b.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:C.default.Messages.DISPLAY_OPTION_NEVER,value:b.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},t.prototype.renderDisplayUsers=function(){return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{},void 0,o(_.default,{title:C.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,o(T.default,{options:[{name:C.default.Messages.DISPLAY_OPTION_ALWAYS,value:b.OverlayDisplayUsers.ALWAYS},{name:C.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:b.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},t.prototype.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==b.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===b.OverlayNotificationTextChatTypes.ENABLED;return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{},void 0,o(_.default,{},void 0,o(E.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,C.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},t.prototype.renderNotificationPosition=function(){return o(g.default,{className:"margin-bottom-20"},void 0,o(g.default.Child,{},void 0,o(_.default,{title:C.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,o("div",{className:O.default.notificationSettings},void 0,o(v.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},t.prototype.render=function(){return o(i.Fragment,{},void 0,o(y.FormSection,{tag:y.FormTitleTags.H2,title:C.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),o(y.FormSection,{tag:y.FormTitleTags.H2,title:C.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:N.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},t}(i.PureComponent);P.displayName="UserSettingsOverlay",t.default=l.default.connectStores([d.default,u.default,f.default],function(){return{enabled:d.default.enabled,avatarSizeMode:u.default.getAvatarSizeMode(),displayNameMode:u.default.getDisplayNameMode(),displayUserMode:u.default.getDisplayUserMode(),notificationPositionMode:u.default.getNotificationPositionMode(),textChatNotificationMode:u.default.getTextChatNotificationMode(),inputLockKeybind:M()}})(P),e.exports=t.default},7107:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},7108:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},7109:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},7110:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},7111:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},7112:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},7113:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},7114:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=K(n(3)),s=n(57),u=n(545),d=K(n(9)),f=n(101),c=K(n(60)),p=K(n(521)),h=K(n(30)),m=K(n(543)),y=K(n(358)),v=K(n(34)),g=K(n(355)),_=K(n(363)),E=K(n(11)),S=K(n(6)),T=K(n(7)),C=K(n(507)),b=n(1190),N=K(b),O=n(506),I=K(n(26)),A=K(n(263)),M=K(n(508)),R=K(n(261)),P=K(n(949)),L=K(n(511)),w=K(n(950)),D=K(n(5928)),U=K(n(6138)),k=K(n(915)),F=n(78),x=K(F),G=n(44),B=K(G),j=K(n(364)),H=K(n(161)),V=K(n(69)),Y=n(0),W=K(n(5734)),z=K(n(1169));function K(e){return e&&e.__esModule?e:{default:e}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q=r("div",{className:"grow"}),J=function(e){function t(n){$(this,t);var a=q(this,e.call(this,n));return a._timeout=new s.Timeout,a.state={volume:-100,speaking:!1},T.default.bindAll(a,["setupVoiceActivity","handleVoiceActivity","handleAutoThresholdChange","handleSensitivityChange","handleValueRender"]),a}return X(t,e),t.prototype.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){c.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.setupVoiceActivity=function(){c.default.getMediaEngine().on("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.handleVoiceActivity=function(e,t){this.setState({volume:e,speaking:(t&f.SpeakingFlags.VOICE)===f.SpeakingFlags.VOICE})},t.prototype.handleAutoThresholdChange=function(e){var t=this.props,n=t.onThresholdChange,a=t.threshold;n&&n(a,e.target.checked)},t.prototype.handleSensitivityChange=function(e){var t=this.props,n=t.onThresholdChange,a=t.auto;n&&n(-1*(100-e),a)},t.prototype.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},t.prototype.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(c.default.supports(f.Features.AUTOMATIC_VAD))return r(u.SmartUID,{},void 0,function(n){return r("div",{className:"flex-horizontal margin-bottom-4"},void 0,r(x.default,{tag:F.Tags.H3,className:"margin-reset"},void 0,r("label",{htmlFor:n},void 0,S.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),r(P.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},t.prototype.renderSlider=function(){var e,t=this.props,n=t.auto,a=t.threshold,o=t.speaking;return n?r("section",{className:W.default.inputSensitivityToggle},void 0,r("div",{className:z.default.slider},void 0,r("div",{className:(0,d.default)(z.default.bar,W.default.sliderBar,(e={},e[W.default.speaking]=o||this.state.speaking,e))})),r(R.default,{type:R.default.Types.DESCRIPTION,className:"input-sensitivity-note margin-bottom-8"},void 0,S.default.Messages.FORM_HELP_AUTOMATIC_VAD)):r("section",{className:(0,d.default)(W.default.inputSensitivityToggle,W.default.manual)},void 0,r(w.default,{defaultValue:a+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:Y.Colors.STATUS_GREEN_400},fillStyles:{background:Y.Colors.STATUS_YELLOW_400}},void 0,r("div",{className:(0,d.default)(W.default.sliderBar,W.default.microphone,z.default.bar)},void 0,r("div",{className:(0,d.default)(W.default.fill,z.default.barFill),style:{width:this.state.volume+100+"%"}}),Q)))},t.prototype.renderInputDisabledWarning=function(){if(!c.default.isEnabled())return r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.inputDisabledWarning,"margin-bottom-8")},void 0,S.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:y.default.enable}))},t.prototype.render=function(){return r(A.default,{className:W.default.sensitivity},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),r("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(i.PureComponent);J.displayName="VoiceSensitivity";var Z=l.default.connectStores([p.default],function(){return{speaking:p.default.isCurrentUserSpeaking()}})(J),ee=r(M.default,{lineOnly:!0,className:"margin-bottom-20"}),te=r(M.default,{lineOnly:!0,className:"margin-bottom-20"}),ne=r(M.default,{className:"margin-bottom-40 margin-top-40"}),ae=r(M.default,{className:"margin-top-8 margin-bottom-40"}),oe=r(M.default,{className:"margin-bottom-40"}),re=function(e){function t(a){$(this,t);var o=q(this,e.call(this,a));return o.renderDevice=function(e){var t=e.label,a=e.value,i=void 0;if(m.default.isCertified(a)){var l=o.props.theme===Y.ThemeTypes.LIGHT?n(7113):n(7112);i=r("img",{src:l,alt:"Certified",className:W.default.deviceOptionCertified})}return r("span",{className:W.default.deviceOption},a,r("span",{className:W.default.deviceOptionLabel},void 0,m.default.getCertifiedDeviceName(a,t)),i)},o.state={showCamera:!1},T.default.bindAll(o,["handleInputDeviceChange","handleOutputDeviceChange","handleInputVolumeChange","handleOutputVolumeChange","handleOutputRender","handleInputModeChange","handleDelayChange","handleThresholdChange","handleVideoDeviceChange","handleEchoCancellationChange","handleNoiseSuppressionChange","handleAutomaticGainControlChange","handleSilenceWarningChange","handleDebugLoggingChange","handleQoSChanged","handleAttenuationChange","handleAttenuateSelfChanged","handleAttenuateOthersChanged","handleVoiceReset","handleAudioSubsystemChanged","handleShortcutChange","handleShowCamera"]),o}return X(t,e),t.prototype.handleInputDeviceChange=function(e){var t=e.value;y.default.setInputDevice(t,"Settings")},t.prototype.handleOutputDeviceChange=function(e){var t=e.value;y.default.setOutputDevice(t,"Settings")},t.prototype.handleDownload=function(e){v.default.push(_.default,{source:e})},t.prototype.handleInputVolumeChange=function(e){y.default.setInputVolume(e)},t.prototype.handleOutputVolumeChange=function(e){var t=2*e;y.default.setOutputVolume(t)},t.prototype.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},t.prototype.handleInputModeChange=function(e){var t=this,a=e.value;a===Y.InputModes.PUSH_TO_TALK&&this.props.usePTTLimited&&v.default.push(function(e){return i.createElement(j.default,o({title:S.default.Messages.PTT_LIMITED_TITLE,confirmText:S.default.Messages.DOWNLOAD,cancelText:S.default.Messages.OKAY,onConfirm:t.handleDownload.bind(t,"PTT Limited Modal"),body:S.default.Messages.PTT_LIMITED_BODY,iconUrl:n(7111)},e))}),y.default.setMode(a)},t.prototype.handleDelayChange=function(e){y.default.setMode(this.props.inputMode,{delay:e})},t.prototype.handleThresholdChange=function(e,t){y.default.setMode(this.props.inputMode,{threshold:e,autoThreshold:t})},t.prototype.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},t.prototype.handleVideoDeviceChange=function(e){var t=e.value;y.default.setVideoDevice(t,"Settings")},t.prototype.handleEchoCancellationChange=function(e){y.default.setEchoCancellation(e.currentTarget.checked)},t.prototype.handleNoiseSuppressionChange=function(e){y.default.setNoiseSuppression(e.currentTarget.checked)},t.prototype.handleAutomaticGainControlChange=function(e){y.default.setAutomaticGainControl(e.currentTarget.checked)},t.prototype.handleSilenceWarningChange=function(e){y.default.setSilenceWarning(e.currentTarget.checked)},t.prototype.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;v.default.push(function(e){return i.createElement(H.default,o({header:S.default.Messages.SET_DEBUG_LOGGING,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return y.default.setDebugLogging(t)},red:!0},e),r(V.default,{size:V.default.Sizes.MEDIUM,color:V.default.Colors.PRIMARY},void 0,S.default.Messages.SET_DEBUG_LOGGING_BODY))})},t.prototype.handleQoSChanged=function(e){y.default.setQoS(e.currentTarget.checked)},t.prototype.handleAttenuationChange=function(e){y.default.setAttenuation(e,this.props.attenuateWhileSpeakingSelf,this.props.attenuateWhileSpeakingOthers)},t.prototype.handleAttenuateSelfChanged=function(e){y.default.setAttenuation(this.props.attenuation,e.currentTarget.checked,this.props.attenuateWhileSpeakingOthers)},t.prototype.handleAttenuateOthersChanged=function(e){y.default.setAttenuation(this.props.attenuation,this.props.attenuateWhileSpeakingSelf,e.currentTarget.checked)},t.prototype.handleVoiceReset=function(){v.default.push(function(e){return i.createElement(H.default,o({header:S.default.Messages.RESET_VOICE_SETTINGS,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:y.default.reset,red:!0},e),r(V.default,{size:V.default.Sizes.MEDIUM,color:V.default.Colors.PRIMARY},void 0,S.default.Messages.RESET_VOICE_SETTINGS_BODY))})},t.prototype.handleAudioSubsystemChanged=function(e){var t=e.value;v.default.push(function(e){return i.createElement(H.default,o({header:S.default.Messages.SWITCH_SUBSYSTEM,confirmText:S.default.Messages.OKAY,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return y.default.setAudioSubsystem(t)},red:!0},e),r(V.default,{size:V.default.Sizes.MEDIUM,color:V.default.Colors.PRIMARY},void 0,S.default.Messages.SWITCH_SUBSYSTEM_BODY))})},t.prototype.handleShortcutChange=function(e){y.default.setMode(this.props.inputMode,{shortcut:e})},t.prototype.handleShowCamera=function(){this.setState({showCamera:!0})},t.prototype.renderDevices=function(){var e=this.props,t=e.inputDevices,n=e.inputDeviceId,a=e.outputDeviceId,o=e.outputDevices,i=e.canSetInputDevice,l=e.canSetOutputDevice,s=void 0;i||(s=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));var u=void 0;l||(u=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,T.default)(t).values().first().disabled||null!=s,f=(0,T.default)(o).values().first().disabled||null!=u;return r(I.default,{className:"margin-bottom-20"},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_INPUT_DEVICE),r(L.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:T.default.map(t,function(e){return{value:e.id,label:e.name}}),disabled:d,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_OUTPUT_DEVICE),r(L.default,{value:a,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:T.default.map(o,function(e){return{value:e.id,label:e.name}}),disabled:f,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),u))},t.prototype.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return r(I.default,{className:"volume"},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-4"},void 0,S.default.Messages.FORM_LABEL_INPUT_VOLUME),r(w.default,{defaultValue:t,asValueChanges:this.handleInputVolumeChange})),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-4"},void 0,S.default.Messages.FORM_LABEL_OUTPUT_VOLUME),r(w.default,{defaultValue:n/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},t.prototype.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,a=[{value:Y.InputModes.VOICE_ACTIVITY,name:S.default.Messages.INPUT_MODE_VAD},{value:Y.InputModes.PUSH_TO_TALK,name:t?S.default.Messages.INPUT_MODE_PTT_LIMITED:S.default.Messages.INPUT_MODE_PTT}];return r(A.default,{title:S.default.Messages.FORM_LABEL_INPUT_MODE,className:"margin-bottom-20"},void 0,r(D.default,{onChange:this.handleInputModeChange,options:a,value:n}))},t.prototype.renderPTTTools=function(){var e=this.props,t=e.inputMode,n=e.delay,a=e.shortcut;if(t!==Y.InputModes.PUSH_TO_TALK)return null;var o=void 0;return o=E.default.embedded||t!==Y.InputModes.PUSH_TO_TALK?r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.pttToolsMessage,"margin-bottom-8")},void 0,S.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return g.default.setSection(Y.UserSettingsSections.KEYBINDS)}})):r(R.default,{type:R.default.Types.DESCRIPTION,className:(0,d.default)(W.default.pttToolsMessage,W.default.pttToolsWarning,"margin-bottom-8")},void 0,S.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),r("div",{className:W.default.pttTools},void 0,r(I.default,{},void 0,r(I.default.Child,{basis:"50%"},void 0,r(A.default,{title:S.default.Messages.FORM_LABEL_SHORTCUT},void 0,r(U.default,{defaultValue:a,onChange:this.handleShortcutChange}))),r(I.default.Child,{basis:"50%"},void 0,r(A.default,{title:S.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,r(w.default,{defaultValue:n,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:Y.MAX_PTT_RELEASE_DELAY})))),o)},t.prototype.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,a=e.vadAutoThreshold;return t!==Y.InputModes.VOICE_ACTIVITY?null:r(Z,{inputMode:t,threshold:n,auto:a,onThresholdChange:this.handleThresholdChange})},t.prototype.renderVideoDevices=function(){var e,t,a=this.props,o=a.videoDevices,i=a.videoDeviceId,l=a.theme,s=void 0;c.default.isEnabled()||(s=r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8"},void 0,S.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:y.default.enable})));var u=(0,T.default)(o).values().first().disabled||null!=s,f=c.default.getMediaEngine().Camera,p=l===Y.ThemeTypes.LIGHT?n(7110):n(7109);return r(I.default,{},void 0,r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_VIDEO_DEVICE),r(L.default,{value:i,clearable:!1,searchable:!1,disabled:u,onChange:this.handleVideoDeviceChange,options:T.default.map(o,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(I.default.Child,{basis:"50%"},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_VIDEO_PREVIEW),r("div",{className:W.default.previewContainer},void 0,r(f,{deviceId:i,disabled:!this.state.showCamera||u}),r(I.default,{className:(0,d.default)(W.default.previewOverlay,(e={},e[W.default.dismiss]=this.state.showCamera,e))},void 0,r(I.default,{className:(0,d.default)(W.default.previewOverlayInner,(t={},t[W.default.dismiss]=this.state.showCamera,t)),direction:I.default.Direction.VERTICAL,justify:I.default.Justify.CENTER,align:I.default.Align.CENTER},void 0,r("img",{className:"margin-bottom-20",alt:"",src:p}),r(B.default,{onClick:this.handleShowCamera,disabled:u},void 0,S.default.Messages.TEST_VIDEO))))))},t.prototype.renderVideoWarnings=function(){return r(N.default,{type:O.Types.PRIMARY,title:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:r(B.default,{size:B.default.Sizes.SMALL,className:"margin-top-20",onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,S.default.Messages.DOWNLOAD_APP)})},t.prototype.renderCodec=function(){var e=void 0;return e=this.props.theme===Y.ThemeTypes.LIGHT?n(7108):n(7107),r(N.default,{className:"margin-bottom-40",type:b.Types.PRIMARY,imageData:{src:e,width:70,height:40},title:S.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,body:S.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})},t.prototype.renderVoiceProcessing=function(){if(!c.default.supports(f.Features.VOICE_PROCESSING))return null;var e=this.props,t=e.noiseSuppression,n=e.echoCancellation,a=e.automaticGainControl,o=e.inputDeviceId,i=m.default.hasEchoCancellation(o),l=m.default.hasNoiseSuppression(o),s=m.default.hasAutomaticGainControl(o),u=void 0;return(i||i||s)&&(u=r(R.default,{className:"margin-bottom-20",type:R.default.Types.DESCRIPTION},void 0,S.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,u,r(k.default,{className:"margin-top-8 margin-bottom-20",value:n,onChange:this.handleEchoCancellationChange,disabled:i},void 0,S.default.Messages.ECHO_CANCELLATION),r(k.default,{value:t,onChange:this.handleNoiseSuppressionChange,disabled:l},void 0,S.default.Messages.NOISE_SUPPRESSION),r(k.default,{className:"",value:a,onChange:this.handleAutomaticGainControlChange,disabled:s},void 0,S.default.Messages.AUTOMATIC_GAIN_CONTROL))},t.prototype.renderQoS=function(){if(!c.default.supports(f.Features.QOS))return null;var e=this.props.qosEnabled;return r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_QOS},void 0,r(k.default,{className:"",value:e,onChange:this.handleQoSChanged,note:S.default.Messages.FORM_HELP_QOS},void 0,S.default.Messages.FORM_CHECKBOX_QOS))},t.prototype.renderAttenutation=function(){if(!c.default.supports(f.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,a=e.attenuateWhileSpeakingOthers;return r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_ATTENUATION},void 0,r(w.default,{defaultValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),r(R.default,{className:"margin-bottom-20",type:R.default.Types.DESCRIPTION},void 0,S.default.Messages.FORM_HELP_ATTENUATION),ee,r(k.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,S.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),r(k.default,{className:"",value:a,onChange:this.handleAttenuateOthersChanged},void 0,S.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},t.prototype.renderAudioSubsystem=function(){if(!c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&!c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:f.AudioSubsystems.STANDARD,label:"Standard"}];c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.LEGACY,label:"Legacy"}),c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props,n=t.audioSubsystem,a=t.disableAudioSubsystem;return r(I.default,{},void 0,r(I.default.Child,{},void 0,r(x.default,{tag:F.Tags.H5,className:"margin-bottom-8"},void 0,S.default.Messages.FORM_LABEL_SUBSYSTEM),r(L.default,{value:n,disabled:a,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged}),r(R.default,{type:R.default.Types.DESCRIPTION,className:"margin-top-8 margin-bottom-20"},void 0,S.default.Messages.FORM_HELP_LEGACY_AUDIO_SUBSYSTEM)))},t.prototype.renderDiagnostics=function(){if(!E.default.embedded)return null;var e=this.props,t=e.silenceWarning,n=e.debugLogging,a=void 0;return c.default.supports(f.Features.DEBUG_LOGGING)&&(a=r(i.Fragment,{},void 0,te,r(k.default,{value:n,onChange:this.handleDebugLoggingChange,note:S.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,S.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING))),r(C.default,{className:"margin-bottom-40",title:S.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,r(k.default,{className:"",value:t,onChange:this.handleSilenceWarningChange},void 0,S.default.Messages.DISPLAY_SILENCE_WARNING),a)},t.prototype.renderResetVoiceSettings=function(){return r(A.default,{},void 0,r(B.default,{look:G.ButtonLooks.OUTLINED,color:G.ButtonColors.RED,onClick:this.handleVoiceReset,size:G.ButtonSizes.SMALL},void 0,S.default.Messages.RESET_VOICE_SETTINGS))},t.prototype.renderVideoSettings=function(){var e=c.default.supports(f.Features.VIDEO);return r("div",{},void 0,r(x.default,{tag:F.Tags.H2,className:"margin-bottom-20"},void 0,S.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),ne)},t.prototype.render=function(){return r(C.default,{className:W.default.userSettingsVoice,tag:F.Tags.H2,title:S.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),ae,this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),oe,this.renderVideoSettings(),r(x.default,{tag:F.Tags.H2,className:"margin-bottom-20"},void 0,S.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderResetVoiceSettings())},t}(i.PureComponent);re.displayName="UserSettingsVoice",t.default=l.default.connectStores([h.default,c.default,m.default],function(){return{theme:h.default.theme,canSetInputDevice:c.default.supports(f.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:c.default.supports(f.Features.AUDIO_OUTPUT_DEVICE),inputVolume:c.default.getInputVolume(),outputVolume:c.default.getOutputVolume(),inputDeviceId:c.default.getInputDeviceId(),inputDevices:c.default.getInputDevices(),outputDevices:c.default.getOutputDevices(),outputDeviceId:c.default.getOutputDeviceId(),videoDevices:c.default.getVideoDevices(),videoDeviceId:c.default.getVideoDeviceId(),echoCancellation:c.default.getEchoCancellation(),noiseSuppression:c.default.getNoiseSuppression(),automaticGainControl:c.default.getAutomaticGainControl(),inputMode:c.default.getMode(),shortcut:c.default.getModeOptions().shortcut,vadThreshold:c.default.getModeOptions().threshold,vadAutoThreshold:c.default.getModeOptions().autoThreshold,delay:c.default.getModeOptions().delay,usePTTLimited:!E.default.embedded,attenuation:c.default.getAttenuation(),attenuateWhileSpeakingSelf:c.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:c.default.getAttenuateWhileSpeakingOthers(),silenceWarning:c.default.getEnableSilenceWarning(),debugLogging:c.default.getDebugLogging(),qosEnabled:c.default.getQoS(),audioSubsystem:c.default.getAudioSubsystem(),disableAudioSubsystem:c.default.getDisableAudioSubsystem(),certifiedDeviceRevision:m.default.getRevision()}})(re),e.exports=t.default},7115:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=M(n(1)),i=A(n(7)),l=A(n(9)),s=A(n(3)),u=n(545),d=A(n(6)),f=A(n(976)),c=M(n(517)),p=n(158),h=A(n(69)),m=A(n(26)),y=A(n(949)),v=A(n(511)),g=A(n(915)),_=A(n(5928)),E=A(n(539)),S=A(n(509)),T=A(n(924)),C=A(n(30)),b=A(n(11)),N=n(0),O=A(n(5735)),I=A(n(504));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var R=o("i",{}),P=o(p.FormDivider,{}),L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.default.bindAll(a,["handlePreviewSound","handleSoundChange","handleToggleShowUnreadBadge","handleToggleShowFlash","renderSounds","renderTTS","handleAFKTimeoutChange"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePreviewSound=function(e,t){t.stopPropagation(),null!=this._currentPlayingSound&&this._currentPlayingSound.stop(),this._currentPlayingSound=c.playSound(e)},t.prototype.handleSoundChange=function(e,t){var n=this.props.disabledSounds.filter(function(t){return t!==e});t.currentTarget.checked||n.push(e),E.default.setDisabledSounds(n)},t.prototype.handleDesktopChange=function(e){var t=e.currentTarget.checked?N.DesktopNotificationTypes.ALL:N.DesktopNotificationTypes.NEVER;t!==N.DesktopNotificationTypes.NEVER?E.default.requestPermission("UserSettingsModal"):E.default.setDesktopType(t)},t.prototype.handleTTSChange=function(e){var t=e.value;E.default.setTTSType(t)},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;S.default.updateRemoteSettings({afkTimeout:t})},t.prototype.handleToggleShowUnreadBadge=function(){E.default.setDisableUnreadBadge(!this.props.disableUnreadBadge)},t.prototype.handleToggleShowFlash=function(){E.default.setTaskbarFlash(!this.props.taskbarFlash)},t.prototype.renderSounds=function(){var e=this,t=[{label:d.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:d.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:d.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:d.default.Messages.MUTE,sound:"mute"},{label:d.default.Messages.UNMUTE,sound:"unmute"},{label:d.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:d.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:d.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:d.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:d.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:d.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:d.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:d.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"}].map(function(t){var n=t.label,a=t.sound;return o(u.SmartUID,{},a,function(t){return o(m.default,{className:O.default.notificationsSound,justify:m.default.Justify.BETWEEN,align:m.default.Align.CENTER,onClick:e.handlePreviewSound.bind(e,a)},void 0,o(m.default,{className:O.default.notificationsSoundLabel,grow:0},void 0,o(m.default.Child,{className:O.default.notificationsSoundIcon},void 0,R),o(m.default.Child,{},void 0,o(h.default,{tag:"label",htmlFor:t,className:O.default.sound,size:h.default.Sizes.MEDIUM},void 0,n))),o(m.default.Child,{wrap:!0,grow:0},void 0,o(y.default,{id:t,value:-1===e.props.disabledSounds.indexOf(a),onChange:e.handleSoundChange.bind(e,a)})))})});return o(p.FormSection,{title:d.default.Messages.SOUNDS},void 0,t)},t.prototype.renderTTS=function(){if(!f.default.supported)return null;var e=[{name:d.default.Messages.TTS_ALLS,value:N.TTSNotificationTypes.ALL_CHANNELS},{name:d.default.Messages.TTS_CURRENT,value:N.TTSNotificationTypes.SELECTED_CHANNEL},{name:d.default.Messages.TTS_NEVER,value:N.TTSNotificationTypes.NEVER}];return o(p.FormItem,{title:d.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,o(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginBottom8},void 0,d.default.Messages.FORM_DESCRIPTION_TTS),o(_.default,{options:e,onChange:this.handleTTSChange,value:this.props.ttsType}))},t.prototype.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,a=e.disableUnreadBadge,r=e.taskbarFlash,s=b.default.embedded&&b.default.isWindows(),u=i.default.range(1,11).map(function(e){return{value:60*e,label:d.default.Messages.DURATION_MINUTES.format({minutes:e})}});return o(p.FormSection,{tag:p.FormTitleTags.H2,title:d.default.Messages.NOTIFICATIONS},void 0,o(g.default,{className:I.default.marginBottom20,value:t!==N.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),o(g.default,{className:s?I.default.marginBottom20:I.default.marginBottom40,value:!a,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?o(g.default,{className:I.default.marginBottom40,value:r,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,o(p.FormItem,{title:d.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,o(v.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:u}),o(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginTop8},void 0,d.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),o(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)})),this.renderTTS(),o(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)}),o(p.FormItem,{},void 0,this.renderSounds()),P)},t}(r.PureComponent);L.displayName="UserSettingsNotifications",t.default=s.default.connectStores([T.default,C.default],function(){return{disableUnreadBadge:T.default.getDisableUnreadBadge(),taskbarFlash:T.default.taskbarFlash,disabledSounds:T.default.getDisabledSounds(),desktopType:T.default.getDesktopType(),ttsType:T.default.getTTSType(),afkTimeout:C.default.afkTimeout}})(L),e.exports=t.default},7116:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(6))),i=s(n(112)),l=s(n(5738));function s(e){return e&&e.__esModule?e:{default:e}}var u=Math.ceil(2*Math.PI*20);var d=function(e){var t=e.total,n=e.used,a=Math.max(0,Math.min(1,n/t)),s=Math.floor(100*a)+"%";return o(i.default,{text:r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,o("div",{className:l.default.wrapper,role:"progressbar","aria-label":r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,o("svg",{viewBox:"25 25 50 50",className:l.default.svg,"aria-hidden":!0},void 0,o("circle",{className:l.default.background,cx:"50",cy:"50",r:20}),o("circle",{className:l.default.foreground,cx:"50",cy:"50",r:20,stroke:function(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}(a),strokeDasharray:function(e){return Math.floor(u*e)+", "+u}(a)})),o("aside",{className:l.default.usageInfo,"aria-hidden":!0},void 0,s)))};d.displayName="DiskSpaceCircle",t.default=d,e.exports=t.default},7117:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=n(380),u=O(n(11)),d=O(n(170)),f=O(n(34)),c=n(1189),p=O(n(161)),h=O(n(69)),m=O(n(26)),y=O(n(506)),v=O(n(7116)),g=O(n(6332)),_=O(n(44)),E=O(n(365)),S=O(n(159)),T=n(158),C=O(n(6)),b=O(n(5737)),N=O(n(504));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(){var n,a;I(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=A(this,e.call.apply(e,[this].concat(s))),a.state={label:null,isDefault:null},a.handleStartEditing=function(){var e=a.props,t=e.path,n=e.label,o=e.isDefault;(0,e.onToggleEditing)(t),a.setState({label:n,isDefault:o})},a.handleStopEditing=function(){(0,a.props.onToggleEditing)(null),a.setState({label:null,isDefault:null})},a.handleRemoveLocation=function(){f.default.push(function(e){return i.createElement(p.default,o({},e,{header:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:C.default.Messages.CANCEL,onConfirm:function(){a.handleStopEditing(),(0,c.removeInstallLocation)(a.props.path)}}),r(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,C.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},a.handleSaveChanges=function(){(0,c.updateInstallLocation)(a.props.path,{label:null!=a.state.label?a.state.label:a.props.label,isDefault:null!=a.state.isDefault?a.state.isDefault:a.props.isDefault}),a.handleStopEditing()},a.handleLabelChange=function(e){a.setState({label:e})},a.handleToggleDefault=function(){a.setState({isDefault:!a.state.isDefault})},A(a,n)}return M(t,e),t.prototype.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?r(v.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},t.prototype.renderViewing=function(){var e=this.props,t=e.path,n=e.label,a=e.editingPath,o=e.isDefault,i=e.metadata,l=void 0,u=void 0;return null!=i&&(l=null!=i.availableKB?(0,s.formatSize)(i.availableKB,{useKibibytes:!0}):null,u=null!=i.totalKB?(0,s.formatSize)(i.totalKB,{useKibibytes:!0}):null),r(m.default,{className:b.default.installationPath,align:m.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),r(m.default,{direction:m.default.Direction.VERTICAL,className:b.default.descriptionWrapper},void 0,r(m.default,{align:m.default.Align.CENTER},void 0,r(h.default,{className:b.default.rowTitle,size:h.default.Sizes.MEDIUM},void 0,null!=n?n:d.default.getLabelFromPath(t)),o?r("span",{className:b.default.defaultIndicator},void 0,C.default.Messages.DEFAULT):null),null!=i&&null!=l&&null!=u?r(g.default,{className:b.default.rowBody,hoverText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:l,total:u})},void 0,t):r(h.default,{className:b.default.rowBody,size:h.default.Sizes.SMALL},void 0,t)),r(_.default,{size:_.default.Sizes.SMALL,disabled:null!=a,color:_.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,C.default.Messages.EDIT))},t.prototype.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,a=this.state,o=a.label,i=a.isDefault;return r(y.default,{editable:!0,className:b.default.installationPathEditing},void 0,r(m.default,{},void 0,this.renderDiskUsageCircle(),r(m.default.Child,{},void 0,r(T.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,r(S.default,{value:o,placeholder:d.default.getLabelFromPath(t),onChange:this.handleLabelChange})),r(T.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:N.default.marginTop20},void 0,r(S.default,{disabled:!0,value:t})),r(E.default,{type:E.default.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:b.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),r("hr",{className:b.default.separator}),r(m.default,{},void 0,r(_.default,{disabled:n||this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.RED,look:_.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),r(m.default,{justify:m.default.Justify.END},void 0,r(_.default,{size:_.default.Sizes.SMALL,color:_.default.Colors.PRIMARY,look:_.default.Looks.LINK,onClick:this.handleStopEditing},void 0,C.default.Messages.CANCEL),r(_.default,{disabled:t===this.props.path&&o===this.props.label&&i===this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,C.default.Messages.SAVE))))))},t.prototype.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(i.PureComponent);R.displayName="PathItem";var P=function(e){function t(){var n,a;I(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=A(this,e.call.apply(e,[this].concat(r))),a.state={editingPath:null},a.handleAddInstallationLocation=function(){u.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,c.addInstallLocation)(e[0])})},a.handleToggleEditing=function(e){a.setState({editingPath:e})},A(a,n)}return M(t,e),t.prototype.componentDidMount=function(){(0,c.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},t.prototype.render=function(){var e=this,t=this.props,n=t.installationPaths,a=t.installationPathsMetadata,o=t.defaultInstallationPath,i=this.state.editingPath;return r(T.FormSection,{className:b.default.wrapper,title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,l=t.label;return r(R,{path:n,label:l,metadata:a[n],isDefault:o===n,editingPath:i,hasGamesInstalledInPath:d.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),r("div",{className:b.default.buttonRowWrapper},void 0,r(_.default,{disabled:!u.default.embedded,onClick:this.handleAddInstallationLocation,size:_.default.Sizes.SMALL},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(i.PureComponent);P.displayName="GameInstallLocations",t.default=l.default.connectStores([d.default],function(){return{installationPaths:d.default.installationPaths,installationPathsMetadata:d.default.installationPathsMetadata,defaultInstallationPath:d.default.defaultInstallationPath}})(P),e.exports=t.default},7118:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=I(n(1)),l=O(n(3)),s=O(n(11)),u=O(n(17)),d=I(n(169)),f=O(n(30)),c=O(n(6018)),p=O(n(509)),h=I(n(168)),m=I(n(286)),y=O(n(915)),v=O(n(77)),g=O(n(58)),_=O(n(26)),E=n(158),S=O(n(7117)),T=n(129),C=(O(T),O(n(6))),b=n(0),N=O(n(5736));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var a=t.map(function(e){var t=e.libraryApplication.getDistributor();return r("div",{className:N.default.hiddenLibraryApplication},e.id,r(_.default,{direction:_.default.Direction.VERTICAL,className:N.default.hiddenLibraryApplicationContent},void 0,r("div",{className:N.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?r("div",{className:N.default.applicationSubText},void 0,b.DistributorNames[t]):null),r(v.default,{className:N.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,r(g.default,{name:g.default.Names.CLOSE,className:N.default.restoreIcon})))});return r(E.FormSection,{className:N.default.hiddenLibraryApplications},void 0,r(E.FormTitle,{className:N.default.hiddenLibraryApplicationsTitle},void 0,C.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),a)}M.displayName="HiddenLibraryApplications";var R=r(S.default,{}),P=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=A(this,e.call.apply(e,[this].concat(r))),a.handleRestoreHiddenLibraryApplication=function(e){var t=d.toggleFlag(e.getFlags(),b.LibraryApplicationFlags.HIDDEN);e instanceof T.LocalApplicationRecord?m.updateFlags(e.id,t):h.updateFlags(e.id,e.branchId,t),a.trackRestoreApplication(e,d.hasFlag(t,b.LibraryApplicationFlags.HIDDEN))},A(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleToggleImportGames=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({importGamesEnabled:t}),u.default.track(b.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},t.prototype.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({installShortcutDesktop:t})},t.prototype.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({installShortcutStartMenu:t})},t.prototype.trackRestoreApplication=function(e,t){u.default.track(b.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,o({hidden_enabled:t},e.getAnalyticsData()))},t.prototype.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,a=e.installShortcutDesktop,o=e.installShortcutStartMenu,l=s.default.isWindows();return r(i.Fragment,{},void 0,r(E.FormSection,{tag:E.FormTitleTags.H2,title:C.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,l?r(i.Fragment,{},void 0,r(y.default,{value:!0===t,onChange:this.handleToggleImportGames,note:C.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,C.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),r(y.default,{value:a,onChange:this.handleToggleShortcutDesktop,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),r(y.default,{value:o,onChange:this.handleToggleShortcutStartMenu,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),R):null,r(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},t}(i.PureComponent);P.displayName="UserSettingsGameLibrary",t.default=l.default.connectStores([f.default,c.default],function(){return{importGamesEnabled:f.default.importGamesEnabled,hiddenLibraryApplicationViewItems:c.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:f.default.installShortcutDesktop,installShortcutStartMenu:f.default.installShortcutStartMenu}})(P),e.exports=t.default},7119:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},7120:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},7121:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=R(n(3)),l=R(n(7)),s=R(n(9)),u=R(n(11)),d=R(n(30)),f=R(n(53)),c=R(n(128)),p=R(n(509)),h=R(n(217)),m=R(n(77)),y=R(n(915)),v=R(n(511)),g=R(n(58)),_=n(44),E=R(_),S=n(158),T=R(n(6332)),C=n(5922),b=R(C),N=R(n(112)),O=R(n(6));n(5739);var I=R(n(5499)),A=R(n(5500)),M=R(n(5498));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=i.default.connectStores([d.default],function(){return{theme:d.default.theme}})(b.default),U=u.default.isWindows(),k=o(S.FormDivider,{className:"margin-top-8 margin-bottom-8"}),F=function(e){function t(n){P(this,t);var a=L(this,e.call(this,n));return a.state={selectedValue:null},l.default.bindAll(a,["handleGameChange","handleAdd","handleClose"]),a}return w(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:e.name}});return o("div",{className:(0,s.default)("add-game-popout",A.default.elevationBorderHigh)},void 0,o(v.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t}),k,o("div",{className:"actions flex-horizontal"},void 0,o(E.default,{className:"cancel-button",look:_.ButtonLooks.LINK,color:_.ButtonColors.GREY,onClick:this.handleClose},void 0,O.default.Messages.CANCEL),o(E.default,{disabled:null==t,onClick:this.handleAdd},void 0,O.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t.prototype.handleGameChange=function(e){this.setState({selectedValue:e})},t.prototype.handleAdd=function(){c.default.addGame(this.state.selectedValue.value),(0,this.props.onClose)()},t.prototype.handleClose=function(){(0,this.props.onClose)()},t}(r.PureComponent);F.displayName="AddGamePopout";var x=i.default.connectStores([f.default],function(){return{candidates:f.default.getCandidateGames()}})(F),G=o("i",{className:"game-verified-icon"}),B=o("i",{className:"overlay-warning-icon"}),j=function(e){function t(n){P(this,t);var a=L(this,e.call(this,n));return l.default.bindAll(a,["handleRemoveClick","handleNameEdit","handleNameChange","handleOverlayToggle","handleEnterKey"]),a.state={editingName:null!=n.game?n.game.gameName:""},a}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.nowPlaying&&e.game&&e.game.gameName!==this.state.editingName&&this.setState({editingName:e.game.gameName})},t.prototype.renderName=function(){var e=this.props.game;return null==e?o("div",{className:"game-name"},void 0,O.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):e.verified?o("div",{className:"flex-horizontal"},void 0,o("div",{className:"game-name game-name-verified"},void 0,e.gameName),o(N.default,{text:O.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,G)):o("input",{className:"game-name game-name-input",type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},t.prototype.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return o("div",{className:"last-played"},void 0,O.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var a=t.played,r=t.exePath,i=void 0;return n?i=O.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:a&&(i=O.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:a})),o("div",{className:"last-played"},void 0,o(T.default,{hoverText:r?r.toUpperCase():""},void 0,i))},t.prototype.renderOverlayToggle=function(){var e=this.props.game;if(!U||null==e)return null;var t=e.overlay,n=e.overlayWarn,a=t?O.default.Messages.SETTINGS_GAMES_OVERLAY_ON:O.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,r=o(g.default,t?{name:g.default.Names.OVERLAY_ON,className:"overlay-toggle-icon-on",foreground:"fill"}:{name:g.default.Names.OVERLAY_OFF,className:"overlay-toggle-icon-off",foreground:"fill"}),i=n?o(N.default,{text:O.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,B):null;return o("div",{className:"flex-center flex-nowrap flex-justify-between"},void 0,i,o("div",{className:"overlay-status-text"},void 0,a),o(N.default,{text:O.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,o(m.default,{className:"overlay-toggle-icon",onClick:this.handleOverlayToggle},void 0,r)))},t.prototype.renderRemove=function(){return o(m.default,{className:(0,s.default)(M.default.button,"remove-game"),onClick:this.handleRemoveClick},void 0,O.default.Messages.REMOVE_KEYBIND)},t.prototype.render=function(){var e,t=this.props,n=t.nowPlaying,a=null!=t.game,r=(0,s.default)("flex-center",((e={game:!n})[I.default.card]=!n,e["now-playing"]=a&&n,e["not-detected"]=!a&&n,e));return o("div",{className:r},void 0,o("div",{className:"game-name-last-played flex-vertical"},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),!n&&a?this.renderRemove():null)},t.prototype.handleRemoveClick=function(){c.default.deleteEntry(this.props.game)},t.prototype.handleNameEdit=function(){var e=this.props.game,t=this.state.editingName;e.gameName!==t&&c.default.editName(e,t)},t.prototype.handleNameChange=function(e){this.setState({editingName:e.target.value})},t.prototype.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t.prototype.handleOverlayToggle=function(){c.default.toggleOverlay(this.props.game)},t}(r.PureComponent);j.displayName="Game";var H=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.componentDidMount=function(){f.default.watchCandidateGames(!0)},t.prototype.componentWillUnmount=function(){f.default.watchCandidateGames(!1)},t.prototype.handleToggleShowCurrentGame=function(e){p.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},t.prototype.renderPopout=function(e){return r.createElement(x,e)},t.prototype.renderGameList=function(){var e=this.props.gameHistory;return e.length?o(S.FormSection,{className:"games-list margin-top-40"},void 0,o(S.FormTitle,{className:"margin-bottom-4"},void 0,O.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),e.map(function(e){return o(j,{game:e},e.exePath)})):o(D,{className:"margin-top-40"},void 0,o(C.EmptyStateImage,{darkSrc:n(7120),lightSrc:n(7119),width:430,height:250}),o(C.EmptyStateText,{},void 0,O.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},t.prototype.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame;return o(r.Fragment,{},void 0,o(S.FormSection,{className:"user-settings-games",tag:S.FormTitle.Tags.H2,title:O.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,o(j,{game:t,nowPlaying:!0}),o("div",{className:"now-playing-add margin-reset margin-top-8 margin-bottom-20"},void 0,o("span",{},void 0,O.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),o(h.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:h.default.Positions.BOTTOM},void 0,o(E.default,{look:_.ButtonLooks.LINK,size:_.ButtonSizes.MIN,color:_.ButtonColors.LINK},void 0,O.default.Messages.SETTINGS_GAMES_ADD_GAME))),o(y.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,O.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(r.PureComponent);H.displayName="UserSettingsGameActivity",t.default=i.default.connectStores([d.default,f.default],function(){return{showCurrentGame:d.default.showCurrentGame,gameHistory:f.default.getGamesSeen(),runningGame:f.default.getSettingsGame()}})(H),e.exports=t.default},7122:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},7123:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=n(158),s=c(n(26)),u=c(n(365)),d=n(0),f=c(n(5741));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,a;p(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(){return a.props.onClick(a.props.option)},h(a,n)}return m(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,a=t.option;return o(s.default,{className:(0,i.default)(f.default.item,(e={},e[f.default.selected]=n,e)),justify:s.default.Justify.BETWEEN,align:s.default.Align.CENTER,onClick:this.handleClick},void 0,o(s.default,{grow:0,className:f.default.label,justify:s.default.Justify.START},void 0,o(s.default.Child,{},void 0,o(u.default,{readOnly:!0,value:n,shape:u.default.Shapes.ROUND,color:d.Colors.STATUS_GREEN,type:u.default.Types.INVERTED,className:f.default.checkbox})),o(s.default.Child,{className:f.default.marginReset},void 0,o(l.FormTitle,{className:f.default.labelText,tag:l.FormTitleTags.H3},void 0,a.name))),o(s.default,{grow:0},void 0,o(s.default.Child,{className:f.default.marginReset},void 0,o(l.FormText,{type:l.FormText.Types.DESCRIPTION},void 0,a.localizedName)),a.image?o(s.default.Child,{},void 0,o("img",{alt:"",src:a.image,className:f.default.image})):null))},t}(r.PureComponent);y.displayName="RadioItem";var v=function(e){function t(){var n,a;p(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=h(this,e.call.apply(e,[this].concat(i))),a.renderRadio=function(e,t){var n=a.props.value===e.value;return o(y,{isChecked:n,option:e,onClick:a.props.onChange},t)},h(a,n)}return m(t,e),t.prototype.render=function(){return o("div",{},void 0,this.props.options.map(this.renderRadio))},t}(r.PureComponent);v.defaultProps={options:[],onChange:d.NOOP,value:null},v.displayName="RadioList",t.default=v,e.exports=t.default},7124:function(e,t,n){"use strict";(function(a){t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(45))),s=m(n(59)),u=m(n(3)),d=n(158),f=m(n(7123)),c=m(n(509)),p=m(n(30)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,l.default)({displayName:"UserSettingsLocale",mixins:[u.default.StoreListenerMixin(p.default),s.default],getInitialState:function(){return{locales:h.default.getAvailableLocales().map(function(e){var t=void 0;try{t=n(6137)("./"+e.value+".png")}catch(e){t=n(7122)}return i({},e,{image:t})})}},getStateFromStores:function(){return{currentLocale:p.default.locale}},render:function(){return r(d.FormSection,{className:"user-settings-locale",tag:d.FormTitleTags.H2,title:h.default.Messages.LANGUAGE},void 0,r(d.FormSection,{},void 0,r(d.FormTitle,{className:"margin-reset"},void 0,h.default.Messages.LANGUAGE_SELECT),r(f.default,{options:this.state.locales,value:this.state.currentLocale,onChange:this.handleLocaleChange})))},handleLocaleChange:function(e){this.setState({currentLocale:e.value},function(){return a.nextTick(function(){return c.default.updateRemoteSettings({locale:e.value})})})}});t.default=y,e.exports=t.default}).call(this,n(64))},7125:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},7126:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},7127:function(e,t,n){"use strict";(function(a){t.__esModule=!0;var o=c(n(3)),r=c(n(2)),i=(n(0),c(n(18))),l=c(n(197)),s=c(n(138)),u=c(n(7)),d=c(n(269)),f=c(n(141));function c(e){return e&&e.__esModule?e:{default:e}}var p=864e5,h=null;function m(){var e=Date.now()-p;(0,u.default)(i.default.getManagedChannels()).filter(function(t){return f.default.extractTimestamp(t.id)<e}).forEach(function(e){return s.default.closePrivateChannel(e.id)})}setInterval(function(){return m()},36e5);var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default,d.default)},t.prototype.getApps=function(){return h},t}(o.default.Store);t.default=new y(r.default,{CONNECTION_OPEN:function(e){return a(m),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}}),e.exports=t.default}).call(this,n(37).setImmediate)},7128:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(2)),o=n(0),r=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){r.default.get(o.Endpoints.OAUTH2_TOKENS).then(function(e){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(o.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}},e.exports=t.default},7129:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(7)),s=P(n(3)),u=P(n(9)),d=P(n(364)),f=P(n(6)),c=P(n(30)),p=n(158),h=P(n(26)),m=n(506),y=P(m),v=n(44),g=P(v),_=n(5922),E=P(_),S=P(n(160)),T=P(n(83)),C=P(n(5939)),b=P(n(34)),N=P(n(7128)),O=P(n(7127)),I=P(n(124)),A=n(0),M=P(n(5742)),R=P(n(504));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=s.default.connectStores([c.default],function(){return{theme:c.default.theme}})(E.default),k=function(e){function t(){var n,a;L(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=a=w(this,e.call.apply(e,[this].concat(s))),a.renderPermissions=function(){var e=a.props.scopes.map(function(e){var t=void 0;switch(e){case A.OAuth2Scopes.IDENTIFY:t=f.default.Messages.SCOPE_IDENTIFY;break;case A.OAuth2Scopes.EMAIL:t=f.default.Messages.SCOPE_EMAIL;break;case A.OAuth2Scopes.CONNECTIONS:t=f.default.Messages.SCOPE_CONNECTIONS;break;case A.OAuth2Scopes.GUILDS:t=f.default.Messages.SCOPE_GUILDS;break;case A.OAuth2Scopes.GUILDS_JOIN:t=f.default.Messages.SCOPE_GUILDS_JOIN;break;case A.OAuth2Scopes.GDM_JOIN:t=f.default.Messages.SCOPE_GDM_JOIN;break;case A.OAuth2Scopes.BOT:t=f.default.Messages.SCOPE_BOT;break;case A.OAuth2Scopes.RPC:t=f.default.Messages.SCOPE_RPC;break;case A.OAuth2Scopes.RPC_API:t=f.default.Messages.SCOPE_RPC_API;break;case A.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=f.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case A.OAuth2Scopes.MESSAGES_READ:t=f.default.Messages.SCOPE_MESSAGES_READ;break;default:t=e}return r("li",{className:(0,u.default)(M.default.permission,R.default.marginTop8)},e,r("i",{className:M.default.permissionCheckmark}),r(p.FormText,{},void 0,t))});if(e.length)return r(p.FormItem,{faded:!0,title:f.default.Messages.PERMISSIONS,className:R.default.marginTop20},void 0,r("ul",{},void 0,e))},a.renderHeader=function(){var e=a.props.application,t=T.default.getApplicationIconURL({id:e.id,icon:e.icon}),n=t?r(h.default.Child,{className:M.default.appAvatar,grow:0},void 0,r("img",{src:t,alt:""})):null;return r(h.default,{className:(0,u.default)(M.default.header,R.default.marginBottom20)},void 0,r(h.default,{className:M.default.headerInfo},void 0,n,r(h.default.Child,{},void 0,r(p.FormText,{type:p.FormTextTypes.LABEL_BOLD},void 0,r("span",{},void 0,e.name)))),r(h.default.Child,{wrap:!0,grow:0},void 0,r(g.default,{className:M.default.deleteApp,color:v.ButtonColors.RED,look:v.ButtonLooks.OUTLINED,size:v.ButtonSizes.SMALL,onClick:a.handleDeleteApp},void 0,f.default.Messages.DEAUTHORIZE)))},a.handleDeleteApp=function(){b.default.push(function(e){return i.createElement(d.default,o({title:f.default.Messages.DEAUTHORIZE_APP,body:f.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:f.default.Messages.DEAUTHORIZE,cancelText:f.default.Messages.CANCEL,onConfirm:a.props.onDelete},e))})},w(a,n)}return D(t,e),t.prototype.renderDescription=function(){var e=this.props.application;if(e.description)return r(p.FormItem,{faded:!0,title:f.default.Messages.ABOUT_THIS_APP},void 0,r(p.FormText,{},void 0,e.description))},t.prototype.render=function(){return r(y.default,{className:(0,u.default)(M.default.authedApp,R.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(i.PureComponent);k.displayName="AuthorizedApp";var F=r(C.default,{}),x=function(e){function t(n){L(this,t);var a=w(this,e.call(this,n));return l.default.bindAll(a,["handleDelete"]),a}return D(t,e),t.prototype.componentDidMount=function(){N.default.fetch()},t.prototype.handleDelete=function(e){var t=e.id;N.default.delete(t)},t.prototype.renderEmpty=function(){return r(U,{className:M.default.marginTop20},void 0,r(_.EmptyStateImage,{darkSrc:n(7126),lightSrc:n(7125),width:380,height:282}),r(_.EmptyStateText,{note:f.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,f.default.Messages.NO_AUTHORIZED_APPS))},t.prototype.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(A.OAuth2Scopes.RPC)}).map(function(t){return i.createElement(k,o({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):r(S.default,{className:R.default.marginTop20,type:S.default.Type.SPINNING_CIRCLE})},t.prototype.render=function(){return this.props.hide?F:r(p.FormSection,{tag:p.FormTitleTags.H2,title:f.default.Messages.AUTHORIZED_APPS},void 0,r(p.FormNotice,{className:R.default.marginBottom40,type:m.Types.PRIMARY,title:f.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:f.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(i.PureComponent);x.displayName="UserSettingsAuthedApps",t.default=s.default.connectStores([O.default,I.default],function(){return{hide:I.default.hidePersonalInformation,applications:O.default.getApps()}})(x),e.exports=t.default},7130:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},7131:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(9)),s=E(n(3)),u=E(n(6)),d=E(n(11)),f=n(158),c=E(n(915)),p=E(n(30)),h=E(n(124)),m=E(n(6044)),y=E(n(355)),v=n(0),g=E(n(5743)),_=E(n(504));function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){return r(f.FormNotice,{className:_.default.marginBottom40,iconClassName:g.default.noticeIcon,type:f.FormNoticeTypes.PRIMARY,imageData:{src:n(7130),width:184,height:110,position:f.FormNoticeImagePositions.RIGHT},title:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://ChatXapp.com/streamkit"})})},t.prototype.renderAutoToggle=function(){if(d.default.embedded)return r(c.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},t.prototype.render=function(){return r(f.FormSection,{className:g.default.container,tag:f.FormTitleTags.H2,title:u.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),r(c.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:u.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,u.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),r(f.FormTitle,{className:(0,l.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,u.default.Messages.OPTIONS),r(c.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:u.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,u.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),r(c.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:u.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,u.default.Messages.HIDE_INSTANT_INVITES_LABEL),r(c.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:u.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,u.default.Messages.DISABLE_SOUNDS_LABEL),r(c.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:u.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,u.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},t.prototype.handleChange=function(e,t){var n;m.default.update(((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleGotoKeybinds=function(){y.default.setSection(v.UserSettingsSections.KEYBINDS)},t}(i.PureComponent);S.displayName="UserSettingsModalStreamerMode",t.default=s.default.connectStores([p.default,h.default],function(){return o({},h.default.getSettings(),{theme:p.default.theme})})(S),e.exports=t.default},7132:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},7133:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},7134:function(e,t,n){"use strict";t.__esModule=!0,t.RecordModes=void 0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=m(n(6166)),u=n(44),d=m(u),f=m(n(26)),c=n(371),p=m(n(6)),h=m(n(5745));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=t.RecordModes={DEFAULT:"DEFAULT",RECORDING:"RECORDING"},g=((o={})[v.DEFAULT]=h.default.default,o[v.RECORDING]=h.default.recording,o);function _(e){e.preventDefault()}var E=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=y(this,e.call.apply(e,[this].concat(r))),a.setInputRef=function(e){a._input=e},a.handleBlur=function(){a.props.mode===v.RECORDING&&(0,a.props.onClick)()},a.handleFocus=function(){a.props.mode===v.DEFAULT&&(0,a.props.onClick)()},a.handleClick=function(e){e.preventDefault(),(0,a.props.onClick)()},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new s.default(this._input).handleKey=e)},t.prototype.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var a=document.activeElement;t===v.DEFAULT&&n===a&&n.blur(),t===v.RECORDING&&n!==a&&n.focus()}}},t.prototype.render=function(){var e,t=this.props,n=t.mode,a=t.value,o=t.disabled,s=(0,c.toString)(a,!0),m=void 0;m=n===v.RECORDING?p.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===a.length?p.default.Messages.SHORTCUT_RECORDER_BUTTON:p.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var y=n===v.DEFAULT&&a.length>0;return r("div",{className:(0,l.default)(h.default.container,g[n],(e={},e[h.default.hasValue]=y,e[h.default.disabled]=o,e))},void 0,r(f.default,{className:h.default.layout},void 0,r(f.default.Child,{className:h.default.input},void 0,i.createElement("input",{placeholder:p.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:s,onKeyDown:_,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:o})),r(f.default,{shrink:1,grow:0,style:{margin:0}},void 0,r(d.default,{className:h.default.button,disabled:o,onMouseDown:_,onMouseUp:this.handleClick,size:d.default.Sizes.MIN,color:u.ButtonColors.GREY,look:u.ButtonLooks.GHOST},void 0,r("span",{className:h.default.text},void 0,m),r("span",{className:h.default.editIcon})))))},t}(i.PureComponent);E.displayName="KeyRecorder",t.default=E},7135:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=k(n(1)),s=U(n(7)),u=U(n(9)),d=U(n(3)),f=U(n(5977)),c=U(n(526)),p=U(n(6)),h=U(n(30)),m=n(158),y=U(n(26)),v=U(n(77)),g=U(n(511)),_=n(44),E=U(_),S=n(5922),T=U(S),C=U(n(6138)),b=n(261),N=U(b),O=U(n(6333)),I=n(0),A=U(n(5937)),M=k(n(371)),R=U(n(5499)),P=U(n(5498)),L=U(n(993)),w=U(n(504)),D=U(n(5744));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=d.default.connectStores([h.default],function(){return{theme:h.default.theme}})(T.default),j=((o={})[I.KeybindCustomActions.UNASSIGNED]=p.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,o[I.KeybindCustomActions.PUSH_TO_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,o[I.KeybindCustomActions.PUSH_TO_TALK]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,o[I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,o[I.KeybindCustomActions.TOGGLE_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,o[I.KeybindCustomActions.TOGGLE_DEAFEN]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,o[I.KeybindCustomActions.TOGGLE_VOICE_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,o[I.KeybindCustomActions.TOGGLE_STREAMER_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,o),H=[{value:I.KeybindCustomActions.UNASSIGNED,label:p.default.Messages.KEYBIND_UNASSIGNED},{value:I.KeybindCustomActions.PUSH_TO_TALK,label:p.default.Messages.KEYBIND_PUSH_TO_TALK},{value:I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:p.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:I.KeybindCustomActions.PUSH_TO_MUTE,label:p.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:I.KeybindCustomActions.TOGGLE_MUTE,label:p.default.Messages.KEYBIND_TOGGLE_MUTE},{value:I.KeybindCustomActions.TOGGLE_DEAFEN,label:p.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:I.KeybindCustomActions.TOGGLE_VOICE_MODE,label:p.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:I.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:p.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}],V=function(e){function t(){var n,a;F(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=x(this,e.call.apply(e,[this].concat(r))),a.handleActionChanged=function(e){O.default.setKeybind(i({},a.props.keybind,{action:e.value}))},a.handleShortcutChange=function(e){O.default.setKeybind(i({},a.props.keybind,{shortcut:e}))},a.handleDeleteKeybind=function(){O.default.deleteKeybind(a.props.keybind.id)},x(a,n)}return G(t,e),t.prototype.renderMessage=function(){return A.default.hasBind(M.toString(this.props.keybind.shortcut))?r(N.default,{className:D.default.keybindMessage,type:b.Types.DESCRIPTION,style:{color:I.Colors.STATUS_RED}},void 0,p.default.Messages.KEYBIND_CONFLICT):r(N.default,{className:D.default.keybindMessage,type:b.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[this.props.keybind.action])},t.prototype.render=function(){var e=this.props.keybind.managed;return r(y.default,{direction:y.default.Direction.VERTICAL,className:(0,u.default)(D.default.keybindGroup,R.default.card)},void 0,!e&&r(v.default,{className:(0,u.default)(P.default.button,D.default.removeKeybind),onClick:this.handleDeleteKeybind},void 0,p.default.Messages.REMOVE_KEYBIND),r(y.default,{className:w.default.marginBottom8},void 0,r(y.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:D.default.item},void 0,r(g.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),r(y.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:D.default.item},void 0,r(C.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),r(y.default.Child,{},void 0,this.renderMessage()))},t}(l.PureComponent);V.displayName="KeybindEntry";var Y=r(m.FormDivider,{}),W=function(e){function t(n){F(this,t);var a=x(this,e.call(this,n));a.handleAddKeybind=function(){O.default.addKeybind()};var o=i({},j),r=[].concat(H);return c.default.isSupported()&&(o[I.KeybindCustomActions.TOGGLE_OVERLAY]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY}),o[I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),r.push({value:I.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:p.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),a.state={keybindDescriptions:o,keybindActionTypes:r},a}return G(t,e),t.prototype.renderKeybinds=function(e){var t=this;return e.map(function(e){return r("div",{className:D.default.row},e.id,r(V,{keybind:e,keybindDescriptions:t.state.keybindDescriptions,keybindActionTypes:t.state.keybindActionTypes},e.id))})},t.prototype.renderEmpty=function(e){if(0===e.length)return r(B,{className:w.default.marginTop60},void 0,r(S.EmptyStateImage,{darkSrc:n(7133),lightSrc:n(7132),width:320,height:170}))},t.prototype.render=function(){var e=(0,s.default)(this.props.keybinds).sortBy(function(e){return e.id}).sortBy(function(e){return-e.managed}).value();return r(m.FormSection,{tag:m.FormTitleTags.H2,title:p.default.Messages.KEYBINDS},void 0,r(y.default,{justify:y.default.Justify.BETWEEN,className:w.default.marginBottom20},void 0,r(y.default.Child,{grow:0},void 0,r("div",{className:(0,u.default)(D.default.ghostPill,L.default.cursorDefault)},void 0,p.default.Messages.ADD_KEYBIND_WARNING)),r(y.default.Child,{wrap:!0,grow:0},void 0,r(E.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,p.default.Messages.ADD_KEYBIND))),Y,r(m.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},t}(l.PureComponent);W.displayName="UserSettingsKeybinds",t.default=d.default.connectStores([f.default],function(){return{keybinds:f.default.getState()}})(W),e.exports=t.default},7136:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=E(n(3)),l=E(n(2)),s=E(n(196)),u=S(n(6144)),d=E(n(34)),f=E(n(44)),c=E(n(159)),p=E(n(88)),h=E(n(26)),m=E(n(78)),y=E(n(261)),v=E(n(6)),g=E(n(504)),_=E(n(5747));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=/^\d+$|^$/,b=function(e){function t(){var n,a,o,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=a=T(this,e.call.apply(e,[this].concat(l))),a.state={applicationId:a.props.authorizedApplicationId||"",isValid:!0},a.handleSave=(o=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.authorizeAndSetTestModeApplication(a.state.applicationId);case 2:e.sent&&a.handleClose();case 4:case"end":return e.stop()}},e,r)}),function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})}),a.handleClear=function(){u.reset(),a.setState({applicationId:""})},a.handleInputChange=function(e){u.resetError(),a.setState({applicationId:e,isValid:C.test(e)})},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){l.default.wait(function(){return u.resetError()})},t.prototype.handleClose=function(){l.default.wait(function(){return d.default.pop()})},t.prototype.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,a=e.authorizing,r=this.state,i=r.applicationId,l=r.isValid,s=null!=t&&t===i,u=s?this.handleClear:this.handleSave,d=null;return n?d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:l||(d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),o(p.default,{},void 0,o(p.default.Header,{},void 0,o(h.default,{align:h.default.Align.CENTER},void 0,o(m.default,{tag:m.default.Tags.H2,className:g.default.marginReset},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),o(p.default.CloseButton,{onClick:this.handleClose}))),o(p.default.Content,{className:_.default.modalContent},void 0,o(y.default,{className:g.default.marginBottom20,type:y.default.Types.DESCRIPTION},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),o("form",{onSubmit:function(e){e.preventDefault(),u()}},void 0,o(h.default,{align:h.default.Align.START},void 0,o("div",{className:_.default.inputWrapper},void 0,o(c.default,{value:i,maxLength:19,error:d,onChange:this.handleInputChange,disabled:a,placeholder:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),o(f.default,{submitting:a,type:"submit",disabled:!l||0===i.length,color:s?f.default.Colors.RED:f.default.Colors.GREEN},void 0,s?v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},t}(r.PureComponent);b.displayName="TestModeModal",t.default=i.default.connectStores([s.default],function(){return{authorizedApplicationId:s.default.testModeApplicationId,authorizationError:s.default.error,authorizing:s.default.isFetchingAuthorization}})(b),e.exports=t.default},7137:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=F(n(1)),l=k(n(3)),s=k(n(9)),u=k(n(11)),d=k(n(196)),f=k(n(30)),c=k(n(941)),p=k(n(509)),h=n(1006),m=k(n(34)),y=F(n(6144)),v=k(n(161)),g=k(n(7136)),_=k(n(69)),E=n(518),S=n(158),T=k(n(506)),C=k(n(5928)),b=k(n(915)),N=k(n(950)),O=k(n(26)),I=k(n(273)),A=k(n(5937)),M=k(n(6008)),R=n(0),P=k(n(274)),L=k(n(125)),w=k(n(6)),D=k(n(5746)),U=k(n(504));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x={COZY:"cozy",COMPACT:"compact"},G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));a.hardwareAccelerationEnabled=u.default.getEnableHardwareAcceleration(),a.handleThemeChange=function(e){var t=e.value;t!==a.props.theme&&p.default.updateRemoteSettings({theme:t})},a.handleMessageDisplayModeChange=function(e){var t=e.value;t!==a.props.messageDisplayCompact&&p.default.updateRemoteSettings({messageDisplayCompact:t===x.COMPACT})},a.handleTestModeChecked=function(e){e.currentTarget.checked?m.default.push(g.default):y.reset()};var o=0;return a.channel=new L.default({id:"1337"}),a.messages=[P.default.create(r({},I.default.createMessage(a.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:R.MessageStates.SENT,id:""+o++})),P.default.create(r({},I.default.createMessage(a.channel.id,a.getPreviewMessage(n.theme)),{state:R.MessageStates.SENT,id:""+o++})),P.default.create(r({},I.default.createMessage(a.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:R.MessageStates.SENT,id:""+o++})),P.default.create(r({},I.default.createMessage(a.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:R.MessageStates.SENT,id:""+o++})),P.default.create(r({},I.default.createMessage(a.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:R.MessageStates.SENT,id:""+o}))],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},t.prototype.UNSAFE_componentWillUpdate=function(e){this.props.theme!==e.theme&&(this.messages[1]=P.default.create(r({},I.default.createMessage(this.channel.id,this.getPreviewMessage(e.theme)),{state:"SENT"})))},t.prototype.renderZoomSlider=function(){return u.default.embedded?o(S.FormItem,{title:w.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:U.default.marginTop20},void 0,o(N.default,{className:(0,s.default)(U.default.marginTop20,U.default.marginBottom4),defaultValue:this.props.zoom,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),o(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,w.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:A.default.modKey}))):null},t.prototype.renderFontScaleSlider=function(){return o(S.FormItem,{title:w.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL,className:U.default.marginTop40},void 0,o(O.default,{align:O.default.Align.CENTER},void 0,o(O.default.Child,{className:D.default.fontScaleSmall},void 0,"Aa"),o(O.default.Child,{},void 0,o(N.default,{className:U.default.marginTop4,defaultValue:this.props.fontScale,markers:R.Accessibility.FONT_SCALES,stickToMarkers:!0,equidistant:!0,onValueChange:this.handleFontScaleChange,onValueRender:this.handleSliderRender,onMarkerRender:this.handleRenderFontScale})),o(O.default.Child,{className:D.default.fontScaleLarge},void 0,"Aa")))},t.prototype.renderPreview=function(){var e,t=this,n=this.props.messageDisplayCompact;return o(T.default,{className:D.default.preview,outline:!0},void 0,o("div",{className:(0,s.default)(D.default.previewInner,(e={},e[D.default.previewCompact]=n,e))},void 0,this.messages.map(function(e){return o(M.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:n},e.id)})))},t.prototype.renderThemePicker=function(){return o(S.FormItem,{title:w.default.Messages.THEME,className:U.default.marginTop40},void 0,o(C.default,{options:[{name:w.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:w.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK}],onChange:this.handleThemeChange,value:this.props.theme}))},t.prototype.renderDisplayMode=function(){return o(S.FormItem,{title:w.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:U.default.marginTop40},void 0,o(C.default,{options:[{name:w.default.Messages.COZY_MODE,value:x.COZY},{name:w.default.Messages.COMPACT_MODE,value:x.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?x.COMPACT:x.COZY}))},t.prototype.renderColorblindMode=function(){return o(S.FormItem,{title:w.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:U.default.marginTop40},void 0,o(b.default,{onChange:h.toggleColorblindMode,value:this.props.colorblindMode,note:w.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,w.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},t.prototype.renderDeveloperMode=function(){if(E.SUPPORTS_COPY)return o(b.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:w.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:R.MarketingURLs.API_DOCS})},void 0,w.default.Messages.DEVELOPER_MODE)},t.prototype.renderHardwareAcceleration=function(){if(u.default.embedded)return o(b.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:w.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,w.default.Messages.HARDWARE_ACCELERATION)},t.prototype.renderDisableGamesTab=function(){var e=this.props.disableGamesTab;return o(b.default,{value:!e,note:w.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,w.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},t.prototype.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?o(b.default,{value:null!=n,note:w.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,w.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},t.prototype.render=function(){return o(S.FormSection,{className:D.default.container,tag:S.FormTitleTags.H2,title:w.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderFontScaleSlider(),this.renderZoomSlider(),this.renderColorblindMode(),o(S.FormTitle,{tag:S.FormTitleTags.H2,className:(0,s.default)(U.default.marginTop60,U.default.marginBottom20)},void 0,w.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},t.prototype.handleDeveloperModeChecked=function(e){p.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},t.prototype.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;m.default.push(function(e){return i.createElement(v.default,r({header:w.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:w.default.Messages.OKAY,cancelText:w.default.Messages.CANCEL,onConfirm:function(){return u.default.setEnableHardwareAcceleration(t)},red:!0},e),o(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,w.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},t.prototype.handleDisableGamesTabChecked=function(e){p.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},t.prototype.handleRenderFontScale=function(e){return 82===e?e=80:92===e&&(e=90),""+e.toFixed(0)},t.prototype.handleSliderRender=function(e){return e.toFixed(0)+"%"},t.prototype.handleFontScaleChange=function(e){(0,h.fontScaleTo)(Math.round(e))},t.prototype.handleZoomChange=function(e){(0,h.zoomTo)(e)},t}(i.Component);G.displayName="UserSettingsAppearance",t.default=l.default.connectStores([c.default,f.default,d.default],function(){return{theme:f.default.theme,messageDisplayCompact:f.default.messageDisplayCompact,developerMode:f.default.developerMode,fontScale:c.default.fontScale,zoom:c.default.zoom,colorblindMode:c.default.colorblindMode,disableGamesTab:f.default.disableGamesTab,testModeApplicationId:d.default.testModeApplicationId}})(G),e.exports=t.default},7138:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},7139:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},7140:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=B(n(45)),s=B(n(59)),u=B(n(9)),d=B(n(6)),f=B(n(3)),c=B(n(91)),p=B(n(364)),h=B(n(5927)),m=n(968),y=B(m),v=B(n(5939)),g=n(158),_=B(n(506)),E=B(n(157)),S=B(n(77)),T=B(n(160)),C=n(44),b=B(C),N=B(n(915)),O=n(5922),I=B(O),A=B(n(289)),M=B(n(27)),R=B(n(124)),P=B(n(30)),L=B(n(953)),w=B(n(34)),D=B(n(288)),U=B(n(509)),k=(B(n(1208)),B(n(11))),F=n(0),x=B(n(5748)),G=B(n(504));function B(e){return e&&e.__esModule?e:{default:e}}var j=f.default.connectStores([P.default],function(){return{theme:P.default.theme}})(I.default),H=(0,l.default)({displayName:"Integration",mixins:[s.default,f.default.LazyStoreListenerMixin(M.default,A.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:A.default.isJoining(e.id),isMember:M.default.getGuild(e.guild.id)}},render:function(){var e=this.state,t=e.isMember,n=e.isJoining,a=this.props.integration,o=void 0;t||(o=r(b.default,{size:C.ButtonSizes.SMALL,look:C.ButtonLooks.GHOST,color:C.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:n},void 0,r("span",{},void 0,n?d.default.Messages.JOINING_SERVER:d.default.Messages.JOIN_SERVER)));var i=void 0,l=void 0;switch(a.type){case"youtube":i=a.account.name,l="gaming.youtube.com/channel/"+a.account.id;break;case"twitch":default:i=l="twitch.tv/"+a.account.name}return r("div",{className:x.default.integration},void 0,r("div",{},void 0,r(h.default,{size:h.default.Sizes.SMALL,guild:a.guild,className:x.default.guildIcon}),r("div",{className:x.default.integrationInner},void 0,r(g.FormText,{className:x.default.integrationName},void 0,a.guild.toString()),r(E.default,{className:x.default.channelLink,href:"//"+l},void 0,i))),o)},handleJoinGuild:function(){D.default.joinServer(this.props.integration.id)}}),V=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));Y.call(a);var o=n.account,r=o.friendSync,i=o.visibility,l=o.verified,s=o.showActivity;return a.state={friendSync:r,visibility:i,verified:l,showActivity:s},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.account,n=t.friendSync,a=t.visibility,o=t.verified,r=t.showActivity;!this.state.verified&&o&&this.handleInProgressVisibilityChange(),this.setState({friendSync:n,visibility:a,verified:o,showActivity:r})},t.prototype.renderHeader=function(e){var t=this.props.account;return r("div",{className:x.default.connectionHeader},void 0,r("img",{alt:"",className:x.default.connectionIcon,src:e.icon.white}),r("div",{},void 0,r(g.FormText,{className:x.default.connectionAccountValue},void 0,t.name),r(g.FormText,{className:x.default.connectionAccountLabel,type:g.FormTextTypes.DESCRIPTION,style:{color:F.Colors.WHITE}},void 0,d.default.Messages.ACCOUNT_NAME)),r(S.default,{className:x.default.connectionDelete,onClick:this.handleDisconnect},void 0,r("span",{},void 0,d.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},t.prototype.renderConnectionOptions=function(e){var t=this.state,n=t.visibility,a=t.friendSync,o=t.showActivity,i=this.props.account,l=void 0;F.FRIEND_SYNC_PLATFORM_TYPES.has(i.type)&&(l=r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:a,onChange:this.handleFriendSyncChange},void 0,d.default.Messages.SYNC_FRIENDS));var s=void 0;return F.ACTIVITY_PLATFORM_TYPES.has(i.type)&&(s=r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleShowActivityChange},void 0,d.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))),r("div",{className:x.default.connectionOptionsWrapper},void 0,r("div",{className:x.default.connectionOptions},void 0,r(N.default,{className:x.default.connectionOptionSwitch,theme:N.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===n,onChange:this.handleVisibilityChange},void 0,d.default.Messages.DISPLAY_ON_PROFILE),s,l))},t.prototype.renderIntegrations=function(e){var t=this.props.account,n=e.name.toUpperCase().replace(/\./g,"");return t.revoked?r(g.FormItem,{className:x.default.integrationsWrapper},void 0,r(g.FormTitle,{tag:g.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r(g.FormText,{},void 0,d.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?r(g.FormItem,{className:x.default.integrationsWrapper},void 0,r(g.FormTitle,{tag:g.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r("div",{},void 0,t.integrations.map(function(t){return r(H,{integration:t,color:e.color},t.id)}))):void 0},t.prototype.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return r(g.FormDivider,{className:x.default.connectedAccountSeparator})},t.prototype.render=function(){var e=this.props.account,t=c.default.get(e.type);return r("div",{className:x.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},t}(i.PureComponent),Y=function(){var e=this;this.handleReconnect=function(){(0,m.authorize)(e.props.account.type,"User Settings")},this.handleDisconnect=function(){if(F.UNSAFE_PLATFORM_TYPES.has(e.props.account.type))e.props.onDisconnect();else{var t=c.default.get(e.props.account.type);w.default.push(function(n){return i.createElement(p.default,o({title:d.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:t.name}),body:d.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:d.default.Messages.DISCONNECT_ACCOUNT,cancelText:d.default.Messages.CANCEL,onConfirm:e.props.onDisconnect},n))})}},this.handleVisibilityChange=function(t){var n=e.props.account,a=t.currentTarget.checked?1:0;if(F.SAFE_PLATFORM_TYPES.has(n.type)&&!e.state.verified)return e._inProgressVisibility=a,void(0,m.authorize)(n.type);e.setState({visibility:a}),D.default.setVisibility(n.type,n.id,a)},this.handleInProgressVisibilityChange=function(){if(null!=e._inProgressVisibility){var t=e.props.account;D.default.setVisibility(t.type,t.id,e._inProgressVisibility),e._inProgressVisibility=null}},this.handleFriendSyncChange=function(t){var n=e.props.account,a=t.currentTarget.checked;e.setState({friendSync:a}),D.default.setFriendSync(n.type,n.id,a)},this.handleShowActivityChange=function(t){var n=e.props.account,a=t.currentTarget.checked;e.setState({showActivity:a}),D.default.setShowActivity(n.type,n.id,a)}};V.displayName="ConnectedAccount";var W=r(v.default,{}),z=(0,l.default)({displayName:"UserSettingsConnections",mixins:[s.default,f.default.LazyStoreListenerMixin(A.default,L.default,P.default,R.default)],getInitialState:function(){return o({descriptionWarning:!1},this.getStateFromStores())},getStateFromStores:function(){return{hide:R.default.hidePersonalInformation,fetching:A.default.isFetching(),accounts:A.default.getAccounts(),notDetectedPlatformTypes:L.default.getNotDetectedPlatformTypes(),detectPlatformAccounts:P.default.detectPlatformAccounts}},componentDidUpdate:function(e,t){var n=this.state.notDetectedPlatformTypes;t.notDetectedPlatformTypes!==n&&this.setState({descriptionWarning:!0})},componentDidMount:function(){D.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;D.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){U.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e,t=this.state.descriptionWarning,n=d.default.Messages.CONNECT_ACCOUNT_DESCRIPTION;return t&&(n=r("div",{className:x.default.warning},void 0,d.default.Messages.CONNECT_ACCOUNT_NONE_DETECTED)),r(_.default,{className:(0,u.default)(x.default.accountList,(e={},e[G.default.marginBottom20]=!k.default.embedded,e))},void 0,r(g.FormTitle,{faded:!0,className:G.default.marginBottom4},void 0,d.default.Messages.CONNECT_ACCOUNT_TITLE),r(g.FormText,{className:G.default.marginBottom8},void 0,n),r("div",{className:x.default.connectedAccounts},void 0,c.default.filter(function(e){return e.enabled}).map(function(e){return r(y.default,{type:e.type,location:"User Settings",className:x.default.accountBtn,innerClassName:x.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(k.default.embedded)return r(N.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,u.default)(G.default.marginTop20,G.default.marginBottom20)},void 0,d.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e=this,t=this.state,a=t.fetching,o=t.accounts,i=void 0;return i=a?r(T.default,{className:G.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE}):0===o.length?r(j,{className:G.default.marginTop40},void 0,r(O.EmptyStateImage,{darkSrc:n(7139),lightSrc:n(7138),width:230,height:220}),r(O.EmptyStateText,{note:d.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,d.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):o.map(function(t,n){return r(V,{account:t,onDisconnect:e.handleDisconnect.bind(e,t)},n)}),r(g.FormItem,{},void 0,i)},render:function(){return this.state.hide?W:r(g.FormSection,{className:x.default.connections,tag:g.FormTitleTags.H2,title:d.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=z,e.exports=t.default},7141:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(3)),l=y(n(30)),s=y(n(509)),u=y(n(976)),d=y(n(6)),f=y(n(281)),c=y(n(507)),p=n(78),h=y(p),m=y(n(915));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onFieldChange=function(e,t){var n;s.default.updateRemoteSettings(((n={})[e]=t,n))},t.prototype.renderTTSControl=function(){var e=this;if(u.default.supported)return o(c.default,{},void 0,o(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.FORM_LABEL_TTS),o(m.default,{className:"margin-top-8",value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,d.default.Messages.ALLOW_TTS_COMMAND))},t.prototype.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,a=t.inlineAttachmentMedia,r=t.gifAutoPlay,i=t.renderEmbeds,l=t.renderReactions,s=t.animateEmoji,u=t.convertEmoticons;return o(c.default,{tag:p.Tags.H2,title:d.default.Messages.TEXT_AND_IMAGES},void 0,o(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.INLINE_MEDIA_LABEL),o(m.default,{className:"margin-top-8 margin-bottom-20",value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,d.default.Messages.INLINE_EMBED_MEDIA),o(m.default,{className:"margin-top-8 margin-bottom-20",value:a,note:d.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,d.default.Messages.INLINE_ATTACHMENT_MEDIA),o(m.default,{className:"margin-bottom-40",value:r,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,d.default.Messages.GIF_AUTO_PLAY_LABEL),o(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.RENDER_EMBEDS_LABEL),o(m.default,{className:"margin-top-8 margin-bottom-40",value:i,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,d.default.Messages.RENDER_EMBEDS),o(h.default,{className:"margin-bottom-8"},void 0,d.default.Messages.EMOJI),o(m.default,{className:"margin-top-8 margin-bottom-20",value:l,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,d.default.Messages.RENDER_REACTIONS),o(m.default,{className:"margin-top-8 margin-bottom-20",value:s,note:d.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,d.default.Messages.ANIMATE_EMOJI),o(m.default,{className:"margin-bottom-40",value:u,note:f.default.parse(d.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,d.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl())},t}(r.PureComponent);v.displayName="UserSettingsTextImages",t.default=i.default.connectStores([l.default],function(){return{inlineAttachmentMedia:l.default.inlineAttachmentMedia,inlineEmbedMedia:l.default.inlineEmbedMedia,gifAutoPlay:l.default.gifAutoPlay,renderEmbeds:l.default.renderEmbeds,renderReactions:l.default.renderReactions,animateEmoji:l.default.animateEmoji,enableTTSCommand:l.default.enableTTSCommand,convertEmoticons:l.default.convertEmoticons}})(v),e.exports=t.default},7142:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){r.default.dispatch({type:i.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0)},7143:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=k(n(7)),s=k(n(9)),u=k(n(1003)),d=k(n(3)),f=k(n(6339)),c=k(n(398)),p=k(n(30)),h=n(7142),m=k(n(34)),y=n(158),v=n(5922),g=k(v),_=n(44),E=k(_),S=k(n(915)),T=k(n(159)),C=k(n(6201)),b=k(n(160)),N=k(n(511)),O=k(n(88)),I=k(n(26)),A=k(n(506)),M=k(n(69)),R=n(0),P=k(n(5498)),L=k(n(5499)),w=k(n(383)),D=k(n(504)),U=k(n(5749));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=["ChatX_web","ChatX_marketing"],H=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function V(e){var t=this;return new Promise(function(n){m.default.push(function(a){var o=function(e){a.onClose(),n(e)};return i.createElement(O.default,a,r(O.default.Header,{},void 0,r(y.FormTitle,{tag:y.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),r(O.default.Content,{},void 0,r(I.default,{},void 0,e.map(function(e){return r(I.default.Child,{grow:0},e,r(E.default,{value:e,look:E.default.Looks.GHOST,color:E.default.Colors.GREEN,onClick:o.bind(t,e)},void 0,e))}))),r(O.default.Footer,{},void 0,r(E.default,{color:E.default.Colors.PRIMARY,look:E.default.Looks.LINK,onClick:o.bind(t,null)},void 0,"Nevermind")))})})}var Y=function(e){function t(){var n,a;x(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=G(this,e.call.apply(e,[this].concat(r))),a.handleRemoveBuildOverride=function(){a.props.onBuildOverrideRemoved(a.props.project)},a.handleOverrideIdChanged=function(e){a.props.onBuildOverrideUpdated(a.props.project,{id:e})},a.handleOverrideTypeChanged=function(e){a.props.onBuildOverrideUpdated(a.props.project,{type:e.value,id:""})},G(a,n)}return B(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,a=t.overrideType,o=t.overrideId,i=t.disabled,l=t.error,u="branch"===a?"Branch Name":"Build ID";return r(I.default,{direction:I.default.Direction.VERTICAL,className:(0,s.default)(U.default.buildOverrideGroup,D.default.marginBottom20,L.default.card,U.default.row)},void 0,r("button",{className:(0,s.default)(P.default.button,U.default.removeBuildOverride,(e={},e[U.default.removeBuildOverrideDisabled]=i,e)),onClick:i?null:this.handleRemoveBuildOverride},void 0,"Remove Build Override"),r(I.default,{className:D.default.marginBottom8},void 0,r(I.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:"Override Type",className:U.default.item},void 0,r(N.default,{options:H,onChange:this.handleOverrideTypeChanged,value:a,disabled:i,clearable:!1,searchable:!1}))),r(I.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:u,className:U.default.item},void 0,r(T.default,{value:o,onChange:this.handleOverrideIdChanged,disabled:i})))),r(I.default.Child,{},void 0,l&&r(y.FormText,{className:U.default.item,style:{color:R.Colors.STATUS_RED},type:y.FormText.Types.DESCRIPTION},void 0,l),r(y.FormText,{className:U.default.item,type:y.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",r("code",{},void 0,n)," project.")))},t}(i.Component);Y.displayName="BuildOverride";var W=r(v.EmptyStateText,{},void 0,"You have no build overrides configured."),z=r(y.FormDivider,{}),K=function(e){function t(){var n,a,r=this;x(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=a=G(this,e.call.apply(e,[this].concat(u))),a.state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},a.handleAddBuildOverride=F(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a.getAvailableProjects());case 2:if(null!=(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:i=o({},a.state.buildOverrides,((t={})[n]={type:"branch",id:""},t)),a.setState({buildOverrides:i});case 7:case"end":return e.stop()}},e,r)})),a.handleBuildOverrideUpdated=function(e,t){var n,r=a.state.buildOverrides[e]||{},i=o({},r,t),l=o({},a.state.buildOverrides,((n={})[e]=i,n));a.setState({buildOverrides:l})},a.handleBuildOverrideRemoved=function(e){var t=o({},a.state.buildOverrides);delete t[e],a.setState({buildOverrides:t})},a.handleDiscardChanges=function(){a.setState({buildOverrides:l.default.cloneDeep(a.state.loadedBuildOverrides),errors:{},didSave:!1})},a.handleSaveChanges=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({saving:!0}),e.next=3,f.default.put(a.state.buildOverrides);case 3:200===(t=e.sent).status?a.setState({buildOverrides:t.body,loadedBuildOverrides:l.default.cloneDeep(t.body),errors:{},didSave:!0,saving:!1}):400===t.status?a.setState({errors:t.body,saving:!1,didSave:!1}):a.setState({saving:!1,didSave:!1});case 5:case"end":return e.stop()}},e,r)})),a.handleLinkGeneration=function(){var e=a.state.buildOverrides;m.default.push(function(t){return i.createElement($,o({},t,{buildOverrides:e}))})},G(a,n)}return B(t,e),t.prototype.refreshBuildOverrides=function(){var e=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.get();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:l.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!l.default.isEqual(t,n)},t.prototype.componentDidMount=function(){this.refreshBuildOverrides()},t.prototype.getAvailableProjects=function(){var e=Object.keys(this.state.buildOverrides);return l.default.without.apply(l.default,[j].concat(e))},t.prototype.renderEmpty=function(){return r(g.default,{theme:p.default.theme,className:(0,s.default)(D.default.marginTop40,D.default.marginBottom20)},void 0,r(v.EmptyStateImage,{darkSrc:n(6610),lightSrc:n(6609),width:294,height:192}),W)},t.prototype.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,a=t.saving,o=t.errors;return l.default.map(n,function(t,n){return r(Y,{project:n,overrideType:t.type,overrideId:t.id,disabled:a,error:o[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},t.prototype.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:function(){return location.reload()},look:E.default.Looks.GHOST,color:E.default.Colors.PRIMARY},void 0,"Reload App")))},t.prototype.renderLinkButton=function(){var e=this.state.buildOverrides;return 0===Object.keys(e).length?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleLinkGeneration,look:E.default.Looks.GHOST,color:E.default.Colors.BRAND},void 0,"Generate Public Link")))},t.prototype.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleSaveChanges,submitting:e,look:E.default.Looks.GHOST,color:E.default.Colors.GREEN},void 0,"Save Build Overrides")),r(I.default.Child,{grow:0},void 0,r(E.default,{onClick:this.handleDiscardChanges,disabled:e,look:E.default.Looks.GHOST,color:E.default.Colors.RED},void 0,"Discard Changes")))},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.saving,a=e.buildOverrides,o=void 0;o=t?r(b.default,{className:D.default.marginTop20}):0===Object.keys(a).length?this.renderEmpty():this.renderItems();var i=!n&&!t&&this.getAvailableProjects().length>0;return r(y.FormSection,{className:D.default.marginTop60},void 0,r(I.default,{className:D.default.marginBottom20},void 0,r(I.default.Child,{},void 0,r(y.FormTitle,{tag:y.FormTitleTags.H2},void 0,"Build Overrides")),r(I.default.Child,{grow:0},void 0,r(E.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!i},void 0,"Add Build Override"))),z,r(I.default,{direction:I.default.Direction.VERTICAL},void 0,o,r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(i.Component);K.displayName="BuildOverrides";var $=function(e){function t(){var n,a,o=this;x(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=G(this,e.call.apply(e,[this].concat(i))),a.state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:M.default.Colors.RED},a.setUserEntryError=function(e){a.setState({userIdEntryError:e})},a.setStatusMessage=function(e,t){a.setState({statusText:e,statusTextColor:t||M.default.Colors.RED})},a.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return a.setUserEntryError("User IDs are numbers!");a.setState({userIdEntry:e})},a.handleRemoveUserIDEntry=function(e){a.setState({removeUserIdEntry:e})},a.handleUserEnter=function(e){e.charCode===R.KeyboardKeys.ENTER&&a.handleAddUser()},a.handleAddUser=function(){var e=a.state,t=e.userIds,n=e.userIdEntry;return 0===n.length?a.setUserEntryError("Enter a valid user ID!"):t.indexOf(n)>=0?a.setUserEntryError("You already added that user!"):void a.setState({userIds:[].concat(t,[n]),userIdEntry:""})},a.handleRemoveUser=function(e){var t=a.state.userIds;t=t.filter(function(t){return t!==e.value}),a.setState({userIds:t})},a.handleExpirationChange=function(e){a.setState({ttlSeconds:e.value})},a.generatePayload=function(){return{overrides:a.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:a.state.ttlSeconds,user_ids:a.state.userIds}}},a.handleGenerateLink=F(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setStatusMessage(null),t=a.generatePayload(),e.next=4,f.default.getPublicLink(t);case 4:!1!==(n=e.sent).error?a.setStatusMessage(n.error.toString(),M.default.Colors.RED):(a.setState({publicLink:n.url.toString()}),0===t.meta.user_ids.length&&a.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",M.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e,o)})),G(a,n)}return B(t,e),t.prototype.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,a=t.userIdEntry,o=t.userIdEntryError,i=t.userIds,l=f.default.EXPIRATION_OPTIONS.find(function(e){return e.value===n}),s=i.map(function(e){return{label:e,value:e}});return r(I.default,{direction:I.default.Direction.VERTICAL},void 0,r(y.FormItem,{title:"Expire After",className:D.default.marginBottom20},void 0,r(N.default,{value:l,clearable:!1,searchable:!1,options:f.default.EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),r(y.FormItem,{title:"Add User ID (optional)",className:D.default.marginBottom20},void 0,r(I.default,{direction:I.default.Direction.HORIZONTAL},void 0,r(I.default.Child,{wrap:!0,basis:"90%"},void 0,r(T.default,{autoFocus:!0,value:a,onKeyPress:this.handleUserEnter,error:o,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),r(E.default,{className:_.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),r(y.FormItem,{title:"Remove User ID",className:D.default.marginBottom20},void 0,r(N.default,{options:s,onChange:this.handleRemoveUser,disabled:0===i.length})))},t.prototype.renderPayloadBlock=function(){var e=this.generatePayload(),t=u.default.highlight("json",JSON.stringify(e,null,2),!0);return r(A.default,{},void 0,r("pre",{},void 0,r("code",{className:"hljs scroller "+t.language+" "+w.default.scrollbarGhost+" "+U.default.codebox,dangerouslySetInnerHTML:{__html:t.value}})))},t.prototype.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,a=e.publicLink;return r("div",{},void 0,r(y.FormItem,{title:"Signed Link"},void 0,r(I.default,{},void 0,r(I.default.Child,{wrap:!0,basis:"75%"},void 0,r(C.default,{value:a})),r(E.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),r(M.default,{color:t,className:D.default.marginBottom8+" "+D.default.marginTop8},void 0,!1!==n?n:""))},t.prototype.render=function(){return r(O.default,{size:O.default.Sizes.LARGE},void 0,r(O.default.Header,{},void 0,r(y.FormTitle,{tag:y.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),r(O.default.CloseButton,{onClick:this.props.onClose})),r(O.default.Content,{},void 0,r(I.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(i.Component);$.displayName="BuildOverrideLinkModal";var q=d.default.connectStores([c.default],function(){return{isTracingRequests:c.default.isTracingRequests,isForcedCanary:c.default.isForcedCanary,isLoggingGatewayEvents:c.default.isLoggingGatewayEvents,isLoggingOverlayEvents:c.default.isLoggingOverlayEvents}})(function(e){var t=e.isTracingRequests,n=e.isForcedCanary,a=e.isLoggingGatewayEvents,o=e.isLoggingOverlayEvents;return r(y.FormSection,{title:"Developer Flags",tag:y.FormTitleTags.H2},void 0,r(S.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),r(S.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),r(S.default,{value:a,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),r(S.default,{value:o,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"))}),X=r(i.Fragment,{},void 0,r(q,{}),r(K,{})),Q=function(e){function t(){return x(this,t),G(this,e.apply(this,arguments))}return B(t,e),t.prototype.render=function(){return X},t}(i.PureComponent);Q.displayName="UserSettingsModalDeveloperOptions",t.default=Q,e.exports=t.default},7144:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(45)),l=y(n(59)),s=y(n(3)),u=n(158),d=y(n(26)),f=y(n(511)),c=y(n(5929)),p=y(n(190)),h=y(n(5952)),m=y(n(5750));function y(e){return e&&e.__esModule?e:{default:e}}var v=o(u.FormDivider,{className:"margin-top-20"}),g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleToggleVisibility=function(){a.setState({open:!a.state.open})},a.state={open:n.open},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,a=t.children;return o("div",{className:m.default.group},void 0,o(u.FormSection,{},void 0,o(u.FormTitle,{tag:u.FormTitleTags.H3,className:m.default.title,onClick:this.handleToggleVisibility},void 0,n),e?a:null),v)},t}(r.Component);g.displayName="ExperimentGroup";var _=o(u.FormSection,{},void 0,o(u.FormText,{},void 0,"No Experiments are currently running")),E=(0,i.default)({displayName:"UserSettingsModalExperiments",mixins:[l.default,s.default.LazyStoreListenerMixin(p.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{experiments:p.default.getRegisteredExperiments(),overrides:p.default.getExperimentOverrides()}},renderExperimentGroup:function(e,t){var n=this.state.experiments[e],a=n.description;return Array.isArray(a)||(a=[a]),a=a.map(function(e,t){return o(u.FormText,{type:u.FormTextTypes.DESCRIPTION},t,e)}),o(g,{title:n.title,open:null!=this.state.overrides[e]},t,o("div",{},void 0,this.renderExperimentTypes(e,n.experiments),o("div",{className:"margin-top-4"},void 0,a)))},renderExperimentTypes:function(e,t){var n=Object.keys(t),a=this.state.overrides[e];return o(d.default,{},void 0,o(d.default.Child,{},void 0,o(u.FormItem,{title:"Type Override"},void 0,o(f.default,{value:a?a.type:"",clearable:!0,searchable:!1,options:this.getExperimentTypes(n),onChange:function(t){return c.default.overrideType(e,t&&t.value)}}))),o(d.default.Child,{},void 0,o(u.FormItem,{title:"Bucket Override"},void 0,o(f.default,{value:a?a.bucket:"",disabled:!a||!a.type,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t[a?a.type:""]),onChange:function(t){return c.default.overrideBucket(e,t&&t.value)}}))))},getExperimentTypes:function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},getExperimentBuckets:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{label:h.default.getExperimentBucketName(e),value:e}})},renderEmpty:function(){return _},render:function(){var e=Object.keys(this.state.experiments),t=void 0;return t=e.length?e.map(this.renderExperimentGroup):this.renderEmpty(),o(u.FormSection,{tag:u.FormTitleTags.H2,title:"Experiments"},void 0,t)}});t.default=E,e.exports=t.default},7145:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},7146:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},7147:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},7155:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6)),u=O(n(281)),d=O(n(88)),f=O(n(78)),c=O(n(508)),p=O(n(69)),h=O(n(26)),m=O(n(44)),y=O(n(6336)),v=O(n(6031)),g=O(n(6142)),_=(O(n(89)),O(n(12))),E=O(n(6140)),S=O(n(34)),T=O(n(6141)),C=O(n(6032)),b=n(0),N=O(n(5751));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){var t=e.label,n=e.text,a=e.children,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["label","text","children"]);return i.createElement(h.default,o({direction:h.default.Direction.VERTICAL},l),r(f.default,{tag:f.default.Tags.H2},void 0,t),null!=n?r(p.default,{size:p.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,n):null,r(h.default.Child,{wrap:!0},void 0,a))};A.displayName="ModalSection";var M=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=I(this,e.call.apply(e,[this].concat(l))),a.getDownloadFileContents=function(){var e=a.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+s.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return s.default.Messages.TWO_FA_ChatX_BACKUP_CODES.format({email:a.props.currentUser.email})+"\r\n\r\n"+e},a.handleChangePhoneNumber=function(){a.openPhoneVerificationModal()},a.handleEnableSMS=function(){var e=function(){S.default.push(function(e){return i.createElement(g.default,o({},e,{handleSubmit:function(e){return C.default.enableSMS(e)},title:s.default.Messages.MFA_SMS_ENABLE}))})};null==a.props.currentUser.phone?a.openPhoneVerificationModal({onAddedPhone:e}):e()},I(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(b.UserFlags.MFA_SMS),a=e.hasFlag(b.UserFlags.PARTNER)||e.hasFlag(b.UserFlags.STAFF);return t?r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(p.default,{size:p.default.Sizes.MEDIUM,className:N.default.sectionBody},void 0,r("strong",{className:N.default.phoneNumber},void 0,s.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),r(m.default,{look:m.default.Looks.LINK,color:m.default.Colors.LINK,size:m.default.Sizes.MIN,className:N.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,s.default.Messages.CHANGE_PHONE_NUMBER)),r(m.default,{onClick:this.handleEnableSMS,disabled:n||a,color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,a?s.default.Messages.MFA_SMS_DISABLED_PARTNER:n?s.default.Messages.MFA_SMS_ALREADY_ENABLED:s.default.Messages.MFA_SMS_ENABLE)):r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(m.default,{onClick:this.handleEnableSMS,color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL,disabled:a},void 0,a?s.default.Messages.MFA_SMS_DISABLED_PARTNER:s.default.Messages.MFA_SMS_ADD_PHONE))},t.prototype.renderBackupCodesSection=function(){return r(A,{label:s.default.Messages.TWO_FA_DOWNLOAD_CODES,text:s.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,r(y.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"ChatX_backup_codes.txt"},void 0,r(m.default,{color:m.default.Colors.GREEN,size:m.default.Sizes.SMALL},void 0,s.default.Messages.TWO_FA_DOWNLOAD_CODES)))},t.prototype.renderHeader=function(){return r(d.default.Header,{},void 0,r(h.default.Child,{grow:1,shrink:1},void 0,r(f.default,{tag:f.default.Tags.H4,className:N.default.header},void 0,u.default.parse(s.default.Messages.TWO_FA_SUCCESS_HEADER)),r(p.default,{size:p.default.Sizes.SMALL,className:N.default.subHeader},void 0,s.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),r(h.default.Child,{grow:0},void 0,r(d.default.CloseButton,{onClick:S.default.pop})))},t.prototype.render=function(){return r(d.default,{className:N.default.modal},void 0,this.renderHeader(),r(d.default.Content,{className:N.default.modalInner},void 0,this.renderSMSSection(),r(c.default,{className:N.default.divider}),this.renderBackupCodesSection()))},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.default.reset(),S.default.push(function(t){return i.createElement(v.default,o({},t,e))})},t}(i.PureComponent);M.displayName="MFAEnableSuccess",t.default=l.default.connectStores([_.default],function(){return{currentUser:_.default.getCurrentUser(),backupCodes:E.default.getBackupCodes()}})(M),e.exports=t.default},7156:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},7157:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},7160:function(e,t,n){"use strict";t.__esModule=!0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(7159),i=(a=r)&&a.__esModule?a:{default:a};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.componentDidUpdate=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.render=function(){return o.createElement("div",{ref:"QR_REF",style:{padding:8,borderRadius:4,background:this.props.colorLight}})},t}(o.PureComponent);l.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:r.CorrectLevel.M},l.displayName="QRCode",t.default=l,e.exports=t.default},7161:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(6)),l=S(n(7160)),s=S(n(88)),u=S(n(78)),d=S(n(508)),f=S(n(69)),c=S(n(261)),p=S(n(26)),h=S(n(44)),m=S(n(159)),y=S(n(12)),v=S(n(6032)),g=S(n(34)),_=n(6337),E=S(n(5755));function S(e){return e&&e.__esModule?e:{default:e}}var T=function(e){var t=e.image,n=e.label,a=e.text,r=e.children;return o(p.default,{className:E.default.spacing},void 0,o(p.default,{grow:0,shrink:0,basis:"156px",justify:p.default.Justify.CENTER,className:E.default.image},void 0,t),o(p.default,{direction:p.default.Direction.VERTICAL,justify:p.default.Justify.CENTER},void 0,o("div",{},void 0,o(u.default,{tag:u.default.Tags.H5,className:E.default.headerSpacing},void 0,n),o(c.default,{type:c.default.Types.DESCRIPTION},void 0,a),r)))};T.displayName="ModalSection";var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleActivateSuccess=function(){var e=a.props.onClose;null!=e&&e()},a.handleActivate=a.handleActivate.bind(a),a.handleCodeChange=a.handleCodeChange.bind(a),a.state={code:"",totpSecret:(0,_.generateTotpSecret)(),error:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.totpSecret,a=e.code,r=y.default.getCurrentUser().email,c=(0,_.encodeTotpSecretAsUrl)(r,t),v=o(p.default,{className:E.default.inputContainer,align:p.default.Align.START},void 0,o(m.default,{value:a,className:E.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),o(p.default.Child,{grow:0,shrink:0},void 0,o(h.default,{onClick:this.handleActivate},void 0,i.default.Messages.TWO_FA_ACTIVATE)));return o(s.default,{size:E.default.customWidth},void 0,o(s.default.Header,{},void 0,o(p.default.Child,{grow:1,shrink:1},void 0,o(u.default,{tag:u.default.Tags.H4},void 0,i.default.Messages.TWO_FA_ENABLE),o(f.default,{size:f.default.Sizes.SMALL,className:E.default.subHeader},void 0,i.default.Messages.TWO_FA_ENABLE_SUBHEADER)),o(p.default.Child,{grow:0},void 0,o(s.default.CloseButton,{onClick:g.default.pop}))),o(s.default.Content,{},void 0,o(T,{image:o("img",{alt:"",src:n(7157),width:100,height:100}),label:i.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:i.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),o(d.default,{className:E.default.divider}),o(T,{image:o(l.default,{text:c}),label:i.default.Messages.TWO_FA_QR_LABEL,text:i.default.Messages.TWO_FA_QR_BODY},void 0,o("div",{className:E.default.topSpacing},void 0,o(u.default,{tag:u.default.Tags.H5,className:E.default.headerSpacing},void 0,i.default.Messages.TWO_FA_KEY),o(f.default,{color:f.default.Colors.PRIMARY,size:f.default.Sizes.MEDIUM,family:f.default.Family.CODE,selectable:!0},void 0,t))),o(d.default,{className:E.default.divider}),o(T,{image:o("img",{alt:"",src:n(7156)}),label:i.default.Messages.TWO_FA_LOGIN_LABEL,text:i.default.Messages.TWO_FA_LOGIN_BODY},void 0,v)))},t.prototype.handleCodeChange=function(e){this.setState({code:e})},t.prototype.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,a=t.code;v.default.enable({code:a,secret:(0,_.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},t}(r.PureComponent);C.key=function(){return"mfa-enable-modal"},C.displayName="MFAEnable",t.default=C,e.exports=t.default},7164:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(9)),s=n(6337),u=R(n(6)),d=R(n(3)),f=R(n(7161)),c=R(n(7155)),p=R(n(6142)),h=R(n(6336)),m=R(n(6031)),y=n(158),v=R(n(26)),g=R(n(157)),_=R(n(365)),E=n(44),S=R(E),T=(R(n(89)),R(n(6140))),C=R(n(12)),b=R(n(6032)),N=R(n(34)),O=R(n(6141)),I=n(0),A=R(n(5528)),M=R(n(504));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=P(this,e.call.apply(e,[this].concat(l))),a.state={revealed:!1},a.togglePhoneNumberVisibility=function(e){e.preventDefault(),a.setState({revealed:!a.state.revealed})},a.handleEnableMFA=function(){N.default.push(function(e){var t=e.onClose,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["onClose"]);return i.createElement(f.default,r({},n,{onClose:function(){null!=t&&t(),a.handleEnableMFASuccess()}}))})},a.handleEnableMFASuccess=function(){N.default.push(function(e){return i.createElement(c.default,e)})},a.handleDisableMFA=function(){b.default.disable()},a.generateBackupCodes=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return b.default.viewBackupCodes(e,!0)},title:u.default.Messages.TWO_FA_GENERATE_CODES,actionText:u.default.Messages.TWO_FA_GENERATE_CODES}),u.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},a.viewBackupCodes=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return b.default.viewBackupCodes(e)},title:u.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:u.default.Messages.TWO_FA_VIEW_CODES}))})},a.getDownloadFileContents=function(){var e=a.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return u.default.Messages.TWO_FA_ChatX_BACKUP_CODES.format({email:a.props.currentUser.email})+"\r\n\r\n"+e},a.handleChangePhoneNumber=function(){a.openPhoneVerificationModal()},a.handleEnableSMS=function(){var e=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:b.default.enableSMS,title:u.default.Messages.MFA_SMS_ENABLE}))})};null==a.props.currentUser.phone?a.openPhoneVerificationModal({onAddedPhone:e}):e()},a.handleDisableSMS=function(){N.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:b.default.disableSMS,title:u.default.Messages.MFA_SMS_REMOVE}),u.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},t.prototype.renderMFASMS=function(){var e=this.state.revealed,t=this.props,n=t.currentUser,a=t.togglingSMS,r=null!=n.phone,i=n.hasFlag(I.UserFlags.MFA_SMS),s=void 0,d=void 0;if(r||i){var f=e?n.phone:this.maskPhoneNumber(n.phone);d=o(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom8},void 0,u.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:f}),o(g.default,{onClick:this.togglePhoneNumberVisibility,className:A.default.phoneRevealer},void 0,e?u.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:u.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(i)s=o(v.default,{className:r?"":M.default.marginTop8},void 0,o(S.default,{color:S.default.Colors.RED,look:S.default.Looks.OUTLINED,size:S.default.Sizes.SMALL,submitting:a,onClick:this.handleDisableSMS},void 0,u.default.Messages.MFA_SMS_REMOVE));else{var c=n.hasFlag(I.UserFlags.STAFF)||n.hasFlag(I.UserFlags.PARTNER);s=o(v.default,{className:r?"":M.default.marginTop8},void 0,o(S.default,{onClick:this.handleEnableSMS,size:S.default.Sizes.SMALL,submitting:a,disabled:c},void 0,c?u.default.Messages.MFA_SMS_DISABLED_PARTNER:u.default.Messages.MFA_SMS_ENABLE),r?o(S.default,{onClick:this.handleChangePhoneNumber,color:S.default.Colors.PRIMARY,size:S.default.Sizes.SMALL,look:S.default.Looks.LINK},void 0,u.default.Messages.CHANGE_PHONE_NUMBER):null)}return o(y.FormSection,{className:(0,l.default)(M.default.marginBottom40,M.default.marginTop40),title:u.default.Messages.MFA_SMS_AUTH},void 0,o(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.MFA_SMS_AUTH_SALES_PITCH),d,s)},t.prototype.renderEnabled=function(){var e=this.props.backupCodes,t=o(S.default,{onClick:this.viewBackupCodes,size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_VIEW_BACKUP_CODES),a=void 0;if(e.length){t=o(h.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"ChatX_backup_codes.txt",className:"btn btn-primary"},void 0,o(S.default,{size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_DOWNLOAD_CODES));var r=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return o("li",{className:M.default.marginBottom20},n,o(_.default,{readOnly:!0,className:A.default.codeCheckbox,value:t},void 0,o("span",{className:A.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};a=o(y.FormSection,{title:u.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,o(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),o(v.default,{},void 0,o(v.default.Child,{},void 0,o("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(0,e.length/2)))),o(v.default.Child,{},void 0,o("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(e.length/2))))),o("div",{},void 0,o(S.default,{onClick:this.generateBackupCodes,look:E.ButtonLooks.LINK,size:E.ButtonSizes.MIN},void 0,u.default.Messages.TWO_FA_GENERATE_CODES)),o(y.FormDivider,{className:M.default.marginTop20}))}return o(y.FormSection,{},void 0,o(y.FormTitle,{className:(0,l.default)(A.default.isEnabled,M.default.marginTop4,M.default.marginBottom8)},void 0,o("img",{alt:"",className:(0,l.default)(A.default.lockIcon),src:n(7147)}),u.default.Messages.TWO_FA_ENABLED),o(v.default,{justify:v.default.Justify.START,className:M.default.marginBottom20},void 0,o(v.default.Child,{wrap:!0,grow:0},void 0,t),o(v.default.Child,{wrap:!0},void 0,o(S.default,{onClick:this.handleDisableMFA,size:S.default.Sizes.SMALL,color:E.ButtonColors.RED,look:E.ButtonLooks.OUTLINED},void 0,u.default.Messages.TWO_FA_REMOVE))),a,this.renderMFASMS())},t.prototype.renderDisabled=function(){return o(y.FormSection,{},void 0,o(y.FormText,{type:y.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_SALES_PITCH),o(y.FormItem,{},void 0,o(S.default,{onClick:this.handleEnableMFA,size:E.ButtonSizes.SMALL},void 0,u.default.Messages.TWO_FA_ENABLE)))},t.prototype.render=function(){var e=this.props.currentUser;return s.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():o(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_NOT_VERIFIED):o(y.FormText,{type:y.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_USE_DESKTOP_APP)},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O.default.reset(),N.default.push(function(t){return i.createElement(m.default,r({},t,e))})},t}(i.PureComponent);L.displayName="TwoFactorAuth",t.default=d.default.connectStores([C.default,T.default],function(){return{currentUser:C.default.getCurrentUser(),togglingSMS:T.default.togglingSMS}})(L),e.exports=t.default},7165:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=K(n(3)),s=K(n(6)),u=K(n(9)),d=K(n(919)),f=K(n(6075)),c=K(n(161)),p=K(n(6142)),h=K(n(5939)),m=n(58),y=K(m),v=K(n(112)),g=K(n(7164)),_=K(n(506)),E=K(n(159)),S=n(44),T=K(S),C=n(158),b=K(n(69)),N=K(n(26)),O=K(n(77)),I=K(n(6139)),A=K(n(83)),M=K(n(359)),R=K(n(17)),P=K(n(12)),L=K(n(6140)),w=K(n(124)),D=K(n(6335)),U=K(n(30)),k=K(n(27)),F=K(n(6032)),x=K(n(34)),G=K(n(5954)),B=n(523),j=n(926),H=K(n(355)),V=n(0),Y=K(n(5528)),W=K(n(504)),z=K(n(544));function K(e){return e&&e.__esModule?e:{default:e}}var $=r(h.default,{}),q=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return X.call(a),a.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){F.default.clearBackupCodes(),(0,j.accountDetailsClose)()},t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?r(C.FormItem,{className:W.default.marginTop20,title:s.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,r(E.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):r(C.FormItem,{className:W.default.marginTop20},void 0,r(T.default,{onClick:this.startEditingPassword,color:S.ButtonColors.PRIMARY,look:S.ButtonLooks.LINK,size:S.ButtonSizes.MIN},void 0,s.default.Messages.CHANGE_PASSWORD_LINK))},t.prototype.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,a=n.currentUser,o=n.accountInfo,i=this.state.discriminatorError,l=this.getError("username");return i=i||this.getError("discriminator"),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_USERNAME,className:W.default.marginBottom20,required:!0},void 0,r("div",{className:z.default.inputWrapper},void 0,r("div",{className:(0,u.default)(z.default.input,Y.default.multiInput,(e={},e[z.default.error]=l||i,e[z.default.focused]=this.state.multiInputFocused,e))},void 0,r(E.default,{name:"username",value:o.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:Y.default.multiInputFirst,inputClassName:Y.default.multiInputField}),r(E.default,{name:"discriminator",maxLength:4,value:o.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!M.default.canEditDiscriminator(a),className:Y.default.multiInputLast,inputClassName:Y.default.multiInputField}),M.default.canEditDiscriminator(a)?null:r(v.default,{text:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:"bottom"},void 0,r(O.default,{tag:"span",className:Y.default.questionMark,onClick:this.onEditDiscriminator},void 0,r(y.default,{name:m.IconNames.QUESTION_MARK,className:Y.default.icon})))),l?r("div",{className:z.default.errorMessage},void 0,l):null,i?r("div",{className:z.default.errorMessage},void 0,i):null))},t.prototype.renderEditing=function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.props,o=a.formState,i=a.accountInfo,l=a.claimed,d=a.verified,c=a.currentUser,p=this.state.passwordError,h=d&&n?this.renderPasswordChanger():null;return r(_.default,{className:(0,u.default)(Y.default.userInfoEditing,(e={},e[Y.default.danger]=!l,e[Y.default.warning]=!d,e)),editable:!0},void 0,r(N.default,{},void 0,r(N.default.Child,{grow:0,className:Y.default.avatarColumn},void 0,r(f.default,{showIcon:!0,avatar:i.avatar,size:V.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(e){var t={id:c.id,avatar:e,discriminator:c.discriminator},n=A.default.hasAnimatedAvatar(t)?"gif":"png";return A.default.getUserAvatarURL(t,n)}}),r(b.default,{color:b.default.Colors.RED,className:W.default.marginTop8},void 0,this.getError("avatar"))),r(N.default.Child,{},void 0,this.renderUsernameDiscriminator(),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_EMAIL,className:W.default.marginBottom20,required:!0},void 0,r(E.default,{name:"email",value:i.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,r(E.default,{name:"password",type:"password",value:i.password||"",onChange:this.handleChangeProfileField,error:p||this.getError("password")})),h)),r(C.FormDivider,{className:(0,u.default)(W.default.marginTop20,W.default.marginBottom20)}),r(N.default,{justify:N.default.Justify.END,align:N.default.Align.CENTER},void 0,r(N.default.Child,{wrap:!0,grow:0},void 0,r(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!0)}},void 0,s.default.Messages.DELETE_ACCOUNT)),r(N.default,{grow:1},void 0,l?r(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!1)}},void 0,s.default.Messages.DISABLE_ACCOUNT):null),r(N.default.Child,{wrap:!0,grow:0},void 0,r("div",{},void 0,l?r(T.default,{look:S.ButtonLooks.LINK,color:S.ButtonColors.PRIMARY,size:S.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,s.default.Messages.CANCEL):null)),r(N.default.Child,{wrap:!0,grow:0},void 0,r(T.default,{color:S.ButtonColors.GREEN,size:S.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:o===V.FormStates.SUBMITTING},void 0,s.default.Messages.USER_SETTINGS_SAVE))))},t.prototype.renderViewing=function(){var e,t=this.props,n=t.currentUser,a=t.verified;return r(_.default,{className:(0,u.default)(Y.default.userInfoViewing,(e={},e[Y.default.warning]=!a,e))},void 0,r(N.default,{},void 0,r(N.default.Child,{grow:0},void 0,r("div",{},void 0,r(d.default,{user:n,size:"xxlarge",animate:!0}))),r(N.default.Child,{},void 0,r(C.FormItem,{className:W.default.marginBottom20},void 0,r(C.FormTitle,{faded:!0,className:W.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_USERNAME),r(b.default,{className:Y.default.viewBody,selectable:!0},void 0,n.toString(),r("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),r(C.FormItem,{},void 0,r(C.FormTitle,{faded:!0,className:W.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_EMAIL),r(b.default,{className:Y.default.viewBody,selectable:!0},void 0,n.email)))),r(T.default,{className:Y.default.userInfoViewingButton,size:S.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,s.default.Messages.EDIT))},t.prototype.renderAccountSettings=function(){var e=this.props,t=e.verified,a=e.claimed,o=e.isEditingProfile,i=void 0,l=void 0;if(a){if(!t){var u=r("section",{},void 0,r("div",{className:W.default.marginBottom8},void 0,s.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),r(I.default,{look:S.ButtonLooks.INVERTED,size:S.ButtonSizes.SMALL,color:T.default.Colors.YELLOW}));l=r(C.FormNotice,{type:C.FormNotice.Types.WARNING,className:W.default.marginBottom8,imageData:{src:n(6334),width:60,height:60},title:s.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:u})}}else l=r(C.FormNotice,{className:W.default.marginBottom8,imageData:{src:n(6334),width:60,height:60},title:s.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:s.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),i=this.renderEditing(!1);return null==i&&(i=o?this.renderEditing():this.renderViewing()),r(C.FormSection,{tag:C.FormTitleTags.H2,title:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:Y.default.userSettingsAccount},void 0,l,i)},t.prototype.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,a=e.currentUser,o=e.theme===V.ThemeTypes.DARK?n(7146):n(7145);return r(C.FormSection,{className:(0,u.default)(Y.default.userSettingsSecurity,W.default.marginTop60),title:s.default.Messages.TWO_FA,tag:C.FormTitle.Tags.H2},void 0,r(N.default,{align:N.default.Align.STRETCH},void 0,r(N.default.Child,{wrap:!0},void 0,r(g.default,{backupCodes:t})),a.mfaEnabled?null:r(N.default,{align:N.default.Align.CENTER,basis:"323px",grow:0},void 0,r("img",{src:o,className:Y.default.userSettingsSecurityImage,alt:""}))))},t.prototype.render=function(){return this.props.hide?$:r("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},t.prototype.startEditingProfile=function(){(0,j.toggleEditingProfile)(!0)},t.prototype.startEditingPassword=function(){(0,j.toggleEditingPassword)(!0)},t.prototype.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,j.updateAccountInfo)(((n={})[t]=e,n))},t.prototype.handleAvatarChange=function(e){(0,j.updateAccountInfo)({avatar:e})},t.prototype.handleCancelEditing=function(){(0,j.toggleEditingProfile)(!1)},t.prototype.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,a=e.accountInfo,o=a.username,r=a.email,i=a.password,l=a.newPassword,s=a.avatar,u=a.discriminator;(0,j.saveAccountChanges)(o,r,i,s,l,M.default.canEditDiscriminator(n)?u:null).then(function(e){t||null==e||(0,B.claimSuccess)(e)})},t.prototype.handleDisableAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.currentUser,n=k.default.getGuilds();Object.keys(n).filter(function(e){return n[e].ownerId===t.id}).length>0?x.default.push(function(e){return i.createElement(c.default,o({header:s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:s.default.Messages.OKAY,red:!1},e),r(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):t.isClaimed()?x.default.push(function(t){return i.createElement(p.default,o({},t,{handleSubmit:function(t){return(0,j.disableAccount)(t,e)},title:e?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT,actionText:e?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT}),e?s.default.Messages.DELETE_ACCOUNT_BODY:s.default.Messages.DISABLE_ACCOUNT_BODY)}):x.default.push(function(e){return i.createElement(c.default,o({header:s.default.Messages.DELETE_ACCOUNT,confirmText:s.default.Messages.DELETE_ACCOUNT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return(0,j.disableAccount)("",!1)}},e),r(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_BODY))})},t}(i.PureComponent),X=function(){var e=this;this.onEditDiscriminator=function(){R.default.track(V.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:V.AnalyticsPages.USER_SETTINGS,location_section:V.AnalyticsSections.SETTINGS_ACCOUNT,location_object:V.AnalyticsObjects.TOOLTIP}),H.default.setSection(V.UserSettingsSections.PREMIUM)},this.handleSaveProfile=function(){var t=e.props,n=t.currentUser,a=t.accountInfo,l=a.discriminator,u=a.password,d=!1;if(M.default.canEditDiscriminator(n)&&n.discriminator!==l){if(4!==l.length?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),d=!0):0===parseInt(l,10)?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),d=!0):e.setState({discriminatorError:null}),0===u.length?(e.setState({passwordError:s.default.Messages.PASSWORD_REQUIRED}),d=!0):e.setState({passwordError:null}),d)return;x.default.push(function(t){return i.createElement(c.default,o({header:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:s.default.Messages.CANCEL,confirmText:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return e.saveAccount()}},t),r(b.default,{size:b.default.Sizes.MEDIUM,color:b.default.Colors.PRIMARY},void 0,s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==e.state.discriminatorError&&null==e.state.passwordError||e.setState({discriminatorError:null,passwordError:null}),e.saveAccount()},this.debounceFocusBlur=(0,G.default)(function(t){return e.setState({multiInputFocused:t})},50)};q.displayName="UserSettingsAccount",t.default=l.default.connectStores([P.default,w.default,D.default,U.default,L.default],function(){return o({},D.default.getState(),{currentUser:P.default.getCurrentUser(),backupCodes:L.default.getBackupCodes(),hide:w.default.hidePersonalInformation,theme:U.default.theme})})(q),e.exports=t.default},7166:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(36)),s=S(n(191)),u=S(n(282)),d=S(n(190)),f=n(35),c=S(n(355)),p=n(6338),h=S(n(7062)),m=S(n(7061)),y=S(n(7060)),v=S(n(7059)),g=S(n(7058)),_=S(n(7057)),E=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=o(h.default,{},"streamer-mode"),b=o(m.default,{},"theme"),N=o(y.default,{},"messages"),O=o(v.default,{},"inputMode"),I=o(s.default,{},"volume",o(g.default,{type:"input"}),o(g.default,{type:"output"})),A=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),h=0;h<s;h++)p[h]=arguments[h];return n=a=T(this,e.call.apply(e,[this].concat(p))),a.renderMenuItem=function(e){var t=e.section,n=e.label,s=e.onClick,c={key:t,label:n,action:s?function(){(0,f.closeContextMenu)(),s()}:function(){return a.handleAction(t)}};switch(t){case E.UserSettingsSections.STREAMER_MODE:return i.createElement(u.default,r({},c,{render:function(){return[C]}}));case E.UserSettingsSections.APPEARANCE:return i.createElement(u.default,r({},c,{render:function(){return[b,N]}}));case E.UserSettingsSections.VOICE:return i.createElement(u.default,r({},c,{render:function(){return[O,I]}}));case E.UserSettingsSections.EXPERIMENTS:var p=d.default.getRegisteredExperiments(),h=Object.keys(p).map(function(e){return o(_.default,{id:e},e)});return i.createElement(u.default,r({invertChildY:!0},c,{render:function(){return h}}));case"logout":return null;default:return i.createElement(l.default,c)}},a.handleAction=function(e){(0,f.closeContextMenu)(),c.default.open(e)},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return o("div",{className:n,style:t},void 0,(0,p.getUserSettingsSections)().map(this.renderMenuItem))},t}(i.PureComponent);A.displayName="UserSettingsCogContextMenu",t.default=A,e.exports=t.default},7167:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(75),l=P(n(3)),s=P(n(6)),u=P(n(6339)),d=P(n(58)),f=P(n(6143)),c=P(n(5984)),p=P(n(26)),h=P(n(919)),m=n(35),y=P(n(7166)),v=P(n(112)),g=P(n(217)),_=P(n(520)),E=n(5945),S=P(E),T=P(n(7056)),C=P(n(12)),b=P(n(227)),N=P(n(60)),O=P(n(355)),I=P(n(358)),A=n(0),M=P(n(5526)),R=P(n(44));function P(e){return e&&e.__esModule?e:{default:e}}function L(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var i=t[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}("next")})}}var w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={webBuildOverride:null},a.getDOMNode=a.getDOMNode.bind(a),a.handleToggleSelfMute=a.handleToggleSelfMute.bind(a),a.handleToggleSelfDeaf=a.handleToggleSelfDeaf.bind(a),a.handleOpenSettings=a.handleOpenSettings.bind(a),a.handleOpenSettingsContextMenu=a.handleOpenSettingsContextMenu.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.default.shouldCheckForBuildOverride()){e.next=5;break}return e.next=3,u.default.get();case 3:t=e.sent,this.setState({webBuildOverride:t.ChatX_web});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.fetchWebBuildOverrides=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.getActiveWebOverride();case 2:t=e.sent,this.setState({webBuildOverride:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.getDOMNode=function(){return(0,i.findDOMNode)(this)},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleToggleSelfDeaf=function(){I.default.toggleSelfDeaf()},t.prototype.handleOpenSettings=function(){O.default.open(A.UserSettingsSections.ACCOUNT)},t.prototype.handleOpenSettingsContextMenu=function(e){(0,m.openContextMenu)(e,function(e){return r.createElement(y.default,e)})},t.prototype.render=function(){var e=this.props,t=e.currentUser,a=e.mute,i=e.deaf,l=e.streaming,u=e.status;if(null==t)return null;var m=this.state.webBuildOverride,y=a?s.default.Messages.UNMUTE:s.default.Messages.MUTE,C=i?s.default.Messages.UNDEAFEN:s.default.Messages.DEAFEN;return o("div",{className:M.default.container},void 0,o(g.default,{animationType:g.default.Animations.SPRING,render:function(e){return r.createElement(T.default,e)},position:g.default.Positions.TOP_LEFT,target:this.getDOMNode},void 0,o(h.default,{user:t,status:u,streaming:l,className:M.default.avatar,statusClassName:M.default.status})),o(_.default,{user:t,className:M.default.accountDetails}),o(p.default,{grow:0},void 0,o(v.default,{text:y},void 0,o("div",{},void 0,o(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:a,inactiveSrc:n(6105),activeSrc:n(6104),onChange:this.handleToggleSelfMute,"aria-label":y}))),o(S.default,{tutorialId:"voice-conversations",position:E.TutorialIndicatorPositions.TOP,offsetY:-38,offsetX:-18},void 0,o(v.default,{text:C},void 0,o("div",{},void 0,o(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:i,inactiveSrc:n(6320),activeSrc:n(6319),onChange:this.handleToggleSelfDeaf,"aria-label":C})))),o(v.default,{text:null!=m?s.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:m.id}):s.default.Messages.USER_SETTINGS},void 0,o(R.default,{"aria-label":s.default.Messages.USER_SETTINGS,look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,className:M.default.button,innerClassName:M.default.buttonInner,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu},void 0,o(d.default,{name:d.default.Names.GEAR,width:18,height:18}),null!=m?o(d.default,{name:d.default.Names.INFO,width:9,height:9,className:M.default.hasBuildOverride}):null))))},t}(r.PureComponent);w.displayName="Account",t.default=l.default.connectStores([C.default,N.default,b.default],function(){var e=b.default.getPrimaryActivity();return{currentUser:C.default.getCurrentUser(),mute:!N.default.isEnabled()||N.default.isSelfMute()||N.default.isSelfMutedTemporarily(),deaf:N.default.isSelfDeaf(),status:b.default.getStatus(),streaming:null!=e&&e.type===A.ActivityTypes.STREAMING}})(w),e.exports=t.default},7168:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(358)),s=d(n(34)),u=d(n(364));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.dontShowAgain=function(){l.default.setSilenceWarning(!1),a.okay()},a.okay=function(){s.default.pop()},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(u.default,{title:i.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:i.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:i.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:i.default.Messages.OKAY,iconUrl:n(964)})},t}(r.Component);c.displayName="DisableSilence",t.default=c,e.exports=t.default},7169:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeSKUButtonEnums=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=y(n(1)),l=m(n(3)),s=n(220),u=m(n(219)),d=m(n(63)),f=m(n(28)),c=y(n(35)),p=m(n(36)),h=m(n(6340));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeSKUButtonEnums={DropdownSizes:h.default.DropdownSizes,Sizes:h.default.Sizes,Colors:h.default.Colors,Looks:h.default.Looks};var g=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=v(this,e.call.apply(e,[this].concat(i))),a.renderContextMenu=function(e){var t=e.className,n=e.style,o=a.props,i=o.skus,l=o.onSKUSelect,s=i.map(function(e){return r(p.default,{label:e.name,action:function(){c.closeContextMenu(),l&&l(e)}},e.id)});return r("div",{className:t,style:n},void 0,s)},a.handleContextMenu=function(e){e.stopPropagation(),c.openContextMenu(e,a.renderContextMenu)},a.handleClick=function(){var e=a.props,t=e.onSKUSelect,n=e.primarySKU;t&&null!=n&&t(n)},v(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,a=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return i.createElement(h.default,o({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},a),n)},t}(i.PureComponent);g.displayName="TestModeSKUButton",t.default=l.default.connectStores([u.default,d.default,f.default],function(e){var t=e.applicationId,n=(0,s.getPrimarySKUForApplication)(t,f.default,u.default);return{skus:u.default.getForApplication(t).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(g)},7170:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(3)),l=v(n(505)),s=v(n(34)),u=v(n(6527)),d=v(n(28)),f=v(n(78)),c=v(n(44)),p=v(n(26)),h=v(n(88)),m=v(n(6)),y=v(n(5759));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.openSupportTicket=function(){window.open(l.default.getSubmitRequestURL())},t.prototype.close=function(){s.default.pop()},t.prototype.render=function(){var e=this.props,t=e.error,n=e.applicationName;return o(h.default,{size:h.default.Sizes.SMALL},void 0,o(h.default.Header,{},void 0,o(p.default.Child,{grow:1},void 0,o(f.default,{tag:f.default.Tags.H4},void 0,m.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),o(p.default.Child,{grow:0},void 0,o(h.default.CloseButton,{onClick:this.close}))),o(h.default.Content,{},void 0,o("div",{className:y.default.body},void 0,o("div",{},void 0,m.default.Messages.DISPATCH_ERROR_MODAL_BODY),o("div",{className:y.default.errorLabel},void 0,m.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),o("div",{className:y.default.errorDetails},void 0,o("div",{},void 0,null!=n?"Game: "+n+"\n":null,null!=t.applicationId?"Game ID: "+t.applicationId+"\n":null,null!=t.branchId&&t.applicationId!==t.branchId?"Branch ID: "+t.branchId+"\n":null,null!=t.code?"Error Code: "+t.code+"\n":null,null!=t.uuid?"Unique Case ID: "+t.uuid:null)))),o(h.default.Footer,{},void 0,o(c.default,{onClick:this.openSupportTicket},void 0,m.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),o(c.default,{look:c.default.Looks.LINK,onClick:this.close,color:y.default.closeLink},void 0,m.default.Messages.CLOSE)))},t}(r.Component);g.displayName="DispatchErrorModal",t.default=i.default.connectStores([u.default,d.default],function(){var e=u.default.getLastError(),t=null;if(null!=e&&null!=e.applicationId){var n=d.default.getGame(e.applicationId);null!=n&&(t=n.name)}return{error:e,applicationName:t}})(g),e.exports=t.default},7171:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){a.default.dispatch({type:r.ActionTypes.SURVEY_HIDE,id:e}),o.default.track(r.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:r.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var a=i(n(2)),o=i(n(17)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7172:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(26)),u=f(n(5761)),d=f(n(1215));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={width:null},a.buttonRef=a.buttonRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},t.prototype.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]);return i.createElement("button",o({className:(0,l.default)(d.default.buttonWhiteOutlinedDefault,u.default.button,n),ref:this.buttonRef},a),r("div",{className:d.default.contentsOutlined},void 0,t),r("div",{className:u.default.buttonContents},void 0,r("div",{className:u.default.buttonBorder,style:this.getButtonBorderStyles()}),r(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:u.default.buttonInner},void 0,t)))},t}(i.PureComponent);c.displayName="ButtonWithSpinningBorder",t.default=c,e.exports=t.default},7173:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(3)),s=C(n(270)),u=C(n(549)),d=C(n(28)),f=C(n(82)),c=C(n(227)),p=C(n(156)),h=n(0),m=n(561),y=C(n(128)),v=C(n(26)),g=C(n(44)),_=C(n(7172)),E=C(n(291)),S=C(n(6)),T=C(n(5760));function C(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=40,A=[h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];var M=function(e){function t(){return b(this,t),N(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){return i.createElement(g.default,o({color:g.default.Colors.WHITE,look:g.default.Looks.OUTLINED,size:g.default.Sizes.MIN,className:T.default.button},this.props))},t}(i.PureComponent);M.displayName="DismissButton";var R=function(e){function t(){return b(this,t),N(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){var e=this.props.game;if(null==e||null==e.splash)return null;var t=Math.min(window.innerWidth/2,800),n=e.getIconURL(t);return null==n?null:r("div",{className:T.default.gameBackground,style:{backgroundImage:"url("+n+")"}},void 0,r("div",{className:T.default.gameBackgroundOverlay}))},t}(i.PureComponent);R.displayName="GameSplashBackground";var P,L=function(e){function t(n){b(this,t);var a=N(this,e.call(this,n));return a.state={animateIn:new p.default.Value(0)},a.handleSendInvite=a.handleSendInvite.bind(a),a.handleJoin=a.handleJoin.bind(a),a.handleClose=a.handleClose.bind(a),a}return O(t,e),t.prototype.componentDidMount=function(){p.default.timing(this.state.animateIn,{toValue:1,delay:50,duration:150,easing:p.default.Easing.out(p.default.Easing.ease)}).start()},t.prototype.renderGameBackground=function(){var e=this.props.game;return null!=e?r(R,{game:e}):null},t.prototype.renderGameIcon=function(){var e=this.props.game;if(null==e||null==e.icon)return null;var t=e.getIconURL(20);return null==t?null:r("div",{className:T.default.gameIcon,style:{backgroundImage:"url("+t+")"}})},t.prototype.renderMessage=function(){var e=this.props,t=e.joinRequest,n=t.state,a=t.user.username,o=e.activity;if(null==o)return null;var i=o.name,l=void 0;switch(n){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:i,username:a});break;case h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:i,username:a});break;case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:a});break;case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:a});break;case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:a})}return r("div",{className:T.default.message},void 0,l)},t.prototype.renderButtons=function(){switch(this.props.joinRequest.state){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return r("div",{className:T.default.buttonContainer},void 0,r(g.default,{color:g.default.Colors.GREEN,size:g.default.Sizes.MIN,className:T.default.button,onClick:this.handleSendInvite},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_YEAH),r(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return r("div",{className:T.default.buttonContainer},void 0,r(_.default,{className:T.default.button,onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return r("div",{className:T.default.buttonContainer},void 0,r(E.default,{color:g.default.Colors.GREEN,size:g.default.Sizes.MIN,className:T.default.button,onClick:this.handleJoin},void 0,S.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),r(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return r("div",{className:T.default.buttonContainer},void 0,r(M,{onClick:this.handleClose},void 0,S.default.Messages.OKAY));default:return null}},t.prototype.render=function(){return null==this.props.activity?null:r(v.default,{className:T.default.notice},void 0,this.renderGameBackground(),r(p.default.div,{style:{transform:[{translateY:this.state.animateIn.interpolate({inputRange:[0,1],outputRange:["-15px","0px"]})}]},className:T.default.noticeBody},void 0,this.renderGameIcon(),this.renderMessage(),this.renderButtons()))},t.prototype.handleSendInvite=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.user.id;(0,m.invite)(n,t)},t.prototype.handleJoin=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.secret,a=e.user.id;null!=n&&y.default.joinWithSecret(t,n),(0,m.close)(a)},t.prototype.handleClose=function(){(0,m.close)(this.props.joinRequest.user.id)},t}(i.Component);L.displayName="ActivityJoinRequestNotice",t.default=(P=l.default.connectStores([u.default,d.default],function(){var e=u.default.getRequest(),t=void 0;return null!=e&&(t=A.includes(e.state)?c.default.getApplicationActivity(e.applicationId):f.default.getApplicationActivity(e.user.id,e.applicationId)),{joinRequest:e,game:e&&d.default.getGame(e.applicationId),activity:t}})(L),function(e){function t(){var n,a;b(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=N(this,e.call.apply(e,[this].concat(r))),a.state={show:new p.default.Value(0),hiding:!1},N(a,n)}return O(t,e),t.prototype.componentDidAppear=function(){this.state.show.setValue(1)},t.prototype.componentWillEnter=function(e){this.animateTo(1,e)},t.prototype.componentWillLeave=function(e){this.setState({hiding:!0}),this.animateTo(0,e)},t.prototype.animateTo=function(e,t){p.default.timing(this.state.show,{toValue:e,duration:100,easing:p.default.Easing.out(p.default.Easing.ease)}).start(t)},t.prototype.shouldComponentUpdate=function(e){return!this.state.hiding&&(0,s.default)(this.props,e)},t.prototype.render=function(){return r(p.default.div,{style:{height:this.state.show.interpolate({inputRange:[0,1],outputRange:[0,I]})},className:T.default.animationWrapper},void 0,i.createElement(P,this.props))},t}(i.Component)),e.exports=t.default},7174:function(e,t,n){"use strict";var a,o;t.__esModule=!0;var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Z(n(1)),s=J(n(3)),u=J(n(7)),d=J(n(6528)),f=J(n(18)),c=J(n(12)),p=J(n(66)),h=J(n(190)),m=J(n(7173)),y=n(0),v=J(n(34)),g=J(n(548)),_=J(n(6216)),E=J(n(355)),S=J(n(162)),T=J(n(6044)),C=Z(n(6144)),b=J(n(550)),N=Z(n(272)),O=n(7171),I=J(n(5929)),A=J(n(918)),M=J(n(266)),R=J(n(17)),P=J(n(505)),L=J(n(359)),w=J(n(525)),D=J(n(363)),U=n(968),k=n(523),F=J(n(7170)),x=J(n(91)),G=n(7169),B=J(G),j=J(n(58)),H=J(n(77)),V=J(n(160)),Y=J(n(26)),W=n(218),z=J(n(157)),K=J(n(6)),$=J(n(5757)),q=J(n(7168)),X=J(n(356)),Q=J(n(974));function J(e){return e&&e.__esModule?e:{default:e}}function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var ee=(0,J(n(6034)).default)((0,Q.default)(y.Experiments.PREMOIM_PROMO,"Premium Promo"),((o={})[y.ExperimentTypes.NONE]=function(){return i("span",{className:$.default.premiumText},void 0,K.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE)},o[y.ExperimentTypes.USER]=((a={})[y.ExperimentBuckets.CONTROL]=function(){return i("span",{className:$.default.premiumText},void 0,K.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE)},a[y.ExperimentBuckets.TREATMENT_1]=function(){return i("span",{className:$.default.premiumText},void 0,"Support ChatX's development and get access to over $1,000 worth of games.")},a),o)),te=i(ee,{});t.default=s.default.connectStores([d.default,c.default],function(){return{currentUser:c.default.getCurrentUser(),notice:d.default.getNotice()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null!=n&&null!=t&&n.type===y.NoticeTypes.SURVEY&&t.type===y.NoticeTypes.SURVEY){var a=n.metadata;if(null!=a&&null!=t.metadata&&a.id!==t.metadata.id){var o=h.default.getEligibleExperiment(a.id);I.default.trigger(o)}}},t.prototype.dismiss=function(){g.default.dismiss()},t.prototype.renderNotice=function(){var e=this,t=this.props.notice;if(null==t)return null;switch(t.type){case y.NoticeTypes.GENERIC:return i("div",{className:$.default.noticeDefault},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),t.message,null!=t.buttonText?i("button",{className:$.default.button,onClick:t.callback},void 0,t.buttonText):null);case y.NoticeTypes.VOICE_DISABLED:return i("div",{className:$.default.noticeDefault},void 0,i(H.default,{className:$.default.dismiss,onClick:function(){null!=p.default.getVoiceChannelId()&&S.default.clearVoiceChannel(),e.dismiss()},"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_CONNECTION_CONFLICT,i("button",{className:$.default.button,onClick:function(){var e=p.default.getVoiceChannelId();if(null!=e){var t=f.default.getChannel(e);null!=t&&S.default.selectVoiceChannel(t.getGuildId(),e)}}},void 0,K.default.Messages.RECONNECT));case y.NoticeTypes.SPOTIFY_AUTO_PAUSED:var n=x.default.get(y.PlatformTypes.SPOTIFY);return i("div",{className:$.default.noticeDanger},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i("img",{alt:"",className:$.default.platformIcon,src:n.icon.white}),K.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,i("button",{className:$.default.button,onClick:function(){return E.default.open(y.UserSettingsSections.VOICE)}},void 0,K.default.Messages.VOICE_SETTINGS),i(z.default,{className:$.default.textLinkSmall,href:P.default.getArticleURL(y.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,K.default.Messages.NOTICE_WHATS_THIS));case y.NoticeTypes.UNCLAIMED_ACCOUNT:return i("div",{className:$.default.noticeDefault},void 0,K.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,i("button",{className:$.default.button,onClick:function(){return(0,k.open)()}},void 0,K.default.Messages.CLAIM_ACCOUNT));case y.NoticeTypes.TERMS_OF_SERVICE_UPDATE:return i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_TERMS_OF_SERVICE_UPDATE_MESSAGE,i(z.default,{className:$.default.button,href:y.WebRoutes.TERMS_OCTOBER_2018_SUMMARY,target:"_blank"},void 0,K.default.Messages.NOTICE_TERMS_OF_SERVICE_UPDATE_BUTTON));case y.NoticeTypes.GDPR_PRIVACY_POLICY:return i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_GDPR_PRIVACY_POLICY_MESSAGE,i(z.default,{className:$.default.button,href:P.default.getArticleURL(y.HelpdeskArticles.GDPR_PRIVACY_POLICY),target:"_blank"},void 0,K.default.Messages.NOTICE_GDPR_PRIVACY_POLICY_BUTTON));case y.NoticeTypes.UNVERIFIED_ACCOUNT:return i("div",{className:$.default.noticeDefault},void 0,K.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,i("button",{className:$.default.button,onClick:function(){var t=e.props.currentUser;A.default.verifyResend(),M.default.show({title:K.default.Messages.VERIFICATION_EMAIL_TITLE,body:K.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:K.default.Messages.CHANGE_EMAIL,onConfirmSecondary:k.open})}},void 0,K.default.Messages.RESEND));case y.NoticeTypes.DOWNLOAD_NAG:return i("div",{className:$.default.noticeDefault},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_NATIVE_APPS,i("i",{className:$.default.iconApple}),i("i",{className:$.default.iconAndroid}),i("i",{className:$.default.iconWindows}),i("button",{className:$.default.button,onClick:function(){return v.default.push(D.default,{source:"Top Bar Nag"})}},void 0,K.default.Messages.DOWNLOAD));case y.NoticeTypes.SCHEDULED_MAINTENANCE:return null==t.metadata?null:i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:function(){return _.default.ackScheduledMaintenance()},"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(t.metadata),i(z.default,{className:$.default.button,href:y.STATUS_PAGE_ENDPOINT+"/incidents/"+t.metadata.id},void 0,K.default.Messages.LEARN_MORE));case y.NoticeTypes.NO_INPUT_DETECTED:return i("div",{className:$.default.noticeDanger},void 0,i(H.default,{className:$.default.dismiss,onClick:function(){e.dismiss(),v.default.push(q.default)},"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_NO_INPUT_DETECTED,i(z.default,{className:$.default.button,href:P.default.getArticleURL(y.HelpdeskArticles.NO_INPUT_DETECTED),target:"_blank"},void 0,K.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT));case y.NoticeTypes.HARDWARE_MUTE:if(null==t.metadata)return null;var a=t.metadata,o=a.vendor,r=a.model;return i("div",{className:$.default.noticeDanger},void 0,K.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:o.name,modelName:r.name}),i(z.default,{className:$.default.button,href:r.url,target:"_blank",rel:"noreferrer noopener"},void 0,K.default.Messages.SUPPORT));case y.NoticeTypes.STREAMER_MODE:return i("div",{className:$.default.noticeStreamerMode},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_STREAMER_MODE_TEXT,i("button",{className:$.default.button,onClick:function(){return T.default.setEnabled(!1)}},void 0,K.default.Messages.DISABLE));case y.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS:if(!Array.isArray(t.metadata))return null;var l=u.default.uniq(t.metadata.map(function(e){return x.default.get(e.type)})),s=l.map(function(e){return e.name}),d=s[0],c=s[1],h=s[2],g=void 0;return g=1===s.length?K.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:d}):2===s.length?K.default.Messages.NOTICE_TWO_PLATFORM_ACCOUNTS.format({a:d,b:c}):3===s.length?K.default.Messages.NOTICE_THREE_PLATFORM_ACCOUNTS.format({a:d,b:c,c:h}):K.default.Messages.NOTICE_FOUR_OR_MORE_PLATFORM_ACCOUNTS.format({a:d,b:c,c:h}),i("div",{className:$.default.noticeBrand},void 0,i(H.default,{className:$.default.dismiss,onClick:function(){e.dismiss(),b.default.ignore()},"aria-label":K.default.Messages.DISMISS}),l.map(function(e){return i("img",{alt:e.name,className:$.default.platformIcon,src:e.icon.color},e.type)}),g,i("button",{className:$.default.button,onClick:function(){return b.default.changeDisplayType(y.DetectedPlatformAccountsDisplayTypes.MODAL)}},void 0,K.default.Messages.SETUP));case y.NoticeTypes.SURVEY:return null==t.metadata?null:i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:function(){t.type===y.NoticeTypes.SURVEY&&null!=t.metadata&&(0,O.surveyHide)(t.metadata.id,!0)},"aria-label":K.default.Messages.DISMISS}),t.metadata.content,i("button",{className:$.default.button,onClick:function(){window.open(t.metadata.url,"_blank"),(0,O.surveyHide)(t.metadata.id,!1)}},void 0,t.metadata.button));case y.NoticeTypes.CORRUPT_INSTALLATION:return i("div",{className:$.default.noticeDanger},void 0,K.default.Messages.NOTICE_CORRUPT_INSTALLATION,i(z.default,{className:$.default.button,href:P.default.getArticleURL(y.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,K.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case y.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return i("div",{className:$.default.noticeDefault},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,i("button",{className:$.default.button,onClick:function(){return v.default.push(D.default,{source:"Video unsupported browser"})}},void 0,K.default.Messages.DOWNLOAD));case y.NoticeTypes.ACTIVITY_JOIN_REQUEST:return i(m.default,{},t.type);case y.NoticeTypes.CONNECT_FACEBOOK:var I=x.default.get(y.PlatformTypes.FACEBOOK);return i("div",{className:$.default.noticeFacebook},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i("img",{alt:"",className:$.default.platformIcon,src:I.icon.white}),K.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:I.name}),i("button",{className:$.default.button,onClick:function(){return(0,U.authorize)(y.PlatformTypes.FACEBOOK,"Notice Bar")}},void 0,K.default.Messages.CONNECT));case y.NoticeTypes.CONNECT_SPOTIFY:return i("div",{className:$.default.noticeSpotify},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i(j.default,{name:j.default.Names.PLATFORM_SPOTIFY,className:$.default.platformIcon}),K.default.Messages.NOTICE_CONNECT_SPOTIFY,i("button",{className:$.default.button,onClick:function(){return(0,U.authorize)(y.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,K.default.Messages.CONNECT));case y.NoticeTypes.PREMIUM_PROMO:return i("div",{className:$.default.noticePremium},void 0,i("span",{className:$.default.premiumLogo}),te,i("button",{className:$.default.premiumAction,onClick:function(){R.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:y.AnalyticsSections.NOTIFICATION_BAR,location_object:y.AnalyticsObjects.BUTTON_CTA}),E.default.open(y.UserSettingsSections.PREMIUM)}},void 0,K.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),i(H.default,{tag:"span",className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}));case y.NoticeTypes.MFA_SMS_BACKUP:return i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),K.default.Messages.NOTICE_MFA_SMS_BACKUP,i("button",{className:$.default.button,onClick:function(){return E.default.open(y.UserSettingsSections.ACCOUNT)}},void 0,K.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case y.NoticeTypes.DISPATCH_ERROR:if(null==t.metadata)return null;var X=t.metadata.error;return i("div",{className:$.default.noticeDanger},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),X.displayMessage,i("button",{className:$.default.button,onClick:function(){return v.default.push(F.default)}},void 0,K.default.Messages.LEARN_MORE));case y.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==t.metadata)return null;var Q=t.metadata,J=Q.progress,Z=Q.total,ee=Q.name;return i("div",{className:$.default.noticeInfo},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i(Y.default,{justify:Y.default.Justify.CENTER},void 0,null!=ee?K.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ee,progress:""+J,total:""+Z}):K.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+J,total:""+Z}),i(V.default,{type:V.default.Type.PULSING_ELLIPSIS,className:$.default.ellipsis})));case y.NoticeTypes.APPLICATION_TEST_MODE:return null==t.metadata?null:i("div",{className:$.default.noticeDefault},void 0,i(Y.default,{justify:Y.default.Justify.CENTER,align:Y.default.Align.CENTER},void 0,i("div",{},void 0,K.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:t.metadata.applicationName})),i(B.default,{dropdownSize:G.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:$.default.testModeSKUSelector,color:G.TestModeSKUButtonEnums.Colors.WHITE,look:G.TestModeSKUButtonEnums.Looks.OUTLINED,size:G.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return N.goToApplicationStoreListing(e.id,{analyticsSource:{page:null,section:y.AnalyticsSections.NOTIFICATION_BAR,object:y.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:t.metadata.applicationId},void 0,K.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),i(H.default,{className:$.default.dismiss,onClick:C.reset,"aria-label":K.default.Messages.DISMISS})));case y.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED:var ne=t.metadata.plan;return i("div",{className:$.default.noticePremiumGrandfathered},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i(j.default,{name:j.default.Names.Premium_WHEEL,className:$.default.premiumIcon}),K.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED.format({date:L.default.getGrandfatheredEndDate(ne)}),i(W.Link,{className:$.default.button,to:{pathname:y.Routes.APPLICATION_STORE_BROWSE,search:w.default.formatSearch({type:y.StoreApplicationTypeFilter.PREMIUM}),state:{scrollRestoration:!1}}},void 0,K.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS));case y.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING:var ae=t.metadata.plan,oe=L.default.getGrandfatheredEndDate(ae),re=L.default.getDaysToGrandfatheredEnd(ae);return i("div",{className:$.default.noticePremiumGrandfathered},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i(j.default,{name:j.default.Names.Premium_WHEEL,className:$.default.premiumIcon}),K.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING.format({numDays:re,date:oe}));case y.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED:return i("div",{className:$.default.noticePremiumGrandfathered},void 0,i(H.default,{className:$.default.dismiss,onClick:this.dismiss,"aria-label":K.default.Messages.DISMISS}),i(j.default,{name:j.default.Names.Premium_WHEEL,className:$.default.premiumIcon}),K.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED,i("button",{className:$.default.button,onClick:function(){R.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:y.AnalyticsSections.NOTIFICATION_BAR,location_object:y.AnalyticsObjects.BUTTON_CTA}),E.default.open(y.UserSettingsSections.PREMIUM)}},void 0,K.default.Messages.LEARN_MORE));default:return null}},t.prototype.render=function(){return i(X.default,{component:"div"},void 0,this.renderNotice())},t}(l.PureComponent)),e.exports=t.default},7175:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notices=t}return e.prototype.getStores=function(){var e=[];return this.notices.forEach(function(t){return t.Store&&e.push(t.Store)}),e},e.prototype.getNotice=function(e,t,n){return this.notices.find(function(a){var o=a.Store,r=a.Type,i=e[r];return null!=o?o.channelNoticePredicate(i,t,n):i})},e}();t.default=a,e.exports=t.default},7176:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(9))),i=m(n(6)),l=m(n(44)),s=n(6035),u=n(5971),d=n(6341),f=n(6045),c=n(0),p=m(n(6145)),h=m(n(5503));function m(e){return e&&e.__esModule?e:{default:e}}var y=function(){var e=d.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return f.PRETTY_KEYS[e]?f.PRETTY_KEYS[e]():e}).join(" + ");return o("div",{className:(0,r.default)(h.default.channelNotice,h.default.quickswitcher)},void 0,o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:h.default.close,onClick:function(){return(0,s.hideNotice)(c.ChannelNoticeTypes.QUICKSWITCHER)}}),o("div",{className:h.default.message},void 0,o("div",{},void 0,i.default.Messages.QUICKSWITCHER_NOTICE),o("button",{className:h.default.btn,onClick:function(){return(0,u.show)("CHANNEL_NOTICE")}},void 0,e)))};y.displayName="QuickSwitcherNotice",y.Type=c.ChannelNoticeTypes.QUICKSWITCHER,y.Store=p.default,t.default=y,e.exports=t.default},7177:function(e,t,n){"use strict";t.__esModule=!0;var a=u(n(3)),o=u(n(2)),r=u(n(12)),i=u(n(113)),l=u(n(79)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default),this.syncWith([i.default],d)},t.prototype.channelNoticePredicate=function(e,t,n){var a=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY,o=r.default.getCurrentUser();return null!=o&&(e&&a&&l.default.can(s.Permissions.ADMINISTRATOR,o,t))},t}(a.default.Store);t.default=new f(o.default),e.exports=t.default},7178:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),_(n(56))),i=_(n(45)),l=_(n(59)),s=_(n(9)),u=_(n(6)),d=_(n(44)),f=_(n(5949)),c=_(n(66)),p=_(n(7177)),h=_(n(137)),m=_(n(34)),y=n(6035),v=n(0),g=_(n(5503));function _(e){return e&&e.__esModule?e:{default:e}}var E=(0,i.default)({displayName:"InviteNotice",mixins:[l.default],propTypes:{guild:r.default.object.isRequired,experiment:r.default.object},handleInvite:function(){var e=this.props.guild;m.default.push(f.default,{guild:e,source:v.InstantInviteSources.INVITE_NOTICE})},handleClose:function(){var e=c.default.getChannelId();(0,y.hideNotice)(v.ChannelNoticeTypes.INVITE),e&&h.default.sendBotMessage(e,u.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:u.default.Messages.INVITE_PEOPLE}))},render:function(){return o("div",{className:(0,s.default)(g.default.channelNotice,g.default.invite)},void 0,o(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:g.default.close,onClick:this.handleClose}),o("div",{className:g.default.message},void 0,o("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE),o("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),o("button",{className:g.default.btn,onClick:this.handleInvite},void 0,u.default.Messages.INVITE_PEOPLE)))}});E.Type=v.ChannelNoticeTypes.INVITE,E.Store=p.default,t.default=E,e.exports=t.default},7179:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(12)),r=s(n(114)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1;function d(){var e=o.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(o.default,r.default),this.syncWith([o.default,r.default],d)},t.prototype.channelNoticePredicate=function(e,t){return t.mfaLevel===l.MFALevels.ELEVATED&&!u&&r.default.hasElevatedPermissions(t.id)},t}(a.default.Store);t.default=new f(i.default,function(e){switch(e){case l.ActionTypes.CONNECTION_OPEN:return d();case l.ActionTypes.GUILD_UPDATE:return!0;default:return!1}}),e.exports=t.default},7180:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(6)),s=p(n(355)),u=p(n(7179)),d=n(6035),f=n(0),c=p(n(5503));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleEnableMFA=function(){s.default.open(f.UserSettingsSections.ACCOUNT)},t.prototype.componentWillUnmount=function(){(0,d.hideNotice)(f.ChannelNoticeTypes.MFA_WARNING)},t.prototype.render=function(){return o("div",{className:(0,i.default)(c.default.channelNotice,c.default.guildMFAWarning)},void 0,o("div",{className:c.default.message},void 0,l.default.Messages.TWO_FA_GUILD_MFA_WARNING.format({onClick:this.handleEnableMFA})))},t}(r.PureComponent);h.Type=f.ChannelNoticeTypes.MFA_WARNING,h.Store=u.default,h.displayName="GuildMFAWarning",t.default=h,e.exports=t.default},7181:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=E(n(56)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(45))),s=E(n(7)),u=E(n(3)),d=E(n(59)),f=E(n(6345)),c=E(n(7180)),p=n(6035),h=E(n(7178)),m=E(n(7176)),y=E(n(7175)),v=E(n(193)),g=n(0),_=E(n(5503));function E(e){return e&&e.__esModule?e:{default:e}}var S=new y.default([c.default,h.default,m.default]),T=s.default.debounce(v.default.trackWithMetadata,500),C=(0,l.default)({displayName:"ChannelNotices",mixins:[d.default,u.default.LazyStoreListenerMixin.apply(u.default,[f.default].concat(S.getStores()))],propTypes:{guild:i.default.object.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=f.default.getState(),t=e.noticeStates,n=e.lastHidden,a=this.props.guild;return r({},e,{Notice:S.getNotice(t,a,n)})},componentDidMount:function(){var e=this.props.guild,t=this.state.Notice;null!=t&&((0,p.showNotice)(t.Type,e),T(g.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:t.Type,guild_id:e.id}))},componentDidUpdate:function(e,t){var n=this.props.guild,a=this.state.Notice;null==a||e.guild.id===n.id&&null!=t.Notice&&t.Notice.Type===a.Type||((0,p.showNotice)(a.Type,n),T(g.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:a.Type,guild_id:n.id}))},render:function(){var e=this.props.guild,t=this.state.Notice;return null==t?null:o("div",{className:_.default.channelNotices},void 0,o(t,{guild:e}))}});t.default=C,e.exports=t.default},7193:function(e,t,n){e.exports=n.p+"858df73648ac3877a22156da2e69a5fd.svg"},7194:function(e,t,n){e.exports=n.p+"50f8ef2cdb4e7697a4202fb9c6d0e1fc.svg"},7195:function(e,t,n){e.exports=n.p+"6afcd5d6a8c9d467e27e1bb48755dce0.svg"},7196:function(e,t,n){e.exports=n.p+"6a711bd91522e885413464a88a4e3c69.svg"},7197:function(e,t,n){e.exports=n.p+"00de6b3cbb5c4dbcec817c91262f5f5b.svg"},7198:function(e,t,n){e.exports=n.p+"bc11a9099f5729962c095cb49d5042f6.svg"},7199:function(e,t,n){e.exports=n.p+"52bc30f8a2b1a51f808a785819ca00b5.svg"},7200:function(e,t,n){e.exports=n.p+"2fc862597335421b35a79aa9aaba4a86.svg"},7201:function(e,t,n){e.exports=n.p+"9a93097ab591379729c68f15a17b26af.svg"},7202:function(e,t,n){e.exports=n.p+"d4ff0d2af68cd1119f0d16ef79d1369c.svg"},7203:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(3)),s=I(n(7)),u=I(n(6)),d=I(n(12)),f=I(n(113)),c=I(n(360)),p=I(n(5986)),h=I(n(6178)),m=I(n(981)),y=I(n(6012)),v=I(n(34)),g=I(n(6202)),_=I(n(161)),E=I(n(69)),S=I(n(5949)),T=I(n(14)),C=I(n(267)),b=n(0),N=n(6352),O=I(N);function I(e){return e&&e.__esModule?e:{default:e}}var A=r(N.PopoutMenuSeparator,{}),M=r(N.PopoutMenuSeparator,{},"separator"),R=r(N.PopoutMenuSeparator,{}),P=r(N.PopoutMenuSeparator,{}),L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(a,["close","handleOpenInviteModal","handleOpenGuildSettings","handleCreateChannel","handleCreateCategory","handleOpenNotificationSettings","handleOpenPrivacySettings","handleOpenChangeNickname","handleLeaveGuild","handleConfirmLeaveGuild","handleToggleMuted"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose()},t.prototype.handleOpenInviteModal=function(){var e=this.props.guild;v.default.push(S.default,{guild:e,source:b.InstantInviteSources.GUILD_HEADER}),this.close()},t.prototype.handleOpenGuildSettings=function(){var e=this.props.guild;c.default.open(e.id,b.GuildSettingsSections.OVERVIEW),this.close()},t.prototype.handleCreateChannel=function(){y.default.open(null,this.props.guild.id,null,null),this.close()},t.prototype.handleCreateCategory=function(){y.default.open(b.ChannelTypes.GUILD_CATEGORY,this.props.guild.id,null,null),this.close()},t.prototype.handleOpenNotificationSettings=function(){p.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenPrivacySettings=function(){h.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenChangeNickname=function(){m.default.open(this.props.guild.id,T.default.getId()),this.close()},t.prototype.handleLeaveGuild=function(){var e=this;v.default.push(function(t){return i.createElement(_.default,o({header:u.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.toString()}),confirmText:u.default.Messages.LEAVE_SERVER,cancelText:u.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),r(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,u.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.toString()})))})},t.prototype.handleConfirmLeaveGuild=function(){c.default.leaveGuild(this.props.guild.id)},t.prototype.handleToggleMuted=function(){g.default.toggleCollapseGuild(this.props.guild.id)},t.prototype.render=function(){var e=this.props,t=e.isCollapsed,a=e.canInvite,o=e.canAccessSettings,l=e.canManageChannels,s=e.canEditNickname,d=e.isOwner,f=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["isCollapsed","canInvite","canAccessSettings","canManageChannels","canEditNickname","isOwner"]),c=void 0,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return a&&(c=r(N.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,r(N.PopoutMenuIcon,{icon:n(7202)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.INVITE_PEOPLE))),o&&(p=r(N.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,r(N.PopoutMenuIcon,{icon:n(7201)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.SERVER_SETTINGS))),l&&(y=r(N.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,r(N.PopoutMenuIcon,{icon:n(7200)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CHANNEL)),v=r(N.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,r(N.PopoutMenuIcon,{icon:n(7199)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CATEGORY)),g=A),s&&(h=r(N.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",r(N.PopoutMenuIcon,{icon:n(7198)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.CHANGE_NICKNAME))),d||(m=[M,r(N.PopoutMenuItem,{onClick:this.handleLeaveGuild,type:"leave"},"popout-item",r(N.PopoutMenuIcon,{icon:n(7197)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.LEAVE_SERVER))]),i.createElement(O.default,f,c,c?R:null,p,y,v,g,r(N.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,r(N.PopoutMenuIcon,{icon:n(7196)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.NOTIFICATION_SETTINGS)),r(N.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,r(N.PopoutMenuIcon,{icon:n(7195)}),r(N.PopoutMenuItemLabel,{},void 0,u.default.Messages.PRIVACY_SETTINGS)),P,h,r(N.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,r(N.PopoutMenuIcon,{icon:n(t?7194:7193)}),r(N.PopoutMenuItemLabel,{},void 0,t?u.default.Messages.SHOW_MUTED_CHANNELS:u.default.Messages.HIDE_MUTED_CHANNELS)),m)},t}(i.PureComponent);L.displayName="GuildHeaderPopout",t.default=l.default.connectStores([f.default,d.default,C.default],function(e){var t=e.guild,n=d.default.getCurrentUser();return{user:n,isCollapsed:C.default.isGuildCollapsed(t.id),canInvite:f.default.can(b.Permissions.CREATE_INSTANT_INVITE,t),canAccessSettings:f.default.can(b.Permissions.MANAGE_GUILD,t)||f.default.can(b.Permissions.MANAGE_ROLES,t)||f.default.can(b.Permissions.BAN_MEMBERS,t)||f.default.can(b.Permissions.MANAGE_NICKNAMES,t)||f.default.can(b.Permissions.MANAGE_EMOJIS,t)||f.default.can(b.Permissions.MANAGE_WEBHOOKS,t)||f.default.can(b.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:f.default.can(b.Permissions.MANAGE_CHANNELS,t),canEditNickname:f.default.can(b.Permissions.CHANGE_NICKNAME,t)||f.default.can(b.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n)}})(L),e.exports=t.default},7204:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5774));function l(e){return e&&e.__esModule?e:{default:e}}var s=o("g",{fill:"none",fillRule:"evenodd"},void 0,o("path",{d:"M0 0h18v18H0"}),o("path",{stroke:"#FFF",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),o("path",{stroke:"#FFF",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),u=function(e){var t,n=e.open;return o("svg",{width:"18",height:"18",className:(0,r.default)(i.default.button,(t={},t[i.default.open]=n,t))},void 0,s)};u.displayName="DropdownButton",t.default=u,e.exports=t.default},7205:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(6)),s=n(5945),u=_(s),d=_(n(7204)),f=n(35),c=_(n(5990)),p=_(n(7203)),h=_(n(112)),m=_(n(58)),y=_(n(217)),v=n(0),g=_(n(5771));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.renderPopout=a.renderPopout.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a.handleOpen=a.handleOpen.bind(a),a.handleClose=a.handleClose.bind(a),a.state={open:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(e){return i.createElement(p.default,r({},e,{guild:this.props.guild}))},t.prototype.handleOpen=function(){this.setState({open:!0})},t.prototype.handleClose=function(){this.setState({open:!1})},t.prototype.handleContextMenu=function(e){var t=this.props.guild;(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:v.ContextMenuTypes.GUILD_HEADER,guild:t}))})},t.prototype.render=function(){var e=this.props.guild,t=this.state.open,n=void 0;return e.hasFeature(v.GuildFeatures.VERIFIED)&&(n=o(h.default,{text:l.default.Messages.GUILD_VERIFIED,position:h.default.Positions.BOTTOM},void 0,o(m.default,{className:g.default.verified,name:m.default.Names.VERIFIED,inner:v.Colors.PRIMARY,checkmark:v.Colors.WHITE}))),o(y.default,{uniqueId:"guild-header",animationType:y.default.Animations.SPRING,render:this.renderPopout,position:y.default.Positions.BOTTOM,onOpen:this.handleOpen,onClose:this.handleClose},void 0,o("div",{className:g.default.container,onContextMenu:this.handleContextMenu},void 0,o("header",{className:g.default.header},void 0,n,o("span",{className:g.default.name},void 0,e.toString()),o(u.default,{tutorialId:"server-settings",position:s.TutorialIndicatorPositions.BOTTOM,offsetY:-30,offsetX:-18},void 0,o(d.default,{open:t})))))},t}(i.PureComponent);E.displayName="GuildHeader",t.default=E,e.exports=t.default},7206:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(3)),s=P(n(6009)),u=P(n(26)),d=P(n(7205)),f=P(n(6351)),c=P(n(7181)),p=n(35),h=P(n(5990)),m=P(n(922)),y=P(n(527)),v=P(n(114)),g=P(n(925)),_=P(n(5941)),E=P(n(27)),S=P(n(221)),T=P(n(66)),C=P(n(951)),b=P(n(6203)),N=P(n(267)),O=P(n(113)),I=P(n(6345)),A=P(n(931)),M=n(0),R=P(n(5762));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=L(this,e.call.apply(e,[this].concat(l))),a.handleContextMenu=function(e){var t=a.props.guild;(0,p.openContextMenu)(e,function(e){return i.createElement(h.default,r({},e,{type:M.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:t}))})},L(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGuildHeader=function(){var e=this.props.guild;return o(u.default.Child,{wrap:!0,grow:0,shrink:0},"guild-header",o(d.default,{guild:e}))},t.prototype.renderNotice=function(){var e=this.props.guild;return o(c.default,{guild:e})},t.prototype.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,t.mentionCount,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["channelNoticeVersion","mentionCount"]));return o(u.default,{className:R.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.STRETCH,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),i.createElement(f.default,n))},t}(i.PureComponent);w.displayName="GuildSidebar";var D=(0,s.default)(function(e,t){var n;return(n={})[M.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(w);t.default=l.default.connectStores([O.default,m.default,y.default,v.default,_.default,E.default,S.default,T.default,C.default,N.default,b.default,I.default,g.default,A.default],function(e){var t=e.guildId,n=E.default.getGuild(t),a=v.default.getChannels(t),o=g.default.getCategories(t),r=N.default.getMutedChannels(t),i=C.default.getVoiceStates(t),l=b.default.getCollapsed(),s=N.default.isGuildCollapsed(t),u=_.default.getMentionCounts()[t],d=_.default.getGuildUnreadCount(t),f=y.default.getGuildDimensions(t),c=f.scrollTo,p=f.scrollTop;return{guild:n,channels:a,categories:o,mutedChannels:r,scrollToChannel:c,selectedChannelId:m.default.getChannelId(t),selectedVoiceChannelId:S.default.isDisabled()?null:T.default.getVoiceChannelId(),voiceStates:i,collapsedChannels:l,collapseMuted:s,scrollTop:p,mentionCount:u,unreadCount:d,permissionVersion:O.default.getGuildVersion(t),channelNoticeVersion:I.default.getVersion(),categoryCollapseVersion:A.default.version}})(D),e.exports=t.default},7213:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=m(n(3)),u=n(57),d=m(n(58)),f=m(n(112)),c=n(0),p=m(n(567)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=new Set([c.CloudSyncStateTypes.PUSHING,c.CloudSyncStateTypes.PULLING]),g=Object.freeze(((o={})[c.CloudSyncStateTypes.DONE]=d.default.Names.CLOUD,o[c.CloudSyncStateTypes.PLANNING]=d.default.Names.CLOUD,o[c.CloudSyncStateTypes.PREPARING]=d.default.Names.CLOUD,o[c.CloudSyncStateTypes.PUSHING]=d.default.Names.CLOUD_UPLOAD,o[c.CloudSyncStateTypes.PULLING]=d.default.Names.CLOUD_DOWNLOAD,o[c.CloudSyncStateTypes.CONFLICT]=d.default.Names.CLOUD,o[c.CloudSyncStateTypes.ERROR]=d.default.Names.CLOUD,o)),_=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=y(this,e.call.apply(e,[this].concat(r))),a._doneTimer=new u.Timeout,y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()},t.prototype.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==c.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())},t.prototype.componentWillUnmount=function(){this._doneTimer.stop()},t.prototype.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},t.prototype.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===c.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1},t.prototype.getStop=function(e,t){return t?1:e.type===c.CloudSyncStateTypes.PUSHING||e.type===c.CloudSyncStateTypes.PULLING?e.progress/e.total:0},t.prototype.getTooltip=function(e,t){switch(e.type){case c.CloudSyncStateTypes.DONE:return t?h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.CONFLICT:case c.CloudSyncStateTypes.ERROR:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.PLANNING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case c.CloudSyncStateTypes.PREPARING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case c.CloudSyncStateTypes.PUSHING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case c.CloudSyncStateTypes.PULLING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING}},t.prototype.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,a=e.className,o=null==t?{type:c.CloudSyncStateTypes.DONE}:t,s=this.getIsRecentlySynced(),u={};return(v.has(o.type)||s)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(o,s)}),i(f.default,{text:this.getTooltip(o,s)},void 0,l.createElement(d.default,r({className:a,name:s?d.default.Names.CLOUD_DONE:g[o.type]},u)))},t}(l.PureComponent);_.displayName="CloudSyncIcon",t.default=s.default.connectStores([p.default],function(e){var t=e.libraryApplication;return{cloudSyncState:p.default.getState(t.id,t.branchId)}})(_),e.exports=t.default},7214:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=H(n(1)),s=j(n(9)),u=j(n(3)),d=n(57),f=j(n(2)),c=j(n(11)),p=n(226),h=j(n(17)),m=j(n(28)),y=j(n(63)),v=j(n(6214)),g=j(n(53)),_=j(n(30)),E=j(n(6018)),S=n(35),T=H(n(6360)),C=j(n(509)),b=H(n(286)),N=j(n(34)),O=j(n(7213)),I=j(n(6359)),A=j(n(26)),M=j(n(44)),R=j(n(58)),P=j(n(228)),L=j(n(112)),w=j(n(937)),D=j(n(957)),U=j(n(955)),k=j(n(954)),F=j(n(264)),x=j(n(6)),G=j(n(5781)),B=n(0);function j(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=(0,p.cssValueToNumber)(G.default.rowMinHeight),W=(0,p.cssValueToNumber)(G.default.linkedToGlowDuration),z=((o={})[B.GameTableListKeys.PLATFORM]="Platform",o[B.GameTableListKeys.LAST_PLAYED]="Last Played",o[B.GameTableListKeys.NAME]="Name",o);var K=function(e){var t,n=e.flag,a=e.name,o=e.item,r=e.tooltip,l=o.libraryApplication.hasFlag(n);return i(L.default,{text:r},void 0,i(R.default,{name:a,className:(0,s.default)(G.default.settingIcon,(t={},t[G.default.hidden]=!l,t))}))};K.displayName="FlagIcon";var $=[{key:B.GameTableListKeys.NAME,renderHeader:function(){return x.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:G.default.nameCell,bodyCellClassName:G.default.nameBodyCell,render:function(e,t){return i(A.default,{align:A.default.Align.CENTER,onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,i(P.default,{game:e.application,size:P.default.Sizes.SMALL,className:G.default.gameIcon}),i("div",{className:G.default.nameCellInfo},void 0,i("div",{className:G.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(B.LibraryApplicationFlags.PREMIUM)?i(R.default,{name:R.default.Names.Premium_WHEEL,className:G.default.PremiumIcon}):null))}},{key:B.GameTableListKeys.PLATFORM,renderHeader:function(){return x.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:G.default.platformCell,bodyCellClassName:G.default.textCell,render:function(e,t){var n=e.libraryApplication.getDistributor();return i(A.default,{align:A.default.Align.CENTER,onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,null!=n?B.DistributorNames[n]:x.default.Messages.GAME_LIBRARY_NOT_APPLICABLE)}},{key:B.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return x.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:G.default.lastPlayedCell,bodyCellClassName:G.default.textCell,render:function(e,t){var n,a=void 0;return a=e.isRunning?x.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?x.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?i(w.default,{end:e.lastPlayed,location:w.default.Locations.GAME_LIBRARY_LAST_PLAYED}):x.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,i(A.default,{align:A.default.Align.CENTER,className:(0,s.default)((n={},n[G.default.lastPlayedCellNew]=e.isNew,n)),onClick:function(){return null!=t&&t.openGamePopout(e)}},void 0,a)}},{key:B.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:G.default.actionsCell,render:function(e,t,n){var a;if(!t)throw new Error("No cell props defined.");var o,r,u=e.id===t.activeRowId;return i(l.Fragment,{},void 0,i("div",{className:G.default.settingIcons},void 0,i(K,{flag:B.LibraryApplicationFlags.PRIVATE,item:e,name:R.default.Names.EYE_HIDDEN,tooltip:x.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),i(K,{flag:B.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:R.default.Names.OVERLAY_OFF,tooltip:x.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),i(O.default,{className:(0,s.default)(G.default.settingIcon,(a={},a[G.default.hidden]=!e.supportsCloudSync,a)),libraryApplication:e.libraryApplication})),i(U.default,{analyticsListSort:(o=t.sortKey,r=t.sortDirection,z[o]+" "+(r===B.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:B.AnalyticsLocations.APPLICATION_LIBRARY,game:e.application,libraryApplication:e.libraryApplication,customColor:u?null:M.default.Colors.PRIMARY,size:G.default.actionButtonSize,isShiny:u&&e.defaultAction===B.LibraryApplicationActions.PLAY,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowId(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowId()}}))}}],q=function(e){var t,n=e.item,a=e.activeRowId,o=e.highlightedApplicationId,r=e.onMouseEnter,u=e.onMouseLeave,d=e.onContextMenu,f=e.setRef,c=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["item","activeRowId","highlightedApplicationId","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),p=n.id===a,h=n.id===o,m=p?n.application.getSplashURL(300):null;return l.createElement("div",{className:(0,s.default)((t={},t[G.default.rowWrapperActive]=p&&!h,t[G.default.rowWrapperGlow]=h,t[G.default.rowWrapper]=!p&&!h,t[G.default.rowWrapperDim]=!p&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f(e,n.id)}),onMouseEnter:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(n)}),onMouseLeave:u,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n)})},p?i("div",{className:G.default.rowBackground,style:null!=m?{backgroundImage:"url("+m+")"}:null}):null,l.createElement("div",c))};q.displayName="Row";var X=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=V(this,e.call.apply(e,[this].concat(i))),a._didUnmount=!1,a._rowRefs={},a.state={overflowMenuRowId:null,highlightedApplicationId:null!=a.props.location.state?a.props.location.state.applicationId:null},a.setActiveRowId=function(e){a.setState({overflowMenuRowId:e.id})},a.clearActiveRowId=function(){a._didUnmount||a.setState({overflowMenuRowId:null})},a.openGamePopout=function(e){var t=a.props.analyticsContext;N.default.push(D.default,{game:e.application,source:B.AnalyticsLocations.APPLICATION_LIBRARY,analyticsContext:t,isModal:!0})},a.handleRowMouseEnter=function(e){a.props.isNavigatingByKeyboard||T.updateActiveRowId(e.id)},a.handleRowMouseLeave=function(){a.props.isNavigatingByKeyboard||T.updateActiveRowId(null)},a.setRowRef=function(e,t){a._rowRefs[t]=e},a.handleApplicationContextMenu=function(e,t){a.setActiveRowId(t);var n=a.props.analyticsContext;(0,S.openContextMenu)(e,function(e){return l.createElement(k.default,r({},e,{type:B.ContextMenuTypes.APPLICATION_GAME_LIBRARY,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:n}))},{onClose:a.clearActiveRowId})},V(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,a=e.fetched;t&&null!=n&&b.scanForLocalApplications(),a&&(this.handleHighlightedApplicationId(),this.trackViewed())},t.prototype.componentWillUnmount=function(){this._didUnmount=!0},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return b.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationId(),this.trackViewed());var t=this.props.activeRowId;if(null!=t&&e.activeRowId!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(f.default.wait(S.closeContextMenu),this.props.scrollToRow(n,Y))}},t.prototype.handleHighlightedApplicationId=function(){var e=this,t=this.state.highlightedApplicationId;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],Y),(new d.Timeout).start(W,function(){e._didUnmount||e.setState({highlightedApplicationId:null})}))},t.prototype.trackViewed=function(){var e={num_applications_total:0,num_applications_ChatX:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0},t=this.props,n=t.analyticsContext,a=t.applicationViewItems,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}switch(l.libraryApplication.getDistributor()){case B.Distributors.ChatX:e.num_applications_ChatX++;break;case B.Distributors.STEAM:e.num_applications_steam++;break;case B.Distributors.BATTLENET:e.num_applications_battlenet++;break;case B.Distributors.TWITCH:e.num_applications_twitch++;break;case B.Distributors.UPLAY:e.num_applications_uplay++;break;case B.Distributors.ORIGIN:e.num_applications_origin++;break;case B.Distributors.GOG:e.num_applications_gog++}e.num_applications_total++}h.default.track(B.AnalyticEvents.LIBRARY_VIEWED,r({},e,{load_id:n.loadId}))},t.prototype.handleSort=function(e,t){T.sortList(e,t)},t.prototype.handleEnableImportClick=function(){C.default.updateLocalSettings({importGamesEnabled:!0}),h.default.track(B.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},t.prototype.handleDenyImportClick=function(){C.default.updateLocalSettings({importGamesEnabled:!1}),h.default.track(B.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},t.prototype.renderImportHelp=function(){var e=this.props,t=e.importGamesEnabled,n=e.applicationViewItems,a=e.filterQuery,o=n.length>0,r=null==t&&c.default.isWindows()&&!a;if(o&&!r)return null;var l=void 0;return l=r?x.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==a?x.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:a}):t&&c.default.isWindows()?x.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:x.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,i("div",{className:o?G.default.emptyStateSmall:G.default.emptyStateLarge},void 0,i("div",{className:G.default.emptyWumpus}),i(A.default,{grow:0,shrink:o?1:0,direction:A.default.Direction.VERTICAL},void 0,i("div",{className:G.default.emptyStateText},void 0,i("h5",{className:G.default.emptyStateHeader},void 0,r?x.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:x.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),i("div",{className:G.default.emptyStateDescription},void 0,l)),r?i("div",{className:G.default.emptyStateButtons},void 0,i(M.default,{onClick:this.handleDenyImportClick,className:G.default.emptyStateButton,color:M.default.Colors.PRIMARY,size:M.default.Sizes.MEDIUM},void 0,x.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),i(M.default,{className:G.default.emptyStateButton,color:M.default.Colors.BRAND,size:M.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,x.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null))},t.prototype.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,a=e.applicationViewItems,o=e.activeRowId,r=e.stickyHeader,s=this.state,u=s.overflowMenuRowId,d=s.highlightedApplicationId;return i(l.Fragment,{},void 0,a.length>0?i(I.default,{columns:$,data:a,sortData:!1,rowComponent:q,className:G.default.table,headerClassName:r?G.default.stickyHeader:G.default.header,headerCellClassName:G.default.headerCell,sortedHeaderCellClassName:G.default.headerCellSorted,bodyCellClassName:G.default.bodyCell,rowClassName:G.default.row,sortKey:t,sortDirection:n,stickyHeader:r,rowProps:{activeRowId:u||o,highlightedApplicationId:d,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowId:u||o,onContextMenu:this.handleApplicationContextMenu,setActiveRowId:this.setActiveRowId,clearActiveRowId:this.clearActiveRowId,openGamePopout:this.openGamePopout,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())},t}(l.PureComponent);X.defaultProps={stickyHeader:!1},X.displayName="GameList",t.default=u.default.connectStores([m.default,y.default,v.default,_.default,g.default,E.default],function(){return{applicationViewItems:E.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:m.default.lastFetched,importGamesEnabled:_.default.importGamesEnabled,filterQuery:E.default.applicationFilterQuery,sortKey:v.default.sortKey,sortDirection:v.default.sortDirection,activeRowId:v.default.activeRowId,isNavigatingByKeyboard:v.default.isNavigatingByKeyboard,fetched:E.default.hasFetchedApplications}})((0,F.default)(X)),e.exports=t.default},7215:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(7))),l=d(n(9)),s=n(0),u=d(n(5783));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),c=function(e){var t=e.className,n=e.percents,a=e.size,d=void 0===a?f.SMALL:a,c=e.foregroundColors,p=void 0===c?[s.Colors.BRAND]:c,h=e.backgroundColor,m=void 0===h?"#e9e7e7":h,y=e.animate,v=void 0===y||y,g=i.default.zip(n,p).map(function(e,t){var n,a=e[0],i=e[1],s=void 0;return s=Array.isArray(i)?{background:"linear-gradient(to right, "+i[0]+", "+i[1]+")"}:{backgroundColor:i},r("div",{className:(0,l.default)(u.default.progressBar,u.default[d],(n={},n[u.default.animating]=v,n)),style:o({transform:"translate3d("+(Math.min(Math.max(0,a),100)-100)+"%, 0, 0)"},s)},t)}).reverse();return r("div",{className:(0,l.default)(t,u.default.progress,u.default[d]),style:{backgroundColor:m}},void 0,g)};c.displayName="StackedProgress",c.Sizes=f,t.default=c,e.exports=t.default},7216:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return""+e+n},t.hexToRgb=function(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}},7217:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(1)),i=d(n(7216)),l=u(n(5786)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=f(this,e.call.apply(e,[this].concat(i))),a.canvas=r.createRef(),a.updateAnimation=function(e){var t=a.canvas.current;if(null!=t){var n=a.props,o=n.data,r=n.updateInterval,i=n.color,l=n.numUpdatesToShow,s=n.lineWidth,u=n.animate,d=n.gradientStopColor;if(!(o.length<2)){var f=Math.max(Math.min((e-a.dataChangedAt)/r,1),0),c=t.getContext("2d"),p=a.maxValue;c.strokeStyle=i,c.lineWidth=s;var h=t.height-c.lineWidth,m=c.createLinearGradient(0,0,0,h);m.addColorStop(0,null!=d?d:"transparent"),m.addColorStop(1,a.fillColor),c.fillStyle=m;var y=o.length>=l?l:o.length;c.setTransform(1,0,0,-1,0,t.height),c.clearRect(0,0,t.width,t.height),c.translate(0,.5*c.lineWidth);var v=Math.floor(t.width/(y-3)),g=.5*v,_=v-v*f;c.translate(_,0),c.beginPath();var E=void 0,S=void 0,T=-v;o.forEach(function(e,t){E={x:T,y:h*e/p},0===t?c.moveTo(E.x,E.y):c.bezierCurveTo(S.x+g,S.y,E.x-g,E.y,E.x,E.y),S=E,T+=v}),c.stroke(),c.lineTo(T-v,0),c.lineTo(0,0),c.fill(),u&&f<1&&(a.animationFrameRequestId=window.requestAnimationFrame(a.updateAnimation))}}},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onDataUpdate=function(e,t){var n=this.props,a=n.maxValue,o=n.data,r=n.animate,l=null==e||e.data!==t.data&&!s.default.isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=a?a:Math.max.apply(Math,o)),l||null==e||!e.animate&&r||e.color!==this.props.color){var u=i.hexToRgb(this.props.color);this.fillColor="rgba("+u.r+", "+u.g+", "+u.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},t.prototype.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},t.prototype.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},t.prototype.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,a=e.pixelHeight;return o("div",{className:t},void 0,r.createElement("canvas",{ref:this.canvas,className:l.default.canvas,width:n,height:a}))},t}(r.PureComponent);c.defaultProps={animate:!0},c.displayName="SparkChart",t.default=c,e.exports=t.default},7218:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(6150)),s=c(n(26)),u=c(n(7217)),d=c(n(6)),f=c(n(5785));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=1e3;var m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=a=p(this,e.call.apply(e,[this].concat(l))),a.renderBody=function(e,t,n){var r,l=a.props,c=l.title,p=l.className,m=l.color,y=l.animate,v=l.gradientStopColor;return o("div",{className:(0,i.default)(f.default.monitor,p)},void 0,o(s.default,{align:s.default.Align.CENTER},void 0,o(s.default,{className:f.default.text,direction:s.default.Direction.VERTICAL},void 0,o("div",{className:f.default.title},void 0,c),o("div",{className:f.default.rate},void 0,(r=e[e.length-1]/t*1e3)>h?d.default.Messages.FILE_RATE_MB.format({size:Math.round(r/h)}):d.default.Messages.FILE_RATE_KB.format({size:Math.round(r)}))),o("div",{className:f.default.overflowContainer},void 0,o(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:f.default.sparkChart,updateInterval:t,color:m,gradientStopColor:v,numUpdatesToShow:n,animate:y,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},t}(r.PureComponent);m.displayName="GameUpdateActivityMonitor",t.default=m,e.exports=t.default},7219:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===r)t.children=a;else if(r>1){for(var s=Array(r),u=0;u<r;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),f=K(n(1)),c=z(n(9)),p=z(n(3)),h=z(n(7)),m=z(n(2)),y=z(n(264)),v=z(n(71)),g=z(n(376)),_=z(n(28)),E=z(n(126)),S=z(n(63)),T=z(n(30)),C=K(n(143)),b=K(n(35)),N=z(n(34)),O=z(n(7218)),I=z(n(6150)),A=z(n(954)),M=z(n(6359)),R=z(n(26)),P=z(n(44)),L=z(n(58)),w=z(n(112)),D=z(n(969)),U=z(n(7215)),k=z(n(228)),F=n(937),x=z(n(955)),G=z(n(957)),B=K(n(140)),j=n(380),H=z(n(932)),V=n(0),Y=z(n(6)),W=z(n(5782));function z(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q=function(e){var t=e.className,n=e.children,a=e.onContextMenu,o=e.item;return d("div",{className:t,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return a(e,o)})},void 0,n)};Q.displayName="Row";var J=[V.Colors.LINK,V.Colors.PRIMARY],Z=function(e){var t=e.tooltip,n=e.onClick,a=e.icon;return d(w.default,{text:t},void 0,d(P.default,{className:W.default.actionButton,innerClassName:W.default.actionButtonContents,color:P.default.Colors.PRIMARY,size:P.default.Sizes.ICON,onClick:n},void 0,d(L.default,{name:a,className:W.default.actionIcon})))};function ee(e,t){switch(t){case V.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case V.DispatchApplicationStages.PLANNING:case V.DispatchApplicationStages.FINALIZING:case V.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}Z.displayName="ActionButton";var te=Object.freeze(((i={})[V.LocalDispatchApplicationStates.INSTALLING]=((a={})[F.TimeUnits.NONE]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},a[F.TimeUnits.SECONDS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:a})},a[F.TimeUnits.MINUTES]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:a})},a[F.TimeUnits.HOURS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:a})},a),i[V.LocalDispatchApplicationStates.UPDATING]=((o={})[F.TimeUnits.NONE]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},o[F.TimeUnits.SECONDS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:a})},o[F.TimeUnits.MINUTES]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:a})},o[F.TimeUnits.HOURS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:a})},o),i[V.LocalDispatchApplicationStates.REPAIRING]=((r={})[F.TimeUnits.NONE]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[F.TimeUnits.SECONDS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:a})},r[F.TimeUnits.MINUTES]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:a})},r[F.TimeUnits.HOURS]=function(e,t,n,a){return Y.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:a})},r),i));function ne(e,t,n,a,o){var r=null!=e?e/60:null,i=te[t],l=null!=i?Object.keys(i):[],s=(0,F.getTimeAndUnit)(r,l),u=s.unit,d=s.time;if(null!=i&&null!=u){var f=i[u];return null!=f?f(n,a,o,d):null}return null}function ae(e,t,n,a,o,r){var i=ee(o,t),l=ee(a,t);switch(t){case V.DispatchApplicationStages.QUEUED:return 0===a?Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:l,total:i});case V.DispatchApplicationStages.PLANNING:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case V.DispatchApplicationStages.ALLOCATING_DISK:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case V.DispatchApplicationStages.PATCHING:return ne(r,e,n,l,i);case V.DispatchApplicationStages.FINALIZING:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case V.DispatchApplicationStages.PAUSING:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:l,total:i});case V.DispatchApplicationStages.VERIFYING:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:l,total:i});case V.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:l,total:i});case V.DispatchApplicationStages.REPAIRING:return e===V.LocalDispatchApplicationStates.REPAIRING?ne(r,e,n,l,i):Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:l,total:i})}throw new Error("Invalid Dispatch stage")}var oe="name",re="progress",ie="actions",le=function(e){function t(){var n,a;$(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=q(this,e.call.apply(e,[this].concat(r))),a.renderProgressPatchingBody=function(e,t){var n=a.props.item.state;if(null==n)return null;var o=n.stage,r=n.progress,i=n.total,l=n.type,s=n.readerProgress;if(null==r||null==i||null==o)return null;var u=B.calculateProgressPercentage(r,i),d=B.calculateProgressPercentage(s||0,i),f=e[e.length-1]/t*1e3,c=i-r,p=0!==f?Math.max(1,c/f):null,h=ae(l,o,Math.floor(u),r,i,p);return a.renderStackedProgress({percents:[u,d],message:h})},q(a,n)}return X(t,e),t.prototype.renderBody=function(e){var t=e.percent,n=e.foregroundColor,a=e.backgroundColor,o=e.foregroundGradientColor,r=e.message;return d(R.default,{direction:R.default.Direction.VERTICAL},void 0,d(D.default,{percent:t,size:D.default.Sizes.SMALL,backgroundColor:a,foregroundColor:n,foregroundGradientColor:o,animate:this.isFocused}),d("div",{className:W.default.progressCellText},void 0,null!=r?r:""))},t.prototype.renderStackedProgress=function(e){var t=e.percents,n=e.message;return d(R.default,{direction:R.default.Direction.VERTICAL},void 0,d(U.default,{percents:t,size:D.default.Sizes.SMALL,backgroundColor:this.props.item.theme===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_200:V.Colors.PRIMARY_800,foregroundColors:J,animate:this.isFocused}),d("div",{className:W.default.progressCellText},void 0,null!=n?n:""))},t.prototype.renderFinished=function(){var e=this.props.item;return this.renderBody({message:Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return C.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_300:V.Colors.PRIMARY,backgroundColor:e.theme===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_200:V.Colors.PRIMARY_800,percent:100})},t.prototype.renderQueued=function(){var e=this.props.item,t=e.state,n=e.theme,a=void 0,o=void 0;if(null!=t){var r=t.progress,i=t.total,l=t.stage;if(null!=r&&null!=i){var s=ee(i,l),u=ee(r,l);o=B.calculateProgressPercentage(r,i);var d=Math.floor(o);a=l===V.DispatchApplicationStages.PAUSING?Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:u,total:s}):Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:u,total:s})}}return null!=o&&null!=a||(o=0,a=Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:o,foregroundColor:n===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_300:V.Colors.PRIMARY,backgroundColor:n===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_200:V.Colors.PRIMARY_800,message:a})},t.prototype.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var a=t.progress,o=t.total;if(null==a||null==o)return null;var r=B.calculateProgressPercentage(a,o),i=Math.floor(r);return this.renderBody({message:Y.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(a),total:(0,j.formatSize)(o)}),foregroundColor:n===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_300:V.Colors.PRIMARY,backgroundColor:n===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_200:V.Colors.PRIMARY_800,percent:r})},t.prototype.renderProgressPatching=function(){return d(I.default,{getHistoricalTotalBytes:v.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},t.prototype.renderProgressDefault=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var a=t.total,o=t.progress,r=t.stage,i=t.type;if(null==a||null==o||null==r)return null;var l=B.calculateProgressPercentage(o,a),s=Math.floor(l);return this.renderBody({percent:l,message:ae(i,r,s,o,a),foregroundColor:V.Colors.LINK,backgroundColor:n===V.ThemeTypes.LIGHT?V.Colors.PRIMARY_200:V.Colors.PRIMARY_800})},t.prototype.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case V.DispatchApplicationStages.PATCHING:case V.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==V.LocalDispatchApplicationStates.UPDATING&&t.state.type!==V.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==V.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},s(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]),t}(f.PureComponent);le.displayName="ProgressCell";var se=function(){return d(Z,{icon:L.default.Names.PLAY,tooltip:Y.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return C.resume()}})};se.displayName="ResumeButton";var ue=function(){return d(Z,{icon:L.default.Names.PAUSE,tooltip:Y.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return C.pause()}})};ue.displayName="PauseButton";var de=function(e){var t=e.item;return d(Z,{icon:L.default.Names.ARROW_UP,tooltip:Y.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return C.moveUp(t.applicationId,t.branchId)}})};de.displayName="MoveUpButton";var fe=function(e){var t=e.item;return d(Z,{icon:L.default.Names.CLOSE,tooltip:Y.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return C.cancel(t.applicationId,t.branchId)}})};fe.displayName="CancelButton";var ce=d(se,{}),pe=[{key:oe,cellClassName:W.default.nameCell,render:function(e,t){var n=null!=t?t.analyticsContext:null;if(null==n)throw new Error("No cell props in GameUpdates");return d(R.default,{align:R.default.Align.CENTER,onClick:function(){return function(e,t){N.default.push(G.default,{game:e.application,source:V.AnalyticsLocations.APPLICATION_LIBRARY,analyticsContext:t,isModal:!0})}(e,n)}},void 0,d(k.default,{game:e.application,className:W.default.gameIcon,size:k.default.Sizes.SMALL}),d("div",{className:W.default.nameCellText},void 0,e.application.name))}},{key:re,cellClassName:W.default.progressCell,headerCellClassName:W.default.progressCellHeader,bodyCellClassName:W.default.progressCellBody,render:function(e,t){return d(le,{item:e,cellProps:t})}},{key:ie,cellClassName:W.default.actionsCell,render:function(e,t){var n=void 0,a=void 0;return e.finished?n=d(x.default,{game:e.application,libraryApplication:e.libraryApplication,size:P.default.Sizes.SMALL,className:W.default.gameActionButton,source:V.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null!=e.state?e.state.type!==V.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?d(de,{item:e}):null!=t&&t.paused?ce:d(ue,{item:e}),a=d(fe,{item:e})):a=d(fe,{item:e}),d(R.default,{justify:R.default.Justify.END},void 0,n,a)}}],he=function(e){function t(){var n,a;$(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=q(this,e.call.apply(e,[this].concat(r))),a.isUnmounted=!1,a.isTallerThanHalfViewport=!1,a.throttledUpdateHeight=h.default.throttle(function(){if(!a.isUnmounted){var e=a.props,t=e.height,n=e.onHeightTallerThanHalfViewportChange,o=t>window.innerHeight/2;a.isTallerThanHalfViewport!==o&&(a.isTallerThanHalfViewport=o,n(o))}},1e3),q(a,n)}return X(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},t.prototype.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},t.prototype.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&m.default.wait(function(){C.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},t.prototype.render=function(){var e=this.props,t=e.applications,n=e.paused,a=e.isFocused,o=e.theme,r=e.analyticsContext;return 0===t.length?null:d("div",{className:W.default.gameUpdates},void 0,d("div",{className:W.default.headerRow},void 0,d(O.default,{className:(0,c.default)(W.default.headerCell,W.default.networkProgress),title:Y.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:v.default.getHistoricalTotalBytesDownloaded,color:V.Colors.STATUS_GREEN,animate:a,gradientStopColor:o===V.ThemeTypes.LIGHT?V.Colors.WHITE:null}),d(O.default,{className:(0,c.default)(W.default.headerCell,W.default.diskProgress),title:Y.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:v.default.getHistoricalTotalBytesWritten,color:V.Colors.LINK,animate:a,gradientStopColor:o===V.ThemeTypes.LIGHT?V.Colors.WHITE:null})),d(M.default,{hasHeader:!1,columns:pe,data:t,className:W.default.table,rowClassName:W.default.row,rowComponent:Q,cellProps:{paused:n,isFocused:a,theme:o,analyticsContext:r},rowProps:{onContextMenu:function(e,t){return function(e,t,n){b.openContextMenu(e,function(e){return f.createElement(A.default,u({},e,{type:V.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.applicationId,applicationId:t.branchId,analyticsContext:n}))})}(e,t,r)}},bodyCellClassName:W.default.cell}))},t}(f.PureComponent);function me(e,t){return e.reduce(function(e,n,a){var o=n.applicationId,r=n.branchId,i=_.default.getGame(o),l=v.default.getState(o,r);return null!=i&&e.push({id:o+":"+r,applicationId:o,branchId:r,state:l,application:i,libraryApplication:S.default.getLibraryApplication(o,r),finished:t,index:a}),e},[])}he.displayName="GameUpdates",t.default=(0,H.default)(p.default.connectStores([v.default,g.default,_.default,S.default,E.default,T.default],function(){var e=me(g.default.activeItems,!1),t=me(g.default.finishedItems,!0);return{applications:[].concat(e,t),paused:g.default.paused,isFocused:E.default.isFocused(),theme:T.default.theme}})((0,y.default)(he))),e.exports=t.default},7220:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(1)),i=T(n(3)),l=T(n(9)),s=T(n(2)),u=C(n(229)),d=n(6176),f=T(n(6018)),c=T(n(935)),p=T(n(921)),h=T(n(6214)),m=C(n(6360)),y=T(n(159)),v=T(n(58)),g=T(n(77)),_=n(0),E=T(n(6)),S=T(n(5787));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=b(this,e.call.apply(e,[this].concat(r))),a.inputRef=null,a.setRef=function(e){a.inputRef=e},a.handleKeyDown=function(e){var t=a.props,n=t.activeRowId,o=t.hasModalOpen,r=t.applicationViewItems;if(!(o||e.ctrlKey||e.altKey||e.metaKey||document.activeElement!==a.inputRef&&(0,d.isInputLikeElement)(document.activeElement)))switch(e.which){case _.KeyboardKeys.ESCAPE:e.target!==a.inputRef?a.reset():null!=a.inputRef&&a.inputRef.blur();break;case _.KeyboardKeys.ENTER:if(null!=n){e.preventDefault();var i=r.find(function(e){return e.id===n});if(null==i)return;var l=i.libraryApplication;u.performDefaultLibraryApplicationAction(l,{analyticsParams:{source:_.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:_.AnalyticsPages.LIBRARY,section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:_.AnalyticsObjects.BUTTON_CTA}}})}break;case _.KeyboardKeys.ARROW_DOWN:case _.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),a.updateActiveRow(e.which===_.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=a.inputRef&&e.target!==a.inputRef&&a.inputRef.focus()}},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){s.default.wait(function(){return m.updateActiveRowId(null)}),document.removeEventListener("keydown",this.handleKeyDown)},t.prototype.reset=function(){m.updateActiveRowId(null),m.updateLibraryFilter("")},t.prototype.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,a=t.activeRowId,o=n.findIndex(function(e){return e.id===a}),r=0;o>=0&&(r=(o+e)%n.length)<0&&(r=n.length-1);var i=n[r];m.updateActiveRowId(null!=i?i.id:null,!0)},t.prototype.render=function(){var e,t,n=this.props.filterQuery;return o("div",{className:S.default.libraryFilter},void 0,o(y.default,{className:S.default.libraryFilterInputWrapper,inputClassName:S.default.libraryFilterInput,inputRef:this.setRef,size:y.default.Sizes.MINI,onChange:m.updateLibraryFilter,name:"filter",maxLength:100,value:n,placeholder:E.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}),o(v.default,{className:(0,l.default)(S.default.icon,(e={},e[S.default.iconVisible]=""===n,e)),name:v.default.Names.SEARCH}),o(g.default,{onClick:this.reset},void 0,o(v.default,{className:(0,l.default)(S.default.icon,S.default.clearIcon,(t={},t[S.default.iconVisible]=""!==n,t)),name:v.default.Names.CLEAR})))},t}(r.PureComponent);N.displayName="ApplicationLibraryFilter",t.default=i.default.connectStores([f.default,c.default,p.default,h.default],function(){return{filterQuery:f.default.applicationFilterQuery,applicationViewItems:f.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:p.default.hasModalOpen()||c.default.hasLayers(),activeRowId:h.default.activeRowId}})(N),e.exports=t.default},7221:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=E(n(1)),i=_(n(9)),l=_(n(516)),s=E(n(6215)),u=_(n(262)),d=_(n(7220)),f=_(n(7219)),c=_(n(7214)),p=_(n(5959)),h=_(n(367)),m=_(n(6)),y=n(6037),v=n(0),g=_(n(5780));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=o(d.default,{}),C=o(l.default,{title:"ChatX"}),b=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=S(this,e.call.apply(e,[this].concat(i))),a._scrollerRef=r.createRef(),a._scrollToPadding=0,a.state={includeUpdatesInScroller:!1},a.handleHeightTallerThanHalfViewportChange=function(e){a.setState({includeUpdatesInScroller:e})},a.scrollToRow=function(e,t){var n=a._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoView(e,!1,{top:t,bottom:t}),a._scrollToOnMount=null):(a._scrollToOnMount=e,a._scrollToPadding=t)},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){s.setHomeLink(v.Routes.GAME_LIBRARY),(0,y.deepLinkRouteIfLanded)(v.RPCDeepLinks.LIBRARY),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},t.prototype.renderToolbar=function(){return T},t.prototype.render=function(){var e,t=this.props.location,n=this.state.includeUpdatesInScroller,a=o("div",{},void 0,o(h.default,{section:v.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,o(f.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return o(h.default,{page:v.AnalyticsPages.LIBRARY,root:!0},void 0,o("div",{className:g.default.gameLibrary},void 0,C,o(p.default,{className:g.default.libraryHeader,title:m.default.Messages.GAME_LIBRARY,renderToolbar:this.renderToolbar}),n?null:a,r.createElement(u.default,{outerClassName:(0,i.default)((e={},e[g.default.stickyScroller]=!n,e)),ref:this._scrollerRef,gutterStyle:u.default.GutterStyles.STORE,theme:u.default.Themes.GHOST_HAIRLINE},n?a:null,o(h.default,{section:v.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,o(c.default,{stickyHeader:!n,scrollToRow:this.scrollToRow,location:t})))))},t}(r.PureComponent);b.displayName="GameLibrary",t.default=b,e.exports=t.default},7222:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6)),l=s(n(5790));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o("div",{className:l.default.emptyState},void 0,o("div",{className:l.default.title},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_TITLE),o("div",{className:l.default.subtitle},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_SUBTITLE))},t}(r.PureComponent);u.displayName="ActivityFeedEmptyState",t.default=u,e.exports=t.default},7223:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(932)),s=p(n(44)),u=p(n(26)),d=p(n(69)),f=p(n(6)),c=(n(0),p(n(5792)));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=n(1194),y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=a=h(this,e.call.apply(e,[this].concat(l))),a.handleApplicationClick=function(e,t){var n=a.props.onApplicationClick;null==n||t.disabled||n(e,t)},a.handlePlayClick=function(e,t){e.stopPropagation();var n=a.props.onApplicationPlay;null==n||t.disabled||n(t)},a.handleApplicationContextMenu=function(e,t){var n=a.props.onApplicationContextMenu;null==n||t.disabled||n(e,t)},a.renderIcon=function(e){var t,n=a.props.dockItemClassName,r=null!=e.iconSrc?e.iconSrc:m;return o(u.default,{direction:u.default.Direction.VERTICAL,shrink:0,grow:0,align:u.default.Align.CENTER,className:(0,i.default)(c.default.dockItem,n),onContextMenu:function(t){return a.handleApplicationContextMenu(t,e)},onClick:function(t){return t.shiftKey?a.handlePlayClick(t,e):a.handleApplicationClick(t,e)}},e.id,o("div",{className:(0,i.default)(c.default.dockIcon,(t={},t[c.default.dockIconDisabled]=e.disabled,t)),style:{backgroundImage:"url('"+r+"')"}}),o(d.default,{className:c.default.dockItemText,size:d.default.Sizes.SMALL},void 0,e.name),o(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,onClick:function(t){return a.handlePlayClick(t,e)},disabled:e.disabled,className:c.default.dockItemPlay,fullWidth:!0},void 0,f.default.Messages.GAME_FEED_ACTIVITY_ACTION_PLAY))},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applications,n=e.className,a=e.width,r=Math.floor(a/90),l=t.slice(0,r).map(this.renderIcon);return o("div",{className:(0,i.default)(c.default.dock,n)},void 0,l)},t}(r.PureComponent);y.defaultProps={disabled:!1},y.displayName="ApplicationDock",t.default=(0,l.default)(y),e.exports=t.default},7224:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=N(n(1)),s=N(n(530)),u=N(n(229)),d=b(n(264)),f=b(n(28)),c=n(35),p=b(n(954)),h=b(n(957)),m=n(217),y=b(m),v=b(n(26)),g=b(n(7223)),_=n(58),E=b(_),S=(b(n(115)),b(n(6))),T=n(0),C=b(n(5791));function b(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,d=Array(i),v=0;v<i;v++)d[v]=arguments[v];return n=a=O(this,e.call.apply(e,[this].concat(d))),a.handleApplicationPlay=function(e){u.playApplication(e.id,e.libraryApplication,{analyticsParams:{location:a.analyticsLocation,num_launcher_applications:a.props.applicationItems.length}})},a.handleApplicationClick=function(e,t){var n=f.default.getGame(t.id);if(null!=n){var o=e.currentTarget;o=o instanceof Element?o:a,s.trackGamePopoutOpened(n,T.AnalyticsLocations.QUICK_LAUNCHER,a.analyticsLocation),(0,m.openPopout)(o,{render:function(){return a.renderGamePopout(n)},position:y.default.Positions.BOTTOM_LEFT,closeOnScroll:!1})}},a.handleApplicationContextMenu=function(e,t){var n=f.default.getGame(t.id),o=a.props.analyticsContext;null!=n&&(0,c.openContextMenu)(e,function(e){return l.createElement(p.default,r({},e,{type:T.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER,applicationId:n.id,analyticsContext:o}))})},a.renderGamePopout=function(e){return o(h.default,{popoutKey:"popout:"+e.id,game:e,source:T.AnalyticsLocations.QUICK_LAUNCHER,analyticsContext:a.props.analyticsContext})},O(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applicationItems,n=e.className,a=0===t.length;return o("div",{className:n},void 0,o(v.default,{align:v.default.Align.CENTER,justify:v.default.Justify.BETWEEN},void 0,o("div",{className:C.default.header},void 0,S.default.Messages.QUICK_LAUNCHER_HEADER)),a?o(v.default,{align:v.default.Align.CENTER,className:C.default.emptyState},void 0,o(E.default,{className:C.default.emptyIcon,name:_.IconNames.OPEN_EXTERNAL}),o("div",{},void 0,S.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT)):o(g.default,{onApplicationPlay:this.handleApplicationPlay,onApplicationClick:this.handleApplicationClick,onApplicationContextMenu:this.handleApplicationContextMenu,applications:t,className:C.default.dock}))},i(t,[{key:"analyticsLocation",get:function(){return r({},this.props.analyticsContext.location,{object:T.AnalyticsObjects.CARD})}}]),t}(l.PureComponent);I.displayName="QuickLauncher",t.default=(0,d.default)(I),e.exports=t.default},7225:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(356)),s=n(226),u=h(n(6038)),d=h(n(6361)),f=n(5973),c=h(f),p=h(n(5793));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=(0,s.cssValueToNumber)(p.default.carouselHeight),v=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=m(this,e.call.apply(e,[this].concat(i))),a.renderItem=function(e,t){if(null==e)return null;var n=a.props,r=n.visibleIndex,i=n.getCurrentDirection,l=n.onGamePopoutOpen,s=n.onGamePopoutClose,u=n.onItemClick,f=n.onPromotionBuyClick,c=n.items;return o(d.default,{item:e,type:e.type,itemHeight:y,application:e.application,onOpen:function(){return u(e,t)},onPromotionBuyClick:function(){return f(e)},onGamePopoutOpen:l,onGamePopoutClose:s,className:1===c.length?p.default.headerAlone:p.default.headerNormal,getDirection:i,index:r,simple:!0,horizontal:!0},r)},a.renderPaginationItem=function(e,t){return o("div",{className:t===a.props.visibleIndex?p.default.dotSelected:p.default.dotNormal},t)},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.paused,a=e.className,r=e.visibleIndex,s=e.isGamePopoutOpen,d=e.nextItem,h=e.prevItem,m=e.setItem;return t.length<1?null:1===t.length?o("div",{className:(0,i.default)(p.default.feedCarousel,a)},void 0,o("div",{className:p.default.smallCarousel},void 0,this.renderItem(t[0],0))):o(u.default,{onInterval:d,interval:8e3,disable:n||s,pauseOnHover:!0},void 0,o("div",{className:(0,i.default)(p.default.feedCarousel,a)},void 0,o(l.default,{className:p.default.smallCarousel},void 0,this.renderItem(t[r],r)),o("div",{className:p.default.pagination},void 0,o(f.CarouselPrevious,{onClick:h,className:p.default.arrow}),o(c.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:r,onSetItem:m}),o(f.CarouselNext,{onClick:d,className:p.default.arrow}))))},t}(r.PureComponent);v.displayName="HorizontalFeedCarousel",t.default=v,e.exports=t.default},7226:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(356)),s=n(165),u=m(n(6038)),d=m(n(6361)),f=m(n(5973)),c=n(0),p=m(n(6)),h=m(n(5794));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=300,g=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=y(this,e.call.apply(e,[this].concat(l))),a.renderItem=function(e,t){if(null==e)return null;var n=a.props,r=n.visibleIndex,i=n.onItemClick,l=n.onPromotionBuyClick,s=n.onGamePopoutOpen,u=n.onGamePopoutClose,f=n.getCurrentDirection;return o(d.default,{item:e,application:e.application,onOpen:function(){return i(e,t)},onPromotionBuyClick:function(){return l(e)},onGamePopoutOpen:s,onGamePopoutClose:u,className:h.default.article,getDirection:f,index:r},r)},a.renderPaginationItem=function(e,t){var n=a.props.visibleIndex,r=void 0,l=void 0,u=void 0,d=void 0;if(e.type===c.FeedCarouselItemTypes.APPLICATION_NEWS){var f=e.news,m=e.application;r=f.thumbnail,l=f.title,u=m.getSplashURL(v),d=m.name}else{var y=e.promotion;l=y.title,d=p.default.Messages.APPLICATION_STORE_ACTIVITY_FEED_PROMOTION_SUBTITLE,u=y.imageUrl}if(null!=r){var g=r.height/r.width*v;u=(0,s.getSizedImageSrc)(r.proxy_url||r.url,v,g,"png")}return o("div",{className:(0,i.default)(h.default.paginationItem,t===n?h.default.selectedPage:null)},t,o("div",{className:null!=u?h.default.splashArt:h.default.splashBackup,style:null!=u?{backgroundImage:"url("+u+")"}:null}),o("div",{className:h.default.paginationText},void 0,o("h2",{className:h.default.paginationTitle},void 0,l),o("h4",{className:h.default.paginationSubtitle},void 0,d)))},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.paused,a=e.className,r=e.visibleIndex,s=e.isGamePopoutOpen,d=e.nextItem,c=e.setItem;return t.length<1?null:1===t.length?o("div",{className:(0,i.default)(h.default.feedCarousel,a)},void 0,o("div",{className:h.default.carousel},void 0,this.renderItem(t[0],0))):o(u.default,{onInterval:d,interval:8e3,disable:n||s,pauseOnHover:!0},void 0,o("div",{className:(0,i.default)(h.default.feedCarousel,a)},void 0,o(l.default,{className:h.default.carousel},void 0,this.renderItem(t[r],r)),o("div",{className:h.default.pagination},void 0,o(f.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:r,onSetItem:c,vertical:!0}))))},t}(r.PureComponent);g.displayName="VerticalFeedCarousel",t.default=g,e.exports=t.default},7227:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=g(n(1)),s=n(130),u=g(n(530)),d=v(n(40)),f=v(n(264)),c=n(272),p=n(6636),h=v(n(7226)),m=v(n(7225)),y=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=_(this,e.call.apply(e,[this].concat(r))),a.state={isGamePopoutOpen:!1,visibleIndex:0,direction:1},a.numIntentionalNewsChange=0,a.nextItem=function(){var e=a.props.items;a.changeItem(e,1)},a.prevItem=function(){var e=a.props.items;a.changeItem(e,-1)},a.setItem=function(e){var t=a.state.visibleIndex,n=a.props.items;a.changeItem(n,e-t),a.numIntentionalNewsChange++},a.getCurrentDirection=function(){return a.state.direction},a.handleGamePopoutOpen=function(){a.setState({isGamePopoutOpen:!0})},a.handleGamePopoutClose=function(){a.setState({isGamePopoutOpen:!1})},a.handleItemClick=function(e,t){e.type===y.FeedCarouselItemTypes.APPLICATION_NEWS?a.handleNewsClick(e.application,e.news,t):a.handlePromotionClick(e.promotion)},a.handleNewsClick=function(e,t,n){null!=t&&u.trackGameNewsOpened(y.AnalyticsLocations.ACTIVITY_FEED,t,n,e,a.props.cardMetadata)},a.handlePromotionClick=function(e){var t=a.analyticsLocation;if(null!=e){if(e.destination.type===y.PromotionTypes.GENERAL){var n=(0,s.parse)(e.destination.linkUrl);d.default.transitionTo(n.pathname,{hash:n.hash,query:n.query,state:{analyticsLocation:t}})}else if(e.destination.type===y.PromotionTypes.GAME){var o=e.destination.sku;(0,c.goToApplicationStoreListing)(o.id,{slug:o.slug,analyticsSource:t,analyticsProperties:{promotion_id:e.id}})}(0,p.ackPromotion)(e.ackKey,y.PromotionAckTypes.CLICK)}},a.handlePromotionBuyClick=function(e){if(e.type!==y.FeedCarouselItemTypes.PROMOTION)throw new Error("Unexpected item type");(0,p.ackPromotion)(e.promotion.ackKey,y.PromotionAckTypes.CLICK)},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&u.trackGameNewsChanged(y.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},t.prototype.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},t.prototype.handleChangeVisibleIndex=function(e){var t=this.props,n=t.onItemViewed,a=t.items;null!=a[e]&&n&&n(a[e],e)},t.prototype.render=function(){var e=this.props,t=e.useSmallCarousel,n=e.items,a=e.paused,o=e.className,i=e.cardMetadata,l=this.state,s=l.visibleIndex,u=l.isGamePopoutOpen,d=t?m.default:h.default;return r(d,{items:n,visibleIndex:s,isGamePopoutOpen:u,paused:a,className:o,cardMetadata:i,getCurrentDirection:this.getCurrentDirection,onItemClick:this.handleItemClick,onPromotionBuyClick:this.handlePromotionBuyClick,onGamePopoutOpen:this.handleGamePopoutOpen,onGamePopoutClose:this.handleGamePopoutClose,nextItem:this.nextItem,prevItem:this.prevItem,setItem:this.setItem})},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{object:y.AnalyticsObjects.CAROUSEL})}}]),t}(l.PureComponent);E.defaultProps={paused:!1},E.displayName="FeedCarousel",t.default=(0,f.default)(E),e.exports=t.default},7435:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(75)),l=_(n(7)),s=_(n(9)),u=_(n(932)),d=_(n(217)),f=_(n(112)),c=_(n(58)),p=_(n(26)),h=n(260),m=n(6177),y=_(n(6211)),v=_(n(6)),g=_(n(5833));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){function t(){var n,a;E(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=S(this,e.call.apply(e,[this].concat(r))),a.renderPopout=function(e){var t=a.props,n=t.renderPopout,o=t.member;return null!=o&&null!=n?n(o,e):null},a.handleUserPopoutOpen=function(){var e=a.props,t=e.onUserPopoutOpen,n=e.member,o=e.position,r=e.members;null!=n&&null!=t&&t(r,n,o)},a.handleClick=function(){var e=a.props,t=e.onClick,n=e.member;null!=n&&null!=t&&t(n)},a.handleUserContextMenu=function(e){var t=a.props,n=t.onContextMenu,o=t.member;null!=o&&null!=n&&n(e,o)},S(a,n)}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.member;return e.empty?o("div",{className:g.default.partyMemberEmpty}):null!=t?o(d.default,{render:this.renderPopout,position:d.default.Positions.LEFT,closeOnScroll:!1,onOpen:this.handleUserPopoutOpen},void 0,o(f.default,{text:t.username},void 0,o(h.AvatarImage,{src:t.getAvatarURL(),size:h.AvatarSizes.SMALL,onContextMenu:this.handleUserContextMenu,onClick:this.handleClick,className:(0,s.default)(g.default.partyMember,g.default.clickable)}))):o(f.default,{text:v.default.Messages.GAME_FEED_UNKNOWN_PLAYER},void 0,o("div",{className:g.default.partyMemberUnknown},void 0,o(c.default,{name:c.default.Names.ChatX,className:g.default.partyMemberUnknownIcon})))},t}(r.PureComponent);C.displayName="PartyMember";var b=function(e){function t(){var n,a;E(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=S(this,e.call.apply(e,[this].concat(r))),a.handleMasonryNodeInserted=function(e){var t=e.node,n=i.default.findDOMNode(a);n instanceof Element&&t.contains(n)&&a.props.triggerResize()},S(a,n)}return T(t,e),t.prototype.componentDidMount=function(){m.MasonryNodeInsertedEmitter.addListener("change",this.handleMasonryNodeInserted)},t.prototype.componentWillUnmount=function(){m.MasonryNodeInsertedEmitter.removeListener("change",this.handleMasonryNodeInserted)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.justify,a=void 0===n?p.default.Justify.END:n,r=e.renderUserPopout,i=e.onUserContextMenu,s=e.onUserPopoutOpen,u=e.partySize,c=e.minInOrderToRender,h=e.members,m=e.width,v=e.overflowPopoutHeader,_=e.overflowTooltip,E=u.unknownSize,S=u.totalSize,T=u.knownSize;if(S<=c)return null;for(var b=Math.floor(m/38),N=(0,l.default)(h).filter(function(e){return null!=e}).map(function(e,t){return o(C,{position:t+1,member:e,members:h,renderPopout:r,onContextMenu:i,onUserPopoutOpen:s},e.id)}).take(b).value(),O=N.length,I=0;I<E&&N.length<b;I++)N.push(o(C,{position:O+I},"unknown-member-"+I));O=N.length;for(var A=0;A<S-T-E&&N.length<b;A++)N.push(o(C,{position:O+A,empty:!0},"empty-member-"+A));var M=o(y.default,{party:h,header:v});if(N.length<S){N.pop();var R=Math.min(S-N.length,99);N.push(o(d.default,{render:function(){return M}},"overflow",o(f.default,{text:_.format({overflow:R})},void 0,o("div",{className:g.default.partyMemberOverflow},void 0,"+",R))))}return o(p.default,{justify:a,className:t},void 0,N)},t}(r.PureComponent);b.displayName="ActivityFeedPartyAvatars",t.default=(0,u.default)(b),e.exports=t.default},7436:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=H(n(1)),s=j(n(9)),u=n(102),d=j(n(66)),f=j(n(193)),c=j(n(17)),p=H(n(530)),h=j(n(5933)),m=j(n(40)),y=n(83),v=j(n(6633)),g=j(n(157)),_=j(n(217)),E=j(n(44)),S=j(n(260)),T=j(n(5927)),C=j(n(7435)),b=j(n(937)),N=j(n(26)),O=j(n(58)),I=j(n(77)),A=j(n(228)),M=j(n(6632)),R=j(n(997)),P=j(n(1182)),L=j(n(520)),w=j(n(513)),D=j(n(6212)),U=j(n(6631)),k=j(n(6)),F=n(0),x=j(n(5832)),G=j(n(5510)),B=j(n(967));function j(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=V(this,e.call.apply(e,[this].concat(i))),a.state={isHovered:!1,isOverflowOpen:!1},a.renderUserPopout=function(e,t){return l.createElement(w.default,r({},t,{user:e}))},a.setRef=function(e){var t=a.props.setRef;null!=t&&t(e)},a.handleMouseEnter=function(){a.setState({isHovered:!0})},a.handleMouseLeave=function(){a.setState({isHovered:!1})},a.handleOverflowOpen=function(e,t){a.setState({isOverflowOpen:!0}),a.props.onUserContextMenu(e,t,F.ContextMenuTypes.USER_ACTIVITY_FEED,a.handleOverflowClose)},a.handleOverflowClose=function(){a.setState({isOverflowOpen:!1})},a.handleMessageUser=function(e,t){var n=a.props,o=n.index,r=n.loadId,i=n.party,l=n.onMessageUser,s=i.currentActivities.length>0?i.currentActivities[0].game:null;l(e,t).then(function(e){p.trackUserMessaged(t,e,s,i,{loadId:r,index:o,type:F.ActivityCardTypes.USER})})},a.handleChannelClick=function(e,t,n){if(null!=t&&null!=n){var o=r({},a.getGamePlatformData(),a.analyticsMetadata,{af_voice_chat:!0,af_people_count:e.length,af_recently_played:!1,af_rich_presence:!1,guild_id:t.id,channel_id:n.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,o);var i=d.default.getChannelId(t.id),l=null!=i?F.Routes.CHANNEL(t.id,i):F.Routes.GUILD(t.id);m.default.transitionTo(l),h.default.channelListScrollTo(t.id,n.id)}},a.handleGuildClick=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r({},a.getGamePlatformData(),a.analyticsMetadata,{af_voice_chat:n,af_people_count:t.length,guild_id:e.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,o)},a.handleUserPopoutOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=r({},a.getGamePlatformData(),a.analyticsMetadata,{popout_user_id:e.id,avatar_position:n,af_voice_chat:i,af_people_count:t.length,af_rich_presence:l});null!=o&&(s.game_id=o.id,s.game_name=o.name),c.default.track(F.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,s)},V(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSplashArtURL=function(){var e=this.props.party.currentActivities;return e.length>0?e[0].game.getSplashURL(740):null},t.prototype.getPartyActivitySize=function(e,t){var n=e.length,a=0,o=void 0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var r=t.party.size;a=Math.max(r[0]-e.length,0),o=r[1]}else o=n+a;return{knownSize:n,unknownSize:a,totalSize:o}},t.prototype.getGamePlatformData=function(){var e=this.props.party;return null!=e?{game_platform:e.currentActivities.length>0?(0,u.getGamePlatform)(e.currentActivities[0].activity):null}:null},t.prototype.renderSoloCardHeader=function(e){var t,n=this,a=this.state,r=a.isHovered,i=a.isOverflowOpen,l=this.props.onUserContextMenu,u=e.user,d=e.status;return o("div",{className:(0,s.default)(x.default.header,(t={},t[x.default.headerOverflowOpen]=i,t))},void 0,o(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,o(S.default,{className:x.default.avatar,src:u.getAvatarURL(r&&(0,y.hasAnimatedAvatar)(u)?"gif":"png"),status:d,size:S.default.Sizes.LARGE,onContextMenu:function(e){return l(e,u)}})),o(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,o(L.default,{user:u,usernameClass:x.default.username,discriminatorClass:x.default.discriminator,onContextMenu:function(e){return l(e,u)}})),o(N.default,{className:x.default.headerActions,align:N.default.Align.CENTER,justify:N.default.Justify.END},void 0,o(E.default,{color:G.default.headerButtonColor,hover:E.default.Hovers.BRAND,size:E.default.Sizes.SMALL,onClick:function(e){return n.handleMessageUser(e,u)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE),o(E.default,{look:E.default.Looks.BLANK,size:E.default.Sizes.NONE,onClick:function(e){return n.handleOverflowOpen(e,u)}},void 0,o(O.default,{name:O.default.Names.OVERFLOW_MENU,className:x.default.overflowMenu}))))},t.prototype.renderPartiedCardHeader=function(e){var t=this,n=this.props.party,a=n.guildContext,r=n.isSpotifyActivity,i=e.map(function(n,a){var r,i=a===e.length-1;return o(_.default,{render:function(e){return t.renderUserPopout(n.user,e)},position:_.default.Positions.RIGHT,onOpen:function(){return t.handleUserPopoutOpen(n.user,e,a+1)},closeOnScroll:!1},n.user.id,o("span",{className:(0,s.default)(x.default.usernamePartied,(r={},r[x.default.usernameSpacing]=i,r)),onContextMenu:function(e){return t.props.onUserContextMenu(e,n.user)}},void 0,n.user.username+(i?"":", ")))});return o("div",{className:x.default.header},void 0,null!=a?o(T.default,{size:T.default.Sizes.MEDIUM,guild:a,className:x.default.guildIcon,to:F.Routes.GUILD(a.id),onContextMenu:function(e){return t.props.onGuildContextMenu(e,a)},onClick:function(){return t.handleGuildClick(a,e,!1)}}):o("div",{className:x.default.headerGroupIconBackground},void 0,o(O.default,{name:O.default.Names.PEOPLE,className:x.default.headerGroupIcon})),o("div",{className:x.default.headerText},void 0,o("div",{className:x.default.headerTitle},void 0,null!=a?k.default.Messages.GAME_FEED_CARD_HEADER_GROUP_GUILD.format({count:e.length,guild:a}):r?k.default.Messages.GAME_FEED_CARD_HEADER_SPOTIFY_GROUP:k.default.Messages.GAME_FEED_CARD_HEADER_GROUP.format({count:e.length})),o("div",{className:x.default.headerSubtitle},void 0,i)))},t.prototype.renderHeader=function(){var e=this.props.party.priorityMembers;return 1===e.length?this.renderSoloCardHeader(e[0]):this.renderPartiedCardHeader(e)},t.prototype.renderVoiceChannel=function(e,t,n){var a,r=this,i=this.props,l=i.party,u=i.onUserContextMenu,d=i.onGuildContextMenu,f=i.onChannelContextMenu;return o(N.default,{align:N.default.Align.CENTER,className:(0,s.default)(x.default.voiceChannel,(a={},a[x.default.bottomSeparator]=l.currentActivities.length>0,a))},n.id+"-"+t.id,null!=l.guildContext?o("div",{className:x.default.guildIconEmptyBackground},void 0,o(O.default,{className:x.default.guildIconEmptyIcon,name:O.default.Names.SPEAKER})):o("div",{className:x.default.guildIconWrapper},void 0,o(T.default,{className:x.default.voiceGuildIcon,showTooltip:!0,showVerified:!0,guild:n,size:T.default.Sizes.MEDIUM,to:F.Routes.GUILD(n.id),onContextMenu:function(e){return d(e,n)},onClick:function(){return r.handleGuildClick(n,e,!0)}}),o(O.default,{name:O.default.Names.SPEAKER,className:x.default.voiceChannelIcon})),o(I.default,{className:x.default.channelName,onClick:function(){return r.handleChannelClick(e,n,t)},onContextMenu:function(e){return f(e,t)}},void 0,t.name),o("div",{className:x.default.partyAvatars},void 0,o(C.default,{renderUserPopout:this.renderUserPopout,onUserContextMenu:u,onUserPopoutOpen:function(e,t,n){return r.handleUserPopoutOpen(t,e,n,null,!0,!1)},overflowPopoutHeader:k.default.Messages.GAME_FEED_VOICE_OVERFLOW_COUNT.format({count:e.length}),overflowTooltip:k.default.Messages.GAME_FEED_VOICE_OVERFLOW,members:e,partySize:this.getPartyActivitySize(e),minInOrderToRender:0})))},t.prototype.renderActivity=function(e,t){var n,a=this,r=e.game,i=e.activity,l=e.playingMembers,d=this.props,f=d.party,c=f.showPlayingMembers,p=f.isSpotifyActivity,h=d.onUserContextMenu,m=d.onApplicationContextMenu,y=(0,u.hasRichActivity)(i),v=null!=i&&y,_=this.getPartyActivitySize(l,i),S=(0,u.isStreaming)(i)?(0,u.getStreamURL)(i):null,T=null==S&&(c||v&&_.totalSize>1)?o("div",{className:x.default.partyAvatars},void 0,o(C.default,{justify:N.default.Justify.END,renderUserPopout:this.renderUserPopout,onUserContextMenu:h,onUserPopoutOpen:function(e,t,n){return a.handleUserPopoutOpen(t,e,n,r,!1,y)},overflowPopoutHeader:p?k.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:l.length}):k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:l.length}),overflowTooltip:p?k.default.Messages.GAME_FEED_SPOTIFY_OVERFLOW:k.default.Messages.GAME_FEED_USER_OVERFLOW,members:l,partySize:_,minInOrderToRender:0})):null;return o("div",{className:(0,s.default)(x.default.game,(n={},n[x.default.bottomSeparator]=!t,n))},r.id,o(N.default,{align:N.default.Align.CENTER},void 0,o(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.iconHover},void 0,o(A.default,{game:r,onContextMenu:function(e){return m(e,r)}})),o("div",{className:y?x.default.gameInfoRich:x.default.gameInfo},void 0,null!=S?o("div",{className:x.default.streamInfo},void 0,o("div",{className:x.default.gameName},void 0,r.name),o(g.default,{className:x.default.playTime,href:S},void 0,(0,u.getSimpleStreamURL)(S))):o("div",{className:x.default.gameNameWrapper},void 0,o(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:B.default.textHover},void 0,o("div",{className:x.default.gameName,onContextMenu:function(e){return m(e,r)}},void 0,r.name))),y?null:(0,u.isOnXbox)(i)?o("span",{className:x.default.playTime},void 0,k.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX):o(b.default,{className:x.default.playTime,start:e.startedPlayingTime,end:e.stoppedPlayingTime,location:b.default.Locations.ACTIVITY_FEED}),null!=i&&y?o(P.default,{reverse:!0,showPrimaryActionOnly:!this.state.isHovered,color:E.default.Colors.PRIMARY,hover:E.default.Hovers.BRAND,look:E.default.Looks.FILLED,type:R.default.Types.ACTIVITY_FEED,source:"Activity Feed Flipped",activity:i,user:e.activityUser}):null),c&&!v?T:null),v?o(N.default,{className:x.default.richActivity},void 0,o(R.default,{hideHeader:!0,hideName:!p,showActions:!1,type:R.default.Types.ACTIVITY_FEED,user:e.activityUser,activity:i,source:"Activity Feed Flipped",className:x.default.activity}),T):null)},t.prototype.renderActivities=function(e,t,n){var a=this;return 0===e.length?null:o(M.default,{title:t,className:n},void 0,e.map(function(t,n){return a.renderActivity(t,n===e.length-1)}))},t.prototype.renderVoiceChannels=function(){var e=this,t=this.props.party.voiceChannels;return 0===t.length?null:o(M.default,{},void 0,t.map(function(t){var n=t.members,a=t.channel,o=t.guild;return e.renderVoiceChannel(n,a,o)}))},t.prototype.render=function(){return l.createElement(v.default,{ref:this.setRef,className:x.default.card,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},o(v.default.Header,{className:x.default.cardHeader,splashArtURL:this.getSplashArtURL()},void 0,this.renderHeader()),o(v.default.Body,{className:x.default.cardBody},void 0,this.renderVoiceChannels(),this.renderActivities(this.props.party.currentActivities)))},i(t,[{key:"analyticsMetadata",get:function(){var e=this.props;return{card_index:e.index,load_id:e.loadId,card_type:e.party.partiedMembers.length>1?F.ActivityCardTypes.GROUP:F.ActivityCardTypes.USER}}}]),t}(l.PureComponent);Y.displayName="UserCard",t.default=(0,U.default)(Y),e.exports=t.default},7798:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(3)),s=n(6634),u=E(s),d=E(n(6177)),f=E(n(529)),c=E(n(535)),p=E(n(542)),h=E(n(166)),m=E(n(12)),y=E(n(28)),v=E(n(375)),g=E(n(6)),_=E(n(5834));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=S(this,e.call.apply(e,[this].concat(i))),a.isEmpty=null,a.renderEmptyState=function(){return a.props.hasNowPlayingItem?null:r("div",{className:_.default.emptyImage})},a.renderHeader=function(){var e=a.props,t=e.items,n=e.hasNowPlayingSection;return 0===t.length?null:r("div",{className:n?_.default.headerWithNowPlaying:_.default.headerWithoutNowPlaying},void 0,g.default.Messages.GAME_FEED_WHAT_IS_NEW_HEADER_TITLE)},a.getItemId=function(e){return e.gameId},a.setCardRef=function(e,t,n){a.props.onCardRef(e,t,n.length)},a.renderCard=function(e,t,n){var o=e.gameId,i=e.game,l=e.players,d=e.news;return r(u.default,{type:s.GameCardTypes.RECENTLY_PLAYED,setActivityFeedCardRef:function(e){return a.setCardRef(e,o,l)},game:i,news:d,onVideoPlay:a.handleVideoPlay,players:l,width:t,index:n,loadId:a.props.loadId},o)},a.handleVideoPlay=function(){a.videoStartPlayingTime=Date.now()},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateIsEmpty()},t.prototype.shouldComponentUpdate=function(){var e=this.videoStartPlayingTime;return null==e||Date.now()-e>3e5},t.prototype.componentDidUpdate=function(){this.updateIsEmpty()},t.prototype.updateIsEmpty=function(){var e=this.props,t=e.items,n=e.onEmptyChange,a=0===t.length;this.isEmpty!==a&&(this.isEmpty=a,n(a))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.maxColumns,a=e.desiredItemWidth,r=e.maxItemWidth,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["items","maxColumns","desiredItemWidth","maxItemWidth"]);return i.createElement(d.default,o({},l,{items:t,renderEmpty:this.renderEmptyState,renderHeader:this.renderHeader,renderItem:this.renderCard,maxColumns:n,getItemId:this.getItemId,desiredItemWidth:a,maxItemWidth:r,className:_.default.root}))},t}(i.Component);T.displayName="WhatsNewFeed",t.default=l.default.connectStores([c.default,p.default,f.default,y.default,v.default,h.default,m.default],function(){var e=function(e){var t={};for(var n in e)if(h.default.isOnFeed(n))for(var a in e[n]){var o=y.default.getGame(a);if(null!=o&&!h.default.isUnsubscribedToGame(o.id)){var r=p.default.getUserGame(n);if(null==r||r.gameId!==a){var i=c.default.gamesByUser[n][a].date;null==t[a]?t[a]={players:[{userId:n,stoppedPlaying:i}],mostRecentStoppedPlaying:i}:(t[a].players.push({userId:n,stoppedPlaying:i}),t[a].mostRecentStoppedPlaying<i&&(t[a].mostRecentStoppedPlaying=i))}}}return t}(c.default.gamesByUser);return e=function(e,t){var n=o({},e),a=t,r=Array.isArray(a),i=0;for(a=r?a:a[Symbol.iterator]();;){var l;if(r){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var s=l;if(null==n[s]&&null!=y.default.getGame(s)){var u=v.default.getByGameId(s)[0];if(null!=u){var d=u.timestamp;null!=d&&(n[s]={players:[],mostRecentStoppedPlaying:Date.parse(d)})}}}return n}(e,h.default.gameIDsToShow),{items:Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).reduce(function(t,n){var a=y.default.getGame(n);return null==a?t:(t.push({gameId:n,game:a,news:1!==f.default.news.length||f.default.news[0].application.id!==n?v.default.getByGameId(n)[0]:null,players:e[n].players.reduce(function(e,t){var n=t.userId,a=t.stoppedPlaying,o=m.default.getUser(n);return o&&e.push({user:o,stoppedPlaying:a}),e},[]).sort(function(e,t){return(t.stoppedPlaying||0)-(e.stoppedPlaying||0)})}),t)},[]).filter(function(e){var t=e.players,n=e.news,a=e.gameId;return t.length>0||h.default.gameIDsToShow.has(a)&&null!=n}),loadId:f.default.loadId}})(T),e.exports=t.default},7799:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(3)),l=v(n(996)),s=v(n(166)),u=n(6635),d=n(1196),f=v(n(355)),c=v(n(44)),p=v(n(6)),h=n(0),m=v(n(5883)),y=v(n(58));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=g(this,e.call.apply(e,[this].concat(r))),a.handleAcceptClick=function(){(0,u.setConsents)([h.Consents.PERSONALIZATION],[]),(0,d.dismissPersonalizationNotice)()},a.handleDismissClick=function(){(0,d.dismissPersonalizationNotice)()},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.hasDismissedPersonalizationNotice,n=e.hasFetchedPersonalizationConsent;return e.personalizationEnabled||!n||t?null:o("div",{className:m.default.personalizationNotice},void 0,o(y.default,{name:y.default.Names.INFO,className:m.default.personalizationNoticeIcon}),o("div",{className:m.default.personalizationNoticeBody},void 0,o("div",{className:m.default.personalizationNoticeText},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE.format({onClickPrivacy:function(){return f.default.open(h.UserSettingsSections.PRIVACY_AND_SAFETY)}}))),o("div",{className:m.default.personalizationNoticeButtons},void 0,o(c.default,{className:m.default.personalizationNoticeButton,onClick:this.handleAcceptClick},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ACCEPT),o(c.default,{color:c.default.Colors.TRANSPARENT,className:m.default.personalizationNoticeButton,onClick:this.handleDismissClick},void 0,p.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_DISMISS)))},t}(r.Component);_.displayName="FeedPersonalizationConsentNotice",t.default=i.default.connectStores([s.default,l.default],function(){return{hasDismissedPersonalizationNotice:s.default.hasDismissedPersonalizationNotice,hasFetchedPersonalizationConsent:l.default.receivedConsentsInConnectionOpen||l.default.fetchedConsents,personalizationEnabled:l.default.hasConsented(h.Consents.PERSONALIZATION)}})(_),e.exports=t.default},7800:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Y(n(1)),l=V(n(75)),s=V(n(7)),u=V(n(3)),d=n(57),f=V(n(2)),c=n(971),p=n(102),h=V(n(11)),m=Y(n(169)),y=V(n(17)),v=n(529),g=V(v),_=V(n(6018)),E=V(n(166)),S=V(n(30)),T=V(n(1198)),C=V(n(28)),b=V(n(126)),N=Y(n(286)),O=n(6636),I=V(n(367)),A=V(n(7799)),M=V(n(7798)),R=V(n(7436)),P=n(6634),L=V(P),w=V(n(5959)),D=V(n(262)),U=V(n(6177)),k=V(n(26)),F=V(n(7227)),x=V(n(7224)),G=V(n(7222)),B=V(n(6)),j=n(0),H=V(n(5789));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var W=1e3;function z(){return window.innerHeight<680||window.innerWidth<1200}var K=r(G.default,{}),$=r(A.default,{}),q=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.updateDimensions=function(){a.setState({shouldUseSmallCarousel:z()})},a.trackLoaded=function(){if(!a.tracked){a.tracked=!0,a.updateViewedCards();var e=a.props,t=e.news,n=e.loadId,o=e.quickLauncherApplications,r=new Set,i={load_id:n,num_cards:Object.keys(a.nowPlayingCardRefs).length+Object.keys(a.gameFeedCardRefs).length,num_cards_game_playable:0,game_ids:[],num_cards_visible:a.viewedCards.size,num_game_parties:0,num_game_parties_voice:0,num_game_parties_solo:0,num_game_parties_recently_played:0,num_game_parties_rich_presence:0,num_game_parties_collapsed:0,num_cards_game_news:t.length,num_users_subscribed:E.default.feedUserIDs.size,num_launcher_applications:o.length,window_width:window.innerWidth,window_height:window.innerHeight};for(var l in a.nowPlayingCardRefs){a.nowPlayingCardRefs[l].parties.forEach(function(e){var t=e.showPlayingMembers,n=e.voiceChannels,a=e.currentActivities;i.num_game_parties_voice+=n.length;var o=a,l=Array.isArray(o),s=0;for(o=l?o:o[Symbol.iterator]();;){var u;if(l){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var d=u,f=d.game,c=d.activity,h=d.playingMembers;i.num_game_parties+=1,(0,v.isRealGameId)(f.id)&&r.add(f.id),(0,p.hasRichActivity)(c)&&(i.num_game_parties_rich_presence+=1),1===h.length&&(i.num_game_parties_solo+=1),t||(i.num_game_parties_collapsed+=1)}})}for(var s in a.gameFeedCardRefs){var u=a.gameFeedCardRefs[s],d=u.gameId,f=u.numPlayers;i.num_game_parties_recently_played+=f,r.add(d)}i.game_ids=Array.from(r),y.default.track(j.AnalyticEvents.ACTIVITY_FEED_LOADED,i)}},a.trackExited=function(){var e=Math.floor((Date.now()-a.openedTimestamp)/1e3),t={load_id:a.props.loadId,game_ids_viewed:Array.from(a.viewedGames),store_application_ids_viewed:Array.from(a.viewedGames).map(function(e){var t=C.default.getGame(e);return null==t?null:null!=t.getChatXSkuId()?e:null}).filter(Boolean),num_games_viewed:a.viewedGames.size,num_cards_viewed:a.viewedCards.size,num_cards_total:Object.keys(a.nowPlayingCardRefs).length+Object.keys(a.gameFeedCardRefs).length,seconds_spent:e};y.default.track(j.AnalyticEvents.ACTIVITY_FEED_EXITED,t)},a.renderItem=function(e,t,n){switch(e.type){case j.ActivityCardTypes.USER:var o=e.party;return r(R.default,{setRef:function(e){return a.setNowPlayingCardRef(e,o.id,[o])},party:o,index:n,loadId:a.props.loadId},o.id);case j.ActivityCardTypes.GAME:var i=e.game,l=e.parties;return r(L.default,{type:P.GameCardTypes.NOW_PLAYING,setActivityFeedCardRef:function(e){return a.setNowPlayingCardRef(e,i.id,l)},game:i,players:l.map(function(e){var t=e.priorityMembers,n=e.currentActivities;return{user:t[0].user,startedPlaying:n[0].startedPlayingTime}}),width:t,index:n,loadId:a.props.loadId},"game-"+i.id)}throw new Error("unknown type of NowPlayingCard")},a.getItemId=function(e){switch(e.type){case j.ActivityCardTypes.USER:return e.party.id;case j.ActivityCardTypes.GAME:return e.game.id}throw new Error("unknown type of NowPlayingCard")},a.hasScrolledPassedCard=function(e){if(null==e)return!1;var t=l.default.findDOMNode(e);return t instanceof HTMLElement&&t.getBoundingClientRect().top<a.scrollerBottom},a.updateViewedCards=function(){if(a.tracked){for(var e in a.nowPlayingCardRefs){var t=a.nowPlayingCardRefs[e],n=t.ref,o=t.parties;a.hasScrolledPassedCard(n)&&(a.viewedCards.add(e),o.forEach(function(e){var t=e.currentActivities,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(o>=t.length)break;r=t[o++]}else{if((o=t.next()).done)break;r=o.value}var i=r.game.id;(0,v.isRealGameId)(i)&&a.viewedGames.add(i)}}))}for(var r in a.gameFeedCardRefs){var i=a.gameFeedCardRefs[r],l=i.ref,s=i.gameId;a.hasScrolledPassedCard(l)&&(a.viewedCards.add(r),a.viewedGames.add(s))}}},a.renderNowPlayingEmpty=function(){return K},a.renderNowPlayingHeader=function(){return r(k.default,{className:H.default.header,align:k.default.Align.CENTER},void 0,r("div",{className:H.default.headerText},void 0,B.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE))},a.handleCarouselItemViewed=function(e,t){e.type!==j.FeedCarouselItemTypes.PROMOTION||a.ackedPromotions.has(e.promotion.id)||(a.trackPromotion(e.promotion,t),(0,O.ackPromotion)(e.promotion.ackKey,j.PromotionAckTypes.IMPRESSION),a.ackedPromotions.add(e.promotion.id))},a.renderNewsCarousel=function(){var e=a.props,t=e.news,n=e.promotions,o=e.isFocused,i=e.loadId,l=[],s=n,u=Array.isArray(s),d=0;for(s=u?s:s[Symbol.iterator]();;){var f;if(u){if(d>=s.length)break;f=s[d++]}else{if((d=s.next()).done)break;f=d.value}var c=f,p=c.promotion,h=c.application;l.push({type:j.FeedCarouselItemTypes.PROMOTION,promotion:p,application:h})}var y=t,v=Array.isArray(y),g=0;for(y=v?y:y[Symbol.iterator]();;){var _;if(v){if(g>=y.length)break;_=y[g++]}else{if((g=y.next()).done)break;_=g.value}var E=_,S=E.news,T=E.application;m.hasFlag(S.flags,j.GameNewsFlags.PROMOTION)||l.push({type:j.FeedCarouselItemTypes.APPLICATION_NEWS,news:S,application:T})}return 0===l.length?null:r(F.default,{useSmallCarousel:a.state.shouldUseSmallCarousel,cardMetadata:{loadId:i},items:l.slice(0,4),paused:!o,className:H.default.carousel,onItemViewed:a.handleCarouselItemViewed})},a.setNowPlayingCardRef=function(e,t,n){null==e?delete a.nowPlayingCardRefs[t]:(a.nowPlayingCardRefs[t]={ref:e,parties:n},!a.tracked&&a.props.loaded&&a.loadingTimeout.start(W,a.trackLoaded))},a.handleNowPlayingColumnChange=function(){a.updateViewedCards()},a.handleWhatsNewFeedColumnChange=function(){a.updateViewedCards()},a.handleWhatsNewEmptyChange=function(e){a.setState({isWhatsNewEmpty:e})},a.setWhatsNewFeedCardRef=function(e,t,n){null==e?delete a.gameFeedCardRefs[t]:(a.gameFeedCardRefs[t]={ref:e,gameId:t,numPlayers:n},!a.tracked&&a.props.loaded&&a.loadingTimeout.start(W,a.trackLoaded))},a.handleScroll=s.default.throttle(function(e){var t=e.getScrollerNode();if(null!=t){var n=t.getBoundingClientRect(),o=n.top,r=n.bottom;a.scrollerTop=o,a.scrollerBottom=r}a.updateViewedCards()},500,{leading:!1}),a.tracked=!1,a.openedTimestamp=Date.now(),a.loadingTimeout=new d.Timeout,a.viewedGames=new Set,a.viewedCards=new Set,a.ackedPromotions=new Set,a.scrollerTop=0,a.scrollerBottom=0,a.nowPlayingCardRefs={},a.gameFeedCardRefs={},a.state={currentActivityColumnCount:0,gameFeedColumnCount:0,isWhatsNewEmpty:null,shouldUseSmallCarousel:z()},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions),y.default.track(j.AnalyticEvents.ACTIVITY_FEED_VIEWED);var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&f.default.wait(function(){return N.scanForLocalApplications()}),T.default.shouldFetch()&&f.default.wait(function(){return(0,O.fetchPromotions)()})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions),this.trackExited(),this.loadingTimeout.stop(),this.handleScroll.cancel()},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return N.scanForLocalApplications()}),this.tracked||!this.props.loaded||e.loaded||this.loadingTimeout.start(W,this.trackLoaded)},t.prototype.trackPromotion=function(e,t){y.default.track(j.AnalyticEvents.PROMOTION_VIEWED,o({load_id:this.props.loadId,promotion_id:""+e.id,list_index:t,location_page:j.AnalyticsPages.ACTIVITY_FEED,location_section:j.AnalyticsSections.HERO,location_object:j.AnalyticsObjects.CAROUSEL},e.destination.type===j.PromotionTypes.GAME?e.destination.sku.getAnalyticsData():null))},t.prototype.renderNowPlayingSection=function(){var e=this,t=this.props,n=t.isExperiencedFeedUser,a=t.nowPlayingCards,o=this.state.isWhatsNewEmpty;return n&&!0!==o&&0===a.length?null:r(U.default,{items:a,renderEmpty:this.renderNowPlayingEmpty,renderItem:this.renderItem,renderHeader:function(){return e.renderNowPlayingHeader()},maxColumns:2,getItemId:this.getItemId,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleNowPlayingColumnChange})},t.prototype.renderBody=function(){var e=this.props,t=e.nowPlayingCards,n=e.quickLauncherApplications,a=h.default.isWindows()?r(x.default,{applicationItems:n,className:H.default.quickLauncher}):null,o=this.renderNowPlayingSection(),i=r(M.default,{hasNowPlayingSection:null!=o,hasNowPlayingItem:t.length>0,maxColumns:2,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleWhatsNewFeedColumnChange,onEmptyChange:this.handleWhatsNewEmptyChange,onCardRef:this.setWhatsNewFeedCardRef});return r("div",{className:H.default.body},void 0,$,r(I.default,{section:j.AnalyticsSections.HERO},void 0,this.renderNewsCarousel()),r(I.default,{section:j.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,a),r(I.default,{section:j.AnalyticsSections.ACTIVITY_FEED_FEED,object:j.AnalyticsObjects.CARD},void 0,o,i))},t.prototype.render=function(){return this.props.loaded?r(k.default,{direction:k.default.Direction.VERTICAL,className:H.default.feedWrapper},void 0,r(w.default,{title:B.default.Messages.ACTIVITY}),r(D.default,{track:!0,className:H.default.feed,onScroll:this.handleScroll,onUpdate:this.handleScroll,onResize:this.handleScroll},void 0,this.renderBody())):null},t}(i.PureComponent);q.displayName="Feed";var X=(0,c.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,a=e.isLaunching,o=e.isRunning,r=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:r,libraryApplication:t,iconSrc:n.getIconURL(60),splashSrc:n.getSplashURL(300),disabled:a||o,distributor:null!=t?t.getDistributor():null}})});t.default=u.default.connectStores([g.default,T.default,b.default,E.default,C.default,_.default],function(){return{nowPlayingCards:g.default.nowPlayingCards,news:g.default.news,promotions:T.default.promotions.map(function(e){return{promotion:e,application:e.destination.type===j.PromotionTypes.GAME?C.default.getGame(e.destination.sku.applicationId):null}}),importGamesEnabled:S.default.importGamesEnabled,gamesDBLastFetched:C.default.lastFetched,quickLauncherApplications:X(_.default.launchableApplicationViewItems),isExperiencedFeedUser:E.default.isExperiencedFeedUser,isFocused:b.default.isFocused(),loaded:g.default.loaded,loadId:g.default.loadId}})(q),e.exports=t.default},7801:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=h(n(1)),i=p(n(516)),l=h(n(6215)),s=h(n(980)),u=p(n(367)),d=p(n(7800)),f=n(0),c=p(n(5788));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var m=o(i.default,{title:"ChatX"}),y=o(d.default,{}),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){s.mount(),l.setHomeLink(f.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){s.unmount()},t.prototype.render=function(){return o(u.default,{page:f.AnalyticsPages.ACTIVITY_FEED,root:!0},void 0,o("div",{className:c.default.activityFeed},void 0,m,y))},t}(r.PureComponent);v.displayName="ActivityFeed",t.default=v,e.exports=t.default},7802:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=x(n(1)),i=F(n(9)),l=n(218),s=F(n(3)),u=F(n(7801)),d=F(n(7221)),f=F(n(1213)),c=F(n(6358)),p=F(n(7206)),h=F(n(7174)),m=F(n(7167)),y=F(n(7055)),v=F(n(6996)),g=F(n(6981)),_=F(n(6978)),E=F(n(6976)),S=F(n(26)),T=F(n(369)),C=F(n(527)),b=F(n(922)),N=F(n(221)),O=F(n(18)),I=F(n(66)),A=F(n(5941)),M=F(n(277)),R=F(n(362)),P=F(n(5972)),L=F(n(190)),w=x(n(980)),D=F(n(11)),U=n(0),k=F(n(5666));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=s.default.connectStores([A.default,T.default,M.default,O.default,N.default,b.default,C.default,R.default],function(){var e=N.default.isDisabled()?null:N.default.getChannelId(),t=R.default.getMode(e);return{guilds:T.default.getSortedGuilds(),channels:O.default.getChannels(),selectedGuildId:b.default.getGuildId(),selectedVoiceGuildId:N.default.isDisabled()?null:N.default.getGuildId(),selectedVoiceChannelId:e,selectedPrivateChannelId:I.default.getChannelId(U.ME),unreadGuilds:A.default.getUnreadGuilds(),mentionCounts:A.default.getMentionCounts(),totalUnavailableGuilds:M.default.totalUnavailableGuilds,scrollTop:C.default.getGuildListDimensions().scrollTop,mode:t}})(c.default);var V=o(h.default,{}),Y=o(g.default,{}),W=o(E.default,{}),z=o(_.default,{}),K=o(m.default,{}),$=s.default.connectStores([b.default],function(){return{selectedGuildId:b.default.getGuildId()}})(function(e){function t(){return G(this,t),B(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props.selectedGuildId,t=window.location.pathname.startsWith(U.Routes.APPLICATION_STORE)?k.default.hiddenOnMobileStore:null;return o(S.default,{className:k.default.container},void 0,o(H,{className:t}),o(S.default,{direction:S.default.Direction.VERTICAL,className:k.default.base,style:{marginLeft:0}},void 0,o(S.default.Child,{wrap:!0,grow:0,shrink:0,className:t},void 0,V),o(S.default,{className:k.default.spacer},void 0,o("div",{className:(0,i.default)(k.default.channels,t)},void 0,e?o(p.default,{guildId:e}):Y,W,z,K),o(l.Switch,{},void 0,o(l.Route,{path:U.Routes.ACTIVITY,component:u.default}),o(l.Route,{path:U.Routes.GAME_LIBRARY,component:d.default}),o(l.Route,{path:U.Routes.APPLICATION_STORE,component:f.default}),o(l.Route,{path:U.Routes.ME,exact:!0,component:v.default}),o(l.Route,{path:U.Routes.CHANNEL(U.ME,":channelId"),component:y.default}),o(l.Route,{path:U.Routes.CHANNEL(":guildId",":channelId?"),component:y.default})))))},t}(r.PureComponent));t.default=s.default.connectStores([L.default,P.default],function(){return{hasLoadedExperiments:L.default.hasLoadedExperiments,hasHandledRedirect:P.default.hasHandledRedirect}})(function(e){function t(){return G(this,t),B(this,e.apply(this,arguments))}return j(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.hasLoadedExperiments,n=e.hasHandledRedirect,a=e.match;!D.default.isDesktop()||t||n||a.url!==U.Routes.FRIENDS||w.handleRedirect()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){D.default.isDesktop()&&e.hasLoadedExperiments&&!this.props.hasLoadedExperiments&&!this.props.hasHandledRedirect&&this.props.match.url===U.Routes.FRIENDS&&w.handleRedirect()},t.prototype.render=function(){return r.createElement($,this.props)},t}(r.PureComponent)),e.exports=t.default},7803:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=w(n(3)),l=w(n(7802)),s=w(n(6974)),u=w(n(6972)),d=w(n(6970)),f=w(n(6969)),c=w(n(6968)),p=w(n(6967)),h=w(n(6965)),m=w(n(6961)),y=w(n(918)),v=w(n(1002)),g=w(n(14)),_=w(n(30)),E=w(n(929)),S=w(n(5937)),T=w(n(6293)),C=n(136),b=n(0),N=w(n(6942)),O=w(n(6941)),I=w(n(162)),A=w(n(224)),M=w(n(137)),R=w(n(40)),P=w(n(11)),L=w(n(941));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e){var t=e.params,n=t.guildId,a=t.channelId,o=t.messageId;return{guildId:n||b.ME,channelId:a,messageId:o}}var k=o(s.default,{}),F=o(u.default,{}),x=o(d.default,{}),G=o(f.default,{}),B=o(c.default,{}),j=o(m.default,{}),H=o(p.default,{}),V=o(h.default,{}),Y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=D(this,e.call.apply(e,[this].concat(r))),a.shake=function(e){var t=e.duration,n=e.intensity;a.refs.shakeable&&a.refs.shakeable.shake(t,n)},D(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){C.ComponentDispatch.subscribe(b.ComponentActions.SHAKE_APP,this.shake),P.default.setZoomFactor(L.default.zoom),this.checkGuildAndChannel(),this.jumpToMessageOnConnect();var e=g.default.getToken();null!=e&&y.default.startSession(e),S.default.setLayout(T.default),S.default.enable()},t.prototype.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},t.prototype.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(b.ComponentActions.SHAKE_APP,this.shake),S.default.disable()},t.prototype.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=U(e),n=t.guildId,a=t.channelId,o=t.messageId;(function(e){return null!=e&&(e===b.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(a)?(A.default.selectGuild(n),I.default.selectChannel(n,a,o)):R.default.replaceWith(this.props.defaultRoute)}},t.prototype.jumpToMessageOnConnect=function(){var e=this.props.match;if(null!=e){var t=U(e),n=t.channelId,a=t.messageId;a&&v.default.call(function(){return M.default.jumpToMessage(n,a,!0,"Page Load")})}},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.match;return r.createElement(N.default,{ref:"shakeable",className:"app flex-vertical theme-"+t},o(O.default,{className:"flex-vertical flex-spacer"},void 0,o(l.default,{match:n})),k,F,x,G,B,j,H,V)},t}(r.Component);Y.displayName="Chat",t.default=i.default.connectStores([_.default,E.default],function(){return{theme:_.default.theme,defaultRoute:E.default.defaultRoute}})(Y),e.exports=t.default},7804:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(45))),i=E(n(59)),l=E(n(9)),s=E(n(938)),u=E(n(6)),d=E(n(157)),f=E(n(3)),c=E(n(156)),p=n(0),h=E(n(5992)),m=E(n(373)),y=E(n(6638)),v=E(n(6216)),g=E(n(5991)),_=E(n(5884));function E(e){return e&&e.__esModule?e:{default:e}}var S=(0,r.default)({displayName:"ConnectingModal",mixins:[f.default.StoreListenerMixin(m.default,y.default),i.default,s.default],videoRef:null,getInitialState:function(){var e=g.default[Math.floor(Math.random()*g.default.length)],t=e[0],n=e[1],a=e[2],o=m.default.isConnected();return{ready:o,quote:t,author:n,type:a,hide:o,problems:!1,shouldRender:!o,opacity:new c.default.Value(o?0:1)}},getStateFromStores:function(){return{connected:m.default.isConnected(),incident:y.default.getIncident()}},componentDidMount:function(){this.setProblemsTimeout()},UNSAFE_componentWillUpdate:function(e,t){var n=this,a=this.state,o=t.connected&&t.ready&&!t.hide&&!t.problems;if(a.connected!==t.connected||o)if(t.connected&&null!=this.videoRef){var r=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);this.setTimeout(function(){n.setState(function(e){return{problems:!1,hide:e.connected}})},r)}else this.setState({problems:!1,hide:t.connected});else a.hide!==t.hide?(t.hide?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),c.default.timing(t.opacity,{toValue:t.hide?0:1,duration:200}).start(function(){return n.setState({shouldRender:!n.state.hide})})):a.problems!==this.state.problems&&this.state.problems&&v.default.checkIncidents()},handleReady:function(){this.setState({ready:!0})},setVideoRef:function(e){this.videoRef=e},setProblemsTimeout:function(){var e=this;null==this._problemsTimeout&&(this._problemsTimeout=this.setTimeout(function(){return e.setState({problems:!0})},1e4))},clearProblemsTimeout:function(){this.clearTimeout(this._problemsTimeout),this._problemsTimeout=null},render:function(){if(this.state.shouldRender){var e,t=this.state.quote,n=this.state.connected?u.default.Messages.READY:u.default.Messages.CONNECTING;null!=this.state.incident&&(t=this.state.incident.name,n=this.state.incident.incident_updates[0].body);var a=void 0;switch(this.state.type){case"facebook":a=u.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/ChatXapp/"});break;case"instagram":a=u.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":a=u.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return a&&(a=o("div",{className:_.default.attribution},void 0,a)),o(c.default.div,{className:_.default.container,style:{opacity:this.state.opacity}},void 0,o("div",{className:_.default.content},void 0,o(h.default,{autoPlay:!0,loop:!this.state.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?_.default.ready:null}),o("div",{className:_.default.quote},void 0,t),a,o("div",{className:_.default.status},void 0,n)),o("div",{className:(0,l.default)(_.default.problems,(e={},e[_.default.slideIn]=this.state.problems,e))},void 0,o("div",{className:_.default.problemsText},void 0,u.default.Messages.CONNECTING_PROBLEMS_CTA),o("div",{},void 0,o(d.default,{className:_.default.twitterLink,href:"//twitter.com/ChatXapp",target:"_blank"},void 0,u.default.Messages.TWEET_US),o(d.default,{className:_.default.statusLink,href:p.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,u.default.Messages.SERVER_STATUS))))}return null}}),T=o(S,{}),C=(0,r.default)({displayName:"Connecting",mixins:[f.default.StoreListenerMixin(m.default),i.default],getStateFromStores:function(){return{isTryingToConnect:m.default.isTryingToConnect()}},render:function(){return this.state.isTryingToConnect?T:null}});t.default=C,e.exports=t.default}}]);
//# sourceMappingURL=b6c9767fc3d2edd33373.js.map